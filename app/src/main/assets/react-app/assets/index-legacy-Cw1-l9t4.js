!function(){function e(e,t,r,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(a,n)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=o.call(r)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}System.register(["./index-legacy-CFVrgsj-.js","./use-service-legacy-DWWO7tqv.js","./Image-legacy-DMzgUcx4.js","./DateUtils-legacy-BTmsWpOC.js","./Web-legacy-lEjlCpP0.js","./dayjs.min-legacy-BvuYscht.js","./Delete-legacy-DPa7t_TP.js","./common-legacy-Bipzn7I-.js","./TextField-legacy-DSeCJShW.js","./Check-legacy-CHf1UKB1.js","./Card-legacy-BrrMWqk_.js","./CardMedia-legacy-V2Pu8BCo.js","./Divider-legacy-82D3r7H2.js","./yup-legacy-CFjmc5wq.js","./survey-legacy-BBPrODqM.js","./TablePagination-legacy-DchViKzu.js","./Checkbox-legacy-Dxnzi2oA.js","./SwitchBase-legacy-BcHcptxW.js","./Tabs-legacy-BsWkf7Ra.js","./radioClasses-legacy-DZADyAfe.js","./tableRowClasses-legacy-DcI4kdDa.js","./FormControlLabel-legacy-CAQf1sB2.js","./TableCell-legacy-CCGcTyA_.js","./Toolbar-legacy-B1Njz2oJ.js"],(function(t,a){"use strict";var o,i,s,l,c,d,m,u,p,_,v,h,g,x,y,f,b,j,C,w,S,I,z,O,k,T,N,$,D,P,E,A,B,M,F,R,W,H,U,V,G,L,Y,Q,Z,q,K,X,J,ee,te,re,ae,ne,oe,ie,se,le,ce,de,me,ue,pe,_e,ve,he,ge,xe,ye,fe;return{setters:[e=>{o=e.h,i=e.r,s=e.b,l=e._,c=e.d,d=e.j,m=e.q,u=e.B,p=e.s,_=e.y,v=e.A},e=>{h=e.f,g=e.j,x=e.x,y=e.c,f=e.e,b=e.K,j=e.I,C=e.T,w=e.bd,S=e.M,I=e.R,z=e.U,O=e.aL,k=e.Z,T=e.aN,N=e.be,$=e.bf,D=e.aK,P=e.aD,E=e.aY,A=e.aO,B=e.J},e=>{M=e.u,F=e.d,R=e.a,W=e.D},e=>{H=e.s,U=e.l},e=>{V=e.b,G=e.g,L=e.C,Y=e.E,Q=e.S,Z=e.a,q=e.A,K=e.i,X=e.d,J=e.c,ee=e.e,te=e.u,re=e.F,ae=e.R,ne=e.f,oe=e.h,ie=e.j},e=>{se=e.d},e=>{le=e.d},e=>{ce=e.b},e=>{de=e.T},e=>{me=e.C},e=>{ue=e.C},e=>{pe=e.C},e=>{_e=e.D},e=>{ve=e.c,he=e.a,ge=e.o,xe=e.L},e=>{ye=e.S},e=>{fe=e.T},null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent="._mainContainer_1kl2v_1{margin:auto;min-width:300px;height:calc(100vh - 64px);overflow:auto}._newSurveysButton_1kl2v_8{margin-bottom:48px;justify-content:flex-start}._content_1kl2v_13{display:flex;flex-direction:column;gap:.5rem;margin-top:30px}._loadingWrapper_1kl2v_20{width:100%;height:100%;text-align:center;padding-top:50px}._allButton_1kl2v_27{margin-top:2rem!important;background-color:#16205b!important;color:#fff!important;border-radius:50px!important;font-size:1.5rem!important;padding:.25rem 6rem!important;text-transform:none!important}@media only screen and (max-width: 1024px){._content_1kl2v_13{padding:0 1rem}}._surveyCardsContainer_1kl2v_43{margin-top:24px;padding:16px;border:2px dashed #ccc;border-radius:8px;background-color:#f9f9f9}._noSurveys_1kl2v_51{text-align:center}._surveyHeader_966ma_1{padding:5px;color:#fff;text-transform:capitalize}._contentCard_966ma_7{padding:5px}._actionBtn_966ma_11{margin-top:30px;display:flex;justify-content:space-between}._card_966ma_17{border-radius:5px!important;box-shadow:none!important}._cardContent_966ma_22{display:flex;align-items:center;gap:2rem}._imageContainer_966ma_28{padding:1rem;background-color:#f7f8fc;display:flex;justify-content:center}._surveyContent_966ma_35{display:flex;align-items:center;gap:7rem;flex:1;width:100%}._surveyTitle_966ma_43{width:13rem;color:#181735}._surveyStatus_966ma_48{display:flex;align-items:center;gap:.5rem;width:5rem}._badge_966ma_55{height:.5rem;width:.5rem;border-radius:99999px}._textTransform_966ma_61{text-transform:capitalize}._surveyResponse_966ma_65{display:flex;align-items:center;width:9rem;gap:.5rem}._surveyActions_966ma_72{display:flex;flex-direction:row!important;justify-content:flex-start;gap:.5rem;margin-right:1rem;flex:auto;width:15rem}._iconButton_966ma_82{border:2px solid #d7d7d7!important;border-radius:14px!important;padding:.3rem 1rem!important;height:fit-content;width:6rem}@media only screen and (max-width: 1024px){._cardContent_966ma_22{flex-direction:column;padding:0rem 1rem 1rem}._surveyContent_966ma_35{flex-direction:column;gap:1rem;align-items:flex-start}._imageContainer_966ma_28,._surveyActions_966ma_72{width:100%}}@media only screen and (min-width: 1024px) and (max-width: 1440px){._surveyContent_966ma_35{gap:2rem}._surveyResponse_966ma_65{width:7rem}}._logo_966ma_126{display:flex;justify-content:center;align-items:center}._logo_966ma_126 img{margin:auto;display:block;object-fit:contain}._logoImageWrapper_966ma_139{position:relative}._imageOverlay_966ma_143{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);opacity:1;transition:opacity .3s ease}._cameraIconWrapper_966ma_155{position:absolute;top:8px;right:8px;opacity:0;transition:opacity .3s ease;z-index:1}._logoImageWrapper_966ma_139:hover ._cameraIconWrapper_966ma_155{opacity:1}._cameraIcon_966ma_155{color:#fff;pointer-events:none}._logoImageWrapper_966ma_139{position:relative;display:inline-block;flex:1}._relativeContainer_966ma_182{position:relative;background-color:rgba(0,0,0,.4)}._absoluteOverlay_966ma_187{width:100%;position:absolute;z-index:99999;bottom:0;color:#fff}._container_966ma_200{display:flex;flex-direction:column;width:100%}._truncatedText_966ma_206{overflow:hidden;text-overflow:ellipsis;display:inline-block;line-height:1.5em;max-height:4.5em;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;white-space:normal;word-wrap:break-word}._exampleTruncatedText_966ma_220{overflow:hidden;text-overflow:ellipsis;display:inline-block;line-height:1.5em;max-height:15em;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:10;line-clamp:10;white-space:normal;word-wrap:break-word}._titleContainer_966ma_235{display:flex;align-items:center;width:100%;justify-content:space-between;position:relative}._surveyLink_966ma_243{flex-grow:1;color:inherit}._nameIcon_966ma_248{position:absolute!important;right:3px;opacity:0}._titleContainer_966ma_235:hover ._nameIcon_966ma_248{opacity:1}._descriptionContainer_966ma_259{display:flex;align-items:center;width:100%;justify-content:space-between;position:relative}._truncatedText_966ma_206{flex-grow:1;color:inherit}._descriptionIcon_966ma_272{opacity:0;transition:opacity .2s ease-in-out}._descriptionContainer_966ma_259:hover ._descriptionIcon_966ma_272{opacity:1}._photoIcon_966ma_281{position:absolute;top:5px;right:5px;opacity:0;cursor:pointer}._logoImageWrapper_966ma_139:hover ._photoIcon_966ma_281{opacity:1}._highlight_966ma_294{animation:_fadeHighlight_966ma_1 3s ease-in-out;background-color:rgba(245,245,220,.7)}@keyframes _fadeHighlight_966ma_1{0%{background-color:rgba(245,245,220,.7)}to{background-color:rgba(245,245,220,.2)}}._exampleSurveysContainer_apkeh_1{background-color:#f7f7f9;padding:16px;margin-bottom:48px;border-radius:8px}._createUserCard_zrfc2_1._createUserCard_zrfc2_1{padding:2rem;border-radius:20px;box-shadow:rgba(0,0,0,.1) 0 4px 6px -1px,rgba(0,0,0,.06) 0 2px 4px -1px;margin-bottom:50px}._formGroup_zrfc2_9._formGroup_zrfc2_9{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:2rem}._rightContainer_zrfc2_16._rightContainer_zrfc2_16{display:flex;flex-direction:row;gap:2.5rem;flex:auto;justify-content:flex-end}._createButton_zrfc2_24._createButton_zrfc2_24{text-transform:none;color:#fff;padding:.75rem 7rem;background-color:#04bdf3;border-radius:20px;height:fit-content;transition:background-color .3s ease,color .3s ease,border .3s ease}._createButton_zrfc2_24._createButton_zrfc2_24:hover{border:1px solid #04bdf3;color:#04bdf3;background-color:#fff}._surveyNameInput_zrfc2_39{padding-left:14px}@media only screen and (max-width: 768px){._createUserCard_zrfc2_1._createUserCard_zrfc2_1{padding:1rem}._formGroup_zrfc2_9._formGroup_zrfc2_9{flex-direction:column}._rightContainer_zrfc2_16._rightContainer_zrfc2_16{width:100%;flex-direction:column;gap:2rem}._selectInput_zrfc2_55{width:100%!important}._surveyNameInput_zrfc2_39._surveyNameInput_zrfc2_39{width:100%}}._errorText_zrfc2_63{color:#eb5757!important;padding-left:14px}\n/*$vite$:1*/",document.head.appendChild(a),t("default",(function(){var e,t,a,o;const s=I("survey"),l=n(i.useState(null),2),c=l[0],m=l[1],p=n(i.useState(!0),2),_=p[0],h=p[1],g=n(i.useState(1),2),x=g[0],y=g[1],f=n(i.useState(5),2),b=f[0],w=f[1],N=n(i.useState("all"),2),M=N[0],F=N[1],R=n(i.useState("last_modified_desc"),2),H=R[0],U=R[1],V=n(i.useState(!1),2),G=V[0],L=V[1],Y=n(i.useState(),2),Q=Y[0],Z=Y[1],q=n(i.useState(null),2),K=q[0],X=q[1],J=z(),ee=S("manage").t,te=()=>{s.getAllSurveys(x,b,M,H).then((e=>{e&&(h(!1),m(e),Oe(!1),$e(!1))})).catch((e=>{h(!1)}))};i.useEffect((()=>{te()}),[x,b,H,M]);const re=(e,t)=>{m((a=>r(r({},a),{},{surveys:a.surveys.map((a=>a.id===e?r(r({},a),{},{status:t}):a))})))},ae=()=>{const e=B.getUser().roles;return e.indexOf(ie.SUPER_ADMIN)>-1||e.indexOf(ie.SURVEY_ADMIN)>-1},se=n(i.useState(""),2),le=se[0],ce=se[1],de=n(i.useState(""),2),me=de[0],ue=de[1],pe=n(i.useState(null),2),_e=pe[0],ve=pe[1],he=n(i.useState(!1),2),ge=he[0],xe=he[1],ye=n(i.useState(ee("action_btn.delete")),2),be=ye[0],je=ye[1],Ce=n(i.useState(!1),2),we=Ce[0],Oe=Ce[1],Te=n(i.useState(!1),2),Ne=Te[0],$e=Te[1],De=n(i.useState(!1),2),Pe=De[0],Ee=De[1],Ae=()=>{Oe(!0)},Be=()=>{$e(!0)},Me=e=>{Z(e),L(!0)},Fe=e=>{J(k(!0)),s.deleteSurvey(e).then((()=>{te()})).catch((e=>{J(k(!1))})).finally((()=>{J(k(!1))}))},Re=e=>{J(k(!0)),s.closeSurvey(e).then((t=>{re(e,"closed")})).catch((e=>{e.name==T.INVALID_SURVEY_DATES.name&&setSurveyDateError(ee(`processed_errors.${processed.name}`))})).finally((()=>{J(k(!1))}))},We=(e,t)=>{m((a=>{const n=a.surveys.map((a=>a.id===e?r(r({},a),{},{name:t}):a));return r(r({},a),{},{surveys:n})}))},He=(e,t)=>{m((a=>{const n=a.surveys.map((a=>a.id===e?r(r({},a),{},{description:t}):a));return r(r({},a),{},{surveys:n})}))},Ue=(e,t)=>{m((a=>{const n=a.surveys.map((a=>a.id===e?r(r({},a),{},{image:t}):a));return r(r({},a),{},{surveys:n})}))},Ve=$();return d.jsxs(u,{className:ke.mainContainer,children:[d.jsx(D,{sx:{marginBottom:"48px"},children:d.jsxs(u,{className:ke.content,children:[d.jsxs(O,{className:ke.newSurveysButton,direction:"row",spacing:2,children:[ae()&&!we&&d.jsx(P,{variant:"contained",color:"primary",startIcon:d.jsx(Se,{}),onClick:Ae,children:ee("create_new_survey")}),ae()&&!Ne&&d.jsx(P,{variant:"contained",color:"primary",startIcon:d.jsx(Ie,{}),onClick:Be,children:ee("copy_example_surveys")}),ae()&&d.jsx(P,{variant:"contained",color:"primary",startIcon:d.jsx(ne,{}),onClick:()=>{Ee(!0),L(!0)},children:ee("import_survey")})]}),we&&d.jsx(E,{in:we,timeout:300,children:d.jsxs("div",{style:{position:"relative"},children:[d.jsx(j,{onClick:()=>{Oe(!1)},"aria-label":"close",style:r(r({position:"absolute",top:0},"ltr"===Ve?{right:0}:{left:0}),{},{color:"black",zIndex:1}),children:d.jsx(A,{color:"#000"})}),d.jsx(st,{onSurveyCreated:e=>{te(),X(e.name),setTimeout((()=>X(null)),3e3)}})]})}),Ne&&d.jsx(E,{in:Ne,timeout:300,children:d.jsxs("div",{style:{position:"relative"},children:[d.jsx(j,{onClick:()=>{$e(!1)},"aria-label":"close",style:r(r({position:"absolute",top:0},"ltr"===Ve?{right:0}:{left:0}),{},{color:"black",zIndex:1}),children:d.jsx(A,{color:"#000"})}),d.jsx(nt,{onClone:e=>Me(e)})]})}),(null==c||null===(e=c.surveys)||void 0===e?void 0:e.length)>0?d.jsx(rt,{filter:M,onFilterSelected:e=>{y(1),F(e.target.value)},sort:H,onSortSelected:e=>{y(1),U(e.target.value)}}):d.jsx(d.Fragment,{}),d.jsx(u,{className:ke.surveyCardsContainer,children:_?d.jsx(v,{}):d.jsx(d.Fragment,{children:(null==c||null===(t=c.surveys)||void 0===t?void 0:t.length)>0?d.jsx(u,{sx:{mt:3,columnGap:2,display:"grid",rowGap:{xs:4,md:5},gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fit, minmax(280px, 1fr))",md:"repeat(auto-fit, minmax(330px, 350px))"}},children:null==c||null===(a=c.surveys)||void 0===a?void 0:a.map((e=>d.jsx(tt,{survey:e,highlight:e.name===K,onStatusChange:re,onClone:()=>Me(e),onDelete:()=>(e=>{ue("delete"),je(ee("action_btn.delete")),ve(e),ce(ee("edit_survey.delete_survey",{survey_name:e.name})),xe(!0)})(e),onClose:()=>(e=>{ue("close"),je(ee("action_btn.close")),ve(e),ce(ee("edit_survey.close_survey",{survey_name:e.name})),xe(!0)})(e),onUpdateTitle:We,onUpdateDescription:He,onUpdateImage:Ue},e.id)))}):d.jsxs("div",{className:ke.noSurveys,children:[d.jsx(ze,{sx:{fontSize:48,color:"#ccc"}}),d.jsxs(C,{variant:"h6",color:"textSecondary",sx:{mt:2},children:[ee("create_survey.empty_state_message"),!Ne&&!we&&d.jsxs(d.Fragment,{children:[d.jsx(P,{variant:"contained",color:"primary",sx:{mx:1},startIcon:d.jsx(Se,{}),onClick:Ae,children:ee("create_new_survey")}),ee("create_survey.or"),d.jsxs(P,{variant:"contained",color:"primary",sx:{mx:1},startIcon:d.jsx(Ie,{}),onClick:Be,children:[ee("copy_example_surveys"),ee("create_survey.empty_state_cta_copy")]})]})]})]})})}),(null==c||null===(o=c.surveys)||void 0===o?void 0:o.length)>0?d.jsx(fe,{rowsPerPageOptions:[5,10,20,50],component:"div",labelDisplayedRows:({from:e,to:t,count:r,page:a})=>ee("responses.label_displayed_rows",{from:e,to:t,count:r}),labelRowsPerPage:ee("responses.label_surveys_per_page"),count:null==c?void 0:c.totalCount,rowsPerPage:b,page:x-1,onPageChange:(e,t)=>{y(t+1)},onRowsPerPageChange:e=>{w(parseInt(e.target.value,10)),y(1)}}):d.jsx(d.Fragment,{})]})}),d.jsx(oe,{importSurvey:Pe,open:G,onClose:e=>{L(!1),Ee(!1),e&&te()},onSurveyCloned:e=>{X(e),setTimeout((()=>X(null)),3e3)},survey:Q}),d.jsx(W,{open:ge,description:le,handleClose:()=>xe(!1),handleDelete:()=>{"delete"===me?(Fe(_e.id),xe(!1)):"close"===me&&(Re(_e.id),xe(!1))},title:be})]})}));const be=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],je=h("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ce=h("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.badge,t[r.variant],t[`anchorOrigin${o(r.anchorOrigin.vertical)}${o(r.anchorOrigin.horizontal)}${o(r.overlap)}`],"default"!==r.color&&t[`color${o(r.color)}`],r.invisible&&t.invisible]}})((({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r,a;return(null!=(r=e.vars)?r:e).palette[t].main&&(null!=(a=e.vars)?a:e).palette[t].contrastText})).map((t=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${V.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${V.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${V.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${V.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${V.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${V.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${V.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${V.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}})),we=i.forwardRef((function(e,t){var r,a,n,i,m,u;const p=g({props:e,name:"MuiBadge"}),_=p.anchorOrigin,v=void 0===_?{vertical:"top",horizontal:"right"}:_,h=p.className,f=p.component,b=p.components,j=void 0===b?{}:b,C=p.componentsProps,w=void 0===C?{}:C,S=p.children,I=p.overlap,z=void 0===I?"rectangular":I,O=p.color,k=void 0===O?"default":O,T=p.invisible,N=void 0!==T&&T,$=p.max,D=void 0===$?99:$,P=p.badgeContent,E=p.slots,A=p.slotProps,B=p.showZero,F=void 0!==B&&B,R=p.variant,W=void 0===R?"standard":R,H=s(p,be),U=function(e){const t=e.badgeContent,r=e.invisible,a=void 0!==r&&r,n=e.max,o=void 0===n?99:n,i=e.showZero,s=void 0!==i&&i,l=M({badgeContent:t,max:o});let c=a;!1!==a||0!==t||s||(c=!0);const d=c?l:e,m=d.badgeContent,u=d.max,p=void 0===u?o:u;return{badgeContent:m,invisible:c,max:p,displayValue:m&&Number(m)>p?`${p}+`:m}}({max:D,invisible:N,badgeContent:P,showZero:F}),V=U.badgeContent,L=U.invisible,Y=U.max,Q=U.displayValue,Z=M({anchorOrigin:v,color:k,overlap:z,variant:W,badgeContent:P}),q=L||null==V&&"dot"!==W,K=q?Z:p,X=K.color,J=void 0===X?k:X,ee=K.overlap,te=void 0===ee?z:ee,re=K.anchorOrigin,ae=void 0===re?v:re,ne=K.variant,oe=void 0===ne?W:ne,ie="dot"!==oe?Q:void 0,se=l({},p,{badgeContent:V,invisible:q,max:Y,displayValue:ie,showZero:F,anchorOrigin:ae,color:J,overlap:te,variant:oe}),le=(e=>{const t=e.color,r=e.anchorOrigin,a=e.invisible,n=e.overlap,i=e.variant,s=e.classes,l=void 0===s?{}:s,c={root:["root"],badge:["badge",i,a&&"invisible",`anchorOrigin${o(r.vertical)}${o(r.horizontal)}`,`anchorOrigin${o(r.vertical)}${o(r.horizontal)}${o(n)}`,`overlap${o(n)}`,"default"!==t&&`color${o(t)}`]};return y(c,G,l)})(se),ce=null!=(r=null!=(a=null==E?void 0:E.root)?a:j.Root)?r:je,de=null!=(n=null!=(i=null==E?void 0:E.badge)?i:j.Badge)?n:Ce,me=null!=(m=null==A?void 0:A.root)?m:w.root,ue=null!=(u=null==A?void 0:A.badge)?u:w.badge,pe=x({elementType:ce,externalSlotProps:me,externalForwardedProps:H,additionalProps:{ref:t,as:f},ownerState:se,className:c(null==me?void 0:me.className,le.root,h)}),_e=x({elementType:de,externalSlotProps:ue,ownerState:se,className:c(le.badge,null==ue?void 0:ue.className)});return d.jsxs(ce,l({},pe,{children:[S,d.jsx(de,l({},_e,{children:ie}))]}))})),Se=f(d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Ie=f(d.jsx("path",{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H9V4h9zM3 15v-2h2v2zm0-5.5h2v2H3zM10 20h2v2h-2zm-7-1.5v-2h2v2zM5 22c-1.1 0-2-.9-2-2h2zm3.5 0h-2v-2h2zm5 0v-2h2c0 1.1-.9 2-2 2M5 6v2H3c0-1.1.9-2 2-2"}),"CopyAll"),ze=f(d.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Oe=f(d.jsx("path",{d:"M6 6h12v12H6z"}),"Stop"),ke={mainContainer:"_mainContainer_1kl2v_1",newSurveysButton:"_newSurveysButton_1kl2v_8",content:"_content_1kl2v_13",loadingWrapper:"_loadingWrapper_1kl2v_20",allButton:"_allButton_1kl2v_27",surveyCardsContainer:"_surveyCardsContainer_1kl2v_43",noSurveys:"_noSurveys_1kl2v_51"};var Te={},Ne=m;Object.defineProperty(Te,"__esModule",{value:!0});var $e=Te.default=void 0,De=Ne(b()),Pe=d;$e=Te.default=(0,De.default)((0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article");const Ee={surveyHeader:"_surveyHeader_966ma_1",contentCard:"_contentCard_966ma_7",actionBtn:"_actionBtn_966ma_11",card:"_card_966ma_17",cardContent:"_cardContent_966ma_22",imageContainer:"_imageContainer_966ma_28",surveyContent:"_surveyContent_966ma_35",surveyTitle:"_surveyTitle_966ma_43",surveyStatus:"_surveyStatus_966ma_48",badge:"_badge_966ma_55",textTransform:"_textTransform_966ma_61",surveyResponse:"_surveyResponse_966ma_65",surveyActions:"_surveyActions_966ma_72",iconButton:"_iconButton_966ma_82",logo:"_logo_966ma_126",logoImageWrapper:"_logoImageWrapper_966ma_139",imageOverlay:"_imageOverlay_966ma_143",cameraIconWrapper:"_cameraIconWrapper_966ma_155",cameraIcon:"_cameraIcon_966ma_155",relativeContainer:"_relativeContainer_966ma_182",absoluteOverlay:"_absoluteOverlay_966ma_187",container:"_container_966ma_200",truncatedText:"_truncatedText_966ma_206",exampleTruncatedText:"_exampleTruncatedText_966ma_220",titleContainer:"_titleContainer_966ma_235",surveyLink:"_surveyLink_966ma_243",nameIcon:"_nameIcon_966ma_248",descriptionContainer:"_descriptionContainer_966ma_259",descriptionIcon:"_descriptionIcon_966ma_272",photoIcon:"_photoIcon_966ma_281",highlight:"_highlight_966ma_294",fadeHighlight:"_fadeHighlight_966ma_1"};function Ae(e,t){return e?se(e).format("DD MMM YYYY"):""}var Be={},Me=m;Object.defineProperty(Be,"__esModule",{value:!0});var Fe=Be.default=void 0,Re=Me(b()),We=d;Fe=Be.default=(0,Re.default)((0,We.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");var He={},Ue=m;Object.defineProperty(He,"__esModule",{value:!0});var Ve=He.default=void 0,Ge=Ue(b()),Le=d;Ve=He.default=(0,Ge.default)((0,Le.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const Ye=({survey:e,onSave:t,isEditable:r=!0})=>{const a=n(i.useState(!1),2),o=a[0],s=a[1],l=n(i.useState(e.name),2),c=l[0],m=l[1],p=()=>{""===c.trim()?m(e.name):c!==e.name&&t(c,(()=>m(e.name))),s(!1)};return d.jsx(u,{className:Ee.titleContainer,children:o?d.jsxs(d.Fragment,{children:[d.jsx(de,{sx:{px:3,flexGrow:1},value:c,onChange:e=>{const t=e.target.value;t.length<=50&&m(t)},onKeyDown:e=>{"Enter"===e.key&&p()},autoFocus:!0,variant:"standard",fullWidth:!0,InputProps:{style:{color:"white"}}}),d.jsx(j,{className:Ee.saveIcon,onClick:p,sx:{ml:1},children:d.jsx(me,{sx:{color:"white"}})})]}):d.jsxs(d.Fragment,{children:[c.length>20?d.jsx(L,{title:c,showIcon:!1,children:d.jsx(C,{variant:"h4",sx:{px:3},noWrap:!0,children:w(c,18)})}):d.jsx(C,{variant:"h4",sx:{px:3},noWrap:!0,children:w(c,18)}),r&&d.jsx(j,{className:Ee.nameIcon,onClick:e=>{e.stopPropagation(),s(!0)},sx:{ml:1},children:d.jsx(Y,{sx:{color:"white"}})})]})})},Qe=({survey:e,onSave:t,isEditable:r=!0,isExample:a})=>{const o=n(i.useState(!1),2),s=o[0],l=o[1],c=n(i.useState(e.description),2),m=c[0],p=c[1],_=a?450:125,v=()=>{m!==e.description&&t(m,(()=>p(e.description))),l(!1)};return d.jsx(u,{className:Ee.descriptionContainer,children:s?d.jsxs(d.Fragment,{children:[d.jsx(de,{sx:{px:3},value:m,onChange:e=>{p(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&v()},autoFocus:!0,variant:"standard",fullWidth:!0,multiline:!0,rows:3}),d.jsx(j,{className:`${Ee.saveIcon}`,onClick:v,sx:{ml:1},children:d.jsx(me,{sx:{color:"gray"}})})]}):d.jsxs(d.Fragment,{children:[(null==m?void 0:m.length)>_?d.jsx(L,{title:m,showIcon:!1,children:d.jsx(C,{variant:"caption",sx:{px:3,color:m?"inherit":"gray",flexGrow:1},className:`${a?Ee.exampleTruncatedText:Ee.truncatedText}`,children:w(m,_)||"Click to add a description..."})}):d.jsx(C,{variant:"caption",sx:{px:3,color:m?"inherit":"gray",flexGrow:1},className:`${a?Ee.exampleTruncatedText:Ee.truncatedText}`,children:w(m,_)||"Click to add a description..."}),r&&d.jsx(j,{className:`${Ee.descriptionIcon}`,onClick:e=>{e.stopPropagation(),l(!0)},sx:{ml:1},children:d.jsx(Y,{sx:{color:"gray"}})})]})})},Ze="draft",qe="closed",Ke="active",Xe="expired",Je="scheduled",et=e=>{switch(e){case Ze:return"#e9db3e";case qe:return"#d32f2f";case Xe:return"#9d4435";case Je:return"#607d8b";case Ke:return"#669834";default:return}},tt=({survey:e,example:t=!1,highlight:a,onClone:o,onDelete:s,onClose:l,onUpdateTitle:c,onUpdateDescription:m,onUpdateImage:v})=>{const h=S("manage").t,g=(e=>{switch(e.status){case"draft":default:return Ze;case"closed":return qe;case"active":return e.endDate&&H(e.endDate)<Date.now()?Xe:e.startDate&&H(e.startDate)>Date.now()?Je:Ke}})(e),x=I("survey"),y=I("design"),f=n(i.useState(!1),2),b=f[0],w=f[1],N=n(i.useState(null),2),$=N[0],D=N[1],P=p(),E=z(),A=_(),B=()=>{w(!1)};return d.jsxs(d.Fragment,{children:[d.jsx(Q,{}),d.jsx(Z,{open:b,autoHideDuration:6e3,onClose:B,children:d.jsx(q,{onClose:B,severity:"error",children:$})}),d.jsxs(ue,{sx:{"&:hover":{boxShadow:e=>e.customShadows.z24}},className:`${a?Ee.highlight:""}`,children:[d.jsxs(O,{sx:{pb:0},children:[d.jsxs(O,{spacing:.5,sx:{mb:1},children:[d.jsxs(u,{className:Ee.relativeContainer,children:[d.jsx(u,{className:Ee.absoluteOverlay,children:d.jsx(Ye,{survey:e,onSave:(t,a)=>{E(k(!0)),x.putSurvey(r(r({},e),{},{name:t}),e.id).then((()=>{c(e.id,t)})).catch((e=>{e.name==T.DUPLICATE_SURVEY_NAME.name&&(D(h(`processed_errors.${e.name}`)),w(!0),a())})).finally((()=>{E(k(!1))}))},isEditable:K()&&!t})}),d.jsxs(u,{className:Ee.logo,children:[d.jsxs(u,{className:`${Ee.logoImageWrapper}`,children:[d.jsx(pe,{component:"img",image:e.image?ce(e.image,e.id,t):"/qlarr.png",height:"150"}),d.jsx(u,{className:Ee.imageOverlay}),K()&&!e.example&&d.jsx(u,{className:Ee.photoIcon,onClick:t=>{t.stopPropagation(),document.getElementById(`imageInput-${e.id}`).click()},children:d.jsx(F,{className:Ee.cameraIcon})})]}),d.jsx("input",{id:`imageInput-${e.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:t=>{const r=t.target.files[0],a=new FileReader;a.onload=()=>{y.uploadResource(r,e.id).then((t=>{x.putSurvey({image:t.name},e.id).then((r=>{v(e.id,t.name)})).catch((e=>{D(h(`processed_errors.${e.name}`)),w(!0)})).finally((()=>{E(k(!1))}))})).catch((e=>{D(h(`processed_errors.${e.name}`)),w(!0)})).finally((()=>{E(k(!1))}))},a.readAsDataURL(r)}})]})]}),d.jsx(Qe,{survey:e,isExample:t,onSave:t=>{E(k(!0)),x.putSurvey(r(r({},e),{},{description:t}),e.id).then((()=>{m(e.id,t)})).catch((e=>{})).finally((()=>{E(k(!1))}))},isEditable:K()&&!t}),!t&&d.jsxs(d.Fragment,{children:[d.jsxs(O,{direction:"row",alignItems:"center",spacing:.5,sx:{px:3,typography:"body2",color:"text.secondary"},children:[d.jsx("span",{style:{backgroundColor:et(g)},className:Ee.badge})," ",d.jsx(C,{variant:"subtitle2",className:Ee.textTransform,children:h(`status.${g}`)})]}),d.jsxs(u,{sx:{px:3,display:"flex",gap:2,my:.5},children:[!t&&"closed"!==e.status&&!1===e.latestVersion.published&&d.jsx(L,{title:"Has unpublished changes",showIcon:!1,children:d.jsx(Ve,{sx:{color:"text.secondary"}})}),d.jsx(L,{showIcon:!1,title:`Complete Responses: ${e.completeResponseCount}`,children:d.jsx(we,{badgeContent:e.completeResponseCount,color:"primary",anchorOrigin:{vertical:"top",horizontal:"right"},children:d.jsx(X,{sx:{color:"text.secondary"}})})}),d.jsx(L,{showIcon:!1,title:e.surveyQuota>0?`Quota: ${e.surveyQuota}`:"No Quota",children:d.jsx(we,{badgeContent:e.surveyQuota>0?e.surveyQuota:0,color:"primary",anchorOrigin:{vertical:"top",horizontal:"right"},children:d.jsx(Fe,{sx:{color:"text.secondary"}})})})]})]})]}),d.jsxs(C,{variant:"caption",sx:{px:3,color:"text.disabled"},children:[d.jsx("strong",{children:h("edit_survey.metadata.created")}),":"," ",Ae(e.creationDate)]}),d.jsxs(C,{variant:"caption",sx:{px:3,color:"text.disabled"},children:[d.jsx("strong",{children:h("edit_survey.metadata.last_modified")}),":"," ",Ae(e.lastModified)]}),!t&&e.startDate&&d.jsxs(C,{variant:"caption",sx:{px:3,color:"text.disabled"},children:[d.jsx("strong",{children:h("edit_survey.metadata.start_date")}),":"," ",Ae(e.startDate)]}),!t&&e.endDate&&d.jsxs(C,{variant:"caption",sx:{px:3,color:"text.disabled"},children:[d.jsx("strong",{children:h("edit_survey.metadata.end_date")}),":"," ",Ae(e.endDate)]})]}),d.jsx(_e,{sx:{borderStyle:"dashed",my:1}}),d.jsxs(O,{sx:{p:3,pt:0,typography:"body2",color:"text.secondary",textTransform:"capitalize"},className:Ee.surveyActions,children:[d.jsx(j,{className:Ee.iconButton,sx:{backgroundColor:A.palette.primary.main,"&:hover":{backgroundColor:A.palette.primary.main}},"aria-label":"redirect",size:"large",onClick:t=>{t.stopPropagation();const r=e.example?`/guest/preview/${e.id}`:`/design-survey/${e.id}`;P(r)},children:t?d.jsx(R,{sx:{color:"#fff"}}):d.jsx($e,{sx:{color:"#fff"}})}),K()&&!t&&"active"===e.status&&d.jsx(L,{showIcon:!1,title:h("edit_survey.close_title"),children:d.jsx(j,{className:Ee.iconButton,"aria-label":"stop",size:"large",onClick:()=>l(e.id),children:d.jsx(Oe,{color:"primary"})})}),K()&&d.jsx(L,{showIcon:!1,title:h("edit_survey.clone_survey"),children:d.jsx(j,{className:Ee.iconButton,"aria-label":"clone",size:"large",onClick:o,children:d.jsx(J,{color:"primary"})})}),!t&&e.status!==Ke&&d.jsx(L,{showIcon:!1,title:h("action_btn.delete"),children:d.jsx(j,{className:Ee.iconButton,"aria-label":"delete",size:"large",onClick:()=>s(e.id),children:d.jsx(le,{color:"primary"})})})]})]})]})},rt=({sort:e,filter:t,onFilterSelected:r,onSortSelected:a})=>{const n=[{value:"all",label:"status.all"},{value:Ke,label:`status.${Ke}`},{value:Je,label:`status.${Je}`},{value:Ze,label:`status.${Ze}`},{value:Xe,label:`status.${Xe}`},{value:qe,label:`status.${qe}`}],o=S("manage").t;return d.jsxs(u,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[d.jsx(C,{variant:"h5",flex:"1",textTransform:"uppercase",fontWeight:"600",children:o("my_surveys")}),d.jsxs(O,{width:"100%",spacing:2.5,direction:{xs:"column",md:"row"},alignItems:"center",children:[d.jsx(ee,{onChange:a,native:!0,value:e,name:"Status",label:o("label.sort_by"),children:[{value:"responses_desc",label:"survey_sort_options.responses_desc"},{value:"last_modified_desc",label:"survey_sort_options.last_modified_desc"}].map((e=>d.jsx("option",{value:e.value,children:o(e.label)},e.value)))}),d.jsx(ee,{onChange:r,native:!0,value:t,name:"Status",label:o("edit_survey.status"),children:n.map((e=>d.jsx("option",{value:e.value,children:o(e.label)},e.value)))})]})]})},at="_exampleSurveysContainer_apkeh_1",nt=({onClone:e})=>{const t=S("manage").t,a=n(i.useState(!1),2),o=a[0],s=a[1],l=n(i.useState([]),2),c=l[0],m=l[1],p=I("survey");return i.useEffect((()=>{s(!0),p.getGuestsSurveys().then((e=>{if(s(!1),e){const t=e.map((e=>r(r({},e),{},{example:!0})));m(t)}})).catch((e=>{s(!1),N(e)}))}),[]),d.jsxs(d.Fragment,{children:[d.jsx(C,{variant:"h5",marginBottom:2,fontWeight:600,textTransform:"uppercase",children:t("example_surveys")}),o?d.jsx(v,{}):d.jsx(u,{className:at,sx:{mt:3,columnGap:4,display:"grid",rowGap:{xs:4,md:5},gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:null==c?void 0:c.map((t=>d.jsx(tt,{survey:t,onClone:()=>e(t),example:!0},t.id)))})]})},ot={createUserCard:"_createUserCard_zrfc2_1",formGroup:"_formGroup_zrfc2_9",rightContainer:"_rightContainer_zrfc2_16",createButton:"_createButton_zrfc2_24",surveyNameInput:"_surveyNameInput_zrfc2_39",selectInput:"_selectInput_zrfc2_55",errorText:"_errorText_zrfc2_63"},it=[{value:ye.WEB,label:`mode.${ye.WEB}`},{value:ye.OFFLINE,label:`mode.${ye.OFFLINE}`},{value:ye.MIXED,label:`mode.${ye.MIXED}`}];function st({onSurveyCreated:t}){const r=I("survey"),a=S("manage").t,n=z(),o={surveyName:"",surveyMode:ye.MIXED,surveyActiveFrom:"",surveyActiveTo:""},i=ve().shape({surveyName:he().required(a("survey_required")).max(50,a("survey_too_long"))}),s=te({resolver:ge(i),defaultValues:o}),l=s.setError,c=s.reset,m=s.handleSubmit,p=s.formState.isSubmitting,_=m(function(){var o,i=(o=function*(e){n(k(!0));const o={name:e.surveyName,usage:e.surveyMode};e.surveyActiveFrom&&(o.startDate=U(surveyActiveFrom)),e.surveyActiveTo&&(o.endDate=U(surveyActiveTo)),r.createSurvey(o).then((()=>{t&&(t(o),c())})).catch((e=>{e.name==T.DUPLICATE_SURVEY_NAME.name?l("surveyName",{type:"manual",message:a(`processed_errors.${e.name}`)}):e.name==T.INVALID_SURVEY_DATES.name&&l("surveyActiveFrom",{type:"manual",message:a(`processed_errors.${e.name}`)})})).finally((()=>{n(k(!1))}))},function(){var t=this,r=arguments;return new Promise((function(a,n){var i=o.apply(t,r);function s(t){e(i,a,n,s,l,"next",t)}function l(t){e(i,a,n,s,l,"throw",t)}s(void 0)}))});return function(e){return i.apply(this,arguments)}}());return d.jsx(ue,{className:ot.createUserCard,children:d.jsx(re,{methods:s,onSubmit:_,children:d.jsxs(u,{rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},children:[d.jsx(ae,{name:"surveyName",label:a("label.survey_name")}),d.jsx(ee,{name:"surveyMode",label:a("label.survey_mode"),children:it.map((e=>d.jsx("option",{value:e.value,children:a(e.label)},e.value)))}),d.jsx(xe,{fullWidth:!0,size:"large",color:"primary",type:"submit",variant:"contained",loading:p,children:a("action_btn.create")})]})})})}}}}))}();
