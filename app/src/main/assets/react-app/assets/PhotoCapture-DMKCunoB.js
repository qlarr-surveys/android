import{j as t}from"./index-BdaHkdQl.js";import{A as C,v as s,D as w,ax as S,az as j,aq as h}from"./use-service-D09swmN7.js";import{g as y}from"./common-C_0iAd7K.js";import{B as z}from"./Box-DN3Tm9NJ.js";const k="_container_bvkr6_2",q={container:k};function b(r){var m;const f=C("run"),o=r.component,n=s(e=>e.runState.values[o.qualifiedCode]),c=s(e=>e.runState.preview),g=s(e=>e.runState.values.Survey.mode),l=w(),d=()=>{var u,p,x,v;const e=o.qualifiedCode,_=((p=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:p.isActive)&&((v=(x=o.validation)==null?void 0:x.validation_max_file_size)==null?void 0:v.max_size)||-1;c&&g=="offline"?y("/dummy_image.png").then(i=>{j(f,e,c,i).then(a=>{l(h({componentCode:r.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.capturePhoto(e,_),window["onPhotoCaptured"+e]=i=>{l(h({componentCode:e,value:i}))}):console.log("no android device!!")};return t.jsxs(z,{className:q.container,sx:{maxHeight:"400px"},children:[!n.value||!n.value.stored_filename?t.jsx("img",{onClick:d,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):t.jsx("img",{onClick:d,src:S(n.value.stored_filename),style:{maxHeight:"400px",maxWidth:"100%"}}),t.jsx("br",{}),o.showHint&&t.jsx("span",{children:(m=o.content)==null?void 0:m.hint})]})}export{b as default};
