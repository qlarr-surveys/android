!function(){const e=["children"],t=["behavior","align"],r=["done","behavior","align","calculateViewLocation"],n=["listState","topItemsIndexes"],o=["style","children"],i=["style","children"];function a(e){return y(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||g()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,l,"next",e)}function l(e){u(i,n,o,a,l,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return y(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||v(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){if(Array.isArray(e))return e}System.register(["./index-legacy-Bv2eXh2I.js","./use-service-legacy-BhwPSb5M.js","./common-legacy-CbMEUs9u.js","./Web-legacy-DMYfs4qb.js","./isTouchDevice-legacy-CASrAKNe.js","./Image-legacy-GdCsba4I.js","./TextField-legacy-BOwGRc-U.js","./TableRow-legacy-B-I1lwQu.js","./TableHead-legacy-BwKzdMEs.js","./TableCell-legacy-V6qlCnyo.js","./Radio-legacy-DiuXcwAw.js","./useDrop-legacy-Dgl6vAJJ.js","./index-legacy-KWoK7SE9.js","./DateTimePicker-legacy-BS10sb_o.js","./Tabs-legacy-BZ8LdgyE.js","./index-legacy-DS7A6EyP.js","./index-legacy-BFaFchk3.js","./Close-legacy-C5_q_DGr.js","./FormControlLabel-legacy-Cd6ySi2s.js","./Checkbox-legacy-D8PzMjCa.js","./DatePicker-legacy-TuamxBkj.js","./Delete-legacy-CjI8dQo2.js","./Card-legacy-PAZ1B7n8.js","./survey-legacy-BBPrODqM.js","./use-boolean-legacy-CMtNGiTG.js","./radioClasses-legacy-rUP_5iUL.js","./tableRowClasses-legacy-DaBQNcvJ.js","./SwitchBase-legacy-POzBzpU5.js","./RadioGroupContext-legacy-CCODwzRF.js","./InputAdornment-legacy-BsZgCJo4.js"],(function(u,d){"use strict";var f,g,v,m,y,b,_,x,w,O,S,k,j,E,C,T,q,I,A,L,P,N,F,R,M,D,V,z,B,H,U,$,W,K,Y,G,J,Q,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,de,pe,fe,he,ge,ve,me,ye,be,_e,xe,we,Oe,Se,ke,je,Ee,Ce,Te,qe,Ie,Ae,Le,Pe,Ne,Fe,Re,Me,De,Ve,ze,Be,He,Ue,$e,We,Ke,Ye,Ge,Je,Qe,Xe,Ze,et,tt,rt,nt,ot,it,at,lt,st,ut,ct,dt,pt,ft,ht,gt,vt,mt,yt,bt,_t,xt,wt,Ot,St,kt,jt,Et,Ct,Tt,qt,It,At,Lt,Pt,Nt,Ft,Rt,Mt,Dt,Vt,zt,Bt,Ht,Ut,$t,Wt,Kt,Yt,Gt,Jt,Qt,Xt,Zt,er,tr,rr,nr,or,ir,ar,lr,sr,ur,cr,dr,pr,fr,hr,gr,vr,mr,yr,br,_r,xr,wr,Or,Sr,kr,jr,Er,Cr,Tr,qr,Ir,Ar,Lr,Pr,Nr,Fr,Rr,Mr,Dr,Vr,zr,Br,Hr,Ur,$r,Wr,Kr,Yr,Gr,Jr,Qr,Xr,Zr,en,tn,rn;return{setters:[e=>{f=e.b,g=e.w,v=e.r,m=e.I,y=e.K,b=e.M,_=e.an,x=e.O,w=e._,O=e.g,S=e.f,k=e.h,j=e.j,E=e.d,C=e.k,T=e.a0,q=e.l,I=e.i,A=e.q,L=e.B,P=e.p,N=e.ah,F=e.R,R=e.aj,M=e.z,D=e.af,V=e.ao,z=e.ap,B=e.G,H=e.aq,U=e.ar,$=e.as,W=e.at,K=e.au,Y=e.av,G=e.x,J=e.C,Q=e.aw},e=>{X=e.c0,Z=e.c1,ee=e.C,te=e.A,re=e.k,ne=e.c2,oe=e.f,ie=e.j,ae=e.c,le=e.c3,se=e.aj,ue=e.ak,ce=e.al,de=e.I,pe=e.h,fe=e.c4,he=e.b,ge=e.bU,ve=e.c5,me=e.T,ye=e.l,be=e.c6,_e=e.L,xe=e.c7,we=e.D,Oe=e.n,Se=e.o,ke=e.v,je=e.p,Ee=e.c8,Ce=e.z,Te=e.x,qe=e.bP,Ie=e.c9,Ae=e.e,Le=e.K,Pe=e.M,Ne=e.U,Fe=e.H,Re=e.ca,Me=e.cb,De=e.aF,Ve=e.cc,ze=e.cd,Be=e.bl,He=e.au,Ue=e.ce,$e=e.cf,We=e.an,Ke=e.aS,Ye=e.w,Ge=e.cg,Je=e.aQ,Qe=e.bb,Xe=e.ch,Ze=e.ci,et=e.R,tt=e.cj,rt=e.bd,nt=e.ck,ot=e.aC,it=e.cl,at=e.cm,lt=e.cn,st=e.co,ut=e.bo,ct=e.cp,dt=e.cq,pt=e.aU,ft=e.cr,ht=e.cs,gt=e.ct,vt=e.av,mt=e.S,yt=e.N,bt=e.cu,_t=e.a0,xt=e.cv,wt=e.P,Ot=e.bD,St=e.W,kt=e.ap,jt=e.bf,Et=e.cw,Ct=e.cx,Tt=e.cy,qt=e.cz,It=e.cA,At=e.cB,Lt=e.cC,Pt=e.cD,Nt=e.cE,Ft=e.aO,Rt=e.cF,Mt=e.cG,Dt=e.aD,Vt=e.aG,zt=e.aH,Bt=e.aI,Ht=e.at,Ut=e.bw},e=>{$t=e.b},e=>{Wt=e.B,Kt=e.G,Yt=e.H,Gt=e.J,Jt=e.L,Qt=e.M,Xt=e.N,Zt=e.O,er=e.t,tr=e.T,rr=e.D,nr=e.P,or=e.C,ir=e.Q,ar=e.U,lr=e.K,sr=e.V,ur=e.W},e=>{cr=e.c,dr=e.E,pr=e.D,fr=e.i,hr=e.T,gr=e.H},e=>{vr=e.u,mr=e.a,yr=e.D,br=e.d},e=>{_r=e.T,xr=e.F,wr=e.I},e=>{Or=e.T,Sr=e.a,kr=e.b,jr=e.c},e=>{Er=e.T},e=>{Cr=e.T},e=>{Tr=e.R},e=>{qr=e.u},e=>{Ir=e.R},e=>{Ar=e.G,Lr=e.q,Pr=e.D,Nr=e.L},e=>{Fr=e.P,Rr=e.a,Mr=e.b},e=>{Dr=e.D},e=>{Vr=e.C,zr=e.H,Br=e.c,Hr=e.A,Ur=e.a,$r=e.d,Wr=e.b},e=>{Kr=e.C,Yr=e.a},e=>{Gr=e.F},e=>{Jr=e.C},e=>{Qr=e.D,Xr=e.T},e=>{Zr=e.d},e=>{en=e.C},e=>{tn=e.N},e=>{rn=e.u},null,null,null,null,null],execute:function(){var nn=document.createElement("style");nn.textContent='._noPadding_1ii70_1{padding:0}._addRow_1ii70_5{margin-top:16px}._addColumn_1ii70_9{text-align:right}._addIcon_1ii70_13{width:64px;height:64px}._addIcon_1ii70_13>svg{width:100%;height:100%}._svgContainer_1ii70_23{text-align:center}._svgContainer_1ii70_23>svg{width:100%;height:100%}._addButton_1ii70_31._addButton_1ii70_31{text-transform:none;color:#16205b;font-weight:bolder;background-color:#e0e2ef;border-radius:9999px;padding:.5rem 1rem}._mainContainer_as1f9_1{display:flex}._updateButtons_as1f9_5{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}._save_as1f9_14{margin-left:10px}._header_as1f9_18{max-width:800px}._groupEmptyHint_11fy7_2{text-align:center;font-size:32px;padding:16px;color:gray;margin:16px;border:2px dashed gray;border-radius:4px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_11fy7_14{background-color:rgba(0,0,0,.1)}._footer_11fy7_18{height:100px}._contentPanel_11fy7_22{position:relative;overflow-y:auto;width:100%;height:calc(100vh - 64px)}._cardImage_11fy7_29{max-height:22.5vw;height:160px;width:100%;margin:auto;background-size:cover;background-position:center}._customScrollBar_11fy7_37::-webkit-scrollbar{width:10px}._virtuosoStyle_11fy7_41{width:100%;height:100%}._cardMediaContent_11fy7_46{max-width:800px;min-width:350px;margin:auto}._buttonContainer_11fy7_54{display:flex;align-items:center;gap:0px;position:absolute;top:0;right:22.5rem;z-index:1}._button_11fy7_54._button_11fy7_54{text-transform:none;padding:.2rem 1rem;background-color:#fff;border-radius:0/0px;color:#16205b}._button_11fy7_54._button_11fy7_54:hover{background-color:#16205b;color:#fff}._errorDisplay_1joy4_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._clickable_1joy4_10{cursor:pointer}._textDescriptionContent_o9cn8_1{display:flex;align-items:center;margin-top:12px}._moveBox_o9cn8_7{width:100%;display:flex;justify-content:center}._groupQuestion_o9cn8_13{position:relative;padding:1.5rem 1rem 1rem;word-wrap:break-word;page-break-inside:avoid;transition:all .2s cubic-bezier(0,0,.2,1);cursor:default}._titleContainer_o9cn8_22{display:flex;align-items:center;gap:.5rem;word-break:break-all}._titleQuestion_o9cn8_29{display:flex;align-items:center}._titleQuestion_o9cn8_29 h3{width:auto}._iconBox_o9cn8_39{display:flex;align-items:center;gap:.5rem;color:#16205b;font-weight:700}@keyframes _fadeInMoveRight_o9cn8_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_o9cn8_59{width:100%;animation:_fadeInMoveRight_o9cn8_1 .75s ease-out forwards}._contentContainer_o9cn8_64._contentContainer_o9cn8_64{position:absolute;top:-5px;right:0;width:100%;display:flex;justify-content:space-between;align-items:center}._fullWidth_1dvff_1{width:100%;cursor:text}._toolbarClass_1dvff_6 div ._rdw-editor-toolbar_1dvff_6{border:0!important;margin:0!important;padding:0!important}._noPadding_1dvff_12>:last-child{margin-bottom:0}._noPadding_1dvff_12>:first-child{margin-top:0}p{margin-top:0;margin-bottom:0}._placeholder_1dvff_25{color:#aaa}._placeholder_1dvff_25>:first-child{margin-top:0}._placeholder_1dvff_25>:last-child{margin-bottom:0}.ql-editor{padding:0!important}.ql-container{font-size:inherit!important;font-family:inherit!important}.ql-snow{padding:0!important;border:0!important}.quill{display:flex;flex-direction:column-reverse}.rtl .ql-editor,.rtl{direction:rtl!important;text-align:right!important}/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"•"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"☑"}.ql-editor ul[data-checked=false]>li:before{content:"☐"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}.ql-mention-list-container{width:270px;border:1px solid #f0f0f0;border-radius:4px;background-color:#fff;box-shadow:0 2px 12px rgba(30,30,30,.08);z-index:9001;overflow:auto}.ql-mention-loading{line-height:44px;padding:0 20px;vertical-align:middle;font-size:16px}.ql-mention-list{list-style:none;margin:0;padding:0;overflow:hidden}.ql-mention-list-item{cursor:pointer;line-height:44px;font-size:16px;padding:0 20px;vertical-align:middle}.ql-mention-list-item.disabled{cursor:auto}.ql-mention-list-item.selected{background-color:#d3e1eb;text-decoration:none}.mention{height:24px;width:65px;border-radius:6px;background-color:#d3e1eb;padding:3px 0;margin-right:2px;user-select:all}.mention>span{margin:0 3px}._actionControl_1xa5v_1{display:flex;margin-right:8px;margin-left:8px;justify-content:flex-end}._statusIcon_1xa5v_8{cursor:default}._questionContainer_1xa5v_12{padding:16px}._actionIcon_1xa5v_16,._settingIcon_1xa5v_17{font-size:22px}._settingIcon_1xa5v_17{transform:rotate(90deg)}._deleteIcon_1xa5v_25{font-size:32px}._questionItem_169qj_1{margin-bottom:15px;width:50%}._questionItem_169qj_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_169qj_1{width:100%}}._questionItem_13fbu_1{margin-bottom:15px}._questionItem_13fbu_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_13fbu_1{width:100%}}._paragraph_13fbu_15{width:100%}._wordCount_13fbu_19{text-align:end}._questionItem_1sx0f_1{margin-bottom:15px;width:50%}._questionItem_1sx0f_1:last-child{margin-bottom:0}@media only screen and (max-width: 767px){._questionItem_1sx0f_1{width:100%}}._questionItem_wb37f_1{margin-bottom:15px;width:50%}._questionItem_wb37f_1:last-child{margin-bottom:0}@media screen and (max-width: 768px){._questionItem_wb37f_1{width:100%}}._placeholder_4iqf5_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_4iqf5_9{text-align:center;margin-top:24px}._signatureCanvas_1uxb1_1{border:1px solid transparent;padding:8px;border-radius:4px;text-align:center}._placeholder_xjf3c_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_xjf3c_9{text-align:center;margin-top:24px}._imageContainer_xjf3c_14{background-position:center;background-repeat:no-repeat}._choicesContainer_k0bnu_1{display:flex;width:100%;table-layout:fixed;margin-bottom:16px;justify-content:space-between}._choicesContainer_k0bnu_1 ._choice_k0bnu_1{padding:8px;width:100%;margin:1px;font-weight:700;font-size:larger;border:1px solid;text-align:center}._choiceLabels_k0bnu_19{margin-top:16px;display:flex;justify-content:space-between}._container_cyg3h_1{text-align:center}._answerAdd_5tmqk_1{display:flex;align-items:baseline;padding-left:18px;justify-content:flex-end;gap:.5rem}._questionItem_5tmqk_9{display:flex;flex-direction:column;gap:2rem}._choicesContainer_5tmqk_15{display:flex;flex-direction:column;gap:.5rem}._answerItem_shykq_1{display:flex;flex-flow:row wrap;align-items:center;transition:all .2s;height:auto}._answerIcon_shykq_10{display:flex}._answerItem_shykq_1 ._answerIcon_shykq_10:hover{cursor:pointer}._answerItem_shykq_1 ._answerIconOther_shykq_18{align-self:center;margin-right:10px}._answerItem_shykq_1 ._answerIconOther_shykq_18:hover{cursor:pointer}._answerItem_shykq_1 ._answerNumberOrder_shykq_27{width:30px;text-align:center}._answerItem_shykq_1 ._answerControl_shykq_32{margin-left:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlRtl_shykq_37{margin-right:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlOther_shykq_42{margin-left:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerControlOtherRtl_shykq_47{margin-right:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerOtherControl_shykq_52{margin-left:43px;width:50%}._addAnswerIcon_4rcog_1{scale:2}._questionItem_4rcog_5{overflow:hidden;padding-top:16px}._addAnswerButton_4rcog_10{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._imageIconButton_z1as0_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_z1as0_8{background-size:contain;background-position:center;background-repeat:no-repeat;position:relative;width:100%}._addAnswerIcon_z1as0_16{scale:2}._loadingContainer_z1as0_20{top:50%;left:50%;position:absolute}._addAnswerButton_z1as0_26{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._buttonContainers_z1as0_34{width:100%;top:0;position:absolute}._imageIconButton_lgrld_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_lgrld_8{text-align:center}._addAnswerIcon_lgrld_12{scale:2}._loadingContainer_lgrld_16{text-align:center;float:right;width:100%;margin-top:24px}._addAnswerButton_lgrld_23{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._svgContainer_lgrld_31>svg{width:100%;height:100%}._buttonContainers_lgrld_36{width:100%;display:inline-block}._resultImage_2y7qe_1{display:contents}._resultImage_2y7qe_1>svg{margin:8px;width:48px;height:48px}._textHeader_15cd2_1{word-break:break-all}._textDescription_15cd2_5{display:flex;align-items:flex-start;margin-top:12px}._groupCard_15cd2_11{position:relative;box-shadow:inherit!important;padding-bottom:24px;cursor:default}._type_15cd2_18{display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._groupType_15cd2_25{margin-top:0;display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._questionsOuterContainer_15cd2_33{padding:24px}._questionsInnerContainer_15cd2_37{border-radius:8px;padding-right:24px;padding-left:24px}._groupDesignError_15cd2_43{border-color:red!important;background-color:rgba(255,0,0,.063)!important}._groupHeader_15cd2_48{padding:1.75rem 1rem 1rem}._inputGroupTitle_15cd2_52{width:100%;line-height:135%}._inputGroupDescription_15cd2_57{width:100%;margin-top:4px}._moveBox_15cd2_62{display:flex;margin:auto;justify-content:center;width:50%;cursor:move}._topLevel_15cd2_71{display:flex;flex-direction:column;max-width:800px;min-width:320px;gap:1rem;padding:.5rem .5rem 2rem;margin:auto;position:relative}._groupText_15cd2_85{font-size:20px;font-weight:700}@keyframes _fadeInMoveRight_15cd2_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_15cd2_103{animation:_fadeInMoveRight_15cd2_1 .75s ease-out forwards}._contentContainer_15cd2_107._contentContainer_15cd2_107{position:absolute;top:0;right:0;width:100%;display:flex;justify-content:space-between;align-items:center;justify-content:end}._headerContent_15cd2_118{position:relative}._groupDropArea_1m6hh_1{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,height .2s ease-in-out,opacity .2s}._groupDragging_1m6hh_24{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:50px;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,opacity .2s}._questionDropArea_1m6hh_45{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;max-width:800px;min-width:350px;padding:0;width:100%;margin:auto;font-size:2rem;color:rgba(0,0,0,.5);background-color:rgba(0,0,0,.1);border:1px dotted #16205b;border-radius:2px;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupDropAreaWrapper_1m6hh_72{padding:1rem 0;max-width:800px;width:100%;min-width:350px}._groupDropAreaWrapper_1m6hh_72._hide_1m6hh_79{padding:0}._hidden_1m6hh_83{height:1px;margin:auto;max-width:800px;width:100%;min-width:350px;transition:height .2s,padding .2s}._isDragging_1m6hh_92{display:flex;justify-content:center;align-items:center;border:1px dotted #16205b;height:50px;margin:0;background-color:#f9f9f9;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupHidden_1m6hh_104{height:6rem;margin:auto;max-width:800px;min-width:350px}._groupEmptyHint_1m6hh_111{display:flex;justify-content:center;align-items:center;text-align:center;height:50px;margin:auto;max-width:800px;width:100%;min-width:350px;color:gray;border:1px dotted #16205b;border-radius:2px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1m6hh_130{background-color:rgba(0,0,0,.1)}._dropText_1m6hh_134{font-size:20px}._box_yj2jt_1{width:0px;position:absolute;z-index:99}._boxHasSetup_yj2jt_7{width:15rem}._showHint_9iocv_1{display:flex;align-items:center;justify-content:space-between;margin-top:20px;width:100%}._inputValue_9iocv_9{max-width:80%}._boxContainer_182us_1{border:1px solid;padding:15px}._boxContainer_182us_1 h4{margin:0}._boxContainer_182us_1 ._mt10_182us_10{margin-top:10px}._boxContainer_182us_1 ._uppercase_182us_14{text-transform:uppercase}._title_182us_18{display:flex;align-items:center;justify-content:space-between;width:100%}._title_182us_18 p{margin:0 30px 0 0}._boxContainer_1vhs4_1{border:1px solid;padding:15px}._boxContainer_1vhs4_1 h4{margin:0}._boxContainer_1vhs4_1 ._mt10_1vhs4_9{margin-top:10px}._boxContainer_1vhs4_1 ._uppercase_1vhs4_13{text-transform:uppercase}._title_1vhs4_18{display:flex;align-items:center;justify-content:space-between}._title_1vhs4_18 p{margin:0 30px 0 0}._titleContent_1vhs4_28{display:flex;align-items:center}._standardError_1vhs4_33{display:flex;align-items:center;margin-bottom:10px}._standardError_1vhs4_33 p{margin:0 30px 0 0}._errorWrapper_1vhs4_44{display:flex}._errorLabelWrapper_1vhs4_48{margin-right:10px}._errorItem_1vhs4_52{display:flex;align-items:center;margin-bottom:5px;min-height:30px}._errorItemContainer_1vhs4_58{width:100%}._valueValidationItems_1hupk_1,._valueValidationItemsContainer_1hupk_6{display:flex;align-items:center}._valueValidationItemsContainer_1hupk_6 ._error_1hupk_11{color:red}._toggleValue_1d9zg_1{display:flex;align-items:center;justify-content:space-between;width:100%}._inputValue_1d9zg_8{max-width:80%}._selectValue_9m4tq_1,._selectDate_1qp3e_1{display:flex;align-items:center;justify-content:space-between;width:100%}._selectDateField_1qp3e_8{max-width:50%}.query-builder .qb-drag-handler,.query-builder .qb-draggable,.query-builder{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.query-builder .rule--header:after{content:"";display:table;clear:both}.query-builder{overflow:hidden;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.25;margin:1rem}.query-builder .group{background:rgba(250,240,210,.5);border:1px solid #DCC896}.query-builder .rule{background-color:#fff;border:1px solid transparent;padding:10px}.query-builder .rule-with-error .rule{border-color:#e0a1a1}.query-builder .group-with-error>.group{border-color:#e0a1a1}.query-builder .rule--body{display:flex;flex-wrap:wrap;text-align:center}.query-builder .rule--body--wrapper{flex:1;display:flex;flex-direction:column}.query-builder .rule--error{color:red;margin-bottom:-5px;margin-top:5px}.query-builder .rule_group--error{color:red;margin-bottom:-5px;margin-top:5px;width:100%}.query-builder .group-or-rule{border-radius:5px;position:relative}.query-builder .rule_group,.query-builder .rule_group_ext{background:rgba(255,252,242,.5);border:1px solid #f9f1dd}.query-builder .locked{border:1px dashed red}.query-builder .qb-placeholder{border:1px dashed gray}.query-builder.qb-dragging{cursor:-webkit-grabbing!important;cursor:grabbing!important}.query-builder.qb-dragging button{pointer-events:none}.query-builder .qb-draggable{pointer-events:none;position:absolute;opacity:.7;z-index:1000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .qb-drag-handler{cursor:-webkit-grabbing;cursor:grabbing}.query-builder .group--header:not(.no--children):not(.hide--conjs){position:relative}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{z-index:0;content:"";position:absolute;border-width:0 0 0 2px;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--header:not(.no--children):not(.hide--conjs).hide--line:before{border-color:rgba(128,128,128,.1)}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{border-width:0 0 2px 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{border-width:0 0 0 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{content:"";position:absolute;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 11px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{left:-14px;width:13px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:before{border-radius:0 0 0 4px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:after{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 13px)}.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:rgba(128,128,128,.1)}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 8px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 6px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{left:-11px;width:10px}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before{top:-2px;height:calc(50% + 3px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 13px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{left:-15px;width:13px}.query-builder .switch_group>.group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .qb-draggable:before,.query-builder .qb-draggable:after{display:none}.query-builder .group--header,.query-builder .group--footer{display:flex;align-items:stretch;padding-left:10px;padding-right:10px;margin-top:10px;margin-bottom:10px}.query-builder .group-or-rule-container{margin-top:10px;margin-bottom:10px;padding-right:10px}.query-builder .group-or-rule-container:first-child{margin-top:0!important}.query-builder .group-or-rule-container:last-child{margin-bottom:0!important}.query-builder .group--drag-handler{margin-right:8px;margin-top:3px;position:relative;align-self:center}.query-builder .group--conjunctions{flex-shrink:0;display:flex}.query-builder .group--conjunctions .group--drag-handler{margin-left:10px}.query-builder .group--children{padding-left:24px;margin-top:10px;margin-bottom:10px}.query-builder .group--children .group--field--count--rule{display:flex;flex-wrap:wrap;flex:1}.query-builder .group--conjunctions.hide--conj{opacity:.3}.query-builder .group--actions{align-self:center;margin-left:10px;flex:1;display:flex}.query-builder .group--actions--tl,.query-builder .group--actions--bl{justify-content:flex-start}.query-builder .group--actions--tl{margin-left:20px}.query-builder .group--actions--tc,.query-builder .group--actions--bc{justify-content:center}.query-builder .group--actions--tr,.query-builder .group--actions--br{justify-content:flex-end}.query-builder .case_group{border-width:2px}.query-builder .case_group .case_group--body{display:flex;flex-direction:row;margin-top:10px;margin-bottom:10px}.query-builder .case_group .case_group--body .case_group--children{flex:auto;margin-top:0!important;margin-bottom:0!important}.query-builder .case_group .case_group--value{margin:0 10px}.query-builder .rule_group{display:flex;flex-wrap:wrap;padding-left:10px}.query-builder .rule_group .group--field{margin-top:10px;margin-bottom:10px;align-self:center}.query-builder .rule_group .group--actions{margin-left:10px;align-self:center;flex:0}.query-builder .rule_group .rule_group--children{flex:1;margin-top:5px;margin-bottom:5px;padding-left:18px}.query-builder .rule_group .rule_group--children .group-or-rule-container{margin-bottom:5px;margin-top:5px;padding-right:5px}.query-builder .rule_group .rule_group--children.one--child{padding-left:9px}.query-builder .rule_group_ext .group--actions{flex:none}.query-builder .group--header.hide--drag.with--conjs>.group--field--count--rule{margin-left:20px}.query-builder .rule{flex:1;display:flex}.query-builder .rule--header{margin-left:auto;display:flex;align-items:center;padding-left:10px}.query-builder .rule--drag-handler{display:flex;align-items:center;margin-right:8px}.query-builder .rule--field,.query-builder .rule--fieldsrc,.query-builder .group--field,.query-builder .rule--operator,.query-builder .rule--value,.query-builder .rule--operator-options,.query-builder .rule--widget,.query-builder .widget--widget,.query-builder .widget--valuesrc,.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--before-widget,.query-builder .rule--after-widget{display:inline-block}.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep{vertical-align:bottom;align-self:flex-end;margin-bottom:8px}.query-builder .rule--func--arg-sep{margin-bottom:3px}.query-builder .widget--sep{margin-left:10px;margin-right:10px}.query-builder .widget--sep.widget--sep-first{margin-right:10px;margin-left:0}.query-builder .rule--operator{margin-left:20px;margin-right:20px}.query-builder .operator--options--sep{margin-right:10px}.query-builder .rule--func--arg-sep{margin-left:3px;margin-right:6px}.query-builder .rule--func--bracket-after{margin-left:5px;margin-right:2px}.query-builder .rule--func--bracket-before{margin-left:5px;margin-right:5px}.query-builder .widget--valuesrc,.query-builder .rule--fieldsrc{vertical-align:top}.query-builder .operator--options{display:flex}.query-builder .rule--operator-wrapper{display:flex;flex-direction:column;height:100%}.query-builder .rule--operator-text-wrapper{flex:1;display:flex;align-items:center}.query-builder div.tooltip-inner{max-width:500px}.query-builder .rule--label{display:block;font-weight:700}.query-builder .rule--func--wrapper,.query-builder .rule--func,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep,.query-builder .rule--func--arg-label,.query-builder .rule--func--arg-label-sep{display:inline-block}.query-builder .rule--func--wrapper,.query-builder .rule--func--args{display:flex;flex-wrap:wrap}.query-builder .rule--func--arg{display:flex}.query-builder .rule--field-wrapper,.query-builder .rule--field--func,.query-builder .rule--func--wrapper,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--arg-value>.rule--widget,.query-builder .widget--func{display:contents}.query-builder .rule--func,.query-builder .widget--widget{margin-bottom:2px}.query-builder .rule--body--wrapper{margin-bottom:-2px}.query-builder .rule--body.can--shrink--value .rule--value{flex:1}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget{width:100%;display:flex}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget .widget--widget{flex:1}.query-builder.qb-lite .group--drag-handler,.query-builder.qb-lite .group--actions{transition:opacity .2s}.query-builder.qb-lite .group--header:hover .group--header .group--drag-handler,.query-builder.qb-lite .group--header:hover .group--header .group--actions,.query-builder.qb-lite .group--header:not(:hover) .group--drag-handler,.query-builder.qb-lite .group--header:not(:hover) .group--actions,.query-builder.qb-lite .rule_group:not(:hover) .group--drag-handler,.query-builder.qb-lite .rule_group:not(:hover) .group--actions{opacity:0}.query-builder.qb-lite .rule--fieldsrc,.query-builder.qb-lite .widget--valuesrc,.query-builder.qb-lite .rule--drag-handler,.query-builder.qb-lite .rule--header{transition:opacity .2s}.query-builder.qb-lite .rule:hover .rule .rule--fieldsrc,.query-builder.qb-lite .rule:hover .rule .widget--valuesrc,.query-builder.qb-lite .rule:hover .rule .rule--drag-handler,.query-builder.qb-lite .rule:hover .rule .rule--header,.query-builder.qb-lite .rule:not(:hover) .rule--fieldsrc,.query-builder.qb-lite .rule:not(:hover) .widget--valuesrc,.query-builder.qb-lite .rule:not(:hover) .rule--drag-handler,.query-builder.qb-lite .rule:not(:hover) .rule--header{opacity:0}.query-builder.qb-lite.qb-dragging .rule--fieldsrc,.query-builder.qb-lite.qb-dragging .widget--valuesrc,.query-builder.qb-lite.qb-dragging .rule--drag-handler,.query-builder.qb-lite.qb-dragging .rule--header,.query-builder.qb-lite.qb-dragging .group--drag-handler,.query-builder.qb-lite.qb-dragging .group--actions{opacity:0!important}.query-builder .MuiIconButton-sizeSmall{padding:3px}.customSelectOption{color:#f08080}.group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:transparent}.MuiAutocomplete-fullWidth{width:320px!important}.query-builder-container{padding:0!important}.query-builder{margin:0!important}.query-builder .group{background-color:transparent;border:0px solid #000}.query-builder .rule--header button{color:#6e6e6e}.logicField{color:#00f}.logicOp{font-weight:700}.logicValue{color:green}.condition-human-text{width:100%;white-space:pre-wrap}.query-builder-result{margin-top:9px;display:flex}.icon-container{display:flex;align-items:center}._relevance_1j5a5_1{display:inline-block}._relevanceError_1j5a5_5{background-color:rgba(255,0,0,.133)}._errorContainer_1j5a5_9{display:flex}._skipItem_1n8m2_1{margin-top:24px;margin-bottom:24px}._toEnd_1n8m2_6{display:flex;justify-content:space-between;width:100%;align-items:center;padding:4dp}._sectionTitle_62go7_1{font-size:16px;font-weight:700}._rightContent_62go7_6{width:18rem;overflow-y:auto;background-color:#fff;height:calc(100vh - 64px)}._close_62go7_13{text-align:right}._accordionStyle_62go7_17._accordionStyle_62go7_17{box-shadow:none;border-bottom:1px solid #d7d7d7}._errorDisplay_1avr2_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._randomHeader_1pjix_1{display:flex;justify-content:space-between}._randomHeader_1pjix_1 ._title_1pjix_6{margin:0;line-height:40px}._randomHeader_1pjix_1 ._action_1pjix_11{float:right}._randomHeader_1pjix_1 ._settingIcon_1pjix_15{font-size:20px}._randomBody_1pjix_19 ._list_1pjix_19{padding-left:7px;margin-top:4px;list-style-type:"-"}._randomBody_1pjix_19 ._list_1pjix_19 li{line-height:24px;margin-bottom:6px}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._randomAction_1pjix_47{margin-top:15px;text-align:right;padding-right:4px}._listItem_1pjix_53{display:flex;align-items:center}._listItem_1pjix_53 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItem_1pjix_53 ._input_1pjix_64{width:50px}._listItemError_1pjix_68{color:red;display:flex;align-items:center}._listItemError_1pjix_68 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItemError_1pjix_68 ._input_1pjix_64{width:50px}._randomItem_1pjix_84{margin-bottom:10px;padding:8px}._highlighted_1pjix_89{border:2px solid;border-radius:4px}._title_5cg20_1{margin:0;line-height:40px}._randomBody_5cg20_6 ._list_5cg20_6{padding-left:0;margin:0 0 10px;list-style-type:"-"}._randomBody_5cg20_6 ._list_5cg20_6 li{padding-left:0;line-height:24px;margin-bottom:6px}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._label_5cg20_35{width:100%}._randomAction_5cg20_39{margin-top:15px;text-align:right;padding-right:4px}._listItem_5cg20_45{display:flex;align-items:center}._listItem_5cg20_45 ._input_5cg20_50{width:50px}._randomItem_5cg20_54{margin-top:10px;margin-bottom:10px;padding:8px}._selectValue_14l81_1{margin-bottom:20px!important}._errorDisplay_1vtlj_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._addNew_1vtlj_10{margin-top:8px}._title_1p7e9_1{margin:0;line-height:40px}._list_1p7e9_6{padding-left:7px;margin:0 0 10px;list-style-type:none}._list_1p7e9_6 li{line-height:24px;margin-bottom:6px;padding-left:0;margin-left:-12px}._randomAction_1p7e9_19{margin-top:15px;text-align:right;padding-right:4px}._listItem_1p7e9_25{display:flex;align-items:center}._listItem_1p7e9_25 ._input_1p7e9_30{width:50px}._randomItem_1p7e9_34{margin-top:10px;margin-bottom:10px;padding:8px}._randomHeader_10d2m_1{display:flex;justify-content:space-between}._randomHeader_10d2m_1 ._title_10d2m_6{margin:0;line-height:40px}._randomHeader_10d2m_1 ._action_10d2m_11{float:right}._randomHeader_10d2m_1 ._settingIcon_10d2m_15{font-size:20px}._list_10d2m_19{padding-left:7px;margin:0 0 10px;list-style-type:"-"}._list_10d2m_19 li{line-height:24px;margin-bottom:6px}._randomAction_10d2m_30{margin-top:15px;text-align:right;padding-right:4px}._listItem_10d2m_36{display:flex;align-items:center}._listItem_10d2m_36 ._label_10d2m_41{display:flex;align-items:center;width:100%}._listItem_10d2m_36 ._input_10d2m_47{width:50px}._listItemError_10d2m_51{color:red;display:flex;align-items:center}._listItemError_10d2m_51 ._label_10d2m_41{display:flex;align-items:center;width:100%}._randomItem_10d2m_63{margin-bottom:10px;padding:8px}._highlighted_10d2m_68{border:2px solid;border-radius:4px}._theming_1v217_1{padding:.25rem 1rem;display:flex;flex-direction:column;gap:1rem}._theming_1v217_1 hr{margin:25px 0 0}._chooseImage_1v217_12._chooseImage_1v217_12{padding:.2rem 10px;border-radius:8px;text-transform:none;color:#16205b;font-weight:500;align-items:center;border:1px solid #16205b}._resetButton_1v217_21._resetButton_1v217_21{padding:0}._fontText_1v217_24{font-size:14px}._selectDropdown_1v217_27._selectDropdown_1v217_27{color:#16205b;font-weight:600;border-radius:11px}._colorBox_1v217_33._colorBox_1v217_33{padding:.875rem;border-radius:8px;width:3rem;border:1px solid #16205b}._colorPickerContainer_1v217_40{position:absolute;z-index:2;right:0;top:30px;user-select:none;display:flex;flex-direction:column;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.08)}._themingItem_11qn9_1 h6{margin-top:15px;margin-bottom:10px}._themingItem_11qn9_1 ._themingItemBody_11qn9_6{display:flex}._themingItem_11qn9_1 ._themingItemBody_11qn9_6 div:nth-child(1){flex-grow:1}._selectDropdown_11qn9_13._selectDropdown_11qn9_13{color:#16205b;font-weight:600;border-radius:15px}._box_xl6bf_1{width:0px;position:absolute;z-index:99;right:0}._boxHasSetup_xl6bf_8{width:18rem}\n/*$vite$:1*/',document.head.appendChild(nn);const on=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return xH},get LOWER(){return bH},get NOW(){return mH},get RELATIVE_DATETIME(){return yH},get UPPER(){return _H}},Symbol.toStringTag,{value:"Module"}));function an(e,t){if(null==e)return{};var r,n,o=f(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const ln=g({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var sn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function un(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(ln[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("--\x3e");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var o=new RegExp(sn),i=null;null!==(i=o.exec(e));)if(i[0].trim())if(i[1]){var a=i[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var cn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,dn=/^\s*$/,pn=Object.create(null);function fn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(fn,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var hn={parse:function(e,t){t||(t={}),t.components||(t.components=pn);var r,n=[],o=[],i=-1,a=!1;if(0!==e.indexOf("<")){var l=e.indexOf("<");n.push({type:"text",content:-1===l?e:e.substring(0,l)})}return e.replace(cn,(function(l,s){if(a){if(l!=="</"+r.name+">")return;a=!1}var u,c="/"!==l.charAt(1),d=l.startsWith("\x3c!--"),p=s+l.length,f=e.charAt(p);if(d){var h=un(l);return i<0?(n.push(h),n):((u=o[i]).children.push(h),n)}if(c&&(i++,"tag"===(r=un(l)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!f||"<"===f||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===i&&n.push(r),(u=o[i-1])&&u.children.push(r),o[i]=r),(!c||r.voidElement)&&(i>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(i--,r=-1===i?n:o[i]),!a&&"<"!==f&&f)){u=-1===i?n:o[i].children;var g=e.indexOf("<",p),v=e.slice(p,-1===g?void 0:g);dn.test(v)&&(v=" "),(g>-1&&i+u.length>=0||" "!==v)&&u.push({type:"text",content:v})}})),n},stringify:function(e){return e.reduce((function(e,t){return e+fn("",t)}),"")}},gn=["format"],vn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function _n(e){return e?e.props?e.props.children:e.children:[]}function xn(e){return Array.isArray(e)?e:[e]}function wn(e,t){if(!e)return"";var r="",n=xn(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((function(e,n){if("string"==typeof e)r+="".concat(e);else if(v.isValidElement(e)){var i=Object.keys(e.props).length,a=o.indexOf(e.type)>-1,l=e.props.children;if(!l&&a&&0===i)r+="<".concat(e.type,"/>");else if(l||a&&0===i)if(e.props.i18nIsDynamicList)r+="<".concat(n,"></").concat(n,">");else if(a&&1===i&&"string"==typeof l)r+="<".concat(e.type,">").concat(l,"</").concat(e.type,">");else{var s=wn(l,t);r+="<".concat(n,">").concat(s,"</").concat(n,">")}else r+="<".concat(n,"></").concat(n,">")}else if(null===e)Z("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===_(e)){var u=e.format,c=an(e,gn),d=Object.keys(c);if(1===d.length){var p=u?"".concat(d[0],", ").concat(u):d[0];r+="{{".concat(p,"}}")}else Z("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else Z("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}function On(e,t,r,n,o,i){if(""===t)return[];var a=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(a.join("|")).test(t);if(!e&&!l)return[t];var s={};!function e(t){xn(t).forEach((function(t){"string"!=typeof t&&(bn(t)?e(_n(t)):"object"!==_(t)||v.isValidElement(t)||Object.assign(s,t))}))}(e);var u=hn.parse("<0>".concat(t,"</0>")),c=yn(yn({},s),o);function d(e,t,r){var n=_n(e),o=f(n,t.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return v.isValidElement(e)}))}(n)&&0===o.length?n:o}function p(e,t,r,n,o){e.dummy&&(e.children=t),r.push(v.cloneElement(e,yn(yn({},e.props),{},{key:n}),o?void 0:t))}function f(t,o,s){var u=xn(t);return xn(o).reduce((function(t,o,h){var g,m,y,b=o.children&&o.children[0]&&o.children[0].content&&r.services.interpolator.interpolate(o.children[0].content,c,r.language);if("tag"===o.type){var x=u[parseInt(o.name,10)];!x&&1===s.length&&s[0][o.name]&&(x=s[0][o.name]),x||(x={});var w=0!==Object.keys(o.attrs).length?(g={props:o.attrs},(y=yn({},m=x)).props=Object.assign(g.props,m.props),y):x,O=v.isValidElement(w),S=O&&bn(o,!0)&&!o.voidElement,k=l&&"object"===_(w)&&w.dummy&&!O,j="object"===_(e)&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof w){var E=r.services.interpolator.interpolate(w,c,r.language);t.push(E)}else if(bn(w)||S){p(w,d(w,o,s),t,h)}else if(k){var C=f(u,o.children,s);t.push(v.cloneElement(w,yn(yn({},w.props),{},{key:h}),C))}else if(Number.isNaN(parseFloat(o.name))){if(j)p(w,d(w,o,s),t,h,o.voidElement);else if(n.transSupportBasicHtmlNodes&&a.indexOf(o.name)>-1)if(o.voidElement)t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)}));else{var T=f(u,o.children,s);t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)},T))}else if(o.voidElement)t.push("<".concat(o.name," />"));else{var q=f(u,o.children,s);t.push("<".concat(o.name,">").concat(q,"</").concat(o.name,">"))}}else if("object"!==_(w)||O)1===o.children.length&&b?t.push(v.cloneElement(w,yn(yn({},w.props),{},{key:h}),b)):t.push(v.cloneElement(w,yn(yn({},w.props),{},{key:h})));else{var I=o.children[0]?b:null;I&&t.push(I)}}else if("text"===o.type){var A=n.transWrapTextNodes,L=i?n.unescape(r.services.interpolator.interpolate(o.content,c,r.language)):r.services.interpolator.interpolate(o.content,c,r.language);A?t.push(v.createElement(A,{key:"".concat(o.name,"-").concat(h)},L)):t.push(L)}return t}),[])}return _n(f([{dummy:!0,children:e||[]}],u,xn(e||[]))[0])}function Sn(e){var t=e.children,r=e.count,n=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,l=void 0===a?{}:a,s=e.values,u=e.defaults,c=e.components,d=e.ns,p=e.i18n,f=e.t,h=e.shouldUnescape,g=an(e,vn),b=v.useContext(m)||{},_=b.i18n,w=b.defaultNS,O=p||_||x();if(!O)return X("You will need to pass in an i18next instance by using i18nextReactModule"),t;var S=f||O.t.bind(O)||function(e){return e};i&&(l.context=i);var k=yn(yn({},y()),O.options&&O.options.react),j=d||S.ns||w||O.options&&O.options.defaultNS;j="string"==typeof j?[j]:j||["translation"];var E=u||wn(t,k)||k.transEmptyNodeValue||o,C=k.hashTransKey,T=o||(C?C(E):E),q=s?l.interpolation:{interpolation:yn(yn({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},I=yn(yn(yn(yn({},l),{},{count:r},s),q),{},{defaultValue:E,ns:j}),A=On(c||t,T?S(T,I):E,O,k,I,h),L=void 0!==n?n:k.defaultTransParent;return L?v.createElement(L,g,A):A}const kn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function jn(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function En(e={}){const t=e.ignoreAccents,r=void 0===t||t,n=e.ignoreCase,o=void 0===n||n,i=e.limit,a=e.matchFrom,l=void 0===a?"any":a,s=e.stringify,u=e.trim,c=void 0!==u&&u;return(e,{inputValue:t,getOptionLabel:n})=>{let a=c?t.trim():t;o&&(a=a.toLowerCase()),r&&(a=jn(a));const u=a?e.filter((e=>{let t=(s||n)(e);return o&&(t=t.toLowerCase()),r&&(t=jn(t)),"start"===l?0===t.indexOf(a):t.indexOf(a)>-1})):e;return"number"==typeof i?u.slice(0,i):u}}function Cn(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const Tn=En(),qn=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function In(e){const t=e.unstable_isActiveElementInListbox,r=void 0===t?qn:t,n=e.unstable_classNamePrefix,o=void 0===n?"Mui":n,i=e.autoComplete,a=void 0!==i&&i,l=e.autoHighlight,s=void 0!==l&&l,u=e.autoSelect,c=void 0!==u&&u,d=e.blurOnSelect,p=void 0!==d&&d,f=e.clearOnBlur,g=void 0===f?!e.freeSolo:f,m=e.clearOnEscape,y=void 0!==m&&m,b=e.componentName,_=void 0===b?"useAutocomplete":b,x=e.defaultValue,O=void 0===x?e.multiple?[]:null:x,S=e.disableClearable,k=void 0!==S&&S,j=e.disableCloseOnSelect,E=void 0!==j&&j,C=e.disabled,T=e.disabledItemsFocusable,q=void 0!==T&&T,I=e.disableListWrap,A=void 0!==I&&I,L=e.filterOptions,P=void 0===L?Tn:L,N=e.filterSelectedOptions,F=void 0!==N&&N,R=e.freeSolo,M=void 0!==R&&R,D=e.getOptionDisabled,V=e.getOptionKey,z=e.getOptionLabel,B=void 0===z?e=>{var t;return null!=(t=e.label)?t:e}:z,H=e.groupBy,U=e.handleHomeEndKeys,$=void 0===U?!e.freeSolo:U,W=e.id,K=e.includeInputInList,Y=void 0!==K&&K,G=e.inputValue,J=e.isOptionEqualToValue,Q=void 0===J?(e,t)=>e===t:J,X=e.multiple,Z=void 0!==X&&X,oe=e.onChange,ie=e.onClose,ae=e.onHighlightChange,le=e.onInputChange,se=e.onOpen,ue=e.open,ce=e.openOnFocus,de=void 0!==ce&&ce,pe=e.options,fe=e.readOnly,he=void 0!==fe&&fe,ge=e.selectOnFocus,ve=void 0===ge?!e.freeSolo:ge,me=e.value,ye=ee(W);let be=B;be=e=>{const t=B(e);return"string"!=typeof t?String(t):t};const _e=v.useRef(!1),xe=v.useRef(!0),we=v.useRef(null),Oe=v.useRef(null),Se=h(v.useState(null),2),ke=Se[0],je=Se[1],Ee=h(v.useState(-1),2),Ce=Ee[0],Te=Ee[1],qe=s?0:-1,Ie=v.useRef(qe),Ae=h(te({controlled:me,default:O,name:_}),2),Le=Ae[0],Pe=Ae[1],Ne=h(te({controlled:G,default:"",name:_,state:"inputValue"}),2),Fe=Ne[0],Re=Ne[1],Me=h(v.useState(!1),2),De=Me[0],Ve=Me[1],ze=v.useCallback(((e,t)=>{if(!(Z?Le.length<t.length:null!==t)&&!g)return;let r;if(Z)r="";else if(null==t)r="";else{const e=be(t);r="string"==typeof e?e:""}Fe!==r&&(Re(r),le&&le(e,r,"reset"))}),[be,Fe,Z,le,Re,g,Le]),Be=h(te({controlled:ue,default:!1,name:_,state:"open"}),2),He=Be[0],Ue=Be[1],$e=h(v.useState(!0),2),We=$e[0],Ke=$e[1],Ye=!Z&&null!=Le&&Fe===be(Le),Ge=He&&!he,Je=Ge?P(pe.filter((e=>!F||!(Z?Le:[Le]).some((t=>null!==t&&Q(e,t))))),{inputValue:Ye&&We?"":Fe,getOptionLabel:be}):[],Qe=vr({filteredOptions:Je,value:Le,inputValue:Fe});v.useEffect((()=>{const e=Le!==Qe.value;De&&!e||M&&!e||ze(null,Le)}),[Le,ze,De,Qe.value,M]);const Xe=He&&Je.length>0&&!he,Ze=re((e=>{-1===e?we.current.focus():ke.querySelector(`[data-tag-index="${e}"]`).focus()}));v.useEffect((()=>{Z&&Ce>Le.length-1&&(Te(-1),Ze(-1))}),[Le,Z,Ce,Ze]);const et=re((({event:e,index:t,reason:r="auto"})=>{if(Ie.current=t,-1===t?we.current.removeAttribute("aria-activedescendant"):we.current.setAttribute("aria-activedescendant",`${ye}-option-${t}`),ae&&ae(e,-1===t?null:Je[t],r),!Oe.current)return;const n=Oe.current.querySelector(`[role="option"].${o}-focused`);n&&(n.classList.remove(`${o}-focused`),n.classList.remove(`${o}-focusVisible`));let i=Oe.current;if("listbox"!==Oe.current.getAttribute("role")&&(i=Oe.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===t)return void(i.scrollTop=0);const a=Oe.current.querySelector(`[data-option-index="${t}"]`);if(a&&(a.classList.add(`${o}-focused`),"keyboard"===r&&a.classList.add(`${o}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=i.clientHeight+i.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?i.scrollTop=r-i.clientHeight:e.offsetTop-e.offsetHeight*(H?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(H?1.3:0))}})),tt=re((({event:e,diff:t,direction:r="next",reason:n="auto"})=>{if(!Ge)return;const o=function(e,t){if(!Oe.current||e<0||e>=Je.length)return-1;let r=e;for(;;){const n=Oe.current.querySelector(`[data-option-index="${r}"]`),o=!q&&(!n||n.disabled||"true"===n.getAttribute("aria-disabled"));if(n&&n.hasAttribute("tabindex")&&!o)return r;if(r="next"===t?(r+1)%Je.length:(r-1+Je.length)%Je.length,r===e)return-1}}((()=>{const e=Je.length-1;if("reset"===t)return qe;if("start"===t)return 0;if("end"===t)return e;const r=Ie.current+t;return r<0?-1===r&&Y?-1:A&&-1!==Ie.current||Math.abs(t)>1?0:e:r>e?r===e+1&&Y?-1:A||Math.abs(t)>1?e:0:r})(),r);if(et({index:o,reason:n,event:e}),a&&"reset"!==t)if(-1===o)we.current.value=Fe;else{const e=be(Je[o]);we.current.value=e;0===e.toLowerCase().indexOf(Fe.toLowerCase())&&Fe.length>0&&we.current.setSelectionRange(Fe.length,e.length)}})),rt=v.useCallback((()=>{if(!Ge)return;const e=(()=>{if(-1!==Ie.current&&Qe.filteredOptions&&Qe.filteredOptions.length!==Je.length&&Qe.inputValue===Fe&&(Z?Le.length===Qe.value.length&&Qe.value.every(((e,t)=>be(Le[t])===be(e))):(e=Qe.value,t=Le,(e?be(e):"")===(t?be(t):"")))){const e=Qe.filteredOptions[Ie.current];if(e)return Cn(Je,(t=>be(t)===be(e)))}var e,t;return-1})();if(-1!==e)return void(Ie.current=e);const t=Z?Le[0]:Le;if(0!==Je.length&&null!=t){if(Oe.current)if(null==t)Ie.current>=Je.length-1?et({index:Je.length-1}):et({index:Ie.current});else{const e=Je[Ie.current];if(Z&&e&&-1!==Cn(Le,(t=>Q(e,t))))return;const r=Cn(Je,(e=>Q(e,t)));-1===r?tt({diff:"reset"}):et({index:r})}}else tt({diff:"reset"})}),[Je.length,!Z&&Le,F,tt,et,Ge,Fe,Z]),nt=re((e=>{ne(Oe,e),e&&rt()}));v.useEffect((()=>{rt()}),[rt]);const ot=e=>{He||(Ue(!0),Ke(!0),se&&se(e))},it=(e,t)=>{He&&(Ue(!1),ie&&ie(e,t))},at=(e,t,r,n)=>{if(Z){if(Le.length===t.length&&Le.every(((e,r)=>e===t[r])))return}else if(Le===t)return;oe&&oe(e,t,r,n),Pe(t)},lt=v.useRef(!1),st=(e,t,r="selectOption",n="options")=>{let o=r,i=t;if(Z){i=Array.isArray(Le)?Le.slice():[];const e=Cn(i,(e=>Q(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),o="removeOption")}ze(e,i),at(e,i,o,{option:t}),E||e&&(e.ctrlKey||e.metaKey)||it(e,o),(!0===p||"touch"===p&&lt.current||"mouse"===p&&!lt.current)&&we.current.blur()};const ut=(e,t)=>{if(!Z)return;""===Fe&&it(e,"toggleInput");let r=Ce;-1===Ce?""===Fe&&"previous"===t&&(r=Le.length-1):(r+="next"===t?1:-1,r<0&&(r=0),r===Le.length&&(r=-1)),r=function(e,t){if(-1===e)return-1;let r=e;for(;;){if("next"===t&&r===Le.length||"previous"===t&&-1===r)return-1;const e=ke.querySelector(`[data-tag-index="${r}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return r;r+="next"===t?1:-1}}(r,t),Te(r),Ze(r)},ct=e=>{_e.current=!0,Re(""),le&&le(e,"","clear"),at(e,Z?[]:null,"clear")},dt=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ce&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Te(-1),Ze(-1)),229!==t.which))switch(t.key){case"Home":Ge&&$&&(t.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ge&&$&&(t.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),tt({diff:-5,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"PageDown":t.preventDefault(),tt({diff:5,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowDown":t.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowUp":t.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"ArrowLeft":ut(t,"previous");break;case"ArrowRight":ut(t,"next");break;case"Enter":if(-1!==Ie.current&&Ge){const e=Je[Ie.current],r=!!D&&D(e);if(t.preventDefault(),r)return;st(t,e,"selectOption"),a&&we.current.setSelectionRange(we.current.value.length,we.current.value.length)}else M&&""!==Fe&&!1===Ye&&(Z&&t.preventDefault(),st(t,Fe,"createOption","freeSolo"));break;case"Escape":Ge?(t.preventDefault(),t.stopPropagation(),it(t,"escape")):y&&(""!==Fe||Z&&Le.length>0)&&(t.preventDefault(),t.stopPropagation(),ct(t));break;case"Backspace":if(Z&&!he&&""===Fe&&Le.length>0){const e=-1===Ce?Le.length-1:Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}break;case"Delete":if(Z&&!he&&""===Fe&&Le.length>0&&-1!==Ce){const e=Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}}},pt=e=>{Ve(!0),de&&!_e.current&&ot(e)},ft=e=>{r(Oe)?we.current.focus():(Ve(!1),xe.current=!0,_e.current=!1,c&&-1!==Ie.current&&Ge?st(e,Je[Ie.current],"blur"):c&&M&&""!==Fe?st(e,Fe,"blur","freeSolo"):g&&ze(e,Le),it(e,"blur"))},ht=e=>{const t=e.target.value;Fe!==t&&(Re(t),Ke(!1),le&&le(e,t,"input")),""===t?k||Z||at(e,null,"clear"):ot(e)},gt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ie.current!==t&&et({event:e,index:t,reason:"mouse"})},vt=e=>{et({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),lt.current=!0},mt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));st(e,Je[t],"selectOption"),lt.current=!1},yt=e=>t=>{const r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})},bt=e=>{He?it(e,"toggleInput"):ot(e)},_t=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==ye&&e.preventDefault()},xt=e=>{e.currentTarget.contains(e.target)&&(we.current.focus(),ve&&xe.current&&we.current.selectionEnd-we.current.selectionStart==0&&we.current.select(),xe.current=!1)},wt=e=>{C||""!==Fe&&He||bt(e)};let Ot=M&&Fe.length>0;Ot=Ot||(Z?Le.length>0:null!==Le);let St=Je;return H&&(St=Je.reduce(((e,t,r)=>{const n=H(t);return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])),C&&De&&ft(),{getRootProps:(e={})=>w({"aria-owns":Xe?`${ye}-listbox`:null},e,{onKeyDown:dt(e),onMouseDown:_t,onClick:xt}),getInputLabelProps:()=>({id:`${ye}-label`,htmlFor:ye}),getInputProps:()=>({id:ye,value:Fe,onBlur:ft,onFocus:pt,onChange:ht,onMouseDown:wt,"aria-activedescendant":Ge?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Xe?`${ye}-listbox`:void 0,"aria-expanded":Xe,autoComplete:"off",ref:we,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ct}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:bt}),getTagProps:({index:e})=>w({key:e,"data-tag-index":e,tabIndex:-1},!he&&{onDelete:yt(e)}),getListboxProps:()=>({role:"listbox",id:`${ye}-listbox`,"aria-labelledby":`${ye}-label`,ref:nt,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var r;const n=(Z?Le:[Le]).some((e=>null!=e&&Q(t,e))),o=!!D&&D(t);return{key:null!=(r=null==V?void 0:V(t))?r:be(t),tabIndex:-1,role:"option",id:`${ye}-option-${e}`,onMouseMove:gt,onClick:mt,onTouchStart:vt,"data-option-index":e,"aria-disabled":o,"aria-selected":n}},id:ye,inputValue:Fe,value:Le,dirty:Ot,expanded:Ge&&ke,popupOpen:Ge,focused:De||-1!==Ce,anchorEl:ke,setAnchorEl:je,focusedTag:Ce,groupedOptions:St}}function An(e){return O("MuiListSubheader",e)}S("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ln=["className","color","component","disableGutters","disableSticky","inset"],Pn=oe("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"default"!==r.color&&t[`color${k(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>w({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),Nn=v.forwardRef((function(e,t){const r=ie({props:e,name:"MuiListSubheader"}),n=r.className,o=r.color,i=void 0===o?"default":o,a=r.component,l=void 0===a?"li":a,s=r.disableGutters,u=void 0!==s&&s,c=r.disableSticky,d=void 0!==c&&c,p=r.inset,h=void 0!==p&&p,g=f(r,Ln),v=w({},r,{color:i,component:l,disableGutters:u,disableSticky:d,inset:h}),m=(e=>{const t=e.classes,r=e.color,n=e.disableGutters,o=e.inset,i=e.disableSticky,a={root:["root","default"!==r&&`color${k(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return ae(a,An,t)})(v);return j.jsx(Pn,w({as:l,className:E(m.root,n),ref:t,ownerState:v},g))}));var Fn,Rn;Nn.muiSkipListHighlight=!0;const Mn=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Dn=["ref"],Vn=["key"],zn=["key"],Bn=oe("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState,n=r.fullWidth,o=r.hasClearIcon,i=r.hasPopupIcon,a=r.inputFocused,l=r.size;return[{[`& .${Wt.tag}`]:t.tag},{[`& .${Wt.tag}`]:t[`tagSize${k(l)}`]},{[`& .${Wt.inputRoot}`]:t.inputRoot},{[`& .${Wt.input}`]:t.input},{[`& .${Wt.input}`]:a&&t.inputFocused},t.root,n&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${Wt.focused} .${Wt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Wt.clearIndicator}`]:{visibility:"visible"}},[`& .${Wt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Wt.inputRoot}`]:{[`.${Wt.hasPopupIcon}&, .${Wt.hasClearIcon}&`]:{paddingRight:30},[`.${Wt.hasPopupIcon}.${Wt.hasClearIcon}&`]:{paddingRight:56},[`& .${Wt.input}`]:{width:0,minWidth:30}},[`& .${le.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${le.root}.${se.sizeSmall}`]:{[`& .${le.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ue.root}`]:{padding:9,[`.${Wt.hasPopupIcon}&, .${Wt.hasClearIcon}&`]:{paddingRight:39},[`.${Wt.hasPopupIcon}.${Wt.hasClearIcon}&`]:{paddingRight:65},[`& .${Wt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Wt.endAdornment}`]:{right:9}},[`& .${ue.root}.${se.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Wt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ce.root}`]:{paddingTop:19,paddingLeft:8,[`.${Wt.hasPopupIcon}&, .${Wt.hasClearIcon}&`]:{paddingRight:39},[`.${Wt.hasPopupIcon}.${Wt.hasClearIcon}&`]:{paddingRight:65},[`& .${ce.input}`]:{padding:"7px 4px"},[`& .${Wt.endAdornment}`]:{right:9}},[`& .${ce.root}.${se.sizeSmall}`]:{paddingBottom:1,[`& .${ce.input}`]:{padding:"2.5px 4px"}},[`& .${se.hiddenLabel}`]:{paddingTop:8},[`& .${ce.root}.${se.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Wt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ce.root}.${se.hiddenLabel}.${se.sizeSmall}`]:{[`& .${Wt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Wt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Wt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Wt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Wt.inputRoot}`]:{flexWrap:"wrap"}}}]}),Hn=oe("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Un=oe(de,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),$n=oe(de,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>w({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Wn=oe(Fr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Wt.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})((({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Kn=oe(pe,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>w({},e.typography.body1,{overflow:"auto"}))),Yn=oe("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Gn=oe("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Jn=oe("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Wt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Wt.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Wt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Wt.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Wt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Qn=oe(Nn,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Xn=oe("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Wt.option}`]:{paddingLeft:24}}),Zn=v.forwardRef((function(e,t){var r,n,o,i;const a=ie({props:e,name:"MuiAutocomplete"}),l=(a.autoComplete,a.autoHighlight,a.autoSelect,a.blurOnSelect,a.ChipProps),s=a.className,u=a.clearIcon,c=void 0===u?Fn||(Fn=j.jsx(Kt,{fontSize:"small"})):u,d=a.clearOnBlur,p=(void 0===d&&a.freeSolo,a.clearOnEscape,a.clearText),h=void 0===p?"Clear":p,g=a.closeText,m=void 0===g?"Close":g,y=a.componentsProps,b=void 0===y?{}:y,_=a.defaultValue,x=(void 0===_&&a.multiple,a.disableClearable),O=void 0!==x&&x,S=(a.disableCloseOnSelect,a.disabled),C=void 0!==S&&S,T=(a.disabledItemsFocusable,a.disableListWrap,a.disablePortal),q=void 0!==T&&T,I=(a.filterSelectedOptions,a.forcePopupIcon),A=void 0===I?"auto":I,L=a.freeSolo,P=void 0!==L&&L,N=a.fullWidth,F=void 0!==N&&N,R=a.getLimitTagsText,M=void 0===R?e=>`+${e}`:R,D=a.getOptionLabel,V=a.groupBy,z=a.handleHomeEndKeys,B=(void 0===z&&a.freeSolo,a.includeInputInList,a.limitTags),H=void 0===B?-1:B,U=a.ListboxComponent,$=void 0===U?"ul":U,W=a.ListboxProps,K=a.loading,Y=void 0!==K&&K,G=a.loadingText,J=void 0===G?"Loading…":G,Q=a.multiple,X=void 0!==Q&&Q,Z=a.noOptionsText,ee=void 0===Z?"No options":Z,te=(a.openOnFocus,a.openText),re=void 0===te?"Open":te,ne=a.PaperComponent,oe=void 0===ne?pe:ne,le=a.PopperComponent,se=void 0===le?Fr:le,ue=a.popupIcon,ce=void 0===ue?Rn||(Rn=j.jsx(fe,{})):ue,de=a.readOnly,ge=void 0!==de&&de,ve=a.renderGroup,me=a.renderInput,ye=a.renderOption,be=a.renderTags,_e=a.selectOnFocus,xe=(void 0===_e&&a.freeSolo,a.size),we=void 0===xe?"medium":xe,Oe=a.slotProps,Se=void 0===Oe?{}:Oe,ke=f(a,Mn),je=In(w({},a,{componentName:"Autocomplete"})),Ee=je.getRootProps,Ce=je.getInputProps,Te=je.getInputLabelProps,qe=je.getPopupIndicatorProps,Ie=je.getClearProps,Ae=je.getTagProps,Le=je.getListboxProps,Pe=je.getOptionProps,Ne=je.value,Fe=je.dirty,Re=je.expanded,Me=je.id,De=je.popupOpen,Ve=je.focused,ze=je.focusedTag,Be=je.anchorEl,He=je.setAnchorEl,Ue=je.inputValue,$e=je.groupedOptions,We=!O&&!C&&Fe&&!ge,Ke=(!P||!0===A)&&!1!==A,Ye=Ce().onMouseDown,Ge=(null!=W?W:{}).ref,Je=Le(),Qe=Je.ref,Xe=f(Je,Dn),Ze=he(Qe,Ge),et=D||(e=>{var t;return null!=(t=e.label)?t:e}),tt=w({},a,{disablePortal:q,expanded:Re,focused:Ve,fullWidth:F,getOptionLabel:et,hasClearIcon:We,hasPopupIcon:Ke,inputFocused:-1===ze,popupOpen:De,size:we}),rt=(e=>{const t=e.classes,r=e.disablePortal,n=e.expanded,o=e.focused,i=e.fullWidth,a=e.hasClearIcon,l=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,c=e.size,d={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${k(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ae(d,Gt,t)})(tt);let nt;if(X&&Ne.length>0){const e=e=>w({className:rt.tag,disabled:C},Ae(e));nt=be?be(Ne,e,tt):Ne.map(((t,r)=>{const n=e({index:r}),o=n.key,i=f(n,Vn);return j.jsx(Yt,w({label:et(t),size:we},i,l),o)}))}if(H>-1&&Array.isArray(nt)){const e=nt.length-H;!Ve&&e>0&&(nt=nt.splice(0,H),nt.push(j.jsx("span",{className:rt.tag,children:M(e)},nt.length)))}const ot=ve||(e=>j.jsxs("li",{children:[j.jsx(Qn,{className:rt.groupLabel,ownerState:tt,component:"div",children:e.group}),j.jsx(Xn,{className:rt.groupUl,ownerState:tt,children:e.children})]},e.key)),it=ye||((e,t)=>{const r=e.key,n=f(e,zn);return j.jsx("li",w({},n,{children:et(t)}),r)}),at=(e,t)=>{const r=Pe({option:e,index:t});return it(w({},r,{className:rt.option}),e,{selected:r["aria-selected"],index:t,inputValue:Ue},tt)},lt=null!=(r=Se.clearIndicator)?r:b.clearIndicator,st=null!=(n=Se.paper)?n:b.paper,ut=null!=(o=Se.popper)?o:b.popper,ct=null!=(i=Se.popupIndicator)?i:b.popupIndicator,dt=e=>j.jsx(Wn,w({as:se,disablePortal:q,style:{width:Be?Be.clientWidth:null},ownerState:tt,role:"presentation",anchorEl:Be,open:De},ut,{className:E(rt.popper,null==ut?void 0:ut.className),children:j.jsx(Kn,w({ownerState:tt,as:oe},st,{className:E(rt.paper,null==st?void 0:st.className),children:e}))}));let pt=null;return $e.length>0?pt=dt(j.jsx(Jn,w({as:$,className:rt.listbox,ownerState:tt},Xe,W,{ref:Ze,children:$e.map(((e,t)=>V?ot({key:e.key,group:e.group,children:e.options.map(((t,r)=>at(t,e.index+r)))}):at(e,t)))}))):Y&&0===$e.length?pt=dt(j.jsx(Yn,{className:rt.loading,ownerState:tt,children:J})):0!==$e.length||P||Y||(pt=dt(j.jsx(Gn,{className:rt.noOptions,ownerState:tt,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:ee}))),j.jsxs(v.Fragment,{children:[j.jsx(Bn,w({ref:t,className:E(rt.root,s),ownerState:tt},Ee(ke),{children:me({id:Me,disabled:C,fullWidth:!0,size:"small"===we?"small":void 0,InputLabelProps:Te(),InputProps:w({ref:He,className:rt.inputRoot,startAdornment:nt,onClick:e=>{e.target===e.currentTarget&&Ye(e)}},(We||Ke)&&{endAdornment:j.jsxs(Hn,{className:rt.endAdornment,ownerState:tt,children:[We?j.jsx(Un,w({},Ie(),{"aria-label":h,title:h,ownerState:tt},lt,{className:E(rt.clearIndicator,null==lt?void 0:lt.className),children:c})):null,Ke?j.jsx($n,w({},qe(),{disabled:C,"aria-label":De?m:re,title:De?m:re,ownerState:tt},ct,{className:E(rt.popupIndicator,null==ct?void 0:ct.className),children:ce})):null]})}),inputProps:w({className:rt.input,disabled:C,readOnly:ge},Ce())})})),Be?pt:null]})})),eo=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],to=oe("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Jt.grouped}`]:t.grouped},{[`& .${Jt.grouped}`]:t[`grouped${k(r.orientation)}`]},{[`& .${Jt.grouped}`]:t[`grouped${k(r.variant)}`]},{[`& .${Jt.grouped}`]:t[`grouped${k(r.variant)}${k(r.orientation)}`]},{[`& .${Jt.grouped}`]:t[`grouped${k(r.variant)}${k(r.color)}`]},{[`& .${Jt.firstButton}`]:t.firstButton},{[`& .${Jt.lastButton}`]:t.lastButton},{[`& .${Jt.middleButton}`]:t.middleButton},t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>w({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${Jt.grouped}`]:w({minWidth:40,"&:hover":w({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${Jt.firstButton},& .${Jt.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Jt.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Jt.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:C(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Jt.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Jt.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":w({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${Jt.lastButton},& .${Jt.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})}))),ro=v.forwardRef((function(e,t){const r=ie({props:e,name:"MuiButtonGroup"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"primary":i,l=r.component,s=void 0===l?"div":l,u=r.disabled,c=void 0!==u&&u,d=r.disableElevation,p=void 0!==d&&d,h=r.disableFocusRipple,g=void 0!==h&&h,m=r.disableRipple,y=void 0!==m&&m,b=r.fullWidth,_=void 0!==b&&b,x=r.orientation,O=void 0===x?"horizontal":x,S=r.size,C=void 0===S?"medium":S,T=r.variant,q=void 0===T?"outlined":T,I=f(r,eo),A=w({},r,{color:a,component:s,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,orientation:O,size:C,variant:q}),L=(e=>{const t=e.classes,r=e.color,n=e.disabled,o=e.disableElevation,i=e.fullWidth,a=e.orientation,l=e.variant,s={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${k(a)}`,`grouped${k(l)}`,`grouped${k(l)}${k(a)}`,`grouped${k(l)}${k(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ae(s,Qt,t)})(A),P=v.useMemo((()=>({className:L.grouped,color:a,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,size:C,variant:q})),[a,c,p,g,y,_,C,q,L.grouped]),N=function(e){return v.Children.toArray(e).filter((e=>v.isValidElement(e)))}(n),F=N.length,R=e=>{const t=0===e,r=e===F-1;return t&&r?"":t?L.firstButton:r?L.lastButton:L.middleButton};return j.jsx(to,w({as:s,role:"group",className:E(L.root,o),ref:t,ownerState:A},I,{children:j.jsx(ge.Provider,{value:P,children:N.map(((e,t)=>j.jsx(ve.Provider,{value:R(t),children:e},t)))})}))}));function no(e){return O("MuiDialogContentText",e)}S("MuiDialogContentText",["root"]);const oo=["children","className"],io=oe(me,{shouldForwardProp:e=>ye(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ao=v.forwardRef((function(e,t){const r=ie({props:e,name:"MuiDialogContentText"}),n=r.className,o=f(r,oo),i=(e=>{const t=e.classes,r=ae({root:["root"]},no,t);return w({},t,r)})(o);return j.jsx(io,w({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:E(i.root,n)},r,{classes:i}))}));function lo(e){return O("MuiIcon",e)}S("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const so=["baseClassName","className","color","component","fontSize"],uo=oe("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"inherit"!==r.color&&t[`color${k(r.color)}`],t[`fontSize${k(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]}))),co=v.forwardRef((function(e,t){const r=ie({props:e,name:"MuiIcon"}),n=r.baseClassName,o=void 0===n?"material-icons":n,i=r.className,a=r.color,l=void 0===a?"inherit":a,s=r.component,u=void 0===s?"span":s,c=r.fontSize,d=void 0===c?"medium":c,p=f(r,so),h=w({},r,{baseClassName:o,color:l,component:u,fontSize:d}),g=(e=>{const t=e.color,r=e.fontSize,n=e.classes,o={root:["root","inherit"!==t&&`color${k(t)}`,`fontSize${k(r)}`]};return ae(o,lo,n)})(h);return j.jsx(uo,w({as:u,className:E(o,"notranslate",g.root,i),ownerState:h,"aria-hidden":!0,ref:t},p))}));co.muiName="Icon";const po=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],fo=oe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${be.primary}`]:t.primary},{[`& .${be.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((({ownerState:e})=>w({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),ho=v.forwardRef((function(e,t){const r=ie({props:e,name:"MuiListItemText"}),n=r.children,o=r.className,i=r.disableTypography,a=void 0!==i&&i,l=r.inset,s=void 0!==l&&l,u=r.primary,c=r.primaryTypographyProps,d=r.secondary,p=r.secondaryTypographyProps,h=f(r,po),g=v.useContext(_e).dense;let m=null!=u?u:n,y=d;const b=w({},r,{disableTypography:a,inset:s,primary:!!m,secondary:!!y,dense:g}),_=(e=>{const t=e.classes,r=e.inset,n=e.primary,o=e.secondary,i=e.dense;return ae({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},xe,t)})(b);return null==m||m.type===me||a||(m=j.jsx(me,w({variant:g?"body2":"body1",className:_.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:m}))),null==y||y.type===me||a||(y=j.jsx(me,w({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:y}))),j.jsxs(fo,w({className:E(_.root,o),ownerState:b,ref:t},h,{children:[m,y]}))}));function go(e,t){return e-t}function vo(e,t){var r;const n=null!=(r=e.reduce(((e,r,n)=>{const o=Math.abs(t-r);return null===e||o<e.distance||o===e.distance?{distance:o,index:n}:e}),null))?r:{};return n.index}function mo(e,t){if(void 0!==t.current&&e.changedTouches){const r=e;for(let e=0;e<r.changedTouches.length;e+=1){const n=r.changedTouches[e];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function yo(e,t,r){return 100*(e-t)/(r-t)}function bo(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function _o({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(go)}function xo({sliderRef:e,activeIndex:t,setActive:r}){var n,o;const i=Se(e.current);var a;null!=(n=e.current)&&n.contains(i.activeElement)&&Number(null==i||null==(o=i.activeElement)?void 0:o.getAttribute("data-index"))===t||(null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus());r&&r(t)}function wo(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&function(e,t,r=((e,t)=>e===t)){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}(e,t)}const Oo={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},So=e=>e;let ko;function jo(){return void 0===ko&&(ko="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),ko}function Eo(e){const t=e["aria-labelledby"],r=e.defaultValue,n=e.disabled,o=void 0!==n&&n,i=e.disableSwap,a=void 0!==i&&i,l=e.isRtl,s=void 0!==l&&l,u=e.marks,c=void 0!==u&&u,d=e.max,p=void 0===d?100:d,f=e.min,g=void 0===f?0:f,m=e.name,y=e.onChange,b=e.onChangeCommitted,_=e.orientation,x=void 0===_?"horizontal":_,O=e.rootRef,S=e.scale,k=void 0===S?So:S,j=e.step,E=void 0===j?1:j,C=e.shiftStep,q=void 0===C?10:C,I=e.tabIndex,A=e.value,L=v.useRef(),P=h(v.useState(-1),2),N=P[0],F=P[1],R=h(v.useState(-1),2),M=R[0],D=R[1],V=h(v.useState(!1),2),z=V[0],B=V[1],H=v.useRef(0),U=h(te({controlled:A,default:null!=r?r:g,name:"Slider"}),2),$=U[0],W=U[1],K=y&&((e,t,r)=>{const n=e.nativeEvent||e,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:m}}),y(o,t,r)}),Y=Array.isArray($);let G=Y?$.slice().sort(go):[$];G=G.map((e=>null==e?g:T(e,g,p)));const J=!0===c&&null!==E?[...Array(Math.floor((p-g)/E)+1)].map(((e,t)=>({value:g+E*t}))):c||[],Q=J.map((e=>e.value)),X=we(),Z=X.isFocusVisibleRef,ee=X.onBlur,ne=X.onFocus,oe=X.ref,ie=h(v.useState(-1),2),ae=ie[0],le=ie[1],se=v.useRef(),ue=he(oe,se),ce=he(O,ue),de=e=>t=>{var r;const n=Number(t.currentTarget.getAttribute("data-index"));ne(t),!0===Z.current&&le(n),D(n),null==e||null==(r=e.onFocus)||r.call(e,t)},pe=e=>t=>{var r;ee(t),!1===Z.current&&le(-1),D(-1),null==e||null==(r=e.onBlur)||r.call(e,t)},fe=(e,t)=>{const r=Number(e.currentTarget.getAttribute("data-index")),n=G[r],o=Q.indexOf(n);let i=t;if(J&&null==E){const e=Q[Q.length-1];i=i>e?e:i<Q[0]?Q[0]:i<n?Q[o-1]:Q[o+1]}if(i=T(i,g,p),Y){a&&(i=T(i,G[r-1]||-1/0,G[r+1]||1/0));const e=i;i=_o({values:G,newValue:i,index:r});let t=r;a||(t=i.indexOf(e)),xo({sliderRef:se,activeIndex:t})}W(i),le(r),K&&!wo(i,$)&&K(e,i,r),b&&b(e,i)},ge=e=>t=>{var r;if(null!==E){const e=Number(t.currentTarget.getAttribute("data-index")),r=G[e];let n=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?n=Math.max(r-q,g):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(n=Math.min(r+q,p)),null!==n&&(fe(t,n),t.preventDefault())}null==e||null==(r=e.onKeyDown)||r.call(e,t)};Oe((()=>{var e;o&&se.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[o]),o&&-1!==N&&F(-1),o&&-1!==ae&&le(-1);const ve=v.useRef();let me=x;s&&"horizontal"===x&&(me+="-reverse");const ye=({finger:e,move:t=!1})=>{const r=se.current.getBoundingClientRect(),n=r.width,o=r.height,i=r.bottom,l=r.left;let s,u;if(s=0===me.indexOf("vertical")?(i-e.y)/o:(e.x-l)/n,-1!==me.indexOf("-reverse")&&(s=1-s),u=function(e,t,r){return(r-t)*e+t}(s,g,p),E)u=bo(u,E,g);else{const e=vo(Q,u);u=Q[e]}u=T(u,g,p);let c=0;if(Y){c=t?ve.current:vo(G,u),a&&(u=T(u,G[c-1]||-1/0,G[c+1]||1/0));const e=u;u=_o({values:G,newValue:u,index:c}),a&&t||(c=u.indexOf(e),ve.current=c)}return{newValue:u,activeIndex:c}},be=re((e=>{const t=mo(e,L);if(!t)return;if(H.current+=1,"mousemove"===e.type&&0===e.buttons)return void _e(e);const r=ye({finger:t,move:!0}),n=r.newValue,o=r.activeIndex;xo({sliderRef:se,activeIndex:o,setActive:F}),W(n),!z&&H.current>2&&B(!0),K&&!wo(n,$)&&K(e,n,o)})),_e=re((e=>{const t=mo(e,L);if(B(!1),!t)return;const r=ye({finger:t,move:!0}).newValue;F(-1),"touchend"===e.type&&D(-1),b&&b(e,r),L.current=void 0,je()})),xe=re((e=>{if(o)return;jo()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(L.current=t.identifier);const r=mo(e,L);if(!1!==r){const t=ye({finger:r}),n=t.newValue,o=t.activeIndex;xo({sliderRef:se,activeIndex:o,setActive:F}),W(n),K&&!wo(n,$)&&K(e,n,o)}H.current=0;const n=Se(se.current);n.addEventListener("touchmove",be,{passive:!0}),n.addEventListener("touchend",_e,{passive:!0})})),je=v.useCallback((()=>{const e=Se(se.current);e.removeEventListener("mousemove",be),e.removeEventListener("mouseup",_e),e.removeEventListener("touchmove",be),e.removeEventListener("touchend",_e)}),[_e,be]);v.useEffect((()=>{const e=se.current;return e.addEventListener("touchstart",xe,{passive:jo()}),()=>{e.removeEventListener("touchstart",xe),je()}}),[je,xe]),v.useEffect((()=>{o&&je()}),[o,je]);const Ee=yo(Y?G[0]:g,g,p),Ce=yo(G[G.length-1],g,p)-Ee,Te=e=>t=>{var r;null==(r=e.onMouseLeave)||r.call(e,t),D(-1)};return{active:N,axis:me,axisProps:Oo,dragging:z,focusedThumbIndex:ae,getHiddenInputProps:(r={})=>{var n;const i=ke(r),a={onChange:(l=i||{},e=>{var t;null==(t=l.onChange)||t.call(l,e),fe(e,e.target.valueAsNumber)}),onFocus:de(i||{}),onBlur:pe(i||{}),onKeyDown:ge(i||{})};var l;const u=w({},i,a);return w({tabIndex:I,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":k(p),"aria-valuemin":k(g),name:m,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:o},r,u,{style:w({},kn,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{const t=ke(e),r={onMouseDown:(n=t||{},e=>{var t;if(null==(t=n.onMouseDown)||t.call(n,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=mo(e,L);if(!1!==r){const t=ye({finger:r}),n=t.newValue,o=t.activeIndex;xo({sliderRef:se,activeIndex:o,setActive:F}),W(n),K&&!wo(n,$)&&K(e,n,o)}H.current=0;const i=Se(se.current);i.addEventListener("mousemove",be,{passive:!0}),i.addEventListener("mouseup",_e)})};var n;const i=w({},t,r);return w({},e,{ref:ce},i)},getThumbProps:(e={})=>{const t=ke(e),r={onMouseOver:(n=t||{},e=>{var t;null==(t=n.onMouseOver)||t.call(n,e);const r=Number(e.currentTarget.getAttribute("data-index"));D(r)}),onMouseLeave:Te(t||{})};var n;return w({},e,t,r)},marks:J,open:M,range:Y,rootRef:ce,trackLeap:Ce,trackOffset:Ee,values:G,getThumbStyle:e=>({pointerEvents:-1!==N&&N!==e?"none":void 0})}}const Co=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function To(e){return e}const qo=oe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`color${k(r.color)}`],"medium"!==r.size&&t[`size${k(r.size)}`],r.marked&&t.marked,"vertical"===r.orientation&&t.vertical,"inverted"===r.track&&t.trackInverted,!1===r.track&&t.trackFalse]}})((({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Xt.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Xt.dragging}`]:{[`& .${Xt.thumb}, & .${Xt.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),Io=oe("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Ao=oe("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t,track:"inverted"},style:w({},e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:w({backgroundColor:q(e.palette[t].main,.62),borderColor:q(e.palette[t].main,.62)},e.applyStyles("dark",{backgroundColor:I(e.palette[t].main,.5)}),e.applyStyles("dark",{borderColor:I(e.palette[t].main,.5)})))})))]}})),Lo=oe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.thumb,t[`thumbColor${k(r.color)}`],"medium"!==r.size&&t[`thumbSize${k(r.size)}`]]}})((({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Xt.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{[`&:hover, &.${Xt.focusVisible}`]:w({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${C(e.palette[t].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Xt.active}`]:w({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${C(e.palette[t].main,.16)}`})}})))]}})),Po=oe((function(e){const t=e.children,r=e.className,n=e.value,o=(e=>{const t=e.open;return{offset:E(t&&Xt.valueLabelOpen),circle:Xt.valueLabelCircle,label:Xt.valueLabelLabel}})(e);return t?v.cloneElement(t,{className:E(t.props.className)},j.jsxs(v.Fragment,{children:[t.props.children,j.jsx("span",{className:E(o.offset,r),"aria-hidden":!0,children:j.jsx("span",{className:o.circle,children:j.jsx("span",{className:o.label,children:n})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((({theme:e})=>w({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Xt.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Xt.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),No=oe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ee(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const r=e.markActive;return[t.mark,r&&t.markActive]}})((({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Fo=oe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ee(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((({theme:e})=>w({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Ro=({children:e})=>e,Mo=v.forwardRef((function(e,t){var r,n,o,i,a,l,s,u,c,d,p,h,g,m,y,b,_,x,O,S,C,T,q,I;const A=ie({props:e,name:"MuiSlider"}),L=Ce(),P=A["aria-label"],N=A["aria-valuetext"],F=A["aria-labelledby"],R=A.component,M=void 0===R?"span":R,D=A.components,V=void 0===D?{}:D,z=A.componentsProps,B=void 0===z?{}:z,H=A.color,U=void 0===H?"primary":H,$=A.classes,W=A.className,K=A.disableSwap,Y=void 0!==K&&K,G=A.disabled,J=void 0!==G&&G,Q=A.getAriaLabel,X=A.getAriaValueText,Z=A.marks,ee=void 0!==Z&&Z,te=A.max,re=void 0===te?100:te,ne=A.min,oe=void 0===ne?0:ne,le=A.orientation,se=void 0===le?"horizontal":le,ue=A.shiftStep,ce=void 0===ue?10:ue,de=A.size,pe=void 0===de?"medium":de,fe=A.step,he=void 0===fe?1:fe,ge=A.scale,ve=void 0===ge?To:ge,me=A.slotProps,ye=A.slots,be=A.track,_e=void 0===be?"normal":be,xe=A.valueLabelDisplay,we=void 0===xe?"off":xe,Oe=A.valueLabelFormat,Se=void 0===Oe?To:Oe,ke=f(A,Co),Ee=w({},A,{isRtl:L,max:re,min:oe,classes:$,disabled:J,disableSwap:Y,orientation:se,marks:ee,color:U,size:pe,step:he,shiftStep:ce,scale:ve,track:_e,valueLabelDisplay:we,valueLabelFormat:Se}),qe=Eo(w({},Ee,{rootRef:t})),Ie=qe.axisProps,Ae=qe.getRootProps,Le=qe.getHiddenInputProps,Pe=qe.getThumbProps,Ne=qe.open,Fe=qe.active,Re=qe.axis,Me=qe.focusedThumbIndex,De=qe.range,Ve=qe.dragging,ze=qe.marks,Be=qe.values,He=qe.trackOffset,Ue=qe.trackLeap,$e=qe.getThumbStyle;Ee.marked=ze.length>0&&ze.some((e=>e.label)),Ee.dragging=Ve,Ee.focusedThumbIndex=Me;const We=(e=>{const t=e.disabled,r=e.dragging,n=e.marked,o=e.orientation,i=e.track,a=e.classes,l=e.color,s=e.size,u={root:["root",t&&"disabled",r&&"dragging",n&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",l&&`color${k(l)}`,s&&`size${k(s)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",s&&`thumbSize${k(s)}`,l&&`thumbColor${k(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ae(u,Zt,a)})(Ee),Ke=null!=(r=null!=(n=null==ye?void 0:ye.root)?n:V.Root)?r:qo,Ye=null!=(o=null!=(i=null==ye?void 0:ye.rail)?i:V.Rail)?o:Io,Ge=null!=(a=null!=(l=null==ye?void 0:ye.track)?l:V.Track)?a:Ao,Je=null!=(s=null!=(u=null==ye?void 0:ye.thumb)?u:V.Thumb)?s:Lo,Qe=null!=(c=null!=(d=null==ye?void 0:ye.valueLabel)?d:V.ValueLabel)?c:Po,Xe=null!=(p=null!=(h=null==ye?void 0:ye.mark)?h:V.Mark)?p:No,Ze=null!=(g=null!=(m=null==ye?void 0:ye.markLabel)?m:V.MarkLabel)?g:Fo,et=null!=(y=null!=(b=null==ye?void 0:ye.input)?b:V.Input)?y:"input",tt=null!=(_=null==me?void 0:me.root)?_:B.root,rt=null!=(x=null==me?void 0:me.rail)?x:B.rail,nt=null!=(O=null==me?void 0:me.track)?O:B.track,ot=null!=(S=null==me?void 0:me.thumb)?S:B.thumb,it=null!=(C=null==me?void 0:me.valueLabel)?C:B.valueLabel,at=null!=(T=null==me?void 0:me.mark)?T:B.mark,lt=null!=(q=null==me?void 0:me.markLabel)?q:B.markLabel,st=null!=(I=null==me?void 0:me.input)?I:B.input,ut=Te({elementType:Ke,getSlotProps:Ae,externalSlotProps:tt,externalForwardedProps:ke,additionalProps:w({},(ct=Ke,(!ct||!je(ct))&&{as:M})),ownerState:w({},Ee,null==tt?void 0:tt.ownerState),className:[We.root,W]});var ct;const dt=Te({elementType:Ye,externalSlotProps:rt,ownerState:Ee,className:We.rail}),pt=Te({elementType:Ge,externalSlotProps:nt,additionalProps:{style:w({},Ie[Re].offset(He),Ie[Re].leap(Ue))},ownerState:w({},Ee,null==nt?void 0:nt.ownerState),className:We.track}),ft=Te({elementType:Je,getSlotProps:Pe,externalSlotProps:ot,ownerState:w({},Ee,null==ot?void 0:ot.ownerState),className:We.thumb}),ht=Te({elementType:Qe,externalSlotProps:it,ownerState:w({},Ee,null==it?void 0:it.ownerState),className:We.valueLabel}),gt=Te({elementType:Xe,externalSlotProps:at,ownerState:Ee,className:We.mark}),vt=Te({elementType:Ze,externalSlotProps:lt,ownerState:Ee,className:We.markLabel}),mt=Te({elementType:et,getSlotProps:Le,externalSlotProps:st,ownerState:Ee});return j.jsxs(Ke,w({},ut,{children:[j.jsx(Ye,w({},dt)),j.jsx(Ge,w({},pt)),ze.filter((e=>e.value>=oe&&e.value<=re)).map(((e,t)=>{const r=yo(e.value,oe,re),n=Ie[Re].offset(r);let o;return o=!1===_e?-1!==Be.indexOf(e.value):"normal"===_e&&(De?e.value>=Be[0]&&e.value<=Be[Be.length-1]:e.value<=Be[0])||"inverted"===_e&&(De?e.value<=Be[0]||e.value>=Be[Be.length-1]:e.value>=Be[0]),j.jsxs(v.Fragment,{children:[j.jsx(Xe,w({"data-index":t},gt,!je(Xe)&&{markActive:o},{style:w({},n,gt.style),className:E(gt.className,o&&We.markActive)})),null!=e.label?j.jsx(Ze,w({"aria-hidden":!0,"data-index":t},vt,!je(Ze)&&{markLabelActive:o},{style:w({},n,vt.style),className:E(We.markLabel,vt.className,o&&We.markLabelActive),children:e.label})):null]},t)})),Be.map(((e,t)=>{const r=yo(e,oe,re),n=Ie[Re].offset(r),o="off"===we?Ro:Qe;return j.jsx(o,w({},!je(o)&&{valueLabelFormat:Se,valueLabelDisplay:we,value:"function"==typeof Se?Se(ve(e),t):Se,index:t,open:Ne===t||Fe===t||"on"===we,disabled:J},ht,{children:j.jsx(Je,w({"data-index":t},ft,{className:E(We.thumb,ft.className,Fe===t&&We.active,Me===t&&We.focusVisible),style:w({},n,$e(t),ft.style),children:j.jsx(et,w({"data-index":t,"aria-label":Q?Q(t):P,"aria-valuenow":ve(e),"aria-labelledby":F,"aria-valuetext":X?X(ve(e),t):N,value:Be[t]},mt))}))}),t)}))]}))}));const Do=Ae(j.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),Vo={noPadding:"_noPadding_1ii70_1",addRow:"_addRow_1ii70_5",addColumn:"_addColumn_1ii70_9",addIcon:"_addIcon_1ii70_13",svgContainer:"_svgContainer_1ii70_23",addButton:"_addButton_1ii70_31"},zo={mainContainer:"_mainContainer_as1f9_1",updateButtons:"_updateButtons_as1f9_5",save:"_save_as1f9_14",header:"_header_as1f9_18"},Bo="_footer_11fy7_18",Ho="_contentPanel_11fy7_22",Uo="_cardImage_11fy7_29",$o="_virtuosoStyle_11fy7_41",Wo="_cardMediaContent_11fy7_46",Ko="_errorDisplay_1joy4_1",Yo="_clickable_1joy4_10";var Go={},Jo=A;Object.defineProperty(Go,"__esModule",{value:!0});var Qo=Go.default=void 0,Xo=Jo(Le()),Zo=j;Qo=Go.default=(0,Xo.default)((0,Zo.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");const ei=(e,t,r)=>"EMPTY_PARENT"===t?r("err_empty_parent",{component_name:ri(e,r),child_name:ni(e,r)}):"DUPLICATE_CODE"===t?(r("err_duplicate_code"),{component_name:ri(e,r)}):"NO_END_GROUP"===t?r("err_no_end_group"):"MISPLACED_END_GROUP"===t?r("err_misplaced_end_group"):"MISPLACED_WELCOME_GROUP"===t?r("err_misplaced_welcome_group"):"",ti=(e,t)=>"value"===e.code&&"InvalidInstructionInEndGroup"==e.errors[0].name?t("err_value_in_end_group"):"conditional_relevance"===e.code?t("err_relevance"):"random_group"===e.code?t("err_random"):"priority_groups"===e.code?t("err_priority"):e.code.startsWith("reference")?j.jsx(Sn,{t:t,values:{codes:e.errors.map((e=>{var t;return null===(t=e.dependency)||void 0===t?void 0:t.componentCode})).join(", "),lang:e.lang},i18nKey:"err_reference"}):e.code.startsWith("skip_to")?t("err_skip"):"",ri=(e,t)=>"Survey"==e?t("survey"):Me(e)?t("question"):Re(e)?t("group"):t("option"),ni=(e,t)=>Re(e)?t("question"):t("Survey"==e?"group":"option"),oi=v.memo((function(e){const t=Pe("design").t,r=Ne(),n=cr([t=>t.designState[e.code]||{}],(e=>{var t;const r=null===(t=e.instructionList)||void 0===t?void 0:t.filter((e=>{var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>0}));return{errors:e.errors,designErrors:e.designErrors,instructions:null!=r&&r.length?r:void 0}})),o=Fe(n),i=o.errors,a=o.designErrors,l=o.instructions,s=(null==i?void 0:i.length)>0||(null==a?void 0:a.length)>0||(null==l?void 0:l.length)>0,u=Fe((t=>{var r;return"Survey"==e.code?"":Re(e.code)?(null===(r=t.designState[e.code].groupType)||void 0===r?void 0:r.toLowerCase())||"group":t.designState[e.code].type}));return s?j.jsxs(L,{className:Ko,children:[i&&i.map((r=>j.jsxs("div",{children:[j.jsx(er,{style:{verticalAlign:"middle"}}),ei(e.code,r,t)]},r))),a&&a.map((e=>j.jsxs("div",{children:[j.jsx(er,{style:{verticalAlign:"middle"}}),e.message]},e.code))),l&&l.map((n=>{return j.jsxs("div",{className:(o=n,"conditional_relevance"===o.code||"random_group"===o.code||"priority_groups"===o.code||o.code.startsWith("skip_to")?Yo:""),onClick:()=>(t=>("conditional_relevance"===t.code?r(De({code:e.code,rules:Ve(u),highlighted:"relevance",expanded:["relevance"]})):"random_group"===t.code||"priority_groups"===t.code?"Survey"==e.code?r(De(p(p({},ze),{},{highlighted:"random"}))):r(De({code:e.code,rules:Ve(u),highlighted:"random",expanded:["random"]})):t.code.startsWith("skip_to")&&r(De({code:e.code,rules:Ve(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""))(n),children:[j.jsx(Qo,{style:{verticalAlign:"middle"}}),ti(n,t)]},n.code);var o}))]}):j.jsx(j.Fragment,{})}));var ii={},ai=A;Object.defineProperty(ii,"__esModule",{value:!0});var li=ii.default=void 0,si=ai(Le()),ui=j;li=ii.default=(0,si.default)((0,ui.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const ci="_textDescriptionContent_o9cn8_1",di="_moveBox_o9cn8_7",pi="_groupQuestion_o9cn8_13",fi="_titleContainer_o9cn8_22",hi="_titleQuestion_o9cn8_29",gi="_iconBox_o9cn8_39",vi="_actionToolbarVisible_o9cn8_59",mi="_contentContainer_o9cn8_64",yi="_fullWidth_1dvff_1",bi="_noPadding_1dvff_12",_i="_placeholder_1dvff_25";var xi=function(){this.__data__=[],this.size=0};var wi=function(e,t){return e===t||e!=e&&t!=t},Oi=wi;var Si=function(e,t){for(var r=e.length;r--;)if(Oi(e[r][0],t))return r;return-1},ki=Si,ji=Array.prototype.splice;var Ei=function(e){var t=this.__data__,r=ki(t,e);return!(r<0)&&(r==t.length-1?t.pop():ji.call(t,r,1),--this.size,!0)},Ci=Si;var Ti=function(e){var t=this.__data__,r=Ci(t,e);return r<0?void 0:t[r][1]},qi=Si;var Ii=Si;var Ai=function(e,t){var r=this.__data__,n=Ii(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Li=xi,Pi=Ei,Ni=Ti,Fi=function(e){return qi(this.__data__,e)>-1},Ri=Ai;function Mi(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mi.prototype.clear=Li,Mi.prototype.delete=Pi,Mi.prototype.get=Ni,Mi.prototype.has=Fi,Mi.prototype.set=Ri;var Di=Mi,Vi=Di;var zi=function(){this.__data__=new Vi,this.size=0};var Bi=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Hi=function(e){return this.__data__.get(e)};var Ui=function(e){return this.__data__.has(e)},$i="object"==typeof P&&P&&P.Object===Object&&P,Wi=$i,Ki="object"==typeof self&&self&&self.Object===Object&&self,Yi=Wi||Ki||Function("return this")(),Gi=Yi.Symbol,Ji=Gi,Qi=Object.prototype,Xi=Qi.hasOwnProperty,Zi=Qi.toString,ea=Ji?Ji.toStringTag:void 0;var ta=function(e){var t=Xi.call(e,ea),r=e[ea];try{e[ea]=void 0;var n=!0}catch(ln){}var o=Zi.call(e);return n&&(t?e[ea]=r:delete e[ea]),o},ra=Object.prototype.toString;var na=ta,oa=function(e){return ra.call(e)},ia=Gi?Gi.toStringTag:void 0;var aa=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ia&&ia in Object(e)?na(e):oa(e)};var la=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},sa=aa,ua=la;var ca,da=function(e){if(!ua(e))return!1;var t=sa(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},pa=Yi["__core-js_shared__"],fa=(ca=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||""))?"Symbol(src)_1."+ca:"";var ha=function(e){return!!fa&&fa in e},ga=Function.prototype.toString;var va=function(e){if(null!=e){try{return ga.call(e)}catch(ln){}try{return e+""}catch(ln){}}return""},ma=da,ya=ha,ba=la,_a=va,xa=/^\[object .+?Constructor\]$/,wa=Function.prototype,Oa=Object.prototype,Sa=wa.toString,ka=Oa.hasOwnProperty,ja=RegExp("^"+Sa.call(ka).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ea=function(e){return!(!ba(e)||ya(e))&&(ma(e)?ja:xa).test(_a(e))},Ca=function(e,t){return null==e?void 0:e[t]};var Ta=function(e,t){var r=Ca(e,t);return Ea(r)?r:void 0},qa=Ta(Yi,"Map"),Ia=Ta(Object,"create"),Aa=Ia;var La=function(){this.__data__=Aa?Aa(null):{},this.size=0};var Pa=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Na=Ia,Fa=Object.prototype.hasOwnProperty;var Ra=function(e){var t=this.__data__;if(Na){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Fa.call(t,e)?t[e]:void 0},Ma=Ia,Da=Object.prototype.hasOwnProperty;var Va=Ia;var za=La,Ba=Pa,Ha=Ra,Ua=function(e){var t=this.__data__;return Ma?void 0!==t[e]:Da.call(t,e)},$a=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Va&&void 0===t?"__lodash_hash_undefined__":t,this};function Wa(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wa.prototype.clear=za,Wa.prototype.delete=Ba,Wa.prototype.get=Ha,Wa.prototype.has=Ua,Wa.prototype.set=$a;var Ka=Wa,Ya=Di,Ga=qa;var Ja=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Qa=Ja;var Xa=function(e,t){var r=e.__data__;return Qa(t)?r["string"==typeof t?"string":"hash"]:r.map},Za=Xa;var el=Xa;var tl=Xa;var rl=Xa;var nl=function(){this.size=0,this.__data__={hash:new Ka,map:new(Ga||Ya),string:new Ka}},ol=function(e){var t=Za(this,e).delete(e);return this.size-=t?1:0,t},il=function(e){return el(this,e).get(e)},al=function(e){return tl(this,e).has(e)},ll=function(e,t){var r=rl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function sl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sl.prototype.clear=nl,sl.prototype.delete=ol,sl.prototype.get=il,sl.prototype.has=al,sl.prototype.set=ll;var ul=sl,cl=Di,dl=qa,pl=ul;var fl=Di,hl=zi,gl=Bi,vl=Hi,ml=Ui,yl=function(e,t){var r=this.__data__;if(r instanceof cl){var n=r.__data__;if(!dl||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pl(n)}return r.set(e,t),this.size=r.size,this};function bl(e){var t=this.__data__=new fl(e);this.size=t.size}bl.prototype.clear=hl,bl.prototype.delete=gl,bl.prototype.get=vl,bl.prototype.has=ml,bl.prototype.set=yl;var _l=bl;var xl=ul,wl=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ol=function(e){return this.__data__.has(e)};function Sl(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new xl;++t<r;)this.add(e[t])}Sl.prototype.add=Sl.prototype.push=wl,Sl.prototype.has=Ol;var kl=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var jl=Sl,El=kl,Cl=function(e,t){return e.has(t)};var Tl=function(e,t,r,n,o,i){var a=1&r,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=2&r?new jl:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!El(t,(function(e,t){if(!Cl(f,t)&&(h===e||o(h,e,r,n,i)))return f.push(t)}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},ql=Yi.Uint8Array;var Il=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Al=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Ll=ql,Pl=wi,Nl=Tl,Fl=Il,Rl=Al,Ml=Gi?Gi.prototype:void 0,Dl=Ml?Ml.valueOf:void 0;var Vl=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ll(e),new Ll(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Fl;case"[object Set]":var s=1&n;if(l||(l=Rl),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=Nl(l(e),l(t),n,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Dl)return Dl.call(e)==Dl.call(t)}return!1};var zl=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Bl=Array.isArray,Hl=zl,Ul=Bl;var $l=function(e,t,r){var n=t(e);return Ul(e)?n:Hl(n,r(e))};var Wl=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Kl=function(){return[]},Yl=Wl,Gl=Kl,Jl=Object.prototype.propertyIsEnumerable,Ql=Object.getOwnPropertySymbols,Xl=Ql?function(e){return null==e?[]:(e=Object(e),Yl(Ql(e),(function(t){return Jl.call(e,t)})))}:Gl;var Zl=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var es=function(e){return null!=e&&"object"==typeof e},ts=aa,rs=es;var ns=function(e){return rs(e)&&"[object Arguments]"==ts(e)},os=es,is=Object.prototype,as=is.hasOwnProperty,ls=is.propertyIsEnumerable,ss=ns(function(){return arguments}())?ns:function(e){return os(e)&&as.call(e,"callee")&&!ls.call(e,"callee")},us=ss,cs={exports:{}};var ds=function(){return!1};!function(e,t){var r=Yi,n=ds,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;e.exports=l}(cs,cs.exports);var ps=cs.exports,fs=/^(?:0|[1-9]\d*)$/;var hs=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&fs.test(e))&&e>-1&&e%1==0&&e<t};var gs=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vs=aa,ms=gs,ys=es,bs={};bs["[object Float32Array]"]=bs["[object Float64Array]"]=bs["[object Int8Array]"]=bs["[object Int16Array]"]=bs["[object Int32Array]"]=bs["[object Uint8Array]"]=bs["[object Uint8ClampedArray]"]=bs["[object Uint16Array]"]=bs["[object Uint32Array]"]=!0,bs["[object Arguments]"]=bs["[object Array]"]=bs["[object ArrayBuffer]"]=bs["[object Boolean]"]=bs["[object DataView]"]=bs["[object Date]"]=bs["[object Error]"]=bs["[object Function]"]=bs["[object Map]"]=bs["[object Number]"]=bs["[object Object]"]=bs["[object RegExp]"]=bs["[object Set]"]=bs["[object String]"]=bs["[object WeakMap]"]=!1;var _s=function(e){return ys(e)&&ms(e.length)&&!!bs[vs(e)]};var xs=function(e){return function(t){return e(t)}},ws={exports:{}};!function(e,t){var r=$i,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(ln){}}();e.exports=a}(ws,ws.exports);var Os=ws.exports,Ss=_s,ks=xs,js=Os&&Os.isTypedArray,Es=js?ks(js):Ss,Cs=Zl,Ts=us,qs=Bl,Is=ps,As=hs,Ls=Es,Ps=Object.prototype.hasOwnProperty;var Ns=function(e,t){var r=qs(e),n=!r&&Ts(e),o=!r&&!n&&Is(e),i=!r&&!n&&!o&&Ls(e),a=r||n||o||i,l=a?Cs(e.length,String):[],s=l.length;for(var u in e)!t&&!Ps.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||As(u,s))||l.push(u);return l},Fs=Object.prototype;var Rs=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fs)};var Ms=function(e,t){return function(r){return e(t(r))}},Ds=Ms(Object.keys,Object),Vs=Rs,zs=Ds,Bs=Object.prototype.hasOwnProperty;var Hs=da,Us=gs;var $s=function(e){return null!=e&&Us(e.length)&&!Hs(e)},Ws=Ns,Ks=function(e){if(!Vs(e))return zs(e);var t=[];for(var r in Object(e))Bs.call(e,r)&&"constructor"!=r&&t.push(r);return t},Ys=$s;var Gs=function(e){return Ys(e)?Ws(e):Ks(e)};const Js=g(Gs);var Qs=$l,Xs=Xl,Zs=Gs;var eu=function(e){return Qs(e,Zs,Xs)},tu=eu,ru=Object.prototype.hasOwnProperty;var nu=function(e,t,r,n,o,i){var a=1&r,l=tu(e),s=l.length;if(s!=tu(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:ru.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f},ou=Ta(Yi,"DataView"),iu=qa,au=Ta(Yi,"Promise"),lu=Ta(Yi,"Set"),su=Ta(Yi,"WeakMap"),uu=aa,cu=va,du="[object Map]",pu="[object Promise]",fu="[object Set]",hu="[object WeakMap]",gu="[object DataView]",vu=cu(ou),mu=cu(iu),yu=cu(au),bu=cu(lu),_u=cu(su),xu=uu;(ou&&xu(new ou(new ArrayBuffer(1)))!=gu||iu&&xu(new iu)!=du||au&&xu(au.resolve())!=pu||lu&&xu(new lu)!=fu||su&&xu(new su)!=hu)&&(xu=function(e){var t=uu(e),r="[object Object]"==t?e.constructor:void 0,n=r?cu(r):"";if(n)switch(n){case vu:return gu;case mu:return du;case yu:return pu;case bu:return fu;case _u:return hu}return t});var wu=xu,Ou=_l,Su=Tl,ku=Vl,ju=nu,Eu=wu,Cu=Bl,Tu=ps,qu=Es,Iu="[object Arguments]",Au="[object Array]",Lu="[object Object]",Pu=Object.prototype.hasOwnProperty;var Nu=function(e,t,r,n,o,i){var a=Cu(e),l=Cu(t),s=a?Au:Eu(e),u=l?Au:Eu(t),c=(s=s==Iu?Lu:s)==Lu,d=(u=u==Iu?Lu:u)==Lu,p=s==u;if(p&&Tu(e)){if(!Tu(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new Ou),a||qu(e)?Su(e,t,r,n,o,i):ku(e,t,s,r,n,o,i);if(!(1&r)){var f=c&&Pu.call(e,"__wrapped__"),h=d&&Pu.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new Ou),o(g,v,r,n,i)}}return!!p&&(i||(i=new Ou),ju(e,t,r,n,o,i))},Fu=es;var Ru=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Fu(t)&&!Fu(r)?t!=t&&r!=r:Nu(t,r,n,o,e,i))},Mu=Ru;var Du=function(e,t){return Mu(e,t)},Vu={exports:{}};
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
!function(e,t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),a=r(45),l=r(46),s=r(47),u=r(48),c=r(49),d=r(12),p=r(32),f=r(33),h=r(31),g=r(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=v},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var a,l={},s={},u={},c={};function d(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||u[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=u[e]&&null!=n.className||(u[e]=n)})))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),a=r(20),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=c:f.insert=d.insert;var h=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),u.push(f),!r.hasNext()&&o(u.ops[u.ops.length-1],f)){var g=new s(t.rest());return u.concat(g).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},l=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},s=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,c,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(r in t)n=u(d,r),d!==(o=u(t,r))&&(h&&o&&(l(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&l(n)?n:{},s(d,{name:r,newValue:e(h,c,o)})):void 0!==o&&s(d,{name:r,newValue:o}));return d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=d(r(3)),a=d(r(2)),l=d(r(0)),s=d(r(16)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=l.default.create(v.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(l.default.Embed);g.scope=l.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return h(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(l.default.query(n,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;i.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof s.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(l.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,l.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var a=v(r(2)),l=v(r(14)),s=v(r(8)),u=v(r(9)),c=v(r(0)),d=r(15),p=v(d),f=v(r(3)),h=v(r(10)),g=v(r(34));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,h.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,n),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e){e===s.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;x.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return x.call(this,(function(){var n=r.getSelection(!0),o=new a.default;if(null==n)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,m({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,m({},e,t))}return r.setSelection(n,s.default.sources.SILENT),o}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatLine(e,t,a)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatText(e,t,a)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var a,l=this,s=w(e,0,r,n,i),u=o(s,4);return e=u[0],a=u[2],i=u[3],x.call(this,(function(){return l.editor.insertText(e,t,a)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=w(t,r,n),a=o(i,4);t=a[0],r=a[1],n=a[3],this.selection.setRange(new d.Range(t,r),n),n!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function _(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function x(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===s.default.sources.USER)return new a.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,l=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=O(o,l,t):0!==n&&(o=O(o,r,n,t)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var u,c,d=[s.default.events.TEXT_CHANGE,l,i,t];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return l}function w(e,t,r,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,i=o):"string"==typeof r&&(null!=o?a[r]=o:i=r),[e,t,a,i=i||s.default.sources.API]}function O(e,t,r,n){if(null==e)return null;var i=void 0,l=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==s.default.sources.USER)})),c=o(u,2);i=c[0],l=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===s.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),f=o(p,2);i=f[0],l=f[1]}return new d.Range(i,l-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=s.default.events,b.sources=s.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},t.expandConfig=_,t.overload=w,t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(7)),a=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&a.default.query(n,a.default.Scope.BLOT)){var l=this.isolate(e,r);i&&l.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(a.default.Inline);s.allowedChildren=[s,a.default.Embed,i.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,a(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){l.log.apply(l,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=o(e),p=o(t)}catch(ln){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],r))return!1;return typeof e==typeof t}(e,t,r))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=d(r(2)),l=d(r(0)),s=d(r(4)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);g.blotName="code",g.tagName="CODE";var v=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(c.default,this.length()-1),a=n(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=l.default.query(n,l.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,u=this.isolate(a,s),c=u.next;u.format(n,o),c instanceof t&&c.formatAt(0,e-a+r-s,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(c.default,e),i=n(o,2),a=i[0],l=i[1];a.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(s.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=m(r(2)),l=m(r(20)),s=m(r(0)),u=m(r(13)),c=m(r(24)),d=r(4),p=m(d),f=m(r(16)),h=m(r(21)),g=m(r(11)),v=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,h.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.default)}(e),e.reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var f=a.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),g=o(h,2),m=g[0],y=g[1],b=(0,v.default)({},(0,d.bubbleFormats)(m));if(m instanceof p.default){var _=m.descendant(s.default.Leaf,y),x=o(_,1)[0];b=(0,v.default)(b,(0,d.bubbleFormats)(x))}c=l.default.attributes.diff(b,c)||{}}else if("object"===n(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}i+=u}return Object.keys(c).forEach((function(r){t.scroll.formatAt(e,u,r,c[r])})),e+u}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof u.default){var l=e-t.offset(r.scroll),s=t.newlineIndex(l+a)-l+1;t.formatAt(l,s,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof s.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(s.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=_((0,d.bubbleFormats)(r),t)}return t}));return v.default.apply(v.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),l=i[0],s=i[1],c=0,d=new a.default;null!=l&&(c=l instanceof u.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(r).concat(d)),f=(new a.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&s.default.find(t[0].target)){var o=s.default.find(t[0].target),i=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),f=(new a.default).insert(o.value());e=(new a.default).retain(l).concat(p.diff(f,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(21)),l=u(r(11)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},h=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.TEXT_CHANGE&&t.length()>0&&n.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;n.setNativeRange(o,i,a,l)}})),this.update(s.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(s.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),a=n(i,2),l=a[0],s=a[1];if(null==l)return null;var u=l.position(s,!0),c=n(u,2);o=c[0],s=c[1];var d=document.createRange();if(t>0){d.setStart(o,s);var p=this.scroll.leaf(e+t),f=n(p,2);if(l=f[0],s=f[1],null==l)return null;var h=l.position(s,!0),g=n(h,2);return o=g[0],s=g[1],d.setEnd(o,s),d.getBoundingClientRect()}var v="left",m=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),v="right"),m=d.getBoundingClientRect()):(m=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:m.top+m.height,height:m.height,left:m[v],right:m[v],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map((function(e){var r=n(e,2),o=r[0],a=r[1],l=i.default.find(o,!0),s=l.offset(t.scroll);return 0===a?s:l instanceof i.default.Container?s+l.length():s+l.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(c(o)));return new f(l,a-l)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var a,l=t.scroll.leaf(e),s=n(l,2),u=s[0],c=s[1],d=u.position(c,0!==r),p=n(d,2);a=p[0],c=p[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=n(i,1)[0],l=a;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,o));l=n(s,1)[0]}if(null!=a&&null!=l){var u=e.getBoundingClientRect();r.top<u.top?e.scrollTop-=u.top-r.top:r.bottom>u.bottom&&(e.scrollTop+=r.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,c(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(p)),e!==s.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(ln){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(30),l=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=u(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof l.ParchmentError)return;throw n}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var a=null==r?l.create("text",t):l.create(t,r);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var n=u(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(a.default);function u(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(ln){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=r(31),l=r(17),s=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(l.default);t.default=u},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=f(r(0)),l=f(r(8)),s=r(4),u=f(s),c=f(r(16)),d=f(r(13)),p=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof s.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),a=n(o,2),l=a[0],u=a[1],p=this.line(e+r),f=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&l!==f&&u>0){if(l instanceof s.BlockEmbed||f instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var h=l.newlineIndex(l.length(),!0);if(h>-1&&(l=l.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}var v=f.children.head instanceof c.default?null:f.children.head;l.moveChildren(f,v),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==a.default.query(r,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var l=a.default.create(r,n);this.appendChild(l)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var n=a.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){h(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,r,i))),i-=n})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(a.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,s.BlockEmbed,p.default],t.default=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=g(r(21)),l=g(r(11)),s=g(r(3)),u=g(r(2)),c=g(r(20)),d=g(r(0)),p=g(r(5)),f=g(r(10)),h=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},S),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},O),n.addBinding({key:t.keys.DELETE},{collapsed:!1},O),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E(e);if(null==n||null==n.key)return m.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,s.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,a=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=e.quill.getLine(s.index),c=o(u,2),p=c[0],f=c[1],h=e.quill.getLeaf(s.index),g=o(h,2),v=g[0],m=g[1],y=0===s.length?[v,m]:e.quill.getLeaf(s.index+s.length),b=o(y,2),_=b[0],x=b[1],w=v instanceof d.default.Text?v.value().slice(0,m):"",O=_ instanceof d.default.Text?_.value().slice(x):"",S={collapsed:0===s.length,empty:0===s.length&&p.length()<=1,format:e.quill.getFormat(s),offset:f,prefix:w,suffix:O},k=a.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,l.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,s,S))}));k&&r.preventDefault()}}}}))}}]),t}(h.default);function _(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return v(r={key:e,shiftKey:t,altKey:null},n,/^$/),v(r,"handler",(function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))})),r}function x(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=n.formats(),u=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,a=this.quill.getLine(e.index),l=o(a,1)[0];if(t.offset>=l.length()-1){var s=this.quill.getLine(e.index+1),u=o(s,1)[0];if(u){var d=l.formats(),f=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(d,f)||{},i=u.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function O(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=c.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function S(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(r,n),l=o(a,2),s=l[0],u=l[1];if(null!=s){var c=this.quill.getIndex(s),f=s.newlineIndex(u,!0)+1,h=s.newlineIndex(c+u+i),g=s.domNode.textContent.slice(f,h).split("\n");u=0,g.forEach((function(t,o){e?(s.insertAt(f+u,r.TAB),u+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(f+u,r.TAB.length),u-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function j(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(0,s.default)({},n.formats(),{list:"checked"}),l=(new u.default).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],a=n[1],l=(new u.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),a=i[0],l=i[1];if(l>r)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-l).delete(r+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(new u.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(b.keys.LEFT,!1),"embed left shift":_(b.keys.LEFT,!0),"embed right":_(b.keys.RIGHT,!1),"embed right shift":_(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),l=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),o=void 0,i=void 0,s=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var u=[e,r.start.offset,r.end.offset];o=u[0],i=u[1],s=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof l.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,s].map((function(e){return Math.max(0,Math.min(o.data.length,e-1))})),p=n(d,2);return i=p[0],s=p[1],{startNode:o,startOffset:i,endNode:o,endOffset:s}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=r(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):r}}]),t}(l.default.Attributor.Style),u=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),c=new s("color","color",{scope:l.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=u,t.ColorStyle=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);function s(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(23)),a=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(0)),o=m(r(5)),i=r(4),a=m(i),l=m(r(16)),s=m(r(25)),u=m(r(24)),c=m(r(35)),d=m(r(6)),p=m(r(22)),f=m(r(7)),h=m(r(55)),g=m(r(42)),v=m(r(23));function m(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":v.default}),n.default.register(a.default,l.default,u.default,d.default,p.default,f.default),t.default=o.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),a=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);t.concat(r).concat(l).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(s),r.rightGuard=document.createTextNode(s),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=s,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new i.default.Attributor.Attribute("align","align",a),s=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);t.AlignAttribute=l,t.AlignClass=s,t.AlignStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=r(26),l=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),s=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=l,t.BackgroundStyle=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},l=new i.default.Attributor.Attribute("direction","dir",a),s=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=l,t.DirectionClass=s,t.DirectionStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new l.default.Attributor.Class("font","ql-font",s),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(l.default.Attributor.Style),d=new c("font","font-family",s);t.FontStyle=d,t.FontClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=l},function(e,t,r){e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=s(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(r(9)).default);function s(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)})))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=h(r(3)),a=h(r(2)),l=h(r(8)),s=h(r(23)),u=h(r(34)),c=h(r(59)),d=h(r(60)),p=h(r(28)),f=h(r(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],O=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return m(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===r?"#ffffff":"#000000"),new c.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,_):e.classList.contains("ql-header")?k(e,x):e.classList.contains("ql-size")&&k(e,w)),new p.default(e)})),this.quill.on(l.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);O.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(n.index).delete(n.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(n.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return m(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",r,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",r,l.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":r=(t=(e=r).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!r)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),r,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",l.default.sources.USER),this.quill.setSelection(i+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=S,t.default=O},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],l=this.iterator(i);(n=l())&&a<e+t;){var s=n.length();e>a?r(n,e-a,Math.min(t,a+s-e)):r(n,0,Math.min(s,e+t-a)),a+=s}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var l=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&l(e.parent))},s=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(s),e.optimize(r))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);l(t,!1),t instanceof i.default&&t.children.forEach((function(e){l(e,!1)}))}))):"attributes"===e.type&&l(t.prev)),l(t))})),this.children.forEach(s),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=a.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=a.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1,n=1,o=0;function i(e,t,c){if(e==t)return e?[[o,e]]:[];(c<0||e.length<c)&&(c=null);var p=l(e,t),f=e.substring(0,p);p=s(e=e.substring(p),t=t.substring(p));var h=e.substring(e.length-p),g=function(e,t){var u;if(!e)return[[n,t]];if(!t)return[[r,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,p=c.indexOf(d);if(-1!=p)return u=[[n,c.substring(0,p)],[o,d],[n,c.substring(p+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=r),u;if(1==d.length)return[[r,e],[n,t]];var f=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=l(e.substring(r),t.substring(c)),f=s(e.substring(0,r),t.substring(0,c));d.length<f+p&&(d=t.substring(c-f,c)+t.substring(c,c+p),n=e.substring(0,r-f),o=e.substring(r+p),i=t.substring(0,c-f),a=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,a,d]:null}var i,a,u,c,d,p=o(r,n,Math.ceil(r.length/4)),f=o(r,n,Math.ceil(r.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(a=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],a=i[2],u=i[3]);var h=i[4];return[a,u,c,d,h]}(e,t);if(f){var h=f[0],g=f[1],v=f[2],m=f[3],y=f[4],b=i(h,v),_=i(g,m);return b.concat([[o,y]],_)}return function(e,t){for(var o=e.length,i=t.length,l=Math.ceil((o+i)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var f=o-i,h=f%2!=0,g=0,v=0,m=0,y=0,b=0;b<l;b++){for(var _=-b+g;_<=b-v;_+=2){for(var x=s+_,w=(E=_==-b||_!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-_;E<o&&w<i&&e.charAt(E)==t.charAt(w);)E++,w++;if(c[x]=E,E>o)v+=2;else if(w>i)g+=2;else if(h&&(k=s+f-_)>=0&&k<u&&-1!=d[k]&&E>=(S=o-d[k]))return a(e,t,E,w)}for(var O=-b+m;O<=b-y;O+=2){for(var S,k=s+O,j=(S=O==-b||O!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-O;S<o&&j<i&&e.charAt(o-S-1)==t.charAt(i-j-1);)S++,j++;if(d[k]=S,S>o)y+=2;else if(j>i)m+=2;else if(!h){var E;if((x=s+f-O)>=0&&x<u&&-1!=c[x])if(w=s+(E=c[x])-x,E>=(S=o-S))return a(e,t,E,w)}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&g.unshift([o,f]),h&&g.push([o,h]),u(g),null!=c&&(g=function(e,t){var n=function(e,t){if(0===t)return[o,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===r||a[0]===o){var l=n+a[1].length;if(t===l)return[i+1,e];if(t<l){e=e.slice();var s=t-n,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}n=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==o)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),d(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),d(i,a,3)}return e}(g,c)),g=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},l=2;l<e.length;l+=1)e[l-2][0]===o&&a(e[l-2][1])&&e[l-1][0]===r&&i(e[l-1][1])&&e[l][0]===n&&i(e[l][1])&&(t=!0,e[l-1][1]=e[l-2][1].slice(-1)+e[l-1][1],e[l][1]=e[l-2][1].slice(-1)+e[l][1],e[l-2][1]=e[l-2][1].slice(0,-1));if(!t)return e;var s=[];for(l=0;l<e.length;l+=1)e[l][1].length>0&&s.push(e[l]);return s}(g),g}function a(e,t,r,n){var o=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=i(o,a),c=i(l,s);return u.concat(c)}function l(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function u(e){e.push([o,""]);for(var t,i=0,a=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case n:c++,p+=e[i][1],i++;break;case r:a++,d+=e[i][1],i++;break;case o:a+c>1?(0!==a&&0!==c&&(0!==(t=l(p,d))&&(i-a-c>0&&e[i-a-c-1][0]==o?e[i-a-c-1][1]+=p.substring(0,t):(e.splice(0,0,[o,p.substring(0,t)]),i++),p=p.substring(t),d=d.substring(t)),0!==(t=s(p,d))&&(e[i][1]=p.substring(p.length-t)+e[i][1],p=p.substring(0,p.length-t),d=d.substring(0,d.length-t))),0===a?e.splice(i-c,a+c,[n,p]):0===c?e.splice(i-a,a+c,[r,d]):e.splice(i-a-c,a+c,[r,d],[n,p]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,a=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),f=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),f=!0)),i++;f&&u(e)}var c=i;function d(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}c.INSERT=n,c.DELETE=r,c.EQUAL=o,e.exports=c},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},a.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,u=[],c=l.length;s<c;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&u.push(l[s]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=b(r(3)),l=b(r(2)),s=b(r(0)),u=b(r(5)),c=b(r(10)),d=b(r(9)),p=r(36),f=r(37),h=b(r(13)),g=r(26),v=r(38),m=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",O=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,N],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===C(e).fontStyle&&(r.italic=!0),n.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=E(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=s.default.query(e);if(null==r||"list-item"!==r.blotName||!T(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new l.default}]],S=[p.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,f.BackgroundStyle,g.ColorStyle,v.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],O.concat(n.options.matchers).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];(r.matchVisual||a!==F)&&n.addMatcher(i,a)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,_({},h.default.blotName,t[h.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),a=i[0],s=i[1],u=I(this.container,a,s);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new l.default).retain(u.length()-1).delete(1))),x.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new l.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,u.default.sources.USER),t.quill.setSelection(n.length()-r.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=o(n,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(l)}))}})),[t,r]}}]),t}(d.default);function E(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return E(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_({},t,r),n.attributes))}),new l.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function q(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function I(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,o){var i=I(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(o,e)}),i),i=(o[w]||[]).reduce((function(e,t){return t(o,e)}),i)),n.concat(i)}),new l.default):new l.default}function A(e,t,r){return E(r,e,!0)}function L(e,t){var r=s.default.Attributor.Attribute.keys(e),n=s.default.Attributor.Class.keys(e),o=s.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach((function(t){var r=s.default.query(t,s.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=S[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=E(t,i)),t}function P(e,t){var r=s.default.query(e);if(null==r)return t;if(r.prototype instanceof s.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new l.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=E(t,r.blotName,r.formats(e)));return t}function N(e,t){return T(t,"\n")||(q(e)||t.length()>0&&e.nextSibling&&q(e.nextSibling))&&t.insert("\n"),t}function F(e,t){if(q(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var r=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&q(e.parentNode)||null!=e.previousSibling&&q(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&q(e.parentNode)||null!=e.nextSibling&&q(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}j.DEFAULTS={matchers:[],matchVisual:!0},t.default=j,t.matchAttributor=L,t.matchBlot=P,t.matchNewline=N,t.matchSpacing=F,t.matchText=R},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(2)),a=c(r(0)),l=c(r(5)),s=c(r(10)),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var a=document.createElement("div");g(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,(function(o){var s=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];s=!u.hasAttribute("selected")&&(u.value||!1)}else s=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,s);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,s)),l.default.sources.USER)}else t.quill.format(r,s,l.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var o=n(r,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==e)l=null;else if(null==t[i])l=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[i])}))}}]),t}(u.default);function h(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):h(r,t,n)}})),e.appendChild(r)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=f,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=f(r(3)),l=f(r(8)),s=r(43),u=f(s),c=f(r(27)),d=r(15),p=f(r(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return v(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(u.default);y.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){h(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,l.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(l.default.events.SELECTION_CHANGE,(function(t,r,o){if(null!=t){if(0===t.length&&o===l.default.sources.USER){var i=e.quill.scroll.descendant(c.default,t.index),a=n(i,2),s=a[0],u=a[1];if(null!=s){e.linkRange=new d.Range(t.index-u,s.length());var p=c.default.formats(s.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=N(r(29)),o=r(36),i=r(38),a=r(64),l=N(r(65)),s=N(r(66)),u=r(67),c=N(u),d=r(37),p=r(26),f=r(39),h=r(40),g=N(r(56)),v=N(r(68)),m=N(r(27)),y=N(r(69)),b=N(r(70)),_=N(r(71)),x=N(r(72)),w=N(r(73)),O=r(13),S=N(O),k=N(r(74)),j=N(r(75)),E=N(r(57)),C=N(r(41)),T=N(r(28)),q=N(r(59)),I=N(r(60)),A=N(r(61)),L=N(r(108)),P=N(r(62));function N(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":l.default,"formats/code-block":S.default,"formats/header":s.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":O.Code,"formats/italic":v.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":k.default,"modules/syntax":j.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":P.default,"ui/icons":C.default,"ui/picker":T.default,"ui/icon-picker":I.default,"ui/color-picker":q.default,"ui/tooltip":A.default},!0),t.default=n.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(l.default.Attributor.Class),u=new s("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(4)),l=s(r(25));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=r(27),u=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(4),l=r(27),s=(n=l)&&n.__esModule?n:{default:n},u=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(35)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(l.default);t.FormulaBlot=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(r(13)).default);p.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(e){function t(e,r){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){n.highlight(),o=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(f,!0),a.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(l.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),a=d(r(8)),l=r(43),s=d(l),u=r(15),c=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return h(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(s.default);v.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,r){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,r,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var l=i[i.length-1],s=n.quill.getIndex(l),c=Math.min(l.length()-1,t.index+t.length-s),d=n.quill.getBounds(new u.Range(s,c));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return h(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=v},function(e,t,r){e.exports=r(63)}]).default},e.exports=r()}(Vu);var zu=Vu.exports;const Bu=g(zu);var Hu,Uu=P&&P.__extends||(Hu=function(e,t){return Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Hu(e,t)},function(e,t){function r(){this.constructor=e}Hu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),$u=P&&P.__assign||function(){return $u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$u.apply(this,arguments)},Wu=P&&P.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n},Ku=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yu=Ku(v),Gu=Ku(N),Ju=Ku(Du),Qu=Ku(zu),Xu=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,o){var i,a,l,s;"text-change"===e?null===(a=(i=r).onEditorChangeText)||void 0===a||a.call(i,r.editor.root.innerHTML,t,o,r.unprivilegedEditor):"selection-change"===e&&(null===(s=(l=r).onEditorChangeSelection)||void 0===s||s.call(l,t,o,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!=n?n:"",r}return Uu(t,e),t.prototype.validateProps=function(e){var t;if(Yu.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Yu.default.Children.count(e.children)&&"textarea"===(null===(t=Yu.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(r=e.value)?r:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),Wu(this.cleanProps,this.dirtyProps).some((function(t){return!Ju.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(r){return!Ju.default(e[r],t.props[r])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(n),Zu((function(){return r.setEditorSelection(l,a)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new Qu.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?Ju.default(e.ops,t.ops):Ju.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),Zu((function(){return r.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=Gu.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return Yu.default.Children.count(r)?Yu.default.cloneElement(Yu.default.Children.only(r),o):n?Yu.default.createElement("pre",$u({},o)):Yu.default.createElement("div",$u({},o))},t.prototype.render=function(){var e;return Yu.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var o,i;if(this.editor){var a=this.isDelta(this.value)?n.getContents():n.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,o,i,a,l,s;if(this.editor){var u=this.getEditorSelection(),c=!u&&e,d=u&&!e;Ju.default(e,u)||(this.selection=e,null===(o=(n=this.props).onChangeSelection)||void 0===o||o.call(n,e,t,r),c?null===(a=(i=this.props).onFocus)||void 0===a||a.call(i,e,t,r):d&&(null===(s=(l=this.props).onBlur)||void 0===s||s.call(l,u,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Qu.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Yu.default.Component);function Zu(e){Promise.resolve().then(e)}var ec=Xu;const tc=g(ec);function rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(r),!0).forEach((function(t){sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ac(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mc(n.key),n)}}function lc(e,t,r){return t&&ac(e.prototype,t),r&&ac(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sc(e,t,r){return(t=mc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cc(e)}function dc(e,t){return dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dc(e,t)}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ln){return!1}}();return function(){var r,n=cc(e);if(t){var o=cc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pc(e)}(this,r)}}function hc(){return hc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hc.apply(this,arguments)}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gc(e,t):void 0}}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function mc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var yc=9,bc=13,_c=27,xc=38,wc=40;function Oc(e,t,r){var n=e;return Object.keys(t).forEach((function(e){r.indexOf(e)>-1?n.dataset[e]=t[e]:delete n.dataset[e]})),n}function Sc(e,t){null!==t&&("object"===oc(t)?e.appendChild(t):e.innerText=t)}var kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dc(e,t)}(r,e);var t=fc(r);function r(e,n){var o;return ic(this,r),sc(pc(o=t.call(this,e,n)),"hoverHandler",void 0),sc(pc(o),"hoverHandler",void 0),o.clickHandler=null,o.hoverHandler=null,o.mounted=!1,o}return lc(r,[{key:"attach",value:function(){hc(cc(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){hc(cc(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-clicked",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"getHoverHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-hovered",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"buildEvent",value:function(e,t){var r=new Event(e,{bubbles:!0,cancelable:!0});return r.value=uc({},this.domNode.dataset),r.event=t,r}}],[{key:"create",value:function(e){var t=hc(cc(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerText=e.denotationChar,t.appendChild(n),"function"==typeof this.render?t.appendChild(this.render(e)):t.innerText+=e.value,r.setDataValues(t,e)}},{key:"setDataValues",value:function(e,t){var r=e;return Object.keys(t).forEach((function(e){r.dataset[e]=t[e]})),r}},{key:"value",value:function(e){return e.dataset}}]),r}(Bu.import("blots/embed"));kc.blotName="mention",kc.tagName="span",kc.className="mention",Bu.register("blots/mention",kc);var jc=function(){function e(t,r){var n=this;for(var o in ic(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(e){var t=e.value;return"".concat(t)},renderLoading:function(){return null},onSelect:function(e,t){t(e)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[bc]},uc(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes}),this.options)"function"==typeof this.options[o]&&(this.options[o]=this.options[o].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();n.onSelectionChange(e)}))})),t.keyboard.addBinding({key:yc},this.selectHandler.bind(this)),t.keyboard.bindings[yc].unshift(t.keyboard.bindings[yc].pop());var i,a=vc(this.options.selectKeys);try{for(a.s();!(i=a.n()).done;){var l=i.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(s){a.e(s)}finally{a.f()}t.keyboard.bindings[bc].unshift(t.keyboard.bindings[bc].pop()),t.keyboard.addBinding({key:_c},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:xc},this.upHandler.bind(this)),t.keyboard.addBinding({key:wc},this.downHandler.bind(this))}return lc(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),e&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var e=this;if(-1!==this.itemIndex){var t=this.mentionList.childNodes[this.itemIndex].dataset;t.disabled||(this.options.onSelect(t,(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertItem(t,r,n)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;if(null!==n){var o,i=nc(nc({},this.options),r);i.showDenotationChar||(n.denotationChar=""),t?o=this.cursorPos:(o=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Bu.sources.USER));var a=this.quill.insertEmbed(o,i.blotName,n,Bu.sources.USER);return i.spaceAfterInsert?(this.quill.insertText(o+1," ",Bu.sources.USER),this.quill.setSelection(o+2,Bu.sources.USER)):this.quill.setSelection(o+1,Bu.sources.USER),this.hideMentionList(),a}}},{key:"onItemMouseEnter",value:function(e){if(!this.suspendMouseEnter){var t=Number(e.target.dataset.index);Number.isNaN(t)||t===this.itemIndex||(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(e){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(e){0===e.button&&(e.preventDefault(),e.stopImmediatePropagation(),this.itemIndex=e.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var e=document.createElement("div");e.className="ql-mention-loading",Sc(e,this.options.renderLoading()),this.mentionContainer.append(e),this.showMentionList()}}},{key:"removeLoading",value:function(){var e=this.mentionContainer.getElementsByClassName("ql-mention-loading");e.length>0&&e[0].remove()}},{key:"renderList",value:function(e,t,r){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerText="";for(var n=-1,o=0;o<t.length;o+=1){var i=document.createElement("li");i.id="quill-mention-item-"+o,i.className=this.options.listItemClass?this.options.listItemClass:"",t[o].disabled?(i.className+=" disabled",i.setAttribute("aria-hidden","true")):-1===n&&(n=o),i.dataset.index=o,Sc(i,this.options.renderItem(t[o],r)),t[o].disabled?i.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(i.onmouseenter=this.onItemMouseEnter.bind(this),i.onmouseup=this.onItemClick.bind(this),i.onmousedown=this.onItemMouseDown.bind(this)),i.dataset.denotationChar=e,this.mentionList.appendChild(Oc(i,t[o],this.options.dataAttributes))}this.itemIndex=n,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+this.values.length-t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(e,t){return e+this.mentionContainer.offsetHeight+t.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(e,t){return!this.options.fixMentionsToQuill&&e+this.mentionContainer.offsetWidth+t.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(e){this.isOpen!==e&&(e?this.options.onOpen():this.options.onClose(),this.isOpen=e)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var e=this,t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n=this.mentionContainer.offsetHeight,o=this.options.offsetTop,i=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else i+=r.left;if(this.containerRightIsNotVisible(i,t)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;i=t.width-a}if("top"===this.options.defaultMenuOrientation){if((o=this.options.fixMentionsToQuill?-1*(n+this.options.offsetTop):r.top-(n+this.options.offsetTop))+t.top<=0){var l=this.options.offsetTop;this.options.fixMentionsToQuill?l+=t.height:l+=r.bottom,o=l}}else if(this.options.fixMentionsToQuill?o+=t.height:o+=r.bottom,this.containerBottomIsNotVisible(o,t)){var s=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(s+=r.top),o=s-n}o>=0?this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))})),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(i,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var e=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n={left:t.left+r.left,top:t.top+r.top,width:0,height:r.height},o=this.options.fixMentionsToQuill?t:n,i=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=o.right;this.mentionContainer.style.right="".concat(l,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var s=o.top,u=document.documentElement.clientHeight-(o.top+o.height),c=this.mentionContainer.offsetHeight<=u,d=this.mentionContainer.offsetHeight<=s;"bottom"===("top"===this.options.defaultMenuOrientation&&d?"top":"bottom"===this.options.defaultMenuOrientation&&c||u>s?"bottom":"top")?(i=o.top+o.height,c||(this.mentionContainer.style.height=u-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))}))):(i=o.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=s-3+"px",i=3),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))}))),this.mentionContainer.style.top="".concat(i,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var e=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(e,this.cursorPos-e)}},{key:"onSomethingChange",value:function(){var e=this,t=this.quill.getSelection();if(null!=t){this.cursorPos=t.index;var r,n,o,i,a=this.getTextBeforeCursor(),l=Math.max(0,this.cursorPos-this.options.maxChars),s=l?this.quill.getText(l-1,l):"",u=(r=a,n=this.options.mentionDenotationChars,o=this.options.isolateCharacter,i=this.options.allowInlineMentionChar,n.reduce((function(e,t){var n;if(o&&i){var a=new RegExp("^".concat(t,"|\\s").concat(t),"g"),l=(r.match(a)||[]).pop();if(!l)return{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex};n=l!==t?r.lastIndexOf(l)+l.length-t.length:0}else n=r.lastIndexOf(t);return n>e.mentionCharIndex?{mentionChar:t,mentionCharIndex:n}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),c=u.mentionChar,d=u.mentionCharIndex;if(function(e,t,r,n){if(-1===e)return!1;if(!r)return!0;var o=e?t[e-1]:n;return!o||!!o.match(/\s/)}(d,a,this.options.isolateCharacter,s)){var p=this.cursorPos-(a.length-d);this.mentionCharPos=p;var f=a.substring(d+c.length);if(f.length>=this.options.minChars&&function(e,t){return t.test(e)}(f,this.getAllowedCharsRegex(c))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var h={abandoned:!1};this.existingSourceExecutionToken=h,this.options.source(f,(function(t,r){h.abandoned||(e.existingSourceExecutionToken=null,e.renderList(c,t,r))}),c)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(e){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(e)}},{key:"onTextChange",value:function(e,t,r){"user"===r&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(e){e&&0===e.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(e){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,e),this.quill.blur(),this.quill.focus()}}]),e}();Bu.register("modules/mention",jc);var Ec=-1,Cc=1,Tc=0;function qc(e,t,r){if(e==t)return e?[[Tc,e]]:[];(r<0||e.length<r)&&(r=null);var n=Ac(e,t),o=e.substring(0,n);n=Lc(e=e.substring(n),t=t.substring(n));var i=e.substring(e.length-n),a=function(e,t){var r;if(!e)return[[Cc,t]];if(!t)return[[Ec,e]];var n=e.length>t.length?e:t,o=e.length>t.length?t:e,i=n.indexOf(o);if(-1!=i)return r=[[Cc,n.substring(0,i)],[Tc,o],[Cc,n.substring(i+o.length)]],e.length>t.length&&(r[0][0]=r[2][0]=Ec),r;if(1==o.length)return[[Ec,e],[Cc,t]];var a=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,l=e.substring(r,r+Math.floor(e.length/4)),s=-1,u="";-1!=(s=t.indexOf(l,s+1));){var c=Ac(e.substring(r),t.substring(s)),d=Lc(e.substring(0,r),t.substring(0,s));u.length<d+c&&(u=t.substring(s-d,s)+t.substring(s,s+c),n=e.substring(0,r-d),o=e.substring(r+c),i=t.substring(0,s-d),a=t.substring(s+c))}return 2*u.length>=e.length?[n,o,i,a,u]:null}var i,a,l,s,u,c=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));if(!c&&!d)return null;i=d?c&&c[4].length>d[4].length?c:d:c;e.length>t.length?(a=i[0],l=i[1],s=i[2],u=i[3]):(s=i[0],u=i[1],a=i[2],l=i[3]);var p=i[4];return[a,l,s,u,p]}(e,t);if(a){var l=a[0],s=a[1],u=a[2],c=a[3],d=a[4],p=qc(l,u),f=qc(s,c);return p.concat([[Tc,d]],f)}return function(e,t){for(var r=e.length,n=t.length,o=Math.ceil((r+n)/2),i=o,a=2*o,l=new Array(a),s=new Array(a),u=0;u<a;u++)l[u]=-1,s[u]=-1;l[i+1]=0,s[i+1]=0;for(var c=r-n,d=c%2!=0,p=0,f=0,h=0,g=0,v=0;v<o;v++){for(var m=-v+p;m<=v-f;m+=2){for(var y=i+m,b=(S=m==-v||m!=v&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-m;S<r&&b<n&&e.charAt(S)==t.charAt(b);)S++,b++;if(l[y]=S,S>r)f+=2;else if(b>n)p+=2;else if(d){if((w=i+c-m)>=0&&w<a&&-1!=s[w])if(S>=(x=r-s[w]))return Ic(e,t,S,b)}}for(var _=-v+h;_<=v-g;_+=2){for(var x,w=i+_,O=(x=_==-v||_!=v&&s[w-1]<s[w+1]?s[w+1]:s[w-1]+1)-_;x<r&&O<n&&e.charAt(r-x-1)==t.charAt(n-O-1);)x++,O++;if(s[w]=x,x>r)g+=2;else if(O>n)h+=2;else if(!d){if((y=i+c-_)>=0&&y<a&&-1!=l[y]){var S;b=i+(S=l[y])-y;if(S>=(x=r-x))return Ic(e,t,S,b)}}}}return[[Ec,e],[Cc,t]]}(e,t)}(e=e.substring(0,e.length-n),t=t.substring(0,t.length-n));return o&&a.unshift([Tc,o]),i&&a.push([Tc,i]),Pc(a),null!=r&&(a=function(e,t){var r=function(e,t){if(0===t)return[Tc,e];for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o[0]===Ec||o[0]===Tc){var i=r+o[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var a=t-r,l=[o[0],o[1].slice(0,a)],s=[o[0],o[1].slice(a)];return e.splice(n,1,l,s),[n+1,e]}r=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=r[1],o=r[0],i=n[o],a=n[o+1];if(null==i)return e;if(i[0]!==Tc)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return n.splice(o,2,a,i),Rc(n,o,2);if(null!=a&&0===a[1].indexOf(i[1])){n.splice(o,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&n.splice(o+2,0,[a[0],l]),Rc(n,o,3)}return e}(a,r)),a=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)e[o-2][0]===Tc&&n(e[o-2][1])&&e[o-1][0]===Ec&&r(e[o-1][1])&&e[o][0]===Cc&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var i=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&i.push(e[o]);return i}(a),a}function Ic(e,t,r,n){var o=e.substring(0,r),i=t.substring(0,n),a=e.substring(r),l=t.substring(n),s=qc(o,i),u=qc(a,l);return s.concat(u)}function Ac(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Lc(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Pc(e){e.push([Tc,""]);for(var t,r=0,n=0,o=0,i="",a="";r<e.length;)switch(e[r][0]){case Cc:o++,a+=e[r][1],r++;break;case Ec:n++,i+=e[r][1],r++;break;case Tc:n+o>1?(0!==n&&0!==o&&(0!==(t=Ac(a,i))&&(r-n-o>0&&e[r-n-o-1][0]==Tc?e[r-n-o-1][1]+=a.substring(0,t):(e.splice(0,0,[Tc,a.substring(0,t)]),r++),a=a.substring(t),i=i.substring(t)),0!==(t=Lc(a,i))&&(e[r][1]=a.substring(a.length-t)+e[r][1],a=a.substring(0,a.length-t),i=i.substring(0,i.length-t))),0===n?e.splice(r-o,n+o,[Cc,a]):0===o?e.splice(r-n,n+o,[Ec,i]):e.splice(r-n-o,n+o,[Ec,i],[Cc,a]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&e[r-1][0]==Tc?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,n=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==Tc&&e[r+1][0]==Tc&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&Pc(e)}var Nc=qc;Nc.INSERT=Cc,Nc.DELETE=Ec,Nc.EQUAL=Tc;var Fc=Nc;function Rc(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}var Mc,Dc,Vc=Object.prototype.toString,zc=function(e){var t=Vc.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Vc.call(e.callee)),r};var Bc=Array.prototype.slice,Hc=zc,Uc=Object.keys,$c=Uc?function(e){return Uc(e)}:function(){if(Dc)return Mc;var e;if(Dc=1,!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=zc,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{s(window[e])}catch(ln){return!0}}catch(ln){return!0}return!1}();e=function(e){var o=null!==e&&"object"==typeof e,u="[object Function]"===r.call(e),d=n(e),p=o&&"[object String]"===r.call(e),f=[];if(!o&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var h=a&&u;if(p&&e.length>0&&!t.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(d&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var m in e)h&&"prototype"===m||!t.call(e,m)||f.push(String(m));if(i)for(var y=function(e){if("undefined"==typeof window||!c)return s(e);try{return s(e)}catch(ln){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!t.call(e,l[b])||f.push(l[b]);return f}}return Mc=e}(),Wc=Object.keys;$c.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Hc(e)?Wc(Bc.call(e)):Wc(e)})}else Object.keys=$c;return Object.keys||$c};var Kc,Yc=$c,Gc=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},Jc=Gc,Qc=function(){return Jc()&&!!Symbol.toStringTag},Xc=Error,Zc=EvalError,ed=RangeError,td=ReferenceError,rd=SyntaxError,nd=TypeError,od=URIError,id="undefined"!=typeof Symbol&&Symbol,ad=Gc,ld={__proto__:null,foo:{}},sd=Object,ud=Object.prototype.toString,cd=Math.max,dd=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},pd=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==ud.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),o=cd(0,t.length-n.length),i=[],a=0;a<o;a++)i[a]="$"+a;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(i,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var o=t.apply(this,dd(n,arguments));return Object(o)===o?o:this}return t.apply(e,dd(n,arguments))})),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},fd=Function.prototype.bind||pd,hd=Function.prototype.call,gd=Object.prototype.hasOwnProperty,vd=fd.call(hd,gd),md=Xc,yd=Zc,bd=ed,_d=td,xd=rd,wd=nd,Od=od,Sd=Function,kd=function(e){try{return Sd('"use strict"; return ('+e+").constructor;")()}catch(ln){}},jd=Object.getOwnPropertyDescriptor;if(jd)try{jd({},"")}catch(ln){jd=null}var Ed=function(){throw new wd},Cd=jd?function(){try{return Ed}catch(e){try{return jd(arguments,"callee").get}catch(t){return Ed}}}():Ed,Td="function"==typeof id&&"function"==typeof Symbol&&"symbol"==typeof id("foo")&&"symbol"==typeof Symbol("bar")&&ad(),qd={__proto__:ld}.foo===ld.foo&&!(ld instanceof sd),Id=Object.getPrototypeOf||(qd?function(e){return e.__proto__}:null),Ad={},Ld="undefined"!=typeof Uint8Array&&Id?Id(Uint8Array):Kc,Pd={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Kc:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Kc:ArrayBuffer,"%ArrayIteratorPrototype%":Td&&Id?Id([][Symbol.iterator]()):Kc,"%AsyncFromSyncIteratorPrototype%":Kc,"%AsyncFunction%":Ad,"%AsyncGenerator%":Ad,"%AsyncGeneratorFunction%":Ad,"%AsyncIteratorPrototype%":Ad,"%Atomics%":"undefined"==typeof Atomics?Kc:Atomics,"%BigInt%":"undefined"==typeof BigInt?Kc:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Kc:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Kc:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Kc:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":md,"%eval%":eval,"%EvalError%":yd,"%Float32Array%":"undefined"==typeof Float32Array?Kc:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Kc:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Kc:FinalizationRegistry,"%Function%":Sd,"%GeneratorFunction%":Ad,"%Int8Array%":"undefined"==typeof Int8Array?Kc:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Kc:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Kc:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Td&&Id?Id(Id([][Symbol.iterator]())):Kc,"%JSON%":"object"==typeof JSON?JSON:Kc,"%Map%":"undefined"==typeof Map?Kc:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Td&&Id?Id((new Map)[Symbol.iterator]()):Kc,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Kc:Promise,"%Proxy%":"undefined"==typeof Proxy?Kc:Proxy,"%RangeError%":bd,"%ReferenceError%":_d,"%Reflect%":"undefined"==typeof Reflect?Kc:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Kc:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Td&&Id?Id((new Set)[Symbol.iterator]()):Kc,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Kc:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Td&&Id?Id(""[Symbol.iterator]()):Kc,"%Symbol%":Td?Symbol:Kc,"%SyntaxError%":xd,"%ThrowTypeError%":Cd,"%TypedArray%":Ld,"%TypeError%":wd,"%Uint8Array%":"undefined"==typeof Uint8Array?Kc:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Kc:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Kc:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Kc:Uint32Array,"%URIError%":Od,"%WeakMap%":"undefined"==typeof WeakMap?Kc:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Kc:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Kc:WeakSet};if(Id)try{null.error}catch(ln){var Nd=Id(Id(ln));Pd["%Error.prototype%"]=Nd}var Fd=function e(t){var r;if("%AsyncFunction%"===t)r=kd("async function () {}");else if("%GeneratorFunction%"===t)r=kd("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=kd("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&Id&&(r=Id(o.prototype))}return Pd[t]=r,r},Rd={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Md=fd,Dd=vd,Vd=Md.call(Function.call,Array.prototype.concat),zd=Md.call(Function.apply,Array.prototype.splice),Bd=Md.call(Function.call,String.prototype.replace),Hd=Md.call(Function.call,String.prototype.slice),Ud=Md.call(Function.call,RegExp.prototype.exec),$d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Wd=/\\(\\)?/g,Kd=function(e,t){var r,n=e;if(Dd(Rd,n)&&(n="%"+(r=Rd[n])[0]+"%"),Dd(Pd,n)){var o=Pd[n];if(o===Ad&&(o=Fd(n)),void 0===o&&!t)throw new wd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new xd("intrinsic "+e+" does not exist!")},Yd=function(e,t){if("string"!=typeof e||0===e.length)throw new wd("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new wd('"allowMissing" argument must be a boolean');if(null===Ud(/^%?[^%]*%?$/,e))throw new xd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Hd(e,0,1),r=Hd(e,-1);if("%"===t&&"%"!==r)throw new xd("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new xd("invalid intrinsic syntax, expected opening `%`");var n=[];return Bd(e,$d,(function(e,t,r,o){n[n.length]=r?Bd(o,Wd,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=Kd("%"+n+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(n=s[0],zd(r,Vd([0,1],s)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],p=Hd(d,0,1),f=Hd(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new xd("property names with quotes must have matching quotes");if("constructor"!==d&&c||(l=!0),Dd(Pd,i="%"+(n+="."+d)+"%"))a=Pd[i];else if(null!=a){if(!(d in a)){if(!t)throw new wd("base intrinsic for "+e+" exists, but the property is not available.");return}if(jd&&u+1>=r.length){var h=jd(a,d);a=(c=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else c=Dd(a,d),a=a[d];c&&!l&&(Pd[i]=a)}}return a},Gd={exports:{}},Jd=Yd("%Object.defineProperty%",!0)||!1;if(Jd)try{Jd({},"a",{value:1})}catch(ln){Jd=!1}var Qd=Jd,Xd=Yd("%Object.getOwnPropertyDescriptor%",!0);if(Xd)try{Xd([],"length")}catch(ln){Xd=null}var Zd=Xd,ep=Qd,tp=rd,rp=nd,np=Zd,op=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new rp("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new rp("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new rp("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new rp("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new rp("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new rp("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],l=!!np&&np(e,t);if(ep)ep(e,t,{configurable:null===i&&l?l.configurable:!i,enumerable:null===n&&l?l.enumerable:!n,value:r,writable:null===o&&l?l.writable:!o});else{if(!a&&(n||o||i))throw new tp("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},ip=Qd,ap=function(){return!!ip};ap.hasArrayLengthDefineBug=function(){if(!ip)return null;try{return 1!==ip([],"length",{value:1}).length}catch(ln){return!0}};var lp=ap,sp=Yd,up=op,cp=lp(),dp=Zd,pp=nd,fp=sp("%Math.floor%"),hp=function(e,t){if("function"!=typeof e)throw new pp("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||fp(t)!==t)throw new pp("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in e&&dp){var i=dp(e,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(cp?up(e,"length",t,!0,!0):up(e,"length",t)),e};!function(e){var t=fd,r=Yd,n=hp,o=nd,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(a,i),s=Qd,u=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var r=l(t,a,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return l(t,i,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(Gd);var gp=Gd.exports,vp=Yd,mp=gp,yp=mp(vp("String.prototype.indexOf")),bp=function(e,t){var r=vp(e,!!t);return"function"==typeof r&&yp(e,".prototype.")>-1?mp(r):r},_p=Qc(),xp=bp("Object.prototype.toString"),wp=function(e){return!(_p&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===xp(e)},Op=function(e){return!!wp(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==xp(e)&&"[object Function]"===xp(e.callee)},Sp=function(){return wp(arguments)}();wp.isLegacyArguments=Op;var kp=Sp?wp:Op,jp=Yc,Ep="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Cp=Object.prototype.toString,Tp=Array.prototype.concat,qp=op,Ip=lp(),Ap=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==Cp.call(o)||!n())return;var o;Ip?qp(e,t,r,!0):qp(e,t,r)},Lp=function(e,t){var r=arguments.length>2?arguments[2]:{},n=jp(t);Ep&&(n=Tp.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)Ap(e,n[o],t[n[o]],r[n[o]])};Lp.supportsDescriptors=!!Ip;var Pp=Lp,Np=function(e){return e!=e},Fp=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!Np(e)||!Np(t))},Rp=Fp,Mp=function(){return"function"==typeof Object.is?Object.is:Rp},Dp=Mp,Vp=Pp,zp=Pp,Bp=Fp,Hp=Mp,Up=function(){var e=Dp();return Vp(Object,{is:e},{is:function(){return Object.is!==e}}),e},$p=gp(Hp(),Object);zp($p,{getPolyfill:Hp,implementation:Bp,shim:Up});var Wp,Kp,Yp,Gp,Jp=$p,Qp=bp,Xp=Qc();if(Xp){Wp=Qp("Object.prototype.hasOwnProperty"),Kp=Qp("RegExp.prototype.exec"),Yp={};var Zp=function(){throw Yp};Gp={toString:Zp,valueOf:Zp},"symbol"==typeof Symbol.toPrimitive&&(Gp[Symbol.toPrimitive]=Zp)}var ef=Qp("Object.prototype.toString"),tf=Object.getOwnPropertyDescriptor,rf=Xp?function(e){if(!e||"object"!=typeof e)return!1;var t=tf(e,"lastIndex");if(!(t&&Wp(t,"value")))return!1;try{Kp(e,Gp)}catch(ln){return ln===Yp}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===ef(e)},nf=function(){return"string"==typeof function(){}.name},of=Object.getOwnPropertyDescriptor;if(of)try{of([],"length")}catch(ln){of=null}nf.functionsHaveConfigurableNames=function(){if(!nf()||!of)return!1;var e=of((function(){}),"name");return!!e&&!!e.configurable};var af=Function.prototype.bind;nf.boundFunctionsHaveNames=function(){return nf()&&"function"==typeof af&&""!==function(){}.bind().name};var lf=nf,sf=op,uf=lp(),cf=lf.functionsHaveConfigurableNames(),df=nd,pf=function(e,t){if("function"!=typeof e)throw new df("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!cf||(uf?sf(e,"name",t,!0,!0):sf(e,"name",t)),e},ff=nd,hf=Object,gf=pf((function(){if(null==this||this!==hf(this))throw new ff("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0),vf=gf,mf=Pp.supportsDescriptors,yf=Object.getOwnPropertyDescriptor,bf=function(){if(mf&&"gim"===/a/gim.flags){var e=yf(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),e.get.call(r),"dy"===t)return e.get}}return vf},_f=Pp.supportsDescriptors,xf=bf,wf=Object.getOwnPropertyDescriptor,Of=Object.defineProperty,Sf=TypeError,kf=Object.getPrototypeOf,jf=/a/,Ef=Pp,Cf=gf,Tf=bf,qf=function(){if(!_f||!kf)throw new Sf("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=xf(),t=kf(jf),r=wf(t,"flags");return r&&r.get===e||Of(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},If=gp(Tf());Ef(If,{getPolyfill:Tf,implementation:Cf,shim:qf});var Af=If,Lf=Date.prototype.getDay,Pf=Object.prototype.toString,Nf=Qc(),Ff=Yc,Rf=kp,Mf=Jp,Df=rf,Vf=Af,zf=function(e){return"object"==typeof e&&null!==e&&(Nf?function(e){try{return Lf.call(e),!0}catch(ln){return!1}}(e):"[object Date]"===Pf.call(e))},Bf=Date.prototype.getTime;function Hf(e,t,r){var n=r||{};return!!(n.strict?Mf(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?Mf(e,t):e==t:function(e,t,r){var n,o;if(typeof e!=typeof t)return!1;if(Uf(e)||Uf(t))return!1;if(e.prototype!==t.prototype)return!1;if(Rf(e)!==Rf(t))return!1;var i=Df(e),a=Df(t);if(i!==a)return!1;if(i||a)return e.source===t.source&&Vf(e)===Vf(t);if(zf(e)&&zf(t))return Bf.call(e)===Bf.call(t);var l=$f(e),s=$f(t);if(l!==s)return!1;if(l||s){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=Ff(e),c=Ff(t)}catch(ln){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(!Hf(e[o=u[n]],t[o],r))return!1;return!0}(e,t,n))}function Uf(e){return null==e}function $f(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}var Wf=Hf,Kf=Object.prototype.hasOwnProperty,Yf=Object.prototype.toString,Gf=Object.defineProperty,Jf=Object.getOwnPropertyDescriptor,Qf=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Yf.call(e)},Xf=function(e){if(!e||"[object Object]"!==Yf.call(e))return!1;var t,r=Kf.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Kf.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||Kf.call(e,t)},Zf=function(e,t){Gf&&"__proto__"===t.name?Gf(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},eh=function(e,t){if("__proto__"===t){if(!Kf.call(e,t))return;if(Jf)return Jf(e,t).value}return e[t]},th=function e(){var t,r,n,o,i,a,l=arguments[0],s=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},s=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});s<u;++s)if(null!=(t=arguments[s]))for(r in t)n=eh(l,r),l!==(o=eh(t,r))&&(c&&o&&(Xf(o)||(i=Qf(o)))?(i?(i=!1,a=n&&Qf(n)?n:[]):a=n&&Xf(n)?n:{},Zf(l,{name:r,newValue:e(c,a,o)})):void 0!==o&&Zf(l,{name:r,newValue:o}));return l},rh=Wf,nh=th,oh={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=nh(!0,{},t);for(var o in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(n[o]=e[o]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return rh(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new ih(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function ih(e){this.ops=e,this.index=0,this.offset=0}ih.prototype.hasNext=function(){return this.peekLength()<1/0},ih.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=oh.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},ih.prototype.peek=function(){return this.ops[this.index]},ih.prototype.peekLength=function(){return this.ops[this.index]?oh.length(this.ops[this.index])-this.offset:1/0},ih.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},ih.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]};var ah=Fc,lh=Wf,sh=th,uh=oh,ch=String.fromCharCode(0),dh=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};dh.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},dh.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},dh.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},dh.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=sh(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(lh(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},dh.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},dh.prototype.filter=function(e){return this.ops.filter(e)},dh.prototype.forEach=function(e){this.ops.forEach(e)},dh.prototype.map=function(e){return this.ops.map(e)},dh.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},dh.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},dh.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+uh.length(t):t.delete?e-t.delete:e}),0)},dh.prototype.length=function(){return this.reduce((function(e,t){return e+uh.length(t)}),0)},dh.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=uh.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=uh.length(i)}return new dh(r)},dh.prototype.compose=function(e){var t=uh.iterator(this.ops),r=uh.iterator(e.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var i=o.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),n.push(t.next());o.retain-i>0&&r.next(o.retain-i)}for(var a=new dh(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())a.push(r.next());else if("delete"===t.peekType())a.push(t.next());else{var l=Math.min(t.peekLength(),r.peekLength()),s=t.next(l),u=r.next(l);if("number"==typeof u.retain){var c={};"number"==typeof s.retain?c.retain=l:c.insert=s.insert;var d=uh.attributes.compose(s.attributes,u.attributes,"number"==typeof s.retain);if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&lh(a.ops[a.ops.length-1],c)){var p=new dh(t.rest());return a.concat(p).chop()}}else"number"==typeof u.delete&&"number"==typeof s.retain&&a.push(u)}return a.chop()},dh.prototype.concat=function(e){var t=new dh(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},dh.prototype.diff=function(e,t){if(this.ops===e.ops)return new dh;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:ch;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new dh,o=ah(r[0],r[1],t),i=uh.iterator(this.ops),a=uh.iterator(e.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case ah.INSERT:r=Math.min(a.peekLength(),t),n.push(a.next(r));break;case ah.DELETE:r=Math.min(t,i.peekLength()),i.next(r),n.delete(r);break;case ah.EQUAL:r=Math.min(i.peekLength(),a.peekLength(),t);var o=i.next(r),l=a.next(r);lh(o.insert,l.insert)?n.retain(r,uh.attributes.diff(o.attributes,l.attributes)):n.push(l).delete(r)}t-=r}})),n.chop()},dh.prototype.eachLine=function(e,t){t=t||"\n";for(var r=uh.iterator(this.ops),n=new dh,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=uh.length(i)-r.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new dh}}n.length()>0&&e(n,{},o)},dh.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=uh.iterator(this.ops),n=uh.iterator(e.ops),o=new dh;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),l=n.next(i);if(a.delete)continue;l.delete?o.push(l):o.retain(i,uh.attributes.transform(a.attributes,l.attributes,t))}else o.retain(uh.length(r.next()));return o.chop()},dh.prototype.transformPosition=function(e,t){t=!!t;for(var r=uh.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e};const ph=g(dh),fh=ec.Quill.import("modules/clipboard");const hh=(e,t)=>{let r=[];if(!e)return r;let n=e.find((e=>e.code===t));if(!n)return r;if(n.parent){gh(e,n).forEach((t=>{r=r.concat(vh(e,t))}))}return(Re(n.code)||Me(n.code))&&(r=r.concat(vh(e,n))),r},gh=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(gh(e,n))),r},vh=(e,t)=>{let r=[];return Re(t.code)||Me(t.code)?(e.filter((e=>e.parent===t.parent&&e.maxIndex<t.minIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{r=r.concat(t.code),r=r.concat(mh(e,t))})),r):r},mh=(e,t)=>{let r=[];return Re(t.code)?(t.children&&t.children.forEach((t=>{let n=e.find((e=>e.code===t));r=r.concat(n.code),r=r.concat(mh(e,n))})),r):r},yh=(e,t,r,n)=>{var o;const i=e+". "+Be(null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]);let a="",l=t.type;switch(t.type){case"scq_icon_array":case"scq_array":return t.children.filter((e=>"row"==e.type)).map((t=>{var o;return{value:i+" - "+e+". "+Be(null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]),id:e+t.code,type:"SCQ Array Row",instruction:e+t.code+".masked_value"}}));case"text":l="Short Text",a=`${e}.value`;break;case"nps":l="NPS",a=`${e}.value`;break;case"email":l="Email",a=`${e}.value`;break;case"paragraph":a=`${e}.value`,l="Long Text";break;case"number":l="Number",a=`${e}.value`;break;case"date":l="Date",a=`${e}.masked_value`;break;case"time":l="time",a=`${e}.masked_value`;break;case"date_time":l="Date Time",a=`${e}.masked_value`;break;case"scq":l="SCQ",a=`${e}.masked_value`;break;case"icon_scq":l="Icon SCQ",a=`${e}.masked_value`;break;case"image_scq":l="Image SCQ",a=`${e}.masked_value`;break;case"mcq":l="MCQ",a=`${e}.masked_value`;break;case"image_mcq":l="Image MCQ",a=`${e}.masked_value`;break;case"icon_mcq":l="Icon MCQ",a=`${e}.masked_value`;break;default:return[]}return[{id:e,instruction:a,value:i,type:l}]};ec.Quill.register("modules/mentions",jc),ec.Quill.register("modules/clipboard",class extends fh{onPaste(e){e.preventDefault();const t=this.quill.getSelection(),r=e.clipboardData.getData("text/plain");r.split("\r\n").filter((function(e){return e}));const n=(new ph).retain(t.index).delete(t.length).insert(r),o=r.length+t.index;this.quill.updateContents(n,"silent"),this.quill.setSelection(o,0,"silent")}},!0);const bh=F.memo((function({value:e,onBlurListener:t,extended:r,isRtl:n,lang:o,code:i}){console.debug("DraftEditor for: "+i);const a=(e,t)=>t?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e,l=F.createRef(),s=h(v.useState(a(e,!r)),2),u=s[0],d=s[1],f=h(v.useState(0),2),g=(f[0],f[1]);function m(){return m=c((function*(e){const t=He.getState().designState,r=((e,t,r,n)=>{let o=hh(e,t),i=[];return o.forEach((e=>{if(Me(e)){const t=yh(e,r[e],r,n);t.length&&(i=i.concat(t))}})),i})(t.componentIndex,i,t,t.langInfo.mainLang);if(0===e.length)return r;{const t=[];for(var n=0;n<r.length;n++)r[n].value.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(r[n]);return t}})),m.apply(this,arguments)}v.useEffect((()=>{const e=l.current.getEditor();e.setSelection(e.getLength(),0)}),[l.current]);const y=v.useMemo((()=>{return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,t){t(p(p({},e),{},{value:`{{${e.id}:${e.type}}}`}))},source:(e=c((function*(e,t){const r=yield function(e){return m.apply(this,arguments)}(e);t(r)})),function(t,r){return e.apply(this,arguments)})},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}};var e}),[]);let b=null;const _=()=>{g(Date.now()),b&&clearTimeout(b)};return j.jsx("div",{onClick:e=>{"A"===e.target.tagName&&"ql-preview"==e.target.className&&(e.preventDefault(),window.open(e.target.href,"_blank"))},className:"quill-wrapper",onFocus:_,onBlur:()=>{b=setTimeout((()=>{t(u,o)}),500)},children:j.jsx(tc,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:l,modules:y,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:u,onChange:e=>{_(),d(a(e,!r))}})})}));const _h=F.memo((function({placeholder:e,extended:t,contentKey:r,code:n}){const o=Ne(),i=Fe((e=>{var t;return null===(t=e.designState[n].content)||void 0===t?void 0:t[r]})),a=Fe((e=>{var t;return"collapse_none"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),l=Fe((e=>e.designState.langInfo));Fe((e=>{var t;return"G"==n[0]?(null===(t=e.designState[n].groupType)||void 0===t?void 0:t.toLowerCase())||"group":e.designState[n].type}));const s=l.lang,u=l.mainLang,c=l.onMainLang,d=(null==i?void 0:i[s])||"",p=c?e:Ue(null==i?void 0:i[u])?null==i?void 0:i[u]:e,f=h(v.useState(!1),2),g=f[0],m=f[1],y=v.useCallback(((e,t)=>{m(!1),s==t&&e!=d&&o($e({code:n,key:r,lang:s,value:e}))}),[d]),b=We.includes(s);return j.jsx(L,{className:yi,onClick:e=>{a&&(e.preventDefault(),m(!0))},children:g?j.jsx(bh,{lang:s,isRtl:b,code:n,extended:t,onBlurListener:y,value:d}):Ue(d)?j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${bi}`,dangerouslySetInnerHTML:{__html:d}}):j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${_i}`,dangerouslySetInnerHTML:{__html:p}})})})),xh="_actionControl_1xa5v_1",wh="_statusIcon_1xa5v_8";var Oh={},Sh=A;Object.defineProperty(Oh,"__esModule",{value:!0});var kh=Oh.default=void 0,jh=Sh(Le()),Eh=j;kh=Oh.default=(0,jh.default)((0,Eh.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var Ch={},Th=A;Object.defineProperty(Ch,"__esModule",{value:!0});var qh=Ch.default=void 0,Ih=Th(Le()),Ah=j;qh=Ch.default=(0,Ih.default)((0,Ah.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Lh={},Ph=A;Object.defineProperty(Lh,"__esModule",{value:!0});var Nh=Lh.default=void 0,Fh=Ph(Le()),Rh=j;Nh=Lh.default=(0,Fh.default)((0,Rh.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var Mh={},Dh=A;Object.defineProperty(Mh,"__esModule",{value:!0});var Vh=Mh.default=void 0,zh=Dh(Le()),Bh=j;Vh=Mh.default=(0,zh.default)((0,Bh.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");const Hh=F.memo((function({code:e,isGroup:t,parentCode:r,disableDelete:n,onDelete:o,onClone:i,t:a}){const l=Ne(),s=R(),u=Fe((r=>{var n;return t?(null===(n=r.designState[e].groupType)||void 0===n?void 0:n.toLowerCase())||"group":r.designState[e].type})),c=h(v.useState(!1),2),d=c[0],f=c[1],g=Fe((t=>{var r;let n=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code));return void 0!==n&&!n.errors})),m=Fe((r=>{var n;return!t&&(null===(n=r.designState[e])||void 0===n||null===(n=n.instructionList)||void 0===n||null===(n=n.filter((e=>e.code.startsWith("validation_")&&!e.errors)))||void 0===n?void 0:n.length)>0})),y=()=>{l(De(t?p(p({},surveySetup),{},{highlighted:"random"}):{code:r,rules:Ve("group"),highlighted:"random",expanded:["random"]}))},b=s.textStyles.question.color,_=Fe((t=>{var r,n;let o=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.filter((e=>e.code.startsWith("skip_to")));return(null==o||null===(n=o.filter((e=>!e.errors)))||void 0===n?void 0:n.length)>=1})),x=Fe((t=>{var r;let n=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return n&&n.minIndex!=n.maxIndex})),w=Fe((t=>{var r,n;let o=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return(null==o||null===(n=o.prioritisedSiblings)||void 0===n?void 0:n.length)>0}));return j.jsxs("div",{className:xh,onClick:e=>{e.target!==e.currentTarget&&(e.preventDefault(),e.stopPropagation())},children:[g&&j.jsx(tr,{title:"Has show/Hide Condition",children:j.jsx(de,{className:wh,onClick:()=>{l(De({code:e,rules:Ve(u),highlighted:"relevance",expanded:["relevance"]}))},children:j.jsx(mr,{style:{color:b}})})}),m&&j.jsx(tr,{title:"Has Validation",children:j.jsx(de,{className:wh,onClick:()=>{l(De({code:e,rules:Ve(u),highlighted:"validation",expanded:["validation"]}))},children:j.jsx(kh,{style:{color:b}})})}),x&&j.jsx(tr,{title:"Is part of a valid Random Group (within parent)",children:j.jsx(de,{className:wh,onClick:()=>y(),children:j.jsx(qh,{style:{color:b}})})}),w&&j.jsx(tr,{title:"Is part of a valid Priority Group (within parent)",children:j.jsx(de,{className:wh,onClick:()=>y(),children:j.jsx(Nh,{style:{color:b}})})}),_&&j.jsx(tr,{title:"Has active Skip Logic",children:j.jsx(de,{className:wh,onClick:()=>{l(De({code:e,rules:Ve(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},children:j.jsx(Vh,{style:{color:b}})})}),j.jsx(de,{onClick:()=>{l(De({code:e,rules:Ve(u)}))},children:j.jsx(Ke,{name:"settings",size:".75em",color:`${b}`})}),!t&&j.jsx(de,{onClick:()=>i(),children:j.jsx(Ke,{name:"duplicate",size:".75em",color:`${b}`})}),!n&&j.jsx(de,{onClick:()=>f(!0),disabled:n,children:j.jsx(Ke,{name:"delete",size:".75em",color:b})}),j.jsx(yr,{open:d,description:a("delete_question"),handleClose:()=>f(!1),handleDelete:o})]})})),Uh="_questionItem_wb37f_1";const $h=F.memo((function({code:e}){var t,r;const n=Ye(),o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Uh,children:j.jsx(_r,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,"&.Mui-disabled":{color:n.textStyles.text.color,borderBottom:"1px solid"}}}})})})),Wh="_questionItem_1sx0f_1";const Kh=F.memo((function({code:e}){var t,r;const n=Ye(),o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Wh,children:j.jsx(_r,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},value:""})})})),Yh="_questionItem_169qj_1";const Gh=F.memo((function({code:e}){var t,r;const n=Ye(),o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Yh,children:j.jsx(_r,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})})),Jh="_questionItem_13fbu_1",Qh="_paragraph_13fbu_15",Xh="_wordCount_13fbu_19";const Zh=F.memo((function({code:e,t:t}){var r,n;const o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsxs("div",{className:Jh,children:[j.jsx(Ge,{disabled:!0,className:Qh,required:!(null===(r=o.validation)||void 0===r||null===(r=r.validation_required)||void 0===r||!r.isActive),placeholder:o.showHint&&((null===(n=o.content)||void 0===n||null===(n=n.hint)||void 0===n?void 0:n[i])||""),minRows:o.minRows||2,value:""}),o.showWordCount?j.jsx("div",{className:Xh,children:j.jsx("span",{children:t("word_count",{lng:i,count:0})})}):""]})})),eg="_questionItem_1sx0f_1";const tg=F.memo((function({code:e}){var t;const r=Ye(),n=Fe((t=>t.designState[e])),o=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:eg,children:j.jsx(_r,{variant:"standard",required:!(null===(t=n.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:n.showHint&&n.content.hint?n.content.hint[o]:"",InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}},value:"",type:"file",disabled:!0})})})),rg="_questionItem_1sx0f_1";const ng=F.memo((function({code:e}){var t,r;const n=Ye(),o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:rg,children:j.jsx(_r,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",InputProps:{sx:{fontFamily:n.textStyles.text,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},placeholder:o.dateFormat})})})),og="_questionItem_wb37f_1";const ig=F.memo((function({code:e}){var t,r;const n=Ye(),o=Fe((t=>t.designState[e])),i=Fe((e=>e.designState.langInfo.lang));return j.jsx("div",{className:og,children:j.jsx(_r,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",type:"time",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})}));var ag={},lg=A;Object.defineProperty(ag,"__esModule",{value:!0});var sg=ag.default=void 0,ug=lg(Le()),cg=j;sg=ag.default=(0,ug.default)((0,cg.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");const dg=F.memo((function(e){const t=Ye(),r=e.t,n=Fe((e=>e.designState.langInfo)),o=n.lang===n.mainLang,i=Fe((t=>t.designState[e.code].children));Fe((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.code}));const a=F.useMemo((()=>(null==i?void 0:i.filter((e=>"row"==e.type)))||[]),[i]),l=F.useMemo((()=>(null==i?void 0:i.filter((e=>"column"==e.type)))||[]),[i]);return j.jsxs(j.Fragment,{children:[e.onMainLang&&j.jsx("div",{className:Vo.addColumn,children:j.jsx(Je,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Or,{children:j.jsxs(Sr,{children:[j.jsx(Er,{children:j.jsxs(kr,{children:[o&&j.jsx(Cr,{sx:{padding:"0"}},"move"),j.jsx(Cr,{},"content"),l.map(((t,r)=>j.jsx(fg,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,index:r},t.qualifiedCode))),o&&j.jsx(Cr,{sx:{padding:"0"}},"remove")]})}),j.jsx(jr,{children:a.map(((t,r)=>j.jsx(pg,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,colCount:l.length,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:Vo.addRow,children:j.jsx(Je,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function pg({item:e,index:t,colCount:r,t:n,langInfo:o,parentQualifiedCode:i}){const a=Ne(),l=Ye(),s=v.useRef(),u=o.lang===o.mainLang,c=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.lang]})),d=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=`col-${i}`,f=h(Qe({type:p,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),g=f[0],m=f[1],y=f[2],b=h(qr({accept:p,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!s.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const l=null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect(),u=(l.bottom-l.top)/2,c=r.getClientOffset().y-l.top;o<i&&c<u||o>i&&c>u||(a(Ze({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),_=b[0].handlerId;return(0,b[1])(y(s)),j.jsxs(kr,{style:{opacity:g?"0.2":"1"},ref:s,"data-handler-id":_,children:[u&&j.jsx(Cr,{ref:m,sx:{padding:"0",color:l.textStyles.text.color},children:j.jsx(sg,{})},"move"),j.jsx(Cr,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:j.jsx(_r,{variant:"standard",value:c||"",onChange:t=>{a($e({code:e.qualifiedCode,key:"label",lang:o.lang,value:t.target.value}))},placeholder:u?n("content_editor_placeholder_option"):d||n("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),[...Array(r)].map(((e,t)=>j.jsx(Cr,{scope:"row",align:"center",sx:{padding:"4px"},children:j.jsx(Tr,{sx:{"&.Mui-disabled":{color:l.textStyles.text.color}},disabled:!0})},t))),u&&j.jsx(Cr,{onClick:t=>a(Xe(e.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:j.jsx(er,{})},"remove")]},e.code)}function fg({item:e,index:t,t:r,langInfo:n,parentQualifiedCode:o}){const i=Ne(),a=Ye(),l=v.useRef(),s=n.lang===n.mainLang,u=We.includes(n.lang),c=!u,d=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n.lang]})),p=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n.mainLang]})),f=`row-${o}`,g=h(Qe({type:f,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=g[0],y=g[1],b=g[2],_=h(qr({accept:f,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!l.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,a=t;if(o===a)return;const s=null===(n=l.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(s.right-s.left)/2,p=r.getClientOffset().x-s.left;c&&o<a&&p<d||c&&o>a&&p>d||u&&o<a&&p>d||u&&o>a&&p<d||(i(Ze({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:a})),e.index=a)}}),2),x=_[0].handlerId;return(0,_[1])(b(l)),j.jsxs(Cr,{ref:l,"data-handler-id":x,align:"center",sx:{opacity:m?"0.2":"1",fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size,padding:"4px"},children:[s&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:y,sx:{padding:"0"},children:j.jsx(sg,{})},"move"),j.jsx("div",{sx:{padding:"0"},onClick:t=>i(Xe(e.qualifiedCode)),children:j.jsx(er,{})})]}),j.jsx(_r,{variant:"standard",value:d||"",onChange:t=>{i($e({code:e.qualifiedCode,key:"label",lang:n.lang,value:t.target.value}))},placeholder:s?r("content_editor_placeholder_option"):p||r("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})]},e.qualifiedCode)}var hg={},gg=A;Object.defineProperty(hg,"__esModule",{value:!0});var vg=hg.default=void 0,mg=gg(Le()),yg=j;vg=hg.default=(0,mg.default)((0,yg.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const bg={placeholder:"_placeholder_4iqf5_1",buttonContainer:"_buttonContainer_4iqf5_9"};function _g({code:e,t:t,onMainLang:r}){var n,o;const i=et("design"),a=Ne(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=Fe((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.videoUrl)&&j.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:c.audio_only?"10%":"56%"},children:j.jsx(Ir,{url:$t(c.resources.videoUrl),loop:c.loop||!1,light:!0,controls:!0,config:{forceAudio:c.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),s?j.jsxs("div",{className:bg.buttonContainer,children:[j.jsx(M,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_video")})]}):r?j.jsx("div",{className:bg.buttonContainer,children:j.jsxs(Je,{component:"label",variant:"outlined",startIcon:j.jsx(vg,{}),children:[null!==(o=c.resources)&&void 0!==o&&o.videoUrl?t("replace_video"):t("upload_video"),j.jsx("input",{hidden:!0,id:e,accept:"video/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(tt({code:e,key:"videoUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})}const xg="_signatureCanvas_1uxb1_1";const wg=F.memo((function(){return j.jsx(L,{className:xg,sx:{backgroundColor:"background.default"},children:j.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}));var Og={},Sg=A;Object.defineProperty(Og,"__esModule",{value:!0});var kg=Og.default=void 0,jg=Sg(Le()),Eg=j;kg=Og.default=(0,jg.default)((0,Eg.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const Cg="_buttonContainer_xjf3c_9";const Tg=F.memo((function({code:e,t:t,onMainLang:r}){var n,o;const i=et("design"),a=Ne(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=Fe((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.imageUrl)&&j.jsx("img",{style:{width:"100%"},src:$t(c.resources.imageUrl)}),s?j.jsxs("div",{className:Cg,children:[j.jsx(M,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_image")})]}):r?j.jsx("div",{className:Cg,children:j.jsxs(Je,{variant:"outlined",component:"label",children:[j.jsx(kg,{className:"mr-10"}),null!==(o=c.resources)&&void 0!==o&&o.imageUrl?t("replace_image"):t("upload_image"),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(tt({code:e,key:"imageUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})})),qg="_choicesContainer_k0bnu_1",Ig="_choice_k0bnu_1",Ag="_choiceLabels_k0bnu_19";const Lg=F.memo((function({code:e}){var t,r;Ye();const n=Fe((t=>t.designState[e])),o=Fe((e=>e.designState.langInfo.lang));return j.jsxs(j.Fragment,{children:[j.jsxs(L,{className:Ag,children:[j.jsx(L,{children:null===(t=n.content)||void 0===t||null===(t=t.lower_bound_hint)||void 0===t?void 0:t[o]}),j.jsx(L,{children:null===(r=n.content)||void 0===r||null===(r=r.higher_bound_hint)||void 0===r?void 0:r[o]})]}),j.jsx(L,{className:qg,children:[0,1,2,3,4,5,6,7,8,9,10].map((e=>j.jsx(L,{className:Ig,children:e},e)))})]})})),Pg="_container_cyg3h_1";const Ng=F.memo((function({code:e}){var t;R();const r=Fe((t=>t.designState[e])),n=Fe((e=>e.designState.langInfo.lang));return j.jsxs(L,{className:Pg,children:[j.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Fg="_container_cyg3h_1";const Rg=F.memo((function({code:e}){var t;R();const r=Fe((t=>t.designState[e])),n=Fe((e=>e.designState.langInfo.lang));return j.jsxs(L,{className:Fg,children:[j.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Mg="_container_cyg3h_1";const Dg=F.memo((function({code:e}){var t;R();const r=Fe((t=>t.designState[e])),n=Fe((e=>e.designState.langInfo.lang));return j.jsxs(L,{className:Mg,children:[j.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Vg={answerAdd:"_answerAdd_5tmqk_1",questionItem:"_questionItem_5tmqk_9",choicesContainer:"_choicesContainer_5tmqk_15"},zg={answerItem:"_answerItem_shykq_1",answerIcon:"_answerIcon_shykq_10",answerIconOther:"_answerIconOther_shykq_18",answerNumberOrder:"_answerNumberOrder_shykq_27",answerControl:"_answerControl_shykq_32",answerControlRtl:"_answerControlRtl_shykq_37",answerControlOther:"_answerControlOther_shykq_42",answerControlOtherRtl:"_answerControlOtherRtl_shykq_47",answerOtherControl:"_answerOtherControl_shykq_52"};var Bg={},Hg=A;Object.defineProperty(Bg,"__esModule",{value:!0});var Ug=Bg.default=void 0,$g=Hg(Le()),Wg=j;function Kg(e){const t=Ne(),r=Ye(),n=v.useRef(null),o=Fe((e=>e.designState.langInfo)),i=Fe((t=>t.designState[e.qualifiedCode])),a=o.lang===o.mainLang,l=o.lang,s=We.includes(l),u=Fe((t=>{var r;return"other"===i.type&&(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.qualifiedCode+"Atext"})),c=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[l]})),d=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=h(Qe({type:e.droppableId,item:{index:e.index,draggableId:e.qualifiedCode,type:e.droppableId,code:e.code,itemType:e.type,droppableId:e.droppableId},collect:e=>e.isDragging()},[e]),3),f=p[0],g=p[1],m=p[2],y=h(qr({accept:e.droppableId,collect:e=>({handlerId:e.getHandlerId()}),hover(r,o){var i;if(!n.current||!o.isOver({shallow:!0})||!r)return;const a=r.index,l=e.index;if(a===l)return;const s=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),u=(s.bottom-s.top)/2,c=o.getClientOffset().y-s.top;a<l&&c<u||a>l&&c>u||(t(Ze({type:"reorder_answers",id:r.draggableId,fromIndex:r.index,toIndex:e.index})),r.index=l)}}),2),b=y[0].handlerId;return(0,y[1])(m(n)),rt(r.palette.background.paper),j.jsx("div",{ref:n,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.5),t})(f),"data-handler-id":b,children:j.jsxs(L,{sx:{backgroundColor:u?"beige":"inherit"},className:zg.answerItem,children:[a&&j.jsx("div",{ref:g,className:zg.answerIcon,children:j.jsx(sg,{ref:g,sx:{fontSize:18}})}),e.label?j.jsx("b",{children:e.label}):"",j.jsx(_r,{variant:"standard",className:"other"===i.type&&s?zg.answerControlOtherRtl:"other"===i.type?zg.answerControlOther:s?zg.answerControlRtl:zg.answerControl,value:c||"",onChange:r=>t($e({code:e.qualifiedCode,key:"label",lang:l,value:r.target.value})),placeholder:a?e.t("content_editor_placeholder_option"):d||e.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),"other"===i.type&&j.jsx(Ug,{sx:{fontSize:18},className:zg.answerIconOther,onClick:()=>{t(De({code:e.qualifiedCode+"Atext",rules:Ve("other_text")}))}},"setup"),a&&j.jsx(er,{sx:{fontSize:18},className:zg.answerIcon,onClick:r=>t(Xe(e.qualifiedCode))},"close")]})})}Ug=Bg.default=(0,$g.default)((0,Wg.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");const Yg=F.memo((function(e){const t=Ye(),r=e.t,n=Fe((t=>t.designState[e.code].children)),o=Fe((t=>t.designState[e.code].type)),i=!("mcq"!=o&&"scq"!=o||n&&n.some((e=>"Aother"===e.code)));return j.jsxs("div",{className:Vg.questionItem,children:[j.jsx("div",{className:Vg.choicesContainer,children:n&&n.length>0&&n.map(((t,r)=>j.jsx(Kg,{code:t.code,t:e.t,label:t.code,qualifiedCode:t.qualifiedCode,index:r,type:e.type,droppableId:`option-${e.code}`},t.code)))}),e.onMainLang&&j.jsxs("div",{className:Vg.answerAdd,children:[j.jsx(Je,{size:"small",style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},onClick:()=>e.addNewAnswer(e.code,o),children:r("add_option")}),i&&j.jsxs(j.Fragment,{children:[j.jsx("span",{style:{color:t.textStyles.question.color},children:r("or")}),j.jsx(Je,{style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",className:Vg.answerIcon,onClick:()=>e.addNewAnswer(e.code,o,"other"),children:r("add_other")})]})]})]})})),Gg="_questionItem_4rcog_5",Jg={imageIconButton:"_imageIconButton_z1as0_1",imageContainer:"_imageContainer_z1as0_8",addAnswerIcon:"_addAnswerIcon_z1as0_16",loadingContainer:"_loadingContainer_z1as0_20",addAnswerButton:"_addAnswerButton_z1as0_26",buttonContainers:"_buttonContainers_z1as0_34"};var Qg={},Xg=A;Object.defineProperty(Qg,"__esModule",{value:!0});var Zg=Qg.default=void 0,ev=Xg(Le()),tv=j;Zg=Qg.default=(0,ev.default)((0,tv.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var rv={},nv=A;Object.defineProperty(rv,"__esModule",{value:!0});var ov=rv.default=void 0,iv=nv(Le()),av=j;function lv({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageAspectRatio:i,hideText:a,t:l,addAnswer:s}){var u;const c=et("design"),d=Ne(),p=Ye(),f=v.useRef(),g=h(v.useState(!1),2),m=g[0],y=g[1],b=Fe((e=>e.designState.langInfo)),_=Fe((e=>"add"==n?void 0:e.designState[r])),x=b.lang===b.mainLang,w=b.lang,O=We.includes(w),S=Fe((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[w]})),k=Fe((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[b.mainLang]})),E=null!=_&&null!==(u=_.resources)&&void 0!==u&&u.image?`url('${$t(_.resources.image)}')`:"0";const C=e+"image-drag",T=t%o;const q=(e=>Math.round(e/o))(t),I=h(Qe({type:C,item:{index:t,colIndex:T,rowIndex:q,draggableId:r,parentCode:e,type:C,itemType:C},collect:e=>e.isDragging()},[t]),3),A=I[0],P=I[1],N=I[2],F=h(qr({accept:C,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!f.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=q,s=e.colIndex,u=T;if(o===i)return;const c=null===(n=f.current)||void 0===n?void 0:n.getBoundingClientRect(),p=(c.bottom-c.top)/2,h=(c.right-c.left)/2,g=r.getClientOffset(),v=g.y-c.top,m=g.x-c.left;a<l&&v<p&&s<u&&m<h||a>l&&v>p&&s>u&&m>h||(d(Ze({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),R=F[0].handlerId;return(0,F[1])(N(f)),"add"==n?j.jsx(Ar,{height:"100%",item:!0,xs:12/o,children:j.jsx(L,{className:Jg.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:p.palette.background.default,borderRadius:"4px"},children:j.jsx(de,{sx:{color:p.textStyles.text.color},className:Jg.addAnswerIcon,onClick:()=>{s()},children:j.jsx(ov,{})})})},"add"):j.jsx(j.Fragment,{children:j.jsxs(Ar,{style:{opacity:A?"0.2":"1"},item:!0,xs:12/o,children:[j.jsxs("div",{className:Jg.imageContainer,style:{paddingTop:100/i+"%",backgroundColor:p.palette.background.default,backgroundImage:E},ref:f,"data-handler-id":R,children:[x&&j.jsxs("div",{className:Jg.buttonContainers,children:[j.jsx(de,{sx:{color:p.textStyles.text.color},className:Jg.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&d(Xe(r))},children:j.jsx(Zg,{})}),j.jsxs(de,{sx:{color:p.textStyles.text.color},component:"label",className:Jg.imageIconButton,children:[j.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();let t=e.target.files[0];y(!0),c.uploadResource(t).then((e=>{y(!1),d(tt({code:r,key:"image",value:e.name}))})).catch((e=>{y(!1),console.error(e)}))}}),j.jsx(kg,{})]}),j.jsx(de,{sx:{color:p.textStyles.text.color},ref:P,className:Jg.imageIconButton,children:j.jsx(sg,{})})]}),m&&j.jsx("div",{className:Jg.loadingContainer,children:j.jsx(M,{})})]}),!a&&j.jsx(_r,{dir:O?"rtl":"ltr",variant:"standard",value:S||"",onChange:e=>d($e({code:r,key:"label",lang:w,value:e.target.value})),placeholder:x?l("content_editor_placeholder_option"):k||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size}}})]},r)})}ov=rv.default=(0,iv.default)((0,av.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const sv={imageIconButton:"_imageIconButton_lgrld_1",imageContainer:"_imageContainer_lgrld_8",addAnswerIcon:"_addAnswerIcon_lgrld_12",loadingContainer:"_loadingContainer_lgrld_16",addAnswerButton:"_addAnswerButton_lgrld_23",svgContainer:"_svgContainer_lgrld_31",buttonContainers:"_buttonContainers_lgrld_36"};const uv=new class{search(e,t){return new Promise(((r,n)=>{nt.get(`https://api.iconify.design/search?query=${e}&prefixes=mdi,fluent,ri&limit=100`,{cancelToken:t.token}).then((e=>{r(e.data.icons)})).catch((e=>{nt.isCancel(e)?console.debug("Request canceled:",e.message):n(e)}))}))}},cv={resultImage:"_resultImage_2y7qe_1"};function dv({currentIcon:e,onIconSelected:t}){const r=Pe("design").t,n=h(v.useState(""),2),o=n[0],i=n[1],a=h(v.useState(null),2),l=a[0],s=a[1],u=h(v.useState([]),2),c=u[0],d=u[1];v.useEffect((()=>{if(l&&l.cancel("Operation canceled by the user."),o){const e=nt.CancelToken.source();s(e),uv.search(o,e).then((e=>{d(e)})).catch((e=>{console.error(e)}))}else d([])}),[o]);return j.jsxs(Rr,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>t(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(rr,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),j.jsx(Mr,{children:j.jsxs("div",{children:[j.jsx("input",{type:"text",placeholder:"Search for icons",value:o,onChange:e=>{i(e.target.value)}}),j.jsx("div",{className:"search-results",children:c.map(((e,r)=>{const n=e.split(":");return j.jsx(pv,{onClick:t,source:`https://api.iconify.design/${n[0]}/${n[1]}.svg`},r)}))})]})}),j.jsx(Lr,{children:j.jsx(Je,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function pv({source:e,onClick:t}){const r=h(v.useState(""),2),n=r[0],o=r[1];return v.useEffect((()=>{nt.get(e).then((e=>{(function(e){if("string"!=typeof e)return!1;return/^<svg[\s\S]*<\/svg>$/.test(e)})(e.data)&&o(e.data)}))}),[e]),j.jsx("div",{onClick:()=>{t(n)},className:cv.resultImage,dangerouslySetInnerHTML:{__html:n}})}function fv({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageHeight:i,hideText:a,t:l,addAnswer:s}){var u,c,d;const p=et("design"),f=Ne(),g=v.useRef(null),m=Ye(),y=h(v.useState(!1),2),b=y[0],_=y[1],x=Fe((e=>e.designState.langInfo)),w=Fe((e=>"add"==n?void 0:e.designState[r])),O=x.lang===x.mainLang,S=x.lang,k=null==w||null===(u=w.resources)||void 0===u?void 0:u.icon,E="add"==n||null===(c=w.content)||void 0===c||null===(c=c.label)||void 0===c?void 0:c[S];"add"==n||w.icon;const C=We.includes(S),T="add"==n||null===(d=w.content)||void 0===d||null===(d=d.label)||void 0===d?void 0:d[x.mainLang],q=e+"icon-drag",I=t%o;const A=(e=>Math.round(e/o))(t),P=h(Qe({type:q,item:{index:t,colIndex:I,rowIndex:A,draggableId:r,parentCode:e,type:q,itemType:q},collect:e=>e.isDragging()},[t]),3),N=P[0],F=P[1],R=P[2],M=h(qr({accept:q,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!g.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=A,s=e.colIndex,u=I;if(o===i)return;const c=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(c.bottom-c.top)/2,p=(c.right-c.left)/2,h=r.getClientOffset(),v=h.y-c.top,m=h.x-c.left;a<l&&v<d&&s<u&&m<p||a>l&&v>d&&s>u&&m>p||(f(Ze({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),D=M[0].handlerId;return(0,M[1])(R(g)),"add"==n?j.jsx(Ar,{item:!0,xs:12/o,height:"100%",children:j.jsx(L,{className:sv.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:m.palette.background.default,height:"100%",width:"100%"},children:j.jsx(de,{sx:{color:m.textStyles.text.color},className:sv.addAnswerIcon,onClick:()=>{s()},children:j.jsx(ov,{})})})},"add"):j.jsxs(j.Fragment,{children:[j.jsx(Ar,{style:{opacity:N?"0.2":"1"},item:!0,xs:12/o,children:j.jsxs("div",{ref:g,"data-handler-id":D,children:[O&&j.jsxs("div",{className:sv.buttonContainers,children:[j.jsx(de,{sx:{color:m.textStyles.text.color},className:sv.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&f(Xe(r))},children:j.jsx(Zg,{})}),j.jsx(de,{sx:{color:m.textStyles.text.color},component:"label",className:sv.imageIconButton,onClick:()=>_(!0),children:j.jsx(kg,{})}),j.jsx(de,{sx:{color:m.textStyles.text.color},ref:F,className:sv.imageIconButton,children:j.jsx(sg,{})})]}),j.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsx(Dr,{imageHeightPx:i,svgUrl:k?$t(k):void 0})}),!a&&j.jsx(_r,{dir:C?"rtl":"ltr",variant:"standard",value:E||"",onChange:e=>f($e({code:r,key:"label",lang:S,value:e.target.value})),placeholder:O?l("content_editor_placeholder_option"):T||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:m.textStyles.text.font,color:m.textStyles.text.color,fontSize:m.textStyles.text.size}}})]})},r),b&&j.jsx(dv,{currentIcon:"",onIconSelected:e=>{(e=>{const t=new Blob([e],{type:"image/svg+xml"}),n=new File([t],"file.svg",{type:"image/svg+xml"});p.uploadResource(n).then((e=>{f(tt({code:r,key:"icon",value:e.name}))})).catch((e=>{console.error(e.message)}))})(e),_(!1)}})]})}const hv=F.memo((function(e){const t=Fe((t=>t.designState[e.code])),r=t.children||[],n=Fe((t=>t.designState[e.code].imageAspectRatio||1)),o=t.type,i=e.onMainLang?[...r,{type:"add",code:"add"}]:r,a=t.columns||2,l=t.hideText||!1,s=t.spacing||8,u=t.iconSize?+t.iconSize:64,c=`calc(${100/a}% - ${s}px)`;return j.jsx("div",{className:Gg,children:u&&j.jsx(L,{id:"items-"+e.code,sx:{display:"flex",flexWrap:"wrap",gap:`${s}px`},children:i.map(((t,r)=>e.icon?j.jsx(L,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(fv,{parentCode:e.code,index:r,columnNumber:a,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code):j.jsx(L,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(lv,{parentCode:e.code,index:r,imageAspectRatio:n,columnNumber:a,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code)))})})}));var gv={},vv=A;Object.defineProperty(gv,"__esModule",{value:!0});var mv=gv.default=void 0,yv=vv(Le()),bv=j;mv=gv.default=(0,yv.default)((0,bv.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");const _v=F.memo((function(e){const t=Ye(),r=e.t,n=Fe((e=>e.designState.langInfo)),o=n.lang===n.mainLang,i=Fe((t=>t.designState[e.code].children)),a=(null==i?void 0:i.filter((e=>"row"==e.type)))||[],l=(null==i?void 0:i.filter((e=>"column"==e.type)))||[],s=Fe((e=>l.map((t=>{var r;return null===(r=e.designState[t.qualifiedCode].resources)||void 0===r?void 0:r.icon}))));return j.jsxs(j.Fragment,{children:[e.onMainLang&&j.jsx("div",{className:Vo.addColumn,children:j.jsx(Je,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Or,{children:j.jsxs(Sr,{children:[j.jsx(Er,{children:j.jsxs(kr,{children:[o&&j.jsx(Cr,{sx:{padding:"0"}},"move"),j.jsx(Cr,{},"content"),l.map(((t,r)=>j.jsx(wv,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,icons:s,styles:Vo,index:r},t.qualifiedCode))),o&&j.jsx(Cr,{sx:{padding:"0"}},"remove")]})}),j.jsx(jr,{children:a.map(((t,r)=>j.jsx(xv,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,columns:l,icons:s,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:Vo.addRow,children:j.jsx(Je,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function xv({item:e,index:t,columns:r,icons:n,t:o,langInfo:i,parentQualifiedCode:a}){const l=Ne(),s=Ye(),u=v.useRef(),c=i.lang===i.mainLang,d=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.lang]})),p=Fe((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.mainLang]})),f=`col-${a}`,g=h(Qe({type:f,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=g[0],y=g[1],b=g[2],_=h(qr({accept:f,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!u.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(a.bottom-a.top)/2,c=r.getClientOffset().y-a.top;o<i&&c<s||o>i&&c>s||(l(Ze({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),x=_[0].handlerId;return(0,_[1])(b(u)),j.jsxs(kr,{style:{opacity:m?"0.2":"1"},ref:u,"data-handler-id":x,children:[c&&j.jsx(Cr,{ref:y,sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(sg,{})},"move"),j.jsx(Cr,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:j.jsx(_r,{variant:"standard",value:d||"",onChange:t=>{l($e({code:e.qualifiedCode,key:"label",lang:i.lang,value:t.target.value}))},placeholder:c?o("content_editor_placeholder_option"):p||o("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),r.map(((e,t)=>j.jsx(Cr,{scope:"row",align:"center",sx:{padding:"4px"},children:n[t]&&j.jsx(Dr,{opacity:.2,iconColor:s.textStyles.text.color,onIconClick:()=>{},imageHeightPx:64,svgUrl:n[t]?$t(n[t]):void 0})},t))),c&&j.jsx(Cr,{onClick:t=>l(Xe(e.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(er,{})},"remove")]},e.code)}function wv({item:e,index:t,icons:r,t:n,langInfo:o,parentQualifiedCode:i,styles:a}){const l=et("design"),s=r[t],u=h(v.useState(!1),2),c=u[0],d=u[1],p=Ne(),f=Ye(),g=v.useRef(),m=o.lang===o.mainLang,y=We.includes(o.lang),b=!y,_=`row-${i}`,x=h(Qe({type:_,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),w=x[0],O=x[1],S=x[2],k=h(qr({accept:_,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!g.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.right-a.left)/2,s=r.getClientOffset().x-a.left;b&&o<i&&s<l||b&&o>i&&s>l||y&&o<i&&s>l||y&&o>i&&s<l||(p(Ze({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),E=k[0].handlerId,C=k[1];return C(S(g)),j.jsxs(j.Fragment,{children:[j.jsxs(Cr,{ref:g,"data-handler-id":E,align:"center",sx:{opacity:w?"0.2":"1",fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size,padding:"4px"},children:[m&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:O,sx:{padding:"0"},children:j.jsx(sg,{})},"move"),j.jsx("div",{sx:{padding:"0",color:f.textStyles.text.color},onClick:t=>p(Xe(e.qualifiedCode)),children:j.jsx(er,{})})]}),s?j.jsx(Dr,{onIconClick:()=>d(!0),imageHeightPx:64,svgUrl:s?$t(s):void 0}):j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsxs("div",{onClick:()=>d(!0),children:[j.jsx(mv,{sx:{width:"64px",height:"64px"}}),j.jsx("br",{}),j.jsx("span",{children:"Click to add icon"})]})]})]},e.qualifiedCode),c&&j.jsx(dv,{currentIcon:"",onIconSelected:t=>{(t=>{const r=new Blob([t],{type:"image/svg+xml"}),n=new File([r],"file.svg",{type:"image/svg+xml"});l.uploadResource(n).then((t=>{p(tt({code:e.qualifiedCode,key:"icon",value:t.name}))})).catch((e=>{console.error(e.message)}))})(t),d(!1)}})]})}const Ov=F.memo((function({code:e,type:t,t:r,onMainLang:n,addAnswer:o}){switch(t){case"video_display":return j.jsx(_g,{code:e,t:r,onMainLang:n},e);case"image_display":return j.jsx(Tg,{code:e,t:r,onMainLang:n},e);case"signature":return j.jsx(wg,{});case"photo_capture":return j.jsx(Ng,{code:e});case"video_capture":return j.jsx(Rg,{code:e});case"date_time":case"date":return j.jsx(ng,{code:e},e);case"time":return j.jsx(ig,{code:e},e);case"scq":return j.jsx(Yg,{t:r,onMainLang:n,addNewAnswer:o,code:e,type:"radio"},e);case"image_mcq":case"image_scq":case"image_ranking":return j.jsx(hv,{t:r,onMainLang:n,addNewAnswer:o,code:e},e);case"icon_scq":case"icon_mcq":return j.jsx(hv,{icon:!0,t:r,onMainLang:n,addNewAnswer:o,code:e},e);case"scq_icon_array":return j.jsx(_v,{onMainLang:n,type:t,addNewAnswer:o,code:e,t:r},e);case"scq_array":return j.jsx(dg,{onMainLang:n,type:t,addNewAnswer:o,code:e,t:r},e);case"file_upload":return j.jsx(tg,{code:e},e);case"mcq":return j.jsx(Yg,{addNewAnswer:o,code:e,onMainLang:n,t:r,type:"checkbox"},e);case"ranking":return j.jsx(Yg,{onMainLang:n,addNewAnswer:o,code:e,t:r,type:"ranking"},e);case"nps":return j.jsx(Lg,{code:e},e);case"number":return j.jsx(Gh,{code:e},e);case"text":return j.jsx($h,{code:e},e);case"paragraph":return j.jsx(Zh,{t:r,code:e},e);case"barcode":return j.jsx(Dg,{t:r,code:e},e);case"email":return j.jsx(Kh,{code:e},e);default:return""}}));const Sv=F.memo((function({code:e,type:t,isLast:r,parentCode:n,index:o,t:i,onMainLang:a,parentIndex:l}){console.debug(e+": "+o);const s=h(v.useState(!1),2),u=s[0],c=s[1],d=v.useRef(),p=Ne(),f=Ye(),g=Fe((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e})),m=Fe((t=>t.designState[e])),y=m.children,b=Fe((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),_=Fe((e=>!ot(e.designState.setup))),x=v.useCallback((()=>p(it(e))),[]),w=v.useCallback((()=>p(at(e))),[]),O=h(Qe({type:"questions",item:{index:o,draggableId:e,droppableId:n,parentIndex:l,isLast:r,type:"questions",itemType:t},collect:t=>{var r;return(null===(r=t.getItem())||void 0===r?void 0:r.draggableId)===e}}),3),S=O[0],k=O[1],E=O[2],C=h(qr({accept:"questions",hover(e,t){var i;if(!(d.current&&t.isOver({shallow:!0})&&e&&e.droppableId.startsWith("G")))return;const a=e.index,l=o;if(a===l||(null==e?void 0:e.droppableId)!==n)return;const s=null===(i=d.current)||void 0===i?void 0:i.getBoundingClientRect(),u=t.getClientOffset();a<l&&u.y<s.top+20||a>l&&u.y>s.bottom-20||(p(Ze({type:"reorder_questions",source:e.droppableId,destination:n,id:e.draggableId,fromIndex:a,toIndex:l+1})),e.index=l,e.isLast=r)}}),2);C[0],(0,C[1])(E(d));const T=F.useCallback(((e,t,r)=>{const n=y||[];let o=1,i="",a="",l="";const s={code:"value",isActive:!1,returnType:{name:"ranking"==t||"nps"==t||"image_ranking"==t?"Int":"scq_array"==t||"scq_icon_array"==t?"String":"Boolean"},text:""};switch(r){case"column":o=lt(n.filter((e=>"column"===e.type))),l="Col"+o,i="Ac"+o,a=e+i,p(st({label:l,answer:{code:i,qualifiedCode:a,type:r}}));break;case"row":o=lt(n.filter((e=>"row"===e.type))),i="A"+o,l="Row"+o,a=e+i,p(st({label:l,instructionList:[s],answer:{code:i,qualifiedCode:a,type:r}}));break;case"other":i="Aother",l="Other",a=e+i;const u=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"scq"===t?`${e}.value === 'Aother'`:`${e}Aother.value === true`}];p(st({label:l,answer:{code:i,qualifiedCode:a,type:r},instructionList:"mcq"==t?[s]:[]})),p(st({instructionList:u,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:o=lt(n),i="A"+o,l="Option"+o,a=e+i,p(st({label:l,answer:{code:i,qualifiedCode:a},instructionList:"mcq"==t||"image_mcq"==t||"icon_mcq"==t||"ranking"==t||"image_ranking"==t?[s]:[]}))}}),[y]),q=rt(f.palette.background.paper),I=f.textStyles.question.color;return j.jsxs("div",{ref:d,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},style:g?{border:`0.5px solid ${I}`,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:q,color:I}:{opacity:S?"0.2":"1",border:S?"dotted 1px "+q:"0"},className:`question ${pi}`,"data-code":e,children:[j.jsxs(L,{className:mi,children:[b&&a&&j.jsx("div",{className:di,ref:k,children:j.jsx(li,{style:{color:I}})}),_&&(g||u)&&a&&j.jsx("div",{className:vi,children:j.jsx(Hh,{t:i,isGroup:!1,isInSetup:g,code:e,parentCode:n,onClone:w,onDelete:x,disableDelete:!1})})]}),j.jsxs(L,{className:fi,children:[j.jsx(L,{className:gi,children:ut(`${t}`,void 0,I)}),j.jsx("div",{className:hi,style:{fontFamily:f.textStyles.question.font,color:f.textStyles.question.color,fontSize:f.textStyles.question.size},children:j.jsx(_h,{code:e,extended:!1,placeholder:i("content_editor_placeholder_title"),contentKey:"label"})})]}),m.showDescription&&j.jsx(L,{className:ci,children:j.jsx(_h,{code:e,extended:!0,placeholder:i("content_editor_placeholder_description"),contentKey:"description"})}),j.jsx(Vr,{in:!0!==b,timeout:"auto",unmountOnExit:!0,children:j.jsx(Ov,{code:e,type:t,t:i,addAnswer:T,onMainLang:a,addNewAnswer:T})}),j.jsx(oi,{code:e})]})})),kv="_textHeader_15cd2_1",jv="_textDescription_15cd2_5",Ev="_groupHeader_15cd2_48",Cv="_moveBox_15cd2_62",Tv="_topLevel_15cd2_71",qv="_actionToolbarVisible_15cd2_103",Iv="_contentContainer_15cd2_107",Av="_headerContent_15cd2_118",Lv={groupDropArea:"_groupDropArea_1m6hh_1",groupDragging:"_groupDragging_1m6hh_24",questionDropArea:"_questionDropArea_1m6hh_45",groupDropAreaWrapper:"_groupDropAreaWrapper_1m6hh_72",hide:"_hide_1m6hh_79",hidden:"_hidden_1m6hh_83",isDragging:"_isDragging_1m6hh_92",groupHidden:"_groupHidden_1m6hh_104",groupEmptyHint:"_groupEmptyHint_1m6hh_111",groupEmptyHintHover:"_groupEmptyHintHover_1m6hh_130",dropText:"_dropText_1m6hh_134"};var Pv=new Map,Nv=new WeakMap,Fv=0,Rv=void 0;function Mv(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>`${t}_${"root"===t?function(e){return e?(Nv.has(e)||(Fv+=1,Nv.set(e,Fv.toString())),Nv.get(e)):"0"}(e.root):e[t]}`)).toString()}function Dv(e,t,r={},n=Rv){if(void 0===window.IntersectionObserver&&void 0!==n){const o=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const o=function(e){const t=Mv(e);let r=Pv.get(t);if(!r){const n=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=n.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},Pv.set(t,r)}return r}(r),i=o.id,a=o.observer,l=o.elements,s=l.get(e)||[];return l.has(e)||l.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),Pv.delete(i))}}function Vv({index:e,groupsCount:t,t:r,emptySurvey:n}){const o=Ne(),i=h(qr((()=>({accept:"groups",drop:t=>{o(Ze({type:"new_group",groupType:t.draggableId,toIndex:e}))},collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[e]),2),a=i[0],l=a.isOver,s=a.item,u=i[1],c=null!=s&&"group"==s.draggableId,d=s&&"new-groups"==s.droppableId&&Hv(s,e)&&Uv(s,e,t)&&Bv(s,e),p=R(),f=rt(p.palette.background.paper);return j.jsxs("div",{ref:u,style:{backgroundColor:c&&f,color:p.palette.text.primary},className:""+(n?Lv.groupEmptyHint+(l?" "+Lv.groupEmptyHintHover:""):l&&d?Lv.groupDropArea:c?Lv.groupDragging:Lv.groupHidden),children:[c&&!n&&j.jsx(j.Fragment,{children:j.jsx("span",{className:Lv.dropText,children:r("empty_survey_hint")})}),n&&j.jsx("span",{children:r("empty_survey_hint")})]})}function zv({index:e,isLast:t=!1,parentCode:r,parentType:n,parentIndex:o,emptyGroup:i=!1,t:a}){const l=R(),s=Ne();Fe((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)}));const u=Fe((e=>e.designState.reorder_refresh_code)),c=h(qr((()=>({accept:["new-questions","questions"],hover(i){"questions"===i.type&&i.droppableId!==r&&("end"!==n||ct(i.itemType))&&(s(Ze({type:"reparent_question",source:i.droppableId,destination:r,id:i.draggableId})),i.index=e,i.parentIndex=o,i.isLast=t,i.droppableId=r)},drop:t=>{"new-questions"===t.type&&s(Ze({type:"new_question",questionType:t.draggableId,destination:r,toIndex:e}))},collect:i=>{var a,l,s,u,c;return{isOver:"new-questions"==(null===(a=i.getItem())||void 0===a?void 0:a.type)&&i.isOver()&&("end"!==n||ct(null===(l=i.getItem())||void 0===l?void 0:l.itemType)),isDragging:!("end"===n&&!ct(null===(s=i.getItem())||void 0===s?void 0:s.itemType))&&("new-questions"===(null===(u=i.getItem())||void 0===u?void 0:u.droppableId)||"questions"===(null===(c=i.getItem())||void 0===c?void 0:c.type)&&i.getItem().droppableId!==r&&(0==e&&i.getItem().isLast&&i.getItem().parentIndex+1===o||t&&0==i.getItem().index&&i.getItem().parentIndex-1===o))}}})),[u,e]),2),d=c[0],p=d.isOver,f=d.isDragging,g=c[1],m=function({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:a,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const d=h(v.useState(null),2),p=d[0],f=d[1],g=v.useRef(),m=h(v.useState({inView:!!l,entry:void 0}),2),y=m[0],b=m[1];g.current=u,v.useEffect((()=>{if(a||!p)return;let l;return l=Dv(p,((e,t)=>{b({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&i&&l&&(l(),l=void 0)}),{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},s),()=>{l&&l()}}),[Array.isArray(e)?e.toString():e,p,o,n,i,a,r,s,t]);const _=null==(c=y.entry)?void 0:c.target,x=v.useRef();p||!_||i||a||x.current===_||(x.current=_,b({inView:!!l,entry:void 0}));const w=[f,y.inView,y.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({threshold:0,trackVisibility:f,delay:f?100:0}),y=m.ref,b=m.inView,_=(m.entry,l.palette.text.primary);return j.jsxs("div",{ref:y,children:[" ",j.jsxs("div",{ref:g,style:{marginTop:f||p?"inherit":"-0.5rem",marginBottom:f||p?"inherit":"-0.5rem"},className:"question-drop-area "+(i?p?Lv.questionDropArea:f&&b?Lv.isDragging:Lv.groupEmptyHint:p?Lv.questionDropArea:f&&b?Lv.isDragging:Lv.hidden)+" ",children:[f&&!i&&j.jsxs(L,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(zr,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:Lv.dropText,style:{color:_},children:a("empty_group_hint")})]}),i&&j.jsxs(L,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(zr,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:Lv.dropText,style:{color:_},children:a("empty_group_hint")})]})]})]})}const Bv=(e,t)=>(null==e?void 0:e.index)!==t&&t-1!==(null==e?void 0:e.index)||"new-groups"===(null==e?void 0:e.droppableId),Hv=(e,t)=>"welcome"!==(null==e?void 0:e.draggableId)||0===t,Uv=(e,t,r)=>"end"!==(null==e?void 0:e.draggableId)||t===r;const $v=F.memo((function({t:e,code:t,collapsed:r,children:n}){console.debug("Group Header: "+t);const o=Ne(),i=Fe((e=>e.designState.langInfo)).onMainLang,a=Fe((e=>e.designState[t])),l=Ye(),s=Fe((e=>!ot(e.designState.setup))),u=v.useCallback((()=>o(dt(t))),[t]);return j.jsx(L,{className:Av,children:j.jsxs(L,{className:Ev,"data-code":t,children:[j.jsx(L,{className:Iv,children:s&&i&&j.jsx("div",{className:qv,children:j.jsx(Hh,{code:t,t:e,isGroup:!0,onDelete:u,disableDelete:n&&n.length>0})})}),j.jsx("div",{className:kv,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:j.jsx(_h,{code:t,extended:!1,contentKey:"label",placeholder:e("content_editor_placeholder_title")})}),a.showDescription&&j.jsx(L,{className:jv,children:j.jsx(_h,{code:t,extended:!0,contentKey:"description",placeholder:e("content_editor_placeholder_description")})}),i&&j.jsx(oi,{type:"group",code:t})]})})}));const Wv=F.memo((function({t:e,code:t,index:r}){const n=Ne(),o=Fe((e=>e.designState[t])),i=Fe((e=>{var t;return"collapse_groups"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),a=Fe((e=>e.designState.langInfo)),l=Fe((e=>{var r;return(null===(r=e.designState.setup)||void 0===r?void 0:r.code)==t})),s=R(),u=v.useRef(),c=h(Qe({type:"groups",item:()=>({index:r,draggableId:t,droppableId:"groups",type:"groups"}),collect:e=>{var r;return(null===(r=e.getItem())||void 0===r?void 0:r.draggableId)===t}}),3),d=c[0],p=c[1],f=c[2],g=h(qr({accept:"groups",hover(e,t){var o;if(!u.current||"welcome"==b||"end"==b||!t.isOver({shallow:!0})||!e||"groups"!=e.droppableId)return;const i=e.index,a=r;if(i===a)return;const l=null===(o=u.current)||void 0===o?void 0:o.getBoundingClientRect(),s=t.getClientOffset();i<a&&s.y<l.top+50||i>a&&s.y>l.bottom-50||(n(Ze({type:"reorder_groups",id:e.draggableId,fromIndex:i,toIndex:a})),e.index=a)}}),2),m=(g[0],g[1]),y=a.onMainLang,b=null==o?void 0:o.groupType.toLowerCase(),_=null==o?void 0:o.children;m(f(u));const x=rt(s.palette.background.paper),w=s.textStyles.question.color;return o?j.jsxs(L,{sx:l?{border:`0.5px solid ${w}`,color:w,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:x}:{backgroundColor:"background.paper"},className:Tv,ref:u,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.2),t})(d),children:[1==i&&y&&"welcome"!==b&&"end"!==b?j.jsx("div",{className:Cv,ref:p,children:j.jsx(li,{style:{color:w}})}):j.jsx("br",{}),j.jsx($v,{t:e,code:t,index:r,collapsed:i,children:_}),(!0!==i||!y)&&j.jsxs(j.Fragment,{children:[_&&_.length>0&&j.jsx(zv,{index:0,parentCode:t,parentType:b,parentIndex:r,t:e}),null==_?void 0:_.map(((n,o)=>j.jsxs(F.Fragment,{children:[j.jsx(Sv,{t:e,parentCode:t,parentIndex:r,index:o,isLast:_.length==o+1,type:n.type,code:n.code,onMainLang:y},n.code),j.jsx(zv,{isLast:_.length==o+1,index:o+1,parentIndex:r,parentCode:t,parentType:b,t:e})]},n.code))),(!_||!_.length)&&y&&j.jsx(zv,{t:e,index:0,parentCode:t,parentType:b,emptyGroup:!0})]})]}):null})),Kv=0,Yv=1,Gv=2,Jv=4;function Qv(e,t){return r=>e(t(r))}function Xv(e,t){return t(e)}function Zv(e,t){return r=>e(t,r)}function em(e,t){return()=>e(t)}function tm(e,t){return t(e),e}function rm(...e){return e}function nm(e){e()}function om(e){return()=>e}function im(e){return void 0!==e}function am(){}function lm(e,t){return e(Yv,t)}function sm(e,t){e(Kv,t)}function um(e){e(Gv)}function cm(e){return e(Jv)}function dm(e,t){return lm(e,Zv(t,Kv))}function pm(e,t){const r=e(Yv,(e=>{r(),t(e)}));return r}function fm(){const e=[];return(t,r)=>{switch(t){case Gv:return void e.splice(0,e.length);case Yv:return e.push(r),()=>{const t=e.indexOf(r);t>-1&&e.splice(t,1)};case Kv:return void e.slice().forEach((e=>{e(r)}));default:throw new Error(`unrecognized action ${t}`)}}}function hm(e){let t=e;const r=fm();return(e,n)=>{switch(e){case Yv:n(t);break;case Kv:t=n;break;case Jv:return t}return r(e,n)}}function gm(e){return tm(fm(),(t=>dm(e,t)))}function vm(e,t){return tm(hm(t),(t=>dm(e,t)))}function mm(e,...t){const r=function(...e){return t=>e.reduceRight(Xv,t)}(...t);return(t,n)=>{switch(t){case Yv:return lm(e,r(n));case Gv:return void um(e)}}}function ym(e,t){return e===t}function bm(e=ym){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function _m(e){return t=>r=>{e(r)&&t(r)}}function xm(e){return t=>Qv(t,e)}function wm(e){return t=>()=>t(e)}function Om(e,t){return r=>n=>r(t=e(t,n))}function Sm(e){return t=>r=>{e>0?e--:t(r)}}function km(e){let t,r=null;return n=>o=>{r=o,t||(t=setTimeout((()=>{t=void 0,n(r)}),e))}}function jm(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout((()=>{n(t)}),e)}}function Em(...e){const t=new Array(e.length);let r=0,n=null;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);lm(e,(e=>{const l=r;r|=a,t[i]=e,l!==o&&r===o&&n&&(n(),n=null)}))})),e=>i=>{const a=()=>e([i].concat(t));r===o?a():n=a}}function Cm(...e){return function(t,r){switch(t){case Yv:return function(...e){return()=>{e.map(nm)}}(...e.map((e=>lm(e,r))));case Gv:return;default:throw new Error(`unrecognized action ${t}`)}}}function Tm(e,t=ym){return mm(e,bm(t))}function qm(...e){const t=fm(),r=new Array(e.length);let n=0;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);lm(e,(e=>{r[i]=e,n|=a,n===o&&sm(t,r)}))})),function(e,i){switch(e){case Yv:return n===o&&i(r),lm(t,i);case Gv:return um(t);default:throw new Error(`unrecognized action ${e}`)}}}function Im(e,t=[],{singleton:r}={singleton:!0}){return{id:Am(),constructor:e,dependencies:t,singleton:r}}const Am=()=>Symbol();function Lm(e,t){const r={},n={};let o=0;const i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(const a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r}const Pm="undefined"!=typeof document?F.useLayoutEffect:F.useEffect;function Nm(t,r,n){const o=Object.keys(r.required||{}),i=Object.keys(r.optional||{}),a=Object.keys(r.methods||{}),l=Object.keys(r.events||{}),u=F.createContext({});function c(e,t){e.propsReady&&sm(e.propsReady,!1);for(var n=0,a=o;n<a.length;n++){const o=a[n];sm(e[r.required[o]],t[o])}for(var l=0,s=i;l<s.length;l++){const n=s[l];if(n in t){sm(e[r.optional[n]],t[n])}}e.propsReady&&sm(e.propsReady,!0)}function d(e){return l.reduce(((t,n)=>(t[n]=function(e){let t,r;const n=()=>t&&t();return function(o,i){switch(o){case Yv:if(i){if(r===i)return;return n(),r=i,t=lm(e,i),t}return n(),am;case Gv:return n(),void(r=null);default:throw new Error(`unrecognized action ${o}`)}}}(e[r.events[n]]),t)),{})}const f=F.forwardRef(((f,g)=>{const v=f.children,m=s(f,e),y=F.useState((()=>tm(function(e){const t=new Map,r=({id:e,constructor:n,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);const a=n(o.map((e=>r(e))));return i&&t.set(e,a),a};return r(e)}(t),(e=>c(e,m))))),b=h(y,1)[0],_=h(F.useState(em(d,b)),1)[0];Pm((()=>{for(var e=0,t=l;e<t.length;e++){const r=t[e];r in m&&lm(_[r],m[r])}return()=>{Object.values(_).map(um)}}),[m,_,b]),Pm((()=>{c(b,m)})),F.useImperativeHandle(g,om(function(e){return a.reduce(((t,n)=>(t[n]=t=>{sm(e[r.methods[n]],t)},t)),{})}(b)));const x=n;return j.jsx(u.Provider,{value:b,children:n?j.jsx(x,p(p({},Lm([...o,...i,...l],m)),{},{children:v})):v})})),g=F.version.startsWith("18")?e=>{const t=F.useContext(u)[e],r=F.useCallback((e=>lm(t,e)),[t]);return F.useSyncExternalStore(r,(()=>cm(t)),(()=>cm(t)))}:e=>{const t=F.useContext(u)[e],r=h(F.useState(em(cm,t)),2),n=r[0],o=r[1];return Pm((()=>lm(t,(e=>{e!==n&&o(om(e))}))),[t,n]),n};return{Component:f,usePublisher:e=>F.useCallback(Zv(sm,F.useContext(u)[e]),[e]),useEmitterValue:g,useEmitter:(e,t)=>{const r=F.useContext(u)[e];Pm((()=>lm(r,t)),[t,r])}}}const Fm="undefined"!=typeof document?F.useLayoutEffect:F.useEffect;var Rm=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Rm||{});const Mm={0:"debug",1:"log",2:"warn",3:"error"},Dm=Im((()=>{const e=hm(3),t=hm(((t,r,n=1)=>{var o;n>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:cm(e))&&console[Mm[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}));return{log:t,logLevel:e}}),[],{singleton:!0});function Vm(e,t,r){const n=F.useRef(null);let o=e=>{};if("undefined"!=typeof ResizeObserver){const i=F.useMemo((()=>new ResizeObserver((t=>{const n=()=>{const r=t[0].target;null!==r.offsetParent&&e(r)};r?n():requestAnimationFrame(n)}))),[e]);o=e=>{e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function zm(e,t,r){return Vm(e,t,r).callbackRef}function Bm(e,t,r,n,o,i,a,l,s){const u=F.useCallback((r=>{const s=function(e,t,r,n){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(!o||void 0===o.dataset.index)continue;const l=parseInt(o.dataset.index),s=parseFloat(o.dataset.knownSize),u=t(o,r);if(0===u&&n("Zero-sized element, this should not happen",{child:o},Rm.ERROR),u===s)continue;const c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:u}):i[i.length-1].endIndex++}return i}(r.children,t,l?"offsetWidth":"offsetHeight",o);let u=r.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const c="window"===u.lastElementChild.dataset.viewportType,d=a?l?a.scrollLeft:a.scrollTop:c?l?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:l?u.scrollLeft:u.scrollTop,p=a?l?a.scrollWidth:a.scrollHeight:c?l?document.documentElement.scrollWidth:document.documentElement.scrollHeight:l?u.scrollWidth:u.scrollHeight,f=a?l?a.offsetWidth:a.offsetHeight:c?l?window.innerWidth:window.innerHeight:l?u.offsetWidth:u.offsetHeight;n({scrollTop:Math.max(d,0),scrollHeight:p,viewportHeight:f}),null==i||i(l?Hm("column-gap",getComputedStyle(r).columnGap,o):Hm("row-gap",getComputedStyle(r).rowGap,o)),null!==s&&e(s)}),[e,t,o,i,a,n]);return Vm(u,r,s)}function Hm(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,Rm.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Um(e,t){return Math.round(e.getBoundingClientRect()[t])}function $m(e,t){return Math.abs(e-t)<1.01}function Wm(e,t,r,n=am,o,i){const a=F.useRef(null),l=F.useRef(null),s=F.useRef(null),u=F.useCallback((r=>{const n=r.target,o=n===window||n===document,a=i?o?window.pageXOffset||document.documentElement.scrollLeft:n.scrollLeft:o?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,u=i?o?document.documentElement.scrollWidth:n.scrollWidth:o?document.documentElement.scrollHeight:n.scrollHeight,c=i?o?window.innerWidth:n.offsetWidth:o?window.innerHeight:n.offsetHeight,d=()=>{e({scrollTop:Math.max(a,0),scrollHeight:u,viewportHeight:c})};r.suppressFlushSync?d():D.flushSync(d),null!==l.current&&(a===l.current||a<=0||a===u-c)&&(l.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))}),[e,t]);return F.useEffect((()=>{const e=o||a.current;return n(o||a.current),u({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",u,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",u)}}),[a,u,r,n,o]),{scrollerRef:a,scrollByCallback:function(e){i&&(e={left:e.top,behavior:e.behavior}),a.current.scrollBy(e)},scrollToCallback:function(r){const n=a.current;if(!n||(i?"offsetWidth"in n&&0===n.offsetWidth:"offsetHeight"in n&&0===n.offsetHeight))return;const o="smooth"===r.behavior;let u,c,d;n===window?(c=Math.max(Um(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),u=i?window.innerWidth:window.innerHeight,d=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(c=n[i?"scrollWidth":"scrollHeight"],u=Um(n,i?"width":"height"),d=n[i?"scrollLeft":"scrollTop"]);const p=c-u;if(r.top=Math.ceil(Math.max(Math.min(p,r.top),0)),$m(u,c)||r.top===d)return e({scrollTop:d,scrollHeight:c,viewportHeight:u}),void(o&&t(!0));o?(l.current=r.top,s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{s.current=null,l.current=null,t(!0)}),1e3)):l.current=null,i&&(r={left:r.top,behavior:r.behavior}),n.scrollTo(r)}}}const Km=Im((()=>{const e=fm(),t=fm(),r=hm(0),n=fm(),o=hm(0),i=fm(),a=fm(),l=hm(0),s=hm(0),u=hm(0),c=hm(0),d=fm(),p=fm(),f=hm(!1),h=hm(!1),g=hm(!1);return dm(mm(e,xm((({scrollTop:e})=>e))),t),dm(mm(e,xm((({scrollHeight:e})=>e))),a),dm(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:l,fixedHeaderHeight:s,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:n,horizontalDirection:h,skipAnimationFrameInResizeObserver:g,scrollTo:d,scrollBy:p,statefulScrollTop:o,deviation:r,scrollingInProgress:f}}),[],{singleton:!0}),Ym={lvl:0};function Gm(e,t,r,n=Ym,o=Ym){return{k:e,v:t,lvl:r,l:n,r:o}}function Jm(e){return e===Ym}function Qm(){return Ym}function Xm(e,t){if(Jm(e))return Ym;const r=e.k,n=e.l,o=e.r;if(t===r){if(Jm(n))return o;if(Jm(o))return n;{const t=h(oy(n),2);return uy(ay(e,{k:t[0],v:t[1],l:iy(n)}))}}return uy(ay(e,t<r?{l:Xm(n,t)}:{r:Xm(o,t)}))}function Zm(e,t){if(!Jm(e))return t===e.k?e.v:t<e.k?Zm(e.l,t):Zm(e.r,t)}function ey(e,t,r="k"){if(Jm(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=ey(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return ey(e.l,t,r)}function ty(e,t,r){return Jm(e)?Gm(t,r,1):t===e.k?ay(e,{k:t,v:r}):t<e.k?sy(ay(e,{l:ty(e.l,t,r)})):sy(ay(e,{r:ty(e.r,t,r)}))}function ry(e,t,r){if(Jm(e))return[];const n=e.k,o=e.v,i=e.l,a=e.r;let l=[];return n>t&&(l=l.concat(ry(i,t,r))),n>=t&&n<=r&&l.push({k:n,v:o}),n<=r&&(l=l.concat(ry(a,t,r))),l}function ny(e){return Jm(e)?[]:[...ny(e.l),{k:e.k,v:e.v},...ny(e.r)]}function oy(e){return Jm(e.r)?[e.k,e.v]:oy(e.r)}function iy(e){return Jm(e.r)?e.l:uy(ay(e,{r:iy(e.r)}))}function ay(e,t){return Gm(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function ly(e){return Jm(e)||e.lvl>e.r.lvl}function sy(e){return py(fy(e))}function uy(e){const t=e.l,r=e.r,n=e.lvl;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(ly(t))return fy(ay(e,{lvl:n-1}));if(Jm(t)||Jm(t.r))throw new Error("Unexpected empty nodes");return ay(t.r,{l:ay(t,{r:t.r.l}),r:ay(e,{l:t.r.r,lvl:n-1}),lvl:n})}if(ly(e))return py(ay(e,{lvl:n-1}));if(Jm(r)||Jm(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=ly(t)?r.lvl-1:r.lvl;return ay(t,{l:ay(e,{r:t.l,lvl:n-1}),r:py(ay(r,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function cy(e,t,r){if(Jm(e))return[];const n=ey(e,t)[0];return dy(ry(e,n,r),(({k:e,v:t})=>({index:e,value:t})))}function dy(e,t){const r=e.length;if(0===r)return[];let n=t(e[0]),o=n.index,i=n.value;const a=[];for(let l=1;l<r;l++){const r=t(e[l]),n=r.index,s=r.value;a.push({start:o,end:n-1,value:i}),o=n,i=s}return a.push({start:o,end:1/0,value:i}),a}function py(e){const t=e.r,r=e.lvl;return Jm(t)||Jm(t.r)||t.lvl!==r||t.r.lvl!==r?e:ay(t,{l:ay(e,{r:t.l}),lvl:r+1})}function fy(e){const t=e.l;return Jm(t)||t.lvl!==e.lvl?e:ay(t,{r:ay(e,{l:t.r})})}function hy(e,t,r,n=0){let o=e.length-1;for(;n<=o;){const i=Math.floor((n+o)/2),a=r(e[i],t);if(0===a)return i;if(-1===a){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function gy(e,t,r){return e[hy(e,t,r)]}const vy=Im((()=>({recalcInProgress:hm(!1)})),[],{singleton:!0});function my(e){const t=e.size,r=e.startIndex,n=e.endIndex;return e=>e.start===r&&(e.end===n||e.end===1/0)&&e.value===t}function yy(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function by({index:e},t){return t===e?0:t<e?-1:1}function _y({offset:e},t){return t===e?0:t<e?-1:1}function xy(e){return{index:e.index,value:e}}function wy(e,t,r,n=0){return n>0&&(t=Math.max(t,gy(e,n,by).offset)),dy(function(e,t,r,n){const o=hy(e,t,n),i=hy(e,r,n,o);return e.slice(o,i+1)}(e,t,r,_y),xy)}function Oy(e,t,r,n){let o=e,i=0,a=0,s=0,u=0;if(0!==t){u=hy(o,t-1,by);s=o[u].offset;const e=ey(r,t-1);i=e[0],a=e[1],o.length&&o[u].size===ey(r,t)[1]&&(u-=1),o=o.slice(0,u+1)}else o=[];var c,d=l(cy(r,t,1/0));try{for(d.s();!(c=d.n()).done;){const e=c.value,t=e.start,r=e.value,l=t-i,u=l*a+s+l*n;o.push({offset:u,size:r,index:t}),i=t,s=u,a=r}}catch(p){d.e(p)}finally{d.f()}return{offsetTree:o,lastIndex:i,lastOffset:s,lastSize:a}}function Sy(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,Rm.DEBUG);const i=e.sizeTree;let a=i,s=0;if(r.length>0&&Jm(i)&&2===t.length){const e=t[0].size,n=t[1].size;a=r.reduce(((t,r)=>ty(ty(t,r,e),r+1,n)),a)}else{var u=function(e,t){let r=Jm(e)?0:1/0;var n,o=l(t);try{for(o.s();!(n=o.n()).done;){const t=n.value,o=t.size,u=t.startIndex,c=t.endIndex;if(r=Math.min(r,u),Jm(e)){e=ty(e,0,o);continue}const d=cy(e,u-1,c+1);if(d.some(my(t)))continue;let p=!1,f=!1;var i,a=l(d);try{for(a.s();!(i=a.n()).done;){const t=i.value,r=t.start,n=t.end,a=t.value;p?(c>=r||o===a)&&(e=Xm(e,r)):(f=a!==o,p=!0),n>c&&c>=r&&a!==o&&(e=ty(e,c+1,a))}}catch(s){a.e(s)}finally{a.f()}f&&(e=ty(e,u,o))}}catch(s){o.e(s)}finally{o.f()}return[e,r]}(a,t),c=h(u,2);a=c[0],s=c[1]}if(a===i)return e;const d=Oy(e.offsetTree,s,a,o),p=d.offsetTree,f=d.lastIndex,g=d.lastSize,v=d.lastOffset;return{sizeTree:a,offsetTree:p,lastIndex:f,lastOffset:v,lastSize:g,groupOffsetTree:r.reduce(((e,t)=>ty(e,t,ky(t,p,o))),Qm()),groupIndices:r}}function ky(e,t,r){if(0===t.length)return 0;const n=gy(t,e,by),o=n.offset,i=e-n.index,a=n.size*i+(i-1)*r+o;return a>0?a+r:a}function jy(e,t,r){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=Ey("LAST"===e.index?r:e.index,t);return n=Math.max(0,n,Math.min(r,n)),n}}function Ey(e,t){if(!Cy(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function Cy(e){return!Jm(e.groupOffsetTree)}const Ty={offsetHeight:"height",offsetWidth:"width"},qy=Im((([{log:e},{recalcInProgress:t}])=>{const r=fm(),n=fm(),o=vm(n,0),i=fm(),a=fm(),l=hm(0),s=hm([]),u=hm(void 0),c=hm(void 0),d=hm(((e,t)=>Um(e,Ty[t]))),f=hm(void 0),h=hm(0),g={offsetTree:[],sizeTree:Qm(),groupOffsetTree:Qm(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=vm(mm(r,Em(s,e,h),Om(Sy,g),bm()),g),m=vm(mm(s,bm(),Om(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),xm((({prev:e})=>e))),[]);dm(mm(s,_m((e=>e.length>0)),Em(v,h),xm((([e,t,r])=>{const n=e.reduce(((e,n,o)=>ty(e,n,ky(n,t.offsetTree,r)||o)),Qm());return p(p({},t),{},{groupIndices:e,groupOffsetTree:n})}))),v),dm(mm(n,Em(v),_m((([e,{lastIndex:t}])=>e<t)),xm((([e,{lastIndex:t,lastSize:r}])=>[{startIndex:e,endIndex:t,size:r}]))),r),dm(u,c);const y=vm(mm(u,xm((e=>void 0===e))),!0);dm(mm(c,_m((e=>void 0!==e&&Jm(cm(v).sizeTree))),xm((e=>[{startIndex:0,endIndex:0,size:e}]))),r);const b=gm(mm(r,Em(v),Om((({sizes:e},[t,r])=>({changed:r!==e,sizes:r})),{changed:!1,sizes:g}),xm((e=>e.changed))));lm(mm(l,Om(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),xm((e=>e.diff))),(e=>{const r=cm(v).groupIndices;if(e>0)sm(t,!0),sm(i,e+yy(e,r));else if(e<0){const t=cm(m);t.length>0&&(e-=yy(-e,t)),sm(a,e)}})),lm(mm(l,Em(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Rm.ERROR)}));const _=gm(i);dm(mm(i,Em(v),xm((([e,t])=>{const r=t.groupIndices.length>0,n=[],o=t.lastSize;if(r){const r=Zm(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],l=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;n.push({startIndex:e,endIndex:e,size:r}),n.push({startIndex:e+1,endIndex:e+1+l-1,size:o}),a++,i+=l+1}const l=ny(t.sizeTree);return i!==e&&l.shift(),l.reduce(((t,{k:r,v:n})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}]),{ranges:o,prevIndex:r+e,prevSize:n}}),{ranges:n,prevIndex:e,prevSize:0}).ranges}return ny(t.sizeTree).reduce(((t,{k:r,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}],prevIndex:r+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:o}).ranges}))),r);const x=gm(mm(a,Em(v,h),xm((([e,{offsetTree:t},r])=>ky(-e,t,r)))));return dm(mm(a,Em(v,h),xm((([e,t,r])=>{if(t.groupIndices.length>0){if(Jm(t.sizeTree))return t;let n=Qm();const o=cm(m);let i=0,a=0,l=0;for(;i<-e;){l=o[a];const e=o[a+1]-l-1;a++,i+=e+1}n=ny(t.sizeTree).reduce(((t,{k:r,v:n})=>ty(t,Math.max(0,r+e),n)),n);if(i!==-e){n=ty(n,0,Zm(t.sizeTree,l));n=ty(n,1,ey(t.sizeTree,1-e)[1])}return p(p({},t),{},{sizeTree:n},Oy(t.offsetTree,0,n,r))}{const n=ny(t.sizeTree).reduce(((t,{k:r,v:n})=>ty(t,Math.max(0,r+e),n)),Qm());return p(p({},t),{},{sizeTree:n},Oy(t.offsetTree,0,n,r))}}))),v),{data:f,totalCount:n,sizeRanges:r,groupIndices:s,defaultItemSize:c,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:x,beforeUnshiftWith:_,firstItemIndex:l,gap:h,sizes:v,listRefresh:b,statefulTotalCount:o,trackItemSizes:y,itemSize:d}}),rm(Dm,vy),{singleton:!0}),Iy="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function Ay(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Iy||(t.behavior="auto"),t.offset||(t.offset=0),t}const Ly=Im((([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:a,smoothScrollTargetReached:l,headerHeight:s,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:d},{log:p}])=>{const f=fm(),h=fm(),g=hm(0);let v=null,m=null,y=null;function b(){v&&(v(),v=null),y&&(y(),y=null),m&&(clearTimeout(m),m=null),sm(o,!1)}return dm(mm(f,Em(e,i,t,g,s,u,p),Em(n,c,d),xm((([[e,t,n,i,a,s,u,c],d,p,g])=>{const _=Ay(e),x=_.align,w=_.behavior,O=_.offset,S=i-1,k=jy(_,t,S);let j=ky(k,t.offsetTree,d)+s;"end"===x?(j+=p+ey(t.sizeTree,k)[1]-n+g,k===S&&(j+=u)):"center"===x?j+=(p+ey(t.sizeTree,k)[1]-n+g)/2:j-=a,O&&(j+=O);const E=t=>{b(),t?(c("retrying to scroll to",{location:e},Rm.DEBUG),sm(f,e)):(sm(h,!0),c("list did not change, scroll successful",{},Rm.DEBUG))};if(b(),"smooth"===w){let e=!1;y=lm(r,(t=>{e=e||t})),v=pm(l,(()=>{E(e)}))}else v=pm(mm(r,(C=150,e=>{const t=setTimeout((()=>{e(!1)}),C);return r=>{r&&(e(!0),clearTimeout(t))}})),E);var C;return m=setTimeout((()=>{b()}),1200),sm(o,!0),c("scrolling from index to",{index:k,top:j,behavior:w},Rm.DEBUG),{top:j,behavior:w}}))),a),{scrollToIndex:f,scrollTargetReached:h,topListHeight:g}}),rm(qy,Km,Dm),{singleton:!0});const Py="up",Ny="down",Fy={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Ry=Im((([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{const a=hm(!1),l=hm(!0),s=fm(),u=fm(),c=hm(4),d=hm(0),p=vm(mm(Cm(mm(Tm(t),Sm(1),wm(!0)),mm(Tm(t),Sm(1),wm(!1),jm(100))),bm()),!1),f=vm(mm(Cm(mm(i,wm(!0)),mm(i,wm(!1),jm(200))),bm()),!1);dm(mm(qm(Tm(t),Tm(d)),xm((([e,t])=>e<=t)),bm()),l),dm(mm(l,km(50)),u);const h=gm(mm(qm(e,Tm(r),Tm(n),Tm(o),Tm(c)),Om(((e,[{scrollTop:t,scrollHeight:r},n,o,i,a])=>{const l={viewportHeight:n,scrollTop:t,scrollHeight:r};if(t+n-r>-a){let r,n;return t>e.state.scrollTop?(r="SCROLLED_DOWN",n=e.state.scrollTop-t):(r="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:l,atBottomBecause:r,scrollTopDelta:n}}let s;return s=l.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:s,state:l}}),Fy),bm(((e,t)=>e&&e.atBottom===t.atBottom)))),g=vm(mm(e,Om(((e,{scrollTop:t,scrollHeight:r,viewportHeight:n})=>{if($m(e.scrollHeight,r))return{scrollTop:t,scrollHeight:r,jump:0,changed:!1};{const o=r-(t+n)<1;return e.scrollTop!==t&&o?{scrollHeight:r,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:r,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),_m((e=>e.changed)),xm((e=>e.jump))),0);dm(mm(h,xm((e=>e.atBottom))),a),dm(mm(a,km(50)),s);const v=hm(Ny);dm(mm(e,xm((({scrollTop:e})=>e)),bm(),Om(((e,t)=>cm(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Py:Ny,prevScrollTop:t}),{direction:Ny,prevScrollTop:0}),xm((e=>e.direction))),v),dm(mm(e,km(50),wm("none")),v);const m=hm(0);return dm(mm(p,_m((e=>!e)),wm(0)),m),dm(mm(t,km(100),Em(p),_m((([e,t])=>!!t)),Om((([e,t],[r])=>[t,r]),[0,0]),xm((([e,t])=>t-e))),m),{isScrolling:p,isAtTop:l,isAtBottom:a,atBottomState:h,atTopStateChange:u,atBottomStateChange:s,scrollDirection:v,atBottomThreshold:c,atTopThreshold:d,scrollVelocity:m,lastJumpDueToItemResize:g}}),rm(Km)),My=Im((([{log:e}])=>{const t=hm(!1),r=gm(mm(t,_m((e=>e)),bm()));return lm(t,(t=>{t&&cm(e)("props updated",{},Rm.DEBUG)})),{propsReady:t,didMount:r}}),rm(Dm),{singleton:!0});function Dy(e,t){0==e?t():requestAnimationFrame((()=>Dy(e-1,t)))}function Vy(e,t){const r=t-1;return"number"==typeof e?e:"LAST"===e.index?r:e.index}const zy=Im((([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o,scrollTargetReached:i},{didMount:a}])=>{const l=hm(!0),s=hm(0),u=hm(!0);return dm(mm(a,Em(s),_m((([e,t])=>!!t)),wm(!1)),l),dm(mm(a,Em(s),_m((([e,t])=>!!t)),wm(!1)),u),lm(mm(qm(t,a),Em(l,e,r,u),_m((([[,e],t,{sizeTree:r},n,o])=>e&&(!Jm(r)||im(n))&&!t&&!o)),Em(s)),(([,e])=>{pm(i,(()=>{sm(u,!0)})),Dy(4,(()=>{pm(n,(()=>{sm(l,!0)})),sm(o,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s,initialItemFinalLocationReached:u}}),rm(qy,Km,Ly,My),{singleton:!0});function By(e){return!!e&&("smooth"===e?"smooth":"auto")}const Hy=Im((([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:a,didMount:l},{log:s},{scrollingInProgress:u}])=>{const c=hm(!1),d=fm();let p=null;function f(e){sm(o,{index:"LAST",align:"end",behavior:e})}function h(e){const t=pm(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||p||(cm(s)("scrolling to bottom due to increased size",{},Rm.DEBUG),f("auto"))}));setTimeout(t,100)}return lm(mm(qm(mm(Tm(e),Sm(1)),l),Em(Tm(c),r,i,u),xm((([[e,t],r,n,o,i])=>{let a=t&&o,l="auto";return a&&(l=((e,t)=>"function"==typeof e?By(e(t)):t&&By(e))(r,n||i),a=a&&!!l),{totalCount:e,shouldFollow:a,followOutputBehavior:l}})),_m((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:r})=>{p&&(p(),p=null),p=pm(t,(()=>{cm(s)("following output to ",{totalCount:e},Rm.DEBUG),f(r),p=null}))})),lm(mm(qm(Tm(c),e,a),_m((([e,,t])=>e&&t)),Om((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),_m((({refreshed:e})=>e)),Em(c,e)),(([,e])=>{cm(i)&&h(!1!==e)})),lm(d,(()=>{h(!1!==cm(c))})),lm(qm(Tm(c),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&f("auto")})),{followOutput:c,autoscrollToBottom:d}}),rm(qy,Ry,Ly,zy,My,Dm,Km));function Uy(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const $y=Im((([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{const i=fm(),a=fm(),l=gm(mm(i,xm(Uy)));return dm(mm(l,xm((e=>e.totalCount))),e),dm(mm(l,xm((e=>e.groupIndices))),t),dm(mm(qm(n,r,o),_m((([e,t])=>Cy(t))),xm((([e,t,r])=>ey(t.groupOffsetTree,Math.max(e-r,0),"v")[0])),bm(),xm((e=>[e]))),a),{groupCounts:i,topItemsIndexes:a}}),rm(qy,Km));function Wy(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Ky(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Yy="top",Gy="bottom",Jy="none";function Qy(e,t,r){return"number"==typeof e?r===Py&&t===Yy||r===Ny&&t===Gy?e:0:r===Py?t===Yy?e.main:e.reverse:t===Gy?e.main:e.reverse}function Xy(e,t){return"number"==typeof e?e:e[t]||0}const Zy=Im((([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{const i=fm(),a=hm(0),l=hm(0),s=hm(0);return{listBoundary:i,overscan:s,topListHeight:a,increaseViewportBy:l,visibleRange:vm(mm(qm(Tm(e),Tm(t),Tm(n),Tm(i,Wy),Tm(s),Tm(a),Tm(o),Tm(r),Tm(l)),xm((([e,t,r,[n,o],i,a,l,s,u])=>{const c=e-s,d=a+l,p=Math.max(r-c,0);let f=Jy;const h=Xy(u,Yy),g=Xy(u,Gy);return n-=s,o+=r+l,(n+=r+l)>e+d-h&&(f=Py),(o-=s)<e-p+t+g&&(f=Ny),f!==Jy?[Math.max(c-r-Qy(i,Yy,f)-h,0),c-p-l+t+Qy(i,Gy,f)+g]:null})),_m((e=>null!=e)),bm(Wy)),[0,0])}}),rm(Km),{singleton:!0});const eb={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function tb(e,t,r){if(0===e.length)return[];if(!Cy(t))return e.map((e=>p(p({},e),{},{index:e.index+r,originalIndex:e.index})));const n=e[0].index,o=e[e.length-1].index,i=[],a=cy(t.groupOffsetTree,n,o);let s,u=0;var c,d=l(e);try{for(d.s();!(c=d.n()).done;){const e=c.value;let n;(!s||s.end<e.index)&&(s=a.shift(),u=t.groupIndices.indexOf(s.start)),n=e.index===s.start?{type:"group",index:u}:{index:e.index-(u+1)+r,groupIndex:u},i.push(p(p({},n),{},{size:e.size,offset:e.offset,originalIndex:e.index,data:e.data}))}}catch(f){d.e(f)}finally{d.f()}return i}function rb(e,t,r,n,o,i){const a=o.lastSize,l=o.lastOffset,s=o.lastIndex;let u=0,c=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];c=t.offset+t.size}const d=r-s,p=u,f=l+d*a+(d-1)*n-c;return{items:tb(e,o,i),topItems:tb(t,o,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:f,top:p,bottom:c,totalCount:r,firstItemIndex:i}}function nb(e,t,r,n,o,i){let a=0;if(r.groupIndices.length>0){var s,u=l(r.groupIndices);try{for(u.s();!(s=u.n()).done;){if(s.value-a>=e)break;a++}}catch(f){u.e(f)}finally{u.f()}}const c=e+a,d=Vy(t,c),p=Array.from({length:c}).map(((e,t)=>({index:t+d,size:0,offset:0,data:i[t+d]})));return rb(p,[],c,o,r,n)}const ob=Im((([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:a,listBoundary:s,topListHeight:u},{scrolledToInitialItem:c,initialTopMostItemIndex:d},{topListHeight:f},h,{didMount:g},{recalcInProgress:v}])=>{const m=hm([]),y=hm(0),b=fm();dm(i.topItemsIndexes,m);const _=vm(mm(qm(g,v,Tm(a,Wy),Tm(t),Tm(e),Tm(d),c,Tm(m),Tm(n),Tm(o),r),_m((([e,t,,r,,,,,,,n])=>{const o=n&&n.length!==r;return e&&!t&&!o})),xm((([,,[e,t],r,n,o,i,a,s,u,c])=>{const d=n,f=d.sizeTree,h=d.offsetTree,g=cm(y);if(0===r)return p(p({},eb),{},{totalCount:r});if(0===e&&0===t)return 0===g?p(p({},eb),{},{totalCount:r}):nb(g,o,n,s,u,c||[]);if(Jm(f)){if(g>0)return null;const e=rb(function(e,t,r){if(Cy(t)){const n=Ey(e,t);return[{index:ey(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}(Vy(o,r),d,c),[],r,u,d,s);return e}const v=[];if(a.length>0){const e=a[0],t=a[a.length-1];let r=0;var m,b=l(cy(f,e,t));try{for(b.s();!(m=b.n()).done;){const n=m.value,o=n.value,i=Math.max(n.start,e),a=Math.min(n.end,t);for(let e=i;e<=a;e++)v.push({index:e,size:o,offset:r,data:c&&c[e]}),r+=o}}catch(S){b.e(S)}finally{b.f()}}if(!i)return rb([],v,r,u,d,s);const _=a.length>0?a[a.length-1]+1:0,x=wy(h,e,t,_);if(0===x.length)return null;const w=r-1,O=tm([],(r=>{var n,o=l(x);try{for(o.s();!(n=o.n()).done;){const o=n.value,i=o.value;let a=i.offset,l=o.start;const s=i.size;if(i.offset<e){l+=Math.floor((e-i.offset+u)/(s+u));const t=l-o.start;a+=t*s+t*u}l<_&&(a+=(_-l)*s,l=_);const d=Math.min(o.end,w);for(let e=l;e<=d&&!(a>=t);e++)r.push({index:e,size:s,offset:a,data:c&&c[e]}),a+=s+u}}catch(S){o.e(S)}finally{o.f()}}));return rb(O,v,r,u,d,s)})),_m((e=>null!==e)),bm()),eb);dm(mm(r,_m(im),xm((e=>null==e?void 0:e.length))),t),dm(mm(_,xm((e=>e.topListHeight))),f),dm(f,u),dm(mm(_,xm((e=>[e.top,e.bottom]))),s),dm(mm(_,xm((e=>e.items))),b);return p({listState:_,topItemsIndexes:m,endReached:gm(mm(_,_m((({items:e})=>e.length>0)),Em(t,r),_m((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),xm((([,e,t])=>[e-1,t])),bm(Wy),xm((([e])=>e)))),startReached:gm(mm(_,km(200),_m((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),xm((({items:e})=>e[0].index)),bm())),rangeChanged:gm(mm(_,_m((({items:e})=>e.length>0)),xm((({items:e})=>{let t=0,r=e.length-1;for(;"group"===e[t].type&&t<r;)t++;for(;"group"===e[r].type&&r>t;)r--;return{startIndex:e[t].index,endIndex:e[r].index}})),bm(Ky))),itemsRendered:b,initialItemCount:y},h)}),rm(qy,$y,Zy,zy,Ly,Ry,My,vy),{singleton:!0}),ib=Im((([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:l}])=>(dm(mm(l,Em(i),_m((([,e])=>0!==e)),Em(o,e,t,n,r),xm((([[,e],t,r,n,o,i=[]])=>nb(e,t,r,n,o,i)))),a),{})),rm(qy,zy,ob,My),{singleton:!0}),ab=Im((([{scrollVelocity:e}])=>{const t=hm(!1),r=fm(),n=hm(!1);return dm(mm(e,Em(n,t,r),_m((([e,t])=>!!t)),xm((([e,t,r,n])=>{const o=t.exit,i=t.enter;if(r){if(o(e,n))return!1}else if(i(e,n))return!0;return r})),bm()),t),lm(mm(qm(t,e,r),Em(n)),(([[e,t,r],n])=>e&&n&&n.change&&n.change(t,r))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}}),rm(Ry),{singleton:!0}),lb=Im((([{topItemsIndexes:e}])=>{const t=hm(0);return dm(mm(t,_m((e=>e>0)),xm((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),rm(ob)),sb=Im((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{const i=fm(),a=vm(mm(qm(e,n,t,r,o),xm((([e,t,r,n,o])=>e+t+r+n+o.offsetBottom+o.bottom))),0);return dm(Tm(a),i),{totalListHeight:a,totalListHeightChanged:i}}),rm(Km,ob),{singleton:!0});function ub(e){let t,r=!1;return()=>(r||(r=!0,t=e()),t)}const cb=ub((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),db=Im((([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:a,lastJumpDueToItemResize:l},{listState:s},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:d,gap:p},{log:f},{recalcInProgress:h}])=>{const g=gm(mm(s,Em(l),Om((([,e,t,r],[{items:n,totalCount:o,bottom:i,offsetBottom:a},l])=>{const s=i+a;let u=0;if(t===o&&e.length>0&&n.length>0){0===n[0].originalIndex&&0===e[0].originalIndex||(u=s-r,0!==u&&(u+=l))}return[u,n,o,s]}),[0,[],0,0]),_m((([e])=>0!==e)),Em(t,a,n,i,f,h),_m((([,e,t,r,,,n])=>!n&&!r&&0!==e&&t===Py)),xm((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},Rm.DEBUG),e)))));function v(t){t>0?(sm(e,{top:-t,behavior:"auto"}),sm(r,0)):(sm(r,0),sm(e,{top:-t,behavior:"auto"}))}return lm(mm(g,Em(r,o)),(([e,t,n])=>{n&&cb()?sm(r,t-e):v(-e)})),lm(mm(qm(vm(o,!1),r,h),_m((([e,t,r])=>!e&&!r&&0!==t)),xm((([e,t])=>t)),km(1)),v),dm(mm(c,xm((e=>({top:-e})))),e),lm(mm(u,Em(d,p),xm((([e,{lastSize:t,groupIndices:r,sizeTree:n},o])=>{function i(e){return e*(t+o)}if(0===r.length)return i(e);{let t=0;const o=Zm(n,0);let a=0,l=0;for(;a<e;){a++,t+=o;let n=r.length===l+1?1/0:r[l+1]-r[l]-1;a+n>e&&(t-=o,n=e-a+1),a+=n,t+=i(n),l++}return t}}))),(t=>{sm(r,t),requestAnimationFrame((()=>{sm(e,{top:t}),requestAnimationFrame((()=>{sm(r,0),sm(h,!1)}))}))})),{deviation:r}}),rm(Km,Ry,ob,qy,Dm,vy)),pb=Im((([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=hm(0);return lm(mm(e,Em(n),_m((([,e])=>0!==e)),xm((([,e])=>({top:e})))),(e=>{pm(mm(r,Sm(1),_m((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{sm(t,e)}))}))})),{initialScrollTop:n}}),rm(My,Km,ob),{singleton:!0}),fb=Im((([{viewportHeight:e},{totalListHeight:t}])=>{const r=hm(!1);return{alignToBottom:r,paddingTopAddition:vm(mm(qm(r,e,t),_m((([e])=>e)),xm((([,e,t])=>Math.max(0,e-t))),km(0),bm()),0)}}),rm(Km,sb),{singleton:!0}),hb=Im((([{scrollTo:e,scrollContainerState:t}])=>{const r=fm(),n=fm(),o=fm(),i=hm(!1),a=hm(void 0);return dm(mm(qm(r,n),xm((([{viewportHeight:e,scrollTop:t,scrollHeight:r},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:r,viewportHeight:e})))),t),dm(mm(e,Em(n),xm((([e,{offsetTop:t}])=>p(p({},e),{},{top:e.top+t})))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}}),rm(Km)),gb=e=>{let r=e.itemTop,n=e.itemBottom,o=e.viewportTop,i=e.viewportBottom,a=e.locationParams,l=a.behavior,u=a.align,c=s(a,t);return r<o?p(p({},c),{},{behavior:l,align:null!=u?u:"start"}):n>i?p(p({},c),{},{behavior:l,align:null!=u?u:"end"}):null},vb=Im((([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:i,headerHeight:a,fixedHeaderHeight:l,fixedFooterHeight:u,scrollingInProgress:c},{scrollToIndex:d}])=>{const f=fm();return dm(mm(f,Em(e,i,t,a,l,u,o),Em(n),xm((([[e,t,n,o,i,a,l,u],d])=>{const f=e.done,h=e.behavior,g=e.align,v=e.calculateViewLocation,m=void 0===v?gb:v,y=s(e,r),b=jy(e,t,o-1),_=ky(b,t.offsetTree,d)+i+a,x=m({itemTop:_,itemBottom:_+ey(t.sizeTree,b)[1],viewportTop:u+a,viewportBottom:u+n-l,locationParams:p({behavior:h,align:g},y)});return x?f&&pm(mm(c,_m((e=>!1===e)),Sm(cm(c)?1:2)),f):f&&f(),x})),_m((e=>null!==e))),d),{scrollIntoView:f}}),rm(qy,Km,Ly,ob,Dm),{singleton:!0}),mb=Im((([{sizes:e,sizeRanges:t},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:l,windowViewportRect:s}])=>{const u=fm(),c=hm(void 0),d=hm(null),p=hm(null);return dm(l,d),dm(s,p),lm(mm(u,Em(e,r,a,d,p,n)),(([e,t,r,n,o,i,a])=>{const l=ny(t.sizeTree).map((({k:e,v:t},r,n)=>{const o=n[r+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}}));n&&null!==o&&null!==i&&(r=o.scrollTop-i.offsetTop),e({ranges:l,scrollTop:r-=a})})),dm(mm(c,_m(im),xm(yb)),o),dm(mm(i,Em(c),_m((([,e])=>void 0!==e)),bm(),xm((([,e])=>e.ranges))),t),{getState:u,restoreStateFrom:c}}),rm(qy,Km,zy,My,hb));function yb(e){return{offset:e.scrollTop,index:0,align:"start"}}const bb=Im((([e,t,r,n,o,i,a,l,s,u])=>p(p(p(p(p(p(p(p(p(p({},e),t),r),n),o),i),a),l),s),u)),rm(Zy,ib,My,ab,sb,pb,fb,hb,vb,Dm)),_b=Im((([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:o,trackItemSizes:i,itemSize:a,data:l,firstItemIndex:u,groupIndices:c,statefulTotalCount:d,gap:f,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m},y,b,_,x,{scrollToIndex:w},O,{topItemCount:S},{groupCounts:k},j])=>{let E=x.listState,C=x.topItemsIndexes,T=s(x,n);return dm(T.rangeChanged,j.scrollSeekRangeChanged),dm(mm(j.windowViewportRect,xm((e=>e.visibleHeight))),y.viewportHeight),p(p(p(p(p({totalCount:e,data:l,firstItemIndex:u,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m,topItemsIndexes:C,topItemCount:S,groupCounts:k,fixedItemHeight:r,defaultItemHeight:o,gap:f},_),{},{statefulTotalCount:d,listState:E,scrollToIndex:w,trackItemSizes:i,itemSize:a,groupIndices:c},T),j),y),{},{sizes:h},b)}),rm(qy,zy,Km,mb,Hy,ob,Ly,db,lb,$y,bb)),xb="-webkit-sticky",wb="sticky",Ob=ub((()=>{if("undefined"==typeof document)return wb;const e=document.createElement("div");return e.style.position=xb,e.style.position===xb?xb:wb}));function Sb(e,t,r){const n=F.useRef(null),o=F.useCallback((r=>{if(null===r||!r.offsetParent)return;const o=r.getBoundingClientRect(),i=o.width;let a,l;if(t){const e=t.getBoundingClientRect(),r=o.top-e.top;a=e.height-Math.max(0,r),l=r+t.scrollTop}else a=window.innerHeight-Math.max(0,o.top),l=o.top+window.pageYOffset;n.current={offsetTop:l,visibleHeight:a,visibleWidth:i},e(n.current)}),[e,t]),i=Vm(o,!0,r),a=i.callbackRef,l=i.ref,s=F.useCallback((()=>{o(l.current)}),[o,l]);return F.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver((()=>{requestAnimationFrame(s)}));return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),a}const kb=F.createContext(void 0),jb=F.createContext(void 0);function Eb(e){return e}const Cb=Im((()=>{const e=hm((e=>`Item ${e}`)),t=hm(null),r=hm((e=>`Group ${e}`)),n=hm({}),o=hm(Eb),i=hm("div"),a=hm(am),l=(e,t=null)=>vm(mm(n,xm((t=>t[e])),bm()),t);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,HeaderFooterTag:i,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}})),Tb=Im((([e,t])=>p(p({},e),t)),rm(_b,Cb)),qb=({height:e})=>j.jsx("div",{style:{height:e}}),Ib={position:Ob(),zIndex:1,overflowAnchor:"none"},Ab={overflowAnchor:"none"},Lb=p(p({},Ab),{},{display:"inline-block",height:"100%"}),Pb=F.memo((function({showTopList:e=!1}){const t=Jb("listState"),r=Gb("sizeRanges"),n=Jb("useWindowScroll"),o=Jb("customScrollParent"),i=Gb("windowScrollContainerState"),a=Gb("scrollContainerState"),l=o||n?i:a,s=Jb("itemContent"),u=Jb("context"),c=Jb("groupContent"),d=Jb("trackItemSizes"),f=Jb("itemSize"),g=Jb("log"),m=Gb("gap"),y=Jb("horizontalDirection"),b=Bm(r,f,d,e?am:l,g,m,o,y,Jb("skipAnimationFrameInResizeObserver")).callbackRef,_=h(F.useState(0),2),x=_[0],w=_[1];Qb("deviation",(e=>{x!==e&&w(e)}));const O=Jb("EmptyPlaceholder"),S=Jb("ScrollSeekPlaceholder")||qb,k=Jb("ListComponent"),E=Jb("ItemComponent"),C=Jb("GroupComponent"),T=Jb("computeItemKey"),q=Jb("isSeeking"),I=Jb("groupIndices").length>0,A=Jb("alignToBottom"),L=Jb("initialItemFinalLocationReached"),P=e?{}:p(p({boxSizing:"border-box"},y?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:0!==x?x:A?"auto":0}:{marginTop:0!==x?x:A?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom}),L?{}:{visibility:"hidden"});return!e&&0===t.totalCount&&O?j.jsx(O,p({},Db(O,u))):j.jsx(k,p(p({},Db(k,u)),{},{ref:b,style:P,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map((e=>{const r=e.originalIndex,n=T(r+t.firstItemIndex,e.data,u);return q?v.createElement(S,p(p({},Db(S,u)),{},{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?v.createElement(C,p(p({},Db(C,u)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,style:Ib}),c(e.index,u)):v.createElement(E,p(p(p({},Db(E,u)),function(e,t){return{item:"string"==typeof e?void 0:t}}(E,e.data)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:y?Lb:Ab}),I?s(e.index,e.groupIndex,e.data,u):s(e.index,e.data,u))}))}))})),Nb={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Fb={outline:"none",overflowX:"auto",position:"relative"},Rb=e=>p({width:"100%",height:"100%",position:"absolute",top:0},e?{display:"flex",flexDirection:"column"}:{}),Mb={width:"100%",position:Ob(),top:0,zIndex:1};function Db(e,t){if("string"!=typeof e)return{context:t}}const Vb=F.memo((function(){const e=Jb("HeaderComponent"),t=Gb("headerHeight"),r=Jb("HeaderFooterTag"),n=zm(F.useMemo((()=>e=>t(Um(e,"height"))),[t]),!0,Jb("skipAnimationFrameInResizeObserver")),o=Jb("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},Db(e,o)))}):null})),zb=F.memo((function(){const e=Jb("FooterComponent"),t=Gb("footerHeight"),r=Jb("HeaderFooterTag"),n=zm(F.useMemo((()=>e=>t(Um(e,"height"))),[t]),!0,Jb("skipAnimationFrameInResizeObserver")),o=Jb("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},Db(e,o)))}):null}));function Bb({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=F.memo((function(n){let i=n.style,a=n.children,l=s(n,o);const u=e("scrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("scrollerRef"),h=r("context"),g=r("horizontalDirection")||!1,v=Wm(u,d,c,f,void 0,g),m=v.scrollerRef,y=v.scrollByCallback,b=v.scrollToCallback;t("scrollTo",b),t("scrollBy",y);const _=g?Fb:Nb;return j.jsx(c,p(p(p({ref:m,style:p(p({},_),i),"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},l),Db(c,h)),{},{children:a}))}));return n}function Hb({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=F.memo((function(n){let o=n.style,a=n.children,l=s(n,i);const u=e("windowScrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("totalListHeight"),h=r("deviation"),g=r("customScrollParent"),v=r("context"),m=Wm(u,d,c,am,g),y=m.scrollerRef,b=m.scrollByCallback,_=m.scrollToCallback;return Fm((()=>(y.current=g||window,()=>{y.current=null})),[y,g]),t("windowScrollTo",_),t("scrollBy",b),j.jsx(c,p(p(p({style:p(p({position:"relative"},o),0!==f?{height:f+h}:{}),"data-virtuoso-scroller":!0},l),Db(c,v)),{},{children:a}))}));return n}const Ub=({children:e})=>{const t=F.useContext(kb),r=Gb("viewportHeight"),n=Gb("fixedItemHeight"),o=Jb("alignToBottom"),i=Jb("horizontalDirection"),a=zm(F.useMemo((()=>Qv(r,(e=>Um(e,i?"width":"height")))),[r,i]),!0,Jb("skipAnimationFrameInResizeObserver"));return F.useEffect((()=>{t&&(r(t.viewportHeight),n(t.itemHeight))}),[t,r,n]),j.jsx("div",{style:Rb(o),ref:a,"data-viewport-type":"element",children:e})},$b=({children:e})=>{const t=F.useContext(kb),r=Gb("windowViewportRect"),n=Gb("fixedItemHeight"),o=Jb("customScrollParent"),i=Sb(r,o,Jb("skipAnimationFrameInResizeObserver")),a=Jb("alignToBottom");return F.useEffect((()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,r,n]),j.jsx("div",{ref:i,style:Rb(a),"data-viewport-type":"window",children:e})},Wb=({children:e})=>{const t=Jb("TopItemListComponent")||"div",r=Jb("headerHeight"),n=p(p({},Mb),{},{marginTop:`${r}px`}),o=Jb("context");return j.jsx(t,p(p({style:n},Db(t,o)),{},{children:e}))},Kb=Nm(Tb,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},F.memo((function(e){const t=Jb("useWindowScroll"),r=Jb("topItemsIndexes").length>0,n=Jb("customScrollParent"),o=n||t?Zb:Xb,i=n||t?$b:Ub;return j.jsxs(o,p(p({},e),{},{children:[r&&j.jsx(Wb,{children:j.jsx(Pb,{showTopList:!0})}),j.jsxs(i,{children:[j.jsx(Vb,{}),j.jsx(Pb,{}),j.jsx(zb,{})]})]}))}))),Yb=Kb.Component,Gb=Kb.usePublisher,Jb=Kb.useEmitterValue,Qb=Kb.useEmitter,Xb=Bb({usePublisher:Gb,useEmitterValue:Jb,useEmitter:Qb}),Zb=Hb({usePublisher:Gb,useEmitterValue:Jb,useEmitter:Qb}),e_=Yb,t_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},r_={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},n_=Math.round,o_=Math.ceil,i_=Math.floor,a_=Math.min,l_=Math.max;function s_(e,t,r){return Array.from({length:t-e+1}).map(((t,n)=>{const o=null===r?null:r[n+e];return{index:n+e,data:o}}))}function u_(e,t){return e&&e.column===t.column&&e.row===t.row}function c_(e,t){return e&&e.width===t.width&&e.height===t.height}const d_=Im((([{overscan:e,visibleRange:t,listBoundary:r,increaseViewportBy:n},{scrollTop:o,viewportHeight:i,scrollBy:a,scrollTo:l,smoothScrollTargetReached:s,scrollContainerState:u,footerHeight:c,headerHeight:d},f,h,{propsReady:g,didMount:v},{windowViewportRect:m,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,windowScrollTo:x},w])=>{const O=hm(0),S=hm(0),k=hm(t_),j=hm({height:0,width:0}),E=hm({height:0,width:0}),C=fm(),T=fm(),q=hm(0),I=hm(null),A=hm({row:0,column:0}),L=fm(),P=fm(),N=hm(!1),F=hm(0),R=hm(!0),M=hm(!1),D=hm(!1);lm(mm(v,Em(F),_m((([e,t])=>!!t))),(()=>{sm(R,!1)})),lm(mm(qm(v,R,E,j,F,M),_m((([e,t,r,n,,o])=>e&&!t&&0!==r.height&&0!==n.height&&!o))),(([,,,,e])=>{sm(M,!0),Dy(1,(()=>{sm(C,e)})),pm(mm(o),(()=>{sm(r,[0,0]),sm(R,!0)}))})),dm(mm(P,_m((e=>null!=e&&e.scrollTop>0)),wm(0)),S),lm(mm(v,Em(P),_m((([,e])=>null!=e))),(([,e])=>{e&&(sm(j,e.viewport),sm(E,null==e?void 0:e.item),sm(A,e.gap),e.scrollTop>0&&(sm(N,!0),pm(mm(o,Sm(1)),(e=>{sm(N,!1)})),sm(l,{top:e.scrollTop})))})),dm(mm(j,xm((({height:e})=>e))),i),dm(mm(qm(Tm(j,c_),Tm(E,c_),Tm(A,((e,t)=>e&&e.column===t.column&&e.row===t.row)),Tm(o)),xm((([e,t,r,n])=>({viewport:e,item:t,gap:r,scrollTop:n})))),L),dm(mm(qm(Tm(O),t,Tm(A,u_),Tm(E,c_),Tm(j,c_),Tm(I),Tm(S),Tm(N),Tm(R),Tm(F)),_m((([,,,,,,,e])=>!e)),xm((([e,[t,r],n,o,i,a,l,,s,u])=>{const c=n.row,d=n.column,f=o.height,h=o.width,g=i.width;if(0===l&&(0===e||0===g))return t_;if(0===h){const t=Vy(u,e);return function(e){return p(p({},r_),{},{items:e})}(s_(t,Math.max(t+l-1,0),a))}const v=h_(g,h,d);let m,y;s?0===t&&0===r&&l>0?(m=0,y=l-1):(m=v*i_((t+c)/(f+c)),y=v*o_((r+c)/(f+c))-1,y=a_(e-1,l_(y,v-1)),m=a_(y,l_(0,m))):(m=0,y=-1);const b=s_(m,y,a),_=p_(i,n,o,b),x=_.top,w=_.bottom,O=o_(e/v);return{items:b,offsetTop:x,offsetBottom:O*f+(O-1)*c-w,top:x,bottom:w,itemHeight:f,itemWidth:h}}))),k),dm(mm(I,_m((e=>null!==e)),xm((e=>e.length))),O),dm(mm(qm(j,E,k,A),_m((([e,t,{items:r}])=>r.length>0&&0!==t.height&&0!==e.height)),xm((([e,t,{items:r},n])=>{const o=p_(e,n,t,r);return[o.top,o.bottom]})),bm(Wy)),r);const V=hm(!1);dm(mm(o,Em(V),xm((([e,t])=>t||0!==e))),V);const z=gm(mm(Tm(k),_m((({items:e})=>e.length>0)),Em(O,V),_m((([{items:e},t,r])=>r&&e[e.length-1].index===t-1)),xm((([,e])=>e-1)),bm())),B=gm(mm(Tm(k),_m((({items:e})=>e.length>0&&0===e[0].index)),wm(0),bm())),H=gm(mm(Tm(k),Em(N),_m((([{items:e},t])=>e.length>0&&!t)),xm((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),bm(Ky),km(0)));dm(H,h.scrollSeekRangeChanged),dm(mm(C,Em(j,E,O,A),xm((([e,t,r,n,o])=>{const i=Ay(e),a=i.align,l=i.behavior,s=i.offset;let u=i.index;"LAST"===u&&(u=n-1),u=l_(0,u,a_(n-1,u));let c=f_(t,o,r,u);return"end"===a?c=n_(c-t.height+r.height):"center"===a&&(c=n_(c-t.height/2+r.height/2)),s&&(c+=s),{top:c,behavior:l}}))),l);const U=vm(mm(k,xm((e=>e.offsetBottom+e.bottom))),0);return dm(mm(m,xm((e=>({width:e.visibleWidth,height:e.visibleHeight})))),j),p(p(p({data:I,totalCount:O,viewportDimensions:j,itemDimensions:E,scrollTop:o,scrollHeight:T,overscan:e,increaseViewportBy:n,scrollBy:a,scrollTo:l,scrollToIndex:C,smoothScrollTargetReached:s,windowViewportRect:m,windowScrollTo:x,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,deviation:q,scrollContainerState:u,footerHeight:c,headerHeight:d,initialItemCount:S,gap:A,restoreStateFrom:P},h),{},{initialTopMostItemIndex:F,horizontalDirection:D,gridState:k,totalListHeight:U},f),{},{startReached:B,endReached:z,rangeChanged:H,stateChanged:L,propsReady:g,stateRestoreInProgress:N},w)}),rm(Zy,Km,Ry,ab,My,hb,Dm));function p_(e,t,r,n){const o=r.height;if(void 0===o||0===n.length)return{top:0,bottom:0};return{top:f_(e,t,r,n[0].index),bottom:f_(e,t,r,n[n.length-1].index)+o}}function f_(e,t,r,n){const o=h_(e.width,r.width,t.column),i=i_(n/o),a=i*r.height+l_(0,i-1)*t.row;return a>0?a+t.row:a}function h_(e,t,r){return l_(1,i_((e+r)/(i_(t)+r)))}const g_=Im((()=>{const e=hm((e=>`Item ${e}`)),t=hm({}),r=hm(null),n=hm("virtuoso-grid-item"),o=hm("virtuoso-grid-list"),i=hm(Eb),a=hm("div"),l=hm(am),s=(e,r=null)=>vm(mm(t,xm((t=>t[e])),bm()),r),u=hm(!1),c=hm(!1);return dm(Tm(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),v_=Im((([e,t])=>p(p({},e),t)),rm(d_,g_)),m_=F.memo((function(){const e=k_("gridState"),t=k_("listClassName"),r=k_("itemClassName"),n=k_("itemContent"),o=k_("computeItemKey"),i=k_("isSeeking"),a=S_("scrollHeight"),l=k_("ItemComponent"),s=k_("ListComponent"),u=k_("ScrollSeekPlaceholder"),c=k_("context"),d=S_("itemDimensions"),f=S_("gap"),h=k_("log"),g=k_("stateRestoreInProgress"),m=S_("reportReadyState"),y=zm(F.useMemo((()=>e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const r=e.firstChild;if(r){const e=r.getBoundingClientRect(),t=e.width,n=e.height;d({width:t,height:n})}f({row:T_("row-gap",getComputedStyle(e).rowGap,h),column:T_("column-gap",getComputedStyle(e).columnGap,h)})}),[a,d,f,h]),!0,!1);return Fm((()=>{e.itemHeight>0&&e.itemWidth>0&&m(!0)}),[e]),g?null:j.jsx(s,p(p({ref:y,className:t},Db(s,c)),{},{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map((t=>{const a=o(t.index,t.data,c);return i?j.jsx(u,p(p({},Db(u,c)),{},{index:t.index,height:e.itemHeight,width:e.itemWidth}),a):v.createElement(l,p(p({},Db(l,c)),{},{className:r,"data-index":t.index,key:a}),n(t.index,t.data,c))}))}))})),y_=F.memo((function(){const e=k_("HeaderComponent"),t=S_("headerHeight"),r=k_("headerFooterTag"),n=zm(F.useMemo((()=>e=>t(Um(e,"height"))),[t]),!0,!1),o=k_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},Db(e,o)))}):null})),b_=F.memo((function(){const e=k_("FooterComponent"),t=S_("footerHeight"),r=k_("headerFooterTag"),n=zm(F.useMemo((()=>e=>t(Um(e,"height"))),[t]),!0,!1),o=k_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},Db(e,o)))}):null})),__=({children:e})=>{const t=F.useContext(jb),r=S_("itemDimensions"),n=S_("viewportDimensions"),o=zm(F.useMemo((()=>e=>{n(e.getBoundingClientRect())}),[n]),!0,!1);return F.useEffect((()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))}),[t,n,r]),j.jsx("div",{style:Rb(!1),ref:o,children:e})},x_=({children:e})=>{const t=F.useContext(jb),r=S_("windowViewportRect"),n=S_("itemDimensions"),o=k_("customScrollParent"),i=Sb(r,o,!1);return F.useEffect((()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,r,n]),j.jsx("div",{ref:i,style:Rb(!1),children:e})},w_=F.memo((function(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=k_("useWindowScroll"),n=k_("customScrollParent"),o=n||r?C_:E_,i=n||r?x_:__;return j.jsx(o,p(p({},t),{},{children:j.jsxs(i,{children:[j.jsx(y_,{}),j.jsx(m_,{}),j.jsx(b_,{})]})}))})),O_=Nm(v_,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},w_),S_=(O_.Component,O_.usePublisher),k_=O_.useEmitterValue,j_=O_.useEmitter,E_=Bb({usePublisher:S_,useEmitterValue:k_,useEmitter:j_}),C_=Hb({usePublisher:S_,useEmitterValue:k_,useEmitter:j_});function T_(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,Rm.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function q_(e){const t=h(v.useState(!1),2),r=t[0],n=t[1],o=h(v.useState(!1),2),i=o[0],a=o[1],l=function(e){const t=qe().getMonitor(),r=h(Ie(t,e),2),n=r[0],o=r[1];return v.useEffect((()=>t.subscribeToOffsetChange(o))),v.useEffect((()=>t.subscribeToStateChange(o))),n}((e=>({isDragging:e.isDragging(),currentOffset:e.getClientOffset()}))),s=l.isDragging,u=l.currentOffset;return v.useEffect((()=>{const t=window.innerWidth;let r;r=t>=1200?450:400,s?((t,r)=>{if(!t||!e.current)return;const o=e.current.getBoundingClientRect(),i=o.left+r,l=o.right+r;if(!(t.x>=i&&t.x<=l&&t.y>=o.top&&t.y<=o.bottom))return n(!1),void a(!1);const s=t.y-o.top,u=o.bottom-t.y;n(s<=50),a(u<=50)})(u,r):(n(!1),a(!1))}),[s,u]),{isNearTop:r,isNearBottom:i}}const I_=F.forwardRef((function({onMainLang:e},t){const r=Pe(["design","run"]).t,n=Ye();Ne();const o=Fe((e=>{var t;return(null===(t=e.designState.Survey)||void 0===t?void 0:t.children)||[]})),i=Fe((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage})),a=Fe((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),l=!o.length,s=v.useMemo((()=>{let e=!1;return null==o||o.forEach((t=>{var r;"welcome"!==(null==t?void 0:t.type)&&"welcome"!==(null===(r=t.groupType)||void 0===r?void 0:r.toLowerCase())||(e=!0)})),e}),[o]),u=v.useMemo((()=>{const e=[];i&&e.push({name:A_.IMAGE}),s||e.push({name:A_.DROP_AREA,index:0});for(let r=0;r<o.length;r++){var t;e.push({name:A_.GROUP,group:o[r],index:r}),"end"!==o[r].type&&"end"!==(null===(t=o[r].groupType)||void 0===t?void 0:t.toLowerCase())&&e.push({name:A_.DROP_AREA,group:o[r],index:r+1})}return e.push({name:A_.FOOTER}),e}),[o,r,i]),c=v.useRef(null),d=v.useRef(null),p=q_(d),f=p.isNearBottom,h=p.isNearTop;v.useEffect((()=>{let e;const t=()=>{c.current&&(f?c.current.scrollBy({top:6,behavior:"auto"}):h&&c.current.scrollBy({top:-6,behavior:"auto"}),e=requestAnimationFrame(t))};return(h||f)&&(e=requestAnimationFrame(t)),()=>{e&&cancelAnimationFrame(e)}}),[h,f]);const g=a?{backgroundImage:`url(${$t(a)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return j.jsx(L,{ref:t,className:`content-panel ${Ho}`,sx:{backgroundColor:"background.default",color:"text.primary"},style:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:j.jsx(L,{ref:d,width:"100%",height:"100%",children:j.jsx(e_,{ref:c,data:u,style:g,className:$o,itemContent:(t,n)=>{switch(n.name){case A_.IMAGE:return j.jsxs(L,{className:Wo,children:[j.jsx(Kr,{className:Uo,component:"img",image:$t(i),height:"140"}),e&&j.jsx(oi,{code:"Survey"})]});case A_.DROP_AREA:return j.jsx(Vv,{emptySurvey:l,t:r,index:n.index,groupsCount:o.length});case A_.GROUP:return j.jsx(Wv,{t:r,code:n.group.code,index:n.index});case A_.FOOTER:return j.jsx("div",{className:Bo})}}})})})})),A_={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"},L_="_box_yj2jt_1",P_="_boxHasSetup_yj2jt_7";const N_=F.memo((function({t:e}){const t=Fe((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}}),pt),r=R(),n=Object.keys(t).length>0;return j.jsx(L,{className:`${L_} ${n?"":P_}`,style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.sharp,duration:300}),transform:n?"translateX(-100%)":"translateX(0)"},timeout:300,children:!n&&j.jsx(ft,{t:e})})}));const F_=F.memo((function({label:e,rule:t,defaultValue:r,code:n,lowerBound:o,upperBound:i}){const a=Ne(),l=Fe((e=>e.designState[n][t]||r)),s=l<o||l>i;return j.jsxs(j.Fragment,{children:[j.jsxs("h4",{children:[e,":"]}),j.jsx(_r,{label:e,error:s,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:l,onChange:e=>(e=>{a(ht({code:n,key:t,value:Math.max(o,Math.min(i,e.target.value))}))})(e)})]})})),R_={showHint:"_showHint_9iocv_1",inputValue:"_inputValue_9iocv_9"};function M_({code:e,t:t}){const r=Ne(),n=Fe((t=>t.designState[e].showHint||!1));return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:R_.showHint,children:[j.jsx("h4",{children:t("show_question_hint")}),j.jsx(nr,{checked:n,onChange:t=>{return n=t.target.checked,void r(ht({code:e,key:"showHint",value:n}));var n}})]}),n&&j.jsx(D_,{code:e,objectName:"hint"})]})}function D_({code:e,objectName:t,title:r}){const n=Ne(),o=Fe((e=>e.designState.langInfo.languagesList)),i=Fe((r=>{var n;return null===(n=r.designState[e].content)||void 0===n?void 0:n[t]}));return j.jsxs(j.Fragment,{children:[r&&j.jsx("h4",{children:r}),o.map((r=>j.jsx("div",{className:R_.inputValue,children:j.jsx(_r,{label:r.name,variant:"standard",type:"text",value:(null==i?void 0:i[r.code])||"",onChange:o=>((r,o)=>{n($e({code:e,key:t,lang:r,value:o}))})(r.code,o.target.value)})},r.code)))]})}const V_="_boxContainer_182us_1",z_="_title_182us_18",B_={boxContainer:"_boxContainer_1vhs4_1",mt10:"_mt10_1vhs4_9",uppercase:"_uppercase_1vhs4_13",title:"_title_1vhs4_18",titleContent:"_titleContent_1vhs4_28",standardError:"_standardError_1vhs4_33",errorWrapper:"_errorWrapper_1vhs4_44",errorLabelWrapper:"_errorLabelWrapper_1vhs4_48",errorItem:"_errorItem_1vhs4_52",errorItemContainer:"_errorItemContainer_1vhs4_58"};function H_({validationRule:e,code:t,rule:r,t:n}){const o=Ne(),i=e.isCustomErrorActive||!1,a=Fe((e=>e.designState.langInfo.languagesList));let l=e.content||{};return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:n("standard_error")}),j.jsxs("div",{className:B_.errorWrapper,children:[j.jsx("div",{className:B_.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${B_.errorItem} ${B_.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{children:a.map((t=>j.jsx("div",{className:B_.errorItem,children:n(r,p({ns:"run",lng:t.code},e))},t.code)))})]}),j.jsxs("div",{className:B_.title,children:[j.jsx("h4",{className:B_.mt10,children:n("custom_error")}),j.jsx(nr,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:e=>{return n=e.target.checked,void o(gt({code:t,rule:r,key:"isCustomErrorActive",value:n}));var n}}))]}),i?j.jsxs("div",{className:B_.errorWrapper,children:[j.jsx("div",{className:B_.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${B_.errorItem} ${B_.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{className:B_.errorItemContainer,children:a.map((e=>j.jsx("div",{className:B_.errorItem,children:j.jsx(_r,{size:"small",variant:"standard",value:l[e.code]||"",onChange:n=>((e,n)=>{const i=p(p({},l),{},{[e]:n});o(gt({code:t,rule:r,key:"content",value:i}))})(e.code,n.target.value)})},e.code)))})]}):""]})}const U_={valueValidationItems:"_valueValidationItems_1hupk_1",valueValidationItemsContainer:"_valueValidationItemsContainer_1hupk_6",error:"_error_1hupk_11"};const $_=F.memo((function({value:e,onValueChanged:t}){const r=Pe("design").t,n=r=>{let n=[...e];r.target.checked?n.push(r.target.name):n=e.filter((e=>e!=r.target.name)),t(n)};return j.jsxs(vt,{children:[j.jsx(xr,{id:"file-type-label",children:r("file_type")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),j.jsx(Gr,{control:j.jsx(Jr,{checked:e.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}));function W_({code:e,validation:t,rule:r,t:n}){const o=Fe((t=>{var r;return(null===(r=t.designState[e].children)||void 0===r?void 0:r.length)||0})),i=F.useMemo((()=>{switch(r){case"validation_min_char_length":case"validation_max_file_size":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,o];default:return}}),[o]),a=Ne(),l=(t,n)=>{((t,n)=>{a(gt({rule:r,code:e,key:t,value:n}))})(t,void 0===i?n:Math.max(i[0],Math.min(i[1],n)))};let s=K_(t);const u="validation_required"!=r&&"validation_one_response_per_col"!=r&&"validation_pattern_email"!=r&&"validation_file_types"!=r;return j.jsxs("div",{className:U_.valueValidationItemsContainer,children:[s&&u&&j.jsx("div",{children:n(r+"_subtitle")}),j.jsx("div",{className:U_.valueValidationItems,children:"validation_file_types"==r?j.jsx($_,{value:t.fileTypes,onValueChanged:e=>l("fileTypes",e)}):s.map((e=>{const r=void 0!==i&&(t[e]<i[0]||t[e]>i[1]);return j.jsx(_r,{error:r,value:t[e],variant:"outlined",size:"small",type:"number"==typeof t[e]?"number":"text",onChange:r=>l(e,"number"==typeof t[e]?parseInt(r.target.value):r.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},e)}))})]})}const K_=e=>Object.keys(e).filter((e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e)));const Y_=F.memo((function({rule:e,t:t,code:r}){console.debug("ValidationSetupItem: "+r);const n=Ne(),o=Fe((t=>{var n;return null===(n=t.designState[r])||void 0===n||null===(n=n.validation)||void 0===n?void 0:n[e]})),i=(null==o?void 0:o.isActive)||!1;return j.jsxs("div",{children:[j.jsxs("div",{className:z_,children:[j.jsx("h4",{children:t(e+"_title")}),j.jsx(nr,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:t=>{return o=t.target.checked,void n(gt({code:r,rule:e,key:"isActive",value:o}));var o}}))]}),i&&j.jsxs(L,{className:V_,children:[j.jsx(W_,{code:r,validation:o,rule:e,t:t}),j.jsx(H_,{code:r,validationRule:o,rule:e,t:t})]})]})})),G_="_toggleValue_1d9zg_1";function J_({label:e,code:t,rule:r}){const n=Ne(),o=Fe((e=>e.designState[t][r]||!1));return j.jsxs("div",{className:G_,children:[j.jsx("h4",{children:e}),j.jsx(nr,p(p({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:o,onChange:e=>{var o;o=e.target.checked,n(ht({code:t,key:r,value:o}))}}))]})}const Q_={selectValue:"_selectValue_9m4tq_1"};function X_({label:e,rule:t,defaultValue:r,code:n,values:o,labels:i}){const a=Ne(),l=Fe((e=>{var o;return(null===(o=e.designState[n])||void 0===o?void 0:o[t])||r}));return j.jsxs("div",{className:Q_.selectDate,children:[j.jsx("h4",{children:e}),j.jsx(vt,{variant:"standard",fullWidth:!0,children:j.jsx(mt,{id:"select-value",value:l,label:"Select Value",onChange:e=>{var r;r=e.target.value,a(ht({code:n,key:t,value:r}))},children:o.map(((e,t)=>j.jsx(yt,{value:e,children:i?i[t]:e},e)))})})]})}const Z_="_selectDate_1qp3e_1",ex="_selectDateField_1qp3e_8";function tx({label:e,rule:t,code:r}){const n=Ne(),o=Fe((e=>e.designState[r][t]||""));return j.jsxs("div",{className:Z_,children:[j.jsx("h4",{children:e}),j.jsx(_r,{className:ex,variant:"standard",value:o,type:"date",onChange:e=>{n(ht({code:r,key:t,value:e.target.value}))}})]})}function rx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ax(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ix(Object(r),!0).forEach((function(t){nx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rx(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sx,ux,cx=v.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),dx=function(e){var t=e.open,r=e.options,n=e.onCancel,o=e.onConfirm,i=e.onClose,a=r.title,l=r.description,s=r.content,u=r.confirmationText,c=r.cancellationText,d=r.dialogProps,p=r.dialogActionsProps,f=r.confirmationButtonProps,h=r.cancellationButtonProps,g=r.titleProps,v=r.contentProps,m=r.allowClose,y=r.confirmationKeyword,b=r.confirmationKeywordTextFieldProps,_=r.hideCancelButton,x=r.buttonOrder,w=r.acknowledgement,O=r.acknowledgementFormControlLabelProps,S=r.acknowledgementCheckboxProps,k=lx(F.useState(""),2),j=k[0],E=k[1],C=lx(F.useState(!1),2),T=C[0],q=C[1],I=Boolean(y&&j!==y||w&&!T),A=F.createElement(F.Fragment,null,w&&F.createElement(Gr,ox({},O,{control:F.createElement(Jr,ox({},S,{value:T,onChange:function(e,t){return q(t)}})),label:w}))),L=F.createElement(F.Fragment,null,y&&F.createElement(_r,ox({onChange:function(e){return E(e.target.value)},value:j,fullWidth:!0},b))),P=x.map((function(e){if("cancel"===e)return!_&&F.createElement(Je,ox({key:"cancel"},h,{onClick:n}),c);if("confirm"===e)return F.createElement(Je,ox({key:"confirm",color:"primary",disabled:I},f,{onClick:o}),u);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(e))}));return F.createElement(Rr,ox({fullWidth:!0},d,{open:t,onClose:m?i:null}),a&&F.createElement(rr,g,a),s?F.createElement(Mr,v,s,L,A):l?F.createElement(Mr,v,F.createElement(ao,null,l),L,A):(y||A)&&F.createElement(Mr,v,L,A),F.createElement(Lr,p,P))},px={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},fx=function(e,t){var r=ax(ax({},e.dialogProps||px.dialogProps),t.dialogProps||{}),n=ax(ax({},e.dialogActionsProps||px.dialogActionsProps),t.dialogActionsProps||{}),o=ax(ax({},e.confirmationButtonProps||px.confirmationButtonProps),t.confirmationButtonProps||{}),i=ax(ax({},e.cancellationButtonProps||px.cancellationButtonProps),t.cancellationButtonProps||{}),a=ax(ax({},e.titleProps||px.titleProps),t.titleProps||{}),l=ax(ax({},e.contentProps||px.contentProps),t.contentProps||{}),s=ax(ax({},e.confirmationKeywordTextFieldProps||px.confirmationKeywordTextFieldProps),t.confirmationKeywordTextFieldProps||{}),u=ax(ax({},e.acknowledgementFormControlLabelProps||px.acknowledgementFormControlLabelProps),t.acknowledgementFormControlLabelProps||{}),c=ax(ax({},e.acknowledgementCheckboxProps||px.acknowledgementCheckboxProps),t.acknowledgementCheckboxProps||{});return ax(ax(ax(ax({},px),e),t),{},{dialogProps:r,dialogActionsProps:n,confirmationButtonProps:o,cancellationButtonProps:i,titleProps:a,contentProps:l,confirmationKeywordTextFieldProps:s,acknowledgementFormControlLabelProps:u,acknowledgementCheckboxProps:c})},hx=function(e){var t=e.children,r=e.defaultOptions,n=void 0===r?{}:r,o=lx(v.useState(null),2),i=o[0],a=o[1],l=lx(v.useState({}),2),s=l[0],u=l[1],c=lx(v.useState(0),2),d=c[0],p=c[1],f=v.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){p((function(e){return e+1})),u(t),a({resolve:r,reject:n,parentId:e})}))}),[]),h=v.useCallback((function(e){a((function(t){return t&&t.parentId===e?null:t}))}),[]),g=v.useCallback((function(){a(null)}),[]),m=v.useCallback((function(){a((function(e){return e&&e.reject(),null}))}),[]),y=v.useCallback((function(){a((function(e){return e&&e.resolve(),null}))}),[]);return v.useCallback((function(e){return f("global",e)})),F.createElement(v.Fragment,null,F.createElement(cx.Provider,{value:{confirmBase:f,closeOnParentUnmount:h}},t),F.createElement(dx,{key:d,open:null!==i,options:fx(n,null!=s?s:{}),onClose:g,onCancel:m,onConfirm:y}))},gx=0;function vx(){return sx.apply(null,arguments)}function mx(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function yx(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function bx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _x(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(bx(e,t))return!1;return!0}function xx(e){return void 0===e}function wx(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Ox(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Sx(e,t){var r,n=[],o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function kx(e,t){for(var r in t)bx(t,r)&&(e[r]=t[r]);return bx(t,"toString")&&(e.toString=t.toString),bx(t,"valueOf")&&(e.valueOf=t.valueOf),e}function jx(e,t,r,n){return KO(e,t,r,n,!0).utc()}function Ex(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Cx(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=Ex(e),r=ux.call(t.parsedDateParts,(function(e){return null!=e})),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function Tx(e){var t=jx(NaN);return null!=e?kx(Ex(t),e):Ex(t).userInvalidated=!0,t}ux=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var qx=vx.momentProperties=[],Ix=!1;function Ax(e,t){var r,n,o,i=qx.length;if(xx(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),xx(t._i)||(e._i=t._i),xx(t._f)||(e._f=t._f),xx(t._l)||(e._l=t._l),xx(t._strict)||(e._strict=t._strict),xx(t._tzm)||(e._tzm=t._tzm),xx(t._isUTC)||(e._isUTC=t._isUTC),xx(t._offset)||(e._offset=t._offset),xx(t._pf)||(e._pf=Ex(t)),xx(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)xx(o=t[n=qx[r]])||(e[n]=o);return e}function Lx(e){Ax(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ix&&(Ix=!0,vx.updateOffset(this),Ix=!1)}function Px(e){return e instanceof Lx||null!=e&&null!=e._isAMomentObject}function Nx(e){!1===vx.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Fx(e,t){var r=!0;return kx((function(){if(null!=vx.deprecationHandler&&vx.deprecationHandler(null,e),r){var n,o,i,a=[],l=arguments.length;for(o=0;o<l;o++){if(n="","object"==typeof arguments[o]){for(i in n+="\n["+o+"] ",arguments[0])bx(arguments[0],i)&&(n+=i+": "+arguments[0][i]+", ");n=n.slice(0,-2)}else n=arguments[o];a.push(n)}Nx(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var Rx,Mx={};function Dx(e,t){null!=vx.deprecationHandler&&vx.deprecationHandler(e,t),Mx[e]||(Nx(t),Mx[e]=!0)}function Vx(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function zx(e,t){var r,n=kx({},e);for(r in t)bx(t,r)&&(yx(e[r])&&yx(t[r])?(n[r]={},kx(n[r],e[r]),kx(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)bx(e,r)&&!bx(t,r)&&yx(e[r])&&(n[r]=kx({},n[r]));return n}function Bx(e){null!=e&&this.set(e)}vx.suppressDeprecationWarnings=!1,vx.deprecationHandler=null,Rx=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)bx(e,t)&&r.push(t);return r};function Hx(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var Ux=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$x=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wx={},Kx={};function Yx(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Kx[e]=o),t&&(Kx[t[0]]=function(){return Hx(o.apply(this,arguments),t[1],t[2])}),r&&(Kx[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Gx(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Jx(e,t){return e.isValid()?(t=Qx(t,e.localeData()),Wx[t]=Wx[t]||function(e){var t,r,n=e.match(Ux);for(t=0,r=n.length;t<r;t++)Kx[n[t]]?n[t]=Kx[n[t]]:n[t]=Gx(n[t]);return function(t){var o,i="";for(o=0;o<r;o++)i+=Vx(n[o])?n[o].call(t,e):n[o];return i}}(t),Wx[t](e)):e.localeData().invalidDate()}function Qx(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for($x.lastIndex=0;r>=0&&$x.test(e);)e=e.replace($x,n),$x.lastIndex=0,r-=1;return e}var Xx={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Zx(e){return"string"==typeof e?Xx[e]||Xx[e.toLowerCase()]:void 0}function ew(e){var t,r,n={};for(r in e)bx(e,r)&&(t=Zx(r))&&(n[t]=e[r]);return n}var tw={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var rw,nw=/\d/,ow=/\d\d/,iw=/\d{3}/,aw=/\d{4}/,lw=/[+-]?\d{6}/,sw=/\d\d?/,uw=/\d\d\d\d?/,cw=/\d\d\d\d\d\d?/,dw=/\d{1,3}/,pw=/\d{1,4}/,fw=/[+-]?\d{1,6}/,hw=/\d+/,gw=/[+-]?\d+/,vw=/Z|[+-]\d\d:?\d\d/gi,mw=/Z|[+-]\d\d(?::?\d\d)?/gi,yw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,bw=/^[1-9]\d?/,_w=/^([1-9]\d|\d)/;function xw(e,t,r){rw[e]=Vx(t)?t:function(e,n){return e&&r?r:t}}function ww(e,t){return bx(rw,e)?rw[e](t._strict,t._locale):new RegExp(function(e){return Ow(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o})))}(e))}function Ow(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Sw(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function kw(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=Sw(t)),r}rw={};var jw={};function Ew(e,t){var r,n,o=t;for("string"==typeof e&&(e=[e]),wx(t)&&(o=function(e,r){r[t]=kw(e)}),n=e.length,r=0;r<n;r++)jw[e[r]]=o}function Cw(e,t){Ew(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function Tw(e,t,r){null!=t&&bx(jw,e)&&jw[e](t,r._a,r,e)}function qw(e){return e%4==0&&e%100!=0||e%400==0}var Iw=0,Aw=1,Lw=2,Pw=3,Nw=4,Fw=5,Rw=6,Mw=7,Dw=8;function Vw(e){return qw(e)?366:365}Yx("Y",0,0,(function(){var e=this.year();return e<=9999?Hx(e,4):"+"+e})),Yx(0,["YY",2],0,(function(){return this.year()%100})),Yx(0,["YYYY",4],0,"year"),Yx(0,["YYYYY",5],0,"year"),Yx(0,["YYYYYY",6,!0],0,"year"),xw("Y",gw),xw("YY",sw,ow),xw("YYYY",pw,aw),xw("YYYYY",fw,lw),xw("YYYYYY",fw,lw),Ew(["YYYYY","YYYYYY"],Iw),Ew("YYYY",(function(e,t){t[Iw]=2===e.length?vx.parseTwoDigitYear(e):kw(e)})),Ew("YY",(function(e,t){t[Iw]=vx.parseTwoDigitYear(e)})),Ew("Y",(function(e,t){t[Iw]=parseInt(e,10)})),vx.parseTwoDigitYear=function(e){return kw(e)+(kw(e)>68?1900:2e3)};var zw,Bw=Hw("FullYear",!0);function Hw(e,t){return function(r){return null!=r?($w(this,e,r),vx.updateOffset(this,t),this):Uw(this,e)}}function Uw(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function $w(e,t,r){var n,o,i,a,l;if(e.isValid()&&!isNaN(r)){switch(n=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(o?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(o?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(o?n.setUTCHours(r):n.setHours(r));case"Date":return void(o?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,a=e.month(),l=29!==(l=e.date())||1!==a||qw(i)?l:28,o?n.setUTCFullYear(i,a,l):n.setFullYear(i,a,l)}}function Ww(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?qw(e)?29:28:31-r%7%2}zw=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Yx("M",["MM",2],"Mo",(function(){return this.month()+1})),Yx("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Yx("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),xw("M",sw,bw),xw("MM",sw,ow),xw("MMM",(function(e,t){return t.monthsShortRegex(e)})),xw("MMMM",(function(e,t){return t.monthsRegex(e)})),Ew(["M","MM"],(function(e,t){t[Aw]=kw(e)-1})),Ew(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[Aw]=o:Ex(r).invalidMonth=e}));var Kw="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jw=yw,Qw=yw;function Xw(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=jx([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=zw.call(this._shortMonthsParse,a))?o:null:-1!==(o=zw.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=zw.call(this._shortMonthsParse,a))||-1!==(o=zw.call(this._longMonthsParse,a))?o:null:-1!==(o=zw.call(this._longMonthsParse,a))||-1!==(o=zw.call(this._shortMonthsParse,a))?o:null}function Zw(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=kw(t);else if(!wx(t=e.localeData().monthsParse(t)))return e;var r=t,n=e.date();return n=n<29?n:Math.min(n,Ww(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function eO(e){return null!=e?(Zw(this,e),vx.updateOffset(this,!0),this):Uw(this,"Month")}function tO(){function e(e,t){return t.length-e.length}var t,r,n,o,i=[],a=[],l=[];for(t=0;t<12;t++)r=jx([2e3,t]),n=Ow(this.monthsShort(r,"")),o=Ow(this.months(r,"")),i.push(n),a.push(o),l.push(o),l.push(n);i.sort(e),a.sort(e),l.sort(e),this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function rO(e,t,r,n,o,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,o,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,o,i,a),l}function nO(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function oO(e,t,r){var n=7+t-r;return-((7+nO(e,0,n).getUTCDay()-t)%7)+n-1}function iO(e,t,r,n,o){var i,a,l=1+7*(t-1)+(7+r-n)%7+oO(e,n,o);return l<=0?a=Vw(i=e-1)+l:l>Vw(e)?(i=e+1,a=l-Vw(e)):(i=e,a=l),{year:i,dayOfYear:a}}function aO(e,t,r){var n,o,i=oO(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+lO(o=e.year()-1,t,r):a>lO(e.year(),t,r)?(n=a-lO(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function lO(e,t,r){var n=oO(e,t,r),o=oO(e+1,t,r);return(Vw(e)-n+o)/7}Yx("w",["ww",2],"wo","week"),Yx("W",["WW",2],"Wo","isoWeek"),xw("w",sw,bw),xw("ww",sw,ow),xw("W",sw,bw),xw("WW",sw,ow),Cw(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=kw(e)}));function sO(e,t){return e.slice(t,7).concat(e.slice(0,t))}Yx("d",0,"do","day"),Yx("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Yx("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Yx("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Yx("e",0,0,"weekday"),Yx("E",0,0,"isoWeekday"),xw("d",sw),xw("e",sw),xw("E",sw),xw("dd",(function(e,t){return t.weekdaysMinRegex(e)})),xw("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),xw("dddd",(function(e,t){return t.weekdaysRegex(e)})),Cw(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:Ex(r).invalidWeekday=e})),Cw(["d","e","E"],(function(e,t,r,n){t[n]=kw(e)}));var uO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pO=yw,fO=yw,hO=yw;function gO(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=jx([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=zw.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=zw.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=zw.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=zw.call(this._weekdaysParse,a))||-1!==(o=zw.call(this._shortWeekdaysParse,a))||-1!==(o=zw.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=zw.call(this._shortWeekdaysParse,a))||-1!==(o=zw.call(this._weekdaysParse,a))||-1!==(o=zw.call(this._minWeekdaysParse,a))?o:null:-1!==(o=zw.call(this._minWeekdaysParse,a))||-1!==(o=zw.call(this._weekdaysParse,a))||-1!==(o=zw.call(this._shortWeekdaysParse,a))?o:null}function vO(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],l=[],s=[],u=[];for(t=0;t<7;t++)r=jx([2e3,1]).day(t),n=Ow(this.weekdaysMin(r,"")),o=Ow(this.weekdaysShort(r,"")),i=Ow(this.weekdays(r,"")),a.push(n),l.push(o),s.push(i),u.push(n),u.push(o),u.push(i);a.sort(e),l.sort(e),s.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function mO(){return this.hours()%12||12}function yO(e,t){Yx(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function bO(e,t){return t._meridiemParse}Yx("H",["HH",2],0,"hour"),Yx("h",["hh",2],0,mO),Yx("k",["kk",2],0,(function(){return this.hours()||24})),Yx("hmm",0,0,(function(){return""+mO.apply(this)+Hx(this.minutes(),2)})),Yx("hmmss",0,0,(function(){return""+mO.apply(this)+Hx(this.minutes(),2)+Hx(this.seconds(),2)})),Yx("Hmm",0,0,(function(){return""+this.hours()+Hx(this.minutes(),2)})),Yx("Hmmss",0,0,(function(){return""+this.hours()+Hx(this.minutes(),2)+Hx(this.seconds(),2)})),yO("a",!0),yO("A",!1),xw("a",bO),xw("A",bO),xw("H",sw,_w),xw("h",sw,bw),xw("k",sw,bw),xw("HH",sw,ow),xw("hh",sw,ow),xw("kk",sw,ow),xw("hmm",uw),xw("hmmss",cw),xw("Hmm",uw),xw("Hmmss",cw),Ew(["H","HH"],Pw),Ew(["k","kk"],(function(e,t,r){var n=kw(e);t[Pw]=24===n?0:n})),Ew(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),Ew(["h","hh"],(function(e,t,r){t[Pw]=kw(e),Ex(r).bigHour=!0})),Ew("hmm",(function(e,t,r){var n=e.length-2;t[Pw]=kw(e.substr(0,n)),t[Nw]=kw(e.substr(n)),Ex(r).bigHour=!0})),Ew("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[Pw]=kw(e.substr(0,n)),t[Nw]=kw(e.substr(n,2)),t[Fw]=kw(e.substr(o)),Ex(r).bigHour=!0})),Ew("Hmm",(function(e,t,r){var n=e.length-2;t[Pw]=kw(e.substr(0,n)),t[Nw]=kw(e.substr(n))})),Ew("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[Pw]=kw(e.substr(0,n)),t[Nw]=kw(e.substr(n,2)),t[Fw]=kw(e.substr(o))}));var _O=Hw("Hours",!0);var xO,wO={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Kw,monthsShort:Yw,week:{dow:0,doy:6},weekdays:uO,weekdaysMin:dO,weekdaysShort:cO,meridiemParse:/[ap]\.?m?\.?/i},OO={},SO={};function kO(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function jO(e){return e?e.toLowerCase().replace("_","-"):e}function EO(e){var t=null;if(void 0===OO[e]&&void 0!==d&&d&&d.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=xO._abbr,require("./locale/"+e),CO(t)}catch(ln){OO[e]=null}return OO[e]}function CO(e,t){var r;return e&&((r=xx(t)?qO(e):TO(e,t))?xO=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),xO._abbr}function TO(e,t){if(null!==t){var r,n=wO;if(t.abbr=e,null!=OO[e])Dx("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=OO[e]._config;else if(null!=t.parentLocale)if(null!=OO[t.parentLocale])n=OO[t.parentLocale]._config;else{if(null==(r=EO(t.parentLocale)))return SO[t.parentLocale]||(SO[t.parentLocale]=[]),SO[t.parentLocale].push({name:e,config:t}),null;n=r._config}return OO[e]=new Bx(zx(n,t)),SO[e]&&SO[e].forEach((function(e){TO(e.name,e.config)})),CO(e),OO[e]}return delete OO[e],null}function qO(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xO;if(!mx(e)){if(t=EO(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=jO(e[i]).split("-")).length,r=(r=jO(e[i+1]))?r.split("-"):null;t>0;){if(n=EO(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&kO(o,r)>=t-1)break;t--}i++}return xO}(e)}function IO(e){var t,r=e._a;return r&&-2===Ex(e).overflow&&(t=r[Aw]<0||r[Aw]>11?Aw:r[Lw]<1||r[Lw]>Ww(r[Iw],r[Aw])?Lw:r[Pw]<0||r[Pw]>24||24===r[Pw]&&(0!==r[Nw]||0!==r[Fw]||0!==r[Rw])?Pw:r[Nw]<0||r[Nw]>59?Nw:r[Fw]<0||r[Fw]>59?Fw:r[Rw]<0||r[Rw]>999?Rw:-1,Ex(e)._overflowDayOfYear&&(t<Iw||t>Lw)&&(t=Lw),Ex(e)._overflowWeeks&&-1===t&&(t=Mw),Ex(e)._overflowWeekday&&-1===t&&(t=Dw),Ex(e).overflow=t),e}var AO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,PO=/Z|[+-]\d\d(?::?\d\d)?/,NO=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],FO=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RO=/^\/?Date\((-?\d+)/i,MO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,DO={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function VO(e){var t,r,n,o,i,a,l=e._i,s=AO.exec(l)||LO.exec(l),u=NO.length,c=FO.length;if(s){for(Ex(e).iso=!0,t=0,r=u;t<r;t++)if(NO[t][1].exec(s[1])){o=NO[t][0],n=!1!==NO[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,r=c;t<r;t++)if(FO[t][1].exec(s[3])){i=(s[2]||" ")+FO[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(s[4]){if(!PO.exec(s[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),$O(e)}else e._isValid=!1}function zO(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function BO(e){var t,r,n,o,i,a,l,s,u=MO.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],a=u[6],l=u[7],s=[zO(r),Yw.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],l&&s.push(parseInt(l,10)),t=s,!function(e,t,r){return!e||cO.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Ex(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return DO[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),e._d=nO.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ex(e).rfc2822=!0}else e._isValid=!1}function HO(e,t,r){return null!=e?e:null!=t?t:r}function UO(e){var t,r,n,o,i,a=[];if(!e._d){for(n=function(e){var t=new Date(vx.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Lw]&&null==e._a[Aw]&&function(e){var t,r,n,o,i,a,l,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,r=HO(t.GG,e._a[Iw],aO(YO(),1,4).year),n=HO(t.W,1),((o=HO(t.E,1))<1||o>7)&&(s=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=aO(YO(),i,a),r=HO(t.gg,e._a[Iw],u.year),n=HO(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(s=!0)):o=i);n<1||n>lO(r,i,a)?Ex(e)._overflowWeeks=!0:null!=s?Ex(e)._overflowWeekday=!0:(l=iO(r,n,o,i,a),e._a[Iw]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(i=HO(e._a[Iw],n[Iw]),(e._dayOfYear>Vw(i)||0===e._dayOfYear)&&(Ex(e)._overflowDayOfYear=!0),r=nO(i,0,e._dayOfYear),e._a[Aw]=r.getUTCMonth(),e._a[Lw]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Pw]&&0===e._a[Nw]&&0===e._a[Fw]&&0===e._a[Rw]&&(e._nextDay=!0,e._a[Pw]=0),e._d=(e._useUTC?nO:rO).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Pw]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(Ex(e).weekdayMismatch=!0)}}function $O(e){if(e._f!==vx.ISO_8601)if(e._f!==vx.RFC_2822){e._a=[],Ex(e).empty=!0;var t,r,n,o,i,a,l,s=""+e._i,u=s.length,c=0;for(l=(n=Qx(e._f,e._locale).match(Ux)||[]).length,t=0;t<l;t++)o=n[t],(r=(s.match(ww(o,e))||[])[0])&&((i=s.substr(0,s.indexOf(r))).length>0&&Ex(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Kx[o]?(r?Ex(e).empty=!1:Ex(e).unusedTokens.push(o),Tw(o,r,e)):e._strict&&!r&&Ex(e).unusedTokens.push(o);Ex(e).charsLeftOver=u-c,s.length>0&&Ex(e).unusedInput.push(s),e._a[Pw]<=12&&!0===Ex(e).bigHour&&e._a[Pw]>0&&(Ex(e).bigHour=void 0),Ex(e).parsedDateParts=e._a.slice(0),Ex(e).meridiem=e._meridiem,e._a[Pw]=function(e,t,r){var n;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[Pw],e._meridiem),null!==(a=Ex(e).era)&&(e._a[Iw]=e._locale.erasConvertYear(a,e._a[Iw])),UO(e),IO(e)}else BO(e);else VO(e)}function WO(e){var t=e._i,r=e._f;return e._locale=e._locale||qO(e._l),null===t||void 0===r&&""===t?Tx({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Px(t)?new Lx(IO(t)):(Ox(t)?e._d=t:mx(r)?function(e){var t,r,n,o,i,a,l=!1,s=e._f.length;if(0===s)return Ex(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<s;o++)i=0,a=!1,t=Ax({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],$O(t),Cx(t)&&(a=!0),i+=Ex(t).charsLeftOver,i+=10*Ex(t).unusedTokens.length,Ex(t).score=i,l?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(l=!0));kx(e,r||t)}(e):r?$O(e):function(e){var t=e._i;xx(t)?e._d=new Date(vx.now()):Ox(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=RO.exec(e._i);null===t?(VO(e),!1===e._isValid&&(delete e._isValid,BO(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:vx.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):mx(t)?(e._a=Sx(t.slice(0),(function(e){return parseInt(e,10)})),UO(e)):yx(t)?function(e){if(!e._d){var t=ew(e._i),r=void 0===t.day?t.date:t.day;e._a=Sx([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),UO(e)}}(e):wx(t)?e._d=new Date(t):vx.createFromInputFallback(e)}(e),Cx(e)||(e._d=null),e))}function KO(e,t,r,n,o){var i={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(yx(e)&&_x(e)||mx(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=r,i._i=e,i._f=t,i._strict=n,function(e){var t=new Lx(IO(WO(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(i)}function YO(e,t,r,n){return KO(e,t,r,n,!1)}vx.createFromInputFallback=Fx("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),vx.ISO_8601=function(){},vx.RFC_2822=function(){};var GO=Fx("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=YO.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Tx()})),JO=Fx("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=YO.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Tx()}));function QO(e,t){var r,n;if(1===t.length&&mx(t[0])&&(t=t[0]),!t.length)return YO();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var XO=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ZO(e){var t=ew(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,s=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,o=XO.length;for(t in e)if(bx(e,t)&&(-1===zw.call(XO,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<o;++r)if(e[XO[r]]){if(n)return!1;parseFloat(e[XO[r]])!==kw(e[XO[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*s+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=qO(),this._bubble()}function eS(e){return e instanceof ZO}function tS(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function rS(e,t){Yx(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Hx(~~(e/60),2)+t+Hx(~~e%60,2)}))}rS("Z",":"),rS("ZZ",""),xw("Z",mw),xw("ZZ",mw),Ew(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=oS(mw,e)}));var nS=/([\+\-]|\d\d)/gi;function oS(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(nS)||["-",0,0])[1]+kw(r[2]))?0:"+"===r[0]?n:-n}function iS(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Px(e)||Ox(e)?e.valueOf():YO(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),vx.updateOffset(r,!1),r):YO(e).local()}function aS(e){return-Math.round(e._d.getTimezoneOffset())}function lS(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}vx.updateOffset=function(){};var sS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function cS(e,t){var r,n,o,i=e,a=null;return eS(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:wx(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=sS.exec(e))?(r="-"===a[1]?-1:1,i={y:0,d:kw(a[Lw])*r,h:kw(a[Pw])*r,m:kw(a[Nw])*r,s:kw(a[Fw])*r,ms:kw(tS(1e3*a[Rw]))*r}):(a=uS.exec(e))?(r="-"===a[1]?-1:1,i={y:dS(a[2],r),M:dS(a[3],r),w:dS(a[4],r),d:dS(a[5],r),h:dS(a[6],r),m:dS(a[7],r),s:dS(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=iS(t,e),e.isBefore(t)?r=pS(e,t):((r=pS(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(YO(i.from),YO(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new ZO(i),eS(e)&&bx(e,"_locale")&&(n._locale=e._locale),eS(e)&&bx(e,"_isValid")&&(n._isValid=e._isValid),n}function dS(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function pS(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function fS(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(Dx(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),hS(this,cS(r,n),e),this}}function hS(e,t,r,n){var o=t._milliseconds,i=tS(t._days),a=tS(t._months);e.isValid()&&(n=null==n||n,a&&Zw(e,Uw(e,"Month")+a*r),i&&$w(e,"Date",Uw(e,"Date")+i*r),o&&e._d.setTime(e._d.valueOf()+o*r),n&&vx.updateOffset(e,i||a))}cS.fn=ZO.prototype,cS.invalid=function(){return cS(NaN)};var gS=fS(1,"add"),vS=fS(-1,"subtract");function mS(e){return"string"==typeof e||e instanceof String}function yS(e){return Px(e)||Ox(e)||mS(e)||wx(e)||function(e){var t=mx(e),r=!1;t&&(r=0===e.filter((function(t){return!wx(t)&&mS(e)})).length);return t&&r}(e)||function(e){var t,r,n=yx(e)&&!_x(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)r=i[t],o=o||bx(e,r);return n&&o}(e)||null==e}function bS(e,t){if(e.date()<t.date())return-bS(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function _S(e){var t;return void 0===e?this._locale._abbr:(null!=(t=qO(e))&&(this._locale=t),this)}vx.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",vx.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var xS=Fx("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function wS(){return this._locale}var OS=1e3,SS=6e4,kS=36e5,jS=126227808e5;function ES(e,t){return(e%t+t)%t}function CS(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-jS:new Date(e,t,r).valueOf()}function TS(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-jS:Date.UTC(e,t,r)}function qS(e,t){return t.erasAbbrRegex(e)}function IS(){var e,t,r,n,o,i=[],a=[],l=[],s=[],u=this.eras();for(e=0,t=u.length;e<t;++e)r=Ow(u[e].name),n=Ow(u[e].abbr),o=Ow(u[e].narrow),a.push(r),i.push(n),l.push(o),s.push(r),s.push(n),s.push(o);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}function AS(e,t){Yx(0,[e,e.length],0,t)}function LS(e,t,r,n,o){var i;return null==e?aO(this,n,o).year:(t>(i=lO(e,n,o))&&(t=i),PS.call(this,e,t,r,n,o))}function PS(e,t,r,n,o){var i=iO(e,t,r,n,o),a=nO(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Yx("N",0,0,"eraAbbr"),Yx("NN",0,0,"eraAbbr"),Yx("NNN",0,0,"eraAbbr"),Yx("NNNN",0,0,"eraName"),Yx("NNNNN",0,0,"eraNarrow"),Yx("y",["y",1],"yo","eraYear"),Yx("y",["yy",2],0,"eraYear"),Yx("y",["yyy",3],0,"eraYear"),Yx("y",["yyyy",4],0,"eraYear"),xw("N",qS),xw("NN",qS),xw("NNN",qS),xw("NNNN",(function(e,t){return t.erasNameRegex(e)})),xw("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),Ew(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?Ex(r).era=o:Ex(r).invalidEra=e})),xw("y",hw),xw("yy",hw),xw("yyy",hw),xw("yyyy",hw),xw("yo",(function(e,t){return t._eraYearOrdinalRegex||hw})),Ew(["y","yy","yyy","yyyy"],Iw),Ew(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Iw]=r._locale.eraYearOrdinalParse(e,o):t[Iw]=parseInt(e,10)})),Yx(0,["gg",2],0,(function(){return this.weekYear()%100})),Yx(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),AS("gggg","weekYear"),AS("ggggg","weekYear"),AS("GGGG","isoWeekYear"),AS("GGGGG","isoWeekYear"),xw("G",gw),xw("g",gw),xw("GG",sw,ow),xw("gg",sw,ow),xw("GGGG",pw,aw),xw("gggg",pw,aw),xw("GGGGG",fw,lw),xw("ggggg",fw,lw),Cw(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=kw(e)})),Cw(["gg","GG"],(function(e,t,r,n){t[n]=vx.parseTwoDigitYear(e)})),Yx("Q",0,"Qo","quarter"),xw("Q",nw),Ew("Q",(function(e,t){t[Aw]=3*(kw(e)-1)})),Yx("D",["DD",2],"Do","date"),xw("D",sw,bw),xw("DD",sw,ow),xw("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ew(["D","DD"],Lw),Ew("Do",(function(e,t){t[Lw]=kw(e.match(sw)[0])}));var NS=Hw("Date",!0);Yx("DDD",["DDDD",3],"DDDo","dayOfYear"),xw("DDD",dw),xw("DDDD",iw),Ew(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=kw(e)})),Yx("m",["mm",2],0,"minute"),xw("m",sw,_w),xw("mm",sw,ow),Ew(["m","mm"],Nw);var FS=Hw("Minutes",!1);Yx("s",["ss",2],0,"second"),xw("s",sw,_w),xw("ss",sw,ow),Ew(["s","ss"],Fw);var RS,MS,DS=Hw("Seconds",!1);for(Yx("S",0,0,(function(){return~~(this.millisecond()/100)})),Yx(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Yx(0,["SSS",3],0,"millisecond"),Yx(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Yx(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Yx(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Yx(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Yx(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Yx(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),xw("S",dw,nw),xw("SS",dw,ow),xw("SSS",dw,iw),RS="SSSS";RS.length<=9;RS+="S")xw(RS,hw);function VS(e,t){t[Rw]=kw(1e3*("0."+e))}for(RS="S";RS.length<=9;RS+="S")Ew(RS,VS);MS=Hw("Milliseconds",!1),Yx("z",0,0,"zoneAbbr"),Yx("zz",0,0,"zoneName");var zS=Lx.prototype;function BS(e){return e}zS.add=gS,zS.calendar=function(e,t){1===arguments.length&&(arguments[0]?yS(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=yx(e)&&!_x(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||bx(e,o[t]);return r&&n}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||YO(),n=iS(r,this).startOf("day"),o=vx.calendarFormat(this,n)||"sameElse",i=t&&(Vx(t[o])?t[o].call(this,r):t[o]);return this.format(i||this.localeData().calendar(o,this,YO(r)))},zS.clone=function(){return new Lx(this)},zS.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=iS(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=Zx(t)){case"year":i=bS(this,n)/12;break;case"month":i=bS(this,n);break;case"quarter":i=bS(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:Sw(i)},zS.endOf=function(e){var t,r;if(void 0===(e=Zx(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?TS:CS,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=kS-ES(t+(this._isUTC?0:this.utcOffset()*SS),kS)-1;break;case"minute":t=this._d.valueOf(),t+=SS-ES(t,SS)-1;break;case"second":t=this._d.valueOf(),t+=OS-ES(t,OS)-1}return this._d.setTime(t),vx.updateOffset(this,!0),this},zS.format=function(e){e||(e=this.isUtc()?vx.defaultFormatUtc:vx.defaultFormat);var t=Jx(this,e);return this.localeData().postformat(t)},zS.from=function(e,t){return this.isValid()&&(Px(e)&&e.isValid()||YO(e).isValid())?cS({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},zS.fromNow=function(e){return this.from(YO(),e)},zS.to=function(e,t){return this.isValid()&&(Px(e)&&e.isValid()||YO(e).isValid())?cS({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},zS.toNow=function(e){return this.to(YO(),e)},zS.get=function(e){return Vx(this[e=Zx(e)])?this[e]():this},zS.invalidAt=function(){return Ex(this).overflow},zS.isAfter=function(e,t){var r=Px(e)?e:YO(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Zx(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},zS.isBefore=function(e,t){var r=Px(e)?e:YO(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Zx(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},zS.isBetween=function(e,t,r,n){var o=Px(e)?e:YO(e),i=Px(t)?t:YO(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},zS.isSame=function(e,t){var r,n=Px(e)?e:YO(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Zx(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},zS.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},zS.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},zS.isValid=function(){return Cx(this)},zS.lang=xS,zS.locale=_S,zS.localeData=wS,zS.max=JO,zS.min=GO,zS.parsingFlags=function(){return kx({},Ex(this))},zS.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)bx(e,t)&&r.push({unit:t,priority:tw[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=ew(e)),o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(Vx(this[e=Zx(e)]))return this[e](t);return this},zS.startOf=function(e){var t,r;if(void 0===(e=Zx(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?TS:CS,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ES(t+(this._isUTC?0:this.utcOffset()*SS),kS);break;case"minute":t=this._d.valueOf(),t-=ES(t,SS);break;case"second":t=this._d.valueOf(),t-=ES(t,OS)}return this._d.setTime(t),vx.updateOffset(this,!0),this},zS.subtract=vS,zS.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},zS.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},zS.toDate=function(){return new Date(this.valueOf())},zS.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Jx(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Vx(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Jx(r,"Z")):Jx(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},zS.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(zS[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),zS.toJSON=function(){return this.isValid()?this.toISOString():null},zS.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},zS.unix=function(){return Math.floor(this.valueOf()/1e3)},zS.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},zS.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},zS.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},zS.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},zS.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},zS.eraYear=function(){var e,t,r,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-vx(o[e].since).year())*r+o[e].offset;return this.year()},zS.year=Bw,zS.isLeapYear=function(){return qw(this.year())},zS.weekYear=function(e){return LS.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},zS.isoWeekYear=function(e){return LS.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},zS.quarter=zS.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},zS.month=eO,zS.daysInMonth=function(){return Ww(this.year(),this.month())},zS.week=zS.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},zS.isoWeek=zS.isoWeeks=function(e){var t=aO(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},zS.weeksInYear=function(){var e=this.localeData()._week;return lO(this.year(),e.dow,e.doy)},zS.weeksInWeekYear=function(){var e=this.localeData()._week;return lO(this.weekYear(),e.dow,e.doy)},zS.isoWeeksInYear=function(){return lO(this.year(),1,4)},zS.isoWeeksInISOWeekYear=function(){return lO(this.isoWeekYear(),1,4)},zS.date=NS,zS.day=zS.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Uw(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},zS.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},zS.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},zS.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},zS.hour=zS.hours=_O,zS.minute=zS.minutes=FS,zS.second=zS.seconds=DS,zS.millisecond=zS.milliseconds=MS,zS.utcOffset=function(e,t,r){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=oS(mw,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=aS(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?hS(this,cS(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vx.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:aS(this)},zS.utc=function(e){return this.utcOffset(0,e)},zS.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(aS(this),"m")),this},zS.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=oS(vw,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},zS.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?YO(e).utcOffset():0,(this.utcOffset()-e)%60==0)},zS.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},zS.isLocal=function(){return!!this.isValid()&&!this._isUTC},zS.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},zS.isUtc=lS,zS.isUTC=lS,zS.zoneAbbr=function(){return this._isUTC?"UTC":""},zS.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},zS.dates=Fx("dates accessor is deprecated. Use date instead.",NS),zS.months=Fx("months accessor is deprecated. Use month instead",eO),zS.years=Fx("years accessor is deprecated. Use year instead",Bw),zS.zone=Fx("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),zS.isDSTShifted=Fx("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!xx(this._isDSTShifted))return this._isDSTShifted;var e,t={};return Ax(t,this),(t=WO(t))._a?(e=t._isUTC?jx(t._a):YO(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)kw(e[n])!==kw(t[n])&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var HS=Bx.prototype;function US(e,t,r,n){var o=qO(),i=jx().set(n,t);return o[r](i,e)}function $S(e,t,r){if(wx(e)&&(t=e,e=void 0),e=e||"",null!=t)return US(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=US(e,n,r,"month");return o}function WS(e,t,r,n){"boolean"==typeof e?(wx(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,wx(t)&&(r=t,t=void 0),t=t||"");var o,i=qO(),a=e?i._week.dow:0,l=[];if(null!=r)return US(t,(r+a)%7,n,"day");for(o=0;o<7;o++)l[o]=US(t,(o+a)%7,n,"day");return l}HS.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Vx(n)?n.call(t,r):n},HS.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Ux).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},HS.invalidDate=function(){return this._invalidDate},HS.ordinal=function(e){return this._ordinal.replace("%d",e)},HS.preparse=BS,HS.postformat=BS,HS.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return Vx(o)?o(e,t,r,n):o.replace(/%d/i,e)},HS.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return Vx(r)?r(t):r.replace(/%s/i,t)},HS.set=function(e){var t,r;for(r in e)bx(e,r)&&(Vx(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},HS.eras=function(e,t){var r,n,o,i=this._eras||qO("en")._eras;for(r=0,n=i.length;r<n;++r){if("string"==typeof i[r].since)o=vx(i[r].since).startOf("day"),i[r].since=o.valueOf();switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":o=vx(i[r].until).startOf("day").valueOf(),i[r].until=o.valueOf()}}return i},HS.erasParse=function(e,t,r){var n,o,i,a,l,s=this.eras();for(e=e.toUpperCase(),n=0,o=s.length;n<o;++n)if(i=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n]}else if([i,a,l].indexOf(e)>=0)return s[n]},HS.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?vx(e.since).year():vx(e.since).year()+(t-e.offset)*r},HS.erasAbbrRegex=function(e){return bx(this,"_erasAbbrRegex")||IS.call(this),e?this._erasAbbrRegex:this._erasRegex},HS.erasNameRegex=function(e){return bx(this,"_erasNameRegex")||IS.call(this),e?this._erasNameRegex:this._erasRegex},HS.erasNarrowRegex=function(e){return bx(this,"_erasNarrowRegex")||IS.call(this),e?this._erasNarrowRegex:this._erasRegex},HS.months=function(e,t){return e?mx(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Gw).test(t)?"format":"standalone"][e.month()]:mx(this._months)?this._months:this._months.standalone},HS.monthsShort=function(e,t){return e?mx(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gw.test(t)?"format":"standalone"][e.month()]:mx(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},HS.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return Xw.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=jx([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},HS.monthsRegex=function(e){return this._monthsParseExact?(bx(this,"_monthsRegex")||tO.call(this),e?this._monthsStrictRegex:this._monthsRegex):(bx(this,"_monthsRegex")||(this._monthsRegex=Qw),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},HS.monthsShortRegex=function(e){return this._monthsParseExact?(bx(this,"_monthsRegex")||tO.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(bx(this,"_monthsShortRegex")||(this._monthsShortRegex=Jw),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},HS.week=function(e){return aO(e,this._week.dow,this._week.doy).week},HS.firstDayOfYear=function(){return this._week.doy},HS.firstDayOfWeek=function(){return this._week.dow},HS.weekdays=function(e,t){var r=mx(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?sO(r,this._week.dow):e?r[e.day()]:r},HS.weekdaysMin=function(e){return!0===e?sO(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},HS.weekdaysShort=function(e){return!0===e?sO(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},HS.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return gO.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=jx([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},HS.weekdaysRegex=function(e){return this._weekdaysParseExact?(bx(this,"_weekdaysRegex")||vO.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(bx(this,"_weekdaysRegex")||(this._weekdaysRegex=pO),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},HS.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(bx(this,"_weekdaysRegex")||vO.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(bx(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fO),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},HS.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(bx(this,"_weekdaysRegex")||vO.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(bx(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hO),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},HS.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},HS.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},CO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===kw(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),vx.lang=Fx("moment.lang is deprecated. Use moment.locale instead.",CO),vx.langData=Fx("moment.langData is deprecated. Use moment.localeData instead.",qO);var KS=Math.abs;function YS(e,t,r,n){var o=cS(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function GS(e){return e<0?Math.floor(e):Math.ceil(e)}function JS(e){return 4800*e/146097}function QS(e){return 146097*e/4800}function XS(e){return function(){return this.as(e)}}var ZS=XS("ms"),ek=XS("s"),tk=XS("m"),rk=XS("h"),nk=XS("d"),ok=XS("w"),ik=XS("M"),ak=XS("Q"),lk=XS("y"),sk=ZS;function uk(e){return function(){return this.isValid()?this._data[e]:NaN}}var ck=uk("milliseconds"),dk=uk("seconds"),pk=uk("minutes"),fk=uk("hours"),hk=uk("days"),gk=uk("months"),vk=uk("years");var mk=Math.round,yk={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bk(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var _k=Math.abs;function xk(e){return(e>0)-(e<0)||+e}function wk(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,l,s=_k(this._milliseconds)/1e3,u=_k(this._days),c=_k(this._months),d=this.asSeconds();return d?(e=Sw(s/60),t=Sw(e/60),s%=60,e%=60,r=Sw(c/12),c%=12,n=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=xk(this._months)!==xk(d)?"-":"",a=xk(this._days)!==xk(d)?"-":"",l=xk(this._milliseconds)!==xk(d)?"-":"",o+"P"+(r?i+r+"Y":"")+(c?i+c+"M":"")+(u?a+u+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+n+"S":"")):"P0D"}var Ok=ZO.prototype;Ok.isValid=function(){return this._isValid},Ok.abs=function(){var e=this._data;return this._milliseconds=KS(this._milliseconds),this._days=KS(this._days),this._months=KS(this._months),e.milliseconds=KS(e.milliseconds),e.seconds=KS(e.seconds),e.minutes=KS(e.minutes),e.hours=KS(e.hours),e.months=KS(e.months),e.years=KS(e.years),this},Ok.add=function(e,t){return YS(this,e,t,1)},Ok.subtract=function(e,t){return YS(this,e,t,-1)},Ok.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=Zx(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+JS(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(QS(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Ok.asMilliseconds=ZS,Ok.asSeconds=ek,Ok.asMinutes=tk,Ok.asHours=rk,Ok.asDays=nk,Ok.asWeeks=ok,Ok.asMonths=ik,Ok.asQuarters=ak,Ok.asYears=lk,Ok.valueOf=sk,Ok._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,l=this._months,s=this._data;return i>=0&&a>=0&&l>=0||i<=0&&a<=0&&l<=0||(i+=864e5*GS(QS(l)+a),a=0,l=0),s.milliseconds=i%1e3,e=Sw(i/1e3),s.seconds=e%60,t=Sw(e/60),s.minutes=t%60,r=Sw(t/60),s.hours=r%24,a+=Sw(r/24),l+=o=Sw(JS(a)),a-=GS(QS(o)),n=Sw(l/12),l%=12,s.days=a,s.months=l,s.years=n,this},Ok.clone=function(){return cS(this)},Ok.get=function(e){return e=Zx(e),this.isValid()?this[e+"s"]():NaN},Ok.milliseconds=ck,Ok.seconds=dk,Ok.minutes=pk,Ok.hours=fk,Ok.days=hk,Ok.weeks=function(){return Sw(this.days()/7)},Ok.months=gk,Ok.years=vk,Ok.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=yk;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},yk,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=function(e,t,r,n){var o=cS(e).abs(),i=mk(o.as("s")),a=mk(o.as("m")),l=mk(o.as("h")),s=mk(o.as("d")),u=mk(o.as("M")),c=mk(o.as("w")),d=mk(o.as("y")),p=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||s<=1&&["d"]||s<r.d&&["dd",s];return null!=r.w&&(p=p||c<=1&&["w"]||c<r.w&&["ww",c]),(p=p||u<=1&&["M"]||u<r.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=n,bk.apply(null,p)}(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},Ok.toISOString=wk,Ok.toString=wk,Ok.toJSON=wk,Ok.locale=_S,Ok.localeData=wS,Ok.toIsoString=Fx("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wk),Ok.lang=xS,Yx("X",0,0,"unix"),Yx("x",0,0,"valueOf"),xw("x",gw),xw("X",/[+-]?\d+(\.\d{1,3})?/),Ew("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),Ew("x",(function(e,t,r){r._d=new Date(kw(e))})),//! moment.js
vx.version="2.30.1",sx=YO,vx.fn=zS,vx.min=function(){return QO("isBefore",[].slice.call(arguments,0))},vx.max=function(){return QO("isAfter",[].slice.call(arguments,0))},vx.now=function(){return Date.now?Date.now():+new Date},vx.utc=jx,vx.unix=function(e){return YO(1e3*e)},vx.months=function(e,t){return $S(e,t,"months")},vx.isDate=Ox,vx.locale=CO,vx.invalid=Tx,vx.duration=cS,vx.isMoment=Px,vx.weekdays=function(e,t,r){return WS(e,t,r,"weekdays")},vx.parseZone=function(){return YO.apply(null,arguments).parseZone()},vx.localeData=qO,vx.isDuration=eS,vx.monthsShort=function(e,t){return $S(e,t,"monthsShort")},vx.weekdaysMin=function(e,t,r){return WS(e,t,r,"weekdaysMin")},vx.defineLocale=TO,vx.updateLocale=function(e,t){if(null!=t){var r,n,o=wO;null!=OO[e]&&null!=OO[e].parentLocale?OO[e].set(zx(OO[e]._config,t)):(null!=(n=EO(e))&&(o=n._config),t=zx(o,t),null==n&&(t.abbr=e),(r=new Bx(t)).parentLocale=OO[e],OO[e]=r),CO(e)}else null!=OO[e]&&(null!=OO[e].parentLocale?(OO[e]=OO[e].parentLocale,e===CO()&&CO(e)):null!=OO[e]&&delete OO[e]);return OO[e]},vx.locales=function(){return Rx(OO)},vx.weekdaysShort=function(e,t,r){return WS(e,t,r,"weekdaysShort")},vx.normalizeUnits=Zx,vx.relativeTimeRounding=function(e){return void 0===e?mk:"function"==typeof e&&(mk=e,!0)},vx.relativeTimeThreshold=function(e,t){return void 0!==yk[e]&&(void 0===t?yk[e]:(yk[e]=t,"s"===e&&(yk.ss=t-1),!0))},vx.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},vx.prototype=zS,vx.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Sk={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class kk{constructor({locale:e,formats:t,instance:r}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=e=>{var t,r;return null!==(r=null===(t=e.match(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g))||void 0===t?void 0:t.map((e=>{const t=e[0];return"L"===t||";"===t?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(e):e})).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())&&void 0!==r?r:e},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=e=>this.moment(e,!0),this.toISO=e=>e.toISOString(),this.parse=(e,t)=>""===e?null:this.locale?this.moment(e,t,this.locale,!0):this.moment(e,t,!0),this.date=e=>{if(null===e)return null;const t=this.moment(e);return this.locale&&t.locale(this.locale),t},this.toJsDate=e=>e.toDate(),this.isValid=e=>this.moment(e).isValid(),this.isNull=e=>null===e,this.getDiff=(e,t,r)=>this.moment(t).isValid()?e.diff(t,r):0,this.isAfter=(e,t)=>e.isAfter(t),this.isBefore=(e,t)=>e.isBefore(t),this.isAfterDay=(e,t)=>e.isAfter(t,"day"),this.isBeforeDay=(e,t)=>e.isBefore(t,"day"),this.isBeforeMonth=(e,t)=>e.isBefore(t,"month"),this.isAfterMonth=(e,t)=>e.isAfter(t,"month"),this.isBeforeYear=(e,t)=>e.isBefore(t,"year"),this.isAfterYear=(e,t)=>e.isAfter(t,"year"),this.startOfDay=e=>e.clone().startOf("day"),this.endOfDay=e=>e.clone().endOf("day"),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>{const r=e.clone();return this.locale&&r.locale(this.locale),r.format(t)},this.formatNumber=e=>e,this.getHours=e=>e.get("hours"),this.addSeconds=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"seconds"):e.clone().add(t,"seconds"),this.addMinutes=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"minutes"):e.clone().add(t,"minutes"),this.addHours=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"hours"):e.clone().add(t,"hours"),this.addDays=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"days"):e.clone().add(t,"days"),this.addWeeks=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"weeks"):e.clone().add(t,"weeks"),this.addMonths=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"months"):e.clone().add(t,"months"),this.addYears=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"years"):e.clone().add(t,"years"),this.setHours=(e,t)=>e.clone().hours(t),this.getMinutes=e=>e.get("minutes"),this.setMinutes=(e,t)=>e.clone().minutes(t),this.getSeconds=e=>e.get("seconds"),this.setSeconds=(e,t)=>e.clone().seconds(t),this.getMonth=e=>e.get("month"),this.getDaysInMonth=e=>e.daysInMonth(),this.isSameDay=(e,t)=>e.isSame(t,"day"),this.isSameMonth=(e,t)=>e.isSame(t,"month"),this.isSameYear=(e,t)=>e.isSame(t,"year"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.setMonth=(e,t)=>e.clone().month(t),this.getMeridiemText=e=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem("am"===e?0:13,0,!1):"am"===e?"AM":"PM",this.startOfYear=e=>e.clone().startOf("year"),this.endOfYear=e=>e.clone().endOf("year"),this.startOfMonth=e=>e.clone().startOf("month"),this.endOfMonth=e=>e.clone().endOf("month"),this.startOfWeek=e=>e.clone().startOf("week"),this.endOfWeek=e=>e.clone().endOf("week"),this.getNextMonth=e=>e.clone().add(1,"month"),this.getPreviousMonth=e=>e.clone().subtract(1,"month"),this.getMonthArray=e=>{const t=[e.clone().startOf("year")];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.getYear=e=>e.get("year"),this.setYear=(e,t)=>e.clone().set("year",t),this.getDate=e=>e.get("date"),this.setDate=(e,t)=>e.clone().set("date",t),this.mergeDateAndTime=(e,t)=>e.hour(t.hour()).minute(t.minute()).second(t.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(e,t)=>null===e&&null===t||this.moment(e).isSame(t),this.getWeekArray=e=>{const t=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week");let n=0,o=t;const i=[];for(;o.isBefore(r);){const e=Math.floor(n/7);i[e]=i[e]||[],i[e].push(o),o=o.clone().add(1,"day"),n+=1}return i},this.getYearRange=(e,t)=>{const r=this.moment(e).startOf("year"),n=this.moment(t).endOf("year"),o=[];let i=r;for(;i.isBefore(n);)o.push(i),i=i.clone().add(1,"year");return o},this.isWithinRange=(e,[t,r])=>e.isBetween(t,r,null,"[]"),this.moment=r||vx,this.locale=e,this.formats=Object.assign({},Sk,t)}}const jk={name:"@mui/x-date-pickers",version:"5.0.20",description:"The community edition of the date picker components (MUI X).",author:"MUI Team",main:"./node/index.js",license:"MIT",bugs:{url:"https://github.com/mui/mui-x/issues"},homepage:"https://mui.com/x/react-date-pickers/getting-started/",funding:{type:"opencollective",url:"https://opencollective.com/mui"},sideEffects:!1,publishConfig:{access:"public"},keywords:["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],repository:{type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},dependencies:{"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},peerDependencies:{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},peerDependenciesMeta:{"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},setupFiles:["<rootDir>/src/setupTests.js"],engines:{node:">=12.0.0"},private:!1,module:"./index.js",types:"./index.d.ts"};function Ek(e){return function(e){if(Array.isArray(e))return V(e)}(e)||z(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ck="delete",Tk=5,qk=1<<Tk,Ik=qk-1,Ak={};function Lk(e){e&&(e.value=!0)}function Pk(){}function Nk(e){return void 0===e.size&&(e.size=e.__iterate(Rk)),e.size}function Fk(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?Nk(e)+t:t}function Rk(){return!0}function Mk(e,t,r){return(0===e&&!Bk(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function Dk(e,t){return zk(e,t,0)}function Vk(e,t){return zk(e,t,t)}function zk(e,t,r){return void 0===e?r:Bk(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function Bk(e){return e<0||0===e&&1/e==-1/0}var Hk="@@__IMMUTABLE_ITERABLE__@@";function Uk(e){return Boolean(e&&e[Hk])}var $k="@@__IMMUTABLE_KEYED__@@";function Wk(e){return Boolean(e&&e[$k])}var Kk="@@__IMMUTABLE_INDEXED__@@";function Yk(e){return Boolean(e&&e[Kk])}function Gk(e){return Wk(e)||Yk(e)}var Jk=function(e){return Uk(e)?e:wj(e)},Qk=function(e){function t(e){return Wk(e)?e:Oj(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Jk),Xk=function(e){function t(e){return Yk(e)?e:Sj(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Jk),Zk=function(e){function t(e){return Uk(e)&&!Gk(e)?e:kj(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Jk);Jk.Keyed=Qk,Jk.Indexed=Xk,Jk.Set=Zk;var ej="@@__IMMUTABLE_SEQ__@@";function tj(e){return Boolean(e&&e[ej])}var rj="@@__IMMUTABLE_RECORD__@@";function nj(e){return Boolean(e&&e[rj])}function oj(e){return Uk(e)||nj(e)}var ij="@@__IMMUTABLE_ORDERED__@@";function aj(e){return Boolean(e&&e[ij])}var lj=0,sj=1,uj=2,cj="function"==typeof Symbol&&Symbol.iterator,dj="@@iterator",pj=cj||dj,fj=function(e){this.next=e};function hj(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function gj(){return{value:void 0,done:!0}}function vj(e){return!!Array.isArray(e)||!!bj(e)}function mj(e){return e&&"function"==typeof e.next}function yj(e){var t=bj(e);return t&&t.call(e)}function bj(e){var t=e&&(cj&&e[cj]||e[dj]);if("function"==typeof t)return t}fj.prototype.toString=function(){return"[Iterator]"},fj.KEYS=lj,fj.VALUES=sj,fj.ENTRIES=uj,fj.prototype.inspect=fj.prototype.toSource=function(){return this.toString()},fj.prototype[pj]=function(){return this};var _j=Object.prototype.hasOwnProperty;function xj(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var wj=function(e){function t(e){return null==e?qj():oj(e)?e.toSeq():function(e){var t=Lj(e);if(t)return(n=bj(r=e))&&n===r.entries?t.fromEntrySeq():function(e){var t=bj(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var r,n;if("object"==typeof e)return new Ej(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[t?n-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,o=0;return new fj((function(){if(o===n)return{value:void 0,done:!0};var i=r[t?n-++o:o++];return hj(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(Jk),Oj=function(e){function t(e){return null==e?qj().toKeyedSeq():Uk(e)?Wk(e)?e.toSeq():e.fromEntrySeq():nj(e)?e.toSeq():Ij(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(wj),Sj=function(e){function t(e){return null==e?qj():Uk(e)?Wk(e)?e.entrySeq():e.toIndexedSeq():nj(e)?e.toSeq().entrySeq():Aj(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(wj),kj=function(e){function t(e){return(Uk(e)&&!Gk(e)?e:Sj(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(wj);wj.isSeq=tj,wj.Keyed=Oj,wj.Set=kj,wj.Indexed=Sj,wj.prototype[ej]=!0;var jj=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[Fk(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,o=0;o!==n;){var i=t?n-++o:o++;if(!1===e(r[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,o=0;return new fj((function(){if(o===n)return{value:void 0,done:!0};var i=t?n-++o:o++;return hj(e,i,r[i])}))},t}(Sj),Ej=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return _j.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var a=n[t?o-++i:i++];if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length,i=0;return new fj((function(){if(i===o)return{value:void 0,done:!0};var a=n[t?o-++i:i++];return hj(e,a,r[a])}))},t}(Oj);Ej.prototype[ij]=!0;var Cj,Tj=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=yj(this._collection),n=0;if(mj(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=yj(this._collection);if(!mj(r))return new fj(gj);var n=0;return new fj((function(){var t=r.next();return t.done?t:hj(e,n++,t.value)}))},t}(Sj);function qj(){return Cj||(Cj=new jj([]))}function Ij(e){var t=Lj(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new Ej(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Aj(e){var t=Lj(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Lj(e){return xj(e)?new jj(e):vj(e)?new Tj(e):void 0}var Pj="@@__IMMUTABLE_MAP__@@";function Nj(e){return Boolean(e&&e[Pj])}function Fj(e){return Nj(e)&&aj(e)}function Rj(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function Mj(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(Rj(e)&&Rj(t)&&e.equals(t))}var Dj="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Vj(e){return e>>>1&1073741824|3221225471&e}var zj=Object.prototype.valueOf;function Bj(e){if(null==e)return Hj(e);if("function"==typeof e.hashCode)return Vj(e.hashCode(e));var t,r=(t=e).valueOf!==zj&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==r)return Hj(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return Vj(t)}(r);case"string":return r.length>Zj?function(e){var t=rE[e];void 0===t&&(t=Uj(e),tE===eE&&(tE=0,rE={}),tE++,rE[e]=t);return t}(r):Uj(r);case"object":case"function":return function(e){var t;if(Gj&&void 0!==(t=Yj.get(e)))return t;if(t=e[Xj],void 0!==t)return t;if(!Wj){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Xj]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Kj(),Gj)Yj.set(e,t);else{if(void 0!==$j&&!1===$j(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Wj)Object.defineProperty(e,Xj,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Xj]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Xj]=t}}return t}(r);case"symbol":return function(e){var t=Jj[e];if(void 0!==t)return t;return t=Kj(),Jj[e]=t,t}(r);default:if("function"==typeof r.toString)return Uj(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function Hj(e){return null===e?1108378658:1108378659}function Uj(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Vj(t)}var $j=Object.isExtensible,Wj=function(){try{return Object.defineProperty({},"@",{}),!0}catch(ln){return!1}}();function Kj(){var e=++Qj;return 1073741824&Qj&&(Qj=0),e}var Yj,Gj="function"==typeof WeakMap;Gj&&(Yj=new WeakMap);var Jj=Object.create(null),Qj=0,Xj="__immutablehash__";"function"==typeof Symbol&&(Xj=Symbol(Xj));var Zj=16,eE=255,tE=0,rE={},nE=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=uE(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=sE(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Oj);nE.prototype[ij]=!0;var oE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&Nk(this),this._iter.__iterate((function(o){return e(o,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(sj,t),o=0;return t&&Nk(this),new fj((function(){var i=n.next();return i.done?i:hj(e,t?r.size-++o:o++,i.value,i)}))},t}(Sj),iE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(sj,t);return new fj((function(){var t=r.next();return t.done?t:hj(e,t.value,t.value,t)}))},t}(kj),aE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){bE(t);var n=Uk(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(sj,t);return new fj((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){bE(n);var o=Uk(n);return hj(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},t}(Oj);function lE(e){var t=xE(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=wE,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===uj){var n=e.__iterator(t,r);return new fj((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===sj?lj:sj,r)},t}function sE(e,t,r){var n=xE(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,Ak);return i===Ak?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(uj,o);return new fj((function(){var o=i.next();if(o.done)return o;var a=o.value,l=a[0];return hj(n,l,t.call(r,a[1],l,e),o)}))},n}function uE(e,t){var r=this,n=xE(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=lE(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=wE,n.__iterate=function(r,n){var o=this,i=0;return n&&Nk(e),e.__iterate((function(e,a){return r(e,t?a:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&Nk(e);var a=e.__iterator(uj,!o);return new fj((function(){var e=a.next();if(e.done)return e;var l=e.value;return hj(n,t?l[0]:o?r.size-++i:i++,l[1],e)}))},n}function cE(e,t,r,n){var o=xE(e);return n&&(o.has=function(n){var o=e.get(n,Ak);return o!==Ak&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,Ak);return i!==Ak&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,l=0;return e.__iterate((function(e,i,s){if(t.call(r,e,i,s))return l++,o(e,n?i:l-1,a)}),i),l},o.__iteratorUncached=function(o,i){var a=e.__iterator(uj,i),l=0;return new fj((function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,u=s[0],c=s[1];if(t.call(r,c,u,e))return hj(o,n?u:l++,c,i)}}))},o}function dE(e,t,r,n){var o=e.size;if(Mk(t,r,o))return e;if(void 0===o&&(t<0||r<0))return dE(e.toSeq().cacheResult(),t,r,n);var i,a=Dk(t,o),l=Vk(r,o)-a;l==l&&(i=l<0?0:l);var s=xE(e);return s.size=0===i?i:e.size&&i||void 0,!n&&tj(e)&&i>=0&&(s.get=function(t,r){return(t=Fk(this,t))>=0&&t<i?e.get(t+a,r):r}),s.__iterateUncached=function(t,r){var o=this;if(0===i)return 0;if(r)return this.cacheResult().__iterate(t,r);var l=0,s=!0,u=0;return e.__iterate((function(e,r){if(!s||!(s=l++<a))return u++,!1!==t(e,n?r:u-1,o)&&u!==i})),u},s.__iteratorUncached=function(t,r){if(0!==i&&r)return this.cacheResult().__iterator(t,r);if(0===i)return new fj(gj);var o=e.__iterator(t,r),l=0,s=0;return new fj((function(){for(;l++<a;)o.next();if(++s>i)return{value:void 0,done:!0};var e=o.next();return n||t===sj||e.done?e:hj(t,s-1,t===lj?void 0:e.value[1],e)}))},s}function pE(e,t,r,n){var o=xE(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var l=!0,s=0;return e.__iterate((function(e,i,u){if(!l||!(l=t.call(r,e,i,u)))return s++,o(e,n?i:s-1,a)})),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var l=e.__iterator(uj,i),s=!0,u=0;return new fj((function(){var e,i,c;do{if((e=l.next()).done)return n||o===sj?e:hj(o,u++,o===lj?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],s&&(s=t.call(r,c,i,a))}while(s);return o===uj?e:hj(o,i,c,e)}))},o}function fE(e,t,r){var n=xE(e);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,l=!1;return function e(s,u){s.__iterate((function(i,s){return(!t||u<t)&&Uk(i)?e(i,u+1):(a++,!1===o(i,r?s:a-1,n)&&(l=!0)),!l}),i)}(e,0),a},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(n,o),a=[],l=0;return new fj((function(){for(;i;){var e=i.next();if(!1===e.done){var s=e.value;if(n===uj&&(s=s[1]),t&&!(a.length<t)||!Uk(s))return r?e:hj(n,l++,s,e);a.push(i),i=s.__iterator(n,o)}else i=a.pop()}return{value:void 0,done:!0}}))},n}function hE(e,t,r){t||(t=OE);var n=Wk(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).valueSeq().toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?Oj(i):Yk(e)?Sj(i):kj(i)}function gE(e,t,r){if(t||(t=OE),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return vE(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return vE(t,e,r)?r:e}))}function vE(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function mE(e,t,r,n){var o=xE(e),i=new jj(r).map((function(e){return e.size}));return o.size=n?i.max():i.min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(sj,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=Jk(e),yj(o?e.reverse():e)})),a=0,l=!1;return new fj((function(){var r;return l||(r=i.map((function(e){return e.next()})),l=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),l?{value:void 0,done:!0}:hj(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function yE(e,t){return e===t?e:tj(e)?t:e.constructor(t)}function bE(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function _E(e){return Wk(e)?Qk:Yk(e)?Xk:Zk}function xE(e){return Object.create((Wk(e)?Oj:Yk(e)?Sj:kj).prototype)}function wE(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):wj.prototype.cacheResult.call(this)}function OE(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function SE(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function kE(e,t){if(!e)throw new Error(t)}function jE(e){kE(e!==1/0,"Cannot perform this action with an infinite size.")}function EE(e){if(xj(e)&&"string"!=typeof e)return e;if(aj(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}oE.prototype.cacheResult=nE.prototype.cacheResult=iE.prototype.cacheResult=aE.prototype.cacheResult=wE;var CE=Object.prototype.toString;function TE(e){if(!e||"object"!=typeof e||"[object Object]"!==CE.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function qE(e){return"object"==typeof e&&(oj(e)||Array.isArray(e)||TE(e))}function IE(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function AE(e,t){return oj(e)?e.has(t):qE(e)&&_j.call(e,t)}function LE(e,t,r){return oj(e)?e.get(t,r):AE(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function PE(e){if(Array.isArray(e))return SE(e);var t={};for(var r in e)_j.call(e,r)&&(t[r]=e[r]);return t}function NE(e,t){if(!qE(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(oj(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!_j.call(e,t))return e;var r=PE(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function FE(e,t,r){if(!qE(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(oj(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(_j.call(e,t)&&r===e[t])return e;var n=PE(e);return n[t]=r,n}function RE(e,t,r,n){n||(n=r,r=void 0);var o=ME(oj(e),e,EE(t),0,r,n);return o===Ak?r:o}function ME(e,t,r,n,o,i){var a=t===Ak;if(n===r.length){var l=a?o:t,s=i(l);return s===l?t:s}if(!a&&!qE(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(IE)+"]: "+t);var u=r[n],c=a?Ak:LE(t,u,Ak),d=ME(c===Ak?e:oj(c),c,r,n+1,o,i);return d===c?t:d===Ak?NE(t,u):FE(a?e?mC():{}:t,u,d)}function DE(e,t,r){return RE(e,t,Ak,(function(){return r}))}function VE(e,t){return DE(this,e,t)}function zE(e,t){return RE(e,t,(function(){return Ak}))}function BE(e){return zE(this,e)}function HE(e,t,r,n){return RE(e,[t],r,n)}function UE(e,t,r){return 1===arguments.length?e(this):HE(this,e,t,r)}function $E(e,t,r){return RE(this,e,t,r)}function WE(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return YE(this,e)}function KE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return YE(this,t,e)}function YE(e,t,r){for(var n=[],o=0;o<t.length;o++){var i=Qk(t[o]);0!==i.size&&n.push(i)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){HE(e,n,Ak,(function(e){return e===Ak?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},o=0;o<n.length;o++)n[o].forEach(t)})):e.constructor(n[0])}function GE(e,t,r){return JE(e,t,function(e){function t(r,n,o){return qE(r)&&qE(n)&&(i=n,a=wj(r),l=wj(i),Yk(a)===Yk(l)&&Wk(a)===Wk(l))?JE(r,[n],t):e?e(r,n,o):n;var i,a,l}return t}(r))}function JE(e,t,r){if(!qE(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(oj(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),o=e,i=n?Xk:Qk,a=n?function(t){o===e&&(o=PE(o)),o.push(t)}:function(t,n){var i=_j.call(o,n),a=i&&r?r(o[n],t,n):t;i&&a===o[n]||(o===e&&(o=PE(o)),o[n]=a)},l=0;l<t.length;l++)i(t[l]).forEach(a);return o}function QE(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return GE(this,e)}function XE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return GE(this,t,e)}function ZE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return RE(this,e,mC(),(function(e){return JE(e,t)}))}function eC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return RE(this,e,mC(),(function(e){return GE(e,t)}))}function tC(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function rC(){return this.__ownerID?this:this.__ensureOwner(new Pk)}function nC(){return this.__ensureOwner()}function oC(){return this.__altered}var iC=function(e){function t(t){return null==t?mC():Nj(t)&&!aj(t)?t:mC().withMutations((function(r){var n=e(t);jE(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return mC().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return yC(this,e,t)},t.prototype.remove=function(e){return yC(this,e,Ak)},t.prototype.deleteAll=function(e){var t=Jk(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):mC()},t.prototype.sort=function(e){return HC(hE(this,e))},t.prototype.sortBy=function(e,t){return HC(hE(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,e.call(t,o,i,r))}))}))},t.prototype.__iterator=function(e,t){return new fC(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vC(this.size,this._root,e,this.__hash):0===this.size?mC():(this.__ownerID=e,this.__altered=!1,this)},t}(Qk);iC.isMap=Nj;var aC=iC.prototype;aC[Pj]=!0,aC[Ck]=aC.remove,aC.removeAll=aC.deleteAll,aC.setIn=VE,aC.removeIn=aC.deleteIn=BE,aC.update=UE,aC.updateIn=$E,aC.merge=aC.concat=WE,aC.mergeWith=KE,aC.mergeDeep=QE,aC.mergeDeepWith=XE,aC.mergeIn=ZE,aC.mergeDeepIn=eC,aC.withMutations=tC,aC.wasAltered=oC,aC.asImmutable=nC,aC["@@transducer/init"]=aC.asMutable=rC,aC["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},aC["@@transducer/result"]=function(e){return e.asImmutable()};var lC=function(e,t){this.ownerID=e,this.entries=t};lC.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Mj(r,o[i][0]))return o[i][1];return n},lC.prototype.update=function(e,t,r,n,o,i,a){for(var l=o===Ak,s=this.entries,u=0,c=s.length;u<c&&!Mj(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(Lk(a),(l||!d)&&Lk(i),!l||1!==s.length){if(!d&&!l&&s.length>=SC)return function(e,t,r,n){e||(e=new Pk);for(var o=new dC(e,Bj(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,s,n,o);var p=e&&e===this.ownerID,f=p?s:SE(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new lC(e,f)}};var sC=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};sC.prototype.get=function(e,t,r,n){void 0===t&&(t=Bj(r));var o=1<<((0===e?t:t>>>e)&Ik),i=this.bitmap;return 0==(i&o)?n:this.nodes[wC(i&o-1)].get(e+Tk,t,r,n)},sC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Bj(n));var l=(0===t?r:r>>>t)&Ik,s=1<<l,u=this.bitmap,c=0!=(u&s);if(!c&&o===Ak)return this;var d=wC(u&s-1),p=this.nodes,f=c?p[d]:void 0,h=bC(f,e,t+Tk,r,n,o,i,a);if(h===f)return this;if(!c&&h&&p.length>=kC)return function(e,t,r,n,o){for(var i=0,a=new Array(qk),l=0;0!==r;l++,r>>>=1)a[l]=1&r?t[i++]:void 0;return a[n]=o,new uC(e,i+1,a)}(e,p,u,l,h);if(c&&!h&&2===p.length&&_C(p[1^d]))return p[1^d];if(c&&h&&1===p.length&&_C(h))return h;var g=e&&e===this.ownerID,v=c?h?u:u^s:u|s,m=c?h?OC(p,d,h,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,d,g):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,l=0;l<o;l++)l===t?(i[l]=r,a=-1):i[l]=e[l+a];return i}(p,d,h,g);return g?(this.bitmap=v,this.nodes=m,this):new sC(e,v,m)};var uC=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};uC.prototype.get=function(e,t,r,n){void 0===t&&(t=Bj(r));var o=(0===e?t:t>>>e)&Ik,i=this.nodes[o];return i?i.get(e+Tk,t,r,n):n},uC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Bj(n));var l=(0===t?r:r>>>t)&Ik,s=o===Ak,u=this.nodes,c=u[l];if(s&&!c)return this;var d=bC(c,e,t+Tk,r,n,o,i,a);if(d===c)return this;var p=this.count;if(c){if(!d&&--p<jC)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==n&&(o|=s,a[i++]=c)}return new sC(e,o,a)}(e,u,p,l)}else p++;var f=e&&e===this.ownerID,h=OC(u,l,d,f);return f?(this.count=p,this.nodes=h,this):new uC(e,p,h)};var cC=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};cC.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Mj(r,o[i][0]))return o[i][1];return n},cC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Bj(n));var l=o===Ak;if(r!==this.keyHash)return l?this:(Lk(a),Lk(i),xC(this,e,t,r,[n,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!Mj(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(Lk(a),(l||!d)&&Lk(i),l&&2===c)return new dC(e,this.keyHash,s[1^u]);var p=e&&e===this.ownerID,f=p?s:SE(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new cC(e,this.keyHash,f)};var dC=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};dC.prototype.get=function(e,t,r,n){return Mj(r,this.entry[0])?this.entry[1]:n},dC.prototype.update=function(e,t,r,n,o,i,a){var l=o===Ak,s=Mj(n,this.entry[0]);return(s?o===this.entry[1]:l)?this:(Lk(a),l?void Lk(i):s?e&&e===this.ownerID?(this.entry[1]=o,this):new dC(e,this.keyHash,[n,o]):(Lk(i),xC(this,e,t,Bj(n),[n,o])))},lC.prototype.iterate=cC.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},sC.prototype.iterate=uC.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},dC.prototype.iterate=function(e,t){return e(this.entry)};var pC,fC=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&gC(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,o=void 0;if(r.entry){if(0===n)return hC(e,r.entry)}else if(r.entries){if(n<=(o=r.entries.length-1))return hC(e,r.entries[this._reverse?o-n:n])}else if(n<=(o=r.nodes.length-1)){var i=r.nodes[this._reverse?o-n:n];if(i){if(i.entry)return hC(e,i.entry);t=this._stack=gC(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(fj);function hC(e,t){return hj(e,t[0],t[1])}function gC(e,t){return{node:e,index:0,__prev:t}}function vC(e,t,r,n){var o=Object.create(aC);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function mC(){return pC||(pC=vC(0))}function yC(e,t,r){var n,o;if(e._root){var i={value:!1},a={value:!1};if(n=bC(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===Ak?-1:1:0)}else{if(r===Ak)return e;o=1,n=new lC(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?vC(o,n):mC()}function bC(e,t,r,n,o,i,a,l){return e?e.update(t,r,n,o,i,a,l):i===Ak?e:(Lk(l),Lk(a),new dC(t,n,[o,i]))}function _C(e){return e.constructor===dC||e.constructor===cC}function xC(e,t,r,n,o){if(e.keyHash===n)return new cC(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&Ik,l=(0===r?n:n>>>r)&Ik,s=a===l?[xC(e,t,r+Tk,n,o)]:(i=new dC(t,n,o),a<l?[e,i]:[i,e]);return new sC(t,1<<a|1<<l,s)}function wC(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function OC(e,t,r,n){var o=n?e:SE(e);return o[t]=r,o}var SC=qk/4,kC=qk/2,jC=qk/4,EC="@@__IMMUTABLE_LIST__@@";function CC(e){return Boolean(e&&e[EC])}var TC=function(e){function t(t){var r=FC();if(null==t)return r;if(CC(t))return t;var n=e(t),o=n.size;return 0===o?r:(jE(o),o>0&&o<qk?NC(0,o,Tk,null,new IC(n.toArray())):r.withMutations((function(e){e.setSize(o),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=Fk(this,e))>=0&&e<this.size){var r=DC(this,e+=this._origin);return r&&r.array[e&Ik]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=Fk(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?VC(e,t).set(0,r):VC(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i={value:!1};t>=zC(e._capacity)?n=RC(n,e.__ownerID,0,t,r,i):o=RC(o,e.__ownerID,e._level,t,r,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return NC(e._origin,e._capacity,e._level,o,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Tk,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):FC()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){VC(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return VC(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){VC(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return VC(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var o=t[n],i=e("string"!=typeof o&&vj(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return VC(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,e.call(t,n.get(o),o,r))}))},t.prototype.slice=function(e,t){var r=this.size;return Mk(e,t,r)?this:VC(this,Dk(e,r),Vk(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=PC(this,t);return new fj((function(){var o=n();return o===LC?{value:void 0,done:!0}:hj(e,t?--r:r++,o)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,o=PC(this,t);(r=o())!==LC&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?NC(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?FC():(this.__ownerID=e,this.__altered=!1,this)},t}(Xk);TC.isList=CC;var qC=TC.prototype;qC[EC]=!0,qC[Ck]=qC.remove,qC.merge=qC.concat,qC.setIn=VE,qC.deleteIn=qC.removeIn=BE,qC.update=UE,qC.updateIn=$E,qC.mergeIn=ZE,qC.mergeDeepIn=eC,qC.withMutations=tC,qC.wasAltered=oC,qC.asImmutable=nC,qC["@@transducer/init"]=qC.asMutable=rC,qC["@@transducer/step"]=function(e,t){return e.push(t)},qC["@@transducer/result"]=function(e){return e.asImmutable()};var IC=function(e,t){this.array=e,this.ownerID=t};IC.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&Ik;if(n>=this.array.length)return new IC([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-Tk,r))===a&&i)return this}if(i&&!o)return this;var l=MC(this,e);if(!i)for(var s=0;s<n;s++)l.array[s]=void 0;return o&&(l.array[n]=o),l},IC.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&Ik;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-Tk,r))===i&&o===this.array.length-1)return this}var a=MC(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var AC,LC={};function PC(e,t){var r=e._origin,n=e._capacity,o=zC(n),i=e._tail;return a(e._root,e._level,0);function a(e,l,s){return 0===l?function(e,a){var l=a===o?i&&i.array:e&&e.array,s=a>r?0:r-a,u=n-a;u>qk&&(u=qk);return function(){if(s===u)return LC;var e=t?--u:s++;return l&&l[e]}}(e,s):function(e,o,i){var l,s=e&&e.array,u=i>r?0:r-i>>o,c=1+(n-i>>o);c>qk&&(c=qk);return function(){for(;;){if(l){var e=l();if(e!==LC)return e;l=null}if(u===c)return LC;var r=t?--c:u++;l=a(s&&s[r],o-Tk,i+(r<<o))}}}(e,l,s)}}function NC(e,t,r,n,o,i,a){var l=Object.create(qC);return l.size=t-e,l._origin=e,l._capacity=t,l._level=r,l._root=n,l._tail=o,l.__ownerID=i,l.__hash=a,l.__altered=!1,l}function FC(){return AC||(AC=NC(0,0,Tk))}function RC(e,t,r,n,o,i){var a,l=n>>>r&Ik,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(r>0){var u=e&&e.array[l],c=RC(u,t,r-Tk,n,o,i);return c===u?e:((a=MC(e,t)).array[l]=c,a)}return s&&e.array[l]===o?e:(i&&Lk(i),a=MC(e,t),void 0===o&&l===a.array.length-1?a.array.pop():a.array[l]=o,a)}function MC(e,t){return t&&e&&t===e.ownerID?e:new IC(e?e.array.slice():[],t)}function DC(e,t){if(t>=zC(e._capacity))return e._tail;if(t<1<<e._level+Tk){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Ik],n-=Tk;return r}}function VC(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new Pk,o=e._origin,i=e._capacity,a=o+t,l=void 0===r?i:r<0?i+r:o+r;if(a===o&&l===i)return e;if(a>=l)return e.clear();for(var s=e._level,u=e._root,c=0;a+c<0;)u=new IC(u&&u.array.length?[void 0,u]:[],n),c+=1<<(s+=Tk);c&&(a+=c,o+=c,l+=c,i+=c);for(var d=zC(i),p=zC(l);p>=1<<s+Tk;)u=new IC(u&&u.array.length?[u]:[],n),s+=Tk;var f=e._tail,h=p<d?DC(e,l-1):p>d?new IC([],n):f;if(f&&p>d&&a<i&&f.array.length){for(var g=u=MC(u,n),v=s;v>Tk;v-=Tk){var m=d>>>v&Ik;g=g.array[m]=MC(g.array[m],n)}g.array[d>>>Tk&Ik]=f}if(l<i&&(h=h&&h.removeAfter(n,0,l)),a>=p)a-=p,l-=p,s=Tk,u=null,h=h&&h.removeBefore(n,0,a);else if(a>o||p<d){for(c=0;u;){var y=a>>>s&Ik;if(y!==p>>>s&Ik)break;y&&(c+=(1<<s)*y),s-=Tk,u=u.array[y]}u&&a>o&&(u=u.removeBefore(n,s,a-c)),u&&p<d&&(u=u.removeAfter(n,s,p-c)),c&&(a-=c,l-=c)}return e.__ownerID?(e.size=l-a,e._origin=a,e._capacity=l,e._level=s,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):NC(a,l,s,u,h)}function zC(e){return e<qk?0:e-1>>>Tk<<Tk}var BC,HC=function(e){function t(e){return null==e?$C():Fj(e)?e:$C().withMutations((function(t){var r=Qk(e);jE(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):$C()},t.prototype.set=function(e,t){return WC(this,e,t)},t.prototype.remove=function(e){return WC(this,e,Ak)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?UC(t,r,e,this.__hash):0===this.size?$C():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(iC);function UC(e,t,r,n){var o=Object.create(HC.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function $C(){return BC||(BC=UC(mC(),FC()))}function WC(e,t,r){var n,o,i=e._map,a=e._list,l=i.get(t),s=void 0!==l;if(r===Ak){if(!s)return e;a.size>=qk&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&l!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(r===a.get(l)[1])return e;n=i,o=a.set(l,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e.__altered=!0,e):UC(n,o)}HC.isOrderedMap=Fj,HC.prototype[ij]=!0,HC.prototype[Ck]=HC.prototype.remove;var KC="@@__IMMUTABLE_STACK__@@";function YC(e){return Boolean(e&&e[KC])}var GC=function(e){function t(e){return null==e?ZC():YC(e)?e:ZC().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=Fk(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):XC(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&YC(t))return t;jE(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):XC(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):ZC()},t.prototype.slice=function(t,r){if(Mk(t,r,this.size))return this;var n=Dk(t,this.size);if(Vk(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):XC(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?XC(this.size,this._head,e,this.__hash):0===this.size?ZC():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new jj(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,o=this._head;o&&!1!==e(o.value,n++,this);)o=o.next;return n},t.prototype.__iterator=function(e,t){if(t)return new jj(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new fj((function(){if(n){var t=n.value;return n=n.next,hj(e,r++,t)}return{value:void 0,done:!0}}))},t}(Xk);GC.isStack=YC;var JC,QC=GC.prototype;function XC(e,t,r,n){var o=Object.create(QC);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function ZC(){return JC||(JC=XC(0))}QC[KC]=!0,QC.shift=QC.pop,QC.unshift=QC.push,QC.unshiftAll=QC.pushAll,QC.withMutations=tC,QC.wasAltered=oC,QC.asImmutable=nC,QC["@@transducer/init"]=QC.asMutable=rC,QC["@@transducer/step"]=function(e,t){return e.unshift(t)},QC["@@transducer/result"]=function(e){return e.asImmutable()};var eT="@@__IMMUTABLE_SET__@@";function tT(e){return Boolean(e&&e[eT])}function rT(e){return tT(e)&&aj(e)}function nT(e,t){if(e===t)return!0;if(!Uk(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||Wk(e)!==Wk(t)||Yk(e)!==Yk(t)||aj(e)!==aj(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!Gk(e);if(aj(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&Mj(o[1],e)&&(r||Mj(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,l=t.__iterate((function(t,n){if(r?!e.has(t):o?!Mj(t,e.get(n,Ak)):!Mj(e.get(n,Ak),t))return a=!1,!1}));return a&&e.size===l}function oT(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function iT(e){if(!e||"object"!=typeof e)return e;if(!Uk(e)){if(!qE(e))return e;e=wj(e)}if(Wk(e)){var t={};return e.__iterate((function(e,r){t[r]=iT(e)})),t}var r=[];return e.__iterate((function(e){r.push(iT(e))})),r}var aT=function(e){function t(t){return null==t?dT():tT(t)&&!aj(t)?t:dT().withMutations((function(r){var n=e(t);jE(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Qk(e).keySeq())},t.intersect=function(e){return(e=Jk(e).toArray()).length?sT.intersect.apply(t(e.pop()),e):dT()},t.union=function(e){return(e=Jk(e).toArray()).length?sT.union.apply(t(e.pop()),e):dT()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return uT(this,this._map.set(e,e))},t.prototype.remove=function(e){return uT(this,this._map.remove(e))},t.prototype.clear=function(){return uT(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,o=uT(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,r);return a!==i&&(n=!0),[a,a]}),t));return n?o:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return qT(hE(this,e))},t.prototype.sortBy=function(e,t){return qT(hE(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Zk);aT.isSet=tT;var lT,sT=aT.prototype;function uT(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function cT(e,t){var r=Object.create(sT);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function dT(){return lT||(lT=cT(mC()))}sT[eT]=!0,sT[Ck]=sT.remove,sT.merge=sT.concat=sT.union,sT.withMutations=tC,sT.asImmutable=nC,sT["@@transducer/init"]=sT.asMutable=rC,sT["@@transducer/step"]=function(e,t){return e.add(t)},sT["@@transducer/result"]=function(e){return e.asImmutable()},sT.__empty=dT,sT.__make=cT;var pT,fT=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(kE(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(pT)return pT;pT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+Fk(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return Mk(e,r,this.size)?this:(e=Dk(e,this.size),(r=Vk(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==e(o,t?r-++i:i++,this);)o+=t?-n:n;return i},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;return new fj((function(){if(i===r)return{value:void 0,done:!0};var a=o;return o+=t?-n:n,hj(e,t?r-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:nT(this,e)},t}(Sj);function hT(e,t,r){for(var n=EE(t),o=0;o!==n.length;)if((e=LE(e,n[o++],Ak))===Ak)return r;return e}function gT(e,t){return hT(this,e,t)}function vT(e,t){return hT(e,t,Ak)!==Ak}function mT(){jE(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}Jk.isIterable=Uk,Jk.isKeyed=Wk,Jk.isIndexed=Yk,Jk.isAssociative=Gk,Jk.isOrdered=aj,Jk.Iterator=fj,oT(Jk,{toArray:function(){jE(this.size);var e=new Array(this.size||0),t=Wk(this),r=0;return this.__iterate((function(n,o){e[r++]=t?[o,n]:n})),e},toIndexedSeq:function(){return new oE(this)},toJS:function(){return iT(this)},toKeyedSeq:function(){return new nE(this,!0)},toMap:function(){return iC(this.toKeyedSeq())},toObject:mT,toOrderedMap:function(){return HC(this.toKeyedSeq())},toOrderedSet:function(){return qT(Wk(this)?this.valueSeq():this)},toSet:function(){return aT(Wk(this)?this.valueSeq():this)},toSetSeq:function(){return new iE(this)},toSeq:function(){return Yk(this)?this.toIndexedSeq():Wk(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return GC(Wk(this)?this.valueSeq():this)},toList:function(){return TC(Wk(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return yE(this,function(e,t){var r=Wk(e),n=[e].concat(t).map((function(e){return Uk(e)?r&&(e=Qk(e)):e=r?Ij(e):Aj(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var o=n[0];if(o===e||r&&Wk(o)||Yk(e)&&Yk(o))return o}var i=new jj(n);return r?i=i.toKeyedSeq():Yk(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),i}(this,e))},includes:function(e){return this.some((function(t){return Mj(t,e)}))},entries:function(){return this.__iterator(uj)},every:function(e,t){jE(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return yE(this,cE(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=Wk(e),o=[[],[]];e.__iterate((function(i,a){o[t.call(r,i,a,e)?1:0].push(n?[a,i]:i)}));var i=_E(e);return o.map((function(t){return yE(e,i(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return jE(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){jE(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(lj)},map:function(e,t){return yE(this,sE(this,e,t))},reduce:function(e,t,r){return wT(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return wT(this,e,t,r,arguments.length<2,!0)},reverse:function(){return yE(this,uE(this,!0))},slice:function(e,t){return yE(this,dE(this,e,t,!0))},some:function(e,t){jE(this.size);var r=!1;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=!0,!1})),r},sort:function(e){return yE(this,hE(this,e))},values:function(){return this.__iterator(sj)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return Nk(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=iC().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return nT(this,e)},entrySeq:function(){var e=this;if(e._cache)return new jj(e._cache);var t=e.toSeq().map(ST).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(kT(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(Rk,null,e)},flatMap:function(e,t){return yE(this,function(e,t,r){var n=_E(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return yE(this,fE(this,e,!0))},fromEntrySeq:function(){return new aE(this)},get:function(e,t){return this.find((function(t,r){return Mj(r,e)}),void 0,t)},getIn:gT,groupBy:function(e,t){return function(e,t,r){var n=Wk(e),o=(aj(e)?HC():iC()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=_E(e);return o.map((function(t){return yE(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,Ak)!==Ak},hasIn:function(e){return vT(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:Jk(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Jk(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return Mj(t,e)}))},keySeq:function(){return this.toSeq().map(OT).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return gE(this,e)},maxBy:function(e,t){return gE(this,t,e)},min:function(e){return gE(this,e?jT(e):CT)},minBy:function(e,t){return gE(this,t?jT(t):CT,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return yE(this,pE(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(kT(e),t)},sortBy:function(e,t){return yE(this,hE(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return yE(this,function(e,t,r){var n=xE(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,l){return t.call(r,e,o,l)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(uj,o),l=!0;return new fj((function(){if(!l)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(r,u,s,i)?n===uj?e:hj(n,s,u,e):(l=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(kT(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=aj(e),r=Wk(e),n=t?1:0;return function(e,t){return t=Dj(t,3432918353),t=Dj(t<<15|t>>>-15,461845907),t=Dj(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Dj(t^t>>>16,2246822507),t=Dj(t^t>>>13,3266489909),t=Vj(t^t>>>16),t}(e.__iterate(r?t?function(e,t){n=31*n+TT(Bj(e),Bj(t))|0}:function(e,t){n=n+TT(Bj(e),Bj(t))|0}:t?function(e){n=31*n+Bj(e)|0}:function(e){n=n+Bj(e)|0}),n)}(this))}});var yT=Jk.prototype;yT[Hk]=!0,yT[pj]=yT.values,yT.toJSON=yT.toArray,yT.__toStringMapper=IE,yT.inspect=yT.toSource=function(){return this.toString()},yT.chain=yT.flatMap,yT.contains=yT.includes,oT(Qk,{flip:function(){return yE(this,lE(this))},mapEntries:function(e,t){var r=this,n=0;return yE(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return yE(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var bT=Qk.prototype;bT[$k]=!0,bT[pj]=yT.entries,bT.toJSON=mT,bT.__toStringMapper=function(e,t){return IE(t)+": "+IE(e)},oT(Xk,{toKeyedSeq:function(){return new nE(this,!1)},filter:function(e,t){return yE(this,cE(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return yE(this,uE(this,!1))},slice:function(e,t){return yE(this,dE(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=Dk(e,e<0?this.count():this.size);var n=this.slice(0,e);return yE(this,1===r?n:n.concat(SE(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return yE(this,fE(this,e,!1))},get:function(e,t){return(e=Fk(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=Fk(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return yE(this,function(e,t){var r=xE(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(sj,n),a=0;return new fj((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?hj(r,a++,t):hj(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(SE(arguments)),t=mE(this.toSeq(),Sj.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),yE(this,r)},keySeq:function(){return fT(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return yE(this,pE(this,e,t,!1))},zip:function(){return yE(this,mE(this,ET,[this].concat(SE(arguments))))},zipAll:function(){return yE(this,mE(this,ET,[this].concat(SE(arguments)),!0))},zipWith:function(e){var t=SE(arguments);return t[0]=this,yE(this,mE(this,e,t))}});var _T=Xk.prototype;_T[Kk]=!0,_T[ij]=!0,oT(Zk,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var xT=Zk.prototype;function wT(e,t,r,n,o,i){return jE(e.size),e.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),i),r}function OT(e,t){return t}function ST(e,t){return[t,e]}function kT(e){return function(){return!e.apply(this,arguments)}}function jT(e){return function(){return-e.apply(this,arguments)}}function ET(){return SE(arguments)}function CT(e,t){return e<t?1:e>t?-1:0}function TT(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}xT.has=yT.includes,xT.contains=xT.includes,xT.keys=xT.values,oT(Oj,bT),oT(Sj,_T),oT(kj,xT);var qT=function(e){function t(e){return null==e?PT():rT(e)?e:PT().withMutations((function(t){var r=Zk(e);jE(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Qk(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(aT);qT.isOrderedSet=rT;var IT,AT=qT.prototype;function LT(e,t){var r=Object.create(AT);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function PT(){return IT||(IT=LT($C()))}AT[ij]=!0,AT.zip=_T.zip,AT.zipWith=_T.zipWith,AT.zipAll=_T.zipAll,AT.__empty=PT,AT.__make=LT;var NT=function(e,t){var r;!function(e){if(nj(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(oj(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(i){var a=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var l=Object.keys(e),s=o._indices={};o._name=t,o._keys=l,o._defaultValues=e;for(var u=0;u<l.length;u++){var c=l[u];s[c]=u,o[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+MT(this)+' with property "'+c+'" since that property name is part of the Record API.'):VT(o,c)}}return this.__ownerID=void 0,this._values=TC().withMutations((function(e){e.setSize(a._keys.length),Qk(i).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},o=n.prototype=Object.create(FT);return o.constructor=n,t&&(n.displayName=t),n};NT.prototype.toString=function(){for(var e,t=MT(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)t+=(n?", ":"")+(e=r[n])+": "+IE(this.get(e));return t+" }"},NT.prototype.equals=function(e){return this===e||nj(e)&&DT(this).equals(DT(e))},NT.prototype.hashCode=function(){return DT(this).hashCode()},NT.prototype.has=function(e){return this._indices.hasOwnProperty(e)},NT.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},NT.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return RT(this,r)}return this},NT.prototype.remove=function(e){return this.set(e)},NT.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:RT(this,e)},NT.prototype.wasAltered=function(){return this._values.wasAltered()},NT.prototype.toSeq=function(){return DT(this)},NT.prototype.toJS=function(){return iT(this)},NT.prototype.entries=function(){return this.__iterator(uj)},NT.prototype.__iterator=function(e,t){return DT(this).__iterator(e,t)},NT.prototype.__iterate=function(e,t){return DT(this).__iterate(e,t)},NT.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?RT(this,t,e):(this.__ownerID=e,this._values=t,this)},NT.isRecord=nj,NT.getDescriptiveName=MT;var FT=NT.prototype;function RT(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function MT(e){return e.constructor.displayName||e.constructor.name||"Record"}function DT(e){return Ij(e._keys.map((function(t){return[t,e.get(t)]})))}function VT(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){kE(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(r){}}FT[rj]=!0,FT[Ck]=FT.remove,FT.deleteIn=FT.removeIn=BE,FT.getIn=gT,FT.hasIn=yT.hasIn,FT.merge=WE,FT.mergeWith=KE,FT.mergeIn=ZE,FT.mergeDeep=QE,FT.mergeDeepWith=XE,FT.mergeDeepIn=eC,FT.setIn=VE,FT.update=UE,FT.updateIn=$E,FT.withMutations=tC,FT.asMutable=rC,FT.asImmutable=nC,FT[pj]=FT.entries,FT.toJSON=FT.toObject=yT.toObject,FT.inspect=FT.toSource=function(){return this.toString()};var zT,BT=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(zT)return zT;zT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return Mj(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return Mk(e,r,n)?this:new t(this._value,Vk(r,n)-Dk(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return Mj(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return Mj(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,o=0;return new fj((function(){return o===n?{value:void 0,done:!0}:hj(e,t?n-++o:o++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?Mj(this._value,e._value):nT(this,e)},t}(Sj);function HT(e,t){return UT([],t||$T,e,"",t&&t.length>2?[]:void 0,{"":e})}function UT(e,t,r,n,o,i){if("string"!=typeof r&&!oj(r)&&(xj(r)||vj(r)||TE(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),o&&""!==n&&o.push(n);var a=t.call(i,n,wj(r).map((function(n,i){return UT(e,t,n,i,o,r)})),o&&o.slice());return e.pop(),o&&o.pop(),a}return r}function $T(e,t){return Yk(t)?t.toList():Wk(t)?t.toMap():t.toSet()}var WT={version:"4.3.7",Collection:Jk,Iterable:Jk,Seq:wj,Map:iC,OrderedMap:HC,List:TC,Stack:GC,Set:aT,OrderedSet:qT,PairSorting:{LeftThenRight:-1,RightThenLeft:1},Record:NT,Range:fT,Repeat:BT,is:Mj,fromJS:HT,hash:Bj,isImmutable:oj,isCollection:Uk,isKeyed:Wk,isIndexed:Yk,isAssociative:Gk,isOrdered:aj,isValueObject:Rj,isPlainObject:TE,isSeq:tj,isList:CC,isMap:Nj,isOrderedMap:Fj,isStack:YC,isSet:tT,isOrderedSet:rT,isRecord:nj,get:LE,getIn:hT,has:AE,hasIn:vT,merge:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return JE(e,t)},mergeDeep:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return GE(e,t)},mergeWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return JE(t,r,e)},mergeDeepWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return GE(t,r,e)},remove:NE,removeIn:zE,set:FE,setIn:DE,update:HE,updateIn:RE},KT=0;const YT=function(){var e=((new Date).getTime().toString(16)+"FF").substr(0,11),t="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,(function(e){var t="s"===e?Math.floor(16*Math.random()):15&KT++;return("x"===e?t:3&t|8).toString(16)}));return t+e};var GT={};function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var QT=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],XT=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],ZT=function(e){return"object"===_(e)&&null!==e&&"[object Object]"===Object.prototype.toString.call(e)},eq=function(e){if("object"===_(e)&&null!==e){if(Array.isArray(e))return Ek(e);if(ZT(e))return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JT(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}return e},tq=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var r=bt(e,1)[0];return!t.includes(r)})))},rq=function(e){var t;return null!==(t=null==e?void 0:e.cardinality)&&void 0!==t?t:1},nq=function(e,t){return e===t||(iC.isMap(e)?e.equals(t):JSON.stringify(e)==JSON.stringify(t))},oq=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?oq(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):iC.isMap(e)?e.equals(t):"object"==_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?oq(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var iq=function(e){return"object"===_(e)&&null!==e&&"function"==typeof e.toJS},aq=function(e){return iq(e)&&WT.isList(e)};function lq(e){return aq(e)?e:new WT.List(e)}function sq(e){return iq(e)?e.toJS():e}var uq=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},cq=function(e,t,r,n,o,i){if(Array.isArray(e))return t},dq=function e(t){var r;if(t instanceof Array)return t.map((function(t,r){return e(t)}));if("object"===_(t)&&null!==t&&pq(t)){var n,o=tq(t,["$$typeof","_owner","_store","ref","key"]);return o.type&&(o.type="string"==typeof(r=o.type)?r:"function"==typeof r?r.name:r),null!=o&&null!==(n=o.props)&&void 0!==n&&n.children&&(o.props.children=e(o.props.children)),o}return t},pq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},fq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&"string"==typeof e.type&&Object.keys(e).includes("props")},hq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length};function gq(e){return new Promise((function(t){setTimeout(t,e)}))}function vq(e,t){return e||(e=[]),t||(t=[]),t.map((function(t){return[t,e.indexOf(t)]})).map((function(e,t,r){var n=bt(e,2),o=n[0];if(-1==n[1]){var i=r.slice(t+1),a=r.slice(0,t).reverse().find((function(e){var t=bt(e,2);return t[0],-1!=t[1]})),l=i.find((function(e){var t=bt(e,2);return t[0],-1!=t[1]}));return l?[o,"before",l[0]]:a?[o,"after",a[0]]:[o,"append",null]}return null})).filter((function(e){return null!==e})).reduce((function(e,t){var r=bt(t,3),n=r[0],o=r[1],i=r[2],a=e.indexOf(i);return-1==e.indexOf(n)&&(a>-1?e.splice(a+("after"==o?1:0),0,n):e.splice("append"==o?1/0:0,0,n)),e}),e.slice())}var mq=function e(t){"object"!==_(t)||null===t||pq(t)||(Object.keys(t).forEach((function(r){"__cache"!==r&&e(t[r])})),Object.freeze(t))},yq=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(ZT(t)){if(t.var)return n[t.var]=r,!0;if(!ZT(r))return!1;for(var i in t){if(!e(t[i],r[i],n,[].concat(Ek(o),[i])))return!1}return!0}if(Array.isArray(t)){if(!Array.isArray(r))return!1;for(var a=0;a<t.length;a++){if(!e(t[a],r[a],n,[].concat(Ek(o),[a])))return!1}return!0}return t===r},bq=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&GT&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},_q=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0;r<t.length;r++){var n=t[r];if(void 0!==n){e=n;break}}return e},xq=bq();const wq=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:sq,cleanJSX:dq,deepEqual:nq,deepFreeze:mq,escapeRegExp:uq,getFirstDefined:_q,getLogger:bq,getOpCardinality:rq,isDirtyJSX:pq,isImmutable:iq,isImmutableList:aq,isJSX:fq,isJsonCompatible:yq,isJsonLogic:hq,isObject:ZT,logger:xq,mergeArraysSmart:vq,mergeCustomizerNoArrays:cq,omit:tq,opDefKeysToOmit:XT,shallowCopy:eq,shallowEqual:oq,sleep:gq,toImmutableList:lq,uuid:YT,widgetDefKeysToOmit:QT},Symbol.toStringTag,{value:"Module"}));var Oq={exports:{}},Sq={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Sq);var kq=Sq.exports;!function(e){var t=kq.default;function r(){e.exports=r=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(n){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(n||[]);return l(i,"_invoke",{value:T(e,r,a)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=f;var g="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function _(){}function x(){}function w(){}var O={};p(O,u,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(P([])));k&&k!==i&&a.call(k,u)&&(O=k);var j=w.prototype=_.prototype=Object.create(O);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,r){function n(o,i,l,s){var u=h(e[o],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):r.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(u.arg)}var o;l(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,t,r){var o=g;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=q(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=h(e,t,r);if("normal"===u.type){if(o=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function q(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,q(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=w,l(j,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},o.awrap=function(e){return{__await:e}},E(C.prototype),p(C.prototype,c,(function(){return this})),o.AsyncIterator=C,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new C(f(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),p(j,d,"Generator"),p(j,u,(function(){return this})),p(j,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},o.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Oq);var jq=(0,Oq.exports)(),Eq=jq;try{regeneratorRuntime=jq}catch(k9){"object"==typeof globalThis?globalThis.regeneratorRuntime=jq:Function("r","regeneratorRuntime = r")(jq)}const Cq=g(Eq);var Tq=aa,qq=es;var Iq=function(e){return"symbol"==typeof e||qq(e)&&"[object Symbol]"==Tq(e)},Aq=Bl,Lq=Iq,Pq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nq=/^\w*$/;var Fq=function(e,t){if(Aq(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Lq(e))||(Nq.test(e)||!Pq.test(e)||null!=t&&e in Object(t))},Rq=ul;function Mq(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Mq.Cache||Rq),r}Mq.Cache=Rq;var Dq=Mq;var Vq=function(e){var t=Dq(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},zq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bq=/\\(\\)?/g,Hq=Vq((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zq,(function(e,r,n,o){t.push(n?o.replace(Bq,"$1"):r||e)})),t}));var Uq=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},$q=Uq,Wq=Bl,Kq=Iq,Yq=Gi?Gi.prototype:void 0,Gq=Yq?Yq.toString:void 0;var Jq=function e(t){if("string"==typeof t)return t;if(Wq(t))return $q(t,e)+"";if(Kq(t))return Gq?Gq.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},Qq=Jq;var Xq=function(e){return null==e?"":Qq(e)},Zq=Bl,eI=Fq,tI=Hq,rI=Xq;var nI=function(e,t){return Zq(e)?e:eI(e,t)?[e]:tI(rI(e))},oI=Iq;var iI=function(e){if("string"==typeof e||oI(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},aI=nI,lI=iI;var sI=function(e,t){for(var r=0,n=(t=aI(t,e)).length;null!=e&&r<n;)e=e[lI(t[r++])];return r&&r==n?e:void 0},uI=Ta,cI=function(){try{var e=uI(Object,"defineProperty");return e({},"",{}),e}catch(ln){}}(),dI=cI,pI=dI;var fI=function(e,t,r){"__proto__"==t&&pI?pI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},hI=fI,gI=wi,vI=Object.prototype.hasOwnProperty;var mI=function(e,t,r){var n=e[t];vI.call(e,t)&&gI(n,r)&&(void 0!==r||t in e)||hI(e,t,r)},yI=mI,bI=nI,_I=hs,xI=la,wI=iI;var OI=function(e,t,r,n){if(!xI(e))return e;for(var o=-1,i=(t=bI(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=wI(t[o]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=n?n(c,s,l):void 0)&&(u=xI(c)?c:_I(t[o+1])?[]:{})}yI(l,s,u),l=l[s]}return e},SI=sI,kI=OI,jI=nI;var EI=function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],l=SI(e,a);r(l,a)&&kI(i,jI(a,e),l)}return i};var CI=nI,TI=us,qI=Bl,II=hs,AI=gs,LI=iI;var PI=function(e,t,r){for(var n=-1,o=(t=CI(t,e)).length,i=!1;++n<o;){var a=LI(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&AI(o)&&II(a,o)&&(qI(e)||TI(e))},NI=function(e,t){return null!=e&&t in Object(e)},FI=PI;var RI=function(e,t){return null!=e&&FI(e,t,NI)},MI=EI,DI=RI;var VI=function(e,t){return MI(e,t,(function(t,r){return DI(e,r)}))},zI=us,BI=Bl,HI=Gi?Gi.isConcatSpreadable:void 0;var UI=zl,$I=function(e){return BI(e)||zI(e)||!!(HI&&e&&e[HI])};var WI=function e(t,r,n,o,i){var a=-1,l=t.length;for(n||(n=$I),i||(i=[]);++a<l;){var s=t[a];r>0&&n(s)?r>1?e(s,r-1,n,o,i):UI(i,s):o||(i[i.length]=s)}return i},KI=WI;var YI=function(e){return(null==e?0:e.length)?KI(e,1):[]};var GI=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},JI=GI,QI=Math.max;var XI=function(e,t,r){return t=QI(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=QI(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),JI(e,this,l)}};var ZI=function(e){return e},eA=function(e){return function(){return e}},tA=dI,rA=tA?function(e,t){return tA(e,"toString",{configurable:!0,enumerable:!1,value:eA(t),writable:!0})}:ZI,nA=rA,oA=Date.now;var iA=function(e){var t=0,r=0;return function(){var n=oA(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},aA=iA(nA),lA=YI,sA=XI,uA=aA;var cA=function(e){return uA(sA(e,void 0,lA),e+"")},dA=VI,pA=cA((function(e,t){return null==e?{}:dA(e,t)}));const fA=g(pA);var hA=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const gA=g(hA);var vA=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},mA=mI,yA=fI;var bA=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),o?yA(r,l,s):mA(r,l,s)}return r},_A=bA,xA=Gs;var wA=function(e,t){return e&&_A(t,xA(t),e)};var OA=la,SA=Rs,kA=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},jA=Object.prototype.hasOwnProperty;var EA=Ns,CA=function(e){if(!OA(e))return kA(e);var t=SA(e),r=[];for(var n in e)("constructor"!=n||!t&&jA.call(e,n))&&r.push(n);return r},TA=$s;var qA=function(e){return TA(e)?EA(e,!0):CA(e)},IA=bA,AA=qA;var LA=function(e,t){return e&&IA(t,AA(t),e)},PA={exports:{}};!function(e,t){var r=Yi,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(PA,PA.exports);var NA=PA.exports;var FA=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},RA=bA,MA=Xl;var DA=function(e,t){return RA(e,MA(e),t)},VA=Ms(Object.getPrototypeOf,Object),zA=zl,BA=VA,HA=Xl,UA=Kl,$A=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)zA(t,HA(e)),e=BA(e);return t}:UA,WA=bA,KA=$A;var YA=function(e,t){return WA(e,KA(e),t)},GA=$l,JA=$A,QA=qA;var XA=function(e){return GA(e,QA,JA)},ZA=Object.prototype.hasOwnProperty;var eL=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ZA.call(e,"index")&&(r.index=e.index,r.input=e.input),r},tL=ql;var rL=function(e){var t=new e.constructor(e.byteLength);return new tL(t).set(new tL(e)),t},nL=rL;var oL=function(e,t){var r=t?nL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},iL=/\w*$/;var aL=function(e){var t=new e.constructor(e.source,iL.exec(e));return t.lastIndex=e.lastIndex,t},lL=Gi?Gi.prototype:void 0,sL=lL?lL.valueOf:void 0;var uL=rL;var cL=function(e,t){var r=t?uL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},dL=rL,pL=oL,fL=aL,hL=function(e){return sL?Object(sL.call(e)):{}},gL=cL;var vL=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return dL(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return pL(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gL(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return fL(e);case"[object Symbol]":return hL(e)}},mL=la,yL=Object.create,bL=function(){function e(){}return function(t){if(!mL(t))return{};if(yL)return yL(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_L=bL,xL=VA,wL=Rs;var OL=function(e){return"function"!=typeof e.constructor||wL(e)?{}:_L(xL(e))},SL=wu,kL=es;var jL=function(e){return kL(e)&&"[object Map]"==SL(e)},EL=xs,CL=Os&&Os.isMap,TL=CL?EL(CL):jL,qL=wu,IL=es;var AL=function(e){return IL(e)&&"[object Set]"==qL(e)},LL=xs,PL=Os&&Os.isSet,NL=PL?LL(PL):AL,FL=_l,RL=vA,ML=mI,DL=wA,VL=LA,zL=NA,BL=FA,HL=DA,UL=YA,$L=eu,WL=XA,KL=wu,YL=eL,GL=vL,JL=OL,QL=Bl,XL=ps,ZL=TL,eP=la,tP=NL,rP=Gs,nP=qA,oP="[object Arguments]",iP="[object Function]",aP="[object Object]",lP={};lP[oP]=lP["[object Array]"]=lP["[object ArrayBuffer]"]=lP["[object DataView]"]=lP["[object Boolean]"]=lP["[object Date]"]=lP["[object Float32Array]"]=lP["[object Float64Array]"]=lP["[object Int8Array]"]=lP["[object Int16Array]"]=lP["[object Int32Array]"]=lP["[object Map]"]=lP["[object Number]"]=lP[aP]=lP["[object RegExp]"]=lP["[object Set]"]=lP["[object String]"]=lP["[object Symbol]"]=lP["[object Uint8Array]"]=lP["[object Uint8ClampedArray]"]=lP["[object Uint16Array]"]=lP["[object Uint32Array]"]=!0,lP["[object Error]"]=lP[iP]=lP["[object WeakMap]"]=!1;var sP=function e(t,r,n,o,i,a){var l,s=1&r,u=2&r,c=4&r;if(n&&(l=i?n(t,o,i,a):n(t)),void 0!==l)return l;if(!eP(t))return t;var d=QL(t);if(d){if(l=YL(t),!s)return BL(t,l)}else{var p=KL(t),f=p==iP||"[object GeneratorFunction]"==p;if(XL(t))return zL(t,s);if(p==aP||p==oP||f&&!i){if(l=u||f?{}:JL(t),!s)return u?UL(t,VL(l,t)):HL(t,DL(l,t))}else{if(!lP[p])return i?t:{};l=GL(t,p,s)}}a||(a=new FL);var h=a.get(t);if(h)return h;a.set(t,l),tP(t)?t.forEach((function(o){l.add(e(o,r,n,o,t,a))})):ZL(t)&&t.forEach((function(o,i){l.set(i,e(o,r,n,i,t,a))}));var g=d?void 0:(c?u?WL:$L:u?nP:rP)(t);return RL(g||t,(function(o,i){g&&(o=t[i=o]),ML(l,i,e(o,r,n,i,t,a))})),l};var uP=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i},cP=sI,dP=uP;var pP=nI,fP=hA,hP=function(e,t){return t.length<2?e:cP(e,dP(t,0,-1))},gP=iI;var vP=function(e,t){return t=pP(t,e),null==(e=hP(e,t))||delete e[gP(fP(t))]},mP=aa,yP=VA,bP=es,_P=Function.prototype,xP=Object.prototype,wP=_P.toString,OP=xP.hasOwnProperty,SP=wP.call(Object);var kP=function(e){if(!bP(e)||"[object Object]"!=mP(e))return!1;var t=yP(e);if(null===t)return!0;var r=OP.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&wP.call(r)==SP},jP=kP;var EP=Uq,CP=sP,TP=vP,qP=nI,IP=bA,AP=function(e){return jP(e)?void 0:e},LP=XA,PP=cA((function(e,t){var r={};if(null==e)return r;var n=!1;t=EP(t,(function(t){return t=qP(t,e),n||(n=t.length>1),t})),IP(e,LP(e),r),n&&(r=CP(r,7,AP));for(var o=t.length;o--;)TP(r,t[o]);return r}));const NP=g(PP);function FP(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return RP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RP(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function RP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var VP=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},zP=function(e,t){return null==e||""==e?void 0:VP(e)?DP(DP({},e),{},{title:e.title||e.value}):{value:e,title:void 0!==t?t:""+e}},BP=function(e){var t=zP(e);return VP(t)?DP(DP({},zP(e)),{},{isCustom:!0}):t},HP=function(e){if(Array.isArray(e))return e.map((function(e){return zP(e)}));if(!VP(e))return e;var t=[];for(var r in e){var n=e[r];t.push(zP(r,n))}return t},UP=function(e,t){return Array.isArray(e)?e.map((function(e){return zP(e)})).find((function(e){return""+e.value==""+t})):void 0!==e[t]?zP(t,e[t]):void 0},$P=function(e,t){if(null==e)return t;var r=UP(e,t);return void 0!==r?r.title:t},WP=function(e,t){var r=[];if(Array.isArray(e)){var n,o=FP(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t(zP(i));null!=a&&r.push(a)}}catch(u){o.e(u)}finally{o.f()}}else for(var l in e){var s=t(zP(l,e[l]));null!=s&&r.push(s)}return r},KP=function(e,t){return WP(t,(function(t){return""+t.value==""+e?t:null})).filter((function(e){return null!==e})).shift()};const YP=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:UP,getListValue:KP,getTitleInListValues:$P,getValueInListValues:function(e,t){if(null==e)return t;var r=UP(e,t);return void 0!==r?r.value:t},listValuesToArray:HP,makeCustomListValue:BP,mapListValues:WP,searchListValue:function(e,t){return WP(t,(function(t){return-1!="".concat(t.value).indexOf(e)||-1!=t.title.indexOf(e)?t:null})).filter((function(e){return null!==e})).shift()},toListValue:zP},Symbol.toStringTag,{value:"Module"}));var GP=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.skip(1),e.push.apply(e,r),e}))},JP=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.push.apply(e,r),e}))},QP=function(e,t){var r=new WT.OrderedMap(b({},e.get("id"),e)),n=e;return t.forEach((function(e){var t;n=r.get(e),r=null===(t=n)||void 0===t?void 0:t.get("children1")})),n},XP=function(e){var t=e;return function e(r,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.push(r.get("id")),a=r.getIn(["properties","isLocked"]);o&&a&&(t=t.deleteIn(GP(i,"properties","isLocked")));var l=r.get("children1");l&&l.map((function(t,r){e(t,i,a||o)}))}(e,new WT.List),t},ZP=function(e){var t=e;return function e(r,n,o,i){if(r){var a=r.get("path"),l=r.get("id"),s=l||i||YT(),u=n.push(s);a&&a.equals(u)||(t=t.setIn(GP(u,"path"),u)),l||(t=t.setIn(GP(u,"id"),s));var c=r.get("children1");c&&("Map"===c.constructor.name&&(t=t.setIn(GP(u,"children1"),new WT.OrderedMap(c))),c.map((function(t,r){e(t,u,o+1,r)})))}}(e,new WT.List,0),t},eN=function(e){var t=e;return function e(r,n,o,i){if(!r)return!1;var a=r.get("id")||i,l=n.push(a),s=r.get("children1");if(s){var u=s.map((function(t,r){return e(t,l,o+1,r)})).reduce((function(e,t){return e&&t}),!0);if((0==s.size||u)&&o>0)return t=t.deleteIn(GP(l)),!0}return!1}(e,new WT.List,0),t},tN=function(e){var t=[],r={},n=[],o=0,i=0,a=0,l={};!function s(u,c,d,p,f,h,g,v){var m=u===e,y=u.get("type"),b=u.get("collapsed"),_=u.get("id"),x=u.get("children1"),w=u.getIn(["properties","isLocked"]),O=x?x.map((function(e,t){return t})).valueSeq().toArray():null,S="rule_group"===y,k="rule"===y,j="group"===y,E="case_group"===y,C=!f&&(!x||S),T=(null==O?void 0:O.length)>0,q=c.length?c[c.length-1]:null,I=E?_:g;E&&(n.push(_),i=0,a=0,l={});var A,L=I?n.indexOf(I):null,P=t.length,N=o;m||((A={}).caseNo=L,A.globalNoByType=E?L:l[y]||0,A.indexPath=[].concat(Ek(c.slice(1).map((function(e){return r[e].childNo}))),[v]),k?A.globalLeafNo=i:j&&(A.globalGroupNo=a)),t.push(_),r[_]={node:u,index:P,id:_,type:y,parent:q,parentType:q?r[q].type:null,children:O,childNo:v,caseId:I,caseNo:L,path:c.concat(_),lev:h,isLeaf:!x,isAtomicRule:C,isLocked:w||p,top:d?null:N,isDefaultCase:E?!x:void 0,atomicRulesCountInCase:E?0:void 0,position:A,collapsed:b,_top:P,leaf:!x};var F=0,R=0;d||(o+=1,F+=1,!T||b||S||(R+=1),m||E||(j&&a++,k&&i++,l[y]=(l[y]||0)+1)),g&&C&&r[g].atomicRulesCountInCase++;var M=0,D=0;if(T){var V=0;x.map((function(e,t){if(e){s(e,c.concat(_),d||b,p||w,f||S,h+1,I,V);var n=r[t];M=Math.max(M,n.depth||0),D+=n.height,V++}}))}F+=D,R+=M;var z=t.length-P,B=d?null:N+F;Object.assign(r[_],{depth:x?R:void 0,_height:z,height:F,bottom:B})}(e,[],!1,!1,!1,0,null,null);for(var s=0;s<t.length;s++){var u=s>0?t[s-1]:null,c=s<t.length-1?t[s+1]:null,d=r[t[s]];d.prev=u,d.next=c}return{flat:t,items:r,cases:n}},rN=function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),"rule"==l||"rule_group"==l?t++:a&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t},nN=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e;return function e(n,o){t&&n.path&&delete n.path,t&&!r&&o&&delete n.id;var i=n.properties;i&&null==i.operatorOptions&&delete i.operatorOptions;var a=n.children1;if(a){for(var l in a)a[l]&&e(a[l],l);r&&(n.children1=Object.values(a))}}(e,null),n},oN=function(e){var t=[],r=e.get("children1");return r&&r.map((function(e){var r,n=e.getIn(["properties","value"]);n&&1==n.size?(r=n.get(0),Array.isArray(r)&&0==r.length&&(r=null)):r=null,t=[].concat(Ek(t),[r])})),t},iN=function(e){return!e.get("children1")||0==e.get("children1").size},aN=function(e,t){return e.getIn(GP(t,"children1")).size>0},lN=function(e){if(null!=e&&e.toJS){var t,r=null==e||null===(t=e.toJS)||void 0===t?void 0:t.call(e);return null!=r&&r.func?e.toOrderedMap():r}return e};const sN=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:lN,expandTreePath:GP,expandTreeSubpath:JP,fixEmptyGroupsInTree:eN,fixPathsInTree:ZP,getFlatTree:tN,getItemByPath:QP,getLightTree:nN,getSwitchValues:oN,getTotalReordableNodesCountInTree:function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),t++,a&&!("rule_group"==l)&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t-1},getTotalRulesCountInTree:rN,hasChildren:aN,immutableToJs:sq,isEmptyTree:iN,isImmutable:iq,jsToImmutable:pN,removeIsLockedInTree:XP,toImmutableList:lq},Symbol.toStringTag,{value:"Module"}));var uN=function(e){if(cN(e))return e;if(dN(e))return ZP(pN(e));if("string"==typeof e&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if("string"==typeof e)return ZP(pN(JSON.parse(e)));throw new Error("Can't load tree!")},cN=function(e){return iC.isMap(e)},dN=function(e){return"object"==_(e)&&("group"==e.type||"switch_group"==e.type)};function pN(e){var t=HT(e,(function(e,t,r){var n,o=r&&r.length>3&&"value"===r[r.length-1]&&"args"===r[r.length-3],i=r&&r.length>3&&"value"===r[r.length-1]&&"properties"===r[r.length-2];if("properties"==e){n=t.toOrderedMap();for(var a=0;a<2;a++){var l,s,u;null===(null===(l=n.get("value"))||void 0===l||null===(s=(u=l).get)||void 0===s?void 0:s.call(u,a))&&(n=n.setIn(["value",a],void 0))}}else n=o?lN(t):(r?i:"value"==e)&&WT.Iterable.isIndexed(t)?t.map(lN).toList():"asyncListValues"==e?t.toJS():"children1"==e&&WT.Iterable.isIndexed(t)?new WT.OrderedMap(t.map((function(e){return[(null==e?void 0:e.get("id"))||YT(),e]}))):WT.Iterable.isIndexed(t)?t.toList():t.toOrderedMap();return n}));return t}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fN(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function vN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mN="jlField",yN="jlArgs",bN=["==","!="],_N=["<","<=",">",">="],xN=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],wN=function(e){return{errors:[],settings:null==e?void 0:e.settings}},ON=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=wN();n.settings={allowUnknownFields:!1,returnErrors:r};var o=Mz(t,void 0,!1),i=SN(o),a=e?EN(e,i,o,["rule","group","switch"],n):void 0,l=a?uN(a):void 0;return r?[l,n.errors]:(n.errors.length&&console.warn("Errors while importing from JsonLogic:",n.errors),l)},SN=function(e){var t={},r={};for(var n in e.operators){var o=e.operators[n];if("string"==typeof o.jsonLogic){var i=o.jsonLogic+"/"+rq(o);t[i]||(t[i]=[]),t[i].push(n)}else if("string"==typeof o.jsonLogic2){var a=o.jsonLogic2+"/"+rq(o);t[a]||(t[a]=[]),t[a].push(n),r[n]||(r[n]={}),r[n]={template:o.jsonLogic(mN,n,yN),jsonLogic2:o.jsonLogic2,_jsonLogicIsExclamationOp:!!o._jsonLogicIsExclamationOp}}}var l={};for(var s in e.conjunctions){l[e.conjunctions[s].jsonLogicConj||s.toLowerCase()]=s}var u,c={},d=gN(Yz(e));try{for(d.s();!(u=d.n()).done;){var p=bt(u.value,2),f=p[0],h=p[1],g=void 0;h.jsonLogicIsMethod?g="#"+h.jsonLogic:"string"==typeof h.jsonLogic&&(g=h.jsonLogic),g&&(c[g]||(c[g]=[]),c[g].push(f))}}catch(m){d.e(m)}finally{d.f()}var v=e.settings.jsonLogic;return{operators:t,conjunctions:l,funcs:c,varKeys:["var",v.groupVarKey,v.altVarKey],combinationOperators:r}},kN=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!=t&&t.combinationOperators)for(var i=0,a=Object.entries(t.combinationOperators);i<a.length;i++){var l=bt(a[i],2),s=l[0],u=l[1];if(null==o||o.includes(s)){var c=jN(u.template,e);c.match&&(n?r.errors.push("Operator matched against 2 templates: ".concat(n.newOp," and ").concat(s)):n=c,n.newOp=u.jsonLogic2)}}return n},jN=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(null==t||null==r)return n.match=!1,n;var o=Object.keys(t),i=Object.keys(r);if(o.length!==i.length)return n.match=!1,n;for(var a=0;a<o.length;a++){var l=o[a],s=t[l];if(l!==i[a])return n.match=!1,n;if(s===mN&&hq(r[l]))n.jlField=r[l];else if(s===yN)n.jlArgs.push(r[l]);else if("object"===_(s)&&null!==s||Array.isArray(s))n=e(s,r[l],n);else if(s!==r[l])return n.match=!1,n}return n},EN=function e(t,r,n,o,i){var a,l,s,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;hq(t)&&(a=Object.keys(t)[0],l=t[a],Array.isArray(l)||(l=[l]));var f=i.errors.length,h=n.settings.jsonLogic.lockedOp,g="!"==a&&1==l.length&&l[0]&&hq(l[0])&&r.varKeys.includes(Object.keys(l[0])[0]),v=kN(t,r,i);v&&((l=[])[0]=v.jlField,v.jlArgs.forEach((function(e){return l.push(e)})),a=v.newOp);var m="!"==a&&!g,y=h&&a==h,b=o.includes("switch");y?s=e(l[0],r,n,o,i,u,c,d,p,!0):m?s=e(l[0],r,n,o,i,!u,c,d,p):o.includes("val")?s=TN(a,l,r,n,u,i,p)||AN(a,l,r,n,u,c,i,p)||CN(t,c,d,n,i):(o.includes("switch")&&(s=RN(a,l,r,n,u,i,p)),null==s&&o.includes("group")&&(s=LN(a,l,r,n,u,i,p,!1)),null==s&&o.includes("rule")&&(s=FN(a,l,r,n,u,i,p)),s&&b&&!["group","switch_group"].includes(s.type)&&(s=PN(s,n)));var _=i.errors.length;return"!"!=a&&void 0===s&&_==f&&i.errors.push("Can't parse logic ".concat(JSON.stringify(t))),y&&(s.properties.isLocked=!0),s},CN=function(e,t,r,n,o){var i;if(void 0===e&&(e=null==t?void 0:t.defaultValue),void 0!==e){r=r||(null==t?void 0:t.mainWidget);var a=n.widgets[r],l=null==t?void 0:t.type;if(!l||a){if(!hq(e)){if("time"===l&&"number"==typeof e){var s=Math.floor(e/60/60)%24,u=Math.floor(e/60)%60,c=e%60,d=a.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(s),p.setMinutes(u),p.setSeconds(c),e=vx(p).format(d)}else e="".concat(s,":").concat(u,":").concat(c)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var f=new Date(e);f instanceof Date&&f.toISOString()===e&&(e=f)}catch(ln){o.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&t){var h=a.valueFormat;h&&(e=vx(e).format(h))}var g;if(e&&null!=t&&null!==(i=t.fieldSettings)&&void 0!==i&&i.asyncFetch)g=Array.isArray(e)?e:[e];if(null!=a&&a.jsonLogicImport)try{e=a.jsonLogicImport.call(n.ctx,e)}catch(ln){var v;o.errors.push("Can't import value ".concat(e," using import func of widget ").concat(r,": ").concat(null!==(v=null==ln?void 0:ln.message)&&void 0!==v?v:ln)),e=void 0}return{valueSrc:"value",value:e,valueType:null==a?void 0:a.type,asyncListValues:g}}o.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)))}else o.errors.push("No widget for type ".concat(l))}},TN=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(r.varKeys.includes(e)&&"string"==typeof t[0]){var l,s=Xz(n,t[0],a),u=uB(n,s);return u||null!==(l=i.settings)&&void 0!==l&&l.allowUnknownFields?{valueSrc:"field",value:s,valueType:null==u?void 0:u.type}:void i.errors.push("No config for field ".concat(s))}},qN=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Array.isArray(t)||(t=[t]);var l=TN(e,t,r,n,o,i,a);if(l)return{fieldSrc:"field",field:l.value}},IN=function(e,t,r,n,o){var i=AN(e,t,r,n,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6?arguments[6]:void 0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null);if(i)return{fieldSrc:"func",field:i.value}},AN=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(e){var s,u,c,d="method"==e;if(d){var p,f,h=H(t);p=h[0],s=h[1],f=h.slice(2),u=[p].concat(Ek(f))}else s=e,u=t;var g=(d?"#":"")+s,v=(null==i?void 0:i.type)||(null==i?void 0:i.returnType),m=(r.funcs[g]||[]).filter((function(e){return!i||eB(n,e).returnType==v}));if(m.length)c=m[0];else{var y,_=b({},e,t),x=gN(Yz(n));try{for(x.s();!(y=x.n()).done;){var w=bt(y.value,2),O=w[0],S=w[1];if(S.jsonLogicImport&&(!v||S.returnType==v)){var k=void 0;try{k=S.jsonLogicImport(_)}catch(L){}k&&(c=O,u=k)}}}catch(P){x.e(P)}finally{x.f()}}if(c&&c){var j=eB(n,c),E=Object.keys(j.args||{}),C=u.reduce((function(e,t,o){var i,s=E[o],u=j.args[s];return u&&(i=EN(t,r,n,["val"],a,!1,u,null,l)),void 0!==i?hN(hN({},e),{},b({},s,i)):e}),{});for(var T in j.args){var q=j.args[T],I=C[T];if(void 0===I){var A;if(void 0!==(I=null==q?void 0:q.defaultValue))I={value:I,valueSrc:null!==(A=I)&&void 0!==A&&A.func?"func":"value",valueType:q.type};if(void 0===I){if(null==q||!q.isOptional)return void a.errors.push("No value for arg ".concat(T," of func ").concat(c))}else C[T]=I}}return{valueSrc:"func",value:{func:c,args:C},valueType:j.returnType}}}},LN=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=r.conjunctions[e],u=n.settings.fieldSeparator;if(s){var c=t.map((function(e){return EN(e,r,n,["rule","group"],i,!1,null,null,l)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return hN(hN({},e),{},b({},t.id,t))}),{}),d=Object.values(c).map((function(e){var t,r;return"field"==(null==e||null===(t=e.properties)||void 0===t?void 0:t.fieldSrc)&&(null==e||null===(r=e.properties)||void 0===r?void 0:r.field)})).filter((function(e){var t;return null==e||null===(t=e.includes)||void 0===t?void 0:t.call(e,u)})),p=Object.fromEntries((a=d,Array.from(new Set(a))).map((function(e){var t=e.split(u),r=Object.fromEntries(t.slice(0,-1).map((function(e,t,r){return[].concat(Ek(r.slice(0,t)),[e])})).map((function(e){return[e.join(u),uB(n,e)]})).filter((function(e){var t=bt(e,2);t[0];var r=t[1];return"!group"==(null==r?void 0:r.type)})));return[e,Object.keys(r)]}))),f={conjunction:s,not:o},h=YT(),g={},v={};return Object.entries(c).map((function(e){var t=bt(e,2),r=t[0],o=t[1];if("group"==(null==o?void 0:o.type)||"rule_group"==(null==o?void 0:o.type))g[r]=o;else{var i,a=null==o||null===(i=o.properties)||void 0===i?void 0:i.field,c=p[a]||[],d=c[c.length-1];if(d){var f=g,h=oB(l,n),m=oB(d,n);oq(h,m.slice(0,h.length))||(h=[]);var y=d.split(u).slice(h.length).map((function(e,t,r){return[].concat(Ek(h),Ek(r.slice(0,t)),[e]).join(u)})).map((function(e){return{f:e,fc:uB(n,e)||{}}})).filter((function(e){return"!struct"!=e.fc.type}));y.map((function(e,t){var r=e.f,n=e.fc,o=v[r];o||(o=YT(),v[r]=o,f[o]={type:"rule_group",id:o,children1:{},properties:{conjunction:s,not:!1,field:r,fieldSrc:"field",mode:n.mode}}),f=f[o].children1})),f[r]=o}else o&&(g[r]=o)}})),{type:"group",id:h,children1:g,properties:f}}},PN=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:YT(),children1:b({},e.id,e),properties:{conjunction:tR(t),not:r}}},NN=function(e,t,r,n,o,i,a){var l,s=xN.map((function(e){var t;return null===(t=i.operators[e])||void 0===t?void 0:t.jsonLogic2})).includes(e),u=i.settings.groupOperators.includes(e)&&!s,c=u?0:t-1;u?c=0:bN.includes(e)&&1==c&&null===r[1]&&(t=1,c=0,r=[r[0]]);var d=e+"/"+c,p=o.operators[d];if(p){var f,h=[];if(_N.includes(e)&&3==t)f=r[1],h=[r[0],r[2]];else{var g=H(r);f=g[0],h=g.slice(1)}if(hq(f)){var v=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=Object.keys(t)[0],h=Object.values(t)[0],g=function(e,t){return qN(e,t,n,o,u,d,p)||IN(e,t,n,o,u,c,d,p)},v=d.errors.length,m=g(f,h);if(m&&(i=m.field,a=m.fieldSrc),e&&(s=!0,l=r[0],r=[]),"reduce"==f&&Array.isArray(h)&&3==h.length){var y=bt(h,3),b=y[0],_=y[1],x=y[2];if(hq(b)&&0==x&&hq(_)&&Array.isArray(_["+"])&&1==_["+"][0]&&hq(_["+"][1])&&"accumulator"==_["+"][1].var)if(f=Object.keys(b)[0],h=Object.values(b)[0],"filter"==f){var w=bt(h,2),O=w[0],S=w[1];if(hq(O)){var k=g(f=Object.keys(O)[0],h=Object.values(O)[0]);k&&(i=k.field,a=k.fieldSrc,l=S,s=!0)}}else{var j=g(f,h);j&&(i=j.field,a=j.fieldSrc,s=!0)}}var E=d.errors.length;if(i||E!=v||d.errors.push("Unknown LHS ".concat(JSON.stringify(t))),i)return{field:i,fieldSrc:a,having:l,isGroup:s,args:r}}(u,f,h,o,i,null,null,a,n);if(v){var m=v.field,y=v.fieldSrc,b=v.having;v.isGroup;var _=v.args,x=uB(i,m);if(x||null!==(l=a.settings)&&void 0!==l&&l.allowUnknownFields){var w=p[0];if(p.length>1&&x&&x.operators){if(0==(p=p.filter((function(e){return x.operators.includes(e)}))).length)return void a.errors.push("No corresponding ops for LHS ".concat(m));w=p[0]}return{field:m,fieldSrc:y,fieldConfig:x,opKey:w,args:_,having:b}}a.errors.push("No config for LHS ".concat(m))}}else a.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(r)))}},FN=function e(t,r,n,o,i,a){var l,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(t){var c=Object.values(o.conjunctions).map((function(e){return e.jsonLogicConj})),d=function(e,t,r,n,o,i,a){var l=wN(a),s=NN(e,t,r,n,o,i,l);if(s)return s;a.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(t))}(t,r.length,r,s,n,o,a);if(d){var p,f,h=d.field,g=d.fieldSrc,v=d.fieldConfig,m=d.opKey,y=d.args,_=d.having,x=uB(o,s),w=o.operators[m],O=!!o.operators[null===(l=w)||void 0===l?void 0:l.reversedOp],S="!group"==v.type,k="!group"==(null==x?void 0:x.type),j=O&&(!!o.settings.reverseOperatorsForNot||S&&!_||!S&&k&&!u),E=i&&j||false,C=!1,T=!!o.settings.reverseOperatorsForNot;if("!group"==(null==v?void 0:v.type)&&_){p=Object.keys(_)[0],f=_[p],Array.isArray(f)||(f=[f]);for(var q=kN(_,n,a);"!"==p&&!q;){if("!"==p&&1==f.length&&f[0]&&hq(f[0])&&n.varKeys.includes(Object.keys(f[0])[0]))break;C=!C,_=_["!"],p=Object.keys(_)[0],f=_[p],T&&c.includes(p)&&1==f.length&&(_=_[p][0],p=Object.keys(_)[0],f=_[p]);var I=kN(_,n,a);q=I||q}Array.isArray(f)||(f=[f]),q&&((f=[])[0]=q.jlField,q.jlArgs.forEach((function(e){return f.push(e)})),p=q.newOp)}E&&(i=!i,m=w.reversedOp,w=o.operators[m]);var A=FD(o,h,m,null),L=y.map((function(e){return EN(e,n,o,["val"],a,!1,v,A,s)}));if(!L.filter((function(e){return void 0===e})).length){var P;if(null==v||v.type,"!group"==(null==v?void 0:v.type)&&_){var N;if(void 0!==n.conjunctions[p])P=LN(p,f,n,o,C,a,h,!0);else if(P=e(p,f,n,o,C,a,h,!0))"rule_group"===P.type&&(null===(N=P.properties)||void 0===N?void 0:N.field)!==h&&(P=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e)return{type:"rule_group",id:YT(),children1:b({},e.id,e),properties:{conjunction:o||eR(n,r),not:i,field:t}}}(P,h,v,o)),Object.assign(P.properties,{conjunction:eR(o,v)});if(!P)return;P.type="rule_group",Object.assign(P.properties,{field:h,mode:v.mode,operator:m}),"array"==v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=PN(P,o,i))}else if("!group"!=(null==v?void 0:v.type)||_){var F=L.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),R=F.length?F[0]:void 0;P={type:"rule",id:YT(),properties:hN({field:h,fieldSrc:g,operator:m,value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))},R?{asyncListValues:R}:{})},(i||u)&&(P=PN(P,o,i))}else P={type:"rule_group",id:YT(),children1:{},properties:{conjunction:eR(o,v),not:!1,mode:v.mode,field:h,operator:m}},"array"===v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=PN(P,o,i));return P}}}},RN=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("if"===(null==e?void 0:e.toLowerCase())){var l=MN(t).map((function(e){var t=bt(e,2),o=t[0],l=t[1];return[o?EN(o,r,n,["rule","group"],i,!1,null,null,a):null,VN(n,i,r,l)]})).map((function(e){var t=bt(e,2),r=t[0],o=t[1];return DN(r,o,n,i)}));return{type:"switch_group",id:YT(),children1:l,properties:{}}}},MN=function(e){var t=[];return function e(r){var n=bt(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]);var l=hq(a)?Object.keys(a)[0]:null;"if"===(null==l?void 0:l.toLowerCase())?e(a[l]):t.push([void 0,a])}(e),t},DN=function(e,t,r,n){var o;return e?(o=hN({},e)).type?("group"!=o.type&&(o=PN(o,r)),o.type="case_group"):(n.errors.push("Unexpected case: ".concat(JSON.stringify(o))),o=void 0):o={id:YT(),type:"case_group",properties:{}},o&&(o.properties=hN(hN({},o.properties),t)),o},VN=function(e,t,r,n){var o=uB(e,"!case_value");if(o){var i=o.mainWidget,a=e.widgets[i];if(a){var l=EN(n,r,e,["val","case_val"],t,!1,o,i);if(null!=l){var s=l.value,u=l.valueSrc,c=l.valueType;return{value:[s],valueSrc:[null!=u?u:"value"],valueType:[null!=c?c:null==a?void 0:a.type],field:"!case_value"}}}else t.errors.push("No widget ".concat(i," for case value"))}else t.errors.push("Missing caseValueField in settings")},zN={exports:{}};!function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelNode={create:function(e,t){var r,n={},o=e||"Abstract",i=[],a=null;if(n._type=o,n.getType=function(){return o},n.setType=function(e){o=e},n.getChildren=function(){return i},n.addChild=function(e){if(e){if(!e.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(e)};e.setParent(n),i.push(e)}},n.getParent=function(){return a},n.setParent=function(e){a=e},n.getContext=function(e){return r||e.activeContext.peek()},n.setContext=function(e){r=e},n.getStartPosition=function(){return t>>16},n.getEndPosition=function(){return 65535&t},n.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},n.toString=function(){var e="Kind: "+n.getType();e+=", Children: [";for(var t=0,r=n.getChildren().length;t<r;t+=1)e+="{"+n.getChildren()[t]+"}, ";return e+="]"},0===t)throw{name:"Error",message:"Position cannot be 0"};for(var l=arguments.length,s=Array(l>2?l-2:0),u=2;u<l;u++)s[u-2]=arguments[u];return s&&s.forEach((function(e){n.addChild(e)})),n}}},function(e,t,r){function n(e){this.elements=e||[]}Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=n,n.prototype.push=function(e){return this.elements.push(e),e},n.prototype.pop=function(){return this.elements.pop()},n.prototype.peek=function(){return this.elements[this.elements.length-1]},n.prototype.empty=function(){return this.elements.length>0},n.prototype.search=function(e){return this.elements.length-this.elements.indexOf(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(e){this.type=e,this.tokenChars=n[e],this._hasPayload="string"!=typeof n[e],"number"==typeof n[e]&&(this._ordinal=n[e])}for(var i in n)n.hasOwnProperty(i)&&(o[i]=new o(i));o.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(e){for(var t in n)if(n.hasOwnProperty(t)&&n[t]===e)return o[t]},o.prototype.ordinal=function(){return this._ordinal},t.TokenKind=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext=t.SpelExpressionEvaluator=void 0;var n=r(4),o=r(50);t.SpelExpressionEvaluator=n.SpelExpressionEvaluator,t.StandardContext=o.StandardContext},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionEvaluator=void 0;var n=r(5),o=r(1),i={compile:function(e){var t=(0,n.SpelExpressionParser)().parse(e);return{eval:function(e,r){return function(e,t,r){var n,i=new o.Stack;return t||(t={}),i.push(t),n={rootContext:t,activeContext:i,locals:r},e.getValue(n)}(t,e,r)},_compiledExpression:t}},eval:function(e,t,r){return i.compile(e).eval(t,r)}};t.SpelExpressionEvaluator=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionParser=void 0;var n=r(2),o=r(6),i=r(8),a=r(9),l=r(10),s=r(11),u=r(12),c=r(13),d=r(14),p=r(15),f=r(16),h=r(17),g=r(18),v=r(19),m=r(20),y=r(21),b=r(22),_=r(23),x=r(24),w=r(25),O=r(26),S=r(27),k=r(28),j=r(29),E=r(30),C=r(31),T=r(32),q=r(33),I=r(34),A=r(35),L=r(36),P=r(37),N=r(38),F=r(39),R=r(40),M=r(41),D=r(42),V=r(43),z=r(44),B=r(45),H=r(46),U=r(47),$=r(48),W=r(49);t.SpelExpressionParser=function(){var e,t,r,K,Y=new RegExp("[\\p{L}\\p{N}_$]+"),G=[];function J(){var e=Q();if(we()){var t=Se();if(t.getKind()===n.TokenKind.ASSIGN){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var r=Q();return g.Assign.create(Ce(t),e,r)}if(t.getKind()===n.TokenKind.ELVIS){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-2))),Oe();var o=J();return null===o&&(o=s.NullLiteral.create(Te(t.startPos+1,t.endPos+1))),N.Elvis.create(Ce(t),e,o)}if(t.getKind()===n.TokenKind.QMARK){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var i=J();me(n.TokenKind.COLON);var a=J();return P.Ternary.create(Ce(t),e,i,a)}}return e}function Q(){for(var e=X();xe("or")||ye(n.TokenKind.SYMBOLIC_OR);){var t=Oe(),r=X();je(t,e,r),e=A.OpOr.create(Ce(t),e,r)}return e}function X(){for(var e=Z();xe("and")||ye(n.TokenKind.SYMBOLIC_AND);){var t=Oe(),r=Z();je(t,e,r),e=I.OpAnd.create(Ce(t),e,r)}return e}function Z(){var e=ee(),t=function(){var e=Se();if(null===e)return null;if(e.isNumericRelationalOperator())return e;if(e.isIdentifier()){var t=e.stringValue();if("instanceof"===t.toLowerCase())return e.asInstanceOfToken();if("matches"===t.toLowerCase())return e.asMatchesToken();if("between"===t.toLowerCase())return e.asBetweenToken()}return null}();if(null!==t){var r=Oe(),o=ee();je(r,e,o);var i=t.kind;if(t.isNumericRelationalOperator()){var a=Ce(r);return i===n.TokenKind.GT?b.OpGT.create(a,e,o):i===n.TokenKind.LT?x.OpLT.create(a,e,o):i===n.TokenKind.LE?_.OpLE.create(a,e,o):i===n.TokenKind.GE?y.OpGE.create(a,e,o):i===n.TokenKind.EQ?v.OpEQ.create(a,e,o):m.OpNE.create(a,e,o)}return i===n.TokenKind.INSTANCEOF?V.OpInstanceof.create(Ce(r),e,o):i===n.TokenKind.MATCHES?L.OpMatches.create(Ce(r),e,o):z.OpBetween.create(Ce(r),e,o)}return e}function ee(){for(var e=te();_e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.INC);){var t=Oe(),r=te();Ee(t,r),t.getKind()===n.TokenKind.PLUS?e=w.OpPlus.create(Ce(t),e,r):t.getKind()===n.TokenKind.MINUS&&(e=O.OpMinus.create(Ce(t),e,r))}return e}function te(){for(var e=re();_e(n.TokenKind.STAR,n.TokenKind.DIV,n.TokenKind.MOD);){var t=Oe(),r=re();je(t,e,r),e=t.getKind()===n.TokenKind.STAR?S.OpMultiply.create(Ce(t),e,r):t.getKind()===n.TokenKind.DIV?k.OpDivide.create(Ce(t),e,r):j.OpModulus.create(Ce(t),e,r)}return e}function re(){var e,t=ne();if(ye(n.TokenKind.POWER)){e=Oe();var r=ne();return Ee(e,r),E.OpPower.create(Ce(e),t,r)}return null!==t&&_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe()).getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!0,t):T.OpDec.create(Ce(e),!0,t):t}function ne(){var e,t;return _e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.NOT)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.NOT?q.OpNot.create(Ce(e),t):e.getKind()===n.TokenKind.PLUS?w.OpPlus.create(Ce(e),t):O.OpMinus.create(Ce(e),t)):_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!1,t):T.OpDec.create(Ce(e),!1,t)):function(){var e=[],t=function(){var e=Se();if(null===e)return!1;if(e.getKind()===n.TokenKind.LITERAL_INT||e.getKind()===n.TokenKind.LITERAL_LONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),10),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_REAL||e.getKind()===n.TokenKind.LITERAL_REAL_FLOAT)ge(a.NumberLiteral.create(parseFloat(e.stringValue()),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_HEXINT||e.getKind()===n.TokenKind.LITERAL_HEXLONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),16),Ce(e)));else if(xe("true"))ge(i.BooleanLiteral.create(!0,Ce(e)));else if(xe("false"))ge(i.BooleanLiteral.create(!1,Ce(e)));else{if(e.getKind()!==n.TokenKind.LITERAL_STRING)return!1;ge(l.StringLiteral.create(e.stringValue(),Ce(e)))}return Oe(),!0}()||function(){if(ye(n.TokenKind.LPAREN)){Oe();var e=J();return me(n.TokenKind.RPAREN),ge(e),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();if("T"!==e.stringValue())return!1;var t=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(t.stringValue(),Ce(t))),!0;me(n.TokenKind.LPAREN);for(var r=pe(),o=0;be(n.TokenKind.LSQUARE,!0);)me(n.TokenKind.RSQUARE),o++;return me(n.TokenKind.RPAREN),ge(B.TypeReference.create(Ce(e),r,o)),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();return"null"===e.stringValue().toLowerCase()&&(Oe(),ge(s.NullLiteral.create(Ce(e))),!0)}return!1}()||function(){if(xe("new")){var e=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(e.stringValue(),Ce(e))),!0;var t=pe(),r=[];if(r.push(t),ye(n.TokenKind.LSQUARE)){for(var o=[];be(n.TokenKind.LSQUARE,!0);)ye(n.TokenKind.RSQUARE)?o.push(null):o.push(J()),me(n.TokenKind.RSQUARE);ue()&&r.push(ve()),ge(W.ConstructorReference.create(Ce(e),o,r))}else i=r,ye(n.TokenKind.LPAREN)||ke(Ce(Se()),"MISSING_CONSTRUCTOR_ARGS"),le(i),me(n.TokenKind.RPAREN),ge(W.ConstructorReference.create(Ce(e),r));return!0}var i;return!1}()||he(!1)||ie()||function(){if(ye(n.TokenKind.BEAN_REF)){var e=Oe(),t=null,r=null;return ye(n.TokenKind.IDENTIFIER)?r=(t=me(n.TokenKind.IDENTIFIER)).data:ye(n.TokenKind.LITERAL_STRING)?r=(r=(t=me(n.TokenKind.LITERAL_STRING)).stringValue()).substring(1,r.length()-1):ke(e.startPos,"INVALID_BEAN_REFERENCE"),ge(H.BeanReference.create(Ce(t),r)),!0}return!1}()||se(!1)||de(!1)||ce()||ue()?ve():null;for(e.push(t);oe();)e.push(ve());return 1===e.length?e[0]:f.CompoundExpression.create(Te(t.getStartPosition(),e[e.length-1].getEndPosition()),e)}()}function oe(){var e=null;return e=_e(n.TokenKind.DOT,n.TokenKind.SAFE_NAVI)?function(){var e=Oe(),t=e.getKind()===n.TokenKind.SAFE_NAVI;return he(t)||ie()||se(t)||de(t)?ve():(null===Se()?ke(e.startPos,"OOD"):ke(e.startPos,"UNEXPECTED_DATA_AFTER_DOT",function(e){return e.getKind().hasPayload()?e.stringValue():e.getKind().toString().toLowerCase()}(Se())),null)}():ye(n.TokenKind.LSQUARE)&&ce()?ve():null,null!==e&&(ge(e),!0)}function ie(){if(!ye(n.TokenKind.HASH))return!1;var e=Oe(),t=me(n.TokenKind.IDENTIFIER),r=ae();return null===r?(ge(p.VariableReference.create(t.data,Te(e.startPos,t.endPos))),!0):(ge(u.FunctionReference.create(t.data,Te(e.startPos,t.endPos),r)),!0)}function ae(){if(!ye(n.TokenKind.LPAREN))return null;var e=[];return le(e),me(n.TokenKind.RPAREN),e}function le(e){var t,r=Se().startPos;do{Oe();var o=Se();null===o&&ke(r,"RUN_OUT_OF_ARGUMENTS"),o.getKind()!==n.TokenKind.RPAREN&&e.push(J()),t=Se()}while(null!==t&&t.kind===n.TokenKind.COMMA);null===t&&ke(r,"RUN_OUT_OF_ARGUMENTS")}function se(e){var t=Se();if(!be(n.TokenKind.PROJECT,!0))return!1;var r=J();return me(n.TokenKind.RSQUARE),ge(D.Projection.create(e,Ce(t),r)),!0}function ue(){var e=Se(),t=[];if(!be(n.TokenKind.LCURLY,!0))return!1;var r=null,o=Se();if(be(n.TokenKind.RCURLY,!0))r=F.InlineList.create(Te(e.startPos,o.endPos));else if(be(n.TokenKind.COLON,!0))o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos));else{var i=J();if(ye(n.TokenKind.RCURLY))t.push(i),o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Te(e.startPos,o.endPos),t);else if(be(n.TokenKind.COMMA,!0)){t.push(i);do{t.push(J())}while(be(n.TokenKind.COMMA,!0));o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Ce(e.startPos,o.endPos),t)}else if(be(n.TokenKind.COLON,!0)){var a=[];for(a.push(i),a.push(J());be(n.TokenKind.COMMA,!0);)a.push(J()),me(n.TokenKind.COLON),a.push(J());o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos),a)}else ke(e.startPos,"OOD")}return ge(r),!0}function ce(){var e=Se();if(!be(n.TokenKind.LSQUARE,!0))return!1;var t=J();return me(n.TokenKind.RSQUARE),ge(h.Indexer.create(Ce(e),t)),!0}function de(e){var t=Se();if(!function(){if(!we())return!1;var e=Se();return e.getKind()===n.TokenKind.SELECT||e.getKind()===n.TokenKind.SELECT_FIRST||e.getKind()===n.TokenKind.SELECT_LAST}())return!1;Oe();var r=J();return null===r&&ke(Ce(t),"MISSING_SELECTION_EXPRESSION"),me(n.TokenKind.RSQUARE),t.getKind()===n.TokenKind.SELECT_FIRST?ge(M.Selection.create(e,M.Selection.FIRST,Ce(t),r)):t.getKind()===n.TokenKind.SELECT_LAST?ge(M.Selection.create(e,M.Selection.LAST,Ce(t),r)):ge(M.Selection.create(e,M.Selection.ALL,Ce(t),r)),!0}function pe(){for(var t=[],r=Se();fe(r);)Oe(),r.kind!==n.TokenKind.DOT&&t.push(U.Identifier.create(r.stringValue(),Ce(r))),r=Se();t.length||(null===r&&ke(e.length(),"OOD"),ke(r.startPos,"NOT_EXPECTED_TOKEN","qualified ID",r.getKind().toString().toLowerCase()));var o=Te(t[0].getStartPosition(),t[t.length-1].getEndPosition());return $.QualifiedIdentifier.create(o,t)}function fe(e){if(null===e||e.kind===n.TokenKind.LITERAL_STRING)return!1;if(e.kind===n.TokenKind.DOT||e.kind===n.TokenKind.IDENTIFIER)return!0;var t=e.stringValue();return t&&t.length&&Y.test(t)}function he(e){if(ye(n.TokenKind.IDENTIFIER)){var t=Oe(),r=ae();return null===r?(ge(d.PropertyReference.create(e,t.stringValue(),Ce(t))),!0):(ge(c.MethodReference.create(e,t.stringValue(),Ce(t),r)),!0)}return!1}function ge(e){G.push(e)}function ve(){return G.pop()}function me(t){var r=Oe();return null===r&&ke(e.length,"OOD"),r.getKind()!==t&&ke(r.startPos,"NOT_EXPECTED_TOKEN",t.toString().toLowerCase(),r.getKind().toString().toLowerCase()),r}function ye(e){return be(e,!1)}function be(e,t){if(!we())return!1;var r=Se();return r.getKind()===e?(t&&K++,!0):e===n.TokenKind.IDENTIFIER&&r.getKind().ordinal()>=n.TokenKind.DIV.ordinal()&&r.getKind().ordinal()<=n.TokenKind.NOT.ordinal()&&null!==r.data}function _e(){if(!we())return!1;for(var e=Se(),t=Array.prototype.slice.call(arguments),r=0,n=t.length;r<n;r+=1)if(e.getKind()===t[r])return!0;return!1}function xe(e){if(!we())return!1;var t=Se();return t.getKind()===n.TokenKind.IDENTIFIER&&t.stringValue().toLowerCase()===e.toLowerCase()}function we(){return K<t.length}function Oe(){return K>=r?null:t[K++]}function Se(){return K>=r?null:t[K]}function ke(t,r,n,o){throw n&&(r+="\nExpected: "+n),o&&(r+="\nActual: "+o),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+e+"' at position "+t+". Message: "+r}}function je(e,t,r){!function(e,t){null===t&&ke(e.startPos,"LEFT_OPERAND_PROBLEM")}(e,t),Ee(e,r)}function Ee(e,t){null===t&&ke(e.startPos,"RIGHT_OPERAND_PROBLEM")}function Ce(e){return(e.startPos<<16)+e.endPos}function Te(e,t){return(e<<16)+t}return{setConfiguration:function(e){},parse:function(n,i){try{e=n,t=o.Tokenizer.tokenize(n),r=t.length,K=0,G=[];var a=J();return we()&&ke(Se().startPos,"MORE_INPUT",Oe().toString()),a}catch(ln){throw ln.message}}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var n=r(7),o=r(2),i=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],a=[];!function(){var e;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e+=1)a[e]|=3;for(e="A".charCodeAt(0);e<="F".charCodeAt(0);e+=1)a[e]|=2;for(e="a".charCodeAt(0);e<="f".charCodeAt(0);e+=1)a[e]|=2;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e+=1)a[e]|=4;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e+=1)a[e]|=4}(),t.Tokenizer={tokenize:function(e){var t=e,r=e+"\0",l=r.length,s=0,u=[];function c(){for(var e,i=s,a=!1;!a;)if("'"===(e=r[s+=1])&&("'"===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function d(){for(var e,i=s,a=!1;!a;)if('"'===(e=r[s+=1])&&('"'===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function p(e){var n,o,i,a=!1,l=s,u=r[s+1];if(!e||"x"!==u&&"X"!==u){do{s+=1}while(S(r[s]));if("."===(u=r[s])){a=!0,n=s;do{s+=1}while(S(r[s]));if(s===n+1)return void h(m(l,s=n),!1,l,s)}if(o=s,x("L","l")){if(a)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+t+") at position "+s};h(m(l,o),!0,l,o),s+=1}else if(function(e){return"e"===e||"E"===e}(r[s])){a=!0,function(e){return"+"===e||"-"===e}(r[s+=1])&&(s+=1);do{s+=1}while(S(r[s]));i=!1,w(r[s])?(i=!0,o=s+=1):O(r[s])&&(o=s+=1),v(m(l,s),i,l,s)}else i=!1,w(u=r[s])?(a=!0,i=!0,o=s+=1):O(u)&&(a=!0,o=s+=1),a?v(m(l,o),i,l,o):h(m(l,o),!1,l,o)}else{s+=1;do{s+=1}while(j(r[s]));x("L","l")?(g(m(l+2,s),!0,l,s),s+=1):g(m(l+2,s),!1,l,s)}}function f(){var e,t,a,l=s;do{s+=1}while(k(a=r[s])||S(a)||"_"===a||"$"===a);e=m(l,s),(s-l==2||s-l==3)&&(t=e.toUpperCase(),i.indexOf(t)>=0)?function(e,t,r){u.push(new n.Token(e,r,t,t+e.getLength()))}(o.TokenKind.valueOf(t),l,e):u.push(new n.Token(o.TokenKind.IDENTIFIER,e.replace("\0",""),l,s))}function h(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_LONG,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_INT,e,r,i))}function g(e,r,i,a){if(0===e.length)throw r?{name:"SpelParseException",message:"Not a long in expression ("+t+") at position "+s}:{name:"SpelParseException",message:"Not an int in expression ("+t+") at position "+s};r?u.push(new n.Token(o.TokenKind.LITERAL_HEXLONG,e,i,a)):u.push(new n.Token(o.TokenKind.LITERAL_HEXINT,e,i,a))}function v(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_REAL_FLOAT,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_REAL,e,r,i))}function m(e,t){return r.substring(e,t)}function y(e){return 2===e.tokenChars.length&&r[s]===e.tokenChars[0]&&r[s+1]===e.tokenChars[1]}function b(e){u.push(new n.Token(e,null,s,s+1)),s+=1}function _(e){u.push(new n.Token(e,null,s,s+2)),s+=2}function x(e,t){var n=r[s];return n===e||n===t}function w(e){return"f"===e||"F"===e}function O(e){return"d"===e||"D"===e}function S(e){return!(e.charCodeAt(0)>255)&&0!=(1&a[e.charCodeAt(0)])}function k(e){return!(e.charCodeAt(0)>255)&&0!=(4&a[e.charCodeAt(0)])}function j(e){return!(e.charCodeAt(0)>255)&&0!=(2&a[e.charCodeAt(0)])}return function(){for(var e;s<l;)if(k(e=r[s]))f();else switch(e){case"+":y(o.TokenKind.INC)?_(o.TokenKind.INC):b(o.TokenKind.PLUS);break;case"_":f();break;case"-":y(o.TokenKind.DEC)?_(o.TokenKind.DEC):b(o.TokenKind.MINUS);break;case":":b(o.TokenKind.COLON);break;case".":b(o.TokenKind.DOT);break;case",":b(o.TokenKind.COMMA);break;case"*":b(o.TokenKind.STAR);break;case"/":b(o.TokenKind.DIV);break;case"%":b(o.TokenKind.MOD);break;case"(":b(o.TokenKind.LPAREN);break;case")":b(o.TokenKind.RPAREN);break;case"[":b(o.TokenKind.LSQUARE);break;case"#":b(o.TokenKind.HASH);break;case"]":b(o.TokenKind.RSQUARE);break;case"{":b(o.TokenKind.LCURLY);break;case"}":b(o.TokenKind.RCURLY);break;case"@":b(o.TokenKind.BEAN_REF);break;case"^":y(o.TokenKind.SELECT_FIRST)?_(o.TokenKind.SELECT_FIRST):b(o.TokenKind.POWER);break;case"!":y(o.TokenKind.NE)?_(o.TokenKind.NE):y(o.TokenKind.PROJECT)?_(o.TokenKind.PROJECT):b(o.TokenKind.NOT);break;case"=":y(o.TokenKind.EQ)?_(o.TokenKind.EQ):b(o.TokenKind.ASSIGN);break;case"&":if(!y(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!y(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_OR);break;case"?":y(o.TokenKind.SELECT)?_(o.TokenKind.SELECT):y(o.TokenKind.ELVIS)?_(o.TokenKind.ELVIS):y(o.TokenKind.SAFE_NAVI)?_(o.TokenKind.SAFE_NAVI):b(o.TokenKind.QMARK);break;case"$":y(o.TokenKind.SELECT_LAST)?_(o.TokenKind.SELECT_LAST):f();break;case">":y(o.TokenKind.GE)?_(o.TokenKind.GE):b(o.TokenKind.GT);break;case"<":y(o.TokenKind.LE)?_(o.TokenKind.LE):b(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p("0"===e);break;case" ":case"\t":case"\r":case"\n":case"\0":s+=1;break;case"'":c();break;case'"':d();break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+t+") at position "+s};default:throw{name:"SpelParseException",message:"Cannot handle character '"+e+"' in expression ("+t+") at position "+s}}}(),u}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var n=r(2);function o(e,t,r,n){this.kind=e,this.startPos=r,this.endPos=n,t&&(this.data=t)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var e="[";return e+=this.kind.toString(),this.kind.hasPayload()&&(e+=":"+this.data),e+="]",e+="("+this.startPos+","+this.endPos+")"},o.prototype.isIdentifier=function(){return this.kind===n.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===n.TokenKind.GT||this.kind===n.TokenKind.GE||this.kind===n.TokenKind.LT||this.kind===n.TokenKind.LE||this.kind===n.TokenKind.EQ||this.kind===n.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(n.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(n.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(n.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},t.Token=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;var n=r(0);t.BooleanLiteral={create:function(e,t){var r=n.SpelNode.create("boolean",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberLiteral=void 0;var n=r(0);t.NumberLiteral={create:function(e,t){var r=n.SpelNode.create("number",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;var n=r(0);t.StringLiteral={create:function(e,t){var r=n.SpelNode.create("string",t);return e=function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.substring(1,e.length-1)),e.replace(/''/g,"'").replace(/""/g,'"')}(e),r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;var n=r(0);t.NullLiteral={create:function(e,t){var r=n.SpelNode.create("null",t);return r.getValue=function(){return null},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionReference=void 0;var n=r(0),o=r(1);t.FunctionReference={create:function(e,t,r){var i=n.SpelNode.create("function",t);return i.getRaw=function(){return{functionName:e,args:r}},i.getValue=function(t){var n=t.locals||{},i=t.rootContext,a=[];if(r.forEach((function(e){var r=t.activeContext;t.activeContext=new o.Stack,t.activeContext.push(t.rootContext),a.push(e.getValue(t)),t.activeContext=r})),n[e])return n[e].apply(i,a);throw{name:"FunctionDoesNotExistException",message:"Function '"+e+"' does not exist."}},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MethodReference=void 0;var n=r(0),o=r(1);t.MethodReference={create:function(e,t,r,i){var a=n.SpelNode.create("method",r);return a.getRaw=function(){return{methodName:t,args:i}},a.getValue=function(r){var n,a=r.activeContext.peek(),l=[];if(!a)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."};function s(r){if(null==r){if(e)return null;throw{name:"NullPointerException",message:"Method "+t+" does not exist."}}return r}if(i.forEach((function(e){var t=r.activeContext;r.activeContext=new o.Stack,r.activeContext.push(r.rootContext),l.push(e.getValue(r)),r.activeContext=t})),"get"===t.substr(0,3)&&!a[t])return s(a[t.charAt(3).toLowerCase()+t.substring(4)]);if("set"===t.substr(0,3)&&!a[t])return a[t.charAt(3).toLowerCase()+t.substring(4)]=l[0];if(Array.isArray(a)){if("size"===t)return a.length;if("contains"===t)return a.includes(l[0])}return(n=s(a[t]))?n.apply(a,l):null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyReference=void 0;var n=r(0);t.PropertyReference={create:function(e,t,r){var o=n.SpelNode.create("property",r);return o.getRaw=function(){return t},o.getValue=function(r){var n=r.activeContext.peek();if(!n){if(e)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."}}if(void 0===n[t]||null===n[t]){if(e)return null;if("size"===t&&Array.isArray(n))return n.length;throw{name:"NullPointerException",message:"Property '"+t+"' does not exist."}}return n[t]},o.setValue=function(e,r){var n=r.activeContext.peek();if(!n)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t+"' for an undefined context."};return n[t]=e},o.getName=function(){return t},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReference=void 0;var n=r(0);t.VariableReference={create:function(e,t){var r=n.SpelNode.create("variable",t);return r.getRaw=function(){return e},r.getValue=function(t){var r=t.activeContext.peek(),n=t.locals;if(!r)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+e+"' for an undefined context."};return"this"===e?r:"root"===e?t.rootContext:n[e]},r.setValue=function(t,r){return r.locals[e]=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundExpression=void 0;var n=r(0);t.CompoundExpression={create:function(e,t){var r=n.SpelNode.create.apply(null,["compound",e].concat(t));function o(e){var t,n=r.getChildren().length;for(t=0;t<n;t+=1)"indexer"===r.getChildren()[t].getType()?e.activeContext.push(e.activeContext.peek()[r.getChildren()[t].getValue(e)]):e.activeContext.push(r.getChildren()[t].getValue(e));return function(){for(t=0;t<n;t+=1)e.activeContext.pop()}}return r.getValue=function(e){var t;if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var r=o(e);return t=e.activeContext.peek(),r(),t},r.setValue=function(e,t){var n=o(t),i=r.getChildren().length;return t.activeContext.pop(),e=r.getChildren()[i-1].setValue(e,t),t.activeContext.push(null),n(),e},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Indexer=void 0;var n=r(0),o=r(1);t.Indexer={create:function(e,t){var r=n.SpelNode.create.apply(null,["indexer",e].concat(t));return r.getValue=function(e){var t,n,i=e.activeContext,a=r.getChildren().length;if(e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(t=0;t<a;t+=1)e.activeContext.push(r.getChildren()[t].getValue(e));for(n=e.activeContext.peek(),t=0;t<a;t+=1)e.activeContext.pop();return e.activeContext=i,n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Assign=void 0;var n=r(0);t.Assign={create:function(e,t,r){var o=n.SpelNode.create("assign",e,t,r);return o.getValue=function(e){if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t.getValue(e)+"' for an undefined context."};return t.setValue(r.getValue(e),e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpEQ=void 0;var n=r(0);t.OpEQ={create:function(e,t,r){var o=n.SpelNode.create("op-eq",e,t,r);return o.getValue=function(e){return t.getValue(e)===r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNE=void 0;var n=r(0);t.OpNE={create:function(e,t,r){var o=n.SpelNode.create("op-ne",e,t,r);return o.getValue=function(e){return t.getValue(e)!==r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGE=void 0;var n=r(0);t.OpGE={create:function(e,t,r){var o=n.SpelNode.create("op-ge",e,t,r);return o.getValue=function(e){return t.getValue(e)>=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGT=void 0;var n=r(0);t.OpGT={create:function(e,t,r){var o=n.SpelNode.create("op-gt",e,t,r);return o.getValue=function(e){return t.getValue(e)>r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLE=void 0;var n=r(0);t.OpLE={create:function(e,t,r){var o=n.SpelNode.create("op-le",e,t,r);return o.getValue=function(e){return t.getValue(e)<=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLT=void 0;var n=r(0);t.OpLT={create:function(e,t,r){var o=n.SpelNode.create("op-lt",e,t,r);return o.getValue=function(e){return t.getValue(e)<r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPlus=void 0;var n=r(0);t.OpPlus={create:function(e,t,r){var o=n.SpelNode.create("op-plus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)+r.getValue(e):+t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMinus=void 0;var n=r(0);t.OpMinus={create:function(e,t,r){var o=n.SpelNode.create("op-minus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)-r.getValue(e):-t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMultiply=void 0;var n=r(0);t.OpMultiply={create:function(e,t,r){var o=n.SpelNode.create("op-multiply",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);if("number"==typeof n&&"number"==typeof o)return n*o;if("string"==typeof n&&"number"==typeof o){for(var i="",a=0;a<o;a+=1)i+=n;return i}return null},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDivide=void 0;var n=r(0);t.OpDivide={create:function(e,t,r){var o=n.SpelNode.create("op-divide",e,t,r);return o.getValue=function(e){return t.getValue(e)/r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpModulus=void 0;var n=r(0);t.OpModulus={create:function(e,t,r){var o=n.SpelNode.create("op-modulus",e,t,r);return o.getValue=function(e){return t.getValue(e)%r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPower=void 0;var n=r(0);t.OpPower={create:function(e,t,r){var o=n.SpelNode.create("op-power",e,t,r);return o.getValue=function(e){return Math.pow(t.getValue(e),r.getValue(e))},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInc=void 0;var n=r(0);t.OpInc={create:function(e,t,r){var o=n.SpelNode.create("op-inc",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n+1,e),t?n:n+1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDec=void 0;var n=r(0);t.OpDec={create:function(e,t,r){var o=n.SpelNode.create("op-dec",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n-1,e),t?n:n-1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNot=void 0;var n=r(0);t.OpNot={create:function(e,t){var r=n.SpelNode.create("op-not",e,t);return r.getValue=function(e){return!t.getValue(e)},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpAnd=void 0;var n=r(0);t.OpAnd={create:function(e,t,r){var o=n.SpelNode.create("op-and",e,t,r);return o.getValue=function(e){return!!t.getValue(e)&&!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpOr=void 0;var n=r(0);t.OpOr={create:function(e,t,r){var o=n.SpelNode.create("op-or",e,t,r);return o.getValue=function(e){return!!t.getValue(e)||!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMatches=void 0;var n=r(0);t.OpMatches={create:function(e,t,r){var o=n.SpelNode.create("matches",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);try{return!!new RegExp(o).exec(n)}catch(i){throw{name:"EvaluationException",message:i.toString()}}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Ternary=void 0;var n=r(0);t.Ternary={create:function(e,t,r,o){var i=n.SpelNode.create("ternary",e,t,r,o);return i.getValue=function(e){return t.getValue(e)?r.getValue(e):o.getValue(e)},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Elvis=void 0;var n=r(0);t.Elvis={create:function(e,t,r){var o=n.SpelNode.create("elvis",e,t,r);return o.getValue=function(e){return null!==t.getValue(e)?t.getValue(e):r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineList=void 0;var n=r(0);t.InlineList={create:function(e,t){var r=n.SpelNode.create("list",e),o=[].concat(t||[]);return r.getRaw=function(){return o},r.getValue=function(e){return o.map((function(t){return t.getValue(e)}))},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineMap=void 0;var n=r(0);t.InlineMap={create:function(e,t){var r=n.SpelNode.create("map",e),o=[].concat(t||[]);return r.getValue=function(e){var t=!0,r=null,n={};return o.forEach((function(o){t?r="property"===o.getType()?o.getName():o.getValue(e):n[r]=o.getValue(e),t=!t})),n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}t.Selection={create:function(e,t,r,a){var l=o.SpelNode.create("selection",r,a);return l.getValue=function(e){var r=e.activeContext.peek();if(r){if(Array.isArray(r))return function(e,t,r,n){var o=e.filter((function(e){return i(e,r,n)}));switch(t){case"ALL":return o;case"FIRST":return o[0]||null;case"LAST":return o.length?o[o.length-1]:null}}(r,t,a,e);if("object"===(void 0===r?"undefined":n(r)))return function(e,t,r,n){var o,a,l={},s=[],u={};for(a in e)e.hasOwnProperty(a)&&i(o={key:a,value:e[a]},r,n)&&s.push(o);switch(t){case"ALL":return s.forEach((function(e){l[e.key]=e.value})),l;case"FIRST":return s.length?(u[s[0].key]=s[0].value,u):null;case"LAST":return s.length?(u[s[s.length-1].key]=s[s.length-1].value,u):null}s.forEach((function(e){l[e.key]=e.value}))}(r,t,a,e)}return null},l},FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){return e.map((function(e){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}))}t.Projection={create:function(e,t,r){var a=o.SpelNode.create("projection",t,r);return a.getValue=function(e){var t,o=e.activeContext.peek(),a=[];if(Array.isArray(o))return i(o,r,e);if("object"===(void 0===o?"undefined":n(o))){for(t in o)o.hasOwnProperty(t)&&a.push(o[t]);return i(a,r,e)}return null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInstanceof=void 0;var n=r(0);t.OpInstanceof={create:function(e,t,r){var o=n.SpelNode.create("instanceof",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpBetween=void 0;var n=r(0);t.OpBetween={create:function(e,t,r){var o=n.SpelNode.create("between",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeReference=void 0;var n=r(0);t.TypeReference={create:function(e,t,r){return(t=n.SpelNode.create("typeref",e,t)).getValue=function(e){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},t}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BeanReference=void 0;var n=r(0);t.BeanReference={create:function(e,t){var r=n.SpelNode.create("beanref",e);return r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Identifier=void 0;var n=r(0);t.Identifier={create:function(e,t){var r=n.SpelNode.create("identifier",t);return r.getRaw=function(){return e},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedIdentifier=void 0;var n=r(0);t.QualifiedIdentifier={create:function(e,t){var r=n.SpelNode.create.apply(n.SpelNode,["qualifiedidentifier",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));return r.getRaw=function(){return t.map((function(e){return e.getRaw()}))},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorReference=void 0;var n=r(0),o=r(1);t.ConstructorReference={create:function(e,t,r){var i,a=void 0!==r;a?i=t.length&&t[0]&&"number"===t[0].getType()?t[0].getValue():null:(r=t,t=void 0);var l,s=(l=r,Array.isArray(l)?l:Array.from(l));s[0];var u=s.slice(1),c=n.SpelNode.create.apply(n.SpelNode,["constructorref",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)));return c.getRaw=function(){return i},c.getValue=function(e){if(a&&u.length<=1){var t=[];return u.forEach((function(r){var n=e.activeContext;e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),t.push(r.getValue(e)),e.activeContext=n})),1===u.length?t[0]:i?new Array(i):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},c}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext={create:function(e,t){var r={};return r.authentication=e||{},r.principal=t||{},r.hasRole=function(e){var t=!1;return!!e&&!(!r.authentication&&!Array.isArray(r.authentication.authorities))&&(r.authentication.authorities.forEach((function(r){r.authority.toLowerCase()===e.toLowerCase()&&(t=!0)})),t)},r.hasPermission=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length)return r.hasRole(e[0])},r}}}])},e.exports=r()}(zN);var BN=zN.exports,HN={};!function(e){var t=e,r=/`/g,n=/\./g,o=/[\0\b\t\n\r\x1a\"\'\\]/g,i={"\0":"\\0","\b":"\\b","\t":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};function a(e){for(var t,r=o.lastIndex=0,n="";t=o.exec(e);)n+=e.slice(r,t.index)+i[t[0]],r=o.lastIndex;return 0===r?"'"+e+"'":r<e.length?"'"+n+e.slice(r)+"'":"'"+n+"'"}function l(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}t.escapeId=function(e,o){if(Array.isArray(e)){for(var i="",a=0;a<e.length;a++)i+=(0===a?"":", ")+t.escapeId(e[a],o);return i}return o?"`"+String(e).replace(r,"``")+"`":"`"+String(e).replace(r,"``").replace(n,"`.`")+"`"},t.escape=function(e,r,n){if(null==e)return"NULL";switch(typeof e){case"boolean":return e?"true":"false";case"number":return e+"";case"object":return"[object Date]"===Object.prototype.toString.call(e)?t.dateToString(e,n||"local"):Array.isArray(e)?t.arrayToList(e,n):Buffer.isBuffer(e)?t.bufferToString(e):"function"==typeof e.toSqlString?String(e.toSqlString()):r?a(e.toString()):t.objectToValues(e,n);default:return a(e)}},t.arrayToList=function(e,r){for(var n="",o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?n+=(0===o?"":", ")+"("+t.arrayToList(i,r)+")":n+=(0===o?"":", ")+t.escape(i,!0,r)}return n},t.format=function(e,r,n,o){if(null==r)return e;Array.isArray(r)||(r=[r]);for(var i,a=0,l=/\?+/g,s="",u=0;u<r.length&&(i=l.exec(e));){var c=i[0].length;if(!(c>2)){var d=2===c?t.escapeId(r[u]):t.escape(r[u],n,o);s+=e.slice(a,i.index)+d,a=l.lastIndex,u++}}return 0===a?e:a<e.length?s+e.slice(a):s},t.dateToString=function(e,t){var r,n,o,i,s,u,c,d=new Date(e);if(isNaN(d.getTime()))return"NULL";if("local"===t)r=d.getFullYear(),n=d.getMonth()+1,o=d.getDate(),i=d.getHours(),s=d.getMinutes(),u=d.getSeconds(),c=d.getMilliseconds();else{var p=function(e){if("Z"===e)return 0;var t=e.match(/([\+\-\s])(\d\d):?(\d\d)?/);if(t)return("-"===t[1]?-1:1)*(parseInt(t[2],10)+(t[3]?parseInt(t[3],10):0)/60)*60;return!1}(t);!1!==p&&0!==p&&d.setTime(d.getTime()+6e4*p),r=d.getUTCFullYear(),n=d.getUTCMonth()+1,o=d.getUTCDate(),i=d.getUTCHours(),s=d.getUTCMinutes(),u=d.getUTCSeconds(),c=d.getUTCMilliseconds()}return a(l(r,4)+"-"+l(n,2)+"-"+l(o,2)+" "+l(i,2)+":"+l(s,2)+":"+l(u,2)+"."+l(c,3))},t.bufferToString=function(e){return"X"+a(e.toString("hex"))},t.objectToValues=function(e,r){var n="";for(var o in e){var i=e[o];"function"!=typeof i&&(n+=(0===n.length?"":", ")+t.escapeId(o)+" = "+t.escape(i,!0,r))}return n},t.raw=function(e){if("string"!=typeof e)throw new TypeError("argument sql must be a string");return{toSqlString:function(){return e}}}}(HN);var UN=g(HN);UN.trim=function(e){return"'"==e.charAt(0)?e.substring(1,e.length-1):e},UN.escapeLike=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=UN.escape(e);return n="'"+(n=(t?"%":"")+(n=(n=UN.trim(n)).replace(/[%_]/g,"\\$&"))+(r?"%":""))+"'"};var $N=function(e){var t="''",r=null==e?void 0:e.type;return"date"==r?t="'0000-00-00'":"datetime"==r?t="'0000-00-00 00:00'":"time"==r?t="'00:00'":"number"==r&&(t="0"),t},WN=function(e){var t="";return"number"==(null==e?void 0:e.type)&&(t=0),t},KN=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=["int","float"];return e.map((function(e){if(null!=e){if("string"==typeof e)r="String";else{if("number"!=typeof e)throw new Error("spelEscape: Can't use value ".concat(e," in array"));r=Number.isInteger(e)?"int":"float"}if(t){if(t!=r){if(!i.includes(t)||!i.includes(r))throw new Error("spelEscape: Can't use different types in array: found ".concat(t," and ").concat(r));t="float"}}else t=r}})),t||(t="String"),n="float"==t?e.map((function(e){return GN(e,!0)})):e.map((function(e){return GN(e)})),o?"new ".concat(t,"[]{").concat(n.join(", "),"}"):"{".concat(n.join(", "),"}")},YN=function(e){return"".concat(e,".?[true]")},GN=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return"null";switch(_(e)){case"boolean":return e?"true":"false";case"number":if(!Number.isFinite(e)||isNaN(e))return;return e+(!Number.isInteger(e)||t?"f":"");case"object":if(Array.isArray(e))return KN(e,r);throw new Error("spelEscape: Object is not supported");default:return function(e){return"'"+e.replace(/'/g,"''")+"'"}(e)}},JN=function(e){return null==e?"NULL":e.toString()},QN=function(e){return null==e||"("===(null==e?void 0:e[0])&&")"===(null==e?void 0:e[(null==e?void 0:e.length)-1])?e:"("+e+")"};const XN=Object.freeze(Object.defineProperty({__proto__:null,SqlString:UN,mongoEmptyValue:WN,spelEscape:GN,spelFixList:YN,spelFormatConcat:function(e){return e&&Array.isArray(e)&&e.length?e.map((function(e){return"const"==e.type?GN(e.value):"property"==e.type?""+e.value:"variable"==e.type?"#"+e.value:void 0})).filter((function(e){return null!=e})).join(" + "):"null"},spelImportConcat:function(e){if(null==e)return[void 0,[]];var t=[],r="case_value"==e.valueType?e.value:e;return[(Array.isArray(r)?r:[r]).map((function(e){return"value"===e.valueSrc?null===e.value?void 0:{type:"const",value:e.value}:"field"===e.valueSrc?{type:e.isVariable?"variable":"property",value:e.value}:void t.push("Unsupported valueSrc ".concat(e.valueSrc," in concatenation"))})).filter((function(e){return null!=e})),t]},sqlEmptyValue:$N,stringifyForDisplay:JN,wrapWithBrackets:QN},Symbol.toStringTag,{value:"Module"}));function ZN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return eF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eF(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function eF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nF="${0}.compareTo(${1})",oF={datetime:!0,time:!0,date:!0},iF=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=Mz(t,void 0,!1),i=aF(e,o,n,null);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SpEL:",n.errors),i)},aF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return"group"===o||"rule_group"===o?uF(e,t,r,n):"rule"===o?pF(e,t,r,n):"switch_group"==o?sF(e,t,r):"case_group"==o?lF(e,t,r,n):void 0}},lF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type");if("case_group"==o){var i=e.get("properties")||new iC,a=hF(t,i,r,null,n,"!case_value"),l=bt(a,3),s=l[0];return l[1],l[2],[uF(e,t,r,n),s]}r.errors.push("Unexpected child of type ".concat(o," inside switch"))},sF=function(e,t,r){e.get("properties")||new iC;var n=e.get("children1");if(n){var o=n.map((function(e){return lF(e,t,r,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray();if(o.length){if(1==o.length&&!o[0][0])return o[0][1];for(var i=[],a=0;a<o.length;a++)a==o.length-1||o[a][0]?(i.push(o[a]),a==o.length-1&&o[a][0]&&i.push([void 0,null])):r.errors.push("No condition for case ".concat(a));for(var l="",s="",u=0;u<i.length;u++){var c=bt(i[u],2),d=c[0],p=c[1];null==p&&(p="null"),null==d&&(d="true"),u!=i.length-1?(l+="(".concat(d," ? ").concat(p," : "),s+=")"):l+="".concat(p)}return l+s}}},uF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type"),i=e.get("properties")||new iC,a=i.get("mode"),l=e.get("children1")||new TC,s=i.get("field"),u=i.get("conjunction");u||(u=tR(t));var c=t.conjunctions[u],d=i.get("not"),p="rule_group"===o,f=p&&"struct"!=a,h=f?s:n,g=(uB(t,h)||{}).isSpelArray,v=t.settings.fieldSeparator,m=i.get("operator");m||a&&"some"!=a||(m="some");var y=dF(t,m,s),b=y!=m,_=m&&cB(t,y,s)||null,x=p&&(!y||0==_.cardinality),w=hF(t,i,r,y,n,null),O=bt(w,3),S=O[0],k=O[1],j=O[2],E=l.map((function(e){return aF(e,t,r,h)})).filter((function(e){return void 0!==e}));if(f&&!x){if(null==S)return}else if(!E.size)return;var C,T=p,q=E.size?c.spelFormatConj.call(t.ctx,E,u,d,T):null;if(f){var I=vF(r,t,s,n),A=(v||".")+(g?"length":"size()"),L="".concat(I).concat(A),P=q?"".concat(I,".?[").concat(q,"]").concat(A):L;C=cF(r,t,i,P,x?L:S,y,k,j,b)}else C=q;return C},cF=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=r.get("field"),c=cB(t,i,u)||{},d=uB(t,u)||{},p=r.get("operatorOptions"),f=c.spelFormatOp||function(e,t,r){var n=t.spelOp;if(n){var o,i=n.includes("${0}"),a=oF[r],l=n,s=rq(t);return a?o=function(e,t,r,n,o,i,a,u){var c=nF.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}));return"".concat(c," ").concat(l," 0")}:i?o=function(e,t,r,o,i,a,l,u){return n.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}))}:0==s?o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l)}:1==s&&(o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l," ").concat(r)}),o}}(0,c,l);if(f){var h,g=[n,i,o,a,l,tq(c,XT),p,d];return h=f.call.apply(f,[t.ctx].concat(g)),s&&(h=t.settings.spelFormatReverse.call(t.ctx,h)),void 0===h&&e.errors.push("Operator ".concat(i," is not supported for value source ").concat(a)),h}e.errors.push("Operator ".concat(i," is not supported"))},dF=function(e,t,r){if(t){var n=cB(e,t,r)||{},o=n.reversedOp,i=cB(e,o,r)||{},a=n.spelOp||n.spelFormatOp,l=i.spelOp||i.spelFormatOp;if(a||l){if(!a&&l){var s=[o,t];t=s[0],o=s[1];var u=[i,n];n=u[0],i=u[1]}return t}}},pF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("properties")||new iC,i=o.get("field"),a=o.get("fieldSrc"),l=o.get("operator");if(null!=i&&null!=l){var s=dF(t,l,i);if(s){var u=s!=l,c=hF(t,o,r,s,n,null),d=bt(c,3),p=d[0],f=d[1],h=d[2];if(void 0!==p){var g=fF(r,t,i,a,n);if(void 0!==g)return cF(r,t,o,g,p,s,f,h,u)}}else r.errors.push("Operator ".concat(l," is not supported"))}},fF=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return"func"===n?mF(e,t,r,o):vF(e,t,r,o)},hF=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u,c=uB(e,a)||{},d=cB(e,n,a)||{},p=rq(d),f=t.get("value"),h=t.get("asyncListValues"),g=[],v=[];if(null!=f){var m=f.map((function(t,i){var u=l?l.get(i):null,p=s?s.get(i):null,f=KD(t,u,e),m=FD(e,a,n,u),y=dB(e,a,n,m,u,{forExport:!0}),b=gF(r,e,f,u,p,y,c,n,d,o,h);return void 0!==b&&(g.push(u),v.push(p)),b})),y=m.filter((function(e){return void 0===e})).size>0;m.size<p||y||(u=p>1?m.toArray():1==p?m.first():null)}return[u,g.length>1?g:g[0],v.length>1?v:v[0]]},gF=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"===n)d=vF(e,t,r,u);else if("func"===n)d=mF(e,t,r,u);else if("function"==typeof(null==i?void 0:i.spelFormatValue)){var p=i.spelFormatValue,f=[r,rF(rF({},fA(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),tq(i,QT)];if(l&&(f.push(l),f.push(s)),"field"==n){var h=uB(t,r)||{};f.push(h)}d=p.call.apply(p,[t.ctx].concat(f))}else d=GN(r);return d}},vF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r){var o=t.settings.fieldSeparator,i=uB(t,r)||{},a=oB(r,t),l=AD(r,t,n),s=t.settings.formatSpelField,u=RD(r,t,e,n),c=l.map((function(e){var t,r=bt(e,3),n=r[0],i=r[1],a=r[2];return a&&(t="!struct"==a.type||"!group"==a.type&&"struct"==a.mode?i.isSpelMap?"map":"class":"!group"==a.type?i.isSpelItemMap?"[map]":"[class]":"class"),{key:n,parent:t,isSpelVariable:null==i?void 0:i.isSpelVariable,fieldSeparator:o}}));return s.call(t.ctx,u,n,a,c,i,t)}},mF=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=eB(t,a);if(s){var u={},c=[],d=[];for(var p in s.args){var f,h,g=s.args[p],v=uB(t,g),m=g.defaultValue,y=g.isOptional,b=null!=m&&m.func?"func":"value",_=l?l.get(p):void 0,x=_?_.get("value"):void 0,w=_?_.get("valueSrc"):void 0;"func"!==w&&null!==(f=x)&&void 0!==f&&f.toJS&&(x=x.toJS());var O=_?_.get("asyncListValues"):void 0,S=null===(h=g.spelEscapeForFormat)||void 0===h||h,k=null,j=FD(t,g,k,w),E=dB(t,g,k,j,w,{forExport:!0}),C=gF(e,t,x,w,g.type,E,v,null,null,i,O);if(null!=x&&void 0===C)return void("func"!=w&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(a)));var T=void 0;if(void 0===C&&!y&&null!=m){var q=FD(t,g,k,b),I=dB(t,g,k,q,b,{forExport:!0});if(void 0===(T=gF(e,t,m,b,g.type,I,v,null,null,i,O)))return void("func"!=b&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){var L;if(c.length){var P,N=ZN(c);try{for(N.s();!(P=N.n()).done;){var F=P.value;u[F]=void 0}}catch(U){N.e(U)}finally{N.f()}c=[]}u[p]=S?A:null!==(L=x)&&void 0!==L?L:m}else y||d.push(p),c.push(p)}if(!d.length){var R;if("function"==typeof s.spelFormatFunc){var M=s.spelFormatFunc,D=[u];R=M.call.apply(M,[t.ctx].concat(D))}else if(s.spelFunc){R=s.spelFunc.replace(/\${(\w+)}/g,(function(e,t){var r;return null!==(r=u[t])&&void 0!==r?r:e}));var V,z=Object.keys(s.args||{}).reverse().filter((function(e){return!!s.args[e].isOptional})),B=ZN(z);try{for(B.s();!(V=B.n()).done;){var H=V.value;if(null!=u[H])break;R=R.replace(new RegExp("(, )?\\${"+H+"}","g"),"")}}catch(U){B.e(U)}finally{B.f()}R=R.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(a," is not supported"));return R}}else e.errors.push("Func ".concat(a," is not defined in config"))};function yF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return bF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bF(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function bF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_F(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wF={number:"number",string:"text",boolean:"boolean",null:"null"},OF={String:"text"},SF=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},kF=function(e,t){var r,n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={errors:[]},a=Mz(t,void 0,!1),l=CF(a),s=void 0;try{r=BN.SpelExpressionEvaluator.compile(e)._compiledExpression}catch(ln){i.errors.push(ln)}r&&(n=jF(r,i),xq.debug("convertedObj:",n,i),(s=TF(n,l,a,i))&&"group"!=s.type&&"switch_group"!=s.type&&(s=UF(s,a,n.not)),xq.debug("jsTree:",s));var u=s?uN(s):void 0;return o?[u,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),u)},jF=function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.getType(),a=t.getChildren().map((function(n){return e(n,r,t)}));if("op-or"!=i&&"op-and"!=i||(a=a.reduce((function(e,t){var r=t.type==i&&!t.not?t.children:[t];return[].concat(Ek(e),Ek(r))}),[])),"op-not"==i)return 1!=a.length&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),xF(xF({},a[0]),{},{not:!a[0].not});if("compound"==i){var l=(a=a.filter((function(e){return!("selection"==e.type&&1==e.children.length&&"boolean"==e.children[0].type&&1==e.children[0].val)}))).find((function(e){return"selection"==e.type}));l&&1!=l.children.length&&r.errors.push("Selection should have 1 child, but got ".concat(l.children.length));var s=l?l.children[0]:null,u=a[a.length-1],c="method"==u.type&&"size"==u.val.methodName||"!func"==u.type&&"size"==u.methodName,d="property"==u.type&&"length"==u.val,p=a.filter((function(e){return e!==l&&e!==u})),f={type:"compound",children:p};if((c||d)&&null!=IF(p))return{type:"!aggr",filter:s,source:f};if(a=(a=a.filter((function(e){var t="variable"==e.type&&"this"==e.val,r="variable"==e.type&&"root"==e.val;return!(t||r)}))).map((function(e){return"indexer"==e.type&&1==e.children.length?{type:"indexer",val:e.children[0].val,itype:e.children[0].type}:e})),"!func"==u.type){var h={},g=h;do{var v,m;Object.assign(g,u),a=a.filter((function(e){return e!==u})),"!func"==(null===(m=u=a[a.length-1])||void 0===m?void 0:m.type)?(g.obj={},g=g.obj):a.length>1?g.obj={type:"compound",children:a}:g.obj=u}while("!func"==(null===(v=u)||void 0===v?void 0:v.type));return h}}try{t.getRaw?n=t.getRaw():0==t.getValue.length&&(n=t.getValue())}catch(ln){xq.error("[spel2js] Error in getValue()",ln)}if("ternary"==i&&(n=EF(a)),"object"===_(n)&&null!==n&&(n.methodName||n.functionName)&&(n.args=n.args.map((function(n){return e(n,r,t)}))),"list"==i&&(n=n.map((function(n){return e(n,r,t)})),!o&&1==n.length))return n[0];if("constructorref"==i){var y=a.find((function(e){return"qualifiedidentifier"==e.type})),b=null==y?void 0:y.val;return b?{type:"!new",cls:b,args:a.filter((function(e){return"qualifiedidentifier"!=e.type}))}:void r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)))}if("typeref"==i){var x=a.find((function(e){return"qualifiedidentifier"==e.type})),w=null==x?void 0:x.val;return w?(a.filter((function(e){return"qualifiedidentifier"!=e.type})),{type:"!type",cls:w}):void r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)))}if("function"==i||"method"==i){var O=n,S=O.functionName,k=O.methodName,j=O.args;return{type:"!func",methodName:S||k,isVar:"function"==i,args:j}}return{type:i,children:a,val:n}},EF=function(e){var t=[];return function e(r){var n=bt(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]),"ternary"==(null==a?void 0:a.type)?e(a.children):t.push([void 0,a])}(e),t},CF=function(e){var t={},r=function(r){var n=e.operators[r];if(n.spelOps)n.spelOps.forEach((function(e){var n=e;t[n]||(t[n]=[]),t[n].push(r)}));else if(n.spelOp){var o=n.spelOp;t[o]||(t[o]=[]),t[o].push(r)}else xq.log("[spel] No spelOp for operator ".concat(r))};for(var n in e.operators)r(n);var o={};for(var i in e.conjunctions){o[e.conjunctions[i].spelConj||i.toLowerCase()]=i}var a,l={},s=yF(Yz(e));try{var u=function(){var e=bt(a.value,2),t=e[0],r=e[1],n=[],o=r.spelFunc;if("string"==typeof o){var i=Object.keys(r.args||{}).reverse().filter((function(e){return!!r.args[e].isOptional||null!=r.args[e].defaultValue})),s=o.replace(/\${(\w+)}/g,(function(e,t){return"?"})),u=i.reduce((function(e,t){return[].concat(Ek(e),[[t].concat(Ek(e[e.length-1]||[]))])}),[]).map((function(e){return o.replace(/(?:, )?\${(\w+)}/g,(function(t,r){return e.includes(r)?"":t})).replace(/\${(\w+)}/g,(function(e,t){return"?"}))}));n=[s].concat(Ek(u))}var c,d=yF(n);try{for(d.s();!(c=d.n()).done;){var p=c.value;l[p]||(l[p]=[]),l[p].push(t)}}catch(f){d.e(f)}finally{d.f()}};for(s.s();!(a=s.n()).done;)u()}catch(S){s.e(S)}finally{s.f()}var c={};for(var d in e.widgets){var p=e.widgets[d],f=p.spelImportFuncs;if(p.type,f){var h,g=yF(f);try{for(g.s();!(h=g.n()).done;){var v=h.value;if("string"==typeof v){var m=v.replace(/\${(\w+)}/g,(function(e,t){return"?"})),y=Ek(v.matchAll(/\${(\w+)}/g)).map((function(e){var t=bt(e,2);t[0];return t[1]}));c[m]||(c[m]=[]),c[m].push({w:d,argsOrder:y})}}}catch(S){g.e(S)}finally{g.f()}}}var b={};for(var _ in e.operators){var x=e.operators[_].spelOp;if(null!=x&&x.includes("${0}")){var w=x.replace(/\${(\w+)}/g,(function(e,t){return"?"})),O=Ek(x.matchAll(/\${(\w+)}/g)).map((function(e){var t=bt(e,2);return t[0],t[1]}));b[w]||(b[w]=[]),b[w].push({op:_,argsOrder:O})}}return b[nF.replace(/\${(\w+)}/g,(function(e,t){return"?"}))]=[{op:"!compare",argsOrder:["0","1"]}],{operators:t,conjunctions:o,funcs:l,valueFuncs:c,opFuncs:b}},TF=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t){t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==a?void 0:a._groupField;var l,s=!0;if(0===t.type.indexOf("op-")||"matches"===t.type)l=qF(t,r,n,o,a);else if("!aggr"==t.type){var u,c=e(t.source,r,n,o,t);t._groupField=null==c?void 0:c.value;var d=e(t.filter,r,n,o,t);"rule"==(null===(u=d)||void 0===u?void 0:u.type)&&(d=UF(d,n,t.filter.not)),l={groupFilter:d,groupFieldValue:c},a||(l=void 0,o.errors.push("Unexpected !aggr in root"),s=!1)}else if("ternary"==t.type){var p={};t.val.forEach((function(e){var i=bt(e,2),a=i[0],l=i[1],s=zF(a,l,r,n,o,t);s&&(p[s.id]=s)})),l={type:"switch_group",id:YT(),children1:p,properties:{}}}if(!l&&s&&(l=AF(t,r,n,o,a)),l&&!l.type&&!a){var f=VF(t,r,n,o);f?l=f:(l=void 0,o.errors.push("Can't convert rule of type ".concat(t.type,", it looks like var/literal")))}return l}},qF=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=t.type.startsWith("op-")?t.type.slice(3):t.type;if(("minus"==l||"plus"==l)&&1==t.children.length){var s=t.negative;return"minus"==l&&(s=!s),t.children[0].negative=s,TF(t.children[0],r,n,o,a)}var u="and"==l&&2==t.children.length&&"op-ge"==t.children[0].type&&"op-le"==t.children[1].type,c="or"==l&&2==t.children.length&&"op-lt"==t.children[0].type&&"op-gt"==t.children[1].type;if(u||c){var d=bt(t.children[0].children,2),p=d[0],f=d[1],h=bt(t.children[1].children,2),g=h[0],v=h[1];if(DF(p,g,t,r,n,o)){f.val,v.val;var m={type:"op-between",children:[p,f,v],not:c};return m._groupField=null==a?void 0:a._groupField,e(m,r,n,o,a)}}var y=r.operators[l];"eq"==l&&"null"==t.children[1].type?y=["is_null"]:"ne"==l&&"null"==t.children[1].type?y=["is_not_null"]:"le"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_empty"]:"gt"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_not_empty"]:"between"==l&&(y=["between"]);var b=function(){var e,i=t.children.map((function(e){return TF(e,r,n,o,t)}));return i.length>=2&&"!compare"==(null===(e=i)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)&&(i=i[0].children),i};if("and"==l||"or"==l){var _={};b().forEach((function(e){if(e){var t=YT();e.id=t,null!=e.type?_[t]=e:o.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(e)))}})),i={type:"group",id:YT(),children1:_,properties:{conjunction:r.conjunctions[l],not:t.not}}}else if(y){var x,w,O,S=b(),k=S[0],j=S.slice(1),E=null==k||null===(x=k.groupFieldValue)||void 0===x?void 0:x.value,C=null===(w=j)||void 0===w?void 0:w[0],T=y[0];if(y.length>1){var q,I,A=(null===(q=S[0])||void 0===q?void 0:q.valueType)||(null===(I=S[1])||void 0===I?void 0:I.valueType),L=null==k?void 0:k.value,P=y.map((function(e){return{op:e,widget:FD(n,L,e)}}));if(xq.warn("[spel] Spel operator ".concat(l," can be mapped to ").concat(y,"."),"widgets:",P,"vals:",S,"valueType=",A),"eq"==l||"ne"==l){var N=P.find((function(e){e.op;var t=e.widget;return t&&"field"!=t}));N&&(T=N.op)}}null!=k&&k.groupFieldValue&&(C&&C.groupFieldValue&&"field"==C.groupFieldValue.valueSrc&&C.groupFieldValue.value==E?(T="all",j=[]):"equal"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value?(T="none",j=[]):"greater"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value&&(T="some",j=[]));var F=n.operators[T],R=n.operators[null===(O=F)||void 0===O?void 0:O.reversedOp],M=t.not&&["between"].includes(T),D=!!R&&(!!n.settings.reverseOperatorsForNot||M);(t.not&&D||M)&&(T=F.reversedOp,F=n.operators[T],t.not=!t.not);var V=!!t.not;if(t.not=!1,k)if(k.groupFieldValue)"field"!=k.groupFieldValue.valueSrc&&o.errors.push("Expected group field ".concat(JSON.stringify(k))),i=MF(k,T,j,n,o);else{"field"!=k.valueSrc&&"func"!=k.valueSrc&&o.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(k)));var z=k.value;i=RF(n,o,z,T,j,t)}else;V&&("group"!==i.type?i=UF(i,n,!0):i.properties.not=!i.properties.not)}else a||(i=VF(t,r,n,o));return i},IF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=e.map((function(e){if("variable"==e.type||"property"==e.type||"indexer"==e.type&&"string"==e.itype)return e.val;var o,i;n=!0,r&&(null==t||null===(o=t.errors)||void 0===o||null===(i=o.push)||void 0===i||i.call(o,"Unexpected item in field path compound: ".concat(JSON.stringify(e))))}));return n?void 0:o},AF=function e(t,r,n,o){var i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!=t){var s=n.settings.fieldSeparator;if(t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==l?void 0:l._groupField,"variable"==t.type||"property"==t.type){var u=Xz(n,t.val,t._groupField),c=uB(n,u),d="variable"==t.type;return{valueSrc:"field",valueType:null==c?void 0:c.type,isVariable:d,value:u}}if("compound"==t.type){var p=IF(t.children,o);if(p){var f,h=Xz(n,p.join(s),t._groupField),g=uB(n,h),v="variable"==(null===(f=t.children)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.type);return{valueSrc:"field",valueType:null==g?void 0:g.type,isVariable:v,value:h}}}else{if(wF[t.type]){var m=t.val,y=wF[t.type];return t.negative&&(m=-m),{valueSrc:"value",valueType:y,value:m}}if("!new"==t.type&&OF[t.cls.at(-1)]){var b=t.args.map((function(i){return e(i,r,n,o,t)})),_=null==b?void 0:b[0],x=OF[t.cls.at(-1)];return xF(xF({},_),{},{valueType:x})}if("list"==t.type){var w,O=t.val.map((function(i){return e(i,r,n,o,t)}));O.length&&(null===(w=O[0])||void 0===w||w.valueType);return{valueSrc:"value",valueType:"multiselect",value:O.map((function(e){return null==e?void 0:e.value}))}}if("op-plus"===t.type&&"ternary"===(null==l?void 0:l.type)&&"case_value"===(null===(a=n.settings.caseValueField)||void 0===a?void 0:a.type))return BF(t,r,n,o)}var S=PF(t,r,n,o,l);if(void 0!==S)return S;o.errors.push("Can't convert arg of type ".concat(t.type))}},LF=function e(t,r){var n=[],o="",i=t.type,a=t.methodName;t.val;var l,s=t.obj,u=t.args,c=t.isVar,d=t.cls,p=t.children,f=null==p?void 0:p[p.length-1],h=r[r.length-1];if("!func"===i){for(var g=s;g;){var v,m=e(xF(xF({},g),{},{obj:null}),[{}]),y=bt(m,2),b=y[0],_=y[1];if("?"!==b){var x={s:h.s,params:Ek(h.params),objs:Ek(h.objs)};h.objs.unshift("?"),h.params.unshift(g),r.push(x),h=r[r.length-1]}h.objs.unshift(b),(v=h.params).unshift.apply(v,Ek(_)),g="!func"===g.type?g.obj:null}var w,O=yF(r);try{for(O.s();!(w=O.n()).done;){var S,k=w.value;n=[].concat(Ek((null==k?void 0:k.params)||[]),Ek(u||[])),o="",null!=k&&null!==(S=k.objs)&&void 0!==S&&S.length&&(o+=k.objs.join(".")+"."),o+=(c?"#":"")+a,o+="("+(u||[]).map((function(e){return"?"})).join(", ")+")",k.s=o,k.params=n}}catch(j){O.e(j)}finally{O.f()}}else"!new"===i?(n=u||[],o="new ".concat(d.join("."),"(").concat(n.map((function(e){return"?"})).join(", "),")")):"!type"===i?o="T(".concat(d.join("."),")"):"compound"===i&&"property"===f.type&&(l=f.val,["length"].includes(l))?o=p.map((function(t){var r;if(t===f)return t.val;var o=e(xF(xF({},t),{},{obj:null}),[{}]),i=bt(o,2),a=i[0],l=i[1];return(r=n).push.apply(r,Ek(l)),a})).join("."):(n=[t],o="?");return h&&(h.s=o,h.params=n),[o,n]},PF=function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=function(o){return TF(o,t,r,n,e)},l=function(e){var t=[{s:"",params:[],objs:[]}];return LF(e,t),t.map((function(e){return{s:e.s,params:e.params}})).reverse().filter((function(e){var t=e.s;return""!==t&&"?"!==t}))}(e),s=null==l||null===(o=l[0])||void 0===o?void 0:o.s;l.length&&xq.debug("Signatures for ",e,":",s,l);var u=NF(e,t,r,n,i,l,a);if(void 0!==u)return u;var c,d,p,f=FF(e,t,r,n,i,l,a);if(void 0!==f)return f;var h,g=yF(l);try{var v=function(){var e=h.value,n=e.s,o=e.params,i=t.funcs[n];if(i){c=i[0];var l=(d=eB(r,c)).spelFunc,s=o.map(a),u=Ek(l.matchAll(/\${(\w+)}/g)).map((function(e){var t=bt(e,2);t[0];return t[1]}));return p=Object.fromEntries(u.map((function(e,t){return[e,s[t]]}))),1}};for(g.s();!(h=g.n()).done&&!v(););}catch(T){g.e(T)}finally{g.f()}if(!c){var m,y=yF(Yz(r));try{for(y.s();!(m=y.n()).done;){var b=bt(m.value,2),_=b[0],x=b[1];if(x.spelImport){var w=void 0;try{w=x.spelImport(e)}catch(q){}if(w)for(var O in d=eB(r,c=_),p={},w)p[O]=a(w[O])}}}catch(T){y.e(T)}finally{y.f()}}if(c){var S={};for(var k in d.args){var j,E=d.args[k],C=p[k];if(void 0===C)if(void 0===(C=null==E?void 0:E.defaultValue)){if(null==E||!E.isOptional)return void n.errors.push("No value for arg ".concat(k," of func ").concat(c))}else C={value:C,valueSrc:null!==(j=C)&&void 0!==j&&j.func?"func":"value",valueType:E.type};C&&(S[k]=C)}return{valueSrc:"func",value:{func:c,args:S},valueType:d.returnType}}e.methodName&&n.errors.push("Signature ".concat(s," - failed to convert"))},NF=function(e,t,r,n,o,i,a){var l,s,u,c=[];for(var d in r.widgets){var p=r.widgets[d].spelImportFuncs;if(p)for(var f=0;f<p.length;f++){var h=p[f];if(SF(h)){var g={};if(yq(h,e,g)){for(var v in g)g[v]=a(g[v]);c.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(f,"]"),w:d,argsObj:g})}}}}var m,y=yF(i);try{for(y.s();!(m=y.n()).done;){var b,_=m.value,x=_.s,w=_.params,O=yF(t.valueFuncs[x]||[]);try{var S=function(){var e=b.value,t=e.w,r=e.argsOrder,n=w.map(a),o=Object.fromEntries(r.map((function(e,t){return[e,n[t]]})));c.push({s:x,w:t,argsObj:o})};for(O.s();!(b=O.n()).done;)S()}catch(M){O.e(M)}finally{O.f()}}}catch(M){y.e(M)}finally{y.f()}for(var k=0,j=c;k<j.length;k++){var E=j[k],C=E.s,T=E.w,q=E.argsObj,I=r.widgets[T],A=I.spelImportValue,L=I.type;for(var P in u=T,s=C,l=[],q)["value"].includes(q[P].valueSrc)||l.push("".concat(P," has unsupported value src ").concat(q[P].valueSrc));var N=q.v.value;if(A&&!l.length){var F=A.call(r.ctx,q.v,I,q),R=bt(F,2);N=R[0],(l=R[1])&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:L,value:N}}u&&l.length&&n.errors.push("Signature ".concat(s," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},FF=function(e,t,r,n,o,i,a){var l,s,u,c,d=yF(i);try{for(d.s();!(c=d.n()).done;){var p,f=c.value,h=f.s,g=f.params,v=yF(t.opFuncs[h]||[]);try{var m,y=function(){var t,i=p.value,c=i.op,d=i.argsOrder,f=g.map(a);if(s=c,"!compare"===c){if(o.type.startsWith("op-")&&2==o.children.length&&"number"==o.children[1].type&&0===o.children[1].val)return{v:{type:"!compare",children:f}};l.push("Result of compareTo() should be compared to 0")}u=h,l=[];var v=r.operators[s],m=(v.spelOp,v.valueTypes),y=Object.fromEntries(d.map((function(e,t){return[e,f[t]]}))),b=y[0],_=Object.keys(y).filter((function(e){return parseInt(e)>0})).map((function(e){return y[e]})),x=null===(t=f.filter((function(e){return!!e})).find((function(e){return"value"===e.valueSrc})))||void 0===t?void 0:t.valueType;if(m&&x&&!m.includes(x)&&l.push("Op supports types ".concat(m,", but got ").concat(x)),!l.length)return{v:RF(r,n,b,s,_,e)}};for(v.s();!(p=v.n()).done;)if(m=y())return m.v}catch(b){v.e(b)}finally{v.f()}}}catch(b){d.e(b)}finally{d.f()}s&&l.length&&n.errors.push("Signature ".concat(u," - looks like convertable to ").concat(s,", but: ").concat(l.join("; ")))},RF=function(e,t,r,n,o,i){var a,l;if(!o.filter((function(e){return void 0===e})).length){var s=null!==(a=r)&&void 0!==a&&a.func?"func":"field";SF(r)&&r.valueSrc&&(s=r.valueSrc,r=r.value);var u=uB(e,r);if(u){var c=uB(e,null==i?void 0:i._groupField),d="!group"==u.type;d&&u.mode;var p="!group"==(null==c?void 0:c.type),f=e.operators[n],h=e.operators[null===(l=f)||void 0===l?void 0:l.reversedOp],g=(null==i?void 0:i.not)&&["between"].includes(n),v=!!h&&(!!e.settings.reverseOperatorsForNot||g||!d&&p);((null==i?void 0:i.not)&&v||g)&&(n=f.reversedOp,f=e.operators[n],i.not=!i.not);var m=!(null==i||!i.not),y=FD(e,r,n),b=e.widgets[y||u.mainWidget],_=o.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),x=_.length?_[0]:void 0,w={type:"rule",id:YT(),properties:xF({field:r,fieldSrc:s,operator:n,value:o.map((function(e){return e.value})),valueSrc:o.map((function(e){return e.valueSrc})),valueType:o.map((function(e){return"value"==e.valueSrc&&((null==b?void 0:b.type)||(null==u?void 0:u.type))||e.valueType}))},x?{asyncListValues:x}:{})};return m&&(w=UF(w,e,i.not)),w}t.errors.push("No config for field ".concat(r))}},MF=function(e,t,r,n,o){var i=e.groupFilter,a=e.groupFieldValue;if("field"!=a.valueSrc)throw"Bad groupFieldValue: ".concat(JSON.stringify(a));var l=a.value,s=RF(n,o,l,t,r);if(s){var u,c=uB(n,l),d=null==c?void 0:c.mode;return(u="group"===(null==i?void 0:i.type)?xF(xF({},i||{}),{},{type:"rule_group",properties:xF(xF(xF({},s.properties),(null==i?void 0:i.properties)||{}),{},{mode:d})}):xF(xF({},s||{}),{},i?{type:"rule_group",children1:[i],properties:xF(xF({},s.properties),{},{mode:d})}:{type:"rule_group",properties:xF(xF({},s.properties),{},{mode:d})})).id||(u.id=YT()),u}},DF=function(e,t,r,n,o,i){if(e.type==t.type){if("!aggr"==e.type){var a=[e.source,t.source].map((function(e){return AF(e,n,o,i,r)})),l=bt(a,2),s=l[0],u=l[1];return s.value==u.value}var c=[e,t].map((function(e){return AF(e,n,o,i,r)})),d=bt(c,2),p=d[0],f=d[1];return p.value==f.value}return!1},VF=function(e,t,r,n){var o={},i=zF(null,e,t,r,n);return i&&(o[i.id]=i),{type:"switch_group",id:YT(),children1:o,properties:{}}},zF=function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=HF(n,o,r,t,a);return e?(i=TF(e,r,n,o,a))&&i.type?("group"!=i.type&&(i=UF(i,n)),i.type="case_group"):(o.errors.push("Unexpected case: ".concat(JSON.stringify(i))),i=void 0):i={id:YT(),type:"case_group",properties:{}},i&&(i.properties=xF(xF({},i.properties),l)),i},BF=function(e,t,r,n){var o=[];return function i(a){a.map((function(a){if("op-plus"===a.type)i(a.children);else{var l=AF(a,t,r,n,e);l?o.push(l):n.errors.push("Can't convert ".concat(a.type," in concatenation"))}}))}(e.children),{valueSrc:"value",valueType:"case_value",value:o}},HF=function(e,t,r,n){var o,i,a,l,s,u,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d={},p=uB(e,"!case_value");"op-plus"===(null==n?void 0:n.type)&&"case_value"===(null===(o=e.settings.caseValueField)||void 0===o?void 0:o.type)?(l="case_value",a=BF(n,r,e,t)):(l=null==p?void 0:p.mainWidget,s=e.widgets[l],(a=AF(n,r,e,t,c))&&"value"===a.valueSrc&&(a.valueType=(null===(u=s)||void 0===u?void 0:u.type)||(null==p?void 0:p.type)||a.valueType));var f=e.widgets[l];if("case_value"===l){var h=null==f?void 0:f.spelImportValue;if(h){var g,v=h.call(e.ctx,a),m=bt(v,2),y=m[0];if(m[1].map((function(e){return t.errors.push(e)})),null!=y)d={value:[y],valueSrc:["value"],valueType:[null!==(g=null==f?void 0:f.type)&&void 0!==g?g:"case_value"],field:"!case_value"}}}else null!=a&&null!=(null===(i=a)||void 0===i?void 0:i.value)&&(d={value:[a.value],valueSrc:[a.valueSrc],valueType:[a.valueType],field:"!case_value"});return d},UF=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:YT(),children1:b({},e.id,e),properties:{conjunction:tR(t),not:r||!1}}};const $F=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:ON,_loadFromSpel:kF,getTree:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var n=e;return n=n.toJS(),n=nN(n,t,r)}},isImmutableTree:cN,isJsonLogic:hq,isTree:dN,jsToImmutable:pN,loadFromJsonLogic:function(e,t){return ON(e,t,!1)},loadFromSpel:function(e,t){return kF(e,t,!0)},loadTree:uN},Symbol.toStringTag,{value:"Module"}));function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var YF=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.settings.defaultField,o=(r?GF(e,r):n)||t&&pB(e,r)||null;return null==o||"string"==typeof o||iq(o)||(o=pN(o)),o},GF=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return null;var n=(null==e||null===(t=e.settings)||void 0===t?void 0:t.fieldSeparator)||".",o=uB(e,r),i=null==o?void 0:o.defaultField;return i&&(i=[].concat(Ek(oB(r)),[i]).join(n)),i},JF=function(e){var t;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null===(t=e.settings.fieldSources)||void 0===t?void 0:t[0])||"field"},QF=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=uB(e,t),o=(null==n?void 0:n.operators)||[],i=e.settings.defaultOperator;i&&!o.includes(i)&&(i=null);var a=null==n?void 0:n.defaultOperator,l=null==n?void 0:n.ownDefaultOperator,s=r?TD(e,t):null;return l||i||a||s},XF=function(e,t,r){var n=t?cB(e,t,r):null;return n&&n.options?new WT.Map(n.options&&n.options.defaults||{}):null},ZF=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null,u=null,c=null,d=e.settings.showErrorMessage;i?(c=null==i||null===(t=i.properties)||void 0===t?void 0:t.fieldSrc,s=null==i||null===(r=i.properties)||void 0===r?void 0:r.field,u=null==i||null===(n=i.properties)||void 0===n?void 0:n.operator):a?(c=(s=YF(e,l,o))?iq(s)?"func":"field":JF(e),u=QF(e,s,!0)):c=JF(e);var p=new WT.Map({fieldSrc:c,field:s,operator:u,value:new WT.List,valueSrc:new WT.List,operatorOptions:XF(e,u,s)});if(d&&(p=p.set("valueError",new WT.List)),s&&u){var f=hD(e,e,p,s,u,"operator",!1),h=f.newValue,g=f.newValueSrc,v=f.newValueType,m=f.newValueError,y=f.newFieldError;p=p.set("value",h).set("valueSrc",g).set("valueType",v),d&&(p=p.set("valueError",m).set("fieldError",y))}return p},eR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(t=uB(e,t))&&t.conjunctions||Object.keys(e.conjunctions);return 1==r.length?r[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||r[0]},tR=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},rR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new WT.Map({conjunction:eR(e,t),not:!1})},nR=function(e,t){var r;return t&&"group"==t.type?rR(e,null==t||null===(r=t.properties)||void 0===r?void 0:r.field):ZF(e,null,t)},oR=function(e,t){return b({},e,new WT.Map({type:"rule",id:e,properties:ZF(t)}))},iR=function(e){return aq(e)?e:new WT.List(e)};const aR=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:iR,createListWithOneElement:function(e){return aq(e)?e:iR([e])},defaultConjunction:tR,defaultGroupConjunction:eR,defaultGroupProperties:rR,defaultItemProperties:nR,defaultOperatorOptions:XF,defaultRoot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new WT.Map({type:"group",id:YT(),children1:new WT.OrderedMap(t?KF({},oR(YT(),e)):{}),properties:rR(e)})},defaultRule:oR,defaultRuleProperties:ZF,emptyProperties:function(){return new WT.Map},getDefaultField:YF,getDefaultFieldSrc:JF,getDefaultOperator:QF,getDefaultSubField:GF},Symbol.toStringTag,{value:"Module"}));function lR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function sR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dR=function(e,t){var r={errors:[],settings:{isForDisplay:arguments.length>2&&void 0!==arguments[2]&&arguments[2],isDebugMode:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},n=Mz(t,void 0,!1),o=pR(e,n,r,null);return r.errors.length&&console.warn("Errors while exporting to string:",r.errors),o},pR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return e.get("children1"),"group"===o||"rule_group"===o?fR(e,t,r,n):"rule"===o?hR(e,t,r,n):void 0}},fR=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=r.settings,l=a.isForDisplay,s=a.isDebugMode,u=e.get("type"),c=e.get("properties")||new iC,d=c.get("mode"),p=e.get("children1")||new TC,f="rule_group"===u,h=f&&"array"==d?c.get("field"):null,g="rule_group"===u?c.get("operator"):null,v=g?null!==(n=null===(o=t.operators[g])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1:void 0,m=f&&"array"===d&&v>=1,y=c.get("not"),b=p.map((function(e){return pR(e,t,r,h)})).filter((function(e){return void 0!==e}));if(m||b.size||s){var _=c.get("conjunction");_||(_=tR(t));var x,w=t.conjunctions[_],O=b.size?w.formatConj.call(t.ctx,b,_,y,l):null;if(h){var S=hR(e,t,r,i,!0);if(S){var k,j=S.pop(),E=[O].concat(Ek(S));x=(k=t.settings.formatAggr).call.apply(k,[t.ctx].concat(Ek(E))),j&&(x=t.settings.formatReverse.call(t.ctx,x,null,null,null,null,l))}}else x=O;return s&&null==x&&(x="?"),x}},hR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.get("properties")||new iC,u=s.get("field"),c=s.get("fieldSrc"),d=s.get("operator"),p=s.get("operatorOptions");if(null!=u&&null!=d||l){var f=uB(t,u)||{},h=cB(t,d,u)||{},g=h.reversedOp,v=cB(t,g,u)||{},m=!1,y=h.formatOp;if(!y&&g&&(y=v.formatOp)){m=!0;var b=[g,d];d=b[0],g=b[1];var _=[v,h];h=_[0],v=_[1]}if(l&&!d&&(d="?"),y||(y=function(e,t,r){var n,o=r.settings.isDebugMode,i=(null==t?void 0:t.labelForFormat)||e,a=rq(t);return 0==a?n=function(e,t,r,n,o,a,l,s){return"".concat(e," ").concat(i)}:1==a?n=function(e,t,r,n,a,l,s,u){return o&&"?"===t&&"?"===r?e&&"?"!==e?"".concat(e," ?"):"?":"".concat(e," ").concat(i," ").concat(r)}:2==a&&(n=function(e,t,r,n,o,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(i," ").concat(d," AND ").concat(p)}),n}(d,h,r)),y){var x="func"===c?mR(t,r,u,n):vR(t,r,u,n);if(null!=x){var w=function(e,t,r,n,o){var i=r.settings;i.isForDisplay;var a,l,s=i.isDebugMode,u=t.get("field"),c=t.get("valueSrc"),d=t.get("valueType"),p=uB(e,u)||{},f=n||t.get("operator"),h=cB(e,f,u)||{},g=rq(h),v=t.get("value"),m=t.get("asyncListValues"),y=[],b=[];return null!=v&&!((l=v.map((function(t,n){var i=c?c.get(n):null,a=d?d.get(n):null,l=s?t:KD(t,i,e),g=FD(e,u,f,i),v=dB(e,u,f,g,i,{forExport:!0}),_=gR(e,r,l,i,a,v,p,f,h,o,m);return void 0!==_&&(y.push(i),b.push(a)),_}))).filter((function(e){return void 0===e})).size>0)&&l.size===g&&(a=1==g?l.first():l),s&&!a&&(a=g>1?new TC(Array.from({length:g}).map((function(e,t){var r,n;return null!==(r=null===(n=l)||void 0===n?void 0:n.get(t))&&void 0!==r?r:"?"}))):"?"),[a,y.length>1?y:y[0],b.length>1?b:b[0]]}(t,s,r,d,n),O=bt(w,3),S=O[0],k=O[1],j=O[2];if(void 0!==S){var E=[x,d,S,k,j,tq(h,XT),p,a,f,m];if(o)return E;var C,T=(C=y).call.apply(C,[t.ctx].concat(E));return m&&(T=t.settings.formatReverse.call(t.ctx,T,d,g,h,v,a)),T}}}}},gR=function(e,t,r,n,o,i,a,l,s){var u,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10?arguments[10]:void 0,p=t.settings,f=p.isForDisplay,h=p.isDebugMode;if(void 0===r)return h?"array"===(null==i?void 0:i.jsType)?[]:"?":void 0;if("field"==n)u=vR(e,t,r,c);else if("func"==n)u=mR(e,t,r,c);else if("function"==typeof(null==i?void 0:i.formatValue)){var g=i.formatValue,v=[r,cR(cR({},fA(a,["fieldSettings","listValues"])),{},{asyncListValues:d}),tq(i,QT),f];if(l&&(v.push(l),v.push(s)),"field"==n){var m=uB(e,r)||{};v.push(m)}u=g.call.apply(g,[e.ctx].concat(v))}else u=r;return u},vR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.settings;s.fieldSeparator;var u=s.fieldSeparatorDisplay,c=null;if(r){var d=uB(e,r)||{},p=oB(r,e),f=ID(r,e,o?n:null),h=f?f.join(u):null,g=d.label2||h;c=(0,e.settings.formatField)(RD(r,e,t,o?n:null,{useTableName:!0}),p,g,d,e,a)}else l&&(c="?");return c},mR=function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.settings,s=l.isForDisplay,u=l.isDebugMode,c=null==r||null===(n=r.get)||void 0===n?void 0:n.call(r,"func");if(!c)return u?"?()":void 0;var d=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),p=eB(e,c);if(p||u){var f,h=oB(c,e),g=h[h.length-1],v=s&&(null==p?void 0:p.label)||g,m={},y=[],b=[],_={},x=lR(p?Object.keys(p.args||{}):(null==d||null===(i=d.keySeq)||void 0===i?void 0:i.call(d).toArray())||[]);try{for(x.s();!(f=x.n()).done;){var w,O=f.value,S=null==p?void 0:p.args[O],k=uB(e,S),j=S||{},E=j.defaultValue,C=j.isOptional,T=null!=E&&E.func?"func":"value",q=s&&(null==S?void 0:S.label)||O,I=d?d.get(O):void 0,A=I?I.get("value"):void 0,L=I?I.get("valueSrc"):void 0;"func"!==L&&null!==(w=A)&&void 0!==w&&w.toJS&&(A=A.toJS());var P=I?I.get("asyncListValues"):void 0,N=gR(e,t,A,L,null==S?void 0:S.type,k,S,null,null,a,P);null!=A&&void 0===N&&"func"!=L&&t.errors.push("Can't format value of arg ".concat(O," for func ").concat(c));var F=void 0;if(void 0===N&&!C&&null!=E&&void 0===(F=gR(e,t,E,T,null==S?void 0:S.type,k,S,null,null,a,P)))return void("func"!=T&&t.errors.push("Can't format default value of arg ".concat(O," for func ").concat(c)));var R=null!=N?N:F;if(void 0!==R){if(y.length){var M,D=lR(O);try{for(D.s();!(M=D.n()).done;){var V=bt(M.value,2),z=V[0];V[1];m[z]=void 0}}catch(W){D.e(W)}finally{D.f()}y=[]}m[O]=R,_[q]=R}else C||b.push(O),y.push([O,q])}}catch(W){x.e(W)}finally{x.f()}if(!b.length||u){var B=null;if("function"==typeof(null==p?void 0:p.formatFunc)){var H=p.formatFunc,U=[m,s];B=H.call.apply(H,[e.ctx].concat(U))}else{var $=Object.entries(s?_:m).map((function(e){var t=bt(e,2),r=t[0],n=t[1];return s?"".concat(r,": ").concat(n):"".concat(n)})).join(", ");B="".concat(v,"(").concat($,")")}return B}}else t.errors.push("Func ".concat(c," is not defined in config"))},yR="EMPTY_GROUP",bR="EMPTY_RULE_GROUP",_R="EMPTY_QUERY",xR="EMPTY_CASE",wR="NO_CONFIG_FOR_FIELD",OR="NO_CONFIG_FOR_OPERATOR",SR="NO_CONFIG_FOR_FUNCTION",kR="INVALID_VALUE",jR="INVALID_FUNC_ARG_VALUE",ER="UNSUPPORTED_FIELD_TYPE",CR="UNSUPPORTED_OPERATOR_FOR_FIELD",TR="INVALID_VALUE_SRC",qR="INCOMPLETE_RULE",IR="INCOMPLETE_LHS",AR="INCOMPLETE_RHS",LR="BAD_MULTISELECT_VALUES",PR="BAD_SELECT_VALUE",NR="INCORRECT_VALUE_TYPE",FR="INCORRECT_VALUE_JS_TYPE",RR="VALUE_LENGTH_CONSTRAINT_FAIL",MR="VALUE_MIN_CONSTRAINT_FAIL",DR="VALUE_MAX_CONSTRAINT_FAIL",VR="NO_CONFIG_FOR_FIELD_VALUE",zR="CANT_COMPARE_FIELD_WITH_ITSELF",BR="CANT_COMPARE_FIELD_WITH_FIELD",HR="INCORRECT_FIELD_TYPE",UR="UNSUPPORTED_FUNCTION_FOR_FIELD",$R="REQUIRED_FUNCTION_ARG",WR="INCORRECT_FUNCTION_RETURN_TYPE",KR="INVALID_RANGE",YR="ITEM_POSITION",GR="ITEM_POSITION_ROOT",JR="ITEM_POSITION_WITH_INDEX_PATH",QR="ITEM_POSITION_IN_CASE",XR="range";const ZR=e=>"string"==typeof e,eM=()=>{let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r},tM=e=>null==e?"":""+e,rM=/###/g,nM=e=>e&&e.indexOf("###")>-1?e.replace(rM,"."):e,oM=e=>!e||ZR(e),iM=(e,t,r)=>{const n=ZR(t)?t.split("."):t;let o=0;for(;o<n.length-1;){if(oM(e))return{};const t=nM(n[o]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return oM(e)?{}:{obj:e,k:nM(n[o])}},aM=(e,t,r)=>{const n=iM(e,t,Object),o=n.obj,i=n.k;if(void 0!==o||1===t.length)return void(o[i]=r);let a=t[t.length-1],l=t.slice(0,t.length-1),s=iM(e,l,Object);for(;void 0===s.obj&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),s=iM(e,l,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${a}`]&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=r},lM=(e,t)=>{const r=iM(e,t),n=r.obj,o=r.k;if(n)return n[o]},sM=(e,t,r)=>{for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?ZR(e[n])||e[n]instanceof String||ZR(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):sM(e[n],t[n],r):e[n]=t[n]);return e},uM=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dM=e=>ZR(e)?e.replace(/[&<>"'\/]/g,(e=>cM[e])):e;const pM=[" ",",","?","!",";"],fM=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),hM=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let o=e;for(let i=0;i<n.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let a=i;a<n.length;++a)if(a!==i&&(t+=r),t+=n[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<n.length-1)continue;i+=a-i+1;break}o=e}return o},gM=e=>e&&e.replace("_","-"),vM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class mM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||vM,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(ZR(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mM(this.logger,p(p({},{prefix:`${this.prefix}:${e}:`}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new mM(this.logger,e)}}var yM=new mM;class bM{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let t=h(e,2),n=t[0],o=t[1];for(let i=0;i<o;i++)n(...r)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let n=h(t,2),o=n[0],i=n[1];for(let a=0;a<i;a++)o.apply(o,[e,...r])}))}}}class _M extends bM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):ZR(r)&&o?a.push(...r.split(o)):a.push(r)));const l=lM(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),!l&&i&&ZR(r)?hM(this.data&&this.data[e]&&this.data[e][t],r,o):l}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),aM(this.data,a,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in r)(ZR(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let l=lM(this.data,a)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?sM(l,r,o):l=p(p({},l),r),aM(this.data,a,l),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?p(p({},{}),this.getResource(e,t)):this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var xM={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,r,n,o))})),t}};const wM={};class OM extends bM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach((e=>{t[e]&&(r[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=yM.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const n=pM.filter((e=>t.indexOf(e)<0&&r.indexOf(e)<0));if(0===n.length)return!0;const o=fM.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,r,n));if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(n)}return ZR(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t=p({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=this.extractFromKey(e[e.length-1],t),a=i.key,l=i.namespaces,s=l[l.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${s}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let f=d&&d.res;const h=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,v=Object.prototype.toString.apply(f),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!ZR(f)&&"boolean"!=typeof f&&"number"!=typeof f;if(!(y&&f&&b&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0)||ZR(m)&&Array.isArray(f))if(y&&ZR(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,e,t,r));else{let n=!1,i=!1;const l=void 0!==t.count&&!ZR(t.count),c=OM.hasDefaultValue(t),h=l?this.pluralResolver.getSuffix(u,t.count,t):"",g=t.ordinal&&l?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",v=l&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=v&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(f)&&c&&(n=!0,f=m),this.isValidLookup(f)||(i=!0,f=a);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:f,b=c&&m!==f&&this.options.updateMissing;if(i||n||b){if(this.logger.log(b?"updateKey":"missingKey",u,s,a,b?m:f),o){const e=this.resolve(a,p(p({},t),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const n=(e,r,n)=>{const o=c&&n!==f?n:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,r,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,r,o,b,t),this.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach((e=>{const r=this.pluralResolver.getSuffixes(e,t);v&&t[`defaultValue${this.options.pluralSeparator}zero`]&&r.indexOf(`${this.options.pluralSeparator}zero`)<0&&r.push(`${this.options.pluralSeparator}zero`),r.forEach((r=>{n([e],a+r,t[`defaultValue${r}`]||m)}))})):n(e,a,m))}f=this.extendTranslation(f,e,t,d,r),i&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${s}:${a}`),(i||n)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,n?f:void 0):this.options.parseMissingKeyHandler(f))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,p(p({},t),{},{ns:l})):`key '${a} (${this.language})' returned an object instead of string.`;return n?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e=Array.isArray(f),r=e?[]:{},n=e?g:h;for(const i in f)if(Object.prototype.hasOwnProperty.call(f,i)){const e=`${n}${o}${i}`;r[i]=this.translate(e,p(p({},t),{joinArrays:!1,ns:l})),r[i]===e&&(r[i]=f[i])}f=r}}return n?(d.res=f,d.usedParams=this.getUsedParamsDetails(t),d):f}extendTranslation(e,t,r,n,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,p(p({},this.options.interpolation.defaultVariables),r),r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(p(p({},r),{interpolation:p(p({},this.options.interpolation),r.interpolation)}));const a=ZR(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let s=r.replace&&!ZR(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(s=p(p({},this.options.interpolation.defaultVariables),s)),e=this.interpolator.interpolate(e,s,r.lng||this.language||n.usedLng,r),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return o&&o[0]===n[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):i.translate(...n,t)}),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=ZR(a)?[a]:a;return null!=e&&l&&l.length&&!1!==r.applyPostProcessor&&(e=xM.handle(l,e,t,this.options&&this.options.postProcessPassResolved?p({i18nResolved:p(p({},n),{},{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let t,r,n,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ZR(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const l=this.extractFromKey(e,a),s=l.key;r=s;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==a.count&&!ZR(a.count),d=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&(ZR(a.context)||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(i=e,!wM[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(wM[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${f.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((r=>{if(this.isValidLookup(t))return;o=r;const i=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,s,r,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(r,a.count,a));const t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(s+e),a.ordinal&&0===e.indexOf(n)&&i.push(s+e.replace(n,this.options.pluralSeparator)),d&&i.push(s+t)),p){const r=`${s}${this.options.contextSeparator}${a.context}`;i.push(r),c&&(i.push(r+e),a.ordinal&&0===e.indexOf(n)&&i.push(r+e.replace(n,this.options.pluralSeparator)),d&&i.push(r+t))}}let l;for(;l=i.pop();)this.isValidLookup(t)||(n=l,t=this.getResource(r,e,l,a))})))}))})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ZR(e.replace);let n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=p(p({},this.options.interpolation.defaultVariables),n)),!r){n=p({},n);var o,i=l(t);try{for(i.s();!(o=i.n()).done;){delete n[o.value]}}catch(a){i.e(a)}finally{i.f()}}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}const SM=e=>e.charAt(0).toUpperCase()+e.slice(1);class kM{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yM.create("languageUtils")}getScriptPartFromCode(e){if(!(e=gM(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=gM(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ZR(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(ln){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=SM(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=SM(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=SM(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),ZR(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],o=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return ZR(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):ZR(e)&&o(this.formatLanguageCode(e)),r.forEach((e=>{n.indexOf(e)<0&&o(this.formatLanguageCode(e))})),n}}let jM=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],EM={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const CM=["v1","v2","v3"],TM=["v4"],qM={zero:0,one:1,two:2,few:3,many:4,other:5};class IM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=yM.create("pluralResolver"),this.options.compatibilityJSON&&!TM.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return jM.forEach((t=>{t.lngs.forEach((r=>{e[r]={numbers:t.nr,plurals:EM[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=gM("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const i=new Intl.PluralRules(r,{type:n});return this.pluralRulesCache[o]=i,i}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(((e,t)=>qM[e]-qM[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):r.numbers.map((r=>this.getSuffix(e,r,t))):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const o=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!CM.includes(this.options.compatibilityJSON)}}const AM=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,r)=>{const n=lM(e,r);return void 0!==n?n:lM(t,r)})(e,t,r);return!i&&o&&ZR(r)&&(i=hM(e,r,n),void 0===i&&(i=hM(t,r,n))),i},LM=e=>e.replace(/\$/g,"$$$$");class PM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yM.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation,r=t.escape,n=t.escapeValue,o=t.useRawValueToEscape,i=t.prefix,a=t.prefixEscaped,l=t.suffix,s=t.suffixEscaped,u=t.formatSeparator,c=t.unescapeSuffix,d=t.unescapePrefix,p=t.nestingPrefix,f=t.nestingPrefixEscaped,h=t.nestingSuffix,g=t.nestingSuffixEscaped,v=t.nestingOptionsSeparator,m=t.maxReplaces,y=t.alwaysFormat;this.escape=void 0!==r?r:dM,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==o&&o,this.prefix=i?uM(i):a||"{{",this.suffix=l?uM(l):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=p?uM(p):f||uM("$t("),this.nestingSuffix=h?uM(h):g||uM(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let o,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=e=>{if(e.indexOf(this.formatSeparator)<0){const o=AM(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,r,p(p(p({},n),t),{},{interpolationkey:e})):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(AM(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,p(p(p({},n),t),{},{interpolationkey:i}))};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>LM(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?LM(this.escape(e)):LM(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const r=o[1].trim();if(i=s(r),void 0===i)if("function"==typeof u){const t=u(e,o,n);i=ZR(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))i="";else{if(c){i=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),i=""}else ZR(i)||this.useRawValueToEscape||(i=tM(i));const l=t.safeValue(i);if(e=e.replace(o[0],l),c?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let i=`{${n[1]}`;e=n[0],i=this.interpolate(i,o);const a=i.match(/'/g),l=i.match(/"/g);(a&&a.length%2==0&&!l||l.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=p(p({},t),o))}catch(ln){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,ln),`${e}${r}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let l=[];o=p({},i),o=o.replace&&!ZR(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let s=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map((e=>e.trim()));r[1]=e.shift(),l=e,s=!0}if(n=t(a.call(this,r[1].trim(),o),o),n&&r[0]===e&&!ZR(n))return n;ZR(n)||(n=tM(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),s&&(n=l.reduce(((e,t)=>this.format(e,t,i.lng,p(p({},i),{},{interpolationkey:r[1].trim()}))),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}const NM=e=>{const t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=p(p({},i),{},{[o.interpolationkey]:void 0}));const a=n+JSON.stringify(i);let l=t[a];return l||(l=e(gM(n),o),t[a]=l),l(r)}};class FM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=yM.create("formatter"),this.options=e,this.formats={number:NM(((e,t)=>r=>new Intl.NumberFormat(e,p({},t)).format(r))),currency:NM(((e,t)=>r=>new Intl.NumberFormat(e,p(p({},t),{},{style:"currency"})).format(r))),datetime:NM(((e,t)=>r=>new Intl.DateTimeFormat(e,p({},t)).format(r))),relativetime:NM(((e,t)=>r=>new Intl.RelativeTimeFormat(e,p({},t)).format(r,t.range||"day"))),list:NM(((e,t)=>r=>new Intl.ListFormat(e,p({},t)).format(r)))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=NM(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}const i=o.reduce(((e,t)=>{const o=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach((e=>{if(e){const t=a(e.split(":")),n=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,""),i=n.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}}))}return{formatName:t,formatOptions:r}})(t),i=o.formatName,l=o.formatOptions;if(this.formats[i]){let t=e;try{const o=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},a=o.locale||o.lng||n.locale||n.lng||r;t=this.formats[i](e,a,p(p(p({},l),n),o))}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return i}}class RM extends bM{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=yM.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,t,r,n){const o={},i={},a={},l={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,n=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===l[t]&&(l[t]=!0)))})),n||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach((r=>{((e,t,r,n)=>{const o=iM(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],i[a].push(r)})(r.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((e=>{a[e]||(a[e]={});const t=r.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;const a=(a,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&l&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,r,n+1,2*o,i)}),o):i(a,l)},l=this.backend[r].bind(this.backend);if(2!==l.length)return l(e,t,a);try{const r=l(e,t);r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(s){a(s)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();ZR(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ZR(t)&&(t=[t]);const o=this.queueLoad(e,t,r,n);if(!o.toLoad.length)return o.pending.length||n(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,((r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)}))}saveMissing(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){const s=p(p({},i),{},{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let o;o=5===u.length?u(e,t,r,n,s):u(e,t,r,n),o&&"function"==typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(l){a(l)}else u(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}const MM=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),ZR(e[1])&&(t.defaultValue=e[1]),ZR(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach((e=>{t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),DM=e=>(ZR(e.ns)&&(e.ns=[e.ns]),ZR(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ZR(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),VM=()=>{};class zM extends bM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=DM(e),this.services={},this.logger=yM,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(ZR(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=MM();this.options=p(p(p({},n),this.options),DM(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=p(p({},n.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?yM.init(o(this.modules.logger),this.options):yM.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=FM);const r=new kM(this.options);this.store=new _M(this.options.resources,this.options);const i=this.services;i.logger=yM,i.resourceStore=this.store,i.languageUtils=r,i.pluralResolver=new IM(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new PM(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new RM(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new OM(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,r||(r=VM),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=eM(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VM;const r=ZR(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],n=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(r)n(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>n(e)))}this.options.preload&&this.options.preload.forEach((e=>n(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,r){const n=eM();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=VM),this.services.backendConnector.reload(e,t,(e=>{n.resolve(),r(e)})),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&xM.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const n=eM();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((function(){return r.t(...arguments)})),t&&t(e,(function(){return r.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const r=ZR(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||o(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,(e=>{i(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;const o=function(e,t){let i;if("object"!=typeof t){for(var a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];i=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else i=p({},t);i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||r||o.keyPrefix);const u=n.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${u}${e}`)):i.keyPrefix?`${i.keyPrefix}${u}${e}`:e,n.t(c,i)};return ZR(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const i=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||n&&!i(o,e)))}loadNamespaces(e,t){const r=eM();return this.options.ns?(ZR(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=eM();ZR(e)&&(e=[e]);const n=this.options.preload||[],o=e.filter((e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=n.concat(o),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new kM(MM());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new zM(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VM;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n=p(p(p({},this.options),e),{isClone:!0}),o=new zM(n);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services=p({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new _M(this.store.data,n),o.services.resourceStore=o.store),o.translator=new OM(o.services,n),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)})),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const BM=zM.createInstance();var HM;BM.createInstance=zM.createInstance,BM.createInstance,BM.dir,BM.init,BM.loadResources,BM.reloadResources,BM.use,BM.changeLanguage,BM.getFixedT,BM.t,BM.exists,BM.setDefaultNamespace,BM.hasLoadedNamespace,BM.loadNamespaces,BM.loadLanguages;var UM=(b(b(b(b(b(b(b(b(b(b(HM={},yR,"Empty group"),bR,"No conditions for group field {{field}}"),_R,"Empty query"),xR,"Empty case"),wR,"No config for field {{field}}"),"FIXED_OPERATOR","Fixed operator {{from}} to {{to}} for field {{field}}"),OR,"No config for operator {{operator}}"),SR,"No config for function {{funcKey}}"),kR,"Invalid value"),jR,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),b(b(b(b(b(b(b(b(b(b(HM,ER,"Type of field {{field}} is not supported"),CR,"Operator {{operator}} is not supported for field {{field}}"),qR,"Incomplete rule"),IR,"Incomplete LHS"),AR,"Incomplete RHS"),TR,"Invalid value src {{valueSrcs, list}}"),LR+"_one","Value {{badValues, list}} is not in the list of allowed values"),LR+"_other","Values {{badValues, list}} are not in the list of allowed values"),PR,"Value {{value}} is not in the list of allowed values"),NR,"Value should have type {{wType}}, but got value of type {{valueType}}"),b(b(b(b(b(b(b(b(b(b(HM,FR,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),RR,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),MR,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),MR+"_"+XR,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),DR,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),DR+"_"+XR,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),VR,"No config for field {{field}}"),zR,"Can't compare field {{field}} with itself"),BR,"Can't compare field {{leftField}} with {{rightField}}"),HR,"Field {{field}} is of type {{type}}, but expected {{expected}}"),b(b(b(b(b(b(b(b(b(b(HM,UR,"Unsupported function {{funcKey}} for field {{field}}"),$R,"Value of arg {{argName}} for func {{funcName}} is required"),WR,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),KR,"Invalid range"),GR,"Root"),YR+"__rule","Leaf #{{globalLeafNo}}"),YR+"__group","Group #{{globalGroupNo}}"),YR+"__rule_group","Rule-group #{{globalNoByType}}"),YR+"__case_group","Case #{{globalNoByType}}"),YR+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),b(b(b(b(b(HM,YR+"__group__deleted","Deleted group #{{globalGroupNo}}"),YR+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),YR+"__case_group__deleted","Deleted case #{{globalNoByType}}"),QR,"{{str}} in case #{{caseNo}}"),JR,"{{str}} (index path: {{indexPath, list}})")),$M="raqbvalidation",WM="".concat($M,":"),KM=BM.createInstance();KM.init({fallbackLng:"en"}),KM.addResources("en",$M,UM);var YM=function e(t,r){return null!=t&&t.str?t.str:null!=t&&t.key?e(t.key,t.args):null===r?t:KM.t(t.includes(":")?t:WM+t,r)};function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GM(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var QM=function(e){return"object"===_(e)&&null!==e&&Array.isArray(e)?"array":_(e)},XM=function(e,t){return 0===ZM(e,t).length},ZM=function(e,t){var r=t.settings.showErrorMessage,n=[];return e&&function e(t,o,i){var a,l,s=t.get("id"),u=t.get("children1"),c=t.getIn(["properties","valueError"]),d=t.getIn(["properties","fieldError"]),p=t.getIn(["properties","field"]),f=null!==(a=null==p||null===(l=p.get)||void 0===l?void 0:l.call(p,"func"))&&void 0!==a?a:p;((null==c?void 0:c.size)>0&&c.filter((function(e){return null!=e})).size>0||!!d)&&r&&n.push(f),u&&u.map((function(t,r){t&&e(t,o.concat(s))}))}(e,[]),Array.from(new Set(n))},eD=function(e,t){var r=Mz(t,void 0,!0),n={removeEmptyGroups:t.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:t.settings.removeIncompleteRulesOnLoad,removeEmptyRules:t.settings.removeEmptyRulesOnLoad,forceFix:!1},o=oD(e,null,r,r,n),i=o.fixedTree,a=o.allErrors;return o.isSanitized&&a.length&&console.warn("Tree check errors: ",a),i},tD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Mz(t,void 0,!0),o=JM(JM({},r),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1});return oD(e,null,n,n,o).allErrors},rD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Mz(t,void 0,!0),o=JM({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},r),i=oD(e,null,n,n,o);return{fixedTree:i.fixedTree,fixedErrors:i.fixedErrors,nonFixedErrors:i.nonFixedErrors,allErrors:i.allErrors}},nD=function(e,t,r,n,o,i,a){void 0===o&&(o=r.settings.removeEmptyGroupsOnLoad),void 0===i&&(i=r.settings.removeEmptyRulesOnLoad),void 0===a&&(a=r.settings.removeIncompleteRulesOnLoad);var l=oD(e,t,r,n,{removeEmptyGroups:o,removeEmptyRules:i,removeIncompleteRules:a,forceFix:!1}),s=l.fixedTree;l.allErrors;var u=l.fixedErrors;return l.nonFixedErrors,l.isSanitized&&u.length&&console.warn("Fixed tree errors: ",u),s=ZP(s)},oD=function(e,t,r,n,o){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var i,a,l=o||{},s=l.removeEmptyGroups,u=l.removeEmptyRules,c=l.removeIncompleteRules,d=l.forceFix,p=l.translateErrors,f=void 0===p||p,h=l.includeStringifiedItems,g=void 0===h||h,v=l.stringifyFixedItems,m=void 0!==v&&v,y=l.stringifyItemsUserFriendly,b=void 0===y||y,_=l.includeItemsPositions,x=void 0===_||_,w={errors:{}},O=lD(e,[],null,w,{config:r,oldConfig:n,removeEmptyGroups:s,removeEmptyRules:u,removeIncompleteRules:c,forceFix:d}),S=w.sanitized,k=[];for(var j in x&&(i=tN(O).items),w.errors){var E=w.errors[j],C=E.path,T=E.errors;f&&(T=T.map((function(e){return JM(JM({},e),{},{str:YM(e)})})));var q={path:C,errors:T};if(g){var I=QP(m?O:e,C);if(!(1===C.length)&&"group"!==I.get("type")){var A=dR(I,r,b,!0);q.itemStr=A}}if(x){var L=i[j],P=!L;if(P&&(a||(a=tN(e).items),L=a[j]),L){var N=JM(JM({},L.position),{},{index:L.index,type:L.type,isDeleted:P});q.itemPosition=N;var F=L.index?YR+"__"+L.type+(P?"__deleted":""):GR,R=JM({},N);if(b){for(var M,D=0,V=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];D<V.length;D++){var z=V[D];null!=R[z]&&(R[z]=R[z]+1)}R.indexPath=null===(M=N.indexPath)||void 0===M?void 0:M.map((function(e){return e+1}))}q.itemPositionStr=YM(F,R),L.index&&(L.caseId&&"case_group"!==L.type&&(q.itemPositionStr=YM(QR,JM(JM({},R),{},{str:q.itemPositionStr}))),"case_group"!==L.type&&(q.itemPositionStr=YM(JR,JM(JM({},R),{},{str:q.itemPositionStr}))))}}k.push(q)}for(var B=[],H=[],U=0,$=k;U<$.length;U++){var W=$[U],K=W.errors.filter((function(e){return!!e.fixed})),Y=W.errors.filter((function(e){return!e.fixed&&"EMPTY_QUERY"!==e.key}));K.length&&B.push(JM(JM({},W),{},{errors:K})),Y.length&&H.push(JM(JM({},W),{},{errors:Y}))}return{fixedTree:O,allErrors:k,fixedErrors:B,nonFixedErrors:H,isSanitized:S}};function iD(e,t,r,n){var o=t.get("id");e.errors[o]||(e.errors[o]={path:[].concat(Ek(r),[o]),errors:[]}),e.errors[o].errors.push(n)}function aD(e,t){var r=t.get("id");e.errors[r]&&e.errors[r].errors.map((function(e){e.fixed=!0}))}function lD(e,t,r,n,o){var i=null==e?void 0:e.get("type");return"group"===i||"rule_group"===i||"case_group"==i||"switch_group"==i?function(e,t,r,n,o){var i,a,l,s,u,c,d=o.removeEmptyGroups,p=o.removeIncompleteRules;o.forceFix;var f=o.config;f.settings.showErrorMessage;var h=e.get("id"),g=e.get("children1"),v=!t.length,m=g,y=e.get("type"),b=e.get("properties"),_=null==b?void 0:b.get("field"),x=null==b?void 0:b.get("mode"),w=null==b||null===(i=b.get)||void 0===i?void 0:i.call(b,"operator"),O="rule_group"===y&&"array"===x,S="case_group"===y,k=S&&null==g,j=w?null!==(a=null===(l=f.operators[w])||void 0===l?void 0:l.cardinality)&&void 0!==a?a:1:void 0,E=S?!k:O?0==j:d,C=O||S;!h&&r&&(h=r,e=e.set("id",h),n.sanitized=!0);C&&(e=sD(e,t,r,n,o));var T={errors:{}};g=null===(s=g)||void 0===s?void 0:s.map((function(e,r){return lD(e,t.concat(h),r,T,o)}));var q=null===(u=g)||void 0===u?void 0:u.filter((function(e){return null!=e}));d&&(g=q);var I=T.sanitized||(null==m?void 0:m.size)!=(null===(c=g)||void 0===c?void 0:c.size),A=!(null!=q&&q.size),L=d&&!v;O&&_&&(L=p);A&&E&&(iD(n,e,t,{key:v?_R:S?xR:O?bR:yR,args:{field:_},fixed:L}),L&&(aD(n,e),e=void 0));I&&(n.sanitized=!0);I&&e&&(e=e.set("children1",g));return n.errors=JM(JM({},n.errors),(null==T?void 0:T.errors)||{}),e}(e,t,r,n,o):"rule"===i?sD(e,t,r,n,o):e}function sD(e,t,r,n,o){var i=o.removeIncompleteRules,a=o.removeEmptyRules,l=o.forceFix,s=o.config,u=o.oldConfig,c=s.settings.showErrorMessage,d=!c||l,p=e.get("id"),f="case_group"===e.get("type"),h=e.get("properties");if(!h){if(!f)return void iD(n,e,t,{key:qR,args:{},fixed:i||a});h=new WT.Map}var g=h.get("field")||null;f&&(g="!case_value");var v=h.get("fieldSrc")||null,m=h.get("operator")||null,y=h.get("operatorOptions"),b=h.get("valueSrc"),_=h.get("value"),x=h.get("valueError"),w=h.get("fieldError"),O=function(){var e,t;return{field:(null===(e=g)||void 0===e||null===(t=e.toJS)||void 0===t?void 0:t.call(e))||g,fieldSrc:v,operator:m,operatorOptions:y?y.toJS():{},valueSrc:b?b.toJS():null,value:_?_.toJS():null,valueError:x?x.toJS():null,fieldError:w||null}},S=O();!p&&r&&(p=r,e=e.set("id",p),n.sanitized=!0);var k=g?uB(s,g):null;g&&!k&&(iD(n,e,t,{key:wR,args:{field:g},side:"lhs",fixed:i||a}),g=null),null!=g||f||(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce((function(e,t){return e.delete(t)}),h),m=null),v||!g||f||(v=sB(g),h=h.set("fieldSrc",v)),"range_between"!==m&&"range_not_between"!==m||(m="range_between"===m?"between":"not_between",h=h.set("operator",m));var j=m?cB(s,m,g):null;m&&!j&&(iD(n,e,t,{key:OR,args:{operator:m},side:"op",fixed:i||a}),m=null);var E=g?CD(s,g):[];g&&!f&&(null!=E&&E.length?m&&-1==E.indexOf(m)&&("is_empty"===m||"is_not_empty"===m?(m="is_empty"===m?"is_null":"is_not_null",h=h.set("operator",m)):(iD(n,e,t,{key:CR,args:{operator:m,field:g},side:"lhs",fixed:i||a}),m=null)):(iD(n,e,t,{key:ER,args:{field:g},side:"lhs",fixed:i||a}),m=null)),null!=m||f||(h=["operatorOptions","valueSrc","value","valueError"].reduce((function(e,t){return e.delete(t)}),h)),y=h.get("operatorOptions"),!m||y&&!j.options?(y=null,h=h.delete("operatorOptions")):m&&!y&&j.options&&(y=XF(s,m,g),h=h.set("operatorOptions",y)),b=h.get("valueSrc"),_=h.get("value");var C=hD(s,u,h,g,m,null,d,!0),T=C.newValue,q=C.newValueSrc,I=C.newValueError,A=C.validationErrors,L=C.newFieldError,P=C.fixedField;_=T,b=q,x=I,w=L,g=P,h=(h=(h=h.set("field",g)).set("value",_)).set("valueSrc",b),h=c?h.set("valueError",x).set("fieldError",w):h.delete("valueError").delete("fieldError");var N=O(),F=!nq(S,N),R=$D(h.toObject(),s),M=f?R.parts.value:R.score>=3;if(F&&(n.sanitized=!0,e=e.set("properties",h)),null==A||A.map((function(r){return iD(n,e,t,r)})),!M)if(f);else{var D=R.score?i:a,V={key:qR,args:{}};if(R.parts.field){if(!R.parts.value){var z,B,H,U;V.key=AR,V.side="rhs",null!==(z=N.valueSrc)&&void 0!==z&&z[0]&&(null===(B=N.valueSrc)||void 0===B?void 0:B[0])!=(null===(H=S.valueSrc)||void 0===H?void 0:H[0])&&null!=(null===(U=N.value)||void 0===U?void 0:U[0])&&(V.key=TR,V.args={valueSrcs:N.valueSrc})}}else V.key=IR,V.side="lhs";V.fixed=D,iD(n,e,t,V),D&&(aD(n,e),e=void 0)}return e}var uD=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=arguments.length>10&&void 0!==arguments[10]&&arguments[10],d=[],p=o;if(null!=o){var f,h,g,v;if("field"===a){var m=dD(t,r,o,a,i,l,e,n,s,u),y=bt(m,2);p=y[0],d=y[1]}else if("func"===a){var b=pD(t,r,o,a,i,l,e,n,s,u,c),x=bt(b,2);p=x[0],d=x[1]}else if("value"===a||!a){var w=cD(r,o,a,i,l,e,n,s,u),O=bt(w,2);p=O[0],d=O[1]}var S=!(null!==(f=d)&&void 0!==f&&f.find((function(e){return!e.fixed})));if(!!r&&!["field","func"].includes(a)&&(!(null!==(h=d)&&void 0!==h&&h.length)||S)){var k=FD(e,r,n,a),j=n?cB(e,n,r):null,E=dB(e,r,n,k,a,{forExport:!0}),C="field"===a?uB(e,o):null,T=E,q=E.validateValue;if("function"==typeof q){var I=[p,T,n,j];"field"===a&&I.push(C);var A,L,P=q.call.apply(q,[e.ctx].concat(I));if("object"!==_(P)||null===P||Array.isArray(P))"boolean"==typeof P?0==P&&d.push({key:kR,args:{}}):"string"==typeof P&&d.push({key:P,args:null});else L=null!==(A=P.error)&&void 0!==A&&A.key?JM({},P.error):{key:P.error,args:null},void 0!==P.fixedValue&&s&&(L.fixed=!0,L.fixedFrom=p,L.fixedTo=P.fixedValue,p=P.fixedValue),d.push(L)}}if(S=!(null!==(g=d)&&void 0!==g&&g.find((function(e){return!e.fixed}))),null!==(v=d)&&void 0!==v&&v.length&&!S&&s){var N=uB(e,r),F=null==N?void 0:N.fieldSettings,R=null==F?void 0:F.defaultValue;if(void 0!==R){var M=d[d.length-1];M.fixed=!0,M.fixedFrom=p,M.fixedTo=R,p=R,d.map((function(e){e.fixed=!0}))}}}return[p,d]},cD=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=[],u=t;if(e){var c=uB(i,e),d=FD(i,e,a,r),p=i.widgets[d],f=null==p?void 0:p.type,h=null==p?void 0:p.jsType,g=null==c?void 0:c.fieldSettings,v=(null==g?void 0:g.treeValues)||(null==g?void 0:g.listValues),m=!(null==g||!g.asyncFetch),y=v||m;if(n&&f&&n!=f)return s.push({key:NR,args:{wType:f,valueType:n}}),[t,s];if(h&&!function(e,t){return QM(e)===t||"number"===t&&!isNaN(e)}(t,h)&&!y)return s.push({key:FR,args:{jsType:h,valueTypeof:QM(t)}}),[t,s];if(g){var b=o||v;if(b&&!g.allowCustomValues&&"case_value"!==d){var _=function(e,t,r,n,o){var i=WT.List.isList(e)?e.toJS():e instanceof Array?Ek(e):void 0,a=e,l=[];if(i){var s=i.reduce((function(e,r){var n=bt(e,2),o=n[0],i=n[1],a=UP(t,r);return null==a?[o,[].concat(Ek(i),[r])]:[[].concat(Ek(o),[a.value]),i]}),[[],[]]),u=bt(s,2),c=u[0],d=u[1],p=d.length>0;if(a=(r=r||!0===o)&&p?c:e,d.length){var f=r&&p;l.push({key:LR,args:{badValues:d,count:d.length},fixed:f,fixedFrom:f?i:void 0,fixedTo:f?a:void 0})}return[a,l]}var h=UP(t,e);return null==h?(a=r?null:e,l.push({key:PR,args:{value:e},fixed:r,fixedFrom:r?e:void 0,fixedTo:r?a:void 0})):a=h.value,[a,l]}(t,b,l,0,i.settings.removeInvalidMultiSelectValuesOnLoad),x=bt(_,2);u=x[0],s=x[1]}g.maxLength>0&&null!=t&&String(t).length>g.maxLength&&(u=l?String(t).substring(0,g.maxLength):t,s.push({key:RR,args:{value:t,length:String(t).length,fieldSettings:g},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}));var w=null!=g.min&&null!=g.max?XR:void 0;null!=g.min&&t<g.min&&(u=l?g.min:t,s.push({key:MR,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0})),null!=g.max&&t>g.max&&(u=l?g.max:t,s.push({key:DR,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}))}}return[u,s]},dD=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=[],u=a.settings,c=u.fieldSeparator,d=u.canCompareFieldWithField,p="object"==_(t)&&(null==t?void 0:t._isFuncArg),f=Array.isArray(e)?e.join(c):e,h=uB(a,e),g=Array.isArray(r)?r.join(c):r,v=uB(a,r);if(!v)return s.push({key:VR,args:{field:g}}),[r,s];if(e&&g===f&&!p)return s.push({key:zR,args:{field:f}}),[r,s];if(o&&o!=v.type)return s.push({key:HR,args:{field:g,type:v.type,expected:o}}),[r,s];if(e&&!p&&d&&!d(f,h,g,v,l))return s.push({key:BR,args:{leftField:f,rightField:g}}),[r,s];return[r]},pD=function(e,t,r,n,o,i,a){var l,s,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=r,h=[];if(!r)return[r];var g=null===(l=r.get)||void 0===l?void 0:l.call(r,"func");if(!g)return[r];var v=uB(a,t);if(null!=v&&v.funcs&&!v.funcs.includes(g))return h.push({key:UR,args:{funcKey:g,field:t}}),[r,h];var m=eB(a,g);if(!m)return h.push({key:SR,args:{funcKey:g}}),[r,h];var y=null!==(s=m.label)&&void 0!==s?s:g;if(o&&m.returnType!=o)return h.push({key:WR,args:{funcKey:g,funcName:y,returnType:m.returnType,valueType:o}}),[r,h];for(var b in c=c||p,m.args){var _,x=m.args[b],w=f.get("args"),O=w?w.get(b):void 0,S=uB(a,x),k=null!==(_=null==S?void 0:S.label)&&void 0!==_?_:b,j=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;if(void 0!==j){var C=uD(a,e,S,u,j,x.type,E,i,c,d,p),T=bt(C,2),q=T[0],I=T[1],A=!(null!=I&&I.length),L=c&&q!==j,P=c&&!A&&!L&&(d||p);if(L&&(f=f.setIn(["args",b,"value"],q)),P&&(f=f.deleteIn(["args",b]),f=_D(a,f,m,b)),!A){var N,F,R=null!==(N=null!==(F=I.find((function(e){return!e.fixed&&!e.ignore})))&&void 0!==F?F:I.find((function(e){return!e.fixed})))&&void 0!==N?N:I[0],M=L||P,D=0===I.filter((function(e){return!e.ignore})).length;if(R){var V=YM(R);h.push({key:jR,args:{funcKey:g,funcName:y,argKey:b,argName:k,argValidationError:V,argErrors:I},ignore:D,fixed:M,fixedFrom:M?j:void 0,fixedTo:M?L?q:x.defaultValue:void 0})}}}else if(!x.isOptional&&(d||p)){var z=c&&void 0!==x.defaultValue&&(d||p);d&&h.push({key:$R,args:{funcKey:g,funcName:y,argKey:b,argName:k},fixed:z,fixedTo:z?x.defaultValue:void 0,ignore:!z}),z&&(f=f.deleteIn(["args",b]),f=_D(a,f,m,b))}}return[f,h]},fD=function(e,t,r,n,o){var i,a=cB(e,r,t),l=r?rq(a):null,s=o.toJS?o.toJS():o,u=n.toJS?n.toJS():n,c=s.filter((function(e){return"value"==e||null==e})).length==l;if(null!=a&&a.validateValues&&c){var d=s[0],p=FD(e,t,r,d),f=dB(e,t,r,p,d),h=null!=f&&f.toJS?u.map((function(t){var r=f.toJS.call(e.ctx,t,f);return r instanceof Date&&(r=r.getTime()),r})):u,g=a.validateValues(h);"boolean"==typeof g&&0==g&&(i={key:KR,args:{jsValues:h,values:u}})}return i},hD=function(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];i||(i=e);var f=e.settings,h=f.keepInputOnChangeFieldSrc,g=f.convertableWidgets,v=f.clearValueOnChangeField,m=f.clearValueOnChangeOp,y="!case_value"==l,b=a.get("field");!b&&y&&(b=l);var _,x=a.get("fieldType"),w=a.get("fieldSrc"),O=a.get("operator"),S=a.get("value"),k=a.get("valueSrc",new WT.List),j=a.get("valueType",new WT.List),E=a.get("valueError",new WT.List),C=a.get("asyncListValues"),T=y,q=cB(i,O),I=cB(e,s,l),A=y?1:O?rq(q):null,L=y?1:s?rq(I):null,P=uB(i,b),N=uB(e,l),F=!b&&x&&h,R=(null==P?void 0:P.type)||x,M=(null==N?void 0:N.type)||!l&&F&&R,D=null==P?void 0:P.listValuesType,V=null==N?void 0:N.listValuesType,z=(null===(t=b)||void 0===t||null===(r=t.get)||void 0===r?void 0:r.call(t,"func"))||b,B=((null===(n=l)||void 0===n||null===(o=n.get)||void 0===o?void 0:o.call(n,"func"))||l)!=z,H=[],U=(b||F)&&(O&&s||T)&&null!=S;if((!R||!M||R!=M||"field"===u&&B&&v||"operator"===u&&m)&&(U=!1),B&&jD.includes(M)&&(V&&V===D||(U=!1)),T||(null!=S&&S.size||!L)&&(null==S||!S.size||L)||(U=!1),"func"===w&&l){var $=uD(e,null,null,s,l,M,w,C,c,d,p),W=bt($,2),K=W[0],Y=W[1],G=!(null!=Y&&Y.length),J=K!==l,Q=!G&&J&&!Y.find((function(e){return!e.fixed})),X=c&&!G&&!Q&&!!u&&l!==b,Z=!1;if(X?l=b:J&&(l=K),!G){var ee=!G&&!Q&&!X,te=Y.find((function(e){return!e.fixed&&!e.ignore}));ee&&te&&(_=YM(te)),Y.map((function(e){return H.push(JM(JM({side:"lhs"},e),{},{fixed:e.fixed||X||Z}))}))}}for(var re=0;re<L;re++){var ne=k.get(re)||null,oe=FD(i,b,O,ne),ie=FD(e,l,s,ne),ae="value"===ne?oe:FD(i,b,O,"value"),le="value"===ne?ie:FD(e,l,s,"value");le==ae||(g[ae]||[]).includes(le)||!ae&&F||(U=!1)}O!=s&&[O,s].includes("proximity")&&(U=!1);var se=k.first(),ue=dB(e,l,s,null,se),ce=ND(e,l,s,null);!l&&F&&(ce=Object.keys(e.settings.valueSourcesInfo));var de,pe=ce[0];1===L&&ue&&void 0!==ue.type?de=ue.type:1===L&&N&&void 0!==N.type&&(de="!group"===N.type?"number":N.type);var fe=U&&"operator"===u&&1===A&&2===L,he=[],ge=[],ve=[],me=Array.from({length:L},(function(){return null}));if(U)for(var ye=function(t){var r=S.get(t),n=j.get(t)||null,o=k.get(t)||null;fe&&1===t&&(r=void 0!==he[0]?he[0]:S.get(0),he[t]=r,n=j.get(0)||null,o=k.get(0)||null);var i=!o||void 0!==ce.find((function(e){return e==o})),a=uD(e,l,l,s,r,n,o,C,c,d,p),u=bt(a,2),f=u[0],h=u[1],g=!(null!=h&&h.length),v=f!==r,m=!g&&v&&!(null!=h&&h.find((function(e){return!e.fixed}))),y=!(null!=h&&h.find((function(e){return!e.fixed&&!e.ignore}))),b=!i||c&&!g&&!m&&(!y||B);g||null==h||h.map((function(e){return H.push(JM(JM({side:"rhs",delta:t},e),{},{fixed:e.fixed||b}))})),b&&(he[t]=null,0===t&&delete he[1]);var _=!g&&!v,x=null==h?void 0:h.find((function(e){return!e.fixed&&!e.ignore}));_&&x&&(me[t]=YM(x)),v&&(he[t]=f),!fe||0!==t||g||v||(fe=!1),fe&&0===t&&["func","field"].includes(o)&&(fe=!1)},be=0;be<L;be++)ye(be);if(!U)for(var _e=0;_e<L;_e++)if(1===L){var xe,we=_q([null==N?void 0:N.defaultValue,null==N||null===(xe=N.fieldSettings)||void 0===xe?void 0:xe.defaultValue,null==ue?void 0:ue.defaultValue]);he[_e]=we,null!=we&&we.func&&(ge[_e]="func")}for(var Oe=0;Oe<L;Oe++){var Se,ke,je=U&&k.get(Oe)||null,Ee=U&&j.get(Oe)||null;if(U&&fe&&1===Oe)je=null!==(Se=ge[Oe])&&void 0!==Se?Se:k.get(0),Ee=null!==(ke=ve[Oe])&&void 0!==ke?ke:j.get(0),ge[Oe]=je,ve[Oe]=Ee;ce.includes(je)||(ge[Oe]=pe),Ee||(ve[Oe]=de)}var Ce=S;(he.length>0||!U)&&(Ce=new WT.List(Array.from({length:L},(function(e,t){return void 0!==he[t]?he[t]:U?S.get(t):void 0}))));var Te=k;(ge.length>0||!U)&&(Te=new WT.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ge[t])&&void 0!==r?r:U&&k.get(t)||null}))));var qe=j;(ve.length>0||!U)&&(qe=new WT.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ve[t])&&void 0!==r?r:U&&j.get(t)||null}))));var Ie=fD(e,l,s,Ce,Te);if(Ie){var Ae=YM(Ie),Le=c&&L>=2,Pe=Ce;Le&&(he[1]=Ce.get(0),Ce=Ce.set(1,he[1]),me[1]=me[0]),!Le&&me.push(Ae),H.push(JM(JM({side:"rhs",delta:-1},Ie),{},{fixed:Le,fixedFrom:Le?[Pe.get(0),Pe.get(1)]:void 0,fixedTo:Le?[Ce.get(0),Ce.get(1)]:void 0}))}var Ne=E,Fe=(null==E?void 0:E.size)!==me.length||me.filter((function(e,t){return e!=E.get(t)})).length>0;return Fe&&(Ne=new WT.List(me)),{canReuseValue:U,newValue:Ce,newValueSrc:Te,newValueType:qe,operatorCardinality:L,fixedField:l,newValueError:Ne,newFieldError:_,validationErrors:H}};const gD=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:oD,checkTree:eD,getNewValueForFieldOp:hD,getTreeBadFields:ZM,isValidTree:XM,sanitizeTree:rD,translateValidation:YM,validateAndFixTree:nD,validateRange:fD,validateTree:tD,validateValue:uD},Symbol.toStringTag,{value:"Module"}));var vD=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},mD=function(e,t){if(e){var r=e.get("func"),n=r&&eB(t,r);if(n){var o=e,i=!1;for(var a in n.args){var l=n.args[a],s=l.valueSources,u=l.isOptional,c=l.defaultValue,d=PD(t,s,l),p=o.get("args"),f=1==d.length?d[0]:void 0,h=p?p.get(a):void 0,g=h?h.get("value"):void 0,v=(h?h.get("valueSrc"):void 0)||f;if(void 0!==g){var m=KD(g,v,t);if(void 0===m)return;if(m!==g&&(o=o.setIn(["args",a,"value"],m)),i)return}else if(void 0===c||vD(c)){if(!u)return;i=!0}else o=(o=o.setIn(["args",a,"value"],xD(l))).setIn(["args",a,"valueSrc"],"value")}return o}}},yD=function(e,t,r,n){var o=r.settings.fieldSeparator;e=e||new WT.Map,Array.isArray(t)&&(t=t.join(o));var i=e.get("func"),a=e.get("args");e=e.set("func",t);var l=t&&eB(r,t),s=t&&Zz(r,t),u=i&&Zz(r,i),c=SD(u,s,a,r,n);c.length?e=Object.keys(s.args).filter((function(e){return!c.includes(e)})).reduce((function(e,t){return e.deleteIn(["args",t])}),e):e=e.set("args",new WT.Map);return e=bD(r,e,l)},bD=function(e,t,r){if(r)for(var n in r.args)t=_D(e,t,r,n);return t},_D=function(e,t,r,n){var o=r.args[n],i=o.valueSources,a=o.defaultValue,l=PD(e,i,o),s=l.length?l[0]:void 0,u=(a?vD(a)&&a.func?"func":"value":void 0)||s;return t.getIn(["args",n])||(void 0!==a&&(t=t.setIn(["args",n,"value"],xD(o))),u&&(t=t.setIn(["args",n,"valueSrc"],u))),t},xD=function(e){var t=e.defaultValue;return vD(t)&&!WT.Map.isMap(t)&&t.func?WT.fromJS(t,(function(e,t){return WT.Iterable.isIndexed(t)?t.toList():t.toOrderedMap()})):t},wD=function(e,t,r,n,o){if(e&&e.get("func")){var i=(e=e.setIn(["args",t,"value"],r)).getIn(["args",t,"valueSrc"]),a=n.valueSources,l=PD(o,a,n),s=1==l.length?l[0]:void 0;!s&&l.includes("value")&&(s="value"),!i&&s&&(e=e.setIn(["args",t,"valueSrc"],s))}return e},OD=function(e,t,r,n,o){return e&&e.get("func")&&(e=e.setIn(["args",t],new WT.Map({valueSrc:r}))),e},SD=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((null==e?void 0:e.returnType)!=(null==t?void 0:t.returnType))return[];var i=Object.keys(t.args).filter((function(i,a){var l=t.args[i],s=e.args[i];if(Object.keys(e.args).indexOf(i),!s&&(void 0!==l.defaultValue||l.isOptional))return!0;if((null==s?void 0:s.type)!=l.type)return!1;if(jD.includes(l.type)&&(!s.listValuesType||s.listValuesType!==l.listValuesType))return!1;if(r){var u,c=r.get(i),d=null==c?void 0:c.get("value"),p=null==c?void 0:c.get("valueSrc");if(p&&l.valueSources&&!l.valueSources.includes(p))return!1;var f=uD(n,null,l,null,d,l.type,p,null,o,!0),h=bt(f,2);h[0];var g=h[1];if(null!=g&&null!==(u=g.filter((function(e){return!e.fixed})))&&void 0!==u&&u.length)return!1}return!0}));return i};const kD=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:mD,getCompatibleArgsOnFuncChange:SD,setArgValue:wD,setArgValueSrc:OD,setFunc:yD,setFuncDefaultArg:_D},Symbol.toStringTag,{value:"Module"}));var jD=["select","multiselect","treeselect","treemultiselect"],ED=function(e,t){var r;return(null===(r=e.types[t])||void 0===r?void 0:r.operators)||null},CD=function(e,t){var r=uB(e,t);return r?r.operators:[]},TD=function(e,t){var r,n=CD(e,t);return null!==(r=null==n?void 0:n[0])&&void 0!==r?r:null},qD=function(e,t,r){var n=null;if(e)if("field"===t){var o=uB(r,e);o&&(n=o.type)}else if("func"===t){var i=e.get("func");if(i){var a=eB(r,i);a&&(n=a.returnType||a.type)}}return n},ID=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fields",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"subfields";if(!e)return null;var i=t.settings.fieldSeparator,a=oB(e,t),l=oB(r,t),s=a.slice(l.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return[].concat(Ek(l),Ek(e)).join(i)})).map((function(e){var r=Qz(t,e,n,o);return r&&r.label||gA(e.split(i))})).filter((function(e){return null!=e}));return s},AD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;var n=r&&Qz(t,r)||null,o=t.settings.fieldSeparator,i=oB(e,t),a=rB(e,r,t)?oB(r,t):[];return i.slice(a.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return{part:[].concat(Ek(a),Ek(e)).join(o),key:e[e.length-1]}})).map((function(e){var r=e.part;return{key:e.key,cnf:Qz(t,r)}})).map((function(e,t,r){return[e.key,e.cnf,t>0?r[t-1].cnf:n]}))};function LD(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[],i=[];if(!t)return{widgets:o,valueSrcs:i};var a=iB(t),l=a?"".concat(a,"__").concat(r,"__").concat(n):null,s=aB(e,"_getWidgetsAndSrcsForFieldOp",l);if(s)return s;var u="object"===_(t)&&(!!t.func&&!!t.arg||t._isFuncArg),c=uB(e,t),d=r?e.operators[r]:null;if(null!=c&&c.widgets){var p=function(){var a=c.widgets[f];if(!e.widgets[f])return 1;var l=e.widgets[f].valueSrc||"value",s=!0;if("field"===f&&(s=s&&PD(e,["field"],c).length>0),"func"===f&&(s=s&&PD(e,["func"],c).length>0),"value"!==n||a.operators||u||"!case_value"===t||(s=!1),a.operators&&r&&(s=s&&-1!=a.operators.indexOf(r)),n&&n!=l&&"const"!==n&&(s=!1),d&&0==d.cardinality&&"value"!==l&&(s=!1),s){var p,h;o.push(f);var g=-1!=(null===(p=c.valueSources)||void 0===p?void 0:p.indexOf(l));-1==(null==d||null===(h=d.valueSources)||void 0===h?void 0:h.indexOf(l))&&(g=!1),g&&!i.find((function(e){return e==l}))&&i.push(l)}};for(var f in c.widgets)p()}var h=function(e){var t=0;return c.preferWidgets?c.preferWidgets.includes(e)&&(t+=10-c.preferWidgets.indexOf(e)):e==c.mainWidget&&(t+=100),"field"===e&&(t-=1),"func"===e&&(t-=2),t};o.sort((function(e,t){return h(t)-h(e)}));var g={widgets:o,valueSrcs:i};return lB(e,"_getWidgetsAndSrcsForFieldOp",l,g),g}var PD=function(e,t,r){var n;if(!r)return t;var o=null!==(n=r.type)&&void 0!==n?n:r.returnType;return"!group"===o&&(o="number"),t||(t=Object.keys(e.settings.valueSourcesInfo)),t.filter((function(t){var n=!0;if("field"===t&&e.__fieldsCntByType){var i=r._isFuncArg?0:1;n=n&&e.__fieldsCntByType[o]>i}return"func"===t&&(r.funcs&&(n=n&&r.funcs.length>0),e.__funcsCntByType&&(n=n&&e.__funcsCntByType[o]>0)),n}))},ND=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=LD(e,t,r,null).valueSrcs;return PD(e,o,n)},FD=function(e,t,r){var n=LD(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets,o=null;return n.length&&(o=n[0]),o},RD=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e){var i=uB(t,e)||{},a=t.settings.fieldSeparator,l=oB(e,t),s=Array.isArray(e)?e.join(a):e;if(null!=o&&o.useTableName&&i.tableName){var u=Ek(l);u[0]=i.tableName,s=u.join(a)}if(i.fieldName&&(s=i.fieldName),n){uB(t,n);var c=n;0==s.indexOf(c+a)?s=s.slice((c+a).length):i.fieldName||r.errors.push("Can't cut group ".concat(c," from field ").concat(s))}return s}},MD=function(e,t){var r=e.get("type"),n=e.getIn(["properties","mode"]);return"rule_group"==r&&"array"==n?DD(e,t):"group"==r||"rule_group"==r?zD(e,t):HD(e,t)},DD=function(e,t){var r=e.get("children1"),n=e.get("properties");return VD(n.toObject(),r,t)},VD=function(e,t,r){var n,o,i=e.operator,a=0==(null!==(n=null===(o=r.operators[i])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1),l={group:!UD(e,r),children:!BD(t,r)};return!(l.group&&(!a||l.children))},zD=function(e,t){var r=e.get("children1");return BD(r,t)},BD=function(e,t){return!((null==e?void 0:e.size)>0&&e.filter((function(e){return!MD(e,t)})).size>0)},HD=function(e,t){var r=e.get("properties");return UD((null==r?void 0:r.toObject())||{},t)},UD=function(e,t){return!($D(e,t,!0).score>=3)},$D=function(e,t){var r,n,o,i=e.field,a=e.fieldSrc;e.fieldType;var l=e.operator,s=e.value,u=e.valueSrc;e.valueType;var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=null!==(r=null===(n=t.operators[l])||void 0===n?void 0:n.cardinality)&&void 0!==r?r:1,p=null!=u&&u.get?u.toJS():u,f={parts:{},score:0};if(f.parts.field=c?null!=i:WD(i,a,t),f.parts.operator=!!l,f.parts.value=(null==s||null===(o=s.filter((function(e,r){return WD(e,null==p?void 0:p[r],t,c)})))||void 0===o?void 0:o.size)>=(c?Math.min(d,1):d),f.score=Object.keys(f.parts).filter((function(e){return!!f.parts[e]})).length,c&&f.score<3){!f.parts.value&&"func"===a&&WD(i,a,t,!1,true)&&f.score++,f.parts.field||null==s||s.map((function(e,r){"func"===(null==p?void 0:p[r])&&WD(e,null==p?void 0:p[r],t,!1,true)&&f.score++}))}return f},WD=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!o&&"func"==r&&t){var a,l=null===(a=t.get)||void 0===a?void 0:a.call(t,"func"),s=eB(n,l);if(s){var u=t.get("args");for(var c in s.args){var d=s.args[c],p=u?u.get(c):void 0,f=p?p.get("value"):void 0,h=p?p.get("valueSrc"):void 0;if(null==f&&void 0===(null==d?void 0:d.defaultValue)&&(null==d||!d.isOptional))return!1;if(null!=f&&!e(f,h,n,!i||o))return!1}return!0}}return null!=t},KD=function(e,t,r){return"func"==t?mD(e,r):e},YD=function e(t){var r=t.get("children1");if(1==(null==r?void 0:r.size)){var n=r.first();return"group"===n.get("type")?e(n):n}return null};const GD=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:qD,completeValue:KD,filterValueSourcesForField:PD,formatFieldName:RD,getFieldPartsConfigs:AD,getFieldPathLabels:ID,getFirstOperator:TD,getFuncPathLabels:function(e,t){return ID(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,"funcs","subfields")},getOneChildOrDescendant:YD,getOperatorsForField:CD,getOperatorsForType:ED,getValueLabel:function(e,t,r,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=dB(e,t,r,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)||{},a=cB(e,r,t)||{},l=null;if((o?1:a.cardinality)>1){var s=i.valueLabels||a.valueLabels;s&&(l=s[n]),l&&"object"!==_(l)&&(l={label:l,placeholder:l}),l||(l={label:e.settings.valueLabel+" "+(n+1),placeholder:e.settings.valuePlaceholder+" "+(n+1)})}else{var u=i.valueLabel,c=i.valuePlaceholder;l={label:u||e.settings.valueLabel,placeholder:c||e.settings.valuePlaceholder}}return l},getValueSourcesForFieldOp:ND,getWidgetForFieldOp:FD,getWidgetsForFieldOp:function(e,t,r){return LD(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets},isEmptyGroupChildren:BD,isEmptyItem:MD,isEmptyRuleGroupExtPropertiesAndChildren:VD,isEmptyRuleProperties:UD,selectTypes:jD,whatRulePropertiesAreCompleted:$D},Symbol.toStringTag,{value:"Module"}));var JD=fI,QD=wi;var XD=function(e,t,r){(void 0!==r&&!QD(e[t],r)||void 0===r&&!(t in e))&&JD(e,t,r)};var ZD=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}},eV=ZD(),tV=$s,rV=es;var nV=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},oV=bA,iV=qA;var aV=XD,lV=NA,sV=cL,uV=FA,cV=OL,dV=us,pV=Bl,fV=function(e){return rV(e)&&tV(e)},hV=ps,gV=da,vV=la,mV=kP,yV=Es,bV=nV,_V=function(e){return oV(e,iV(e))};var xV=_l,wV=XD,OV=eV,SV=function(e,t,r,n,o,i,a){var l=bV(e,r),s=bV(t,r),u=a.get(s);if(u)aV(e,r,u);else{var c=i?i(l,s,r+"",e,t,a):void 0,d=void 0===c;if(d){var p=pV(s),f=!p&&hV(s),h=!p&&!f&&yV(s);c=s,p||f||h?pV(l)?c=l:fV(l)?c=uV(l):f?(d=!1,c=lV(s,!0)):h?(d=!1,c=sV(s,!0)):c=[]:mV(s)||dV(s)?(c=l,dV(l)?c=_V(l):vV(l)&&!gV(l)||(c=cV(s))):d=!1}d&&(a.set(s,c),o(c,s,n,i,a),a.delete(s)),aV(e,r,c)}},kV=la,jV=qA,EV=nV;var CV=function e(t,r,n,o,i){t!==r&&OV(r,(function(a,l){if(i||(i=new xV),kV(a))SV(t,r,l,n,e,o,i);else{var s=o?o(EV(t,l),a,l+"",t,r,i):void 0;void 0===s&&(s=a),wV(t,l,s)}}),jV)},TV=ZI,qV=XI,IV=aA;var AV=function(e,t){return IV(qV(e,t,TV),e+"")},LV=wi,PV=$s,NV=hs,FV=la;var RV=function(e,t,r){if(!FV(r))return!1;var n=typeof t;return!!("number"==n?PV(r)&&NV(t,r.length):"string"==n&&t in r)&&LV(r[t],e)},MV=AV,DV=RV;var VV=function(e){return MV((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&DV(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,i)}return t}))},zV=CV,BV=VV((function(e,t,r){zV(e,t,r)}));const HV=g(BV);var UV={exports:{}};!function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=t)}(UV);const $V=g(UV.exports);var WV={exports:{}};!function(e,t){e.exports=function(){function e(e){for(var t=[],r=0,n=e.length;r<n;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t={},r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(e){return t.truthy(e)},"!":function(e){return!t.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var n=String(e).substr(t);return n.substr(0,n.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var r=void 0===t?null:t,n=this;if(void 0===e||""===e||null===e)return n;for(var o=String(e).split("."),i=0;i<o.length;i++){if(null==n)return r;if(void 0===(n=n[o[i]]))return r}return n},missing:function(){for(var e=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,n=0;n<r.length;n++){var o=r[n],i=t.apply({var:o},this);null!==i&&""!==i||e.push(o)}return e},missing_some:function(e,r){var n=t.apply({missing:r},this);return r.length-n.length>=e?[]:n}};return t.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},t.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},t.get_operator=function(e){return Object.keys(e)[0]},t.get_values=function(e){return e[t.get_operator(e)]},t.apply=function(e,n){if(Array.isArray(e))return e.map((function(e){return t.apply(e,n)}));if(!t.is_logic(e))return e;var o,i,a,l,s,u=t.get_operator(e),c=e[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(o=0;o<c.length-1;o+=2)if(t.truthy(t.apply(c[o],n)))return t.apply(c[o+1],n);return c.length===o+1?t.apply(c[o],n):null}if("and"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),!t.truthy(i))return i;return i}if("or"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),t.truthy(i))return i;return i}if("filter"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.filter((function(e){return t.truthy(t.apply(a,e))})):[];if("map"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.map((function(e){return t.apply(a,e)})):[];if("reduce"===u)return l=t.apply(c[0],n),a=c[1],s=void 0!==c[2]?t.apply(c[2],n):null,Array.isArray(l)?l.reduce((function(e,r){return t.apply(a,{current:r,accumulator:e})}),s):s;if("all"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(!t.truthy(t.apply(a,l[o])))return!1;return!0}if("none"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!0;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!1;return!0}if("some"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!0;return!1}if(c=c.map((function(e){return t.apply(e,n)})),r.hasOwnProperty(u)&&"function"==typeof r[u])return r[u].apply(n,c);if(u.indexOf(".")>0){var d=String(u).split("."),p=r;for(o=0;o<d.length;o++){if(!p.hasOwnProperty(d[o]))throw new Error("Unrecognized operation "+u+" (failed at "+d.slice(0,o+1).join(".")+")");p=p[d[o]]}return p.apply(n,c)}throw new Error("Unrecognized operation "+u)},t.uses_data=function(r){var n=[];if(t.is_logic(r)){var o=t.get_operator(r),i=r[o];Array.isArray(i)||(i=[i]),"var"===o?n.push(i[0]):i.forEach((function(e){n.push.apply(n,t.uses_data(e))}))}return e(n)},t.add_operation=function(e,t){r[e]=t},t.rm_operation=function(e){delete r[e]},t.rule_like=function(e,r){if(r===e)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof e;if("string"===r)return"string"==typeof e;if("array"===r)return Array.isArray(e)&&!t.is_logic(e);if(t.is_logic(r)){if(t.is_logic(e)){var n=t.get_operator(r),o=t.get_operator(e);if("@"===n||n===o)return t.rule_like(t.get_values(e,!1),t.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(e)){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i+=1)if(!t.rule_like(e[i],r[i]))return!1;return!0}return!1}return!1},t}()}(WV);const KV=g(WV.exports);function YV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JV(e,t){return KV.add_operation(e,t)}var QV={CALL:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.call.apply(e,[t].concat(n))},JSX:function(e,t){return{type:e,props:t}},mergeObjects:function(e,t){return GV(GV({},e),t)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(null==e?void 0:e.length)||0},regexTest:function(e,t,r){return null!=(null==e?void 0:e.match(new RegExp(t,r)))},now:function(){return new Date},date_add:function(e,t,r){return vx(e).add(t,r).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function XV(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ZV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZV(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ZV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rz(e,t,r){var n;try{n=KV.apply(e,t)}catch(ln){throw ln.message="".concat(r.join(".")," :: ").concat(ln.message),ln}return n}function nz(e,t,r,n){var o;try{o=t.call.apply(t,[e].concat(Ek(r)))}catch(ln){throw ln.message="".concat(n.join(".")," :: ").concat(ln.message),ln}return o}!function(){for(var e in QV)JV(e,QV[e])}();var oz=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],iz={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},az=tz(tz({},iz),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),lz={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},sz={widgetProps:az,opProps:lz},uz=tz(tz({},iz),{},{fieldSettings:iz}),cz=tz(tz({},iz),{},{fieldSettings:iz,widgets:{x:sz},mainWidgetProps:az}),dz={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:cz,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},pz={fields:{x:cz},widgets:{x:az},conjunctions:{x:{formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}}},operators:{x:lz},types:{x:{widgets:{x:sz}}},funcs:{x:tz(tz(tz({},uz),{renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}}),{},{args:{x:tz({},uz)}})},settings:dz},fz=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},hz=function(e,t){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var r=fA(e,oz);delete r.ctx;for(var n=function e(t,r,n,o){if(fz(t)){if(pq(t)&&(t=dq(t)),"funcs"===n[0]&&!r){var i=n[n.length-1];(r=Qz({funcs:o.BasicFuncs},i,"funcs","subfields")||void 0)&&(t.$$key=i)}if(void 0!==r&&fz(r))for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(!Object.keys(t).includes(a)||void 0===t[a]&&void 0!==r[a]?t[a]="$$deleted":(t[a]=e(t[a],r[a],[].concat(Ek(n),[a]),o),void 0===t[a]&&delete t[a]));for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var s;if(!r||!Object.keys(r).includes(l))t[l]=e(t[l],null===(s=r)||void 0===s?void 0:s[l],[].concat(Ek(n),[l]),o);void 0===t[l]&&delete t[l]}0===Object.keys(t).length&&(t=void 0)}else Array.isArray(t)&&t.forEach((function(r,i){t[i]=e(t[i],void 0,[].concat(Ek(n),[i]),o)}));if(void 0===r||!oq(t,r,!0)){if("function"==typeof t)throw new Error("compressConfig: function at ".concat(n.join(".")," should be converted to JsonLogic"));return t}},o=0,i=oz;o<i.length;o++){var a=i[o];if("ctx"===a);else if("fields"===a)r[a]=$V(r[a]),n(r[a],{},[a]);else if("funcs"===a)for(var l in r[a]=$V(r[a]||{}),r[a])n(r[a][l],null,[a,l],{BasicFuncs:on});else r[a]=$V(r[a]),n(r[a],t[a],[a])}return r},gz=function(e,t,r){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var n={},o=function e(t,r,n){if(fz(r))for(var o in fz(t)||(t={}),r)Object.prototype.hasOwnProperty.call(r,o)&&("$$deleted"===r[o]?delete t[o]:t[o]=e(t[o],r[o],[].concat(Ek(n),[o])));else t=Array.isArray(r)?$V(r):r;return t},i=function e(t,r,n){var i=!1;if(fz(t)&&Object.prototype.hasOwnProperty.call(t,"$$key")&&t.$$key){var a=Qz({funcs:n.BasicFuncs},t.$$key,"funcs","subfields");if(!a)throw new Error("decompressConfig: basic function not found by key ".concat(t.$$key," at ").concat(r.join(".")));delete t.$$key,t=o($V(a),t,r),i=!0}if(!i)if(fz(t))for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=e(t[l],[].concat(Ek(r),[l]),n));else if(Array.isArray(t)){var s,u=XV(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;t[c]=e(t[c],[].concat(Ek(r),[c]),n)}}catch(d){u.e(d)}finally{u.f()}}return t},a=0,l=oz;a<l.length;a++){var s=l[a];"ctx"===s?n[s]=HV({},t.ctx||{},r||{}):"funcs"===s?(n[s]=$V(e[s]||{}),i(n[s],[s],{BasicFuncs:on})):"fields"===s?n[s]=$V(e[s]||{}):(n[s]=$V(t[s]||{}),o(n[s],e[s]||{},[s]))}return n},vz=function(e){if(e.__compliled)return e;return mz(e=$V(e),e,{ctx:e.ctx},pz,[]),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function mz(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(t)for(var a in i.length,n){var l=n[a],s="x"===a?i:[].concat(Ek(i),[a]);if("r"===l.type){var u=t,c=u[a];if(l.isArr)for(var d in c){var p=_z(c[d],r,[].concat(Ek(s),[d]));p!==c[d]&&(o.push("Compiled ".concat(s.join("."),"[").concat(d,"]")),c[d]=p)}else{var f=_z(c,r,s,void 0);f!==c&&(o.push("Compiled R ".concat(s.join("."))),u[a]=f)}}else if("rf"===l.type){var h=t,g=h[a],v=yz(g,r,s,l.ignore);v!==g&&(o.push("Compiled JL-RF ".concat(s.join("."))),h[a]=v)}else if("f"===l.type){var m,y=t,b=y[a],_=bz(b,r,s,l.args,l.ignore);if(l.invokeWith&&_&&"function"==typeof _)_=(m=_).call.apply(m,[null].concat(Ek(l.invokeWith)));_!==b&&(o.push("Compiled JL-F ".concat(s.join("."))),y[a]=_)}else if("x"===a)for(var x in t){s=[].concat(Ek(i),[x]);var w=t[x];mz(e,w,r,l,o,s),w.subfields&&mz(e,w.subfields,r,n,o,s)}else{mz(e,t[a],r,l,o,s)}}}function yz(e,t,r){return hq(e)?function(n,o){o=o||(null==t?void 0:t.ctx);var i=rz(e,{props:n,ctx:o},r);return"string"==typeof i&&(i={type:i,props:n}),_z(i,{ctx:o},r)}:"string"==typeof e?function(n,o){o=o||(null==t?void 0:t.ctx);var i=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),o);return i?nz(this,i,[n,o],r):_z({type:e,props:n},{ctx:o},r)}:e}function bz(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return hq(e)&&"jl"!==o?function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=this||(null==t?void 0:t.ctx),s=(n||[]).reduce((function(e,t,r){return tz(tz({},e),{},b({},t,i[r]))}),{args:i,ctx:l});return rz(e,s,r)}.bind(null==t?void 0:t.ctx):"string"==typeof e&&"string"!==o?function(){var n=this||(null==t?void 0:t.ctx),o=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),n);if(o){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return nz(this,o,a,r)}throw new Error("".concat(r.join(".")," :: Function ").concat(e," is not found in ctx"))}.bind(null==t?void 0:t.ctx):e}function _z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(fq(e)){var o,i=e.type,a=e.props;if("string"!=typeof i)throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var l,s=function(e,t){var r;return(null==t||null===(r=t.components)||void 0===r?void 0:r[e])||t.W[e]||t.O[e]}(i,t.ctx)||i.toLowerCase();return void 0!==n&&(a=tz(tz({},a),{},{key:n})),null!==(o=a)&&void 0!==o&&o.children&&(l=_z(a.children,t,r),a=tz(tz({},a),{},{children:l})),t.ctx.RCE(s,a)}return e instanceof Array?e.map((function(e,n){return _z(e,t,r,""+n)})):e}var xz=CV,wz=VV((function(e,t,r,n){xz(e,t,r,n)}));const Oz=g(wz);var Sz={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,t,r,n,o,i){return i?r:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function kz(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return jz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jz(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function jz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ez,Cz=0,Tz=0,qz={},Iz=function(){return Ez||(Ez=Lz({reactIndex:void 0,maxSize:3,canCompile:void 0})),Ez},Az=function(e,t){var r;for(var n in qz){var o=qz[n].findExtendedConfig(e,t);if(o){r=o;break}}return r},Lz=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=t.maxSize||2,o=++Cz,i=function(e,t){r.size+1>n&&r.delete(r.keys().next().value),r.set(e,t)},a=function(e,t){var n,o=kz(r.keys());try{var i,a=function(){var o=n.value;if(oz.filter((function(t){return o[t]===e[t]})).length===oz.length&&(!t||o.__compliled))return{v:r.get(o)}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(d){o.e(d)}finally{o.f()}var l,s=kz(r.values());try{var u,c=function(){var r=l.value;if(oz.filter((function(t){return r[t]===e[t]})).length===oz.length&&(!t||r.__compliled))return{v:r}};for(s.s();!(l=s.n()).done;)if(u=c())return u.v}catch(d){s.e(d)}finally{s.f()}return null},l=function(e){return a(e)||function(e){var r=Mz(e,++Tz,t.canCompile);return i(e,r),r}(e)};return e={getExtendedConfig:function(e){return l(function(e){return fA(e,oz)}(e))},findExtendedConfig:a,getBasicConfig:function(e){var t,n=kz(r.keys());try{var o,i=function(){var n=t.value,o=r.get(n);if(0===oz.map((function(t){return o[t]===e[t]})).filter((function(e){return!e})).length)return{v:n}};for(n.s();!(t=n.n()).done;)if(o=i())return o.v}catch(a){n.e(a)}finally{n.f()}return e},clearConfigMemo:function(){r.clear(),delete qz[o],Ez===e&&(Ez=void 0)},configId:Tz,storeConfigPair:i,getSize:function(){return r.size},configStore:r,memoId:o,meta:t},void 0===t.reactIndex&&(Ez=e),qz[o]=e,e};function Pz(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Nz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nz(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Nz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mz=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=r&&e.settings.useConfigCompress,e.__configId)return e;var n=Az(e,r);if(n)return n;var o=e;(e=r?e.__compliled?$V(e):vz(e):$V(e)).settings=Oz({},Sz,e.settings,cq),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},function(e,t){for(var r in e){Dz(r,e[r],t)}}(e.types,e),Vz(e.fields,e),zz(e.funcs,e);var i=e.settings.caseValueField;i&&Bz(i,e,[],!1,!0);var a=e.settings.locale.moment;return a&&vx.locale(a),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:t||YT()}),e.__cache={},mq(e),Iz().storeConfigPair(o,e),e};function Dz(e,t,r){var n=null,o=null;t.mainWidget=t.mainWidget||Object.keys(t.widgets).filter((function(e){return"field"!=e&&"func"!=e}))[0];var i=t.excludeOperators||[];for(var a in t.widgets){var l=t.widgets[a],s=l.defaultOperator;if(l.operators){var u=l.operators.filter((function(e){return!i.includes(e)}));n=vq(n,u)}s&&!i.includes(s)&&(o&&a!==t.mainWidget||(o=s)),a==t.mainWidget&&(l.widgetProps=Rz(Rz({},t.mainWidgetProps||{}),l.widgetProps||{})),t.widgets[a]=l}t.valueSources||(t.valueSources=Object.keys(r.settings.valueSourcesInfo));var c,d=Pz(t.valueSources);try{for(d.s();!(c=d.n()).done;){var p=c.value;"value"==p||t.widgets[p]||(t.widgets[p]={})}}catch(f){d.e(f)}finally{d.f()}!t.operators&&n&&(t.operators=Array.from(new Set(n))),!t.defaultOperator&&o&&(t.defaultOperator=o)}function Vz(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var n in e){var o=[].concat(Ek(r),[n]);Bz(e[n],t,o),e[n].subfields&&Vz(e[n].subfields,t,o)}}function zz(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var o=(null==t||null===(r=t.settings)||void 0===r?void 0:r.fieldSeparator)||".";for(var i in e){var a=[].concat(Ek(n),[i]),l=a.join(o),s=e[i];if(s.returnType&&(s.type=s.returnType,t.__funcsCntByType[s.returnType]||(t.__funcsCntByType[s.returnType]=0),t.__funcsCntByType[s.returnType]++),Bz(s,t,a,!1),s.args){for(var u in s.args)Bz(s.args[u],t,[].concat(Ek(a),[u]),!0);var c,d=!0,p=Pz(Object.keys(s.args).reverse());try{for(p.s();!(c=p.n()).done;){var f=c.value,h=s.args[f];!d&&h.isOptional&&(xq.info("Arg ".concat(f," for func ").concat(l," can't be optional")),delete h.isOptional),h.isOptional||(d=!1)}}catch(g){p.e(g)}finally{p.f()}}s.subfields&&zz(s.subfields,t,[].concat(Ek(n),[i]))}}}function Bz(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.settings,l=a.showLabels,s=a.fieldSeparator;s=null!==(r=s)&&void 0!==r?r:".";var u=n[n.length-1],c=o?n.slice(0,n.length-1).join(s):n.join(s),d=!!e.returnType,p=e.type||e.returnType,f=t.types[p],h=e.excludeOperators||[],g=(e.operators||(null==f?void 0:f.operators)||[]).filter((function(e){return!h.includes(e)})),v=e.defaultOperator||(null==f?void 0:f.defaultOperator);h.includes(v)&&(v=void 0);var m=!!v&&v==e.defaultOperator;if(m&&(e.ownDefaultOperator=e.defaultOperator),f){o||d||i||(t.__fieldsCntByType[p]||(t.__fieldsCntByType[p]=0),t.__fieldsCntByType[p]++),o&&(e._isFuncArg=!0,e._argKey=u,e._funcKey=c),d&&(e._isFunc=!0,e._funcKey=c),i&&(e._isCaseValue=!0),function(e,t,r){for(var n,o,i=0,a=["listValues","treeValues","allowCustomValues","validateValue"];i<a.length;i++){var l=a[i];e[l]&&(e.fieldSettings||(e.fieldSettings={}),e.fieldSettings[l]=e[l],delete e[l])}null!==(n=e.fieldSettings)&&void 0!==n&&n.listValues&&t.settings.normalizeListValues&&(e.fieldSettings.listValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.listValues,r,e.fieldSettings)),null!==(o=e.fieldSettings)&&void 0!==o&&o.treeValues&&t.settings.normalizeListValues&&(e.fieldSettings.treeValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.treeValues,r,e.fieldSettings))}(e,t,p);var y=["widgets","operators","defaultOperator"];Object.keys(f).filter((function(e){return!y.includes(e)})).map((function(t){e[t]||(e[t]=eq(f[t]))}));var b=f.excludeOperators||[];e.operators&&(b=b.filter((function(t){return!e.operators.includes(t)}))),e.widgets||(e.widgets={});var _=function(){var t=Rz({},e.widgets[x]||{}),r=f.widgets[x]||{};if(!o){var n=t.defaultOperator,i=[].concat(Ek(h),Ek(b)),a=e.preferWidgets&&("field"===x||e.preferWidgets.includes(x))||i.length>0;if(t.operators){var s=t.operators.filter((function(e){return!i.includes(e)}));t.operators=s,g=vq(g,s)}else if(a&&r.operators){var c=r.operators.filter((function(e){return!i.includes(e)}));t.operators=c,g=vq(g,c)}n&&!i.includes(n)&&(v&&(m||x!==e.mainWidget)||(v=n))}x===e.mainWidget?t.widgetProps=Rz(Rz(Rz({},r.widgetProps||{}),e.mainWidgetProps||{}),t.widgetProps||{}):t.widgetProps=Rz(Rz({},r.widgetProps||{}),t.widgetProps||{});var d=Array.from(new Set([].concat(Ek(Object.keys(r.opProps||{})),Ek(Object.keys(t.opProps||{})))));if(d.length){var p,y={},_=Pz(d);try{for(_.s();!(p=_.n()).done;){var w,O,S=p.value;y[S]=Rz(Rz({},(null===(w=r.opProps)||void 0===w?void 0:w[S])||{}),(null===(O=t.opProps)||void 0===O?void 0:O[S])||{})}}catch(C){_.e(C)}finally{_.f()}t.opProps=y}var k=t,j=k.valueLabel,E=k.valuePlaceholder;o&&(j||(t.valueLabel=e.label||u),E||l||(t.valuePlaceholder=e.label||u)),t=Rz(Rz({},r),t),e.widgets[x]=t};for(var x in f.widgets)_();if(o||(e.operators||(e.operators=Array.from(new Set(g))),e.defaultOperator||(e.defaultOperator=v)),!o&&!d&&!i){var w=function(e,t){if(!t)return{};var r=e.settings.fieldSeparator,n=Ek(t).reduce((function(t,n,o,i){var a=t.computedPath,l=t.computed,s=t.inGroup,u=[].concat(Ek(i.slice(0,o)),[n]),c=Qz(e,u);return"!group"===(null==c?void 0:c.type)&&o<i.length-1?(s=u.join(r),a=[]):null!=c&&c.fieldName?(l=!0,a=[c.fieldName]):a=[].concat(Ek(a),[n]),{computedPath:a,computed:l,inGroup:s}}),{computedPath:[],computed:!1,inGroup:void 0}),o=n.computedPath,i=n.computed,a=n.inGroup;return i?{fieldName:o.join(r),inGroup:a}:{}}(t,n),O=w.fieldName,S=w.inGroup;O&&(e.fieldName=O,t.__fieldNames[O]||(t.__fieldNames[O]=[]),t.__fieldNames[O].push({fullPath:n,inGroup:S}))}}else e.disabled=!0}function Hz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $z=Cq.mark(Yz),Wz=Cq.mark(Gz),Kz=QT;function Yz(e){return Cq.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(Jz(e,e.funcs||{},[]),"t0",1);case 1:case"end":return t.stop()}}),$z)}function Gz(e){return Cq.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(Jz(e,e.fields||{},[]),"t0",1);case 1:case"end":return t.stop()}}),Wz)}function Jz(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";return Cq.mark((function o(i){var a,l,s;return Cq.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=(null==e||null===(i=e.settings)||void 0===i?void 0:i.fieldSeparator)||".",o.t0=Cq.keys(t);case 2:if((o.t1=o.t0()).done){o.next=13;break}if(l=o.t1.value,!(s=t[l])[n]){o.next=9;break}return o.delegateYield(Jz(e,s[n],[].concat(Ek(r),[l]),n),"t2",7);case 7:o.next=11;break;case 9:return o.next=11,[[].concat(Ek(r),[l]).join(a),s];case 11:o.next=2;break;case 13:case"end":return o.stop()}}),o)}))()}var Qz=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";if(!t)return null;if("!case_value"===t)return null==e||null===(n=e.settings)||void 0===n?void 0:n.caseValueField;var a=(null==e||null===(r=e.settings)||void 0===r?void 0:r.fieldSeparator)||".",l=oB(t,e),s=e[o];if(!s)return null;for(var u=s,c=null,d=[],p=0;p<l.length;p++){var f=l[p];d.push(f),c=u[d.join(a)],p<l.length-1&&(c&&c[i]?(u=c[i],d=[]):c=null)}return c},Xz=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.settings.fieldSeparator,a=[o].concat(Ek(t.split(i))).filter((function(e){return null!=e})),l=t;return((null===(r=e.__fieldNames[l])||void 0===r||null===(n=r.find)||void 0===n||null===(n=n.call(r,(function(e){var t=e.inGroup;return!t||(null==o?void 0:o.startsWith(t))})))||void 0===n?void 0:n.fullPath)||a).join(i)},Zz=function(e,t){if(!t)return null;var r=Qz(e,t,"funcs","subfields");if(!r)return null;var n=r.returnType,o=r.args;return{returnType:n,args:Object.fromEntries(Object.entries(o||{}).map((function(e){var t=bt(e,2),r=t[0],n=t[1];return[r,fA(n,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"])]})))}},eB=function(e,t){if(!t)return null;var r=Qz(e,t,"funcs","subfields");return r||null},tB=function(e,t,r){var n=eB(e,t);if(!n)return null;var o=n.args&&n.args[r]||null;return o||null},rB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;var o=(null==n||null===(r=n.settings)||void 0===r?void 0:r.fieldSeparator)||".",i=nB(e,n),a=nB(t,n);return i.startsWith(a+o)},nB=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e)return e;var n=(null==r||null===(t=r.settings)||void 0===t?void 0:t.fieldSeparator)||".";return oB(e,r).join(n)},oB=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var i,a=(null==o||null===(t=o.settings)||void 0===t?void 0:t.fieldSeparator)||".";return null!=e&&e.func?Array.isArray(e.func)?e.func:e.func.split(a):null!=e&&null!==(r=e.get)&&void 0!==r&&r.call(e,"func")?null==e||null===(i=e.get)||void 0===i?void 0:i.call(e,"func").split(a):(null==e||null===(n=e.split)||void 0===n?void 0:n.call(e,a))||[]},iB=function(e){var t;if("string"==typeof e||Array.isArray(e))return"field:".concat(nB(e));if("object"===_(e)&&e){if(e._funcKey&&e._argKey)return"arg:".concat(nB(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(nB(e._funcKey));if(e.func&&e.arg)return"arg:".concat(nB(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(nB(e.func));if(e.type)return null}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?"arg:".concat(nB(e.get("func")),"__").concat(e.get("arg")):"func:".concat(nB(e.get("func"))):null},aB=function(e,t,r){var n;return null===(n=e.__cache)||void 0===n||null===(n=n[t])||void 0===n?void 0:n[r]},lB=function(e,t,r,n){e.__cache&&r&&(e.__cache[t]||(e.__cache[t]={}),e.__cache[t][r]=n)},sB=function(e){var t;if(!e)return null;if("object"===_(e)){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?null:"func":"field"},uB=function(e,t){var r;if(!t)return null;if("object"==_(t)){if(!t.func&&t.type)return t;if(t.func)return t.func&&t.arg?tB(e,t.func,t.arg):eB(e,t.func)}if(null!=t&&null!==(r=t.get)&&void 0!==r&&r.call(t,"func"))return null!=t&&t.get("arg")?tB(e,t.get("func"),t.get("arg")):eB(e,t.get("func"));var n=Qz(e,t);return n||null},cB=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var n=e.operators[t];if(r){var o,i,a=iB(r),l=a?"".concat(a,"__").concat(t):null,s=aB(e,"getOperatorConfig",l);if(s)return s;var u=uB(e,r),c=FD(e,r,t,null),d=e.widgets[c]||{},p=(u&&u.widgets?u.widgets[c]:{})||{},f=(null===(o=d.opProps)||void 0===o?void 0:o[t])||{},h=(null===(i=p.opProps)||void 0===i?void 0:i[t])||{},g=Uz(Uz(Uz({},n),f),h);return lB(e,"getOperatorConfig",l,g),g}return n},dB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return null;var l=uB(e,t),s=iB(t);o||(o=FD(e,t,n,i));var u=s?"".concat(s,"__").concat(n,"__").concat(o,"__").concat(i):null,c=aB(e,"getFieldWidgetConfig",u);if(c)return c;var d=e.widgets[o]||{},p=(null==l||null===(r=l.widgets)||void 0===r?void 0:r[o])||{},f=p.widgetProps||{},h="value"!==i&&i?{}:null==l?void 0:l.fieldSettings,g=Uz(Uz(Uz(Uz({},d),p),f),h);return lB(e,"getFieldWidgetConfig",u,g),a.forExport&&(g=tq(g,"factory")),g},pB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.settings.fieldSeparator,n=oB(t,e),o=t?Qz(e,t):e,i=null,a=[];do{var l,s=o===e?e.fields:null===(l=o)||void 0===l?void 0:l.subfields;if(!s||!Object.keys(s).length){o=i=null;break}i=Object.keys(s)[0],a.push(i),o=s[i]}while("!struct"==o.type||"!group"==o.type);return(n||[]).concat(a).join(r)};const fB=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:aB,_saveToConfigCache:lB,_widgetDefKeysToOmit:Kz,applyJsonLogic:function(e,t){return KV.apply(e,t)},cleanJSX:dq,compileConfig:vz,compressConfig:hz,configKeys:oz,createConfigMemo:Lz,decompressConfig:gz,extendConfig:Mz,findExtendedConfigInAllMemos:Az,getCommonMemo:Iz,getFieldConfig:uB,getFieldId:iB,getFieldParts:oB,getFieldPath:nB,getFieldPathParts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var n=t.settings.fieldSeparator,o=oB(e,t);return r?o:o.map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return e.join(n)}))},getFieldRawConfig:Qz,getFieldSrc:sB,getFieldWidgetConfig:dB,getFirstField:pB,getFuncArgConfig:tB,getFuncConfig:eB,getFuncSignature:Zz,getOperatorConfig:cB,isDirtyJSX:pq,isFieldDescendantOfField:rB,isJSX:fq,iterateFields:Gz,iterateFuncs:Yz,normalizeField:Xz},Symbol.toStringTag,{value:"Module"}));function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vB=function(e,t,r){if(e){var n=e.get("type"),o=e.get("children1");return("group"===n||"rule_group"===n)&&o&&o.size?mB(e,t,r):"rule"===n?yB(e,t,r):void 0}},mB=function(e,t,r){var n=e.get("properties")||new iC,o=e.get("children1"),i=e.get("id"),a=o.map((function(e){return vB(e,t,r)})).filter((function(e){return void 0!==e}));if(a.size){var l=n.get("conjunction");l||(l=tR(t));var s=n.get("not");return{id:i,rules:a.toList(),condition:l.toUpperCase(),not:s}}},yB=function(e,t,r){var n,o=e.get("properties")||new iC,i=e.get("id"),a=o.get("operator"),l=o.get("operatorOptions"),s=o.get("field"),u=o.get("value"),c=o.get("valueSrc"),d=o.get("valueType"),p=u.filter((function(e){return void 0===e})).size>0;if(null!=s&&null!=a&&!p){var f=uB(t,s)||{},h=cB(t,a,s)||{},g=f.type||"undefined",v=rq(h),m=t.types[f.type]||{},y=RD(s,t,r);if(!(u.size<v)){-1==r.usedFields.indexOf(s)&&r.usedFields.push(s),u=u.toArray(),c=c.toArray(),d=(null===(n=d)||void 0===n?void 0:n.toArray())||[];for(var b=[],_=0;_<u.length;_++){var x={type:d[_],value:u[_]};if(b.push(x),"field"==c[_]){var w=u[_];-1==r.usedFields.indexOf(w)&&r.usedFields.push(w)}}var O=l?l.toJS():null;O&&!Object.keys(O).length&&(O=null);var S={id:i,fieldName:y,type:g,input:m.mainWidget,operator:a};return O&&(S.operatorOptions=O),S.values=b,S}}};function bB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function wB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OB=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(e){var a,l=e.get("type"),s=(e.get("properties")||new iC).get("isLocked"),u=t.settings.jsonLogic.lockedOp;return"group"===l||"rule_group"===l?a=SB(e,t,r,n,o,i):"rule"===l?a=kB(e,t,r,n,i):"switch_group"==l?a=jB(e,t,r,n):"case_group"==l&&(a=EB(e,t,r,n,i)),s&&a&&u&&(a=b({},u,a)),a}},SB=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,p=e.get("type"),f=e.get("properties")||new iC,h=f.get("mode"),g=e.get("children1")||new TC,v=f.get("field"),m=uB(t,v),y=f.get("conjunction");y||(y=tR(t));var _=t.conjunctions[y].jsonLogicConj||y.toLowerCase(),x=!!f.get("not"),w="rule_group"===p&&!c,O=w&&"struct"!=h,S=O?v:d,k=f.get("operator"),j=k&&cB(t,k,v)||null,E=CB(t,f,r,k,d),C=w&&(!k||0==(null===(n=j)||void 0===n?void 0:n.cardinality)),T=w&&(null==g?void 0:g.size)>0;w&&(null==g||g.size);var q=x,I=!1;T?(I=x,q=u):u&&(q=!q);var A=!1,L=null===(o=j)||void 0===o?void 0:o.reversedOp,P=cB(t,L,v),N=!(null!==(i=j)&&void 0!==i&&i.jsonLogic||null===(a=P)||void 0===a||!a.jsonLogic),F=!(null===(l=P)||void 0===l||!l.jsonLogic),R=null===(s=YD(e))||void 0===s?void 0:s.get("type");if(!!t.settings.reverseOperatorsForNot&&(!w&&q&&"rule"===R||I&&1===(null==g?void 0:g.size))&&(T?I=!I:q=!q,A=!0),q&&w&&F&&(!!t.settings.reverseOperatorsForNot||N)){q=!q;var M=[L,k];k=M[0],L=M[1];var D=[P,j];j=D[0],P=D[1]}var V=g.map((function(e){return OB(e,t,r,A,!1,S)})).filter((function(e){return void 0!==e})),z=!!t.settings.exportPreserveGroups;if(O&&!C){if(null==E)return}else if(!V.size&&!z)return;var B=c||z||1!=V.size;B||!x||A||(B=g.some((function(e){var r,n,o,i,a=null===(r=e.get("properties"))||void 0===r?void 0:r.get("operator"),l=null===(n=t.operators)||void 0===n||null===(n=n[a])||void 0===n?void 0:n.reversedOp;return null!==(o=null===(i=t.operators)||void 0===i||null===(i=i[l])||void 0===i?void 0:i._jsonLogicIsExclamationOp)&&void 0!==o&&o})));var H={};if(B?H[_]=V.toList().toJS():H=V.first(),I&&(H={"!":H}),O){var U=IB(r,t,v,d);if(C){H=b({},k||"some",[U,H])}else{var $=V.size?{filter:[U,H]}:U;H=AB(t,f,{reduce:[$,{"+":[1,{var:"accumulator"}]},0]},E,k,null,m)}}return q&&(H={"!":H}),H},kB=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=e.get("properties")||new iC,p=d.get("field"),f=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if((g=g?g.toJS():null)&&!Object.keys(g).length&&(g=null),null!=p&&null!=h){var v=uB(t,p),m=cB(t,h,p),y=null===(n=m)||void 0===n?void 0:n.reversedOp,b=cB(t,y,p);if(null!==(o=m)&&void 0!==o&&o.jsonLogic||null!==(i=b)&&void 0!==i&&i.jsonLogic){var _=u,x=!(null!==(a=m)&&void 0!==a&&a.jsonLogic||null===(l=b)||void 0===l||!l.jsonLogic),w=!(null===(s=b)||void 0===s||!s.jsonLogic)&&(!!t.settings.reverseOperatorsForNot||x);if(_&&w||x){_=!_;var O=[y,h];h=O[0],y=O[1];var S=[b,m];m=S[0],b=S[1]}var k=CB(t,d,r,h,c);if(void 0!==k){var j="func"===f?qB(r,t,p,c):IB(r,t,p,c);if(void 0!==j)return AB(t,d,j,k,h,g,v,_)}}else r.errors.push("Operator ".concat(h," is not supported"))}},jB=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.get("children1");if(o){for(var i=o.map((function(e){return EB(e,t,r,n,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray(),a=[],l=0;l<i.length;l++)l===i.length-1||i[l][0]?(a.push(i[l]),l===i.length-1&&i[l][0]&&a.push([void 0,null])):r.errors.push("No condition for case ".concat(l));if(a.length){if(1===a.length){var s=bt(a[0],2);s[0];var u=s[1];return null==u&&(u=null),u}var c={if:[]},d=c.if,p=bt(a[a.length-1],2);p[0];for(var f=p[1],h=0;h<a.length-1;h++){var g=h===a.length-2,v=bt(a[h],2),m=v[0],y=v[1];null==y&&(y=null),null==m&&(m=!0),d.push(m),d.push(y),g?d.push(f):(d.push({if:[]}),d=d[d.length-1].if)}return c}}},EB=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.get("type");if("case_group"==i){var a=e.get("properties")||new iC;return[SB(e,t,r,n,o),CB(t,a,r,null,o,"!case_value")]}r.errors.push("Unexpected child of type ".concat(i," inside switch"))},CB=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u=uB(e,a),c=cB(e,n,a),d=rq(c),p=t.get("value"),f=t.get("asyncListValues");if(null!=p){var h=r.usedFields,g=p.map((function(t,i){var d=l?l.get(i):null,p=s?s.get(i):null,h=KD(t,d,e),g=FD(e,a,n,d),v=dB(e,a,n,g,d,{forExport:!0});return TB(r,e,h,d,p,v,u,n,c,o,f)})),v=g.filter((function(e){return void 0===e})).size>0;if(!(g.size<d||v))return d>1?g.toArray():1==d?g.first():null;r.usedFields=h}},TB=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"==n)d=IB(e,t,r,u);else if("func"==n)d=qB(e,t,r,u);else if("function"==typeof(null==i?void 0:i.jsonLogic)){var p=i.jsonLogic,f=[r,_B(_B({},a?fA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),tq(i,QT)];l&&(f.push(l),f.push(s)),d=p.call.apply(p,[t.ctx].concat(f))}else d=r;return d}},qB=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=eB(t,a),u=oB(a,t),c=u[u.length-1];if(s)if(null!=s&&s.jsonLogic){var d={},p=[],f=[];for(var h in s.args){var g,v=s.args[h],m=uB(t,v),y=v.defaultValue,_=v.isOptional,x=null!=y&&y.func?"func":"value",w=l?l.get(h):void 0,O=w?w.get("value"):void 0,S=w?w.get("valueSrc"):void 0;"func"!==S&&null!==(g=O)&&void 0!==g&&g.toJS&&(O=O.toJS());var k=null,j=FD(t,v,k,S),E=dB(t,v,k,j,S,{forExport:!0}),C=TB(e,t,O,S,v.type,E,m,null,null,i);if(null!=O&&void 0===C)return void("func"!=S&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(a)));var T=void 0;if(void 0===C&&!_&&null!=y){var q=FD(t,v,k,x),I=dB(t,v,k,q,x,{forExport:!0});if(void 0===(T=TB(e,t,y,x,v.type,I,m,null,null,i)))return void("func"!=x&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){if(p.length){var L,P=xB(p);try{for(P.s();!(L=P.n()).done;){d[L.value]=void 0}}catch(B){P.e(B)}finally{P.f()}p=[]}d[h]=A}else _||f.push(h),p.push(h)}if(!f.length){var N,F=Object.values(d);if("function"==typeof s.jsonLogic){var R=s.jsonLogic,M=[d];N=R.call.apply(R,[t.ctx].concat(M))}else{var D=s.jsonLogic||c;if(!!s.jsonLogicIsMethod){var V=F[0],z=F.slice(1);N=z.length?{method:[V,D,z]}:{method:[V,D]}}else N=b({},D,F)}return N}}else e.errors.push("Func ".concat(a," is not supported"));else e.errors.push("Func ".concat(a," is not defined in config"))},IB=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.settings,a=i.fieldSeparator,l=i.jsonLogic;if(r){Array.isArray(r)&&(r=r.join(a));var s=uB(t,r)||{},u=RD(r,t,e,o),c=s.jsonLogicVar||("!group"==s.type?l.groupVarKey:"var");n=b({},c,u),-1==e.usedFields.indexOf(r)&&e.usedFields.push(r)}return n},AB=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=t.get("field"),u=cB(e,o,s)||{},c="function"==typeof u.jsonLogic?u.jsonLogic:function(e,t,r,n){var o=e,i=rq(t);"string"==typeof t.jsonLogic&&(o=t.jsonLogic);var a=["<","<=",">",">="],l=["==","!="];return function(e,t,s,u,c){return 0==i&&l.includes(o)?b({},o,[r,null]):0==i?b({},o,r):1==i?b({},o,[r,n]):2==i&&a.includes(o)?b({},o,[n[0],r,n[1]]):b({},o,[r].concat(Ek(n)))}}(o,u,r,n),d=[r,o,n,tq(u,XT),i,a],p=c.call.apply(c,[e.ctx].concat(d));return l&&(p={"!":p}),p};function LB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return PB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function PB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var RB=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},MB=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=Mz(t,void 0,!1),i=DB([],e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to MongoDb:",n.errors),i)},DB=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;if(t){var s=t.get("type");return"group"===s||"rule_group"===s?VB(e,t,r,n,o,i,a,l):"rule"===s?zB(e,t,r,n,o,i,a,l):void 0}},VB=function(e,t,r,n){var o,i,a,l,s,u,c,d,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=t.get("type"),h=t.get("properties")||new iC,g=!!h.get("not"),v=t.get("children1")||new TC,m=r.settings,y=m.canShortMongoQuery,_=m.fieldSeparator,x=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,w=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),O=x&&w,S="rule_group"===f,k=S?h.get("field"):null,j=S?h.get("operator"):null,E=j&&cB(r,j,k)||null,C=j?null!==(o=null===(i=E)||void 0===i?void 0:i.cardinality)&&void 0!==o?o:1:void 0,T=RD(k,r,n,O),q=(uB(r,k)||{}).mode,I=k&&"array"===q&&C>=1,A=S&&(null==v?void 0:v.size)>0;S&&(null==v||v.size);var L=!1,P=g,N=!1;A?(N=g,P=p):p&&(P=!P);var F=null===(a=E)||void 0===a?void 0:a.reversedOp,R=cB(r,F,k),M=!(null!==(l=E)&&void 0!==l&&l.mongoFormatOp||null===(s=R)||void 0===s||!s.mongoFormatOp),D=!(null===(u=R)||void 0===u||!u.mongoFormatOp),V=null===(c=YD(t))||void 0===c?void 0:c.get("type");if(!!r.settings.reverseOperatorsForNot&&(!S&&P&&"rule"===V||N&&1===(null==v?void 0:v.size))&&(A?N=!N:P=!P,L=!0),P&&S&&D&&(!!r.settings.reverseOperatorsForNot||M)){P=!P;var z=[F,j];j=z[0],F=z[1];var B=[R,E];E=B[0],R=B[1]}var H=h.get("conjunction");H||(H=tR(r));var U=r.conjunctions[H];if(U){var $=U.reversedConj;P&&"or"===(null===(d=H)||void 0===d?void 0:d.toLowerCase())&&$&&!S&&!!r.settings.canShortMongoQuery&&!!r.settings.reverseOperatorsForNot&&(H=$,U=r.conjunctions[H],P=!P,L=!0);var W=U.mongoConj,K=v.map((function(o){return DB([].concat(Ek(e),[t]),o,r,n,L,"array"!=q,"array"==q?function(e){return"$$el".concat(_).concat(e)}:void 0)})).filter((function(e){return void 0!==e}));if(I||K.size){var Y;if(1==K.size)Y=K.first();else if(K.size>1){var G=K.toList().toJS();y&&"$and"==W&&(Y=G.reduce((function(e,t){if(e){for(var r in t){if("$"==r[0]){e=void 0;break}if(null==e[r])e[r]=t[r];else{var n=e[r],o=t[r];if(RB(n)||(n={$eq:n}),RB(o)||(o={$eq:o}),Object.keys(n)[0]==Object.keys(o)[0]){e=void 0;break}e[r]=Object.assign({},n,o)}}return e}}),{})),Y||(Y=b({},W,G))}if(k)if("array"==q){var J={$size:{$ifNull:["$"+T,[]]}},Q=Y?{$size:{$ifNull:[{$filter:{input:"$"+T,as:"el",cond:Y}},[]]}}:J;Y={$expr:Y=DB(e,t.set("type","rule"),r,n,N,!1,(function(e){return Q}),J)}}else Y=b({},T,{$elemMatch:Y});return P&&(Y={$not:Y}),Y}}},zB=function(e,t,r,n){var o,i,a,l,s,u,c,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,g=t.get("properties")||new iC,v=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,m=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),y=v&&m,b=g.get("operator"),_=g.get("operatorOptions"),x=g.get("field"),w=g.get("fieldSrc"),O=g.get("value"),S=g.get("valueSrc"),k=g.get("valueType"),j=g.get("asyncListValues");if(null!=x&&null!=b&&void 0!==O){var E=uB(r,x),C=cB(r,b,x),T=null===(o=C)||void 0===o?void 0:o.reversedOp,q=cB(r,T,x),I=rq(C);if(null!==(i=C)&&void 0!==i&&i.mongoFormatOp||null!==(a=q)&&void 0!==a&&a.mongoFormatOp){var A,L=d,P=!(null!==(l=C)&&void 0!==l&&l.mongoFormatOp||null===(s=q)||void 0===s||!s.mongoFormatOp);if(!(null===(u=q)||void 0===u||!u.mongoFormatOp)&&(!!r.settings.reverseOperatorsForNot||P)&&L||P){var N=[T,b];b=N[0],T=N[1];var F=[q,C];C=F[0],q=F[1],L=!L}var R=!1;if("func"==w){var M=UB(n,r,x,y),D=bt(M,2);A=D[0],R=D[1]}else A=RD(x,r,n,y),f&&(R=!0,A=f(A));if(null!=A){var V,z=[],B=[];if(null!=O){var H=O.map((function(e,t){var o=S?S.get(t):null,i=k?k.get(t):null,a=KD(e,o,r),l=FD(r,x,b,o),s=dB(r,x,b,l,o,{forExport:!0}),u=BB(n,r,a,o,i,s,E,y,b,C,j),c=bt(u,2),d=c[0],p=c[1];return void 0!==d&&(R=R||p,z.push(o),B.push(i)),d})),U=H.filter((function(e){return void 0===e})).size>0;if(H.size<I||U)return;V=I>1?H.toArray():1==I?H.first():null}var $=R&&p,W=null===(c=C)||void 0===c?void 0:c.mongoFormatOp,K=[A,b,void 0!==h&&null==V?h:V,R,z.length>1?z:z[0],B.length>1?B:B[0],tq(C,XT),_,E],Y=W.call.apply(W,[r.ctx].concat(K));return $&&(Y={$expr:Y}),L&&(Y={$not:Y}),Y}}else n.errors.push("Operator ".concat(b," is not supported"))}},BB=function(e,t,r,n,o,i,a,l,s,u,c){if(void 0===r)return[void 0,!1];var d,p=!1;if("field"==n){var f=HB(e,t,r,l),h=bt(f,2);d=h[0],p=h[1]}else if("func"==n){var g=UB(e,t,r,l),v=bt(g,2);d=v[0],p=v[1]}else if("function"==typeof(null==i?void 0:i.mongoFormatValue)){var m=i.mongoFormatValue,y=[r,FB(FB({},a?fA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),tq(i,QT)];s&&(y.push(s),y.push(u)),d=m.call.apply(m,[t.ctx].concat(y))}else d=r;return[d,p]},HB=function(e,t,r,n){var o,i=t.settings.fieldSeparator;if(r){var a=uB(t,r)||{},l=oB(r,t),s=ID(r,t),u=s?s.join(i):null;o="$"+(0,t.settings.formatField)(RD(r,t,e,n),l,u,a,t,!1)}return[o,!0]},UB=function(e,t,r,n){var o,i,a,l=null===(o=r.get)||void 0===o?void 0:o.call(r,"func"),s=null===(i=r.get)||void 0===i?void 0:i.call(r,"args"),u=eB(t,l);if(!u)return e.errors.push("Func ".concat(l," is not defined in config")),[void 0,!1];var c=oB(l,t),d=c[c.length-1],p=u.mongoFunc||d,f=u.mongoArgsAsObject,h={},g=0,v=void 0,m=[],y=[];for(var _ in u.args){var x;g++;var w=u.args[_],O=uB(t,w),S=w.defaultValue,k=w.isOptional,j=null!=S&&S.func?"func":"value",E=s?s.get(_):void 0,C=E?E.get("value"):void 0,T=E?E.get("valueSrc"):void 0;"func"!==T&&null!==(x=C)&&void 0!==x&&x.toJS&&(C=C.toJS());var q=E?E.get("asyncListValues"):void 0,I=null,A=FD(t,w,I,T),L=dB(t,w,I,A,T,{forExport:!0}),P=BB(e,t,C,T,w.type,L,O,n,null,null,q),N=bt(P,2),F=N[0];if(N[1],null!=C&&void 0===F)return"func"!=T&&e.errors.push("Can't format value of arg ".concat(_," for func ").concat(l)),[void 0,!1];var R=void 0;if(void 0===F&&!k&&null!=S){var M=FD(t,w,I,j),D=dB(t,w,I,M,j,{forExport:!0}),V=BB(e,t,S,j,w.type,D,O,n,null,null,q),z=bt(V,2);if(R=z[0],z[1],void 0===R)return"func"!=j&&e.errors.push("Can't format default value of arg ".concat(_," for func ").concat(l)),[void 0,!1]}var B=null!=F?F:R;if(void 0!==B){if(m.length){var H,U=LB(m);try{for(U.s();!(H=U.n()).done;){h[H.value]=void 0}}catch(K){U.e(K)}finally{U.f()}m=[]}h[_]=B,v=B}else k||y.push(_),m.push(_)}if(y.length)return[void 0,!1];if("function"==typeof u.mongoFormatFunc){var $=u.mongoFormatFunc,W=[h];a=$.call.apply($,[t.ctx].concat(W))}else{if(null===u.mongoFormatFunc)return e.errors.push("Functon ".concat(p," is not supported")),[void 0,!1];a=b({},p,f?h:1==g&&void 0!==v?v:Object.values(h))}return[a,!0]};function $B(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return WB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function WB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var GB=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=Mz(t,void 0,!1),i=JB(e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SQL:",n.errors),i)},JB=function(e,t,r){if(e){var n=e.get("type");return e.get("children1"),"group"===n||"rule_group"===n?QB(e,t,r):"rule"===n?XB(e,t,r):void 0}},QB=function(e,t,r){var n=e.get("type"),o=e.get("properties")||new iC,i=e.get("children1")||new TC,a="rule_group"===n?o.get("field"):null;"array"==(uB(t,a)||{}).mode&&r.errors.push("Aggregation is not supported for ".concat(a));var l=o.get("not"),s=i.map((function(e){return JB(e,t,r)})).filter((function(e){return void 0!==e}));if(s.size){var u=o.get("conjunction");return u||(u=tR(t)),t.conjunctions[u].sqlFormatConj.call(t.ctx,s,u,l)}},XB=function(e,t,r){var n=e.get("properties")||new iC,o=n.get("field"),i=n.get("fieldSrc"),a=n.get("operator"),l=n.get("operatorOptions"),s=n.get("valueSrc"),u=n.get("valueType"),c=n.get("value"),d=n.get("asyncListValues");if(null!=o&&null!=a){var p=uB(t,o)||{},f=cB(t,a,o)||{},h=f.reversedOp,g=cB(t,h,o)||{},v=rq(f),m=!1,y=f.sqlOp||f.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(y||b){if(!y&&b){m=!0;var _=[h,a];a=_[0],h=_[1];var x=[g,f];f=x[0],g=x[1]}var w,O=[],S=[];if(null!=c){var k=c.map((function(e,n){var i=s?s.get(n):null,l=u?u.get(n):null,c=KD(e,i,t),h=FD(t,o,a,i),g=dB(t,o,a,h,i,{forExport:!0}),v=ZB(r,t,c,i,l,g,p,a,f,d);return void 0!==v&&(O.push(i),S.push(l)),v}));if(k.filter((function(e){return void 0===e})).size>0||k.size<v)return;w=1==v?k.first():k}var j=f.sqlFormatOp||function(e,t){var r,n=t.sqlOp||e,o=rq(t);return 0==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n)}:1==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n," ").concat(r)}:2==o&&(r=function(e,t,r,o,i,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(n," ").concat(d," AND ").concat(p)}),r}(a,f);if(j){var E="func"==i?tH(r,t,o):eH(r,t,o);if(null!=E){var C,T=[E,a,w,O.length>1?O:O[0],S.length>1?S:S[0],tq(f,XT),l,p];if(C=j.call.apply(j,[t.ctx].concat(T)),m&&(C=t.settings.sqlFormatReverse.call(t.ctx,C)),void 0!==C)return C;r.errors.push("Operator ".concat(a," is not supported for value source ").concat(O.join(", ")))}}else r.errors.push("Operator ".concat(a," is not supported"))}else r.errors.push("Operator ".concat(a," is not supported"))}},ZB=function(e,t,r,n,o,i,a,l,s,u){if(void 0!==r){var c;if("field"==n)c=eH(e,t,r);else if("func"==n)c=tH(e,t,r);else if("function"==typeof(null==i?void 0:i.sqlFormatValue)){var d=i.sqlFormatValue,p=[r,YB(YB({},fA(a,["fieldSettings","listValues"])),{},{asyncListValues:u}),tq(i,QT)];if(l&&(p.push(l),p.push(s)),"field"==n){var f=uB(t,r)||{};p.push(f)}c=d.call.apply(d,[t.ctx].concat(p))}else c=Array.isArray(r)?r.map((function(e){return UN.escape(e)})):UN.escape(r);return c}},eH=function(e,t,r){if(r){var n=t.settings.fieldSeparator,o=uB(t,r)||{},i=oB(r,t),a=ID(r,t),l=a?a.join(n):null;return(0,t.settings.formatField)(RD(r,t,e,null,{useTableName:!0}),i,l,o,t)}},tH=function(e,t,r){var n,o,i=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),a=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),l=eB(t,i);if(l){var s=oB(i,t),u=s[s.length-1],c=l.sqlFunc||u,d={},p=[],f=[];for(var h in l.args){var g,v=l.args[h],m=uB(t,v),y=v.defaultValue,b=v.isOptional,_=null!=y&&y.func?"func":"value",x=a?a.get(h):void 0,w=x?x.get("value"):void 0,O=x?x.get("valueSrc"):void 0;"func"!==O&&null!==(g=w)&&void 0!==g&&g.toJS&&(w=w.toJS());var S=x?x.get("asyncListValues"):void 0,k=ZB(e,t,w,O,v.type,m,v,null,null,S);if(null!=w&&void 0===k)return void("func"!=O&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(i)));var j=void 0;if(void 0===k&&!b&&null!=y&&void 0===(j=ZB(e,t,y,_,v.type,m,v,null,null,S)))return void("func"!=_&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(i)));var E=null!=k?k:j;if(void 0!==E){if(p.length){var C,T=$B(h);try{for(T.s();!(C=T.n()).done;){d[C.value]=void 0}}catch(P){T.e(P)}finally{T.f()}p=[]}d[h]=E}else b||f.push(h),p.push(h)}if(!f.length){var q;if("function"==typeof l.sqlFormatFunc){var I=l.sqlFormatFunc,A=[d];q=I.call.apply(I,[t.ctx].concat(A))}else{var L=Object.entries(d).map((function(e){var t=bt(e,2);return t[0],t[1]})).join(", ");q="".concat(c,"(").concat(L,")")}return q}}else e.errors.push("Func ".concat(i," is not defined in config"))};function rH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oH(e,t,r,n,o,i){var a=function(e,t){return e}(n);switch(e){case"filter":return{script:o.operators[r].elasticSearchScript(n,t)};case"exists":return{field:n};case"match":return b({},a,t[0]);case"term":return b({},n,i===aH?{value:t[0]}:t[0]);case"geo_bounding_box":return b({},n,function(e){if(null==e)return null;var t=e.split(",").map(Number);return{top_left:{lat:t[0],lon:t[1]},bottom_right:{lat:t[2],lon:t[3]}}}(t[0]));case"range":return b({},n,function(e,t){if(e.length>1)return{gte:"".concat(e[0]),lte:"".concat(e[1])};var r=e[0];switch(t){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}(t,r));case"wildcard":return b({},n,function(e){return{value:"*"+e+"*"}}(t[0]));case"regexp":return b({},n,function(e){return{value:e}}(t[0]));default:return}}function iH(e,t,r,n,o,i){if(e&&r&&null!=t){var a=r,l=n.operators[a];if(l){var s=l.elasticSearchQueryType,u=!1;if(!s&&l.reversedOp)u=!0,a=l.reversedOp,s=(l=n.operators[a]).elasticSearchQueryType;var c=FD(n,e,a,o),d=n.widgets[c];if(d){var p,f,h=d.elasticSearchFormatValue;if(p="function"==typeof s?s(c):s)return f="function"==typeof h?h(p,t,a,e,n):oH(p,t,a,e,n,i),u?{bool:{must_not:b({},p,nH({},f))}}:b({},p,nH({},f))}}}}var aH="ES_7_SYNTAX";const lH=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:MB,_spelFormat:iF,_sqlFormat:GB,elasticSearchFormat:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ES_6_SYNTAX",o=Mz(r,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if("rule"===i&&a.get("field")){var l,s,u,c=a.get("operator"),d=a.get("field"),p=a.get("fieldSrc"),f=null===(l=a.get("value"))||void 0===l?void 0:l.toJS();null===(s=a.get("valueType"))||void 0===s||s.get(0);var h=null===(u=a.get("valueSrc"))||void 0===u?void 0:u.get(0);if("func"===h||"func"==p)return;return f&&Array.isArray(f[0])?f[0].map((function(e){return iH(d,[e],c,o,h,n)})):iH(d,f,c,o,h,n)}if("group"===i||"rule_group"===i){var g=a.get("not"),v=a.get("conjunction");return v||(v=tR(o)),function(e,t,r,n,o,i){if(e&&e.size){var a=e.valueSeq().toArray(),l=function(e,t){switch(e){case"AND":return t?"must_not":"must";case"OR":return t?"should_not":"should";case"NOT":return t?"must":"must_not";default:return}}(t,r),s=a.map((function(e){return n(e,o,i)})).filter((function(e){return void 0!==e}));if(s.length){var u=s.flat(1/0);return{bool:b({},l,u)}}}}(t.get("children1"),v,g,e,o,n)}}},jsonLogicFormat:function(e,t){var r={usedFields:[],errors:[]},n=Mz(t,void 0,!1),o=OB(e,n,r,!1,!0),i=r.errors,a=r.usedFields;n.settings.fieldSeparator;var l,s={},u=xB(a);try{for(u.s();!(l=u.n()).done;)for(var c=l.value,d=oB(c,t),p=(uB(n,c),s),f=0;f<d.length;f++){var h=d[f],g=uB(n,d.slice(0,f+1))||{};f!=d.length-1?"!group"==g.type&&"struct"!=g.mode?(p[h]||(p[h]=[{}]),p=p[h][0]):(p[h]||(p[h]={}),p=p[h]):p[h]||(p[h]=null)}}catch(v){u.e(v)}finally{u.f()}return{errors:i,logic:o,data:s}},mongodbFormat:function(e,t){return MB(e,t,!1)},queryBuilderFormat:function(e,t){var r={usedFields:[]},n=vB(e,t,r);if(n)return gB(gB({},n),r)},queryString:dR,spelFormat:function(e,t){return iF(e,t,!1)},sqlFormat:function(e,t){return GB(e,t,!1)}},Symbol.toStringTag,{value:"Module"}));function sH(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function uH(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){sH(i,n,o,a,l,"next",e)}function l(e){sH(i,n,o,a,l,"throw",e)}a(void 0)}))}}var cH=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function dH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return pH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function pH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const gH=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:function(e){var t,r=[],n=[],o=dH(e);try{var i=function(){var e=t.value,o=function(e,t){if(e.findLastIndex)return e.findLastIndex(t);var r=Ek(e).reverse().findIndex(t);return-1==r?-1:e.length-1-r}(r,(function(t){var r,n;return(null!==(r=t.groupTitle)&&void 0!==r?r:"")==(null!==(n=e.groupTitle)&&void 0!==n?n:"")}));null==e.groupTitle||n.includes(e.groupTitle)||(n.push(e.groupTitle),1===n.length&&(r=r.map((function(e){return hH(hH({},e),{},{groupTitle:""})})))),null==e.groupTitle&&n.length&&(e=hH(hH({},e),{},{groupTitle:""})),-1!=o?r.splice(o+1,0,e):r.push(e)};for(o.s();!(t=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},getListValue:KP,listValueToOption:function(e){if(null==e)return null;var t=e.title,r=e.value,n=e.disabled,o=e.groupTitle,i=e.grouplabel,a=e.renderTitle,l=e.children,s=e.label,u=e.isCustom,c=e.isHidden,d=an(e,cH),p={value:r,title:t||s||l};return n&&(p.disabled=n),u&&(p.isCustom=u),c&&(p.isHidden=c),(o||i)&&(p.groupTitle=o||i),a&&(p.renderTitle=a),p=hH(hH({},p),d)},mergeListValues:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return e;var o=e||[],i=t.filter((function(e){return null==o.find((function(t){return""+t.value==""+e.value}))})).map((function(e){return n?hH(hH({},e),{},{isHidden:!0}):e}));return r?[].concat(Ek(i),Ek(o)):[].concat(Ek(o),Ek(i))},optionToListValue:function(e,t,r){var n,o=null==e||""==e?void 0:null!==(n=null==e?void 0:e.value)&&void 0!==n?n:e,i=KP(o,t),a=r&&!i?BP(o):void 0,l=i||a;return[o,l?[l]:void 0]},optionsToListValues:function(e,t,r){var n=e.map((function(e,n){var o,i=null==e||""==e?void 0:null!==(o=null==e?void 0:e.value)&&void 0!==o?o:e,a=KP(i,t),l=r&&!a?BP(i):void 0;return a||l})).filter((function(e){return null!=e})),o=n.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e}));return o.length||(o=void 0),[o,n]},simulateAsyncFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(){var n=uH(Cq.mark((function n(o,i,a){var l,s,u,c,d,p;return Cq.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=null!=(null==a?void 0:a.pageSize)?a.pageSize:t,s=HP(e).filter((function(e){var t=e.title,r=e.value;return null==o||(-1!=t.toUpperCase().indexOf(o.toUpperCase())||-1!="".concat(r).toUpperCase().indexOf(o.toUpperCase()))})),l&&Math.ceil(s.length/l),u=i||0,c=l?s.slice(u,u+l):s,d=l?u+c.length:null,p=!!l&&d<s.length,!r){n.next=11;break}return n.next=11,gq(r);case 11:return n.abrupt("return",{values:c,hasMore:p});case 12:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}},Symbol.toStringTag,{value:"Module"})),vH=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:gH,ConfigUtils:fB,DefaultUtils:aR,ExportUtils:XN,FuncUtils:kD,ListUtils:YP,OtherUtils:wq,RuleUtils:GD,TreeUtils:sN,Validation:gD,checkTree:eD,clone:$V,compressConfig:hz,decompressConfig:gz,getSwitchValues:oN,i18n:KM,isValidTree:XM,moment:vx,sanitizeTree:rD,uuid:YT,validateAndFixTree:nD,validateTree:tD},Symbol.toStringTag,{value:"Module"}));var mH={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},yH={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim,i=r+(o.charAt(0).toUpperCase()+o.slice(1)+"s");return"".concat(t,".").concat(i,"(").concat(n,")")},spelImport:function(e){var t,r,n,o,i=null===(t=e.methodName)||void 0===t?void 0:t.match(/^(minus|plus)(\w+)s$/);if(i&&(o=i[2].toLowerCase(),r=i[1],["minus","plus"].includes(r)&&["day","week","month","year"].includes(o)))return r={type:"string",val:r},o={type:"string",val:o},n=e.args[0],{date:e.obj,op:r,val:n,dim:o}},jsonLogic:function(e){var t=e.date,r=e.op;return{date_add:[t,e.val*("minus"==r?-1:1),e.dim]}},jsonLogicImport:function(e){var t=e.date_add[0],r=Math.abs(e.date_add[1]);return[t,e.date_add[1]>=0?"plus":"minus",r,e.date_add[2]]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return"DATE_ADD(".concat(t,", INTERVAL ").concat(parseInt(n)*("minus"==r?-1:1)," ").concat(o.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return n?"".concat(t," ").concat("minus"==r?"-":"+"," ").concat(n," ").concat(o):t},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},bH={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},_H={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},xH={label:"Linear regression",returnType:"number",formatFunc:function(e,t){var r=e.coef,n=e.bias,o=e.val;return"(".concat(r," * ").concat(o," + ").concat(n,")")},sqlFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelImport:function(e){var t,r;if("op-plus"===e.type){var n=bt(e.children,2);if(r=n[0],t=n[1],"op-multiply"===r.type){var o=bt(r.children,2);return{coef:o[0],val:o[1],bias:t}}}},mongoFormatFunc:function(e){var t=e.coef,r=e.bias;return{$sum:[{$multiply:[t,e.val]},r]}},jsonLogic:function(e){var t=e.coef,r=e.bias;return{"+":[{"*":[t,e.val]},r]}},jsonLogicImport:function(e){return[e["+"][0]["*"][0],e["+"][0]["*"][1],e["+"][1]]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},wH={utils:{SqlString:UN,moment:vx,mongoFormatOp1:function(e,t,r,n,o,i,a,l,s,u,c,d){var p="string"!=typeof n||n.startsWith("$")?n:"$"+n,f=t(i,d);if(void 0!==f)return r?a||e&&"$eq"!=e?a?{$not:b({},e,[p,f])}:b({},n,{$not:b({},e,f)}):b({},n,{$ne:f}):a||e&&"$eq"!=e?a?b({},e,[p,f]):b({},n,b({},e,f)):b({},n,f)},mongoFormatOp2:function(e,t,r,n,o,i,a,l,s,u,c){var d="string"!=typeof r||r.startsWith("$")?r:"$"+r;return t?i?{$not:{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}}:b({},r,{$not:b(b({},e[0],o[0]),e[1],o[1])}):i?{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}:b({},r,b(b({},e[0],o[0]),e[1],o[1]))},mongoEmptyValue:WN,escapeRegExp:uq,sqlEmptyValue:$N,stringifyForDisplay:JN,getTitleInListValues:$P,spelEscape:GN,spelFixList:YN,wrapWithBrackets:QN}};function OH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return SH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function SH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var EH={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,t,r,n,o,i,a,l,s){var u=l?"=":i.label;return"boolean"==o&&l?"No"==r?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(u," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,t,r,n,o,i,a,l,s){return"boolean"==o&&l?"No"==r?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(i.label," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(e){return e},!1].concat(r))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(e){return e},!1].concat(r))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return e},!1].concat(r))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(e){return e},!1].concat(r))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:function(e,t,r){return{in:[r,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!0].concat(n))},jsonLogic:function(e,t,r){return{"!":{in:[r,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?"^"+t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e)+"$":void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," BETWEEN ").concat(s," AND ").concat(u):"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return"time"===e?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," NOT BETWEEN ").concat(s," AND ").concat(u):"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,t,r){return{"!":{"<=":[Array.isArray(r)?r[0]:r,e,Array.isArray(r)?r[1]:r]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") = ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") <> ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return null},!1].concat(r))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return null},!1].concat(r))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"".concat(e," ").concat(s," ").concat(r)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != ").concat(r)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):"".concat(e," IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):void 0},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):"".concat(e," NOT IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e){return e},!1].concat(r))},reversedOp:"select_any_in",jsonLogic:function(e,t,r){return{"!":{in:[e,r]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," CONTAINS [").concat(r.join(", "),"]"):"".concat(e," CONTAINS ").concat(r)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,t,r){return{some:[e,{in:[{var:""},r]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT CONTAINS [").concat(r.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(r)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,t,r){return{"!":{some:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"value"==n?"".concat(e," ").concat(s," [").concat(r.join(", "),"]"):"".concat(e," ").concat(s," ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," = '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,t,r){return{all:[e,{in:[{var:""},r]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," != [").concat(r.join(", "),"]"):"".concat(e," != ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," != '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,t,r){return{"!":{all:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=null==a?void 0:a.get("proximity");return"".concat(e," ").concat(s," NEAR/").concat(c," ").concat(u)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=this.utils.SqlString.trim(s),d=this.utils.SqlString.trim(u),p=null==a?void 0:a.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(c,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return 0},!1].concat(r))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,t,r){return"".concat(e," == ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return 0},!1].concat(r))}}},CH={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r){var n=r.step&&!Number.isInteger(r.step);return this.utils.spelEscape(e,n)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=this.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e);return n?this.utils.stringifyForDisplay(o):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=e.map((function(e){return o.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e)}));return n?i.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e,t,r,n,o){var i=o&&o.spelOp&&o.spelOp.startsWith("${1}"),a=this.utils.spelEscape(e);return i&&(a=this.utils.spelFixList(a)),a},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("YYYY-MM-DD"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD");return"T(java.time.LocalDate).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o,i,a;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&null!==(n=r.fmt)&&void 0!==n&&null!==(n=n.value)&&void 0!==n&&null!==(o=n.includes)&&void 0!==o&&o.call(n," ")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&null!==(a=i.toLowerCase)&&void 0!==a&&a.call(i).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(r.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("HH:mm:ss"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(i,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,t,r){var n,o,i;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&r.fmt&&(null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.toLowerCase)||void 0===o||!o.call(n).includes("hh:mm")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&i.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(r.fmt))];var a=this.utils.moment(e.value,"HH:mm:ss");return a.isValid()?[a.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?60*r.get("hour")*60+60*r.get("minute")+r.get("second"):void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},elasticSearchFormatValue:function(e,t,r,n){return{script:{script:{source:"doc[".concat(n,"][0].getHour() >== params.min && doc[").concat(n,"][0].getHour() <== params.max"),params:{min:t[0],max:t[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat+" "+r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.toDate())},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD HH:mm:ss");return"T(java.time.LocalDateTime).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd HH:mm:ss","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o;if(!t)return[void 0,"No widget def to get value format"];if(null==r||null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.includes)||void 0===o||!o.call(n," "))return[void 0,"Invalid datetime format ".concat(JSON.stringify(r.fmt))];var i=this.utils.moment(e.value,this.utils.moment.ISO_8601);return i.isValid()?[i.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,t,r,n){return n?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},field:{valueSrc:"field",formatValue:function(e,t,r,n,o,i,a){return n&&a.label||e},sqlFormatValue:function(e,t,r,n,o,i){return e},spelFormatValue:function(e,t,r,n,o){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(""===e?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return""===e?null:e}}},TH=jH(jH({},Sz),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,t,r,n,o,i){var a=this,l=n.map((function(e,t){var r=e.key,n=e.parent,o=e.fieldSeparator;return 0==t?"[map]"==n?"#this[".concat(a.utils.spelEscape(r),"]"):r:"map"==n||"[map]"==n?"[".concat(a.utils.spelEscape(r),"]"):"".concat(o).concat(r)})).join("");return o.fieldName&&(l=e),o.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(null!=e)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(null!=e)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,t,r,n,o,i){if(null!=e)return i?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,t,r,n,o,i,a,l,s,u){var c=a.labelForFormat,d=a.cardinality;if(0==d){var p=e?" HAVE ".concat(e):"";return"".concat(c," OF ").concat(t).concat(p)}if(null==d||1==d){var f=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(t).concat(f," ").concat(c," ").concat(n)}if(2==d){var h=e?" WHERE ".concat(e):"",g=n.first(),v=n.get(1);return"COUNT OF ".concat(t).concat(h," ").concat(c," ").concat(g," AND ").concat(v)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,t,r,n){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),qH=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={rangeslider:LH,treeselect:PH,treemultiselect:NH,rangeable__date:AH("date","date")},i=OH(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=o[a];if(!l)throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(a));e=l(e,n)}}catch(s){i.e(s)}finally{i.f()}return e},IH=function(e,t){return qH(e,t,!0)},AH=function(e,t){return function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.types;return o=jH(jH({},o),{},b({},e,jH(jH({},o[e]),{},{widgets:jH({},o[e].widgets)}))),n?o[e].widgets[t]=jH({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},o[e].widgets[t]):delete o[e].widgets[t],jH(jH({},r),{},{types:o})}},LH=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=jH({},r),t?r.rangeslider=jH({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},singleWidget:"slider",toJS:function(e,t){return e}},r.rangeslider):delete r.rangeslider,n=jH(jH({},n),{},{number:jH(jH({},n.number),{},{widgets:jH({},n.number.widgets)})}),t?n.number.widgets.rangeslider=jH({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},n.number.widgets.rangeslider):delete n.number.widgets.rangeslider,jH(jH({},e),{},{widgets:r,types:n})},PH=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=jH({},r),t?r.treeselect=jH({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,i=this.utils.getTitleInListValues(o,e);return n?this.utils.stringifyForDisplay(i):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treeselect):delete r.treeselect,n=jH({},n),t?n.treeselect=jH({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},n.treeselect):delete n.treeselect,jH(jH({},e),{},{widgets:r,types:n})},NH=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=jH({},r),t?r.treemultiselect=jH({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,a=e.map((function(e){return o.utils.getTitleInListValues(i,e)}));return n?a.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treemultiselect):delete r.treemultiselect,n=jH({},n),t?n.treemultiselect=jH({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},n.treemultiselect):delete n.treemultiselect,jH(jH({},e),{},{widgets:r,types:n})},FH={addMixins:IH,removeMixins:function(e,t){return qH(e,t,!1)}},RH={conjunctions:{AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,t,r,n){var o=e.size>1?e.join(" "+(n?"AND":"&&")+" "):e.first();return(e.size>1||r)&&(o=this.utils.wrapWithBrackets(o)),r&&(o="NOT "+o),o},sqlFormatConj:function(e,t,r){var n=e.size>1?e.join(" AND "):e.first();return(e.size>1||r)&&(n=this.utils.wrapWithBrackets(n)),r&&(n="NOT "+n),n},spelFormatConj:function(e,t,r,n){r&&(n=!1);var o=e.size>1?e.join(" && "):e.first();return(e.size>1||r)&&!n&&(o=this.utils.wrapWithBrackets(o)),r&&(o="!"+o),o}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,t,r,n){return e.size>1?(r?"NOT ":"")+"("+e.join(" "+(n?"OR":"||")+" ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},sqlFormatConj:function(e,t,r){return e.size>1?(r?"NOT ":"")+"("+e.join(" OR ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},spelFormatConj:function(e,t,r,n){return r&&(n=!1),e.size>1?(r?"!":"")+(n?"":"(")+e.join(" || ")+(n?"":")"):(r?"!(":"")+e.first()+(r?")":"")}}},operators:EH,widgets:CH,types:{text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},settings:TH,ctx:wH};const MH=RH=IH(RH,["rangeslider","treeselect","treemultiselect"]);var DH="ADD_GROUP",VH="ADD_CASE_GROUP",zH="REMOVE_GROUP",BH="SET_CONJUNCTION",HH="SET_NOT",UH="ADD_RULE",$H="REMOVE_RULE",WH="SET_FIELD",KH="SET_FIELD_SRC",YH="SET_OPERATOR",GH="SET_VALUE",JH="SET_VALUE_SRC",QH="SET_FUNC_VALUE",XH="SET_OPERATOR_OPTION",ZH="SET_LOCK",eU="SET_TREE",tU="MOVE_ITEM",rU="after",nU="before",oU="append",iU="prepend",aU="SET_DRAG_PROGRESS",lU="SET_DRAG_START",sU="SET_DRAG_END",uU=eV,cU=Gs;var dU=function(e,t){return e&&uU(e,t,cU)},pU=_l,fU=Ru;var hU=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=r[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new pU;if(n)var p=n(u,c,s,e,t,d);if(!(void 0===p?fU(c,u,3,n,d):p))return!1}}return!0},gU=la;var vU=function(e){return e==e&&!gU(e)},mU=vU,yU=Gs;var bU=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},_U=hU,xU=function(e){for(var t=yU(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,mU(o)]}return t},wU=bU;var OU=sI;var SU=Ru,kU=function(e,t,r){var n=null==e?void 0:OU(e,t);return void 0===n?r:n},jU=RI,EU=Fq,CU=vU,TU=bU,qU=iI;var IU=sI;var AU=function(e){return function(t){return null==t?void 0:t[e]}},LU=function(e){return function(t){return IU(t,e)}},PU=Fq,NU=iI;var FU=function(e){var t=xU(e);return 1==t.length&&t[0][2]?wU(t[0][0],t[0][1]):function(r){return r===e||_U(r,e,t)}},RU=function(e,t){return EU(e)&&CU(t)?TU(qU(e),t):function(r){var n=kU(r,e);return void 0===n&&n===t?jU(r,e):SU(t,n,3)}},MU=ZI,DU=Bl,VU=function(e){return PU(e)?AU(NU(e)):LU(e)};var zU=function(e){return"function"==typeof e?e:null==e?MU:"object"==typeof e?DU(e)?RU(e[0],e[1]):FU(e):VU(e)},BU=fI,HU=dU,UU=zU;const $U=g((function(e,t){var r={};return t=UU(t),HU(e,(function(e,n,o){BU(r,n,t(e,n,o))})),r}));function WU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WU(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YU(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return GU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GU(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function GU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JU=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(GP(t)))return e;var u=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,c=i.settings.shouldCreateEmptyGroup,d=t.push(u),p=!c,f=!(null==s||!s.isDefaultCase),h=e;return(e=QU(e,t,r,u,rR(i).merge(HT(o)||{}),i,l))!==h&&(l||f||(e=e.setIn(GP(d,"children1"),new WT.OrderedMap),p&&(e=QU(e,d,"rule",YT(),ZF(i),i))),e=ZP(e)),e},QU=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("switch_group"===r)throw new Error("Can't add switch_group programmatically");var s=e.getIn(GP(t));if(!s)return e;var u,c,d=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,p=i.settings,f=p.maxNumberOfCases,h=p.maxNumberOfRules,g=p.maxNesting,v="switch_group"===e.get("type"),m=v?e.getIn(GP(t.take(2))):null,y=GP(t,"children1"),_=e.getIn(y),x=!!_&&_.size,w=x?_.size:null;"case_group"===r?(u=w,c=f):"group"===r?(u=t.size,c=g):"rule_group"===(null==s?void 0:s.get("type"))||(u=rN(v?m:e),c=h);var O=!c||!u||u<c,S={type:r,id:d,properties:o};r$(i,S,l);var k="case_group"===r&&x&&null==_.last().get("children1");if(O){var j=new WT.OrderedMap(b({},d,new WT.Map(S)));if(x)if(k){var E=_.last(),C=new WT.OrderedMap(b(b({},d,new WT.Map(S)),E.get("id"),E));e=(e=e.deleteIn(GP(y,"children1",E.get("id")))).mergeIn(y,C)}else e=e.mergeIn(y,j);else e=e.setIn(y,j);e=ZP(e)}return e},XU=function(e,t){return e=e.deleteIn(GP(t)),e=ZP(e)},ZU=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=e.getIn(GP(t));if(!c)return{state:e};var d=u.isEndValue,p=u.canDropArgs;if(!r)return{state:e=XU(e,t)};var f=n.settings,h=f.fieldSeparator,g=f.setOpOnChangeField,v=f.showErrorMessage;Array.isArray(r)&&(r=r.join(h));var m=c.get("type"),y=c.get("properties"),b="rule_group"==m,_=null==y?void 0:y.get("fieldSrc"),x=uB(n,r);if(!x)return console.warn("No config for LHS ".concat(r)),{state:e};var w=x.type;"!group"!==w&&"!struct"!==w||(w=null);var O=null==y?void 0:y.get("operator"),S=null==y?void 0:y.get("operatorOptions"),k=null==y?void 0:y.get("field"),j="!group"==x.type,E=j&&"array"==x.mode,C=b!=j,T=x&&-1!==(null===(i=x.operators)||void 0===i?void 0:i.indexOf(O))?O:null,q="func"===_&&(null==k||null===(a=k.get)||void 0===a?void 0:a.call(k,"func"))===(null===(l=r)||void 0===l||null===(s=l.get)||void 0===s?void 0:s.call(l,"func"))&&!!T,I=null,A="func"===_?ED(n,w):CD(n,r);if(A&&1==A.length)I=A[0];else if(q)I=T;else if(A&&A.length>1){var L,P=YU(g);try{for(P.s();!(L=P.n()).done;){var N=L.value;if("keep"!=N||C?"default"==N?I=QF(n,r,!1):"first"==N&&(I=TD(n,r)):I=T,I)break}}catch(H){P.e(H)}finally{P.f()}}if(!j&&!x.operators)return console.warn("Type ".concat(x.type," is not supported")),{state:e};b&&!j&&(e=(e=(e=e.setIn(GP(t,"type"),"rule")).deleteIn(GP(t,"children1"))).setIn(GP(t,"properties"),new WT.OrderedMap)),y||(e=e.setIn(GP(t,"properties"),new WT.OrderedMap));var F=!v;if(j){e=e.setIn(GP(t,"type"),"rule_group");var R=hD(n,n,y,r,I,"field",F,d,p);R.canReuseValue;var M=R.newValue,D=R.newValueSrc,V=R.newValueType,z=R.operatorCardinality,B=rR(n,x).merge({field:r,fieldSrc:"field",mode:x.mode});E&&(B=B.merge({operator:I,value:M,valueSrc:D,valueType:V})),e=(e=e.setIn(GP(t,"children1"),new WT.OrderedMap)).setIn(GP(t,"properties"),B),x.initialEmptyWhere&&1==z||(e=QU(e,t,"rule",YT(),ZF(n,r),n)),e=ZP(e)}else e=e.updateIn(GP(t,"properties"),(function(e){return e.withMutations((function(e){var t=hD(n,n,e,r,I,"field",F,d,p),o=t.canReuseValue,i=t.newValue,a=t.newValueSrc,l=t.newValueType,s=t.newValueError,u=t.newFieldError,c=t.fixedField,f=r;c!==r&&(f=c),v&&(e=(e=e.set("fieldError",u)).set("valueError",s));var h=o?S:XF(n,I,f);return e=e.set("field",f).delete("fieldType").set("fieldSrc",_).set("operator",I).set("operatorOptions",h).set("value",i).set("valueSrc",a).set("valueType",l),o||(e=e.delete("asyncListValues")),e}))}));return{state:e}},e$=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(GP(t)))return{state:e};var s=l.canDropArgs,u=l.isEndValue,c=i.settings,d=c.fieldSeparator,p=c.showErrorMessage,f=e.getIn(GP(t,"properties","valueSrc",r+""))||null;"field"===f&&Array.isArray(n)&&(n=n.join(d));var h=e.getIn(GP(t,"properties","field"))||null,g=e.getIn(GP(t,"properties","operator"))||null,v=cB(i,g,h),m=g?rq(v):null,y=o||qD(n,f,i),b=uD(i,h,h,g,n,y,f,a,!p,u,s),_=bt(b,2),x=_[0],w=_[1],O=null==w?void 0:w.find((function(e){return!e.fixed&&!e.ignore})),S=O?YM(O):null,k=x!==n;k&&(n=x),e=t$(e,t,i,m);var j=Array.from({length:m},(function(o,i){return i==r?n:e.getIn(GP(t,"properties","value",i+""))||null})),E=Array.from({length:m},(function(r,n){return e.getIn(GP(t,"properties","valueSrc",n+""))||null})),C=fD(i,h,g,j,E),T=C?YM(C):null;((!!p||(!S&&!T||k))&&(e=e.deleteIn(GP(t,"properties","asyncListValues")),void 0===n?e=(e=e.setIn(GP(t,"properties","value",r),void 0)).setIn(GP(t,"properties","valueType",r),null):(a&&(e=e.setIn(GP(t,"properties","asyncListValues"),a)),e=(e=e.setIn(GP(t,"properties","value",r),n)).setIn(GP(t,"properties","valueType",r),y))),p)&&(e.getIn(GP(t,"properties","valueError"))||(e=e.setIn(GP(t,"properties","valueError"),new WT.List(new Array(m)))),e=e.setIn(GP(t,"properties","valueError",r),S),m>=2&&(e=e.setIn(GP(t,"properties","valueError",m),T)));return{state:e}},t$=function(e,t,r,n){if(!n){var o=e.getIn(GP(t,"properties","field"))||null,i=e.getIn(GP(t,"properties","operator"))||null,a=cB(r,i,o);n=i?rq(a):null}for(var l=0,s=["value","valueType","valueError","valueSrc"];l<s.length;l++){var u=s[l];e.getIn(GP(t,"properties",u))||(e=e.setIn(GP(t,"properties",u),new WT.List(n?Array.from({length:n}):[])))}return e},r$=function e(t,r,n){n&&Array.isArray(n)&&(r.children1=new WT.OrderedMap(n.reduce((function(r,n){var o,i=null!==(o=n.id)&&void 0!==o?o:YT(),a=KU(KU({},n),{},{properties:nR(t,n).merge(HT(n.properties)||{}),id:i});return e(t,a,a.children1),KU(KU({},r),{},b({},i,new WT.Map(a)))}),{})))},n$={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},o$=function(e,t){if(!e||!e.type)return null;var r,n=[eU,lU,aU,sU],o=$U(NP(e,["config","asyncListValues"]),sq),i=e.path&&function(e,t){return e.getIn(GP(t,"properties","field"))||null}(t.tree,e.path)||e.field;i&&(null!==(r=i)&&void 0!==r&&r.toJS&&(i=i.toJS()),o.affectedField=i);return(n.includes(e.type)||0==e.type.indexOf("@@redux"))&&(o=null),o};const i$=function(e,t,r,n,o){var i=KU({tree:t},n$);return function(){var t,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s=arguments.length>1?arguments[1]:void 0,u=null!==(t=null!==(a=null==o?void 0:o())&&void 0!==a?a:null==s?void 0:s.config)&&void 0!==t?t:e,c={__lastAction:void 0},d={},p=o$(s,l);switch(null==s?void 0:s.type){case eU:var f=r(u,s.tree);d.tree=f;break;case VH:d.tree=JU(l.tree,s.path,"case_group",s.id,s.properties,u,s.children,s.meta);break;case DH:d.tree=JU(l.tree,s.path,"group",s.id,s.properties,u,s.children,s.meta);break;case zH:d.tree=function(e,t,r){if(!e.getIn(GP(t)))return e;e=XU(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.slice(0,-1);aN(e,o)||n||(e=eN(e),!iN(e)||n)||(e=QU(e,new WT.List,"rule",YT(),ZF(r,void 0,void 0,!1,!1),r));return ZP(e)}(l.tree,s.path,u);break;case UH:d.tree=QU(l.tree,s.path,s.ruleType,s.id,s.properties,u,s.children);break;case $H:d.tree=function(e,t,r){if(!e.getIn(GP(t)))return e;e=XU(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.pop(),i=e.getIn(GP(o)),a=i.getIn(["properties","field"]),l=i.getIn(["properties","operator"]),s=a?uB(r,a):null,u=l?cB(r,l,a):null,c=a&&l&&0!=u.cardinality,d="rule_group"==i.get("type"),p=!aN(e,o),f=d?c&&s.initialEmptyWhere:n;p&&!f&&(d&&(e=e.deleteIn(GP(o))),e=eN(e),iN(e)&&!n)&&(e=QU(e,new WT.List,"rule",YT(),ZF(r,void 0,void 0,!1,!1),r));return ZP(e)}(l.tree,s.path,u);break;case BH:d.tree=function(e,t,r){return e.getIn(GP(t))?e=e.setIn(GP(t,"properties","conjunction"),r):e}(l.tree,s.path,s.conjunction);break;case HH:d.tree=function(e,t,r){return e.getIn(GP(t))?e=e.setIn(GP(t,"properties","not"),r):e}(l.tree,s.path,s.not);break;case WH:var h=ZU(l.tree,s.path,s.field,u,s.asyncListValues,s._meta).state;d.tree=h;break;case KH:d.tree=function(e,t,r,n){var o=e.getIn(GP(t));if(!o)return e;var i=n.settings.keepInputOnChangeFieldSrc,a=o.get("properties"),l=null==a?void 0:a.get("field"),s=null==a?void 0:a.get("fieldType"),u=uB(n,l),c=(null==u?void 0:u.type)||s;c&&"!group"!==c&&"!struct"!==c||(c=null);var d=!jD.includes(c);return(e=i&&!MD(o,n)&&d?(e=(e=e.setIn(GP(t,"properties","field"),null)).deleteIn(GP(t,"properties","fieldError"))).setIn(GP(t,"properties","fieldType"),c):e.setIn(GP(t,"properties"),ZF(n,null,null,!1))).setIn(GP(t,"properties","fieldSrc"),r)}(l.tree,s.path,s.srcKey,u);break;case ZH:d.tree=function(e,t,r){return e.getIn(GP(t))?e=XP(e.setIn(GP(t,"properties","isLocked"),r)):e}(l.tree,s.path,s.lock);break;case YH:d.tree=function(e,t,r,n){var o=e.getIn(GP(t));if(!o)return e;var i=n.settings.showErrorMessage,a=o.get("properties"),l=o.get("children1"),s=a.get("field");a.get("fieldSrc");var u=uB(n,s),c="!group"==(null==u?void 0:u.type),d=cB(n,r,s),p=d?rq(d):null;return e=e.updateIn(GP(t,"properties"),(function(e){return e.withMutations((function(e){var t=e.get("field"),o=e.get("operatorOptions");e.get("value",new WT.List),e.get("valueSrc",new WT.List),e.get("operator");var a=hD(n,n,e,t,r,"operator",!0),l=a.canReuseValue,s=a.newValue,u=a.newValueSrc,c=a.newValueType,d=a.newValueError;i&&(e=e.set("valueError",d));var p=l?o:XF(n,r,t);return l||(e=e.delete("asyncListValues")),e.set("operator",r).set("operatorOptions",p).set("value",s).set("valueSrc",u).set("valueType",c)}))})),c&&0==p&&0==l.size&&(e=QU(e,t,"rule",YT(),ZF(n,s),n)),e}(l.tree,s.path,s.operator,u);break;case GH:var g=e$(l.tree,s.path,s.delta,s.value,s.valueType,u,s.asyncListValues,s._meta).state;d.tree=g;break;case QH:var v=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},c=t.getIn(GP(r));if(!c)return t;var d,p=-1===n,f=c.get("properties"),h=f.get("field"),g=f.get("value"),v=[],m=p?h:g.getIn([n]),y=YU(o||[]);try{for(y.s();!(d=y.n()).done;){var b=bt(d.value,2),_=b[0],x=b[1];if(v.push([_,x,m]),_!==m.get("func")){var w=v.map((function(e){var t=bt(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")||"root";throw new Error("In ".concat(p?"LHS":"RHS"," for path ").concat(w," expected func key ").concat(_," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(A){y.e(A)}finally{y.f()}if(i){var O=m.get("func"),S=eB(e,O).args[i];m="!valueSrc"===l?OD(m,i,a):wD(m,i,a,S,e)}else m=yD(m,a,e,!0),u.canDropArgs=!0;for(var k=m;v.length;){var j=v.pop(),E=bt(j,3),C=E[0],T=E[1],q=E[2],I=eB(e,C).args[T];k=wD(q,T,k,I,e)}return p?ZU(t,r,k,e,s,u):e$(t,r,n,k,void 0,e,s,u)}(u,l.tree,s.path,s.delta,s.parentFuncs,s.argKey,s.value,s.valueType,s.asyncListValues,s._meta),m=v.state;d.tree=m;break;case JH:d.tree=function(e,t,r,n,o){if(!e.getIn(GP(t)))return e;var i=o.settings.showErrorMessage,a=e.getIn(GP(t,"properties","field"))||null,l=e.getIn(GP(t,"properties","operator"))||null,s=cB(o,l,a),u=l?rq(s):null;if(e=(e=(e=(e=t$(e,t,o,u)).setIn(GP(t,"properties","value",r+""),void 0)).setIn(GP(t,"properties","valueType",r+""),null)).deleteIn(GP(t,"properties","asyncListValues")),i&&(e=e.setIn(GP(t,"properties","valueError",r),null),s.validateValues&&(e=e.setIn(GP(t,"properties","valueError",u),null))),e=void 0===n?e.setIn(GP(t,"properties","valueSrc",r+""),null):e.setIn(GP(t,"properties","valueSrc",r+""),n),n){var c=e.getIn(GP(t,"properties")),d=hD(o,o,c,a,l,"valueSrc",!0),p=d.canReuseValue,f=d.newValue,h=d.newValueSrc,g=d.newValueType;d.newValueError,p||h.get(r)!=n||(e=(e=e.setIn(GP(t,"properties","value",r+""),f.get(r))).setIn(GP(t,"properties","valueType",r+""),g.get(r)))}return e}(l.tree,s.path,s.delta,s.srcKey,u,s._meta);break;case XH:d.tree=function(e,t,r,n){return e.getIn(GP(t))?e.setIn(GP(t,"properties","operatorOptions",r),n):e}(l.tree,s.path,s.name,s.value);break;case tU:d.tree=function(e,t,r,n,o){var i=QP(e,t),a=t.pop(),l=t.size>1?QP(e,a):null,s=l?l.get("children1"):null,u=QP(e,r),c=n==oU||n==iU?r:r.pop(),d=n==oU||n==iU?u:r.size>1?QP(e,c):null,p=d?d.get("children1"):null;if(!l||!d||!i)return e;var f=l.get("id")==d.get("id"),h=c.size<a.size&&nq(c.toArray(),a.toArray().slice(0,c.size)),g=c.size>a.size&&nq(a.toArray(),c.toArray().slice(0,a.size)),v=null,m=null;h?v=WT.List(a.toArray().slice(c.size)):g&&(m=WT.List(c.toArray().slice(a.size)));var y=p,_=s;return g||(_=_.delete(i.get("id"))),f?y=_:h&&(y=y.updateIn(JP(v,"children1"),(function(e){return _}))),n==nU||n==rU?y=WT.OrderedMap().withMutations((function(e){var t,r=YU(y.entries());try{for(r.s();!(t=r.n()).done;){var o=bt(t.value,2),a=o[0],l=o[1];a==(null==u?void 0:u.get("id"))&&n==nU&&e.set(i.get("id"),i),e.set(a,l),a==(null==u?void 0:u.get("id"))&&n==rU&&e.set(i.get("id"),i)}}catch(s){r.e(s)}finally{r.f()}})):n==oU?y=y.merge(WT.OrderedMap(b({},i.get("id"),i))):n==iU&&(y=WT.OrderedMap(b({},i.get("id"),i)).merge(y)),g&&(_=(_=_.updateIn(JP(m,"children1"),(function(e){return y}))).delete(i.get("id"))),f||h||(e=e.updateIn(GP(a,"children1"),(function(e){return _}))),g||(e=e.updateIn(GP(c,"children1"),(function(e){return y}))),ZP(e)}(l.tree,s.fromPath,s.toPath,s.placement);break;case lU:d.dragStart=s.dragStart,d.dragging=s.dragging,d.mousePos=s.mousePos;break;case aU:d.mousePos=s.mousePos,d.dragging=s.dragging;break;case sU:d.tree=function(e,t){return t.settings.canLeaveEmptyGroup||(e=eN(e)),e}(l.tree,u),d=KU(KU({},d),n$)}return p&&(d.__lastAction=p),n&&d.tree&&l.tree&&n(l.tree),KU(KU(KU({},l),c),d)}};const a$=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:VH,path:lq(t),children:n,id:YT(),properties:rR(e).merge(HT(r)||{}),config:e}},addDefaultCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:VH,path:lq(t),children:n,id:YT(),properties:rR(e).merge(HT(r)||{}),config:e,meta:{isDefaultCase:!0}}},addGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:DH,path:lq(t),children:n,id:YT(),properties:rR(e).merge(HT(r)||{}),config:e}},addRule:function(e,t,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{type:UH,ruleType:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rule",children:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,path:lq(t),id:YT(),properties:ZF(e,n).merge(HT(r)||{}),config:e}},moveItem:function(e,t,r,n){return{type:tU,fromPath:lq(t),toPath:lq(r),placement:n,config:e}},removeGroup:function(e,t){return{type:zH,path:lq(t),config:e}},removeRule:function(e,t){return{type:$H,path:lq(t),config:e}},setTree:function(e,t){return{type:eU,tree:t,config:e}}},Symbol.toStringTag,{value:"Module"}));const l$=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:function(e,t,r){return{type:BH,path:lq(t),conjunction:r}},setLock:function(e,t,r){return{type:ZH,path:lq(t),lock:r}},setNot:function(e,t,r){return{type:HH,path:lq(t),not:r}}},Symbol.toStringTag,{value:"Module"}));const s$=Object.freeze(Object.defineProperty({__proto__:null,setField:function(e,t,r,n,o){return{type:WH,path:lq(t),field:r,config:e,asyncListValues:n,_meta:o}},setFieldSrc:function(e,t,r){return{type:KH,path:lq(t),srcKey:r,config:e}},setFuncValue:function(e,t,r,n,o,i,a,l,s){return{type:QH,path:lq(t),delta:r,parentFuncs:n,argKey:o,value:i,valueType:a,asyncListValues:l,config:e,_meta:s}},setOperator:function(e,t,r){return{type:YH,path:lq(t),operator:r,config:e}},setOperatorOption:function(e,t,r,n){return{type:XH,path:lq(t),name:r,value:n,config:e}},setValue:function(e,t,r,n,o,i,a){return{type:GH,path:lq(t),delta:r,value:n,valueType:o,asyncListValues:i,config:e,_meta:a}},setValueSrc:function(e,t,r,n,o){return{type:JH,path:lq(t),delta:r,srcKey:n,config:e,_meta:o}}},Symbol.toStringTag,{value:"Module"}));function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u$(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d$=c$(c$(c$({},vH),{},{Export:lH,Import:$F,ConfigMixins:FH},lH),$F);const p$=F.createContext();var f$="after",h$="before",g$="append",v$="prepend",m$=function(e,t){return{type:"SET_DRAG_PROGRESS",mousePos:e,dragging:t}},y$=function(e,t,r){return{type:"SET_DRAG_START",dragStart:e,dragging:t,mousePos:r}},b$=function(){return{type:"SET_DRAG_END"}},_$=a$,x$=l$,w$=s$,O$={},S$=function(e,t,r){return!t||!e||e.length<=t?e:e.substr(0,t-1)+"..."},k$=function(e,t){return e===t||(null==e?void 0:e.equals(t))},j$=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?j$(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):e&&"function"==typeof e.equals?e.equals(t):"object"===_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?j$(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var E$=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&O$&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}}(),C$=d$.Validation.validateAndFixTree,T$=function e(t){if(t){var r,n=(r=t)._reactRootContainer?"root":Object.getOwnPropertyNames(r).filter((function(e){return e.startsWith("__reactContainer")})).length>0?"container":void 0;return void 0!==n?n:e(t.parentNode)}},q$=function(e){return"root"===T$(e)},I$=function(e,t){return function(r,n){var o=e.props,i=e.state,a=r!=o||n!=i;if(a&&i==n&&o!=r){var l=[];for(var s in r){var u=r[s]!=o[s];u&&("ignore"==t[s]?u=!1:"shallow_deep"==t[s]?u=!j$(r[s],o[s],!0):"shallow"==t[s]?u=!j$(r[s],o[s]):"function"==typeof t[s]&&(u=t[s](r[s],o[s],r,o))),u&&l.push(s)}l.length||(a=!1)}return a}},A$=function(e){return function(t,r){return!j$(e.props,t)||!j$(e.state,r)}},L$=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=A$(e)),16==(r=F.version.split(".").map(parseInt.bind(null,10)))[0]&&r[1]<3||r[0]<16)e.componentWillReceiveProps=function(t){e.onPropsChanged(t)};else{var t=e.shouldComponentUpdate;e.shouldComponentUpdate=function(r,n){return!j$(e.props,r)&&e.onPropsChanged(r),t.call(e,r,n)}.bind(e)}var r},P$=function(e,t,r){return $U(e,(function(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r(e.apply(void 0,[t].concat(o)))}}))};const N$=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:P$,isUsingLegacyReactDomRender:q$,liteShouldComponentUpdate:I$,pureShouldComponentUpdate:A$,useOnPropsChanged:L$},Symbol.toStringTag,{value:"Module"}));function F$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F$(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M$(e,t,r){return t=K(t),Y(e,D$()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function D$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D$=function(){return!!e})()}var V$=function(e){function t(e){var r;W(this,t),(r=M$(this,t,[e])).shouldComponentUpdate=I$(r,{tree:function(e){return e!==r.oldValidatedTree||r.oldValidatedTree!==r.validatedTree}}),L$(r),r._updateActions(e),r.validatedTree=e.getMemoizedTree(e.config,e.tree,void 0,e.sanitizeTree),r.oldValidatedTree=r.validatedTree;var n=e.getBasicConfig(e.config);return e.onInit&&e.onInit(r.validatedTree,n,void 0,r.actions),r}return U(t,e),$(t,[{key:"_updateActions",value:function(e){var t=e.config,r=e.dispatch;this.actions=P$(R$(R$(R$({},_$),x$),w$),t,r)}},{key:"onPropsChanged",value:function(e){var t=e.onChange,r=this.props.config,n=e.tree;this.props.tree;var o=e.config;if(this.oldValidatedTree=this.validatedTree,this.validatedTree=n,r!==o&&(this._updateActions(e),this.validatedTree=e.getMemoizedTree(o,n,r)),!k$(this.validatedTree,this.oldValidatedTree)){var i=e.getBasicConfig(o);t&&t(this.validatedTree,i,e.__lastAction,this.actions)}}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.renderBuilder,n=e.dispatch;return r({tree:this.validatedTree,actions:this.actions,config:t,dispatch:n})}}])}(v.Component);V$.propTypes={config:_t.object.isRequired,onChange:_t.func,onInit:_t.func,renderBuilder:_t.func,tree:_t.any};var z$=xt((function(e){return{tree:e.tree,__lastAction:e.__lastAction}}),null,null,{context:p$})(V$);function B$(e,t,r){return t=K(t),Y(e,H$()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function H$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(H$=function(){return!!e})()}z$.displayName="ConnectedQuery";var U$=d$.DefaultUtils.defaultRoot,$$=d$.ConfigUtils.createConfigMemo,W$=function(e){function t(e,r){var n,o,i;W(this,t),(i=B$(this,t,[e,r])).setLastTree=function(e){i.prevTree&&(i.prevprevTree=i.prevTree),i.prevTree=e},i.getConfig=function(){return i.config},i.shouldComponentUpdate=I$(i,{value:function(e,t){return!1}}),L$(i);var a=$$({reactIndex:null!==(n=null===(o=i._reactInternals)||void 0===o?void 0:o.index)&&void 0!==n?n:-1,maxSize:2,canCompile:!0}),l=a.getExtendedConfig,s=a.getBasicConfig,u=a.clearConfigMemo;i.getMemoizedConfig=l,i.getBasicConfig=s,i.clearConfigMemo=u,i.getMemoizedTree=function(){var e,t,r;return function(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return o?n.__configId===r&&(k$(o,e)||k$(o,t))?t:(r=n.__configId,e=o,t=!1===a?C$(o,null,n,i||n,!1,!1,!1):C$(o,null,n,i||n)):null}}();var c=i.getMemoizedConfig(e),d=c.settings.shouldCreateEmptyGroup,p=U$(c,!d),f=!!e.value,h=e.value||p,g=i.getMemoizedTree(c,h,void 0,f),v=i$(c,g,i.getMemoizedTree,i.setLastTree,i.getConfig),m=Ot(v);return i.config=c,i.state={store:m},i.QueryWrapper=function(e){return c.settings.renderProvider(e,c.ctx)},i}return U(t,e),$(t,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(e){var t=this.props,r=this.config,n=this.getMemoizedConfig(e),o=r!==n,i=this.state.store.getState().tree,a=!k$(e.value,this.props.value)&&!k$(e.value,i),l=a?e.value||U$(e):i,s=a&&!k$(e.value,this.prevTree)&&!k$(e.value,this.prevprevTree);if(this.sanitizeTree=s||o,o&&(t.settings.renderProvider!==e.settings.renderProvider&&(this.QueryWrapper=function(e){return n.settings.renderProvider(e,n.ctx)}),this.config=n),a||o){var u=this.getMemoizedTree(n,l,r,this.sanitizeTree);this.state.store.dispatch(_$.setTree(n,u))}}},{key:"render",value:function(){var e=this.props,t=e.renderBuilder,r=e.get_children,n=e.onChange,o=e.onInit,i=this.state.store,a=this.config,l=this.QueryWrapper;return F.createElement(l,{config:a},F.createElement(wt,{store:i,context:p$},F.createElement(z$,{config:a,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:n,onInit:o,renderBuilder:t||r})))}}])}(v.Component);function K$(e,t,r){return t=K(t),Y(e,Y$()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function Y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y$=function(){return!!e})()}W$.propTypes={conjunctions:_t.object.isRequired,fields:_t.object.isRequired,types:_t.object.isRequired,operators:_t.object.isRequired,widgets:_t.object.isRequired,settings:_t.object.isRequired,ctx:_t.object.isRequired,onChange:_t.func,onInit:_t.func,renderBuilder:_t.func,value:_t.any};var G$=d$.ConfigUtils.getFieldConfig;function J$(e,t,r){return t=K(t),Y(e,Q$()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function Q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q$=function(){return!!e})()}var X$=d$.clone,Z$=d$.TreeUtils.getFlatTree,eW=!1;var tW=["isDraggingTempo","isDraggingMe","dragging"];function rW(e,t,r){return t=K(t),Y(e,nW()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nW=function(){return!!e})()}const oW=function(e){return function(t){var r;return r=function(r){function n(e){var t;return W(this,n),(t=rW(this,n,[e])).handleDraggerMouseDown=function(e){var r=t.props.id,n=t.wrapper.current;t.props.onDragStart&&t.props.onDragStart(r,n,e)},t.wrapper=F.createRef(),t}return U(n,r),$(n,[{key:"render",value:function(){var r=this.props,n=r.isDraggingTempo,o=r.isDraggingMe,i=r.dragging,a=an(r,tW),l=a.isTrueLocked,s={};o&&n&&(eW||(s={top:i.y,left:i.x,width:i.w}));var u=Br(e,"group-or-rule",o&&n?"qb-draggable":null,o&&!n?"qb-placeholder":null,l?"locked":null);return F.createElement("div",{className:u,style:s,ref:this.wrapper,"data-id":this.props.id},F.createElement(t,w({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:o,isDraggingTempo:n},a)))}}])}(v.PureComponent),r.propTypes={isDraggingTempo:_t.bool,isDraggingMe:_t.bool,onDragStart:_t.func,dragging:_t.object,isLocked:_t.bool,isTrueLocked:_t.bool},r}};var iW=Uq,aW=zU,lW=EI,sW=XA;const uW=g((function(e,t){if(null==e)return{};var r=iW(sW(e),(function(e){return[e]}));return t=aW(t),lW(e,r,(function(e,r){return t(e,r[0])}))}));function cW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dW(e,t,r){return t=K(t),Y(e,pW()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pW=function(){return!!e})()}var fW=d$.ConfigUtils,hW=fW.getFieldConfig,gW=fW.getOperatorConfig,vW=function(e){function t(e){var r;return W(this,t),(r=dW(this,t,[e])).shouldComponentUpdate=I$(r,{selectedField:function(e,t){return!1}}),L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.selectedField,o=e.selectedFieldType,i=e.selectedOperator,a=hW(r,n),l=Ek((null==a?void 0:a.operators)||(null===(t=r.types[o])||void 0===t?void 0:t.operators)||[]);n||l.includes(i)||l.push(i);var s=$U(uW(r.operators,(function(e,t){return-1!==(null==l?void 0:l.indexOf(t))})),(function(e,t){return gW(r,t,n)})),u=this.buildOptions(r,s,l),c=s[i]||{},d=i?[i]:null;return{placeholder:this.props.config.settings.operatorPlaceholder,items:u,selectedKey:i,selectedKeys:d,selectedPath:d,selectedLabel:c.label,selectedAltLabel:c.label2||c.tooltip,selectedOpts:c,fieldConfig:a}}},{key:"buildOptions",value:function(e,t,r){return t&&r?Js(t).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)})).map((function(e){var r=t[e];return{key:e,path:e,label:r.label,altLabel:r.label2,tooltip:r.tooltip}})):null}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setOperator,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderOperator,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:n},this.meta);return s.items?l(s,t.ctx):null}}])}(v.Component);vW.propTypes={id:_t.string,groupId:_t.string,config:_t.object.isRequired,selectedField:_t.any,selectedFieldId:_t.string,selectedFieldType:_t.string,selectedFieldSrc:_t.string,selectedOperator:_t.string,readonly:_t.bool,customProps:_t.object,setOperator:_t.func.isRequired};var mW=["children"],yW=function(e){var t=e.children,r=an(e,mW);return F.createElement("div",r,t)},bW=function(){},_W=function(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},F.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),F.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},xW=function(e){return function(t){var r=t.config.settings.useConfirm,n=r?r.call(t.config.ctx,t.config.ctx):null;return F.createElement(e,w({},t,{confirmFn:n}))}},wW=function(e){var t=e.id,r=e.isLHS,n=e.delta;return[t,r?"L":"R",r?-1:n||0,(e.parentFuncs||[]).map((function(e){var t=bt(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")].join(":")},OW=function(e,t){var r;return"function"==typeof t?(r=function(r){return null==t?void 0:t(r,e.ctx)}).displayName=t.name:r=t,r};function SW(e,t,r){return t=K(t),Y(e,kW()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kW=function(){return!!e})()}var jW=function(e){function t(){return W(this,t),SW(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.setOperator,l=e.selectedFieldId,s=e.showOperator,u=e.showOperatorLabel,c=e.selectedFieldWidgetConfig,d=e.readonly,p=e.id,f=e.groupId;return[s&&F.createElement(yW,{key:"operators-for-"+l,className:"rule--operator"},t.settings.showLabels&&F.createElement("label",{className:"rule--label"},t.settings.operatorLabel),F.createElement(vW,{key:"operator",config:t,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,selectedFieldId:l,selectedOperator:i,setOperator:a,customProps:t.settings.customOperatorSelectProps,readonly:d,id:p,groupId:f})),u&&F.createElement(yW,{key:"operators-for-"+l,className:"rule--operator"},F.createElement("div",{className:"rule--operator-wrapper"},t.settings.showLabels?F.createElement("label",{className:"rule--label"}," "):null,F.createElement("div",{className:"rule--operator-text-wrapper"},F.createElement("span",{className:"rule--operator-text"},c.operatorInlineLabel))))]}}])}(v.PureComponent);function EW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CW(e,t,r){return t=K(t),Y(e,TW()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TW=function(){return!!e})()}var qW=d$.RuleUtils.getFieldPathLabels,IW=d$.ConfigUtils,AW=IW.getFieldConfig,LW=IW.getFieldParts,PW=IW.getFieldPathParts,NW=function(e){function t(e){var r;return W(this,t),(r=CW(this,t,[e])).setField=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.props.id;if(!n.widgetId){var i=[o,"L",-1].join(":");n.widgetId=i}r.props.setField(e,t,n)},L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.config,o=e.parentField,i=t,a=n.settings,l=a.maxLabelsLength,s=a.fieldSeparatorDisplay,u=a.fieldPlaceholder;a.fieldSeparator;var c=!!t,d=c?null:S$(u,l),p=c?AW(n,i):null,f=p||{},h=PW(i,n),g=PW(i,n,!0),v=this.getFieldLabel(p,i,n),m=qW(i,n),y=m?m.join(s):null;(y==v||o)&&(y=null);var b=f.label2||f.tooltip,x=LW(o,n),w=o?AW(n,o):null,O=o?w&&w.subfields:n.fields,S=!c&&r,k=this.buildOptions(x,n,O,S,x),j=S?"Please select field":null;return i&&"object"===_(i)&&(i=void 0),{placeholder:d,items:k,parentField:o,selectedKey:i,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedAltLabel:b,selectedFullLabel:y,errorText:j}}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=LW(t,r),i=(null==e?void 0:e.label)||gA(o);return i=S$(i,n)}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r)return null;var l=t.settings,s=l.fieldSeparator,u=l.fieldSeparatorDisplay,c=null!=i&&i.length?i.join(s)+s:"",d=function e(t){return Object.keys(t||{}).reduce((function(r,n){var i=t[n];return"!struct"===i.type?r+e(i.subfields):r+(i.type===o?1:0)}),0)};return Js(r).map((function(l){var s=[].concat(Ek(null!=i?i:[]),[l]),p=r[l],f=n.getFieldLabel(p,s,t),h=qW(s,t).join(u);(h==f||null!=e&&e.length)&&(h=null);var g=p.label2,v=p.tooltip,m=p.disabled;if(!p.hideForSelect){if("!struct"==p.type){var y=n.buildOptions(e,t,p.subfields,o,s,{label:f,tooltip:v}),b=d(p.subfields)>0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,items:y,matchesType:b}}var _=void 0!==o?p.type===o:void 0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,grouplabel:null==a?void 0:a.label,group:a,matchesType:_}}})).filter((function(e){return!!e}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setFieldSrc,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:this.setField,setFieldSrc:n},this.meta);return l(s,t.ctx)}}])}(v.Component);function FW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RW(e,t,r){return t=K(t),Y(e,MW()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MW=function(){return!!e})()}NW.propTypes={id:_t.string,groupId:_t.string,config:_t.object.isRequired,selectedField:_t.any,selectedFieldSrc:_t.string,selectedFieldType:_t.string,parentField:_t.string,customProps:_t.object,readonly:_t.bool,setField:_t.func.isRequired,setFieldSrc:_t.func};var DW=d$.clone,VW=d$.ConfigUtils,zW=VW.getFieldConfig,BW=VW.getFuncConfig,HW=VW.getFieldParts,UW=VW.getFieldPathParts,$W=d$.RuleUtils,WW=$W.getFuncPathLabels,KW=$W.getWidgetForFieldOp,YW=d$.OtherUtils.shallowEqual,GW=function(e){function t(e){var r;return W(this,t),r=RW(this,t,[e]),L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"].map((function(r){return"parentFuncs"===r?!YW(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0;(!this.meta||["config","field","fieldType","fieldSrc","value","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r&&(this.items=this.getItems(e,this.meta))}},{key:"getItems",value:function(e,t){var r=e.config,n=e.field,o=e.fieldType,i=e.isLHS,a=e.operator,l=e.parentFuncs,s=e.fieldDefinition,u=e.isFuncArg,c=t.lookingForFieldType,d=r.settings.canUseFuncForField,p=this.filterFuncs(r,r.funcs,n,o,i,a,d,l,u,s);return this.buildOptions(r,p,c)}},{key:"getMeta",value:function(e){var t=e.config;e._field;var r=e.fieldType,n=e.value,o=e.isLHS,i=e.isFuncArg,a=t.settings,l=a.funcPlaceholder,s=a.fieldSeparatorDisplay,u=n,c=!!n,d=c?null:l,p=c?BW(t,u):null,f=p||{},h=UW(u,t),g=UW(u,t,!0),v=this.getFuncLabel(p,u,t),m=WW(u,t),y=m?m.join(s):null;y==v&&(y=null);var b=o&&!i&&!c&&r;return{placeholder:d,selectedKey:u,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedFullLabel:y,errorText:b?"Please select function":null,lookingForFieldType:b}}},{key:"filterFuncs",value:function(e,t,r,n,o,i,a,l,s,u){t=DW(t);var c,d=e.settings.fieldSeparator,p=zW(e,r),f=p,h=KW(e,r,i,"value");return h&&e.widgets[h],s?(f=u,c=null==u?void 0:u.type):p?c=p.type:o||(c=n),function t(n,o){for(var s in n){var u=n[s].subfields,h=(o||[]).concat(s),g=h.join(d),v=BW(e,g);if("!struct"==v.type)0==t(u,h)&&delete n[s];else{var m,y=!c||v.returnType==c;null!==(m=f)&&void 0!==m&&m.funcs&&(y=y&&f.funcs.includes(g)),a&&(y=y&&a(r,p,g,v,i)),!v.allowSelfNesting&&l&&l.map((function(e){var t=bt(e,2),r=t[0];return t[1],r})).includes(g)&&(y=!1),y||delete n[s]}}return Js(n).length}(t,[]),t}},{key:"buildOptions",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;var a=e.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"",c=function e(t){return Object.keys(t||{}).reduce((function(r,o){var i=t[o];return"!struct"===i.type?r+e(i.subfields):r+(i.type===n?1:0)}),0)};return Js(t).map((function(a){var l=[].concat(Ek(null!=o?o:[]),[a]),d=t[a],p=r.getFuncLabel(d,l,e),f=WW(l,e).join(s);f==p&&(f=null);var h=d.tooltip;if("!struct"==d.type){var g=r.buildOptions(e,d.subfields,n,l,{label:p,tooltip:h}),v=c(d.subfields)>0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,items:g,matchesType:v}}var m=void 0!==n?d.returnType===n:void 0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i,matchesType:m}}))}},{key:"getFuncLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=HW(t,r),i=(null==e?void 0:e.label)||gA(o);return i=S$(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderFunc,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({config:t,customProps:r,readonly:o,setField:n,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);GW.propTypes={id:_t.string,groupId:_t.string,config:_t.object.isRequired,field:_t.any,fieldType:_t.string,fieldSrc:_t.string,operator:_t.string,customProps:_t.object,value:_t.string,setValue:_t.func.isRequired,readonly:_t.bool,parentFuncs:_t.array,fieldDefinition:_t.object,isFuncArg:_t.bool,isLHS:_t.bool};var JW=Math.ceil,QW=Math.max;var XW=function(e,t,r,n){for(var o=-1,i=QW(JW((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a},ZW=/\s/;var eK=function(e){for(var t=e.length;t--&&ZW.test(e.charAt(t)););return t},tK=eK,rK=/^\s+/;var nK=function(e){return e?e.slice(0,tK(e)+1).replace(rK,""):e},oK=la,iK=Iq,aK=/^[-+]0x[0-9a-f]+$/i,lK=/^0b[01]+$/i,sK=/^0o[0-7]+$/i,uK=parseInt;var cK=function(e){if("number"==typeof e)return e;if(iK(e))return NaN;if(oK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=nK(e);var r=lK.test(e);return r||sK.test(e)?uK(e.slice(2),r?2:8):aK.test(e)?NaN:+e},dK=cK,pK=1/0;var fK=function(e){return e?(e=dK(e))===pK||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},hK=XW,gK=RV,vK=fK;var mK=function(e){return function(t,r,n){return n&&"number"!=typeof n&&gK(t,r,n)&&(r=n=void 0),t=vK(t),void 0===r?(r=t,t=0):r=vK(r),n=void 0===n?t<r?1:-1:vK(n),hK(t,r,n,e)}}();const yK=g(mK);var bK=["widgetFactory"],_K=["factory"];function xK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xK(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var OK=d$.ListUtils.getTitleInListValues,SK=d$.ConfigUtils._widgetDefKeysToOmit,kK=d$.TreeUtils,jK=kK._fixImmutableValue,EK=kK.isImmutable,CK=v.memo((function(e){var t=e.widgetFactory,r=an(e,bK),n=r.config,o=r.isFuncArg,i=r.fieldDefinition||{},a=i.fieldSettings,l=i.defaultValue,s=i.valueSources,u=o&&1==(null==s?void 0:s.length)&&"const"===(null==s?void 0:s[0]),c=(null==a?void 0:a.treeValues)||(null==a?void 0:a.listValues);return u&&l?"boolean"==typeof l?l?r.labelYes||"YES":r.labelNo||"NO":c?Array.isArray(l)?l.map((function(e){return OK(c,e)||e})).join(", "):OK(c,l)||l:""+l:t?t(r,n.ctx):"?"}));CK.displayName="WidgetFactoryMemo";var TK=function(e){var t=e.delta,r=e.isFuncArg,n=e.valueSrc,o=e.value,i=e.valueError,a=e.fieldError,l=e.asyncListValues,s=e.isSpecialRange,u=e.fieldDefinition,c=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,f=e.valueLabels,h=e.textSeparators,g=e.setValue,m=e.setFuncValue,y=e.config,b=e.field,_=e.fieldSrc,x=e.fieldPath,O=e.fieldType,S=e.isLHS,k=e.operator,j=e.readonly,E=e.parentField,C=e.parentFuncs,T=e.id,q=e.groupId,I=e.widgetId,A=d.factory,L=an(d,_K),P=o?o.map((function(e){return jK(e)})):void 0,N=v.useMemo((function(){if(s){var e=[null==P?void 0:P.get(0),null==P?void 0:P.get(1)];return void 0===e[0]&&void 0===e[1]&&(e=void 0),e}return null==P?void 0:P.get(t)}),[s,o]),R=v.useMemo((function(){return i?s?[i.get(0),i.get(1),i.get(2)]:null==i?void 0:i.get(t):null}),[s,o]),M=S?a:R,D=(u||{}).fieldSettings,V=p.label,z=p.placeholder,B=f?f.placeholder:null,H=EK(b)?null:b,U=NP(wK(wK(wK({},L),D),{},{config:y,field:H,fieldPath:x,fieldSrc:_,fieldType:O,isLHS:S,parentField:E,parentFuncs:C,fieldDefinition:u,operator:k,delta:t,isSpecialRange:s,isFuncArg:r,value:N,valueSrc:n,valueError:R,fieldError:a,errorMessage:M,label:V,placeholder:z,placeholders:B,textSeparators:h,setValue:g,setFuncValue:m,readonly:j,asyncListValues:l,id:T,groupId:q,widgetId:I,widgetFactory:A,widget:c}),[].concat(Ek(SK),["toJS"]));return F.createElement(CK,w({widgetFactory:A},U))};function qK(e,t,r){return t=K(t),Y(e,IK()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(IK=function(){return!!e})()}TK.displayName="WidgetFactory";var AK=d$.ConfigUtils,LK=AK.getFieldConfig,PK=AK.getOperatorConfig,NK=AK.getFieldWidgetConfig,FK=d$.RuleUtils,RK=FK.getValueSourcesForFieldOp,MK=FK.getWidgetForFieldOp,DK=FK.getValueLabel,VK=d$.DefaultUtils.createListWithOneElement,zK=d$.OtherUtils.shallowEqual;d$.TreeUtils.isImmutable;var BK={cardinality:1},HK=function(e){function t(e){var r;return W(this,t),(r=qK(this,t,[e]))._setValue=function(e,t,n,o,i,a){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(l.widgetId||(l.widgetId=o),e&&Array.isArray(i)){var s=[r.props.value.get(0),r.props.value.get(1)];s[0]!=i[0]&&r.props.setValue(0,i[0],n,a,l),s[1]!=i[1]&&r.props.setValue(1,i[1],n,a,l)}else r.props.setValue(t,i,n,a,l)},r._setValueSrc=function(e,t,n){var o={widgetId:t};r.props.setValueSrc(e,n,o)},r.renderWidget=function(e,t,r){var n=r.config,o=r.isFuncArg,i=r.leftField,a=r.operator,l=r.value,s=r.valueError,u=r.fieldError,c=r.readonly,d=r.parentField,p=r.parentFuncs,f=r.id,h=r.groupId,g=r.fieldSrc,v=r.fieldType,m=r.isLHS,y=r.setFuncValue,b=n.settings,_=t.widgets,x=t.iValues,O=t.aField,S=t.valueSources,k=o?x:l,j=o?i:O,E=_[e],C=E.valueSrc,T=E.valueLabel,q=E.widgetId,I=S.length>1&&!c,A=b.showLabels?F.createElement("label",{key:"label-"+q,className:"rule--label"},T.label):null;return F.createElement("div",{key:"wrapper-"+q,className:Br("func"===C?"widget--func":"widget--widget",I?"widget--has-valuerscs":"widget--has-no-valuerscs")},"func"===C?null:A,F.createElement(TK,w({key:q,id:f,groupId:h,widgetId:q,valueSrc:C,delta:e,value:k,valueError:s,fieldError:u,isFuncArg:o,isLHS:m},fA(t,["isSpecialRange","fieldDefinition","asyncListValues"]),fA(_[e],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:y,config:n,field:j,fieldSrc:g,fieldType:v,parentField:d,parentFuncs:p,operator:a,readonly:c})))},r.renderValueSources=function(e,t,n){var o=n.config,i=n.isFuncArg,a=n.leftField,l=n.operator,s=n.readonly,u=o.settings,c=t.valueSources,d=t.widgets,p=t.aField,f=t.valueSourcesOptions,h=i?a:p,g=d[e],v=g.valueSrc,m=g.setValueSrc,y=r.ValueSources,b=u.showLabels?F.createElement("label",{className:"rule--label"}," "):null;return c.length>1&&!s&&F.createElement("div",{key:"wrapper-valuesrc-"+e,className:"widget--valuesrc"},b,F.createElement(y,{key:"valuesrc-"+e,delta:e,valueSources:f,valueSrc:v,config:o,field:h,operator:l,setValueSrc:m,readonly:s,title:u.valueSourcesPopupTitle}))},r.renderSep=function(e,t,r){var n=r.config,o=t.widgets,i=n.settings,a=o[e].sepText,l=i.showLabels?F.createElement("label",{className:"rule--label"}," "):null;return a&&F.createElement("div",{key:"widget-separators-"+e,className:Br("widget--sep",0==e&&"widget--sep-first")},l,F.createElement("span",null,a))},r.renderWidgetDelta=function(e){return[r.renderSep(e,r.meta,r.props),r.renderValueSources(e,r.meta,r.props),r.renderWidget(e,r.meta,r.props)]},L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config),n=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"].filter((function(r){return"parentFuncs"===r?!zK(e[r],t[r],!0):"field"===r?e.fieldId!==t.fieldId:e[r]!==t[r]}));if((!this.meta||n.length>0)&&(this.meta=this.getMeta(e,n)),r){var o=e.config,i=o.settings.renderValueSources;this.ValueSources=OW(o,i)}}},{key:"getMeta",value:function(e){var t,r,n,o,i=this,a=e.config,l=e.field;e.fieldSrc;var s=e.fieldType,u=e.fieldFunc,c=e.fieldArg,d=e.operator,p=e.valueSrc,f=e.value,h=e.isForRuleGroup,g=e.isCaseValue,v=e.isFuncArg;e.leftField;var m=e.asyncListValues,y=e.parentFuncs,b=e.isLHS,_=e.id,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=a.settings.valueSourcesInfo,O=v?{func:u,arg:c}:l,S=!l&&s,k=p,j=f;(v||h||g)&&(k=VK(p),j=VK(f));var E=LK(a,O);!E&&S&&(E=a.types[s]);var C,T=MK(a,O,d);!T&&S&&(T=null===(C=a.types[s])||void 0===C?void 0:C.mainWidget);var q=v?BK:PK(a,d,O);if((null==E||null==q)&&!g)return null;var I,A,L=null==q?void 0:q.isSpecialRange,P=L&&("field"===(null===(t=k)||void 0===t?void 0:t.get(0))||"field"===(null===(r=k)||void 0===r?void 0:r.get(1))),N=L&&!P,F=N?1:null!==(A=null==(I=q)?void 0:I.cardinality)&&void 0!==A?A:1;if(0===F)return null;var R=null===(n=this.meta)||void 0===n?void 0:n.valueSources,M=null===(o=this.meta)||void 0===o?void 0:o.valueSourcesOptions;R&&!["field","operator","config","fieldDefinition","isForRuleGroup"].filter((function(e){return x.includes(e)})).length||(R=RK(a,O,d,E),h&&(R=["value"]),O||(R=Object.keys(w)),M=R.map((function(e){return[e,{label:w[e].label}]})));var D=yK(0,F).map((function(e){var t,r,n,o,l=null===(t=i.meta)||void 0===t||null===(t=t.widgets)||void 0===t?void 0:t[e],s=(null===(r=k)||void 0===r?void 0:r.get(e))||null,u=MK(a,O,d,s),c=NK(a,O,d,u,s);P&&(u=c.singleWidget,c=NK(a,O,d,u,s)),!c&&S&&(u=["func","field"].includes(s)?s:T,c=a.widgets[u]);var p=null===(n=c)||void 0===n?void 0:n.type,f=DK(a,O,d,e,s,N),h=DK(a,O,d,e,null,N),g=null!=q&&q.textSeparators?null==q?void 0:q.textSeparators[e]:null,v=null,m=null;L&&(v={placeholder:[(v=[DK(a,O,d,0),DK(a,O,d,1)])[0].placeholder,v[1].placeholder],label:[v[0].label,v[1].label]},m=null==q?void 0:q.textSeparators);var x=wW({id:_,isLHS:b,delta:e,parentFuncs:y}),w=x+":VS",j=null==l?void 0:l.setValueSrc;j&&(null==l?void 0:l.widgetId)===x||(j=i._setValueSrc.bind(i,e,w));var E=null==l?void 0:l.setValue;return E&&(null==l?void 0:l.widgetId)===x&&(null==l?void 0:l.widgetType)===p&&(null===(o=i.meta)||void 0===o?void 0:o.isSpecialRange)===L||(E=i._setValue.bind(i,L,e,p,x)),{valueSrc:s,valueLabel:f,widget:u,sepText:g,widgetDefinition:c,widgetValueLabel:h,valueLabels:v,textSeparators:m,setValueSrc:j,setValue:E,widgetId:x,widgetType:p}}));return{defaultWidget:T,fieldDefinition:E,operatorDefinition:q,isSpecialRange:N,cardinality:F,valueSources:R,valueSourcesOptions:M,widgets:D,iValues:j,aField:O,asyncListValues:m}}},{key:"render",value:function(){if(!this.meta)return null;var e=this.meta,t=e.defaultWidget,r=e.cardinality;if(!t)return null;var n=t;return F.createElement(yW,{className:"rule--widget rule--widget--".concat(n.toUpperCase()),key:"widget-col-"+n},yK(0,r).map(this.renderWidgetDelta))}}])}(v.Component);function UK(e,t,r){return t=K(t),Y(e,$K()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function $K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($K=function(){return!!e})()}HK.propTypes={config:_t.object.isRequired,value:_t.any,valueSrc:_t.any,valueError:_t.any,fieldError:_t.string,field:_t.any,fieldSrc:_t.string,fieldType:_t.string,fieldId:_t.string,operator:_t.string,readonly:_t.bool,asyncListValues:_t.array,id:_t.string,groupId:_t.string,setValue:_t.func,setValueSrc:_t.func,setFuncValue:_t.func,isFuncArg:_t.bool,fieldFunc:_t.string,fieldArg:_t.string,leftField:_t.any,isForRuleGroup:_t.bool,parentField:_t.string,parentFuncs:_t.array,isLHS:_t.bool,isCaseValue:_t.bool};var WK=d$.ConfigUtils.getFuncConfig,KK=d$.OtherUtils.shallowEqual,YK=function(e){function t(e){var r;return W(this,t),(r=UK(this,t,[e])).setFunc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.props,o=n.isLHS,i=n.delta,a=n.parentFuncs,l=n.id;if(!t.widgetId){var s=wW({id:l,isLHS:o,delta:i,parentFuncs:a});t.widgetId=s}r.props.setFuncValue(o?-1:i||0,a,null,e,"!func",void 0,t)},r.setArgValue=function(e,t,n,o,i){var a=r.props;a.config;var l=a.delta,s=a.isLHS,u=a.parentFuncs;r.props.setFuncValue(s?-1:l||0,u,e,t,n,o,i)},r.setArgValueSrc=function(e,t,n){var o=r.props;o.config;var i=o.delta,a=o.isLHS,l=o.parentFuncs;r.props.setFuncValue(a?-1:i||0,l,e,t,"!valueSrc",void 0,n)},r.renderFuncSelect=function(){var e,t,n=r.props,o=n.config,i=n.field,a=n.fieldType,l=n.fieldSrc,s=n.isLHS,u=n.operator,c=n.customProps,d=n.value,p=n.readonly,f=n.parentFuncs,h=n.id,g=n.groupId,v=n.isFuncArg,m=n.fieldDefinition,y={value:null!==(e=null==d||null===(t=d.get)||void 0===t?void 0:t.call(d,"func"))&&void 0!==e?e:null,setValue:r.setFunc,config:o,field:i,fieldType:a,fieldSrc:l,isLHS:s,operator:u,customProps:c,readonly:p,parentFuncs:f,isFuncArg:v,fieldDefinition:m,id:h,groupId:g},b=o.settings,_=b.showLabels,x=b.funcLabel,w=_?F.createElement("label",{className:"rule--label"},x):null;return F.createElement(yW,{key:"func",className:"rule--func"},w,F.createElement(GW,y))},r.renderArgLabel=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=t.label,l=r.props.config,s=n&&1==n.length&&"const"==n[0];return!l.settings.showLabels&&("boolean"==o||s)&&i?F.createElement(yW,{className:"rule--func--arg-label"},a||e):null},r.renderArgLabelSep=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=r.props.config,l=n&&1==n.length&&"const"==n[0];return!a.settings.showLabels&&("boolean"==o||l)&&i?F.createElement(yW,{className:"rule--func--arg-label-sep"},":"):null},r.renderArgVal=function(e,t,n){var o=r.props,i=o.config,a=o.field,l=o.fieldType,s=o.fieldSrc,u=o.isLHS;o.operator;var c=o.value,d=o.readonly,p=o.parentFuncs,f=o.id,h=o.groupId,g=o.fieldError,v=o.valueError,m=o.setFuncValue,y=c?c.getIn(["args",t]):null,b=y?y.get("value"):void 0,_=1==n.valueSources.length?n.valueSources[0]:void 0,x={config:i,fieldFunc:e,fieldArg:t,leftField:a,fieldType:l,fieldSrc:s,fieldError:g,valueError:v,isLHS:u,operator:null,value:b,valueSrc:y?y.get("valueSrc")||_||"value":_,setValue:r.setArgValue,setValueSrc:r.setArgValueSrc,setFuncValue:m,funcKey:e,argKey:t,argDefinition:n,readonly:d,parentFuncs:p,id:f,groupId:h};return F.createElement(yW,{className:"rule--func--arg-value"},F.createElement(GK,x))},r.renderArgSep=function(e,t,r,n){var o=n.renderSeps;return r?F.createElement(yW,{className:"rule--func--arg-sep"},o?o[r-1]:", "):null},r.renderBracketBefore=function(e){var t=e.renderBrackets;return F.createElement(yW,{key:"before_args",className:"rule--func--bracket-before"},t?t[0]:"(")},r.renderBracketAfter=function(e){var t=e.renderBrackets;return F.createElement(yW,{key:"after_args",className:"rule--func--bracket-after"},t?t[1]:")")},r.renderFuncArgs=function(){var e=r.meta,t=e.funcDefinition,n=e.funcKey;if(!n)return null;var o=(t||{}).args;return o?F.createElement(F.Fragment,null,r.renderBracketBefore(t),F.createElement(yW,{key:"args-".concat(n),className:"rule--func--args rule--func--".concat(n,"--args")},Object.keys(o).map((function(e,i){return F.createElement(yW,{key:"arg-".concat(e,"-").concat(i),className:"rule--func--arg rule--func--".concat(n,"--arg--").concat(e)},r.renderArgSep(e,o[e],i,t),r.renderArgLabel(e,o[e]),r.renderArgLabelSep(e,o[e]),r.renderArgVal(n,e,o[e]))}))),r.renderBracketAfter(t)):null},L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","field","operator","value","fieldSrc","fieldType","isLHS"].map((function(r){return"parentFuncs"===r?!KK(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r,n=e.config;e.field,e.operator;var o=e.value,i=null!==(t=null==o||null===(r=o.get)||void 0===r?void 0:r.call(o,"func"))&&void 0!==t?t:null;return{funcDefinition:i?WK(n,i):null,funcKey:i}}},{key:"render",value:function(){var e=this.props.parentFuncs,t=e?e.map((function(e){var t=bt(e,2),r=t[0],n=t[1];return"".concat(r,"_").concat(n)})).join("-"):"root",r=(null==e?void 0:e.length)||0;return F.createElement(yW,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(t," rule--func--wrapper--lev-").concat(r)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(v.Component);YK.propTypes={id:_t.string,groupId:_t.string,config:_t.object.isRequired,field:_t.any,fieldSrc:_t.string,fieldType:_t.string,fieldError:_t.string,operator:_t.string,customProps:_t.object,value:_t.object,setValue:_t.func.isRequired,setFuncValue:_t.func,readonly:_t.bool,parentFuncs:_t.array,fieldDefinition:_t.object,isFuncArg:_t.bool,isLHS:_t.bool,valueError:_t.string};var GK=function(e){function t(e){var r;return W(this,t),(r=UK(this,t,[e])).setValue=function(e,t,n,o,i){var a=r.props;(0,a.setValue)(a.argKey,t,n,o,i)},r.setValueSrc=function(e,t,n){var o=r.props;(0,o.setValueSrc)(o.argKey,t,n)},L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["parentFuncs","funcKey","argKey"].map((function(r){return"parentFuncs"===r?!KK(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.parentFuncs,r=e.funcKey,n=e.argKey;return{parentFuncs:[].concat(Ek(t||[]),[[r,n]])}}},{key:"render",value:function(){var e=this.meta.parentFuncs;return F.createElement(HK,w({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:e}))}}])}(v.Component);function JK(e,t,r){return t=K(t),Y(e,QK()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QK=function(){return!!e})()}GK.propTypes={funcKey:_t.string.isRequired,argKey:_t.string.isRequired,setValue:_t.func.isRequired,setValueSrc:_t.func.isRequired,readonly:_t.bool,isLHS:_t.bool,parentFuncs:_t.array,id:_t.string,groupId:_t.string};var XK=function(e){function t(e){var r;return W(this,t),(r=JK(this,t,[e])).renderField=function(){var e=r.props,t=e.config,n=e.classname,o=e.selectedField,i=e.selectedFieldSrc,a=e.selectedFieldType,l=e.setField,s=e.setFuncValue,u=e.parentField,c=e.readonly,d=e.id,p=e.groupId,f=e.fieldError,h=e.valueError;if(!["func","field"].includes(i))return"?";var g="func"===i?F.createElement(YK,{isLHS:!0,config:t,value:o,fieldSrc:i,fieldType:a,fieldError:f,valueError:h,parentField:u,setValue:l,setFuncValue:s,readonly:c,id:d,groupId:p,key:"field-func-"+d}):F.createElement(NW,{config:t,selectedField:o,selectedFieldSrc:i,selectedFieldType:a,parentField:u,setField:l,customProps:t.settings.customFieldSelectProps,readonly:c,id:d,groupId:p,key:"field-"+d}),v="func"===i?t.settings.funcLabel:t.settings.fieldLabel,m=t.settings.showLabels&&"func"!==i&&F.createElement("label",{className:"rule--label"},v);return F.createElement("div",{key:i,className:n},m,g)},r.renderFieldSources=function(){if(!r.meta)return null;var e=r.props,t=e.config,n=e.readonly,o=e.selectedFieldSrc,i=e.setFieldSrc,a=e.id,l=r.meta.fieldSourcesOptions,s=t.settings,u=r.ValueSources,c=s.showLabels?F.createElement("label",{className:"rule--label"}," "):null;return l.length>1&&!n&&F.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},c,F.createElement(u,{key:"fieldsrc-"+a,valueSources:l,valueSrc:o,config:t,setValueSrc:i,readonly:n,title:s.fieldSourcesPopupTitle}))},L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config);if((!this.meta||["config"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r){var n=e.config,o=n.settings.renderValueSources;this.ValueSources=function(e){return o(e,n.ctx)}}}},{key:"getMeta",value:function(e){var t=e.config.settings,r=t.valueSourcesInfo;return{fieldSourcesOptions:t.fieldSources.map((function(e){return[e,{label:r[e].label}]}))}}},{key:"render",value:function(){var e=this.props;e.classname;var t=e.canSelectFieldSource,r=t&&this.renderFieldSources(),n=this.renderField();return t?F.createElement(yW,{className:"rule--field-wrapper"},r,n):n}}])}(v.Component),ZK=["factory"];function eY(e,t,r){return t=K(t),Y(e,tY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function tY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tY=function(){return!!e})()}var rY=d$.ConfigUtils.getOperatorConfig,nY=function(e){function t(){return W(this,t),eY(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var e=rY(this.props.config,this.props.selectedOperator,this.props.selectedField);if(void 0===e.options)return null;var t=e.options,r=t.factory,n=an(t,ZK),o=r(Object.assign({},n,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),this.props.config.ctx),i=this.props.selectedOperator;return F.createElement("div",{className:"rule--operator rule--operator--".concat(i.toUpperCase())},o)}}])}(v.PureComponent);function oY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aY(e,t,r){return t=K(t),Y(e,lY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function lY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lY=function(){return!!e})()}nY.propTypes={config:_t.object.isRequired,operatorOptions:_t.any.isRequired,selectedField:_t.any,selectedFieldSrc:_t.string,selectedOperator:_t.string.isRequired,readonly:_t.bool,setOperatorOption:_t.func.isRequired};var sY=d$.ConfigUtils,uY=sY.getFieldConfig,cY=sY.getOperatorConfig,dY=sY.getFieldWidgetConfig,pY=sY.getFieldId,fY=d$.RuleUtils.isEmptyRuleProperties,hY=function(e){function t(e){var r;return W(this,t),r=aY(this,t,[e]),L$(r),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props,n=!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if((!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"].map((function(t){return e[t]!==r[t]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),n){var o=e.config,i=o.settings,a=i.renderIcon,l=i.renderButton,s=i.renderButtonGroup,u=i.renderSwitch,c=i.renderBeforeWidget,d=i.renderAfterWidget,p=i.renderRuleError;this.Icon=OW(o,a),this.Btn=OW(o,l),this.BtnGrp=OW(o,s),this.Switch=OW(o,u),this.BeforeWidget=OW(o,c),this.AfterWidget=OW(o,d),this.RuleError=OW(o,p)}this.doRemove=function(){t.props.removeSelf()}}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.selectedOperator,o=e.config,i=e.reordableNodesCnt,a=e.isLocked,l=o.settings.keepInputOnChangeFieldSrc,s=pY(t,o),u=uY(o,t),c=u&&"!struct"===u.type,d=!!t||l&&r,p=d&&n,f=cY(o,n,t),h=f&&null!=f.options,g=dY(o,t,n,null,null)||{},v=g.hideOperator;return{selectedFieldId:s,selectedFieldWidgetConfig:g,showDragIcon:o.settings.canReorder&&i>1&&!a,showOperator:d&&!v,showOperatorLabel:d&&v&&g.operatorInlineLabel,showWidget:p&&!c,showOperatorOptions:p&&h}}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeRuleConfirmOptions;i&&!this.isEmptyCurrentRule()?o.call(r.ctx,iY(iY({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(e,t){var r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.operatorOptions,l=e.value,s=e.valueType,u=e.valueSrc,c=e.asyncListValues,d=e.valueError,p=e.fieldError,f=e.parentField;return{field:r,fieldSrc:n,fieldType:o,fieldId:t.selectedFieldId,operator:i,operatorOptions:a,value:l,valueType:s,valueSrc:u,asyncListValues:c,valueError:d,fieldError:p,parentField:f}}},{key:"isEmptyCurrentRule",value:function(){var e=this.props.config,t=this._buildWidgetProps(this.props,this.meta);return fY(t,e)}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.parentField,o=e.groupId,i=e.id,a=e.selectedFieldSrc,l=e.selectedField,s=e.selectedFieldType,u=e.setField,c=e.setFuncValue,d=e.setFieldSrc,p=e.fieldError,f=t.settings.immutableFieldsMode,h=this.meta.selectedFieldId;return F.createElement(XK,{key:"field",classname:Br("func"==a?"rule--field--func":"rule--field"),config:t,canSelectFieldSource:!n,selectedField:l,selectedFieldSrc:a,selectedFieldType:s,selectedFieldId:h,fieldError:p,setField:f?bW:u,setFuncValue:f?bW:c,setFieldSrc:f?bW:d,parentField:n,readonly:f||r,id:i,groupId:o})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta,o=n.selectedFieldId,i=n.selectedFieldWidgetConfig,a=n.showOperator,l=n.showOperatorLabel,s=t.settings.immutableOpsMode;return F.createElement(jW,{key:"operator",config:t,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:o,selectedOperator:this.props.selectedOperator,setOperator:s?bW:this.props.setOperator,showOperator:a,showOperatorLabel:l,selectedFieldWidgetConfig:i,readonly:s||r,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta.showWidget,o=t.settings.immutableValuesMode;if(!n)return null;var i=F.createElement(HK,w({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:t,setValue:o?bW:this.props.setValue,setValueSrc:o?bW:this.props.setValueSrc,setFuncValue:o?bW:this.props.setFuncValue,readonly:o||r,id:this.props.id,groupId:this.props.groupId}));return F.createElement(yW,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},i)}},{key:"renderOperatorOptions",value:function(){var e=this.props.config,t=this.meta.showOperatorOptions,r=e.settings,n=r.immutableOpsMode,o=r.immutableValuesMode;if(!t)return null;var i=F.createElement(nY,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:n?bW:this.props.setOperatorOption,config:e,readonly:o});return F.createElement(yW,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},i)}},{key:"renderBeforeWidget",value:function(){var e=this.BeforeWidget;return e?F.createElement(yW,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},F.createElement(e,this.props)):null}},{key:"renderAfterWidget",value:function(){var e=this.AfterWidget;return e?F.createElement(yW,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},F.createElement(e,this.props)):null}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=e.fieldError,o=t.settings.showErrorMessage,i=this.RuleError,a=[n].concat(Ek((null==r?void 0:r.toArray())||[])).filter((function(e){return!!e})).shift()||null;return o&&a&&F.createElement("div",{className:"rule--error"},i?F.createElement(i,{error:a}):a)}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.meta.showDragIcon,r=this.Icon,n=F.createElement(r,{type:"drag"});return t&&F.createElement("div",{key:"rule-drag-icon",onMouseDown:e,className:"qb-drag-handler rule--drag-handler"},n)}},{key:"renderDel",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=t.settings,o=n.deleteLabel,i=n.immutableGroupsMode,a=n.canDeleteLocked,l=this.Icon,s=this.Btn;return!i&&(!r||r&&a)&&F.createElement(s,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:o,config:t,renderIcon:l})}},{key:"renderLock",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.isTrueLocked,o=e.id,i=t.settings,a=i.lockLabel,l=i.lockedLabel,s=i.showLock,u=this.Switch;return s&&!(r&&!n)&&F.createElement(u,{key:"rule-lock",type:"lock",id:o,value:r,setValue:this.setLock,label:a,checkedLabel:l,hideLabel:!0,config:t})}},{key:"render",value:function(){var e=this.meta,t=e.showOperatorOptions,r=e.selectedFieldWidgetConfig,n=this.props,o=n.valueSrc,i=n.value,a=n.config,l="value"==(null==o?void 0:o.first())&&!t&&1==i.size&&r.fullWidth,s=this.BtnGrp,u=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],c=F.createElement("div",{key:"rule-body",className:Br("rule--body",l&&"can--shrink--value")},u),d=this.renderError(),p=this.renderDrag(),f=this.renderLock(),h=this.renderDel();return F.createElement(F.Fragment,null,p,F.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},c,d),F.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},F.createElement(s,{key:"rule-header-group",config:a},f,h)))}}])}(v.Component);hY.propTypes={id:_t.string.isRequired,groupId:_t.string,selectedField:_t.any,selectedFieldSrc:_t.string,selectedFieldType:_t.string,selectedOperator:_t.string,operatorOptions:_t.object,config:_t.object.isRequired,value:_t.any,valueSrc:_t.any,valueType:_t.any,asyncListValues:_t.array,isDraggingMe:_t.bool,isDraggingTempo:_t.bool,parentField:_t.string,valueError:_t.any,fieldError:_t.string,isLocked:_t.bool,isTrueLocked:_t.bool,handleDraggerMouseDown:_t.func,setField:_t.func,setFieldSrc:_t.func,setOperator:_t.func,setOperatorOption:_t.func,setLock:_t.func,removeSelf:_t.func,setValue:_t.func,setValueSrc:_t.func,setFuncValue:_t.func,reordableNodesCnt:_t.number,totalRulesCnt:_t.number,parentReordableNodesCnt:_t.number};const gY=function(e){var t=xt((function(e){return{dragging:e.dragging}}),null,null,{context:p$})(function(e){var t;return t=function(t){function r(e){var t;return W(this,r),(t=K$(this,r,[e])).dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeRule(t.props.path)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.setField=function(e,r,n){t.props.actions.setField(t.props.path,e,r,n)},t.setFieldSrc=function(e){t.props.actions.setFieldSrc(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setOperatorOption=function(e,r){t.props.actions.setOperatorOption(t.props.path,e,r)},t.setValue=function(e,r,n,o,i){t.props.actions.setValue(t.props.path,e,r,n,o,i)},t.setValueSrc=function(e,r,n){t.props.actions.setValueSrc(t.props.path,e,r,n)},t.setFuncValue=function(e,r,n,o,i,a,l){t.props.actions.setFuncValue(t.props.path,e,r,n,o,i,a,l)},t.pureShouldComponentUpdate=A$(t),t.dummyFn.isDummyFn=!0,t}return U(r,t),$(r,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,r=G$(this.props.config,this.props.field),n=this.props.fieldType||(null==r?void 0:r.type)||null,o=this.props.config.settings.showErrorMessage;r&&r.type;var i=!t&&this.props.isDraggingTempo,a=this.props,l=a.valueError,s=[a.fieldError].concat(Ek((null==l?void 0:l.toArray())||[])).filter((function(e){return!!e})).shift()||null,u=null!=s&&o;return F.createElement("div",{className:Br("group-or-rule-container","rule-container",u?"rule-with-error":null),"data-id":this.props.id},[t?F.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,F.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,setField:i?this.dummyFn:this.setField,setFieldSrc:i?this.dummyFn:this.setFieldSrc,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setOperatorOption:i?this.dummyFn:this.setOperatorOption,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),t.propTypes={id:_t.string.isRequired,groupId:_t.string,config:_t.object.isRequired,path:_t.any.isRequired,operator:_t.string,field:_t.any,fieldSrc:_t.string,fieldType:_t.string,actions:_t.object.isRequired,onDragStart:_t.func,value:_t.any,valueSrc:_t.any,asyncListValues:_t.array,valueError:_t.any,fieldError:_t.string,operatorOptions:_t.object,reordableNodesCnt:_t.number,parentField:_t.string,isLocked:_t.bool,isTrueLocked:_t.bool,dragging:_t.object,isDraggingTempo:_t.bool},t}(e));return t.displayName="ConnectedRuleContainer",t}(oW("rule")(xW(hY)));var vY=fK;var mY=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e},yY=Jq,bY=function(e){var t=vY(e),r=t%1;return t==t?r?t-r:t:0},_Y=Xq;const xY=g((function(e,t,r){return e=_Y(e),r=null==r?0:mY(bY(r),0,e.length),t=yY(t),e.slice(r,r+t.length)==t}));function wY(e,t,r){return t=K(t),Y(e,OY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function OY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OY=function(){return!!e})()}var SY=d$.DefaultUtils.defaultGroupConjunction;const kY=function(e,t){var r=xt((function(e){return{dragging:e.dragging}}),null,null,{context:p$})(function(e,t){var r;return r=function(r){function n(e){var r;return W(this,n),(r=wY(this,n,[e]))._selectedConjunction=function(e){return(e=e||r.props).conjunction||SY(e.config,e.field)},r.setConjunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setConjunction(r.props.path,e)},r.setNot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setNot(r.props.path,e)},r.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setLock(r.props.path,e)},r.dummyFn=function(){},r.removeSelf=function(){r.props.actions.removeGroup(r.props.path)},r.addGroup=function(){r.props.actions.addGroup(r.props.path)},r.addCaseGroup=function(){r.props.actions.addCaseGroup(r.props.path)},r.addDefaultCaseGroup=function(){r.props.actions.addDefaultCaseGroup(r.props.path)},r.addRule=function(){var e="rule_group"==t?r.props.field:null;r.props.actions.addRule(r.props.path,void 0,void 0,void 0,e)},r.setField=function(e,t,n){r.props.actions.setField(r.props.path,e,t,n)},r.setOperator=function(e){r.props.actions.setOperator(r.props.path,e)},r.setValue=function(e,t,n,o,i){r.props.actions.setValue(r.props.path,e,t,n,o,i)},r.setValueSrc=function(e,t,n){r.props.actions.setValueSrc(r.props.path,e,t,n)},r.setFuncValue=function(e,t,n,o,i,a,l){r.props.actions.setFuncValue(r.props.path,e,t,n,o,i,a,l)},r.pureShouldComponentUpdate=A$(r),L$(r),r.selectedConjunction=r._selectedConjunction(e),r.conjunctionOptions=r._getConjunctionOptions(e),r.dummyFn.isDummyFn=!0,r}return U(n,r),$(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"onPropsChanged",value:function(e){var t=e.config;e.id;var r=e.conjunction,n=this.props.config,o=this.props.conjunction;n==t&&o==r||(this.selectedConjunction=this._selectedConjunction(e),this.conjunctionOptions=this._getConjunctionOptions(e))}},{key:"_getConjunctionOptions",value:function(e){var t=this;return $U(e.config.conjunctions,(function(r,n){return{id:"conjunction-".concat(e.id,"-").concat(n),name:"conjunction[".concat(e.id,"]"),key:n,label:r.label,checked:n===t._selectedConjunction(e)}}))}},{key:"render",value:function(){var t=this.props.config.settings.showErrorMessage,r=this.props.dragging.id==this.props.id,n=this.props.path.size,o=this.props.config.settings.maxNesting,i=!r&&this.props.isDraggingTempo,a=this.props.fieldType||null,l=this.props.valueError,s=Ek((null==l?void 0:l.toArray())||[]).filter((function(e){return!!e})).shift()||null,u=null!=s&&t,c=void 0===o||n<o,d=1==n;return F.createElement("div",{className:Br("group-or-rule-container","group-container",u?"group-with-error":null),"data-id":this.props.id},[r?F.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,F.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:r,isDraggingTempo:i,onDragStart:this.props.onDragStart,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:i?this.dummyFn:this.setConjunction,setNot:i?this.dummyFn:this.setNot,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,addGroup:i?this.dummyFn:this.addGroup,addCaseGroup:i?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:i?this.dummyFn:this.addDefaultCaseGroup,addRule:i?this.dummyFn:this.addRule,setField:i?this.dummyFn:this.setField,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),r.propTypes={config:_t.object.isRequired,actions:_t.object.isRequired,path:_t.any.isRequired,id:_t.string.isRequired,groupId:_t.string,not:_t.bool,conjunction:_t.string,children1:_t.any,onDragStart:_t.func,reordableNodesCnt:_t.number,field:_t.any,fieldSrc:_t.string,fieldType:_t.string,parentField:_t.string,value:_t.any,valueSrc:_t.any,valueError:_t.any,isLocked:_t.bool,isTrueLocked:_t.bool,dragging:_t.object,isDraggingTempo:_t.bool},r}(e,t));return r.displayName="ConnectedGroupContainer",r};function jY(e,t,r){return t=K(t),Y(e,EY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function EY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(EY=function(){return!!e})()}var CY={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},TY=function(e){function t(){return W(this,t),jY(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.removeSelf,i=e.setLock,a=e.isLocked,l=e.isTrueLocked,s=e.id,u=e.canAddGroup,c=e.canAddRule,d=e.canDeleteGroup,p=t.settings,f=p.immutableGroupsMode,h=p.addRuleLabel,g=p.addGroupLabel,v=p.delGroupLabel,m=p.groupActionsPosition,y=p.renderButton,b=p.renderIcon,_=p.renderSwitch,x=p.renderButtonGroup,w=p.lockLabel,O=p.lockedLabel,S=p.showLock,k=p.canDeleteLocked,j=function(e){return b(e,t.ctx)},E=function(e){return y(e,t.ctx)},C=function(e){return _(e,t.ctx)},T=function(e){return x(e,t.ctx)},q=CY[m||"topRight"],I=S&&!(a&&!l)&&F.createElement(C,{type:"lock",id:s,value:a,setValue:i,label:w,checkedLabel:O,config:t}),A=!f&&c&&!a&&F.createElement(E,{type:"addRule",onClick:r,label:h,readonly:a,config:t,renderIcon:j}),L=!f&&u&&!a&&F.createElement(E,{type:"addGroup",onClick:n,label:g,readonly:a,config:t,renderIcon:j}),P=!f&&d&&(!a||a&&k)&&F.createElement(E,{type:"delGroup",onClick:o,label:v,config:t,renderIcon:j});return F.createElement("div",{className:"group--actions ".concat(q)},F.createElement(T,{config:t},I,A,L,P))}}])}(v.PureComponent);function qY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AY(e,t,r){return t=K(t),Y(e,LY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function LY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LY=function(){return!!e})()}var PY=d$.RuleUtils.isEmptyGroupChildren,NY=function(e){function t(e){var r;return W(this,t),(r=AY(this,t,[e])).childrenClassName=function(){return""},r.renderBeforeActions=function(){var e=r.BeforeActions;return null==e?null:F.createElement(e,w({key:"group-actions-before"},r.props))},r.renderAfterActions=function(){var e=r.AfterActions;return null==e?null:F.createElement(e,w({key:"group-actions-after"},r.props))},L$(r),r.onPropsChanged(e),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.renderItem=r.renderItem.bind(r),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props;if(!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config)){var n=e.config,o=n.settings,i=o.renderIcon,a=o.renderConjs,l=o.renderBeforeActions,s=o.renderAfterActions;this.Icon=OW(n,i),this.Conjs=OW(n,a),this.BeforeActions=OW(n,l),this.AfterActions=OW(n,s)}this.doRemove=function(){t.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return xY(this.props.config.settings.groupActionsPosition||"topRight","top")}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeGroupConfirmOptions;i&&!this.isEmptyCurrentGroup()?o.call(r.ctx,IY(IY({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config;return PY(t,r)}},{key:"showNot",value:function(){return this.props.config.settings.showNot}},{key:"showConjs",value:function(){var e=this.props,t=e.conjunctionOptions;return e.children1,e.config,Object.keys(t).length>1||this.showNot()}},{key:"isNoChildren",value:function(){var e=this.props.children1;return!e||0==e.size}},{key:"isOneChild",value:function(){var e=this.props.children1;return!e||e.size<2}},{key:"renderChildrenWrapper",value:function(){return this.props.children1&&F.createElement("div",{key:"group-children",className:Br("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var e=this.isGroupTopPosition();return F.createElement("div",{key:"group-header",className:Br("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),e&&this.renderBeforeActions(),e&&this.renderActions(),e&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){return!this.isGroupTopPosition()&&F.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return F.createElement(TY,{key:"group-actions",config:t,addRule:r,addGroup:n,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var e=this.props.config.settings.maxNumberOfRules,t=this.props.totalRulesCnt;return!e||t<e}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var e=this.props.children1;return e?e.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(e){if(e){var t=this.props,r=t.config,n=t.actions,o=t.onDragStart,i=t.isLocked,a="group"==e.get("type")&&null!=e.getIn(["properties","field"])?"rule_group":e.get("type");return F.createElement(LG,w({},this.extraPropsForItem(e),{key:e.get("id"),id:e.get("id"),groupId:t.id,path:e.get("path"),type:a,properties:e.get("properties"),config:r,actions:n,children1:e.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(e),totalRulesCnt:this.totalRulesCntForItem(e),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:o,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:i}))}}},{key:"extraPropsForItem",value:function(e){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var e=this.props,t=e.config,r=e.isRoot,n=e.isLocked,o=this.reordableNodesCnt();return t.settings.canReorder&&!r&&o>1&&!n}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.Icon,r=F.createElement(t,{type:"drag"});return this.showDragIcon()&&F.createElement("div",{key:"group-drag-icon",onMouseDown:e,className:"qb-drag-handler group--drag-handler"},r)}},{key:"conjunctionOptions",value:function(){var e=this.props.conjunctionOptions;return e}},{key:"renderConjs",value:function(){var e=this.props,t=e.config,r=e.children1,n=e.id,o=e.selectedConjunction,i=e.setConjunction,a=e.not,l=e.setNot,s=e.isLocked,u=t.settings,c=u.immutableGroupsMode;u.renderConjs,u.showNot;var d=u.notLabel,p=this.conjunctionOptions();if(!this.showConjs())return null;if(!r||!r.size)return null;var f={disabled:this.isOneChild(),readonly:c||s,selectedConjunction:o,setConjunction:c?bW:i,conjunctionOptions:p,config:t,not:a||!1,id:n,setNot:c?bW:l,notLabel:d,showNot:this.showNot(),isLocked:s},h=this.Conjs;return F.createElement(h,w({key:"group-conjs"},f))}},{key:"renderHeader",value:function(){return F.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return F.createElement(F.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(v.Component);NY.propTypes={reordableNodesCnt:_t.number,conjunctionOptions:_t.object.isRequired,allowFurtherNesting:_t.bool.isRequired,isRoot:_t.bool.isRequired,not:_t.bool,selectedConjunction:_t.string,config:_t.object.isRequired,id:_t.string.isRequired,groupId:_t.string,path:_t.any,children1:_t.any,isDraggingMe:_t.bool,isDraggingTempo:_t.bool,isLocked:_t.bool,isTrueLocked:_t.bool,handleDraggerMouseDown:_t.func,onDragStart:_t.func,addRule:_t.func.isRequired,addGroup:_t.func.isRequired,removeSelf:_t.func.isRequired,setConjunction:_t.func.isRequired,setNot:_t.func.isRequired,setLock:_t.func.isRequired,actions:_t.object.isRequired};const FY=kY(oW("group")(xW(NY)),"group");function RY(){return RY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},RY.apply(null,arguments)}function MY(e,t,r){return t=K(t),Y(e,DY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function DY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DY=function(){return!!e})()}var VY=function(e){function t(){return W(this,t),MY(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&F.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,hideLabel:!0,config:t}),E=!d&&n&&!l&&F.createElement(O,{type:"addRuleGroup",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&F.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return F.createElement("div",{className:"group--actions"},F.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function zY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HY(e,t,r){return t=K(t),Y(e,UY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function UY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UY=function(){return!!e})()}var $Y=function(e){function t(e){var r;return W(this,t),(r=HY(this,t,[e])).childrenClassName=function(){return"rule_group--children"},r.renderHeaderWrapper=function(){return null},r.renderFooterWrapper=function(){return null},r.renderConjs=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!1},r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){RY(K(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"renderChildrenWrapper",value:function(){return F.createElement(F.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),RY(K(t.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFuncValue,l=e.setFieldSrc,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return F.createElement(XK,{key:"field",classname:"group--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:a,setFieldSrc:l,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return F.createElement(VY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(NY);$Y.propTypes=BY(BY({},NY.propTypes),{},{selectedField:_t.any,selectedFieldSrc:_t.string,parentField:_t.string,setField:_t.func,setFieldSrc:_t.func});const WY=kY(oW("group rule_group")(xW($Y)),"rule_group");function KY(e,t,r){return t=K(t),Y(e,YY()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function YY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YY=function(){return!!e})()}var GY=function(e){function t(){return W(this,t),KY(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addSubRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&F.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,config:t}),E=!d&&n&&!l&&F.createElement(O,{type:"addRuleGroupExt",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&F.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return F.createElement("div",{className:"group--actions group--actions--tr"},F.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function JY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function XY(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ZY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZY(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ZY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eG(e,t,r){return t=K(t),Y(e,tG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function tG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tG=function(){return!!e})()}var rG=d$.ConfigUtils,nG=rG.getFieldConfig,oG=rG.getFieldWidgetConfig,iG=d$.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,aG=function(e){function t(e){var r;return W(this,t),(r=eG(this,t,[e])).childrenClassName=function(){return"rule_group_ext--children"},r.renderFooterWrapper=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!0},r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){RY(K(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"renderHeaderWrapper",value:function(){return F.createElement("div",{key:"group-header",className:Br("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return F.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return F.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings,o=n.renderRuleError,i=n.showErrorMessage,a=Ek((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return i&&a&&F.createElement("div",{className:"rule_group--error"},o?o({error:a},t.ctx):a)}},{key:"showNot",value:function(){var e=this.props,t=e.config,r=e.selectedField;e.selectedOperator;var n=nG(t,r)||{};return null!=n.showNot?n.showNot:t.settings.showNot}},{key:"conjunctionOptions",value:function(){var e=this.props,r=e.config,n=e.selectedField;e.selectedOperator;var o=nG(r,n)||{},i=RY(K(t.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var a,l={},s=XY(o.conjunctions);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=i[u];c&&(l[u]=c)}}catch(d){s.e(d)}finally{s.f()}i=l}return i}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFieldSrc,l=e.setFuncValue,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return F.createElement(XK,{key:"field",classname:"rule--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:l,setFieldSrc:a,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedOperator;e.setField;var i=e.setOperator,a=e.isLocked,l=t.settings.immutableFieldsMode,s=oG(t,r,o)||{},u=s.hideOperator,c=r&&u&&s.operatorInlineLabel,d=r&&!u;return F.createElement(jW,{key:"operator",classname:"group--operator",config:t,selectedField:r,selectedFieldSrc:n,selectedOperator:o,setOperator:i,showOperator:d,showOperatorLabel:c,selectedFieldWidgetConfig:s,readonly:l||a,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config,n=this._buildWidgetProps(this.props);return iG(n,t,r)}},{key:"_buildWidgetProps",value:function(e){var t=e.selectedField,r=e.selectedFieldSrc,n=e.selectedFieldType,o=e.selectedOperator,i=e.operatorOptions,a=e.value,l=e.valueType;e.valueSrc,e.asyncListValues;var s=e.valueError;return e.fieldError,{field:t,fieldSrc:r,fieldType:n,operator:o,operatorOptions:i,value:a,valueType:l,valueSrc:["value"],valueError:s,fieldError:null,parentField:e.parentField}}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedOperator,o=e.isLocked,i=t.settings.immutableValuesMode;if(!(r&&n))return null;var a=F.createElement(HK,w({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:t,setValue:i?bW:this.props.setValue,setValueSrc:bW,readonly:i||o,id:this.props.id,groupId:this.props.groupId}));return F.createElement(yW,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},a)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return F.createElement(GY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(NY);aG.propTypes=QY(QY({},NY.propTypes),{},{selectedField:_t.any,selectedFieldSrc:_t.string,selectedOperator:_t.string,value:_t.any,parentField:_t.string,setField:_t.func,setFieldSrc:_t.func,setOperator:_t.func,setValue:_t.func,valueError:_t.any});const lG=kY(oW("group rule_group_ext")(xW(aG)),"rule_group");function sG(e,t,r){return t=K(t),Y(e,uG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uG=function(){return!!e})()}var cG={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},dG=function(e){function t(){return W(this,t),sG(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.setLock,i=e.isLocked,a=e.isTrueLocked,l=e.id,s=e.canAddGroup,u=e.canAddDefault,c=t.settings,d=c.immutableGroupsMode,p=c.addCaseLabel,f=c.addDefaultCaseLabel,h=c.groupActionsPosition,g=c.renderButton,v=c.renderIcon,m=c.renderSwitch,y=c.renderButtonGroup,b=c.lockLabel,_=c.lockedLabel,x=c.showLock,w=function(e){return v(e,t.ctx)},O=function(e){return g(e,t.ctx)},S=function(e){return m(e,t.ctx)},k=function(e){return y(e,t.ctx)},j=cG[h||"topRight"],E=x&&!(i&&!a)&&F.createElement(S,{type:"lock",id:l,value:i,setValue:o,label:b,checkedLabel:_,config:t}),C=!d&&s&&!i&&F.createElement(O,{type:"addCaseGroup",onClick:r,label:p,readonly:i,config:t,renderIcon:w}),T=!d&&u&&!i&&F.createElement(O,{type:"addDefaultCaseGroup",onClick:n,label:f,readonly:i,config:t,renderIcon:w});return F.createElement("div",{className:"group--actions ".concat(j)},F.createElement(k,{config:t},E,C,T))}}])}(v.PureComponent);function pG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fG(e,t,r){return t=K(t),Y(e,hG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hG=function(){return!!e})()}var gG=d$.TreeUtils,vG=gG.getTotalReordableNodesCountInTree,mG=gG.getTotalRulesCountInTree,yG=function(e){function t(e){var r;return W(this,t),(r=fG(this,t,[e])).childrenClassName=function(){return"switch_group--children"},r.renderFooterWrapper=function(){return null},r.hasDefaultCase=function(){var e;return(null===(e=r.props.children1)||void 0===e?void 0:e.size)&&r.props.children1.filter((function(e){return null==e.get("children1")})).size>0},r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){RY(K(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"canAddGroup",value:function(){var e,t=this.props.config.settings.maxNumberOfCases,r=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return!t||r<t}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var e,t=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return this.hasDefaultCase()&&t--,t}},{key:"totalRulesCntForItem",value:function(e){return mG(e)}},{key:"reordableNodesCntForItem",value:function(e){var t;if(this.props.isLocked)return 0;var r=this.props.config.settings,n=r.canLeaveEmptyCase,o=r.canRegroupCases,i=(null===(t=this.props.children1)||void 0===t?void 0:t.size)||0;this.hasDefaultCase()&&i--;var a=vG(e);return 1==a&&o&&n&&i>1&&(a=111),a}},{key:"renderHeaderWrapper",value:function(){return F.createElement("div",{key:"group-header",className:Br("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return F.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){return this.props.config.settings.renderSwitchPrefix||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return F.createElement(dG,{config:t,addCaseGroup:r,addDefaultCaseGroup:n,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}}])}(NY);yG.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},NY.propTypes);const bG=kY(oW("group switch_group")(xW(yG)),"switch_group");function _G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_G(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wG(e,t,r){return t=K(t),Y(e,OG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function OG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OG=function(){return!!e})()}var SG=function(e){function t(e){var r;return W(this,t),(r=wG(this,t,[e])).childrenClassName=function(){return"case_group--children"},r.renderFooterWrapper=function(){return null},r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var r=this.props,n=!this.renderBeforeCaseValue||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if(RY(K(t.prototype),"onPropsChanged",this).call(this,e),n){var o=e.config,i=o.settings,a=i.renderBeforeCaseValue,l=i.renderAfterCaseValue,s=i.renderRuleError;this.BeforeCaseValue=OW(o,a),this.AfterCaseValue=OW(o,l),this.RuleError=OW(o,s)}}},{key:"isDefaultCase",value:function(){return null==this.props.children1}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return!this.isDefaultCase()&&RY(K(t.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return F.createElement("div",{key:"group-header",className:Br("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:F.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){return this.isDefaultCase()?this.props.config.settings.defaultCaseLabel||"":F.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:RY(K(t.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?F.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return!this.isDefaultCase()&&RY(K(t.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return!this.isDefaultCase()&&RY(K(t.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var e=this.BeforeCaseValue;return null==e?null:F.createElement(e,w({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var e=this.AfterCaseValue;return null==e?null:F.createElement(e,w({key:"values-after"},this.props))}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings.showErrorMessage,o=this.RuleError,i=Ek((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return n&&i&&F.createElement("div",{className:"rule--error"},o?F.createElement(o,{error:i}):i)}},{key:"renderValue",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.value,o=e.valueSrc,i=e.valueError,a=e.setValue,l=e.setValueSrc,s=e.setFuncValue,u=e.id,c=t.settings.immutableValuesMode,d=F.createElement(HK,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:n,valueSrc:null!=o?o:"value",valueError:i,fieldError:null,config:t,setValue:c?bW:a,setValueSrc:c?bW:l,setFuncValue:c?bW:s,readonly:c||r,id:u,groupId:null});return F.createElement(yW,{className:"case_group--value"},d)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addGroup,n=e.addRule,o=e.isLocked,i=e.isTrueLocked,a=e.id;return F.createElement(TY,{config:t,addGroup:r,addRule:n,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props.value,r=e&&e.size?e.get(0):null,n=null!=r&&(!Array.isArray(r)||r.length>0);return RY(K(t.prototype),"isEmptyCurrentGroup",this).call(this)&&!n}}])}(NY);SG.propTypes=xG(xG({},NY.propTypes),{},{parentReordableNodesCnt:_t.number,value:_t.any,setValue:_t.func});const kG=kY(oW("group case_group")(xW(SG)),"case_group");var jG=["type"];function EG(e,t,r){return t=K(t),Y(e,CG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CG=function(){return!!e})()}function TG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var IG=function(e){var t,r=(null===(t=e.properties)||void 0===t?void 0:t.toObject())||{},n=qG({},r);return e.isParentLocked&&(n.isLocked=!0),r.isLocked&&(n.isTrueLocked=!0),n},AG={rule:function(e){return F.createElement(gY,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return F.createElement(FY,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return F.createElement(WY,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return F.createElement(lG,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return F.createElement(bG,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return F.createElement(kG,w({},IG(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},LG=function(e){function t(){return W(this,t),EG(this,t,arguments)}return U(t,e),$(t,[{key:"render",value:function(){var e,t=this.props,r=t.type,n=an(t,jG),o="array"==(null===(e=n.properties)||void 0===e?void 0:e.get("mode"))?"_ext":"",i=n.config.settings.renderItem,a=AG[r+o];return i?i(qG(qG({},n),{},{type:r,itemComponent:a}),n.config.ctx):a?a(n):null}}])}(v.PureComponent);function PG(e,t,r){return t=K(t),Y(e,NG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function NG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NG=function(){return!!e})()}LG.propTypes={config:_t.object.isRequired,id:_t.string.isRequired,groupId:_t.string,type:_t.oneOf(["rule","group","rule_group","switch_group","case_group"]).isRequired,path:_t.any.isRequired,properties:_t.any,children1:_t.any,actions:_t.object.isRequired,reordableNodesCnt:_t.number,onDragStart:_t.func,parentField:_t.string,isDraggingTempo:_t.bool,isParentLocked:_t.bool};var FG=d$.TreeUtils,RG=FG.getTotalReordableNodesCountInTree,MG=FG.getTotalRulesCountInTree,DG=d$.DefaultUtils,VG=DG.createListWithOneElement,zG=DG.emptyProperties,BG=function(e){function t(e){var r;return W(this,t),(r=PG(this,t,[e])).pureShouldComponentUpdate=A$(r),r._updPath(e),r}return U(t,e),$(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.pureShouldComponentUpdate(e,t)}},{key:"_updPath",value:function(e){var t=e.tree.get("id");this.path=VG(t)}},{key:"render",value:function(){var e=this.props,t=e.tree,r=e.config,n=e.actions,o=e.onDragStart,i=t.get("type"),a="switch_group"==i,l=a?null:RG(t),s=a?null:MG(t),u=t.get("id");return F.createElement(LG,{key:u,id:u,path:this.path,type:i,properties:t.get("properties")||zG(),config:r,actions:n,children1:t.get("children1")||zG(),reordableNodesCnt:l,totalRulesCnt:s,parentReordableNodesCnt:0,onDragStart:o})}}])}(v.Component);BG.propTypes={tree:_t.any.isRequired,config:_t.object.isRequired,actions:_t.object.isRequired,onDragStart:_t.func};const HG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=xt((function(e){return{dragging:e.dragging,dragStart:e.dragStart,mousePos:e.mousePos}}),{setDragStart:y$,setDragProgress:m$,setDragEnd:b$},null,{context:p$})(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=function(t){function n(e){var t;return W(this,n),(t=J$(this,n,[e]))._getEventTarget=function(e,t){return e&&e.__mocked_window||document.body||window},t.onDragStart=function(e,r,n){var o=r.closest(".query-builder");void 0===t._isUsingLegacyReactDomRender&&(t._isUsingLegacyReactDomRender=q$(o)),document.body.classList.add("qb-dragging"),o.classList.add("qb-dragging");var i=o.closest(".query-builder-container")||o,a=(i=t._getScrollParent(i)||document.body).scrollTop;t._getDraggableNodeEl(o),t._getPlaceholderNodeEl(o);var l,s=o.querySelectorAll(".group--children"),u=s.length?s[0]:null;u&&(l=window.getComputedStyle(u,null).getPropertyValue("padding-left"),l=parseInt(l));var c={id:e,x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight,itemInfo:t.tree.items[e],paddingLeft:l},d={id:e,x:r.offsetLeft,y:r.offsetTop,scrollTop:a,clientX:n.clientX,clientY:n.clientY,itemInfo:X$(t.tree.items[e]),treeEl:o,treeElContainer:i},p={clientX:n.clientX,clientY:n.clientY},f=t._getEventTarget(n,d);t.eventTarget=f,f.addEventListener("mousemove",t.onDrag),f.addEventListener("mouseup",t.onDragEnd),t.props.setDragStart(d,c,p)},t.onDrag=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Object.assign({},t.props.dragging),i=t.props.dragStart,a=o.paddingLeft,l=i.treeElContainer.scrollTop;if(o.itemInfo=t.tree.items[o.id],o.itemInfo){var s={clientX:e.clientX,clientY:e.clientY},u={clientX:i.clientX,clientY:i.clientY};if(e.__mock_dom){var c=i.treeEl,d=t._getDraggableNodeEl(c),p=t._getPlaceholderNodeEl(c);e.__mock_dom({treeEl:c,dragEl:d,plhEl:p})}if(!i.plX){var f=i.treeEl,h=t._getPlaceholderNodeEl(f);h&&(i.plX=h.getBoundingClientRect().left+window.scrollX,i.plY=h.getBoundingClientRect().top+window.scrollY)}var g=i.x,v=i.y,m=i.clientX,y=i.clientY,b=i.scrollTop,_={x:g+(e.clientX-m),y:v+(e.clientY-y)+(l-b)};o.x=_.x,o.y=_.y,o.paddingLeft=a,o.mousePos=s,o.startMousePos=u,t.props.setDragProgress(s,o),n&&t.handleDrag(o,e,r)||e.preventDefault&&e.preventDefault()}},t.onDragEnd=function(){var e=t.props.dragStart.treeEl;t.props.setDragEnd(),e.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),t._cacheEls={};var r=t.eventTarget||t._getEventTarget();r.removeEventListener("mousemove",t.onDrag),r.removeEventListener("mouseup",t.onDragEnd)},t.pureShouldComponentUpdate=A$(t),L$(t),t.onPropsChanged(e),t}return U(n,t),$(n,[{key:"onPropsChanged",value:function(e){this.tree=Z$(e.tree)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=[];for(var a in e)e[a]!=r[a]&&"dragging"!=a&&"mousePos"!=a&&i.push(a);i.length||(o=!1)}return o}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.dragging,n=this.props.dragStart;if(eW=!1,n&&n.id&&(r.itemInfo=this.tree.items[r.id],r.itemInfo&&(r.itemInfo.index!=n.itemInfo.index||r.itemInfo.parent!=n.itemInfo.parent))){var o=n.treeEl,i=n.treeElContainer,a=this._getPlaceholderNodeEl(o,!0);if(a){var l=a.getBoundingClientRect().left+window.scrollX,s=a.getBoundingClientRect().top+window.scrollY,u=n.plX,c=n.plY,d=i.scrollTop;n.plX=l,n.plY=s,n.itemInfo=X$(r.itemInfo),n.y=a.offsetTop,n.x=a.offsetLeft,n.clientY+=s-c,n.clientX+=l-u,i!=document.body&&(n.scrollTop=d),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return null;this._cacheEls||(this._cacheEls={});var n=this._cacheEls[t];return n&&document.contains(n)&&!r||(n=e.querySelector('.group-or-rule-container[data-id="'+t+'"]'),this._cacheEls[t]=n),n}},{key:"_getDraggableNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.draggable;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-draggable");return r=n.length?n[0]:null,this._cacheEls.draggable=r,r}},{key:"_getPlaceholderNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.placeholder;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-placeholder");return r=n.length?n[0]:null,this._cacheEls.placeholder=r,r}},{key:"_isScrollable",value:function(e){var t=window.getComputedStyle(e)["overflow-y"];return("scroll"===t||"auto"===t)&&e.scrollHeight>e.offsetHeight}},{key:"_getScrollParent",value:function(e){return null==e?null:e===document.body||this._isScrollable(e)?e:this._getScrollParent(e.parentNode)}},{key:"handleDrag",value:function(e,t,r){var n,o,i,a,l=this,s=e.itemInfo,u=e.paddingLeft,c=null,d=this.props.dragStart.treeEl,p=e.id,f=this._getDraggableNodeEl(d),h=this._getPlaceholderNodeEl(d);if(f&&h){if(n=f.getBoundingClientRect(),!(o=h.getBoundingClientRect()).width)return;var g={hrz:0,vrt:0};n.top<o.top?g.vrt=-1:n.bottom>o.bottom&&(g.vrt=1),n.left>o.left?g.hrz=1:n.left<o.left&&(g.hrz=-1);var v,m={x:(a=d.getBoundingClientRect()).left+(a.right-a.left)/2,y:g.vrt>=0?n.bottom:n.top};if(t.__mocked_hov_container)v=t.__mocked_hov_container;else{var y=document.elementFromPoint(m.x,m.y-1);if(!(v=y?y.closest(".group-or-rule-container"):null)&&y&&y.classList.contains("query-builder-container")){var b,_=null==y||null===(b=y.firstChild)||void 0===b?void 0:b.firstChild;_&&_.classList.contains("group-or-rule-container")&&(v=_)}}if(v){var x=v.classList.contains("group-container"),w=v.getAttribute("data-id"),O=v,S=!1,k=!1;if(O){var j=(i=O.getBoundingClientRect()).bottom-i.top,E=this.tree.items[w];if(!E)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var C=null,T=null,q=null,I=null;if(0==g.vrt)q=s,(T=h)&&(C=T.getBoundingClientRect());else if(x){if(g.vrt>0){var A=v.getElementsByClassName("group--header"),L=A.length?A[0]:null;if(L){var P=L.getBoundingClientRect(),N=P.bottom-P.top;n.bottom-P.top>3*N/4&&E.top>e.itemInfo.top&&(q=E,C=P,T=L,k=!0)}}else g.vrt<0&&E.lev>=s.lev&&i.bottom-n.top>=2&&E.top<e.itemInfo.top&&(q=E,C=i,T=O,S=!0);(g.vrt<0?i.bottom-n.top>j-5:n.bottom-i.top>j-5)&&(k||S||(q=E,C=i,T=O),I=E)}else(g.vrt<0?i.bottom-n.top>j/2:n.bottom-i.top>j/2)&&(q=E,C=i,T=O);var F=q&&q.id==p;if(C){var R=n.left-a.left;C.left,a.left;var M=Math.max(0,Math.round(R/u)),D=[],V=[];if(F);else{if(x&&(S?D.push([g$,q,q.lev+1]):k&&D.push([v$,q,q.lev+1]),I)){var z=0==I.lev,B="case_group"==I.type&&"case_group"!=s.type,H=I.prev&&this.tree.items[I.prev].caseId,U=I.next&&this.tree.items[I.next].caseId;s.caseId==H&&(H=null),s.caseId==U&&(U=null);var $=H&&this.tree.items[H],W=U&&this.tree.items[U];g.vrt>0?z?V.push([g$,I,I.lev+1]):B&&W?V.push([v$,W,W.lev+1]):V.push([f$,I,I.lev]):g.vrt<0&&(z?V.push([v$,I,I.lev+1]):B&&$?V.push([g$,$,$.lev+1]):V.push([h$,I,I.lev]))}S||k||(g.vrt<0?D.push([h$,q,q.lev]):g.vrt>0&&D.push([f$,q,q.lev]))}var K=function(e){var t=e[1],r=s.caseId?l.tree.items[s.caseId]:null,n=t.caseId?l.tree.items[t.caseId]:null;return[].concat(Ek(e),[r,n])};D=D.map(K),V=V.map(K);var Y=null,G=(D=D.filter((function(e){var t=e[0],r=e[1];if((t==h$||t==f$)&&null==r.parent)return!1;if(r.collapsed&&(t==g$||t==v$))return!1;var n=r.id==s.id;if(!n)for(var o=r;o.parent;)if((o=l.tree.items[o.parent]).id==s.id){n=!0;break}return!n})).map((function(e){var t=e[0],r=e[1];e[2],e[3],e[4];var n=null;return(n=t==g$||t==v$?r:l.tree.items[r.parent])&&null==n.parent&&(n=null),e[5]=n,e}))).filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)}));0==G.length&&V.length>0&&(G=V.filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)})));var J=G.map((function(e){return e[2]})),Q=s.lev,X=J.concat(Q),Z=null;-1!=X.indexOf(M)?Z=M:M>Math.max.apply(Math,Ek(X))?Z=Math.max.apply(Math,Ek(X)):M<Math.min.apply(Math,Ek(X))&&(Z=Math.min.apply(Math,Ek(X))),Y=G.find((function(e){return e[2]==Z})),F||Y||!G.length||(Y=G[0]),c=Y}}}else E$.log("out of tree bounds!")}return!!c&&(this.move(s,c[1],c[0],c[3]),!0)}},{key:"canMove",value:function(e,t,r,n,o,i,a){if(!e||!t)return!1;if(e.id===t.id)return!1;var l=this.props.config.settings,s=l.canRegroup,u=l.canRegroupCases,c=l.maxNesting,d=l.maxNumberOfRules,p=l.canLeaveEmptyCase,f=(i?i.lev+1:t.lev)+(e.depth||0),h=r==h$||r==f$,g=r==v$||r==g$,v=h&&1==t.lev||g&&0==t.lev,m=e.parent!=t.parent,y=g||m,b="case_group"==e.type&&!v||"rule_group"==e.parentType||"rule_group"==t.type||"rule_group"==t.parentType||"case_group"!=e.type&&"case_group"==t.type&&h||"case_group"!=e.type&&"switch_group"==t.type||!u&&e.caseId!=t.caseId,_=t.isLocked||e.isLocked||i&&i.isLocked;if(c&&f>c)return!1;if(y&&(!s||b||_))return!1;if("case_group"!=e.type&&e.caseId!=t.caseId){var x=!!n&&2==n._height,w=o?o.atomicRulesCountInCase+1:0;if(d&&w>d)return!1;if(x&&!p)return!1}if("case_group"==e.type&&(e.isDefaultCase||t.isDefaultCase||"switch_group"==t.type&&r==g$))return!1;var O=!0;return a&&(O=a(e.node.toJS(),t.node.toJS(),r,i?i.node.toJS():null)),O}},{key:"move",value:function(e,t,r,n){this._isUsingLegacyReactDomRender||(eW=!0),this.props.actions.moveItem(e.path,t.path,r)}},{key:"render",value:function(){return F.createElement(e,w({},this.props,{onDragStart:this.onDragStart}))}}])}(v.Component),t.propTypes={tree:_t.any.isRequired,actions:_t.object.isRequired},t}(e,t));return r.displayName="ConnectedSortableContainer",r}(BG);function UG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $G(e,t,r){return t=K(t),Y(e,WG()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WG=function(){return!!e})()}var KG=d$.clone,YG=d$.ConfigUtils,GG=YG.getFieldConfig,JG=YG.getFieldParts,QG=YG.getFieldPathParts,XG=d$.RuleUtils,ZG=XG.getFieldPathLabels,eJ=XG.getWidgetForFieldOp,tJ=function(e){function t(e){var r;return W(this,t),r=$G(this,t,[e]),L$(r),r.onPropsChanged(e),r}return U(t,e),$(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0,n=!this.meta||["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.items=this.getItems(e)),n&&(this.meta=this.getMeta(e))}},{key:"getItems",value:function(e){var t=e.config,r=e.field,n=e.fieldType,o=e.operator,i=e.parentField,a=e.isFuncArg,l=e.fieldDefinition,s=t.settings.canCompareFieldWithField,u=JG(i,t),c=i?GG(t,i):null,d=i?null==c?void 0:c.subfields:t.fields,p=this.filterFields(t,d,r,i,u,o,s,a,l,n);return this.buildOptions(u,t,p,u)}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.field;e.fieldType,e.operator;var o=e.value,i=e.placeholder,a=e.isFuncArg,l=e.parentField,s=r.settings,u=s.fieldPlaceholder,c=s.fieldSeparatorDisplay,d=o,p=!!o,f=n?GG(r,n):{},h=null==f||null===(t=f.widgets)||void 0===t?void 0:t.field,g=(null==h?void 0:h.widgetProps)||{},v=p?null:a&&i||g.valuePlaceholder||u,m=p?GG(r,d):null,y=m||{},b=QG(d,r),_=QG(d,r,!0),x=this.getFieldLabel(m,d,r),w=ZG(d,r),O=w?w.join(c):null;return(O==x||l)&&(O=null),{placeholder:v,selectedKey:d,selectedKeys:b,selectedPath:_,selectedLabel:x,selectedOpts:y,selectedAltLabel:y.label2||y.tooltip,selectedFullLabel:O}}},{key:"filterFields",value:function(e,t,r,n,o,i,a,l,s,u){t=KG(t);var c,d=e.settings.fieldSeparator,p=GG(e,r),f=eJ(e,r,i,"value");return e.widgets[f],c=l?null==s?void 0:s.type:p?p.type:u,function t(n,o){for(var s in n){var u=n[s].subfields,f=(o||[]).concat(s),h=f.join(d),g=GG(e,h);if(g)if("!struct"==g.type||"!group"==g.type)0==t(u,f)&&delete n[s];else{var v=!(c&&g.type!=c||!l&&h==r),m=a||e.settings.canCompareFieldWithField;m&&(v=v&&m(r,p,h,g,i)),v||delete n[s]}else delete n[s]}return Js(n).length}(t,o||[]),t}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)return null;var a=t.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"";return Js(r).map((function(a){var l=[].concat(Ek(null!=o?o:[]),[a]),c=r[a],d=n.getFieldLabel(c,l,t),p=ZG(l,t).join(s);(p==d||e)&&(p=null);var f=c.label2,h=c.tooltip;if(!c.hideForCompare)return"!struct"==c.type||"!group"==c.type?{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,items:n.buildOptions(e,t,c.subfields,l,{label:d,tooltip:h})}:{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i}})).filter((function(e){return!!e}))}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=JG(t,r),i=(null==e?void 0:e.label)||gA(o);return i=S$(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isValueField:!0,config:t,customProps:r,setField:n,readonly:o,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);tJ.propTypes={id:_t.string,groupId:_t.string,setValue:_t.func.isRequired,config:_t.object.isRequired,field:_t.any,fieldSrc:_t.string,fieldType:_t.string,value:_t.string,operator:_t.string,customProps:_t.object,readonly:_t.bool,parentField:_t.string,fieldDefinition:_t.object,isFuncArg:_t.bool};d$.moment;var rJ=d$.moment;var nJ=d$.ListUtils.mapListValues;var oJ=d$.ListUtils.mapListValues;var iJ={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const aJ=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:YK,ValueFieldWidget:tJ,VanillaBooleanWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.labelYes,o=e.labelNo,i=e.readonly;e.widgetId;var a=e.customProps,l=void 0===a?{}:a,s=l.radioYes||{},u=l.radioNo||{},c=function(e){return r("true"==e.target.value)};return F.createElement(F.Fragment,null,F.createElement("input",w({type:"radio",value:!0,checked:!!t,disabled:i,onChange:c},s))," ",n,F.createElement("input",w({type:"radio",value:!1,checked:!t,disabled:i,onChange:c},u))," ",o)},VanillaButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=r||iJ[t];return F.createElement("button",{onClick:n,type:"button",disabled:o},i)},VanillaButtonGroup:function(e){var t=e.children;return e.config,F.createElement(F.Fragment,null,t)},VanillaConjs:function(e){var t,r=e.id,n=e.not,o=e.setNot,i=e.conjunctionOptions,a=e.setConjunction,l=e.disabled,s=e.readonly,u=e.config,c=e.showNot,d=e.notLabel,p=Object.keys(i).length,f=l,h=u.settings.forceShowConj||p>1&&!f,g=function(e){return a(e.target.value)},v=function(e){return o(e.target.checked)};return[c&&(t="not",[F.createElement("input",{key:r+t,type:"checkbox",id:r+t,checked:n,disabled:s,onChange:v}),F.createElement("label",{key:r+t+"label",htmlFor:r+t},d||"NOT")]),h&&Object.keys(i).map((function(e){var t=i[e],r=t.id,n=t.name,o=t.label,u=t.checked,c=a.isDummyFn?"__dummy":"";return!s&&!l||u?[F.createElement("input",{key:r+c,type:"radio",id:r+c,name:n+c,checked:u,disabled:s||l,value:e,onChange:g}),F.createElement("label",{key:r+c+"label",htmlFor:r+c},o)]:null}))]},VanillaDateTimeWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.valueFormat;e.use12Hours;var o=e.readonly,i=e.customProps,a=t;return a=t?rJ(t).format("YYYY-MM-DDTHH:mm"):"",F.createElement("input",w({type:"datetime-local",value:a,disabled:o,onChange:function(e){var t=e.target.value;t=""==t?void 0:rJ(new Date(t)).format(n),r(t)}},i))},VanillaDateWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat;var n=e.readonly,o=e.customProps;return F.createElement("input",w({type:"date",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.errorText,a=null!=n;return F.createElement("select",{onChange:function(e){return r(e.target.value)},value:a?n:"",disabled:o,style:{color:i?"red":null}},!a&&F.createElement("option",{disabled:!0,value:""}),function e(t){return t.map((function(t){var r=t.items,n=t.path,o=t.label,i=t.disabled,a=t.matchesType;if(r)return F.createElement("optgroup",{disabled:i,key:n,label:o},e(r));var l=a?{fontWeight:"bold"}:{};return F.createElement("option",{disabled:i,key:n,value:n,style:l},o)}))}(t))},VanillaIcon:function(e){var t=e.type,r={}[t]||null;return r||"drag"!==t||(r=F.createElement(_W,null)),r},VanillaMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps;return F.createElement("select",w({multiple:!0,onChange:function(e){return n(function(e){for(var t=[],r=e.options,n=0;n<r.length;n++){var o=r[n];o.selected&&t.push(o.value)}return t.length||(t=void 0),t}(e.target))},value:r,disabled:o},NP(i,["showSearch","input","showCheckboxes"])),nJ(t,(function(e){var t=e.title,r=e.value;return F.createElement("option",{key:r,value:r},t)})))},VanillaNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t;return F.createElement("input",w({type:"number",value:u,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s))},VanillaProvider:function(e){return e.config,e.children},VanillaSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps,a=null!=r;return F.createElement("select",w({onChange:function(e){return n(e.target.value)},value:a?r:"",disabled:o},NP(i,["showSearch","input"])),!a&&F.createElement("option",{disabled:!0,value:""}),oJ(t,(function(e){var t=e.title,r=e.value;return F.createElement("option",{key:r,value:r},t)})))},VanillaSliderWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=void 0===s?{}:s,c=u.input||{},d=u.slider||u,p=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},f=null==t?"":t;return F.createElement("div",{style:{display:"inline-flex"}},F.createElement("input",w({key:"number",type:"number",value:f,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:p},c)),F.createElement("input",w({key:"range",type:"range",value:f,disabled:n,min:o,max:i,step:a,onChange:p},d)))},VanillaSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.id;e.config;var i=e.type;return[F.createElement("input",{key:o+i,type:"checkbox",id:o+i,checked:!!t,onChange:function(e){return r(e.target.checked)}}),F.createElement("label",{key:o+i+"label",htmlFor:o+i},n)]},VanillaTextAreaWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength;e.maxRows;var a=e.fullWidth,l=e.customProps,s=t||"";return F.createElement("textarea",w({value:s,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i,style:{width:a?"100%":void 0}},l))},VanillaTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength,a=e.customProps,l=t||"";return F.createElement("input",w({type:"text",value:l,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i},a))},VanillaTimeWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat,e.use12Hours;var n=e.readonly,o=e.customProps;return F.createElement("input",w({type:"time",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc;e.title;var n=e.setValueSrc,o=e.readonly;return F.createElement("select",{onChange:function(e){return n(e.target.value)},value:r||"",disabled:o},function(e){return e.map((function(e){var t=bt(e,2),r=t[0],n=t[1];return F.createElement("option",{key:r,value:r},n.label)}))}(t))},vanillaConfirm:function(e){var t=e.onOk;e.okText,e.cancelText;var r=e.title;confirm(r)&&t()}},Symbol.toStringTag,{value:"Module"}));function lJ(e,t,r){return t=K(t),Y(e,sJ()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function sJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sJ=function(){return!!e})()}var uJ=function(e){function t(){var e;W(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=lJ(this,t,[].concat(n))).handleChange=function(t){e.props.setOption("proximity",parseInt(t))},e}return U(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.defaults,r=e.options,n=e.config,o=e.optionLabel,i=e.optionPlaceholder,a=e.customProps,l=e.minProximity,s=e.maxProximity,u=e.optionTextBefore,c=e.readonly,d=n.settings,p=n.widgets,f=n.ctx,h=t?t.proximity:void 0,g=d.showLabels,v=r.get("proximity",h),m=yK(l,s+1).map((function(e){return{title:e,value:e}})),y=p.select.factory,b=function(e){return y(e,f)};return F.createElement("div",{className:"operator--PROXIMITY"},F.createElement("div",{className:"operator--options"},g&&F.createElement("label",{className:"rule--label"},o),!g&&u&&F.createElement("div",{className:"operator--options--sep"},F.createElement("span",null,u)),F.createElement(b,w({config:n,value:v,listValues:m,setValue:this.handleChange,readonly:c,placeholder:i},a))),F.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(v.PureComponent);uJ.propTypes={config:_t.object.isRequired,setOption:_t.func.isRequired,options:_t.any.isRequired,minProximity:_t.number,maxProximity:_t.number,optionPlaceholder:_t.string,optionTextBefore:_t.string,optionLabel:_t.string,customProps:_t.object,readonly:_t.bool},uJ.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const cJ=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:uJ},Symbol.toStringTag,{value:"Module"}));function dJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fJ={conjunctions:pJ({},MH.conjunctions),operators:pJ(pJ({},MH.operators),{},{proximity:pJ(pJ({},MH.operators.proximity),{},{options:pJ(pJ({},MH.operators.proximity.options),{},{factory:function(e,t){return(0,t.RCE)(t.O.ProximityOperator,e)}})})}),widgets:{text:pJ(pJ({},MH.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}}),textarea:pJ(pJ({},MH.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextAreaWidget,e)}}),number:pJ(pJ({},MH.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaNumberWidget,e)}}),slider:pJ(pJ({},MH.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSliderWidget,e)}}),select:pJ(pJ({},MH.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSelectWidget,e)}}),multiselect:pJ(pJ({},MH.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaMultiSelectWidget,e)}}),date:pJ(pJ({},MH.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateWidget,e)}}),time:pJ(pJ({},MH.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTimeWidget,e)}}),datetime:pJ(pJ({},MH.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateTimeWidget,e)}}),boolean:pJ(pJ({},MH.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaBooleanWidget,e)}}),field:pJ(pJ({},MH.widgets.field),{},{factory:function(e,t){return(0,t.RCE)(t.W.ValueFieldWidget,e)},customProps:{showSearch:!0}}),func:pJ(pJ({},MH.widgets.func),{},{factory:function(e,t){return(0,t.RCE)(t.W.FuncWidget,e)},customProps:{}}),case_value:pJ(pJ({},MH.widgets.case_value),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}})},types:pJ(pJ({},MH.types),{},{select:pJ(pJ({},MH.types.select),{},{widgets:pJ(pJ({},MH.types.select.widgets),{},{select:pJ(pJ({},MH.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),settings:pJ(pJ({},MH.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.VanillaConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.VanillaSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.VanillaButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.VanillaIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.VanillaButtonGroup,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.VanillaProvider,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderConfirm:function(e,t){return(0,t.W.vanillaConfirm)(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,t){return(0,t.RCE)("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),ctx:pJ(pJ({},MH.ctx),{},{W:pJ({},aJ),O:pJ({},cJ),RCE:function(e,t){return F.createElement(e,t)}})};const hJ=fJ=d$.ConfigMixins.removeMixins(fJ,["rangeslider","treeselect","treemultiselect"]);var gJ=Yi,vJ=la,mJ=function(){return gJ.Date.now()},yJ=cK,bJ=Math.max,_J=Math.min;var xJ=function(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=mJ();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?_J(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=mJ(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=yJ(t)||0,vJ(r)&&(c=!!r.leading,i=(d="maxWait"in r)?bJ(yJ(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(mJ())},m};const wJ=g(xJ);function OJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kJ=d$.Autocomplete,jJ=kJ.mergeListValues,EJ=kJ.listValueToOption,CJ=kJ.optionToListValue,TJ=kJ.optionsToListValues,qJ=kJ.fixListValuesGroupOrder,IJ=d$.ListUtils,AJ=IJ.mapListValues,LJ=IJ.listValuesToArray,PJ=IJ.getListValue,NJ=IJ.makeCustomListValue,FJ=IJ.searchListValue;function RJ(e){return new Promise((function(t){setTimeout(t,e)}))}IJ.getItemInListValues;function MJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const VJ=DJ(DJ({},d$),{},{ReactUtils:N$,DragIcon:_W});var zJ,BJ,HJ=VJ.moment,UJ=parseInt(null!==(zJ=null==jk||null===(BJ=jk.version)||void 0===BJ||null===(BJ=BJ.split("."))||void 0===BJ?void 0:BJ[0])&&void 0!==zJ?zJ:"0");var $J,WJ,KJ=VJ.moment,YJ=parseInt(null!==($J=null==jk||null===(WJ=jk.version)||void 0===WJ||null===(WJ=WJ.split("."))||void 0===WJ?void 0:WJ[0])&&void 0!==$J?$J:"0");var GJ,JJ,QJ=VJ.moment,XJ=parseInt(null!==(GJ=null==jk||null===(JJ=jk.version)||void 0===JJ||null===(JJ=JJ.split("."))||void 0===JJ?void 0:JJ[0])&&void 0!==GJ?GJ:"0");var ZJ=VJ.ListUtils.mapListValues;var eQ=["width"];var tQ=["width"];var rQ=VJ.ListUtils.mapListValues;var nQ={},oQ=A;Object.defineProperty(nQ,"__esModule",{value:!0});var iQ=nQ.default=void 0,aQ=oQ(Le()),lQ=j;iQ=nQ.default=(0,aQ.default)((0,lQ.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var sQ=["width"];function uQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dQ=function(e,t){var r=e.asyncFetch,n=e.useLoadMore,o=e.useAsyncSearch,i=e.forceAsyncSearch,a=e.asyncListValues,l=e.listValues,s=e.allowCustomValues,u=e.value,c=e.setValue,d=e.placeholder,p=e.config,f=t.debounceTimeout,h=t.multiple,g=t.uif,v=t.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],y="Load more...",b="Loading more...",_=i?"Type to search":d,x=F.useState(!1),w=bt(x,2),O=w[0],S=w[1],k=F.useState(void 0),j=bt(k,2),E=j[0],C=j[1],T=F.useState(0),q=bt(T,2),I=q[0],A=q[1],L=F.useState(!1),P=bt(L,2),N=P[0],R=P[1],M=F.useState(""),D=bt(M,2),V=D[0],z=D[1],B=F.useState(void 0),H=bt(B,2),U=H[0],$=H[1],W=F.useRef(0),K=F.useRef(0),Y=F.useRef(!1),G=F.useMemo((function(){return LJ(a)}),[a]),J=F.useMemo((function(){return r?a?jJ(U,G,!0):U:LJ(l)}),[r,a,U,l]),Q=r?U:LJ(l);s&&V&&!FJ(V,U)&&(Q=jJ(Q,[NJ(V)],!0)),!r||U||!a||V||O||"antd"!==g||(Q=J),r&&!s&&a&&"mui"===g&&(Q=jJ(Q,G,!0,!0));var X=I>0,Z=O&&r&&void 0===U&&(!i||V),ee=Z&&X,te=!ee&&J&&J.length>0&&E&&E.hasMore&&(E.filter||"")===V,re=!X&&te,ne=AJ(Q,EJ),oe=null!=u,ie=!h&&oe?PJ(u,J):null,ae=function(){var e=uH(Cq.mark((function e(){var t,o,i,a,l,s,u,c,d,f,h,g,v,m,y=arguments;return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:null,!(o=y.length>1&&void 0!==y[1]&&y[1])&&E&&C(void 0),i=o&&U?U.length:0,a=o&&E||!n&&{pageSize:0},l=++W.current,e.next=8,r.call(null==p?void 0:p.ctx,t,i,a);case 8:if(s=e.sent,!(W.current!=l)&&K.current){e.next=12;break}return e.abrupt("return",null);case 12:return u=null!=s&&s.values?s:{values:s},c=u.values,d=u.hasMore,f=u.meta,h=LJ(c),o?(v=jJ(U,h,!1),g=v.length>U.length):(v=h,n&&(g=v.length>0)),(m=null!=d||null!=f||null!=g?SJ(SJ(SJ(SJ({},null!=g?{hasMore:g}:{}),null!=d?{hasMore:d}:{}),null!=f?f:{}),{},{filter:t}):void 0)&&C(m),e.abrupt("return",v);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=uH(Cq.mark((function e(){var t,r,n,o=arguments;return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]&&o[1],A((function(e){return e+1})),R(r),e.next=6,ae(t,r);case 6:if(n=e.sent,K.current){e.next=9;break}return e.abrupt("return");case 9:null!=n&&$(n),A((function(e){return e-1})),R(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=F.useCallback(wJ(le,f),[]);F.useEffect((function(){return K.current++,Z&&0==I&&0==W.current&&uH(Cq.mark((function e(){return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:case"end":return e.stop()}}),e)})))(),function(){K.current--}}),[Z]);var ue=function(){S(!0)},ce=function(){var e=uH(Cq.mark((function e(t){var r;return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Y.current)?(Y.current=!1,h&&S(!1)):S(!1),"mui"!==g||r){e.next=6;break}return"",e.next=6,pe(null,"","my-reset");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=uH(Cq.mark((function e(t,n,o){var i,a,l,d,p,f,m,y,b,_,x,w,k,j,E,C;return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h&&"mui"===g&&"clear"===o,l=!h&&"mui"===g&&"clear"===o&&"change"===(null==t?void 0:t.type),d=!h&&"mui"===g&&"clear"===o&&"change"!==(null==t?void 0:t.type),"mui"===g&&(o=n,n=h?o.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e})):null!==(p=null===(f=o)||void 0===f?void 0:f.value)&&void 0!==p?p:o),m=h&&Array.isArray(o)&&o.map((function(e){return null==e?void 0:e.specialValue})).find((function(e){return!!e}))||(null===(i=o)||void 0===i?void 0:i.specialValue),h&&n&&!Array.isArray(n)&&(n=[].concat(Ek(u||[]),[n]),o=null),!(a&&0===n.length&&V&&O||l)){e.next=9;break}return e.abrupt("return");case 9:if(y=h&&n.length&&n.length>(u||[]).length&&n[n.length-1]==V&&!PJ(V,U),"LOAD_MORE"!=m){e.next=17;break}return z(V),Y.current=!0,e.next=15,le(V,!0);case 15:e.next=37;break;case 17:if("LOADING_MORE"!=m){e.next=21;break}Y.current=!0,e.next=37;break;case 21:if(!h){e.next=31;break}if(b=TJ(n,J,s),_=bt(b,2),x=_[0],w=_[1],c(x,r?w:void 0),!y){e.next=29;break}return e.next=27,RJ(0);case 27:return e.next=29,pe(null,"","my-reset");case 29:e.next=37;break;case 31:if(k=CJ(n,J,s),j=bt(k,2),E=j[0],C=j[1],c(E,r?C:void 0),!d||!v){e.next=37;break}return e.next=36,RJ(0);case 36:S(!1);case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),pe=function(){var e=uH(Cq.mark((function e(t,r,n){var a,l;return Cq.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="mui"===g&&"reset"===n,(l=r)!==y&&l!==b&&!a){e.next=4;break}return e.abrupt("return");case 4:if(r==V){e.next=13;break}if(z(l),!(o&&(!i||!!l))){e.next=12;break}return e.next=10,se(l);case 10:e.next=13;break;case 12:o&&i&&$([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return{options:"mui"===g?qJ(ne):ne,listValues:J,hasValue:oe,selectedListValue:ie,open:O,onOpen:ue,onClose:ce,onDropdownVisibleChange:function(e){e?ue():ce()},onChange:de,inputValue:V,onInputChange:pe,canShowLoadMore:re,isInitialLoading:ee,isLoading:X,isLoadingMore:N,isSpecialValue:function(e){var t=(null==e?void 0:e.specialValue)||(null==e?void 0:e.value);return m.includes(t)},extendOptions:function(e){var t=Ek(e);return n&&(re?t.push({specialValue:"LOAD_MORE",title:y}):N&&t.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),t},getOptionSelected:function(e,t){if(null==t)return null;var r=null!=t.value?t.value:t;return e.value===r},getOptionDisabled:function(e){return e&&e.disabled},getOptionIsCustom:function(e){var t;if(null!=e&&e.isCustom)return!0;var r=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e,n=PJ(r,J);return(null==n?void 0:n.isCustom)||!1},getOptionLabel:function(e){if(null==e)return null;var t=null!=e.value?e:EJ(PJ(e,J));return!t&&e.specialValue?e.title:!t&&s?e.toString():t?t.title||t.label||t.value.toString():e.toString()},aPlaceholder:_}},pQ=[];const fQ=function(e){var t=e.allowCustomValues,r=e.multiple,n=e.disableClearable,o=e.value,i=e.customProps,a=e.readonly,l=e.config,s=e.filterOptionsConfig,u=e.errorText,c=e.tooltipText,d=e.isFieldAutocomplete,p=v.useCallback((function(e){return l.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[l]),f=En(s||{stringify:p}),h=dQ(e,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:d}),g=h.open,m=h.onOpen,y=h.onClose,b=h.onChange,_=h.onInputChange,x=h.inputValue,O=h.options,S=h.isInitialLoading,k=h.isLoading,j=h.aPlaceholder,E=h.extendOptions,C=h.getOptionDisabled,T=h.getOptionIsCustom,q=h.getOptionLabel,I=h.selectedListValue,A=l.settings,L=A.defaultSelectWidth,P=(A.defaultSearchWidth,i||{}),N=P.width,R=an(P,sQ),M=R.input||{};M.width,M=NP(M,["width"]);var D=NP(R,["showSearch","showCheckboxes"]),V=N||L,z={width:r?void 0:V,minWidth:V},B=a?"":j,H=B||l.settings.fieldPlaceholder,U=null!=o?o:r?pQ:null,$=Ye(),W=function(e){var t=e.groupMaybeJson;if(!t)return null;var r={label:t};if("string"==typeof t&&"{"===t[0])try{r=JSON.parse(t)}catch(o){}var n=r.label;return n&&r.tooltip&&(n=F.createElement(tr,{title:r.tooltip,placement:"left-start"},F.createElement("span",null,n))),F.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:$.palette.primary.main,backgroundColor:$.palette.background.default}},n)},K=function(e){var t=e.children;return F.createElement(F.Fragment,null,t)},Y=F.createElement(Zn,w({disableClearable:n,disableCloseOnSelect:r,fullWidth:false,multiple:r,style:z,freeSolo:t,loading:S,open:g,onOpen:m,onClose:y,inputValue:x,onInputChange:_,label:B,onChange:b,value:U,disabled:a,readOnly:a,options:O,groupBy:function(e){return null!=e&&e.group?JSON.stringify(e.group):null==e?void 0:e.groupTitle},getOptionLabel:q,getOptionDisabled:C,renderInput:function(e){var t,n,o,i=!r&&!g,l=null!==(t=null!==(n=null==I?void 0:I.title)&&void 0!==n?n:null==U?void 0:U.toString())&&void 0!==t?t:"",s=i?l:r&&!g?"":null!==(o=null!=x?x:null==U?void 0:U.toString())&&void 0!==o?o:"";return F.createElement(_r,w({variant:"standard"},e,{inputProps:cQ(cQ({"aria-label":H},e.inputProps),{},{value:s}),InputProps:cQ(cQ({},e.InputProps),{},{readOnly:a,endAdornment:F.createElement(F.Fragment,null,k?F.createElement(or,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:a,placeholder:B,error:!!u},M))},renderGroup:function(e){return F.createElement("div",{key:e.key},F.createElement(W,{groupMaybeJson:e.group}),F.createElement(K,null,e.children))},renderTags:function(e,t){return e.map((function(e,r){return F.createElement(Yt,w({key:e.value,label:q(e),size:"small",variant:T(e)?"outlined":"filled"},t({index:r})))}))},renderOption:function(e,t){var n=t.title,i=t.renderTitle,a=t.value,l=t.isHidden,s=t.tooltip,u=t.group,c=t.groupTitle||u,p=r?(o||[]).includes(a):o==a,f=T(t)?"customSelectOption":void 0,h=i||(!d&&c?"  ":"")+n,g=F.createElement("span",{className:f},h);if(s&&(g=F.createElement(tr,{title:s,placement:"left-start"},g)),l)return null;if(t.specialValue)return F.createElement("div",e,h);if(r){var v=p?F.createElement(F.Fragment,null,F.createElement(ir,null,F.createElement(iQ,null)),g):F.createElement(ho,{inset:!0},g);return F.createElement(yt,w({},e,{size:"small",selected:p}),v)}return F.createElement("div",e,g)},filterOptions:function(e,t){var r=f(e,t);return E(r)},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.value)==t},size:"small"},D));return c&&(Y=F.createElement(tr,{title:g?null:c,placement:"top-start"},Y)),Y=F.createElement(vt,{fullWidth:false},Y)};var hQ=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function gQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mQ={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},yQ=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,o=t.path,i=t.key,a=t.label,l=t.altLabel,s=t.disabled,u=t.grouplabel,c=t.group,d=t.matchesType,p=t.tooltip,f="  ".repeat(r);return n?e(n,r+1):{title:a,renderTitle:d?F.createElement("b",null,f+a):f+a,value:o,disabled:s,groupTitle:r>0?f+u:null,group:r>0?vQ(vQ({},c),{},{label:f+c.label}):null,tooltip:p,_value2:i,_altLabel:l}})).flat(1/0)},bQ=function(e,t){var r=e.items,n=e.selectedKey,o=e.setField,i=e.isValueField,a=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,s=e.selectedFullLabel,u=an(e,hQ),c=l||s;c==a&&(c=null);var d=yQ(r),p=n,f={stringify:v.useCallback((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return mQ[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return vQ(vQ({},u),{},{tooltipText:c,listValues:d,setValue:function(e,t){if(e||i)return o(e)},filterOptionsConfig:f,allowCustomValues:!1,multiple:!1,disableClearable:!i,value:p,isFieldAutocomplete:!0})};var _Q={},xQ=A;Object.defineProperty(_Q,"__esModule",{value:!0});var wQ=_Q.default=void 0,OQ=xQ(Le()),SQ=j;wQ=_Q.default=(0,OQ.default)((0,SQ.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var kQ=VJ.DragIcon,jQ={delGroup:F.createElement(Zr,null),delRuleGroup:F.createElement(Zr,null),delRule:F.createElement(Zr,null),addRuleGroup:F.createElement(ov,null),addRuleGroupExt:F.createElement(ov,null),addRule:F.createElement(ov,null),addGroup:F.createElement(ov,null),drag:F.createElement(wQ,null)},EQ={drag:"primary"};var CQ={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},TQ={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const qQ=v.memo((function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=e.renderIcon,a=null==i?void 0:i({type:t,readonly:o});return!r||CQ[t]?F.createElement(de,{size:"small",disabled:o,onClick:n,color:TQ[t],"aria-label":r},a):F.createElement(Je,{size:"small",disabled:o,onClick:n,color:TQ[t],startIcon:a},r)}));var IQ=F.memo((function(e){var t=e.conjKey,r=e.id;e.name;var n=e.label,o=e.checked,i=e.setConjunction,a=e.readonly,l=e.disabled,s=v.useCallback((function(){i(t)}),[t,i]),u=i.isDummyFn?"__dummy":"";return!a&&!l||o?F.createElement(Je,{key:r+u,id:r+u,color:o?"primary":"inherit",value:t,onClick:s,disabled:a||l},n):null})),AQ=F.memo((function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,i=e.setConjunction,a=e.disabled,l=e.readonly,s=e.config,u=e.showNot,c=e.notLabel,d=Object.keys(o).length,p=a,f=s.settings.forceShowConj||d>1&&!p,h=v.useCallback((function(){n(!r)}),[r,n]);return F.createElement(vt,null,F.createElement(ro,{disableElevation:!0,variant:"contained",size:"small",disabled:l},u&&(l&&!r?null:F.createElement(Je,{key:t,id:t+"__not",color:r?"error":"inherit",onClick:h,disabled:l},c||"NOT")),f&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n={conjKey:e,id:r,name:t.name,label:t.label,checked:t.checked,setConjunction:i,readonly:l,disabled:a};return F.createElement(IQ,w({key:r},n))}))))})),LQ={},PQ=A;Object.defineProperty(LQ,"__esModule",{value:!0});var NQ=LQ.default=void 0,FQ=PQ(Le()),RQ=j;NQ=LQ.default=(0,FQ.default)((0,RQ.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var MQ={},DQ=A;Object.defineProperty(MQ,"__esModule",{value:!0});var VQ=MQ.default=void 0,zQ=DQ(Le()),BQ=j;VQ=MQ.default=(0,zQ.default)((0,BQ.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var HQ={},UQ=A;Object.defineProperty(HQ,"__esModule",{value:!0});var $Q=HQ.default=void 0,WQ=UQ(Le()),KQ=j;$Q=HQ.default=(0,WQ.default)((0,KQ.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var YQ=F.memo((function(e){var t=e.valueSrc,r=e.srcKey,n=e.handleChange,o=e.info,i=t==r||!t&&"value"==r,a=v.useCallback((function(e){return n(e,r)}),[n,r]);return F.createElement(yt,{value:r,selected:i,onClick:a},!i&&F.createElement(ho,{inset:!0},o.label),i&&F.createElement(F.Fragment,null,F.createElement(ir,null,F.createElement(iQ,null)),o.label))})),GQ=F.memo((function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,o=e.setValueSrc;e.readonly;var i=F.useState(null),a=bt(i,2),l=a[0],s=a[1],u=v.useCallback((function(e){s(e.currentTarget)}),[s]),c=v.useCallback((function(){s(null)}),[s]),d=v.useCallback((function(e){l?c():u(e)}),[c,u,l]),p=v.useCallback((function(e,t){o(t),c()}),[c,o]),f=Boolean(l);return F.createElement("div",null,F.createElement(de,{size:"small",onClick:d},F.createElement($Q,null)),F.createElement(St,{anchorEl:l,open:f,onClose:c},F.createElement(vt,{component:"fieldset",sx:{p:0}},F.createElement(xr,{component:"legend",sx:{p:2,pt:0,pb:1}},n),function(e){return e.map((function(e){var t=bt(e,2),n=t[0],o=t[1];return F.createElement(YQ,{key:n,valueSrc:r,srcKey:n,handleChange:p,info:o})}))}(t))))}));var JQ,QQ,XQ=parseInt(null!==(JQ=null==jk||null===(QQ=jk.version)||void 0===QQ||null===(QQ=QQ.split("."))||void 0===QQ?void 0:QQ[0])&&void 0!==JQ?JQ:"0");const ZQ={MuiTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.customProps,a=e.maxLength;e.errorMessage;var l=v.useCallback((function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}),[r]),s=t||"";return F.createElement(vt,null,F.createElement(_r,w({variant:"standard",value:s,placeholder:n?"":o,InputProps:{readOnly:n},inputProps:{maxLength:a},disabled:n,onChange:l,size:"small"},i)))},MuiTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,i=e.placeholder,a=e.customProps,l=e.maxLength,s=e.maxRows,u=e.fullWidth,c=n.settings.defaultMaxRows,d=t||"";return F.createElement(vt,{fullWidth:u},F.createElement(_r,w({variant:"standard",fullWidth:u,maxRows:s||c,multiline:!0,value:d,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:l},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},size:"small"},a)))},MuiDateWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,o=e.customProps,i=e.dateFormat,a=e.valueFormat,l=e.placeholder,s=UJ>=6?{format:i,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":l}}}:{inputFormat:i,renderInput:function(e){return F.createElement(_r,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:n?"":l},u=t?UJ>=6?HJ(t,a):t:null;return F.createElement(vt,null,F.createElement(Qr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:n,disabled:n,value:u,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(a):void 0}(e))}},s,o)))},MuiDateTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.dateFormat,l=e.timeFormat,s=e.valueFormat,u=e.customProps,c=a+" "+l,d=YJ>=6?{format:c,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:c,renderInput:function(e){return F.createElement(_r,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i},p=t?YJ>=6?KJ(t,s):t:null;return F.createElement(vt,null,F.createElement(Pr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:p,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(s):void 0}(e))}},d,u)))},MuiTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.timeFormat,l=e.valueFormat,s=e.customProps,u=-1!=a.indexOf(":ss"),c=t?QJ(t,a):null,d=XJ>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:a,renderInput:function(e){return F.createElement(_r,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i};return F.createElement(vt,null,F.createElement(Xr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:c,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(l):void 0}(e))},views:u?["hours","minutes","seconds"]:["hours","minutes"]},d,s)))},MuiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.placeholder,a=e.customProps,l=function(e){return ZJ(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()},s=null!=r;return F.createElement(vt,null,F.createElement(mt,w({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:o?"":i,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:"",disabled:o,readOnly:o,renderValue:function(e){return o||null!=e?l(e):i},size:"small"},NP(a,["showSearch","input"])),ZJ(t,(function(e){var t=e.title,r=e.value;return F.createElement(yt,{key:r,value:r},t)}))))},MuiNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t,c=v.useMemo((function(){return{readOnly:n}}),[n]),d=v.useMemo((function(){return{min:o,max:i,step:a}}),[o,i,a]);return F.createElement(vt,null,F.createElement(_r,w({variant:"standard",type:"number",value:u,placeholder:n?"":l,InputProps:c,inputProps:d,disabled:n,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},size:"small"},s)))},MuiSliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=t.settings.defaultSliderWidth,p=v.useCallback((function(e,t){i(t)}),[i]),f=v.useCallback((function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)}),[i]),h=v.useCallback((function(e){var t=e.target.value;(t=""===t||null===t?void 0:Number(t))<a?i(a):t>l&&i(l)}),[i,a,l]),g=n||{},m=g.width,y=an(g,eQ),b=y.input||{},x=y.slider||y,O="number"==typeof o?o:"",S="number"==typeof o?o:null,k=v.useMemo((function(){return!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:F.createElement("p",null,u[e])}}))}),[u]),j=v.useMemo((function(){return{readOnly:c}}),[c]),E=v.useMemo((function(){return{min:a,max:l,step:s}}),[a,l,s]),C=F.createElement(_r,w({variant:"standard",type:"number",value:O,placeholder:r,InputProps:j,inputProps:E,disabled:c,onChange:f,onBlur:h,size:"small"},b)),T=F.createElement(Mo,w({value:S,onChange:p,disabled:c,min:a,max:l,step:s,marks:k,valueLabelDisplay:"auto",size:"small"},x)),q={marginLeft:"5px",paddingLeft:"12px",marginBottom:k&&"-16px",width:m||d};return F.createElement(vt,null,F.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},F.createElement("div",{style:{marginLeft:"5px"}},C),F.createElement("div",{style:q},T)))},MuiRangeWidget:function(e){var t=e.config,r=e.placeholders,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=e.textSeparators,p=t.settings.defaultSliderWidth;v.useEffect((function(){var t=e.value||[void 0,void 0],r=bt(t,2);r[0],r[1];e.value}),[]);var f=function(){o&&(o[0]<a?i([a,o[1]]):o[1]>l&&i([o[0],l]))},h=n||{},g=h.width,m=an(h,tQ),y=m.input||{},b=m.slider||m,x=!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:F.createElement("p",null,u[e])}})),O=o?Ek(o):[void 0,void 0],S=bt(O,2),k=S[0],j=S[1];null==k&&(k="",O[0]=0),null==j&&(j="",O[1]=0);var E=F.createElement(_r,w({variant:"standard",type:"number",value:k,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?Ek(e.value):[void 0,void 0];n[0]=r,i(n)},onBlur:f,size:"small"},y)),C=F.createElement(_r,w({variant:"standard",type:"number",value:j,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?Ek(e.value):[void 0,void 0];n[1]=r,i(n)},onBlur:f,size:"small"},y)),T=F.createElement(Mo,w({value:O,onChange:function(e,t){i(t)},disabled:c,min:a,max:l,step:s,marks:x,valueLabelDisplay:"auto",size:"small"},b)),q={marginLeft:"5px"},I={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:g||p};return F.createElement(vt,null,F.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},F.createElement("div",{style:q},E),F.createElement("div",{className:"widget--sep"},F.createElement("span",null,d[1])),F.createElement("div",{style:q},C),F.createElement("div",{style:I},T)))},MuiBooleanWidget:function(e){var t=e.customProps,r=e.value,n=e.setValue,o=e.labelYes,i=e.labelNo,a=e.readonly;return F.createElement(vt,null,F.createElement(me,{component:"div"},F.createElement(Ar,{component:"label",container:!0,alignItems:"center",spacing:0},F.createElement(Ar,{item:!0,component:"span"},i),F.createElement(Ar,{item:!0,component:"span"},F.createElement(nr,w({checked:!!r,onChange:function(){n(!r)},disabled:a},t))),F.createElement(Ar,{item:!0,component:"span"},o))))},MuiMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o,i=e.readonly,a=e.placeholder,l=e.customProps,s=null!=r&&r.length>0;return F.createElement(vt,null,F.createElement(mt,w({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return a;var r=rQ(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")},size:"small"},NP(l,["showSearch","input","showCheckboxes"])),(o=s?r:[],rQ(t,(function(e){var t=e.title,r=e.value;return F.createElement(yt,{key:r,value:r},F.createElement(Jr,{checked:o.indexOf(r)>-1}),F.createElement(ho,{primary:t}))})))))},MuiAutocompleteWidget:fQ,MuiFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.placeholder,a=e.errorText,l=e.selectedLabel;e.selectedOpts;var s=e.selectedAltLabel,u=e.selectedFullLabel,c=v.useState(!1),d=bt(c,2),p=d[0],f=d[1],h=v.useCallback((function(){f(!0)}),[f]),g=v.useCallback((function(){f(!1)}),[f]),m=v.useCallback((function(e){void 0!==e.target.value&&r(e.target.value)}),[r]),y=v.useCallback((function(e){if(!o&&!e)return i;var r=function t(r){return r.map((function(r){return r.items?t(r.items):r.path===e?r.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop();return r}),[o,i,t]),b=null!=n,_=s||u;_==l&&(_=null);var x=F.createElement(mt,{error:!!a,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i,onChange:m,value:b?n:"",disabled:o,renderValue:y,size:"small",open:p,onOpen:h,onClose:g},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(t).map((function(n){var o=t[n],i=o.items,a=o.path,l=o.label,s=o.disabled,u=o.matchesType,c=o.tooltip,d="  ".repeat(r),p=F.createElement("span",null,d&&F.createElement("span",null,d),u?F.createElement("b",null,l):l);return c&&(p=F.createElement(tr,{title:c,placement:"left-start"},p)),i?[F.createElement(Nn,{disabled:s,key:a,disableSticky:!0},p),e(i,r+1)]:F.createElement(yt,{disabled:s,key:a,value:a},p)}))}(t));return _&&(x=F.createElement(tr,{title:p?null:_},x)),x=F.createElement(vt,null,x)},MuiFieldAutocomplete:function(e){return F.createElement(fQ,bQ(e,e.config))},MuiIcon:function(e){var t=e.type,r=e.readonly,n=jQ[t]||null;return n||"drag"!==t?"drag"===t?F.createElement(co,{size:"small",disabled:r,color:EQ[t]},n):n:F.createElement(kQ,null)},MuiButton:qQ,MuiButtonGroup:function(e){var t=e.children;return e.config,F.createElement(F.Fragment,null,t)},MuiConjs:AQ,MuiSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,i=e.hideLabel,a=e.id,l=e.config,s=e.type;l.settings.renderSize;var u=function(){return r(!t)},c=s,d=t&&o||n,p=t?F.createElement(VQ,null):F.createElement(NQ,null);return"lock"==s?i?F.createElement(de,{key:a+c,onClick:u,size:"small"},p):F.createElement(Je,{key:a+c,onClick:u,size:"small",startIcon:p},d):F.createElement(Gr,{control:F.createElement(nr,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:d})},MuiValueSources:GQ,MuiConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,o=e.title;(0,e.confirmFn)({description:o||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MuiUseConfirm:function(){var e=function(){var e=v.useMemo((function(){return gx++}),[]);return"confirm-".concat(e)}(),t=v.useContext(cx),r=t.confirmBase,n=t.closeOnParentUnmount,o=v.useCallback((function(t){return r(e,t)}),[e]);return v.useEffect((function(){return function(){n(e)}}),[e]),o},MuiProvider:function(e){var t=e.config,r=e.children,n=t.settings.theme||{},o=t.settings.locale||{},i=o.moment,a=n.mui,l=o.mui,s=G(a,l,{palette:{}}),u=XQ>=6?{locale:i}:{adapterLocale:i},c=F.createElement("div",{className:"mui"},r),d=F.createElement(Nr,w({dateAdapter:kk},u),F.createElement(hx,null,c));return s?F.createElement(kt,{theme:s},d):d}};function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rX=tX(tX({},hJ.settings),{},{renderField:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderOperator:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MuiFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MuiConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MuiSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MuiButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MuiIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MuiButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MuiProvider,e)},renderConfirm:function(e,t){return(0,t.W.MuiConfirm)(e)},useConfirm:function(e){return(0,e.W.MuiUseConfirm)()}}),nX=tX(tX({},hJ.widgets),{},{text:tX(tX({},hJ.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextWidget,e)}}),textarea:tX(tX({},hJ.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextAreaWidget,e)}}),number:tX(tX({},hJ.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiNumberWidget,e)}}),multiselect:tX(tX({},hJ.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?r(o,tX(tX({},e),{},{multiple:!0})):r(i,e)}}),select:tX(tX({},hJ.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiSelectWidget;return e.asyncFetch||e.showSearch?r(o,e):r(i,e)}}),slider:tX(tX({},hJ.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiSliderWidget,e)}}),boolean:tX(tX({},hJ.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiBooleanWidget,e)}}),date:tX(tX({},hJ.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateWidget,e)}}),time:tX(tX({},hJ.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTimeWidget,e)}}),datetime:tX(tX({},hJ.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateTimeWidget,e)}}),rangeslider:tX(tX({},hJ.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiRangeWidget,e)}})}),oX=tX({},hJ.types),iX=tX(tX({},hJ.ctx),{},{W:tX(tX({},hJ.ctx.W),ZQ)}),aX=tX(tX({},hJ),{},{ctx:iX,types:oX,widgets:nX,settings:rX});const lX=aX=VJ.ConfigMixins.addMixins(aX,["rangeslider"]),sX=lX,uX=e=>'<span class="logicField">'+e+"</span>",cX=e=>'<span class="logicOp">'+e+"</span>",dX=(e,t)=>'<span class="logicValue">'+("text"==t?'"'+e+'"':e)+"</span>",pX={AND:sX.conjunctions.AND,OR:sX.conjunctions.OR},fX=p(p({},sX.operators),{},{less:p(p({},sX.operators.less),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${uX(e)} ${cX("<")} ${dX(r,o)}`}),less_or_equal:p(p({},sX.operators.less_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${uX(e)} ${cX("<=")} ${dX(r,o)}`}),greater:p(p({},sX.operators.greater),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${uX(e)} ${cX(">")} ${dX(r,o)}`}),greater_or_equal:p(p({},sX.operators.greater_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${uX(e)} ${cX(">=")} ${dX(r,o)}`}),equal:p(p({},sX.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"equals":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),not_equal:p(p({},sX.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"not equals":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),starts_with:p(p({},sX.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"starts with":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),ends_with:p(p({},sX.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"ends with":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),between:p(p({},sX.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${uX(e)} ${cX("between")} ${dX(s,o)} ${cX("and")} ${dX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),not_between:p(p({},sX.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${uX(e)} ${cX("not between")} ${dX(s,o)} ${cX("and")} ${dX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),like:p(p({},sX.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"contains":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),not_like:p(p({},sX.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"does not containends with":i.label;return`${uX(e)} ${cX(u)} ${dX(r,o)}`}}),select_any_in:p(p({},sX.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${uX(e)} ${cX("in")} (${dX(s,"")})`}}),select_not_any_in:p(p({},sX.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${uX(e)} ${cX("not in")} (${dX(s,"")})`}}),multiselect_equals:p(p({},sX.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${cX("Any of")} (${dX(s,"")}) in ${uX(e)} ${cX("is selected")}`}}),multiselect_not_equals:p(p({},sX.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${cX("None of")} (${dX(s,"")}) in ${uX(e)} ${cX("is selected")}`}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is shown")}`},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is not shown")}`},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is valid")}`},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is not valid")}`},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is empty")}`},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is online")}`},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is Offline")}`},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is not empty")}`},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is empty")}`},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${uX(e)} ${dX("is not empty")}`}}),hX=p(p({},sX.widgets),{},{text:p({},sX.widgets.text),slider:p(p({},sX.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:p(p({},sX.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:p(p({},sX.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:p(p({},sX.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:p(p({},sX.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:p(p({},sX.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:p(p({},sX.widgets.treeselect),{},{customProps:{showSearch:!0}})}),gX=p(p({},sX.types),{},{boolean:ar(sX.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),vX=p(p(p({},sX.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),mX={ctx:lX.ctx,conjunctions:pX,operators:fX,widgets:hX,types:gX,settings:vX,funcs:{}};function yX(e){const t=VJ.jsonLogicFormat,r=VJ.queryString,n=VJ.loadTree,o=VJ.uuid,i=VJ.loadFromJsonLogic,a=VJ.checkTree,l=p(p({},mX),{},{fields:e.fields}),s=e.logic?a(i(e.logic,l),l):n({id:o(),type:"group"}),u=h(v.useState(s),2),c=u[0],d=u[1],f=h(v.useState(r(c,l,!0)),2),g=f[0],m=f[1];return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"query-builder-result",children:[e.logic&&g?j.jsx("pre",{className:"condition-human-text",children:jt(Be(g),50)}):j.jsx("pre",{className:"condition-human-text",children:e.t("no_condition")}),j.jsx("div",{className:"icon-container",children:j.jsx(de,{onClick:()=>e.onDialogStateChanged(!0),children:j.jsx(Do,{})})})]},"result"),j.jsxs(Rr,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:()=>e.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(rr,{id:"alert-dialog-title-logic-builder",children:e.title}),j.jsx(Mr,{children:j.jsx(W$,p(p({},l),{},{value:c,onChange:e=>{d(e)},renderBuilder:e=>j.jsx("div",{jey:"builder",className:"query-builder-container",children:j.jsx("div",{className:"query-builder",children:j.jsx(HG,p({},e))})})}))}),j.jsx(Lr,{children:j.jsx(Je,{onClick:()=>{e.onDialogStateChanged(!1),(()=>{const n=t(c,l),o=n.logic;n.errors,m(r(c,l,!0)),e.onChange(o)})()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const bX=(e,t,r,n)=>{var o,i,a,l,s,u,c,d,p,f,h;const g=e+". "+Be((null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||"");if(Re(e))return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(t.type){case"text":case"barcode":case"email":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[e]:{label:g,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[e]:{label:g,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[e]:{label:g,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[e]:{label:g,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let o={},y={};null===(i=t.children)||void 0===i||i.forEach((e=>{var t;const o=Be((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");y[e.code]=o?e.code+" - "+o:e.code})),o[e]={label:g,fieldSettings:{listValues:y},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let b=null===(a=t.children)||void 0===a?void 0:a.find((e=>"Aother"===e.code));var v;if(b&&null!==(l=r[b.qualifiedCode].children)&&void 0!==l&&l.find((e=>"Atext"===e.code)))o[e+"AotherAtext"]={label:`${g} [${(null===(v=r[b.qualifiedCode].content)||void 0===v||null===(v=v.label)||void 0===v?void 0:v[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return o;case"image_mcq":case"icon_mcq":case"mcq":let _={},x={};null===(s=t.children)||void 0===s||s.forEach((e=>{var t;const o=Be((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),_[e]={label:g,fieldSettings:{listValues:x},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=null===(u=t.children)||void 0===u?void 0:u.find((e=>"Aother"===e.code));var m;if(w&&null!==(c=r[w.qualifiedCode].children)&&void 0!==c&&c.find((e=>"Atext"===e.code)))_[e+"AotherAtext"]={label:`${g} [${(null===(m=r[w.qualifiedCode].content)||void 0===m||null===(m=m.label)||void 0===m?void 0:m[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return _;case"nps":let O={};return null===(d=t.children)||void 0===d||d.forEach((e=>{var t;const o=Be((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),O[e]={label:g,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},O;case"scq_icon_array":case"scq_array":let S={},k={};return null===(p=t.children)||void 0===p||p.filter((e=>"column"==e.type)).forEach((e=>{var t;const o=Be((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");k[e.code]=o?e.code+" - "+o:e.code})),S[e]={label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=t.children)||void 0===f||f.filter((e=>"row"==e.type)).forEach((t=>{var o;S[e+t.code]={label:g+" - "+Be((null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:k},operators:["select_any_in","select_not_any_in"]}})),S;case"ranking":case"image_ranking":let j={};return null===(h=t.children)||void 0===h||h.forEach((o=>{var i;j[e+o.code]={label:g+" - "+Be((null===(i=r[o.qualifiedCode].content)||void 0===i||null===(i=i.label)||void 0===i?void 0:i[n])||""),type:"number",fieldSettings:{min:1,max:t.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),j;default:return[]}},_X="_relevanceError_1j5a5_5",xX="_errorContainer_1j5a5_9";function wX({code:e,t:t}){var r,n,o;const i=Ne(),a=h(v.useState(!1),2),l=a[0],s=a[1],u=Fe((e=>e.designState)),c=F.useMemo((()=>u.langInfo)),d=F.useMemo((()=>u[e])),f=F.useMemo((()=>((e,t,r,n,o)=>{let i=hh(e,t),a={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:o}}};return i.forEach((e=>{r[e]&&(Me(e)||Re(e))&&(a=p(p({},a),bX(e,r[e],r,n)))})),a})(u.componentIndex,e,u,c.mainLang,c.languagesList.map((e=>e.code)))),[u]),g=null===(r=d.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code)),m=((null==g?void 0:g.errors)||[]).length>0,y=null===(n=d.relevance)||void 0===n?void 0:n.logic,b=!m&&Object.keys(f).length>0,_=h(v.useState((null===(o=d.relevance)||void 0===o?void 0:o.rule)||"show_always"),2),x=_[0],w=_[1],O="show_if"==x||"hide_if"==x,S=()=>i(Et({code:e,key:"relevance",value:{logic:void 0,rule:"show_always"}}));return j.jsxs("div",{className:`${m?_X:""}`,children:[j.jsx(vt,{variant:"standard",fullWidth:!0,children:j.jsxs(mt,{id:"show-hide-select",value:x,label:"Age",onChange:t=>(t=>{switch(w(t),t){case"show_always":return void S();case"hide_always":return void i(Et({code:e,key:"relevance",value:{logic:void 0,rule:t}}));case"show_if":case"hide_if":return"show_if"!=(null==y?void 0:y.rule)&&"hide_if"!=(null==y?void 0:y.rule)&&s(!0),void(y&&i(Et({code:e,key:"relevance",value:{logic:y,rule:t}})))}})(t.target.value),children:[j.jsx(yt,{disabled:m,value:"show_always",children:t("show_always")},"show_always"),j.jsx(yt,{disabled:!b,value:"show_if",children:t("show_if")},"show_if"),j.jsx(yt,{disabled:!b,value:"hide_if",children:t("hide_if")},"hide_if"),j.jsx(yt,{disabled:m,value:"hide_always",children:t("hide_always")},"hide_always")]})}),!m&&O&&j.jsx(yX,{title:t("show_if"==x?"condition_to_show":"condition_to_hide"),onChange:t=>{s(!1),O&&i(Et({code:e,key:"relevance",value:{logic:t,rule:x}}))},onDialogStateChanged:e=>s(e),fields:f,t:t,dialogOpen:l,logic:y}),m?j.jsxs("div",{className:xX,children:[j.jsx(Sn,{t:t,i18nKey:"wrong_logic_err"}),j.jsx(Je,{variant:"contained",onClick:()=>S(),children:"OK"})]}):"",O&&!y?j.jsx("div",{children:j.jsx(Sn,{t:t,i18nKey:"no_logic_err"})}):""]})}const OX=(e,t,r)=>{var n;const o=t[e];return{code:e,label:e+". "+Be(null===(n=o.content)||void 0===n||null===(n=n.label)||void 0===n?void 0:n[r])}},SX=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(SX(e,n))),r},kX=(e,t,r,n)=>{let o=[];return Re(t.code)||Me(t.code)?(e.filter((e=>e.parent==t.parent&&e.minIndex>t.maxIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{o=o.concat(OX(t.code,r,n)),o=o.concat(jX(e,t,r,n))})),o):o},jX=(e,t,r,n)=>{let o=[];return Re(t.code)?(t.children&&t.children.forEach((t=>{let i=e.find((e=>e.code===t));o=o.concat(OX(i.code,r,n)),o=o.concat(jX(e,i,r,n))})),o):o},EX={skipItem:"_skipItem_1n8m2_1",toEnd:"_toEnd_1n8m2_6"};function CX({code:e,t:t}){const r=Ne(),n=Fe((t=>t.designState[e].skip_logic||{})),o=Fe((t=>{const r=t.designState.langInfo.mainLang;return((e,t,r,n)=>{let o=[];if(!e)return o;let i=e.find((e=>e.code===t));return i?(o=o.concat(kX(e,i,r,n)),i.parent&&SX(e,i).filter((e=>Me(e.code)||Re(e.code))).forEach((t=>{o=o.concat(kX(e,t,r,n))})),o):o})(t.designState.componentIndex,e,t.designState,r)})),i=Fe((t=>t.designState[e].instructionList.filter((e=>e.code.startsWith("skip_to"))))),a=Fe((t=>{var r;const n=t.designState.langInfo.lang;return null===(r=t.designState[e])||void 0===r||null===(r=r.children)||void 0===r?void 0:r.map((e=>{var r;return{code:e.code,label:(null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n])||e.code}}))})),l=(t,n)=>{r("proceed"==n?Ct({code:e,answerCode:t}):Tt({code:e,answerCode:t,skipTo:n}))},s=(t,n)=>{r(qt({code:e,answerCode:t,toEnd:n}))};return j.jsx(j.Fragment,{children:null==a?void 0:a.map((e=>{var r;const a=e.code,u=null==n?void 0:n[a],c=null==u?void 0:u.skipTo,d=c||"proceed",p=c&&(null==i||null===(r=i.find((e=>e.code=="skip_to_on_"+a)))||void 0===r||null===(r=r.errors)||void 0===r?void 0:r.find((e=>"InvalidSkipReference"==e.name)));return j.jsxs("div",{className:EX.skipItem,children:[j.jsx(Sn,{t:t,values:{code:e.label},i18nKey:"if_answer_is"}),p?TX(a,c,l,t):qX(a,o,d,null==u?void 0:u.toEnd,l,s,t)]},e.code)}))})}function TX(e,t,r,n){return j.jsxs(L,{className:EX.errorDisplay,children:[j.jsx(dr,{style:{verticalAlign:"middle"}})," ",j.jsx(Sn,{t:n,values:{code:t},i18nKey:"invalid_skip_destination_err"}),j.jsx(Je,{variant:"contained",onClick:()=>r(e,"proceed"),children:n("ok")})]})}function qX(e,t,r,n,o,i,a){return j.jsxs(j.Fragment,{children:[j.jsx(vt,{variant:"standard",fullWidth:!0,children:j.jsxs(mt,{id:"skip-action",value:r,label:a("skip_to"),onChange:t=>o(e,t.target.value),children:[j.jsx(yt,{value:"proceed",children:a("proceed_as_usual")},"proceed"),t&&(null==t?void 0:t.map((e=>j.jsx(yt,{value:e.code,children:e.label},e.code))))]})}),r&&r.startsWith("G")&&j.jsxs("div",{className:EX.toEnd,children:[j.jsx("h4",{children:a("to_group_end")}),j.jsx(nr,{checked:n||!1,onChange:t=>i(e,t.target.checked)})]})]})}const IX={sectionTitle:"_sectionTitle_62go7_1",rightContent:"_rightContent_62go7_6",close:"_close_62go7_13",accordionStyle:"_accordionStyle_62go7_17"},AX={errorDisplay:"_errorDisplay_1avr2_1"};function LX({errors:e}){const t=Pe("design").t;return j.jsx(L,{className:AX.errorDisplay,children:e.map((e=>"PriorityGroupItemNotChild"==e.name?j.jsx(Sn,{t:t,i18nKey:"err_priority_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicatePriorityGroupItems"==e.name?j.jsx(Sn,{t:t,i18nKey:"err_duplicate_priority_group_items",values:{items:e.items.join(", ")}},e.name):"PriorityLimitMismatch"==e.name?t("err_priority_limit_mismatch"):"RandomGroupItemNotChild"==e.name?j.jsx(Sn,{t:t,i18nKey:"err_random_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicateRandomGroupItems"==e.name?j.jsx(Sn,{t:t,i18nKey:"err_duplicate_random_group_items",values:{items:e.items.join(", ")}},e.name):void 0))},"box")}const PX={randomHeader:"_randomHeader_1pjix_1",title:"_title_1pjix_6",action:"_action_1pjix_11",settingIcon:"_settingIcon_1pjix_15",randomBody:"_randomBody_1pjix_19",list:"_list_1pjix_19",weight:"_weight_1pjix_30",randomAction:"_randomAction_1pjix_47",listItem:"_listItem_1pjix_53",label:"_label_1pjix_58",input:"_input_1pjix_64",listItemError:"_listItemError_1pjix_68",randomItem:"_randomItem_1pjix_84",highlighted:"_highlighted_1pjix_89"};var NX={},FX=A;Object.defineProperty(NX,"__esModule",{value:!0});var RX=NX.default=void 0,MX=FX(Le()),DX=j;function VX(e){var t;return j.jsxs(en,{className:`${PX.randomItem} ${e.isBeingEdited?PX.highlighted:""}`,children:[j.jsxs("div",{className:PX.randomHeader,children:[j.jsx("h4",{className:PX.title,children:e.t("prioritise")}),j.jsxs("div",{className:PX.action,children:[j.jsx(de,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(RX,{className:PX.settingIcon})}),j.jsx(de,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(Zr,{className:PX.settingIcon})})]})]}),j.jsxs("div",{className:PX.randomBody,children:[e.t("priority_show_limit_from_count",{limit:e.data.limit,count:null===(t=e.data.weights)||void 0===t?void 0:t.length}),j.jsx("ul",{className:PX.list,children:e.data&&e.data.weights&&e.data.weights.map(((t,r)=>j.jsx(zX,{label:e.getChildLabelByCode(t.code),code:t.code,childrenCodes:e.childrenCodes,weight:t.weight},r)))})]})]})}function zX({code:e,label:t,weight:r,childrenCodes:n}){return j.jsxs("li",{className:-1!==n.indexOf(e)?PX.listItem:PX.listItemError,children:[j.jsxs("div",{className:`${PX.content} ${PX.label}`,children:[e,": ",t]}),j.jsx("div",{className:PX.weight,children:j.jsx("span",{children:r})})]})}RX=NX.default=(0,MX.default)((0,DX.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");const BX={title:"_title_5cg20_1",randomBody:"_randomBody_5cg20_6",list:"_list_5cg20_6",weight:"_weight_5cg20_18",label:"_label_5cg20_35",randomAction:"_randomAction_5cg20_39",listItem:"_listItem_5cg20_45",input:"_input_5cg20_50",randomItem:"_randomItem_5cg20_54"};var HX={},UX=A;Object.defineProperty(HX,"__esModule",{value:!0});var $X=HX.default=void 0,WX=UX(Le()),KX=j;$X=HX.default=(0,WX.default)((0,KX.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var YX={},GX=A;Object.defineProperty(YX,"__esModule",{value:!0});var JX=YX.default=void 0,QX=GX(Le()),XX=j;function ZX(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.data),2),a=i[0],l=i[1],s=e=>{l(p(p({},a),{},{limit:e}))},u=(e,t)=>{const r=p({},a);r.weights=[...a.weights],r.weights[t]=p(p({},a.weights[t]),{},{weight:e}),l(r)};return j.jsxs(en,{className:BX.randomItem,children:[j.jsx("h4",{className:BX.title,children:e.title}),j.jsxs("div",{className:BX.randomBody,children:[j.jsx(tZ,{t:t,increaseLimit:e=>{if(e===a.weights.length-1)return!1;e++,s(e)},decreaseLimit:e=>{if(1===e)return!1;e--,s(e)},limit:a.limit}),j.jsx("ul",{className:`${BX.list} ${BX.active}`,children:a&&a.weights&&a.weights.map(((t,r)=>j.jsx(eZ,{code:t.code,weight:t.weight,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),decreaseWeight:e=>((e,t)=>{if(1===e)return!1;e--,u(e,t)})(e,r),increaseWeight:e=>((e,t)=>{e++,u(e,t)})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t.code)},r)))})]}),j.jsxs("div",{className:BX.randomAction,children:[j.jsx(Je,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(Je,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=p({},a),r=n.reduce(((e,r,n)=>(r&&e.push(t.weights[n]),e)),[]);e.onSubmit(p(p({},t),{},{weights:r}))})(),disabled:!(()=>{const e=n.filter((e=>e)).length;return e>=2&&a.limit<=e-1&&a.limit>=1})(),children:t("submit")})]})]})}function eZ({code:e,checked:t,label:r,weight:n,handleChange:o,increaseWeight:i,decreaseWeight:a}){return j.jsxs("li",{className:BX.listItem,children:[j.jsx(Jr,{checked:t,onChange:e=>o(e.target.checked)}),j.jsxs("div",{className:`${BX.content} ${BX.label}`,children:[e,": ",r]}),j.jsxs("div",{className:BX.weight,children:[j.jsx(de,{size:"small",onClick:e=>a(n),children:j.jsx($X,{})}),j.jsx("span",{children:n}),j.jsx(de,{size:"small",onClick:e=>i(n),children:j.jsx(JX,{})})]})]})}function tZ({limit:e,increaseLimit:t,decreaseLimit:r,t:n}){return j.jsxs(j.Fragment,{children:[n("priority_show"),j.jsx(de,{size:"small",onClick:t=>r(e),children:j.jsx($X,{})}),e,j.jsx(de,{size:"small",onClick:r=>t(e),children:j.jsx(JX,{})})]})}function rZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=Ne(),l=h(v.useState({}),2),s=l[0],u=l[1],c=Fe((e=>e.designState[r])),d=Fe((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),f=Fe((e=>e.designState.langInfo.lang)),g=Fe((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[f]}})))||[]})),m=It(c,"priority_groups"),y=(null==m||null===(o=m.priorities)||void 0===o?void 0:o.filter((e=>!t||e.weights.some((e=>d.includes(e.code))))))||[];let b=y.map((e=>e.weights)).flat().map((e=>e.code)).flat();const _=(null==m||null===(i=m.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>b.includes(e))))))||[],x=e=>{a(t?At({code:r,priorities:e,type:t}):Lt({code:r,priorities:e}))},w=e=>{var t;const r=null===(t=g.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},O=()=>d.filter((e=>!b.includes(e))),S=!s||0==Object.keys(s).length,k=()=>{u({})},E=e=>{let t=[...e.weights].sort((function(e,t){return d.findIndex((t=>t===e.code))-d.findIndex((e=>e===t.code))}));return p(p({},e),{},{weights:t})};return j.jsxs(j.Fragment,{children:[y&&y.map(((t,r)=>j.jsx(VX,{t:e,data:E(t),index:r,childrenCodes:d,isBeingEdited:s.index==r,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&x(y.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[];n.weights=[];const o=O();d.forEach((e=>{if(o.includes(e))n.weights.push({code:e,weight:1}),r.push(!1);else{let o=y[t].weights.findIndex((t=>t.code==e));o>-1&&(n.weights.push(y[t].weights[o]),r.push(!0))}n.limit=y[t].limit})),u({index:t,checked:r,title:e("edit_priority_rule"),data:n})})(t),getChildLabelByCode:w},r))),!n&&_.length>0?j.jsx(LX,{errors:_}):"",S&&j.jsxs(Je,{variant:"contained",disabled:O().length<2,onClick:()=>{const t=O(),r=t.map((e=>({code:e,weight:1})));u({title:e("add_priority_rule"),checked:t.map((e=>!1)),data:{limit:1,weights:r},index:y?y.length:0,icon:j.jsx(Nh,{})})},children:[j.jsx(Nh,{sx:{paddingRight:"8px"}})," ",e("add_priority_rule")]}),s&&s.data&&j.jsx(ZX,{t:e,title:s.title,data:((e,t)=>{let r=[...e.weights].filter((e=>t.includes(e.code)));return r.length<=1&&k(),{limit:Math.min(e.limit,r.length-1),weights:r}})(s.data,d),index:s.index,getChildLabelByCode:w,checked:s.checked,onSubmit:e=>((e,t)=>{const r=y?[...y]:[];r[t]=p({},e),x(r),k()})(e,s.index),onCancel:k})]})}JX=YX.default=(0,QX.default)((0,XX.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");const nZ="_selectValue_14l81_1",oZ={errorDisplay:"_errorDisplay_1vtlj_1",addNew:"_addNew_1vtlj_10"},iZ={title:"_title_1p7e9_1",list:"_list_1p7e9_6",randomAction:"_randomAction_1p7e9_19",listItem:"_listItem_1p7e9_25",input:"_input_1p7e9_30",randomItem:"_randomItem_1p7e9_34"};function aZ(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.randomOption),2),a=i[0],l=i[1],s=[t("random_order"),t("flip_order"),t("sort_by_label")],u=["RANDOM","FLIP","ALPHA"];return j.jsxs(en,{className:iZ.randomItem,children:[j.jsx("h4",{className:iZ.title,children:e.title}),j.jsx(vt,{variant:"standard",fullWidth:!0,children:j.jsx(mt,{id:"select-value",value:a,label:"Select Value",onChange:e=>{l(e.target.value)},children:s.map(((e,t)=>j.jsx(yt,{value:u[t],children:e},e)))})}),j.jsx("ul",{className:iZ.list,children:e.data&&e.data.map(((t,r)=>j.jsx(lZ,{code:t,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t)},r)))}),j.jsxs("div",{className:iZ.randomAction,children:[j.jsx(Je,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(Je,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=n.reduce(((t,r,n)=>(r&&t.push(e.data[n]),t)),[]);e.onSubmit(t,a)})(),disabled:!(n.filter((e=>e)).length>=2),children:t("submit")})]})]})}function lZ({code:e,label:t,checked:r,handleChange:n}){return j.jsxs("li",{className:iZ.listItem,children:[j.jsx(Jr,{checked:r,onChange:e=>n(e.target.checked)}),e,": ",t]})}const sZ={randomHeader:"_randomHeader_10d2m_1",title:"_title_10d2m_6",action:"_action_10d2m_11",settingIcon:"_settingIcon_10d2m_15",list:"_list_10d2m_19",randomAction:"_randomAction_10d2m_30",listItem:"_listItem_10d2m_36",label:"_label_10d2m_41",input:"_input_10d2m_47",listItemError:"_listItemError_10d2m_51",randomItem:"_randomItem_10d2m_63",highlighted:"_highlighted_10d2m_68"},uZ=(e,t)=>{switch(e){case"ALPHA":return t("sort_by_label");case"RANDOM":return t("random_order");case"FLIP":return t("flip_order")}throw"unidentified randomOption: "+e};function cZ(e){const t=e.t;return j.jsxs(en,{className:`${sZ.randomItem} ${e.isBeingEdited?sZ.highlighted:""}`,children:[j.jsxs("div",{className:sZ.randomHeader,children:[j.jsx("h4",{className:sZ.title,children:uZ(e.randomOption,t)}),j.jsxs("div",{className:sZ.action,children:[j.jsx(de,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(RX,{className:sZ.settingIcon})}),j.jsx(de,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(Zr,{className:sZ.settingIcon})})]})]}),j.jsx("ul",{className:sZ.list,children:e.data&&e.data.map(((t,r)=>j.jsx(dZ,{label:e.getChildLabelByCode(t),code:t,childrenCodes:e.childrenCodes},r)))})]})}function dZ({code:e,label:t,childrenCodes:r}){return j.jsx("li",{className:-1!==r.indexOf(e)?sZ.listItem:sZ.listItemError,children:j.jsxs("div",{className:`${sZ.content} ${sZ.label}`,children:[e,": ",t]})})}function pZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=Ne(),l=h(v.useState({}),2),s=l[0],u=l[1],c=Fe((e=>e.designState[r])),d=Fe((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),p=Fe((e=>e.designState.langInfo.lang)),f=Fe((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[p]}})))||[]})),g=It(c,"random_group"),m=(null==g||null===(o=g.groups)||void 0===o?void 0:o.filter((e=>!t||e.codes.some((e=>d.includes(e))))))||[],y=m.map((e=>e.codes)).flat(),b=(null==g||null===(i=g.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>y.includes(e))))))||[],_=e=>{a(t?Pt({code:r,groups:e,type:t}):Nt({code:r,groups:e}))},x=e=>{var t;const r=null===(t=f.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},w=e=>d.filter((e=>!y.includes(e))),O=e=>[...e.codes].sort((function(e,t){return d.findIndex((t=>t===e))-d.findIndex((e=>e===t))})),S=()=>{u({})},k=!s||0==Object.keys(s).length;return j.jsxs(j.Fragment,{children:[m&&m.map(((t,r)=>j.jsx(cZ,{t:e,data:O(t),randomOption:t.randomOption,index:r,isBeingEdited:s.index==r,childrenCodes:d,getChildLabelByCode:x,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&_(m.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[],o=w();n=d.filter((e=>o.includes(e)||m[t].codes.includes(e))),r=n.map((e=>!!m[t].codes.includes(e))),u({index:t,checked:r,randomOption:m[t].randomOption||"RANDOM",title:e("edit_random_rule"),data:n})})(t)},r))),!n&&b.length>0?j.jsx(LX,{errors:b}):"",k&&j.jsxs(Je,{className:oZ.addNew,variant:"contained",disabled:w().length<2,onClick:()=>{const t=w();u({title:e("add_new_random_rule"),data:t,checked:[],randomOption:"RANDOM",index:m?m.length:0})},children:[j.jsx(qh,{sx:{paddingRight:"8px"}})," ",e("add_random_rule")]}),s&&s.data&&j.jsx(aZ,{t:e,title:s.title,data:((e,t)=>{let r=[...e].filter((e=>t.includes(e)));return r.length<=1&&S(),r})(s.data,d),randomOption:s.randomOption,getChildLabelByCode:x,checked:s.checked,onSubmit:(e,t)=>((e,t,r)=>{const n=m?[...m]:[];n[r]={codes:e,randomOption:t},_(n),S()})(e,t,s.index),onCancel:S})]})}function fZ({t:e,rule:t,code:r}){const n=Ne(),o=Fe((e=>e.designState[r][t]||"NONE"));let i="",a=[],l=[];switch(t){case"randomize_questions":i=e("questions_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":i=e("questions_priority"),a=[e("no_priority"),e("prioritise_questions")],l=["NONE","prioritize"];break;case"randomize_groups":i=e("groups_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":i=e("groups_priority"),a=[e("no_priority"),e("prioritise_groups")],l=["NONE","prioritize"];break;case"randomize_options":i=e("options_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":i=e("options_priority"),a=[e("no_priority"),e("prioritise_options")],l=["NONE","prioritize"];break;case"randomize_rows":i=e("rows_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":i=e("rows_priority"),a=[e("no_priority"),e("prioritise_rows")],l=["NONE","prioritize"];break;case"randomize_columns":i=e("columns_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":i=e("columns_priority"),a=[e("no_priority"),e("prioritise_columns")],l=["NONE","prioritize"]}return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:i}),j.jsx(vt,{className:nZ,variant:"standard",fullWidth:!0,children:j.jsx(mt,{id:"select-value",value:o,label:"Select Value",onChange:e=>{var o;o=e.target.value,n(ht({code:r,key:t,value:"NONE"==o?void 0:o}))},children:a.map(((e,t)=>j.jsx(yt,{value:l[t],children:e},e)))})}),"custom"==o&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(t)&&j.jsx(pZ,{label:"",code:r,t:e}),"custom"==o&&"randomize_rows"==t&&j.jsx(pZ,{label:"",type:"row",code:r,t:e}),"prioritize"==o&&"prioritize_rows"==t&&j.jsx(rZ,{label:"",type:"row",code:r,t:e}),"custom"==o&&"randomize_columns"==t&&j.jsx(pZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&"prioritize_columns"==t&&j.jsx(rZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(t)&&j.jsx(rZ,{label:"",code:r,t:e})]})}const hZ=()=>{const e=Pe("design").t,t=Ne(),r=Fe((e=>e.designState.Survey.navigationMode||tn.GROUP_BY_GROUP));return j.jsxs(vt,{fullWidth:!0,children:[j.jsx(wr,{id:"navigation-mode-label",children:e("navigation_mode")}),j.jsxs(mt,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:e("label.navigation_mode"),onChange:e=>{t(ht({code:"Survey",key:"navigationMode",value:e.target.value}))},children:[j.jsx(yt,{value:tn.GROUP_BY_GROUP,children:e("group_by_group")}),j.jsx(yt,{value:tn.QUESTION_BY_QUESTION,children:e("question_by_question")}),j.jsx(yt,{value:tn.ALL_IN_ONE,children:e("all_in_one")})]})]})},gZ="_theming_1v217_1",vZ="_chooseImage_1v217_12",mZ="_resetButton_1v217_21",yZ="_fontText_1v217_24",bZ="_selectDropdown_1v217_27",_Z="_colorBox_1v217_33",xZ="_colorPickerContainer_1v217_40",wZ={themingItem:"_themingItem_11qn9_1",themingItemBody:"_themingItemBody_11qn9_6",selectDropdown:"_selectDropdown_11qn9_13"};function OZ(e){const t=Array.from({length:12},((e,t)=>2*t+10));return j.jsx("div",{className:wZ.themingItem,children:j.jsx("div",{className:wZ.themingItemBody,children:j.jsx(mt,{size:"small",value:e.value.size||e.default.size,onChange:t=>{return r="size",n=t.target.value,void e.onChange(p(p({},e.value),{},{[r]:n}));var r,n},IconComponent:lr,className:wZ.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:t&&t.length>0&&t.map(((e,t)=>j.jsx(yt,{value:e,children:e},`fontSize-${t}`)))},"fontSize")})})}var SZ={},kZ={},jZ=aa,EZ=Bl,CZ=es;var TZ=function(e){return"string"==typeof e||!EZ(e)&&CZ(e)&&"[object String]"==jZ(e)},qZ=ZI;var IZ=dU,AZ=function(e){return"function"==typeof e?e:qZ};var LZ=function(e,t){return e&&IZ(e,AZ(t))},PZ=$s;var NZ=function(e,t){return function(r,n){if(null==r)return r;if(!PZ(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}},FZ=NZ(dU),RZ=$s;var MZ=function(e,t){var r=-1,n=RZ(e)?Array(e.length):[];return FZ(e,(function(e,o,i){n[++r]=t(e,o,i)})),n},DZ=Uq,VZ=zU,zZ=MZ,BZ=Bl;var HZ=function(e,t){return(BZ(e)?DZ:zZ)(e,VZ(t))};Object.defineProperty(kZ,"__esModule",{value:!0}),kZ.flattenNames=void 0;var UZ=YZ(TZ),$Z=YZ(LZ),WZ=YZ(kP),KZ=YZ(HZ);function YZ(e){return e&&e.__esModule?e:{default:e}}var GZ=kZ.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,KZ.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,WZ.default)(t)?(0,$Z.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,UZ.default)(t)&&r.push(t)})),r};kZ.default=GZ;var JZ={},QZ=sP;var XZ=function(e){return QZ(e,5)};Object.defineProperty(JZ,"__esModule",{value:!0}),JZ.mergeClasses=void 0;var ZZ=r0(LZ),e0=r0(XZ),t0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function r0(e){return e&&e.__esModule?e:{default:e}}var n0=JZ.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,e0.default)(e.default)||{};return t.map((function(t){var n=e[t];return n&&(0,ZZ.default)(n,(function(e,t){r[t]||(r[t]={}),r[t]=t0({},r[t],n[t])})),t})),r};JZ.default=n0;var o0={};Object.defineProperty(o0,"__esModule",{value:!0}),o0.autoprefix=void 0;var i0,a0=(i0=LZ)&&i0.__esModule?i0:{default:i0},l0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s0={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},u0=o0.autoprefix=function(e){var t={};return(0,a0.default)(e,(function(e,r){var n={};(0,a0.default)(e,(function(e,t){var r=s0[t];r?n=l0({},n,r(e)):n[t]=e})),t[r]=n})),t};o0.default=u0;var c0={};Object.defineProperty(c0,"__esModule",{value:!0}),c0.hover=void 0;var d0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0=function(e){return e&&e.__esModule?e:{default:e}}(v);function f0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h0=c0.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=f0(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={hover:!1},i.handleMouseOver=function(){return i.setState({hover:!0})},i.handleMouseOut=function(){return i.setState({hover:!1})},i.render=function(){return p0.default.createElement(t,{onMouseOver:i.handleMouseOver,onMouseOut:i.handleMouseOut},p0.default.createElement(e,d0({},i.props,i.state)))},f0(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(p0.default.Component)};c0.default=h0;var g0={};Object.defineProperty(g0,"__esModule",{value:!0}),g0.active=void 0;var v0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0=function(e){return e&&e.__esModule?e:{default:e}}(v);function y0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b0=g0.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=y0(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={active:!1},i.handleMouseDown=function(){return i.setState({active:!0})},i.handleMouseUp=function(){return i.setState({active:!1})},i.render=function(){return m0.default.createElement(t,{onMouseDown:i.handleMouseDown,onMouseUp:i.handleMouseUp},m0.default.createElement(e,v0({},i.props,i.state)))},y0(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(m0.default.Component)};g0.default=b0;var _0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r},Object.defineProperty(SZ,"__esModule",{value:!0}),SZ.ReactCSS=SZ.loop=SZ.handleActive=C0=SZ.handleHover=SZ.hover=void 0;var x0=E0(kZ),w0=E0(JZ),O0=E0(o0),S0=E0(c0),k0=E0(g0),j0=E0(_0);function E0(e){return e&&e.__esModule?e:{default:e}}SZ.hover=S0.default;var C0=SZ.handleHover=S0.default;SZ.handleActive=k0.default,SZ.loop=j0.default;var T0=SZ.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=(0,x0.default)(r),i=(0,w0.default)(e,o);return(0,O0.default)(i)},q0=SZ.default=T0,I0={},A0=function(e,t,r,n){var o=e+"-"+t+"-"+r+(n?"-server":"");if(I0[o])return I0[o];var i=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var o=n?new n:document.createElement("canvas");o.width=2*r,o.height=2*r;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,r,r),i.translate(r,r),i.fillRect(0,0,r,r),o.toDataURL()):null}(e,t,r,n);return I0[o]=i,i},L0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0=function(e){var t=e.white,r=e.grey,n=e.size,o=e.renderers,i=e.borderRadius,a=e.boxShadow,l=e.children,s=q0({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+A0(t,r,n,o.canvas)+") center left"}}});return v.isValidElement(l)?F.cloneElement(l,L0({},l.props,{style:L0({},l.props.style,s.grid)})):F.createElement("div",{style:s.grid})};P0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var N0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function R0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M0=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=R0(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n,o){var i=o.clientWidth,a=o.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),c=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(n!==(p=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},R0(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F0(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=q0({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:N0({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return F.createElement("div",{style:r.alpha},F.createElement("div",{style:r.checkboard},F.createElement(P0,{renderers:this.props.renderers})),F.createElement("div",{style:r.gradient}),F.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("div",{style:r.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:r.slider}))))}}]),t}(v.PureComponent||v.Component),D0=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var V0=[38,40],z0=1,B0=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,V0.indexOf(t)>-1)){var o=r.getArrowOffset(),i=38===e.keyCode?n+o:n-o;r.setUpdatedValue(i,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+z0++,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D0(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=q0({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return F.createElement("div",{style:t.wrap},F.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?F.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(v.PureComponent||v.Component),H0=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function U0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $0=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=U0(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n){var o=n.clientWidth,i=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(c=u<0?359:u>i?0:360*(-100*u/i+100)/100,r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var d=void 0;if(d=s<0?0:s>o?359:100*s/o*360/100,r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},U0(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H0(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=q0({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return F.createElement("div",{style:n.hue},F.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),F.createElement("div",{style:n.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:n.slider}))))}}]),t}(v.PureComponent||v.Component);function W0(e,t){return e===t||e!=e&&t!=t}function K0(e,t){for(var r=e.length;r--;)if(W0(e[r][0],t))return r;return-1}var Y0=Array.prototype.splice;function G0(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}G0.prototype.clear=function(){this.__data__=[],this.size=0},G0.prototype.delete=function(e){var t=this.__data__,r=K0(t,e);return!(r<0)&&(r==t.length-1?t.pop():Y0.call(t,r,1),--this.size,!0)},G0.prototype.get=function(e){var t=this.__data__,r=K0(t,e);return r<0?void 0:t[r][1]},G0.prototype.has=function(e){return K0(this.__data__,e)>-1},G0.prototype.set=function(e,t){var r=this.__data__,n=K0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var J0="object"==typeof global&&global&&global.Object===Object&&global,Q0="object"==typeof self&&self&&self.Object===Object&&self,X0=J0||Q0||Function("return this")(),Z0=X0.Symbol,e1=Object.prototype,t1=e1.hasOwnProperty,r1=e1.toString,n1=Z0?Z0.toStringTag:void 0;var o1=Object.prototype.toString;var i1="[object Null]",a1="[object Undefined]",l1=Z0?Z0.toStringTag:void 0;function s1(e){return null==e?void 0===e?a1:i1:l1&&l1 in Object(e)?function(e){var t=t1.call(e,n1),r=e[n1];try{e[n1]=void 0;var n=!0}catch(ln){}var o=r1.call(e);return n&&(t?e[n1]=r:delete e[n1]),o}(e):function(e){return o1.call(e)}(e)}function u1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var c1="[object AsyncFunction]",d1="[object Function]",p1="[object GeneratorFunction]",f1="[object Proxy]";function h1(e){if(!u1(e))return!1;var t=s1(e);return t==d1||t==p1||t==c1||t==f1}var g1=X0["__core-js_shared__"],v1=function(){var e=/[^.]+$/.exec(g1&&g1.keys&&g1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var m1=Function.prototype.toString;function y1(e){if(null!=e){try{return m1.call(e)}catch(ln){}try{return e+""}catch(ln){}}return""}var b1=/^\[object .+?Constructor\]$/,_1=Function.prototype,x1=Object.prototype,w1=_1.toString,O1=x1.hasOwnProperty,S1=RegExp("^"+w1.call(O1).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k1(e){return!(!u1(e)||(t=e,v1&&v1 in t))&&(h1(e)?S1:b1).test(y1(e));var t}function j1(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return k1(r)?r:void 0}var E1=j1(X0,"Map"),C1=j1(Object,"create");var T1=Object.prototype.hasOwnProperty;var q1=Object.prototype.hasOwnProperty;function I1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A1(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function L1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}I1.prototype.clear=function(){this.__data__=C1?C1(null):{},this.size=0},I1.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},I1.prototype.get=function(e){var t=this.__data__;if(C1){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return T1.call(t,e)?t[e]:void 0},I1.prototype.has=function(e){var t=this.__data__;return C1?void 0!==t[e]:q1.call(t,e)},I1.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=C1&&void 0===t?"__lodash_hash_undefined__":t,this},L1.prototype.clear=function(){this.size=0,this.__data__={hash:new I1,map:new(E1||G0),string:new I1}},L1.prototype.delete=function(e){var t=A1(this,e).delete(e);return this.size-=t?1:0,t},L1.prototype.get=function(e){return A1(this,e).get(e)},L1.prototype.has=function(e){return A1(this,e).has(e)},L1.prototype.set=function(e,t){var r=A1(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function P1(e){var t=this.__data__=new G0(e);this.size=t.size}P1.prototype.clear=function(){this.__data__=new G0,this.size=0},P1.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},P1.prototype.get=function(e){return this.__data__.get(e)},P1.prototype.has=function(e){return this.__data__.has(e)},P1.prototype.set=function(e,t){var r=this.__data__;if(r instanceof G0){var n=r.__data__;if(!E1||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new L1(n)}return r.set(e,t),this.size=r.size,this};var N1=function(){try{var e=j1(Object,"defineProperty");return e({},"",{}),e}catch(ln){}}();function F1(e,t,r){"__proto__"==t&&N1?N1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function R1(e,t,r){(void 0!==r&&!W0(e[t],r)||void 0===r&&!(t in e))&&F1(e,t,r)}var M1=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var l=i[++n];if(!1===t(o[l],l,o))break}return e},D1="object"==typeof u&&u&&!u.nodeType&&u,V1=D1&&"object"==typeof d&&d&&!d.nodeType&&d,z1=V1&&V1.exports===D1?X0.Buffer:void 0;z1&&z1.allocUnsafe;var B1=X0.Uint8Array;function H1(e,t){var r,n,o=(r=e.buffer,n=new r.constructor(r.byteLength),new B1(n).set(new B1(r)),n);return new e.constructor(o,e.byteOffset,e.length)}var U1=Object.create,$1=function(){function e(){}return function(t){if(!u1(t))return{};if(U1)return U1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function W1(e,t){return function(r){return e(t(r))}}var K1=W1(Object.getPrototypeOf,Object),Y1=Object.prototype;function G1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y1)}function J1(e){return null!=e&&"object"==typeof e}function Q1(e){return J1(e)&&"[object Arguments]"==s1(e)}var X1=Object.prototype,Z1=X1.hasOwnProperty,e2=X1.propertyIsEnumerable,t2=Q1(function(){return arguments}())?Q1:function(e){return J1(e)&&Z1.call(e,"callee")&&!e2.call(e,"callee")},r2=Array.isArray,n2=9007199254740991;function o2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n2}function i2(e){return null!=e&&o2(e.length)&&!h1(e)}var a2="object"==typeof u&&u&&!u.nodeType&&u,l2=a2&&"object"==typeof d&&d&&!d.nodeType&&d,s2=l2&&l2.exports===a2?X0.Buffer:void 0,u2=(s2?s2.isBuffer:void 0)||function(){return!1},c2="[object Object]",d2=Function.prototype,p2=Object.prototype,f2=d2.toString,h2=p2.hasOwnProperty,g2=f2.call(Object);var v2={};v2["[object Float32Array]"]=v2["[object Float64Array]"]=v2["[object Int8Array]"]=v2["[object Int16Array]"]=v2["[object Int32Array]"]=v2["[object Uint8Array]"]=v2["[object Uint8ClampedArray]"]=v2["[object Uint16Array]"]=v2["[object Uint32Array]"]=!0,v2["[object Arguments]"]=v2["[object Array]"]=v2["[object ArrayBuffer]"]=v2["[object Boolean]"]=v2["[object DataView]"]=v2["[object Date]"]=v2["[object Error]"]=v2["[object Function]"]=v2["[object Map]"]=v2["[object Number]"]=v2["[object Object]"]=v2["[object RegExp]"]=v2["[object Set]"]=v2["[object String]"]=v2["[object WeakMap]"]=!1;var m2,y2="object"==typeof u&&u&&!u.nodeType&&u,b2=y2&&"object"==typeof d&&d&&!d.nodeType&&d,_2=b2&&b2.exports===y2&&J0.process,x2=function(){try{var e=b2&&b2.require&&b2.require("util").types;return e||_2&&_2.binding&&_2.binding("util")}catch(ln){}}(),w2=x2&&x2.isTypedArray,O2=w2?(m2=w2,function(e){return m2(e)}):function(e){return J1(e)&&o2(e.length)&&!!v2[s1(e)]};function S2(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var k2=Object.prototype.hasOwnProperty;function j2(e,t,r){var n=e[t];k2.call(e,t)&&W0(n,r)&&(void 0!==r||t in e)||F1(e,t,r)}var E2=9007199254740991,C2=/^(?:0|[1-9]\d*)$/;function T2(e,t){var r=typeof e;return!!(t=null==t?E2:t)&&("number"==r||"symbol"!=r&&C2.test(e))&&e>-1&&e%1==0&&e<t}var q2=Object.prototype.hasOwnProperty;function I2(e,t){var r=r2(e),n=!r&&t2(e),o=!r&&!n&&u2(e),i=!r&&!n&&!o&&O2(e),a=r||n||o||i,l=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=l.length;for(var u in e)!t&&!q2.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||T2(u,s))||l.push(u);return l}var A2=Object.prototype.hasOwnProperty;function L2(e){if(!u1(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=G1(e),r=[];for(var n in e)("constructor"!=n||!t&&A2.call(e,n))&&r.push(n);return r}function P2(e){return i2(e)?I2(e,!0):L2(e)}function N2(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=void 0;void 0===s&&(s=e[l]),o?F1(r,l,s):j2(r,l,s)}return r}(e,P2(e))}function F2(e,t,r,n,o,i,a){var l=S2(e,r),s=S2(t,r),u=a.get(s);if(u)R1(e,r,u);else{var c,d=i?i(l,s,r+"",e,t,a):void 0,p=void 0===d;if(p){var f=r2(s),h=!f&&u2(s),g=!f&&!h&&O2(s);d=s,f||h||g?r2(l)?d=l:J1(c=l)&&i2(c)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(l):h?(p=!1,d=s.slice()):g?(p=!1,d=H1(s)):d=[]:function(e){if(!J1(e)||s1(e)!=c2)return!1;var t=K1(e);if(null===t)return!0;var r=h2.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&f2.call(r)==g2}(s)||t2(s)?(d=l,t2(l)?d=N2(l):u1(l)&&!h1(l)||(d=function(e){return"function"!=typeof e.constructor||G1(e)?{}:$1(K1(e))}(s))):p=!1}p&&(a.set(s,d),o(d,s,n,i,a),a.delete(s)),R1(e,r,d)}}function R2(e,t,r,n,o){e!==t&&M1(t,(function(i,a){if(o||(o=new P1),u1(i))F2(e,t,a,r,R2,n,o);else{var l=n?n(S2(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),R1(e,a,l)}}),P2)}function M2(e){return e}var D2=Math.max;var V2=N1?function(e,t){return N1(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:M2,z2=Date.now;var B2=function(e){var t=0,r=0;return function(){var n=z2(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V2);function H2(e,t){return B2(function(e,t,r){return t=D2(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=D2(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,l)}}(e,t,M2),e+"")}var U2,$2=(U2=function(e,t,r){R2(e,t,r)},H2((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=U2.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!u1(r))return!1;var n=typeof t;return!!("number"==n?i2(r)&&T2(t,r.length):"string"==n&&t in r)&&W0(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&U2(e,a,r,o)}return e}))),W2=function(e){var t=e.zDepth,r=e.radius,n=e.background,o=e.children,i=e.styles,a=q0($2({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===i?{}:i),{"zDepth-1":1===t});return F.createElement("div",{style:a.wrap},F.createElement("div",{style:a.bg}),F.createElement("div",{style:a.content},o))};W2.propTypes={background:_t.string,zDepth:_t.oneOf([0,1,2,3,4,5]),radius:_t.number,styles:_t.object},W2.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var K2=function(){return X0.Date.now()},Y2=/\s/;var G2=/^\s+/;function J2(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Y2.test(e.charAt(t)););return t}(e)+1).replace(G2,""):e}var Q2="[object Symbol]";function X2(e){return"symbol"==typeof e||J1(e)&&s1(e)==Q2}var Z2=NaN,e5=/^[-+]0x[0-9a-f]+$/i,t5=/^0b[01]+$/i,r5=/^0o[0-7]+$/i,n5=parseInt;function o5(e){if("number"==typeof e)return e;if(X2(e))return Z2;if(u1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=J2(e);var r=t5.test(e);return r||r5.test(e)?n5(e.slice(2),r?2:8):e5.test(e)?Z2:+e}var i5="Expected a function",a5=Math.max,l5=Math.min;function s5(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(i5);function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=K2();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?l5(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=K2(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=o5(t)||0,u1(r)&&(c=!!r.leading,i=(d="maxWait"in r)?a5(o5(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(K2())},m}var u5=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c5=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,function(e,t,r){var n=r.getBoundingClientRect(),o=n.width,i=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),u<0?u=0:u>i&&(u=i);var c=s/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}}(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e);var t=r.getContainerRenderWindow();t.addEventListener("mousemove",r.handleChange),t.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return u1(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),s5(e,t,{leading:n,maxWait:t,trailing:o})}((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u5(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,o=t.black,i=t.pointer,a=t.circle,l=q0({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return F.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},F.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),F.createElement("div",{style:l.white,className:"saturation-white"},F.createElement("div",{style:l.black,className:"saturation-black"}),F.createElement("div",{style:l.pointer},this.props.pointer?F.createElement(this.props.pointer,this.props):F.createElement("div",{style:l.circle}))))}}]),t}(v.PureComponent||v.Component);function d5(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var p5=W1(Object.keys,Object),f5=Object.prototype.hasOwnProperty;function h5(e){return i2(e)?I2(e):function(e){if(!G1(e))return p5(e);var t=[];for(var r in Object(e))f5.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var g5,v5=(g5=function(e,t){return e&&M1(e,t,h5)},function(e,t){if(null==e)return e;if(!i2(e))return g5(e,t);for(var r=e.length,n=-1,o=Object(e);++n<r&&!1!==t(o[n],n,o););return e});function m5(e,t){var r;return(r2(e)?d5:v5)(e,"function"==typeof(r=t)?r:M2)}function y5(e){return y5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y5(e)}var b5=/^\s+/,_5=/\s+$/;function x5(e,t){if(t=t||{},(e=e||"")instanceof x5)return e;if(!(this instanceof x5))return new x5(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,i=null,a=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(b5,"").replace(_5,"").toLowerCase();var t,r=!1;if(M5[e])e=M5[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Q5.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Q5.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Q5.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Q5.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Q5.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Q5.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Q5.hex8.exec(e))return{r:H5(t[1]),g:H5(t[2]),b:H5(t[3]),a:K5(t[4]),format:r?"name":"hex8"};if(t=Q5.hex6.exec(e))return{r:H5(t[1]),g:H5(t[2]),b:H5(t[3]),format:r?"name":"hex"};if(t=Q5.hex4.exec(e))return{r:H5(t[1]+""+t[1]),g:H5(t[2]+""+t[2]),b:H5(t[3]+""+t[3]),a:K5(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=Q5.hex3.exec(e))return{r:H5(t[1]+""+t[1]),g:H5(t[2]+""+t[2]),b:H5(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==y5(e)&&(X5(e.r)&&X5(e.g)&&X5(e.b)?(t=function(e,t,r){return{r:255*z5(e,255),g:255*z5(t,255),b:255*z5(r,255)}}(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):X5(e.h)&&X5(e.s)&&X5(e.v)?(n=$5(e.s),o=$5(e.v),t=function(e,t,r){e=6*z5(e,360),t=z5(t,100),r=z5(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),l=r*(1-(1-o)*t),s=n%6,u=[r,a,i,i,l,r][s],c=[l,r,r,a,i,i][s],d=[i,i,l,r,r,a][s];return{r:255*u,g:255*c,b:255*d}}(e.h,n,o),a=!0,l="hsv"):X5(e.h)&&X5(e.s)&&X5(e.l)&&(n=$5(e.s),i=$5(e.l),t=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=z5(e,360),t=z5(t,100),r=z5(r,100),0===t)n=o=i=r;else{var l=r<.5?r*(1+t):r+t-r*t,s=2*r-l;n=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,n,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a));return r=V5(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function w5(e,t,r){e=z5(e,255),t=z5(t,255),r=z5(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:l}}function O5(e,t,r){e=z5(e,255),t=z5(t,255),r=z5(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:l}}function S5(e,t,r,n){var o=[U5(Math.round(e).toString(16)),U5(Math.round(t).toString(16)),U5(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function k5(e,t,r,n){return[U5(W5(n)),U5(Math.round(e).toString(16)),U5(Math.round(t).toString(16)),U5(Math.round(r).toString(16))].join("")}function j5(e,t){t=0===t?0:t||10;var r=x5(e).toHsl();return r.s-=t/100,r.s=B5(r.s),x5(r)}function E5(e,t){t=0===t?0:t||10;var r=x5(e).toHsl();return r.s+=t/100,r.s=B5(r.s),x5(r)}function C5(e){return x5(e).desaturate(100)}function T5(e,t){t=0===t?0:t||10;var r=x5(e).toHsl();return r.l+=t/100,r.l=B5(r.l),x5(r)}function q5(e,t){t=0===t?0:t||10;var r=x5(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),x5(r)}function I5(e,t){t=0===t?0:t||10;var r=x5(e).toHsl();return r.l-=t/100,r.l=B5(r.l),x5(r)}function A5(e,t){var r=x5(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,x5(r)}function L5(e){var t=x5(e).toHsl();return t.h=(t.h+180)%360,x5(t)}function P5(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=x5(e).toHsl(),n=[x5(e)],o=360/t,i=1;i<t;i++)n.push(x5({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function N5(e){var t=x5(e).toHsl(),r=t.h;return[x5(e),x5({h:(r+72)%360,s:t.s,l:t.l}),x5({h:(r+216)%360,s:t.s,l:t.l})]}function F5(e,t,r){t=t||6,r=r||30;var n=x5(e).toHsl(),o=360/r,i=[x5(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(x5(n));return i}function R5(e,t){t=t||6;for(var r=x5(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],l=1/t;t--;)a.push(x5({h:n,s:o,v:i})),i=(i+l)%1;return a}x5.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=V5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=O5(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=O5(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=w5(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=w5(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return S5(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[U5(Math.round(e).toString(16)),U5(Math.round(t).toString(16)),U5(Math.round(r).toString(16)),U5(W5(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*z5(this._r,255))+"%",g:Math.round(100*z5(this._g,255))+"%",b:Math.round(100*z5(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*z5(this._r,255))+"%, "+Math.round(100*z5(this._g,255))+"%, "+Math.round(100*z5(this._b,255))+"%)":"rgba("+Math.round(100*z5(this._r,255))+"%, "+Math.round(100*z5(this._g,255))+"%, "+Math.round(100*z5(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D5[S5(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+k5(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=x5(e);r="#"+k5(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return x5(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(T5,arguments)},brighten:function(){return this._applyModification(q5,arguments)},darken:function(){return this._applyModification(I5,arguments)},desaturate:function(){return this._applyModification(j5,arguments)},saturate:function(){return this._applyModification(E5,arguments)},greyscale:function(){return this._applyModification(C5,arguments)},spin:function(){return this._applyModification(A5,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(F5,arguments)},complement:function(){return this._applyCombination(L5,arguments)},monochromatic:function(){return this._applyCombination(R5,arguments)},splitcomplement:function(){return this._applyCombination(N5,arguments)},triad:function(){return this._applyCombination(P5,[3])},tetrad:function(){return this._applyCombination(P5,[4])}},x5.fromRatio=function(e,t){if("object"==y5(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:$5(e[n]));e=r}return x5(e,t)},x5.equals=function(e,t){return!(!e||!t)&&x5(e).toRgbString()==x5(t).toRgbString()},x5.random=function(){return x5.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},x5.mix=function(e,t,r){r=0===r?0:r||50;var n=x5(e).toRgb(),o=x5(t).toRgb(),i=r/100;return x5({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},x5.readability=function(e,t){var r=x5(e),n=x5(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},x5.isReadable=function(e,t,r){var n,o,i=x5.readability(e,t);switch(o=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},x5.mostReadable=function(e,t,r){var n,o,i,a,l=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var u=0;u<t.length;u++)(n=x5.readability(e,t[u]))>s&&(s=n,l=x5(t[u]));return x5.isReadable(e,l,{level:i,size:a})||!o?l:(r.includeFallbackColors=!1,x5.mostReadable(e,["#fff","#000"],r))};var M5=x5.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D5=x5.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(M5);function V5(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function z5(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function B5(e){return Math.min(1,Math.max(0,e))}function H5(e){return parseInt(e,16)}function U5(e){return 1==e.length?"0"+e:""+e}function $5(e){return e<=1&&(e=100*e+"%"),e}function W5(e){return Math.round(255*parseFloat(e)).toString(16)}function K5(e){return H5(e)/255}var Y5,G5,J5,Q5=(G5="[\\s|\\(]+("+(Y5="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Y5+")[,|\\s]+("+Y5+")\\s*\\)?",J5="[\\s|\\(]+("+Y5+")[,|\\s]+("+Y5+")[,|\\s]+("+Y5+")[,|\\s]+("+Y5+")\\s*\\)?",{CSS_UNIT:new RegExp(Y5),rgb:new RegExp("rgb"+G5),rgba:new RegExp("rgba"+J5),hsl:new RegExp("hsl"+G5),hsla:new RegExp("hsla"+J5),hsv:new RegExp("hsv"+G5),hsva:new RegExp("hsva"+J5),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X5(e){return!!Q5.CSS_UNIT.exec(e)}var Z5=function(e){var t=0,r=0;return m5(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(r+=1)}})),t===r&&e},e3=function(e,t){var r=e.hex?x5(e.hex):x5(e),n=r.toHsl(),o=r.toHsv(),i=r.toRgb(),a=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||n.h,source:e.source}},t3=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&x5(e).isValid()},r3=function(e){if(!e)return"#fff";var t=e3(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},n3=function(e,t){return x5(t+" ("+e.replace("°","")+")")._ok},o3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var a3=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(Z5(e)){var n=e3(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(Z5(e)){var n=e3(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=o3({},e3(e.color,0)),t.debounce=s5((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),i3(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),F.createElement(e,o3({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return o3({},e3(e.color,t.oldHue))}}]),r}(v.PureComponent||v.Component);return t.propTypes=o3({},e.propTypes),t.defaultProps=o3({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},l3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function u3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const d3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u3(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},u3(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),s3(n,[{key:"render",value:function(){return F.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},F.createElement(e,l3({},this.props,this.state)))}}]),n}(F.Component)}((function(e){var t=e.color,r=e.style,n=e.onClick,o=void 0===n?function(){}:n,i=e.onHover,a=e.title,l=void 0===a?t:a,s=e.children,u=e.focus,c=e.focusStyle,d="transparent"===t,p=q0({default:{swatch:c3({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?void 0===c?{}:c:{})}}),f={};return i&&(f.onMouseOver=function(e){return i(t,e)}),F.createElement("div",c3({style:p.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},f),s,d&&F.createElement(P0,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var p3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f3=function(e){var t=e.rgb,r=e.hsl,n=e.width,o=e.height,i=e.onChange,a=e.direction,l=e.style,s=e.renderers,u=e.pointer,c=e.className,d=void 0===c?"":c,p=q0({default:{picker:{position:"relative",width:n,height:o},alpha:{radius:"2px",style:l}}});return F.createElement("div",{style:p.picker,className:"alpha-picker "+d},F.createElement(M0,p3({},p.alpha,{rgb:t,hsl:r,pointer:u,renderers:s,onChange:i,direction:a})))};function h3(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}f3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=q0({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return F.createElement("div",{style:r.picker})}},a3(f3);function g3(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new L1;++t<r;)this.add(e[t])}function v3(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}g3.prototype.add=g3.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},g3.prototype.has=function(e){return this.__data__.has(e)};var m3=1,y3=2;function b3(e,t,r,n,o,i){var a=r&m3,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=r&y3?new g3:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!v3(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||o(h,e,r,n,i)))return f.push(t);var a}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function _3(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function x3(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var w3=1,O3=2,S3="[object Boolean]",k3="[object Date]",j3="[object Error]",E3="[object Map]",C3="[object Number]",T3="[object RegExp]",q3="[object Set]",I3="[object String]",A3="[object Symbol]",L3="[object ArrayBuffer]",P3="[object DataView]",N3=Z0?Z0.prototype:void 0,F3=N3?N3.valueOf:void 0;var R3=Object.prototype.propertyIsEnumerable,M3=Object.getOwnPropertySymbols,D3=M3?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(M3(e),(function(t){return R3.call(e,t)})))}:function(){return[]};function V3(e){return function(e,t,r){var n=t(e);return r2(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,h5,D3)}var z3=1,B3=Object.prototype.hasOwnProperty;var H3=j1(X0,"DataView"),U3=j1(X0,"Promise"),$3=j1(X0,"Set"),W3=j1(X0,"WeakMap"),K3="[object Map]",Y3="[object Promise]",G3="[object Set]",J3="[object WeakMap]",Q3="[object DataView]",X3=y1(H3),Z3=y1(E1),e4=y1(U3),t4=y1($3),r4=y1(W3),n4=s1;(H3&&n4(new H3(new ArrayBuffer(1)))!=Q3||E1&&n4(new E1)!=K3||U3&&n4(U3.resolve())!=Y3||$3&&n4(new $3)!=G3||W3&&n4(new W3)!=J3)&&(n4=function(e){var t=s1(e),r="[object Object]"==t?e.constructor:void 0,n=r?y1(r):"";if(n)switch(n){case X3:return Q3;case Z3:return K3;case e4:return Y3;case t4:return G3;case r4:return J3}return t});var o4=1,i4="[object Arguments]",a4="[object Array]",l4="[object Object]",s4=Object.prototype.hasOwnProperty;function u4(e,t,r,n,o,i){var a=r2(e),l=r2(t),s=a?a4:n4(e),u=l?a4:n4(t),c=(s=s==i4?l4:s)==l4,d=(u=u==i4?l4:u)==l4,p=s==u;if(p&&u2(e)){if(!u2(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new P1),a||O2(e)?b3(e,t,r,n,o,i):function(e,t,r,n,o,i,a){switch(r){case P3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L3:return!(e.byteLength!=t.byteLength||!i(new B1(e),new B1(t)));case S3:case k3:case C3:return W0(+e,+t);case j3:return e.name==t.name&&e.message==t.message;case T3:case I3:return e==t+"";case E3:var l=_3;case q3:var s=n&w3;if(l||(l=x3),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=O3,a.set(e,t);var c=b3(l(e),l(t),n,o,i,a);return a.delete(e),c;case A3:if(F3)return F3.call(e)==F3.call(t)}return!1}(e,t,s,r,n,o,i);if(!(r&o4)){var f=c&&s4.call(e,"__wrapped__"),h=d&&s4.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new P1),o(g,v,r,n,i)}}return!!p&&(i||(i=new P1),function(e,t,r,n,o,i){var a=r&z3,l=V3(e),s=l.length;if(s!=V3(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:B3.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,i))}function c4(e,t,r,n,o){return e===t||(null==e||null==t||!J1(e)&&!J1(t)?e!=e&&t!=t:u4(e,t,r,n,c4,o))}var d4=1,p4=2;function f4(e){return e==e&&!u1(e)}function h4(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function g4(e){var t=function(e){for(var t=h5(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,f4(o)]}return t}(e);return 1==t.length&&t[0][2]?h4(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var o=r.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=r[o])[0],s=e[l],u=a[1];if(a[2]){if(void 0===s&&!(l in e))return!1}else{var c=new P1;if(!c4(u,s,d4|p4,n,c))return!1}}return!0}(r,0,t)}}var v4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m4=/^\w*$/;function y4(e,t){if(r2(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!X2(e))||(m4.test(e)||!v4.test(e)||null!=t&&e in Object(t))}var b4="Expected a function";function _4(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(b4);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(_4.Cache||L1),r}_4.Cache=L1;var x4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w4=/\\(\\)?/g,O4=function(e){var t=_4(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(x4,(function(e,r,n,o){t.push(n?o.replace(w4,"$1"):r||e)})),t})),S4=1/0,k4=Z0?Z0.prototype:void 0,j4=k4?k4.toString:void 0;function E4(e){if("string"==typeof e)return e;if(r2(e))return h3(e,E4)+"";if(X2(e))return j4?j4.call(e):"";var t=e+"";return"0"==t&&1/e==-S4?"-0":t}function C4(e,t){return r2(e)?e:y4(e,t)?[e]:O4(function(e){return null==e?"":E4(e)}(e))}var T4=1/0;function q4(e){if("string"==typeof e||X2(e))return e;var t=e+"";return"0"==t&&1/e==-T4?"-0":t}function I4(e,t){for(var r=0,n=(t=C4(t,e)).length;null!=e&&r<n;)e=e[q4(t[r++])];return r&&r==n?e:void 0}function A4(e,t){return null!=e&&t in Object(e)}function L4(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=C4(t,e)).length,i=!1;++n<o;){var a=q4(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&o2(o)&&T2(a,o)&&(r2(e)||t2(e))}(e,t,A4)}var P4=1,N4=2;function F4(e,t){return y4(e)&&f4(t)?h4(q4(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:I4(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?L4(r,e):c4(t,n,P4|N4)}}function R4(e){return y4(e)?(t=q4(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return I4(t,e)}}(e);var t}function M4(e,t){var r=-1,n=i2(e)?Array(e.length):[];return v5(e,(function(e,o,i){n[++r]=t(e,o,i)})),n}function D4(e,t){var r;return(r2(e)?h3:M4)(e,"function"==typeof(r=t)?r:null==r?M2:"object"==typeof r?r2(r)?F4(r[0],r[1]):g4(r):R4(r))}var V4=function(e){var t=e.colors,r=e.onClick,n=e.onSwatchHover,o=q0({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return F.createElement("div",{style:o.swatches},D4(t,(function(e){return F.createElement(d3,{key:e,color:e,style:o.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),F.createElement("div",{style:o.clear}))},z4=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d="transparent"===n,p=function(e,r){t3(e)&&t({hex:e,source:"hex"},r)},f=q0($2({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:r3(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},s),{"hide-triangle":"hide"===a});return F.createElement("div",{style:f.card,className:"block-picker "+c},F.createElement("div",{style:f.triangle}),F.createElement("div",{style:f.head},d&&F.createElement(P0,{borderRadius:"6px 6px 0 0"}),F.createElement("div",{style:f.label},n)),F.createElement("div",{style:f.body},F.createElement(V4,{colors:o,onClick:p,onSwatchHover:r}),F.createElement(B0,{style:{input:f.input},value:n,onChange:p})))};z4.propTypes={width:_t.oneOfType([_t.string,_t.number]),colors:_t.arrayOf(_t.string),triangle:_t.oneOf(["top","hide"]),styles:_t.object},z4.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},a3(z4);var B4="#ffcdd2",H4="#e57373",U4="#f44336",$4="#d32f2f",W4="#b71c1c",K4="#f8bbd0",Y4="#f06292",G4="#e91e63",J4="#c2185b",Q4="#880e4f",X4="#e1bee7",Z4="#ba68c8",e6="#9c27b0",t6="#7b1fa2",r6="#4a148c",n6="#d1c4e9",o6="#9575cd",i6="#673ab7",a6="#512da8",l6="#311b92",s6="#c5cae9",u6="#7986cb",c6="#3f51b5",d6="#303f9f",p6="#1a237e",f6="#bbdefb",h6="#64b5f6",g6="#2196f3",v6="#1976d2",m6="#0d47a1",y6="#b3e5fc",b6="#4fc3f7",_6="#03a9f4",x6="#0288d1",w6="#01579b",O6="#b2ebf2",S6="#4dd0e1",k6="#00bcd4",j6="#0097a7",E6="#006064",C6="#b2dfdb",T6="#4db6ac",q6="#009688",I6="#00796b",A6="#004d40",L6="#c8e6c9",P6="#81c784",N6="#4caf50",F6="#388e3c",R6="#dcedc8",M6="#aed581",D6="#8bc34a",V6="#689f38",z6="#33691e",B6="#f0f4c3",H6="#dce775",U6="#cddc39",$6="#afb42b",W6="#827717",K6="#fff9c4",Y6="#fff176",G6="#ffeb3b",J6="#fbc02d",Q6="#f57f17",X6="#ffecb3",Z6="#ffd54f",e8="#ffc107",t8="#ffa000",r8="#ff6f00",n8="#ffe0b2",o8="#ffb74d",i8="#ff9800",a8="#f57c00",l8="#e65100",s8="#ffccbc",u8="#ff8a65",c8="#ff5722",d8="#e64a19",p8="#bf360c",f8="#d7ccc8",h8="#a1887f",g8="#795548",v8="#5d4037",m8="#3e2723",y8="#cfd8dc",b8="#90a4ae",_8="#607d8b",x8="#455a64",w8="#263238",O8=function(e){var t=e.color,r=e.onClick,n=e.onSwatchHover,o=e.hover,i=e.active,a=e.circleSize,l=e.circleSpacing,s=q0({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:i});return F.createElement("div",{style:s.swatch},F.createElement(d3,{style:s.Swatch,color:t,onClick:r,onHover:n,focusStyle:{boxShadow:s.Swatch.boxShadow+", 0 0 5px "+t}}))};O8.defaultProps={circleSize:28,circleSpacing:14};const S8=C0(O8);var k8=function(e){var t=e.width,r=e.onChange,n=e.onSwatchHover,o=e.colors,i=e.hex,a=e.circleSize,l=e.styles,s=void 0===l?{}:l,u=e.circleSpacing,c=e.className,d=void 0===c?"":c,p=q0($2({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},s)),f=function(e,t){return r({hex:e,source:"hex"},t)};return F.createElement("div",{style:p.card,className:"circle-picker "+d},D4(o,(function(e){return F.createElement(S8,{key:e,color:e,onClick:f,onSwatchHover:n,active:i===e.toLowerCase(),circleSize:a,circleSpacing:u})})))};function j8(e){return void 0===e}k8.propTypes={width:_t.oneOfType([_t.string,_t.number]),circleSize:_t.number,circleSpacing:_t.number,styles:_t.object},k8.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[U4,G4,e6,i6,c6,g6,_6,k6,q6,N6,D6,U6,G6,e8,i8,c8,g8,_8],styles:{}},a3(k8);var E8={};Object.defineProperty(E8,"__esModule",{value:!0});var C8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T8=function(e){return e&&e.__esModule?e:{default:e}}(v);var q8=E8.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return T8.default.createElement("svg",C8({viewBox:"0 0 24 24",style:C8({fill:r,width:o,height:a},s)},u),T8.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},I8=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var A8=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?t3(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(j8(e.s)?r.props.hsl.s:e.s),l:Number(j8(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I8(t,[{key:"render",value:function(){var e=this,t=q0({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=F.createElement("div",{style:t.fields,className:"flexbox-fix"},F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=F.createElement("div",{style:t.fields,className:"flexbox-fix"},F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),F.createElement("div",{style:t.alpha},F.createElement(B0,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=F.createElement("div",{style:t.fields,className:"flexbox-fix"},F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),F.createElement("div",{style:t.field},F.createElement(B0,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),F.createElement("div",{style:t.alpha},F.createElement(B0,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),F.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,F.createElement("div",{style:t.toggle},F.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},F.createElement(q8,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(F.Component);A8.defaultProps={view:"hex"};var L8=function(){var e=q0({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.createElement("div",{style:e.picker})},P8=function(){var e=q0({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return F.createElement("div",{style:e.picker})},N8=function(e){var t=e.width,r=e.onChange,n=e.disableAlpha,o=e.rgb,i=e.hsl,a=e.hsv,l=e.hex,s=e.renderers,u=e.styles,c=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,f=e.defaultView,h=q0($2({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:n});return F.createElement("div",{style:h.picker,className:"chrome-picker "+p},F.createElement("div",{style:h.saturation},F.createElement(c5,{style:h.Saturation,hsl:i,hsv:a,pointer:P8,onChange:r})),F.createElement("div",{style:h.body},F.createElement("div",{style:h.controls,className:"flexbox-fix"},F.createElement("div",{style:h.color},F.createElement("div",{style:h.swatch},F.createElement("div",{style:h.active}),F.createElement(P0,{renderers:s}))),F.createElement("div",{style:h.toggles},F.createElement("div",{style:h.hue},F.createElement($0,{style:h.Hue,hsl:i,pointer:L8,onChange:r})),F.createElement("div",{style:h.alpha},F.createElement(M0,{style:h.Alpha,rgb:o,hsl:i,pointer:L8,renderers:s,onChange:r})))),F.createElement(A8,{rgb:o,hsl:i,hex:l,view:f,onChange:r,disableAlpha:n})))};N8.propTypes={width:_t.oneOfType([_t.string,_t.number]),disableAlpha:_t.bool,styles:_t.object,defaultView:_t.oneOf(["hex","rgb","hsl"])},N8.defaultProps={width:225,disableAlpha:!1,styles:{}};const F8=a3(N8);var R8=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.active,a=q0({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:r3(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return F.createElement(d3,{style:a.color,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},F.createElement("div",{style:a.dot}))},M8=function(e){var t=e.hex,r=e.rgb,n=e.onChange,o=q0({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(e,t){e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return F.createElement("div",{style:o.fields,className:"flexbox-fix"},F.createElement("div",{style:o.active}),F.createElement(B0,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:i}),F.createElement(B0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:i}),F.createElement(B0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:i}),F.createElement(B0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:i}))},D8=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.colors,o=e.hex,i=e.rgb,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=q0($2({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(e,r){e.hex?t3(e.hex)&&t({hex:e.hex,source:"hex"},r):t(e,r)};return F.createElement(W2,{style:c.Compact,styles:l},F.createElement("div",{style:c.compact,className:"compact-picker "+u},F.createElement("div",null,D4(n,(function(e){return F.createElement(R8,{key:e,color:e,active:e.toLowerCase()===o,onClick:d,onSwatchHover:r})})),F.createElement("div",{style:c.clear})),F.createElement(M8,{hex:o,rgb:i,onChange:d})))};D8.propTypes={colors:_t.arrayOf(_t.string),styles:_t.object},D8.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},a3(D8);const V8=C0((function(e){var t=e.hover,r=e.color,n=e.onClick,o=e.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=q0({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:t});return F.createElement("div",{style:a.swatch},F.createElement(d3,{color:r,onClick:n,onHover:o,focusStyle:i}))}));var z8=function(e){var t=e.width,r=e.colors,n=e.onChange,o=e.onSwatchHover,i=e.triangle,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=q0($2({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),d=function(e,t){return n({hex:e,source:"hex"},t)};return F.createElement("div",{style:c.card,className:"github-picker "+u},F.createElement("div",{style:c.triangleShadow}),F.createElement("div",{style:c.triangle}),D4(r,(function(e){return F.createElement(V8,{color:e,key:e,onClick:d,onSwatchHover:o})})))};z8.propTypes={width:_t.oneOfType([_t.string,_t.number]),colors:_t.arrayOf(_t.string),triangle:_t.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:_t.object},z8.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},a3(z8);var B8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H8=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.hsl,i=e.direction,a=e.pointer,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=q0($2({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},s));return F.createElement("div",{style:d.picker,className:"hue-picker "+c},F.createElement($0,B8({},d.hue,{hsl:o,pointer:a,onChange:function(e){return n({a:1,h:e.h,l:.5,s:1})},direction:i})))};H8.propTypes={styles:_t.object},H8.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=q0({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return F.createElement("div",{style:r.picker})},styles:{}},a3(H8);a3((function(e){var t=e.onChange,r=e.hex,n=e.rgb,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=q0($2({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),u=function(e,r){e.hex?t3(e.hex)&&t({hex:e.hex,source:"hex"},r):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r)};return F.createElement(W2,{styles:i},F.createElement("div",{style:s.material,className:"material-picker "+l},F.createElement(B0,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),F.createElement("div",{style:s.split,className:"flexbox-fix"},F.createElement("div",{style:s.third},F.createElement(B0,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u})),F.createElement("div",{style:s.third},F.createElement(B0,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u})),F.createElement("div",{style:s.third},F.createElement(B0,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u})))))}));var U8=function(e){var t=e.onChange,r=e.rgb,n=e.hsv,o=e.hex,i=q0({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,o){e["#"]?t3(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},o)};return F.createElement("div",{style:i.fields},F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(n.h),onChange:a}),F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:a}),F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:a}),F.createElement("div",{style:i.divider}),F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:a}),F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:a}),F.createElement(B0,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:a}),F.createElement("div",{style:i.divider}),F.createElement(B0,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),F.createElement("div",{style:i.fieldSymbols},F.createElement("div",{style:i.symbol},"°"),F.createElement("div",{style:i.symbol},"%"),F.createElement("div",{style:i.symbol},"%")))},$8=function(e){var t=e.hsl,r=q0({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return F.createElement("div",{style:r.picker})},W8=function(){var e=q0({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return F.createElement("div",{style:e.pointer},F.createElement("div",{style:e.left},F.createElement("div",{style:e.leftInside})),F.createElement("div",{style:e.right},F.createElement("div",{style:e.rightInside})))},K8=function(e){var t=e.onClick,r=e.label,n=e.children,o=e.active,i=q0({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return F.createElement("div",{style:i.button,onClick:t},r||n)},Y8=function(e){var t=e.rgb,r=e.currentColor,n=q0({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return F.createElement("div",null,F.createElement("div",{style:n.label},"new"),F.createElement("div",{style:n.swatches},F.createElement("div",{style:n.new}),F.createElement("div",{style:n.current})),F.createElement("div",{style:n.label},"current"))},G8=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var J8=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:e.hex},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),G8(t,[{key:"render",value:function(){var e=this.props,t=e.styles,r=void 0===t?{}:t,n=e.className,o=void 0===n?"":n,i=q0($2({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return F.createElement("div",{style:i.picker,className:"photoshop-picker "+o},F.createElement("div",{style:i.head},this.props.header),F.createElement("div",{style:i.body,className:"flexbox-fix"},F.createElement("div",{style:i.saturation},F.createElement(c5,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:$8,onChange:this.props.onChange})),F.createElement("div",{style:i.hue},F.createElement($0,{direction:"vertical",hsl:this.props.hsl,pointer:W8,onChange:this.props.onChange})),F.createElement("div",{style:i.controls},F.createElement("div",{style:i.top,className:"flexbox-fix"},F.createElement("div",{style:i.previews},F.createElement(Y8,{rgb:this.props.rgb,currentColor:this.state.currentColor})),F.createElement("div",{style:i.actions},F.createElement(K8,{label:"OK",onClick:this.props.onAccept,active:!0}),F.createElement(K8,{label:"Cancel",onClick:this.props.onCancel}),F.createElement(U8,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(F.Component);J8.propTypes={header:_t.string,styles:_t.object},J8.defaultProps={header:"Color Picker",styles:{}},a3(J8);var Q8=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.disableAlpha,a=q0({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),l=function(e,o){e.hex?t3(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},o))};return F.createElement("div",{style:a.fields,className:"flexbox-fix"},F.createElement("div",{style:a.double},F.createElement(B0,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),F.createElement("div",{style:a.single},F.createElement(B0,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.single},F.createElement(B0,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.single},F.createElement(B0,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),F.createElement("div",{style:a.alpha},F.createElement(B0,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*r.a),onChange:l,dragLabel:"true",dragMax:"100"})))},X8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z8=function(e){var t=e.colors,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=q0({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){n({hex:e,source:"hex"},t)};return F.createElement("div",{style:i.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,r=""+t.color+(t.title||"");return F.createElement("div",{key:r,style:i.swatchWrap},F.createElement(d3,X8({},t,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};Z8.propTypes={colors:_t.arrayOf(_t.oneOfType([_t.string,_t.shape({color:_t.string,title:_t.string})])).isRequired};var e9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t9=function(e){var t=e.width,r=e.rgb,n=e.hex,o=e.hsv,i=e.hsl,a=e.onChange,l=e.onSwatchHover,s=e.disableAlpha,u=e.presetColors,c=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,h=void 0===f?"":f,g=q0($2({default:e9({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:s});return F.createElement("div",{style:g.picker,className:"sketch-picker "+h},F.createElement("div",{style:g.saturation},F.createElement(c5,{style:g.Saturation,hsl:i,hsv:o,onChange:a})),F.createElement("div",{style:g.controls,className:"flexbox-fix"},F.createElement("div",{style:g.sliders},F.createElement("div",{style:g.hue},F.createElement($0,{style:g.Hue,hsl:i,onChange:a})),F.createElement("div",{style:g.alpha},F.createElement(M0,{style:g.Alpha,rgb:r,hsl:i,renderers:c,onChange:a}))),F.createElement("div",{style:g.color},F.createElement(P0,null),F.createElement("div",{style:g.activeColor}))),F.createElement(Q8,{rgb:r,hsl:i,hex:n,onChange:a,disableAlpha:s}),F.createElement(Z8,{colors:u,onClick:a,onSwatchHover:l}))};t9.propTypes={disableAlpha:_t.bool,width:_t.oneOfType([_t.string,_t.number]),styles:_t.object},t9.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},a3(t9);var r9=function(e){var t=e.hsl,r=e.offset,n=e.onClick,o=void 0===n?function(){}:n,i=e.active,a=e.first,l=e.last,s=q0({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:l});return F.createElement("div",{style:s.swatch,onClick:function(e){return o({h:t.h,s:.5,l:r,source:"hsl"},e)}})},n9=function(e){var t=e.onClick,r=e.hsl,n=q0({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return F.createElement("div",{style:n.swatches},F.createElement("div",{style:n.swatch},F.createElement(r9,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),F.createElement("div",{style:n.swatch},F.createElement(r9,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),F.createElement("div",{style:n.swatch},F.createElement(r9,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),F.createElement("div",{style:n.swatch},F.createElement(r9,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),F.createElement("div",{style:n.swatch},F.createElement(r9,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),F.createElement("div",{style:n.clear}))},o9=function(e){var t=e.hsl,r=e.onChange,n=e.pointer,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=q0($2({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return F.createElement("div",{style:s.wrap||{},className:"slider-picker "+l},F.createElement("div",{style:s.hue},F.createElement($0,{style:s.Hue,hsl:t,pointer:n,onChange:r})),F.createElement("div",{style:s.swatches},F.createElement(n9,{hsl:t,onClick:r})))};o9.propTypes={styles:_t.object},o9.defaultProps={pointer:function(){var e=q0({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return F.createElement("div",{style:e.picker})},styles:{}},a3(o9);var i9={};Object.defineProperty(i9,"__esModule",{value:!0});var a9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l9=function(e){return e&&e.__esModule?e:{default:e}}(v);var s9=i9.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return l9.default.createElement("svg",a9({viewBox:"0 0 24 24",style:a9({fill:r,width:o,height:a},s)},u),l9.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},u9=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.first,a=e.last,l=e.active,s=q0({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:r3(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return F.createElement(d3,{color:t,style:s.color,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},F.createElement("div",{style:s.check},F.createElement(s9,null)))},c9=function(e){var t=e.onClick,r=e.onSwatchHover,n=e.group,o=e.active,i=q0({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return F.createElement("div",{style:i.group},D4(n,(function(e,i){return F.createElement(u9,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===n.length-1,onClick:t,onSwatchHover:r})})))},d9=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=q0($2({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},s)),p=function(e,t){return n({hex:e,source:"hex"},t)};return F.createElement("div",{style:d.picker,className:"swatches-picker "+c},F.createElement(W2,null,F.createElement("div",{style:d.overflow},F.createElement("div",{style:d.body},D4(i,(function(e){return F.createElement(c9,{key:e.toString(),group:e,active:a,onClick:p,onSwatchHover:o})})),F.createElement("div",{style:d.clear})))))};d9.propTypes={width:_t.oneOfType([_t.string,_t.number]),height:_t.oneOfType([_t.string,_t.number]),colors:_t.arrayOf(_t.arrayOf(_t.string)),styles:_t.object},d9.defaultProps={width:320,height:240,colors:[[W4,$4,U4,H4,B4],[Q4,J4,G4,Y4,K4],[r6,t6,e6,Z4,X4],[l6,a6,i6,o6,n6],[p6,d6,c6,u6,s6],[m6,v6,g6,h6,f6],[w6,x6,_6,b6,y6],[E6,j6,k6,S6,O6],[A6,I6,q6,T6,C6],["#194D33",F6,N6,P6,L6],[z6,V6,D6,M6,R6],[W6,$6,U6,H6,B6],[Q6,J6,G6,Y6,K6],[r8,t8,e8,Z6,X6],[l8,a8,i8,o8,n8],[p8,d8,c8,u8,s8],[m8,v8,g8,h8,f8],[w8,x8,_8,b8,y8],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},a3(d9);var p9=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=q0($2({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},s),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),p=function(e,r){t3(e)&&t({hex:e,source:"hex"},r)};return F.createElement("div",{style:d.card,className:"twitter-picker "+c},F.createElement("div",{style:d.triangleShadow}),F.createElement("div",{style:d.triangle}),F.createElement("div",{style:d.body},D4(o,(function(e,t){return F.createElement(d3,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),F.createElement("div",{style:d.hash},"#"),F.createElement(B0,{label:null,style:{input:d.input},value:n.replace("#",""),onChange:p}),F.createElement("div",{style:d.clear})))};p9.propTypes={width:_t.oneOfType([_t.string,_t.number]),triangle:_t.oneOf(["hide","top-left","top-right"]),colors:_t.arrayOf(_t.string),styles:_t.object},p9.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},a3(p9);var f9=function(e){var t=q0({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return F.createElement("div",{style:t.picker})};f9.propTypes={hsl:_t.shape({h:_t.number,s:_t.number,l:_t.number,a:_t.number})},f9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var h9=function(e){var t=q0({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return F.createElement("div",{style:t.picker})};h9.propTypes={hsl:_t.shape({h:_t.number,s:_t.number,l:_t.number,a:_t.number})},h9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var g9=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.hsv,a=function(e,r){if(e.hex)t3(e.hex)&&t({hex:e.hex,source:"hex"},r);else if(e.rgb){var n=e.rgb.split(",");n3(e.rgb,"rgb")&&t({r:n[0],g:n[1],b:n[2],a:1,source:"rgb"},r)}else if(e.hsv){var o=e.hsv.split(",");n3(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},r))}else if(e.hsl){var i=e.hsl.split(",");n3(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==c[1]?c[1]=.01:1==c[2]&&(c[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},r))}},l=q0({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),s=r.r+", "+r.g+", "+r.b,u=Math.round(n.h)+"°, "+Math.round(100*n.s)+"%, "+Math.round(100*n.l)+"%",c=Math.round(i.h)+"°, "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return F.createElement("div",{style:l.wrap,className:"flexbox-fix"},F.createElement("div",{style:l.fields},F.createElement("div",{style:l.double},F.createElement(B0,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),F.createElement("div",{style:l.column},F.createElement("div",{style:l.single},F.createElement(B0,{style:{input:l.input2,label:l.label2},label:"rgb",value:s,onChange:a})),F.createElement("div",{style:l.single},F.createElement(B0,{style:{input:l.input2,label:l.label2},label:"hsv",value:c,onChange:a})),F.createElement("div",{style:l.single},F.createElement(B0,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},v9=function(e){var t=e.width,r=e.onChange,n=e.rgb,o=e.hsl,i=e.hsv,a=e.hex,l=e.header,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=q0($2({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return F.createElement("div",{style:p.picker,className:"google-picker "+d},F.createElement("div",{style:p.head},l),F.createElement("div",{style:p.swatch}),F.createElement("div",{style:p.saturation},F.createElement(c5,{hsl:o,hsv:i,pointer:f9,onChange:r})),F.createElement("div",{style:p.body},F.createElement("div",{style:p.controls,className:"flexbox-fix"},F.createElement("div",{style:p.hue},F.createElement($0,{style:p.Hue,hsl:o,radius:"4px",pointer:h9,onChange:r}))),F.createElement(g9,{rgb:n,hsl:o,hex:a,hsv:i,onChange:r})))};v9.propTypes={width:_t.oneOfType([_t.string,_t.number]),styles:_t.object,header:_t.string},v9.defaultProps={width:652,styles:{},header:"Color picker"},a3(v9);const m9=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"];function y9({t:e}){const t=et("design"),r=Ne(),n=Fe((e=>e.designState.Survey.theme));function o(e,t){if("font"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{font:t}),e.question=p(p({},e.question),{},{font:t}),e.text=p(p({},e.text),{},{font:t}),r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("textColor"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{color:t}),e.question=p(p({},e.question),{},{color:t}),e.text=p(p({},e.text),{},{color:t}),r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("bgColor"===e){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(e){const t=e[1],o=e[2],i=e[3];let a=e[4];a&&"0"!==a&&"0.0"!==a||(a="1");const l=`rgba(${t}, ${o}, ${i}, ${a})`;r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:l})}))}else r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:t})}))}else r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{[e]:t})}))}const i=rn(),a=rn(),l=rn(),s=rn(),u=()=>{i.onFalse(),a.onFalse(),l.onFalse(),s.onFalse()},c=v.useRef(),d=v.useRef(),f=v.useRef(),h=v.useRef();function g(e,t){v.useEffect((()=>{function r(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t])}g(c,u),g(d,u),g(f,u),g(h,u);const m=e=>{e.value?e.onFalse():(u(),e.onToggle())},y=Fe((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),b=Fe((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));return j.jsxs("div",{className:gZ,children:[j.jsxs("span",{className:yZ,children:[" ",e("font")]}),j.jsx(mt,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:lr,size:"small",className:bZ,value:n.textStyles.group.font,onChange:e=>o("font",e.target.value),children:m9&&m9.length>0&&m9.map(((e,t)=>j.jsx(yt,{sx:{fontFamily:e},value:e,children:e},`fontFamily-${t}`)))},"fontFamily"),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("group_title")}),j.jsx(OZ,{value:n.textStyles.group,default:Rt.textStyles.group,onChange:e=>{o("textStyles",p(p({},n.textStyles),{},{group:e}))}},"group")]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("question_title")}),j.jsx(OZ,{value:n.textStyles.question,default:Rt.textStyles.question,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{question:e}))},"question")]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("theme_text")}),j.jsx(OZ,{value:n.textStyles.text,default:Rt.textStyles.text,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{text:e}))},"text")]}),j.jsx("hr",{}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("highlight_color")}),j.jsx(Je,{onClick:()=>m(i),style:{backgroundColor:n.primaryColor},className:_Z}),i.value&&j.jsxs(L,{ref:c,className:xZ,children:[j.jsx(de,{onClick:()=>m(i),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(er,{})}),j.jsx(F8,{color:n.primaryColor,onChange:e=>{o("primaryColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("background_color")}),j.jsx(Je,{onClick:()=>m(a),style:{backgroundColor:n.bgColor},className:_Z}),a.value&&j.jsxs(L,{ref:d,className:xZ,children:[j.jsx(de,{onClick:()=>m(a),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(er,{})}),j.jsx(F8,{color:n.bgColor,onChange:e=>{o("bgColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("foreground_color")}),j.jsx(Je,{onClick:()=>m(l),style:{backgroundColor:n.paperColor},className:_Z}),l.value&&j.jsxs(L,{ref:f,className:xZ,children:[j.jsx(de,{onClick:()=>m(l),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(er,{})}),j.jsx(F8,{color:n.paperColor,onChange:e=>{o("paperColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("text_color")}),j.jsx(Je,{onClick:()=>m(s),style:{backgroundColor:n.textStyles.group.color},className:_Z}),s.value&&j.jsxs(L,{ref:h,className:xZ,children:[j.jsx(de,{onClick:()=>m(s),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(er,{})}),j.jsx(F8,{color:n.textStyles.group.color,onChange:e=>{o("textColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("upload_banner")}),j.jsxs(Je,{component:"label",className:vZ,children:[j.jsx(br,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let n=e.target.files[0];t.uploadResource(n).then((e=>{r(tt({code:"Survey",key:"headerImage",value:e.name}))})).catch((e=>{console.error(e)}))}})]}),b&&j.jsx(de,{className:mZ,onClick:()=>{r(tt({code:"Survey",key:"headerImage",value:null}))},children:j.jsx(Yr,{})})]}),j.jsxs(Ft,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[j.jsx(me,{variant:"subtitle2",alignSelf:"center",children:e("upload_background")}),j.jsxs(Je,{component:"label",className:vZ,children:[j.jsx(br,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let o=e.target.files[0];t.uploadResource(o).then((e=>{r(tt({code:"Survey",key:"backgroundImage",value:e.name})),r(ht({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:"rgba(0, 0, 0, 0)"})}))})).catch((e=>{console.error(e)}))}})]}),y&&j.jsx(de,{className:mZ,onClick:()=>{r(tt({code:"Survey",key:"backgroundImage",value:null}))},children:j.jsx(Yr,{})})]})]})}const b9=F.memo((function({t:e}){const t=Ne(),r=v.useCallback((e=>{t(Mt(e))})),n=R(),o=cr([e=>e.designState.setup||{}],(e=>{var t;return{code:e.code,expanded:e.expanded,highlighted:e.highlighted,rules:e.rules,isSingleRule:1===(null===(t=e.rules)||void 0===t?void 0:t.length)}})),i=Fe(o),a=i.code,l=i.expanded,s=i.highlighted,u=i.rules,c=i.isSingleRule,d=Fe((e=>!ot(e.designState.setup)));return j.jsxs("div",{className:IX.rightContent,style:{left:"rtl"==n.direction?"0px":""},children:[d&&j.jsx("div",{className:IX.close,children:j.jsx(de,{onClick:()=>{t(Dt())},children:j.jsx(er,{})})}),null==u?void 0:u.map((t=>j.jsx(x9,{expanded:(null==l?void 0:l.includes(t.key))||c||!1,isSingleRule:c,code:a,t:e,toggleExpand:r,highlighted:t.key==s,rule:t},a+t.title)))]})})),_9=F.memo((({code:e,rule:t,t:r})=>{if(t.startsWith("validation_"))return j.jsx(Y_,{t:r,rule:t,code:e},e+t);switch(t){case"theme":return j.jsx(y9,{t:r},e+t);case"language":return j.jsx(sr,{t:r},e+t);case"maxChars":return j.jsx(F_,{label:r("text_field_size"),rule:t,lowerBound:1,upperBound:500,defaultValue:20,code:e},e+t);case"minRows":return j.jsx(F_,{label:r("textarea_lines"),lowerBound:1,upperBound:500,code:e,defaultValue:20},e+t);case"hideText":return j.jsx(J_,{label:r("hide_text"),rule:t,code:e},e+t);case"showDescription":return j.jsx(J_,{label:r("show_description"),rule:t,code:e},e+t);case"showWordCount":return j.jsx(J_,{label:r("show_word_count"),rule:t,code:e},e+t);case"navigationMode":return j.jsx(hZ,{},e+t);case"allowPrevious":return j.jsx(J_,{label:r("allow_previous"),rule:t,code:e},e+t);case"allowIncomplete":return j.jsx(J_,{label:r("allow_incomplete"),rule:t,code:e},e+t);case"allowJump":return j.jsx(J_,{label:r("allow_jump"),rule:t,code:e},e+t);case"skipInvalid":return j.jsx(J_,{label:r("skip_invalid"),rule:t,code:e},e+t);case"hint":return j.jsx(M_,{t:r,code:e},e+t);case"lower_bound_hint":return j.jsx(D_,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:e},e+t);case"higher_bound_hint":return j.jsx(D_,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:e},e+t);case"loop":return j.jsx(J_,{rule:t,code:e,label:r("loop_video")},e+t);case"audio_only":return j.jsx(J_,{rule:t,code:e,label:r("audio_only")},e+t);case"fullDayFormat":return j.jsx(J_,{rule:t,code:e,label:r("fullday_format")},e+t);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return j.jsx(fZ,{t:r,rule:t,code:e},e+t);case"maxDate":return j.jsx(tx,{lowerBound:1,code:e,label:r("max_date"),rule:t},e+t);case"minDate":return j.jsx(tx,{label:r("min_date"),rule:t,code:e},e+t);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return j.jsx(X_,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:t,code:e},e+t);case"decimal_separator":const o=["",",","."],i=[r("no_decimals_allowed"),",","."];return j.jsx(X_,{values:o,labels:i,defaultValue:"",label:r("decimal_separator"),rule:t,code:e},e+t);case"imageAspectRatio":const a=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],l=[1,1.7778,1.3333,1.5,.562,.75,.6667];return j.jsx(X_,{values:l,labels:a,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:t,code:e},e+t);case"reorder_setup":const s=[r("collapse_none"),r("collapse_groups"),r("collapse_questions")],u=["collapse_none","collapse_groups","collapse_questions"];return j.jsx(X_,{values:u,labels:s,defaultValue:"collapse_none",label:r("order_mode"),rule:t,code:e},e+t);case"iconSize":const c=["48","64","72","96"];return j.jsx(X_,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:t,code:e},e+t);case"columns":const d=["1","2","3","4","6"];return j.jsx(X_,{values:d,defaultValue:"2",label:r("columns_number"),rule:t,code:e},e+t);case"imageHeight":return j.jsx(F_,{label:r("image_height"),lowerBound:50,upperBound:500,code:e,defaultValue:250,rule:t},e+t);case"spacing":return j.jsx(F_,{label:r("spacing"),lowerBound:2,upperBound:32,code:e,defaultValue:8,rule:t},e+t);case"skip_logic":return j.jsx(CX,{t:r,code:e},e+t);case"relevance":return j.jsx(wX,{t:r,code:e},e+t);default:return""}})),x9=F.memo((({expanded:e,highlighted:t,code:r,rule:n,isSingleRule:o,t:i,toggleExpand:a})=>j.jsxs(Hr,{expanded:e,className:IX.accordionStyle,TransitionProps:{unmountOnExit:!0},children:[j.jsx(Ur,{onClick:()=>a(n.key),className:IX.setupHeader,expandIcon:o?null:j.jsx($r,{}),children:j.jsx("span",{className:IX.sectionTitle,children:i(n.title)})}),j.jsx(Wr,{sx:{backgroundColor:t?"#fff":"background.paper"},children:n.rules.map((e=>j.jsx(_9,{code:r,rule:e,t:i},e)))})]}))),w9="_box_xl6bf_1",O9="_boxHasSetup_xl6bf_8";const S9=F.memo((function({t:e}){const t=R(),r=Ne(),n=Fe((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}}),pt),o=Object.keys(n).length>0;return v.useEffect((()=>{const e=t=>{t.ctrlKey&&"d"===t.key&&(document.removeEventListener("keydown",e),r(Dt()))};o&&document.addEventListener("keydown",e)}),[o]),j.jsx(L,{className:`${w9} ${o?O9:""}`,style:{transition:t.transitions.create("all",{easing:t.transitions.easing.sharp,duration:300})},timeout:300,children:o&&j.jsx(b9,{t:e})})}));u("default",F.memo((function(){const e=Pe(["design","run"]),t=e.t,r=e.i18n.cloneInstance(),n=v.useRef(null),o=Ne(),i=Fe((e=>e.designState.langInfo)),a=null==i?void 0:i.lang,l=i&&(null==i?void 0:i.onMainLang),s=Fe((e=>{var t;return null===(t=e.designState.Survey)||void 0===t?void 0:t.theme}));v.useEffect((()=>{var e;n.current&&(e=a,new Promise(((t,o)=>{const i=We.includes(e)?"rtl":"ltr",a=n.current;a.dir!=i&&(a.dir=i),a.scrollTop=0,e&&r&&e!=r.language&&r.changeLanguage(e),t()})))}),[a,n]),v.useEffect((()=>{const e=new URLSearchParams(window.location.search).get("mode");e==ur.THEME?o(De(Vt)):e==ur.LANGUAGES?o(De(zt)):e==ur.REORDER?o(De(Bt)):o(Dt())}),[]);const u=v.useMemo((()=>Ht(a)),[a]),c=F.useCallback(G(p(p({},Ut(s)),{},{direction:We.includes(a)?"rtl":"ltr"})),[s]);return j.jsx("div",{className:zo.mainContainer,children:j.jsxs(pr,{backend:fr()?hr:gr,children:[l&&j.jsx(N_,{t:t}),j.jsx(J,{value:u,children:j.jsx(kt,{theme:c,children:j.jsx(Q,{i18n:r,children:j.jsx(I_,{onMainLang:l,ref:n,className:zo.contentPanel})})})}),j.jsx(S9,{t:t})]})})})))}}}))}();
