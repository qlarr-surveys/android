import{s as f,j as s,B as o,r as j}from"./index-DrdL8HT2.js";import{c as _,a as v,L as y,o as S}from"./yup-DIB40AAO.js";import{u as w,F as b,R as k,I as C}from"./Web-f7YbRHTs.js";import{R as z}from"./router-link-DxmZoiZm.js";import{T as t,aD as F,R as L,M as T,U as R,Z as l,aL as A,at as B,X as D}from"./use-service-0Fq5u1zn.js";import{C as I}from"./Check-ov53ur5e.js";import{L as P}from"./Link-CSiWj_D0.js";import"./Checkbox-DbTDcKnM.js";import"./SwitchBase-9pSiC_Cg.js";import"./Tabs-CzcAv-q5.js";import"./radioClasses-CNZTtMI3.js";import"./tableRowClasses-Dzs-lpCH.js";import"./TextField-DRWs31uB.js";import"./FormControlLabel-DFbM1-QV.js";const Z="_successText_19zdx_1",$="_iconContainer_19zdx_12",m={successText:Z,iconContainer:$},N=({message:r,t:e})=>{const a=f();return s.jsxs(o,{className:m.successText,children:[s.jsx(o,{className:m.iconContainer,children:s.jsx(I,{sx:{fontSize:"40px",color:"#32CD32",stroke:"#32CD32",strokeWidth:1}})}),s.jsxs(o,{children:[s.jsx(t,{variant:"h4",color:"primary",children:e("email.check")}),s.jsx(t,{variant:"body1",mt:1,color:"textSecondary",children:e("".concat(r))})]}),s.jsx(F,{onClick:()=>{a("/login")},fullWidth:!0,size:"large",color:"primary",variant:"contained",children:e("login.login")})]})};function ts(){const r=L("auth"),{t:e}=T("manage"),[a,d]=j.useState(!1),i=R(),u=_().shape({email:v().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email"))}),x={email:""},n=w({resolver:S(u),defaultValues:x}),{reset:W,handleSubmit:c,formState:{isSubmitting:h}}=n,p=c(async g=>{try{i(l(!0)),await r.forgotPassword(g.email),d(!0)}catch(q){}finally{i(l(!1))}});return s.jsx(s.Fragment,{children:a?s.jsx(N,{t:e,message:"forgot_password.success"}):s.jsxs(A,{sx:{textAlign:"center"},children:[s.jsx(B,{alt:"reset password",src:"/ic_lock_password.svg",sx:{mb:5,width:96,height:96,mx:"auto"}}),s.jsx(t,{variant:"h3",paragraph:!0,children:e("forgot_password.title")}),s.jsx(t,{variant:"body2",color:"textSecondary",mb:5,children:e("forgot_password.helper_text")}),s.jsxs(b,{methods:n,onSubmit:c(p),children:[s.jsx(k,{name:"email",hiddenLabel:!0,placeholder:e("label.email")}),s.jsx(y,{fullWidth:!0,size:"large",color:"primary",type:"submit",variant:"contained",loading:h,sx:{mt:2.5},children:e("forgot_password.send")})]}),s.jsxs(P,{component:z,href:D.login,color:"inherit",variant:"subtitle2",sx:{mt:3,mx:"auto",alignItems:"center",display:"inline-flex"},children:[s.jsx(C,{icon:"carbon:chevron-left",width:16,sx:{mr:1}}),e("forgot_password.return_to_signin")]})]})})}export{ts as default};
