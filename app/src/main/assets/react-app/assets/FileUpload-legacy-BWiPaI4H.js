!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,i,r,a,l=[],s=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=r.call(t)).done)&&(l.push(o.value),l.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}System.register(["./index-legacy-DC8sT-V-.js","./Android-legacy-CM_Qr9vx.js"],(function(n,t){"use strict";var o,i,r,a,l,s,c,d,u,m,v,f,p,y,x,h,b,j,g,w,_,S,C,A,z,k,F,M,D,V;return{setters:[e=>{o=e.V,i=e.U,r=e.ai,a=e.a0,l=e.r,s=e.w,c=e.y,d=e.m,u=e.D,m=e.Y,v=e.ac},e=>{f=e.a,p=e.ar,y=e.w,x=e.s,h=e.h,b=e.c,j=e.g,g=e.a1,w=e.b,_=e.ac,S=e.as,C=e.K,A=e.M,z=e.y,k=e.at,F=e.a3,M=e.O,D=e.S,V=e.a7}],execute:function(){function t(e){return i("MuiLink",e)}n("default",(function(n){var t,o,i,r,a;const s=g("run"),c=w(),u=_("run").t;let f=S(null===(t=n.component.validation)||void 0===t||null===(t=t.validation_file_types)||void 0===t?void 0:t.fileTypes);const p=(null===(o=n.component.validation)||void 0===o||null===(o=o.validation_max_file_size)||void 0===o?void 0:o.isActive)&&(null===(i=n.component.validation)||void 0===i||null===(i=i.validation_max_file_size)||void 0===i?void 0:i.max_size)||-1,y=p>0?Math.min(p,10240):10240,x=C((e=>{let t=e.runState.values[n.component.qualifiedCode];return null==t?void 0:t.value})),h=C((e=>e.runState.preview)),b=A(),j=e(l.useState(),2),$=j[0],q=j[1],R=e(l.useState(!1),2),O=R[0],T=R[1],L=!O&&$&&f.length>0&&!f.includes($.type),N=!O&&$&&y>0&&$.size/1024>y,I=e=>{e&&(T(!0),V(s,n.component.qualifiedCode,h,e).then((e=>{T(!1),q(void 0),b(M({componentCode:n.component.qualifiedCode,value:e}))})).catch((e=>{T(!1),console.error(e)})))};return d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"contained-button-file",children:[d.jsx(K,{id:"contained-button-file",type:"file",accept:f?f.join(","):void 0,onChange:e=>{var t;const o=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!o)return;b(D(n.component.qualifiedCode)),q(o);const i=f.length>0&&!f.includes(o.type),r=y>0&&o.size/1024>y;i||r||I(o)}}),d.jsx(z,{disabled:O,onClick:e=>{if(window.Android){e.preventDefault();const t=n.component.qualifiedCode;window.Android.selectFile(t,(null==f?void 0:f.join(","))||"",y||-1),window["onFileSelected"+t]=(e,n,o)=>{const i={name:e,size:n,type:o};b(D(t)),q(i),f.length>0&&!f.includes(o)||y>0&&n/1024>y||I(i)}}},variant:"contained",component:"span",children:u("choose_file")})]}),$?d.jsxs(m.Fragment,{children:[d.jsxs("span",{children:["Â ",$.name," - ",Math.round($.size/1024),"K"]}),d.jsx(z,{disabled:O,sx:{fontFamily:c.textStyles.text.font,fontSize:c.textStyles.text.size},variant:"text",onClick:()=>{q(void 0)},children:u("cancel")})]}):"",N&&d.jsxs(m.Fragment,{children:[d.jsx("br",{}),d.jsx(k,{name:"validation_max_file_size",validation:null===(r=n.component.validation)||void 0===r?void 0:r.validation_max_file_size})]}),L&&d.jsxs(m.Fragment,{children:[d.jsx("br",{}),d.jsx(k,{name:"validation_file_types",validation:null===(a=n.component.validation)||void 0===a?void 0:a.validation_file_types})]}),O?d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx(v,{}),d.jsx("br",{}),d.jsx("span",{children:u("uploading")})]}):x&&x.stored_filename?d.jsxs(m.Fragment,{children:[d.jsx("br",{}),d.jsx("br",{}),window.Android?d.jsxs(B,{target:"_blank",onClick:()=>{window.Android.previewFileUpload(x.stored_filename,x.filename)},children:[x.filename," - ",Math.round(x.size/1024),"K"]}):d.jsxs(B,{target:"_blank",href:F(x.stored_filename),children:[x.filename," - ",Math.round(x.size/1024),"K"]}),d.jsx(z,{variant:"text",size:"small",onClick:()=>b(M({componentCode:n.component.qualifiedCode,value:null})),children:u("remove_file","Remove")})]}):""]})}));const $=o("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),q={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},R=({theme:e,ownerState:n})=>{const t=(e=>q[e]||e)(n.color),o=r(e,`palette.${t}`,!1)||n.color,i=r(e,`palette.${t}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:a(o,.4)},O=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],T=x(j,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const t=e.ownerState;return[n.root,n[`underline${h(t.underline)}`],"button"===t.component&&n.button]}})((({theme:e,ownerState:n})=>c({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&c({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:R({theme:e,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$.focusVisible}`]:{outline:"auto"}}))),B=l.forwardRef((function(n,o){const i=f({props:n,name:"MuiLink"}),r=i.className,a=i.color,m=void 0===a?"primary":a,v=i.component,x=void 0===v?"a":v,j=i.onBlur,g=i.onFocus,w=i.TypographyClasses,_=i.underline,S=void 0===_?"always":_,C=i.variant,A=void 0===C?"inherit":C,z=i.sx,k=s(i,O),F=p(),M=F.isFocusVisibleRef,D=F.onBlur,V=F.onFocus,$=F.ref,R=e(l.useState(!1),2),B=R[0],K=R[1],L=y(o,$),N=c({},i,{color:m,component:x,focusVisible:B,underline:S,variant:A}),I=(e=>{const n=e.classes,o=e.component,i=e.focusVisible,r=e.underline,a={root:["root",`underline${h(r)}`,"button"===o&&"button",i&&"focusVisible"]};return b(a,t,n)})(N);return d.jsx(T,c({color:m,className:u(I.root,r),classes:w,component:x,onBlur:e=>{D(e),!1===M.current&&K(!1),j&&j(e)},onFocus:e=>{V(e),!0===M.current&&K(!0),g&&g(e)},ref:L,ownerState:N,variant:A,sx:[...Object.keys(q).includes(m)?[]:[{color:m}],...Array.isArray(z)?z:[z]]},k))})),K=x("input")({display:"none"})}}}))}();
