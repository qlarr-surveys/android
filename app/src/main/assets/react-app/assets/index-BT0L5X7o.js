import{b as on,w as tn,r as J,J as HF,M as zF,O as le,an as xt,P as UF,_ as ae,g as Dl,f as Ml,h as kt,j as T,d as Ir,k as vl,a1 as Ws,l as Vb,i as Bb,o as WF,q as $r,B as ht,p as An,ai as GF,R as j,y as Ya,A as Xg,ag as YF,ao as KF,ap as JF,H as QF,aq as pE,ar as Yt,as as Kt,at as Jt,au as Le,av as er,x as hE,C as XF,aw as ZF}from"./index-DrdL8HT2.js";import{G as pt,H as eR,J as Zg,L as tR,M as fn,N as rR,O as qb,P as nR,Q as pi,T as iR,U as gl,v as Xn,C as Ou,D as em,V as ls,m as aR,W as vE,X as oR,K as gE,Y as sR}from"./Web-f7YbRHTs.js";import{b$ as lR,c0 as Ch,C as uR,A as zu,k as Go,c1 as cR,f as zt,j as Ui,c as Wi,c2 as Th,al as Vo,am as Hb,an as As,I as bt,h as mE,c3 as fR,b as nc,bT as dR,c4 as pR,T as Cn,l as yE,B as hR,c5 as zb,L as vR,c6 as gR,D as mR,n as yR,o as ed,v as kh,p as td,c7 as bE,z as bR,x as to,w as jr,bg as _R,bh as SR,bi as Ub,t as OR,i as xR,e as lp,bO as wR,c8 as ER,K as Nr,M as us,U as wt,H as ye,c9 as Gi,ca as cs,cb as Fi,cc as Ma,cd as CR,bk as Pi,aw as TR,ce as Wb,cf as Io,ap as So,aQ as rd,cg as kR,ch as yi,aD as Ut,b9 as Ka,ci as fs,cj as Si,R as Vl,ck as Va,bb as up,cl as tm,cm as gd,cn as pn,co as IR,cp as AR,cq as jR,cr as Ih,cs as xu,bn as PR,ct as Ah,cu as LR,cv as Yn,cw as md,ax as Dr,S as Yi,N as Zr,cx as ke,a2 as W,cy as cp,P as FR,bC as RR,W as $R,ar as _E,bd as NR,cz as mf,cA as DR,cB as MR,cC as VR,cD as SE,cE as BR,cF as qR,cG as HR,cH as zR,aL as Aa,cI as jh,aO as Gb,cJ as UR,aF as OE,cK as WR,av as GR,bv as YR,cL as KR,cM as JR,cN as QR,aX as XR,V as ZR}from"./use-service-0Fq5u1zn.js";import{b as Ao}from"./common-5BhfyGYi.js";import{c as xE,E as e$,D as t$,i as r$,T as n$,H as i$}from"./isTouchDevice-CHtK4r2d.js";import{u as a$,a as o$,D as s$,d as Yb}from"./Image-ulBc8ayd.js";import{T as Zt,F as wE,I as l$}from"./TextField-DRWs31uB.js";import{T as EE,a as CE,b as fp,c as TE}from"./TableRow-BbZSZcIZ.js";import{T as kE}from"./TableHead-CWmtQXfJ.js";import{T as gn}from"./TableCell-DKckLh6O.js";import{R as u$}from"./Radio-Btfvo5ZN.js";import{u as Ki}from"./useDrop-DSjUcWFC.js";import{R as c$}from"./index-xyd4yAx9.js";import{G as co,q as rm,D as f$,L as d$}from"./DateTimePicker-CgAJH2CQ.js";import{P as IE,a as nm,b as Uu}from"./Tabs-CzcAv-q5.js";import{D as im}from"./index-Cv9cUi3I.js";import{C as p$,H as Kb,c as Oi,A as h$,a as v$,d as g$,b as m$}from"./index-oFx59i63.js";import{C as y$}from"./CardMedia-CIEe5zwn.js";import{F as $a}from"./FormControlLabel-DFbM1-QV.js";import{C as Li}from"./Checkbox-DbTDcKnM.js";import{D as b$,T as _$}from"./DatePicker-DfxqSubC.js";import{d as Wu}from"./Delete-CZJSvO2w.js";import{C as dp}from"./Card-Dppxln-L.js";import{N as yf}from"./survey-D2pw4t3m.js";import{u as bf}from"./use-boolean-bW_ayOWI.js";import"./radioClasses-CNZTtMI3.js";import"./tableRowClasses-Dzs-lpCH.js";import"./SwitchBase-9pSiC_Cg.js";import"./RadioGroupContext-CfCEyyF4.js";import"./InputAdornment-BRaI75ZV.js";const AE=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return Vse},get LOWER(){return Dse},get NOW(){return $se},get RELATIVE_DATETIME(){return Nse},get UPPER(){return Mse}},Symbol.toStringTag,{value:"Module"}));function ri(t,e){if(t==null)return{};var r,n,i=on(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var S$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const O$=tn(S$);var x$=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Jb(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(O$[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(x$),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var w$=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,E$=/^\s*$/,C$=Object.create(null);function jE(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(jE,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var T$={parse:function(t,e){e||(e={}),e.components||(e.components=C$);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(w$,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,v=t.charAt(p);if(d){var h=Jb(l);return a<0?(n.push(h),n):((c=i[a]).children.push(h),n)}if(f&&(a++,(r=Jb(l)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!v||v==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&v!=="<"&&v)){c=a===-1?n:i[a].children;var m=t.indexOf("<",p),y=t.slice(p,m===-1?void 0:m);E$.test(y)&&(y=" "),(m>-1&&a+c.length>=0||y!==" ")&&c.push({type:"text",content:y})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+jE("",r)},"")}},k$=["format"],I$=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Qb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ph(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function Lh(t){return t?t.props?t.props.children:t.children:[]}function A$(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return J.isValidElement(e)})}function $u(t){return Array.isArray(t)?t:[t]}function j$(t,e){var r=Qr({},e);return r.props=Object.assign(t.props,e.props),r}function PE(t,e){if(!t)return"";var r="",n=$u(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(J.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=PE(u,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)Ch("Trans: the passed in value is invalid - seems you passed in a null child.");else if(xt(a)==="object"){var f=a.format,d=ri(a,k$),p=Object.keys(d);if(p.length===1){var v=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(v,"}}")}else Ch("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Ch("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function P$(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var l={};function u(m){var y=$u(m);y.forEach(function(g){typeof g!="string"&&(Ph(g)?u(Lh(g)):xt(g)==="object"&&!J.isValidElement(g)&&Object.assign(l,g))})}u(t);var c=T$.parse("<0>".concat(e,"</0>")),f=Qr(Qr({},l),i);function d(m,y,g){var _=Lh(m),b=v(_,y.children,g);return A$(_)&&b.length===0?_:b}function p(m,y,g,_,b){m.dummy&&(m.children=y),g.push(J.cloneElement(m,Qr(Qr({},m.props),{},{key:_}),b?void 0:y))}function v(m,y,g){var _=$u(m),b=$u(y);return b.reduce(function(S,O,x){var E=O.children&&O.children[0]&&O.children[0].content&&r.services.interpolator.interpolate(O.children[0].content,f,r.language);if(O.type==="tag"){var k=_[parseInt(O.name,10)];!k&&g.length===1&&g[0][O.name]&&(k=g[0][O.name]),k||(k={});var w=Object.keys(O.attrs).length!==0?j$({props:O.attrs},k):k,I=J.isValidElement(w),C=I&&Ph(O,!0)&&!O.voidElement,A=s&&xt(w)==="object"&&w.dummy&&!I,P=xt(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,O.name);if(typeof w=="string"){var L=r.services.interpolator.interpolate(w,f,r.language);S.push(L)}else if(Ph(w)||C){var V=d(w,O,g);p(w,V,S,x)}else if(A){var R=v(_,O.children,g);S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x}),R))}else if(Number.isNaN(parseFloat(O.name)))if(P){var U=d(w,O,g);p(w,U,S,x,O.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(O.name)>-1)if(O.voidElement)S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)}));else{var M=v(_,O.children,g);S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)},M))}else if(O.voidElement)S.push("<".concat(O.name," />"));else{var $=v(_,O.children,g);S.push("<".concat(O.name,">").concat($,"</").concat(O.name,">"))}else if(xt(w)==="object"&&!I){var F=O.children[0]?E:null;F&&S.push(F)}else O.children.length===1&&E?S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x}),E)):S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x})))}else if(O.type==="text"){var N=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(O.content,f,r.language)):r.services.interpolator.interpolate(O.content,f,r.language);N?S.push(J.createElement(N,{key:"".concat(O.name,"-").concat(x)},B)):S.push(B)}return S},[])}var h=v([{dummy:!0,children:t||[]}],c,$u(t||[]));return Lh(h[0])}function fa(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,l=t.values,u=t.defaults,c=t.components,f=t.ns,d=t.i18n,p=t.t,v=t.shouldUnescape,h=ri(t,I$),m=J.useContext(HF)||{},y=m.i18n,g=m.defaultNS,_=d||y||UF();if(!_)return lR("You will need to pass in an i18next instance by using i18nextReactModule"),e;var b=p||_.t.bind(_)||function(L){return L};a&&(s.context=a);var S=Qr(Qr({},zF()),_.options&&_.options.react),O=f||b.ns||g||_.options&&_.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"];var x=u||PE(e,S)||S.transEmptyNodeValue||i,E=S.hashTransKey,k=i||(E?E(x):x),w=l?s.interpolation:{interpolation:Qr(Qr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},I=Qr(Qr(Qr(Qr({},s),{},{count:r},l),w),{},{defaultValue:x,ns:O}),C=k?b(k,I):x,A=P$(c||e,C,_,S,I,v),P=n!==void 0?n:S.defaultTransParent;return P?J.createElement(P,h,A):A}function L$(t){return J.Children.toArray(t).filter(e=>J.isValidElement(e))}const F$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Xb(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function LE(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:o=!1}=t;return(s,{inputValue:l,getOptionLabel:u})=>{let c=o?l.trim():l;r&&(c=c.toLowerCase()),e&&(c=Xb(c));const f=c?s.filter(d=>{let p=(a||u)(d);return r&&(p=p.toLowerCase()),e&&(p=Xb(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?f.slice(0,n):f}}function _f(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const R$=LE(),Zb=5,$$=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function N$(t){const{unstable_isActiveElementInListbox:e=$$,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:v=!1,disableListWrap:h=!1,filterOptions:m=R$,filterSelectedOptions:y=!1,freeSolo:g=!1,getOptionDisabled:_,getOptionKey:b,getOptionLabel:S=ne=>{var Z;return(Z=ne.label)!=null?Z:ne},groupBy:O,handleHomeEndKeys:x=!t.freeSolo,id:E,includeInputInList:k=!1,inputValue:w,isOptionEqualToValue:I=(ne,Z)=>ne===Z,multiple:C=!1,onChange:A,onClose:P,onHighlightChange:L,onInputChange:V,onOpen:R,open:U,openOnFocus:M=!1,options:$,readOnly:F=!1,selectOnFocus:N=!t.freeSolo,value:B}=t,z=uR(E);let H=S;H=ne=>{const Z=S(ne);return typeof Z!="string"?String(Z):Z};const D=J.useRef(!1),G=J.useRef(!0),q=J.useRef(null),Y=J.useRef(null),[K,ie]=J.useState(null),[te,oe]=J.useState(-1),ue=i?0:-1,fe=J.useRef(ue),[pe,Se]=zu({controlled:B,default:c,name:u}),[Q,re]=zu({controlled:w,default:"",name:u,state:"inputValue"}),[de,ve]=J.useState(!1),ee=J.useCallback((ne,Z)=>{if(!(C?pe.length<Z.length:Z!==null)&&!s)return;let _e;if(C)_e="";else if(Z==null)_e="";else{const ze=H(Z);_e=typeof ze=="string"?ze:""}Q!==_e&&(re(_e),V&&V(ne,_e,"reset"))},[H,Q,C,V,re,s,pe]),[me,Oe]=zu({controlled:U,default:!1,name:u,state:"open"}),[we,Je]=J.useState(!0),at=!C&&pe!=null&&Q===H(pe),ce=me&&!F,ge=ce?m($.filter(ne=>!(y&&(C?pe:[pe]).some(Z=>Z!==null&&I(ne,Z)))),{inputValue:at&&we?"":Q,getOptionLabel:H}):[],he=a$({filteredOptions:ge,value:pe,inputValue:Q});J.useEffect(()=>{const ne=pe!==he.value;de&&!ne||g&&!ne||ee(null,pe)},[pe,ee,de,he.value,g]);const Pe=me&&ge.length>0&&!F,Be=Go(ne=>{ne===-1?q.current.focus():K.querySelector('[data-tag-index="'.concat(ne,'"]')).focus()});J.useEffect(()=>{C&&te>pe.length-1&&(oe(-1),Be(-1))},[pe,C,te,Be]);function Ne(ne,Z){if(!Y.current||ne<0||ne>=ge.length)return-1;let be=ne;for(;;){const _e=Y.current.querySelector('[data-option-index="'.concat(be,'"]')),ze=v?!1:!_e||_e.disabled||_e.getAttribute("aria-disabled")==="true";if(_e&&_e.hasAttribute("tabindex")&&!ze)return be;if(Z==="next"?be=(be+1)%ge.length:be=(be-1+ge.length)%ge.length,be===ne)return-1}}const ot=Go(({event:ne,index:Z,reason:be="auto"})=>{if(fe.current=Z,Z===-1?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant","".concat(z,"-option-").concat(Z)),L&&L(ne,Z===-1?null:ge[Z],be),!Y.current)return;const _e=Y.current.querySelector('[role="option"].'.concat(r,"-focused"));_e&&(_e.classList.remove("".concat(r,"-focused")),_e.classList.remove("".concat(r,"-focusVisible")));let ze=Y.current;if(Y.current.getAttribute("role")!=="listbox"&&(ze=Y.current.parentElement.querySelector('[role="listbox"]')),!ze)return;if(Z===-1){ze.scrollTop=0;return}const _t=Y.current.querySelector('[data-option-index="'.concat(Z,'"]'));if(_t&&(_t.classList.add("".concat(r,"-focused")),be==="keyboard"&&_t.classList.add("".concat(r,"-focusVisible")),ze.scrollHeight>ze.clientHeight&&be!=="mouse"&&be!=="touch")){const qt=_t,Jr=ze.clientHeight+ze.scrollTop,Re=qt.offsetTop+qt.offsetHeight;Re>Jr?ze.scrollTop=Re-ze.clientHeight:qt.offsetTop-qt.offsetHeight*(O?1.3:0)<ze.scrollTop&&(ze.scrollTop=qt.offsetTop-qt.offsetHeight*(O?1.3:0))}}),st=Go(({event:ne,diff:Z,direction:be="next",reason:_e="auto"})=>{if(!ce)return;const _t=Ne((()=>{const qt=ge.length-1;if(Z==="reset")return ue;if(Z==="start")return 0;if(Z==="end")return qt;const Jr=fe.current+Z;return Jr<0?Jr===-1&&k?-1:h&&fe.current!==-1||Math.abs(Z)>1?0:qt:Jr>qt?Jr===qt+1&&k?-1:h||Math.abs(Z)>1?qt:0:Jr})(),be);if(ot({index:_t,reason:_e,event:ne}),n&&Z!=="reset")if(_t===-1)q.current.value=Q;else{const qt=H(ge[_t]);q.current.value=qt,qt.toLowerCase().indexOf(Q.toLowerCase())===0&&Q.length>0&&q.current.setSelectionRange(Q.length,qt.length)}}),Ke=()=>{const ne=(Z,be)=>{const _e=Z?H(Z):"",ze=be?H(be):"";return _e===ze};if(fe.current!==-1&&he.filteredOptions&&he.filteredOptions.length!==ge.length&&he.inputValue===Q&&(C?pe.length===he.value.length&&he.value.every((Z,be)=>H(pe[be])===H(Z)):ne(he.value,pe))){const Z=he.filteredOptions[fe.current];if(Z)return _f(ge,be=>H(be)===H(Z))}return-1},Bt=J.useCallback(()=>{if(!ce)return;const ne=Ke();if(ne!==-1){fe.current=ne;return}const Z=C?pe[0]:pe;if(ge.length===0||Z==null){st({diff:"reset"});return}if(Y.current){if(Z!=null){const be=ge[fe.current];if(C&&be&&_f(pe,ze=>I(be,ze))!==-1)return;const _e=_f(ge,ze=>I(ze,Z));_e===-1?st({diff:"reset"}):ot({index:_e});return}if(fe.current>=ge.length-1){ot({index:ge.length-1});return}ot({index:fe.current})}},[ge.length,C?!1:pe,y,st,ot,ce,Q,C]),Pr=Go(ne=>{cR(Y,ne),ne&&Bt()});J.useEffect(()=>{Bt()},[Bt]);const vt=ne=>{me||(Oe(!0),Je(!0),R&&R(ne))},Fe=(ne,Z)=>{me&&(Oe(!1),P&&P(ne,Z))},De=(ne,Z,be,_e)=>{if(C){if(pe.length===Z.length&&pe.every((ze,_t)=>ze===Z[_t]))return}else if(pe===Z)return;A&&A(ne,Z,be,_e),Se(Z)},Ge=J.useRef(!1),Qe=(ne,Z,be="selectOption",_e="options")=>{let ze=be,_t=Z;if(C){_t=Array.isArray(pe)?pe.slice():[];const qt=_f(_t,Jr=>I(Z,Jr));qt===-1?_t.push(Z):_e!=="freeSolo"&&(_t.splice(qt,1),ze="removeOption")}ee(ne,_t),De(ne,_t,ze,{option:Z}),!d&&(!ne||!ne.ctrlKey&&!ne.metaKey)&&Fe(ne,ze),(o===!0||o==="touch"&&Ge.current||o==="mouse"&&!Ge.current)&&q.current.blur()};function ft(ne,Z){if(ne===-1)return-1;let be=ne;for(;;){if(Z==="next"&&be===pe.length||Z==="previous"&&be===-1)return-1;const _e=K.querySelector('[data-tag-index="'.concat(be,'"]'));if(!_e||!_e.hasAttribute("tabindex")||_e.disabled||_e.getAttribute("aria-disabled")==="true")be+=Z==="next"?1:-1;else return be}}const Et=(ne,Z)=>{if(!C)return;Q===""&&Fe(ne,"toggleInput");let be=te;te===-1?Q===""&&Z==="previous"&&(be=pe.length-1):(be+=Z==="next"?1:-1,be<0&&(be=0),be===pe.length&&(be=-1)),be=ft(be,Z),oe(be),Be(be)},At=ne=>{D.current=!0,re(""),V&&V(ne,"","clear"),De(ne,C?[]:null,"clear")},Sr=ne=>Z=>{if(ne.onKeyDown&&ne.onKeyDown(Z),!Z.defaultMuiPrevented&&(te!==-1&&["ArrowLeft","ArrowRight"].indexOf(Z.key)===-1&&(oe(-1),Be(-1)),Z.which!==229))switch(Z.key){case"Home":ce&&x&&(Z.preventDefault(),st({diff:"start",direction:"next",reason:"keyboard",event:Z}));break;case"End":ce&&x&&(Z.preventDefault(),st({diff:"end",direction:"previous",reason:"keyboard",event:Z}));break;case"PageUp":Z.preventDefault(),st({diff:-Zb,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"PageDown":Z.preventDefault(),st({diff:Zb,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowDown":Z.preventDefault(),st({diff:1,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowUp":Z.preventDefault(),st({diff:-1,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowLeft":Et(Z,"previous");break;case"ArrowRight":Et(Z,"next");break;case"Enter":if(fe.current!==-1&&ce){const be=ge[fe.current],_e=_?_(be):!1;if(Z.preventDefault(),_e)return;Qe(Z,be,"selectOption"),n&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else g&&Q!==""&&at===!1&&(C&&Z.preventDefault(),Qe(Z,Q,"createOption","freeSolo"));break;case"Escape":ce?(Z.preventDefault(),Z.stopPropagation(),Fe(Z,"escape")):l&&(Q!==""||C&&pe.length>0)&&(Z.preventDefault(),Z.stopPropagation(),At(Z));break;case"Backspace":if(C&&!F&&Q===""&&pe.length>0){const be=te===-1?pe.length-1:te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break;case"Delete":if(C&&!F&&Q===""&&pe.length>0&&te!==-1){const be=te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break}},Rt=ne=>{ve(!0),M&&!D.current&&vt(ne)},Mr=ne=>{if(e(Y)){q.current.focus();return}ve(!1),G.current=!0,D.current=!1,a&&fe.current!==-1&&ce?Qe(ne,ge[fe.current],"blur"):a&&g&&Q!==""?Qe(ne,Q,"blur","freeSolo"):s&&ee(ne,pe),Fe(ne,"blur")},qe=ne=>{const Z=ne.target.value;Q!==Z&&(re(Z),Je(!1),V&&V(ne,Z,"input")),Z===""?!f&&!C&&De(ne,null,"clear"):vt(ne)},lt=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));fe.current!==Z&&ot({event:ne,index:Z,reason:"mouse"})},cr=ne=>{ot({event:ne,index:Number(ne.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ge.current=!0},Yr=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));Qe(ne,ge[Z],"selectOption"),Ge.current=!1},Kr=ne=>Z=>{const be=pe.slice();be.splice(ne,1),De(Z,be,"removeOption",{option:pe[ne]})},mt=ne=>{me?Fe(ne,"toggleInput"):vt(ne)},dt=ne=>{ne.currentTarget.contains(ne.target)&&ne.target.getAttribute("id")!==z&&ne.preventDefault()},fr=ne=>{ne.currentTarget.contains(ne.target)&&(q.current.focus(),N&&G.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),G.current=!1)},$t=ne=>{!p&&(Q===""||!me)&&mt(ne)};let Lr=g&&Q.length>0;Lr=Lr||(C?pe.length>0:pe!==null);let rr=ge;return O&&(rr=ge.reduce((ne,Z,be)=>{const _e=O(Z);return ne.length>0&&ne[ne.length-1].group===_e?ne[ne.length-1].options.push(Z):ne.push({key:be,index:be,group:_e,options:[Z]}),ne},[])),p&&de&&Mr(),{getRootProps:(ne={})=>ae({"aria-owns":Pe?"".concat(z,"-listbox"):null},ne,{onKeyDown:Sr(ne),onMouseDown:dt,onClick:fr}),getInputLabelProps:()=>({id:"".concat(z,"-label"),htmlFor:z}),getInputProps:()=>({id:z,value:Q,onBlur:Mr,onFocus:Rt,onChange:qe,onMouseDown:$t,"aria-activedescendant":ce?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Pe?"".concat(z,"-listbox"):void 0,"aria-expanded":Pe,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:At}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:mt}),getTagProps:({index:ne})=>ae({key:ne,"data-tag-index":ne,tabIndex:-1},!F&&{onDelete:Kr(ne)}),getListboxProps:()=>({role:"listbox",id:"".concat(z,"-listbox"),"aria-labelledby":"".concat(z,"-label"),ref:Pr,onMouseDown:ne=>{ne.preventDefault()}}),getOptionProps:({index:ne,option:Z})=>{var be;const _e=(C?pe:[pe]).some(_t=>_t!=null&&I(Z,_t)),ze=_?_(Z):!1;return{key:(be=b==null?void 0:b(Z))!=null?be:H(Z),tabIndex:-1,role:"option",id:"".concat(z,"-option-").concat(ne),onMouseMove:lt,onClick:Yr,onTouchStart:cr,"data-option-index":ne,"aria-disabled":ze,"aria-selected":_e}},id:z,inputValue:Q,value:pe,dirty:Lr,expanded:ce&&K,popupOpen:ce,focused:de||te!==-1,anchorEl:K,setAnchorEl:ie,focusedTag:te,groupedOptions:rr}}function D$(t){return Dl("MuiListSubheader",t)}Ml("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const M$=["className","color","component","disableGutters","disableSticky","inset"],V$=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,o={root:["root",r!=="default"&&"color".concat(kt(r)),!n&&"gutters",i&&"inset",!a&&"sticky"]};return Wi(o,D$,e)},B$=zt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e["color".concat(kt(r.color))],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>ae({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),am=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=on(n,M$),f=ae({},n,{color:a,component:o,disableGutters:s,disableSticky:l,inset:u}),d=V$(f);return T.jsx(B$,ae({as:o,className:Ir(d.root,i),ref:r,ownerState:f},c))});am.muiSkipListHighlight=!0;var e1,t1;const q$=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],H$=["ref"],z$=["key"],U$=["key"],W$=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=t,f={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(kt(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Wi(f,tR,e)},G$=zt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:o,size:s}=r;return[{["& .".concat(pt.tag)]:e.tag},{["& .".concat(pt.tag)]:e["tagSize".concat(kt(s))]},{["& .".concat(pt.inputRoot)]:e.inputRoot},{["& .".concat(pt.input)]:e.input},{["& .".concat(pt.input)]:o&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})({["&.".concat(pt.focused," .").concat(pt.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(pt.clearIndicator)]:{visibility:"visible"}},["& .".concat(pt.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(pt.inputRoot)]:{[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:30},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(pt.input)]:{width:0,minWidth:30}},["& .".concat(Th.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(Th.root,".").concat(Vo.sizeSmall)]:{["& .".concat(Th.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(Hb.root)]:{padding:9,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(pt.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Hb.root,".").concat(Vo.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(pt.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(As.root)]:{paddingTop:19,paddingLeft:8,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(As.input)]:{padding:"7px 4px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(As.root,".").concat(Vo.sizeSmall)]:{paddingBottom:1,["& .".concat(As.input)]:{padding:"2.5px 4px"}},["& .".concat(Vo.hiddenLabel)]:{paddingTop:8},["& .".concat(As.root,".").concat(Vo.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(pt.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(As.root,".").concat(Vo.hiddenLabel,".").concat(Vo.sizeSmall)]:{["& .".concat(pt.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(pt.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(pt.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(pt.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(pt.inputRoot)]:{flexWrap:"wrap"}}}]}),Y$=zt("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),K$=zt(bt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),J$=zt(bt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>ae({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Q$=zt(IE,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(pt.option)]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),X$=zt(mE,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>ae({},t.typography.body1,{overflow:"auto"})),Z$=zt("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),e2=zt("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),t2=zt("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(pt.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(pt.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(pt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):vl(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pt.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):vl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(pt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):vl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),r2=zt(am,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),n2=zt("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(pt.option)]:{paddingLeft:24}}),i2=J.forwardRef(function(e,r){var n,i,a,o;const s=Ui({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:f=!1,ChipProps:d,className:p,clearIcon:v=e1||(e1=T.jsx(eR,{fontSize:"small"})),clearOnBlur:h=!s.freeSolo,clearOnEscape:m=!1,clearText:y="Clear",closeText:g="Close",componentsProps:_={},defaultValue:b=s.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:O=!1,disabled:x=!1,disabledItemsFocusable:E=!1,disableListWrap:k=!1,disablePortal:w=!1,filterSelectedOptions:I=!1,forcePopupIcon:C="auto",freeSolo:A=!1,fullWidth:P=!1,getLimitTagsText:L=_e=>"+".concat(_e),getOptionLabel:V,groupBy:R,handleHomeEndKeys:U=!s.freeSolo,includeInputInList:M=!1,limitTags:$=-1,ListboxComponent:F="ul",ListboxProps:N,loading:B=!1,loadingText:z="Loadingâ€¦",multiple:H=!1,noOptionsText:D="No options",openOnFocus:G=!1,openText:q="Open",PaperComponent:Y=mE,PopperComponent:K=IE,popupIcon:ie=t1||(t1=T.jsx(fR,{})),readOnly:te=!1,renderGroup:oe,renderInput:ue,renderOption:fe,renderTags:pe,selectOnFocus:Se=!s.freeSolo,size:Q="medium",slotProps:re={}}=s,de=on(s,q$),{getRootProps:ve,getInputProps:ee,getInputLabelProps:me,getPopupIndicatorProps:Oe,getClearProps:we,getTagProps:Je,getListboxProps:at,getOptionProps:ce,value:ge,dirty:he,expanded:Pe,id:Be,popupOpen:Ne,focused:ot,focusedTag:st,anchorEl:Ke,setAnchorEl:Bt,inputValue:Pr,groupedOptions:vt}=N$(ae({},s,{componentName:"Autocomplete"})),Fe=!S&&!x&&he&&!te,De=(!A||C===!0)&&C!==!1,{onMouseDown:Ge}=ee(),{ref:Qe}=N!=null?N:{},ft=at(),{ref:Et}=ft,At=on(ft,H$),Sr=nc(Et,Qe),Mr=V||(_e=>{var ze;return(ze=_e.label)!=null?ze:_e}),qe=ae({},s,{disablePortal:w,expanded:Pe,focused:ot,fullWidth:P,getOptionLabel:Mr,hasClearIcon:Fe,hasPopupIcon:De,inputFocused:st===-1,popupOpen:Ne,size:Q}),lt=W$(qe);let cr;if(H&&ge.length>0){const _e=ze=>ae({className:lt.tag,disabled:x},Je(ze));pe?cr=pe(ge,_e,qe):cr=ge.map((ze,_t)=>{const qt=_e({index:_t}),{key:Jr}=qt,Re=on(qt,z$);return T.jsx(Zg,ae({label:Mr(ze),size:Q},Re,d),Jr)})}if($>-1&&Array.isArray(cr)){const _e=cr.length-$;!ot&&_e>0&&(cr=cr.splice(0,$),cr.push(T.jsx("span",{className:lt.tag,children:L(_e)},cr.length)))}const Kr=oe||(_e=>T.jsxs("li",{children:[T.jsx(r2,{className:lt.groupLabel,ownerState:qe,component:"div",children:_e.group}),T.jsx(n2,{className:lt.groupUl,ownerState:qe,children:_e.children})]},_e.key)),dt=fe||((_e,ze)=>{const{key:_t}=_e,qt=on(_e,U$);return T.jsx("li",ae({},qt,{children:Mr(ze)}),_t)}),fr=(_e,ze)=>{const _t=ce({option:_e,index:ze});return dt(ae({},_t,{className:lt.option}),_e,{selected:_t["aria-selected"],index:ze,inputValue:Pr},qe)},$t=(n=re.clearIndicator)!=null?n:_.clearIndicator,Lr=(i=re.paper)!=null?i:_.paper,rr=(a=re.popper)!=null?a:_.popper,ne=(o=re.popupIndicator)!=null?o:_.popupIndicator,Z=_e=>T.jsx(Q$,ae({as:K,disablePortal:w,style:{width:Ke?Ke.clientWidth:null},ownerState:qe,role:"presentation",anchorEl:Ke,open:Ne},rr,{className:Ir(lt.popper,rr==null?void 0:rr.className),children:T.jsx(X$,ae({ownerState:qe,as:Y},Lr,{className:Ir(lt.paper,Lr==null?void 0:Lr.className),children:_e}))}));let be=null;return vt.length>0?be=Z(T.jsx(t2,ae({as:F,className:lt.listbox,ownerState:qe},At,N,{ref:Sr,children:vt.map((_e,ze)=>R?Kr({key:_e.key,group:_e.group,children:_e.options.map((_t,qt)=>fr(_t,_e.index+qt))}):fr(_e,ze))}))):B&&vt.length===0?be=Z(T.jsx(Z$,{className:lt.loading,ownerState:qe,children:z})):vt.length===0&&!A&&!B&&(be=Z(T.jsx(e2,{className:lt.noOptions,ownerState:qe,role:"presentation",onMouseDown:_e=>{_e.preventDefault()},children:D}))),T.jsxs(J.Fragment,{children:[T.jsx(G$,ae({ref:r,className:Ir(lt.root,p),ownerState:qe},ve(de),{children:ue({id:Be,disabled:x,fullWidth:!0,size:Q==="small"?"small":void 0,InputLabelProps:me(),InputProps:ae({ref:Bt,className:lt.inputRoot,startAdornment:cr,onClick:_e=>{_e.target===_e.currentTarget&&Ge(_e)}},(Fe||De)&&{endAdornment:T.jsxs(Y$,{className:lt.endAdornment,ownerState:qe,children:[Fe?T.jsx(K$,ae({},we(),{"aria-label":y,title:y,ownerState:qe},$t,{className:Ir(lt.clearIndicator,$t==null?void 0:$t.className),children:v})):null,De?T.jsx(J$,ae({},Oe(),{disabled:x,"aria-label":Ne?g:q,title:Ne?g:q,ownerState:qe},ne,{className:Ir(lt.popupIndicator,ne==null?void 0:ne.className),children:ie})):null]})}),inputProps:ae({className:lt.input,disabled:x,readOnly:te},ee())})})),Ke?be:null]})}),a2=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],o2=(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(fn.grouped)]:e.grouped},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.orientation))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.orientation))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.color))]},{["& .".concat(fn.firstButton)]:e.firstButton},{["& .".concat(fn.lastButton)]:e.lastButton},{["& .".concat(fn.middleButton)]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},s2=t=>{const{classes:e,color:r,disabled:n,disableElevation:i,fullWidth:a,orientation:o,variant:s}=t,l={root:["root",s,o==="vertical"&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(kt(o)),"grouped".concat(kt(s)),"grouped".concat(kt(s)).concat(kt(o)),"grouped".concat(kt(s)).concat(kt(r)),n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Wi(l,rR,e)},l2=zt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:o2})(({theme:t,ownerState:e})=>ae({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{["& .".concat(fn.grouped)]:ae({minWidth:40,"&:hover":ae({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),["& .".concat(fn.firstButton,",& .").concat(fn.middleButton)]:ae({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(fn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(fn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.5)"):vl(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(fn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(fn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":ae({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),["& .".concat(fn.lastButton,",& .").concat(fn.middleButton)]:ae({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),u2=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiButtonGroup"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:f=!1,fullWidth:d=!1,orientation:p="horizontal",size:v="medium",variant:h="outlined"}=n,m=on(n,a2),y=ae({},n,{color:o,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,orientation:p,size:v,variant:h}),g=s2(y),_=J.useMemo(()=>({className:g.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,size:v,variant:h}),[o,l,u,c,f,d,v,h,g.grouped]),b=L$(i),S=b.length,O=x=>{const E=x===0,k=x===S-1;return E&&k?"":E?g.firstButton:k?g.lastButton:g.middleButton};return T.jsx(l2,ae({as:s,role:"group",className:Ir(g.root,a),ref:r,ownerState:y},m,{children:T.jsx(dR.Provider,{value:_,children:b.map((x,E)=>T.jsx(pR.Provider,{value:O(E),children:x},E))})}))});function c2(t){return Dl("MuiDialogContentText",t)}Ml("MuiDialogContentText",["root"]);const f2=["children","className"],d2=t=>{const{classes:e}=t,n=Wi({root:["root"]},c2,e);return ae({},e,n)},p2=zt(Cn,{shouldForwardProp:t=>yE(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),h2=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=on(n,f2),o=d2(a);return T.jsx(p2,ae({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:Ir(o.root,i)},n,{classes:o}))}),v2=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],g2=t=>{const{color:e,variant:r,classes:n,size:i}=t,a={root:["root",r,"size".concat(kt(i)),e==="inherit"?"colorInherit":e]},o=Wi(a,nR,n);return ae({},n,o)},m2=zt(hR,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>yE(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e["size".concat(kt(r.size))],r.color==="inherit"&&e.colorInherit,e[kt(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return ae({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(qb.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>ae({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({["&.".concat(qb.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),FE=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiFab"}),{children:i,className:a,color:o="default",component:s="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:f="large",variant:d="circular"}=n,p=on(n,v2),v=ae({},n,{color:o,component:s,disabled:l,disableFocusRipple:u,size:f,variant:d}),h=g2(v);return T.jsx(m2,ae({className:Ir(h.root,a),component:s,disabled:l,focusRipple:!u,focusVisibleClassName:Ir(h.focusVisible,c),ownerState:v,ref:r},p,{classes:h,children:i}))});function y2(t){return Dl("MuiIcon",t)}Ml("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const b2=["baseClassName","className","color","component","fontSize"],_2=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&"color".concat(kt(e)),"fontSize".concat(kt(r))]};return Wi(i,y2,n)},S2=zt("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e["color".concat(kt(r.color))],e["fontSize".concat(kt(r.fontSize))]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:(t.vars||t).palette.primary.main,secondary:(t.vars||t).palette.secondary.main,info:(t.vars||t).palette.info.main,success:(t.vars||t).palette.success.main,warning:(t.vars||t).palette.warning.main,action:(t.vars||t).palette.action.active,error:(t.vars||t).palette.error.main,disabled:(t.vars||t).palette.action.disabled,inherit:void 0}[e.color]})),RE=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiIcon"}),{baseClassName:i="material-icons",className:a,color:o="inherit",component:s="span",fontSize:l="medium"}=n,u=on(n,b2),c=ae({},n,{baseClassName:i,color:o,component:s,fontSize:l}),f=_2(c);return T.jsx(S2,ae({as:s,className:Ir(i,"notranslate",f.root,a),ownerState:c,"aria-hidden":!0,ref:r},u))});RE.muiName="Icon";const O2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x2=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return Wi({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gR,e)},w2=zt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(zb.primary)]:e.primary},{["& .".concat(zb.secondary)]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>ae({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),om=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,d=on(n,O2),{dense:p}=J.useContext(vR);let v=l!=null?l:i,h=c;const m=ae({},n,{disableTypography:o,inset:s,primary:!!v,secondary:!!h,dense:p}),y=x2(m);return v!=null&&v.type!==Cn&&!o&&(v=T.jsx(Cn,ae({variant:p?"body2":"body1",className:y.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:v}))),h!=null&&h.type!==Cn&&!o&&(h=T.jsx(Cn,ae({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},f,{children:h}))),T.jsxs(w2,ae({className:Ir(y.root,a),ownerState:m,ref:r},d,{children:[v,h]}))});function E2(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const C2=2;function $E(t,e){return t-e}function r1(t,e){var r;const{index:n}=(r=t.reduce((i,a,o)=>{const s=Math.abs(e-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:o}:i},null))!=null?r:{};return n}function Sf(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function yd(t,e,r){return(t-e)*100/(r-e)}function T2(t,e,r){return(r-e)*t+e}function k2(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function I2(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(k2(e)))}function n1({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort($E)}function Of({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const a=ed(t.current);if(!((n=t.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector('[type="range"][data-index="'.concat(e,'"]')).focus()}r&&r(e)}function xf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?E2(t,e):!1}const A2={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},j2=t=>t;let wf;function i1(){return wf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?wf=CSS.supports("touch-action","none"):wf=!0),wf}function P2(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:f,orientation:d="horizontal",rootRef:p,scale:v=j2,step:h=1,shiftStep:m=10,tabIndex:y,value:g}=t,_=J.useRef(),[b,S]=J.useState(-1),[O,x]=J.useState(-1),[E,k]=J.useState(!1),w=J.useRef(0),[I,C]=zu({controlled:g,default:r!=null?r:l,name:"Slider"}),A=c&&((ce,ge,he)=>{const Pe=ce.nativeEvent||ce,Be=new Pe.constructor(Pe.type,Pe);Object.defineProperty(Be,"target",{writable:!0,value:{value:ge,name:u}}),c(Be,ge,he)}),P=Array.isArray(I);let L=P?I.slice().sort($E):[I];L=L.map(ce=>ce==null?l:Ws(ce,l,s));const V=o===!0&&h!==null?[...Array(Math.floor((s-l)/h)+1)].map((ce,ge)=>({value:l+h*ge})):o||[],R=V.map(ce=>ce.value),{isFocusVisibleRef:U,onBlur:M,onFocus:$,ref:F}=mR(),[N,B]=J.useState(-1),z=J.useRef(),H=nc(F,z),D=nc(p,H),G=ce=>ge=>{var he;const Pe=Number(ge.currentTarget.getAttribute("data-index"));$(ge),U.current===!0&&B(Pe),x(Pe),ce==null||(he=ce.onFocus)==null||he.call(ce,ge)},q=ce=>ge=>{var he;M(ge),U.current===!1&&B(-1),x(-1),ce==null||(he=ce.onBlur)==null||he.call(ce,ge)},Y=(ce,ge)=>{const he=Number(ce.currentTarget.getAttribute("data-index")),Pe=L[he],Be=R.indexOf(Pe);let Ne=ge;if(V&&h==null){const ot=R[R.length-1];Ne>ot?Ne=ot:Ne<R[0]?Ne=R[0]:Ne=Ne<Pe?R[Be-1]:R[Be+1]}if(Ne=Ws(Ne,l,s),P){i&&(Ne=Ws(Ne,L[he-1]||-1/0,L[he+1]||1/0));const ot=Ne;Ne=n1({values:L,newValue:Ne,index:he});let st=he;i||(st=Ne.indexOf(ot)),Of({sliderRef:z,activeIndex:st})}C(Ne),B(he),A&&!xf(Ne,I)&&A(ce,Ne,he),f&&f(ce,Ne)},K=ce=>ge=>{var he;if(h!==null){const Pe=Number(ge.currentTarget.getAttribute("data-index")),Be=L[Pe];let Ne=null;(ge.key==="ArrowLeft"||ge.key==="ArrowDown")&&ge.shiftKey||ge.key==="PageDown"?Ne=Math.max(Be-m,l):((ge.key==="ArrowRight"||ge.key==="ArrowUp")&&ge.shiftKey||ge.key==="PageUp")&&(Ne=Math.min(Be+m,s)),Ne!==null&&(Y(ge,Ne),ge.preventDefault())}ce==null||(he=ce.onKeyDown)==null||he.call(ce,ge)};yR(()=>{if(n&&z.current.contains(document.activeElement)){var ce;(ce=document.activeElement)==null||ce.blur()}},[n]),n&&b!==-1&&S(-1),n&&N!==-1&&B(-1);const ie=ce=>ge=>{var he;(he=ce.onChange)==null||he.call(ce,ge),Y(ge,ge.target.valueAsNumber)},te=J.useRef();let oe=d;a&&d==="horizontal"&&(oe+="-reverse");const ue=({finger:ce,move:ge=!1})=>{const{current:he}=z,{width:Pe,height:Be,bottom:Ne,left:ot}=he.getBoundingClientRect();let st;oe.indexOf("vertical")===0?st=(Ne-ce.y)/Be:st=(ce.x-ot)/Pe,oe.indexOf("-reverse")!==-1&&(st=1-st);let Ke;if(Ke=T2(st,l,s),h)Ke=I2(Ke,h,l);else{const Pr=r1(R,Ke);Ke=R[Pr]}Ke=Ws(Ke,l,s);let Bt=0;if(P){ge?Bt=te.current:Bt=r1(L,Ke),i&&(Ke=Ws(Ke,L[Bt-1]||-1/0,L[Bt+1]||1/0));const Pr=Ke;Ke=n1({values:L,newValue:Ke,index:Bt}),i&&ge||(Bt=Ke.indexOf(Pr),te.current=Bt)}return{newValue:Ke,activeIndex:Bt}},fe=Go(ce=>{const ge=Sf(ce,_);if(!ge)return;if(w.current+=1,ce.type==="mousemove"&&ce.buttons===0){pe(ce);return}const{newValue:he,activeIndex:Pe}=ue({finger:ge,move:!0});Of({sliderRef:z,activeIndex:Pe,setActive:S}),C(he),!E&&w.current>C2&&k(!0),A&&!xf(he,I)&&A(ce,he,Pe)}),pe=Go(ce=>{const ge=Sf(ce,_);if(k(!1),!ge)return;const{newValue:he}=ue({finger:ge,move:!0});S(-1),ce.type==="touchend"&&x(-1),f&&f(ce,he),_.current=void 0,Q()}),Se=Go(ce=>{if(n)return;i1()||ce.preventDefault();const ge=ce.changedTouches[0];ge!=null&&(_.current=ge.identifier);const he=Sf(ce,_);if(he!==!1){const{newValue:Be,activeIndex:Ne}=ue({finger:he});Of({sliderRef:z,activeIndex:Ne,setActive:S}),C(Be),A&&!xf(Be,I)&&A(ce,Be,Ne)}w.current=0;const Pe=ed(z.current);Pe.addEventListener("touchmove",fe,{passive:!0}),Pe.addEventListener("touchend",pe,{passive:!0})}),Q=J.useCallback(()=>{const ce=ed(z.current);ce.removeEventListener("mousemove",fe),ce.removeEventListener("mouseup",pe),ce.removeEventListener("touchmove",fe),ce.removeEventListener("touchend",pe)},[pe,fe]);J.useEffect(()=>{const{current:ce}=z;return ce.addEventListener("touchstart",Se,{passive:i1()}),()=>{ce.removeEventListener("touchstart",Se),Q()}},[Q,Se]),J.useEffect(()=>{n&&Q()},[n,Q]);const re=ce=>ge=>{var he;if((he=ce.onMouseDown)==null||he.call(ce,ge),n||ge.defaultPrevented||ge.button!==0)return;ge.preventDefault();const Pe=Sf(ge,_);if(Pe!==!1){const{newValue:Ne,activeIndex:ot}=ue({finger:Pe});Of({sliderRef:z,activeIndex:ot,setActive:S}),C(Ne),A&&!xf(Ne,I)&&A(ge,Ne,ot)}w.current=0;const Be=ed(z.current);Be.addEventListener("mousemove",fe,{passive:!0}),Be.addEventListener("mouseup",pe)},de=yd(P?L[0]:l,l,s),ve=yd(L[L.length-1],l,s)-de,ee=(ce={})=>{const ge=kh(ce),he={onMouseDown:re(ge||{})},Pe=ae({},ge,he);return ae({},ce,{ref:D},Pe)},me=ce=>ge=>{var he;(he=ce.onMouseOver)==null||he.call(ce,ge);const Pe=Number(ge.currentTarget.getAttribute("data-index"));x(Pe)},Oe=ce=>ge=>{var he;(he=ce.onMouseLeave)==null||he.call(ce,ge),x(-1)};return{active:b,axis:oe,axisProps:A2,dragging:E,focusedThumbIndex:N,getHiddenInputProps:(ce={})=>{var ge;const he=kh(ce),Pe={onChange:ie(he||{}),onFocus:G(he||{}),onBlur:q(he||{}),onKeyDown:K(he||{})},Be=ae({},he,Pe);return ae({tabIndex:y,"aria-labelledby":e,"aria-orientation":d,"aria-valuemax":v(s),"aria-valuemin":v(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ge=t.step)!=null?ge:void 0,disabled:n},ce,Be,{style:ae({},F$,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:ee,getThumbProps:(ce={})=>{const ge=kh(ce),he={onMouseOver:me(ge||{}),onMouseLeave:Oe(ge||{})};return ae({},ce,ge,he)},marks:V,open:O,range:P,rootRef:D,trackLeap:ve,trackOffset:de,values:L,getThumbStyle:ce=>({pointerEvents:b!==-1&&b!==ce?"none":void 0})}}const L2=t=>!t||!td(t),F2=t=>{const{open:e}=t;return{offset:Ir(e&&pi.valueLabelOpen),circle:pi.valueLabelCircle,label:pi.valueLabelLabel}};function R2(t){const{children:e,className:r,value:n}=t,i=F2(t);return e?J.cloneElement(e,{className:Ir(e.props.className)},T.jsxs(J.Fragment,{children:[e.props.children,T.jsx("span",{className:Ir(i.offset,r),"aria-hidden":!0,children:T.jsx("span",{className:i.circle,children:T.jsx("span",{className:i.label,children:n})})})]})):null}const $2=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function a1(t){return t}const N2=zt("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["color".concat(kt(r.color))],r.size!=="medium"&&e["size".concat(kt(r.size))],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(pi.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(pi.dragging)]:{["& .".concat(pi.thumb,", & .").concat(pi.track)]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),D2=zt("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),M2=zt("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:ae({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(r,"Track")],borderColor:t.vars.palette.Slider["".concat(r,"Track")]}:ae({backgroundColor:Vb(t.palette[r].main,.62),borderColor:Vb(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:Bb(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:Bb(t.palette[r].main,.5)})))}))]}}),V2=zt("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e["thumbColor".concat(kt(r.color))],r.size!=="medium"&&e["thumbSize".concat(kt(r.size))]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(pi.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{["&:hover, &.".concat(pi.focusVisible)]:ae({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat(vl(t.palette[r].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(pi.active)]:ae({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat(vl(t.palette[r].main,.16))})}}))]}}),B2=zt(R2,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>ae({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(pi.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(pi.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),q2=zt("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>bE(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),H2=zt("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>bE(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>ae({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),z2=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:o,color:s,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&"color".concat(kt(s)),l&&"size".concat(kt(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat(kt(l)),s&&"thumbColor".concat(kt(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Wi(u,iR,o)},U2=({children:t})=>t,NE=J.forwardRef(function(e,r){var n,i,a,o,s,l,u,c,f,d,p,v,h,m,y,g,_,b,S,O,x,E,k,w;const I=Ui({props:e,name:"MuiSlider"}),C=bR(),{"aria-label":A,"aria-valuetext":P,"aria-labelledby":L,component:V="span",components:R={},componentsProps:U={},color:M="primary",classes:$,className:F,disableSwap:N=!1,disabled:B=!1,getAriaLabel:z,getAriaValueText:H,marks:D=!1,max:G=100,min:q=0,orientation:Y="horizontal",shiftStep:K=10,size:ie="medium",step:te=1,scale:oe=a1,slotProps:ue,slots:fe,track:pe="normal",valueLabelDisplay:Se="off",valueLabelFormat:Q=a1}=I,re=on(I,$2),de=ae({},I,{isRtl:C,max:G,min:q,classes:$,disabled:B,disableSwap:N,orientation:Y,marks:D,color:M,size:ie,step:te,shiftStep:K,scale:oe,track:pe,valueLabelDisplay:Se,valueLabelFormat:Q}),{axisProps:ve,getRootProps:ee,getHiddenInputProps:me,getThumbProps:Oe,open:we,active:Je,axis:at,focusedThumbIndex:ce,range:ge,dragging:he,marks:Pe,values:Be,trackOffset:Ne,trackLeap:ot,getThumbStyle:st}=P2(ae({},de,{rootRef:r}));de.marked=Pe.length>0&&Pe.some(ne=>ne.label),de.dragging=he,de.focusedThumbIndex=ce;const Ke=z2(de),Bt=(n=(i=fe==null?void 0:fe.root)!=null?i:R.Root)!=null?n:N2,Pr=(a=(o=fe==null?void 0:fe.rail)!=null?o:R.Rail)!=null?a:D2,vt=(s=(l=fe==null?void 0:fe.track)!=null?l:R.Track)!=null?s:M2,Fe=(u=(c=fe==null?void 0:fe.thumb)!=null?c:R.Thumb)!=null?u:V2,De=(f=(d=fe==null?void 0:fe.valueLabel)!=null?d:R.ValueLabel)!=null?f:B2,Ge=(p=(v=fe==null?void 0:fe.mark)!=null?v:R.Mark)!=null?p:q2,Qe=(h=(m=fe==null?void 0:fe.markLabel)!=null?m:R.MarkLabel)!=null?h:H2,ft=(y=(g=fe==null?void 0:fe.input)!=null?g:R.Input)!=null?y:"input",Et=(_=ue==null?void 0:ue.root)!=null?_:U.root,At=(b=ue==null?void 0:ue.rail)!=null?b:U.rail,Sr=(S=ue==null?void 0:ue.track)!=null?S:U.track,Rt=(O=ue==null?void 0:ue.thumb)!=null?O:U.thumb,Mr=(x=ue==null?void 0:ue.valueLabel)!=null?x:U.valueLabel,qe=(E=ue==null?void 0:ue.mark)!=null?E:U.mark,lt=(k=ue==null?void 0:ue.markLabel)!=null?k:U.markLabel,cr=(w=ue==null?void 0:ue.input)!=null?w:U.input,Yr=to({elementType:Bt,getSlotProps:ee,externalSlotProps:Et,externalForwardedProps:re,additionalProps:ae({},L2(Bt)&&{as:V}),ownerState:ae({},de,Et==null?void 0:Et.ownerState),className:[Ke.root,F]}),Kr=to({elementType:Pr,externalSlotProps:At,ownerState:de,className:Ke.rail}),mt=to({elementType:vt,externalSlotProps:Sr,additionalProps:{style:ae({},ve[at].offset(Ne),ve[at].leap(ot))},ownerState:ae({},de,Sr==null?void 0:Sr.ownerState),className:Ke.track}),dt=to({elementType:Fe,getSlotProps:Oe,externalSlotProps:Rt,ownerState:ae({},de,Rt==null?void 0:Rt.ownerState),className:Ke.thumb}),fr=to({elementType:De,externalSlotProps:Mr,ownerState:ae({},de,Mr==null?void 0:Mr.ownerState),className:Ke.valueLabel}),$t=to({elementType:Ge,externalSlotProps:qe,ownerState:de,className:Ke.mark}),Lr=to({elementType:Qe,externalSlotProps:lt,ownerState:de,className:Ke.markLabel}),rr=to({elementType:ft,getSlotProps:me,externalSlotProps:cr,ownerState:de});return T.jsxs(Bt,ae({},Yr,{children:[T.jsx(Pr,ae({},Kr)),T.jsx(vt,ae({},mt)),Pe.filter(ne=>ne.value>=q&&ne.value<=G).map((ne,Z)=>{const be=yd(ne.value,q,G),_e=ve[at].offset(be);let ze;return pe===!1?ze=Be.indexOf(ne.value)!==-1:ze=pe==="normal"&&(ge?ne.value>=Be[0]&&ne.value<=Be[Be.length-1]:ne.value<=Be[0])||pe==="inverted"&&(ge?ne.value<=Be[0]||ne.value>=Be[Be.length-1]:ne.value>=Be[0]),T.jsxs(J.Fragment,{children:[T.jsx(Ge,ae({"data-index":Z},$t,!td(Ge)&&{markActive:ze},{style:ae({},_e,$t.style),className:Ir($t.className,ze&&Ke.markActive)})),ne.label!=null?T.jsx(Qe,ae({"aria-hidden":!0,"data-index":Z},Lr,!td(Qe)&&{markLabelActive:ze},{style:ae({},_e,Lr.style),className:Ir(Ke.markLabel,Lr.className,ze&&Ke.markLabelActive),children:ne.label})):null]},Z)}),Be.map((ne,Z)=>{const be=yd(ne,q,G),_e=ve[at].offset(be),ze=Se==="off"?U2:De;return T.jsx(ze,ae({},!td(ze)&&{valueLabelFormat:Q,valueLabelDisplay:Se,value:typeof Q=="function"?Q(oe(ne),Z):Q,index:Z,open:we===Z||Je===Z||Se==="on",disabled:B},fr,{children:T.jsx(Fe,ae({"data-index":Z},dt,{className:Ir(Ke.thumb,dt.className,Je===Z&&Ke.active,ce===Z&&Ke.focusVisible),style:ae({},_e,st(Z),dt.style),children:T.jsx(ft,ae({"data-index":Z,"aria-label":z?z(Z):A,"aria-valuenow":oe(ne),"aria-labelledby":L,"aria-valuetext":H?H(oe(ne),Z):P,value:Be[Z]},rr))}))}),Z)})]}))}),W2=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],G2={entering:{transform:"none"},entered:{transform:"none"}},Y2=J.forwardRef(function(e,r){const n=jr(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,easing:l,in:u,onEnter:c,onEntered:f,onEntering:d,onExit:p,onExited:v,onExiting:h,style:m,timeout:y=i,TransitionComponent:g=_R}=e,_=on(e,W2),b=J.useRef(null),S=nc(b,s.ref,r),O=P=>L=>{if(P){const V=b.current;L===void 0?P(V):P(V,L)}},x=O(d),E=O((P,L)=>{SR(P);const V=Ub({style:m,timeout:y,easing:l},{mode:"enter"});P.style.webkitTransition=n.transitions.create("transform",V),P.style.transition=n.transitions.create("transform",V),c&&c(P,L)}),k=O(f),w=O(h),I=O(P=>{const L=Ub({style:m,timeout:y,easing:l},{mode:"exit"});P.style.webkitTransition=n.transitions.create("transform",L),P.style.transition=n.transitions.create("transform",L),p&&p(P)}),C=O(v),A=P=>{a&&a(b.current,P)};return T.jsx(g,ae({appear:o,in:u,nodeRef:b,onEnter:E,onEntered:k,onEntering:x,onExit:I,onExited:C,onExiting:w,addEndListener:A,timeout:y},_,{children:(P,L)=>J.cloneElement(s,ae({style:ae({transform:"scale(0)",visibility:P==="exited"&&!u?"hidden":void 0},G2[P],m,s.props.style),ref:S},L))}))});function K2(t){return Dl("MuiSpeedDial",t)}const Ef=Ml("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),J2=["ref"],Q2=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],X2=["ref"],Z2=t=>{const{classes:e,open:r,direction:n}=t,i={root:["root","direction".concat(kt(n))],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Wi(i,K2,e)};function wu(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const ro=32,Cf=16,eN=zt("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["direction".concat(kt(r.direction))]]}})(({theme:t,ownerState:e})=>ae({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",["& .".concat(Ef.actions)]:{flexDirection:"column-reverse",marginBottom:-ro,paddingBottom:Cf+ro}},e.direction==="down"&&{flexDirection:"column",["& .".concat(Ef.actions)]:{flexDirection:"column",marginTop:-ro,paddingTop:Cf+ro}},e.direction==="left"&&{flexDirection:"row-reverse",["& .".concat(Ef.actions)]:{flexDirection:"row-reverse",marginRight:-ro,paddingRight:Cf+ro}},e.direction==="right"&&{flexDirection:"row",["& .".concat(Ef.actions)]:{flexDirection:"row",marginLeft:-ro,paddingLeft:Cf+ro}})),tN=zt(FE,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),rN=zt("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})(({ownerState:t})=>ae({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),nN=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiSpeedDial"}),i=jr(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:s}={},children:l,className:u,direction:c="up",hidden:f=!1,icon:d,onBlur:p,onClose:v,onFocus:h,onKeyDown:m,onMouseEnter:y,onMouseLeave:g,onOpen:_,open:b,TransitionComponent:S=Y2,transitionDuration:O=a,TransitionProps:x}=n,E=on(n.FabProps,J2),k=on(n,Q2),[w,I]=zu({controlled:b,default:!1,name:"SpeedDial",state:"open"}),C=ae({},n,{open:w,direction:c}),A=Z2(C),P=OR(),L=J.useRef(0),V=J.useRef(),R=J.useRef([]);R.current=[R.current[0]];const U=J.useCallback(q=>{R.current[0]=q},[]),M=nc(s,U),$=(q,Y)=>K=>{R.current[q+1]=K,Y&&Y(K)},F=q=>{m&&m(q);const Y=q.key.replace("Arrow","").toLowerCase(),{current:K=Y}=V;if(q.key==="Escape"){I(!1),R.current[0].focus(),v&&v(q,"escapeKeyDown");return}if(wu(Y)===wu(K)&&wu(Y)!==void 0){q.preventDefault();const ie=Y===K?1:-1,te=Ws(L.current+ie,0,R.current.length-1);R.current[te].focus(),L.current=te,V.current=K}};J.useEffect(()=>{w||(L.current=0,V.current=void 0)},[w]);const N=q=>{q.type==="mouseleave"&&g&&g(q),q.type==="blur"&&p&&p(q),P.clear(),q.type==="blur"?P.start(0,()=>{I(!1),v&&v(q,"blur")}):(I(!1),v&&v(q,"mouseLeave"))},B=q=>{E.onClick&&E.onClick(q),P.clear(),w?(I(!1),v&&v(q,"toggle")):(I(!0),_&&_(q,"toggle"))},z=q=>{q.type==="mouseenter"&&y&&y(q),q.type==="focus"&&h&&h(q),P.clear(),w||P.start(0,()=>{I(!0),_&&_(q,{focus:"focus",mouseenter:"mouseEnter"}[q.type])})},H=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),D=J.Children.toArray(l).filter(q=>J.isValidElement(q)),G=D.map((q,Y)=>{const K=q.props,{FabProps:{ref:ie}={},tooltipPlacement:te}=K,oe=on(K.FabProps,X2),ue=te||(wu(c)==="vertical"?"left":"top");return J.cloneElement(q,{FabProps:ae({},oe,{ref:$(Y,ie)}),delay:30*(w?Y:D.length-Y),open:w,tooltipPlacement:ue,id:"".concat(H,"-action-").concat(Y)})});return T.jsxs(eN,ae({className:Ir(A.root,u),ref:r,role:"presentation",onKeyDown:F,onBlur:N,onFocus:z,onMouseEnter:z,onMouseLeave:N,ownerState:C},k,{children:[T.jsx(S,ae({in:!f,timeout:O,unmountOnExit:!0},x,{children:T.jsx(tN,ae({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":w,"aria-controls":"".concat(H,"-actions")},E,{onClick:B,className:Ir(A.fab,E.className),ref:M,ownerState:C,children:J.isValidElement(d)&&xR(d,["SpeedDialIcon"])?J.cloneElement(d,{open:w}):d}))})),T.jsx(rN,{id:"".concat(H,"-actions"),role:"menu","aria-orientation":wu(c),className:Ir(A.actions,!w&&A.actionsClosed),ownerState:C,children:G})]}))});function iN(t){return Dl("MuiSpeedDialAction",t)}const aN=Ml("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),oN=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],sN=t=>{const{open:e,tooltipPlacement:r,classes:n}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip","tooltipPlacement".concat(kt(r)),!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Wi(i,iN,n)},lN=zt(FE,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>ae({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:WF(t.palette.background.paper,.15)},transition:"".concat(t.transitions.create("transform",{duration:t.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),uN=zt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e["tooltipPlacement".concat(kt(r.tooltipPlacement))]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",["& .".concat(aN.staticTooltipLabel)]:ae({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),cN=zt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>ae({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),fN=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:a=0,FabProps:o={},icon:s,id:l,open:u,TooltipClasses:c,tooltipOpen:f=!1,tooltipPlacement:d="left",tooltipTitle:p}=n,v=on(n,oN),h=ae({},n,{tooltipPlacement:d}),m=sN(h),[y,g]=J.useState(f),_=()=>{g(!1)},b=()=>{g(!0)},S={transitionDelay:"".concat(a,"ms")},O=T.jsx(lN,ae({size:"small",className:Ir(m.fab,i),tabIndex:-1,role:"menuitem",ownerState:h},o,{style:ae({},S,o.style),children:s}));return f?T.jsxs(uN,ae({id:l,ref:r,className:m.staticTooltip,ownerState:h},v,{children:[T.jsx(cN,{style:S,id:"".concat(l,"-label"),className:m.staticTooltipLabel,ownerState:h,children:p}),J.cloneElement(O,{"aria-labelledby":"".concat(l,"-label")})]})):(!u&&y&&g(!1),T.jsx(gl,ae({id:l,ref:r,title:p,placement:d,onClose:_,onOpen:b,open:u&&y,classes:c},v,{children:O})))}),dN=lp(T.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function pN(t){return Dl("MuiSpeedDialIcon",t)}const Bo=Ml("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),hN=["className","icon","open","openIcon"],vN=t=>{const{classes:e,open:r,openIcon:n}=t;return Wi({root:["root"],icon:["icon",r&&"iconOpen",n&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},pN,e)},gN=zt("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(Bo.icon)]:e.icon},{["& .".concat(Bo.icon)]:r.open&&e.iconOpen},{["& .".concat(Bo.icon)]:r.open&&r.openIcon&&e.iconWithOpenIconOpen},{["& .".concat(Bo.openIcon)]:e.openIcon},{["& .".concat(Bo.openIcon)]:r.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,["& .".concat(Bo.icon)]:ae({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&ae({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),["& .".concat(Bo.openIcon)]:ae({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),DE=J.forwardRef(function(e,r){const n=Ui({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:a,openIcon:o}=n,s=on(n,hN),l=n,u=vN(l);function c(f,d){return J.isValidElement(f)?J.cloneElement(f,{className:d}):f}return T.jsxs(gN,ae({className:Ir(u.root,i),ref:r,ownerState:l},s,{children:[o?c(o,u.openIcon):null,a?c(a,u.icon):T.jsx(dN,{className:u.icon})]}))});DE.muiName="SpeedDialIcon";function mN(t){const r=wR().getMonitor(),[n,i]=ER(r,t);return J.useEffect(()=>r.subscribeToOffsetChange(i)),J.useEffect(()=>r.subscribeToStateChange(i)),n}const yN=lp(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),bN=lp(T.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),_N=lp(T.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),SN="_mainContainer_as1f9_1",ON="_updateButtons_as1f9_5",xN="_save_as1f9_14",wN="_header_as1f9_18",o1={mainContainer:SN,updateButtons:ON,save:xN,header:wN},EN="_groupEmptyHint_1pku9_2",CN="_groupEmptyHintHover_1pku9_14",TN="_footer_1pku9_18",kN="_contentPanel_1pku9_22",IN="_cardImage_1pku9_30",AN="_customScrollBar_1pku9_38",jN="_virtuosoStyle_1pku9_42",PN="_cardMediaContent_1pku9_47",LN="_buttonContainer_1pku9_55",FN="_button_1pku9_55",Eu={groupEmptyHint:EN,groupEmptyHintHover:CN,footer:TN,contentPanel:kN,cardImage:IN,customScrollBar:AN,virtuosoStyle:jN,cardMediaContent:PN,buttonContainer:LN,button:FN},RN="_errorDisplay_1joy4_1",$N="_clickable_1joy4_10",s1={errorDisplay:RN,clickable:$N};var sm={},NN=$r;Object.defineProperty(sm,"__esModule",{value:!0});var ME=sm.default=void 0,DN=NN(Nr()),MN=T;ME=sm.default=(0,DN.default)((0,MN.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");function VN(t){const{t:e}=us("design"),r=wt(),i=xE([d=>d.designState[t.code]||{}],d=>{var v;const p=(v=d.instructionList)==null?void 0:v.filter(h=>{var m;return((m=h.errors)==null?void 0:m.length)>0});return{errors:d.errors,designErrors:d.designErrors,instructions:p!=null&&p.length?p:void 0}}),{errors:a,designErrors:o,instructions:s}=ye(i),l=(a==null?void 0:a.length)>0||(o==null?void 0:o.length)>0||(s==null?void 0:s.length)>0,u=ye(d=>{var p;return t.code=="Survey"?"":Gi(t.code)?((p=d.designState[t.code].groupType)==null?void 0:p.toLowerCase())||"group":d.designState[t.code].type}),c=d=>(d.code==="conditional_relevance"?r(Fi({code:t.code,rules:Ma(u),highlighted:"relevance",expanded:["relevance"]})):d.code==="random_group"||d.code==="priority_groups"?t.code=="Survey"?r(Fi({...CR,highlighted:"random"})):r(Fi({code:t.code,rules:Ma(u),highlighted:"random",expanded:["random"]})):d.code.startsWith("skip_to")&&r(Fi({code:t.code,rules:Ma(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""),f=d=>d.code==="conditional_relevance"||d.code==="random_group"||d.code==="priority_groups"||d.code.startsWith("skip_to");return l?T.jsxs(ht,{className:s1.errorDisplay,children:[a&&a.map(d=>T.jsxs("div",{children:[T.jsx(Xn,{style:{verticalAlign:"middle"}}),BN(t.code,d,e)]},d)),o&&o.map(d=>T.jsxs("div",{children:[T.jsx(Xn,{style:{verticalAlign:"middle"}}),d.message]},d.code)),s&&s.map(d=>T.jsxs("div",{className:f(d)?s1.clickable:"",onClick:()=>c(d),children:[T.jsx(ME,{style:{verticalAlign:"middle"}}),qN(d,e)]},d.code))]}):T.jsx(T.Fragment,{})}const BN=(t,e,r)=>e==="EMPTY_PARENT"?r("err_empty_parent",{component_name:l1(t,r),child_name:HN(t,r)}):e==="DUPLICATE_CODE"?(r("err_duplicate_code"),{component_name:l1(t,r)}):e==="NO_END_GROUP"?r("err_no_end_group"):e==="MISPLACED_END_GROUP"?r("err_misplaced_end_group"):e==="MISPLACED_WELCOME_GROUP"?r("err_misplaced_welcome_group"):"",qN=(t,e)=>t.code==="value"&&t.errors[0].name=="InvalidInstructionInEndGroup"?e("err_value_in_end_group"):t.code==="conditional_relevance"?e("err_relevance"):t.code==="random_group"?e("err_random"):t.code==="priority_groups"?e("err_priority"):t.code.startsWith("reference")?T.jsx(fa,{t:e,values:{codes:t.errors.map(r=>{var n;return(n=r.dependency)==null?void 0:n.componentCode}).join(", "),lang:t.lang},i18nKey:"err_reference"}):t.code.startsWith("skip_to")?e("err_skip"):"",l1=(t,e)=>t=="Survey"?e("survey"):cs(t)?e("question"):Gi(t)?e("group"):e("option"),HN=(t,e)=>Gi(t)?e("question"):t=="Survey"?e("group"):e("option"),lm=J.memo(VN);var um={},zN=$r;Object.defineProperty(um,"__esModule",{value:!0});var cm=um.default=void 0,UN=zN(Nr()),WN=T;cm=um.default=(0,UN.default)((0,WN.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const GN="_textDescriptionContent_xkpeh_1",YN="_moveBox_xkpeh_7",KN="_groupQuestion_xkpeh_13",JN="_titleContainer_xkpeh_22",QN="_titleQuestion_xkpeh_29",XN="_iconBox_xkpeh_39",ZN="_actionToolbarVisible_xkpeh_59",eD="_fadeInMoveRight_xkpeh_1",tD="_contentContainer_xkpeh_64",rD="_highlight_xkpeh_74",nD="_fadeHighlight_xkpeh_1",ea={textDescriptionContent:GN,moveBox:YN,groupQuestion:KN,titleContainer:JN,titleQuestion:QN,iconBox:XN,actionToolbarVisible:ZN,fadeInMoveRight:eD,contentContainer:tD,highlight:rD,fadeHighlight:nD},iD="_fullWidth_1dvff_1",aD="_toolbarClass_1dvff_6",oD="_noPadding_1dvff_12",sD="_placeholder_1dvff_25",Fh={fullWidth:iD,toolbarClass:aD,"rdw-editor-toolbar":"_rdw-editor-toolbar_1dvff_6",noPadding:oD,placeholder:sD};function lD(){this.__data__=[],this.size=0}var uD=lD;function cD(t,e){return t===e||t!==t&&e!==e}var Ic=cD,fD=Ic;function dD(t,e){for(var r=t.length;r--;)if(fD(t[r][0],e))return r;return-1}var pp=dD,pD=pp,hD=Array.prototype,vD=hD.splice;function gD(t){var e=this.__data__,r=pD(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vD.call(e,r,1),--this.size,!0}var mD=gD,yD=pp;function bD(t){var e=this.__data__,r=yD(e,t);return r<0?void 0:e[r][1]}var _D=bD,SD=pp;function OD(t){return SD(this.__data__,t)>-1}var xD=OD,wD=pp;function ED(t,e){var r=this.__data__,n=wD(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var CD=ED,TD=uD,kD=mD,ID=_D,AD=xD,jD=CD;function Bl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bl.prototype.clear=TD;Bl.prototype.delete=kD;Bl.prototype.get=ID;Bl.prototype.has=AD;Bl.prototype.set=jD;var hp=Bl,PD=hp;function LD(){this.__data__=new PD,this.size=0}var FD=LD;function RD(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var $D=RD;function ND(t){return this.__data__.get(t)}var DD=ND;function MD(t){return this.__data__.has(t)}var VD=MD,BD=typeof An=="object"&&An&&An.Object===Object&&An,VE=BD,qD=VE,HD=typeof self=="object"&&self&&self.Object===Object&&self,zD=qD||HD||Function("return this")(),Ji=zD,UD=Ji,WD=UD.Symbol,ql=WD,u1=ql,BE=Object.prototype,GD=BE.hasOwnProperty,YD=BE.toString,Cu=u1?u1.toStringTag:void 0;function KD(t){var e=GD.call(t,Cu),r=t[Cu];try{t[Cu]=void 0;var n=!0}catch(a){}var i=YD.call(t);return n&&(e?t[Cu]=r:delete t[Cu]),i}var JD=KD,QD=Object.prototype,XD=QD.toString;function ZD(t){return XD.call(t)}var eM=ZD,c1=ql,tM=JD,rM=eM,nM="[object Null]",iM="[object Undefined]",f1=c1?c1.toStringTag:void 0;function aM(t){return t==null?t===void 0?iM:nM:f1&&f1 in Object(t)?tM(t):rM(t)}var ds=aM;function oM(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ei=oM,sM=ds,lM=Ei,uM="[object AsyncFunction]",cM="[object Function]",fM="[object GeneratorFunction]",dM="[object Proxy]";function pM(t){if(!lM(t))return!1;var e=sM(t);return e==cM||e==fM||e==uM||e==dM}var fm=pM,hM=Ji,vM=hM["__core-js_shared__"],gM=vM,Rh=gM,d1=function(){var t=/[^.]+$/.exec(Rh&&Rh.keys&&Rh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mM(t){return!!d1&&d1 in t}var yM=mM,bM=Function.prototype,_M=bM.toString;function SM(t){if(t!=null){try{return _M.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var qE=SM,OM=fm,xM=yM,wM=Ei,EM=qE,CM=/[\\^$.*+?()[\]{}|]/g,TM=/^\[object .+?Constructor\]$/,kM=Function.prototype,IM=Object.prototype,AM=kM.toString,jM=IM.hasOwnProperty,PM=RegExp("^"+AM.call(jM).replace(CM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LM(t){if(!wM(t)||xM(t))return!1;var e=OM(t)?PM:TM;return e.test(EM(t))}var FM=LM;function RM(t,e){return t==null?void 0:t[e]}var $M=RM,NM=FM,DM=$M;function MM(t,e){var r=DM(t,e);return NM(r)?r:void 0}var ps=MM,VM=ps,BM=Ji,qM=VM(BM,"Map"),dm=qM,HM=ps,zM=HM(Object,"create"),vp=zM,p1=vp;function UM(){this.__data__=p1?p1(null):{},this.size=0}var WM=UM;function GM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YM=GM,KM=vp,JM="__lodash_hash_undefined__",QM=Object.prototype,XM=QM.hasOwnProperty;function ZM(t){var e=this.__data__;if(KM){var r=e[t];return r===JM?void 0:r}return XM.call(e,t)?e[t]:void 0}var eV=ZM,tV=vp,rV=Object.prototype,nV=rV.hasOwnProperty;function iV(t){var e=this.__data__;return tV?e[t]!==void 0:nV.call(e,t)}var aV=iV,oV=vp,sV="__lodash_hash_undefined__";function lV(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=oV&&e===void 0?sV:e,this}var uV=lV,cV=WM,fV=YM,dV=eV,pV=aV,hV=uV;function Hl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hl.prototype.clear=cV;Hl.prototype.delete=fV;Hl.prototype.get=dV;Hl.prototype.has=pV;Hl.prototype.set=hV;var vV=Hl,h1=vV,gV=hp,mV=dm;function yV(){this.size=0,this.__data__={hash:new h1,map:new(mV||gV),string:new h1}}var bV=yV;function _V(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var SV=_V,OV=SV;function xV(t,e){var r=t.__data__;return OV(e)?r[typeof e=="string"?"string":"hash"]:r.map}var gp=xV,wV=gp;function EV(t){var e=wV(this,t).delete(t);return this.size-=e?1:0,e}var CV=EV,TV=gp;function kV(t){return TV(this,t).get(t)}var IV=kV,AV=gp;function jV(t){return AV(this,t).has(t)}var PV=jV,LV=gp;function FV(t,e){var r=LV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var RV=FV,$V=bV,NV=CV,DV=IV,MV=PV,VV=RV;function zl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zl.prototype.clear=$V;zl.prototype.delete=NV;zl.prototype.get=DV;zl.prototype.has=MV;zl.prototype.set=VV;var pm=zl,BV=hp,qV=dm,HV=pm,zV=200;function UV(t,e){var r=this.__data__;if(r instanceof BV){var n=r.__data__;if(!qV||n.length<zV-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new HV(n)}return r.set(t,e),this.size=r.size,this}var WV=UV,GV=hp,YV=FD,KV=$D,JV=DD,QV=VD,XV=WV;function Ul(t){var e=this.__data__=new GV(t);this.size=e.size}Ul.prototype.clear=YV;Ul.prototype.delete=KV;Ul.prototype.get=JV;Ul.prototype.has=QV;Ul.prototype.set=XV;var mp=Ul,ZV="__lodash_hash_undefined__";function e5(t){return this.__data__.set(t,ZV),this}var t5=e5;function r5(t){return this.__data__.has(t)}var n5=r5,i5=pm,a5=t5,o5=n5;function bd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new i5;++e<r;)this.add(t[e])}bd.prototype.add=bd.prototype.push=a5;bd.prototype.has=o5;var s5=bd;function l5(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var u5=l5;function c5(t,e){return t.has(e)}var f5=c5,d5=s5,p5=u5,h5=f5,v5=1,g5=2;function m5(t,e,r,n,i,a){var o=r&v5,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&g5?new d5:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var m=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(m!==void 0){if(m)continue;d=!1;break}if(p){if(!p5(e,function(y,g){if(!h5(p,g)&&(v===y||i(v,y,r,n,a)))return p.push(g)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var HE=m5,y5=Ji,b5=y5.Uint8Array,zE=b5;function _5(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var S5=_5;function O5(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var x5=O5,v1=ql,g1=zE,w5=Ic,E5=HE,C5=S5,T5=x5,k5=1,I5=2,A5="[object Boolean]",j5="[object Date]",P5="[object Error]",L5="[object Map]",F5="[object Number]",R5="[object RegExp]",$5="[object Set]",N5="[object String]",D5="[object Symbol]",M5="[object ArrayBuffer]",V5="[object DataView]",m1=v1?v1.prototype:void 0,$h=m1?m1.valueOf:void 0;function B5(t,e,r,n,i,a,o){switch(r){case V5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M5:return!(t.byteLength!=e.byteLength||!a(new g1(t),new g1(e)));case A5:case j5:case F5:return w5(+t,+e);case P5:return t.name==e.name&&t.message==e.message;case R5:case N5:return t==e+"";case L5:var s=C5;case $5:var l=n&k5;if(s||(s=T5),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=I5,o.set(t,e);var c=E5(s(t),s(e),n,i,a,o);return o.delete(t),c;case D5:if($h)return $h.call(t)==$h.call(e)}return!1}var q5=B5;function H5(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var hm=H5,z5=Array.isArray,ni=z5,U5=hm,W5=ni;function G5(t,e,r){var n=e(t);return W5(t)?n:U5(n,r(t))}var UE=G5;function Y5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var K5=Y5;function J5(){return[]}var WE=J5,Q5=K5,X5=WE,Z5=Object.prototype,e3=Z5.propertyIsEnumerable,y1=Object.getOwnPropertySymbols,t3=y1?function(t){return t==null?[]:(t=Object(t),Q5(y1(t),function(e){return e3.call(t,e)}))}:X5,vm=t3;function r3(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var n3=r3;function i3(t){return t!=null&&typeof t=="object"}var Oa=i3,a3=ds,o3=Oa,s3="[object Arguments]";function l3(t){return o3(t)&&a3(t)==s3}var u3=l3,b1=u3,c3=Oa,GE=Object.prototype,f3=GE.hasOwnProperty,d3=GE.propertyIsEnumerable,p3=b1(function(){return arguments}())?b1:function(t){return c3(t)&&f3.call(t,"callee")&&!d3.call(t,"callee")},yp=p3,_d={exports:{}};function h3(){return!1}var v3=h3;_d.exports;(function(t,e){var r=Ji,n=v3,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(_d,_d.exports);var bp=_d.exports,g3=9007199254740991,m3=/^(?:0|[1-9]\d*)$/;function y3(t,e){var r=typeof t;return e=e==null?g3:e,!!e&&(r=="number"||r!="symbol"&&m3.test(t))&&t>-1&&t%1==0&&t<e}var _p=y3,b3=9007199254740991;function _3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=b3}var gm=_3,S3=ds,O3=gm,x3=Oa,w3="[object Arguments]",E3="[object Array]",C3="[object Boolean]",T3="[object Date]",k3="[object Error]",I3="[object Function]",A3="[object Map]",j3="[object Number]",P3="[object Object]",L3="[object RegExp]",F3="[object Set]",R3="[object String]",$3="[object WeakMap]",N3="[object ArrayBuffer]",D3="[object DataView]",M3="[object Float32Array]",V3="[object Float64Array]",B3="[object Int8Array]",q3="[object Int16Array]",H3="[object Int32Array]",z3="[object Uint8Array]",U3="[object Uint8ClampedArray]",W3="[object Uint16Array]",G3="[object Uint32Array]",dr={};dr[M3]=dr[V3]=dr[B3]=dr[q3]=dr[H3]=dr[z3]=dr[U3]=dr[W3]=dr[G3]=!0;dr[w3]=dr[E3]=dr[N3]=dr[C3]=dr[D3]=dr[T3]=dr[k3]=dr[I3]=dr[A3]=dr[j3]=dr[P3]=dr[L3]=dr[F3]=dr[R3]=dr[$3]=!1;function Y3(t){return x3(t)&&O3(t.length)&&!!dr[S3(t)]}var K3=Y3;function J3(t){return function(e){return t(e)}}var mm=J3,Sd={exports:{}};Sd.exports;(function(t,e){var r=VE,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();t.exports=s})(Sd,Sd.exports);var ym=Sd.exports,Q3=K3,X3=mm,_1=ym,S1=_1&&_1.isTypedArray,Z3=S1?X3(S1):Q3,bm=Z3,e4=n3,t4=yp,r4=ni,n4=bp,i4=_p,a4=bm,o4=Object.prototype,s4=o4.hasOwnProperty;function l4(t,e){var r=r4(t),n=!r&&t4(t),i=!r&&!n&&n4(t),a=!r&&!n&&!i&&a4(t),o=r||n||i||a,s=o?e4(t.length,String):[],l=s.length;for(var u in t)(e||s4.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||i4(u,l)))&&s.push(u);return s}var YE=l4,u4=Object.prototype;function c4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||u4;return t===r}var _m=c4;function f4(t,e){return function(r){return t(e(r))}}var KE=f4,d4=KE,p4=d4(Object.keys,Object),h4=p4,v4=_m,g4=h4,m4=Object.prototype,y4=m4.hasOwnProperty;function b4(t){if(!v4(t))return g4(t);var e=[];for(var r in Object(t))y4.call(t,r)&&r!="constructor"&&e.push(r);return e}var _4=b4,S4=fm,O4=gm;function x4(t){return t!=null&&O4(t.length)&&!S4(t)}var Wl=x4,w4=YE,E4=_4,C4=Wl;function T4(t){return C4(t)?w4(t):E4(t)}var Gl=T4;const wl=tn(Gl);var k4=UE,I4=vm,A4=Gl;function j4(t){return k4(t,A4,I4)}var JE=j4,O1=JE,P4=1,L4=Object.prototype,F4=L4.hasOwnProperty;function R4(t,e,r,n,i,a){var o=r&P4,s=O1(t),l=s.length,u=O1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:F4.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<l;){d=s[f];var y=t[d],g=e[d];if(n)var _=o?n(g,y,d,e,t,a):n(y,g,d,t,e,a);if(!(_===void 0?y===g||i(y,g,r,n,a):_)){h=!1;break}m||(m=d=="constructor")}if(h&&!m){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var $4=R4,N4=ps,D4=Ji,M4=N4(D4,"DataView"),V4=M4,B4=ps,q4=Ji,H4=B4(q4,"Promise"),z4=H4,U4=ps,W4=Ji,G4=U4(W4,"Set"),Y4=G4,K4=ps,J4=Ji,Q4=K4(J4,"WeakMap"),X4=Q4,Rv=V4,$v=dm,Nv=z4,Dv=Y4,Mv=X4,QE=ds,Yl=qE,x1="[object Map]",Z4="[object Object]",w1="[object Promise]",E1="[object Set]",C1="[object WeakMap]",T1="[object DataView]",eB=Yl(Rv),tB=Yl($v),rB=Yl(Nv),nB=Yl(Dv),iB=Yl(Mv),zo=QE;(Rv&&zo(new Rv(new ArrayBuffer(1)))!=T1||$v&&zo(new $v)!=x1||Nv&&zo(Nv.resolve())!=w1||Dv&&zo(new Dv)!=E1||Mv&&zo(new Mv)!=C1)&&(zo=function(t){var e=QE(t),r=e==Z4?t.constructor:void 0,n=r?Yl(r):"";if(n)switch(n){case eB:return T1;case tB:return x1;case rB:return w1;case nB:return E1;case iB:return C1}return e});var Sp=zo,Nh=mp,aB=HE,oB=q5,sB=$4,k1=Sp,I1=ni,A1=bp,lB=bm,uB=1,j1="[object Arguments]",P1="[object Array]",Tf="[object Object]",cB=Object.prototype,L1=cB.hasOwnProperty;function fB(t,e,r,n,i,a){var o=I1(t),s=I1(e),l=o?P1:k1(t),u=s?P1:k1(e);l=l==j1?Tf:l,u=u==j1?Tf:u;var c=l==Tf,f=u==Tf,d=l==u;if(d&&A1(t)){if(!A1(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Nh),o||lB(t)?aB(t,e,r,n,i,a):oB(t,e,l,r,n,i,a);if(!(r&uB)){var p=c&&L1.call(t,"__wrapped__"),v=f&&L1.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,m=v?e.value():e;return a||(a=new Nh),i(h,m,r,n,a)}}return d?(a||(a=new Nh),sB(t,e,r,n,i,a)):!1}var dB=fB,pB=dB,F1=Oa;function XE(t,e,r,n,i){return t===e?!0:t==null||e==null||!F1(t)&&!F1(e)?t!==t&&e!==e:pB(t,e,r,n,XE,i)}var Sm=XE,hB=Sm;function vB(t,e){return hB(t,e)}var gB=vB,ZE={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:An,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),p=i(12),v=i(32),h=i(33),m=i(31),y=i(1),g={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:v.default,Style:h.default,Store:m.default}};n.default=g},function(r,n,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var _ in g)g.hasOwnProperty(_)&&(y[_]=g[_])};return function(y,g){m(y,g);function _(){this.constructor=y}y.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(m){a(y,m);function y(g){var _=this;return g="[Parchment] "+g,_=m.call(this,g)||this,_.message=g,_.name=_.constructor.name,_}return y}(Error);n.ParchmentError=o;var s={},l={},u={},c={};n.DATA_KEY="__blot";var f;(function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(m,y){var g=v(m);if(g==null)throw new o("Unable to create "+m+" blot");var _=g,b=m instanceof Node||m.nodeType===Node.TEXT_NODE?m:_.create(y);return new _(b,y)}n.create=d;function p(m,y){return y===void 0&&(y=!1),m==null?null:m[n.DATA_KEY]!=null?m[n.DATA_KEY].blot:y?p(m.parentNode,y):null}n.find=p;function v(m,y){y===void 0&&(y=f.ANY);var g;if(typeof m=="string")g=c[m]||s[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)g=c.text;else if(typeof m=="number")m&f.LEVEL&f.BLOCK?g=c.block:m&f.LEVEL&f.INLINE&&(g=c.inline);else if(m instanceof HTMLElement){var _=(m.getAttribute("class")||"").split(/\s+/);for(var b in _)if(g=l[_[b]],g)break;g=g||u[m.tagName]}return g==null?null:y&f.LEVEL&g.scope&&y&f.TYPE&g.scope?g:null}n.query=v;function h(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];if(m.length>1)return m.map(function(b){return h(b)});var g=m[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new o("Invalid definition");if(g.blotName==="abstract")throw new o("Cannot register abstract class");if(c[g.blotName||g.attrName]=g,typeof g.keyName=="string")s[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(b){return b.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var _=Array.isArray(g.tagName)?g.tagName:[g.tagName];_.forEach(function(b){(u[b]==null||g.className==null)&&(u[b]=g)})}return g}n.register=h},function(r,n,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},c.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=s(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(v){var h=f(v)?d:p;h.push(v)}),[d,p]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],v=l.iterator(this.ops),h=0;h<d&&v.hasNext();){var m;h<f?m=v.next(f-h):(m=v.next(d-h),p.push(m)),h+=l.length(m)}return new c(p)},c.prototype.compose=function(f){var d=l.iterator(this.ops),p=l.iterator(f.ops),v=[],h=p.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var m=h.retain;d.peekType()==="insert"&&d.peekLength()<=m;)m-=d.peekLength(),v.push(d.next());h.retain-m>0&&p.next(h.retain-m)}for(var y=new c(v);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(d.peekType()==="delete")y.push(d.next());else{var g=Math.min(d.peekLength(),p.peekLength()),_=d.next(g),b=p.next(g);if(typeof b.retain=="number"){var S={};typeof _.retain=="number"?S.retain=g:S.insert=_.insert;var O=l.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(O&&(S.attributes=O),y.push(S),!p.hasNext()&&o(y.ops[y.ops.length-1],S)){var x=new c(d.rest());return y.concat(x).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var p=[this,f].map(function(g){return g.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var b=g===f?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),v=new c,h=a(p[0],p[1],d),m=l.iterator(this.ops),y=l.iterator(f.ops);return h.forEach(function(g){for(var _=g[1].length;_>0;){var b=0;switch(g[0]){case a.INSERT:b=Math.min(y.peekLength(),_),v.push(y.next(b));break;case a.DELETE:b=Math.min(_,m.peekLength()),m.next(b),v.delete(b);break;case a.EQUAL:b=Math.min(m.peekLength(),y.peekLength(),_);var S=m.next(b),O=y.next(b);o(S.insert,O.insert)?v.retain(b,l.attributes.diff(S.attributes,O.attributes)):v.push(O).delete(b);break}_-=b}}),v.chop()},c.prototype.eachLine=function(f,d){d=d||"\n";for(var p=l.iterator(this.ops),v=new c,h=0;p.hasNext();){if(p.peekType()!=="insert")return;var m=p.peek(),y=l.length(m)-p.peekLength(),g=typeof m.insert=="string"?m.insert.indexOf(d,y)-y:-1;if(g<0)v.push(p.next());else if(g>0)v.push(p.next(g));else{if(f(v,p.next(1).attributes||{},h)===!1)return;h+=1,v=new c}}v.length()>0&&f(v,{},h)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),h=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(d||v.peekType()!=="insert"))h.retain(l.length(p.next()));else if(v.peekType()==="insert")h.push(v.next());else{var m=Math.min(p.peekLength(),v.peekLength()),y=p.next(m),g=v.next(m);if(y.delete)continue;g.delete?h.push(g):h.retain(m,l.attributes.transform(y.attributes,g.attributes,d))}return h.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var h=p.peekLength(),m=p.peekType();if(p.next(),m==="delete"){f-=Math.min(h,f-v);continue}else m==="insert"&&(v<f||!d)&&(f+=h);v+=h}return f},r.exports=c},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),h=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!h)return!1;var m;for(m in p);return typeof m>"u"||i.call(p,m)},c=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(s)return s(p,v).value}else return;return p[v]};r.exports=function d(){var p,v,h,m,y,g,_=arguments[0],b=1,S=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},b=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});b<S;++b)if(p=arguments[b],p!=null)for(v in p)h=f(_,v),m=f(p,v),_!==m&&(O&&m&&(u(m)||(y=l(m)))?(y?(y=!1,g=h&&l(h)?h:[]):g=h&&u(h)?h:{},c(_,{name:v,newValue:d(O,g,m)})):typeof m<"u"&&c(_,{name:v,newValue:m}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function I(C,A){for(var P=0;P<A.length;P++){var L=A[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}return function(C,A,P){return A&&I(C.prototype,A),P&&I(C,P),C}}(),o=function I(C,A,P){C===null&&(C=Function.prototype);var L=Object.getOwnPropertyDescriptor(C,A);if(L===void 0){var V=Object.getPrototypeOf(C);return V===null?void 0:I(V,A,P)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(P)}},s=i(3),l=_(s),u=i(2),c=_(u),f=i(0),d=_(f),p=i(16),v=_(p),h=i(6),m=_(h),y=i(7),g=_(y);function _(I){return I&&I.__esModule?I:{default:I}}function b(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function S(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function O(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}var x=1,E=function(I){O(C,I);function C(){return b(this,C),S(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"attach",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,L){var V=d.default.query(P,d.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,L)}},{key:"formatAt",value:function(P,L,V,R){this.format(V,R)}},{key:"insertAt",value:function(P,L,V){if(typeof L=="string"&&L.endsWith("\n")){var R=d.default.create(k.blotName);this.parent.insertBefore(R,P===0?this:this.next),R.insertAt(0,L.slice(0,-1))}else o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,P,L,V)}}]),C}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var k=function(I){O(C,I);function C(A){b(this,C);var P=S(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A));return P.cache={},P}return a(C,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(P,L){return L.length()===0?P:P.insert(L.value(),w(L))},new c.default).insert("\n",w(this))),this.cache.delta}},{key:"deleteAt",value:function(P,L){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,P,L),this.cache={}}},{key:"formatAt",value:function(P,L,V,R){L<=0||(d.default.query(V,d.default.Scope.BLOCK)?P+L===this.length()&&this.format(V,R):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,P,Math.min(L,this.length()-P-1),V,R),this.cache={})}},{key:"insertAt",value:function(P,L,V){if(V!=null)return o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,P,L,V);if(L.length!==0){var R=L.split("\n"),U=R.shift();U.length>0&&(P<this.length()-1||this.children.tail==null?o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var M=this;R.reduce(function($,F){return M=M.split($,!0),M.insertAt(0,F),F.length},P+U.length)}}},{key:"insertBefore",value:function(P,L){var V=this.children.head;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,P,L),V instanceof v.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(P,L){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"moveChildren",this).call(this,P,L),this.cache={}}},{key:"optimize",value:function(P){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(P===0||P>=this.length()-x)){var V=this.clone();return P===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var R=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"split",this).call(this,P,L);return this.cache={},R}}}]),C}(d.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[m.default,d.default.Embed,g.default];function w(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(C=(0,l.default)(C,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?C:w(I.parent,C)}n.bubbleFormats=w,n.BlockEmbed=E,n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M($,F){var N=[],B=!0,z=!1,H=void 0;try{for(var D=$[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(q){z=!0,H=q}finally{try{!B&&D.return&&D.return()}finally{if(z)throw H}}return N}return function($,F){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return M($,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M($,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,F,N){return F&&M($.prototype,F),N&&M($,N),$}}();i(50);var l=i(2),u=w(l),c=i(14),f=w(c),d=i(8),p=w(d),v=i(9),h=w(v),m=i(0),y=w(m),g=i(15),_=w(g),b=i(3),S=w(b),O=i(10),x=w(O),E=i(34),k=w(E);function w(M){return M&&M.__esModule?M:{default:M}}function I(M,$,F){return $ in M?Object.defineProperty(M,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[$]=F,M}function C(M,$){if(!(M instanceof $))throw new TypeError("Cannot call a class as a function")}var A=(0,x.default)("quill"),P=function(){s(M,null,[{key:"debug",value:function(F){F===!0&&(F="log"),x.default.level(F)}},{key:"find",value:function(F){return F.__quill||y.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&A.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var H=F.attrName||F.blotName;typeof H=="string"?this.register("formats/"+H,F,N):Object.keys(F).forEach(function(D){B.register(D,F[D],N)})}else this.imports[F]!=null&&!z&&A.warn("Overwriting "+F+" with",N),this.imports[F]=N,(F.startsWith("blots/")||F.startsWith("formats/"))&&N.blotName!=="abstract"?y.default.register(N):F.startsWith("modules")&&typeof N.register=="function"&&N.register()}}]);function M($){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C(this,M),this.options=L($,N),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",$);this.options.debug&&M.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(H){H===p.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(H,D){var G=F.selection.lastRange,q=G&&G.length===0?G.index:void 0;V.call(F,function(){return F.editor.update(null,D,q)},H)});var z=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(M,[{key:"addContainer",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var B=F;F=document.createElement("div"),F.classList.add(B)}return this.container.insertBefore(F,N),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,N,B){var z=this,H=R(F,N,B),D=o(H,4);return F=D[0],N=D[1],B=D[3],V.call(this,function(){return z.editor.deleteText(F,N)},B,F,-1*N)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return V.call(this,function(){var H=B.getSelection(!0),D=new u.default;if(H==null)return D;if(y.default.query(F,y.default.Scope.BLOCK))D=B.editor.formatLine(H.index,H.length,I({},F,N));else{if(H.length===0)return B.selection.format(F,N),D;D=B.editor.formatText(H.index,H.length,I({},F,N))}return B.setSelection(H,p.default.sources.SILENT),D},z)}},{key:"formatLine",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,N,B,z,H),Y=o(q,4);return F=Y[0],N=Y[1],G=Y[2],H=Y[3],V.call(this,function(){return D.editor.formatLine(F,N,G)},H,F,0)}},{key:"formatText",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,N,B,z,H),Y=o(q,4);return F=Y[0],N=Y[1],G=Y[2],H=Y[3],V.call(this,function(){return D.editor.formatText(F,N,G)},H,F,0)}},{key:"getBounds",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof F=="number"?B=this.selection.getBounds(F,N):B=this.selection.getBounds(F.index,F.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=R(F,N),z=o(B,2);return F=z[0],N=z[1],this.editor.getContents(F,N)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,N):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,N)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=R(F,N),z=o(B,2);return F=z[0],N=z[1],this.editor.getText(F,N)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,N,B){var z=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return V.call(this,function(){return z.editor.insertEmbed(F,N,B)},H,F)}},{key:"insertText",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,0,B,z,H),Y=o(q,4);return F=Y[0],G=Y[2],H=Y[3],V.call(this,function(){return D.editor.insertText(F,N,G)},H,F,N.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,N,B){this.clipboard.dangerouslyPasteHTML(F,N,B)}},{key:"removeFormat",value:function(F,N,B){var z=this,H=R(F,N,B),D=o(H,4);return F=D[0],N=D[1],B=D[3],V.call(this,function(){return z.editor.removeFormat(F,N)},B,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){F=new u.default(F);var z=N.getLength(),H=N.editor.deleteText(0,z),D=N.editor.applyDelta(F),G=D.ops[D.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]==="\n"&&(N.editor.deleteText(N.getLength()-1,1),D.delete(1));var q=H.compose(D);return q},B)}},{key:"setSelection",value:function(F,N,B){if(F==null)this.selection.setRange(null,N||M.sources.API);else{var z=R(F,N,B),H=o(z,4);F=H[0],N=H[1],B=H[3],this.selection.setRange(new g.Range(F,N),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new u.default().insert(F);return this.setContents(B,N)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,N=this.scroll.update(F);return this.selection.update(F),N}},{key:"updateContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){return F=new u.default(F),N.editor.applyDelta(F,B)},B,!0)}}]),M}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=p.default.events,P.sources=p.default.sources,P.version="1.3.7",P.imports={delta:u.default,parchment:y.default,"core/module":h.default,"core/theme":k.default};function L(M,$){if($=(0,S.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===P.DEFAULTS.theme)$.theme=k.default;else if($.theme=P.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var F=(0,S.default)(!0,{},$.theme.DEFAULTS);[F,$].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(H){z.modules[H]===!0&&(z.modules[H]={})})});var N=Object.keys(F.modules).concat(Object.keys($.modules)),B=N.reduce(function(z,H){var D=P.import("modules/"+H);return D==null?A.error("Cannot load "+H+" module. Are you sure you registered it?"):z[H]=D.DEFAULTS||{},z},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,S.default)(!0,{},P.DEFAULTS,{modules:B},F,$),["bounds","container","scrollingContainer"].forEach(function(z){typeof $[z]=="string"&&($[z]=document.querySelector($[z]))}),$.modules=Object.keys($.modules).reduce(function(z,H){return $.modules[H]&&(z[H]=$.modules[H]),z},{}),$}function V(M,$,F,N){if(this.options.strict&&!this.isEnabled()&&$===p.default.sources.USER)return new u.default;var B=F==null?null:this.getSelection(),z=this.editor.delta,H=M();if(B!=null&&(F===!0&&(F=B.index),N==null?B=U(B,H,$):N!==0&&(B=U(B,F,N,$)),this.setSelection(B,p.default.sources.SILENT)),H.length()>0){var D,G=[p.default.events.TEXT_CHANGE,H,z,$];if((D=this.emitter).emit.apply(D,[p.default.events.EDITOR_CHANGE].concat(G)),$!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,G)}}return H}function R(M,$,F,N,B){var z={};return typeof M.index=="number"&&typeof M.length=="number"?typeof $!="number"?(B=N,N=F,F=$,$=M.length,M=M.index):($=M.length,M=M.index):typeof $!="number"&&(B=N,N=F,F=$,$=0),(typeof F>"u"?"undefined":a(F))==="object"?(z=F,B=N):typeof F=="string"&&(N!=null?z[F]=N:B=F),B=B||p.default.sources.API,[M,$,z,B]}function U(M,$,F,N){if(M==null)return null;var B=void 0,z=void 0;if($ instanceof u.default){var H=[M.index,M.index+M.length].map(function(Y){return $.transformPosition(Y,N!==p.default.sources.USER)}),D=o(H,2);B=D[0],z=D[1]}else{var G=[M.index,M.index+M.length].map(function(Y){return Y<$||Y===$&&N===p.default.sources.USER?Y:F>=0?Y+F:Math.max($,Y+F)}),q=o(G,2);B=q[0],z=q[1]}return new g.Range(B,z-B)}n.expandConfig=L,n.overload=R,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),o=function m(y,g,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:m(S,g,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(7),l=f(s),u=i(0),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function v(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){v(y,m);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(_,b,S,O){if(y.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var x=this.isolate(_,b);O&&x.wrap(S,O)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,_,b,S,O)}},{key:"optimize",value:function(_){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,_),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(_,b){var S=y.order.indexOf(_),O=y.order.indexOf(b);return S>=0||O>=0?S-O:_===b?0:_<b?-1:1}}]),y}(c.default.Inline);h.allowedChildren=[h,c.default.Embed,l.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(_,b){for(var S=0;S<b.length;S++){var O=b[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,b,S){return b&&g(_.prototype,b),S&&g(_,S),_}}(),o=function g(_,b,S){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,b);if(O===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:g(x,b,S)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(S)}},s=i(54),l=f(s),u=i(10),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function p(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function v(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var h=(0,c.default)("quill:events"),m=["selectionchange","mousedown","mouseup","click"];m.forEach(function(g){document.addEventListener(g,function(){for(var _=arguments.length,b=Array(_),S=0;S<_;S++)b[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,b)}})})});var y=function(g){v(_,g);function _(){d(this,_);var b=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return b.listeners={},b.on("error",h.error),b}return a(_,[{key:"emit",value:function(){h.log.apply(h,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var O=arguments.length,x=Array(O>1?O-1:0),E=1;E<O;E++)x[E-1]=arguments[E];(this.listeners[S.type]||[]).forEach(function(k){var w=k.node,I=k.handler;(S.target===w||w.contains(S.target))&&I.apply(void 0,[S].concat(x))})}},{key:"listenDOM",value:function(S,O,x){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:O,handler:x})}}]),_}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(c=console)[u].apply(c,d)}}function l(u){return a.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=l.level=function(u){o=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=r.exports=function(d,p,v){return v||(v={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?v.strict?d===p:d==p:f(d,p,v)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,v){var h,m;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(s(d))return s(p)?(d=a.call(d),p=a.call(p),l(d,p,v)):!1;if(c(d)){if(!c(p)||d.length!==p.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==p[h])return!1;return!0}try{var y=o(d),g=o(p)}catch(_){return!1}if(y.length!=g.length)return!1;for(y.sort(),g.sort(),h=y.length-1;h>=0;h--)if(y[h]!=g[h])return!1;for(h=y.length-1;h>=0;h--)if(m=y[h],!l(d[m],p[m],v))return!1;return typeof d==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function E(k,w){var I=[],C=!0,A=!1,P=void 0;try{for(var L=k[Symbol.iterator](),V;!(C=(V=L.next()).done)&&(I.push(V.value),!(w&&I.length===w));C=!0);}catch(R){A=!0,P=R}finally{try{!C&&L.return&&L.return()}finally{if(A)throw P}}return I}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(k,w){for(var I=0;I<w.length;I++){var C=w[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,w,I){return w&&E(k.prototype,w),I&&E(k,I),k}}(),s=function E(k,w,I){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,w);if(C===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:E(A,w,I)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(I)}},l=i(2),u=g(l),c=i(0),f=g(c),d=i(4),p=g(d),v=i(6),h=g(v),m=i(7),y=g(m);function g(E){return E&&E.__esModule?E:{default:E}}function _(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function b(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function S(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var O=function(E){S(k,E);function k(){return _(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(h.default);O.blotName="code",O.tagName="CODE";var x=function(E){S(k,E);function k(){return _(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var I=this,C=this.domNode.textContent;return C.endsWith("\n")&&(C=C.slice(0,-1)),C.split("\n").reduce(function(A,P){return A.insert(P).insert("\n",I.formats())},new u.default)}},{key:"format",value:function(I,C){if(!(I===this.statics.blotName&&C)){var A=this.descendant(y.default,this.length()-1),P=a(A,1),L=P[0];L!=null&&L.deleteAt(L.length()-1,1),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,I,C)}}},{key:"formatAt",value:function(I,C,A,P){if(C!==0&&!(f.default.query(A,f.default.Scope.BLOCK)==null||A===this.statics.blotName&&P===this.statics.formats(this.domNode))){var L=this.newlineIndex(I);if(!(L<0||L>=I+C)){var V=this.newlineIndex(I,!0)+1,R=L-V+1,U=this.isolate(V,R),M=U.next;U.format(A,P),M instanceof k&&M.formatAt(0,I-V+C-R,A,P)}}}},{key:"insertAt",value:function(I,C,A){if(A==null){var P=this.descendant(y.default,I),L=a(P,2),V=L[0],R=L[1];V.insertAt(R,C)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?I:I+1}},{key:"newlineIndex",value:function(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C)return this.domNode.textContent.slice(0,I).lastIndexOf("\n");var A=this.domNode.textContent.slice(I).indexOf("\n");return A>-1?I+A:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===C.statics.formats(C.domNode)&&(C.optimize(I),C.moveChildren(this),C.remove())}},{key:"replace",value:function(I){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(C){var A=f.default.find(C);A==null?C.parentNode.removeChild(C):A instanceof f.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(I){var C=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,I);return C.setAttribute("spellcheck",!1),C}},{key:"formats",value:function(){return!0}}]),k}(p.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",n.Code=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M($,F){var N=[],B=!0,z=!1,H=void 0;try{for(var D=$[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(q){z=!0,H=q}finally{try{!B&&D.return&&D.return()}finally{if(z)throw H}}return N}return function($,F){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return M($,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M($,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,F,N){return F&&M($.prototype,F),N&&M($,N),$}}(),l=i(2),u=C(l),c=i(20),f=C(c),d=i(0),p=C(d),v=i(13),h=C(v),m=i(24),y=C(m),g=i(4),_=C(g),b=i(16),S=C(b),O=i(21),x=C(O),E=i(11),k=C(E),w=i(3),I=C(w);function C(M){return M&&M.__esModule?M:{default:M}}function A(M,$,F){return $ in M?Object.defineProperty(M,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[$]=F,M}function P(M,$){if(!(M instanceof $))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,V=function(){function M($){P(this,M),this.scroll=$,this.delta=this.getDelta()}return s(M,[{key:"applyDelta",value:function(F){var N=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),F=U(F),F.reduce(function(H,D){var G=D.retain||D.delete||D.insert.length||1,q=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var Y=D.insert;Y.endsWith("\n")&&B&&(B=!1,Y=Y.slice(0,-1)),H>=z&&!Y.endsWith("\n")&&(B=!0),N.scroll.insertAt(H,Y);var K=N.scroll.line(H),ie=o(K,2),te=ie[0],oe=ie[1],ue=(0,I.default)({},(0,g.bubbleFormats)(te));if(te instanceof _.default){var fe=te.descendant(p.default.Leaf,oe),pe=o(fe,1),Se=pe[0];ue=(0,I.default)(ue,(0,g.bubbleFormats)(Se))}q=f.default.attributes.diff(ue,q)||{}}else if(a(D.insert)==="object"){var Q=Object.keys(D.insert)[0];if(Q==null)return H;N.scroll.insertAt(H,Q,D.insert[Q])}z+=G}return Object.keys(q).forEach(function(re){N.scroll.formatAt(H,G,re,q[re])}),H+G},0),F.reduce(function(H,D){return typeof D.delete=="number"?(N.scroll.deleteAt(H,D.delete),H):H+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,N){return this.scroll.deleteAt(F,N),this.update(new u.default().retain(F).delete(N))}},{key:"formatLine",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(H){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[H])){var D=B.scroll.lines(F,Math.max(N,1)),G=N;D.forEach(function(q){var Y=q.length();if(!(q instanceof h.default))q.format(H,z[H]);else{var K=F-q.offset(B.scroll),ie=q.newlineIndex(K+G)-K+1;q.formatAt(K,ie,H,z[H])}G-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(N,(0,x.default)(z)))}},{key:"formatText",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(H){B.scroll.formatAt(F,N,H,z[H])}),this.update(new u.default().retain(F).retain(N,(0,x.default)(z)))}},{key:"getContents",value:function(F,N){return this.delta.slice(F,F+N)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,N){return F.concat(N.delta())},new u.default)}},{key:"getFormat",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];N===0?this.scroll.path(F).forEach(function(D){var G=o(D,1),q=G[0];q instanceof _.default?B.push(q):q instanceof p.default.Leaf&&z.push(q)}):(B=this.scroll.lines(F,N),z=this.scroll.descendants(p.default.Leaf,F,N));var H=[B,z].map(function(D){if(D.length===0)return{};for(var G=(0,g.bubbleFormats)(D.shift());Object.keys(G).length>0;){var q=D.shift();if(q==null)return G;G=R((0,g.bubbleFormats)(q),G)}return G});return I.default.apply(I.default,H)}},{key:"getText",value:function(F,N){return this.getContents(F,N).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(F,N,B){return this.scroll.insertAt(F,N,B),this.update(new u.default().retain(F).insert(A({},N,B)))}},{key:"insertText",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N=N.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(F,N),Object.keys(z).forEach(function(H){B.scroll.formatAt(F,N.length,H,z[H])}),this.update(new u.default().retain(F).insert(N,(0,x.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==_.default.blotName||F.children.length>1?!1:F.children.head instanceof S.default}},{key:"removeFormat",value:function(F,N){var B=this.getText(F,N),z=this.scroll.line(F+N),H=o(z,2),D=H[0],G=H[1],q=0,Y=new u.default;D!=null&&(D instanceof h.default?q=D.newlineIndex(G)-G+1:q=D.length()-G,Y=D.delta().slice(G,G+q-1).insert("\n"));var K=this.getContents(F,N+q),ie=K.diff(new u.default().insert(B).concat(Y)),te=new u.default().retain(F).concat(ie);return this.applyDelta(te)}},{key:"update",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(N.length===1&&N[0].type==="characterData"&&N[0].target.data.match(L)&&p.default.find(N[0].target)){var H=p.default.find(N[0].target),D=(0,g.bubbleFormats)(H),G=H.offset(this.scroll),q=N[0].oldValue.replace(y.default.CONTENTS,""),Y=new u.default().insert(q),K=new u.default().insert(H.value()),ie=new u.default().retain(G).concat(Y.diff(K,B));F=ie.reduce(function(te,oe){return oe.insert?te.insert(oe.insert,D):te.push(oe)},new u.default),this.delta=z.compose(F)}else this.delta=this.getDelta(),(!F||!(0,k.default)(z.compose(F),this.delta))&&(F=z.diff(this.delta,B));return F}}]),M}();function R(M,$){return Object.keys($).reduce(function(F,N){return M[N]==null||($[N]===M[N]?F[N]=$[N]:Array.isArray($[N])?$[N].indexOf(M[N])<0&&(F[N]=$[N].concat([M[N]])):F[N]=[$[N],M[N]]),F},{})}function U(M){return M.reduce(function($,F){if(F.insert===1){var N=(0,x.default)(F.attributes);return delete N.image,$.insert({image:F.attributes.image},N)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,x.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var B=F.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return $.insert(B,F.attributes)}return $.push(F)},new u.default)}n.default=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function E(k,w){var I=[],C=!0,A=!1,P=void 0;try{for(var L=k[Symbol.iterator](),V;!(C=(V=L.next()).done)&&(I.push(V.value),!(w&&I.length===w));C=!0);}catch(R){A=!0,P=R}finally{try{!C&&L.return&&L.return()}finally{if(A)throw P}}return I}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(k,w){for(var I=0;I<w.length;I++){var C=w[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,w,I){return w&&E(k.prototype,w),I&&E(k,I),k}}(),s=i(0),l=y(s),u=i(21),c=y(u),f=i(11),d=y(f),p=i(8),v=y(p),h=i(10),m=y(h);function y(E){return E&&E.__esModule?E:{default:E}}function g(E){if(Array.isArray(E)){for(var k=0,w=Array(E.length);k<E.length;k++)w[k]=E[k];return w}else return Array.from(E)}function _(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}var b=(0,m.default)("quill:selection"),S=function E(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,E),this.index=k,this.length=w},O=function(){function E(k,w){var I=this;_(this,E),this.emitter=w,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(C,A){C===v.default.events.TEXT_CHANGE&&A.length()>0&&I.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var C=I.getNativeRange();C!=null&&C.start.node!==I.cursor.textNode&&I.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(C.start.node,C.start.offset,C.end.node,C.end.offset)}catch(A){}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(C,A){if(A.range){var P=A.range,L=P.startNode,V=P.startOffset,R=P.endNode,U=P.endOffset;I.setNativeRange(L,V,R,U)}}),this.update(v.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var w=this;this.root.addEventListener("compositionstart",function(){w.composing=!0}),this.root.addEventListener("compositionend",function(){if(w.composing=!1,w.cursor.parent){var I=w.cursor.restore();if(!I)return;setTimeout(function(){w.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var w=this;this.emitter.listenDOM("mousedown",document.body,function(){w.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){w.mouseDown=!1,w.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(w,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[w])){this.scroll.update();var C=this.getNativeRange();if(!(C==null||!C.native.collapsed||l.default.query(w,l.default.Scope.BLOCK))){if(C.start.node!==this.cursor.textNode){var A=l.default.find(C.start.node,!1);if(A==null)return;if(A instanceof l.default.Leaf){var P=A.split(C.start.offset);A.parent.insertBefore(this.cursor,P)}else A.insertBefore(this.cursor,C.start.node);this.cursor.attach()}this.cursor.format(w,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=this.scroll.length();w=Math.min(w,C-1),I=Math.min(w+I,C-1)-w;var A=void 0,P=this.scroll.leaf(w),L=a(P,2),V=L[0],R=L[1];if(V==null)return null;var U=V.position(R,!0),M=a(U,2);A=M[0],R=M[1];var $=document.createRange();if(I>0){$.setStart(A,R);var F=this.scroll.leaf(w+I),N=a(F,2);if(V=N[0],R=N[1],V==null)return null;var B=V.position(R,!0),z=a(B,2);return A=z[0],R=z[1],$.setEnd(A,R),$.getBoundingClientRect()}else{var H="left",D=void 0;return A instanceof Text?(R<A.data.length?($.setStart(A,R),$.setEnd(A,R+1)):($.setStart(A,R-1),$.setEnd(A,R),H="right"),D=$.getBoundingClientRect()):(D=V.domNode.getBoundingClientRect(),R>0&&(H="right")),{bottom:D.top+D.height,height:D.height,left:D[H],right:D[H],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var w=document.getSelection();if(w==null||w.rangeCount<=0)return null;var I=w.getRangeAt(0);if(I==null)return null;var C=this.normalizeNative(I);return b.info("getNativeRange",C),C}},{key:"getRange",value:function(){var w=this.getNativeRange();if(w==null)return[null,null];var I=this.normalizedToRange(w);return[I,w]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(w){var I=this,C=[[w.start.node,w.start.offset]];w.native.collapsed||C.push([w.end.node,w.end.offset]);var A=C.map(function(V){var R=a(V,2),U=R[0],M=R[1],$=l.default.find(U,!0),F=$.offset(I.scroll);return M===0?F:$ instanceof l.default.Container?F+$.length():F+$.index(U,M)}),P=Math.min(Math.max.apply(Math,g(A)),this.scroll.length()-1),L=Math.min.apply(Math,[P].concat(g(A)));return new S(L,P-L)}},{key:"normalizeNative",value:function(w){if(!x(this.root,w.startContainer)||!w.collapsed&&!x(this.root,w.endContainer))return null;var I={start:{node:w.startContainer,offset:w.startOffset},end:{node:w.endContainer,offset:w.endOffset},native:w};return[I.start,I.end].forEach(function(C){for(var A=C.node,P=C.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>P)A=A.childNodes[P],P=0;else if(A.childNodes.length===P)A=A.lastChild,P=A instanceof Text?A.data.length:A.childNodes.length+1;else break;C.node=A,C.offset=P}),I}},{key:"rangeToNative",value:function(w){var I=this,C=w.collapsed?[w.index]:[w.index,w.index+w.length],A=[],P=this.scroll.length();return C.forEach(function(L,V){L=Math.min(P-1,L);var R=void 0,U=I.scroll.leaf(L),M=a(U,2),$=M[0],F=M[1],N=$.position(F,V!==0),B=a(N,2);R=B[0],F=B[1],A.push(R,F)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(w){var I=this.lastRange;if(I!=null){var C=this.getBounds(I.index,I.length);if(C!=null){var A=this.scroll.length()-1,P=this.scroll.line(Math.min(I.index,A)),L=a(P,1),V=L[0],R=V;if(I.length>0){var U=this.scroll.line(Math.min(I.index+I.length,A)),M=a(U,1);R=M[0]}if(!(V==null||R==null)){var $=w.getBoundingClientRect();C.top<$.top?w.scrollTop-=$.top-C.top:C.bottom>$.bottom&&(w.scrollTop+=C.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(w,I){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",w,I,C,A),!(w!=null&&(this.root.parentNode==null||w.parentNode==null||C.parentNode==null))){var L=document.getSelection();if(L!=null)if(w!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||P||w!==V.startContainer||I!==V.startOffset||C!==V.endContainer||A!==V.endOffset){w.tagName=="BR"&&(I=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode),C.tagName=="BR"&&(A=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode);var R=document.createRange();R.setStart(w,I),R.setEnd(C,A),L.removeAllRanges(),L.addRange(R)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof I=="string"&&(C=I,I=!1),b.info("setRange",w),w!=null){var A=this.rangeToNative(w);this.setNativeRange.apply(this,g(A).concat([I]))}else this.setNativeRange(null);this.update(C)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,I=this.lastRange,C=this.getRange(),A=a(C,2),P=A[0],L=A[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var V;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var R=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(I),w];if((V=this.emitter).emit.apply(V,[v.default.events.EDITOR_CHANGE].concat(R)),w!==v.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,R)}}}}]),E}();function x(E,k){try{k.parentNode}catch(w){return!1}return k instanceof Text&&(k=k.parentNode),E.contains(k)}n.Range=S,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,m,y){return m&&v(h.prototype,m),y&&v(h,y),h}}(),o=function v(h,m,y){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,m);if(g===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,m,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"insertInto",value:function(y,g){y.children.length===0?o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,y,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.build(),v}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var h=c(v);p.insertBefore(h,p.children.head||void 0)}catch(m){if(m instanceof l.ParchmentError)return;throw m}})},d.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(h,m,y){h.deleteAt(m,y)})},d.prototype.descendant=function(p,v){var h=this.children.find(v),m=h[0],y=h[1];return p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p?[m,y]:m instanceof d?m.descendant(p,y):[null,-1]},d.prototype.descendants=function(p,v,h){v===void 0&&(v=0),h===void 0&&(h=Number.MAX_VALUE);var m=[],y=h;return this.children.forEachAt(v,h,function(g,_,b){(p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p)&&m.push(g),g instanceof d&&(m=m.concat(g.descendants(p,_,y))),y-=b}),m},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,v,h,m){this.children.forEachAt(p,v,function(y,g,_){y.formatAt(g,_,h,m)})},d.prototype.insertAt=function(p,v,h){var m=this.children.find(p),y=m[0],g=m[1];if(y)y.insertAt(g,v,h);else{var _=h==null?l.create("text",v):l.create(v,h);this.appendChild(_)}},d.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return p instanceof h}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},d.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},d.prototype.moveChildren=function(p,v){this.children.forEach(function(h){p.insertBefore(h,v)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},d.prototype.path=function(p,v){v===void 0&&(v=!1);var h=this.children.find(p,v),m=h[0],y=h[1],g=[[this,p]];return m instanceof d?g.concat(m.path(y,v)):(m!=null&&g.push([m,y]),g)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(p,this.length(),function(m,y,g){m=m.split(y,v),h.appendChild(m)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,v){var h=this,m=[],y=[];p.forEach(function(g){g.target===h.domNode&&g.type==="childList"&&(m.push.apply(m,g.addedNodes),y.push.apply(y,g.removedNodes))}),y.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(g);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===h.domNode)&&_.detach()}}),m.filter(function(g){return g.parentNode==h.domNode}).sort(function(g,_){return g===_?0:g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var _=null;g.nextSibling!=null&&(_=l.find(g.nextSibling));var b=c(g);(b.next!=_||b.next==null)&&(b.parent!=null&&b.parent.removeChild(h),h.insertBefore(b,_||void 0))})},d}(s.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch(p){d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){d.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.attributes=new s.default(v.domNode),v}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,v){var h=u.query(p);h instanceof o.default?this.attributes.attribute(h,v):v&&h!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},d.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},d.prototype.replaceWith=function(p,v){var h=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(h),h},d.prototype.update=function(p,v){var h=this;f.prototype.update.call(this,p,v),p.some(function(m){return m.target===h.domNode&&m.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,v){var h=f.prototype.wrap.call(this,p,v);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(l.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=o(!0,{},c);f||(d=Object.keys(d).reduce(function(v,h){return d[h]!=null&&(v[h]=d[h]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,p){return a(u[p],c[p])||(d[p]=c[p]===void 0?null:c[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},r.exports=s},function(r,n){var i=function(){function a(h,m){return m!=null&&h instanceof m}var o;try{o=Map}catch(h){o=function(){}}var s;try{s=Set}catch(h){s=function(){}}var l;try{l=Promise}catch(h){l=function(){}}function u(h,m,y,g,_){typeof m=="object"&&(y=m.depth,g=m.prototype,_=m.includeNonEnumerable,m=m.circular);var b=[],S=[],O=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof y>"u"&&(y=1/0);function x(E,k){if(E===null)return null;if(k===0)return E;var w,I;if(typeof E!="object")return E;if(a(E,o))w=new o;else if(a(E,s))w=new s;else if(a(E,l))w=new l(function($,F){E.then(function(N){$(x(N,k-1))},function(N){F(x(N,k-1))})});else if(u.__isArray(E))w=[];else if(u.__isRegExp(E))w=new RegExp(E.source,v(E)),E.lastIndex&&(w.lastIndex=E.lastIndex);else if(u.__isDate(E))w=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(E.length):w=new Buffer(E.length),E.copy(w),w;a(E,Error)?w=Object.create(E):typeof g>"u"?(I=Object.getPrototypeOf(E),w=Object.create(I)):(w=Object.create(g),I=g)}if(m){var C=b.indexOf(E);if(C!=-1)return S[C];b.push(E),S.push(w)}a(E,o)&&E.forEach(function($,F){var N=x(F,k-1),B=x($,k-1);w.set(N,B)}),a(E,s)&&E.forEach(function($){var F=x($,k-1);w.add(F)});for(var A in E){var P;I&&(P=Object.getOwnPropertyDescriptor(I,A)),!(P&&P.set==null)&&(w[A]=x(E[A],k-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(E),A=0;A<L.length;A++){var V=L[A],R=Object.getOwnPropertyDescriptor(E,V);R&&!R.enumerable&&!_||(w[V]=x(E[V],k-1),R.enumerable||Object.defineProperty(w,V,{enumerable:!1}))}if(_)for(var U=Object.getOwnPropertyNames(E),A=0;A<U.length;A++){var M=U[A],R=Object.getOwnPropertyDescriptor(E,M);R&&R.enumerable||(w[M]=x(E[M],k-1),Object.defineProperty(w,M,{enumerable:!1}))}return w}return x(h,y)}u.clonePrototype=function(m){if(m===null)return null;var y=function(){};return y.prototype=m,new y};function c(h){return Object.prototype.toString.call(h)}u.__objToStr=c;function f(h){return typeof h=="object"&&c(h)==="[object Date]"}u.__isDate=f;function d(h){return typeof h=="object"&&c(h)==="[object Array]"}u.__isArray=d;function p(h){return typeof h=="object"&&c(h)==="[object RegExp]"}u.__isRegExp=p;function v(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return u.__getRegExpFlags=v,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(I,C){var A=[],P=!0,L=!1,V=void 0;try{for(var R=I[Symbol.iterator](),U;!(P=(U=R.next()).done)&&(A.push(U.value),!(C&&A.length===C));P=!0);}catch(M){L=!0,V=M}finally{try{!P&&R.return&&R.return()}finally{if(L)throw V}}return A}return function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return w(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function w(I,C){for(var A=0;A<C.length;A++){var P=C[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,C,A){return C&&w(I.prototype,C),A&&w(I,A),I}}(),s=function w(I,C,A){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,C);if(P===void 0){var L=Object.getPrototypeOf(I);return L===null?void 0:w(L,C,A)}else{if("value"in P)return P.value;var V=P.get;return V===void 0?void 0:V.call(A)}},l=i(0),u=b(l),c=i(8),f=b(c),d=i(4),p=b(d),v=i(16),h=b(v),m=i(13),y=b(m),g=i(25),_=b(g);function b(w){return w&&w.__esModule?w:{default:w}}function S(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function O(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:w}function x(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}function E(w){return w instanceof p.default||w instanceof d.BlockEmbed}var k=function(w){x(I,w);function I(C,A){S(this,I);var P=O(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,C));return P.emitter=A.emitter,Array.isArray(A.whitelist)&&(P.whitelist=A.whitelist.reduce(function(L,V){return L[V]=!0,L},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return o(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,P){var L=this.line(A),V=a(L,2),R=V[0],U=V[1],M=this.line(A+P),$=a(M,1),F=$[0];if(s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,A,P),F!=null&&R!==F&&U>0){if(R instanceof d.BlockEmbed||F instanceof d.BlockEmbed){this.optimize();return}if(R instanceof y.default){var N=R.newlineIndex(R.length(),!0);if(N>-1&&(R=R.split(N+1),R===F)){this.optimize();return}}else if(F instanceof y.default){var B=F.newlineIndex(0);B>-1&&F.split(B+1)}var z=F.children.head instanceof h.default?null:F.children.head;R.moveChildren(F,z),R.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,P,L,V){this.whitelist!=null&&!this.whitelist[L]||(s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,A,P,L,V),this.optimize())}},{key:"insertAt",value:function(A,P,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[P])){if(A>=this.length())if(L==null||u.default.query(P,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),L==null&&P.endsWith("\n")&&(P=P.slice(0,-1)),V.insertAt(0,P,L)}else{var R=u.default.create(P,L);this.appendChild(R)}else s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,A,P,L);this.optimize()}}},{key:"insertBefore",value:function(A,P){if(A.statics.scope===u.default.Scope.INLINE_BLOT){var L=u.default.create(this.statics.defaultChild);L.appendChild(A),A=L}s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,A,P)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(E,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function V(R,U,M){var $=[],F=M;return R.children.forEachAt(U,M,function(N,B,z){E(N)?$.push(N):N instanceof u.default.Container&&($=$.concat(V(N,B,F))),F-=z}),$};return L(this,A,P)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A,P),A.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,A,P))}},{key:"path",value:function(A){return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var P=f.default.sources.USER;typeof A=="string"&&(P=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,P,A),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,P,A)}}}]),I}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,d.BlockEmbed,_.default],n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(G,q){var Y=[],K=!0,ie=!1,te=void 0;try{for(var oe=G[Symbol.iterator](),ue;!(K=(ue=oe.next()).done)&&(Y.push(ue.value),!(q&&Y.length===q));K=!0);}catch(fe){ie=!0,te=fe}finally{try{!K&&oe.return&&oe.return()}finally{if(ie)throw te}}return Y}return function(G,q){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return D(G,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(G,q){for(var Y=0;Y<q.length;Y++){var K=q[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,q,Y){return q&&D(G.prototype,q),Y&&D(G,Y),G}}(),l=i(21),u=w(l),c=i(11),f=w(c),d=i(3),p=w(d),v=i(2),h=w(v),m=i(20),y=w(m),g=i(0),_=w(g),b=i(5),S=w(b),O=i(10),x=w(O),E=i(9),k=w(E);function w(D){return D&&D.__esModule?D:{default:D}}function I(D,G,q){return G in D?Object.defineProperty(D,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[G]=q,D}function C(D,G){if(!(D instanceof G))throw new TypeError("Cannot call a class as a function")}function A(D,G){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:D}function P(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);D.prototype=Object.create(G&&G.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(D,G):D.__proto__=G)}var L=(0,x.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",R=function(D){P(G,D),s(G,null,[{key:"match",value:function(Y,K){return K=H(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!K[ie]!==Y[ie]&&K[ie]!==null})?!1:K.key===(Y.which||Y.keyCode)}}]);function G(q,Y){C(this,G);var K=A(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,q,Y));return K.bindings={},Object.keys(K.options.bindings).forEach(function(ie){ie==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||K.options.bindings[ie]&&K.addBinding(K.options.bindings[ie])}),K.addBinding({key:G.keys.ENTER,shiftKey:null},N),K.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},M),K.addBinding({key:G.keys.DELETE},{collapsed:!0},$)):(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),K.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),K.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},F),K.addBinding({key:G.keys.DELETE},{collapsed:!1},F),K.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),K.listen(),K}return s(G,[{key:"addBinding",value:function(Y){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=H(Y);if(te==null||te.key==null)return L.warn("Attempted to add invalid keyboard binding",te);typeof K=="function"&&(K={handler:K}),typeof ie=="function"&&(ie={handler:ie}),te=(0,p.default)(te,K,ie),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var ie=K.which||K.keyCode,te=(Y.bindings[ie]||[]).filter(function(he){return G.match(K,he)});if(te.length!==0){var oe=Y.quill.getSelection();if(!(oe==null||!Y.quill.hasFocus())){var ue=Y.quill.getLine(oe.index),fe=o(ue,2),pe=fe[0],Se=fe[1],Q=Y.quill.getLeaf(oe.index),re=o(Q,2),de=re[0],ve=re[1],ee=oe.length===0?[de,ve]:Y.quill.getLeaf(oe.index+oe.length),me=o(ee,2),Oe=me[0],we=me[1],Je=de instanceof _.default.Text?de.value().slice(0,ve):"",at=Oe instanceof _.default.Text?Oe.value().slice(we):"",ce={collapsed:oe.length===0,empty:oe.length===0&&pe.length()<=1,format:Y.quill.getFormat(oe),offset:Se,prefix:Je,suffix:at},ge=te.some(function(he){if(he.collapsed!=null&&he.collapsed!==ce.collapsed||he.empty!=null&&he.empty!==ce.empty||he.offset!=null&&he.offset!==ce.offset)return!1;if(Array.isArray(he.format)){if(he.format.every(function(Pe){return ce.format[Pe]==null}))return!1}else if(a(he.format)==="object"&&!Object.keys(he.format).every(function(Pe){return he.format[Pe]===!0?ce.format[Pe]!=null:he.format[Pe]===!1?ce.format[Pe]==null:(0,f.default)(he.format[Pe],ce.format[Pe])}))return!1;return he.prefix!=null&&!he.prefix.test(ce.prefix)||he.suffix!=null&&!he.suffix.test(ce.suffix)?!1:he.handler.call(Y,oe,ce)!==!0});ge&&K.preventDefault()}}}})}}]),G}(k.default);R.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},R.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:R.keys.TAB,format:["blockquote","indent","list"],handler:function(G,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:R.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:R.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,q){q.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:R.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,S.default.sources.USER)}},tab:{key:R.keys.TAB,handler:function(G){this.quill.history.cutoff();var q=new h.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(q,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,S.default.sources.SILENT)}},"list empty enter":{key:R.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,q){this.quill.format("list",!1,S.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:R.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var q=this.quill.getLine(G.index),Y=o(q,2),K=Y[0],ie=Y[1],te=(0,p.default)({},K.formats(),{list:"checked"}),oe=new h.default().retain(G.index).insert("\n",te).retain(K.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(oe,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:R.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,q){var Y=this.quill.getLine(G.index),K=o(Y,2),ie=K[0],te=K[1],oe=new h.default().retain(G.index).insert("\n",q.format).retain(ie.length()-te-1).retain(1,{header:null});this.quill.updateContents(oe,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,q){var Y=q.prefix.length,K=this.quill.getLine(G.index),ie=o(K,2),te=ie[0],oe=ie[1];if(oe>Y)return!0;var ue=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(G.index," ",S.default.sources.USER),this.quill.history.cutoff();var fe=new h.default().retain(G.index-oe).delete(Y+1).retain(te.length()-2-oe).retain(1,{list:ue});this.quill.updateContents(fe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-Y,S.default.sources.SILENT)}},"code exit":{key:R.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var q=this.quill.getLine(G.index),Y=o(q,2),K=Y[0],ie=Y[1],te=new h.default().retain(G.index+K.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,S.default.sources.USER)}},"embed left":U(R.keys.LEFT,!1),"embed left shift":U(R.keys.LEFT,!0),"embed right":U(R.keys.RIGHT,!1),"embed right shift":U(R.keys.RIGHT,!0)}};function U(D,G){var q,Y=D===R.keys.LEFT?"prefix":"suffix";return q={key:D,shiftKey:G,altKey:null},I(q,Y,/^$/),I(q,"handler",function(ie){var te=ie.index;D===R.keys.RIGHT&&(te+=ie.length+1);var oe=this.quill.getLeaf(te),ue=o(oe,1),fe=ue[0];return fe instanceof _.default.Embed?(D===R.keys.LEFT?G?this.quill.setSelection(ie.index-1,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index-1,S.default.sources.USER):G?this.quill.setSelection(ie.index,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,S.default.sources.USER),!1):!0}),q}function M(D,G){if(!(D.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(D.index),Y=o(q,1),K=Y[0],ie={};if(G.offset===0){var te=this.quill.getLine(D.index-1),oe=o(te,1),ue=oe[0];if(ue!=null&&ue.length()>1){var fe=K.formats(),pe=this.quill.getFormat(D.index-1,1);ie=y.default.attributes.diff(fe,pe)||{}}}var Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(D.index-Se,Se,S.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(D.index-Se,Se,ie,S.default.sources.USER),this.quill.focus()}}function $(D,G){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(D.index>=this.quill.getLength()-q)){var Y={},K=0,ie=this.quill.getLine(D.index),te=o(ie,1),oe=te[0];if(G.offset>=oe.length()-1){var ue=this.quill.getLine(D.index+1),fe=o(ue,1),pe=fe[0];if(pe){var Se=oe.formats(),Q=this.quill.getFormat(D.index,1);Y=y.default.attributes.diff(Se,Q)||{},K=pe.length()}}this.quill.deleteText(D.index,q,S.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(D.index+K-1,q,Y,S.default.sources.USER)}}function F(D){var G=this.quill.getLines(D),q={};if(G.length>1){var Y=G[0].formats(),K=G[G.length-1].formats();q=y.default.attributes.diff(K,Y)||{}}this.quill.deleteText(D,S.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(D.index,1,q,S.default.sources.USER),this.quill.setSelection(D.index,S.default.sources.SILENT),this.quill.focus()}function N(D,G){var q=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var Y=Object.keys(G.format).reduce(function(K,ie){return _.default.query(ie,_.default.Scope.BLOCK)&&!Array.isArray(G.format[ie])&&(K[ie]=G.format[ie]),K},{});this.quill.insertText(D.index,"\n",Y,S.default.sources.USER),this.quill.setSelection(D.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(K){Y[K]==null&&(Array.isArray(G.format[K])||K!=="link"&&q.quill.format(K,G.format[K],S.default.sources.USER))})}function B(D){return{key:R.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(q){var Y=_.default.query("code-block"),K=q.index,ie=q.length,te=this.quill.scroll.descendant(Y,K),oe=o(te,2),ue=oe[0],fe=oe[1];if(ue!=null){var pe=this.quill.getIndex(ue),Se=ue.newlineIndex(fe,!0)+1,Q=ue.newlineIndex(pe+fe+ie),re=ue.domNode.textContent.slice(Se,Q).split("\n");fe=0,re.forEach(function(de,ve){D?(ue.insertAt(Se+fe,Y.TAB),fe+=Y.TAB.length,ve===0?K+=Y.TAB.length:ie+=Y.TAB.length):de.startsWith(Y.TAB)&&(ue.deleteAt(Se+fe,Y.TAB.length),fe-=Y.TAB.length,ve===0?K-=Y.TAB.length:ie-=Y.TAB.length),fe+=de.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(K,ie,S.default.sources.SILENT)}}}}function z(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(q,Y){this.quill.format(D,!Y.format[D],S.default.sources.USER)}}}function H(D){if(typeof D=="string"||typeof D=="number")return H({key:D});if((typeof D>"u"?"undefined":a(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if(R.keys[D.key.toUpperCase()]!=null)D.key=R.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[V]=D.shortKey,delete D.shortKey),D}n.default=R,n.SHORTKEY=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(g,_){var b=[],S=!0,O=!1,x=void 0;try{for(var E=g[Symbol.iterator](),k;!(S=(k=E.next()).done)&&(b.push(k.value),!(_&&b.length===_));S=!0);}catch(w){O=!0,x=w}finally{try{!S&&E.return&&E.return()}finally{if(O)throw x}}return b}return function(g,_){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return y(g,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(g,_,b){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,_);if(S===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=function(){function y(g,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,_,b){return _&&y(g.prototype,_),b&&y(g,b),g}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function v(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function h(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var m=function(y){h(g,y),s(g,null,[{key:"value",value:function(){}}]);function g(_,b){p(this,g);var S=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return S.selection=b,S.textNode=document.createTextNode(g.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return s(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,S){if(this._length!==0)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,S);for(var O=this,x=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=g.CONTENTS.length,O.optimize(),O.formatAt(x,g.CONTENTS.length,b,S),this._length=0)}},{key:"index",value:function(b,S){return b===this.textNode?0:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,S=this.selection.getNativeRange(),O=void 0,x=void 0,E=void 0;if(S!=null&&S.start.node===b&&S.end.node===b){var k=[b,S.start.offset,S.end.offset];O=k[0],x=k[1],E=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var w=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,w),this.textNode.data=g.CONTENTS):(this.textNode.data=w,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var I=[x,E].map(function(A){return Math.max(0,Math.min(O.data.length,A-1))}),C=a(I,2);return x=C[0],E=C[1],{startNode:O,startOffset:x,endNode:O,endOffset:E}}}}},{key:"update",value:function(b,S){var O=this;if(b.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var x=this.restore();x&&(S.range=x)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Container);p.allowedChildren=[l.default,s.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function m(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),o=function m(y,g,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:m(S,g,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){d(y,m);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(_){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):b}}]),y}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),h=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=v,n.ColorStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function h(m,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,g){return y&&h(m.prototype,y),g&&h(m,g),m}}(),o=function h(m,y,g){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:h(b,y,g)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(g)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var p=function(h){d(m,h);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"format",value:function(g,_){if(g!==this.statics.blotName||!_)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,g,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(g){var _=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g);return g=this.sanitize(g),_.setAttribute("href",g),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return v(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),m}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(h,m){var y=document.createElement("a");y.href=h;var g=y.href.slice(0,y.href.indexOf(":"));return m.indexOf(g)>-1}n.default=p,n.sanitize=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o=function(){function m(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),s=i(23),l=f(s),u=i(107),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function v(m,y){m.setAttribute(y,m.getAttribute(y)!=="true")}var h=function(){function m(y){var g=this;d(this,m),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(m,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var _=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),g.hasAttribute("value")&&b.setAttribute("data-value",g.getAttribute("value")),g.textContent&&b.setAttribute("data-label",g.textContent),b.addEventListener("click",function(){_.selectItem(b,!0)}),b.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:_.selectItem(b,!0),S.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),S.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=c.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(b){var S=g.buildItem(b);_.appendChild(S),b.selected===!0&&g.selectItem(S)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(_){g.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(g!==b&&(b!=null&&b.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var b=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),m}();n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=L(a),s=i(5),l=L(s),u=i(4),c=L(u),f=i(16),d=L(f),p=i(25),v=L(p),h=i(24),m=L(h),y=i(35),g=L(y),_=i(6),b=L(_),S=i(22),O=L(S),x=i(7),E=L(x),k=i(55),w=L(k),I=i(42),C=L(I),A=i(23),P=L(A);function L(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":v.default,"blots/cursor":m.default,"blots/embed":g.default,"blots/inline":b.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":w.default,"modules/history":C.default,"modules/keyboard":P.default}),o.default.register(c.default,d.default,m.default,b.default,O.default,E.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);d.wrap(p),p.format(c,f)}},s.prototype.insertAt=function(l,u,c){var f=c==null?a.create("text",u):a.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=a.default.keys(this.domNode),p=o.default.keys(this.domNode),v=s.default.keys(this.domNode);d.concat(p).concat(v).forEach(function(h){var m=l.query(h,l.Scope.ATTRIBUTE);m instanceof a.default&&(f.attributes[m.attrName]=m)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var v=d.attributes[p].value(d.domNode);f.format(p,v)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},c}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(g,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,_,b){return _&&y(g.prototype,_),b&&y(g,b),g}}(),o=function y(g,_,b){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,_);if(S===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=f(s),u=i(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function p(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var h="\uFEFF",m=function(y){v(g,y);function g(_){d(this,g);var b=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(S){b.contentNode.appendChild(S)}),b.leftGuard=document.createTextNode(h),b.rightGuard=document.createTextNode(h),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(g,[{key:"index",value:function(b,S){return b===this.leftGuard?0:b===this.rightGuard?1:o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,S)}},{key:"restore",value:function(b){var S=void 0,O=void 0,x=b.data.split(h).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var E=this.prev.length();this.prev.insertAt(E,x),S={startNode:this.prev.domNode,startOffset:E+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),S={startNode:O,startOffset:x.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,x),S={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),S={startNode:O,startOffset:x.length}));return b.data=h,S}},{key:"update",value:function(b,S){var O=this;b.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var E=O.restore(x.target);E&&(S.range=E)}})}}]),g}(l.default.Embed);n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(g,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,_,b){return _&&y(g.prototype,_),b&&y(g,b),g}}(),o=function y(g,_,b){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,_);if(S===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function f(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),h=function(y){d(g,y);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(b){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),m=new h("font","font-family",p);n.FontStyle=m,n.FontClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=i(0),s=d(o),l=i(5),u=d(l),c=i(9),f=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function h(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var m=function(_){h(b,_);function b(S,O){p(this,b);var x=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(u.default.events.EDITOR_CHANGE,function(E,k,w,I){E!==u.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||I===u.default.sources.USER?x.record(k,w):x.transform(k))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return a(b,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[x].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],u.default.sources.USER),this.ignoreChange=!1;var k=g(E[O]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(x),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var w=this.stack.undo.pop();E=E.compose(w.undo),O=w.redo.compose(O)}else this.lastRecorded=k;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(f.default);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(_){var b=_.ops[_.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith("\n"):b.attributes!=null?Object.keys(b.attributes).some(function(S){return s.default.query(S,s.default.Scope.BLOCK)!=null}):!1}function g(_){var b=_.reduce(function(O,x){return O+=x.delete||0,O},0),S=_.length()-b;return y(_)&&(S-=1),S}n.default=m,n.getLastChangeIndex=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function N(B,z){for(var H=0;H<z.length;H++){var D=z[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,z,H){return z&&N(B.prototype,z),H&&N(B,H),B}}(),o=function N(B,z,H){B===null&&(B=Function.prototype);var D=Object.getOwnPropertyDescriptor(B,z);if(D===void 0){var G=Object.getPrototypeOf(B);return G===null?void 0:N(G,z,H)}else{if("value"in D)return D.value;var q=D.get;return q===void 0?void 0:q.call(H)}},s=i(3),l=k(s),u=i(2),c=k(u),f=i(8),d=k(f),p=i(23),v=k(p),h=i(34),m=k(h),y=i(59),g=k(y),_=i(60),b=k(_),S=i(28),O=k(S),x=i(61),E=k(x);function k(N){return N&&N.__esModule?N:{default:N}}function w(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function I(N,B){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:N}function C(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(N,B):N.__proto__=B)}var A=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],V=["1","2","3",!1],R=["small",!1,"large","huge"],U=function(N){C(B,N);function B(z,H){w(this,B);var D=I(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,H)),G=function q(Y){if(!document.body.contains(z.root))return document.body.removeEventListener("click",q);D.tooltip!=null&&!D.tooltip.root.contains(Y.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(K){K.container.contains(Y.target)||K.close()})};return z.emitter.listenDOM("click",document.body,G),D}return a(B,[{key:"addModule",value:function(H){var D=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(H,D){H.forEach(function(G){var q=G.getAttribute("class")||"";q.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),D[Y]!=null))if(Y==="direction")G.innerHTML=D[Y][""]+D[Y].rtl;else if(typeof D[Y]=="string")G.innerHTML=D[Y];else{var K=G.value||"";K!=null&&D[Y][K]&&(G.innerHTML=D[Y][K])}})})}},{key:"buildPickers",value:function(H,D){var G=this;this.pickers=H.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&F(Y,A),new b.default(Y,D.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var K=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&F(Y,P,K==="background"?"#ffffff":"#000000"),new g.default(Y,D[K])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?F(Y,L):Y.classList.contains("ql-header")?F(Y,V):Y.classList.contains("ql-size")&&F(Y,R)),new O.default(Y)});var q=function(){G.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,q)}}]),B}(m.default);U.DEFAULTS=(0,l.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var H=new FileReader;H.onload=function(D){var G=B.quill.getSelection(!0);B.quill.updateContents(new c.default().retain(G.index).delete(G.length).insert({image:D.target.result}),d.default.sources.USER),B.quill.setSelection(G.index+1,d.default.sources.SILENT),z.value=""},H.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(N){C(B,N);function B(z,H){w(this,B);var D=I(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,H));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return a(B,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(D){v.default.match(D,"enter")?(H.save(),D.preventDefault()):v.default.match(D,"escape")&&(H.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,d.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":H=$(H);case"formula":{if(!H)break;var G=this.quill.getSelection(!0);if(G!=null){var q=G.index+G.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),H,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",d.default.sources.USER),this.quill.setSelection(q+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(E.default);function $(N){var B=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":N}function F(N,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(H){var D=document.createElement("option");H===z?D.setAttribute("selected","selected"):D.setAttribute("value",H),N.appendChild(D)})}n.BaseTooltip=M,n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||l&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),f=c[0],d=c[1],p,v=s-d,h=this.iterator(f);(p=h())&&v<s+l;){var m=p.length();s>v?u(p,s-v,Math.min(l,v+m-s)):u(p,0,Math.min(m,s+l-v)),v+=m}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(h){v.update(h)}),v.observer.observe(v.domNode,l),v.attach(),v}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(h){h.remove()}):f.prototype.deleteAt.call(this,p,v)},d.prototype.formatAt=function(p,v,h,m){this.update(),f.prototype.formatAt.call(this,p,v,h,m)},d.prototype.insertAt=function(p,v,h){this.update(),f.prototype.insertAt.call(this,p,v,h)},d.prototype.optimize=function(p,v){var h=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var m=[].slice.call(this.observer.takeRecords());m.length>0;)p.push(m.pop());for(var y=function(S,O){O===void 0&&(O=!0),!(S==null||S===h)&&S.domNode.parentNode!=null&&(S.domNode[s.DATA_KEY].mutations==null&&(S.domNode[s.DATA_KEY].mutations=[]),O&&y(S.parent))},g=function(S){S.domNode[s.DATA_KEY]==null||S.domNode[s.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(g),S.optimize(v))},_=p,b=0;_.length>0;b+=1){if(b>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(S){var O=s.find(S.target,!0);O!=null&&(O.domNode===S.target&&(S.type==="childList"?(y(s.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(x){var E=s.find(x,!1);y(E,!1),E instanceof o.default&&E.children.forEach(function(k){y(k,!1)})})):S.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(g),_=[].slice.call(this.observer.takeRecords()),m=_.slice();m.length>0;)p.push(m.pop())}},d.prototype.update=function(p,v){var h=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(m){var y=s.find(m.target,!0);return y==null?null:y.domNode[s.DATA_KEY].mutations==null?(y.domNode[s.DATA_KEY].mutations=[m],y):(y.domNode[s.DATA_KEY].mutations.push(m),null)}).forEach(function(m){m==null||m===h||m.domNode[s.DATA_KEY]==null||m.update(m.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(p,v)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){c(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){a(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,p){var v=this;d===this.statics.blotName&&!p?(this.children.forEach(function(h){h instanceof o.default||(h=h.wrap(f.blotName,!0)),v.attributes.copy(h)}),this.unwrap()):c.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,v,h){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var m=this.isolate(d,p);m.format(v,h)}else c.prototype.formatAt.call(this,d,p,v,h)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,p,v){s.query(p,s.Scope.BLOCK)!=null?this.format(p,v):u.prototype.formatAt.call(this,f,d,p,v)},c.prototype.insertAt=function(f,d,p){if(p==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,p);else{var v=this.split(f),h=s.create(d,p);v.parent.insertBefore(h,v)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,p){c===0&&f===this.length()?this.format(d,p):l.prototype.formatAt.call(this,c,f,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=s},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=s.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,d){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,p=0;p<c;p++)if(d=u[p],l.call(f,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function s(b,S,O){if(b==S)return b?[[o,b]]:[];(O<0||b.length<O)&&(O=null);var x=f(b,S),E=b.substring(0,x);b=b.substring(x),S=S.substring(x),x=d(b,S);var k=b.substring(b.length-x);b=b.substring(0,b.length-x),S=S.substring(0,S.length-x);var w=l(b,S);return E&&w.unshift([o,E]),k&&w.push([o,k]),v(w),O!=null&&(w=y(w,O)),w=g(w),w}function l(b,S){var O;if(!b)return[[a,S]];if(!S)return[[i,b]];var x=b.length>S.length?b:S,E=b.length>S.length?S:b,k=x.indexOf(E);if(k!=-1)return O=[[a,x.substring(0,k)],[o,E],[a,x.substring(k+E.length)]],b.length>S.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,b],[a,S]];var w=p(b,S);if(w){var I=w[0],C=w[1],A=w[2],P=w[3],L=w[4],V=s(I,A),R=s(C,P);return V.concat([[o,L]],R)}return u(b,S)}function u(b,S){for(var O=b.length,x=S.length,E=Math.ceil((O+x)/2),k=E,w=2*E,I=new Array(w),C=new Array(w),A=0;A<w;A++)I[A]=-1,C[A]=-1;I[k+1]=0,C[k+1]=0;for(var P=O-x,L=P%2!=0,V=0,R=0,U=0,M=0,$=0;$<E;$++){for(var F=-$+V;F<=$-R;F+=2){var N=k+F,B;F==-$||F!=$&&I[N-1]<I[N+1]?B=I[N+1]:B=I[N-1]+1;for(var z=B-F;B<O&&z<x&&b.charAt(B)==S.charAt(z);)B++,z++;if(I[N]=B,B>O)R+=2;else if(z>x)V+=2;else if(L){var H=k+P-F;if(H>=0&&H<w&&C[H]!=-1){var D=O-C[H];if(B>=D)return c(b,S,B,z)}}}for(var G=-$+U;G<=$-M;G+=2){var H=k+G,D;G==-$||G!=$&&C[H-1]<C[H+1]?D=C[H+1]:D=C[H-1]+1;for(var q=D-G;D<O&&q<x&&b.charAt(O-D-1)==S.charAt(x-q-1);)D++,q++;if(C[H]=D,D>O)M+=2;else if(q>x)U+=2;else if(!L){var N=k+P-G;if(N>=0&&N<w&&I[N]!=-1){var B=I[N],z=k+B-N;if(D=O-D,B>=D)return c(b,S,B,z)}}}}return[[i,b],[a,S]]}function c(b,S,O,x){var E=b.substring(0,O),k=S.substring(0,x),w=b.substring(O),I=S.substring(x),C=s(E,k),A=s(w,I);return C.concat(A)}function f(b,S){if(!b||!S||b.charAt(0)!=S.charAt(0))return 0;for(var O=0,x=Math.min(b.length,S.length),E=x,k=0;O<E;)b.substring(k,E)==S.substring(k,E)?(O=E,k=O):x=E,E=Math.floor((x-O)/2+O);return E}function d(b,S){if(!b||!S||b.charAt(b.length-1)!=S.charAt(S.length-1))return 0;for(var O=0,x=Math.min(b.length,S.length),E=x,k=0;O<E;)b.substring(b.length-E,b.length-k)==S.substring(S.length-E,S.length-k)?(O=E,k=O):x=E,E=Math.floor((x-O)/2+O);return E}function p(b,S){var O=b.length>S.length?b:S,x=b.length>S.length?S:b;if(O.length<4||x.length*2<O.length)return null;function E(R,U,M){for(var $=R.substring(M,M+Math.floor(R.length/4)),F=-1,N="",B,z,H,D;(F=U.indexOf($,F+1))!=-1;){var G=f(R.substring(M),U.substring(F)),q=d(R.substring(0,M),U.substring(0,F));N.length<q+G&&(N=U.substring(F-q,F)+U.substring(F,F+G),B=R.substring(0,M-q),z=R.substring(M+G),H=U.substring(0,F-q),D=U.substring(F+G))}return N.length*2>=R.length?[B,z,H,D,N]:null}var k=E(O,x,Math.ceil(O.length/4)),w=E(O,x,Math.ceil(O.length/2)),I;if(!k&&!w)return null;w?k?I=k[4].length>w[4].length?k:w:I=w:I=k;var C,A,P,L;b.length>S.length?(C=I[0],A=I[1],P=I[2],L=I[3]):(P=I[0],L=I[1],C=I[2],A=I[3]);var V=I[4];return[C,A,P,L,V]}function v(b){b.push([o,""]);for(var S=0,O=0,x=0,E="",k="",w;S<b.length;)switch(b[S][0]){case a:x++,k+=b[S][1],S++;break;case i:O++,E+=b[S][1],S++;break;case o:O+x>1?(O!==0&&x!==0&&(w=f(k,E),w!==0&&(S-O-x>0&&b[S-O-x-1][0]==o?b[S-O-x-1][1]+=k.substring(0,w):(b.splice(0,0,[o,k.substring(0,w)]),S++),k=k.substring(w),E=E.substring(w)),w=d(k,E),w!==0&&(b[S][1]=k.substring(k.length-w)+b[S][1],k=k.substring(0,k.length-w),E=E.substring(0,E.length-w))),O===0?b.splice(S-x,O+x,[a,k]):x===0?b.splice(S-O,O+x,[i,E]):b.splice(S-O-x,O+x,[i,E],[a,k]),S=S-O-x+(O?1:0)+(x?1:0)+1):S!==0&&b[S-1][0]==o?(b[S-1][1]+=b[S][1],b.splice(S,1)):S++,x=0,O=0,E="",k="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(S=1;S<b.length-1;)b[S-1][0]==o&&b[S+1][0]==o&&(b[S][1].substring(b[S][1].length-b[S-1][1].length)==b[S-1][1]?(b[S][1]=b[S-1][1]+b[S][1].substring(0,b[S][1].length-b[S-1][1].length),b[S+1][1]=b[S-1][1]+b[S+1][1],b.splice(S-1,1),I=!0):b[S][1].substring(0,b[S+1][1].length)==b[S+1][1]&&(b[S-1][1]+=b[S+1][1],b[S][1]=b[S][1].substring(b[S+1][1].length)+b[S+1][1],b.splice(S+1,1),I=!0)),S++;I&&v(b)}var h=s;h.INSERT=a,h.DELETE=i,h.EQUAL=o,r.exports=h;function m(b,S){if(S===0)return[o,b];for(var O=0,x=0;x<b.length;x++){var E=b[x];if(E[0]===i||E[0]===o){var k=O+E[1].length;if(S===k)return[x+1,b];if(S<k){b=b.slice();var w=S-O,I=[E[0],E[1].slice(0,w)],C=[E[0],E[1].slice(w)];return b.splice(x,1,I,C),[x+1,b]}else O=k}}throw new Error("cursor_pos is out of bounds!")}function y(b,S){var O=m(b,S),x=O[1],E=O[0],k=x[E],w=x[E+1];if(k==null)return b;if(k[0]!==o)return b;if(w!=null&&k[1]+w[1]===w[1]+k[1])return x.splice(E,2,w,k),_(x,E,2);if(w!=null&&w[1].indexOf(k[1])===0){x.splice(E,2,[w[0],k[1]],[0,k[1]]);var I=w[1].slice(k[1].length);return I.length>0&&x.splice(E+2,0,[w[0],I]),_(x,E,3)}else return b}function g(b){for(var S=!1,O=function(w){return w.charCodeAt(0)>=56320&&w.charCodeAt(0)<=57343},x=function(w){return w.charCodeAt(w.length-1)>=55296&&w.charCodeAt(w.length-1)<=56319},E=2;E<b.length;E+=1)b[E-2][0]===o&&x(b[E-2][1])&&b[E-1][0]===i&&O(b[E-1][1])&&b[E][0]===a&&O(b[E][1])&&(S=!0,b[E-1][1]=b[E-2][1].slice(-1)+b[E-1][1],b[E][1]=b[E-2][1].slice(-1)+b[E][1],b[E-2][1]=b[E-2][1].slice(0,-1));if(!S)return b;for(var k=[],E=0;E<b.length;E+=1)b[E][1].length>0&&k.push(b[E]);return k}function _(b,S,O){for(var x=S+O-1;x>=0&&x>=S-1;x--)if(x+1<b.length){var E=b[x],k=b[x+1];E[0]===k[1]&&b.splice(x,2,[E[0],E[1]+k[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=a?a+c:c,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,h=p.length,m=new Array(h);v<h;v++)m[v]=p[v].fn;return m},l.prototype.emit=function(c,f,d,p,v,h){var m=a?a+c:c;if(!this._events[m])return!1;var y=this._events[m],g=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,h),!0}for(b=1,_=new Array(g-1);b<g;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,O;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,p);break;default:if(!_)for(O=1,_=new Array(g-1);O<g;O++)_[O-1]=arguments[O];y[b].fn.apply(y[b].context,_)}}return!0},l.prototype.on=function(c,f,d){var p=new s(f,d||this),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,f,d){var p=new s(f,d||this,!0),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,p){var v=a?a+c:c;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var h=this._events[v];if(h.fn)h.fn===f&&(!p||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var m=0,y=[],g=h.length;m<g;m++)(h[m].fn!==f||p&&!h[m].once||d&&h[m].context!==d)&&y.push(h[m]);y.length?this._events[v]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=function(){function Q(re,de){var ve=[],ee=!0,me=!1,Oe=void 0;try{for(var we=re[Symbol.iterator](),Je;!(ee=(Je=we.next()).done)&&(ve.push(Je.value),!(de&&ve.length===de));ee=!0);}catch(at){me=!0,Oe=at}finally{try{!ee&&we.return&&we.return()}finally{if(me)throw Oe}}return ve}return function(re,de){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return Q(re,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function Q(re,de){for(var ve=0;ve<de.length;ve++){var ee=de[ve];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(re,ee.key,ee)}}return function(re,de,ve){return de&&Q(re.prototype,de),ve&&Q(re,ve),re}}(),l=i(3),u=C(l),c=i(2),f=C(c),d=i(0),p=C(d),v=i(5),h=C(v),m=i(10),y=C(m),g=i(9),_=C(g),b=i(36),S=i(37),O=i(13),x=C(O),E=i(26),k=i(38),w=i(39),I=i(40);function C(Q){return Q&&Q.__esModule?Q:{default:Q}}function A(Q,re,de){return re in Q?Object.defineProperty(Q,re,{value:de,enumerable:!0,configurable:!0,writable:!0}):Q[re]=de,Q}function P(Q,re){if(!(Q instanceof re))throw new TypeError("Cannot call a class as a function")}function L(Q,re){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Q}function V(Q,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Q.prototype=Object.create(re&&re.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,re):Q.__proto__=re)}var R=(0,y.default)("quill:clipboard"),U="__ql-matcher",M=[[Node.TEXT_NODE,Se],[Node.TEXT_NODE,ue],["br",ie],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,pe],["li",oe],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",te]],$=[b.AlignAttribute,k.DirectionAttribute].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),F=[b.AlignStyle,S.BackgroundStyle,E.ColorStyle,k.DirectionStyle,w.FontStyle,I.SizeStyle].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),N=function(Q){V(re,Q);function re(de,ve){P(this,re);var ee=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,de,ve));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],M.concat(ee.options.matchers).forEach(function(me){var Oe=o(me,2),we=Oe[0],Je=Oe[1];!ve.matchVisual&&Je===fe||ee.addMatcher(we,Je)}),ee}return s(re,[{key:"addMatcher",value:function(ve,ee){this.matchers.push([ve,ee])}},{key:"convert",value:function(ve){if(typeof ve=="string")return this.container.innerHTML=ve.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[x.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new f.default().insert(me,A({},x.default.blotName,ee[x.default.blotName]))}var Oe=this.prepareMatching(),we=o(Oe,2),Je=we[0],at=we[1],ce=G(this.container,Je,at);return H(ce,"\n")&&ce.ops[ce.ops.length-1].attributes==null&&(ce=ce.compose(new f.default().retain(ce.length()-1).delete(1))),R.log("convert",this.container.innerHTML,ce),this.container.innerHTML="",ce}},{key:"dangerouslyPasteHTML",value:function(ve,ee){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof ve=="string")this.quill.setContents(this.convert(ve),ee),this.quill.setSelection(0,h.default.sources.SILENT);else{var Oe=this.convert(ee);this.quill.updateContents(new f.default().retain(ve).concat(Oe),me),this.quill.setSelection(ve+Oe.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(ve){var ee=this;if(!(ve.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),Oe=new f.default().retain(me.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){Oe=Oe.concat(ee.convert()).delete(me.length),ee.quill.updateContents(Oe,h.default.sources.USER),ee.quill.setSelection(Oe.length()-me.length,h.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=we,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ve=this,ee=[],me=[];return this.matchers.forEach(function(Oe){var we=o(Oe,2),Je=we[0],at=we[1];switch(Je){case Node.TEXT_NODE:me.push(at);break;case Node.ELEMENT_NODE:ee.push(at);break;default:[].forEach.call(ve.container.querySelectorAll(Je),function(ce){ce[U]=ce[U]||[],ce[U].push(at)});break}}),[ee,me]}}]),re}(_.default);N.DEFAULTS={matchers:[],matchVisual:!0};function B(Q,re,de){return(typeof re>"u"?"undefined":a(re))==="object"?Object.keys(re).reduce(function(ve,ee){return B(ve,ee,re[ee])},Q):Q.reduce(function(ve,ee){return ee.attributes&&ee.attributes[re]?ve.push(ee):ve.insert(ee.insert,(0,u.default)({},A({},re,de),ee.attributes))},new f.default)}function z(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return Q[re]||(Q[re]=window.getComputedStyle(Q))}function H(Q,re){for(var de="",ve=Q.ops.length-1;ve>=0&&de.length<re.length;--ve){var ee=Q.ops[ve];if(typeof ee.insert!="string")break;de=ee.insert+de}return de.slice(-1*re.length)===re}function D(Q){if(Q.childNodes.length===0)return!1;var re=z(Q);return["block","list-item"].indexOf(re.display)>-1}function G(Q,re,de){return Q.nodeType===Q.TEXT_NODE?de.reduce(function(ve,ee){return ee(Q,ve)},new f.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(ve,ee){var me=G(ee,re,de);return ee.nodeType===Q.ELEMENT_NODE&&(me=re.reduce(function(Oe,we){return we(ee,Oe)},me),me=(ee[U]||[]).reduce(function(Oe,we){return we(ee,Oe)},me)),ve.concat(me)},new f.default):new f.default}function q(Q,re,de){return B(de,Q,!0)}function Y(Q,re){var de=p.default.Attributor.Attribute.keys(Q),ve=p.default.Attributor.Class.keys(Q),ee=p.default.Attributor.Style.keys(Q),me={};return de.concat(ve).concat(ee).forEach(function(Oe){var we=p.default.query(Oe,p.default.Scope.ATTRIBUTE);we!=null&&(me[we.attrName]=we.value(Q),me[we.attrName])||(we=$[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(me[we.attrName]=we.value(Q)||void 0),we=F[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(we=F[Oe],me[we.attrName]=we.value(Q)||void 0))}),Object.keys(me).length>0&&(re=B(re,me)),re}function K(Q,re){var de=p.default.query(Q);if(de==null)return re;if(de.prototype instanceof p.default.Embed){var ve={},ee=de.value(Q);ee!=null&&(ve[de.blotName]=ee,re=new f.default().insert(ve,de.formats(Q)))}else typeof de.formats=="function"&&(re=B(re,de.blotName,de.formats(Q)));return re}function ie(Q,re){return H(re,"\n")||re.insert("\n"),re}function te(){return new f.default}function oe(Q,re){var de=p.default.query(Q);if(de==null||de.blotName!=="list-item"||!H(re,"\n"))return re;for(var ve=-1,ee=Q.parentNode;!ee.classList.contains("ql-clipboard");)(p.default.query(ee)||{}).blotName==="list"&&(ve+=1),ee=ee.parentNode;return ve<=0?re:re.compose(new f.default().retain(re.length()-1).retain(1,{indent:ve}))}function ue(Q,re){return H(re,"\n")||(D(Q)||re.length()>0&&Q.nextSibling&&D(Q.nextSibling))&&re.insert("\n"),re}function fe(Q,re){if(D(Q)&&Q.nextElementSibling!=null&&!H(re,"\n\n")){var de=Q.offsetHeight+parseFloat(z(Q).marginTop)+parseFloat(z(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+de*1.5&&re.insert("\n")}return re}function pe(Q,re){var de={},ve=Q.style||{};return ve.fontStyle&&z(Q).fontStyle==="italic"&&(de.italic=!0),ve.fontWeight&&(z(Q).fontWeight.startsWith("bold")||parseInt(z(Q).fontWeight)>=700)&&(de.bold=!0),Object.keys(de).length>0&&(re=B(re,de)),parseFloat(ve.textIndent||0)>0&&(re=new f.default().insert("	").concat(re)),re}function Se(Q,re){var de=Q.data;if(Q.parentNode.tagName==="O:P")return re.insert(de.trim());if(de.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return re;if(!z(Q.parentNode).whiteSpace.startsWith("pre")){var ve=function(me,Oe){return Oe=Oe.replace(/[^\u00a0]/g,""),Oe.length<1&&me?" ":Oe};de=de.replace(/\r\n/g," ").replace(/\n/g," "),de=de.replace(/\s\s+/g,ve.bind(ve,!0)),(Q.previousSibling==null&&D(Q.parentNode)||Q.previousSibling!=null&&D(Q.previousSibling))&&(de=de.replace(/^\s+/,ve.bind(ve,!1))),(Q.nextSibling==null&&D(Q.parentNode)||Q.nextSibling!=null&&D(Q.nextSibling))&&(de=de.replace(/\s+$/,ve.bind(ve,!1)))}return re.insert(de)}n.default=N,n.matchAttributor=Y,n.matchBlot=K,n.matchNewline=ue,n.matchSpacing=fe,n.matchText=Se},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,m,y){return m&&v(h.prototype,m),y&&v(h,y),h}}(),o=function v(h,m,y){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,m);if(g===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,m,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"optimize",value:function(y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function I(C,A){var P=[],L=!0,V=!1,R=void 0;try{for(var U=C[Symbol.iterator](),M;!(L=(M=U.next()).done)&&(P.push(M.value),!(A&&P.length===A));L=!0);}catch($){V=!0,R=$}finally{try{!L&&U.return&&U.return()}finally{if(V)throw R}}return P}return function(C,A){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return I(C,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(C,A){for(var P=0;P<A.length;P++){var L=A[P];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}return function(C,A,P){return A&&I(C.prototype,A),P&&I(C,P),C}}(),s=i(2),l=y(s),u=i(0),c=y(u),f=i(5),d=y(f),p=i(10),v=y(p),h=i(9),m=y(h);function y(I){return I&&I.__esModule?I:{default:I}}function g(I,C,A){return C in I?Object.defineProperty(I,C,{value:A,enumerable:!0,configurable:!0,writable:!0}):I[C]=A,I}function _(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function b(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function S(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}var O=(0,v.default)("quill:toolbar"),x=function(I){S(C,I);function C(A,P){_(this,C);var L=b(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,P));if(Array.isArray(L.options.container)){var V=document.createElement("div");k(V,L.options.container),A.container.parentNode.insertBefore(V,A.container),L.container=V}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var R;return R=O.error("Container required for toolbar",L.options),b(L,R)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(U){L.addHandler(U,L.options.handlers[U])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(U){L.attach(U)}),L.quill.on(d.default.events.EDITOR_CHANGE,function(U,M){U===d.default.events.SELECTION_CHANGE&&L.update(M)}),L.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var U=L.quill.selection.getRange(),M=a(U,1),$=M[0];L.update($)}),L}return o(C,[{key:"addHandler",value:function(P,L){this.handlers[P]=L}},{key:"attach",value:function(P){var L=this,V=[].find.call(P.classList,function(U){return U.indexOf("ql-")===0});if(V){if(V=V.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){O.warn("ignoring attaching to disabled format",V,P);return}if(c.default.query(V)==null){O.warn("ignoring attaching to nonexistent format",V,P);return}}var R=P.tagName==="SELECT"?"change":"click";P.addEventListener(R,function(U){var M=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var $=P.options[P.selectedIndex];$.hasAttribute("selected")?M=!1:M=$.value||!1}else P.classList.contains("ql-active")?M=!1:M=P.value||!P.hasAttribute("value"),U.preventDefault();L.quill.focus();var F=L.quill.selection.getRange(),N=a(F,1),B=N[0];if(L.handlers[V]!=null)L.handlers[V].call(L,M);else if(c.default.query(V).prototype instanceof c.default.Embed){if(M=prompt("Enter "+V),!M)return;L.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(g({},V,M)),d.default.sources.USER)}else L.quill.format(V,M,d.default.sources.USER);L.update(B)}),this.controls.push([V,P])}}},{key:"update",value:function(P){var L=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(V){var R=a(V,2),U=R[0],M=R[1];if(M.tagName==="SELECT"){var $=void 0;if(P==null)$=null;else if(L[U]==null)$=M.querySelector("option[selected]");else if(!Array.isArray(L[U])){var F=L[U];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),$=M.querySelector('option[value="'+F+'"]')}$==null?(M.value="",M.selectedIndex=-1):$.selected=!0}else if(P==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var N=L[U]===M.getAttribute("value")||L[U]!=null&&L[U].toString()===M.getAttribute("value")||L[U]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",N)}else M.classList.toggle("ql-active",L[U]!=null)})}}]),C}(m.default);x.DEFAULTS={};function E(I,C,A){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+C),A!=null&&(P.value=A),I.appendChild(P)}function k(I,C){Array.isArray(C[0])||(C=[C]),C.forEach(function(A){var P=document.createElement("span");P.classList.add("ql-formats"),A.forEach(function(L){if(typeof L=="string")E(P,L);else{var V=Object.keys(L)[0],R=L[V];Array.isArray(R)?w(P,V,R):E(P,V,R)}}),I.appendChild(P)})}function w(I,C,A){var P=document.createElement("select");P.classList.add("ql-"+C),A.forEach(function(L){var V=document.createElement("option");L!==!1?V.setAttribute("value",L):V.setAttribute("selected","selected"),P.appendChild(V)}),I.appendChild(P)}x.DEFAULTS={container:null,handlers:{clean:function(){var C=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(L){c.default.query(L,c.default.Scope.INLINE)!=null&&C.quill.format(L,!1)})}else this.quill.removeFormat(A,d.default.sources.USER)},direction:function(C){var A=this.quill.getFormat().align;C==="rtl"&&A==null?this.quill.format("align","right",d.default.sources.USER):!C&&A==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",C,d.default.sources.USER)},indent:function(C){var A=this.quill.getSelection(),P=this.quill.getFormat(A),L=parseInt(P.indent||0);if(C==="+1"||C==="-1"){var V=C==="+1"?1:-1;P.direction==="rtl"&&(V*=-1),this.quill.format("indent",L+V,d.default.sources.USER)}},link:function(C){C===!0&&(C=prompt("Enter link URL:")),this.quill.format("link",C,d.default.sources.USER)},list:function(C){var A=this.quill.getSelection(),P=this.quill.getFormat(A);C==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",C,d.default.sources.USER)}}},n.default=x,n.addControls=k},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,m,y){return m&&v(h.prototype,m),y&&v(h,y),h}}(),o=function v(h,m,y){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,m);if(g===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,m,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(m,y){c(this,h);var g=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return g.label.innerHTML=y,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),g}return a(h,[{key:"buildItem",value:function(y){var g=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,y);return g.style.backgroundColor=y.getAttribute("value")||"",g}},{key:"selectItem",value:function(y,g){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,g);var _=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=b:_.style.fill=b)}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,m,y){return m&&v(h.prototype,m),y&&v(h,y),h}}(),o=function v(h,m,y){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,m);if(g===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,m,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(m,y){c(this,h);var g=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=y[_.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return a(h,[{key:"selectItem",value:function(y,g){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,g),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var f=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),h=0;if(v.right>p.right&&(h=p.right-v.right,this.root.style.left=f+h+"px"),v.left<p.left&&(h=p.left-v.left,this.root.style.left=f+h+"px"),v.bottom>p.bottom){var m=v.bottom-v.top,y=c.bottom-c.top+m;this.root.style.top=d-y+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(I,C){var A=[],P=!0,L=!1,V=void 0;try{for(var R=I[Symbol.iterator](),U;!(P=(U=R.next()).done)&&(A.push(U.value),!(C&&A.length===C));P=!0);}catch(M){L=!0,V=M}finally{try{!P&&R.return&&R.return()}finally{if(L)throw V}}return A}return function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return w(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function w(I,C,A){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,C);if(P===void 0){var L=Object.getPrototypeOf(I);return L===null?void 0:w(L,C,A)}else{if("value"in P)return P.value;var V=P.get;return V===void 0?void 0:V.call(A)}},s=function(){function w(I,C){for(var A=0;A<C.length;A++){var P=C[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,C,A){return C&&w(I.prototype,C),A&&w(I,A),I}}(),l=i(3),u=_(l),c=i(8),f=_(c),d=i(43),p=_(d),v=i(27),h=_(v),m=i(15),y=i(41),g=_(y);function _(w){return w&&w.__esModule?w:{default:w}}function b(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function S(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:w}function O(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(w){O(I,w);function I(C,A){b(this,I),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=x);var P=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,C,A));return P.quill.container.classList.add("ql-snow"),P}return s(I,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),g.default),this.tooltip=new k(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,L){A.handlers.link.call(A,!L.format.link)})}}]),I}(p.default);E.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var C=this.quill.getSelection();if(C==null||C.length==0)return;var A=this.quill.getText(C);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var P=this.quill.theme.tooltip;P.edit("link",A)}else this.quill.format("link",!1)}}}}});var k=function(w){O(I,w);function I(C,A){b(this,I);var P=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,C,A));return P.preview=P.root.querySelector("a.ql-preview"),P}return s(I,[{key:"listen",value:function(){var A=this;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(A.linkRange!=null){var L=A.linkRange;A.restoreFocus(),A.quill.formatText(L,"link",!1,f.default.sources.USER),delete A.linkRange}P.preventDefault(),A.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(P,L,V){if(P!=null){if(P.length===0&&V===f.default.sources.USER){var R=A.quill.scroll.descendant(h.default,P.index),U=a(R,2),M=U[0],$=U[1];if(M!=null){A.linkRange=new m.Range(P.index-$,M.length());var F=h.default.formats(M.domNode);A.preview.textContent=F,A.preview.setAttribute("href",F),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(d.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=ee(a),s=i(36),l=i(38),u=i(64),c=i(65),f=ee(c),d=i(66),p=ee(d),v=i(67),h=ee(v),m=i(37),y=i(26),g=i(39),_=i(40),b=i(56),S=ee(b),O=i(68),x=ee(O),E=i(27),k=ee(E),w=i(69),I=ee(w),C=i(70),A=ee(C),P=i(71),L=ee(P),V=i(72),R=ee(V),U=i(73),M=ee(U),$=i(13),F=ee($),N=i(74),B=ee(N),z=i(75),H=ee(z),D=i(57),G=ee(D),q=i(41),Y=ee(q),K=i(28),ie=ee(K),te=i(59),oe=ee(te),ue=i(60),fe=ee(ue),pe=i(61),Se=ee(pe),Q=i(108),re=ee(Q),de=i(62),ve=ee(de);function ee(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":g.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":F.default,"formats/header":p.default,"formats/list":h.default,"formats/bold":S.default,"formats/code":$.Code,"formats/italic":x.default,"formats/link":k.default,"formats/script":I.default,"formats/strike":A.default,"formats/underline":L.default,"formats/image":R.default,"formats/video":M.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":H.default,"modules/toolbar":G.default,"themes/bubble":re.default,"themes/snow":ve.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":fe.default,"ui/color-picker":oe.default,"ui/tooltip":Se.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function h(m,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,g){return y&&h(m.prototype,y),g&&h(m,g),m}}(),o=function h(m,y,g){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:h(b,y,g)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(g)}},s=i(0),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function f(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var p=function(h){d(m,h);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"add",value:function(g,_){if(_==="+1"||_==="-1"){var b=this.value(g)||0;_=_==="+1"?b+1:b-1}return _===0?(this.remove(g),!0):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"add",this).call(this,g,_)}},{key:"canAdd",value:function(g,_){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,g,_)||o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,g,parseInt(_))}},{key:"value",value:function(g){return parseInt(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,g))||void 0}}]),m}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(v,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,m){return h&&p(v.prototype,h),m&&p(v,m),v}}(),o=i(4),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){f(v,p);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(m){return this.tagName.indexOf(m.tagName)+1}}]),v}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function b(S,O){for(var x=0;x<O.length;x++){var E=O[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,O,x){return O&&b(S.prototype,O),x&&b(S,x),S}}(),o=function b(S,O,x){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,O);if(E===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:b(k,O,x)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(x)}},s=i(0),l=p(s),u=i(4),c=p(u),f=i(25),d=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function v(b,S,O){return S in b?Object.defineProperty(b,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[S]=O,b}function h(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function m(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function y(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var g=function(b){y(S,b);function S(){return h(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"format",value:function(x,E){x===_.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,x,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,E){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,E),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x,E))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,x)}}]),S}(c.default);g.blotName="list-item",g.tagName="LI";var _=function(b){y(S,b),a(S,null,[{key:"create",value:function(x){var E=x==="ordered"?"OL":"UL",k=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,E);return(x==="checked"||x==="unchecked")&&k.setAttribute("data-checked",x==="checked"),k}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(O){h(this,S);var x=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O)),E=function(w){if(w.target.parentNode===O){var I=x.statics.formats(O),C=l.default.find(w.target);I==="checked"?C.format("list","unchecked"):I==="unchecked"&&C.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),x}return a(S,[{key:"format",value:function(x,E){this.children.length>0&&this.children.tail.format(x,E)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,E){if(x instanceof g)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,x,E);else{var k=E==null?this.length():E.offset(this),w=this.split(k);w.parent.insertBefore(x,w)}}},{key:"optimize",value:function(x){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,x);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);x.moveChildren(E),this.appendChild(E)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,x)}}]),S}(d.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[g],n.ListItem=g,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,m,y){return m&&v(h.prototype,m),y&&v(h,y),h}}(),o=function v(h,m,y){h===null&&(h=Function.prototype);var g=Object.getOwnPropertyDescriptor(h,m);if(g===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,m,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),h}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),o=function m(y,g,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:m(S,g,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=c(s),u=i(27);function c(m){return m&&m.__esModule?m:{default:m}}function f(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function p(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=["alt","height","width"],h=function(m){p(y,m);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return typeof _=="string"&&b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(l.default.Embed);h.blotName="image",h.tagName="IMG",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),o=function m(y,g,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:m(S,g,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(4),l=i(27),u=c(l);function c(m){return m&&m.__esModule?m:{default:m}}function f(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function p(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=["height","width"],h=function(m){p(y,m);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=function _(b,S,O){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,S);if(x===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:_(E,S,O)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(O)}},s=i(35),l=p(s),u=i(5),c=p(u),f=i(9),d=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function m(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=function(_){m(b,_);function b(){return v(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(O){var x=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),b}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var g=function(_){m(b,_),a(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){v(this,b);var S=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return b}(d.default);n.FormulaBlot=y,n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(x,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,E,k){return E&&O(x.prototype,E),k&&O(x,k),x}}(),o=function O(x,E,k){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,E);if(w===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:O(I,E,k)}else{if("value"in w)return w.value;var C=w.get;return C===void 0?void 0:C.call(k)}},s=i(0),l=h(s),u=i(5),c=h(u),f=i(9),d=h(f),p=i(13),v=h(p);function h(O){return O&&O.__esModule?O:{default:O}}function m(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function y(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function g(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=function(O){g(x,O);function x(){return m(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var w=this.domNode.textContent;this.cachedText!==w&&((w.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(w),this.domNode.normalize(),this.attach()),this.cachedText=w)}}]),x}(v.default);_.className="ql-syntax";var b=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(O){g(x,O),a(x,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(_,!0)}}]);function x(E,k){m(this,x);var w=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,k));if(typeof w.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return w.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){w.highlight(),I=null},w.options.interval)}),w.highlight(),w}return a(x,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var w=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(I){I.highlight(k.options.highlight)}),this.quill.update(c.default.sources.SILENT),w!=null&&this.quill.setSelection(w,c.default.sources.SILENT)}}}]),x}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=b,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function x(E,k,w){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,k);if(I===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:x(C,k,w)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(w)}},o=function(){function x(E,k){for(var w=0;w<k.length;w++){var I=k[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,k,w){return k&&x(E.prototype,k),w&&x(E,w),E}}(),s=i(3),l=m(s),u=i(8),c=m(u),f=i(43),d=m(f),p=i(15),v=i(41),h=m(v);function m(x){return x&&x.__esModule?x:{default:x}}function y(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function g(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function _(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(x){_(E,x);function E(k,w){y(this,E),w.modules.toolbar!=null&&w.modules.toolbar.container==null&&(w.modules.toolbar.container=b);var I=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,w));return I.quill.container.classList.add("ql-bubble"),I}return o(E,[{key:"extendToolbar",value:function(w){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(w.container),this.buildButtons([].slice.call(w.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(w.container.querySelectorAll("select")),h.default)}}]),E}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){_(E,x);function E(k,w){y(this,E);var I=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,w));return I.quill.on(c.default.events.EDITOR_CHANGE,function(C,A,P,L){if(C===c.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&L===c.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var V=I.quill.getLines(A.index,A.length);if(V.length===1)I.position(I.quill.getBounds(A));else{var R=V[V.length-1],U=I.quill.getIndex(R),M=Math.min(R.length()-1,A.index+A.length-U),$=I.quill.getBounds(new p.Range(U,M));I.position($)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return o(E,[{key:"listen",value:function(){var w=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){w.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!w.root.classList.contains("ql-hidden")){var I=w.quill.getSelection();I!=null&&w.position(w.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(w){var I=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,w),C=this.root.querySelector(".ql-tooltip-arrow");if(C.style.marginLeft="",I===0)return I;C.style.marginLeft=-1*I-C.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(ZE);var eC=ZE.exports;const uo=tn(eC);var mB=An&&An.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Od=An&&An.__assign||function(){return Od=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Od.apply(this,arguments)},yB=An&&An.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},Op=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ta=Op(J),bB=Op(GF),Tu=Op(gB),R1=Op(eC),_B=function(t){mB(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,s,l){var u,c,f,d;a==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((d=(f=n).onEditorChangeSelection)===null||d===void 0||d.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(ta.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ta.default.Children.count(r.children)){var i=ta.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),s=(a=r.value,a!=null?a:"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),yB(this.cleanProps,this.dirtyProps).some(function(l){return!Tu.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Tu.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),$1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new R1.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Tu.default(r.ops,n.ops):Tu.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),$1(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=bB.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){r.editingArea=l}};return ta.default.Children.count(i)?ta.default.cloneElement(ta.default.Children.only(i),s):a?ta.default.createElement("pre",Od({},s)):ta.default.createElement("div",Od({},s))},e.prototype.render=function(){var r;return ta.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,s,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&r,p=f&&!r;Tu.default(r,f)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),d?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=R1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(ta.default.Component);function $1(t){Promise.resolve().then(t)}var xp=_B;const SB=tn(xp);function N1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(r),!0).forEach(function(n){Bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function tC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nC(n.key),n)}}function rC(t,e,r){return e&&M1(t.prototype,e),r&&M1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bv(t,e,r){return e=nC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function OB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},go(t)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qv(t,e)}function xB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Hv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wB(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hv(t)}function EB(t){var e=xB();return function(){var n=go(t),i;if(e){var a=go(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wB(this,i)}}function CB(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=go(t),t!==null););return t}function ml(){return typeof Reflect<"u"&&Reflect.get?ml=Reflect.get.bind():ml=function(e,r,n){var i=CB(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ml.apply(this,arguments)}function TB(t,e){if(t){if(typeof t=="string")return V1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(t,e)}}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kB(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=TB(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function IB(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nC(t){var e=IB(t,"string");return typeof e=="symbol"?e:String(e)}var ja={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function AB(t,e,r){var n=t;return Object.keys(e).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=e[i]:delete n.dataset[i]}),n}function B1(t,e){e!==null&&(Vv(e)==="object"?t.appendChild(e):t.innerText=e)}function jB(t,e,r,n){return e.reduce(function(i,a){var o;if(r&&n){var s=new RegExp("^".concat(a,"|\\s").concat(a),"g"),l=(t.match(s)||[]).pop();if(!l)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};o=l!==a?t.lastIndexOf(l)+l.length-a.length:0}else o=t.lastIndexOf(a);return o>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:o}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function PB(t,e){return e.test(t)}function LB(t,e,r,n){if(t===-1)return!1;if(!r)return!0;var i=t?e[t-1]:n;return!i||!!i.match(/\s/)}var FB=uo.import("blots/embed"),wp=function(t){OB(r,t);var e=EB(r);function r(n,i){var a;return tC(this,r),a=e.call(this,n,i),Bv(Hv(a),"hoverHandler",void 0),Bv(Hv(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return rC(r,[{key:"attach",value:function(){ml(go(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){ml(go(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-clicked",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-hovered",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var o=new Event(i,{bubbles:!0,cancelable:!0});return o.value=xd({},this.domNode.dataset),o.event=a,o}}],[{key:"create",value:function(i){var a=ml(go(r),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=i.denotationChar,a.appendChild(o),typeof this.render=="function"?a.appendChild(this.render(i)):a.innerText+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var o=i;return Object.keys(a).forEach(function(s){o.dataset[s]=a[s]}),o}},{key:"value",value:function(i){return i.dataset}}]),r}(FB);wp.blotName="mention";wp.tagName="span";wp.className="mention";uo.register("blots/mention",wp);var iC=function(){function t(e,r){var n=this;tC(this,t),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=e,this.options={source:null,renderItem:function(u){var c=u.value;return"".concat(c)},renderLoading:function(){return null},onSelect:function(u,c){c(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[ja.ENTER]},xd(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",e.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),e.on("text-change",this.onTextChange.bind(this)),e.on("selection-change",this.onSelectionChange.bind(this)),e.container.addEventListener("paste",function(){setTimeout(function(){var l=e.getSelection();n.onSelectionChange(l)})}),e.keyboard.addBinding({key:ja.TAB},this.selectHandler.bind(this)),e.keyboard.bindings[ja.TAB].unshift(e.keyboard.bindings[ja.TAB].pop());var a=kB(this.options.selectKeys),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;e.keyboard.addBinding({key:s},this.selectHandler.bind(this))}}catch(l){a.e(l)}finally{a.f()}e.keyboard.bindings[ja.ENTER].unshift(e.keyboard.bindings[ja.ENTER].pop()),e.keyboard.addBinding({key:ja.ESCAPE},this.escapeHandler.bind(this)),e.keyboard.addBinding({key:ja.UP},this.upHandler.bind(this)),e.keyboard.addBinding({key:ja.DOWN},this.downHandler.bind(this))}return rC(t,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.mentionList.childNodes[this.itemIndex].dataset;n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var o=D1(D1({},this.options),i);o.showDenotationChar||(a.denotationChar="");var s;n?s=this.cursorPos:(s=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,uo.sources.USER));var l=this.quill.insertEmbed(s,o.blotName,a,uo.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(s+1," ",uo.sources.USER),this.quill.setSelection(s+2,uo.sources.USER)):this.quill.setSelection(s+1,uo.sources.USER),this.hideMentionList(),l}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",B1(n,this.options.renderLoading()),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerText="";for(var a=-1,o=0;o<n.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",n[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):a===-1&&(a=o),s.dataset.index=o;var l=this.options.renderItem(n[o],i);B1(s,l),n[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=r,this.mentionList.appendChild(AB(s,n[o],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=0;this.mentionContainer.style.right="".concat(l,"px")}else s+=i.left;if(this.containerRightIsNotVisible(s,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,c=n.width;s=c-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(a+this.options.offsetTop):o=i.top-(a+this.options.offsetTop),o+n.top<=0){var f=this.options.offsetTop;this.options.fixMentionsToQuill?f+=n.height:f+=i.bottom,o=f}}else if(this.options.fixMentionsToQuill?o+=n.height:o+=i.bottom,this.containerBottomIsNotVisible(o,n)){var d=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(d+=i.top),o=d-a}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},o=this.options.fixMentionsToQuill?n:a,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=o.right;this.mentionContainer.style.right="".concat(u,"px")}else l+=o.left,l+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(l-=l+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var c=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,p=this.mentionContainer.offsetHeight<=c,v;this.options.defaultMenuOrientation==="top"&&p?v="top":this.options.defaultMenuOrientation==="bottom"&&d?v="bottom":v=f>c?"bottom":"top",v==="bottom"?(s=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-bottom")),r.mentionContainer.classList.remove("".concat(h,"-top"))})):(s=o.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=c-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-top")),r.mentionContainer.classList.remove("".concat(h,"-bottom"))})),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),o=a?this.quill.getText(a-1,a):"",s=jB(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),l=s.mentionChar,u=s.mentionCharIndex;if(LB(u,i,this.options.isolateCharacter,o)){var c=this.cursorPos-(i.length-u);this.mentionCharPos=c;var f=i.substring(u+l.length);if(f.length>=this.options.minChars&&PB(f,this.getAllowedCharsRegex(l))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var d={abandoned:!1};this.existingSourceExecutionToken=d,this.options.source(f,function(p,v){d.abandoned||(r.existingSourceExecutionToken=null,r.renderList(l,p,v))},l)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),t}();uo.register("modules/mention",iC);var va=-1,da=1,dn=0;function ic(t,e,r){if(t==e)return t?[[dn,t]]:[];(r<0||t.length<r)&&(r=null);var n=Om(t,e),i=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=xm(t,e);var a=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var o=RB(t,e);return i&&o.unshift([dn,i]),a&&o.push([dn,a]),aC(o),r!=null&&(o=VB(o,r)),o=BB(o),o}function RB(t,e){var r;if(!t)return[[da,e]];if(!e)return[[va,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,a=n.indexOf(i);if(a!=-1)return r=[[da,n.substring(0,a)],[dn,i],[da,n.substring(a+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=va),r;if(i.length==1)return[[va,t],[da,e]];var o=NB(t,e);if(o){var s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=ic(s,u),p=ic(l,c);return d.concat([[dn,f]],p)}return $B(t,e)}function $B(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),a=i,o=2*i,s=new Array(o),l=new Array(o),u=0;u<o;u++)s[u]=-1,l[u]=-1;s[a+1]=0,l[a+1]=0;for(var c=r-n,f=c%2!=0,d=0,p=0,v=0,h=0,m=0;m<i;m++){for(var y=-m+d;y<=m-p;y+=2){var g=a+y,_;y==-m||y!=m&&s[g-1]<s[g+1]?_=s[g+1]:_=s[g-1]+1;for(var b=_-y;_<r&&b<n&&t.charAt(_)==e.charAt(b);)_++,b++;if(s[g]=_,_>r)p+=2;else if(b>n)d+=2;else if(f){var S=a+c-y;if(S>=0&&S<o&&l[S]!=-1){var O=r-l[S];if(_>=O)return q1(t,e,_,b)}}}for(var x=-m+v;x<=m-h;x+=2){var S=a+x,O;x==-m||x!=m&&l[S-1]<l[S+1]?O=l[S+1]:O=l[S-1]+1;for(var E=O-x;O<r&&E<n&&t.charAt(r-O-1)==e.charAt(n-E-1);)O++,E++;if(l[S]=O,O>r)h+=2;else if(E>n)v+=2;else if(!f){var g=a+c-x;if(g>=0&&g<o&&s[g]!=-1){var _=s[g],b=a+_-g;if(O=r-O,_>=O)return q1(t,e,_,b)}}}}return[[va,t],[da,e]]}function q1(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),o=t.substring(r),s=e.substring(n),l=ic(i,a),u=ic(o,s);return l.concat(u)}function Om(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function xm(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function NB(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,v,h){for(var m=p.substring(h,h+Math.floor(p.length/4)),y=-1,g="",_,b,S,O;(y=v.indexOf(m,y+1))!=-1;){var x=Om(p.substring(h),v.substring(y)),E=xm(p.substring(0,h),v.substring(0,y));g.length<E+x&&(g=v.substring(y-E,y)+v.substring(y,y+x),_=p.substring(0,h-E),b=p.substring(h+x),S=v.substring(0,y-E),O=v.substring(y+x))}return g.length*2>=p.length?[_,b,S,O,g]:null}var a=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var l,u,c,f;t.length>e.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var d=s[4];return[l,u,c,f,d]}function aC(t){t.push([dn,""]);for(var e=0,r=0,n=0,i="",a="",o;e<t.length;)switch(t[e][0]){case da:n++,a+=t[e][1],e++;break;case va:r++,i+=t[e][1],e++;break;case dn:r+n>1?(r!==0&&n!==0&&(o=Om(a,i),o!==0&&(e-r-n>0&&t[e-r-n-1][0]==dn?t[e-r-n-1][1]+=a.substring(0,o):(t.splice(0,0,[dn,a.substring(0,o)]),e++),a=a.substring(o),i=i.substring(o)),o=xm(a,i),o!==0&&(t[e][1]=a.substring(a.length-o)+t[e][1],a=a.substring(0,a.length-o),i=i.substring(0,i.length-o))),r===0?t.splice(e-n,r+n,[da,a]):n===0?t.splice(e-r,r+n,[va,i]):t.splice(e-r-n,r+n,[va,i],[da,a]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==dn?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(e=1;e<t.length-1;)t[e-1][0]==dn&&t[e+1][0]==dn&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&aC(t)}var Ep=ic;Ep.INSERT=da;Ep.DELETE=va;Ep.EQUAL=dn;var DB=Ep;function MB(t,e){if(e===0)return[dn,t];for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i[0]===va||i[0]===dn){var a=r+i[1].length;if(e===a)return[n+1,t];if(e<a){t=t.slice();var o=e-r,s=[i[0],i[1].slice(0,o)],l=[i[0],i[1].slice(o)];return t.splice(n,1,s,l),[n+1,t]}else r=a}}throw new Error("cursor_pos is out of bounds!")}function VB(t,e){var r=MB(t,e),n=r[1],i=r[0],a=n[i],o=n[i+1];if(a==null)return t;if(a[0]!==dn)return t;if(o!=null&&a[1]+o[1]===o[1]+a[1])return n.splice(i,2,o,a),H1(n,i,2);if(o!=null&&o[1].indexOf(a[1])===0){n.splice(i,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(i+2,0,[o[0],s]),H1(n,i,3)}else return t}function BB(t){for(var e=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},n=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},i=2;i<t.length;i+=1)t[i-2][0]===dn&&n(t[i-2][1])&&t[i-1][0]===va&&r(t[i-1][1])&&t[i][0]===da&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;for(var a=[],i=0;i<t.length;i+=1)t[i][1].length>0&&a.push(t[i]);return a}function H1(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var i=t[n],a=t[n+1];i[0]===a[1]&&t.splice(n,2,[i[0],i[1]+a[1]])}return t}var z1=Object.prototype.toString,oC=function(e){var r=z1.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&z1.call(e.callee)==="[object Function]"),n},Dh,U1;function qB(){if(U1)return Dh;U1=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=oC,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch(p){return!1}};t=function(p){var v=p!==null&&typeof p=="object",h=r.call(p)==="[object Function]",m=n(p),y=v&&r.call(p)==="[object String]",g=[];if(!v&&!h&&!m)throw new TypeError("Object.keys called on a non-object");var _=o&&h;if(y&&p.length>0&&!e.call(p,0))for(var b=0;b<p.length;++b)g.push(String(b));if(m&&p.length>0)for(var S=0;S<p.length;++S)g.push(String(S));else for(var O in p)!(_&&O==="prototype")&&e.call(p,O)&&g.push(String(O));if(a)for(var x=f(p),E=0;E<s.length;++E)!(x&&s[E]==="constructor")&&e.call(p,s[E])&&g.push(s[E]);return g}}return Dh=t,Dh}var HB=Array.prototype.slice,zB=oC,W1=Object.keys,nd=W1?function(e){return W1(e)}:qB(),G1=Object.keys;nd.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return zB(n)?G1(HB.call(n)):G1(n)})}else Object.keys=nd;return Object.keys||nd};var sC=nd,lC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},UB=lC,wm=function(){return UB()&&!!Symbol.toStringTag},WB=Error,GB=EvalError,YB=RangeError,KB=ReferenceError,uC=SyntaxError,Kl=TypeError,JB=URIError,Y1=typeof Symbol<"u"&&Symbol,QB=lC,XB=function(){return typeof Y1!="function"||typeof Symbol!="function"||typeof Y1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:QB()},Mh={__proto__:null,foo:{}},ZB=Object,eq=function(){return{__proto__:Mh}.foo===Mh.foo&&!(Mh instanceof ZB)},tq="Function.prototype.bind called on incompatible ",rq=Object.prototype.toString,nq=Math.max,iq="[object Function]",K1=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},aq=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},oq=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},sq=function(e){var r=this;if(typeof r!="function"||rq.apply(r)!==iq)throw new TypeError(tq+r);for(var n=aq(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,K1(n,arguments));return Object(c)===c?c:this}return r.apply(e,K1(n,arguments))},o=nq(0,r.length-n.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+oq(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},lq=sq,Em=Function.prototype.bind||lq,uq=Function.prototype.call,cq=Object.prototype.hasOwnProperty,fq=Em,dq=fq.call(uq,cq),St,pq=WB,hq=GB,vq=YB,gq=KB,El=uC,yl=Kl,mq=JB,cC=Function,Vh=function(t){try{return cC('"use strict"; return ('+t+").constructor;")()}catch(e){}},Zo=Object.getOwnPropertyDescriptor;if(Zo)try{Zo({},"")}catch(t){Zo=null}var Bh=function(){throw new yl},yq=Zo?function(){try{return arguments.callee,Bh}catch(t){try{return Zo(arguments,"callee").get}catch(e){return Bh}}}():Bh,js=XB(),bq=eq(),an=Object.getPrototypeOf||(bq?function(t){return t.__proto__}:null),Gs={},_q=typeof Uint8Array>"u"||!an?St:an(Uint8Array),es={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":js&&an?an([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":Gs,"%AsyncGenerator%":Gs,"%AsyncGeneratorFunction%":Gs,"%AsyncIteratorPrototype%":Gs,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":pq,"%eval%":eval,"%EvalError%":hq,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":cC,"%GeneratorFunction%":Gs,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":js&&an?an(an([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!js||!an?St:an(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":vq,"%ReferenceError%":gq,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!js||!an?St:an(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":js&&an?an(""[Symbol.iterator]()):St,"%Symbol%":js?Symbol:St,"%SyntaxError%":El,"%ThrowTypeError%":yq,"%TypedArray%":_q,"%TypeError%":yl,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":mq,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};if(an)try{null.error}catch(t){var Sq=an(an(t));es["%Error.prototype%"]=Sq}var Oq=function t(e){var r;if(e==="%AsyncFunction%")r=Vh("async function () {}");else if(e==="%GeneratorFunction%")r=Vh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&an&&(r=an(i.prototype))}return es[e]=r,r},J1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ac=Em,wd=dq,xq=Ac.call(Function.call,Array.prototype.concat),wq=Ac.call(Function.apply,Array.prototype.splice),Q1=Ac.call(Function.call,String.prototype.replace),Ed=Ac.call(Function.call,String.prototype.slice),Eq=Ac.call(Function.call,RegExp.prototype.exec),Cq=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Tq=/\\(\\)?/g,kq=function(e){var r=Ed(e,0,1),n=Ed(e,-1);if(r==="%"&&n!=="%")throw new El("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new El("invalid intrinsic syntax, expected opening `%`");var i=[];return Q1(e,Cq,function(a,o,s,l){i[i.length]=s?Q1(l,Tq,"$1"):o||a}),i},Iq=function(e,r){var n=e,i;if(wd(J1,n)&&(i=J1[n],n="%"+i[0]+"%"),wd(es,n)){var a=es[n];if(a===Gs&&(a=Oq(n)),typeof a>"u"&&!r)throw new yl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new El("intrinsic "+e+" does not exist!")},jc=function(e,r){if(typeof e!="string"||e.length===0)throw new yl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new yl('"allowMissing" argument must be a boolean');if(Eq(/^%?[^%]*%?$/,e)===null)throw new El("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=kq(e),i=n.length>0?n[0]:"",a=Iq("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],wq(n,xq([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var d=n[c],p=Ed(d,0,1),v=Ed(d,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new El("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,o="%"+i+"%",wd(es,o))s=es[o];else if(s!=null){if(!(d in s)){if(!r)throw new yl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zo&&c+1>=n.length){var h=Zo(s,d);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?s=h.get:s=s[d]}else f=wd(s,d),s=s[d];f&&!l&&(es[o]=s)}}return s},fC={exports:{}},Aq=jc,id=Aq("%Object.defineProperty%",!0)||!1;if(id)try{id({},"a",{value:1})}catch(t){id=!1}var Cm=id,jq=jc,ad=jq("%Object.getOwnPropertyDescriptor%",!0);if(ad)try{ad([],"length")}catch(t){ad=null}var dC=ad,X1=Cm,Pq=uC,Ps=Kl,Z1=dC,Tm=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ps("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ps("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ps("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ps("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ps("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ps("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!Z1&&Z1(e,r);if(X1)X1(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Pq("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},zv=Cm,pC=function(){return!!zv};pC.hasArrayLengthDefineBug=function(){if(!zv)return null;try{return zv([],"length",{value:1}).length!==1}catch(e){return!0}};var km=pC,Lq=jc,e_=Tm,Fq=km(),t_=dC,r_=Kl,Rq=Lq("%Math.floor%"),$q=function(e,r){if(typeof e!="function")throw new r_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Rq(r)!==r)throw new r_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&t_){var o=t_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(Fq?e_(e,"length",r,!0,!0):e_(e,"length",r)),e};(function(t){var e=Em,r=jc,n=$q,i=Kl,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),l=Cm,u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return s(e,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(fC);var Im=fC.exports,hC=jc,vC=Im,Nq=vC(hC("String.prototype.indexOf")),gC=function(e,r){var n=hC(e,!!r);return typeof n=="function"&&Nq(e,".prototype.")>-1?vC(n):n},Dq=wm(),Mq=gC,Uv=Mq("Object.prototype.toString"),Cp=function(e){return Dq&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Uv(e)==="[object Arguments]"},mC=function(e){return Cp(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Uv(e)!=="[object Array]"&&Uv(e.callee)==="[object Function]"},Vq=function(){return Cp(arguments)}();Cp.isLegacyArguments=mC;var Bq=Vq?Cp:mC,qq=sC,Hq=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",zq=Object.prototype.toString,Uq=Array.prototype.concat,n_=Tm,Wq=function(t){return typeof t=="function"&&zq.call(t)==="[object Function]"},yC=km(),Gq=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Wq(n)||!n())return}yC?n_(t,e,r,!0):n_(t,e,r)},bC=function(t,e){var r=arguments.length>2?arguments[2]:{},n=qq(e);Hq&&(n=Uq.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Gq(t,n[i],e[n[i]],r[n[i]])};bC.supportsDescriptors=!!yC;var Pc=bC,i_=function(t){return t!==t},_C=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||i_(e)&&i_(r))},Yq=_C,SC=function(){return typeof Object.is=="function"?Object.is:Yq},Kq=SC,Jq=Pc,Qq=function(){var e=Kq();return Jq(Object,{is:e},{is:function(){return Object.is!==e}}),e},Xq=Pc,Zq=Im,e6=_C,OC=SC,t6=Qq,xC=Zq(OC(),Object);Xq(xC,{getPolyfill:OC,implementation:e6,shim:t6});var r6=xC,Wv=gC,wC=wm(),EC,CC,Gv,Yv;if(wC){EC=Wv("Object.prototype.hasOwnProperty"),CC=Wv("RegExp.prototype.exec"),Gv={};var qh=function(){throw Gv};Yv={toString:qh,valueOf:qh},typeof Symbol.toPrimitive=="symbol"&&(Yv[Symbol.toPrimitive]=qh)}var n6=Wv("Object.prototype.toString"),i6=Object.getOwnPropertyDescriptor,a6="[object RegExp]",o6=wC?function(e){if(!e||typeof e!="object")return!1;var r=i6(e,"lastIndex"),n=r&&EC(r,"value");if(!n)return!1;try{CC(e,Yv)}catch(i){return i===Gv}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:n6(e)===a6},ac=function(){return typeof(function(){}).name=="string"},Gu=Object.getOwnPropertyDescriptor;if(Gu)try{Gu([],"length")}catch(t){Gu=null}ac.functionsHaveConfigurableNames=function(){if(!ac()||!Gu)return!1;var e=Gu(function(){},"name");return!!e&&!!e.configurable};var s6=Function.prototype.bind;ac.boundFunctionsHaveNames=function(){return ac()&&typeof s6=="function"&&(function(){}).bind().name!==""};var l6=ac,a_=Tm,u6=km(),c6=l6.functionsHaveConfigurableNames(),f6=Kl,d6=function(e,r){if(typeof e!="function")throw new f6("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||c6)&&(u6?a_(e,"name",r,!0,!0):a_(e,"name",r)),e},p6=d6,h6=Kl,v6=Object,TC=p6(function(){if(this==null||this!==v6(this))throw new h6("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),g6=TC,m6=Pc.supportsDescriptors,y6=Object.getOwnPropertyDescriptor,kC=function(){if(m6&&/a/mig.flags==="gim"){var e=y6(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),e.get.call(n),r==="dy")return e.get}}return g6},b6=Pc.supportsDescriptors,_6=kC,S6=Object.getOwnPropertyDescriptor,O6=Object.defineProperty,x6=TypeError,o_=Object.getPrototypeOf,w6=/a/,E6=function(){if(!b6||!o_)throw new x6("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=_6(),r=o_(w6),n=S6(r,"flags");return(!n||n.get!==e)&&O6(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},C6=Pc,T6=Im,k6=TC,IC=kC,I6=E6,AC=T6(IC());C6(AC,{getPolyfill:IC,implementation:k6,shim:I6});var A6=AC,j6=Date.prototype.getDay,P6=function(e){try{return j6.call(e),!0}catch(r){return!1}},L6=Object.prototype.toString,F6="[object Date]",R6=wm(),$6=function(e){return typeof e!="object"||e===null?!1:R6?P6(e):L6.call(e)===F6},s_=sC,l_=Bq,u_=r6,c_=o6,f_=A6,d_=$6,p_=Date.prototype.getTime;function jC(t,e,r){var n=r||{};return(n.strict?u_(t,e):t===e)?!0:!t||!e||typeof t!="object"&&typeof e!="object"?n.strict?u_(t,e):t==e:N6(t,e,n)}function h_(t){return t==null}function v_(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function N6(t,e,r){var n,i;if(typeof t!=typeof e||h_(t)||h_(e)||t.prototype!==e.prototype||l_(t)!==l_(e))return!1;var a=c_(t),o=c_(e);if(a!==o)return!1;if(a||o)return t.source===e.source&&f_(t)===f_(e);if(d_(t)&&d_(e))return p_.call(t)===p_.call(e);var s=v_(t),l=v_(e);if(s!==l)return!1;if(s||l){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(typeof t!=typeof e)return!1;try{var u=s_(t),c=s_(e)}catch(f){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!jC(t[i],e[i],r))return!1;return!0}var PC=jC,od=Object.prototype.hasOwnProperty,LC=Object.prototype.toString,g_=Object.defineProperty,m_=Object.getOwnPropertyDescriptor,y_=function(e){return typeof Array.isArray=="function"?Array.isArray(e):LC.call(e)==="[object Array]"},b_=function(e){if(!e||LC.call(e)!=="[object Object]")return!1;var r=od.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&od.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||od.call(e,i)},__=function(e,r){g_&&r.name==="__proto__"?g_(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},S_=function(e,r){if(r==="__proto__")if(od.call(e,r)){if(m_)return m_(e,r).value}else return;return e[r]},FC=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=S_(s,r),i=S_(e,r),s!==i&&(c&&i&&(b_(i)||(a=y_(i)))?(a?(a=!1,o=n&&y_(n)?n:[]):o=n&&b_(n)?n:{},__(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&__(s,{name:r,newValue:i}));return s},D6=PC,M6=FC,Am={attributes:{compose:function(t,e,r){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var n=M6(!0,{},e);r||(n=Object.keys(n).reduce(function(a,o){return n[o]!=null&&(a[o]=n[o]),a},{}));for(var i in t)t[i]!==void 0&&e[i]===void 0&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return D6(t[i],e[i])||(n[i]=e[i]===void 0?null:e[i]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(typeof t!="object")return e;if(typeof e=="object"){if(!r)return e;var n=Object.keys(e).reduce(function(i,a){return t[a]===void 0&&(i[a]=e[a]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new hs(t)},length:function(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.insert=="string"?t.insert.length:1}};function hs(t){this.ops=t,this.index=0,this.offset=0}hs.prototype.hasNext=function(){return this.peekLength()<1/0};hs.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=Am.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}else return{retain:1/0}};hs.prototype.peek=function(){return this.ops[this.index]};hs.prototype.peekLength=function(){return this.ops[this.index]?Am.length(this.ops[this.index])-this.offset:1/0};hs.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};hs.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}else return[]};var V6=Am,kf=DB,jm=PC,B6=FC,hn=V6,q6="\0",Gt=function(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};Gt.prototype.insert=function(t,e){var r={};return t.length===0?this:(r.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))};Gt.prototype.delete=function(t){return t<=0?this:this.push({delete:t})};Gt.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)};Gt.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=B6(!0,{},t),typeof r=="object"){if(typeof t.delete=="number"&&typeof r.delete=="number")return this.ops[e-1]={delete:r.delete+t.delete},this;if(typeof r.delete=="number"&&t.insert!=null&&(e-=1,r=this.ops[e-1],typeof r!="object"))return this.ops.unshift(t),this;if(jm(t.attributes,r.attributes)){if(typeof t.insert=="string"&&typeof r.insert=="string")return this.ops[e-1]={insert:r.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof r.retain=="number")return this.ops[e-1]={retain:r.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this};Gt.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this};Gt.prototype.filter=function(t){return this.ops.filter(t)};Gt.prototype.forEach=function(t){this.ops.forEach(t)};Gt.prototype.map=function(t){return this.ops.map(t)};Gt.prototype.partition=function(t){var e=[],r=[];return this.forEach(function(n){var i=t(n)?e:r;i.push(n)}),[e,r]};Gt.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};Gt.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+hn.length(e):e.delete?t-e.delete:t},0)};Gt.prototype.length=function(){return this.reduce(function(t,e){return t+hn.length(e)},0)};Gt.prototype.slice=function(t,e){t=t||0,typeof e!="number"&&(e=1/0);for(var r=[],n=hn.iterator(this.ops),i=0;i<e&&n.hasNext();){var a;i<t?a=n.next(t-i):(a=n.next(e-i),r.push(a)),i+=hn.length(a)}return new Gt(r)};Gt.prototype.compose=function(t){var e=hn.iterator(this.ops),r=hn.iterator(t.ops),n=[],i=r.peek();if(i!=null&&typeof i.retain=="number"&&i.attributes==null){for(var a=i.retain;e.peekType()==="insert"&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());i.retain-a>0&&r.next(i.retain-a)}for(var o=new Gt(n);e.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(e.peekType()==="delete")o.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),u=r.next(s);if(typeof u.retain=="number"){var c={};typeof l.retain=="number"?c.retain=s:c.insert=l.insert;var f=hn.attributes.compose(l.attributes,u.attributes,typeof l.retain=="number");if(f&&(c.attributes=f),o.push(c),!r.hasNext()&&jm(o.ops[o.ops.length-1],c)){var d=new Gt(e.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&typeof l.retain=="number"&&o.push(u)}return o.chop()};Gt.prototype.concat=function(t){var e=new Gt(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e};Gt.prototype.diff=function(t,e){if(this.ops===t.ops)return new Gt;var r=[this,t].map(function(s){return s.map(function(l){if(l.insert!=null)return typeof l.insert=="string"?l.insert:q6;var u=s===t?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),n=new Gt,i=kf(r[0],r[1],e),a=hn.iterator(this.ops),o=hn.iterator(t.ops);return i.forEach(function(s){for(var l=s[1].length;l>0;){var u=0;switch(s[0]){case kf.INSERT:u=Math.min(o.peekLength(),l),n.push(o.next(u));break;case kf.DELETE:u=Math.min(l,a.peekLength()),a.next(u),n.delete(u);break;case kf.EQUAL:u=Math.min(a.peekLength(),o.peekLength(),l);var c=a.next(u),f=o.next(u);jm(c.insert,f.insert)?n.retain(u,hn.attributes.diff(c.attributes,f.attributes)):n.push(f).delete(u);break}l-=u}}),n.chop()};Gt.prototype.eachLine=function(t,e){e=e||"\n";for(var r=hn.iterator(this.ops),n=new Gt,i=0;r.hasNext();){if(r.peekType()!=="insert")return;var a=r.peek(),o=hn.length(a)-r.peekLength(),s=typeof a.insert=="string"?a.insert.indexOf(e,o)-o:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(t(n,r.next(1).attributes||{},i)===!1)return;i+=1,n=new Gt}}n.length()>0&&t(n,{},i)};Gt.prototype.transform=function(t,e){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);for(var r=hn.iterator(this.ops),n=hn.iterator(t.ops),i=new Gt;r.hasNext()||n.hasNext();)if(r.peekType()==="insert"&&(e||n.peekType()!=="insert"))i.retain(hn.length(r.next()));else if(n.peekType()==="insert")i.push(n.next());else{var a=Math.min(r.peekLength(),n.peekLength()),o=r.next(a),s=n.next(a);if(o.delete)continue;s.delete?i.push(s):i.retain(a,hn.attributes.transform(o.attributes,s.attributes,e))}return i.chop()};Gt.prototype.transformPosition=function(t,e){e=!!e;for(var r=hn.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var i=r.peekLength(),a=r.peekType();if(r.next(),a==="delete"){t-=Math.min(i,t-n);continue}else a==="insert"&&(n<t||!e)&&(t+=i);n+=i}return t};var H6=Gt;const z6=tn(H6),U6=xp.Quill.import("modules/clipboard");class W6 extends U6{onPaste(e){e.preventDefault();const r=this.quill.getSelection(),n=e.clipboardData.getData("text/plain");n.split("\r\n").filter(function(s){return s});const i=new z6().retain(r.index).delete(r.length).insert(n),a=n.length+r.index,o=0;this.quill.updateContents(i,"silent"),this.quill.setSelection(a,o,"silent")}}const RC=(t,e)=>{let r=[];if(!t)return r;let n=t.find(i=>i.code===e);return n&&(n.parent&&$C(t,n).forEach(a=>{r=r.concat(O_(t,a))}),(Gi(n.code)||cs(n.code))&&(r=r.concat(O_(t,n)))),r},$C=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat($C(t,n))),r},O_=(t,e)=>{let r=[];return!Gi(e.code)&&!cs(e.code)||t.filter(i=>i.parent===e.parent&&i.maxIndex<e.minIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(i.code)===-1)).forEach(i=>{r=r.concat(i.code),r=r.concat(NC(t,i))}),r},NC=(t,e)=>{let r=[];return Gi(e.code)&&e.children&&e.children.forEach(n=>{let i=t.find(a=>a.code===n);r=r.concat(i.code),r=r.concat(NC(t,i))}),r},G6=(t,e,r,n)=>{let i=RC(t,e),a=[];return i.forEach(o=>{if(cs(o)){const s=Y6(o,r[o],r,n);s.length&&(a=a.concat(s))}}),a},Y6=(t,e,r,n)=>{var s,l;const i=t+". "+Pi((l=(s=e.content)==null?void 0:s.label)==null?void 0:l[n]);let a="",o=e.type;switch(e.type){case"scq_icon_array":case"scq_array":return e.children.filter(u=>u.type=="row").map(u=>{var c,f;return{value:i+" - "+t+". "+Pi((f=(c=r[u.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n]),id:t+u.code,type:"SCQ Array Row",instruction:t+u.code+".masked_value"}});case"text":o="Short Text",a="".concat(t,".value");break;case"nps":o="NPS",a="".concat(t,".value");break;case"email":o="Email",a="".concat(t,".value");break;case"paragraph":a="".concat(t,".value"),o="Long Text";break;case"number":o="Number",a="".concat(t,".value");break;case"date":o="Date",a="".concat(t,".masked_value");break;case"time":o="time",a="".concat(t,".masked_value");break;case"date_time":o="Date Time",a="".concat(t,".masked_value");break;case"scq":o="SCQ",a="".concat(t,".masked_value");break;case"icon_scq":o="Icon SCQ",a="".concat(t,".masked_value");break;case"image_scq":o="Image SCQ",a="".concat(t,".masked_value");break;case"mcq":o="MCQ",a="".concat(t,".masked_value");break;case"image_mcq":o="Image MCQ",a="".concat(t,".masked_value");break;case"icon_mcq":o="Icon MCQ",a="".concat(t,".masked_value");break;default:return[]}return[{id:t,instruction:a,value:i,type:o}]};xp.Quill.register("modules/mentions",iC);xp.Quill.register("modules/clipboard",W6,!0);function K6({value:t,onBlurListener:e,extended:r,isRtl:n,lang:i,code:a}){console.debug("DraftEditor for: "+a);const o=(b,S)=>S?"<p>"+b.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":b,s=j.createRef(),[l,u]=J.useState(o(t,!r)),[c,f]=J.useState(0);async function d(b){const S=TR.getState().designState,O=G6(S.componentIndex,a,S,S.langInfo.mainLang);if(b.length===0)return O;{const E=[];for(var x=0;x<O.length;x++)O[x].value.toLowerCase().indexOf(b.toLowerCase())>=0&&E.push(O[x]);return E}}J.useEffect(()=>{const b=s.current.getEditor();b.setSelection(b.getLength(),0)},[s.current]);const p=J.useMemo(()=>({mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(b,S){S({...b,value:"{{".concat(b.id,":").concat(b.type,"}}")})},source:async function(b,S){const O=await d(b);S(O)}},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}}),[]),v=["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"];let h=null;const m=()=>{f(Date.now()),h&&clearTimeout(h)},y=()=>{h=setTimeout(()=>{e(l,i)},500)},g=b=>{m(),u(o(b,!r))},_=b=>{b.target.tagName==="A"&&b.target.className=="ql-preview"&&(b.preventDefault(),window.open(b.target.href,"_blank"))};return T.jsx("div",{onClick:_,className:"quill-wrapper",onFocus:m,onBlur:y,children:T.jsx(SB,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:s,modules:p,formats:v,value:l,onChange:g})})}const J6=j.memo(K6);function Q6({placeholder:t,extended:e,contentKey:r,code:n,editable:i}){const a=wt(),o=ye(g=>{var _;return(_=g.designState[n].content)==null?void 0:_[r]}),s=ye(g=>g.designState.langInfo);ye(g=>{var _;return n[0]=="G"?((_=g.designState[n].groupType)==null?void 0:_.toLowerCase())||"group":g.designState[n].type});const l=s.lang,u=s.mainLang,c=s.onMainLang,f=(o==null?void 0:o[l])||"",d=c?t:Wb(o==null?void 0:o[u])?o==null?void 0:o[u]:t,[p,v]=J.useState(!1),h=J.useCallback((g,_)=>{v(!1),l==_&&g!=f&&a(Io({code:n,key:r,lang:l,value:g}))},[f]),m=g=>{g.preventDefault(),v(!0)},y=So.includes(l);return T.jsx(ht,{className:Fh.fullWidth,onClick:g=>{i&&m(g)},children:p?T.jsx(J6,{lang:l,isRtl:y,code:n,extended:e,onBlurListener:h,value:f}):Wb(f)?T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Fh.noPadding),dangerouslySetInnerHTML:{__html:f}}):T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Fh.placeholder),dangerouslySetInnerHTML:{__html:d}})})}const Cd=j.memo(Q6),X6="_actionControl_1xa5v_1",Z6="_statusIcon_1xa5v_8",e8="_questionContainer_1xa5v_12",t8="_actionIcon_1xa5v_16",r8="_settingIcon_1xa5v_17",n8="_deleteIcon_1xa5v_25",Ls={actionControl:X6,statusIcon:Z6,questionContainer:e8,actionIcon:t8,settingIcon:r8,deleteIcon:n8};var Pm={},i8=$r;Object.defineProperty(Pm,"__esModule",{value:!0});var DC=Pm.default=void 0,a8=i8(Nr()),o8=T;DC=Pm.default=(0,a8.default)((0,o8.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var Lm={},s8=$r;Object.defineProperty(Lm,"__esModule",{value:!0});var Fm=Lm.default=void 0,l8=s8(Nr()),u8=T;Fm=Lm.default=(0,l8.default)((0,u8.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Rm={},c8=$r;Object.defineProperty(Rm,"__esModule",{value:!0});var Td=Rm.default=void 0,f8=c8(Nr()),d8=T;Td=Rm.default=(0,f8.default)((0,d8.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var $m={},p8=$r;Object.defineProperty($m,"__esModule",{value:!0});var MC=$m.default=void 0,h8=p8(Nr()),v8=T;MC=$m.default=(0,h8.default)((0,v8.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");function g8({code:t,isGroup:e,parentCode:r,disableDelete:n,onDelete:i,onClone:a,t:o}){const s=wt(),l=Ya(),u=ye(E=>{var k;return e?((k=E.designState[t].groupType)==null?void 0:k.toLowerCase())||"group":E.designState[t].type}),[c,f]=J.useState(!1),d=()=>f(!1),p=ye(E=>{var w,I;let k=(I=(w=E.designState[t])==null?void 0:w.instructionList)==null?void 0:I.find(C=>C.code=="conditional_relevance");return typeof k<"u"&&!k.errors}),v=ye(E=>{var k,w,I;return!e&&((I=(w=(k=E.designState[t])==null?void 0:k.instructionList)==null?void 0:w.filter(C=>C.code.startsWith("validation_")&&!C.errors))==null?void 0:I.length)>0}),h=()=>{s(Fi({code:t,rules:Ma(u)}))},m=()=>{s(Fi({code:t,rules:Ma(u),highlighted:"relevance",expanded:["relevance"]}))},y=()=>{s(Fi({code:t,rules:Ma(u),highlighted:"validation",expanded:["validation"]}))},g=()=>{s(Fi({code:t,rules:Ma(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},_=()=>{s(e?Fi({...surveySetup,highlighted:"random"}):Fi({code:r,rules:Ma("group"),highlighted:"random",expanded:["random"]}))},b=l.textStyles.question.color,S=ye(E=>{var w,I,C;let k=(I=(w=E.designState[t])==null?void 0:w.instructionList)==null?void 0:I.filter(A=>A.code.startsWith("skip_to"));return((C=k==null?void 0:k.filter(A=>!A.errors))==null?void 0:C.length)>=1}),O=ye(E=>{var w;let k=(w=E.designState.componentIndex)==null?void 0:w.find(I=>I.code==t);return k&&k.minIndex!=k.maxIndex}),x=ye(E=>{var w,I;let k=(w=E.designState.componentIndex)==null?void 0:w.find(C=>C.code==t);return((I=k==null?void 0:k.prioritisedSiblings)==null?void 0:I.length)>0});return T.jsxs("div",{className:Ls.actionControl,onClick:E=>{E.target!==E.currentTarget&&(E.preventDefault(),E.stopPropagation())},children:[p&&T.jsx(Ou,{title:"Has show/Hide Condition",showIcon:!1,children:T.jsx(bt,{className:Ls.statusIcon,onClick:()=>m(),children:T.jsx(o$,{style:{color:b}})})}),v&&T.jsx(Ou,{title:"Has Validation",showIcon:!1,children:T.jsx(bt,{className:Ls.statusIcon,onClick:()=>y(),children:T.jsx(DC,{style:{color:b}})})}),O&&T.jsx(Ou,{title:"Is part of a valid Random Group (within parent)",showIcon:!1,children:T.jsx(bt,{className:Ls.statusIcon,onClick:()=>_(),children:T.jsx(Fm,{style:{color:b}})})}),x&&T.jsx(Ou,{title:"Is part of a valid Priority Group (within parent)",showIcon:!1,children:T.jsx(bt,{className:Ls.statusIcon,onClick:()=>_(),children:T.jsx(Td,{style:{color:b}})})}),S&&T.jsx(Ou,{title:"Has active Skip Logic",showIcon:!1,children:T.jsx(bt,{className:Ls.statusIcon,onClick:()=>g(),children:T.jsx(MC,{style:{color:b}})})}),T.jsx(bt,{onClick:()=>h(),children:T.jsx(rd,{name:"settings",size:".75em",color:"".concat(b)})}),!e&&T.jsx(bt,{onClick:()=>a(),children:T.jsx(rd,{name:"duplicate",size:".75em",color:"".concat(b)})}),!n&&T.jsx(bt,{onClick:()=>f(!0),disabled:n,children:T.jsx(rd,{name:"delete",size:".75em",color:b})}),T.jsx(s$,{open:c,description:o("delete_question"),handleClose:d,handleDelete:i})]})}const VC=j.memo(g8),m8="_questionItem_wb37f_1",y8={questionItem:m8};function b8({code:t}){var i,a,o,s;const e=jr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:y8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size,"&.Mui-disabled":{color:e.textStyles.text.color,borderBottom:"1px solid"}}}})})}const _8=j.memo(b8),S8="_questionItem_1sx0f_1",O8={questionItem:S8};function x8({code:t}){var i,a,o,s;const e=jr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:O8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:""})})}const w8=j.memo(x8),E8="_questionItem_169qj_1",C8={questionItem:E8};function T8({code:t}){var i,a,o,s;const e=jr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:C8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const k8=j.memo(T8),I8="_questionItem_13fbu_1",A8="_paragraph_13fbu_15",j8="_wordCount_13fbu_19",Hh={questionItem:I8,paragraph:A8,wordCount:j8};function P8({code:t,t:e}){var i,a,o,s;const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs("div",{className:Hh.questionItem,children:[T.jsx(kR,{disabled:!0,className:Hh.paragraph,required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),placeholder:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),minRows:r.minRows||2,value:""}),r.showWordCount?T.jsx("div",{className:Hh.wordCount,children:T.jsx("span",{children:e("word_count",{lng:n,count:0})})}):""]})}const L8=j.memo(P8),F8="_questionItem_1sx0f_1",R8={questionItem:F8};function $8({code:t}){var i,a;const e=jr(),r=ye(o=>o.designState[t]),n=ye(o=>o.designState.langInfo.lang);return T.jsx("div",{className:R8.questionItem,children:T.jsx(Zt,{variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&r.content.hint?r.content.hint[n]:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:"",type:"file",disabled:!0})})}const N8=j.memo($8),D8="_questionItem_1sx0f_1",M8={questionItem:D8};function V8({code:t}){var i,a,o;const e=jr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:M8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",InputProps:{sx:{fontFamily:e.textStyles.text,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},placeholder:r.dateFormat})})}const x_=j.memo(V8),B8="_questionItem_wb37f_1",q8={questionItem:B8};function H8({code:t}){var i,a,o;const e=jr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:q8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",type:"time",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const z8=j.memo(H8),U8="_noPadding_1ii70_1",W8="_addRow_1ii70_5",G8="_addColumn_1ii70_9",Y8="_addIcon_1ii70_13",K8="_svgContainer_1ii70_23",J8="_addButton_1ii70_31",kd={noPadding:U8,addRow:W8,addColumn:G8,addIcon:Y8,svgContainer:K8,addButton:J8};var Nm={},Q8=$r;Object.defineProperty(Nm,"__esModule",{value:!0});var jo=Nm.default=void 0,X8=Q8(Nr()),Z8=T;jo=Nm.default=(0,X8.default)((0,Z8.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");function eH(t){const e=jr(),r=t.t,n=ye(s=>s.designState.langInfo);n.lang,n.mainLang;const i=ye(s=>s.designState[t.code].children);ye(s=>{var l;return((l=s.designState.setup)==null?void 0:l.code)==t.code});const a=j.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="row"))||[],[i]),o=j.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="column"))||[],[i]);return T.jsxs(T.Fragment,{children:[yi(t.designMode)&&T.jsx("div",{className:kd.addColumn,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(EE,{children:T.jsxs(CE,{children:[T.jsx(kE,{children:T.jsxs(fp,{children:[yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),o.map((s,l)=>T.jsx(nH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,designMode:t.designMode,t:t.t,item:s,index:l},s.qualifiedCode)),yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(TE,{children:a.map((s,l)=>T.jsx(rH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,designMode:t.designMode,item:s,colCount:o.length,index:l},s.qualifiedCode))})]})}),t.onMainLang&&T.jsx("div",{className:kd.addRow,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const tH=j.memo(eH);function rH({item:t,index:e,colCount:r,designMode:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=wt(),l=jr(),u=J.useRef(),c=a.lang===a.mainLang,f=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.lang]}),d=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.mainLang]}),p="col-".concat(o),[v,h,m]=Ka({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:_=>_.isDragging()},[e]),[{handlerId:y},g]=Ki({accept:p,collect(_){return{handlerId:_.getHandlerId()}},hover(_,b){var I;if(!u.current||!b.isOver({shallow:!0})||!_)return;const S=_.index,O=e;if(S===O)return;const x=(I=u.current)==null?void 0:I.getBoundingClientRect(),E=(x.bottom-x.top)/2,w=b.getClientOffset().y-x.top;S<O&&w<E||S>O&&w>E||(s(Si({type:"reorder_answers_by_type",id:_.qualifiedCode,fromIndex:_.index,toIndex:O})),_.index=O)}});return g(m(u)),T.jsxs(fp,{style:{opacity:v?"0.2":"1"},ref:u,"data-handler-id":y,children:[yi(n)&&T.jsx(gn,{ref:h,sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(jo,{})},"move"),T.jsx(gn,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:T.jsx(Zt,{variant:"standard",value:f||"",onChange:_=>{s(Io({code:t.qualifiedCode,key:"label",lang:a.lang,value:_.target.value}))},placeholder:c?i("content_editor_placeholder_option"):d||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),[...Array(r)].map((_,b)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(u$,{sx:{"&.Mui-disabled":{color:l.textStyles.text.color}},disabled:!0})},b)),yi(n)&&T.jsx(gn,{onClick:_=>s(fs(t.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(Xn,{})},"remove")]},t.code)}function nH({item:t,index:e,designMode:r,t:n,langInfo:i,parentQualifiedCode:a}){const o=wt(),s=jr(),l=J.useRef(),u=i.lang===i.mainLang,c=So.includes(i.lang),f=!c,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[i.lang]}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[i.mainLang]}),v="row-".concat(a),[h,m,y]=Ka({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:g},_]=Ki({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var C;if(!l.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const E=(C=l.current)==null?void 0:C.getBoundingClientRect(),k=(E.right-E.left)/2,I=S.getClientOffset().x-E.left;f&&O<x&&I<k||f&&O>x&&I>k||c&&O<x&&I>k||c&&O>x&&I<k||(o(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(l)),T.jsxs(gn,{ref:l,"data-handler-id":g,align:"center",sx:{opacity:h?"0.2":"1",fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:[yi(r)&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:m,sx:{padding:"0"},children:T.jsx(jo,{})},"move"),T.jsx("div",{sx:{padding:"0"},onClick:b=>o(fs(t.qualifiedCode)),children:T.jsx(Xn,{})})]}),T.jsx(Zt,{variant:"standard",value:d||"",onChange:b=>{o(Io({code:t.qualifiedCode,key:"label",lang:i.lang,value:b.target.value}))},placeholder:u?n("content_editor_placeholder_option"):p||n("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})]},t.qualifiedCode)}var Dm={},iH=$r;Object.defineProperty(Dm,"__esModule",{value:!0});var BC=Dm.default=void 0,aH=iH(Nr()),oH=T;BC=Dm.default=(0,aH.default)((0,oH.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const sH="_placeholder_4iqf5_1",lH="_buttonContainer_4iqf5_9",w_={placeholder:sH,buttonContainer:lH};function uH({code:t,t:e,onMainLang:r}){var u,c;const n=Vl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Va({code:t,key:"videoUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.videoUrl)&&T.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:s.audio_only?"10%":"56%"},children:T.jsx(c$,{url:Ao(s.resources.videoUrl),loop:s.loop||!1,light:!0,controls:!0,config:{forceAudio:s.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),a?T.jsxs("div",{className:w_.buttonContainer,children:[T.jsx(Xg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_video")})]}):r?T.jsx("div",{className:w_.buttonContainer,children:T.jsxs(Ut,{component:"label",variant:"outlined",startIcon:T.jsx(BC,{}),children:[(c=s.resources)!=null&&c.videoUrl?e("replace_video"):e("upload_video"),T.jsx("input",{hidden:!0,id:t,accept:"video/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const cH="_signatureCanvas_1uxb1_1",fH={signatureCanvas:cH};function dH(){return T.jsx(ht,{className:fH.signatureCanvas,sx:{backgroundColor:"background.default"},children:T.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}const pH=j.memo(dH);var Mm={},hH=$r;Object.defineProperty(Mm,"__esModule",{value:!0});var Tp=Mm.default=void 0,vH=hH(Nr()),gH=T;Tp=Mm.default=(0,vH.default)((0,gH.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const mH="_placeholder_xjf3c_1",yH="_buttonContainer_xjf3c_9",bH="_imageContainer_xjf3c_14",E_={placeholder:mH,buttonContainer:yH,imageContainer:bH};function _H({code:t,t:e,onMainLang:r}){var u,c;const n=Vl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Va({code:t,key:"imageUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.imageUrl)&&T.jsx("img",{style:{width:"100%"},src:Ao(s.resources.imageUrl)}),a?T.jsxs("div",{className:E_.buttonContainer,children:[T.jsx(Xg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_image")})]}):r?T.jsx("div",{className:E_.buttonContainer,children:T.jsxs(Ut,{variant:"outlined",component:"label",children:[T.jsx(Tp,{className:"mr-10"}),(c=s.resources)!=null&&c.imageUrl?e("replace_image"):e("upload_image"),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const SH=j.memo(_H),OH="_choicesContainer_k0bnu_1",xH="_choice_k0bnu_1",wH="_choiceLabels_k0bnu_19",zh={choicesContainer:OH,choice:xH,choiceLabels:wH};function EH({code:t}){var i,a,o,s;jr();let e=[0,1,2,3,4,5,6,7,8,9,10];const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs(T.Fragment,{children:[T.jsxs(ht,{className:zh.choiceLabels,children:[T.jsx(ht,{children:(a=(i=r.content)==null?void 0:i.lower_bound_hint)==null?void 0:a[n]}),T.jsx(ht,{children:(s=(o=r.content)==null?void 0:o.higher_bound_hint)==null?void 0:s[n]})]}),T.jsx(ht,{className:zh.choicesContainer,children:e.map(l=>T.jsx(ht,{className:zh.choice,children:l},l))})]})}const CH=j.memo(EH),TH="_container_cyg3h_1",kH={container:TH};function IH({code:t}){var n,i;Ya();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:kH.container,children:[T.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const AH=j.memo(IH),jH="_container_cyg3h_1",PH={container:jH};function LH({code:t}){var n,i;Ya();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:PH.container,children:[T.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const FH=j.memo(LH),RH="_container_cyg3h_1",$H={container:RH};function NH({code:t}){var n,i;Ya();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:$H.container,children:[T.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const DH=j.memo(NH),MH="_answerAdd_5tmqk_1",VH="_questionItem_5tmqk_9",BH="_choicesContainer_5tmqk_15",If={answerAdd:MH,questionItem:VH,choicesContainer:BH},qH="_answerItem_shykq_1",HH="_answerIcon_shykq_10",zH="_answerIconOther_shykq_18",UH="_answerNumberOrder_shykq_27",WH="_answerControl_shykq_32",GH="_answerControlRtl_shykq_37",YH="_answerControlOther_shykq_42",KH="_answerControlOtherRtl_shykq_47",JH="_answerOtherControl_shykq_52",no={answerItem:qH,answerIcon:HH,answerIconOther:zH,answerNumberOrder:UH,answerControl:WH,answerControlRtl:GH,answerControlOther:YH,answerControlOtherRtl:KH,answerOtherControl:JH};var Vm={},QH=$r;Object.defineProperty(Vm,"__esModule",{value:!0});var qC=Vm.default=void 0,XH=QH(Nr()),ZH=T;qC=Vm.default=(0,XH.default)((0,ZH.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");function ez(t){const e=wt(),r=jr(),n=J.useRef(null),i=ye(g=>g.designState.langInfo),a=ye(g=>g.designState[t.qualifiedCode]),o=i.lang===i.mainLang,s=i.lang,l=So.includes(s),u=ye(g=>{var _;return a.type==="other"&&((_=g.designState.setup)==null?void 0:_.code)==t.qualifiedCode+"Atext"}),c=ye(g=>{var _,b;return(b=(_=g.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[s]}),f=ye(g=>{var _,b;return(b=(_=g.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[i.mainLang]}),d=g=>{const _={transition:"all 500ms"};return g&&(_.opacity=.5),_},[p,v,h]=Ka({type:t.droppableId,item:{index:t.index,draggableId:t.qualifiedCode,type:t.droppableId,code:t.code,itemType:t.type,droppableId:t.droppableId},collect:g=>g.isDragging()},[t]),[{handlerId:m},y]=Ki({accept:t.droppableId,collect(g){return{handlerId:g.getHandlerId()}},hover(g,_){var w;if(!n.current||!_.isOver({shallow:!0})||!g)return;const b=g.index,S=t.index;if(b===S)return;const O=(w=n.current)==null?void 0:w.getBoundingClientRect(),x=(O.bottom-O.top)/2,k=_.getClientOffset().y-O.top;b<S&&k<x||b>S&&k>x||(e(Si({type:"reorder_answers",id:g.draggableId,fromIndex:g.index,toIndex:t.index})),g.index=S)}});return y(h(n)),up(r.palette.background.paper),T.jsx("div",{ref:n,style:d(p),"data-handler-id":m,children:T.jsxs(ht,{sx:{backgroundColor:u?"beige":"inherit"},className:no.answerItem,children:[yi(t.designMode)&&T.jsx("div",{ref:v,className:no.answerIcon,children:T.jsx(jo,{ref:v,sx:{fontSize:18}})}),t.label?T.jsx("b",{children:t.label}):"",T.jsx(Zt,{variant:"standard",disabled:!tm(t.designMode),className:a.type==="other"&&l?no.answerControlOtherRtl:a.type==="other"?no.answerControlOther:l?no.answerControlRtl:no.answerControl,value:c||"",onChange:g=>e(Io({code:t.qualifiedCode,key:"label",lang:s,value:g.target.value})),placeholder:o?t.t("content_editor_placeholder_option"):f||t.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),a.type==="other"&&T.jsx(qC,{sx:{fontSize:18},className:no.answerIconOther,onClick:()=>{e(Fi({code:t.qualifiedCode+"Atext",rules:Ma("other_text")}))}},"setup"),yi(t.designMode)&&T.jsx(Xn,{sx:{fontSize:18},className:no.answerIcon,onClick:g=>e(fs(t.qualifiedCode))},"close")]})})}function tz(t){const e=jr(),r=t.t,n=ye(o=>o.designState[t.code].children),i=ye(o=>o.designState[t.code].type),a=(i=="mcq"||i=="scq")&&(!n||!n.some(o=>o.code==="Aother"));return T.jsxs("div",{className:If.questionItem,children:[T.jsx("div",{className:If.choicesContainer,children:n&&n.length>0&&n.map((o,s)=>T.jsx(ez,{designMode:t.designMode,code:o.code,t:t.t,label:o.code,qualifiedCode:o.qualifiedCode,index:s,type:t.type,droppableId:"option-".concat(t.code)},o.code))}),yi(t.designMode)&&T.jsxs("div",{className:If.answerAdd,children:[T.jsx(Ut,{size:"small",style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},onClick:()=>t.addNewAnswer(t.code,i),children:r("add_option")}),a&&T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{color:e.textStyles.question.color},children:r("or")}),T.jsx(Ut,{style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",className:If.answerIcon,onClick:()=>t.addNewAnswer(t.code,i,"other"),children:r("add_other")})]})]})]})}const Uh=j.memo(tz),rz="_addAnswerIcon_4rcog_1",nz="_questionItem_4rcog_5",iz="_addAnswerButton_4rcog_10",az={addAnswerIcon:rz,questionItem:nz,addAnswerButton:iz},oz="_imageIconButton_chgwf_1",sz="_imageContainer_chgwf_8",lz="_addAnswerIcon_chgwf_16",uz="_loadingContainer_chgwf_20",cz="_addAnswerButton_chgwf_26",fz="_buttonContainers_chgwf_34",io={imageIconButton:oz,imageContainer:sz,addAnswerIcon:lz,loadingContainer:uz,addAnswerButton:cz,buttonContainers:fz};var Bm={},dz=$r;Object.defineProperty(Bm,"__esModule",{value:!0});var qm=Bm.default=void 0,pz=dz(Nr()),hz=T;qm=Bm.default=(0,pz.default)((0,hz.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var Hm={},vz=$r;Object.defineProperty(Hm,"__esModule",{value:!0});var Yo=Hm.default=void 0,gz=vz(Nr()),mz=T;Yo=Hm.default=(0,gz.default)((0,mz.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function yz({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageAspectRatio:a,designMode:o,hideText:s,t:l,addAnswer:u}){var $;const c=Vl("design"),f=wt(),d=jr(),p=J.useRef(),[v,h]=J.useState(!1),m=ye(F=>F.designState.langInfo),y=ye(F=>n=="add"?void 0:F.designState[r]),g=m.lang===m.mainLang,_=m.lang,b=So.includes(_),S=ye(F=>{var N,B;return n=="add"||(B=(N=F.designState[r].content)==null?void 0:N.label)==null?void 0:B[_]}),O=ye(F=>{var N,B;return n=="add"||(B=(N=F.designState[r].content)==null?void 0:N.label)==null?void 0:B[m.mainLang]}),x=()=>{window.confirm("Are you sure?")&&f(fs(r))},E=($=y==null?void 0:y.resources)!=null&&$.image?"url('".concat(Ao(y.resources.image),"')"):"url('/placeholder-image.jpg')";function k(F){F.preventDefault();let N=F.target.files[0];h(!0),c.uploadResource(N).then(B=>{h(!1),f(Va({code:r,key:"image",value:B.name}))}).catch(B=>{h(!1),console.error(B)})}const w=t+"image-drag",I=F=>Math.round(F/i),A=(F=>F%i)(e),P=I(e),[L,V,R]=Ka({type:w,item:{index:e,colIndex:A,rowIndex:P,draggableId:r,parentCode:t,type:w,itemType:w},collect:F=>F.isDragging()},[e]),[{handlerId:U},M]=Ki({accept:w,collect(F){return{handlerId:F.getHandlerId()}},hover(F,N){var fe;if(!p.current||!N.isOver({shallow:!0})||!F)return;const B=F.index,z=e,H=F.rowIndex,D=P,G=F.colIndex,q=A;if(B===z)return;const Y=(fe=p.current)==null?void 0:fe.getBoundingClientRect(),K=(Y.bottom-Y.top)/2,ie=(Y.right-Y.left)/2,te=N.getClientOffset(),oe=te.y-Y.top,ue=te.x-Y.left;H<D&&oe<K&&G<q&&ue<ie||H>D&&oe>K&&G>q&&ue>ie||(f(Si({type:"reorder_answers",id:F.draggableId,fromIndex:B,toIndex:z})),F.index=z,F.rowIndex=D,F.colIndex=q)}});return M(R(p)),n=="add"?T.jsx(co,{height:"100%",item:!0,xs:12/i,children:T.jsx(ht,{className:io.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:d.palette.background.default,borderRadius:"4px"},children:T.jsx(bt,{sx:{color:d.textStyles.text.color},className:io.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Yo,{})})})},"add"):T.jsx(T.Fragment,{children:T.jsxs(co,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:[T.jsxs("div",{className:io.imageContainer,style:{paddingTop:100/a+"%",backgroundImage:E},ref:p,"data-handler-id":U,children:[yi(o)&&T.jsxs("div",{className:io.buttonContainers,children:[T.jsx(bt,{sx:{color:d.textStyles.text.color},className:io.imageIconButton,onClick:()=>{x()},children:T.jsx(qm,{})}),T.jsxs(bt,{sx:{color:d.textStyles.text.color},component:"label",className:io.imageIconButton,children:[T.jsx(Tp,{}),T.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:k})]}),T.jsx(bt,{sx:{color:d.textStyles.text.color},ref:V,className:io.imageIconButton,children:T.jsx(jo,{})})]}),v&&T.jsx("div",{className:io.loadingContainer,children:T.jsx(Xg,{})})]}),!s&&T.jsx(Zt,{dir:b?"rtl":"ltr",variant:"standard",value:S||"",disabled:!tm(o),onChange:F=>f(Io({code:r,key:"label",lang:_,value:F.target.value})),placeholder:g?l("content_editor_placeholder_option"):O||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size}}})]},r)})}const bz="_imageIconButton_lgrld_1",_z="_imageContainer_lgrld_8",Sz="_addAnswerIcon_lgrld_12",Oz="_loadingContainer_lgrld_16",xz="_addAnswerButton_lgrld_23",wz="_svgContainer_lgrld_31",Ez="_buttonContainers_lgrld_36",Fs={imageIconButton:bz,imageContainer:_z,addAnswerIcon:Sz,loadingContainer:Oz,addAnswerButton:xz,svgContainer:wz,buttonContainers:Ez};class Cz{search(e,r){return new Promise((n,i)=>{gd.get("https://api.iconify.design/search?query=".concat(e,"&limit=250"),{cancelToken:r.token}).then(a=>{n(a.data.icons)}).catch(a=>{gd.isCancel(a)?console.debug("Request canceled:",a.message):i(a)})})}}const Tz=new Cz,kz="_resultImage_2y7qe_1",Iz={resultImage:kz};function HC({currentIcon:t,onIconSelected:e}){const{t:r}=us("design"),[n,i]=J.useState(""),[a,o]=J.useState(null),[s,l]=J.useState([]),u=["mdi:alphabet-a","mdi:alphabet-b","mdi:alphabet-c","mdi:numeric-1-circle","mdi:numeric-2-circle","mdi:numeric-3-circle","mdi:thumb-up","mdi:thumb-down","mdi:star","mdi:heart","mdi:check-circle","mdi:alert-circle","mdi:smiley","mdi:smiley-outline","jam:smiley","guidance:smiley","ph:smiley","ph:smiley-bold","ph:smiley-duotone","ph:smiley-fill","ph:smiley-light","ph:smiley-thin","octicon:smiley-16","octicon:smiley-24","f7:smiley","f7:smiley-fill","pajamas:smiley","codicon:smiley","dashicons:smiley","fontisto:smiley","el:smiley","jam:smiley-f","vaadin:smiley-o","mdi:smiley-cry","mdi:smiley-cry-outline","mdi:smiley-sad","mdi:smiley-sad-outline","ph:smiley-meh","ph:smiley-meh-bold","ph:smiley-meh-duotone","ph:smiley-meh-fill","ph:smiley-meh-light","ph:smiley-meh-thin","ph:smiley-sad","ph:smiley-sad-bold","ph:smiley-sad-duotone","ph:smiley-sad-fill","ph:smiley-sad-light","ph:smiley-sad-thin","gis:map-smiley","el:smiley-alt","mdi:smiley-cool","mdi:smiley-cool-outline","mdi:smiley-dead","mdi:smiley-dead-outline","mdi:smiley-kiss","mdi:smiley-kiss-outline","mdi:smiley-poop","mdi:smiley-wink","mdi:smiley-wink-outline","ph:lego-smiley","ph:lego-smiley-bold","ph:lego-smiley-duotone","ph:lego-smiley-fill","ph:lego-smiley-light","ph:lego-smiley-thin","ph:scan-smiley","ph:scan-smiley-bold","ph:scan-smiley-duotone","ph:scan-smiley-fill","ph:scan-smiley-light","ph:scan-smiley-thin","ph:smiley-wink","ph:smiley-wink-bold","ph:smiley-wink-duotone","ph:smiley-wink-fill","ph:smiley-wink-light","ph:smiley-wink-thin","garden:smiley-fill-12","garden:smiley-fill-16","streamline:smiley-cool","streamline:smiley-cool-solid","streamline:smiley-cute","streamline:smiley-cute-solid","streamline:smiley-kiss","streamline:smiley-kiss-solid","streamline:smiley-mask","streamline:smiley-mask-solid"];J.useEffect(()=>{if(a&&a.cancel("Operation canceled by the user."),n){const d=gd.CancelToken.source();o(d),Tz.search(n,d).then(p=>{l(p)}).catch(p=>{console.error(p)})}else l([])},[n]);const c=d=>{i(d.target.value)},f=n?s:u;return T.jsxs(nm,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>e(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(em,{id:"alert-dialog-title-logic-builder",children:r("Select Icon")}),T.jsx(Uu,{children:T.jsxs("div",{children:[T.jsx("input",{type:"text",placeholder:"Search for icons",value:n,onChange:c}),T.jsx("div",{className:"search-results",children:f.map((d,p)=>{const v=d.split(":");return T.jsx(Az,{onClick:e,source:"https://api.iconify.design/".concat(v[0],"/").concat(v[1],".svg")},p)})})]})}),T.jsx(rm,{children:T.jsx(Ut,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function Az({source:t,onClick:e}){const[r,n]=J.useState("");return J.useEffect(()=>{gd.get(t).then(i=>{jz(i.data)&&n(i.data)})},[t]),T.jsx("div",{onClick:()=>{e(r)},className:Iz.resultImage,dangerouslySetInnerHTML:{__html:r}})}function jz(t){return typeof t!="string"?!1:/^<svg[\s\S]*<\/svg>$/.test(t)}function Pz({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,designMode:a,imageHeight:o,hideText:s,t:l,addAnswer:u}){var $,F,N,B,z;const c=Vl("design"),f=wt(),d=J.useRef(null),p=jr(),[v,h]=J.useState(!1),m=ye(H=>H.designState.langInfo),y=ye(H=>n=="add"?void 0:H.designState[r]),g=m.lang===m.mainLang,_=m.lang,b=($=y==null?void 0:y.resources)==null?void 0:$.icon,S=n=="add"||(N=(F=y.content)==null?void 0:F.label)==null?void 0:N[_];n=="add"||y.icon;const O=So.includes(_),x=n=="add"||(z=(B=y.content)==null?void 0:B.label)==null?void 0:z[m.mainLang],E=()=>{window.confirm("Are you sure?")&&f(fs(r))},k=t+"icon-drag",w=H=>Math.round(H/i),I=H=>H%i,C=H=>{const D=new Blob([H],{type:"image/svg+xml"}),G=new File([D],"file.svg",{type:"image/svg+xml"});c.uploadResource(G).then(q=>{f(Va({code:r,key:"icon",value:q.name}))}).catch(q=>{console.error(q.message)})},A=I(e),P=w(e),[L,V,R]=Ka({type:k,item:{index:e,colIndex:A,rowIndex:P,draggableId:r,parentCode:t,type:k,itemType:k},collect:H=>H.isDragging()},[e]),[{handlerId:U},M]=Ki({accept:k,collect(H){return{handlerId:H.getHandlerId()}},hover(H,D){var re;if(!d.current||!D.isOver({shallow:!0})||!H)return;const G=H.index,q=e,Y=H.rowIndex,K=P,ie=H.colIndex,te=A;if(G===q)return;const oe=(re=d.current)==null?void 0:re.getBoundingClientRect(),ue=(oe.bottom-oe.top)/2,fe=(oe.right-oe.left)/2,pe=D.getClientOffset(),Se=pe.y-oe.top,Q=pe.x-oe.left;Y<K&&Se<ue&&ie<te&&Q<fe||Y>K&&Se>ue&&ie>te&&Q>fe||(f(Si({type:"reorder_answers",id:H.draggableId,fromIndex:G,toIndex:q})),H.index=q,H.rowIndex=K,H.colIndex=te)}});return M(R(d)),n=="add"?T.jsx(co,{item:!0,xs:12/i,height:"100%",children:T.jsx(ht,{className:Fs.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:p.palette.background.default,height:"100%",width:"100%"},children:T.jsx(bt,{sx:{color:p.textStyles.text.color},className:Fs.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Yo,{})})})},"add"):T.jsxs(T.Fragment,{children:[T.jsx(co,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:T.jsxs("div",{ref:d,"data-handler-id":U,children:[yi(a)&&T.jsxs("div",{className:Fs.buttonContainers,children:[T.jsx(bt,{sx:{color:p.textStyles.text.color},className:Fs.imageIconButton,onClick:()=>{E()},children:T.jsx(qm,{})}),T.jsx(bt,{sx:{color:p.textStyles.text.color},component:"label",className:Fs.imageIconButton,onClick:()=>h(!0),children:T.jsx(Tp,{})}),T.jsx(bt,{sx:{color:p.textStyles.text.color},ref:V,className:Fs.imageIconButton,children:T.jsx(jo,{})})]}),T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:T.jsx(im,{theme:p,imageHeight:o+"px",svgUrl:b?Ao(b):void 0})}),!s&&T.jsx(Zt,{dir:O?"rtl":"ltr",variant:"standard",disabled:!tm(a),value:S||"",onChange:H=>f(Io({code:r,key:"label",lang:_,value:H.target.value})),placeholder:g?l("content_editor_placeholder_option"):x||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size}}})]})},r),v&&T.jsx(HC,{currentIcon:"",onIconSelected:H=>{H&&C(H),h(!1)}})]})}function Lz(t){const e=ye(f=>f.designState[t.code]),r=e.children||[],n=ye(f=>f.designState[t.code].imageAspectRatio||1),i=e.type,a=yi(t.designMode)?[...r,{type:"add",code:"add"}]:r,o=e.columns||2,s=e.hideText||!1,l=e.spacing||8,u=e.iconSize?+e.iconSize:64,c="calc(".concat(100/o,"% - ").concat(l,"px)");return T.jsx("div",{className:az.questionItem,children:u&&T.jsx(ht,{id:"items-"+t.code,sx:{display:"flex",flexWrap:"wrap",gap:"".concat(l,"px")},children:a.map((f,d)=>t.icon?T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(Pz,{parentCode:t.code,index:d,columnNumber:o,designMode:t.designMode,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code):T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(yz,{parentCode:t.code,index:d,imageAspectRatio:n,columnNumber:o,hideText:s,designMode:t.designMode,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code))})})}const C_=j.memo(Lz);function Fz(t){const e=jr(),r=t.t,n=ye(u=>u.designState.langInfo),i=t.designMode==pn.DESIGN,a=ye(u=>u.designState[t.code].children),o=(a==null?void 0:a.filter(u=>u.type=="row"))||[],s=(a==null?void 0:a.filter(u=>u.type=="column"))||[],l=ye(u=>s.map(c=>{var f;return(f=u.designState[c.qualifiedCode].resources)==null?void 0:f.icon}));return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:kd.addColumn,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(EE,{children:T.jsxs(CE,{children:[T.jsx(kE,{children:T.jsxs(fp,{children:[i&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),s.map((u,c)=>T.jsx(Nz,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,icons:l,index:c},u.qualifiedCode)),i&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(TE,{children:o.map((u,c)=>T.jsx($z,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,columns:s,icons:l,index:c},u.qualifiedCode))})]})}),i&&T.jsx("div",{className:kd.addRow,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const Rz=j.memo(Fz);function $z({item:t,index:e,columns:r,icons:n,inDesgin:i,t:a,langInfo:o,parentQualifiedCode:s}){const l=wt(),u=jr(),c=J.useRef(),f=o.lang===o.mainLang,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[o.lang]}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[o.mainLang]}),v="col-".concat(s),[h,m,y]=Ka({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:g},_]=Ki({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var C;if(!c.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const E=(C=c.current)==null?void 0:C.getBoundingClientRect(),k=(E.bottom-E.top)/2,I=S.getClientOffset().y-E.top;O<x&&I<k||O>x&&I>k||(l(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(c)),T.jsxs(fp,{style:{opacity:h?"0.2":"1"},ref:c,"data-handler-id":g,children:[i&&T.jsx(gn,{ref:m,sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(jo,{})},"move"),T.jsx(gn,{sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size,padding:"4px"},children:T.jsx(Zt,{variant:"standard",value:d||"",onChange:b=>{l(Io({code:t.qualifiedCode,key:"label",lang:o.lang,value:b.target.value}))},placeholder:f?a("content_editor_placeholder_option"):p||a("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size}}})}),r.map((b,S)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(im,{opacity:.2,iconColor:u.textStyles.text.color,theme:u,onIconClick:()=>{},imageHeight:"64px",svgUrl:n[S]?Ao(n[S]):void 0})},S)),i&&T.jsx(gn,{onClick:b=>l(fs(t.qualifiedCode)),sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(Xn,{})},"remove")]},t.code)}function Nz({item:t,index:e,icons:r,inDesgin:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=Vl("design"),l=r[e],[u,c]=J.useState(!1),f=wt(),d=jr(),p=J.useRef(),v=So.includes(a.lang),h=!v,m="row-".concat(o),[y,g,_]=Ka({type:m,item:{qualifiedCode:t.qualifiedCode,index:e},collect:x=>x.isDragging()},[e]),[{handlerId:b},S]=Ki({accept:m,collect(x){return{handlerId:x.getHandlerId()}},hover(x,E){var L;if(!p.current||!E.isOver({shallow:!0})||!x)return;const k=x.index,w=e;if(k===w)return;const I=(L=p.current)==null?void 0:L.getBoundingClientRect(),C=(I.right-I.left)/2,P=E.getClientOffset().x-I.left;h&&k<w&&P<C||h&&k>w&&P>C||v&&k<w&&P>C||v&&k>w&&P<C||(f(Si({type:"reorder_answers_by_type",id:x.qualifiedCode,fromIndex:x.index,toIndex:w})),x.index=w)}}),O=x=>{const E=new Blob([x],{type:"image/svg+xml"}),k=new File([E],"file.svg",{type:"image/svg+xml"});s.uploadResource(k).then(w=>{f(Va({code:t.qualifiedCode,key:"icon",value:w.name}))}).catch(w=>{console.error(w.message)})};return S(_(p)),T.jsxs(T.Fragment,{children:[T.jsxs(gn,{ref:p,"data-handler-id":b,align:"center",sx:{opacity:y?"0.2":"1",fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size,padding:"4px"},children:[n&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:g,sx:{padding:"0"},children:T.jsx(jo,{})},"move"),T.jsx("div",{sx:{padding:"0",color:d.textStyles.text.color},onClick:x=>f(fs(t.qualifiedCode)),children:T.jsx(Xn,{})})]}),T.jsx(im,{onIconClick:()=>c(!0),theme:d,imageHeight:"64px",svgUrl:l?Ao(l):void 0}),!l&&T.jsx("span",{onClick:()=>c(!0),children:"Click to add icon"})]},t.qualifiedCode),u&&T.jsx(HC,{currentIcon:"",onIconSelected:x=>{x&&O(x),c(!1)}})]})}function Dz({code:t,type:e,t:r,onMainLang:n,addAnswer:i,designMode:a}){switch(e){case"video_display":return T.jsx(uH,{code:t,t:r,onMainLang:n},t);case"image_display":return T.jsx(SH,{code:t,t:r,onMainLang:n},t);case"signature":return T.jsx(pH,{});case"photo_capture":return T.jsx(AH,{code:t});case"video_capture":return T.jsx(FH,{code:t});case"date_time":return T.jsx(x_,{code:t},t);case"date":return T.jsx(x_,{code:t},t);case"time":return T.jsx(z8,{code:t},t);case"scq":return T.jsx(Uh,{t:r,designMode:a,onMainLang:n,addNewAnswer:i,code:t,type:"radio"},t);case"image_mcq":case"image_scq":case"image_ranking":return T.jsx(C_,{t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"icon_scq":case"icon_mcq":return T.jsx(C_,{icon:!0,t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"scq_icon_array":return T.jsx(Rz,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"scq_array":return T.jsx(tH,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"file_upload":return T.jsx(N8,{code:t},t);case"mcq":return T.jsx(Uh,{designMode:a,addNewAnswer:i,code:t,onMainLang:n,t:r,type:"checkbox"},t);case"ranking":return T.jsx(Uh,{designMode:a,onMainLang:n,addNewAnswer:i,code:t,t:r,type:"ranking"},t);case"nps":return T.jsx(CH,{code:t},t);case"number":return T.jsx(k8,{code:t},t);case"text":return T.jsx(_8,{code:t},t);case"paragraph":return T.jsx(L8,{t:r,code:t},t);case"barcode":return T.jsx(DH,{t:r,code:t},t);case"email":return T.jsx(w8,{code:t},t);default:return""}}const Mz=j.memo(Dz);function Vz({code:t,type:e,isLast:r,parentCode:n,index:i,t:a,designMode:o,onMainLang:s,parentIndex:l,lastAddedComponent:u}){console.debug(t+": "+i);const[c,f]=J.useState(!1),d=J.useRef(),p=wt(),v=jr(),h=ye(A=>{var P;return((P=A.designState.setup)==null?void 0:P.code)==t}),m=ye(A=>A.designState[t]),y=m.children,g=ye(A=>{var P;return((P=A.designState.globalSetup)==null?void 0:P.reorder_setup)==="collapse_questions"});ye(A=>!IR(A.designState.setup));const _=J.useCallback(()=>p(AR(t)),[]),b=J.useCallback(()=>p(jR(t)),[]),[S,O,x]=Ka({type:"questions",item:{index:i,draggableId:t,droppableId:n,parentIndex:l,isLast:r,type:"questions",itemType:e},collect:A=>{var P;return((P=A.getItem())==null?void 0:P.draggableId)===t}}),[E,k]=Ki({accept:"questions",hover(A,P){var M;if(!d.current||!P.isOver({shallow:!0})||!A||!A.droppableId.startsWith("G"))return;const L=A.index,V=i;if(L===V||(A==null?void 0:A.droppableId)!==n)return;const R=(M=d.current)==null?void 0:M.getBoundingClientRect(),U=P.getClientOffset();L<V&&U.y<R.top+20||L>V&&U.y>R.bottom-20||(p(Si({type:"reorder_questions",source:A.droppableId,destination:n,id:A.draggableId,fromIndex:L,toIndex:V+1})),A.index=V,A.isLast=r)}});k(x(d));const w=j.useCallback((A,P,L)=>{const V=y||[];let R=1,U="",M="",$="";const F={code:"value",isActive:!1,returnType:{name:P=="ranking"||P=="nps"||P=="image_ranking"?"Int":P=="scq_array"||P=="scq_icon_array"?"String":"Boolean"},text:""};switch(L){case"column":R=Ih(V.filter(B=>B.type==="column")),$="Col"+R,U="Ac"+R,M=A+U,p(xu({label:$,answer:{code:U,qualifiedCode:M,type:L}}));break;case"row":R=Ih(V.filter(B=>B.type==="row")),U="A"+R,$="Row"+R,M=A+U,p(xu({label:$,instructionList:[F],answer:{code:U,qualifiedCode:M,type:L}}));break;case"other":U="Aother",$="Other",M=A+U;const N=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:P==="scq"?"".concat(A,".value === 'Aother'"):"".concat(A,"Aother.value === true")}];p(xu({label:$,answer:{code:U,qualifiedCode:M,type:L},instructionList:P=="mcq"?[F]:[]})),p(xu({instructionList:N,answer:{code:"Atext",qualifiedCode:M+"Atext",type:"other_text"}}));break;default:R=Ih(V),U="A"+R,$="Option "+R,M=A+U,p(xu({label:$,answer:{code:U,qualifiedCode:M},instructionList:P=="mcq"||P=="image_mcq"||P=="icon_mcq"||P=="ranking"||P=="image_ranking"?[F]:[]}));break}},[y]),I=up(v.palette.background.paper),C=v.textStyles.question.color;return J.useEffect(()=>{const A=d.current;if((u==null?void 0:u.type)==="question"&&u.groupIndex===l&&u.questionIndex===i&&A){const P=setTimeout(()=>{A.classList.add(ea.highlight);const L=()=>{A.classList.remove(ea.highlight)};return A.addEventListener("animationend",L),()=>{A.removeEventListener("animationend",L)}},50);return()=>clearTimeout(P)}},[u,l,i]),(u==null?void 0:u.type)==="question"&&u.groupIndex===l&&u.questionIndex,T.jsxs("div",{ref:d,onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},style:h?{border:"0.5px solid ".concat(C),backgroundColor:I,color:C}:{opacity:S?"0.2":"1",border:S?"dotted 1px "+I:"0"},className:"question ".concat(ea.groupQuestion),"data-code":t,children:[T.jsxs(ht,{className:ea.contentContainer,children:[g&&T.jsx("div",{className:ea.moveBox,ref:O,children:T.jsx(cm,{style:{color:C}})}),o==pn.DESIGN&&(h||c)&&T.jsx("div",{className:ea.actionToolbarVisible,children:T.jsx(VC,{t:a,isGroup:!1,isInSetup:h,code:t,parentCode:n,onClone:b,onDelete:_,disableDelete:!1})})]}),T.jsxs(ht,{className:ea.titleContainer,children:[T.jsx(ht,{className:ea.iconBox,children:PR("".concat(e),void 0,C)}),T.jsx("div",{className:ea.titleQuestion,style:{fontFamily:v.textStyles.question.font,color:v.textStyles.question.color,fontSize:v.textStyles.question.size},children:T.jsx(Cd,{code:t,editable:o==pn.DESIGN||o==pn.LANGUAGES,extended:!1,placeholder:a("content_editor_placeholder_title"),contentKey:"label"})})]}),m.showDescription&&T.jsx(ht,{className:ea.textDescriptionContent,children:T.jsx(Cd,{code:t,editable:o==pn.DESIGN||o==pn.LANGUAGES,extended:!0,placeholder:a("content_editor_placeholder_description"),contentKey:"description"})}),T.jsx(p$,{in:g!==!0,timeout:"auto",unmountOnExit:!0,children:T.jsx(Mz,{code:t,type:e,t:a,addAnswer:w,designMode:o,onMainLang:s,addNewAnswer:w})}),T.jsx(lm,{code:t})]})}const Bz=j.memo(Vz),qz="_textHeader_cn5sd_1",Hz="_textDescription_cn5sd_5",zz="_groupCard_cn5sd_11",Uz="_type_cn5sd_18",Wz="_groupType_cn5sd_25",Gz="_questionsOuterContainer_cn5sd_33",Yz="_questionsInnerContainer_cn5sd_37",Kz="_groupDesignError_cn5sd_43",Jz="_groupHeader_cn5sd_48",Qz="_inputGroupTitle_cn5sd_52",Xz="_inputGroupDescription_cn5sd_57",Zz="_moveBox_cn5sd_62",eU="_topLevel_cn5sd_71",tU="_groupText_cn5sd_83",rU="_actionToolbarVisible_cn5sd_101",nU="_fadeInMoveRight_cn5sd_1",iU="_contentContainer_cn5sd_105",aU="_headerContent_cn5sd_116",oU="_highlight_cn5sd_120",sU="_fadeHighlight_cn5sd_1",Da={textHeader:qz,textDescription:Hz,groupCard:zz,type:Uz,groupType:Wz,questionsOuterContainer:Gz,questionsInnerContainer:Yz,groupDesignError:Kz,groupHeader:Jz,inputGroupTitle:Qz,inputGroupDescription:Xz,moveBox:Zz,topLevel:eU,groupText:tU,actionToolbarVisible:rU,fadeInMoveRight:nU,contentContainer:iU,headerContent:aU,highlight:oU,fadeHighlight:sU},lU="_groupDropArea_1m6hh_1",uU="_groupDragging_1m6hh_24",cU="_questionDropArea_1m6hh_45",fU="_groupDropAreaWrapper_1m6hh_72",dU="_hide_1m6hh_79",pU="_hidden_1m6hh_83",hU="_isDragging_1m6hh_92",vU="_groupHidden_1m6hh_104",gU="_groupEmptyHint_1m6hh_111",mU="_groupEmptyHintHover_1m6hh_130",yU="_dropText_1m6hh_134",qn={groupDropArea:lU,groupDragging:uU,questionDropArea:cU,groupDropAreaWrapper:fU,hide:dU,hidden:pU,isDragging:hU,groupHidden:vU,groupEmptyHint:gU,groupEmptyHintHover:mU,dropText:yU};var Kv=new Map,Af=new WeakMap,T_=0,bU=void 0;function _U(t){return t?(Af.has(t)||(T_+=1,Af.set(t,T_.toString())),Af.get(t)):"0"}function SU(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>"".concat(e,"_").concat(e==="root"?_U(t.root):t[e])).toString()}function OU(t){const e=SU(t);let r=Kv.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=n.get(s.target))==null||l.forEach(c=>{c(u,s)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},Kv.set(e,r)}return r}function xU(t,e,r={},n=bU){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:o}=OU(r),s=o.get(t)||[];return o.has(t)||o.set(t,s),s.push(e),a.observe(t),function(){s.splice(s.indexOf(e),1),s.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),Kv.delete(i))}}function wU({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=J.useState(null),p=J.useRef(),[v,h]=J.useState({inView:!!s,entry:void 0});p.current=u,J.useEffect(()=>{if(o||!f)return;let _;return _=xU(f,(b,S)=>{h({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&a&&_&&(_(),_=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,i,n,a,o,r,l,e]);const m=(c=v.entry)==null?void 0:c.target,y=J.useRef();!f&&m&&!a&&!o&&y.current!==m&&(y.current=m,h({inView:!!s,entry:void 0}));const g=[d,v.inView,v.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}function EU({index:t,groupsCount:e,t:r,emptySurvey:n}){const i=wt(),[{isOver:a,item:o},s]=Ki(()=>({accept:"groups",drop:d=>{i(Si({type:"new_group",groupType:d.draggableId,toIndex:t}))},collect:d=>({isOver:d.isOver(),item:d.getItem()})}),[t]),l=o!=null&&o.draggableId=="group",u=o&&o.droppableId=="new-groups"&&TU(o,t)&&kU(o,t,e)&&CU(o,t),c=Ya(),f=up(c.palette.background.paper);return T.jsxs("div",{ref:s,style:{backgroundColor:l&&f,color:c.palette.text.primary},className:""+(n?qn.groupEmptyHint+(a?" "+qn.groupEmptyHintHover:""):a&&u?qn.groupDropArea:l?qn.groupDragging:qn.groupHidden),children:[l&&!n&&T.jsx(T.Fragment,{children:T.jsx("span",{className:qn.dropText,children:r("empty_survey_hint")})}),n&&T.jsx("span",{children:r("empty_survey_hint")})]})}function Wh({index:t,isLast:e=!1,parentCode:r,parentType:n,parentIndex:i,emptyGroup:a=!1,t:o}){const s=Ya(),l=wt(),u=ye(y=>y.designState.reorder_refresh_code),[{isOver:c,isDragging:f},d]=Ki(()=>({accept:["new-questions","questions"],hover(y){y.type!=="questions"||y.droppableId===r||n==="end"&&!Ah(y.itemType)||(l(Si({type:"reparent_question",source:y.droppableId,destination:r,id:y.draggableId})),y.index=t,y.parentIndex=i,y.isLast=e,y.droppableId=r)},drop:y=>{y.type==="new-questions"&&l(Si({type:"new_question",questionType:y.draggableId,destination:r,toIndex:t}))},collect:y=>{var g,_,b,S,O;return{isOver:((g=y.getItem())==null?void 0:g.type)=="new-questions"&&y.isOver()&&(n!=="end"||Ah((_=y.getItem())==null?void 0:_.itemType)),isDragging:n==="end"&&!Ah((b=y.getItem())==null?void 0:b.itemType)?!1:((S=y.getItem())==null?void 0:S.droppableId)==="new-questions"||((O=y.getItem())==null?void 0:O.type)==="questions"&&y.getItem().droppableId!==r&&(t==0&&y.getItem().isLast&&y.getItem().parentIndex+1===i||e&&y.getItem().index==0&&y.getItem().parentIndex-1===i)}}}),[u,t]),{ref:p,inView:v,entry:h}=wU({threshold:0,trackVisibility:f,delay:f?100:0}),m=s.palette.text.primary;return T.jsxs("div",{ref:p,children:[" ",T.jsxs("div",{ref:d,style:{marginTop:!f&&!c?"0rem":"inherit",marginBottom:!f&&!c?"0rem":"inherit"},className:"question-drop-area "+(a?c?qn.questionDropArea:f&&v?qn.isDragging:qn.groupEmptyHint:c?qn.questionDropArea:f&&v?qn.isDragging:qn.hidden)+" ",children:[f&&!a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Kb,{sx:{marginRight:"8px",color:m}}),T.jsx("span",{className:qn.dropText,style:{color:m},children:o("empty_group_hint")})]}),a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Kb,{sx:{marginRight:"8px",color:m}}),T.jsx("span",{className:qn.dropText,style:{color:m},children:o("empty_group_hint")})]})]})]})}const CU=(t,e)=>!(((t==null?void 0:t.index)===e||e-1===(t==null?void 0:t.index))&&(t==null?void 0:t.droppableId)!=="new-groups"),TU=(t,e)=>(t==null?void 0:t.draggableId)!=="welcome"?!0:e===0,kU=(t,e,r)=>(t==null?void 0:t.draggableId)!=="end"?!0:e===r;function IU({t,code:e,children:r,designMode:n}){console.debug("Group Header: "+e);const i=wt(),o=ye(f=>f.designState.langInfo).onMainLang,s=ye(f=>f.designState[e]),l=jr(),u=n==pn.DESIGN,c=J.useCallback(()=>i(LR(e)),[e]);return T.jsx(ht,{className:Da.headerContent,children:T.jsxs(ht,{className:Da.groupHeader,"data-code":e,children:[T.jsx(ht,{className:Da.contentContainer,children:u&&o&&T.jsx("div",{className:Da.actionToolbarVisible,children:T.jsx(VC,{code:e,t,isGroup:!0,onDelete:c,disableDelete:r&&r.length>0})})}),T.jsx("div",{className:Da.textHeader,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:T.jsx(Cd,{editable:n==pn.DESIGN||n==pn.LANGUAGES,code:e,extended:!1,contentKey:"label",placeholder:t("content_editor_placeholder_title")})}),s.showDescription&&T.jsx(ht,{className:Da.textDescription,children:T.jsx(Cd,{editable:n==pn.DESIGN||n==pn.LANGUAGES,code:e,extended:!0,contentKey:"description",placeholder:t("content_editor_placeholder_description")})}),o&&T.jsx(lm,{type:"group",code:e})]})})}const AU=j.memo(IU);function jU({t,code:e,index:r,designMode:n,lastAddedComponent:i}){const a=wt(),o=ye(E=>E.designState[e]),s=n==pn.DESIGN,l=ye(E=>{var k;return((k=E.designState.globalSetup)==null?void 0:k.reorder_setup)==="collapse_groups"}),u=ye(E=>E.designState.langInfo),c=ye(E=>{var k;return((k=E.designState.setup)==null?void 0:k.code)==e}),f=Ya(),d=J.useRef(),[p,v,h]=Ka({type:"groups",item:()=>({index:r,draggableId:e,droppableId:"groups",type:"groups"}),collect:E=>{var k;return((k=E.getItem())==null?void 0:k.draggableId)===e}}),[m,y]=Ki({accept:"groups",hover(E,k){var P;if(!d.current||g=="welcome"||g=="end"||!k.isOver({shallow:!0})||!E||E.droppableId!="groups")return;const w=E.index,I=r;if(w===I)return;const C=(P=d.current)==null?void 0:P.getBoundingClientRect(),A=k.getClientOffset();w<I&&A.y<C.top+50||w>I&&A.y>C.bottom-50||(a(Si({type:"reorder_groups",id:E.draggableId,fromIndex:w,toIndex:I})),E.index=I)}});u.onMainLang;const g=o==null?void 0:o.groupType.toLowerCase(),_=o==null?void 0:o.children,b=E=>{const k={transition:"all 500ms"};return E&&(k.opacity=.2),k};y(h(d));const S=up(f.palette.background.paper),O=f.textStyles.question.color;if(!o)return null;const x=(i==null?void 0:i.type)==="group"&&i.index===r;return T.jsxs(ht,{sx:c?{border:"0.5px solid ".concat(O),color:O,backgroundColor:S}:{backgroundColor:"background.paper"},className:"".concat(Da.topLevel," ").concat(x?Da.highlight:""),ref:d,style:b(p),children:[l==!0&&g!=="welcome"&&g!=="end"?T.jsx("div",{className:Da.moveBox,ref:v,children:T.jsx(cm,{style:{color:O}})}):T.jsx("br",{}),T.jsx(AU,{t,code:e,index:r,designMode:n,children:_}),l!==!0&&T.jsxs(T.Fragment,{children:[_&&_.length>0&&T.jsx(Wh,{index:0,parentCode:e,parentType:g,parentIndex:r,t}),_==null?void 0:_.map((E,k)=>T.jsxs(j.Fragment,{children:[T.jsx(Bz,{t,parentCode:e,parentIndex:r,index:k,isLast:_.length==k+1,type:E.type,code:E.code,designMode:n,onMainLang:s,lastAddedComponent:i},E.code),T.jsx(Wh,{isLast:_.length==k+1,index:k+1,parentIndex:r,parentCode:e,parentType:g,t})]},E.code)),(!_||!_.length)&&s&&T.jsx(Wh,{t,index:0,parentCode:e,parentType:g,emptyGroup:!0})]})]})}const PU=j.memo(jU),kp=0,Po=1,Jl=2,zC=4;function UC(t,e){return r=>t(e(r))}function LU(t,e){return e(t)}function WC(t,e){return r=>t(e,r)}function k_(t,e){return()=>t(e)}function Ip(t,e){return e(t),t}function Cr(...t){return t}function FU(t){t()}function I_(t){return()=>t}function RU(...t){return()=>{t.map(FU)}}function zm(t){return t!==void 0}function Ql(){}function Wt(t,e){return t(Po,e)}function gt(t,e){t(kp,e)}function Um(t){t(Jl)}function mn(t){return t(zC)}function We(t,e){return Wt(t,WC(e,kp))}function ya(t,e){const r=t(Po,n=>{r(),e(n)});return r}function jt(){const t=[];return(e,r)=>{switch(e){case Jl:t.splice(0,t.length);return;case Po:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)};case kp:t.slice().forEach(n=>{n(r)});return;default:throw new Error("unrecognized action ".concat(e))}}}function Ae(t){let e=t;const r=jt();return(n,i)=>{switch(n){case Po:i(e);break;case kp:e=i;break;case zC:return e}return r(n,i)}}function $U(t){let e,r;const n=()=>e&&e();return function(i,a){switch(i){case Po:return a?r===a?void 0:(n(),r=a,e=Wt(t,a),e):(n(),Ql);case Jl:n(),r=null;return;default:throw new Error("unrecognized action ".concat(i))}}}function Zn(t){return Ip(jt(),e=>We(t,e))}function jn(t,e){return Ip(Ae(e),r=>We(t,r))}function NU(...t){return e=>t.reduceRight(LU,e)}function xe(t,...e){const r=NU(...e);return(n,i)=>{switch(n){case Po:return Wt(t,r(i));case Jl:Um(t);return}}}function GC(t,e){return t===e}function Er(t=GC){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function tt(t){return e=>r=>{t(r)&&e(r)}}function Ve(t){return e=>UC(e,t)}function aa(t){return e=>()=>e(t)}function pa(t,e){return r=>n=>r(e=t(e,n))}function Cl(t){return e=>r=>{t>0?t--:e(r)}}function fo(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function A_(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function yt(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Wt(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>a([o].concat(e));r===i?s():n=s}}function j_(...t){return function(e,r){switch(e){case Po:return RU(...t.map(n=>Wt(n,r)));case Jl:return;default:throw new Error("unrecognized action ".concat(e))}}}function et(t,e=GC){return xe(t,Er(e))}function sn(...t){const e=jt(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Wt(a,l=>{r[o]=l,n=n|s,n===i&&gt(e,r)})}),function(a,o){switch(a){case Po:return n===i&&o(r),Wt(e,o);case Jl:return Um(e);default:throw new Error("unrecognized action ".concat(a))}}}function Qt(t,e=[],{singleton:r}={singleton:!0}){return{id:DU(),constructor:t,dependencies:e,singleton:r}}const DU=()=>Symbol();function MU(t){const e=new Map,r=({id:n,constructor:i,dependencies:a,singleton:o})=>{if(o&&e.has(n))return e.get(n);const s=i(a.map(l=>r(l)));return o&&e.set(n,s),s};return r(t)}function VU(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)n.hasOwnProperty(o)||(r[o]=e[o]);return r}const jf=typeof document<"u"?j.useLayoutEffect:j.useEffect;function YC(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=j.createContext({});function l(y,g){y.propsReady&&gt(y.propsReady,!1);for(const _ of n){const b=y[e.required[_]];gt(b,g[_])}for(const _ of i)if(_ in g){const b=y[e.optional[_]];gt(b,g[_])}y.propsReady&&gt(y.propsReady,!0)}function u(y){return a.reduce((g,_)=>(g[_]=b=>{const S=y[e.methods[_]];gt(S,b)},g),{})}function c(y){return o.reduce((g,_)=>(g[_]=$U(y[e.events[_]]),g),{})}const f=j.forwardRef((y,g)=>{const{children:_,...b}=y,[S]=j.useState(()=>Ip(MU(t),E=>l(E,b))),[O]=j.useState(k_(c,S));jf(()=>{for(const E of o)E in b&&Wt(O[E],b[E]);return()=>{Object.values(O).map(Um)}},[b,O,S]),jf(()=>{l(S,b)}),j.useImperativeHandle(g,I_(u(S)));const x=r;return T.jsx(s.Provider,{value:S,children:r?T.jsx(x,{...VU([...n,...i,...o],b),children:_}):_})}),d=y=>j.useCallback(WC(gt,j.useContext(s)[y]),[y]),p=y=>{const _=j.useContext(s)[y],b=j.useCallback(S=>Wt(_,S),[_]);return j.useSyncExternalStore(b,()=>mn(_),()=>mn(_))},v=y=>{const _=j.useContext(s)[y],[b,S]=j.useState(k_(mn,_));return jf(()=>Wt(_,O=>{O!==b&&S(I_(O))}),[_,b]),b},h=j.version.startsWith("18")?p:v;return{Component:f,usePublisher:d,useEmitterValue:h,useEmitter:(y,g)=>{const b=j.useContext(s)[y];jf(()=>Wt(b,g),[g,b])}}}const KC=typeof document<"u"?j.useLayoutEffect:j.useEffect;var ei=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(ei||{});const BU={0:"debug",1:"log",2:"warn",3:"error"},qU=()=>typeof globalThis>"u"?window:globalThis,Lo=Qt(()=>{const t=Ae(3);return{log:Ae((r,n,i=1)=>{var a;const o=(a=qU().VIRTUOSO_LOG_LEVEL)!=null?a:mn(t);i>=o&&console[BU[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:t}},[],{singleton:!0});function Wm(t,e,r){const n=j.useRef(null);let i=a=>{};if(typeof ResizeObserver<"u"){const a=j.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const l=o[0].target;l.offsetParent!==null&&t(l)};r?s():requestAnimationFrame(s)}),[t]);i=o=>{o&&e?(a.observe(o),n.current=o):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:i}}function vs(t,e,r){return Wm(t,e,r).callbackRef}function HU(t,e,r,n,i,a,o,s,l){const u=j.useCallback(c=>{const f=zU(c.children,e,s?"offsetWidth":"offsetHeight",i);let d=c.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const p=d.lastElementChild.dataset.viewportType==="window",v=o?s?o.scrollLeft:o.scrollTop:p?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?d.scrollLeft:d.scrollTop,h=o?s?o.scrollWidth:o.scrollHeight:p?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?d.scrollWidth:d.scrollHeight,m=o?s?o.offsetWidth:o.offsetHeight:p?s?window.innerWidth:window.innerHeight:s?d.offsetWidth:d.offsetHeight;n({scrollTop:Math.max(v,0),scrollHeight:h,viewportHeight:m}),a==null||a(s?P_("column-gap",getComputedStyle(c).columnGap,i):P_("row-gap",getComputedStyle(c).rowGap,i)),f!==null&&t(f)},[t,e,i,a,o,n]);return Wm(u,r,l)}function zU(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(!s||s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),c=e(s,r);if(c===0&&n("Zero-sized element, this should not happen",{child:s},ei.ERROR),c===u)continue;const f=a[a.length-1];a.length===0||f.size!==c||f.endIndex!==l-1?a.push({startIndex:l,endIndex:l,size:c}):a[a.length-1].endIndex++}return a}function P_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ei.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function Oo(t,e){return Math.round(t.getBoundingClientRect()[e])}function JC(t,e){return Math.abs(t-e)<1.01}function QC(t,e,r,n=Ql,i,a){const o=j.useRef(null),s=j.useRef(null),l=j.useRef(null),u=j.useCallback(d=>{const p=d.target,v=p===window||p===document,h=a?v?window.pageXOffset||document.documentElement.scrollLeft:p.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,m=a?v?document.documentElement.scrollWidth:p.scrollWidth:v?document.documentElement.scrollHeight:p.scrollHeight,y=a?v?window.innerWidth:p.offsetWidth:v?window.innerHeight:p.offsetHeight,g=()=>{t({scrollTop:Math.max(h,0),scrollHeight:m,viewportHeight:y})};d.suppressFlushSync?g():YF.flushSync(g),s.current!==null&&(h===s.current||h<=0||h===m-y)&&(s.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);j.useEffect(()=>{const d=i||o.current;return n(i||o.current),u({target:d,suppressFlushSync:!0}),d.addEventListener("scroll",u,{passive:!0}),()=>{n(null),d.removeEventListener("scroll",u)}},[o,u,r,n,i]);function c(d){const p=o.current;if(!p||(a?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const v=d.behavior==="smooth";let h,m,y;p===window?(m=Math.max(Oo(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),h=a?window.innerWidth:window.innerHeight,y=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(m=p[a?"scrollWidth":"scrollHeight"],h=Oo(p,a?"width":"height"),y=p[a?"scrollLeft":"scrollTop"]);const g=m-h;if(d.top=Math.ceil(Math.max(Math.min(g,d.top),0)),JC(h,m)||d.top===y){t({scrollTop:y,scrollHeight:m,viewportHeight:h}),v&&e(!0);return}v?(s.current=d.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(d={left:d.top,behavior:d.behavior}),p.scrollTo(d)}function f(d){a&&(d={left:d.top,behavior:d.behavior}),o.current.scrollBy(d)}return{scrollerRef:o,scrollByCallback:f,scrollToCallback:c}}const Dn=Qt(()=>{const t=jt(),e=jt(),r=Ae(0),n=jt(),i=Ae(0),a=jt(),o=jt(),s=Ae(0),l=Ae(0),u=Ae(0),c=Ae(0),f=jt(),d=jt(),p=Ae(!1),v=Ae(!1),h=Ae(!1);return We(xe(t,Ve(({scrollTop:m})=>m)),e),We(xe(t,Ve(({scrollHeight:m})=>m)),o),We(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:n,horizontalDirection:v,skipAnimationFrameInResizeObserver:h,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),oc={lvl:0};function XC(t,e,r,n=oc,i=oc){return{k:t,v:e,lvl:r,l:n,r:i}}function ir(t){return t===oc}function bl(){return oc}function Jv(t,e){if(ir(t))return oc;const{k:r,l:n,r:i}=t;if(e===r){if(ir(n))return i;if(ir(i))return n;{const[a,o]=ZC(n);return sd(Xr(t,{k:a,v:o,l:eT(n)}))}}else return e<r?sd(Xr(t,{l:Jv(n,e)})):sd(Xr(t,{r:Jv(i,e)}))}function sc(t,e){if(!ir(t))return e===t.k?t.v:e<t.k?sc(t.l,e):sc(t.r,e)}function Mi(t,e,r="k"){if(ir(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=Mi(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Mi(t.l,e,r)}function Jn(t,e,r){return ir(t)?XC(e,r,1):e===t.k?Xr(t,{k:e,v:r}):e<t.k?L_(Xr(t,{l:Jn(t.l,e,r)})):L_(Xr(t,{r:Jn(t.r,e,r)}))}function Qv(t,e,r){if(ir(t))return[];const{k:n,v:i,l:a,r:o}=t;let s=[];return n>e&&(s=s.concat(Qv(a,e,r))),n>=e&&n<=r&&s.push({k:n,v:i}),n<=r&&(s=s.concat(Qv(o,e,r))),s}function Ko(t){return ir(t)?[]:[...Ko(t.l),{k:t.k,v:t.v},...Ko(t.r)]}function ZC(t){return ir(t.r)?[t.k,t.v]:ZC(t.r)}function eT(t){return ir(t.r)?t.l:sd(Xr(t,{r:eT(t.r)}))}function Xr(t,e){return XC(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Gh(t){return ir(t)||t.lvl>t.r.lvl}function L_(t){return Xv(rT(t))}function sd(t){const{l:e,r,lvl:n}=t;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if(Gh(e))return rT(Xr(t,{lvl:n-1}));if(!ir(e)&&!ir(e.r))return Xr(e.r,{l:Xr(e,{r:e.r.l}),r:Xr(t,{l:e.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if(Gh(t))return Xv(Xr(t,{lvl:n-1}));if(!ir(r)&&!ir(r.l)){const i=r.l,a=Gh(i)?r.lvl-1:r.lvl;return Xr(i,{l:Xr(t,{r:i.l,lvl:n-1}),r:Xv(Xr(r,{l:i.r,lvl:a})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function Ap(t,e,r){if(ir(t))return[];const n=Mi(t,e)[0];return UU(Qv(t,n,r))}function tT(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({start:n,end:s-1,value:i}),n=s,i=l}return a.push({start:n,end:1/0,value:i}),a}function UU(t){return tT(t,({k:e,v:r})=>({index:e,value:r}))}function Xv(t){const{r:e,lvl:r}=t;return!ir(e)&&!ir(e.r)&&e.lvl===r&&e.r.lvl===r?Xr(e,{l:Xr(t,{r:e.l}),lvl:r+1}):t}function rT(t){const{l:e}=t;return!ir(e)&&e.lvl===t.lvl?Xr(e,{r:Xr(t,{l:e.r})}):t}function Id(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error("Failed binary finding record in array - ".concat(t.join(","),", searched for ").concat(e))}function nT(t,e,r){return t[Id(t,e,r)]}function WU(t,e,r,n){const i=Id(t,e,n),a=Id(t,r,n,i);return t.slice(i,a+1)}const Gm=Qt(()=>({recalcInProgress:Ae(!1)}),[],{singleton:!0});function GU(t){const{size:e,startIndex:r,endIndex:n}=t;return i=>i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}function F_(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function YU(t,e){let r=ir(t)?0:1/0;for(const n of e){const{size:i,startIndex:a,endIndex:o}=n;if(r=Math.min(r,a),ir(t)){t=Jn(t,0,i);continue}const s=Ap(t,a-1,o+1);if(s.some(GU(n)))continue;let l=!1,u=!1;for(const{start:c,end:f,value:d}of s)l?(o>=c||i===d)&&(t=Jv(t,c)):(u=d!==i,l=!0),f>o&&o>=c&&d!==i&&(t=Jn(t,o+1,d));u&&(t=Jn(t,a,i))}return[t,r]}function KU(){return{offsetTree:[],sizeTree:bl(),groupOffsetTree:bl(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Ym({index:t},e){return e===t?0:e<t?-1:1}function JU({offset:t},e){return e===t?0:e<t?-1:1}function QU(t){return{index:t.index,value:t}}function XU(t,e,r,n=0){return n>0&&(e=Math.max(e,nT(t,n,Ym).offset)),tT(WU(t,e,r,JU),QU)}function Zv(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=Id(i,e-1,Ym),s=i[l].offset;const c=Mi(r,e-1);a=c[0],o=c[1],i.length&&i[l].size===Mi(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:c}of Ap(r,e,1/0)){const f=u-a,d=f*o+s+f*n;i.push({offset:d,size:c,index:u}),a=u,s=d,o=c}return{offsetTree:i,lastIndex:a,lastOffset:s,lastSize:o}}function ZU(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,ei.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&ir(a)&&e.length===2){const d=e[0].size,p=e[1].size;o=r.reduce((v,h)=>Jn(Jn(v,h,d),h+1,p),o)}else[o,s]=YU(o,e);if(o===a)return t;const{offsetTree:l,lastIndex:u,lastSize:c,lastOffset:f}=Zv(t.offsetTree,s,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((d,p)=>Jn(d,p,lc(p,l,i)),bl()),groupIndices:r}}function lc(t,e,r){if(e.length===0)return 0;const{offset:n,index:i,size:a}=nT(e,t,Ym),o=t-i,s=a*o+(o-1)*r+n;return s>0?s+r:s}function e9(t){return typeof t.groupIndex<"u"}function iT(t,e,r){if(e9(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=aT(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function aT(t,e){if(!jp(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function jp(t){return!ir(t.groupOffsetTree)}function t9(t){return Ko(t).map(({k:e,v:r},n,i)=>{const a=i[n+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:r}})}const r9={offsetHeight:"height",offsetWidth:"width"},xa=Qt(([{log:t},{recalcInProgress:e}])=>{const r=jt(),n=jt(),i=jn(n,0),a=jt(),o=jt(),s=Ae(0),l=Ae([]),u=Ae(void 0),c=Ae(void 0),f=Ae((S,O)=>Oo(S,r9[O])),d=Ae(void 0),p=Ae(0),v=KU(),h=jn(xe(r,yt(l,t,p),pa(ZU,v),Er()),v),m=jn(xe(l,Er(),pa((S,O)=>({prev:S.current,current:O}),{prev:[],current:[]}),Ve(({prev:S})=>S)),[]);We(xe(l,tt(S=>S.length>0),yt(h,p),Ve(([S,O,x])=>{const E=S.reduce((k,w,I)=>Jn(k,w,lc(w,O.offsetTree,x)||I),bl());return{...O,groupIndices:S,groupOffsetTree:E}})),h),We(xe(n,yt(h),tt(([S,{lastIndex:O}])=>S<O),Ve(([S,{lastIndex:O,lastSize:x}])=>[{startIndex:S,endIndex:O,size:x}])),r),We(u,c);const y=jn(xe(u,Ve(S=>S===void 0)),!0);We(xe(c,tt(S=>S!==void 0&&ir(mn(h).sizeTree)),Ve(S=>[{startIndex:0,endIndex:0,size:S}])),r);const g=Zn(xe(r,yt(h),pa(({sizes:S},[O,x])=>({changed:x!==S,sizes:x}),{changed:!1,sizes:v}),Ve(S=>S.changed)));Wt(xe(s,pa((S,O)=>({diff:S.prev-O,prev:O}),{diff:0,prev:0}),Ve(S=>S.diff)),S=>{const{groupIndices:O}=mn(h);if(S>0)gt(e,!0),gt(a,S+F_(S,O));else if(S<0){const x=mn(m);x.length>0&&(S-=F_(-S,x)),gt(o,S)}}),Wt(xe(s,yt(t)),([S,O])=>{S<0&&O("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},ei.ERROR)});const _=Zn(a);We(xe(a,yt(h),Ve(([S,O])=>{const x=O.groupIndices.length>0,E=[],k=O.lastSize;if(x){const w=sc(O.sizeTree,0);let I=0,C=0;for(;I<S;){const L=O.groupIndices[C],V=O.groupIndices.length===C+1?1/0:O.groupIndices[C+1]-L-1;E.push({startIndex:L,endIndex:L,size:w}),E.push({startIndex:L+1,endIndex:L+1+V-1,size:k}),C++,I+=V+1}const A=Ko(O.sizeTree);return I!==S&&A.shift(),A.reduce((L,{k:V,v:R})=>{let U=L.ranges;return L.prevSize!==0&&(U=[...L.ranges,{startIndex:L.prevIndex,endIndex:V+S-1,size:L.prevSize}]),{ranges:U,prevIndex:V+S,prevSize:R}},{ranges:E,prevIndex:S,prevSize:0}).ranges}return Ko(O.sizeTree).reduce((w,{k:I,v:C})=>({ranges:[...w.ranges,{startIndex:w.prevIndex,endIndex:I+S-1,size:w.prevSize}],prevIndex:I+S,prevSize:C}),{ranges:[],prevIndex:0,prevSize:k}).ranges})),r);const b=Zn(xe(o,yt(h,p),Ve(([S,{offsetTree:O},x])=>{const E=-S;return lc(E,O,x)})));return We(xe(o,yt(h,p),Ve(([S,O,x])=>{if(O.groupIndices.length>0){if(ir(O.sizeTree))return O;let k=bl();const w=mn(m);let I=0,C=0,A=0;for(;I<-S;){A=w[C];const L=w[C+1]-A-1;C++,I+=L+1}if(k=Ko(O.sizeTree).reduce((L,{k:V,v:R})=>Jn(L,Math.max(0,V+S),R),k),I!==-S){const L=sc(O.sizeTree,A);k=Jn(k,0,L);const V=Mi(O.sizeTree,-S+1)[1];k=Jn(k,1,V)}return{...O,sizeTree:k,...Zv(O.offsetTree,0,k,x)}}else{const k=Ko(O.sizeTree).reduce((w,{k:I,v:C})=>Jn(w,Math.max(0,I+S),C),bl());return{...O,sizeTree:k,...Zv(O.offsetTree,0,k,x)}}})),h),{data:d,totalCount:n,sizeRanges:r,groupIndices:l,defaultItemSize:c,fixedItemSize:u,unshiftWith:a,shiftWith:o,shiftWithOffset:b,beforeUnshiftWith:_,firstItemIndex:s,gap:p,sizes:h,listRefresh:g,statefulTotalCount:i,trackItemSizes:y,itemSize:f}},Cr(Lo,Gm),{singleton:!0}),n9=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function oT(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!n9)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Lc=Qt(([{sizes:t,totalCount:e,listRefresh:r,gap:n},{scrollingInProgress:i,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:l,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{const p=jt(),v=jt(),h=Ae(0);let m=null,y=null,g=null;function _(){m&&(m(),m=null),g&&(g(),g=null),y&&(clearTimeout(y),y=null),gt(i,!1)}return We(xe(p,yt(t,a,e,h,l,u,d),yt(n,c,f),Ve(([[b,S,O,x,E,k,w,I],C,A,P])=>{const L=oT(b),{align:V,behavior:R,offset:U}=L,M=x-1,$=iT(L,S,M);let F=lc($,S.offsetTree,C)+k;V==="end"?(F+=A+Mi(S.sizeTree,$)[1]-O+P,$===M&&(F+=w)):V==="center"?F+=(A+Mi(S.sizeTree,$)[1]-O+P)/2:F-=E,U&&(F+=U);const N=B=>{_(),B?(I("retrying to scroll to",{location:b},ei.DEBUG),gt(p,b)):(gt(v,!0),I("list did not change, scroll successful",{},ei.DEBUG))};if(_(),R==="smooth"){let B=!1;g=Wt(r,z=>{B=B||z}),m=ya(s,()=>{N(B)})}else m=ya(xe(r,i9(150)),N);return y=setTimeout(()=>{_()},1200),gt(i,!0),I("scrolling from index to",{index:$,top:F,behavior:R},ei.DEBUG),{top:F,behavior:R}})),o),{scrollToIndex:p,scrollTargetReached:v,topListHeight:h}},Cr(xa,Dn,Lo),{singleton:!0});function i9(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}const uc="up",Yu="down",a9="none",o9={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},s9=0,Fc=Qt(([{scrollContainerState:t,scrollTop:e,viewportHeight:r,headerHeight:n,footerHeight:i,scrollBy:a}])=>{const o=Ae(!1),s=Ae(!0),l=jt(),u=jt(),c=Ae(4),f=Ae(s9),d=jn(xe(j_(xe(et(e),Cl(1),aa(!0)),xe(et(e),Cl(1),aa(!1),A_(100))),Er()),!1),p=jn(xe(j_(xe(a,aa(!0)),xe(a,aa(!1),A_(200))),Er()),!1);We(xe(sn(et(e),et(f)),Ve(([g,_])=>g<=_),Er()),s),We(xe(s,fo(50)),u);const v=Zn(xe(sn(t,et(r),et(n),et(i),et(c)),pa((g,[{scrollTop:_,scrollHeight:b},S,O,x,E])=>{const k=_+S-b>-E,w={viewportHeight:S,scrollTop:_,scrollHeight:b};if(k){let C,A;return _>g.state.scrollTop?(C="SCROLLED_DOWN",A=g.state.scrollTop-_):(C="SIZE_DECREASED",A=g.state.scrollTop-_||g.scrollTopDelta),{atBottom:!0,state:w,atBottomBecause:C,scrollTopDelta:A}}let I;return w.scrollHeight>g.state.scrollHeight?I="SIZE_INCREASED":S<g.state.viewportHeight?I="VIEWPORT_HEIGHT_DECREASING":_<g.state.scrollTop?I="SCROLLING_UPWARDS":I="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:I,state:w}},o9),Er((g,_)=>g&&g.atBottom===_.atBottom))),h=jn(xe(t,pa((g,{scrollTop:_,scrollHeight:b,viewportHeight:S})=>{if(JC(g.scrollHeight,b))return{scrollTop:_,scrollHeight:b,jump:0,changed:!1};{const O=b-(_+S)<1;return g.scrollTop!==_&&O?{scrollHeight:b,scrollTop:_,jump:g.scrollTop-_,changed:!0}:{scrollHeight:b,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),tt(g=>g.changed),Ve(g=>g.jump)),0);We(xe(v,Ve(g=>g.atBottom)),o),We(xe(o,fo(50)),l);const m=Ae(Yu);We(xe(t,Ve(({scrollTop:g})=>g),Er(),pa((g,_)=>mn(p)?{direction:g.direction,prevScrollTop:_}:{direction:_<g.prevScrollTop?uc:Yu,prevScrollTop:_},{direction:Yu,prevScrollTop:0}),Ve(g=>g.direction)),m),We(xe(t,fo(50),aa(a9)),m);const y=Ae(0);return We(xe(d,tt(g=>!g),aa(0)),y),We(xe(e,fo(100),yt(d),tt(([g,_])=>!!_),pa(([g,_],[b])=>[_,b],[0,0]),Ve(([g,_])=>_-g)),y),{isScrolling:d,isAtTop:s,isAtBottom:o,atBottomState:v,atTopStateChange:u,atBottomStateChange:l,scrollDirection:m,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:h}},Cr(Dn)),Fo=Qt(([{log:t}])=>{const e=Ae(!1),r=Zn(xe(e,tt(n=>n),Er()));return Wt(e,n=>{n&&mn(t)("props updated",{},ei.DEBUG)}),{propsReady:e,didMount:r}},Cr(Lo),{singleton:!0});function Km(t,e){t==0?e():requestAnimationFrame(()=>Km(t-1,e))}function Jm(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Rc=Qt(([{sizes:t,listRefresh:e,defaultItemSize:r},{scrollTop:n},{scrollToIndex:i,scrollTargetReached:a},{didMount:o}])=>{const s=Ae(!0),l=Ae(0),u=Ae(!0);return We(xe(o,yt(l),tt(([c,f])=>!!f),aa(!1)),s),We(xe(o,yt(l),tt(([c,f])=>!!f),aa(!1)),u),Wt(xe(sn(e,o),yt(s,t,r,u),tt(([[,c],f,{sizeTree:d},p,v])=>c&&(!ir(d)||zm(p))&&!f&&!v),yt(l)),([,c])=>{ya(a,()=>{gt(u,!0)}),Km(4,()=>{ya(n,()=>{gt(s,!0)}),gt(i,c)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:l,initialItemFinalLocationReached:u}},Cr(xa,Dn,Lc,Fo),{singleton:!0});function R_(t){return t?t==="smooth"?"smooth":"auto":!1}const l9=(t,e)=>typeof t=="function"?R_(t(e)):e&&R_(t),u9=Qt(([{totalCount:t,listRefresh:e},{isAtBottom:r,atBottomState:n},{scrollToIndex:i},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:l},{scrollingInProgress:u}])=>{const c=Ae(!1),f=jt();let d=null;function p(h){gt(i,{index:"LAST",align:"end",behavior:h})}Wt(xe(sn(xe(et(t),Cl(1)),s),yt(et(c),r,a,u),Ve(([[h,m],y,g,_,b])=>{let S=m&&_,O="auto";return S&&(O=l9(y,g||b),S=S&&!!O),{totalCount:h,shouldFollow:S,followOutputBehavior:O}}),tt(({shouldFollow:h})=>h)),({totalCount:h,followOutputBehavior:m})=>{d&&(d(),d=null),d=ya(e,()=>{mn(l)("following output to ",{totalCount:h},ei.DEBUG),p(m),d=null})});function v(h){const m=ya(n,y=>{h&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!d&&(mn(l)("scrolling to bottom due to increased size",{},ei.DEBUG),p("auto"))});setTimeout(m,100)}return Wt(xe(sn(et(c),t,o),tt(([h,,m])=>h&&m),pa(({value:h},[,m])=>({refreshed:h===m,value:m}),{refreshed:!1,value:0}),tt(({refreshed:h})=>h),yt(c,t)),([,h])=>{mn(a)&&v(h!==!1)}),Wt(f,()=>{v(mn(c)!==!1)}),Wt(sn(et(c),n),([h,m])=>{h&&!m.atBottom&&m.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:c,autoscrollToBottom:f}},Cr(xa,Fc,Lc,Rc,Fo,Lo,Dn));function c9(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{totalCount:0,groupIndices:[]})}const sT=Qt(([{totalCount:t,groupIndices:e,sizes:r},{scrollTop:n,headerHeight:i}])=>{const a=jt(),o=jt(),s=Zn(xe(a,Ve(c9)));return We(xe(s,Ve(l=>l.totalCount)),t),We(xe(s,Ve(l=>l.groupIndices)),e),We(xe(sn(n,r,i),tt(([l,u])=>jp(u)),Ve(([l,u,c])=>Mi(u.groupOffsetTree,Math.max(l-c,0),"v")[0]),Er(),Ve(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},Cr(xa,Dn));function cc(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function lT(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const Ad="top",jd="bottom",$_="none";function N_(t,e,r){return typeof t=="number"?r===uc&&e===Ad||r===Yu&&e===jd?t:0:r===uc?e===Ad?t.main:t.reverse:e===jd?t.main:t.reverse}function D_(t,e){return typeof t=="number"?t:t[e]||0}const Qm=Qt(([{scrollTop:t,viewportHeight:e,deviation:r,headerHeight:n,fixedHeaderHeight:i}])=>{const a=jt(),o=Ae(0),s=Ae(0),l=Ae(0),u=jn(xe(sn(et(t),et(e),et(n),et(a,cc),et(l),et(o),et(i),et(r),et(s)),Ve(([c,f,d,[p,v],h,m,y,g,_])=>{const b=c-g,S=m+y,O=Math.max(d-b,0);let x=$_;const E=D_(_,Ad),k=D_(_,jd);return p-=g,p+=d+y,v+=d+y,v-=g,p>c+S-E&&(x=uc),v<c-O+f+k&&(x=Yu),x!==$_?[Math.max(b-d-N_(h,Ad,x)-E,0),b-O-y+f+N_(h,jd,x)+k]:null}),tt(c=>c!=null),Er(cc)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:o,increaseViewportBy:s,visibleRange:u}},Cr(Dn),{singleton:!0});function f9(t,e,r){if(jp(e)){const n=aT(t,e);return[{index:Mi(e.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:t,size:0,offset:0,data:r&&r[0]}]}const Yh={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function M_(t,e,r){if(t.length===0)return[];if(!jp(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=Ap(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let c;u.index===s.start?c={type:"group",index:l}:c={index:u.index-(l+1)+r,groupIndex:l},a.push({...c,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return a}function ld(t,e,r,n,i,a){const{lastSize:o,lastOffset:s,lastIndex:l}=i;let u=0,c=0;if(t.length>0){u=t[0].offset;const h=t[t.length-1];c=h.offset+h.size}const f=r-l,d=s+f*o+(f-1)*n,p=u,v=d-c;return{items:M_(t,i,a),topItems:M_(e,i,a),topListHeight:e.reduce((h,m)=>m.size+h,0),offsetTop:u,offsetBottom:v,top:p,bottom:c,totalCount:r,firstItemIndex:a}}function uT(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const c of r.groupIndices){if(c-o>=t)break;o++}const s=t+o,l=Jm(e,s),u=Array.from({length:s}).map((c,f)=>({index:f+l,size:0,offset:0,data:a[f+l]}));return ld(u,[],s,i,r,n)}const gs=Qt(([{sizes:t,totalCount:e,data:r,firstItemIndex:n,gap:i},a,{visibleRange:o,listBoundary:s,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:f},d,{didMount:p},{recalcInProgress:v}])=>{const h=Ae([]),m=Ae(0),y=jt();We(a.topItemsIndexes,h);const g=jn(xe(sn(p,v,et(o,cc),et(e),et(t),et(c),u,et(h),et(n),et(i),r),tt(([O,x,,E,,,,,,,k])=>{const w=k&&k.length!==E;return O&&!x&&!w}),Ve(([,,[O,x],E,k,w,I,C,A,P,L])=>{const V=k,{sizeTree:R,offsetTree:U}=V,M=mn(m);if(E===0)return{...Yh,totalCount:E};if(O===0&&x===0)return M===0?{...Yh,totalCount:E}:uT(M,w,k,A,P,L||[]);if(ir(R))return M>0?null:ld(f9(Jm(w,E),V,L),[],E,P,V,A);const $=[];if(C.length>0){const H=C[0],D=C[C.length-1];let G=0;for(const q of Ap(R,H,D)){const Y=q.value,K=Math.max(q.start,H),ie=Math.min(q.end,D);for(let te=K;te<=ie;te++)$.push({index:te,size:Y,offset:G,data:L&&L[te]}),G+=Y}}if(!I)return ld([],$,E,P,V,A);const F=C.length>0?C[C.length-1]+1:0,N=XU(U,O,x,F);if(N.length===0)return null;const B=E-1,z=Ip([],H=>{for(const D of N){const G=D.value;let q=G.offset,Y=D.start;const K=G.size;if(G.offset<O){Y+=Math.floor((O-G.offset+P)/(K+P));const te=Y-D.start;q+=te*K+te*P}Y<F&&(q+=(F-Y)*K,Y=F);const ie=Math.min(D.end,B);for(let te=Y;te<=ie&&!(q>=x);te++)H.push({index:te,size:K,offset:q,data:L&&L[te]}),q+=K+P}});return ld(z,$,E,P,V,A)}),tt(O=>O!==null),Er()),Yh);We(xe(r,tt(zm),Ve(O=>O==null?void 0:O.length)),e),We(xe(g,Ve(O=>O.topListHeight)),f),We(f,l),We(xe(g,Ve(O=>[O.top,O.bottom])),s),We(xe(g,Ve(O=>O.items)),y);const _=Zn(xe(g,tt(({items:O})=>O.length>0),yt(e,r),tt(([{items:O},x])=>O[O.length-1].originalIndex===x-1),Ve(([,O,x])=>[O-1,x]),Er(cc),Ve(([O])=>O))),b=Zn(xe(g,fo(200),tt(({items:O,topItems:x})=>O.length>0&&O[0].originalIndex===x.length),Ve(({items:O})=>O[0].index),Er())),S=Zn(xe(g,tt(({items:O})=>O.length>0),Ve(({items:O})=>{let x=0,E=O.length-1;for(;O[x].type==="group"&&x<E;)x++;for(;O[E].type==="group"&&E>x;)E--;return{startIndex:O[x].index,endIndex:O[E].index}}),Er(lT)));return{listState:g,topItemsIndexes:h,endReached:_,startReached:b,rangeChanged:S,itemsRendered:y,initialItemCount:m,...d}},Cr(xa,sT,Qm,Rc,Lc,Fc,Fo,Gm),{singleton:!0}),d9=Qt(([{sizes:t,firstItemIndex:e,data:r,gap:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(We(xe(s,yt(a),tt(([,l])=>l!==0),yt(i,t,e,n,r),Ve(([[,l],u,c,f,d,p=[]])=>uT(l,u,c,f,d,p))),o),{}),Cr(xa,Rc,gs,Fo),{singleton:!0}),cT=Qt(([{scrollVelocity:t}])=>{const e=Ae(!1),r=jt(),n=Ae(!1);return We(xe(t,yt(n,e,r),tt(([i,a])=>!!a),Ve(([i,a,o,s])=>{const{exit:l,enter:u}=a;if(o){if(l(i,s))return!1}else if(u(i,s))return!0;return o}),Er()),e),Wt(xe(sn(e,t,r),yt(n)),([[i,a,o],s])=>i&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:n,scrollVelocity:t,scrollSeekRangeChanged:r}},Cr(Fc),{singleton:!0}),p9=Qt(([{topItemsIndexes:t}])=>{const e=Ae(0);return We(xe(e,tt(r=>r>0),Ve(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Cr(gs)),fT=Qt(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:i}])=>{const a=jt(),o=jn(xe(sn(t,n,e,r,i),Ve(([s,l,u,c,f])=>s+l+u+c+f.offsetBottom+f.bottom)),0);return We(et(o),a),{totalListHeight:o,totalListHeightChanged:a}},Cr(Dn,gs),{singleton:!0});function dT(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const h9=dT(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),v9=Qt(([{scrollBy:t,scrollTop:e,deviation:r,scrollingInProgress:n},{isScrolling:i,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:f,gap:d},{log:p},{recalcInProgress:v}])=>{const h=Zn(xe(l,yt(s),pa(([,y,g,_],[{items:b,totalCount:S,bottom:O,offsetBottom:x},E])=>{const k=O+x;let w=0;return g===S&&y.length>0&&b.length>0&&(b[0].originalIndex===0&&y[0].originalIndex===0||(w=k-_,w!==0&&(w+=E))),[w,b,S,k]},[0,[],0,0]),tt(([y])=>y!==0),yt(e,o,n,a,p,v),tt(([,y,g,_,,,b])=>!b&&!_&&y!==0&&g===uc),Ve(([[y],,,,,g])=>(g("Upward scrolling compensation",{amount:y},ei.DEBUG),y))));function m(y){y>0?(gt(t,{top:-y,behavior:"auto"}),gt(r,0)):(gt(r,0),gt(t,{top:-y,behavior:"auto"}))}return Wt(xe(h,yt(r,i)),([y,g,_])=>{_&&h9()?gt(r,g-y):m(-y)}),Wt(xe(sn(jn(i,!1),r,v),tt(([y,g,_])=>!y&&!_&&g!==0),Ve(([y,g])=>g),fo(1)),m),We(xe(c,Ve(y=>({top:-y}))),t),Wt(xe(u,yt(f,d),Ve(([y,{lastSize:g,groupIndices:_,sizeTree:b},S])=>{function O(x){return x*(g+S)}if(_.length===0)return O(y);{let x=0;const E=sc(b,0);let k=0,w=0;for(;k<y;){k++,x+=E;let I=_.length===w+1?1/0:_[w+1]-_[w]-1;k+I>y&&(x-=E,I=y-k+1),k+=I,x+=O(I),w++}return x}})),y=>{gt(r,y),requestAnimationFrame(()=>{gt(t,{top:y}),requestAnimationFrame(()=>{gt(r,0),gt(v,!1)})})}),{deviation:r}},Cr(Dn,Fc,gs,xa,Lo,Gm)),g9=Qt(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ae(0);return Wt(xe(t,yt(n),tt(([,i])=>i!==0),Ve(([,i])=>({top:i}))),i=>{ya(xe(r,Cl(1),tt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{gt(e,i)})})}),{initialScrollTop:n}},Cr(Fo,Dn,gs),{singleton:!0}),m9=Qt(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ae(!1),n=jn(xe(sn(r,t,e),tt(([i])=>i),Ve(([,i,a])=>Math.max(0,i-a)),fo(0),Er()),0);return{alignToBottom:r,paddingTopAddition:n}},Cr(Dn,fT),{singleton:!0}),Xm=Qt(([{scrollTo:t,scrollContainerState:e}])=>{const r=jt(),n=jt(),i=jt(),a=Ae(!1),o=Ae(void 0);return We(xe(sn(r,n),Ve(([{viewportHeight:s,scrollTop:l,scrollHeight:u},{offsetTop:c}])=>({scrollTop:Math.max(0,l-c),scrollHeight:u,viewportHeight:s}))),e),We(xe(t,yt(n),Ve(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:i}},Cr(Dn)),y9=({itemTop:t,itemBottom:e,viewportTop:r,viewportBottom:n,locationParams:{behavior:i,align:a,...o}})=>t<r?{...o,behavior:i,align:a!=null?a:"start"}:e>n?{...o,behavior:i,align:a!=null?a:"end"}:null,b9=Qt(([{sizes:t,totalCount:e,gap:r},{scrollTop:n,viewportHeight:i,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:l},{scrollToIndex:u}])=>{const c=jt();return We(xe(c,yt(t,i,e,a,o,s,n),yt(r),Ve(([[f,d,p,v,h,m,y,g],_])=>{const{done:b,behavior:S,align:O,calculateViewLocation:x=y9,...E}=f,k=iT(f,d,v-1),w=lc(k,d.offsetTree,_)+h+m,I=w+Mi(d.sizeTree,k)[1],C=g+m,A=g+p-y,P=x({itemTop:w,itemBottom:I,viewportTop:C,viewportBottom:A,locationParams:{behavior:S,align:O,...E}});return P?b&&ya(xe(l,tt(L=>L===!1),Cl(mn(l)?1:2)),b):b&&b(),P}),tt(f=>f!==null)),u),{scrollIntoView:c}},Cr(xa,Dn,Lc,gs,Lo),{singleton:!0}),_9=Qt(([{sizes:t,sizeRanges:e},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=jt(),c=Ae(void 0),f=Ae(null),d=Ae(null);return We(s,f),We(l,d),Wt(xe(u,yt(t,r,o,f,d,n)),([p,v,h,m,y,g,_])=>{const b=t9(v.sizeTree);m&&y!==null&&g!==null&&(h=y.scrollTop-g.offsetTop),h-=_,p({ranges:b,scrollTop:h})}),We(xe(c,tt(zm),Ve(S9)),i),We(xe(a,yt(c),tt(([,p])=>p!==void 0),Er(),Ve(([,p])=>p.ranges)),e),{getState:u,restoreStateFrom:c}},Cr(xa,Dn,Rc,Fo,Xm));function S9(t){return{offset:t.scrollTop,index:0,align:"start"}}const O9=Qt(([t,e,r,n,i,a,o,s,l,u])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u}),Cr(Qm,d9,Fo,cT,fT,g9,m9,Xm,b9,Lo)),x9=Qt(([{totalCount:t,sizeRanges:e,fixedItemSize:r,defaultItemSize:n,trackItemSizes:i,itemSize:a,data:o,firstItemIndex:s,groupIndices:l,statefulTotalCount:u,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v},h,m,y,{listState:g,topItemsIndexes:_,...b},{scrollToIndex:S},O,{topItemCount:x},{groupCounts:E},k])=>(We(b.rangeChanged,k.scrollSeekRangeChanged),We(xe(k.windowViewportRect,Ve(w=>w.visibleHeight)),h.viewportHeight),{totalCount:t,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v,topItemsIndexes:_,topItemCount:x,groupCounts:E,fixedItemHeight:r,defaultItemHeight:n,gap:c,...y,statefulTotalCount:u,listState:g,scrollToIndex:S,trackItemSizes:i,itemSize:a,groupIndices:l,...b,...k,...h,sizes:f,...m}),Cr(xa,Rc,Dn,_9,u9,gs,Lc,v9,p9,sT,O9)),Kh="-webkit-sticky",V_="sticky",pT=dT(()=>{if(typeof document>"u")return V_;const t=document.createElement("div");return t.style.position=Kh,t.style.position===Kh?Kh:V_});function hT(t,e,r){const n=j.useRef(null),i=j.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),c=u.width;let f,d;if(e){const p=e.getBoundingClientRect(),v=u.top-p.top;f=p.height-Math.max(0,v),d=v+e.scrollTop}else f=window.innerHeight-Math.max(0,u.top),d=u.top+window.pageYOffset;n.current={offsetTop:d,visibleHeight:f,visibleWidth:c},t(n.current)},[t,e]),{callbackRef:a,ref:o}=Wm(i,!0,r),s=j.useCallback(()=>{i(o.current)},[i,o]);return j.useEffect(()=>{if(e){e.addEventListener("scroll",s);const l=new ResizeObserver(()=>{requestAnimationFrame(s)});return l.observe(e),()=>{e.removeEventListener("scroll",s),l.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const vT=j.createContext(void 0),gT=j.createContext(void 0);function mT(t){return t}const w9=Qt(()=>{const t=Ae(l=>"Item ".concat(l)),e=Ae(null),r=Ae(l=>"Group ".concat(l)),n=Ae({}),i=Ae(mT),a=Ae("div"),o=Ae(Ql),s=(l,u=null)=>jn(xe(n,Ve(c=>c[l]),Er()),u);return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),E9=Qt(([t,e])=>({...t,...e}),Cr(x9,w9)),C9=({height:t})=>T.jsx("div",{style:{height:t}}),T9={position:pT(),zIndex:1,overflowAnchor:"none"},yT={overflowAnchor:"none"},k9={...yT,display:"inline-block",height:"100%"},B_=j.memo(function({showTopList:e=!1}){const r=ut("listState"),n=hi("sizeRanges"),i=ut("useWindowScroll"),a=ut("customScrollParent"),o=hi("windowScrollContainerState"),s=hi("scrollContainerState"),l=a||i?o:s,u=ut("itemContent"),c=ut("context"),f=ut("groupContent"),d=ut("trackItemSizes"),p=ut("itemSize"),v=ut("log"),h=hi("gap"),m=ut("horizontalDirection"),{callbackRef:y}=HU(n,p,d,e?Ql:l,v,h,a,m,ut("skipAnimationFrameInResizeObserver")),[g,_]=j.useState(0);Zm("deviation",L=>{g!==L&&_(L)});const b=ut("EmptyPlaceholder"),S=ut("ScrollSeekPlaceholder")||C9,O=ut("ListComponent"),x=ut("ItemComponent"),E=ut("GroupComponent"),k=ut("computeItemKey"),w=ut("isSeeking"),I=ut("groupIndices").length>0,C=ut("alignToBottom"),A=ut("initialItemFinalLocationReached"),P=e?{}:{boxSizing:"border-box",...m?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,marginLeft:g!==0?g:C?"auto":0}:{marginTop:g!==0?g:C?"auto":0,paddingTop:r.offsetTop,paddingBottom:r.offsetBottom},...A?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&b?T.jsx(b,{...In(b,c)}):T.jsx(O,{...In(O,c),ref:y,style:P,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?r.topItems:r.items).map(L=>{const V=L.originalIndex,R=k(V+r.firstItemIndex,L.data,c);return w?J.createElement(S,{...In(S,c),key:R,index:L.index,height:L.size,type:L.type||"item",...L.type==="group"?{}:{groupIndex:L.groupIndex}}):L.type==="group"?J.createElement(E,{...In(E,c),key:R,"data-index":V,"data-known-size":L.size,"data-item-index":L.index,style:T9},f(L.index,c)):J.createElement(x,{...In(x,c),...P9(x,L.data),key:R,"data-index":V,"data-known-size":L.size,"data-item-index":L.index,"data-item-group-index":L.groupIndex,style:m?k9:yT},I?u(L.index,L.groupIndex,L.data,c):u(L.index,L.data,c))})})}),I9={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},A9={outline:"none",overflowX:"auto",position:"relative"},Pp=t=>({width:"100%",height:"100%",position:"absolute",top:0,...t?{display:"flex",flexDirection:"column"}:{}}),j9={width:"100%",position:pT(),top:0,zIndex:1};function In(t,e){if(typeof t!="string")return{context:e}}function P9(t,e){return{item:typeof t=="string"?void 0:e}}const L9=j.memo(function(){const e=ut("HeaderComponent"),r=hi("headerHeight"),n=ut("HeaderFooterTag"),i=vs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),F9=j.memo(function(){const e=ut("FooterComponent"),r=hi("footerHeight"),n=ut("HeaderFooterTag"),i=vs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null});function bT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("scrollerRef"),d=r("context"),p=r("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:h,scrollToCallback:m}=QC(l,c,u,f,void 0,p);e("scrollTo",m),e("scrollBy",h);const y=p?A9:I9;return T.jsx(u,{ref:v,style:{...y,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...In(u,d),children:o})})}function _T({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("totalListHeight"),d=r("deviation"),p=r("customScrollParent"),v=r("context"),{scrollerRef:h,scrollByCallback:m,scrollToCallback:y}=QC(l,c,u,Ql,p);return KC(()=>(h.current=p||window,()=>{h.current=null}),[h,p]),e("windowScrollTo",y),e("scrollBy",m),T.jsx(u,{style:{position:"relative",...a,...f!==0?{height:f+d}:{}},"data-virtuoso-scroller":!0,...s,...In(u,v),children:o})})}const R9=({children:t})=>{const e=j.useContext(vT),r=hi("viewportHeight"),n=hi("fixedItemHeight"),i=ut("alignToBottom"),a=ut("horizontalDirection"),o=j.useMemo(()=>UC(r,l=>Oo(l,a?"width":"height")),[r,a]),s=vs(o,!0,ut("skipAnimationFrameInResizeObserver"));return j.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),T.jsx("div",{style:Pp(i),ref:s,"data-viewport-type":"element",children:t})},$9=({children:t})=>{const e=j.useContext(vT),r=hi("windowViewportRect"),n=hi("fixedItemHeight"),i=ut("customScrollParent"),a=hT(r,i,ut("skipAnimationFrameInResizeObserver")),o=ut("alignToBottom");return j.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),T.jsx("div",{ref:a,style:Pp(o),"data-viewport-type":"window",children:t})},N9=({children:t})=>{const e=ut("TopItemListComponent")||"div",r=ut("headerHeight"),n={...j9,marginTop:"".concat(r,"px")},i=ut("context");return T.jsx(e,{style:n,...In(e,i),children:t})},D9=j.memo(function(e){const r=ut("useWindowScroll"),n=ut("topItemsIndexes").length>0,i=ut("customScrollParent"),a=i||r?B9:V9,o=i||r?$9:R9;return T.jsxs(a,{...e,children:[n&&T.jsx(N9,{children:T.jsx(B_,{showTopList:!0})}),T.jsxs(o,{children:[T.jsx(L9,{}),T.jsx(B_,{}),T.jsx(F9,{})]})]})}),{Component:M9,usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}=YC(E9,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},D9),V9=bT({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),B9=_T({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),q9=M9,q_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},H9={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:H_,ceil:z_,floor:Pd,min:Jh,max:Ku}=Math;function z9(t){return{...H9,items:t}}function U_(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>{const a=r===null?null:r[i+t];return{index:i+t,data:a}})}function U9(t,e){return t&&t.column===e.column&&t.row===e.row}function Pf(t,e){return t&&t.width===e.width&&t.height===e.height}const W9=Qt(([{overscan:t,visibleRange:e,listBoundary:r,increaseViewportBy:n},{scrollTop:i,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:c,headerHeight:f},d,p,{propsReady:v,didMount:h},{windowViewportRect:m,useWindowScroll:y,customScrollParent:g,windowScrollContainerState:_,windowScrollTo:b},S])=>{const O=Ae(0),x=Ae(0),E=Ae(q_),k=Ae({height:0,width:0}),w=Ae({height:0,width:0}),I=jt(),C=jt(),A=Ae(0),P=Ae(null),L=Ae({row:0,column:0}),V=jt(),R=jt(),U=Ae(!1),M=Ae(0),$=Ae(!0),F=Ae(!1),N=Ae(!1);Wt(xe(h,yt(M),tt(([q,Y])=>!!Y)),()=>{gt($,!1)}),Wt(xe(sn(h,$,w,k,M,F),tt(([q,Y,K,ie,,te])=>q&&!Y&&K.height!==0&&ie.height!==0&&!te)),([,,,,q])=>{gt(F,!0),Km(1,()=>{gt(I,q)}),ya(xe(i),()=>{gt(r,[0,0]),gt($,!0)})}),We(xe(R,tt(q=>q!=null&&q.scrollTop>0),aa(0)),x),Wt(xe(h,yt(R),tt(([,q])=>q!=null)),([,q])=>{q&&(gt(k,q.viewport),gt(w,q==null?void 0:q.item),gt(L,q.gap),q.scrollTop>0&&(gt(U,!0),ya(xe(i,Cl(1)),Y=>{gt(U,!1)}),gt(s,{top:q.scrollTop})))}),We(xe(k,Ve(({height:q})=>q)),a),We(xe(sn(et(k,Pf),et(w,Pf),et(L,(q,Y)=>q&&q.column===Y.column&&q.row===Y.row),et(i)),Ve(([q,Y,K,ie])=>({viewport:q,item:Y,gap:K,scrollTop:ie}))),V),We(xe(sn(et(O),e,et(L,U9),et(w,Pf),et(k,Pf),et(P),et(x),et(U),et($),et(M)),tt(([,,,,,,,q])=>!q),Ve(([q,[Y,K],ie,te,oe,ue,fe,,pe,Se])=>{const{row:Q,column:re}=ie,{height:de,width:ve}=te,{width:ee}=oe;if(fe===0&&(q===0||ee===0))return q_;if(ve===0){const Be=Jm(Se,q),Ne=Math.max(Be+fe-1,0);return z9(U_(Be,Ne,ue))}const me=ST(ee,ve,re);let Oe,we;pe?Y===0&&K===0&&fe>0?(Oe=0,we=fe-1):(Oe=me*Pd((Y+Q)/(de+Q)),we=me*z_((K+Q)/(de+Q))-1,we=Jh(q-1,Ku(we,me-1)),Oe=Jh(we,Ku(0,Oe))):(Oe=0,we=-1);const Je=U_(Oe,we,ue),{top:at,bottom:ce}=W_(oe,ie,te,Je),ge=z_(q/me),Pe=ge*de+(ge-1)*Q-ce;return{items:Je,offsetTop:at,offsetBottom:Pe,top:at,bottom:ce,itemHeight:de,itemWidth:ve}})),E),We(xe(P,tt(q=>q!==null),Ve(q=>q.length)),O),We(xe(sn(k,w,E,L),tt(([q,Y,{items:K}])=>K.length>0&&Y.height!==0&&q.height!==0),Ve(([q,Y,{items:K},ie])=>{const{top:te,bottom:oe}=W_(q,ie,Y,K);return[te,oe]}),Er(cc)),r);const B=Ae(!1);We(xe(i,yt(B),Ve(([q,Y])=>Y||q!==0)),B);const z=Zn(xe(et(E),tt(({items:q})=>q.length>0),yt(O,B),tt(([{items:q},Y,K])=>K&&q[q.length-1].index===Y-1),Ve(([,q])=>q-1),Er())),H=Zn(xe(et(E),tt(({items:q})=>q.length>0&&q[0].index===0),aa(0),Er())),D=Zn(xe(et(E),yt(U),tt(([{items:q},Y])=>q.length>0&&!Y),Ve(([{items:q}])=>({startIndex:q[0].index,endIndex:q[q.length-1].index})),Er(lT),fo(0)));We(D,p.scrollSeekRangeChanged),We(xe(I,yt(k,w,O,L),Ve(([q,Y,K,ie,te])=>{const oe=oT(q),{align:ue,behavior:fe,offset:pe}=oe;let Se=oe.index;Se==="LAST"&&(Se=ie-1),Se=Ku(0,Se,Jh(ie-1,Se));let Q=eg(Y,te,K,Se);return ue==="end"?Q=H_(Q-Y.height+K.height):ue==="center"&&(Q=H_(Q-Y.height/2+K.height/2)),pe&&(Q+=pe),{top:Q,behavior:fe}})),s);const G=jn(xe(E,Ve(q=>q.offsetBottom+q.bottom)),0);return We(xe(m,Ve(q=>({width:q.visibleWidth,height:q.visibleHeight}))),k),{data:P,totalCount:O,viewportDimensions:k,itemDimensions:w,scrollTop:i,scrollHeight:C,overscan:t,increaseViewportBy:n,scrollBy:o,scrollTo:s,scrollToIndex:I,smoothScrollTargetReached:l,windowViewportRect:m,windowScrollTo:b,useWindowScroll:y,customScrollParent:g,windowScrollContainerState:_,deviation:A,scrollContainerState:u,footerHeight:c,headerHeight:f,initialItemCount:x,gap:L,restoreStateFrom:R,...p,initialTopMostItemIndex:M,horizontalDirection:N,gridState:E,totalListHeight:G,...d,startReached:H,endReached:z,rangeChanged:D,stateChanged:V,propsReady:v,stateRestoreInProgress:U,...S}},Cr(Qm,Dn,Fc,cT,Fo,Xm,Lo));function W_(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{top:0,bottom:0};const a=eg(t,e,r,n[0].index),o=eg(t,e,r,n[n.length-1].index)+i;return{top:a,bottom:o}}function eg(t,e,r,n){const i=ST(t.width,r.width,e.column),a=Pd(n/i),o=a*r.height+Ku(0,a-1)*e.row;return o>0?o+e.row:o}function ST(t,e,r){return Ku(1,Pd((t+r)/(Pd(e)+r)))}const G9=Qt(()=>{const t=Ae(f=>"Item ".concat(f)),e=Ae({}),r=Ae(null),n=Ae("virtuoso-grid-item"),i=Ae("virtuoso-grid-list"),a=Ae(mT),o=Ae("div"),s=Ae(Ql),l=(f,d=null)=>jn(xe(e,Ve(p=>p[f]),Er()),d),u=Ae(!1),c=Ae(!1);return We(et(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:t,components:e,computeItemKey:a,itemClassName:n,listClassName:i,headerFooterTag:o,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Y9=Qt(([t,e])=>({...t,...e}),Cr(W9,G9)),K9=j.memo(function(){const e=kr("gridState"),r=kr("listClassName"),n=kr("itemClassName"),i=kr("itemContent"),a=kr("computeItemKey"),o=kr("isSeeking"),s=vi("scrollHeight"),l=kr("ItemComponent"),u=kr("ListComponent"),c=kr("ScrollSeekPlaceholder"),f=kr("context"),d=vi("itemDimensions"),p=vi("gap"),v=kr("log"),h=kr("stateRestoreInProgress"),m=vi("reportReadyState"),y=vs(j.useMemo(()=>g=>{const _=g.parentElement.parentElement.scrollHeight;s(_);const b=g.firstChild;if(b){const{width:S,height:O}=b.getBoundingClientRect();d({width:S,height:O})}p({row:G_("row-gap",getComputedStyle(g).rowGap,v),column:G_("column-gap",getComputedStyle(g).columnGap,v)})},[s,d,p,v]),!0,!1);return KC(()=>{e.itemHeight>0&&e.itemWidth>0&&m(!0)},[e]),h?null:T.jsx(u,{ref:y,className:r,...In(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(g=>{const _=a(g.index,g.data,f);return o?T.jsx(c,{...In(c,f),index:g.index,height:e.itemHeight,width:e.itemWidth},_):J.createElement(l,{...In(l,f),className:n,"data-index":g.index,key:_},i(g.index,g.data,f))})})}),J9=j.memo(function(){const e=kr("HeaderComponent"),r=vi("headerHeight"),n=kr("headerFooterTag"),i=vs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=kr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),Q9=j.memo(function(){const e=kr("FooterComponent"),r=vi("footerHeight"),n=kr("headerFooterTag"),i=vs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=kr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),X9=({children:t})=>{const e=j.useContext(gT),r=vi("itemDimensions"),n=vi("viewportDimensions"),i=vs(j.useMemo(()=>a=>{n(a.getBoundingClientRect())},[n]),!0,!1);return j.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),T.jsx("div",{style:Pp(!1),ref:i,children:t})},Z9=({children:t})=>{const e=j.useContext(gT),r=vi("windowViewportRect"),n=vi("itemDimensions"),i=kr("customScrollParent"),a=hT(r,i,!1);return j.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),T.jsx("div",{ref:a,style:Pp(!1),children:t})},eW=j.memo(function({...e}){const r=kr("useWindowScroll"),n=kr("customScrollParent"),i=n||r?rW:tW,a=n||r?Z9:X9;return T.jsx(i,{...e,children:T.jsxs(a,{children:[T.jsx(J9,{}),T.jsx(K9,{}),T.jsx(Q9,{})]})})}),{Component:uxe,usePublisher:vi,useEmitterValue:kr,useEmitter:OT}=YC(Y9,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},eW),tW=bT({usePublisher:vi,useEmitterValue:kr,useEmitter:OT}),rW=_T({usePublisher:vi,useEmitterValue:kr,useEmitter:OT});function G_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ei.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function nW(t){const[e,r]=J.useState(!1),[n,i]=J.useState(!1),a=50,o=(u,c)=>{if(!u||!t.current)return;const f=t.current.getBoundingClientRect(),d=f.left+c,p=f.right+c;if(!(u.x>=d&&u.x<=p&&u.y>=f.top&&u.y<=f.bottom)){r(!1),i(!1);return}const h=u.y-f.top,m=f.bottom-u.y;r(h<=a),i(m<=a)},{isDragging:s,currentOffset:l}=mN(u=>({isDragging:u.isDragging(),currentOffset:u.getClientOffset()}));return J.useEffect(()=>{const u=window.innerWidth;let c;u>=1200?c=450:(u>=768,c=400),s?o(l,c):(r(!1),i(!1))},[s,l]),{isNearTop:e,isNearBottom:n}}function iW({designMode:t},e){const{t:r}=us(["design","run"]),n=jr(),i=t==pn.DESIGN,a=ye(m=>{var y;return((y=m.designState.Survey)==null?void 0:y.children)||[]}),o=ye(m=>{var y,g;return(g=(y=m.designState.Survey)==null?void 0:y.resources)==null?void 0:g.headerImage});ye(m=>{var y,g;return(g=(y=m.designState.Survey)==null?void 0:y.resources)==null?void 0:g.backgroundImage});const s=!a.length,l=J.useMemo(()=>{let m=!1;return a==null||a.forEach(y=>{var g;((y==null?void 0:y.type)==="welcome"||((g=y.groupType)==null?void 0:g.toLowerCase())==="welcome")&&(m=!0)}),m},[a]),u=J.useMemo(()=>{var y;const m=[];o&&m.push({name:Pa.IMAGE}),l||m.push({name:Pa.DROP_AREA,index:0});for(let g=0;g<a.length;g++)m.push({name:Pa.GROUP,group:a[g],index:g}),a[g].type!=="end"&&((y=a[g].groupType)==null?void 0:y.toLowerCase())!=="end"&&m.push({name:Pa.DROP_AREA,group:a[g],index:g+1});return m.push({name:Pa.FOOTER}),m},[a,r,o]),c=J.useRef(null),f=J.useRef(null),{isNearBottom:d,isNearTop:p}=nW(f),v=ye(m=>m.designState.lastAddedComponent),h=ye(m=>m.designState.skipScroll);return J.useEffect(()=>{let m;const y=()=>{c.current&&(d?c.current.scrollBy({top:6,behavior:"auto"}):p&&c.current.scrollBy({top:-6,behavior:"auto"}),m=requestAnimationFrame(y))};return(p||d)&&(m=requestAnimationFrame(y)),()=>{m&&cancelAnimationFrame(m)}},[p,d]),J.useEffect(()=>{if(console.log("ss",h),v&&c.current&&!h){const y=setTimeout(()=>{if(v.type==="group"){const g=v.index*2;c.current.scrollToIndex({index:g+1,behavior:"smooth",align:"start"})}else if(v.type==="question"){const g=v.groupIndex*2;console.log("groupBaseIndex: "+g),c.current.scrollToIndex({index:g+2,behavior:"smooth",align:"end"})}},100);return()=>clearTimeout(y)}},[v]),T.jsx(ht,{ref:e,className:"content-panel ".concat(Eu.contentPanel),style:{backgroundColor:n.palette.background.default,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:T.jsx(ht,{ref:f,width:"100%",height:"100%",children:T.jsx(q9,{ref:c,data:u,className:Eu.virtuosoStyle,itemContent:(m,y)=>{switch(y.name){case Pa.IMAGE:return T.jsxs(ht,{className:Eu.cardMediaContent,children:[T.jsx(y$,{className:Eu.cardImage,component:"img",image:Ao(o),height:"140"}),i&&T.jsx(lm,{code:"Survey"})]});case Pa.DROP_AREA:return T.jsx(EU,{emptySurvey:s,t:r,index:y.index,groupsCount:a.length});case Pa.GROUP:return T.jsx(PU,{t:r,designMode:t,code:y.group.code,index:y.index,lastAddedComponent:v});case Pa.FOOTER:return T.jsx("div",{className:Eu.footer})}}})})})}const aW=j.forwardRef(iW),Pa={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"};function oW({label:t,rule:e,t:r,defaultValue:n,code:i,lowerBound:a,upperBound:o}){const s=wt(),l=ye(p=>p.designState[i][e]||n),[u,c]=J.useState(l),f=p=>{c(p.target.value),u>=a&&u<=o&&s(Yn({code:i,key:e,value:Math.max(a,Math.min(o,p.target.value))}))},d=u!=l;return T.jsxs(T.Fragment,{children:[T.jsxs("h4",{children:[t,":"]}),T.jsx(Zt,{label:t,error:d,variant:"outlined",type:"number",helperText:d?T.jsx(fa,{t:r,values:{lower_bound:a,upper_bound:o,setup_value:l,label:t},i18nKey:"value_beyond_bounds"}):null,size:"small",style:{maxWidth:"200px"},value:u,onChange:p=>f(p)})]})}const Lf=j.memo(oW),sW="_showHint_9iocv_1",lW="_inputValue_9iocv_9",xT={showHint:sW,inputValue:lW};function uW({code:t,t:e}){const r=wt(),n=ye(a=>a.designState[t].showHint||!1),i=a=>{r(Yn({code:t,key:"showHint",value:a}))};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:xT.showHint,children:[T.jsx("h4",{children:e("show_question_hint")}),T.jsx(ls,{checked:n,onChange:a=>i(a.target.checked)})]}),n&&T.jsx(tg,{code:t,objectName:"hint"})]})}function tg({code:t,objectName:e,title:r}){const n=wt(),i=(s,l)=>{n(Io({code:t,key:e,lang:s,value:l}))},a=ye(s=>s.designState.langInfo.languagesList),o=ye(s=>{var l;return(l=s.designState[t].content)==null?void 0:l[e]});return T.jsxs(T.Fragment,{children:[r&&T.jsx("h4",{children:r}),a.map(s=>T.jsx("div",{className:xT.inputValue,children:T.jsx(Zt,{label:s.name,variant:"standard",type:"text",value:(o==null?void 0:o[s.code])||"",onChange:l=>i(s.code,l.target.value)})},s.code))]})}const cW="_boxContainer_182us_1",fW="_mt10_182us_10",dW="_uppercase_182us_14",pW="_title_182us_18",Y_={boxContainer:cW,mt10:fW,uppercase:dW,title:pW},hW="_boxContainer_1vhs4_1",vW="_mt10_1vhs4_9",gW="_uppercase_1vhs4_13",mW="_title_1vhs4_18",yW="_titleContent_1vhs4_28",bW="_standardError_1vhs4_33",_W="_errorWrapper_1vhs4_44",SW="_errorLabelWrapper_1vhs4_48",OW="_errorItem_1vhs4_52",xW="_errorItemContainer_1vhs4_58",Wn={boxContainer:hW,mt10:vW,uppercase:gW,title:mW,titleContent:yW,standardError:bW,errorWrapper:_W,errorLabelWrapper:SW,errorItem:OW,errorItemContainer:xW};function wW({validationRule:t,code:e,rule:r,t:n}){const i=wt(),a=t.isCustomErrorActive||!1,o=ye(f=>f.designState.langInfo.languagesList);let s=t.content||{};const l=f=>{i(md({code:e,rule:r,key:"isCustomErrorActive",value:f}))},u=(f,d)=>{const p={...s,[f]:d};i(md({code:e,rule:r,key:"content",value:p}))},c={inputProps:{"aria-label":"Switch validation"}};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:n("standard_error")}),T.jsxs("div",{className:Wn.errorWrapper,children:[T.jsx("div",{className:Wn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Wn.errorItem," ").concat(Wn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{children:o.map(f=>T.jsx("div",{className:Wn.errorItem,children:n(r,{ns:"run",lng:f.code,...t})},f.code))})]}),T.jsxs("div",{className:Wn.title,children:[T.jsx("h4",{className:Wn.mt10,children:n("custom_error")}),T.jsx(ls,{...c,checked:a,onChange:f=>l(f.target.checked)})]}),a?T.jsxs("div",{className:Wn.errorWrapper,children:[T.jsx("div",{className:Wn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Wn.errorItem," ").concat(Wn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{className:Wn.errorItemContainer,children:o.map(f=>T.jsx("div",{className:Wn.errorItem,children:T.jsx(Zt,{size:"small",variant:"standard",value:s[f.code]||"",onChange:d=>u(f.code,d.target.value)})},f.code))})]}):""]})}const EW="_valueValidationItems_1hupk_1",CW="_valueValidationItemsContainer_1hupk_6",TW="_error_1hupk_11",K_={valueValidationItems:EW,valueValidationItemsContainer:CW,error:TW};function kW({value:t,onValueChanged:e}){const{t:r}=us("design"),n=i=>{let a=[...t];i.target.checked?a.push(i.target.name):a=t.filter(o=>o!=i.target.name),e(a)};return T.jsxs(Dr,{children:[T.jsx(wE,{id:"file-type-label",children:r("file_type")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),T.jsx($a,{control:T.jsx(Li,{checked:t.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}const IW=j.memo(kW);function AW({code:t,validation:e,rule:r,t:n}){const i=ye(f=>{var d;return((d=f.designState[t].children)==null?void 0:d.length)||0}),a=j.useMemo(()=>{switch(r){case"validation_min_char_length":return[1,Number.MAX_VALUE];case"validation_max_file_size":return[1,Number.MAX_VALUE];case"validation_max_char_length":return[1,Number.MAX_VALUE];case"validation_max_word_count":return[1,Number.MAX_VALUE];case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,i];default:return}},[i]),o=wt(),s=(f,d)=>{o(md({rule:r,code:t,key:f,value:d}))},l=(f,d)=>{s(f,typeof a>"u"?d:Math.max(a[0],Math.min(a[1],d)))};let u=jW(e);const c=r!="validation_required"&&r!="validation_one_response_per_col"&&r!="validation_pattern_email"&&r!="validation_file_types";return T.jsxs("div",{className:K_.valueValidationItemsContainer,children:[u&&c&&T.jsx("div",{children:n(r+"_subtitle")}),T.jsx("div",{className:K_.valueValidationItems,children:r=="validation_file_types"?T.jsx(IW,{value:e.fileTypes,onValueChanged:f=>l("fileTypes",f)}):u.map(f=>{const d=typeof a<"u"&&(e[f]<a[0]||e[f]>a[1]);return T.jsx(Zt,{error:d,value:e[f],variant:"outlined",size:"small",type:typeof e[f]=="number"?"number":"text",onChange:p=>l(f,typeof e[f]=="number"?parseInt(p.target.value):p.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},f)})})]})}const jW=t=>Object.keys(t).filter(e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e));function PW({rule:t,t:e,code:r}){console.debug("ValidationSetupItem: "+r);const n=wt(),i=ye(l=>{var u,c;return(c=(u=l.designState[r])==null?void 0:u.validation)==null?void 0:c[t]}),a={inputProps:{"aria-label":"Switch validation"}},o=(i==null?void 0:i.isActive)||!1,s=l=>{n(md({code:r,rule:t,key:"isActive",value:l}))};return T.jsxs("div",{children:[T.jsxs("div",{className:Y_.title,children:[T.jsx("h4",{children:e(t+"_title")}),T.jsx(ls,{...a,checked:o,onChange:l=>s(l.target.checked)})]}),o&&T.jsxs(ht,{className:Y_.boxContainer,children:[T.jsx(AW,{code:r,validation:i,rule:t,t:e}),T.jsx(wW,{code:r,validationRule:i,rule:t,t:e})]})]})}const LW=j.memo(PW),FW="_toggleValue_1d9zg_1",RW="_inputValue_1d9zg_8",$W={toggleValue:FW,inputValue:RW};function ra({label:t,code:e,rule:r}){const n=wt(),i=ye(s=>s.designState[e][r]||!1),a=s=>{n(Yn({code:e,key:r,value:s}))},o={inputProps:{"aria-label":"Switch demo"}};return T.jsxs("div",{className:$W.toggleValue,children:[T.jsx("h4",{children:t}),T.jsx(ls,{...o,checked:i,onChange:s=>{a(s.target.checked)}})]})}const NW="_selectValue_9m4tq_1",DW={selectValue:NW};function Rs({label:t,rule:e,defaultValue:r,code:n,values:i,labels:a}){const o=wt(),s=ye(u=>{var c;return((c=u.designState[n])==null?void 0:c[e])||r}),l=u=>{o(Yn({code:n,key:e,value:u}))};return T.jsxs("div",{className:DW.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Yi,{id:"select-value",value:s,label:"Select Value",onChange:u=>{l(u.target.value)},children:i.map((u,c)=>T.jsx(Zr,{value:u,children:a?a[c]:u},u))})})]})}const MW="_selectDate_1qp3e_1",VW="_selectDateField_1qp3e_8",J_={selectDate:MW,selectDateField:VW};function Q_({label:t,rule:e,code:r}){const n=wt(),i=ye(a=>a.designState[r][e]||"");return T.jsxs("div",{className:J_.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Zt,{className:J_.selectDateField,variant:"standard",value:i,type:"date",onChange:a=>{n(Yn({code:r,key:e,value:a.target.value}))}})]})}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function BW(t){if(Array.isArray(t))return t}function qW(t,e,r){return(e=WW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oo.apply(null,arguments)}function HW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zW(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(r),!0).forEach(function(n){qW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ju(t,e){return BW(t)||HW(t,e)||GW(t,e)||zW()}function UW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WW(t){var e=UW(t,"string");return typeof e=="symbol"?e:e+""}function GW(t,e){if(t){if(typeof t=="string")return X_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X_(t,e):void 0}}var wT=J.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),YW=function(e){var r=e.open,n=e.options,i=e.onCancel,a=e.onConfirm,o=e.onClose,s=n.title,l=n.description,u=n.content,c=n.confirmationText,f=n.cancellationText,d=n.dialogProps,p=n.dialogActionsProps,v=n.confirmationButtonProps,h=n.cancellationButtonProps,m=n.titleProps,y=n.contentProps,g=n.allowClose,_=n.confirmationKeyword,b=n.confirmationKeywordTextFieldProps,S=n.hideCancelButton,O=n.buttonOrder,x=n.acknowledgement,E=n.acknowledgementFormControlLabelProps,k=n.acknowledgementCheckboxProps,w=j.useState(""),I=Ju(w,2),C=I[0],A=I[1],P=j.useState(!1),L=Ju(P,2),V=L[0],R=L[1],U=!!(_&&C!==_||x&&!V),M=j.createElement(j.Fragment,null,x&&j.createElement($a,oo({},E,{control:j.createElement(Li,oo({},k,{value:V,onChange:function(B,z){return R(z)}})),label:x}))),$=j.createElement(j.Fragment,null,_&&j.createElement(Zt,oo({onChange:function(B){return A(B.target.value)},value:C,fullWidth:!0},b))),F=O.map(function(N){if(N==="cancel")return!S&&j.createElement(Ut,oo({key:"cancel"},h,{onClick:i}),f);if(N==="confirm")return j.createElement(Ut,oo({key:"confirm",color:"primary",disabled:U},v,{onClick:a}),c);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(N))});return j.createElement(nm,oo({fullWidth:!0},d,{open:r,onClose:g?o:null}),s&&j.createElement(em,m,s),u?j.createElement(Uu,y,u,$,M):l?j.createElement(Uu,y,j.createElement(h2,null,l),$,M):(_||M)&&j.createElement(Uu,y,$,M),j.createElement(rm,p,F))},na={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},KW=function(e,r){var n=Fr(Fr({},e.dialogProps||na.dialogProps),r.dialogProps||{}),i=Fr(Fr({},e.dialogActionsProps||na.dialogActionsProps),r.dialogActionsProps||{}),a=Fr(Fr({},e.confirmationButtonProps||na.confirmationButtonProps),r.confirmationButtonProps||{}),o=Fr(Fr({},e.cancellationButtonProps||na.cancellationButtonProps),r.cancellationButtonProps||{}),s=Fr(Fr({},e.titleProps||na.titleProps),r.titleProps||{}),l=Fr(Fr({},e.contentProps||na.contentProps),r.contentProps||{}),u=Fr(Fr({},e.confirmationKeywordTextFieldProps||na.confirmationKeywordTextFieldProps),r.confirmationKeywordTextFieldProps||{}),c=Fr(Fr({},e.acknowledgementFormControlLabelProps||na.acknowledgementFormControlLabelProps),r.acknowledgementFormControlLabelProps||{}),f=Fr(Fr({},e.acknowledgementCheckboxProps||na.acknowledgementCheckboxProps),r.acknowledgementCheckboxProps||{});return Fr(Fr(Fr(Fr({},na),e),r),{},{dialogProps:n,dialogActionsProps:i,confirmationButtonProps:a,cancellationButtonProps:o,titleProps:s,contentProps:l,confirmationKeywordTextFieldProps:u,acknowledgementFormControlLabelProps:c,acknowledgementCheckboxProps:f})},JW=function(e){var r=e.children,n=e.defaultOptions,i=n===void 0?{}:n,a=J.useState(null),o=Ju(a,2),s=o[0],l=o[1],u=J.useState({}),c=Ju(u,2),f=c[0],d=c[1],p=J.useState(0),v=Ju(p,2),h=v[0],m=v[1],y=J.useCallback(function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(E,k){m(function(w){return w+1}),d(x),l({resolve:E,reject:k,parentId:O})})},[]),g=J.useCallback(function(O){l(function(x){return x&&x.parentId===O?null:x})},[]),_=J.useCallback(function(){l(null)},[]),b=J.useCallback(function(){l(function(O){return O&&O.reject(),null})},[]),S=J.useCallback(function(){l(function(O){return O&&O.resolve(),null})},[]);return J.useCallback(function(O){return y("global",O)}),j.createElement(J.Fragment,null,j.createElement(wT.Provider,{value:{confirmBase:y,closeOnParentUnmount:g}},r),j.createElement(YW,{key:h,open:s!==null,options:KW(i,f!=null?f:{}),onClose:_,onCancel:b,onConfirm:S}))},QW=0,XW=function(){var e=J.useMemo(function(){return QW++},[]);return"confirm-".concat(e)},ZW=function(){var e=XW(),r=J.useContext(wT),n=r.confirmBase,i=r.closeOnParentUnmount,a=J.useCallback(function(o){return n(e,o)},[e]);return J.useEffect(function(){return function(){i(e)}},[e]),a};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ET;function je(){return ET.apply(null,arguments)}function eG(t){ET=t}function Vi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ts(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ey(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Dt(t,e))return!1;return!0}function Vn(t){return t===void 0}function Ua(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function $c(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function CT(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function po(t,e){for(var r in e)Dt(e,r)&&(t[r]=e[r]);return Dt(e,"toString")&&(t.toString=e.toString),Dt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function wa(t,e,r,n){return KT(t,e,r,n,!0).utc()}function tG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(t){return t._pf==null&&(t._pf=tG()),t._pf}var rg;Array.prototype.some?rg=Array.prototype.some:rg=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function ty(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ct(t),r=rg.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Lp(t){var e=wa(NaN);return t!=null?po(ct(e),t):ct(e).userInvalidated=!0,e}var eS=je.momentProperties=[],Qh=!1;function ry(t,e){var r,n,i,a=eS.length;if(Vn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Vn(e._i)||(t._i=e._i),Vn(e._f)||(t._f=e._f),Vn(e._l)||(t._l=e._l),Vn(e._strict)||(t._strict=e._strict),Vn(e._tzm)||(t._tzm=e._tzm),Vn(e._isUTC)||(t._isUTC=e._isUTC),Vn(e._offset)||(t._offset=e._offset),Vn(e._pf)||(t._pf=ct(e)),Vn(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=eS[r],i=e[n],Vn(i)||(t[n]=i);return t}function Nc(t){ry(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Qh===!1&&(Qh=!0,je.updateOffset(this),Qh=!1)}function Bi(t){return t instanceof Nc||t!=null&&t._isAMomentObject!=null}function TT(t){je.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ci(t,e){var r=!0;return po(function(){if(je.deprecationHandler!=null&&je.deprecationHandler(null,t),r){var n=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(o in arguments[0])Dt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}TT(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var tS={};function kT(t,e){je.deprecationHandler!=null&&je.deprecationHandler(t,e),tS[t]||(TT(e),tS[t]=!0)}je.suppressDeprecationWarnings=!1;je.deprecationHandler=null;function Ea(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function rG(t){var e,r;for(r in t)Dt(t,r)&&(e=t[r],Ea(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ng(t,e){var r=po({},t),n;for(n in e)Dt(e,n)&&(ts(t[n])&&ts(e[n])?(r[n]={},po(r[n],t[n]),po(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Dt(t,n)&&!Dt(e,n)&&ts(t[n])&&(r[n]=po({},r[n]));return r}function ny(t){t!=null&&this.set(t)}var ig;Object.keys?ig=Object.keys:ig=function(t){var e,r=[];for(e in t)Dt(t,e)&&r.push(e);return r};var nG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function iG(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Ea(n)?n.call(e,r):n}function ba(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var iy=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ff=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xh={},_l={};function Ye(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(_l[t]=i),e&&(_l[e[0]]=function(){return ba(i.apply(this,arguments),e[1],e[2])}),r&&(_l[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function aG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function oG(t){var e=t.match(iy),r,n;for(r=0,n=e.length;r<n;r++)_l[e[r]]?e[r]=_l[e[r]]:e[r]=aG(e[r]);return function(i){var a="",o;for(o=0;o<n;o++)a+=Ea(e[o])?e[o].call(i,t):e[o];return a}}function ud(t,e){return t.isValid()?(e=IT(e,t.localeData()),Xh[e]=Xh[e]||oG(e),Xh[e](t)):t.localeData().invalidDate()}function IT(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(Ff.lastIndex=0;r>=0&&Ff.test(t);)t=t.replace(Ff,n),Ff.lastIndex=0,r-=1;return t}var sG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function lG(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(iy).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var uG="Invalid date";function cG(){return this._invalidDate}var fG="%d",dG=/\d{1,2}/;function pG(t){return this._ordinal.replace("%d",t)}var hG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function vG(t,e,r,n){var i=this._relativeTime[r];return Ea(i)?i(t,e,r,n):i.replace(/%d/i,t)}function gG(t,e){var r=this._relativeTime[t>0?"future":"past"];return Ea(r)?r(e):r.replace(/%s/i,e)}var rS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ti(t){return typeof t=="string"?rS[t]||rS[t.toLowerCase()]:void 0}function ay(t){var e={},r,n;for(n in t)Dt(t,n)&&(r=Ti(n),r&&(e[r]=t[n]));return e}var mG={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function yG(t){var e=[],r;for(r in t)Dt(t,r)&&e.push({unit:r,priority:mG[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var AT=/\d/,ii=/\d\d/,jT=/\d{3}/,oy=/\d{4}/,Fp=/[+-]?\d{6}/,_r=/\d\d?/,PT=/\d\d\d\d?/,LT=/\d\d\d\d\d\d?/,Rp=/\d{1,3}/,sy=/\d{1,4}/,$p=/[+-]?\d{1,6}/,Xl=/\d+/,Np=/[+-]?\d+/,bG=/Z|[+-]\d\d:?\d\d/gi,Dp=/Z|[+-]\d\d(?::?\d\d)?/gi,_G=/[+-]?\d+(\.\d{1,3})?/,Dc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zl=/^[1-9]\d?/,ly=/^([1-9]\d|\d)/,Ld;Ld={};function $e(t,e,r){Ld[t]=Ea(e)?e:function(n,i){return n&&r?r:e}}function SG(t,e){return Dt(Ld,t)?Ld[t](e._strict,e._locale):new RegExp(OG(t))}function OG(t){return Ha(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function Ha(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ci(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ot(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=ci(e)),r}var ag={};function tr(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Ua(e)&&(n=function(a,o){o[e]=Ot(a)}),i=t.length,r=0;r<i;r++)ag[t[r]]=n}function Mc(t,e){tr(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function xG(t,e,r){e!=null&&Dt(ag,t)&&ag[t](e,r._a,r,t)}function Mp(t){return t%4===0&&t%100!==0||t%400===0}var bn=0,Ba=1,ua=2,en=3,$i=4,qa=5,Jo=6,wG=7,EG=8;Ye("Y",0,0,function(){var t=this.year();return t<=9999?ba(t,4):"+"+t});Ye(0,["YY",2],0,function(){return this.year()%100});Ye(0,["YYYY",4],0,"year");Ye(0,["YYYYY",5],0,"year");Ye(0,["YYYYYY",6,!0],0,"year");$e("Y",Np);$e("YY",_r,ii);$e("YYYY",sy,oy);$e("YYYYY",$p,Fp);$e("YYYYYY",$p,Fp);tr(["YYYYY","YYYYYY"],bn);tr("YYYY",function(t,e){e[bn]=t.length===2?je.parseTwoDigitYear(t):Ot(t)});tr("YY",function(t,e){e[bn]=je.parseTwoDigitYear(t)});tr("Y",function(t,e){e[bn]=parseInt(t,10)});function Qu(t){return Mp(t)?366:365}je.parseTwoDigitYear=function(t){return Ot(t)+(Ot(t)>68?1900:2e3)};var FT=eu("FullYear",!0);function CG(){return Mp(this.year())}function eu(t,e){return function(r){return r!=null?(RT(this,t,r),je.updateOffset(this,e),this):fc(this,t)}}function fc(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function RT(t,e,r){var n,i,a,o,s;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=t.month(),s=t.date(),s=s===29&&o===1&&!Mp(a)?28:s,i?n.setUTCFullYear(a,o,s):n.setFullYear(a,o,s)}}function TG(t){return t=Ti(t),Ea(this[t])?this[t]():this}function kG(t,e){if(typeof t=="object"){t=ay(t);var r=yG(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=Ti(t),Ea(this[t]))return this[t](e);return this}function IG(t,e){return(t%e+e)%e}var Vr;Array.prototype.indexOf?Vr=Array.prototype.indexOf:Vr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function uy(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=IG(e,12);return t+=(e-r)/12,r===1?Mp(t)?29:28:31-r%7%2}Ye("M",["MM",2],"Mo",function(){return this.month()+1});Ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});$e("M",_r,Zl);$e("MM",_r,ii);$e("MMM",function(t,e){return e.monthsShortRegex(t)});$e("MMMM",function(t,e){return e.monthsRegex(t)});tr(["M","MM"],function(t,e){e[Ba]=Ot(t)-1});tr(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[Ba]=i:ct(r).invalidMonth=t});var AG="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$T="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),NT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jG=Dc,PG=Dc;function LG(t,e){return t?Vi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||NT).test(e)?"format":"standalone"][t.month()]:Vi(this._months)?this._months:this._months.standalone}function FG(t,e){return t?Vi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[NT.test(e)?"format":"standalone"][t.month()]:Vi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function RG(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=wa([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null))}function $G(t,e,r){var n,i,a;if(this._monthsParseExact)return RG.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=wa([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function DT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ot(e);else if(e=t.localeData().monthsParse(e),!Ua(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,uy(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function MT(t){return t!=null?(DT(this,t),je.updateOffset(this,!0),this):fc(this,"Month")}function NG(){return uy(this.year(),this.month())}function DG(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||VT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Dt(this,"_monthsShortRegex")||(this._monthsShortRegex=jG),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function MG(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||VT.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Dt(this,"_monthsRegex")||(this._monthsRegex=PG),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function VT(){function t(l,u){return u.length-l.length}var e=[],r=[],n=[],i,a,o,s;for(i=0;i<12;i++)a=wa([2e3,i]),o=Ha(this.monthsShort(a,"")),s=Ha(this.months(a,"")),e.push(o),r.push(s),n.push(s),n.push(o);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function VG(t,e,r,n,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,a,o),s}function dc(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Fd(t,e,r){var n=7+e-r,i=(7+dc(t,0,n).getUTCDay()-e)%7;return-i+n-1}function BT(t,e,r,n,i){var a=(7+r-n)%7,o=Fd(t,n,i),s=1+7*(e-1)+a+o,l,u;return s<=0?(l=t-1,u=Qu(l)+s):s>Qu(t)?(l=t+1,u=s-Qu(t)):(l=t,u=s),{year:l,dayOfYear:u}}function pc(t,e,r){var n=Fd(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,o;return i<1?(o=t.year()-1,a=i+za(o,e,r)):i>za(t.year(),e,r)?(a=i-za(t.year(),e,r),o=t.year()+1):(o=t.year(),a=i),{week:a,year:o}}function za(t,e,r){var n=Fd(t,e,r),i=Fd(t+1,e,r);return(Qu(t)-n+i)/7}Ye("w",["ww",2],"wo","week");Ye("W",["WW",2],"Wo","isoWeek");$e("w",_r,Zl);$e("ww",_r,ii);$e("W",_r,Zl);$e("WW",_r,ii);Mc(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=Ot(t)});function BG(t){return pc(t,this._week.dow,this._week.doy).week}var qG={dow:0,doy:6};function HG(){return this._week.dow}function zG(){return this._week.doy}function UG(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function WG(t){var e=pc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ye("d",0,"do","day");Ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ye("e",0,0,"weekday");Ye("E",0,0,"isoWeekday");$e("d",_r);$e("e",_r);$e("E",_r);$e("dd",function(t,e){return e.weekdaysMinRegex(t)});$e("ddd",function(t,e){return e.weekdaysShortRegex(t)});$e("dddd",function(t,e){return e.weekdaysRegex(t)});Mc(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ct(r).invalidWeekday=t});Mc(["d","e","E"],function(t,e,r,n){e[n]=Ot(t)});function GG(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function YG(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function cy(t,e){return t.slice(e,7).concat(t.slice(0,e))}var KG="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JG="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QG=Dc,XG=Dc,ZG=Dc;function e7(t,e){var r=Vi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?cy(r,this._week.dow):t?r[t.day()]:r}function t7(t){return t===!0?cy(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function r7(t){return t===!0?cy(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function n7(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=wa([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1||(i=Vr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Vr.call(this._minWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function i7(t,e,r){var n,i,a;if(this._weekdaysParseExact)return n7.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=wa([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function a7(t){if(!this.isValid())return t!=null?this:NaN;var e=fc(this,"Day");return t!=null?(t=GG(t,this.localeData()),this.add(t-e,"d")):e}function o7(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function s7(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=YG(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function l7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Dt(this,"_weekdaysRegex")||(this._weekdaysRegex=QG),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function u7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=XG),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function c7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ZG),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fy(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],i=[],a,o,s,l,u;for(a=0;a<7;a++)o=wa([2e3,1]).day(a),s=Ha(this.weekdaysMin(o,"")),l=Ha(this.weekdaysShort(o,"")),u=Ha(this.weekdays(o,"")),e.push(s),r.push(l),n.push(u),i.push(s),i.push(l),i.push(u);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function dy(){return this.hours()%12||12}function f7(){return this.hours()||24}Ye("H",["HH",2],0,"hour");Ye("h",["hh",2],0,dy);Ye("k",["kk",2],0,f7);Ye("hmm",0,0,function(){return""+dy.apply(this)+ba(this.minutes(),2)});Ye("hmmss",0,0,function(){return""+dy.apply(this)+ba(this.minutes(),2)+ba(this.seconds(),2)});Ye("Hmm",0,0,function(){return""+this.hours()+ba(this.minutes(),2)});Ye("Hmmss",0,0,function(){return""+this.hours()+ba(this.minutes(),2)+ba(this.seconds(),2)});function HT(t,e){Ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}HT("a",!0);HT("A",!1);function zT(t,e){return e._meridiemParse}$e("a",zT);$e("A",zT);$e("H",_r,ly);$e("h",_r,Zl);$e("k",_r,Zl);$e("HH",_r,ii);$e("hh",_r,ii);$e("kk",_r,ii);$e("hmm",PT);$e("hmmss",LT);$e("Hmm",PT);$e("Hmmss",LT);tr(["H","HH"],en);tr(["k","kk"],function(t,e,r){var n=Ot(t);e[en]=n===24?0:n});tr(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});tr(["h","hh"],function(t,e,r){e[en]=Ot(t),ct(r).bigHour=!0});tr("hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n)),ct(r).bigHour=!0});tr("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n,2)),e[qa]=Ot(t.substr(i)),ct(r).bigHour=!0});tr("Hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n))});tr("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n,2)),e[qa]=Ot(t.substr(i))});function d7(t){return(t+"").toLowerCase().charAt(0)==="p"}var p7=/[ap]\.?m?\.?/i,h7=eu("Hours",!0);function v7(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var UT={calendar:nG,longDateFormat:sG,invalidDate:uG,ordinal:fG,dayOfMonthOrdinalParse:dG,relativeTime:hG,months:AG,monthsShort:$T,week:qG,weekdays:KG,weekdaysMin:JG,weekdaysShort:qT,meridiemParse:p7},Or={},ku={},hc;function g7(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function nS(t){return t&&t.toLowerCase().replace("_","-")}function m7(t){for(var e=0,r,n,i,a;e<t.length;){for(a=nS(t[e]).split("-"),r=a.length,n=nS(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=Vp(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&g7(a,n)>=r-1)break;r--}e++}return hc}function y7(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Vp(t){var e=null,r;if(Or[t]===void 0&&typeof module<"u"&&module&&module.exports&&y7(t))try{e=hc._abbr,r=require,r("./locale/"+t),mo(e)}catch(n){Or[t]=null}return Or[t]}function mo(t,e){var r;return t&&(Vn(e)?r=Ja(t):r=py(t,e),r?hc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),hc._abbr}function py(t,e){if(e!==null){var r,n=UT;if(e.abbr=t,Or[t]!=null)kT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Or[t]._config;else if(e.parentLocale!=null)if(Or[e.parentLocale]!=null)n=Or[e.parentLocale]._config;else if(r=Vp(e.parentLocale),r!=null)n=r._config;else return ku[e.parentLocale]||(ku[e.parentLocale]=[]),ku[e.parentLocale].push({name:t,config:e}),null;return Or[t]=new ny(ng(n,e)),ku[t]&&ku[t].forEach(function(i){py(i.name,i.config)}),mo(t),Or[t]}else return delete Or[t],null}function b7(t,e){if(e!=null){var r,n,i=UT;Or[t]!=null&&Or[t].parentLocale!=null?Or[t].set(ng(Or[t]._config,e)):(n=Vp(t),n!=null&&(i=n._config),e=ng(i,e),n==null&&(e.abbr=t),r=new ny(e),r.parentLocale=Or[t],Or[t]=r),mo(t)}else Or[t]!=null&&(Or[t].parentLocale!=null?(Or[t]=Or[t].parentLocale,t===mo()&&mo(t)):Or[t]!=null&&delete Or[t]);return Or[t]}function Ja(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return hc;if(!Vi(t)){if(e=Vp(t),e)return e;t=[t]}return m7(t)}function _7(){return ig(Or)}function hy(t){var e,r=t._a;return r&&ct(t).overflow===-2&&(e=r[Ba]<0||r[Ba]>11?Ba:r[ua]<1||r[ua]>uy(r[bn],r[Ba])?ua:r[en]<0||r[en]>24||r[en]===24&&(r[$i]!==0||r[qa]!==0||r[Jo]!==0)?en:r[$i]<0||r[$i]>59?$i:r[qa]<0||r[qa]>59?qa:r[Jo]<0||r[Jo]>999?Jo:-1,ct(t)._overflowDayOfYear&&(e<bn||e>ua)&&(e=ua),ct(t)._overflowWeeks&&e===-1&&(e=wG),ct(t)._overflowWeekday&&e===-1&&(e=EG),ct(t).overflow=e),t}var S7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,x7=/Z|[+-]\d\d(?::?\d\d)?/,Rf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Zh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],w7=/^\/?Date\((-?\d+)/i,E7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,C7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function WT(t){var e,r,n=t._i,i=S7.exec(n)||O7.exec(n),a,o,s,l,u=Rf.length,c=Zh.length;if(i){for(ct(t).iso=!0,e=0,r=u;e<r;e++)if(Rf[e][1].exec(i[1])){o=Rf[e][0],a=Rf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=c;e<r;e++)if(Zh[e][1].exec(i[3])){s=(i[2]||" ")+Zh[e][0];break}if(s==null){t._isValid=!1;return}}if(!a&&s!=null){t._isValid=!1;return}if(i[4])if(x7.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(s||"")+(l||""),gy(t)}else t._isValid=!1}function T7(t,e,r,n,i,a){var o=[k7(t),$T.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function k7(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function I7(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function A7(t,e,r){if(t){var n=qT.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ct(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function j7(t,e,r){if(t)return C7[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function GT(t){var e=E7.exec(I7(t._i)),r;if(e){if(r=T7(e[4],e[3],e[2],e[5],e[6],e[7]),!A7(e[1],r,t))return;t._a=r,t._tzm=j7(e[8],e[9],e[10]),t._d=dc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ct(t).rfc2822=!0}else t._isValid=!1}function P7(t){var e=w7.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(WT(t),t._isValid===!1)delete t._isValid;else return;if(GT(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:je.createFromInputFallback(t)}je.createFromInputFallback=Ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ys(t,e,r){return t!=null?t:e!=null?e:r}function L7(t){var e=new Date(je.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vy(t){var e,r,n=[],i,a,o;if(!t._d){for(i=L7(t),t._w&&t._a[ua]==null&&t._a[Ba]==null&&F7(t),t._dayOfYear!=null&&(o=Ys(t._a[bn],i[bn]),(t._dayOfYear>Qu(o)||t._dayOfYear===0)&&(ct(t)._overflowDayOfYear=!0),r=dc(o,0,t._dayOfYear),t._a[Ba]=r.getUTCMonth(),t._a[ua]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[en]===24&&t._a[$i]===0&&t._a[qa]===0&&t._a[Jo]===0&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?dc:VG).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(ct(t).weekdayMismatch=!0)}}function F7(t){var e,r,n,i,a,o,s,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,o=4,r=Ys(e.GG,t._a[bn],pc(yr(),1,4).year),n=Ys(e.W,1),i=Ys(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,u=pc(yr(),a,o),r=Ys(e.gg,t._a[bn],u.year),n=Ys(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>za(r,a,o)?ct(t)._overflowWeeks=!0:l!=null?ct(t)._overflowWeekday=!0:(s=BT(r,n,i,a,o),t._a[bn]=s.year,t._dayOfYear=s.dayOfYear)}je.ISO_8601=function(){};je.RFC_2822=function(){};function gy(t){if(t._f===je.ISO_8601){WT(t);return}if(t._f===je.RFC_2822){GT(t);return}t._a=[],ct(t).empty=!0;var e=""+t._i,r,n,i,a,o,s=e.length,l=0,u,c;for(i=IT(t._f,t._locale).match(iy)||[],c=i.length,r=0;r<c;r++)a=i[r],n=(e.match(SG(a,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ct(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),_l[a]?(n?ct(t).empty=!1:ct(t).unusedTokens.push(a),xG(a,n,t)):t._strict&&!n&&ct(t).unusedTokens.push(a);ct(t).charsLeftOver=s-l,e.length>0&&ct(t).unusedInput.push(e),t._a[en]<=12&&ct(t).bigHour===!0&&t._a[en]>0&&(ct(t).bigHour=void 0),ct(t).parsedDateParts=t._a.slice(0),ct(t).meridiem=t._meridiem,t._a[en]=R7(t._locale,t._a[en],t._meridiem),u=ct(t).era,u!==null&&(t._a[bn]=t._locale.erasConvertYear(u,t._a[bn])),vy(t),hy(t)}function R7(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function $7(t){var e,r,n,i,a,o,s=!1,l=t._f.length;if(l===0){ct(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,e=ry({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],gy(e),ty(e)&&(o=!0),a+=ct(e).charsLeftOver,a+=ct(e).unusedTokens.length*10,ct(e).score=a,s?a<n&&(n=a,r=e):(n==null||a<n||o)&&(n=a,r=e,o&&(s=!0));po(t,r||e)}function N7(t){if(!t._d){var e=ay(t._i),r=e.day===void 0?e.date:e.day;t._a=CT([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),vy(t)}}function D7(t){var e=new Nc(hy(YT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function YT(t){var e=t._i,r=t._f;return t._locale=t._locale||Ja(t._l),e===null||r===void 0&&e===""?Lp({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Bi(e)?new Nc(hy(e)):($c(e)?t._d=e:Vi(r)?$7(t):r?gy(t):M7(t),ty(t)||(t._d=null),t))}function M7(t){var e=t._i;Vn(e)?t._d=new Date(je.now()):$c(e)?t._d=new Date(e.valueOf()):typeof e=="string"?P7(t):Vi(e)?(t._a=CT(e.slice(0),function(r){return parseInt(r,10)}),vy(t)):ts(e)?N7(t):Ua(e)?t._d=new Date(e):je.createFromInputFallback(t)}function KT(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ts(t)&&ey(t)||Vi(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,D7(a)}function yr(t,e,r,n){return KT(t,e,r,n,!1)}var V7=Ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Lp()}),B7=Ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Lp()});function JT(t,e){var r,n;if(e.length===1&&Vi(e[0])&&(e=e[0]),!e.length)return yr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function q7(){var t=[].slice.call(arguments,0);return JT("isBefore",t)}function H7(){var t=[].slice.call(arguments,0);return JT("isAfter",t)}var z7=function(){return Date.now?Date.now():+new Date},Iu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function U7(t){var e,r=!1,n,i=Iu.length;for(e in t)if(Dt(t,e)&&!(Vr.call(Iu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[Iu[n]]){if(r)return!1;parseFloat(t[Iu[n]])!==Ot(t[Iu[n]])&&(r=!0)}return!0}function W7(){return this._isValid}function G7(){return Qi(NaN)}function Bp(t){var e=ay(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=U7(e),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ja(),this._bubble()}function cd(t){return t instanceof Bp}function og(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Y7(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<n;o++)Ot(t[o])!==Ot(e[o])&&a++;return a+i}function QT(t,e){Ye(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ba(~~(r/60),2)+e+ba(~~r%60,2)})}QT("Z",":");QT("ZZ","");$e("Z",Dp);$e("ZZ",Dp);tr(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=my(Dp,t)});var K7=/([\+\-]|\d\d)/gi;function my(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(K7)||["-",0,0],a=+(i[1]*60)+Ot(i[2]),a===0?0:i[0]==="+"?a:-a)}function yy(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(Bi(t)||$c(t)?t.valueOf():yr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),je.updateOffset(r,!1),r):yr(t).local()}function sg(t){return-Math.round(t._d.getTimezoneOffset())}je.updateOffset=function(){};function J7(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=my(Dp,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=sg(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?ek(this,Qi(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,je.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:sg(this)}function Q7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function X7(t){return this.utcOffset(0,t)}function Z7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(sg(this),"m")),this}function eY(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=my(bG,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function tY(t){return this.isValid()?(t=t?yr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function rY(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nY(){if(!Vn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ry(t,this),t=YT(t),t._a?(e=t._isUTC?wa(t._a):yr(t._a),this._isDSTShifted=this.isValid()&&Y7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iY(){return this.isValid()?!this._isUTC:!1}function aY(){return this.isValid()?this._isUTC:!1}function XT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var oY=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sY=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qi(t,e){var r=t,n=null,i,a,o;return cd(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Ua(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=oY.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:Ot(n[ua])*i,h:Ot(n[en])*i,m:Ot(n[$i])*i,s:Ot(n[qa])*i,ms:Ot(og(n[Jo]*1e3))*i}):(n=sY.exec(t))?(i=n[1]==="-"?-1:1,r={y:qo(n[2],i),M:qo(n[3],i),w:qo(n[4],i),d:qo(n[5],i),h:qo(n[6],i),m:qo(n[7],i),s:qo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=lY(yr(r.from),yr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new Bp(r),cd(t)&&Dt(t,"_locale")&&(a._locale=t._locale),cd(t)&&Dt(t,"_isValid")&&(a._isValid=t._isValid),a}Qi.fn=Bp.prototype;Qi.invalid=G7;function qo(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function iS(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function lY(t,e){var r;return t.isValid()&&e.isValid()?(e=yy(e,t),t.isBefore(e)?r=iS(t,e):(r=iS(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function ZT(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(kT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Qi(r,n),ek(this,i,t),this}}function ek(t,e,r,n){var i=e._milliseconds,a=og(e._days),o=og(e._months);t.isValid()&&(n=n==null?!0:n,o&&DT(t,fc(t,"Month")+o*r),a&&RT(t,"Date",fc(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&je.updateOffset(t,a||o))}var uY=ZT(1,"add"),cY=ZT(-1,"subtract");function tk(t){return typeof t=="string"||t instanceof String}function fY(t){return Bi(t)||$c(t)||tk(t)||Ua(t)||pY(t)||dY(t)||t===null||t===void 0}function dY(t){var e=ts(t)&&!ey(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=n.length;for(i=0;i<o;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function pY(t){var e=Vi(t),r=!1;return e&&(r=t.filter(function(n){return!Ua(n)&&tk(t)}).length===0),e&&r}function hY(t){var e=ts(t)&&!ey(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function vY(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function gY(t,e){arguments.length===1&&(arguments[0]?fY(arguments[0])?(t=arguments[0],e=void 0):hY(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||yr(),n=yy(r,this).startOf("day"),i=je.calendarFormat(this,n)||"sameElse",a=e&&(Ea(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,yr(r)))}function mY(){return new Nc(this)}function yY(t,e){var r=Bi(t)?t:yr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function bY(t,e){var r=Bi(t)?t:yr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function _Y(t,e,r,n){var i=Bi(t)?t:yr(t),a=Bi(e)?e:yr(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function SY(t,e){var r=Bi(t)?t:yr(t),n;return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function OY(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function xY(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function wY(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=yy(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Ti(e),e){case"year":a=fd(this,n)/12;break;case"month":a=fd(this,n);break;case"quarter":a=fd(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:ci(a)}function fd(t,e){if(t.date()<e.date())return-fd(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}je.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";je.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function EY(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function CY(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?ud(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ea(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ud(r,"Z")):ud(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function TY(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function kY(t){t||(t=this.isUtc()?je.defaultFormatUtc:je.defaultFormat);var e=ud(this,t);return this.localeData().postformat(e)}function IY(t,e){return this.isValid()&&(Bi(t)&&t.isValid()||yr(t).isValid())?Qi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function AY(t){return this.from(yr(),t)}function jY(t,e){return this.isValid()&&(Bi(t)&&t.isValid()||yr(t).isValid())?Qi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function PY(t){return this.to(yr(),t)}function rk(t){var e;return t===void 0?this._locale._abbr:(e=Ja(t),e!=null&&(this._locale=e),this)}var nk=Ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function ik(){return this._locale}var Rd=1e3,Sl=60*Rd,$d=60*Sl,ak=(365*400+97)*24*$d;function Ol(t,e){return(t%e+e)%e}function ok(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-ak:new Date(t,e,r).valueOf()}function sk(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-ak:Date.UTC(t,e,r)}function LY(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?sk:ok,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ol(e+(this._isUTC?0:this.utcOffset()*Sl),$d);break;case"minute":e=this._d.valueOf(),e-=Ol(e,Sl);break;case"second":e=this._d.valueOf(),e-=Ol(e,Rd);break}return this._d.setTime(e),je.updateOffset(this,!0),this}function FY(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?sk:ok,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=$d-Ol(e+(this._isUTC?0:this.utcOffset()*Sl),$d)-1;break;case"minute":e=this._d.valueOf(),e+=Sl-Ol(e,Sl)-1;break;case"second":e=this._d.valueOf(),e+=Rd-Ol(e,Rd)-1;break}return this._d.setTime(e),je.updateOffset(this,!0),this}function RY(){return this._d.valueOf()-(this._offset||0)*6e4}function $Y(){return Math.floor(this.valueOf()/1e3)}function NY(){return new Date(this.valueOf())}function DY(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function MY(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function VY(){return this.isValid()?this.toISOString():null}function BY(){return ty(this)}function qY(){return po({},ct(this))}function HY(){return ct(this).overflow}function zY(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ye("N",0,0,"eraAbbr");Ye("NN",0,0,"eraAbbr");Ye("NNN",0,0,"eraAbbr");Ye("NNNN",0,0,"eraName");Ye("NNNNN",0,0,"eraNarrow");Ye("y",["y",1],"yo","eraYear");Ye("y",["yy",2],0,"eraYear");Ye("y",["yyy",3],0,"eraYear");Ye("y",["yyyy",4],0,"eraYear");$e("N",by);$e("NN",by);$e("NNN",by);$e("NNNN",tK);$e("NNNNN",rK);tr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ct(r).era=i:ct(r).invalidEra=t});$e("y",Xl);$e("yy",Xl);$e("yyy",Xl);$e("yyyy",Xl);$e("yo",nK);tr(["y","yy","yyy","yyyy"],bn);tr(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[bn]=r._locale.eraYearOrdinalParse(t,i):e[bn]=parseInt(t,10)});function UY(t,e){var r,n,i,a=this._eras||Ja("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=je(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=je(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function WY(t,e,r){var n,i,a=this.eras(),o,s,l;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(o=a[n].name.toUpperCase(),s=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return a[n];break;case"NNNN":if(o===t)return a[n];break;case"NNNNN":if(l===t)return a[n];break}else if([o,s,l].indexOf(t)>=0)return a[n]}function GY(t,e){var r=t.since<=t.until?1:-1;return e===void 0?je(t.since).year():je(t.since).year()+(e-t.offset)*r}function YY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function KY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function JY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function QY(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-je(i[t].since).year())*r+i[t].offset;return this.year()}function XY(t){return Dt(this,"_erasNameRegex")||_y.call(this),t?this._erasNameRegex:this._erasRegex}function ZY(t){return Dt(this,"_erasAbbrRegex")||_y.call(this),t?this._erasAbbrRegex:this._erasRegex}function eK(t){return Dt(this,"_erasNarrowRegex")||_y.call(this),t?this._erasNarrowRegex:this._erasRegex}function by(t,e){return e.erasAbbrRegex(t)}function tK(t,e){return e.erasNameRegex(t)}function rK(t,e){return e.erasNarrowRegex(t)}function nK(t,e){return e._eraYearOrdinalRegex||Xl}function _y(){var t=[],e=[],r=[],n=[],i,a,o,s,l,u=this.eras();for(i=0,a=u.length;i<a;++i)o=Ha(u[i].name),s=Ha(u[i].abbr),l=Ha(u[i].narrow),e.push(o),t.push(s),r.push(l),n.push(o),n.push(s),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Ye(0,["gg",2],0,function(){return this.weekYear()%100});Ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qp(t,e){Ye(0,[t,t.length],0,e)}qp("gggg","weekYear");qp("ggggg","weekYear");qp("GGGG","isoWeekYear");qp("GGGGG","isoWeekYear");$e("G",Np);$e("g",Np);$e("GG",_r,ii);$e("gg",_r,ii);$e("GGGG",sy,oy);$e("gggg",sy,oy);$e("GGGGG",$p,Fp);$e("ggggg",$p,Fp);Mc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=Ot(t)});Mc(["gg","GG"],function(t,e,r,n){e[n]=je.parseTwoDigitYear(t)});function iK(t){return lk.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function aK(t){return lk.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function oK(){return za(this.year(),1,4)}function sK(){return za(this.isoWeekYear(),1,4)}function lK(){var t=this.localeData()._week;return za(this.year(),t.dow,t.doy)}function uK(){var t=this.localeData()._week;return za(this.weekYear(),t.dow,t.doy)}function lk(t,e,r,n,i){var a;return t==null?pc(this,n,i).year:(a=za(t,n,i),e>a&&(e=a),cK.call(this,t,e,r,n,i))}function cK(t,e,r,n,i){var a=BT(t,e,r,n,i),o=dc(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ye("Q",0,"Qo","quarter");$e("Q",AT);tr("Q",function(t,e){e[Ba]=(Ot(t)-1)*3});function fK(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ye("D",["DD",2],"Do","date");$e("D",_r,Zl);$e("DD",_r,ii);$e("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});tr(["D","DD"],ua);tr("Do",function(t,e){e[ua]=Ot(t.match(_r)[0])});var uk=eu("Date",!0);Ye("DDD",["DDDD",3],"DDDo","dayOfYear");$e("DDD",Rp);$e("DDDD",jT);tr(["DDD","DDDD"],function(t,e,r){r._dayOfYear=Ot(t)});function dK(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ye("m",["mm",2],0,"minute");$e("m",_r,ly);$e("mm",_r,ii);tr(["m","mm"],$i);var pK=eu("Minutes",!1);Ye("s",["ss",2],0,"second");$e("s",_r,ly);$e("ss",_r,ii);tr(["s","ss"],qa);var hK=eu("Seconds",!1);Ye("S",0,0,function(){return~~(this.millisecond()/100)});Ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ye(0,["SSS",3],0,"millisecond");Ye(0,["SSSS",4],0,function(){return this.millisecond()*10});Ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$e("S",Rp,AT);$e("SS",Rp,ii);$e("SSS",Rp,jT);var ho,ck;for(ho="SSSS";ho.length<=9;ho+="S")$e(ho,Xl);function vK(t,e){e[Jo]=Ot(("0."+t)*1e3)}for(ho="S";ho.length<=9;ho+="S")tr(ho,vK);ck=eu("Milliseconds",!1);Ye("z",0,0,"zoneAbbr");Ye("zz",0,0,"zoneName");function gK(){return this._isUTC?"UTC":""}function mK(){return this._isUTC?"Coordinated Universal Time":""}var Ee=Nc.prototype;Ee.add=uY;Ee.calendar=gY;Ee.clone=mY;Ee.diff=wY;Ee.endOf=FY;Ee.format=kY;Ee.from=IY;Ee.fromNow=AY;Ee.to=jY;Ee.toNow=PY;Ee.get=TG;Ee.invalidAt=HY;Ee.isAfter=yY;Ee.isBefore=bY;Ee.isBetween=_Y;Ee.isSame=SY;Ee.isSameOrAfter=OY;Ee.isSameOrBefore=xY;Ee.isValid=BY;Ee.lang=nk;Ee.locale=rk;Ee.localeData=ik;Ee.max=B7;Ee.min=V7;Ee.parsingFlags=qY;Ee.set=kG;Ee.startOf=LY;Ee.subtract=cY;Ee.toArray=DY;Ee.toObject=MY;Ee.toDate=NY;Ee.toISOString=CY;Ee.inspect=TY;typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ee.toJSON=VY;Ee.toString=EY;Ee.unix=$Y;Ee.valueOf=RY;Ee.creationData=zY;Ee.eraName=YY;Ee.eraNarrow=KY;Ee.eraAbbr=JY;Ee.eraYear=QY;Ee.year=FT;Ee.isLeapYear=CG;Ee.weekYear=iK;Ee.isoWeekYear=aK;Ee.quarter=Ee.quarters=fK;Ee.month=MT;Ee.daysInMonth=NG;Ee.week=Ee.weeks=UG;Ee.isoWeek=Ee.isoWeeks=WG;Ee.weeksInYear=lK;Ee.weeksInWeekYear=uK;Ee.isoWeeksInYear=oK;Ee.isoWeeksInISOWeekYear=sK;Ee.date=uk;Ee.day=Ee.days=a7;Ee.weekday=o7;Ee.isoWeekday=s7;Ee.dayOfYear=dK;Ee.hour=Ee.hours=h7;Ee.minute=Ee.minutes=pK;Ee.second=Ee.seconds=hK;Ee.millisecond=Ee.milliseconds=ck;Ee.utcOffset=J7;Ee.utc=X7;Ee.local=Z7;Ee.parseZone=eY;Ee.hasAlignedHourOffset=tY;Ee.isDST=rY;Ee.isLocal=iY;Ee.isUtcOffset=aY;Ee.isUtc=XT;Ee.isUTC=XT;Ee.zoneAbbr=gK;Ee.zoneName=mK;Ee.dates=Ci("dates accessor is deprecated. Use date instead.",uk);Ee.months=Ci("months accessor is deprecated. Use month instead",MT);Ee.years=Ci("years accessor is deprecated. Use year instead",FT);Ee.zone=Ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Q7);Ee.isDSTShifted=Ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nY);function yK(t){return yr(t*1e3)}function bK(){return yr.apply(null,arguments).parseZone()}function fk(t){return t}var Vt=ny.prototype;Vt.calendar=iG;Vt.longDateFormat=lG;Vt.invalidDate=cG;Vt.ordinal=pG;Vt.preparse=fk;Vt.postformat=fk;Vt.relativeTime=vG;Vt.pastFuture=gG;Vt.set=rG;Vt.eras=UY;Vt.erasParse=WY;Vt.erasConvertYear=GY;Vt.erasAbbrRegex=ZY;Vt.erasNameRegex=XY;Vt.erasNarrowRegex=eK;Vt.months=LG;Vt.monthsShort=FG;Vt.monthsParse=$G;Vt.monthsRegex=MG;Vt.monthsShortRegex=DG;Vt.week=BG;Vt.firstDayOfYear=zG;Vt.firstDayOfWeek=HG;Vt.weekdays=e7;Vt.weekdaysMin=r7;Vt.weekdaysShort=t7;Vt.weekdaysParse=i7;Vt.weekdaysRegex=l7;Vt.weekdaysShortRegex=u7;Vt.weekdaysMinRegex=c7;Vt.isPM=d7;Vt.meridiem=v7;function Nd(t,e,r,n){var i=Ja(),a=wa().set(n,e);return i[r](a,t)}function dk(t,e,r){if(Ua(t)&&(e=t,t=void 0),t=t||"",e!=null)return Nd(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Nd(t,n,r,"month");return i}function Sy(t,e,r,n){typeof t=="boolean"?(Ua(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Ua(e)&&(r=e,e=void 0),e=e||"");var i=Ja(),a=t?i._week.dow:0,o,s=[];if(r!=null)return Nd(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=Nd(e,(o+a)%7,n,"day");return s}function _K(t,e){return dk(t,e,"months")}function SK(t,e){return dk(t,e,"monthsShort")}function OK(t,e,r){return Sy(t,e,r,"weekdays")}function xK(t,e,r){return Sy(t,e,r,"weekdaysShort")}function wK(t,e,r){return Sy(t,e,r,"weekdaysMin")}mo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=Ot(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});je.lang=Ci("moment.lang is deprecated. Use moment.locale instead.",mo);je.langData=Ci("moment.langData is deprecated. Use moment.localeData instead.",Ja);var La=Math.abs;function EK(){var t=this._data;return this._milliseconds=La(this._milliseconds),this._days=La(this._days),this._months=La(this._months),t.milliseconds=La(t.milliseconds),t.seconds=La(t.seconds),t.minutes=La(t.minutes),t.hours=La(t.hours),t.months=La(t.months),t.years=La(t.years),this}function pk(t,e,r,n){var i=Qi(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function CK(t,e){return pk(this,t,e,1)}function TK(t,e){return pk(this,t,e,-1)}function aS(t){return t<0?Math.floor(t):Math.ceil(t)}function kK(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,o,s,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=aS(lg(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=ci(t/1e3),n.seconds=i%60,a=ci(i/60),n.minutes=a%60,o=ci(a/60),n.hours=o%24,e+=ci(o/24),l=ci(hk(e)),r+=l,e-=aS(lg(l)),s=ci(r/12),r%=12,n.days=e,n.months=r,n.years=s,this}function hk(t){return t*4800/146097}function lg(t){return t*146097/4800}function IK(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=Ti(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+hk(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(lg(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Qa(t){return function(){return this.as(t)}}var vk=Qa("ms"),AK=Qa("s"),jK=Qa("m"),PK=Qa("h"),LK=Qa("d"),FK=Qa("w"),RK=Qa("M"),$K=Qa("Q"),NK=Qa("y"),DK=vk;function MK(){return Qi(this)}function VK(t){return t=Ti(t),this.isValid()?this[t+"s"]():NaN}function ms(t){return function(){return this.isValid()?this._data[t]:NaN}}var BK=ms("milliseconds"),qK=ms("seconds"),HK=ms("minutes"),zK=ms("hours"),UK=ms("days"),WK=ms("months"),GK=ms("years");function YK(){return ci(this.days()/7)}var Na=Math.round,dl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function KK(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function JK(t,e,r,n){var i=Qi(t).abs(),a=Na(i.as("s")),o=Na(i.as("m")),s=Na(i.as("h")),l=Na(i.as("d")),u=Na(i.as("M")),c=Na(i.as("w")),f=Na(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,KK.apply(null,d)}function QK(t){return t===void 0?Na:typeof t=="function"?(Na=t,!0):!1}function XK(t,e){return dl[t]===void 0?!1:e===void 0?dl[t]:(dl[t]=e,t==="s"&&(dl.ss=e-1),!0)}function ZK(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=dl,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},dl,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=JK(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var ev=Math.abs;function $s(t){return(t>0)-(t<0)||+t}function Hp(){if(!this.isValid())return this.localeData().invalidDate();var t=ev(this._milliseconds)/1e3,e=ev(this._days),r=ev(this._months),n,i,a,o,s=this.asSeconds(),l,u,c,f;return s?(n=ci(t/60),i=ci(n/60),t%=60,n%=60,a=ci(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=$s(this._months)!==$s(s)?"-":"",c=$s(this._days)!==$s(s)?"-":"",f=$s(this._milliseconds)!==$s(s)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(e?c+e+"D":"")+(i||n||t?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(t?f+o+"S":"")):"P0D"}var Lt=Bp.prototype;Lt.isValid=W7;Lt.abs=EK;Lt.add=CK;Lt.subtract=TK;Lt.as=IK;Lt.asMilliseconds=vk;Lt.asSeconds=AK;Lt.asMinutes=jK;Lt.asHours=PK;Lt.asDays=LK;Lt.asWeeks=FK;Lt.asMonths=RK;Lt.asQuarters=$K;Lt.asYears=NK;Lt.valueOf=DK;Lt._bubble=kK;Lt.clone=MK;Lt.get=VK;Lt.milliseconds=BK;Lt.seconds=qK;Lt.minutes=HK;Lt.hours=zK;Lt.days=UK;Lt.weeks=YK;Lt.months=WK;Lt.years=GK;Lt.humanize=ZK;Lt.toISOString=Hp;Lt.toString=Hp;Lt.toJSON=Hp;Lt.locale=rk;Lt.localeData=ik;Lt.toIsoString=Ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hp);Lt.lang=nk;Ye("X",0,0,"unix");Ye("x",0,0,"valueOf");$e("x",Np);$e("X",_G);tr("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});tr("x",function(t,e,r){r._d=new Date(Ot(t))});//! moment.js
je.version="2.30.1";eG(yr);je.fn=Ee;je.min=q7;je.max=H7;je.now=z7;je.utc=wa;je.unix=yK;je.months=_K;je.isDate=$c;je.locale=mo;je.invalid=Lp;je.duration=Qi;je.isMoment=Bi;je.weekdays=OK;je.parseZone=bK;je.localeData=Ja;je.isDuration=cd;je.monthsShort=SK;je.weekdaysMin=wK;je.defineLocale=py;je.updateLocale=b7;je.locales=_7;je.weekdaysShort=xK;je.normalizeUnits=Ti;je.relativeTimeRounding=QK;je.relativeTimeThreshold=XK;je.calendarFormat=vY;je.prototype=Ee;je.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const eJ={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class tJ{constructor({locale:e,formats:r,instance:n}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=i=>{var a,o;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return(o=(a=i.match(s))===null||a===void 0?void 0:a.map(l=>{const u=l[0];return u==="L"||u===";"?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(l):l}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:i},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=i=>this.moment(i,!0),this.toISO=i=>i.toISOString(),this.parse=(i,a)=>i===""?null:this.locale?this.moment(i,a,this.locale,!0):this.moment(i,a,!0),this.date=i=>{if(i===null)return null;const a=this.moment(i);return this.locale&&a.locale(this.locale),a},this.toJsDate=i=>i.toDate(),this.isValid=i=>this.moment(i).isValid(),this.isNull=i=>i===null,this.getDiff=(i,a,o)=>this.moment(a).isValid()?i.diff(a,o):0,this.isAfter=(i,a)=>i.isAfter(a),this.isBefore=(i,a)=>i.isBefore(a),this.isAfterDay=(i,a)=>i.isAfter(a,"day"),this.isBeforeDay=(i,a)=>i.isBefore(a,"day"),this.isBeforeMonth=(i,a)=>i.isBefore(a,"month"),this.isAfterMonth=(i,a)=>i.isAfter(a,"month"),this.isBeforeYear=(i,a)=>i.isBefore(a,"year"),this.isAfterYear=(i,a)=>i.isAfter(a,"year"),this.startOfDay=i=>i.clone().startOf("day"),this.endOfDay=i=>i.clone().endOf("day"),this.format=(i,a)=>this.formatByString(i,this.formats[a]),this.formatByString=(i,a)=>{const o=i.clone();return this.locale&&o.locale(this.locale),o.format(a)},this.formatNumber=i=>i,this.getHours=i=>i.get("hours"),this.addSeconds=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"seconds"):i.clone().add(a,"seconds"),this.addMinutes=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"minutes"):i.clone().add(a,"minutes"),this.addHours=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"hours"):i.clone().add(a,"hours"),this.addDays=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"days"):i.clone().add(a,"days"),this.addWeeks=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"weeks"):i.clone().add(a,"weeks"),this.addMonths=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"months"):i.clone().add(a,"months"),this.addYears=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"years"):i.clone().add(a,"years"),this.setHours=(i,a)=>i.clone().hours(a),this.getMinutes=i=>i.get("minutes"),this.setMinutes=(i,a)=>i.clone().minutes(a),this.getSeconds=i=>i.get("seconds"),this.setSeconds=(i,a)=>i.clone().seconds(a),this.getMonth=i=>i.get("month"),this.getDaysInMonth=i=>i.daysInMonth(),this.isSameDay=(i,a)=>i.isSame(a,"day"),this.isSameMonth=(i,a)=>i.isSame(a,"month"),this.isSameYear=(i,a)=>i.isSame(a,"year"),this.isSameHour=(i,a)=>i.isSame(a,"hour"),this.setMonth=(i,a)=>i.clone().month(a),this.getMeridiemText=i=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem(i==="am"?0:13,0,!1):i==="am"?"AM":"PM",this.startOfYear=i=>i.clone().startOf("year"),this.endOfYear=i=>i.clone().endOf("year"),this.startOfMonth=i=>i.clone().startOf("month"),this.endOfMonth=i=>i.clone().endOf("month"),this.startOfWeek=i=>i.clone().startOf("week"),this.endOfWeek=i=>i.clone().endOf("week"),this.getNextMonth=i=>i.clone().add(1,"month"),this.getPreviousMonth=i=>i.clone().subtract(1,"month"),this.getMonthArray=i=>{const o=[i.clone().startOf("year")];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.getYear=i=>i.get("year"),this.setYear=(i,a)=>i.clone().set("year",a),this.getDate=i=>i.get("date"),this.setDate=(i,a)=>i.clone().set("date",a),this.mergeDateAndTime=(i,a)=>i.hour(a.hour()).minute(a.minute()).second(a.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(i,a)=>i===null&&a===null?!0:this.moment(i).isSame(a),this.getWeekArray=i=>{const a=i.clone().startOf("month").startOf("week"),o=i.clone().endOf("month").endOf("week");let s=0,l=a;const u=[];for(;l.isBefore(o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=l.clone().add(1,"day"),s+=1}return u},this.getYearRange=(i,a)=>{const o=this.moment(i).startOf("year"),s=this.moment(a).endOf("year"),l=[];let u=o;for(;u.isBefore(s);)l.push(u),u=u.clone().add(1,"year");return l},this.isWithinRange=(i,[a,o])=>i.isBetween(a,o,null,"[]"),this.moment=n||je,this.locale=e,this.formats=Object.assign({},eJ,r)}}const rJ="@mui/x-date-pickers",nJ="5.0.20",iJ="The community edition of the date picker components (MUI X).",aJ="MUI Team",oJ="./node/index.js",sJ="MIT",lJ={url:"https://github.com/mui/mui-x/issues"},uJ="https://mui.com/x/react-date-pickers/getting-started/",cJ={type:"opencollective",url:"https://opencollective.com/mui"},fJ=!1,dJ={access:"public"},pJ=["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],hJ={type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},vJ={"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},gJ={"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},mJ={"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},yJ=["<rootDir>/src/setupTests.js"],bJ={node:">=12.0.0"},_J="./index.js",SJ="./index.d.ts",bi={name:rJ,version:nJ,description:iJ,author:aJ,main:oJ,license:sJ,bugs:lJ,homepage:uJ,funding:cJ,sideEffects:fJ,publishConfig:dJ,keywords:pJ,repository:hJ,dependencies:vJ,peerDependencies:gJ,peerDependenciesMeta:mJ,setupFiles:yJ,engines:bJ,private:!1,module:_J,types:SJ},OJ=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.customProps,o=t.maxLength;t.errorMessage;var s=J.useCallback(function(u){var c=u.target.value;c===""&&(c=void 0),r(c)},[r]),l=e||"";return j.createElement(Dr,null,j.createElement(Zt,ae({variant:"standard",value:l,placeholder:n?"":i,InputProps:{readOnly:n},inputProps:{maxLength:o},disabled:n,onChange:s,size:"small"},a)))},xJ=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.maxRows,u=t.fullWidth,c=n.settings.defaultMaxRows,f=function(v){var h=v.target.value;h===""&&(h=void 0),r(h)},d=e||"";return j.createElement(Dr,{fullWidth:u},j.createElement(Zt,ae({variant:"standard",fullWidth:u,maxRows:l||c,multiline:!0,value:d,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:f,size:"small"},o)))};function wJ(t){if(Array.isArray(t))return KF(t)}function EJ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(t){return wJ(t)||JF(t)||QF(t)||EJ()}var Vc="delete",vr=5,gi=1<<vr,Pn=gi-1,It={};function ug(){return{value:!1}}function mi(t){t&&(t.value=!0)}function Oy(){}function Tl(t){return t.size===void 0&&(t.size=t.__iterate(gk)),t.size}function xo(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Tl(t)+e:e}function gk(){return!0}function Bc(t,e,r){return(t===0&&!yk(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function tu(t,e){return mk(t,e,0)}function qc(t,e){return mk(t,e,e)}function mk(t,e,r){return t===void 0?r:yk(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function yk(t){return t<0||t===0&&1/t===-1/0}var bk="@@__IMMUTABLE_ITERABLE__@@";function Fn(t){return!!(t&&t[bk])}var _k="@@__IMMUTABLE_KEYED__@@";function sr(t){return!!(t&&t[_k])}var Sk="@@__IMMUTABLE_INDEXED__@@";function _n(t){return!!(t&&t[Sk])}function Hc(t){return sr(t)||_n(t)}var Ar=function(e){return Fn(e)?e:$n(e)},ki=function(t){function e(r){return sr(r)?r:Ro(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar),ys=function(t){function e(r){return _n(r)?r:Ai(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar),ru=function(t){function e(r){return Fn(r)&&!Hc(r)?r:au(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar);Ar.Keyed=ki;Ar.Indexed=ys;Ar.Set=ru;var Ok="@@__IMMUTABLE_SEQ__@@";function zp(t){return!!(t&&t[Ok])}var xk="@@__IMMUTABLE_RECORD__@@";function bs(t){return!!(t&&t[xk])}function Ii(t){return Fn(t)||bs(t)}var nu="@@__IMMUTABLE_ORDERED__@@";function _i(t){return!!(t&&t[nu])}var zc=0,qi=1,xi=2,cg=typeof Symbol=="function"&&Symbol.iterator,wk="@@iterator",Up=cg||wk,Mt=function(e){this.next=e};Mt.prototype.toString=function(){return"[Iterator]"};Mt.KEYS=zc;Mt.VALUES=qi;Mt.ENTRIES=xi;Mt.prototype.inspect=Mt.prototype.toSource=function(){return this.toString()};Mt.prototype[Up]=function(){return this};function mr(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Rn(){return{value:void 0,done:!0}}function xy(t){return Array.isArray(t)?!0:!!Wp(t)}function oS(t){return t&&typeof t.next=="function"}function fg(t){var e=Wp(t);return e&&e.call(t)}function Wp(t){var e=t&&(cg&&t[cg]||t[wk]);if(typeof e=="function")return e}function CJ(t){var e=Wp(t);return e&&e===t.entries}function TJ(t){var e=Wp(t);return e&&e===t.keys}var iu=Object.prototype.hasOwnProperty;function wy(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var $n=function(t){function e(r){return r==null?Cy():Ii(r)?r.toSeq():IJ(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new Mt(function(){if(s===o)return Rn();var l=a[i?o-++s:s++];return mr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},e}(Ar),Ro=function(t){function e(r){return r==null?Cy().toKeyedSeq():Fn(r)?sr(r)?r.toSeq():r.fromEntrySeq():bs(r)?r.toSeq():Ty(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}($n),Ai=function(t){function e(r){return r==null?Cy():Fn(r)?sr(r)?r.entrySeq():r.toIndexedSeq():bs(r)?r.toSeq().entrySeq():Ek(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}($n),au=function(t){function e(r){return(Fn(r)&&!Hc(r)?r:Ai(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}($n);$n.isSeq=zp;$n.Keyed=Ro;$n.Set=au;$n.Indexed=Ai;$n.prototype[Ok]=!0;var rs=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[xo(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},e.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new Mt(function(){if(s===o)return Rn();var l=i?o-++s:s++;return mr(n,l,a[l])})},e}(Ai),Ey=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return iu.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},e.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new Mt(function(){if(l===s)return Rn();var u=o[i?s-++l:l++];return mr(n,u,a[u])})},e}(Ro);Ey.prototype[nu]=!0;var kJ=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=fg(a),s=0;if(oS(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=fg(a);if(!oS(o))return new Mt(Rn);var s=0;return new Mt(function(){var l=o.next();return l.done?l:mr(n,s++,l.value)})},e}(Ai),sS;function Cy(){return sS||(sS=new rs([]))}function Ty(t){var e=ky(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Ey(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Ek(t){var e=ky(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function IJ(t){var e=ky(t);if(e)return CJ(t)?e.fromEntrySeq():TJ(t)?e.toSetSeq():e;if(typeof t=="object")return new Ey(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function ky(t){return wy(t)?new rs(t):xy(t)?new kJ(t):void 0}var Ck="@@__IMMUTABLE_MAP__@@";function Gp(t){return!!(t&&t[Ck])}function Iy(t){return Gp(t)&&_i(t)}function dg(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function ln(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(dg(t)&&dg(e)&&t.equals(e))}var Au=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Yp(t){return t>>>1&1073741824|t&3221225471}var AJ=Object.prototype.valueOf;function Hn(t){if(t==null)return lS(t);if(typeof t.hashCode=="function")return Yp(t.hashCode(t));var e=$J(t);if(e==null)return lS(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return jJ(e);case"string":return e.length>NJ?PJ(e):pg(e);case"object":case"function":return FJ(e);case"symbol":return LJ(e);default:if(typeof e.toString=="function")return pg(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function lS(t){return t===null?1108378658:1108378659}function jJ(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Yp(e)}function PJ(t){var e=nv[t];return e===void 0&&(e=pg(t),rv===DJ&&(rv=0,nv={}),rv++,nv[t]=e),e}function pg(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Yp(e)}function LJ(t){var e=fS[t];return e!==void 0||(e=Tk(),fS[t]=e),e}function FJ(t){var e;if(hg&&(e=vg.get(t),e!==void 0)||(e=t[Wo],e!==void 0)||!cS&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Wo],e!==void 0||(e=RJ(t),e!==void 0)))return e;if(e=Tk(),hg)vg.set(t,e);else{if(uS!==void 0&&uS(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(cS)Object.defineProperty(t,Wo,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Wo]=e;else if(t.nodeType!==void 0)t[Wo]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var uS=Object.isExtensible,cS=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function RJ(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function $J(t){return t.valueOf!==AJ&&typeof t.valueOf=="function"?t.valueOf(t):t}function Tk(){var t=++tv;return tv&1073741824&&(tv=0),t}var hg=typeof WeakMap=="function",vg;hg&&(vg=new WeakMap);var fS=Object.create(null),tv=0,Wo="__immutablehash__";typeof Symbol=="function"&&(Wo=Symbol(Wo));var NJ=16,DJ=255,rv=0,nv={},Kp=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=Ay(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,o=Pk(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Ro);Kp.prototype[nu]=!0;var kk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Tl(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(qi,i),s=0;return i&&Tl(this),new Mt(function(){var l=o.next();return l.done?l:mr(n,i?a.size-++s:s++,l.value,l)})},e}(Ai),Ik=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(qi,i);return new Mt(function(){var o=a.next();return o.done?o:mr(n,o.value,o.value,o)})},e}(au),Ak=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){pS(o);var s=Fn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(qi,i);return new Mt(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){pS(s);var l=Fn(s);return mr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},e}(Ro);kk.prototype.cacheResult=Kp.prototype.cacheResult=Ik.prototype.cacheResult=Ak.prototype.cacheResult=Ly;function jk(t){var e=Ca(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=Ly,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,o){return r(o,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===xi){var i=t.__iterator(r,n);return new Mt(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return t.__iterator(r===qi?zc:qi,n)},e}function Pk(t,e,r){var n=Ca(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var o=t.get(i,It);return o===It?a:e.call(r,o,i,t)},n.__iterateUncached=function(i,a){var o=this;return t.__iterate(function(s,l,u){return i(e.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=t.__iterator(xi,a);return new Mt(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return mr(i,u,e.call(r,l[1],u,t),s)})},n}function Ay(t,e){var r=this,n=Ca(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=jk(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=Ly,n.__iterate=function(i,a){var o=this,s=0;return a&&Tl(t),t.__iterate(function(l,u){return i(l,e?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Tl(t);var s=t.__iterator(xi,!a);return new Mt(function(){var l=s.next();if(l.done)return l;var u=l.value;return mr(i,e?u[0]:a?r.size-++o:o++,u[1],l)})},n}function Lk(t,e,r,n){var i=Ca(t);return n&&(i.has=function(a){var o=t.get(a,It);return o!==It&&!!e.call(r,o,a,t)},i.get=function(a,o){var s=t.get(a,It);return s!==It&&e.call(r,s,a,t)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return t.__iterate(function(u,c,f){if(e.call(r,u,c,f))return l++,a(u,n?c:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=t.__iterator(xi,o),l=0;return new Mt(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];if(e.call(r,d,f,t))return mr(a,n?f:l++,d,u)}})},i}function MJ(t,e,r){var n=ur().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(o){return o+1})}),n.asImmutable()}function VJ(t,e,r){var n=sr(t),i=(_i(t)?_a():ur()).asMutable();t.__iterate(function(o,s){i.update(e.call(r,o,s,t),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=Py(t);return i.map(function(o){return nr(t,a(o))}).asImmutable()}function BJ(t,e,r){var n=sr(t),i=[[],[]];t.__iterate(function(o,s){i[e.call(r,o,s,t)?1:0].push(n?[s,o]:o)});var a=Py(t);return i.map(function(o){return nr(t,a(o))})}function jy(t,e,r,n){var i=t.size;if(Bc(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return jy(t.toSeq().cacheResult(),e,r,n);var a=tu(e,i),o=qc(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=Ca(t);return u.size=l===0?l:t.size&&l||void 0,!n&&zp(t)&&l>=0&&(u.get=function(c,f){return c=xo(this,c),c>=0&&c<l?t.get(c+a,f):f}),u.__iterateUncached=function(c,f){var d=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var p=0,v=!0,h=0;return t.__iterate(function(m,y){if(!(v&&(v=p++<a)))return h++,c(m,n?y:h-1,d)!==!1&&h!==l}),h},u.__iteratorUncached=function(c,f){if(l!==0&&f)return this.cacheResult().__iterator(c,f);if(l===0)return new Mt(Rn);var d=t.__iterator(c,f),p=0,v=0;return new Mt(function(){for(;p++<a;)d.next();if(++v>l)return Rn();var h=d.next();return n||c===qi||h.done?h:c===zc?mr(c,v-1,void 0,h):mr(c,v-1,h.value[1],h)})},u}function qJ(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return t.__iterate(function(l,u,c){return e.call(r,l,u,c)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(xi,a),l=!0;return new Mt(function(){if(!l)return Rn();var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];return e.call(r,d,f,o)?i===xi?u:mr(i,f,d,u):(l=!1,Rn())})},n}function Fk(t,e,r,n){var i=Ca(t);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return t.__iterate(function(c,f,d){if(!(l&&(l=e.call(r,c,f,d))))return u++,a(c,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=t.__iterator(xi,o),u=!0,c=0;return new Mt(function(){var f,d,p;do{if(f=l.next(),f.done)return n||a===qi?f:a===zc?mr(a,c++,void 0,f):mr(a,c++,f.value[1],f);var v=f.value;d=v[0],p=v[1],u&&(u=e.call(r,p,d,s))}while(u);return a===xi?f:mr(a,d,p,f)})},i}function HJ(t,e){var r=sr(t),n=[t].concat(e).map(function(o){return Fn(o)?r&&(o=ki(o)):o=r?Ty(o):Ek(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&sr(i)||_n(t)&&_n(i))return i}var a=new rs(n);return r?a=a.toKeyedSeq():_n(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function Rk(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,c){u.__iterate(function(f,d){return(!e||c<e)&&Fn(f)?l(f,c+1):(o++,i(f,r?d:o-1,n)===!1&&(s=!0)),!s},a)}return l(t,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(i,a),s=[],l=0;return new Mt(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var c=u.value;if(i===xi&&(c=c[1]),(!e||s.length<e)&&Fn(c))s.push(o),o=c.__iterator(i,a);else return r?u:mr(i,l++,c,u)}return Rn()})},n}function zJ(t,e,r){var n=Py(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function UJ(t,e){var r=Ca(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return t.__iterate(function(s){return(!o||n(e,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=t.__iterator(qi,i),o=0,s;return new Mt(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?mr(n,o++,e):mr(n,o++,s.value,s)})},r}function kl(t,e,r){e||(e=$k);var n=sr(t),i=0,a=t.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,t):o]}).valueSeq().toArray();return a.sort(function(o,s){return e(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Ro(a):_n(t)?Ai(a):au(a)}function $f(t,e,r){if(e||(e=$k),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return dS(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return dS(e,i,a)?a:i})}function dS(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function Nf(t,e,r,n){var i=Ca(t),a=new rs(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(qi,s),u,c=0;!(u=l.next()).done&&o(u.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,s){var l=r.map(function(f){return f=Ar(f),fg(s?f.reverse():f)}),u=0,c=!1;return new Mt(function(){var f;return c||(f=l.map(function(d){return d.next()}),c=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),c?Rn():mr(o,u++,e.apply(null,f.map(function(d){return d.value})))})},i}function nr(t,e){return t===e?t:zp(t)?e:t.constructor(e)}function pS(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Py(t){return sr(t)?ki:_n(t)?ys:ru}function Ca(t){return Object.create((sr(t)?Ro:_n(t)?Ai:au).prototype)}function Ly(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$n.prototype.cacheResult.call(this)}function $k(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function ca(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function Fy(t,e){if(!t)throw new Error(e)}function Qn(t){Fy(t!==1/0,"Cannot perform this action with an infinite size.")}function Nk(t){if(wy(t)&&typeof t!="string")return t;if(_i(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var WJ=Object.prototype.toString;function Ry(t){if(!t||typeof t!="object"||WJ.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function wo(t){return typeof t=="object"&&(Ii(t)||Array.isArray(t)||Ry(t))}function vc(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Dk(t,e){return Ii(t)?t.has(e):wo(t)&&iu.call(t,e)}function $y(t,e,r){return Ii(t)?t.get(e,r):Dk(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Dd(t){if(Array.isArray(t))return ca(t);var e={};for(var r in t)iu.call(t,r)&&(e[r]=t[r]);return e}function Mk(t,e){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!iu.call(t,e))return t;var r=Dd(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Vk(t,e,r){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(iu.call(t,e)&&r===t[e])return t;var n=Dd(t);return n[e]=r,n}function _s(t,e,r,n){n||(n=r,r=void 0);var i=Bk(Ii(t),t,Nk(e),0,r,n);return i===It?r:i}function Bk(t,e,r,n,i,a){var o=e===It;if(n===r.length){var s=o?i:e,l=a(s);return l===s?e:l}if(!o&&!wo(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(vc)+"]: "+e);var u=r[n],c=o?It:$y(e,u,It),f=Bk(c===It?t:Ii(c),c,r,n+1,i,a);return f===c?e:f===It?Mk(e,u):Vk(o?t?Ri():{}:e,u,f)}function qk(t,e,r){return _s(t,e,It,function(){return r})}function Ny(t,e){return qk(this,t,e)}function Hk(t,e){return _s(t,e,function(){return It})}function Dy(t){return Hk(this,t)}function My(t,e,r,n){return _s(t,[e],r,n)}function Vy(t,e,r){return arguments.length===1?t(this):My(this,t,e,r)}function By(t,e,r){return _s(this,t,e,r)}function zk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Wk(this,t)}function Uk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Wk(this,e,t)}function Wk(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=ki(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var s=r?function(u,c){My(o,c,It,function(f){return f===It?u:r(f,u,c)})}:function(u,c){o.set(c,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function GJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Wc(t,e)}function YJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Wc(e,r,t)}function KJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Uc(t,e)}function JJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Uc(e,r,t)}function Uc(t,e,r){return Wc(t,e,QJ(r))}function Wc(t,e,r){if(!wo(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Ii(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?ys:ki,o=n?function(l){i===t&&(i=Dd(i)),i.push(l)}:function(l,u){var c=iu.call(i,u),f=c&&r?r(i[u],l,u):l;(!c||f!==i[u])&&(i===t&&(i=Dd(i)),i[u]=f)},s=0;s<e.length;s++)a(e[s]).forEach(o);return i}function QJ(t){function e(r,n,i){return wo(r)&&wo(n)&&XJ(r,n)?Wc(r,[n],e):t?t(r,n,i):n}return e}function XJ(t,e){var r=$n(t),n=$n(e);return _n(r)===_n(n)&&sr(r)===sr(n)}function Gk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Uc(this,t)}function Yk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Uc(this,e,t)}function qy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return _s(this,t,Ri(),function(n){return Wc(n,e)})}function Hy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return _s(this,t,Ri(),function(n){return Uc(n,e)})}function Gc(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Yc(){return this.__ownerID?this:this.__ensureOwner(new Oy)}function Kc(){return this.__ensureOwner()}function zy(){return this.__altered}var ur=function(t){function e(r){return r==null?Ri():Gp(r)&&!_i(r)?r:Ri().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ri().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return gS(this,n,i)},e.prototype.remove=function(n){return gS(this,n,It)},e.prototype.deleteAll=function(n){var i=Ar(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ri()},e.prototype.sort=function(n){return _a(kl(this,n))},e.prototype.sortBy=function(n,i){return _a(kl(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},e.prototype.__iterator=function(n,i){return new ZJ(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Uy(this.size,this._root,n,this.__hash):this.size===0?Ri():(this.__ownerID=n,this.__altered=!1,this)},e}(ki);ur.isMap=Gp;var br=ur.prototype;br[Ck]=!0;br[Vc]=br.remove;br.removeAll=br.deleteAll;br.setIn=Ny;br.removeIn=br.deleteIn=Dy;br.update=Vy;br.updateIn=By;br.merge=br.concat=zk;br.mergeWith=Uk;br.mergeDeep=Gk;br.mergeDeepWith=Yk;br.mergeIn=qy;br.mergeDeepIn=Hy;br.withMutations=Gc;br.wasAltered=zy;br.asImmutable=Kc;br["@@transducer/init"]=br.asMutable=Yc;br["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};br["@@transducer/result"]=function(t){return t.asImmutable()};var gc=function(e,r){this.ownerID=e,this.entries=r};gc.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ln(n,a[o][0]))return a[o][1];return i};gc.prototype.update=function(e,r,n,i,a,o,s){for(var l=a===It,u=this.entries,c=0,f=u.length;c<f&&!ln(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),!(l&&u.length===1)){if(!d&&!l&&u.length>=aQ)return eQ(e,u,i,a);var p=e&&e===this.ownerID,v=p?u:ca(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new gc(e,v)}};var Il=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Il.prototype.get=function(e,r,n,i){r===void 0&&(r=Hn(n));var a=1<<((e===0?r:r>>>e)&Pn),o=this.bitmap;return o&a?this.nodes[Kk(o&a-1)].get(e+vr,r,n,i):i};Il.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=(r===0?n:n>>>r)&Pn,u=1<<l,c=this.bitmap,f=(c&u)!==0;if(!f&&a===It)return this;var d=Kk(c&u-1),p=this.nodes,v=f?p[d]:void 0,h=Wy(v,e,r+vr,n,i,a,o,s);if(h===v)return this;if(!f&&h&&p.length>=oQ)return rQ(e,p,c,l,h);if(f&&!h&&p.length===2&&mS(p[d^1]))return p[d^1];if(f&&h&&p.length===1&&mS(h))return h;var m=e&&e===this.ownerID,y=f?h?c:c^u:c|u,g=f?h?Jk(p,d,h,m):iQ(p,d,m):nQ(p,d,h,m);return m?(this.bitmap=y,this.nodes=g,this):new Il(e,y,g)};var mc=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};mc.prototype.get=function(e,r,n,i){r===void 0&&(r=Hn(n));var a=(e===0?r:r>>>e)&Pn,o=this.nodes[a];return o?o.get(e+vr,r,n,i):i};mc.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=(r===0?n:n>>>r)&Pn,u=a===It,c=this.nodes,f=c[l];if(u&&!f)return this;var d=Wy(f,e,r+vr,n,i,a,o,s);if(d===f)return this;var p=this.count;if(!f)p++;else if(!d&&(p--,p<sQ))return tQ(e,c,p,l);var v=e&&e===this.ownerID,h=Jk(c,l,d,v);return v?(this.count=p,this.nodes=h,this):new mc(e,p,h)};var Al=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Al.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ln(n,a[o][0]))return a[o][1];return i};Al.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=a===It;if(n!==this.keyHash)return l?this:(mi(s),mi(o),Gy(this,e,r,n,[i,a]));for(var u=this.entries,c=0,f=u.length;c<f&&!ln(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),l&&f===2)return new Wa(e,this.keyHash,u[c^1]);var p=e&&e===this.ownerID,v=p?u:ca(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new Al(e,this.keyHash,v)};var Wa=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Wa.prototype.get=function(e,r,n,i){return ln(n,this.entry[0])?this.entry[1]:i};Wa.prototype.update=function(e,r,n,i,a,o,s){var l=a===It,u=ln(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(mi(s),l){mi(o);return}return u?e&&e===this.ownerID?(this.entry[1]=a,this):new Wa(e,this.keyHash,[i,a]):(mi(o),Gy(this,e,r,Hn(i),[i,a]))};gc.prototype.iterate=Al.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Il.prototype.iterate=mc.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};Wa.prototype.iterate=function(t,e){return t(this.entry)};var ZJ=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&hS(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return iv(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return iv(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return iv(n,l.entry);i=this._stack=hS(l,i)}continue}i=this._stack=this._stack.__prev}return Rn()},e}(Mt);function iv(t,e){return mr(t,e[0],e[1])}function hS(t,e){return{node:t,index:0,__prev:e}}function Uy(t,e,r,n){var i=Object.create(br);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var vS;function Ri(){return vS||(vS=Uy(0))}function gS(t,e,r){var n,i;if(t._root){var a=ug(),o=ug();if(n=Wy(t._root,t.__ownerID,0,void 0,e,r,a,o),!o.value)return t;i=t.size+(a.value?r===It?-1:1:0)}else{if(r===It)return t;i=1,n=new gc(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Uy(i,n):Ri()}function Wy(t,e,r,n,i,a,o,s){return t?t.update(e,r,n,i,a,o,s):a===It?t:(mi(s),mi(o),new Wa(e,n,[i,a]))}function mS(t){return t.constructor===Wa||t.constructor===Al}function Gy(t,e,r,n,i){if(t.keyHash===n)return new Al(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&Pn,o=(r===0?n:n>>>r)&Pn,s,l=a===o?[Gy(t,e,r+vr,n,i)]:(s=new Wa(e,n,i),a<o?[t,s]:[s,t]);return new Il(e,1<<a|1<<o,l)}function eQ(t,e,r,n){t||(t=new Oy);for(var i=new Wa(t,Hn(r),[r,n]),a=0;a<e.length;a++){var o=e[a];i=i.update(t,0,void 0,o[0],o[1])}return i}function tQ(t,e,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];c!==void 0&&s!==n&&(i|=l,o[a++]=c)}return new Il(t,i,o)}function rQ(t,e,r,n,i){for(var a=0,o=new Array(gi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?e[a++]:void 0;return o[n]=i,new mc(t,a+1,o)}function Kk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Jk(t,e,r,n){var i=n?t:ca(t);return i[e]=r,i}function nQ(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),o=0,s=0;s<i;s++)s===e?(a[s]=r,o=-1):a[s]=t[s+o];return a}function iQ(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,o=0;o<n;o++)o===e&&(a=1),i[o]=t[o+a];return i}var aQ=gi/4,oQ=gi/2,sQ=gi/4,Qk="@@__IMMUTABLE_LIST__@@";function Yy(t){return!!(t&&t[Qk])}var Xi=function(t){function e(r){var n=dd();if(r==null)return n;if(Yy(r))return r;var i=t(r),a=i.size;return a===0?n:(Qn(a),a>0&&a<gi?yc(0,a,vr,null,new yo(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=xo(this,n),n>=0&&n<this.size){n+=this._origin;var a=Xk(this,n);return a&&a.array[n&Pn]}return i},e.prototype.set=function(n,i){return lQ(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=vr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):dd()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){so(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},e.prototype.pop=function(){return so(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){so(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return so(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=t(typeof o!="string"&&xy(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(n){return so(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},e.prototype.slice=function(n,i){var a=this.size;return Bc(n,i,a)?this:so(this,tu(n,a),qc(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,o=yS(this,i);return new Mt(function(){var s=o();return s===Xu?Rn():mr(n,i?--a:a++,s)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=yS(this,i),s;(s=o())!==Xu&&n(s,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?yc(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?dd():(this.__ownerID=n,this.__altered=!1,this)},e}(ys);Xi.isList=Yy;var zr=Xi.prototype;zr[Qk]=!0;zr[Vc]=zr.remove;zr.merge=zr.concat;zr.setIn=Ny;zr.deleteIn=zr.removeIn=Dy;zr.update=Vy;zr.updateIn=By;zr.mergeIn=qy;zr.mergeDeepIn=Hy;zr.withMutations=Gc;zr.wasAltered=zy;zr.asImmutable=Kc;zr["@@transducer/init"]=zr.asMutable=Yc;zr["@@transducer/step"]=function(t,e){return t.push(e)};zr["@@transducer/result"]=function(t){return t.asImmutable()};var yo=function(e,r){this.array=e,this.ownerID=r};yo.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Pn;if(i>=this.array.length)return new yo([],e);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(e,r-vr,n),o===s&&a)return this}if(a&&!o)return this;var l=jl(this,e);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};yo.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Pn;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(e,r-vr,n),a===o&&i===this.array.length-1)return this}var s=jl(this,e);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Xu={};function yS(t,e){var r=t._origin,n=t._capacity,i=bc(n),a=t._tail;return o(t._root,t._level,0);function o(u,c,f){return c===0?s(u,f):l(u,c,f)}function s(u,c){var f=c===i?a&&a.array:u&&u.array,d=c>r?0:r-c,p=n-c;return p>gi&&(p=gi),function(){if(d===p)return Xu;var v=e?--p:d++;return f&&f[v]}}function l(u,c,f){var d,p=u&&u.array,v=f>r?0:r-f>>c,h=(n-f>>c)+1;return h>gi&&(h=gi),function(){for(;;){if(d){var m=d();if(m!==Xu)return m;d=null}if(v===h)return Xu;var y=e?--h:v++;d=o(p&&p[y],c-vr,f+(y<<c))}}}}function yc(t,e,r,n,i,a,o){var s=Object.create(zr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var bS;function dd(){return bS||(bS=yc(0,0,vr))}function lQ(t,e,r){if(e=xo(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?so(o,e).set(0,r):so(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=ug();return e>=bc(t._capacity)?n=gg(n,t.__ownerID,0,e,r,a):i=gg(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):yc(t._origin,t._capacity,t._level,i,n):t}function gg(t,e,r,n,i,a){var o=n>>>r&Pn,s=t&&o<t.array.length;if(!s&&i===void 0)return t;var l;if(r>0){var u=t&&t.array[o],c=gg(u,e,r-vr,n,i,a);return c===u?t:(l=jl(t,e),l.array[o]=c,l)}return s&&t.array[o]===i?t:(a&&mi(a),l=jl(t,e),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function jl(t,e){return e&&t&&e===t.ownerID?t:new yo(t?t.array.slice():[],e)}function Xk(t,e){if(e>=bc(t._capacity))return t._tail;if(e<1<<t._level+vr){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Pn],n-=vr;return r}}function so(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new Oy,i=t._origin,a=t._capacity,o=i+e,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return t;if(o>=s)return t.clear();for(var l=t._level,u=t._root,c=0;o+c<0;)u=new yo(u&&u.array.length?[void 0,u]:[],n),l+=vr,c+=1<<l;c&&(o+=c,i+=c,s+=c,a+=c);for(var f=bc(a),d=bc(s);d>=1<<l+vr;)u=new yo(u&&u.array.length?[u]:[],n),l+=vr;var p=t._tail,v=d<f?Xk(t,s-1):d>f?new yo([],n):p;if(p&&d>f&&o<a&&p.array.length){u=jl(u,n);for(var h=u,m=l;m>vr;m-=vr){var y=f>>>m&Pn;h=h.array[y]=jl(h.array[y],n)}h.array[f>>>vr&Pn]=p}if(s<a&&(v=v&&v.removeAfter(n,0,s)),o>=d)o-=d,s-=d,l=vr,u=null,v=v&&v.removeBefore(n,0,o);else if(o>i||d<f){for(c=0;u;){var g=o>>>l&Pn;if(g!==d>>>l&Pn)break;g&&(c+=(1<<l)*g),l-=vr,u=u.array[g]}u&&o>i&&(u=u.removeBefore(n,l,o-c)),u&&d<f&&(u=u.removeAfter(n,l,d-c)),c&&(o-=c,s-=c)}return t.__ownerID?(t.size=s-o,t._origin=o,t._capacity=s,t._level=l,t._root=u,t._tail=v,t.__hash=void 0,t.__altered=!0,t):yc(o,s,l,u,v)}function bc(t){return t<gi?0:t-1>>>vr<<vr}var _a=function(t){function e(r){return r==null?Nu():Iy(r)?r:Nu().withMutations(function(n){var i=ki(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Nu()},e.prototype.set=function(n,i){return SS(this,n,i)},e.prototype.remove=function(n){return SS(this,n,It)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?Ky(i,a,n,this.__hash):this.size===0?Nu():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(ur);_a.isOrderedMap=Iy;_a.prototype[nu]=!0;_a.prototype[Vc]=_a.prototype.remove;function Ky(t,e,r,n){var i=Object.create(_a.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var _S;function Nu(){return _S||(_S=Ky(Ri(),dd()))}function SS(t,e,r){var n=t._map,i=t._list,a=n.get(e),o=a!==void 0,s,l;if(r===It){if(!o)return t;i.size>=gi&&i.size>=n.size*2?(l=i.filter(function(u,c){return u!==void 0&&a!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=l.__ownerID=t.__ownerID)):(s=n.remove(e),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return t;s=n,l=i.set(a,[e,r])}else s=n.set(e,i.size),l=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=l,t.__hash=void 0,t.__altered=!0,t):Ky(s,l)}var Zk="@@__IMMUTABLE_STACK__@@";function Md(t){return!!(t&&t[Zk])}var Jp=function(t){function e(r){return r==null?Df():Md(r)?r:Df().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=xo(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Du(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Md(n))return n;Qn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Du(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Df()},e.prototype.slice=function(n,i){if(Bc(n,i,this.size))return this;var a=tu(n,this.size),o=qc(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):Du(s,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Du(this.size,this._head,n,this.__hash):this.size===0?Df():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new rs(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},e.prototype.__iterator=function(n,i){if(i)return new rs(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new Mt(function(){if(o){var s=o.value;return o=o.next,mr(n,a++,s)}return Rn()})},e}(ys);Jp.isStack=Md;var Nn=Jp.prototype;Nn[Zk]=!0;Nn.shift=Nn.pop;Nn.unshift=Nn.push;Nn.unshiftAll=Nn.pushAll;Nn.withMutations=Gc;Nn.wasAltered=zy;Nn.asImmutable=Kc;Nn["@@transducer/init"]=Nn.asMutable=Yc;Nn["@@transducer/step"]=function(t,e){return t.unshift(e)};Nn["@@transducer/result"]=function(t){return t.asImmutable()};function Du(t,e,r,n){var i=Object.create(Nn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var OS;function Df(){return OS||(OS=Du(0))}var eI="@@__IMMUTABLE_SET__@@";function Qp(t){return!!(t&&t[eI])}function Jy(t){return Qp(t)&&_i(t)}function Qy(t,e){if(t===e)return!0;if(!Fn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||sr(t)!==sr(e)||_n(t)!==_n(e)||_i(t)!==_i(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Hc(t);if(_i(t)){var n=t.entries();return e.every(function(l,u){var c=n.next().value;return c&&ln(c[1],l)&&(r||ln(c[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var o=!0,s=e.__iterate(function(l,u){if(r?!t.has(l):i?!ln(l,t.get(u,It)):!ln(t.get(u,It),l))return o=!1,!1});return o&&t.size===s}function Ss(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Vd(t){if(!t||typeof t!="object")return t;if(!Fn(t)){if(!wo(t))return t;t=$n(t)}if(sr(t)){var e={};return t.__iterate(function(n,i){e[i]=Vd(n)}),e}var r=[];return t.__iterate(function(n){r.push(Vd(n))}),r}var Jc=function(t){function e(r){return r==null?Mu():Qp(r)&&!_i(r)?r:Mu().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.intersect=function(n){return n=Ar(n).toArray(),n.length?vn.intersect.apply(e(n.pop()),n):Mu()},e.union=function(n){return n=Ar(n).toArray(),n.length?vn.union.apply(e(n.pop()),n):Mu()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Mf(this,this._map.set(n,n))},e.prototype.remove=function(n){return Mf(this,this._map.remove(n))},e.prototype.clear=function(){return Mf(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,o=!1,s=Mf(this,this._map.mapEntries(function(l){var u=l[1],c=n.call(i,u,u,a);return c!==u&&(o=!0),[c,c]},i));return o?s:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):t(n[o]).forEach(function(s){return a.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.sort=function(n){return Ll(kl(this,n))},e.prototype.sortBy=function(n,i){return Ll(kl(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(ru);Jc.isSet=Qp;var vn=Jc.prototype;vn[eI]=!0;vn[Vc]=vn.remove;vn.merge=vn.concat=vn.union;vn.withMutations=Gc;vn.asImmutable=Kc;vn["@@transducer/init"]=vn.asMutable=Yc;vn["@@transducer/step"]=function(t,e){return t.add(e)};vn["@@transducer/result"]=function(t){return t.asImmutable()};vn.__empty=Mu;vn.__make=tI;function Mf(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function tI(t,e){var r=Object.create(vn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var xS;function Mu(){return xS||(xS=tI(Ri()))}var rI=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(Fy(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(av)return av;av=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+xo(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Bc(n,i,this.size)?this:(n=tu(n,this.size),i=qc(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},e.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new Mt(function(){if(l===a)return Rn();var u=s;return s+=i?-o:o,mr(n,i?a-++l:l++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Qy(this,n)},e}(Ai),av;function Xy(t,e,r){for(var n=Nk(e),i=0;i!==n.length;)if(t=$y(t,n[i++],It),t===It)return r;return t}function nI(t,e){return Xy(this,t,e)}function iI(t,e){return Xy(t,e,It)!==It}function uQ(t){return iI(this,t)}function aI(){Qn(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ar.isIterable=Fn;Ar.isKeyed=sr;Ar.isIndexed=_n;Ar.isAssociative=Hc;Ar.isOrdered=_i;Ar.Iterator=Mt;Ss(Ar,{toArray:function(){Qn(this.size);var e=new Array(this.size||0),r=sr(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new kk(this)},toJS:function(){return Vd(this)},toKeyedSeq:function(){return new Kp(this,!0)},toMap:function(){return ur(this.toKeyedSeq())},toObject:aI,toOrderedMap:function(){return _a(this.toKeyedSeq())},toOrderedSet:function(){return Ll(sr(this)?this.valueSeq():this)},toSet:function(){return Jc(sr(this)?this.valueSeq():this)},toSetSeq:function(){return new Ik(this)},toSeq:function(){return _n(this)?this.toIndexedSeq():sr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Jp(sr(this)?this.valueSeq():this)},toList:function(){return Xi(sr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return nr(this,HJ(this,e))},includes:function(e){return this.some(function(r){return ln(r,e)})},entries:function(){return this.__iterator(xi)},every:function(e,r){Qn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!e.call(r,i,a,o))return n=!1,!1}),n},filter:function(e,r){return nr(this,Lk(this,e,r,!0))},partition:function(e,r){return BJ(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Qn(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Qn(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(zc)},map:function(e,r){return nr(this,Pk(this,e,r))},reduce:function(e,r,n){return wS(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return wS(this,e,r,n,arguments.length<2,!0)},reverse:function(){return nr(this,Ay(this,!0))},slice:function(e,r){return nr(this,jy(this,e,r,!0))},some:function(e,r){Qn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(e.call(r,i,a,o))return n=!0,!1}),n},sort:function(e){return nr(this,kl(this,e))},values:function(){return this.__iterator(qi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Tl(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return MJ(this,e,r)},equals:function(e){return Qy(this,e)},entrySeq:function(){var e=this;if(e._cache)return new rs(e._cache);var r=e.toSeq().map(fQ).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(ov(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,o,s){if(e.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(gk,null,e)},flatMap:function(e,r){return nr(this,zJ(this,e,r))},flatten:function(e){return nr(this,Rk(this,e,!0))},fromEntrySeq:function(){return new Ak(this)},get:function(e,r){return this.find(function(n,i){return ln(i,e)},void 0,r)},getIn:nI,groupBy:function(e,r){return VJ(this,e,r)},has:function(e){return this.get(e,It)!==It},hasIn:uQ,isSubset:function(e){return e=typeof e.includes=="function"?e:Ar(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ar(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return ln(r,e)})},keySeq:function(){return this.toSeq().map(cQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return $f(this,e)},maxBy:function(e,r){return $f(this,r,e)},min:function(e){return $f(this,e?ES(e):TS)},minBy:function(e,r){return $f(this,r?ES(r):TS,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return nr(this,Fk(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(ov(e),r)},sortBy:function(e,r){return nr(this,kl(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return nr(this,qJ(this,e,r))},takeUntil:function(e,r){return this.takeWhile(ov(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=dQ(this))}});var Sn=Ar.prototype;Sn[bk]=!0;Sn[Up]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=vc;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;Ss(ki,{flip:function(){return nr(this,jk(this))},mapEntries:function(e,r){var n=this,i=0;return nr(this,this.toSeq().map(function(a,o){return e.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return nr(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var Qc=ki.prototype;Qc[_k]=!0;Qc[Up]=Sn.entries;Qc.toJSON=aI;Qc.__toStringMapper=function(t,e){return vc(e)+": "+vc(t)};Ss(ys,{toKeyedSeq:function(){return new Kp(this,!1)},filter:function(e,r){return nr(this,Lk(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return nr(this,Ay(this,!1))},slice:function(e,r){return nr(this,jy(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=tu(e,e<0?this.count():this.size);var i=this.slice(0,e);return nr(this,n===1?i:i.concat(ca(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return nr(this,Rk(this,e,!1))},get:function(e,r){return e=xo(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=xo(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return nr(this,UJ(this,e))},interleave:function(){var e=[this].concat(ca(arguments)),r=Nf(this.toSeq(),Ai.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),nr(this,n)},keySeq:function(){return rI(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return nr(this,Fk(this,e,r,!1))},zip:function(){var e=[this].concat(ca(arguments));return nr(this,Nf(this,CS,e))},zipAll:function(){var e=[this].concat(ca(arguments));return nr(this,Nf(this,CS,e,!0))},zipWith:function(e){var r=ca(arguments);return r[0]=this,nr(this,Nf(this,e,r))}});var ou=ys.prototype;ou[Sk]=!0;ou[nu]=!0;Ss(ru,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Pl=ru.prototype;Pl.has=Sn.includes;Pl.contains=Pl.includes;Pl.keys=Pl.values;Ss(Ro,Qc);Ss(Ai,ou);Ss(au,Pl);function wS(t,e,r,n,i,a){return Qn(t.size),t.__iterate(function(o,s,l){i?(i=!1,r=o):r=e.call(n,r,o,s,l)},a),r}function cQ(t,e){return e}function fQ(t,e){return[e,t]}function ov(t){return function(){return!t.apply(this,arguments)}}function ES(t){return function(){return-t.apply(this,arguments)}}function CS(){return ca(arguments)}function TS(t,e){return t<e?1:t>e?-1:0}function dQ(t){if(t.size===1/0)return 0;var e=_i(t),r=sr(t),n=e?1:0,i=t.__iterate(r?e?function(a,o){n=31*n+kS(Hn(a),Hn(o))|0}:function(a,o){n=n+kS(Hn(a),Hn(o))|0}:e?function(a){n=31*n+Hn(a)|0}:function(a){n=n+Hn(a)|0});return pQ(i,n)}function pQ(t,e){return e=Au(e,3432918353),e=Au(e<<15|e>>>-15,461845907),e=Au(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Au(e^e>>>16,2246822507),e=Au(e^e>>>13,3266489909),e=Yp(e^e>>>16),e}function kS(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Ll=function(t){function e(r){return r==null?mg():Jy(r)?r:mg().withMutations(function(n){var i=ru(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Jc);Ll.isOrderedSet=Jy;var Os=Ll.prototype;Os[nu]=!0;Os.zip=ou.zip;Os.zipWith=ou.zipWith;Os.zipAll=ou.zipAll;Os.__empty=mg;Os.__make=oI;function oI(t,e){var r=Object.create(Os);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var IS;function mg(){return IS||(IS=oI(Nu()))}var hQ={LeftThenRight:-1,RightThenLeft:1};function vQ(t){if(bs(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ii(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var rn=function(e,r){var n;vQ(e);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),c=a._indices={};a._name=r,a._keys=u,a._defaultValues=e;for(var f=0;f<u.length;f++){var d=u[f];c[d]=f,a[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+e0(this)+' with property "'+d+'" since that property name is part of the Record API.'):gQ(a,d)}}return this.__ownerID=void 0,this._values=Xi().withMutations(function(p){p.setSize(l._keys.length),ki(s).forEach(function(v,h){p.set(l._indices[h],v===l._defaultValues[h]?void 0:v)})}),this},a=i.prototype=Object.create(lr);return a.constructor=i,r&&(i.displayName=r),i};rn.prototype.toString=function(){for(var e=e0(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+vc(this.get(n));return e+" }"};rn.prototype.equals=function(e){return this===e||bs(e)&&Fl(this).equals(Fl(e))};rn.prototype.hashCode=function(){return Fl(this).hashCode()};rn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};rn.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};rn.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Zy(this,n)}return this};rn.prototype.remove=function(e){return this.set(e)};rn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Zy(this,e)};rn.prototype.wasAltered=function(){return this._values.wasAltered()};rn.prototype.toSeq=function(){return Fl(this)};rn.prototype.toJS=function(){return Vd(this)};rn.prototype.entries=function(){return this.__iterator(xi)};rn.prototype.__iterator=function(e,r){return Fl(this).__iterator(e,r)};rn.prototype.__iterate=function(e,r){return Fl(this).__iterate(e,r)};rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Zy(this,r,e):(this.__ownerID=e,this._values=r,this)};rn.isRecord=bs;rn.getDescriptiveName=e0;var lr=rn.prototype;lr[xk]=!0;lr[Vc]=lr.remove;lr.deleteIn=lr.removeIn=Dy;lr.getIn=nI;lr.hasIn=Sn.hasIn;lr.merge=zk;lr.mergeWith=Uk;lr.mergeIn=qy;lr.mergeDeep=Gk;lr.mergeDeepWith=Yk;lr.mergeDeepIn=Hy;lr.setIn=Ny;lr.update=Vy;lr.updateIn=By;lr.withMutations=Gc;lr.asMutable=Yc;lr.asImmutable=Kc;lr[Up]=lr.entries;lr.toJSON=lr.toObject=Sn.toObject;lr.inspect=lr.toSource=function(){return this.toString()};function Zy(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function e0(t){return t.constructor.displayName||t.constructor.name||"Record"}function Fl(t){return Ty(t._keys.map(function(e){return[e,t.get(e)]}))}function gQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){Fy(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch(r){}}var mQ=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(sv)return sv;sv=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return ln(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return Bc(n,i,a)?this:new e(this._value,qc(i,a)-tu(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return ln(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return ln(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new Mt(function(){return s===o?Rn():mr(n,i?o-++s:s++,a._value)})},e.prototype.equals=function(n){return n instanceof e?ln(this._value,n._value):Qy(this,n)},e}(Ai),sv;function $o(t,e){return sI([],e||yQ,t,"",e&&e.length>2?[]:void 0,{"":t})}function sI(t,e,r,n,i,a){if(typeof r!="string"&&!Ii(r)&&(wy(r)||xy(r)||Ry(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(a,n,$n(r).map(function(s,l){return sI(t,e,s,l,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function yQ(t,e){return _n(e)?e.toList():sr(e)?e.toMap():e.toSet()}var bQ="4.3.7",Ue={version:bQ,Collection:Ar,Iterable:Ar,Seq:$n,Map:ur,OrderedMap:_a,List:Xi,Stack:Jp,Set:Jc,OrderedSet:Ll,PairSorting:hQ,Record:rn,Range:rI,Repeat:mQ,is:ln,fromJS:$o,hash:Hn,isImmutable:Ii,isCollection:Fn,isKeyed:sr,isIndexed:_n,isAssociative:Hc,isOrdered:_i,isValueObject:dg,isPlainObject:Ry,isSeq:zp,isList:Yy,isMap:Gp,isOrderedMap:Iy,isStack:Md,isSet:Qp,isOrderedSet:Jy,isRecord:bs,get:$y,getIn:Xy,has:Dk,hasIn:iI,merge:GJ,mergeDeep:KJ,mergeWith:YJ,mergeDeepWith:JJ,remove:Mk,removeIn:Hk,set:Vk,setIn:qk,update:My,updateIn:_s},_Q=0;const Ft=function(){var t=(new Date().getTime().toString(16)+"FF").substr(0,11),e="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(r){var n=r==="s"?Math.floor(Math.random()*16):_Q++&15,i=r==="x"?n:n&3|8;return i.toString(16)});return e+t};var SQ={};function AS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xs=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],su=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Bd=function(e){return xt(e)==="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"},lI=function(e){if(xt(e)==="object"&&e!==null){if(Array.isArray(e))return Ce(e);if(Bd(e))return OQ({},e)}return e},ai=function(e,r){return Object.fromEntries(Object.entries(e).filter(function(n){var i=ke(n,1),a=i[0];return!r.includes(a)}))},Ur=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},qd=function(e,r){return e===r?!0:ur.isMap(e)?e.equals(r):JSON.stringify(e)==JSON.stringify(r)},Xc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?xQ(e,r,n):ur.isMap(e)?e.equals(r):xt(e)=="object"?wQ(e,r,n):e===r};function xQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Xc(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function wQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Xc(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var lu=function(e){return xt(e)==="object"&&e!==null&&typeof e.toJS=="function"},Xp=function(e){return lu(e)&&Ue.isList(e)};function Wr(t){return Xp(t)?t:new Ue.List(t)}function t0(t){return lu(t)?t.toJS():t}var uI=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},cI=function(e,r,n,i,a,o){if(Array.isArray(e))return r},r0=function t(e){var r=["$$typeof","_owner","_store","ref","key"],n=function(s){return typeof s=="string"?s:typeof s=="function"?s.name:s};if(e instanceof Array)return e.map(function(o,s){return t(o)});if(xt(e)==="object"&&e!==null&&Zc(e)){var i,a=ai(e,r);return a.type&&(a.type=n(a.type)),a!=null&&(i=a.props)!==null&&i!==void 0&&i.children&&(a.props.children=t(a.props.children)),a}return e},Zc=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},n0=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&typeof e.type=="string"&&Object.keys(e).includes("props")},Ln=function(e){var r=xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1;return r};function fI(t){return new Promise(function(e){setTimeout(e,t)})}function Hd(t,e){return t||(t=[]),e||(e=[]),e.map(function(r){return[r,t.indexOf(r)]}).map(function(r,n,i){var a=ke(r,2),o=a[0],s=a[1];if(s==-1){var l=i.slice(n+1),u=i.slice(0,n),c=u.reverse().find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1}),f=l.find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1});return f?[o,"before",f[0]]:c?[o,"after",c[0]]:[o,"append",null]}else return null}).filter(function(r){return r!==null}).reduce(function(r,n){var i=ke(n,3),a=i[0],o=i[1],s=i[2],l=r.indexOf(s);return r.indexOf(a)==-1&&(l>-1?r.splice(l+(o=="after"?1:0),0,a):r.splice(o=="append"?1/0:0,0,a)),r},t.slice())}var dI=function t(e){xt(e)==="object"&&e!==null&&!Zc(e)&&(Object.keys(e).forEach(function(r){r!=="__cache"&&t(e[r])}),Object.freeze(e))},pI=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Bd(e)){if(e.var)return n[e.var]=r,!0;if(!Bd(r))return!1;for(var a in e){var o=e[a],s=r[a];if(!t(o,s,n,[].concat(Ce(i),[a])))return!1}return!0}else if(Array.isArray(e)){if(!Array.isArray(r))return!1;for(var l=0;l<e.length;l++){var u=e[l],c=r[l];if(!t(u,c,n,[].concat(Ce(i),[l])))return!1}return!0}else return e===r},EQ=function(){return typeof process<"u"&&SQ&&!1},hI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:EQ();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},vI=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r,n=0;n<e.length;n++){var i=e[n];if(i!==void 0){r=i;break}}return r},Eo=hI();const CQ=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:t0,cleanJSX:r0,deepEqual:qd,deepFreeze:dI,escapeRegExp:uI,getFirstDefined:vI,getLogger:hI,getOpCardinality:Ur,isDirtyJSX:Zc,isImmutable:lu,isImmutableList:Xp,isJSX:n0,isJsonCompatible:pI,isJsonLogic:Ln,isObject:Bd,logger:Eo,mergeArraysSmart:Hd,mergeCustomizerNoArrays:cI,omit:ai,opDefKeysToOmit:su,shallowCopy:lI,shallowEqual:Xc,sleep:fI,toImmutableList:Wr,uuid:Ft,widgetDefKeysToOmit:xs},Symbol.toStringTag,{value:"Module"}));var gI={exports:{}},mI={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(mI);var TQ=mI.exports;(function(t){var e=TQ.default;function r(){t.exports=r=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var n,i={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(M,$,F){M[$]=F.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(M,$,F){return Object.defineProperty(M,$,{value:F,enumerable:!0,configurable:!0,writable:!0}),M[$]}try{d({},"")}catch(M){d=function(F,N,B){return F[N]=B}}function p(M,$,F,N){var B=$&&$.prototype instanceof b?$:b,z=Object.create(B.prototype),H=new R(N||[]);return s(z,"_invoke",{value:A(M,F,H)}),z}function v(M,$,F){try{return{type:"normal",arg:M.call($,F)}}catch(N){return{type:"throw",arg:N}}}i.wrap=p;var h="suspendedStart",m="suspendedYield",y="executing",g="completed",_={};function b(){}function S(){}function O(){}var x={};d(x,u,function(){return this});var E=Object.getPrototypeOf,k=E&&E(E(U([])));k&&k!==a&&o.call(k,u)&&(x=k);var w=O.prototype=b.prototype=Object.create(x);function I(M){["next","throw","return"].forEach(function($){d(M,$,function(F){return this._invoke($,F)})})}function C(M,$){function F(B,z,H,D){var G=v(M[B],M,z);if(G.type!=="throw"){var q=G.arg,Y=q.value;return Y&&e(Y)=="object"&&o.call(Y,"__await")?$.resolve(Y.__await).then(function(K){F("next",K,H,D)},function(K){F("throw",K,H,D)}):$.resolve(Y).then(function(K){q.value=K,H(q)},function(K){return F("throw",K,H,D)})}D(G.arg)}var N;s(this,"_invoke",{value:function(z,H){function D(){return new $(function(G,q){F(z,H,G,q)})}return N=N?N.then(D,D):D()}})}function A(M,$,F){var N=h;return function(B,z){if(N===y)throw Error("Generator is already running");if(N===g){if(B==="throw")throw z;return{value:n,done:!0}}for(F.method=B,F.arg=z;;){var H=F.delegate;if(H){var D=P(H,F);if(D){if(D===_)continue;return D}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(N===h)throw N=g,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);N=y;var G=v(M,$,F);if(G.type==="normal"){if(N=F.done?g:m,G.arg===_)continue;return{value:G.arg,done:F.done}}G.type==="throw"&&(N=g,F.method="throw",F.arg=G.arg)}}}function P(M,$){var F=$.method,N=M.iterator[F];if(N===n)return $.delegate=null,F==="throw"&&M.iterator.return&&($.method="return",$.arg=n,P(M,$),$.method==="throw")||F!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+F+"' method")),_;var B=v(N,M.iterator,$.arg);if(B.type==="throw")return $.method="throw",$.arg=B.arg,$.delegate=null,_;var z=B.arg;return z?z.done?($[M.resultName]=z.value,$.next=M.nextLoc,$.method!=="return"&&($.method="next",$.arg=n),$.delegate=null,_):z:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,_)}function L(M){var $={tryLoc:M[0]};1 in M&&($.catchLoc=M[1]),2 in M&&($.finallyLoc=M[2],$.afterLoc=M[3]),this.tryEntries.push($)}function V(M){var $=M.completion||{};$.type="normal",delete $.arg,M.completion=$}function R(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(L,this),this.reset(!0)}function U(M){if(M||M===""){var $=M[u];if($)return $.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var F=-1,N=function B(){for(;++F<M.length;)if(o.call(M,F))return B.value=M[F],B.done=!1,B;return B.value=n,B.done=!0,B};return N.next=N}}throw new TypeError(e(M)+" is not iterable")}return S.prototype=O,s(w,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:S,configurable:!0}),S.displayName=d(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(M){var $=typeof M=="function"&&M.constructor;return!!$&&($===S||($.displayName||$.name)==="GeneratorFunction")},i.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,O):(M.__proto__=O,d(M,f,"GeneratorFunction")),M.prototype=Object.create(w),M},i.awrap=function(M){return{__await:M}},I(C.prototype),d(C.prototype,c,function(){return this}),i.AsyncIterator=C,i.async=function(M,$,F,N,B){B===void 0&&(B=Promise);var z=new C(p(M,$,F,N),B);return i.isGeneratorFunction($)?z:z.next().then(function(H){return H.done?H.value:z.next()})},I(w),d(w,f,"Generator"),d(w,u,function(){return this}),d(w,"toString",function(){return"[object Generator]"}),i.keys=function(M){var $=Object(M),F=[];for(var N in $)F.push(N);return F.reverse(),function B(){for(;F.length;){var z=F.pop();if(z in $)return B.value=z,B.done=!1,B}return B.done=!0,B}},i.values=U,R.prototype={constructor:R,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(V),!$)for(var F in this)F.charAt(0)==="t"&&o.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=n)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var F=this;function N(q,Y){return H.type="throw",H.arg=$,F.next=q,Y&&(F.method="next",F.arg=n),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var z=this.tryEntries[B],H=z.completion;if(z.tryLoc==="root")return N("end");if(z.tryLoc<=this.prev){var D=o.call(z,"catchLoc"),G=o.call(z,"finallyLoc");if(D&&G){if(this.prev<z.catchLoc)return N(z.catchLoc,!0);if(this.prev<z.finallyLoc)return N(z.finallyLoc)}else if(D){if(this.prev<z.catchLoc)return N(z.catchLoc,!0)}else{if(!G)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return N(z.finallyLoc)}}}},abrupt:function($,F){for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N];if(B.tryLoc<=this.prev&&o.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var z=B;break}}z&&($==="break"||$==="continue")&&z.tryLoc<=F&&F<=z.finallyLoc&&(z=null);var H=z?z.completion:{};return H.type=$,H.arg=F,z?(this.method="next",this.next=z.finallyLoc,_):this.complete(H)},complete:function($,F){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&F&&(this.next=F),_},finish:function($){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.finallyLoc===$)return this.complete(N.completion,N.afterLoc),V(N),_}},catch:function($){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.tryLoc===$){var B=N.completion;if(B.type==="throw"){var z=B.arg;V(N)}return z}}throw Error("illegal catch attempt")},delegateYield:function($,F,N){return this.delegate={iterator:U($),resultName:F,nextLoc:N},this.method==="next"&&(this.arg=n),_}},i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(gI);var kQ=gI.exports,pd=kQ(),IQ=pd;try{regeneratorRuntime=pd}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=pd:Function("r","regeneratorRuntime = r")(pd)}const Br=tn(IQ);var AQ=ds,jQ=Oa,PQ="[object Symbol]";function LQ(t){return typeof t=="symbol"||jQ(t)&&AQ(t)==PQ}var Zp=LQ,FQ=ni,RQ=Zp,$Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NQ=/^\w*$/;function DQ(t,e){if(FQ(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||RQ(t)?!0:NQ.test(t)||!$Q.test(t)||e!=null&&t in Object(e)}var i0=DQ,yI=pm,MQ="Expected a function";function a0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MQ);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(a0.Cache||yI),r}a0.Cache=yI;var VQ=a0,BQ=VQ,qQ=500;function HQ(t){var e=BQ(t,function(n){return r.size===qQ&&r.clear(),n}),r=e.cache;return e}var zQ=HQ,UQ=zQ,WQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GQ=/\\(\\)?/g,YQ=UQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(WQ,function(r,n,i,a){e.push(i?a.replace(GQ,"$1"):n||r)}),e}),KQ=YQ;function JQ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var eh=JQ,jS=ql,QQ=eh,XQ=ni,ZQ=Zp,eX=1/0,PS=jS?jS.prototype:void 0,LS=PS?PS.toString:void 0;function bI(t){if(typeof t=="string")return t;if(XQ(t))return QQ(t,bI)+"";if(ZQ(t))return LS?LS.call(t):"";var e=t+"";return e=="0"&&1/t==-eX?"-0":e}var _I=bI,tX=_I;function rX(t){return t==null?"":tX(t)}var SI=rX,nX=ni,iX=i0,aX=KQ,oX=SI;function sX(t,e){return nX(t)?t:iX(t,e)?[t]:aX(oX(t))}var uu=sX,lX=Zp,uX=1/0;function cX(t){if(typeof t=="string"||lX(t))return t;var e=t+"";return e=="0"&&1/t==-uX?"-0":e}var cu=cX,fX=uu,dX=cu;function pX(t,e){e=fX(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[dX(e[r++])];return r&&r==n?t:void 0}var th=pX,hX=ps,vX=function(){try{var t=hX(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),OI=vX,FS=OI;function gX(t,e,r){e=="__proto__"&&FS?FS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var rh=gX,mX=rh,yX=Ic,bX=Object.prototype,_X=bX.hasOwnProperty;function SX(t,e,r){var n=t[e];(!(_X.call(t,e)&&yX(n,r))||r===void 0&&!(e in t))&&mX(t,e,r)}var o0=SX,OX=o0,xX=uu,wX=_p,RS=Ei,EX=cu;function CX(t,e,r,n){if(!RS(t))return t;e=xX(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=EX(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=RS(c)?c:wX(e[i+1])?[]:{})}OX(s,l,u),s=s[l]}return t}var TX=CX,kX=th,IX=TX,AX=uu;function jX(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=kX(t,o);r(s,o)&&IX(a,AX(o,t),s)}return a}var xI=jX;function PX(t,e){return t!=null&&e in Object(t)}var LX=PX,FX=uu,RX=yp,$X=ni,NX=_p,DX=gm,MX=cu;function VX(t,e,r){e=FX(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=MX(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&DX(i)&&NX(o,i)&&($X(t)||RX(t)))}var BX=VX,qX=LX,HX=BX;function zX(t,e){return t!=null&&HX(t,e,qX)}var wI=zX,UX=xI,WX=wI;function GX(t,e){return UX(t,e,function(r,n){return WX(t,n)})}var YX=GX,$S=ql,KX=yp,JX=ni,NS=$S?$S.isConcatSpreadable:void 0;function QX(t){return JX(t)||KX(t)||!!(NS&&t&&t[NS])}var XX=QX,ZX=hm,eZ=XX;function EI(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=eZ),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?EI(s,e-1,r,n,i):ZX(i,s):n||(i[i.length]=s)}return i}var tZ=EI,rZ=tZ;function nZ(t){var e=t==null?0:t.length;return e?rZ(t,1):[]}var iZ=nZ;function aZ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var oZ=aZ,sZ=oZ,DS=Math.max;function lZ(t,e,r){return e=DS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=DS(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),sZ(t,this,s)}}var CI=lZ;function uZ(t){return function(){return t}}var cZ=uZ;function fZ(t){return t}var nh=fZ,dZ=cZ,MS=OI,pZ=nh,hZ=MS?function(t,e){return MS(t,"toString",{configurable:!0,enumerable:!1,value:dZ(e),writable:!0})}:pZ,vZ=hZ,gZ=800,mZ=16,yZ=Date.now;function bZ(t){var e=0,r=0;return function(){var n=yZ(),i=mZ-(n-r);if(r=n,i>0){if(++e>=gZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _Z=bZ,SZ=vZ,OZ=_Z,xZ=OZ(SZ),TI=xZ,wZ=iZ,EZ=CI,CZ=TI;function TZ(t){return CZ(EZ(t,void 0,wZ),t+"")}var kI=TZ,kZ=YX,IZ=kI,AZ=IZ(function(t,e){return t==null?{}:kZ(t,e)}),jZ=AZ;const Sa=tn(jZ);function PZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var II=PZ;const ih=tn(II);function LZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var FZ=LZ,RZ=o0,$Z=rh;function NZ(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?$Z(r,s,l):RZ(r,s,l)}return r}var fu=NZ,DZ=fu,MZ=Gl;function VZ(t,e){return t&&DZ(e,MZ(e),t)}var BZ=VZ;function qZ(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var HZ=qZ,zZ=Ei,UZ=_m,WZ=HZ,GZ=Object.prototype,YZ=GZ.hasOwnProperty;function KZ(t){if(!zZ(t))return WZ(t);var e=UZ(t),r=[];for(var n in t)n=="constructor"&&(e||!YZ.call(t,n))||r.push(n);return r}var JZ=KZ,QZ=YE,XZ=JZ,ZZ=Wl;function eee(t){return ZZ(t)?QZ(t,!0):XZ(t)}var ef=eee,tee=fu,ree=ef;function nee(t,e){return t&&tee(e,ree(e),t)}var iee=nee,zd={exports:{}};zd.exports;(function(t,e){var r=Ji,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(zd,zd.exports);var AI=zd.exports;function aee(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var jI=aee,oee=fu,see=vm;function lee(t,e){return oee(t,see(t),e)}var uee=lee,cee=KE,fee=cee(Object.getPrototypeOf,Object),s0=fee,dee=hm,pee=s0,hee=vm,vee=WE,gee=Object.getOwnPropertySymbols,mee=gee?function(t){for(var e=[];t;)dee(e,hee(t)),t=pee(t);return e}:vee,PI=mee,yee=fu,bee=PI;function _ee(t,e){return yee(t,bee(t),e)}var See=_ee,Oee=UE,xee=PI,wee=ef;function Eee(t){return Oee(t,wee,xee)}var l0=Eee,Cee=Object.prototype,Tee=Cee.hasOwnProperty;function kee(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Tee.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Iee=kee,VS=zE;function Aee(t){var e=new t.constructor(t.byteLength);return new VS(e).set(new VS(t)),e}var u0=Aee,jee=u0;function Pee(t,e){var r=e?jee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Lee=Pee,Fee=/\w*$/;function Ree(t){var e=new t.constructor(t.source,Fee.exec(t));return e.lastIndex=t.lastIndex,e}var $ee=Ree,BS=ql,qS=BS?BS.prototype:void 0,HS=qS?qS.valueOf:void 0;function Nee(t){return HS?Object(HS.call(t)):{}}var Dee=Nee,Mee=u0;function Vee(t,e){var r=e?Mee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var LI=Vee,Bee=u0,qee=Lee,Hee=$ee,zee=Dee,Uee=LI,Wee="[object Boolean]",Gee="[object Date]",Yee="[object Map]",Kee="[object Number]",Jee="[object RegExp]",Qee="[object Set]",Xee="[object String]",Zee="[object Symbol]",ete="[object ArrayBuffer]",tte="[object DataView]",rte="[object Float32Array]",nte="[object Float64Array]",ite="[object Int8Array]",ate="[object Int16Array]",ote="[object Int32Array]",ste="[object Uint8Array]",lte="[object Uint8ClampedArray]",ute="[object Uint16Array]",cte="[object Uint32Array]";function fte(t,e,r){var n=t.constructor;switch(e){case ete:return Bee(t);case Wee:case Gee:return new n(+t);case tte:return qee(t,r);case rte:case nte:case ite:case ate:case ote:case ste:case lte:case ute:case cte:return Uee(t,r);case Yee:return new n;case Kee:case Xee:return new n(t);case Jee:return Hee(t);case Qee:return new n;case Zee:return zee(t)}}var dte=fte,pte=Ei,zS=Object.create,hte=function(){function t(){}return function(e){if(!pte(e))return{};if(zS)return zS(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),vte=hte,gte=vte,mte=s0,yte=_m;function bte(t){return typeof t.constructor=="function"&&!yte(t)?gte(mte(t)):{}}var FI=bte,_te=Sp,Ste=Oa,Ote="[object Map]";function xte(t){return Ste(t)&&_te(t)==Ote}var wte=xte,Ete=wte,Cte=mm,US=ym,WS=US&&US.isMap,Tte=WS?Cte(WS):Ete,kte=Tte,Ite=Sp,Ate=Oa,jte="[object Set]";function Pte(t){return Ate(t)&&Ite(t)==jte}var Lte=Pte,Fte=Lte,Rte=mm,GS=ym,YS=GS&&GS.isSet,$te=YS?Rte(YS):Fte,Nte=$te,Dte=mp,Mte=FZ,Vte=o0,Bte=BZ,qte=iee,Hte=AI,zte=jI,Ute=uee,Wte=See,Gte=JE,Yte=l0,Kte=Sp,Jte=Iee,Qte=dte,Xte=FI,Zte=ni,ere=bp,tre=kte,rre=Ei,nre=Nte,ire=Gl,are=ef,ore=1,sre=2,lre=4,RI="[object Arguments]",ure="[object Array]",cre="[object Boolean]",fre="[object Date]",dre="[object Error]",$I="[object Function]",pre="[object GeneratorFunction]",hre="[object Map]",vre="[object Number]",NI="[object Object]",gre="[object RegExp]",mre="[object Set]",yre="[object String]",bre="[object Symbol]",_re="[object WeakMap]",Sre="[object ArrayBuffer]",Ore="[object DataView]",xre="[object Float32Array]",wre="[object Float64Array]",Ere="[object Int8Array]",Cre="[object Int16Array]",Tre="[object Int32Array]",kre="[object Uint8Array]",Ire="[object Uint8ClampedArray]",Are="[object Uint16Array]",jre="[object Uint32Array]",or={};or[RI]=or[ure]=or[Sre]=or[Ore]=or[cre]=or[fre]=or[xre]=or[wre]=or[Ere]=or[Cre]=or[Tre]=or[hre]=or[vre]=or[NI]=or[gre]=or[mre]=or[yre]=or[bre]=or[kre]=or[Ire]=or[Are]=or[jre]=!0;or[dre]=or[$I]=or[_re]=!1;function hd(t,e,r,n,i,a){var o,s=e&ore,l=e&sre,u=e&lre;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!rre(t))return t;var c=Zte(t);if(c){if(o=Jte(t),!s)return zte(t,o)}else{var f=Kte(t),d=f==$I||f==pre;if(ere(t))return Hte(t,s);if(f==NI||f==RI||d&&!i){if(o=l||d?{}:Xte(t),!s)return l?Wte(t,qte(o,t)):Ute(t,Bte(o,t))}else{if(!or[f])return i?t:{};o=Qte(t,f,s)}}a||(a=new Dte);var p=a.get(t);if(p)return p;a.set(t,o),nre(t)?t.forEach(function(m){o.add(hd(m,e,r,m,t,a))}):tre(t)&&t.forEach(function(m,y){o.set(y,hd(m,e,r,y,t,a))});var v=u?l?Yte:Gte:l?are:ire,h=c?void 0:v(t);return Mte(h||t,function(m,y){h&&(y=m,m=t[y]),Vte(o,y,hd(m,e,r,y,t,a))}),o}var DI=hd;function Pre(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Lre=Pre,Fre=th,Rre=Lre;function $re(t,e){return e.length<2?t:Fre(t,Rre(e,0,-1))}var Nre=$re,Dre=uu,Mre=II,Vre=Nre,Bre=cu;function qre(t,e){return e=Dre(e,t),t=Vre(t,e),t==null||delete t[Bre(Mre(e))]}var Hre=qre,zre=ds,Ure=s0,Wre=Oa,Gre="[object Object]",Yre=Function.prototype,Kre=Object.prototype,MI=Yre.toString,Jre=Kre.hasOwnProperty,Qre=MI.call(Object);function Xre(t){if(!Wre(t)||zre(t)!=Gre)return!1;var e=Ure(t);if(e===null)return!0;var r=Jre.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&MI.call(r)==Qre}var c0=Xre,Zre=c0;function ene(t){return Zre(t)?void 0:t}var tne=ene,rne=eh,nne=DI,ine=Hre,ane=uu,one=fu,sne=tne,lne=kI,une=l0,cne=1,fne=2,dne=4,pne=lne(function(t,e){var r={};if(t==null)return r;var n=!1;e=rne(e,function(a){return a=ane(a,t),n||(n=a.length>1),a}),one(t,une(t),r),n&&(r=nne(r,cne|fne|dne,sne));for(var i=e.length;i--;)ine(r,e[i]);return r}),hne=pne;const Co=tn(hne);function vne(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function gne(t,e){if(t){if(typeof t=="string")return KS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KS(t,e)}}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var f0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},Ga=function(e,r){if(!(e==null||e==""))return f0(e)?Ud(Ud({},e),{},{title:e.title||e.value}):{value:e,title:r!==void 0?r:""+e}},d0=function(e){var r=Ga(e);return f0(r)?Ud(Ud({},Ga(e)),{},{isCustom:!0}):r},VI=function(e){if(Array.isArray(e))return e.map(function(a){return Ga(a)});if(!f0(e))return e;var r=[];for(var n in e){var i=e[n];r.push(Ga(n,i))}return r},_c=function(e,r){if(Array.isArray(e)){var n=e.map(function(i){return Ga(i)});return n.find(function(i){return""+i.value==""+r})}else return e[r]!==void 0?Ga(r,e[r]):void 0},BI=function(e,r){if(e==null)return r;var n=_c(e,r);return n!==void 0?n.title:r},mne=function(e,r){if(e==null)return r;var n=_c(e,r);return n!==void 0?n.value:r},p0=function(e,r){var n=[];if(Array.isArray(e)){var i=vne(e),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=r(Ga(o));s!=null&&n.push(s)}}catch(c){i.e(c)}finally{i.f()}}else for(var l in e){var u=r(Ga(l,e[l]));u!=null&&n.push(u)}return n},yne=function(e,r){return p0(r,function(n){return"".concat(n.value).indexOf(e)!=-1||n.title.indexOf(e)!=-1?n:null}).filter(function(n){return n!==null}).shift()},ah=function(e,r){return p0(r,function(n){return""+n.value==""+e?n:null}).filter(function(n){return n!==null}).shift()};const bne=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:_c,getListValue:ah,getTitleInListValues:BI,getValueInListValues:mne,listValuesToArray:VI,makeCustomListValue:d0,mapListValues:p0,searchListValue:yne,toListValue:Ga},Symbol.toStringTag,{value:"Module"}));var Ie=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.skip(1),a.push.apply(a,n),a})},yg=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.push.apply(a,n),a})},pl=function(e,r){var n=new Ue.OrderedMap(le({},e.get("id"),e)),i=e;return r.forEach(function(a){var o;i=n.get(a),n=(o=i)===null||o===void 0?void 0:o.get("children1")}),i},qI=function(e){var r=e;function n(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=a.push(i.get("id")),l=i.getIn(["properties","isLocked"]);o&&l&&(r=r.deleteIn(Ie(s,"properties","isLocked")));var u=i.get("children1");u&&u.map(function(c,f){n(c,s,l||o)})}return n(e,new Ue.List),r},Hi=function(e){var r=e;function n(i,a,o,s){if(i){var l=i.get("path"),u=i.get("id"),c=u||s||Ft(),f=a.push(c);(!l||!l.equals(f))&&(r=r.setIn(Ie(f,"path"),f)),u||(r=r.setIn(Ie(f,"id"),c));var d=i.get("children1");d&&(d.constructor.name==="Map"&&(r=r.setIn(Ie(f,"children1"),new Ue.OrderedMap(d))),d.map(function(p,v){n(p,f,o+1,v)}))}}return n(e,new Ue.List,0),r},oh=function(e){var r=e;function n(i,a,o,s){if(!i)return!1;var l=i.get("id")||s,u=a.push(l),c=i.get("children1");if(c){var f=c.map(function(d,p){return n(d,u,o+1,p)}).reduce(function(d,p){return d&&p},!0);if((c.size==0||f)&&o>0)return r=r.deleteIn(Ie(u)),!0}return!1}return n(e,new Ue.List,0),r},bg=function(e){var r=[],n={},i=[],a=0,o=0,s=0,l={};function u(v,h,m,y,g,_,b,S){var O=v===e,x=v.get("type"),E=v.get("collapsed"),k=v.get("id"),w=v.get("children1"),I=v.getIn(["properties","isLocked"]),C=w?w.map(function(oe,ue){return ue}).valueSeq().toArray():null,A=x==="rule_group",P=x==="rule",L=x==="group",V=x==="case_group",R=!g&&(!w||A),U=(C==null?void 0:C.length)>0,M=h.length?h[h.length-1]:null,$=V?k:b;V&&(i.push(k),o=0,s=0,l={});var F=$?i.indexOf($):null,N=r.length,B=a,z;O||(z={},z.caseNo=F,z.globalNoByType=V?F:l[x]||0,z.indexPath=[].concat(Ce(h.slice(1).map(function(oe){return n[oe].childNo})),[S]),P?z.globalLeafNo=o:L&&(z.globalGroupNo=s)),r.push(k),n[k]={node:v,index:N,id:k,type:x,parent:M,parentType:M?n[M].type:null,children:C,childNo:S,caseId:$,caseNo:F,path:h.concat(k),lev:_,isLeaf:!w,isAtomicRule:R,isLocked:I||y,top:m?null:B,isDefaultCase:V?!w:void 0,atomicRulesCountInCase:V?0:void 0,position:z,collapsed:E,_top:N,leaf:!w};var H=0,D=0;m||(a+=1,H+=1,U&&!E&&!A&&(D+=1),!O&&!V&&(L&&s++,P&&o++,l[x]=(l[x]||0)+1)),b&&R&&n[b].atomicRulesCountInCase++;var G=0,q=0;if(U){var Y=0;w.map(function(oe,ue){if(oe){u(oe,h.concat(k),m||E,y||I,g||A,_+1,$,Y);var fe=n[ue];G=Math.max(G,fe.depth||0),q+=fe.height,Y++}})}H+=q,D+=G;var K=r.length,ie=K-N,te=m?null:B+H;Object.assign(n[k],{depth:w?D:void 0,_height:ie,height:H,bottom:te})}u(e,[],!1,!1,!1,0,null,null);for(var c=0;c<r.length;c++){var f=c>0?r[c-1]:null,d=c<r.length-1?r[c+1]:null,p=n[r[c]];p.prev=f,p.next=d}return{flat:r,items:n,cases:i}},_ne=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type);var c=u=="rule_group";r++,l&&!c&&l.map(function(f,d){f&&n(f,a.concat(s))})}return n(e,[]),r-1},_g=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type),u=="rule"||u=="rule_group"?r++:l&&l.map(function(c,f){c&&n(c,a.concat(s))})}return n(e,[]),r},HI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e;function a(o,s){r&&o.path&&delete o.path,r&&!n&&s&&delete o.id;var l=o.properties;l&&l.operatorOptions==null&&delete l.operatorOptions;var u=o.children1;if(u){for(var c in u)u[c]&&a(u[c],c);n&&(o.children1=Object.values(u))}}return a(e,null),i},zI=function(e){var r=[],n=e.get("children1");return n&&n.map(function(i){var a=i.getIn(["properties","value"]),o;a&&a.size==1?(o=a.get(0),Array.isArray(o)&&o.length==0&&(o=null)):o=null,r=[].concat(Ce(r),[o])}),r},h0=function(e){return!e.get("children1")||e.get("children1").size==0},v0=function(e,r){return e.getIn(Ie(r,"children1")).size>0},Sg=function(e){if(e!=null&&e.toJS){var r,n=e==null||(r=e.toJS)===null||r===void 0?void 0:r.call(e);return n!=null&&n.func?e.toOrderedMap():n}else return e};const Sne=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:Sg,expandTreePath:Ie,expandTreeSubpath:yg,fixEmptyGroupsInTree:oh,fixPathsInTree:Hi,getFlatTree:bg,getItemByPath:pl,getLightTree:HI,getSwitchValues:zI,getTotalReordableNodesCountInTree:_ne,getTotalRulesCountInTree:_g,hasChildren:v0,immutableToJs:t0,isEmptyTree:h0,isImmutable:lu,jsToImmutable:Sc,removeIsLockedInTree:qI,toImmutableList:Wr},Symbol.toStringTag,{value:"Module"}));var One=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e;return i=i.toJS(),i=HI(i,r,n),i}},g0=function(e){if(UI(e))return e;if(WI(e))return Hi(Sc(e));if(typeof e=="string"&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if(typeof e=="string")return Hi(Sc(JSON.parse(e)));throw new Error("Can't load tree!")},UI=function(e){return ur.isMap(e)},WI=function(e){return xt(e)=="object"&&(e.type=="group"||e.type=="switch_group")};function Sc(t){var e=$o(t,function(r,n,i){var a=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-3]==="args",o=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-2]==="properties",s;if(r=="properties"){s=n.toOrderedMap();for(var l=0;l<2;l++){var u,c,f;((u=s.get("value"))===null||u===void 0||(c=(f=u).get)===null||c===void 0?void 0:c.call(f,l))===null&&(s=s.setIn(["value",l],void 0))}}else a?s=Sg(n):(i?o:r=="value")&&Ue.Iterable.isIndexed(n)?s=n.map(Sg).toList():r=="asyncListValues"?s=n.toJS():r=="children1"&&Ue.Iterable.isIndexed(n)?s=new Ue.OrderedMap(n.map(function(d){return[(d==null?void 0:d.get("id"))||Ft(),d]})):s=Ue.Iterable.isIndexed(n)?n.toList():n.toOrderedMap();return s});return e}function QS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GI(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function xne(t,e){if(t){if(typeof t=="string")return XS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(t,e)}}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wne=function(e){return Array.from(new Set(e))},YI="jlField",KI="jlArgs",Ene=["==","!="],Cne=["<","<=",">",">="],Tne=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],JI=function(e){return{errors:[],settings:e==null?void 0:e.settings}},kne=function(e,r){return QI(e,r,!1)},QI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=JI();i.settings={allowUnknownFields:!1,returnErrors:n};var a=oi(r,void 0,!1),o=Ine(a),s=e?du(e,o,a,["rule","group","switch"],i):void 0,l=s?g0(s):void 0;return n?[l,i.errors]:(i.errors.length&&console.warn("Errors while importing from JsonLogic:",i.errors),l)},Ine=function(e){var r={},n={};for(var i in e.operators){var a=e.operators[i];if(typeof a.jsonLogic=="string"){var o=a.jsonLogic+"/"+Ur(a);r[o]||(r[o]=[]),r[o].push(i)}else if(typeof a.jsonLogic2=="string"){var s=a.jsonLogic2+"/"+Ur(a);r[s]||(r[s]=[]),r[s].push(i),n[i]||(n[i]={}),n[i]={template:a.jsonLogic(YI,i,KI),jsonLogic2:a.jsonLogic2,_jsonLogicIsExclamationOp:!!a._jsonLogicIsExclamationOp}}}var l={};for(var u in e.conjunctions){var c=e.conjunctions[u],f=c.jsonLogicConj||u.toLowerCase();l[f]=u}var d={},p=GI(pu(e)),v;try{for(p.s();!(v=p.n()).done;){var h=ke(v.value,2),m=h[0],y=h[1],g=void 0;y.jsonLogicIsMethod?g="#"+y.jsonLogic:typeof y.jsonLogic=="string"&&(g=y.jsonLogic),g&&(d[g]||(d[g]=[]),d[g].push(m))}}catch(O){p.e(O)}finally{p.f()}var _=e.settings.jsonLogic,b=_.groupVarKey,S=_.altVarKey;return{operators:r,conjunctions:l,funcs:d,varKeys:["var",b,S],combinationOperators:n}},Og=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a;if(r!=null&&r.combinationOperators)for(var o=0,s=Object.entries(r.combinationOperators);o<s.length;o++){var l=ke(s[o],2),u=l[0],c=l[1];if(i==null||i.includes(u)){var f=Ane(c.template,e);f.match&&(a?n.errors.push("Operator matched against 2 templates: ".concat(a.newOp," and ").concat(u)):a=f,a.newOp=c.jsonLogic2)}}return a},Ane=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(e==null||r==null)return n.match=!1,n;var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return n.match=!1,n;for(var o=0;o<i.length;o++){var s=i[o],l=e[s];if(s!==a[o])return n.match=!1,n;if(l===YI&&Ln(r[s]))n.jlField=r[s];else if(l===KI)n.jlArgs.push(r[s]);else if(xt(l)==="object"&&l!==null||Array.isArray(l))n=t(l,r[s],n);else if(l!==r[s])return n.match=!1,n}return n},du=function t(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c,f;Ln(e)&&(c=Object.keys(e)[0],f=e[c],Array.isArray(f)||(f=[f]));var d,p=a.errors.length,v=n.settings.jsonLogic.lockedOp,h=c=="!"&&f.length==1&&f[0]&&Ln(f[0])&&r.varKeys.includes(Object.keys(f[0])[0]),m=Og(e,r,a);m&&(f=[],f[0]=m.jlField,m.jlArgs.forEach(function(O){return f.push(O)}),c=m.newOp);var y=c=="!"&&!h,g=v&&c==v,_=i.includes("switch"),b=_;g?d=t(f[0],r,n,i,a,o,s,l,u,!0):y?d=t(f[0],r,n,i,a,!o,s,l,u):i.includes("val")?d=XI(c,f,r,n,o,a,u)||ZI(c,f,r,n,o,s,a,u)||jne(e,s,l,n,a):(i.includes("switch")&&(d=Mne(c,f,r,n,o,a,u)),d==null&&i.includes("group")&&(d=eA(c,f,r,n,o,a,u,!1)),d==null&&i.includes("rule")&&(d=Dne(c,f,r,n,o,a,u)),d&&b&&!["group","switch_group"].includes(d.type)&&(d=Zu(d,n)));var S=a.errors.length;return c!="!"&&d===void 0&&S==p&&a.errors.push("Can't parse logic ".concat(JSON.stringify(e))),g&&(d.properties.isLocked=!0),d},jne=function(e,r,n,i,a){var o;if(e===void 0&&(e=r==null?void 0:r.defaultValue),e!==void 0){n=n||(r==null?void 0:r.mainWidget);var s=i.widgets[n],l=r==null?void 0:r.type;if(l&&!s){a.errors.push("No widget for type ".concat(l));return}if(Ln(e)){a.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)));return}if(l==="time"&&typeof e=="number"){var u=Math.floor(e/60/60)%24,c=Math.floor(e/60)%60,f=e%60,d=s.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(u),p.setMinutes(c),p.setSeconds(f),e=je(p).format(d)}else e="".concat(u,":").concat(c,":").concat(f)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var v=new Date(e);v instanceof Date&&v.toISOString()===e&&(e=v)}catch(_){a.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&r){var h=s.valueFormat;h&&(e=je(e).format(h))}var m;if(e&&r!==null&&r!==void 0&&(o=r.fieldSettings)!==null&&o!==void 0&&o.asyncFetch){var y=Array.isArray(e)?e:[e];m=y}if(s!=null&&s.jsonLogicImport)try{e=s.jsonLogicImport.call(i.ctx,e)}catch(_){var g;a.errors.push("Can't import value ".concat(e," using import func of widget ").concat(n,": ").concat((g=_==null?void 0:_.message)!==null&&g!==void 0?g:_)),e=void 0}return{valueSrc:"value",value:e,valueType:s==null?void 0:s.type,asyncListValues:m}}},XI=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n.varKeys.includes(e)&&typeof r[0]=="string"){var l,u=Zd(i,r[0],s),c=Me(i,u);if(!c&&!((l=o.settings)!==null&&l!==void 0&&l.allowUnknownFields)){o.errors.push("No config for field ".concat(u));return}return{valueSrc:"field",value:u,valueType:c==null?void 0:c.type}}},Pne=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=Object.keys(r)[0],f=Object.values(r)[0],d=function(V,R){return Lne(V,R,i,a,o,l,u)||Fne(V,R,i,a,o,s,l,u)},p=l.errors.length,v,h,m,y,g=d(c,f);if(g&&(v=g.field,h=g.fieldSrc),e&&(y=!0,m=n[0],n=[]),c=="reduce"&&Array.isArray(f)&&f.length==3){var _=f,b=ke(_,3),S=b[0],O=b[1],x=b[2];if(Ln(S)&&x==0&&Ln(O)&&Array.isArray(O["+"])&&O["+"][0]==1&&Ln(O["+"][1])&&O["+"][1].var=="accumulator")if(c=Object.keys(S)[0],f=Object.values(S)[0],c=="filter"){var E=f,k=ke(E,2),w=k[0],I=k[1];if(Ln(w)){c=Object.keys(w)[0],f=Object.values(w)[0];var C=d(c,f);C&&(v=C.field,h=C.fieldSrc,m=I,y=!0)}}else{var A=d(c,f);A&&(v=A.field,h=A.fieldSrc,y=!0)}}var P=l.errors.length;if(!v&&P==p&&l.errors.push("Unknown LHS ".concat(JSON.stringify(r))),!!v)return{field:v,fieldSrc:h,having:m,isGroup:y,args:n}},Lne=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Array.isArray(r)||(r=[r]);var l=XI(e,r,n,i,a,o,s);if(l)return{fieldSrc:"field",field:l.value}},Fne=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=ZI(e,r,n,i,a,o,s,l);if(u)return{fieldSrc:"func",field:u.value}},ZI=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(e){var u,c,f,d=e=="method";if(d){var p,v,h=pE(r);p=h[0],u=h[1],v=h.slice(2),c=[p].concat(Ce(v))}else u=e,c=r;var m=(d?"#":"")+u,y=(o==null?void 0:o.type)||(o==null?void 0:o.returnType),g=(n.funcs[m]||[]).filter(function(R){return o?Gr(i,R).returnType==y:!0});if(g.length)f=g[0];else{var _=le({},e,r),b=GI(pu(i)),S;try{for(b.s();!(S=b.n()).done;){var O=ke(S.value,2),x=O[0],E=O[1];if(E.jsonLogicImport&&(!y||E.returnType==y)){var k=void 0;try{k=E.jsonLogicImport(_)}catch(R){}k&&(f=x,c=k)}}}catch(R){b.e(R)}finally{b.f()}}if(f&&f){var w=Gr(i,f),I=Object.keys(w.args||{}),C=c.reduce(function(R,U,M){var $=I[M],F=w.args[$],N;return F&&(N=du(U,n,i,["val"],s,!1,F,null,l)),N!==void 0?bo(bo({},R),{},le({},$,N)):R},{});for(var A in w.args){var P=w.args[A],L=C[A];if(L===void 0){if(L=P==null?void 0:P.defaultValue,L!==void 0){var V;L={value:L,valueSrc:(V=L)!==null&&V!==void 0&&V.func?"func":"value",valueType:P.type}}if(L===void 0){if(!(P!=null&&P.isOptional)){s.errors.push("No value for arg ".concat(A," of func ").concat(f));return}}else C[A]=L}}return{valueSrc:"func",value:{func:f,args:C},valueType:w.returnType}}}},eA=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=n.conjunctions[e],u=i.settings.fieldSeparator;if(l){var c="group",f=r.map(function(g){return du(g,n,i,["rule","group"],o,!1,null,null,s)}).filter(function(g){return g!==void 0}).reduce(function(g,_){return bo(bo({},g),{},le({},_.id,_))},{}),d=Object.values(f).map(function(g){var _,b;return(g==null||(_=g.properties)===null||_===void 0?void 0:_.fieldSrc)=="field"&&(g==null||(b=g.properties)===null||b===void 0?void 0:b.field)}).filter(function(g){var _;return g==null||(_=g.includes)===null||_===void 0?void 0:_.call(g,u)}),p=Object.fromEntries(wne(d).map(function(g){var _=g.split(u),b=Object.fromEntries(_.slice(0,-1).map(function(S,O,x){return[].concat(Ce(x.slice(0,O)),[S])}).map(function(S){return[S.join(u),Me(i,S)]}).filter(function(S){var O=ke(S,2);O[0];var x=O[1];return(x==null?void 0:x.type)=="!group"}));return[g,Object.keys(b)]})),v={conjunction:l,not:a},h=Ft(),m={},y={};return Object.entries(f).map(function(g){var _=ke(g,2),b=_[0],S=_[1];if((S==null?void 0:S.type)=="group"||(S==null?void 0:S.type)=="rule_group")m[b]=S;else{var O,x=S==null||(O=S.properties)===null||O===void 0?void 0:O.field,E=p[x]||[],k=E[E.length-1];if(!k)S&&(m[b]=S);else{var w=m,I=Rr(s,i),C=Rr(k,i),A=Xc(I,C.slice(0,I.length));A||(I=[]);var P=k.split(u).slice(I.length).map(function(L,V,R){return[].concat(Ce(I),Ce(R.slice(0,V)),[L]).join(u)}).map(function(L){return{f:L,fc:Me(i,L)||{}}}).filter(function(L){var V=L.fc;return V.type!="!struct"});P.map(function(L,V){var R=L.f,U=L.fc,M=y[R];M||(M=Ft(),y[R]=M,w[M]={type:"rule_group",id:M,children1:{},properties:{conjunction:l,not:!1,field:R,fieldSrc:"field",mode:U.mode}}),w=w[M].children1}),w[b]=S}}}),{type:c,id:h,children1:m,properties:v}}},Rne=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e)return{type:"rule_group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:a||wc(i,n),not:o,field:r}}},Zu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n}}},$ne=function(e,r,n,i,a,o,s){var l=JI(s),u=Nne(e,r,n,i,a,o,l);if(!u){s.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(r));return}return u},Nne=function(e,r,n,i,a,o,s){var l,u=Tne.map(function(k){var w;return(w=o.operators[k])===null||w===void 0?void 0:w.jsonLogic2}).includes(e),c=o.settings.groupOperators.includes(e)&&!u,f=c?0:r-1;c?f=0:Ene.includes(e)&&f==1&&n[1]===null&&(r=1,f=0,n=[n[0]]);var d=e+"/"+f,p=a.operators[d];if(p){var v,h=[];if(Cne.includes(e)&&r==3)v=n[1],h=[n[0],n[2]];else{var m=n,y=pE(m);v=y[0],h=y.slice(1)}if(!Ln(v)){s.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));return}var g=Pne(c,v,h,a,o,null,null,s,i);if(g){var _=g.field,b=g.fieldSrc,S=g.having;g.isGroup;var O=g.args,x=Me(o,_);if(!x&&!((l=s.settings)!==null&&l!==void 0&&l.allowUnknownFields)){s.errors.push("No config for LHS ".concat(_));return}var E=p[0];if(p.length>1&&x&&x.operators){if(p=p.filter(function(k){return x.operators.includes(k)}),p.length==0){s.errors.push("No corresponding ops for LHS ".concat(_));return}E=p[0]}return{field:_,fieldSrc:b,fieldConfig:x,opKey:E,args:O,having:S}}}},Dne=function t(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(e){var c=Object.values(i.conjunctions).map(function(H){var D=H.jsonLogicConj;return D}),f=r.length,d=$ne(e,f,r,l,n,i,o);if(d){var p=d.field,v=d.fieldSrc,h=d.fieldConfig,m=d.opKey,y=d.args,g=d.having,_=Me(i,l),b=i.operators[m],S=i.operators[(s=b)===null||s===void 0?void 0:s.reversedOp],O=!1,x=!!S,E=h.type=="!group",k=(_==null?void 0:_.type)=="!group",w=x&&(!!i.settings.reverseOperatorsForNot||O||E&&!g||!E&&k&&!u),I=a&&w||O,C,A,P=!1,L=!!i.settings.reverseOperatorsForNot;if((h==null?void 0:h.type)=="!group"&&g){C=Object.keys(g)[0],A=g[C],Array.isArray(A)||(A=[A]);for(var V=Og(g,n,o);C=="!"&&!V;){var R=C=="!"&&A.length==1&&A[0]&&Ln(A[0])&&n.varKeys.includes(Object.keys(A[0])[0]);if(R)break;P=!P,g=g["!"],C=Object.keys(g)[0],A=g[C],L&&c.includes(C)&&A.length==1&&(g=g[C][0],C=Object.keys(g)[0],A=g[C]);var U=Og(g,n,o);V=U||V}Array.isArray(A)||(A=[A]),V&&(A=[],A[0]=V.jlField,V.jlArgs.forEach(function(H){return A.push(H)}),C=V.newOp)}I&&(a=!a,m=b.reversedOp,b=i.operators[m]);var M=gr(i,p,m,null),$=y.map(function(H){return du(H,n,i,["val"],o,!1,h,M,l)});if(!$.filter(function(H){return H===void 0}).length){var F;if(h==null||h.type,(h==null?void 0:h.type)=="!group"&&g){if(n.conjunctions[C]!==void 0)F=eA(C,A,n,i,P,o,p,!0);else if(F=t(C,A,n,i,P,o,p,!0),F){var N;F.type==="rule_group"&&((N=F.properties)===null||N===void 0?void 0:N.field)!==p&&(F=Rne(F,p,h,i)),Object.assign(F.properties,{conjunction:wc(i,h)})}if(!F)return;F.type="rule_group",Object.assign(F.properties,{field:p,mode:h.mode,operator:m}),h.mode=="array"&&Object.assign(F.properties,{value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})}),a&&(F=Zu(F,i,a))}else if((h==null?void 0:h.type)=="!group"&&!g)F={type:"rule_group",id:Ft(),children1:{},properties:{conjunction:wc(i,h),not:!1,mode:h.mode,field:p,operator:m}},h.mode==="array"&&Object.assign(F.properties,{value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})}),a&&(F=Zu(F,i,a));else{var B=$.map(function(H){return H.asyncListValues}).filter(function(H){return H!=null}),z=B.length?B[0]:void 0;F={type:"rule",id:Ft(),properties:bo({field:p,fieldSrc:v,operator:m,value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})},z?{asyncListValues:z}:{})},(a||u)&&(F=Zu(F,i,a))}return F}}}},Mne=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if((e==null?void 0:e.toLowerCase())==="if"){var l=Vne(r),u=l.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return[v?du(v,n,i,["rule","group"],o,!1,null,null,s):null,qne(i,o,n,h)]}),c=u.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return Bne(v,h,i,o)}),f={type:"switch_group",id:Ft(),children1:c,properties:{}};return f}},Vne=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]);var u=Ln(l)?Object.keys(l)[0]:null;(u==null?void 0:u.toLowerCase())==="if"?n(l[u]):r.push([void 0,l])}return n(e),r},Bne=function(e,r,n,i){var a;return e?(a=bo({},e),a.type?(a.type!="group"&&(a=Zu(a,n)),a.type="case_group"):(i.errors.push("Unexpected case: ".concat(JSON.stringify(a))),a=void 0)):a={id:Ft(),type:"case_group",properties:{}},a&&(a.properties=bo(bo({},a.properties),r)),a},qne=function(e,r,n,i){var a=Me(e,"!case_value");if(!a){r.errors.push("Missing caseValueField in settings");return}var o=a.mainWidget,s=e.widgets[o];if(!s){r.errors.push("No widget ".concat(o," for case value"));return}var l=du(i,n,e,["val","case_val"],r,!1,a,o);if(l!=null){var u=l.value,c=l.valueSrc,f=l.valueType,d={value:[u],valueSrc:[c!=null?c:"value"],valueType:[f!=null?f:s==null?void 0:s.type],field:"!case_value"};return d}},tA={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(An,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={},u=o||"Abstract",c=[],f=null,d;if(l._type=u,l.getType=function(){return u},l.setType=function(m){u=m},l.getChildren=function(){return c},l.addChild=function(m){if(m){if(!m.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(m)};m.setParent(l),c.push(m)}},l.getParent=function(){return f},l.setParent=function(m){f=m},l.getContext=function(m){return d||m.activeContext.peek()},l.setContext=function(m){d=m},l.getStartPosition=function(){return s>>16},l.getEndPosition=function(){return s&65535},l.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},l.toString=function(){var m="Kind: "+l.getType();m+=", Children: [";for(var y=0,g=l.getChildren().length;y<g;y+=1)m+="{"+l.getChildren()[y]+"}, ";return m+="]",m},s===0)throw{name:"Error",message:"Position cannot be 0"};for(var p=arguments.length,v=Array(p>2?p-2:0),h=2;h<p;h++)v[h-2]=arguments[h];return v&&v.forEach(function(m){l.addChild(m)}),l}n.SpelNode={create:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=a;function a(o){this.elements=o||[]}a.prototype.push=function(o){return this.elements.push(o),o},a.prototype.pop=function(){return this.elements.pop()},a.prototype.peek=function(){return this.elements[this.elements.length-1]},a.prototype.empty=function(){return this.elements.length>0},a.prototype.search=function(o){return this.elements.length-this.elements.indexOf(o)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(l){this.type=l,this.tokenChars=a[l],this._hasPayload=typeof a[l]!="string",typeof a[l]=="number"&&(this._ordinal=a[l])}for(var s in a)a.hasOwnProperty(s)&&(o[s]=new o(s));o.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(l){for(var u in a)if(a.hasOwnProperty(u)&&a[u]===l)return o[u]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var a=i(4),o=i(50);n.SpelExpressionEvaluator=a.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var a=i(5),o=i(1),s={};function l(u,c,f){var d=new o.Stack,p;return c||(c={}),d.push(c),p={rootContext:c,activeContext:d,locals:f},u.getValue(p)}s.compile=function(u){var c=(0,a.SpelExpressionParser)().parse(u);return{eval:function(d,p){return l(c,d,p)},_compiledExpression:c}},s.eval=function(u,c,f){return s.compile(u).eval(c,f)},n.SpelExpressionEvaluator=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var a=i(2),o=i(6),s=i(8),l=i(9),u=i(10),c=i(11),f=i(12),d=i(13),p=i(14),v=i(15),h=i(16),m=i(17),y=i(18),g=i(19),_=i(20),b=i(21),S=i(22),O=i(23),x=i(24),E=i(25),k=i(26),w=i(27),I=i(28),C=i(29),A=i(30),P=i(31),L=i(32),V=i(33),R=i(34),U=i(35),M=i(36),$=i(37),F=i(38),N=i(39),B=i(40),z=i(41),H=i(42),D=i(43),G=i(44),q=i(45),Y=i(46),K=i(47),ie=i(48),te=i(49);n.SpelExpressionParser=function(){var ue=new RegExp("[\\p{L}\\p{N}_$]+"),fe=[],pe,Se,Q,re;function de(X){}function ve(X,se){try{pe=X,Se=o.Tokenizer.tokenize(X),Q=Se.length,re=0,fe=[];var Te=ee();return ne()&&_e(be().startPos,"MORE_INPUT",Z().toString()),Te}catch(Ze){throw Ze.message}}function ee(){var X=me();if(ne()){var se=be();if(se.getKind()===a.TokenKind.ASSIGN){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var Te=me();return y.Assign.create(Re(se),X,Te)}if(se.getKind()===a.TokenKind.ELVIS){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-2))),Z();var Ze=ee();return Ze===null&&(Ze=c.NullLiteral.create(nn(se.startPos+1,se.endPos+1))),F.Elvis.create(Re(se),X,Ze)}if(se.getKind()===a.TokenKind.QMARK){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var wn=ee();mt(a.TokenKind.COLON);var un=ee();return $.Ternary.create(Re(se),X,wn,un)}}return X}function me(){for(var X=Oe();Lr("or")||dt(a.TokenKind.SYMBOLIC_OR);){var se=Z(),Te=Oe();_t(se,X,Te),X=U.OpOr.create(Re(se),X,Te)}return X}function Oe(){for(var X=we();Lr("and")||dt(a.TokenKind.SYMBOLIC_AND);){var se=Z(),Te=we();_t(se,X,Te),X=R.OpAnd.create(Re(se),X,Te)}return X}function we(){var X=Je(),se=Kr();if(se!==null){var Te=Z(),Ze=Je();_t(Te,X,Ze);var wn=se.kind;if(se.isNumericRelationalOperator()){var un=Re(Te);return wn===a.TokenKind.GT?S.OpGT.create(un,X,Ze):wn===a.TokenKind.LT?x.OpLT.create(un,X,Ze):wn===a.TokenKind.LE?O.OpLE.create(un,X,Ze):wn===a.TokenKind.GE?b.OpGE.create(un,X,Ze):wn===a.TokenKind.EQ?g.OpEQ.create(un,X,Ze):_.OpNE.create(un,X,Ze)}return wn===a.TokenKind.INSTANCEOF?D.OpInstanceof.create(Re(Te),X,Ze):wn===a.TokenKind.MATCHES?M.OpMatches.create(Re(Te),X,Ze):G.OpBetween.create(Re(Te),X,Ze)}return X}function Je(){for(var X=at();$t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.INC);){var se=Z(),Te=at();Jr(se,Te),se.getKind()===a.TokenKind.PLUS?X=E.OpPlus.create(Re(se),X,Te):se.getKind()===a.TokenKind.MINUS&&(X=k.OpMinus.create(Re(se),X,Te))}return X}function at(){for(var X=ce();$t(a.TokenKind.STAR,a.TokenKind.DIV,a.TokenKind.MOD);){var se=Z(),Te=ce();_t(se,X,Te),se.getKind()===a.TokenKind.STAR?X=w.OpMultiply.create(Re(se),X,Te):se.getKind()===a.TokenKind.DIV?X=I.OpDivide.create(Re(se),X,Te):X=C.OpModulus.create(Re(se),X,Te)}return X}function ce(){var X=ge(),se;if(dt(a.TokenKind.POWER)){se=Z();var Te=ge();return Jr(se,Te),A.OpPower.create(Re(se),X,Te)}return X!==null&&$t(a.TokenKind.INC,a.TokenKind.DEC)?(se=Z(),se.getKind()===a.TokenKind.INC?P.OpInc.create(Re(se),!0,X):L.OpDec.create(Re(se),!0,X)):X}function ge(){var X,se;return $t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.NOT)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.NOT?V.OpNot.create(Re(X),se):X.getKind()===a.TokenKind.PLUS?E.OpPlus.create(Re(X),se):k.OpMinus.create(Re(X),se)):$t(a.TokenKind.INC,a.TokenKind.DEC)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.INC?P.OpInc.create(Re(X),!1,se):L.OpDec.create(Re(X),!1,se)):he()}function he(){var X=[],se=Pr();for(X.push(se);Pe();)X.push(lt());return X.length===1?X[0]:h.CompoundExpression.create(nn(se.getStartPosition(),X[X.length-1].getEndPosition()),X)}function Pe(){var X=null;return $t(a.TokenKind.DOT,a.TokenKind.SAFE_NAVI)?X=Ne():X=Be(),X===null?!1:(qe(X),!0)}function Be(){return dt(a.TokenKind.LSQUARE)&&ft()?lt():null}function Ne(){var X=Z(),se=X.getKind()===a.TokenKind.SAFE_NAVI;return Rt(se)||ot()||Ge(se)||Et(se)?lt():(be()===null?_e(X.startPos,"OOD"):_e(X.startPos,"UNEXPECTED_DATA_AFTER_DOT",ze(be())),null)}function ot(){if(!dt(a.TokenKind.HASH))return!1;var X=Z(),se=mt(a.TokenKind.IDENTIFIER),Te=st();return Te===null?(qe(v.VariableReference.create(se.data,nn(X.startPos,se.endPos))),!0):(qe(f.FunctionReference.create(se.data,nn(X.startPos,se.endPos),Te)),!0)}function st(){if(!dt(a.TokenKind.LPAREN))return null;var X=[];return Bt(X),mt(a.TokenKind.RPAREN),X}function Ke(X){dt(a.TokenKind.LPAREN)||_e(Re(be()),"MISSING_CONSTRUCTOR_ARGS"),Bt(X),mt(a.TokenKind.RPAREN)}function Bt(X){var se=be().startPos,Te;do{Z();var Ze=be();Ze===null&&_e(se,"RUN_OUT_OF_ARGUMENTS"),Ze.getKind()!==a.TokenKind.RPAREN&&X.push(ee()),Te=be()}while(Te!==null&&Te.kind===a.TokenKind.COMMA);Te===null&&_e(se,"RUN_OUT_OF_ARGUMENTS")}function Pr(){return cr()||Yr()||Fe()||De()||Mr()||Rt(!1)||ot()||vt()||Ge(!1)||Et(!1)||ft()||Qe()?lt():null}function vt(){if(dt(a.TokenKind.BEAN_REF)){var X=Z(),se=null,Te=null;dt(a.TokenKind.IDENTIFIER)?(se=mt(a.TokenKind.IDENTIFIER),Te=se.data):dt(a.TokenKind.LITERAL_STRING)?(se=mt(a.TokenKind.LITERAL_STRING),Te=se.stringValue(),Te=Te.substring(1,Te.length()-1)):_e(X.startPos,"INVALID_BEAN_REFERENCE");var Ze=Y.BeanReference.create(Re(se),Te);return qe(Ze),!0}return!1}function Fe(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();if(X.stringValue()!=="T")return!1;var se=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(se.stringValue(),Re(se))),!0;mt(a.TokenKind.LPAREN);for(var Te=At(),Ze=0;fr(a.TokenKind.LSQUARE,!0);)mt(a.TokenKind.RSQUARE),Ze++;return mt(a.TokenKind.RPAREN),qe(q.TypeReference.create(Re(X),Te,Ze)),!0}return!1}function De(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();return X.stringValue().toLowerCase()!=="null"?!1:(Z(),qe(c.NullLiteral.create(Re(X))),!0)}return!1}function Ge(X){var se=be();if(!fr(a.TokenKind.PROJECT,!0))return!1;var Te=ee();return mt(a.TokenKind.RSQUARE),qe(H.Projection.create(X,Re(se),Te)),!0}function Qe(){var X=be(),se=[];if(!fr(a.TokenKind.LCURLY,!0))return!1;var Te=null,Ze=be();if(fr(a.TokenKind.RCURLY,!0))Te=N.InlineList.create(nn(X.startPos,Ze.endPos));else if(fr(a.TokenKind.COLON,!0))Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos));else{var wn=ee();if(dt(a.TokenKind.RCURLY))se.push(wn),Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(nn(X.startPos,Ze.endPos),se);else if(fr(a.TokenKind.COMMA,!0)){se.push(wn);do se.push(ee());while(fr(a.TokenKind.COMMA,!0));Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(Re(X.startPos,Ze.endPos),se)}else if(fr(a.TokenKind.COLON,!0)){var un=[];for(un.push(wn),un.push(ee());fr(a.TokenKind.COMMA,!0);)un.push(ee()),mt(a.TokenKind.COLON),un.push(ee());Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos),un)}else _e(X.startPos,"OOD")}return qe(Te),!0}function ft(){var X=be();if(!fr(a.TokenKind.LSQUARE,!0))return!1;var se=ee();return mt(a.TokenKind.RSQUARE),qe(m.Indexer.create(Re(X),se)),!0}function Et(X){var se=be();if(!rr())return!1;Z();var Te=ee();return Te===null&&_e(Re(se),"MISSING_SELECTION_EXPRESSION"),mt(a.TokenKind.RSQUARE),se.getKind()===a.TokenKind.SELECT_FIRST?qe(z.Selection.create(X,z.Selection.FIRST,Re(se),Te)):se.getKind()===a.TokenKind.SELECT_LAST?qe(z.Selection.create(X,z.Selection.LAST,Re(se),Te)):qe(z.Selection.create(X,z.Selection.ALL,Re(se),Te)),!0}function At(){for(var X=[],se=be();Sr(se);)Z(),se.kind!==a.TokenKind.DOT&&X.push(K.Identifier.create(se.stringValue(),Re(se))),se=be();X.length||(se===null&&_e(pe.length(),"OOD"),_e(se.startPos,"NOT_EXPECTED_TOKEN","qualified ID",se.getKind().toString().toLowerCase()));var Te=nn(X[0].getStartPosition(),X[X.length-1].getEndPosition());return ie.QualifiedIdentifier.create(Te,X)}function Sr(X){if(X===null||X.kind===a.TokenKind.LITERAL_STRING)return!1;if(X.kind===a.TokenKind.DOT||X.kind===a.TokenKind.IDENTIFIER)return!0;var se=X.stringValue();return se&&se.length&&ue.test(se)}function Rt(X){if(dt(a.TokenKind.IDENTIFIER)){var se=Z(),Te=st();return Te===null?(qe(p.PropertyReference.create(X,se.stringValue(),Re(se))),!0):(qe(d.MethodReference.create(X,se.stringValue(),Re(se),Te)),!0)}return!1}function Mr(){if(Lr("new")){var X=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(X.stringValue(),Re(X))),!0;var se=At(),Te=[];if(Te.push(se),dt(a.TokenKind.LSQUARE)){for(var Ze=[];fr(a.TokenKind.LSQUARE,!0);)dt(a.TokenKind.RSQUARE)?Ze.push(null):Ze.push(ee()),mt(a.TokenKind.RSQUARE);Qe()&&Te.push(lt()),qe(te.ConstructorReference.create(Re(X),Ze,Te))}else Ke(Te),qe(te.ConstructorReference.create(Re(X),Te));return!0}return!1}function qe(X){fe.push(X)}function lt(){return fe.pop()}function cr(){var X=be();if(X===null)return!1;if(X.getKind()===a.TokenKind.LITERAL_INT||X.getKind()===a.TokenKind.LITERAL_LONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),10),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_REAL||X.getKind()===a.TokenKind.LITERAL_REAL_FLOAT)qe(l.NumberLiteral.create(parseFloat(X.stringValue()),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_HEXINT||X.getKind()===a.TokenKind.LITERAL_HEXLONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),16),Re(X)));else if(Lr("true"))qe(s.BooleanLiteral.create(!0,Re(X)));else if(Lr("false"))qe(s.BooleanLiteral.create(!1,Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_STRING)qe(u.StringLiteral.create(X.stringValue(),Re(X)));else return!1;return Z(),!0}function Yr(){if(dt(a.TokenKind.LPAREN)){Z();var X=ee();return mt(a.TokenKind.RPAREN),qe(X),!0}else return!1}function Kr(){var X=be();if(X===null)return null;if(X.isNumericRelationalOperator())return X;if(X.isIdentifier()){var se=X.stringValue();if(se.toLowerCase()==="instanceof")return X.asInstanceOfToken();if(se.toLowerCase()==="matches")return X.asMatchesToken();if(se.toLowerCase()==="between")return X.asBetweenToken()}return null}function mt(X){var se=Z();return se===null&&_e(pe.length,"OOD"),se.getKind()!==X&&_e(se.startPos,"NOT_EXPECTED_TOKEN",X.toString().toLowerCase(),se.getKind().toString().toLowerCase()),se}function dt(X){return fr(X,!1)}function fr(X,se){if(!ne())return!1;var Te=be();return Te.getKind()===X?(se&&re++,!0):X===a.TokenKind.IDENTIFIER&&Te.getKind().ordinal()>=a.TokenKind.DIV.ordinal()&&Te.getKind().ordinal()<=a.TokenKind.NOT.ordinal()&&Te.data!==null}function $t(){if(!ne())return!1;for(var X=be(),se=Array.prototype.slice.call(arguments),Te=0,Ze=se.length;Te<Ze;Te+=1)if(X.getKind()===se[Te])return!0;return!1}function Lr(X){if(!ne())return!1;var se=be();return se.getKind()===a.TokenKind.IDENTIFIER&&se.stringValue().toLowerCase()===X.toLowerCase()}function rr(){if(!ne())return!1;var X=be();return X.getKind()===a.TokenKind.SELECT||X.getKind()===a.TokenKind.SELECT_FIRST||X.getKind()===a.TokenKind.SELECT_LAST}function ne(){return re<Se.length}function Z(){return re>=Q?null:Se[re++]}function be(){return re>=Q?null:Se[re]}function _e(X,se,Te,Ze){throw Te&&(se+="\nExpected: "+Te),Ze&&(se+="\nActual: "+Ze),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+pe+"' at position "+X+". Message: "+se}}function ze(X){return X.getKind().hasPayload()?X.stringValue():X.getKind().toString().toLowerCase()}function _t(X,se,Te){qt(X,se),Jr(X,Te)}function qt(X,se){se===null&&_e(X.startPos,"LEFT_OPERAND_PROBLEM")}function Jr(X,se){se===null&&_e(X.startPos,"RIGHT_OPERAND_PROBLEM")}function Re(X){return(X.startPos<<16)+X.endPos}function nn(X,se){return(X<<16)+se}return{setConfiguration:de,parse:ve}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var a=i(7),o=i(2),s=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],l=[],u=1,c=2,f=4;function d(){var v;for(v=48;v<=57;v+=1)l[v]|=u|c;for(v=65;v<=70;v+=1)l[v]|=c;for(v=97;v<=102;v+=1)l[v]|=c;for(v=65;v<=90;v+=1)l[v]|=f;for(v=97;v<=122;v+=1)l[v]|=f}d();function p(v){var h=v,m=v+"\0",y=m.length,g=0,_=[];function b(){for(var D;g<y;)if(D=m[g],z(D))E();else switch(D){case"+":A(o.TokenKind.INC)?L(o.TokenKind.INC):P(o.TokenKind.PLUS);break;case"_":E();break;case"-":A(o.TokenKind.DEC)?L(o.TokenKind.DEC):P(o.TokenKind.MINUS);break;case":":P(o.TokenKind.COLON);break;case".":P(o.TokenKind.DOT);break;case",":P(o.TokenKind.COMMA);break;case"*":P(o.TokenKind.STAR);break;case"/":P(o.TokenKind.DIV);break;case"%":P(o.TokenKind.MOD);break;case"(":P(o.TokenKind.LPAREN);break;case")":P(o.TokenKind.RPAREN);break;case"[":P(o.TokenKind.LSQUARE);break;case"#":P(o.TokenKind.HASH);break;case"]":P(o.TokenKind.RSQUARE);break;case"{":P(o.TokenKind.LCURLY);break;case"}":P(o.TokenKind.RCURLY);break;case"@":P(o.TokenKind.BEAN_REF);break;case"^":A(o.TokenKind.SELECT_FIRST)?L(o.TokenKind.SELECT_FIRST):P(o.TokenKind.POWER);break;case"!":A(o.TokenKind.NE)?L(o.TokenKind.NE):A(o.TokenKind.PROJECT)?L(o.TokenKind.PROJECT):P(o.TokenKind.NOT);break;case"=":A(o.TokenKind.EQ)?L(o.TokenKind.EQ):P(o.TokenKind.ASSIGN);break;case"&":if(!A(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+h+") at position "+g};L(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!A(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+h+") at position "+g};L(o.TokenKind.SYMBOLIC_OR);break;case"?":A(o.TokenKind.SELECT)?L(o.TokenKind.SELECT):A(o.TokenKind.ELVIS)?L(o.TokenKind.ELVIS):A(o.TokenKind.SAFE_NAVI)?L(o.TokenKind.SAFE_NAVI):P(o.TokenKind.QMARK);break;case"$":A(o.TokenKind.SELECT_LAST)?L(o.TokenKind.SELECT_LAST):E();break;case">":A(o.TokenKind.GE)?L(o.TokenKind.GE):P(o.TokenKind.GT);break;case"<":A(o.TokenKind.LE)?L(o.TokenKind.LE):P(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x(D==="0");break;case" ":case"	":case"\r":case"\n":g+=1;break;case"'":S();break;case'"':O();break;case"\0":g+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+h+") at position "+g};default:throw{name:"SpelParseException",message:"Cannot handle character '"+D+"' in expression ("+h+") at position "+g}}}function S(){for(var D=g,G=!1,q;!G;)if(g+=1,q=m[g],q==="'"&&(m[g+1]==="'"?g+=1:G=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+h+") at position "+g};g+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,C(D,g),D,g))}function O(){for(var D=g,G=!1,q;!G;)if(g+=1,q=m[g],q==='"'&&(m[g+1]==='"'?g+=1:G=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+h+") at position "+g};g+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,C(D,g),D,g))}function x(D){var G=!1,q=g,Y=m[g+1],K=Y==="x"||Y==="X",ie,te,oe,ue;if(D&&K){g=g+1;do g+=1;while(H(m[g]));U("L","l")?(w(C(q+2,g),!0,q,g),g+=1):w(C(q+2,g),!1,q,g);return}do g+=1;while(B(m[g]));if(Y=m[g],Y==="."){G=!0,ie=g;do g+=1;while(B(m[g]));if(g===ie+1){g=ie,k(C(q,g),!1,q,g);return}}if(te=g,U("L","l")){if(G)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+h+") at position "+g};k(C(q,te),!0,q,te),g+=1}else if(M(m[g])){G=!0,g+=1,oe=m[g],N(oe)&&(g+=1);do g+=1;while(B(m[g]));ue=!1,$(m[g])?(ue=!0,g+=1,te=g):F(m[g])&&(g+=1,te=g),I(C(q,g),ue,q,g)}else Y=m[g],ue=!1,$(Y)?(G=!0,ue=!0,g+=1,te=g):F(Y)&&(G=!0,g+=1,te=g),G?I(C(q,te),ue,q,te):k(C(q,te),!1,q,te)}function E(){var D=g,G,q,Y;do g+=1;while(R(m[g]));if(G=C(D,g),(g-D===2||g-D===3)&&(q=G.toUpperCase(),Y=s.indexOf(q),Y>=0)){V(o.TokenKind.valueOf(q),D,G);return}_.push(new a.Token(o.TokenKind.IDENTIFIER,G.replace("\0",""),D,g))}function k(D,G,q,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_LONG,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_INT,D,q,Y))}function w(D,G,q,Y){if(D.length===0)throw G?{name:"SpelParseException",message:"Not a long in expression ("+h+") at position "+g}:{name:"SpelParseException",message:"Not an int in expression ("+h+") at position "+g};G?_.push(new a.Token(o.TokenKind.LITERAL_HEXLONG,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_HEXINT,D,q,Y))}function I(D,G,q,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_REAL_FLOAT,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_REAL,D,q,Y))}function C(D,G){return m.substring(D,G)}function A(D){return D.tokenChars.length===2&&m[g]===D.tokenChars[0]?m[g+1]===D.tokenChars[1]:!1}function P(D){_.push(new a.Token(D,null,g,g+1)),g+=1}function L(D){_.push(new a.Token(D,null,g,g+2)),g+=2}function V(D,G,q){_.push(new a.Token(D,q,G,G+D.getLength()))}function R(D){return z(D)||B(D)||D==="_"||D==="$"}function U(D,G){var q=m[g];return q===D||q===G}function M(D){return D==="e"||D==="E"}function $(D){return D==="f"||D==="F"}function F(D){return D==="d"||D==="D"}function N(D){return D==="+"||D==="-"}function B(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&u)!==0}function z(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&f)!==0}function H(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&c)!==0}return b(),_}n.Tokenizer={tokenize:p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var a=i(2);function o(s,l,u,c){this.kind=s,this.startPos=u,this.endPos=c,l&&(this.data=l)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var s="[";return s+=this.kind.toString(),this.kind.hasPayload()&&(s+=":"+this.data),s+="]",s+="("+this.startPos+","+this.endPos+")",s},o.prototype.isIdentifier=function(){return this.kind===a.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===a.TokenKind.GT||this.kind===a.TokenKind.GE||this.kind===a.TokenKind.LT||this.kind===a.TokenKind.LE||this.kind===a.TokenKind.EQ||this.kind===a.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(a.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(a.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(a.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("boolean",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.BooleanLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("number",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.NumberLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("string",l);function c(f){return(f[0]==="'"&&f[f.length-1]==="'"||f[0]==='"'&&f[f.length-1]==='"')&&(f=f.substring(1,f.length-1)),f.replace(/''/g,"'").replace(/""/g,'"')}return s=c(s),u.getValue=function(){return s},u.setValue=function(f){return s=f},u}n.StringLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("null",l);return u.getValue=function(){return null},u}n.NullLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var a=i(0),o=i(1);function s(l,u,c){var f=a.SpelNode.create("function",u);return f.getRaw=function(){return{functionName:l,args:c}},f.getValue=function(d){var p=d.locals||{},v=d.rootContext,h=[];if(c.forEach(function(m){var y=d.activeContext;d.activeContext=new o.Stack,d.activeContext.push(d.rootContext),h.push(m.getValue(d)),d.activeContext=y}),p[l])return p[l].apply(v,h);throw{name:"FunctionDoesNotExistException",message:"Function '"+l+"' does not exist."}},f}n.FunctionReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var a=i(0),o=i(1);function s(l,u,c,f){var d=a.SpelNode.create("method",c);return d.getRaw=function(){return{methodName:u,args:f}},d.getValue=function(p){var v=p.activeContext.peek(),h=[],m;if(!v)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+u+"' for an undefined context."};function y(g){if(g==null){if(l)return null;throw{name:"NullPointerException",message:"Method "+u+" does not exist."}}return g}if(f.forEach(function(g){var _=p.activeContext;p.activeContext=new o.Stack,p.activeContext.push(p.rootContext),h.push(g.getValue(p)),p.activeContext=_}),u.substr(0,3)==="get"&&!v[u])return y(v[u.charAt(3).toLowerCase()+u.substring(4)]);if(u.substr(0,3)==="set"&&!v[u])return v[u.charAt(3).toLowerCase()+u.substring(4)]=h[0];if(Array.isArray(v)){if(u==="size")return v.length;if(u==="contains")return v.includes(h[0])}return m=y(v[u]),m?m.apply(v,h):null},d}n.MethodReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("property",u);return c.getRaw=function(){return l},c.getValue=function(f){var d=f.activeContext.peek();if(!d){if(s)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+l+"' for an undefined context."}}if(d[l]===void 0||d[l]===null){if(s)return null;if(l==="size"&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+l+"' does not exist."}}return d[l]},c.setValue=function(f,d){var p=d.activeContext.peek();if(!p)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l+"' for an undefined context."};return p[l]=f},c.getName=function(){return l},c}n.PropertyReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("variable",l);return u.getRaw=function(){return s},u.getValue=function(c){var f=c.activeContext.peek(),d=c.locals;if(!f)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+s+"' for an undefined context."};return s==="this"?f:s==="root"?c.rootContext:d[s]},u.setValue=function(c,f){var d=f.locals;return d[s]=c},u}n.VariableReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create.apply(null,["compound",s].concat(l));function c(f){var d=u.getChildren().length,p;for(p=0;p<d;p+=1)u.getChildren()[p].getType()==="indexer"?f.activeContext.push(f.activeContext.peek()[u.getChildren()[p].getValue(f)]):f.activeContext.push(u.getChildren()[p].getValue(f));return function(){for(p=0;p<d;p+=1)f.activeContext.pop()}}return u.getValue=function(f){var d=f.activeContext.peek(),p;if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var v=c(f);return p=f.activeContext.peek(),v(),p},u.setValue=function(f,d){var p=c(d),v=u.getChildren().length;return d.activeContext.pop(),f=u.getChildren()[v-1].setValue(f,d),d.activeContext.push(null),p(),f},u}n.CompoundExpression={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var a=i(0),o=i(1);function s(l,u){var c=a.SpelNode.create.apply(null,["indexer",l].concat(u));return c.getValue=function(f){var d=f.activeContext,p,v=c.getChildren().length,h,m;if(f.activeContext=new o.Stack,f.activeContext.push(f.rootContext),p=f.activeContext.peek(),!p)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(h=0;h<v;h+=1)f.activeContext.push(c.getChildren()[h].getValue(f));for(m=f.activeContext.peek(),h=0;h<v;h+=1)f.activeContext.pop();return f.activeContext=d,m},c}n.Indexer={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("assign",s,l,u);return c.getValue=function(f){var d=f.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l.getValue(f)+"' for an undefined context."};return l.setValue(u.getValue(f),f)},c}n.Assign={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-eq",s,l,u);return c.getValue=function(f){return l.getValue(f)===u.getValue(f)},c}n.OpEQ={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ne",s,l,u);return c.getValue=function(f){return l.getValue(f)!==u.getValue(f)},c}n.OpNE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ge",s,l,u);return c.getValue=function(f){return l.getValue(f)>=u.getValue(f)},c}n.OpGE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-gt",s,l,u);return c.getValue=function(f){return l.getValue(f)>u.getValue(f)},c}n.OpGT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-le",s,l,u);return c.getValue=function(f){return l.getValue(f)<=u.getValue(f)},c}n.OpLE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-lt",s,l,u);return c.getValue=function(f){return l.getValue(f)<u.getValue(f)},c}n.OpLT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-plus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)+u.getValue(f):+l.getValue(f)},c}n.OpPlus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-minus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)-u.getValue(f):-l.getValue(f)},c}n.OpMinus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-multiply",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);if(typeof d=="number"&&typeof p=="number")return d*p;if(typeof d=="string"&&typeof p=="number"){for(var v="",h=0;h<p;h+=1)v+=d;return v}return null},c}n.OpMultiply={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-divide",s,l,u);return c.getValue=function(f){return l.getValue(f)/u.getValue(f)},c}n.OpDivide={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-modulus",s,l,u);return c.getValue=function(f){return l.getValue(f)%u.getValue(f)},c}n.OpModulus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-power",s,l,u);return c.getValue=function(f){return Math.pow(l.getValue(f),u.getValue(f))},c}n.OpPower={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-inc",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d+1,f),l?d:d+1},c}n.OpInc={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-dec",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d-1,f),l?d:d-1},c}n.OpDec={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("op-not",s,l);return u.getValue=function(c){return!l.getValue(c)},u}n.OpNot={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-and",s,l,u);return c.getValue=function(f){return!!l.getValue(f)&&!!u.getValue(f)},c}n.OpAnd={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-or",s,l,u);return c.getValue=function(f){return!!l.getValue(f)||!!u.getValue(f)},c}n.OpOr={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("matches",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);try{var v=new RegExp(p);return!!v.exec(d)}catch(h){throw{name:"EvaluationException",message:h.toString()}}},c}n.OpMatches={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var a=i(0);function o(s,l,u,c){var f=a.SpelNode.create("ternary",s,l,u,c);return f.getValue=function(d){return l.getValue(d)?u.getValue(d):c.getValue(d)},f}n.Ternary={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("elvis",s,l,u);return c.getValue=function(f){return l.getValue(f)!==null?l.getValue(f):u.getValue(f)},c}n.Elvis={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("list",s),c=[].concat(l||[]);return u.getRaw=function(){return c},u.getValue=function(f){return c.map(function(d){return d.getValue(f)})},u}n.InlineList={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("map",s),c=[].concat(l||[]);return u.getValue=function(f){var d=!0,p=null,v={};return c.forEach(function(h){d?h.getType()==="property"?p=h.getName():p=h.getValue(f):v[p]=h.getValue(f),d=!d}),v},u}n.InlineMap={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=i(0);function s(f,d,p){var v=!1;return p.activeContext.push(f),v=d.getValue(p),p.activeContext.pop(),v}function l(f,d,p,v){var h=f.filter(function(m){return s(m,p,v)});switch(d){case"ALL":return h;case"FIRST":return h[0]||null;case"LAST":return h.length?h[h.length-1]:null}}function u(f,d,p,v){var h={},m,y,g=[],_={};for(y in f)f.hasOwnProperty(y)&&(m={key:y,value:f[y]},s(m,p,v)&&g.push(m));switch(d){case"ALL":return g.forEach(function(b){h[b.key]=b.value}),h;case"FIRST":return g.length?(_[g[0].key]=g[0].value,_):null;case"LAST":return g.length?(_[g[g.length-1].key]=g[g.length-1].value,_):null}g.forEach(function(b){h[b.key]=b.value})}function c(f,d,p,v){var h=o.SpelNode.create("selection",p,v);return h.getValue=function(m){var y=m.activeContext.peek();if(y){if(Array.isArray(y))return l(y,d,v,m);if((typeof y>"u"?"undefined":a(y))==="object")return u(y,d,v,m)}return null},h}n.Selection={create:c,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(0);function s(u,c,f){return u.map(function(d){var p;return f.activeContext.push(d),p=c.getValue(f),f.activeContext.pop(),p})}function l(u,c,f){var d=o.SpelNode.create("projection",c,f);return d.getValue=function(p){var v=p.activeContext.peek(),h=[],m;if(Array.isArray(v))return s(v,f,p);if((typeof v>"u"?"undefined":a(v))==="object"){for(m in v)v.hasOwnProperty(m)&&h.push(v[m]);return s(h,f,p)}return null},d}n.Projection={create:l}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("instanceof",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},c}n.OpInstanceof={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("between",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},c}n.OpBetween={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var a=i(0);function o(s,c,u){var c=a.SpelNode.create("typeref",s,c);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},c}n.TypeReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("beanref",s);return u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},u}n.BeanReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("identifier",l);return u.getRaw=function(){return s},u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},u}n.Identifier={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var a=i(0);function o(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}function s(l,u){var c=a.SpelNode.create.apply(a.SpelNode,["qualifiedidentifier",l].concat(o(u)));return c.getRaw=function(){return u.map(function(f){return f.getRaw()})},c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},c}n.QualifiedIdentifier={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var a=i(0),o=i(1);function s(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function l(c){return Array.isArray(c)?c:Array.from(c)}function u(c,f,d){var p=d!==void 0,v;p?v=f.length&&f[0]&&f[0].getType()==="number"?f[0].getValue():null:(d=f,f=void 0);var h=d,m=l(h);m[0];var y=m.slice(1),g=a.SpelNode.create.apply(a.SpelNode,["constructorref",c].concat(s(d)));return g.getRaw=function(){return v},g.getValue=function(_){if(p&&y.length<=1){var b=[];return y.forEach(function(S){var O=_.activeContext;_.activeContext=new o.Stack,_.activeContext.push(_.rootContext),b.push(S.getValue(_)),_.activeContext=O}),y.length===1?b[0]:v?new Array(v):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},g}n.ConstructorReference={create:u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={};return l.authentication=o||{},l.principal=s||{},l.hasRole=function(u){var c=!1;return!u||!l.authentication&&!Array.isArray(l.authentication.authorities)?!1:(l.authentication.authorities.forEach(function(f){f.authority.toLowerCase()===u.toLowerCase()&&(c=!0)}),c)},l.hasPermission=function(){var u=Array.prototype.slice.call(arguments);if(u.length===1)return l.hasRole(u[0])},l}n.StandardContext={create:a}}])})})(tA);var Hne=tA.exports,rA={};(function(t){var e=t,r=/`/g,n=/\./g,i=/[\0\b\t\n\r\x1a\"\'\\]/g,a={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};e.escapeId=function(c,f){if(Array.isArray(c)){for(var d="",p=0;p<c.length;p++)d+=(p===0?"":", ")+e.escapeId(c[p],f);return d}else return f?"`"+String(c).replace(r,"``")+"`":"`"+String(c).replace(r,"``").replace(n,"`.`")+"`"},e.escape=function(c,f,d){if(c==null)return"NULL";switch(typeof c){case"boolean":return c?"true":"false";case"number":return c+"";case"object":return Object.prototype.toString.call(c)==="[object Date]"?e.dateToString(c,d||"local"):Array.isArray(c)?e.arrayToList(c,d):Buffer.isBuffer(c)?e.bufferToString(c):typeof c.toSqlString=="function"?String(c.toSqlString()):f?o(c.toString()):e.objectToValues(c,d);default:return o(c)}},e.arrayToList=function(c,f){for(var d="",p=0;p<c.length;p++){var v=c[p];Array.isArray(v)?d+=(p===0?"":", ")+"("+e.arrayToList(v,f)+")":d+=(p===0?"":", ")+e.escape(v,!0,f)}return d},e.format=function(c,f,d,p){if(f==null)return c;Array.isArray(f)||(f=[f]);for(var v=0,h=/\?+/g,m="",y=0,g;y<f.length&&(g=h.exec(c));){var _=g[0].length;if(!(_>2)){var b=_===2?e.escapeId(f[y]):e.escape(f[y],d,p);m+=c.slice(v,g.index)+b,v=h.lastIndex,y++}}return v===0?c:v<c.length?m+c.slice(v):m},e.dateToString=function(c,f){var d=new Date(c);if(isNaN(d.getTime()))return"NULL";var p,v,h,m,y,g,_;if(f==="local")p=d.getFullYear(),v=d.getMonth()+1,h=d.getDate(),m=d.getHours(),y=d.getMinutes(),g=d.getSeconds(),_=d.getMilliseconds();else{var b=l(f);b!==!1&&b!==0&&d.setTime(d.getTime()+b*6e4),p=d.getUTCFullYear(),v=d.getUTCMonth()+1,h=d.getUTCDate(),m=d.getUTCHours(),y=d.getUTCMinutes(),g=d.getUTCSeconds(),_=d.getUTCMilliseconds()}var S=s(p,4)+"-"+s(v,2)+"-"+s(h,2)+" "+s(m,2)+":"+s(y,2)+":"+s(g,2)+"."+s(_,3);return o(S)},e.bufferToString=function(c){return"X"+o(c.toString("hex"))},e.objectToValues=function(c,f){var d="";for(var p in c){var v=c[p];typeof v!="function"&&(d+=(d.length===0?"":", ")+e.escapeId(p)+" = "+e.escape(v,!0,f))}return d},e.raw=function(c){if(typeof c!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return c}}};function o(u){for(var c=i.lastIndex=0,f="",d;d=i.exec(u);)f+=u.slice(c,d.index)+a[d[0]],c=i.lastIndex;return c===0?"'"+u+"'":c<u.length?"'"+f+u.slice(c)+"'":"'"+f+"'"}function s(u,c){for(u=u.toString();u.length<c;)u="0"+u;return u}function l(u){if(u==="Z")return 0;var c=u.match(/([\+\-\s])(\d\d):?(\d\d)?/);return c?(c[1]==="-"?-1:1)*(parseInt(c[2],10)+(c[3]?parseInt(c[3],10):0)/60)*60:!1}})(rA);var zne=rA;const Une=tn(zne);var _o=Une;_o.trim=function(t){return t.charAt(0)=="'"?t.substring(1,t.length-1):t};_o.escapeLike=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=_o.escape(t);return n=_o.trim(n),n=n.replace(/[%_]/g,"\\$&"),n=(e?"%":"")+n+(r?"%":""),n="'"+n+"'",n};var nA=function(e){var r="''",n=e==null?void 0:e.type;return n=="date"?r="'0000-00-00'":n=="datetime"?r="'0000-00-00 00:00'":n=="time"?r="'00:00'":n=="number"&&(r="0"),r},iA=function(e){var r="",n=e==null?void 0:e.type;return n=="number"&&(r=0),r},Wne=function(e){return"'"+e.replace(/'/g,"''")+"'"},Gne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,a=["int","float"];e.map(function(l){if(l!=null){if(typeof l=="string")i="String";else if(typeof l=="number")i=Number.isInteger(l)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(l," in array"));if(!n)n=i;else if(n!=i)if(a.includes(n)&&a.includes(i))n="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(n," and ").concat(i))}}),n||(n="String");var o;n=="float"?o=e.map(function(l){return Rl(l,!0)}):o=e.map(function(l){return Rl(l)});var s;return r?s="new ".concat(n,"[]{").concat(o.join(", "),"}"):s="{".concat(o.join(", "),"}"),s},aA=function(e){return"".concat(e,".?[true]")},Rl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e==null)return"null";switch(xt(e)){case"boolean":return e?"true":"false";case"number":return!Number.isFinite(e)||isNaN(e)?void 0:e+(!Number.isInteger(e)||r?"f":"");case"object":if(Array.isArray(e))return Gne(e,n);throw new Error("spelEscape: Object is not supported");default:return Wne(e)}},Yne=function(e){return e&&Array.isArray(e)&&e.length?e.map(function(r){if(r.type=="const")return Rl(r.value);if(r.type=="property")return""+r.value;if(r.type=="variable")return"#"+r.value}).filter(function(r){return r!=null}).join(" + "):"null"},Kne=function(e){if(e==null)return[void 0,[]];var r=[],n=e.valueType=="case_value"?e.value:e,i=Array.isArray(n)?n:[n],a=i.map(function(o){if(o.valueSrc==="value")return o.value===null?void 0:{type:"const",value:o.value};if(o.valueSrc==="field")return{type:o.isVariable?"variable":"property",value:o.value};r.push("Unsupported valueSrc ".concat(o.valueSrc," in concatenation"))}).filter(function(o){return o!=null});return[a,r]},oA=function(e){return e==null?"NULL":e.toString()},sA=function(e){return e==null||(e==null?void 0:e[0])==="("&&(e==null?void 0:e[(e==null?void 0:e.length)-1])===")"?e:"("+e+")"};const Jne=Object.freeze(Object.defineProperty({__proto__:null,SqlString:_o,mongoEmptyValue:iA,spelEscape:Rl,spelFixList:aA,spelFormatConcat:Yne,spelImportConcat:Kne,sqlEmptyValue:nA,stringifyForDisplay:oA,wrapWithBrackets:sA},Symbol.toStringTag,{value:"Module"}));function ZS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Qne(t,e){if(t){if(typeof t=="string")return eO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lA="${0}.compareTo(${1})",Xne={datetime:!0,time:!0,date:!0},Zne=function(e,r){return uA(e,r,!1)},uA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=cA(e,a,i,null);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SpEL:",i.errors),o)},cA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(a==="group"||a==="rule_group")return dA(e,r,n,i);if(a==="rule")return rie(e,r,n,i);if(a=="switch_group")return eie(e,r,n);if(a=="case_group")return fA(e,r,n,i)}},fA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type");if(a!="case_group"){n.errors.push("Unexpected child of type ".concat(a," inside switch"));return}var o=e.get("properties")||new ur,s=m0(r,o,n,null,i,"!case_value"),l=ke(s,3),u=l[0];l[1],l[2];var c=dA(e,r,n,i);return[c,u]},eie=function(e,r,n){e.get("properties")||new ur;var i=e.get("children1");if(i){var a=i.map(function(v){return fA(v,r,n,null)}).filter(function(v){return typeof v<"u"}).valueSeq().toArray();if(a.length){if(a.length==1&&!a[0][0])return a[0][1];for(var o=[],s=0;s<a.length;s++)s!=a.length-1&&!a[s][0]?n.errors.push("No condition for case ".concat(s)):(o.push(a[s]),s==a.length-1&&a[s][0]&&o.push([void 0,null]));for(var l="",u="",c=0;c<o.length;c++){var f=ke(o[c],2),d=f[0],p=f[1];p==null&&(p="null"),d==null&&(d="true"),c!=o.length-1?(l+="(".concat(d," ? ").concat(p," : "),u+=")"):l+="".concat(p)}return l+u}}},dA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type"),o=e.get("properties")||new ur,s=o.get("mode"),l=e.get("children1")||new Xi,u=o.get("field"),c=o.get("conjunction");c||(c=ka(r));var f=r.conjunctions[c],d=o.get("not"),p=a==="rule_group",v=p&&s!="struct",h=v?u:i,m=Me(r,h)||{},y=m.isSpelArray,g=r.settings.fieldSeparator,_=o.get("operator");!_&&(!s||s=="some")&&(_="some");var b=hA(r,_,u),S=b!=_,O=_&&Pt(r,b,u)||null,x=p&&(!b||O.cardinality==0),E=m0(r,o,n,b,i,null),k=ke(E,3),w=k[0],I=k[1],C=k[2],A=l.map(function(B){return cA(B,r,n,h)}).filter(function(B){return typeof B<"u"});if(v&&!x){if(w==null)return}else if(!A.size)return;var P=p,L=A.size?f.spelFormatConj.call(r.ctx,A,c,d,P):null,V;if(v){var R=y0(n,r,u,i),U=g||".",M=U+(y?"length":"size()"),$="".concat(R).concat(M),F=L?"".concat(R,".?[").concat(L,"]").concat(M):$,N=x?$:w;V=pA(n,r,o,F,N,b,I,C,S)}else V=L;return V},tie=function(e,r,n){var i=r.spelOp;if(i){var a=i.includes("${0}"),o=Xne[n],s=i,l,u=Ur(r);return o?l=function(f,d,p,v,h,m,y,g){var _=lA.replace(/\${(\w+)}/g,function(b,S){return S==0?f:u>1?p[S-1]:p});return"".concat(_," ").concat(s," 0")}:a?l=function(f,d,p,v,h,m,y,g){return i.replace(/\${(\w+)}/g,function(_,b){return b==0?f:u>1?p[b-1]:p})}:u==0?l=function(f,d,p,v,h,m,y,g){return"".concat(f," ").concat(s)}:u==1&&(l=function(f,d,p,v,h,m,y,g){return"".concat(f," ").concat(s," ").concat(p)}),l}},pA=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=n.get("field"),f=Pt(r,o,c)||{},d=Me(r,c)||{},p=n.get("operatorOptions"),v=f.spelFormatOp||tie(o,f,l);if(!v){e.errors.push("Operator ".concat(o," is not supported"));return}var h=[i,o,a,s,l,ai(f,su),p,d],m;return m=v.call.apply(v,[r.ctx].concat(h)),u&&(m=r.settings.spelFormatReverse.call(r.ctx,m)),m===void 0&&e.errors.push("Operator ".concat(o," is not supported for value source ").concat(s)),m},hA=function(e,r,n){if(r){var i=Pt(e,r,n)||{},a=i.reversedOp,o=Pt(e,a,n)||{},s=i.spelOp||i.spelFormatOp,l=o.spelOp||o.spelFormatOp;if(!(!s&&!l)){if(!s&&l){var u=[a,r];r=u[0],a=u[1];var c=[o,i];i=c[0],o=c[1]}return r}}},rie=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new ur,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator");if(!(o==null||l==null)){var u=hA(r,l,o);if(!u){n.errors.push("Operator ".concat(l," is not supported"));return}var c=u!=l,f=m0(r,a,n,u,i,null),d=ke(f,3),p=d[0],v=d[1],h=d[2];if(p!==void 0){var m=nie(n,r,o,s,i);if(m!==void 0){var y=pA(n,r,a,m,p,u,v,h,c);return y}}}},nie=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return i==="func"?vA(e,r,n,a):y0(e,r,n,a)},m0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s)||{},f=Pt(e,i,s)||{},d=Ur(f),p=r.get("value"),v=r.get("asyncListValues"),h=[],m=[],y;if(p!=null){var g=p.map(function(b,S){var O=l?l.get(S):null,x=u?u.get(S):null,E=ws(b,O,e),k=gr(e,s,i,O),w=On(e,s,i,k,O,{forExport:!0}),I=xg(n,e,E,O,x,w,c,i,f,a,v);return I!==void 0&&(h.push(O),m.push(x)),I}),_=g.filter(function(b){return b===void 0}).size>0;g.size<d||_||(y=d>1?g.toArray():d==1?g.first():null)}return[y,h.length>1?h:h[0],m.length>1?m:m[0]]},xg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i==="field")d=y0(e,r,n,c);else if(i==="func")d=vA(e,r,n,c);else if(typeof(o==null?void 0:o.spelFormatValue)=="function"){var p=o.spelFormatValue,v=[n,rO(rO({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ai(o,xs)];if(l&&(v.push(l),v.push(u)),i=="field"){var h=Me(r,n)||{};v.push(h)}d=p.call.apply(p,[r.ctx].concat(v))}else d=Rl(n);return d}},y0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(n){var a=r.settings.fieldSeparator,o=Me(r,n)||{},s=Rr(n,r),l=Tj(n,r,i),u=r.settings.formatSpelField,c=Xa(n,r,e,i),f=l.map(function(p){var v=ke(p,3),h=v[0],m=v[1],y=v[2],g;y&&(y.type=="!struct"||y.type=="!group"&&y.mode=="struct"?g=m.isSpelMap?"map":"class":y.type=="!group"?g=m.isSpelItemMap?"[map]":"[class]":g="class");var _=m==null?void 0:m.isSpelVariable;return{key:h,parent:g,isSpelVariable:_,fieldSeparator:a}}),d=u.call(r.ctx,c,i,s,f,o,r);return d}},vA=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Gr(r,s);if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}var c={},f=[],d=[];for(var p in u.args){var v,h,m=u.args[p],y=Me(r,m),g=m.defaultValue,_=m.isOptional,b=g!=null&&g.func?"func":"value",S=l?l.get(p):void 0,O=S?S.get("value"):void 0,x=S?S.get("valueSrc"):void 0;x!=="func"&&(v=O)!==null&&v!==void 0&&v.toJS&&(O=O.toJS());var E=S?S.get("asyncListValues"):void 0,k=(h=m.spelEscapeForFormat)!==null&&h!==void 0?h:!0,w=null,I=gr(r,m,w,x),C=On(r,m,w,I,x,{forExport:!0}),A=xg(e,r,O,x,m.type,C,y,null,null,o,E);if(O!=null&&A===void 0){x!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(s));return}var P=void 0;if(A===void 0&&!_&&g!=null){var L=gr(r,m,w,b),V=On(r,m,w,L,b,{forExport:!0});if(P=xg(e,r,g,b,m.type,V,y,null,null,o,E),P===void 0){b!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(s));return}}var R=A!=null?A:P;if(R!==void 0){var U;if(f.length){var M=ZS(f),$;try{for(M.s();!($=M.n()).done;){var F=$.value;c[F]=void 0}}catch(Y){M.e(Y)}finally{M.f()}f=[]}c[p]=k?R:(U=O)!==null&&U!==void 0?U:g}else _||d.push(p),f.push(p)}if(!d.length){var N;if(typeof u.spelFormatFunc=="function"){var B=u.spelFormatFunc,z=[c];N=B.call.apply(B,[r.ctx].concat(z))}else if(u.spelFunc){N=u.spelFunc.replace(/\${(\w+)}/g,function(Y,K){var ie;return(ie=c[K])!==null&&ie!==void 0?ie:Y});var H=Object.keys(u.args||{}).reverse().filter(function(Y){return!!u.args[Y].isOptional}),D=ZS(H),G;try{for(D.s();!(G=D.n()).done;){var q=G.value;if(c[q]!=null)break;N=N.replace(new RegExp("(, )?\\${"+q+"}","g"),"")}}catch(Y){D.e(Y)}finally{D.f()}N=N.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(s," is not supported"));return N}};function ga(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=iie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function iie(t,e){if(t){if(typeof t=="string")return nO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aO={number:"number",string:"text",boolean:"boolean",null:"null"},oO={String:"text"},aie="multiselect",oie=function(e){return["length"].includes(e)},gA=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},sie=function(e,r){return mA(e,r,!0)},mA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=cie(a),s,l,u=void 0;try{var c=Hne.SpelExpressionEvaluator.compile(e);s=c._compiledExpression}catch(d){i.errors.push(d)}s&&(l=lie(s,i),Eo.debug("convertedObj:",l,i),u=Oc(l,o,a,i),u&&u.type!="group"&&u.type!="switch_group"&&(u=tf(u,a,l.not)),Eo.debug("jsTree:",u));var f=u?g0(u):void 0;return n?[f,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),f)},lie=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.getType(),a=e.getChildren().map(function(C){return t(C,r,e)});if((i=="op-or"||i=="op-and")&&(a=a.reduce(function(C,A){var P=A.type==i&&!A.not,L=P?A.children:[A];return[].concat(Ce(C),Ce(L))},[])),i=="op-not")return a.length!=1&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),xr(xr({},a[0]),{},{not:!a[0].not});if(i=="compound"){a=a.filter(function(C){var A=C.type=="selection"&&C.children.length==1&&C.children[0].type=="boolean"&&C.children[0].val==!0;return!A});var o=a.find(function(C){return C.type=="selection"});o&&o.children.length!=1&&r.errors.push("Selection should have 1 child, but got ".concat(o.children.length));var s=o?o.children[0]:null,l=a[a.length-1],u=l.type=="method"&&l.val.methodName=="size"||l.type=="!func"&&l.methodName=="size",c=l.type=="property"&&l.val=="length",f=a.filter(function(C){return C!==o&&C!==l}),d={type:"compound",children:f},p=(u||c)&&yA(f)!=null;if(p)return{type:"!aggr",filter:s,source:d};if(a=a.filter(function(C){var A=C.type=="variable"&&C.val=="this",P=C.type=="variable"&&C.val=="root";return!(A||P)}),a=a.map(function(C){return C.type=="indexer"&&C.children.length==1?{type:"indexer",val:C.children[0].val,itype:C.children[0].type}:C}),l.type=="!func"){var v={},h=v;do{var m,y;Object.assign(h,l),a=a.filter(function(C){return C!==l}),l=a[a.length-1],((y=l)===null||y===void 0?void 0:y.type)=="!func"?(h.obj={},h=h.obj):a.length>1?h.obj={type:"compound",children:a}:h.obj=l}while(((m=l)===null||m===void 0?void 0:m.type)=="!func");return v}}var g;try{e.getRaw?g=e.getRaw():e.getValue.length==0&&(g=e.getValue())}catch(C){Eo.error("[spel2js] Error in getValue()",C)}if(i=="ternary"&&(g=uie(a)),xt(g)==="object"&&g!==null&&(g.methodName||g.functionName)&&(g.args=g.args.map(function(C){return t(C,r,e)})),i=="list"&&(g=g.map(function(C){return t(C,r,e)}),!n&&g.length==1))return g[0];if(i=="constructorref"){var _=a.find(function(C){return C.type=="qualifiedidentifier"}),b=_==null?void 0:_.val;if(!b){r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)));return}var S=a.filter(function(C){return C.type!="qualifiedidentifier"});return{type:"!new",cls:b,args:S}}if(i=="typeref"){var O=a.find(function(C){return C.type=="qualifiedidentifier"}),x=O==null?void 0:O.val;if(!x){r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)));return}return a.filter(function(C){return C.type!="qualifiedidentifier"}),{type:"!type",cls:x}}if(i=="function"||i=="method"){var E=g,k=E.functionName,w=E.methodName,I=E.args;return{type:"!func",methodName:k||w,isVar:i=="function",args:I}}return{type:i,children:a,val:g}},uie=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]),(l==null?void 0:l.type)=="ternary"?n(l.children):r.push([void 0,l])}return n(e),r},cie=function(e){var r={},n=function(P){var L=e.operators[P];if(L.spelOps)L.spelOps.forEach(function(R){var U=R;r[U]||(r[U]=[]),r[U].push(P)});else if(L.spelOp){var V=L.spelOp;r[V]||(r[V]=[]),r[V].push(P)}else Eo.log("[spel] No spelOp for operator ".concat(P))};for(var i in e.operators)n(i);var a={};for(var o in e.conjunctions){var s=e.conjunctions[o],l=s.spelConj||o.toLowerCase();a[l]=o}var u={},c=ga(pu(e)),f;try{var d=function(){var P=ke(f.value,2),L=P[0],V=P[1],R=[],U=V.spelFunc;if(typeof U=="string"){var M=Object.keys(V.args||{}).reverse().filter(function(H){return!!V.args[H].isOptional||V.args[H].defaultValue!=null}),$=U.replace(/\${(\w+)}/g,function(H,D){return"?"}),F=M.reduce(function(H,D){return[].concat(Ce(H),[[D].concat(Ce(H[H.length-1]||[]))])},[]).map(function(H){return U.replace(/(?:, )?\${(\w+)}/g,function(D,G){return H.includes(G)?"":D}).replace(/\${(\w+)}/g,function(D,G){return"?"})});R=[$].concat(Ce(F))}var N=ga(R),B;try{for(N.s();!(B=N.n()).done;){var z=B.value;u[z]||(u[z]=[]),u[z].push(L)}}catch(H){N.e(H)}finally{N.f()}};for(c.s();!(f=c.n()).done;)d()}catch(A){c.e(A)}finally{c.f()}var p={};for(var v in e.widgets){var h=e.widgets[v],m=h.spelImportFuncs;if(h.type,m){var y=ga(m),g;try{for(y.s();!(g=y.n()).done;){var _=g.value;if(typeof _=="string"){var b=_.replace(/\${(\w+)}/g,function(A,P){return"?"}),S=Ce(_.matchAll(/\${(\w+)}/g)).map(function(A){var P=ke(A,2),L=P[0],V=P[1];return V});p[b]||(p[b]=[]),p[b].push({w:v,argsOrder:S})}}}catch(A){y.e(A)}finally{y.f()}}}var O={};for(var x in e.operators){var E=e.operators[x],k=E.spelOp;if(k!=null&&k.includes("${0}")){var w=k.replace(/\${(\w+)}/g,function(A,P){return"?"}),I=Ce(k.matchAll(/\${(\w+)}/g)).map(function(A){var P=ke(A,2);P[0];var L=P[1];return L});O[w]||(O[w]=[]),O[w].push({op:x,argsOrder:I})}}var C=lA.replace(/\${(\w+)}/g,function(A,P){return"?"});return O[C]=[{op:"!compare",argsOrder:["0","1"]}],{operators:r,conjunctions:a,funcs:u,valueFuncs:p,opFuncs:O}},Oc=function t(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){e._groupField=(a=e._groupField)!==null&&a!==void 0?a:o==null?void 0:o._groupField;var s,l=!0;if(e.type.indexOf("op-")===0||e.type==="matches")s=fie(e,r,n,i,o);else if(e.type=="!aggr"){var u,c=t(e.source,r,n,i,e);e._groupField=c==null?void 0:c.value;var f=t(e.filter,r,n,i,e);((u=f)===null||u===void 0?void 0:u.type)=="rule"&&(f=tf(f,n,e.filter.not)),s={groupFilter:f,groupFieldValue:c},o||(s=void 0,i.errors.push("Unexpected !aggr in root"),l=!1)}else if(e.type=="ternary"){var d={};e.val.forEach(function(v){var h=ke(v,2),m=h[0],y=h[1],g=_A(m,y,r,n,i,e);g&&(d[g.id]=g)}),s={type:"switch_group",id:Ft(),children1:d,properties:{}}}if(!s&&l&&(s=xc(e,r,n,i,o)),s&&!s.type&&!o){var p=bA(e,r,n,i);p?s=p:(s=void 0,i.errors.push("Can't convert rule of type ".concat(e.type,", it looks like var/literal")))}return s}},fie=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o,s=e.type.startsWith("op-")?e.type.slice(3):e.type,l=(s=="minus"||s=="plus")&&e.children.length==1;if(l){var u=e.negative;return s=="minus"&&(u=!u),e.children[0].negative=u,Oc(e.children[0],r,n,i,a)}var c=s=="and"&&e.children.length==2&&e.children[0].type=="op-ge"&&e.children[1].type=="op-le",f=s=="or"&&e.children.length==2&&e.children[0].type=="op-lt"&&e.children[1].type=="op-gt",d=c||f;if(d){var p=ke(e.children[0].children,2),v=p[0],h=p[1],m=ke(e.children[1].children,2),y=m[0],g=m[1],_=yie(v,y,e,r,n,i);if(_){h.val,g.val;var b={type:"op-between",children:[v,h,g],not:f};return b._groupField=a==null?void 0:a._groupField,t(b,r,n,i,a)}}var S=r.operators[s];s=="eq"&&e.children[1].type=="null"?S=["is_null"]:s=="ne"&&e.children[1].type=="null"?S=["is_not_null"]:s=="le"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_empty"]:s=="gt"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_not_empty"]:s=="between"&&(S=["between"]);var O=function(){var oe,ue=e.children.map(function(fe){return Oc(fe,r,n,i,e)});return ue.length>=2&&((oe=ue)===null||oe===void 0||(oe=oe[0])===null||oe===void 0?void 0:oe.type)=="!compare"&&(ue=ue[0].children),ue};if(s=="and"||s=="or"){var x={},E=O();E.forEach(function(te){if(te){var oe=Ft();te.id=oe,te.type!=null?x[oe]=te:i.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(te)))}}),o={type:"group",id:Ft(),children1:x,properties:{conjunction:r.conjunctions[s],not:e.not}}}else if(S){var k,w,I,C=O(),A=C[0],P=C.slice(1),L=A==null||(k=A.groupFieldValue)===null||k===void 0?void 0:k.value,V=(w=P)===null||w===void 0?void 0:w[0],R=S[0];if(S.length>1){var U,M,$=((U=C[0])===null||U===void 0?void 0:U.valueType)||((M=C[1])===null||M===void 0?void 0:M.valueType),F=A==null?void 0:A.value,N=S.map(function(te){return{op:te,widget:gr(n,F,te)}});if(Eo.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(S,"."),"widgets:",N,"vals:",C,"valueType=",$),s=="eq"||s=="ne"){var B=N.find(function(te){te.op;var oe=te.widget;return oe&&oe!="field"});B&&(R=B.op)}}A!=null&&A.groupFieldValue&&(V&&V.groupFieldValue&&V.groupFieldValue.valueSrc=="field"&&V.groupFieldValue.value==L?(R="all",P=[]):R=="equal"&&V.valueSrc=="value"&&V.valueType=="number"&&V.value==0?(R="none",P=[]):R=="greater"&&V.valueSrc=="value"&&V.valueType=="number"&&V.value==0&&(R="some",P=[]));var z=n.operators[R],H=n.operators[(I=z)===null||I===void 0?void 0:I.reversedOp],D=e.not&&["between"].includes(R),G=!!H,q=G&&(!!n.settings.reverseOperatorsForNot||D),Y=e.not&&q||D;Y&&(R=z.reversedOp,z=n.operators[R],e.not=!e.not);var K=!!e.not;if(e.not=!1,A)if(A.groupFieldValue)A.groupFieldValue.valueSrc!="field"&&i.errors.push("Expected group field ".concat(JSON.stringify(A))),o=mie(A,R,P,n,i);else{A.valueSrc!="field"&&A.valueSrc!="func"&&i.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(A)));var ie=A.value;o=b0(n,i,ie,R,P,e)}K&&(o.type!=="group"?o=tf(o,n,!0):o.properties.not=!o.properties.not)}else a||(o=bA(e,r,n,i));return o},yA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=e.map(function(o){if(o.type=="variable"||o.type=="property"||o.type=="indexer"&&o.itype=="string")return o.val;var s,l;i=!0,n&&(r==null||(s=r.errors)===null||s===void 0||(l=s.push)===null||l===void 0||l.call(s,"Unexpected item in field path compound: ".concat(JSON.stringify(o))))});return i?void 0:a},xc=function t(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e!=null){var l=n.settings.fieldSeparator;if(e._groupField=(a=e._groupField)!==null&&a!==void 0?a:s==null?void 0:s._groupField,e.type=="variable"||e.type=="property"){var u=Zd(n,e.val,e._groupField),c=Me(n,u),f=e.type=="variable";return{valueSrc:"field",valueType:c==null?void 0:c.type,isVariable:f,value:u}}else if(e.type=="compound"){var d=yA(e.children,i);if(d){var p,v=Zd(n,d.join(l),e._groupField),h=Me(n,v),m=((p=e.children)===null||p===void 0||(p=p[0])===null||p===void 0?void 0:p.type)=="variable";return{valueSrc:"field",valueType:h==null?void 0:h.type,isVariable:m,value:v}}}else if(aO[e.type]){var y=e.val,g=aO[e.type];return e.negative&&(y=-y),{valueSrc:"value",valueType:g,value:y}}else if(e.type=="!new"&&oO[e.cls.at(-1)]){var _=e.args.map(function(I){return t(I,r,n,i,e)}),b=_==null?void 0:_[0],S=oO[e.cls.at(-1)];return xr(xr({},b),{},{valueType:S})}else if(e.type=="list"){var O,x=e.val.map(function(I){return t(I,r,n,i,e)});x.length&&((O=x[0])===null||O===void 0||O.valueType);var E=x.map(function(I){return I==null?void 0:I.value}),k=aie;return{valueSrc:"value",valueType:k,value:E}}else if(e.type==="op-plus"&&(s==null?void 0:s.type)==="ternary"&&((o=n.settings.caseValueField)===null||o===void 0?void 0:o.type)==="case_value")return SA(e,r,n,i);var w=hie(e,r,n,i,s);if(w!==void 0)return w;i.errors.push("Can't convert arg of type ".concat(e.type))}},die=function(e){var r=[{s:"",params:[],objs:[]}];return pie(e,r),r.map(function(n){var i=n.s,a=n.params;return{s:i,params:a}}).reverse().filter(function(n){var i=n.s;return i!==""&&i!=="?"})},pie=function t(e,r){var n=[],i="",a=e.type,o=e.methodName;e.val;var s=e.obj,l=e.args,u=e.isVar,c=e.cls,f=e.children,d=f==null?void 0:f[f.length-1],p=r[r.length-1];if(a==="!func"){for(var v=s;v;){var h,m=t(xr(xr({},v),{},{obj:null}),[{}]),y=ke(m,2),g=y[0],_=y[1];if(g!=="?"){var b={s:p.s,params:Ce(p.params),objs:Ce(p.objs)};p.objs.unshift("?"),p.params.unshift(v),r.push(b),p=r[r.length-1]}p.objs.unshift(g),(h=p.params).unshift.apply(h,Ce(_)),v=v.type==="!func"?v.obj:null}var S=ga(r),O;try{for(S.s();!(O=S.n()).done;){var x,E=O.value;n=[].concat(Ce((E==null?void 0:E.params)||[]),Ce(l||[])),i="",E!=null&&(x=E.objs)!==null&&x!==void 0&&x.length&&(i+=E.objs.join(".")+"."),i+=(u?"#":"")+o,i+="("+(l||[]).map(function(k){return"?"}).join(", ")+")",E.s=i,E.params=n}}catch(k){S.e(k)}finally{S.f()}}else a==="!new"?(n=l||[],i="new ".concat(c.join("."),"(").concat(n.map(function(k){return"?"}).join(", "),")")):a==="!type"?i="T(".concat(c.join("."),")"):a==="compound"&&d.type==="property"&&oie(d.val)?i=f.map(function(k){var w;if(k===d)return k.val;var I=t(xr(xr({},k),{},{obj:null}),[{}]),C=ke(I,2),A=C[0],P=C[1];return(w=n).push.apply(w,Ce(P)),A}).join("."):(n=[e],i="?");return p&&(p.s=i,p.params=n),[i,n]},hie=function(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=function(V){return Oc(V,r,n,i,e)},l=die(e),u=l==null||(a=l[0])===null||a===void 0?void 0:a.s;l.length&&Eo.debug("Signatures for ",e,":",u,l);var c=vie(e,r,n,i,o,l,s);if(c!==void 0)return c;var f=gie(e,r,n,i,o,l,s);if(f!==void 0)return f;var d,p,v,h=ga(l),m;try{var y=function(){var V=m.value,R=V.s,U=V.params,M=r.funcs[R];if(M){d=M[0],p=Gr(n,d);var $=p,F=$.spelFunc,N=U.map(s),B=Ce(F.matchAll(/\${(\w+)}/g)).map(function(z){var H=ke(z,2),D=H[0],G=H[1];return G});return v=Object.fromEntries(B.map(function(z,H){return[z,N[H]]})),1}};for(h.s();!(m=h.n()).done&&!y(););}catch(L){h.e(L)}finally{h.f()}if(!d){var g=ga(pu(n)),_;try{for(g.s();!(_=g.n()).done;){var b=ke(_.value,2),S=b[0],O=b[1];if(O.spelImport){var x=void 0;try{x=O.spelImport(e)}catch(L){}if(x){d=S,p=Gr(n,d),v={};for(var E in x)v[E]=s(x[E])}}}}catch(L){g.e(L)}finally{g.f()}}if(d){var k={};for(var w in p.args){var I=p.args[w],C=v[w];if(C===void 0)if(C=I==null?void 0:I.defaultValue,C===void 0){if(!(I!=null&&I.isOptional)){i.errors.push("No value for arg ".concat(w," of func ").concat(d));return}}else{var A;C={value:C,valueSrc:(A=C)!==null&&A!==void 0&&A.func?"func":"value",valueType:I.type}}C&&(k[w]=C)}return{valueSrc:"func",value:{func:d,args:k},valueType:p.returnType}}var P=e.methodName;P&&i.errors.push("Signature ".concat(u," - failed to convert"))},vie=function(e,r,n,i,a,o,s){var l,u,c,f=[];for(var d in n.widgets){var p=n.widgets[d],v=p.spelImportFuncs;if(v)for(var h=0;h<v.length;h++){var m=v[h];if(gA(m)){var y={};if(pI(m,e,y)){for(var g in y)y[g]=s(y[g]);f.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(h,"]"),w:d,argsObj:y})}}}}var _=ga(o),b;try{for(_.s();!(b=_.n()).done;){var S=b.value,O=S.s,x=S.params,E=r.valueFuncs[O]||[],k=ga(E),w;try{var I=function(){var D=w.value,G=D.w,q=D.argsOrder,Y=x.map(s),K=Object.fromEntries(q.map(function(ie,te){return[ie,Y[te]]}));f.push({s:O,w:G,argsObj:K})};for(k.s();!(w=k.n()).done;)I()}catch(H){k.e(H)}finally{k.f()}}}catch(H){_.e(H)}finally{_.f()}for(var C=0,A=f;C<A.length;C++){var P=A[C],L=P.s,V=P.w,R=P.argsObj,U=n.widgets[V],M=U.spelImportValue,$=U.type;c=V,u=L,l=[];for(var F in R)["value"].includes(R[F].valueSrc)||l.push("".concat(F," has unsupported value src ").concat(R[F].valueSrc));var N=R.v.value;if(M&&!l.length){var B=M.call(n.ctx,R.v,U,R),z=ke(B,2);N=z[0],l=z[1],l&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:$,value:N}}c&&l.length&&i.errors.push("Signature ".concat(u," - looks like convertable to ").concat(c,", but: ").concat(l.join("; ")))},gie=function(e,r,n,i,a,o,s){var l,u,c,f=ga(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,v=p.s,h=p.params,m=r.opFuncs[v]||[],y=ga(m),g;try{var _=function(){var O,x=g.value,E=x.op,k=x.argsOrder,w=h.map(s);if(u=E,E==="!compare"){if(a.type.startsWith("op-")&&a.children.length==2&&a.children[1].type=="number"&&a.children[1].val===0)return{v:{type:"!compare",children:w}};l.push("Result of compareTo() should be compared to 0")}c=v,l=[];var I=n.operators[u],C=I.spelOp,A=I.valueTypes,P=Object.fromEntries(k.map(function(U,M){return[U,w[M]]})),L=P[0],V=Object.keys(P).filter(function(U){return parseInt(U)>0}).map(function(U){return P[U]}),R=(O=w.filter(function(U){return!!U}).find(function(U){var M=U.valueSrc;return M==="value"}))===null||O===void 0?void 0:O.valueType;if(A&&R&&!A.includes(R)&&l.push("Op supports types ".concat(A,", but got ").concat(R)),!l.length)return{v:b0(n,i,L,u,V,e)}},b;for(y.s();!(g=y.n()).done;)if(b=_(),b)return b.v}catch(S){y.e(S)}finally{y.f()}}}catch(S){f.e(S)}finally{f.f()}u&&l.length&&i.errors.push("Signature ".concat(c," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},b0=function(e,r,n,i,a,o){var s,l;if(!a.filter(function(w){return w===void 0}).length){var u=(s=n)!==null&&s!==void 0&&s.func?"func":"field";gA(n)&&n.valueSrc&&(u=n.valueSrc,n=n.value);var c=Me(e,n);if(!c){r.errors.push("No config for field ".concat(n));return}var f=Me(e,o==null?void 0:o._groupField),d=c.type=="!group";d&&c.mode=="array";var p=(f==null?void 0:f.type)=="!group",v=e.operators[i],h=e.operators[(l=v)===null||l===void 0?void 0:l.reversedOp],m=(o==null?void 0:o.not)&&["between"].includes(i),y=!!h,g=y&&(!!e.settings.reverseOperatorsForNot||m||!d&&p),_=(o==null?void 0:o.not)&&g||m;_&&(i=v.reversedOp,v=e.operators[i],o.not=!o.not);var b=!!(o!=null&&o.not),S=gr(e,n,i),O=e.widgets[S||c.mainWidget],x=a.map(function(w){return w.asyncListValues}).filter(function(w){return w!=null}),E=x.length?x[0]:void 0,k={type:"rule",id:Ft(),properties:xr({field:n,fieldSrc:u,operator:i,value:a.map(function(w){return w.value}),valueSrc:a.map(function(w){return w.valueSrc}),valueType:a.map(function(w){return w.valueSrc=="value"&&((O==null?void 0:O.type)||(c==null?void 0:c.type))||w.valueType})},E?{asyncListValues:E}:{})};return b&&(k=tf(k,e,o.not)),k}},mie=function(e,r,n,i,a){var o=e.groupFilter,s=e.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var l=s.value,u=b0(i,a,l,r,n);if(u){var c=Me(i,l),f=c==null?void 0:c.mode,d;return(o==null?void 0:o.type)==="group"?d=xr(xr({},o||{}),{},{type:"rule_group",properties:xr(xr(xr({},u.properties),(o==null?void 0:o.properties)||{}),{},{mode:f})}):o?d=xr(xr({},u||{}),{},{type:"rule_group",children1:[o],properties:xr(xr({},u.properties),{},{mode:f})}):d=xr(xr({},u||{}),{},{type:"rule_group",properties:xr(xr({},u.properties),{},{mode:f})}),d.id||(d.id=Ft()),d}},yie=function(e,r,n,i,a,o){if(e.type==r.type)if(e.type=="!aggr"){var s=[e.source,r.source].map(function(h){return xc(h,i,a,o,n)}),l=ke(s,2),u=l[0],c=l[1];return u.value==c.value}else{var f=[e,r].map(function(h){return xc(h,i,a,o,n)}),d=ke(f,2),p=d[0],v=d[1];return p.value==v.value}return!1},bA=function(e,r,n,i){var a={},o=null,s=_A(o,e,r,n,i);s&&(a[s.id]=s);var l={type:"switch_group",id:Ft(),children1:a,properties:{}};return l},_A=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=bie(i,a,n,r,o),l;return e?(l=Oc(e,n,i,a,o),l&&l.type?(l.type!="group"&&(l=tf(l,i)),l.type="case_group"):(a.errors.push("Unexpected case: ".concat(JSON.stringify(l))),l=void 0)):l={id:Ft(),type:"case_group",properties:{}},l&&(l.properties=xr(xr({},l.properties),s)),l},SA=function(e,r,n,i){var a=[];function o(s){s.map(function(l){if(l.type==="op-plus")o(l.children);else{var u=xc(l,r,n,i,e);u?a.push(u):i.errors.push("Can't convert ".concat(l.type," in concatenation"))}})}return o(e.children),{valueSrc:"value",valueType:"case_value",value:a}},bie=function(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l={},u,c,f,d=Me(e,"!case_value");if((i==null?void 0:i.type)==="op-plus"&&((a=e.settings.caseValueField)===null||a===void 0?void 0:a.type)==="case_value")c="case_value",u=SA(i,n,e,r);else if(c=d==null?void 0:d.mainWidget,f=e.widgets[c],u=xc(i,n,e,r,s),u&&u.valueSrc==="value"){var p;u.valueType=((p=f)===null||p===void 0?void 0:p.type)||(d==null?void 0:d.type)||u.valueType}var v=e.widgets[c];if(c==="case_value"){var h=v==null?void 0:v.spelImportValue;if(h){var m=h.call(e.ctx,u),y=ke(m,2),g=y[0],_=y[1];if(_.map(function(S){return r.errors.push(S)}),g!=null){var b;l={value:[g],valueSrc:["value"],valueType:[(b=v==null?void 0:v.type)!==null&&b!==void 0?b:"case_value"],field:"!case_value"}}}}else u!=null&&((o=u)===null||o===void 0?void 0:o.value)!=null&&(l={value:[u.value],valueSrc:[u.valueSrc],valueType:[u.valueType],field:"!case_value"});return l},tf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n||!1}}};const sO=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:QI,_loadFromSpel:mA,getTree:One,isImmutableTree:UI,isJsonLogic:Ln,isTree:WI,jsToImmutable:Sc,loadFromJsonLogic:kne,loadFromSpel:sie,loadTree:g0},Symbol.toStringTag,{value:"Module"}));function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var OA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.settings.defaultField,a=(n?xA(e,n):i)||r&&rP(e,n)||null;return a!=null&&typeof a!="string"&&!lu(a)&&(a=Sc(a)),a},xA=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n)return null;var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".",a=Me(e,n),o=a==null?void 0:a.defaultField;return o&&(o=[].concat(Ce(Rr(n)),[o]).join(i)),o},wg=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n&&((r=e.settings.fieldSources)===null||r===void 0?void 0:r[0])||"field"},_0=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Me(e,r),a=(i==null?void 0:i.operators)||[],o=e.settings.defaultOperator;o&&!a.includes(o)&&(o=null);var s=i==null?void 0:i.defaultOperator,l=i==null?void 0:i.ownDefaultOperator,u=n?x0(e,r):null,c=l||o||s||u;return c},rf=function(e,r,n){var i=r?Pt(e,r,n):null;return i&&i.options?new Ue.Map(i.options&&i.options.defaults||{}):null},Ta=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=null,s=null,l=null,u=e.settings.showErrorMessage;if(n){var c,f,d;l=n==null||(c=n.properties)===null||c===void 0?void 0:c.fieldSrc,o=n==null||(f=n.properties)===null||f===void 0?void 0:f.field,s=n==null||(d=n.properties)===null||d===void 0?void 0:d.operator}else i?(o=OA(e,a,r),o?l=lu(o)?"func":"field":l=wg(e),s=_0(e,o,!0)):l=wg(e);var p=new Ue.Map({fieldSrc:l,field:o,operator:s,value:new Ue.List,valueSrc:new Ue.List,operatorOptions:rf(e,s,o)});if(u&&(p=p.set("valueError",new Ue.List)),o&&s){var v=!1,h=ns(e,e,p,o,s,"operator",v),m=h.newValue,y=h.newValueSrc,g=h.newValueType,_=h.newValueError,b=h.newFieldError;p=p.set("value",m).set("valueSrc",y).set("valueType",g),u&&(p=p.set("valueError",_).set("fieldError",b))}return p},wc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r=Me(e,r);var n=r&&r.conjunctions||Object.keys(e.conjunctions);return n.length==1?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},ka=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},No=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Ue.Map({conjunction:wc(e,r),not:!1})},wA=function(e,r){var n;return r&&r.type=="group"?No(e,r==null||(n=r.properties)===null||n===void 0?void 0:n.field):Ta(e,null,r)},EA=function(e,r){return le({},e,new Ue.Map({type:"rule",id:e,properties:Ta(r)}))},Sie=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Ue.Map({type:"group",id:Ft(),children1:new Ue.OrderedMap(r?_ie({},EA(Ft(),e)):{}),properties:No(e)})},Oie=function(e){return Xp(e)?e:CA([e])},CA=function(e){return Xp(e)?e:new Ue.List(e)},xie=function(){return new Ue.Map};const wie=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:CA,createListWithOneElement:Oie,defaultConjunction:ka,defaultGroupConjunction:wc,defaultGroupProperties:No,defaultItemProperties:wA,defaultOperatorOptions:rf,defaultRoot:Sie,defaultRule:EA,defaultRuleProperties:Ta,emptyProperties:xie,getDefaultField:OA,getDefaultFieldSrc:wg,getDefaultOperator:_0,getDefaultSubField:xA},Symbol.toStringTag,{value:"Module"}));function uO(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Eie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Eie(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a={errors:[],settings:{isForDisplay:n,isDebugMode:i}},o=oi(r,void 0,!1),s=kA(e,o,a,null);return a.errors.length&&console.warn("Errors while exporting to string:",a.errors),s},kA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(e.get("children1"),a==="group"||a==="rule_group")return Cie(e,r,n,i);if(a==="rule")return IA(e,r,n,i)}},Cie=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=n.settings,l=s.isForDisplay,u=s.isDebugMode,c=e.get("type"),f=e.get("properties")||new ur,d=f.get("mode"),p=e.get("children1")||new Xi,v=c==="rule_group",h=v&&d=="array"?f.get("field"):null,m=c==="rule_group"?f.get("operator"):null,y=m?(i=(a=r.operators[m])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1:void 0,g=v&&d==="array"&&y>=1,_=f.get("not"),b=p.map(function(A){return kA(A,r,n,h)}).filter(function(A){return typeof A<"u"});if(!(!g&&!b.size&&!u)){var S=f.get("conjunction");S||(S=ka(r));var O=r.conjunctions[S],x=b.size?O.formatConj.call(r.ctx,b,S,_,l):null,E;if(h){var k=IA(e,r,n,o,!0);if(k){var w,I=k.pop(),C=[x].concat(Ce(k));E=(w=r.settings.formatAggr).call.apply(w,[r.ctx].concat(Ce(C))),I&&(E=r.settings.formatReverse.call(r.ctx,E,null,null,null,null,l))}}else E=x;return u&&E==null&&(E="?"),E}},Tie=function(e,r,n,i,a){var o=n.settings;o.isForDisplay;var s=o.isDebugMode,l=r.get("field"),u=r.get("valueSrc"),c=r.get("valueType"),f=Me(e,l)||{},d=i||r.get("operator"),p=Pt(e,d,l)||{},v=Ur(p),h=r.get("value"),m=r.get("asyncListValues"),y=[],g=[],_,b;if(h!=null){b=h.map(function(x,E){var k=u?u.get(E):null,w=c?c.get(E):null,I=s?x:ws(x,k,e),C=gr(e,l,d,k),A=On(e,l,d,C,k,{forExport:!0}),P=Eg(e,n,I,k,w,A,f,d,p,a,m);return P!==void 0&&(y.push(k),g.push(w)),P});var S=b.filter(function(x){return x===void 0}).size>0,O=!S&&b.size===v;O&&(_=v==1?b.first():b)}return s&&!_&&(_=v>1?new Xi(Array.from({length:v}).map(function(x,E){var k,w;return(k=(w=b)===null||w===void 0?void 0:w.get(E))!==null&&k!==void 0?k:"?"})):"?"),[_,y.length>1?y:y[0],g.length>1?g:g[0]]},kie=function(e,r,n){var i=n.settings.isDebugMode,a=(r==null?void 0:r.labelForFormat)||e,o=Ur(r),s;return o==0?s=function(u,c,f,d,p,v,h,m){return"".concat(u," ").concat(a)}:o==1?s=function(u,c,f,d,p,v,h,m){return i&&c==="?"&&f==="?"?u&&u!=="?"?"".concat(u," ?"):"?":"".concat(u," ").concat(a," ").concat(f)}:o==2&&(s=function(u,c,f,d,p,v,h,m){var y,g,_=f==null||(y=f.first)===null||y===void 0?void 0:y.call(f),b=f==null||(g=f.get)===null||g===void 0?void 0:g.call(f,1);return"".concat(u," ").concat(a," ").concat(_," AND ").concat(b)}),s},IA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=n.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.get("properties")||new ur,c=u.get("field"),f=u.get("fieldSrc"),d=u.get("operator"),p=u.get("operatorOptions");if(!((c==null||d==null)&&!l)){var v=Me(r,c)||{},h=Pt(r,d,c)||{},m=h.reversedOp,y=Pt(r,m,c)||{},g=!1,_=h.formatOp;if(!_&&m&&(_=y.formatOp,_)){g=!0;var b=[m,d];d=b[0],m=b[1];var S=[y,h];h=S[0],y=S[1]}if(l&&!d&&(d="?"),_||(_=kie(d,h,n)),!!_){var O=f==="func"?jA(r,n,c,i):AA(r,n,c,i);if(O!=null){var x=Tie(r,u,n,d,i),E=ke(x,3),k=E[0],w=E[1],I=E[2];if(k!==void 0){var C=[O,d,k,w,I,ai(h,su),p,s,v,g];if(a)return C;var A,P=(A=_).call.apply(A,[r.ctx].concat(C));return g&&(P=r.settings.formatReverse.call(r.ctx,P,d,m,h,y,s)),P}}}}},Eg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0,d=r.settings,p=d.isForDisplay,v=d.isDebugMode;if(n===void 0)return v?(o==null?void 0:o.jsType)==="array"?[]:"?":void 0;var h;if(i=="field")h=AA(e,r,n,c);else if(i=="func")h=jA(e,r,n,c);else if(typeof(o==null?void 0:o.formatValue)=="function"){var m=o.formatValue,y=[n,dO(dO({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ai(o,xs),p];if(l&&(y.push(l),y.push(u)),i=="field"){var g=Me(e,n)||{};y.push(g)}h=m.call.apply(m,[e.ctx].concat(y))}else h=n;return h},AA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=r.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.settings;u.fieldSeparator;var c=u.fieldSeparatorDisplay,f=null;if(n){var d=Me(e,n)||{},p=Rr(n,e),v=af(n,e,a?i:null),h=v?v.join(c):null,m=d.label2||h,y=e.settings.formatField,g=Xa(n,e,r,a?i:null,{useTableName:!0});f=y(g,p,m,d,e,s)}else l&&(f="?");return f},jA=function(e,r,n){var i,a,o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=r.settings,u=l.isForDisplay,c=l.isDebugMode,f=n==null||(i=n.get)===null||i===void 0?void 0:i.call(n,"func");if(!f)return c?"?()":void 0;var d=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),p=Gr(e,f);if(!p&&!c){r.errors.push("Func ".concat(f," is not defined in config"));return}var v=Rr(f,e),h=v[v.length-1],m=u&&(p==null?void 0:p.label)||h,y={},g=[],_=[],b={},S=p?Object.keys(p.args||{}):(d==null||(o=d.keySeq)===null||o===void 0?void 0:o.call(d).toArray())||[],O=uO(S),x;try{for(O.s();!(x=O.n()).done;){var E,k=x.value,w=p==null?void 0:p.args[k],I=Me(e,w),C=w||{},A=C.defaultValue,P=C.isOptional,L=A!=null&&A.func?"func":"value",V=u&&(w==null?void 0:w.label)||k,R=d?d.get(k):void 0,U=R?R.get("value"):void 0,M=R?R.get("valueSrc"):void 0;M!=="func"&&(E=U)!==null&&E!==void 0&&E.toJS&&(U=U.toJS());var $=R?R.get("asyncListValues"):void 0,F=Eg(e,r,U,M,w==null?void 0:w.type,I,w,null,null,s,$);U!=null&&F===void 0&&M!="func"&&r.errors.push("Can't format value of arg ".concat(k," for func ").concat(f));var N=void 0;if(F===void 0&&!P&&A!=null&&(N=Eg(e,r,A,L,w==null?void 0:w.type,I,w,null,null,s,$),N===void 0)){L!="func"&&r.errors.push("Can't format default value of arg ".concat(k," for func ").concat(f));return}var B=F!=null?F:N;if(B!==void 0){if(g.length){var z=uO(k),H;try{for(z.s();!(H=z.n()).done;){var D=ke(H.value,2),G=D[0],q=D[1];y[G]=void 0}}catch(oe){z.e(oe)}finally{z.f()}g=[]}y[k]=B,b[V]=B}else P||_.push(k),g.push([k,V])}}catch(oe){O.e(oe)}finally{O.f()}if(!(_.length&&!c)){var Y=null;if(typeof(p==null?void 0:p.formatFunc)=="function"){var K=p.formatFunc,ie=[y,u];Y=K.call.apply(K,[e.ctx].concat(ie))}else{var te=Object.entries(u?b:y).map(function(oe){var ue=ke(oe,2),fe=ue[0],pe=ue[1];return u?"".concat(fe,": ").concat(pe):"".concat(pe)}).join(", ");Y="".concat(m,"(").concat(te,")")}return Y}},PA="EMPTY_GROUP",LA="EMPTY_RULE_GROUP",FA="EMPTY_QUERY",RA="EMPTY_CASE",$A="NO_CONFIG_FOR_FIELD",NA="NO_CONFIG_FOR_OPERATOR",Iie="FIXED_OPERATOR",DA="NO_CONFIG_FOR_FUNCTION",MA="INVALID_VALUE",VA="INVALID_FUNC_ARG_VALUE",BA="UNSUPPORTED_FIELD_TYPE",qA="UNSUPPORTED_OPERATOR_FOR_FIELD",HA="INVALID_VALUE_SRC",Cg="INCOMPLETE_RULE",zA="INCOMPLETE_LHS",UA="INCOMPLETE_RHS",Tg="BAD_MULTISELECT_VALUES",WA="BAD_SELECT_VALUE",GA="INCORRECT_VALUE_TYPE",YA="INCORRECT_VALUE_JS_TYPE",KA="VALUE_LENGTH_CONSTRAINT_FAIL",kg="VALUE_MIN_CONSTRAINT_FAIL",Ig="VALUE_MAX_CONSTRAINT_FAIL",JA="NO_CONFIG_FOR_FIELD_VALUE",QA="CANT_COMPARE_FIELD_WITH_ITSELF",XA="CANT_COMPARE_FIELD_WITH_FIELD",ZA="INCORRECT_FIELD_TYPE",ej="UNSUPPORTED_FUNCTION_FOR_FIELD",tj="REQUIRED_FUNCTION_ARG",rj="INCORRECT_FUNCTION_RETURN_TYPE",nj="INVALID_RANGE",Ra="ITEM_POSITION",ij="ITEM_POSITION_ROOT",aj="ITEM_POSITION_WITH_INDEX_PATH",oj="ITEM_POSITION_IN_CASE",Ag="range";const nt=t=>typeof t=="string",ju=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},pO=t=>t==null?"":""+t,Aie=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},jie=/###/g,hO=t=>t&&t.indexOf("###")>-1?t.replace(jie,"."):t,vO=t=>!t||nt(t),ec=(t,e,r)=>{const n=nt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(vO(t))return{};const a=hO(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return vO(t)?{}:{obj:t,k:hO(n[i])}},gO=(t,e,r)=>{const{obj:n,k:i}=ec(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=ec(t,o,Object);for(;s.obj===void 0&&o.length;)a="".concat(o[o.length-1],".").concat(a),o=o.slice(0,o.length-1),s=ec(t,o,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(a)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(a)]=r},Pie=(t,e,r,n)=>{const{obj:i,k:a}=ec(t,e,Object);i[a]=i[a]||[],i[a].push(r)},Wd=(t,e)=>{const{obj:r,k:n}=ec(t,e);if(r)return r[n]},Lie=(t,e,r)=>{const n=Wd(t,r);return n!==void 0?n:Wd(e,r)},sj=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?nt(t[n])||t[n]instanceof String||nt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):sj(t[n],e[n],r):t[n]=e[n]);return t},Ns=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Fie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Rie=t=>nt(t)?t.replace(/[&<>"'\/]/g,e=>Fie[e]):t;class $ie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Nie=[" ",",","?","!",";"],Die=new $ie(20),Mie=(t,e,r)=>{e=e||"",r=r||"";const n=Nie.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Die.getRegExp("(".concat(n.map(o=>o==="?"?"\\?":o).join("|"),")"));let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},jg=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<n.length;++l)if(l!==a&&(s+=r),s+=n[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=o}return i},Gd=t=>t&&t.replace("_","-"),Vie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Yd{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Vie,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(nt(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[r](e))}create(e){return new Yd(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Yd(this.logger,e)}}var ha=new Yd;class sh{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s.apply(s,[e,...n])})}}class mO extends sh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):nt(n)&&a?s.push(...n.split(a)):s.push(n)));const l=Wd(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!o||!nt(n)?l:jg(this.data&&this.data[e]&&this.data[e][r],n,a)}addResource(e,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),gO(this.data,s,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(nt(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=Wd(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?sj(l,n,a):l={...l,...n},gO(this.data,s,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var lj={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,r,n,i))}),e}};const yO={};class Kd extends sh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Aie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ha.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Mie(e,n,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return nt(a)&&(a=[a]),{key:e,namespaces:a}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const b=r.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(b).concat(o),usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(b).concat(o)}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let d=f&&f.res;const p=f&&f.usedKey||o,v=f&&f.exactUsedKey||o,h=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,_=!nt(d)&&typeof d!="boolean"&&typeof d!="number";if(g&&d&&_&&m.indexOf(h)<0&&!(nt(y)&&Array.isArray(d))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...r,ns:s}):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=b,f.usedParams=this.getUsedParamsDetails(r),f):b}if(a){const b=Array.isArray(d),S=b?[]:{},O=b?v:p;for(const x in d)if(Object.prototype.hasOwnProperty.call(d,x)){const E="".concat(O).concat(a).concat(x);S[x]=this.translate(E,{...r,joinArrays:!1,ns:s}),S[x]===E&&(S[x]=d[x])}d=S}}else if(g&&nt(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,r,n));else{let b=!1,S=!1;const O=r.count!==void 0&&!nt(r.count),x=Kd.hasDefaultValue(r),E=O?this.pluralResolver.getSuffix(u,r.count,r):"",k=r.ordinal&&O?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",w=O&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),I=w&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(E)]||r["defaultValue".concat(k)]||r.defaultValue;!this.isValidLookup(d)&&x&&(b=!0,d=I),this.isValidLookup(d)||(S=!0,d=o);const A=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,P=x&&I!==d&&this.options.updateMissing;if(S||b||P){if(this.logger.log(P?"updateKey":"missingKey",u,l,o,P?I:d),a){const U=this.resolve(o,{...r,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let U=0;U<V.length;U++)L.push(V[U]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(r.lng||this.language):L.push(r.lng||this.language);const R=(U,M,$)=>{const F=x&&$!==d?$:A;this.options.missingKeyHandler?this.options.missingKeyHandler(U,l,M,F,P,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,l,M,F,P,r),this.emit("missingKey",U,l,M,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?L.forEach(U=>{const M=this.pluralResolver.getSuffixes(U,r);w&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&M.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&M.push("".concat(this.options.pluralSeparator,"zero")),M.forEach($=>{R([U],o+$,r["defaultValue".concat($)]||I)})}):R(L,o,I))}d=this.extendTranslation(d,e,r,f,n),S&&d===o&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(o)),(S||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(o):o,b?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=nt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&!nt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return a&&a[0]===p[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(p[0]," in key: ").concat(r[0])),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=nt(s)?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=lj.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,o,s;return nt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!nt(r.count),p=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),v=r.context!==void 0&&(nt(r.context)||typeof r.context=="number")&&r.context!=="",h=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(m=>{this.isValidLookup(n)||(s=m,!yO["".concat(h[0],"-").concat(m)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(yO["".concat(h[0],"-").concat(m)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(y=>{if(this.isValidLookup(n))return;o=y;const g=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(g,c,y,m,r);else{let b;d&&(b=this.pluralResolver.getSuffix(y,r.count,r));const S="".concat(this.options.pluralSeparator,"zero"),O="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(g.push(c+b),r.ordinal&&b.indexOf(O)===0&&g.push(c+b.replace(O,this.options.pluralSeparator)),p&&g.push(c+S)),v){const x="".concat(c).concat(this.options.contextSeparator).concat(r.context);g.push(x),d&&(g.push(x+b),r.ordinal&&b.indexOf(O)===0&&g.push(x+b.replace(O,this.options.pluralSeparator)),p&&g.push(x+S))}}let _;for(;_=g.pop();)this.isValidLookup(n)||(a=_,n=this.getResource(y,m,_,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!nt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const lv=t=>t.charAt(0).toUpperCase()+t.slice(1);class bO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ha.create("languageUtils")}getScriptPartFromCode(e){if(e=Gd(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Gd(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(nt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=lv(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=lv(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=lv(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),nt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(o)))};return nt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):nt(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let Bie=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qie={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Hie=["v1","v2","v3"],zie=["v4"],_O={zero:0,one:1,two:2,few:3,many:4,other:5},Uie=()=>{const t={};return Bie.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:qie[e.fc]}})}),t};class Wie{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=ha.create("pluralResolver"),(!this.options.compatibilityJSON||zie.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Uie(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Gd(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[a]=o,o}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>"".concat(r).concat(i))}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>_O[i]-_O[a]).map(i=>"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Hie.includes(this.options.compatibilityJSON)}}const SO=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Lie(t,e,r);return!a&&i&&nt(r)&&(a=jg(t,r,n),a===void 0&&(a=jg(e,r,n))),a},uv=t=>t.replace(/\$/g,"$$$$");class Gie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ha.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:g}=e.interpolation;this.escape=r!==void 0?r:Rie,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Ns(a):o||"{{",this.suffix=s?Ns(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Ns(d):p||Ns("$t("),this.nestingSuffix=v?Ns(v):h||Ns(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,r,n,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=SO(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,n,{...i,...r,interpolationkey:p}):y}const v=p.split(this.formatSeparator),h=v.shift().trim(),m=v.join(this.formatSeparator).trim();return this.format(SO(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),m,n,{...i,...r,interpolationkey:h})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>uv(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?uv(this.escape(p)):uv(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){const v=a[1].trim();if(o=u(v),o===void 0)if(typeof c=="function"){const m=c(e,a,i);o=nt(m)?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=a[0];continue}else this.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(e)),o="";else!nt(o)&&!this.useRawValueToEscape&&(o=pO(o));const h=p.safeValue(o);if(e=e.replace(a[0],h),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const s=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),v=d.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),h),"".concat(l).concat(c).concat(d)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!nt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=r(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!nt(a))return a;nt(a)||(a=pO(a)),a||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Yie=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=s.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Ds=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let s=e[o];return s||(s=t(Gd(n),i),e[o]=s),s(r)}};class Kie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ha.create("formatter"),this.options=e,this.formats={number:Ds((r,n)=>i=>new Intl.NumberFormat(r,{...n}).format(i)),currency:Ds((r,n)=>i=>new Intl.NumberFormat(r,{...n,style:"currency"}).format(i)),datetime:Ds((r,n)=>i=>new Intl.DateTimeFormat(r,{...n}).format(i)),relativetime:Ds((r,n)=>i=>new Intl.RelativeTimeFormat(r,{...n}).format(i,n.range||"day")),list:Ds((r,n)=>i=>new Intl.ListFormat(r,{...n}).format(i))},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ds(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{const{formatName:u,formatOptions:c}=Yie(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](s,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const Jie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Qie extends sh{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ha.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},s={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d="".concat(u,"|").concat(f);!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{Pie(l.loaded,[a],o),Jie(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();nt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nt(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&s&&this.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),s),this.loaded(e,o,s)})}saveMissing(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,r,n,i,s,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const OO=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),nt(t[1])&&(e.defaultValue=t[1]),nt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xO=t=>(nt(t.ns)&&(t.ns=[t.ns]),nt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),nt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Vf=()=>{},Xie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Ec extends sh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xO(e),this.services={},this.logger=ha,this.modules={external:[]},Xie(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(nt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=OO();this.options={...i,...this.options,...xO(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ha.init(a(this.modules.logger),this.options):ha.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Kie);const f=new bO(this.options);this.store=new mO(this.options.resources,this.options);const d=this.services;d.logger=ha,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Wie(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Gie(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Qie(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),m=1;m<v;m++)h[m-1]=arguments[m];e.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Kd(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),m=1;m<v;m++)h[m-1]=arguments[m];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ju(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vf;const i=nt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=ju();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Vf),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&lj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=ju();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=nt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(v=>"".concat(l.keyPrefix).concat(d).concat(v)):p=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(o):o,i.t(p,l)};return nt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(r.precheck){const s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=ju();return this.options.ns?(nt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=ju();nt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new bO(OO());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Ec(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vf;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Ec(i);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new mO(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Kd(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xn=Ec.createInstance();xn.createInstance=Ec.createInstance;xn.createInstance;xn.dir;xn.init;xn.loadResources;xn.reloadResources;xn.use;xn.changeLanguage;xn.getFixedT;xn.t;xn.exists;xn.setDefaultNamespace;xn.hasLoadedNamespace;xn.loadNamespaces;xn.loadLanguages;var Ms,Zie=(Ms={},le(le(le(le(le(le(le(le(le(le(Ms,PA,"Empty group"),LA,"No conditions for group field {{field}}"),FA,"Empty query"),RA,"Empty case"),$A,"No config for field {{field}}"),Iie,"Fixed operator {{from}} to {{to}} for field {{field}}"),NA,"No config for operator {{operator}}"),DA,"No config for function {{funcKey}}"),MA,"Invalid value"),VA,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),le(le(le(le(le(le(le(le(le(le(Ms,BA,"Type of field {{field}} is not supported"),qA,"Operator {{operator}} is not supported for field {{field}}"),Cg,"Incomplete rule"),zA,"Incomplete LHS"),UA,"Incomplete RHS"),HA,"Invalid value src {{valueSrcs, list}}"),Tg+"_one","Value {{badValues, list}} is not in the list of allowed values"),Tg+"_other","Values {{badValues, list}} are not in the list of allowed values"),WA,"Value {{value}} is not in the list of allowed values"),GA,"Value should have type {{wType}}, but got value of type {{valueType}}"),le(le(le(le(le(le(le(le(le(le(Ms,YA,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),KA,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),kg,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),kg+"_"+Ag,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),Ig,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),Ig+"_"+Ag,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),JA,"No config for field {{field}}"),QA,"Can't compare field {{field}} with itself"),XA,"Can't compare field {{leftField}} with {{rightField}}"),ZA,"Field {{field}} is of type {{type}}, but expected {{expected}}"),le(le(le(le(le(le(le(le(le(le(Ms,ej,"Unsupported function {{funcKey}} for field {{field}}"),tj,"Value of arg {{argName}} for func {{funcName}} is required"),rj,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),nj,"Invalid range"),ij,"Root"),Ra+"__rule","Leaf #{{globalLeafNo}}"),Ra+"__group","Group #{{globalGroupNo}}"),Ra+"__rule_group","Rule-group #{{globalNoByType}}"),Ra+"__case_group","Case #{{globalNoByType}}"),Ra+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),le(le(le(le(le(Ms,Ra+"__group__deleted","Deleted group #{{globalGroupNo}}"),Ra+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),Ra+"__case_group__deleted","Deleted case #{{globalNoByType}}"),oj,"{{str}} in case #{{caseNo}}"),aj,"{{str}} (index path: {{indexPath, list}})")),uj="raqbvalidation",eae="".concat(uj,":"),lh=xn.createInstance();lh.init({fallbackLng:"en"});lh.addResources("en",uj,Zie);var Ni=function t(e,r){return e!=null&&e.str?e.str:e!=null&&e.key?t(e.key,e.args):r===null?e:lh.t(e.includes(":")?e:eae+e,r)};function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cj=function(e){return xt(e)==="object"&&e!==null&&Array.isArray(e)?"array":xt(e)},tae=function(e,r){return cj(e)===r||r==="number"&&!isNaN(e)},fj=function(e,r){return dj(e,r).length===0},dj=function(e,r){var n=r.settings.showErrorMessage,i=[];function a(o,s,l){var u,c,f=o.get("id"),d=o.get("children1"),p=o.getIn(["properties","valueError"]),v=o.getIn(["properties","fieldError"]),h=o.getIn(["properties","field"]),m=(u=h==null||(c=h.get)===null||c===void 0?void 0:c.call(h,"func"))!==null&&u!==void 0?u:h,y=(p==null?void 0:p.size)>0&&p.filter(function(_){return _!=null}).size>0,g=y||!!v;g&&n&&i.push(m),d&&d.map(function(_,b){_&&a(_,s.concat(f))})}return e&&a(e,[]),Array.from(new Set(i))},pj=function(e,r){var n=oi(r,void 0,!0),i={removeEmptyGroups:r.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:r.settings.removeIncompleteRulesOnLoad,removeEmptyRules:r.settings.removeEmptyRulesOnLoad,forceFix:!1},a=nf(e,null,n,n,i),o=a.fixedTree,s=a.allErrors,l=a.isSanitized;return l&&s.length&&console.warn("Tree check errors: ",s),o},hj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=oi(r,void 0,!0),a=hr(hr({},n),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1}),o=nf(e,null,i,i,a),s=o.allErrors;return s},vj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=oi(r,void 0,!0),a=hr({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},n),o=nf(e,null,i,i,a),s=o.fixedTree,l=o.fixedErrors,u=o.nonFixedErrors,c=o.allErrors;return{fixedTree:s,fixedErrors:l,nonFixedErrors:u,allErrors:c}},gj=function(e,r,n,i,a,o,s){a===void 0&&(a=n.settings.removeEmptyGroupsOnLoad),o===void 0&&(o=n.settings.removeEmptyRulesOnLoad),s===void 0&&(s=n.settings.removeIncompleteRulesOnLoad);var l={removeEmptyGroups:a,removeEmptyRules:o,removeIncompleteRules:s,forceFix:!1},u=nf(e,r,n,i,l),c=u.fixedTree;u.allErrors;var f=u.fixedErrors;u.nonFixedErrors;var d=u.isSanitized;return d&&f.length&&console.warn("Fixed tree errors: ",f),c=Hi(c),c},nf=function(e,r,n,i,a){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var o=a||{},s=o.removeEmptyGroups,l=o.removeEmptyRules,u=o.removeIncompleteRules,c=o.forceFix,f=o.translateErrors,d=f===void 0?!0:f,p=o.includeStringifiedItems,v=p===void 0?!0:p,h=o.stringifyFixedItems,m=h===void 0?!1:h,y=o.stringifyItemsUserFriendly,g=y===void 0?!0:y,_=o.includeItemsPositions,b=_===void 0?!0:_,S={config:n,oldConfig:i,removeEmptyGroups:s,removeEmptyRules:l,removeIncompleteRules:u,forceFix:c},O={errors:{}},x=yj(e,[],null,O,S),E=O.sanitized,k=[],w,I;b&&(w=bg(x).items);for(var C in O.errors){var A=O.errors[C],P=A.path,L=A.errors;d&&(L=L.map(function(Q){return hr(hr({},Q),{},{str:Ni(Q)})}));var V={path:P,errors:L};if(v){var R=pl(m?x:e,P),U=P.length===1;if(!U&&R.get("type")!=="group"){var M=!0,$=g,F=TA(R,n,$,M);V.itemStr=F}}if(b){var N=w[C],B=!N;if(B&&(I||(I=bg(e).items),N=I[C]),N){var z=hr(hr({},N.position),{},{index:N.index,type:N.type,isDeleted:B});V.itemPosition=z;var H=N.index?Ra+"__"+N.type+(B?"__deleted":""):ij,D=hr({},z);if(g){for(var G,q=0,Y=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];q<Y.length;q++){var K=Y[q];D[K]!=null&&(D[K]=D[K]+1)}D.indexPath=(G=z.indexPath)===null||G===void 0?void 0:G.map(function(Q){return Q+1})}V.itemPositionStr=Ni(H,D),N.index&&(N.caseId&&N.type!=="case_group"&&(V.itemPositionStr=Ni(oj,hr(hr({},D),{},{str:V.itemPositionStr}))),N.type!=="case_group"&&(V.itemPositionStr=Ni(aj,hr(hr({},D),{},{str:V.itemPositionStr}))))}}k.push(V)}for(var ie=[],te=[],oe=0,ue=k;oe<ue.length;oe++){var fe=ue[oe],pe=fe.errors.filter(function(Q){return!!Q.fixed}),Se=fe.errors.filter(function(Q){return!Q.fixed&&Q.key!=="EMPTY_QUERY"});pe.length&&ie.push(hr(hr({},fe),{},{errors:pe})),Se.length&&te.push(hr(hr({},fe),{},{errors:Se}))}return{fixedTree:x,allErrors:k,fixedErrors:ie,nonFixedErrors:te,isSanitized:E}};function ao(t,e,r,n){var i=e.get("id");t.errors[i]||(t.errors[i]={path:[].concat(Ce(r),[i]),errors:[]}),t.errors[i].errors.push(n)}function mj(t,e){var r=e.get("id");t.errors[r]&&t.errors[r].errors.map(function(n){n.fixed=!0})}function yj(t,e,r,n,i){var a=t==null?void 0:t.get("type");return a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group"?rae(t,e,r,n,i):a==="rule"?bj(t,e,r,n,i):t}function rae(t,e,r,n,i){var a,o,s,l,u,c,f=i.removeEmptyGroups,d=i.removeIncompleteRules;i.forceFix;var p=i.config;p.settings.showErrorMessage;var v=t.get("id"),h=t.get("children1"),m=!e.length,y=h,g=t.get("type"),_=t.get("properties"),b=_==null?void 0:_.get("field"),S=_==null?void 0:_.get("mode"),O=_==null||(a=_.get)===null||a===void 0?void 0:a.call(_,"operator"),x=g==="rule_group"&&S==="array",E=g==="case_group",k=E&&h==null,w=O?(o=(s=p.operators[O])===null||s===void 0?void 0:s.cardinality)!==null&&o!==void 0?o:1:void 0,I=E?!k:x?w==0:f,C=x||E;!v&&r&&(v=r,t=t.set("id",v),n.sanitized=!0),C&&(t=bj(t,e,r,n,i));var A={errors:{}};h=(l=h)===null||l===void 0?void 0:l.map(function(U,M){return yj(U,e.concat(v),M,A,i)});var P=(u=h)===null||u===void 0?void 0:u.filter(function(U){return U!=null});f&&(h=P);var L=A.sanitized||(y==null?void 0:y.size)!=((c=h)===null||c===void 0?void 0:c.size),V=!(P!=null&&P.size),R=f&&!m;return x&&b&&(R=d),V&&I&&(ao(n,t,e,{key:m?FA:E?RA:x?LA:PA,args:{field:b},fixed:R}),R&&(mj(n,t),t=void 0)),L&&(n.sanitized=!0),L&&t&&(t=t.set("children1",h)),n.errors=hr(hr({},n.errors),(A==null?void 0:A.errors)||{}),t}function bj(t,e,r,n,i){var a=i.removeIncompleteRules,o=i.removeEmptyRules,s=i.forceFix,l=i.config,u=i.oldConfig,c=l.settings.showErrorMessage,f=!c||s,d=t.get("id"),p=t.get("type"),v=p==="case_group",h=t.get("properties");if(!h)if(v)h=new Ue.Map;else{var m={key:Cg,args:{},fixed:a||o};ao(n,t,e,m);return}var y=h.get("field")||null;v&&(y="!case_value");var g=h.get("fieldSrc")||null,_=h.get("operator")||null,b=h.get("operatorOptions"),S=h.get("valueSrc"),O=h.get("value"),x=h.get("valueError"),E=h.get("fieldError"),k=function(){var oe,ue;return{field:((oe=y)===null||oe===void 0||(ue=oe.toJS)===null||ue===void 0?void 0:ue.call(oe))||y,fieldSrc:g,operator:_,operatorOptions:b?b.toJS():{},valueSrc:S?S.toJS():null,value:O?O.toJS():null,valueError:x?x.toJS():null,fieldError:E||null}},w=k();!d&&r&&(d=r,t=t.set("id",d),n.sanitized=!0);var I=y?Me(l,y):null;y&&!I&&(ao(n,t,e,{key:$A,args:{field:y},side:"lhs",fixed:a||o}),y=null),y==null&&!v&&(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce(function(te,oe){return te.delete(oe)},h),_=null),!g&&y&&!v&&(g=tP(y),h=h.set("fieldSrc",g)),(_==="range_between"||_==="range_not_between")&&(_=_==="range_between"?"between":"not_between",h=h.set("operator",_));var C=_?Pt(l,_,y):null;_&&!C&&(ao(n,t,e,{key:NA,args:{operator:_},side:"op",fixed:a||o}),_=null);var A=y?ch(l,y):[];y&&!v&&(A!=null&&A.length?_&&A.indexOf(_)==-1&&(_==="is_empty"||_==="is_not_empty"?(_=_==="is_empty"?"is_null":"is_not_null",h=h.set("operator",_)):(ao(n,t,e,{key:qA,args:{operator:_,field:y},side:"lhs",fixed:a||o}),_=null)):(ao(n,t,e,{key:BA,args:{field:y},side:"lhs",fixed:a||o}),_=null)),_==null&&!v&&(h=["operatorOptions","valueSrc","value","valueError"].reduce(function(te,oe){return te.delete(oe)},h)),b=h.get("operatorOptions"),!_||b&&!C.options?(b=null,h=h.delete("operatorOptions")):_&&!b&&C.options&&(b=rf(l,_,y),h=h.set("operatorOptions",b)),S=h.get("valueSrc"),O=h.get("value");var P=!0,L=ns(l,u,h,y,_,null,f,P),V=L.newValue,R=L.newValueSrc,U=L.newValueError,M=L.validationErrors,$=L.newFieldError,F=L.fixedField;O=V,S=R,x=U,E=$,y=F,h=h.set("field",y),h=h.set("value",O),h=h.set("valueSrc",S),c?h=h.set("valueError",x).set("fieldError",E):h=h.delete("valueError").delete("fieldError");var N=k(),B=!qd(w,N),z=k0(h.toObject(),l),H=v?z.parts.value:z.score>=3;if(B&&(n.sanitized=!0,t=t.set("properties",h)),M==null||M.map(function(te){return ao(n,t,e,te)}),!H&&!v){var D=z.score?a:o,G={key:Cg,args:{}};if(!z.parts.field)G.key=zA,G.side="lhs";else if(!z.parts.value){var q,Y,K,ie;G.key=UA,G.side="rhs",(q=N.valueSrc)!==null&&q!==void 0&&q[0]&&((Y=N.valueSrc)===null||Y===void 0?void 0:Y[0])!=((K=w.valueSrc)===null||K===void 0?void 0:K[0])&&((ie=N.value)===null||ie===void 0?void 0:ie[0])!=null&&(G.key=HA,G.args={valueSrcs:N.valueSrc})}G.fixed=D,ao(n,t,e,G),D&&(mj(n,t),t=void 0)}return t}var $l=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,d=[],p=a;if(a!=null){var v,h,m,y;if(s==="field"){var g=aae(r,n,a,s,o,l,e,i,u,c),_=ke(g,2);p=_[0],d=_[1]}else if(s==="func"){var b=oae(r,n,a,s,o,l,e,i,u,c,f),S=ke(b,2);p=S[0],d=S[1]}else if(s==="value"||!s){var O=iae(n,a,s,o,l,e,i,u,c),x=ke(O,2);p=x[0],d=x[1]}var E=!((v=d)!==null&&v!==void 0&&v.find(function(z){return!z.fixed})),k=!!n&&!["field","func"].includes(s)&&(!((h=d)!==null&&h!==void 0&&h.length)||E);if(k){var w=gr(e,n,i,s),I=i?Pt(e,i,n):null,C=On(e,n,i,w,s,{forExport:!0}),A=s==="field"?Me(e,a):null,P=C,L=C.validateValue;if(typeof L=="function"){var V=[p,P,i,I];s==="field"&&V.push(A);var R=L.call.apply(L,[e.ctx].concat(V));if(xt(R)==="object"&&R!==null&&!Array.isArray(R)){var U,M;(U=R.error)!==null&&U!==void 0&&U.key?M=hr({},R.error):M={key:R.error,args:null},R.fixedValue!==void 0&&u&&(M.fixed=!0,M.fixedFrom=p,M.fixedTo=R.fixedValue,p=R.fixedValue),d.push(M)}else typeof R=="boolean"?R==!1&&d.push({key:MA,args:{}}):typeof R=="string"&&d.push({key:R,args:null})}}if(E=!((m=d)!==null&&m!==void 0&&m.find(function(z){return!z.fixed})),(y=d)!==null&&y!==void 0&&y.length&&!E&&u){var $=Me(e,n),F=$==null?void 0:$.fieldSettings,N=F==null?void 0:F.defaultValue;if(N!==void 0){var B=d[d.length-1];B.fixed=!0,B.fixedFrom=p,B.fixedTo=N,p=N,d.map(function(z){z.fixed=!0})}}}return[p,d]},nae=function(e,r,n,i,a){var o=Ue.List.isList(e)?e.toJS():e instanceof Array?Ce(e):void 0,s=e,l=[];if(o){var u=o.reduce(function(m,y){var g=ke(m,2),_=g[0],b=g[1],S=_c(r,y);return S==null?[_,[].concat(Ce(b),[y])]:[[].concat(Ce(_),[S.value]),b]},[[],[]]),c=ke(u,2),f=c[0],d=c[1],p=d.length>0;if(n=n||a===!0,s=n&&p?f:e,d.length){var v=n&&p;l.push({key:Tg,args:{badValues:d,count:d.length},fixed:v,fixedFrom:v?o:void 0,fixedTo:v?s:void 0})}return[s,l]}else{var h=_c(r,e);return h==null?(s=n?null:e,l.push({key:WA,args:{value:e},fixed:n,fixedFrom:n?e:void 0,fixedTo:n?s:void 0})):s=h.value,[s,l]}},iae=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=[],f=r;if(e){var d=Me(o,e),p=gr(o,e,s,n),v=o.widgets[p],h=v==null?void 0:v.type,m=v==null?void 0:v.jsType,y=d==null?void 0:d.fieldSettings,g=(y==null?void 0:y.treeValues)||(y==null?void 0:y.listValues),_=!!(y!=null&&y.asyncFetch),b=g||_;if(i&&h&&i!=h)return c.push({key:GA,args:{wType:h,valueType:i}}),[r,c];if(m&&!tae(r,m)&&!b)return c.push({key:YA,args:{jsType:m,valueTypeof:cj(r)}}),[r,c];if(y){var S=a||g;if(S&&!y.allowCustomValues&&p!=="case_value"){var O=nae(r,S,l,u,o.settings.removeInvalidMultiSelectValuesOnLoad),x=ke(O,2);f=x[0],c=x[1]}y.maxLength>0&&r!=null&&String(r).length>y.maxLength&&(f=l?String(r).substring(0,y.maxLength):r,c.push({key:KA,args:{value:r,length:String(r).length,fieldSettings:y},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}));var E=y.min!=null&&y.max!=null?Ag:void 0;y.min!=null&&r<y.min&&(f=l?y.min:r,c.push({key:kg,args:{value:r,fieldSettings:y,context:E},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0})),y.max!=null&&r>y.max&&(f=l?y.max:r,c.push({key:Ig,args:{value:r,fieldSettings:y,context:E},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}))}}return[f,c]},aae=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=[],c=s.settings,f=c.fieldSeparator,d=c.canCompareFieldWithField,p=xt(r)=="object"&&(r==null?void 0:r._isFuncArg),v=Array.isArray(e)?e.join(f):e,h=Me(s,e),m=Array.isArray(n)?n.join(f):n,y=Me(s,n);if(!y)return u.push({key:JA,args:{field:m}}),[n,u];if(e&&m===v&&!p)return u.push({key:QA,args:{field:v}}),[n,u];if(a&&a!=y.type)return u.push({key:ZA,args:{field:m,type:y.type,expected:a}}),[n,u];if(e&&!p&&d){var g=d(v,h,m,y,l);if(!g)return u.push({key:XA,args:{leftField:v,rightField:m}}),[n,u]}return[n]},oae=function(e,r,n,i,a,o,s){var l,u,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,v=n,h=[];if(!n)return[n];var m=(l=n.get)===null||l===void 0?void 0:l.call(n,"func");if(!m)return[n];var y=Me(s,r);if(y!=null&&y.funcs&&!y.funcs.includes(m))return h.push({key:ej,args:{funcKey:m,field:r}}),[n,h];var g=Gr(s,m);if(!g)return h.push({key:DA,args:{funcKey:m}}),[n,h];var _=(u=g.label)!==null&&u!==void 0?u:m;if(a&&g.returnType!=a)return h.push({key:rj,args:{funcKey:m,funcName:_,returnType:g.returnType,valueType:a}}),[n,h];f=f||p;for(var b in g.args){var S,O=g.args[b],x=v.get("args"),E=x?x.get(b):void 0,k=Me(s,O),w=(S=k==null?void 0:k.label)!==null&&S!==void 0?S:b,I=E?E.get("value"):void 0,C=E?E.get("valueSrc"):void 0;if(I!==void 0){var A=$l(s,e,k,c,I,O.type,C,o,f,d,p),P=ke(A,2),L=P[0],V=P[1],R=!(V!=null&&V.length),U=f&&L!==I,M=f&&!R&&!U&&(d||p);if(U&&(v=v.setIn(["args",b,"value"],L)),M&&(v=v.deleteIn(["args",b]),v=Jd(s,v,g,b)),!R){var $,F,N=($=(F=V.find(function(q){return!q.fixed&&!q.ignore}))!==null&&F!==void 0?F:V.find(function(q){return!q.fixed}))!==null&&$!==void 0?$:V[0],B=U||M,z=V.filter(function(q){return!q.ignore}).length===0;if(N){var H=Ni(N);h.push({key:VA,args:{funcKey:m,funcName:_,argKey:b,argName:w,argValidationError:H,argErrors:V},ignore:z,fixed:B,fixedFrom:B?I:void 0,fixedTo:B?U?L:O.defaultValue:void 0})}}}else if(!O.isOptional&&(d||p)){var D=f&&O.defaultValue!==void 0&&(d||p),G=d;G&&h.push({key:tj,args:{funcKey:m,funcName:_,argKey:b,argName:w},fixed:D,fixedTo:D?O.defaultValue:void 0,ignore:!D}),D&&(v=v.deleteIn(["args",b]),v=Jd(s,v,g,b))}}return[v,h]},S0=function(e,r,n,i,a){var o=Pt(e,n,r),s=n?Ur(o):null,l=a.toJS?a.toJS():a,u=i.toJS?i.toJS():i,c=l.filter(function(y){return y=="value"||y==null}).length==s,f;if(o!=null&&o.validateValues&&c){var d=l[0],p=gr(e,r,n,d),v=On(e,r,n,p,d),h=v!=null&&v.toJS?u.map(function(y){var g=v.toJS.call(e.ctx,y,v);return g instanceof Date&&(g=g.getTime()),g}):u,m=o.validateValues(h);typeof m=="boolean"&&m==!1&&(f={key:nj,args:{jsValues:h,values:u}})}return f},ns=function(e){var r,n,i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;o||(o=e);var v=e.settings,h=v.keepInputOnChangeFieldSrc,m=v.convertableWidgets,y=v.clearValueOnChangeField,g=v.clearValueOnChangeOp,_=l=="!case_value",b=s.get("field");!b&&_&&(b=l);var S=s.get("fieldType"),O=s.get("fieldSrc"),x=s.get("operator"),E=s.get("value"),k=s.get("valueSrc",new Ue.List),w=s.get("valueType",new Ue.List),I=s.get("valueError",new Ue.List),C=s.get("asyncListValues"),A=_,P=Pt(o,x),L=Pt(e,u,l),V=_?1:x?Ur(P):null,R=_?1:u?Ur(L):null,U=Me(o,b),M=Me(e,l),$=!b&&S&&h,F=(U==null?void 0:U.type)||S,N=(M==null?void 0:M.type)||!l&&$&&F,B=U==null?void 0:U.listValuesType,z=M==null?void 0:M.listValuesType,H=((r=b)===null||r===void 0||(n=r.get)===null||n===void 0?void 0:n.call(r,"func"))||b,D=((i=l)===null||i===void 0||(a=i.get)===null||a===void 0?void 0:a.call(i,"func"))||l,G=D!=H,q=[],Y=(b||$)&&(x&&u||A)&&E!=null;(!(F&&N&&F==N)||c==="field"&&G&&y||c==="operator"&&g)&&(Y=!1),G&&uh.includes(N)&&(z&&z===B||(Y=!1)),!A&&(!(E!=null&&E.size)&&R||E!=null&&E.size&&!R)&&(Y=!1);var K;if(O==="func"&&l){var ie=$l(e,null,null,u,l,N,O,C,f,d,p),te=ke(ie,2),oe=te[0],ue=te[1],fe=!(ue!=null&&ue.length),pe=oe!==l,Se=!fe&&pe&&!ue.find(function(rr){return!rr.fixed}),Q=f&&!fe&&!Se&&!!c&&l!==b,re=!1;if(re?l=null:Q?l=b:pe&&(l=oe),!fe){var de=!fe&&!Se&&!re&&!Q,ve=ue.find(function(rr){return!rr.fixed&&!rr.ignore});de&&ve&&(K=Ni(ve)),ue.map(function(rr){return q.push(hr(hr({side:"lhs"},rr),{},{fixed:rr.fixed||Q||re}))})}}for(var ee=0;ee<R;ee++){var me=k.get(ee)||null,Oe=gr(o,b,x,me),we=gr(e,l,u,me),Je=me==="value"?Oe:gr(o,b,x,"value"),at=me==="value"?we:gr(e,l,u,"value"),ce=at==Je||(m[Je]||[]).includes(at)||!Je&&$;ce||(Y=!1)}x!=u&&[x,u].includes("proximity")&&(Y=!1);var ge=k.first(),he=On(e,l,u,null,ge),Pe=kj(e,l,u,null);!l&&$&&(Pe=Object.keys(e.settings.valueSourcesInfo));var Be=Pe[0],Ne;R===1&&he&&he.type!==void 0?Ne=he.type:R===1&&M&&M.type!==void 0&&(Ne=M.type==="!group"?"number":M.type);var ot=Y&&c==="operator"&&V===1&&R===2,st=[],Ke=[],Bt=[],Pr=Array.from({length:R},function(){return null});if(Y)for(var vt=function(ne){var Z=E.get(ne),be=w.get(ne)||null,_e=k.get(ne)||null;ot&&ne===1&&(Z=st[0]!==void 0?st[0]:E.get(0),st[ne]=Z,be=w.get(0)||null,_e=k.get(0)||null);var ze=_e?Pe.find(function(si){return si==_e})!==void 0:!0,_t=$l(e,l,l,u,Z,be,_e,C,f,d,p),qt=ke(_t,2),Jr=qt[0],Re=qt[1],nn=!(Re!=null&&Re.length),X=Jr!==Z,se=!nn&&X&&!(Re!=null&&Re.find(function(si){return!si.fixed})),Te=!(Re!=null&&Re.find(function(si){return!si.fixed&&!si.ignore})),Ze=!ze||f&&!nn&&!se&&(!Te||G);nn||Re==null||Re.map(function(si){return q.push(hr(hr({side:"rhs",delta:ne},si),{},{fixed:si.fixed||Ze}))}),Ze&&(st[ne]=null,ne===0&&delete st[1]);var wn=!nn&&!X,un=Re==null?void 0:Re.find(function(si){return!si.fixed&&!si.ignore});wn&&un&&(Pr[ne]=Ni(un)),X&&(st[ne]=Jr),ot&&ne===0&&!nn&&!X&&(ot=!1),ot&&ne===0&&["func","field"].includes(_e)&&(ot=!1)},Fe=0;Fe<R;Fe++)vt(Fe);if(!Y){for(var De=0;De<R;De++)if(R===1){var Ge,Qe=vI([M==null?void 0:M.defaultValue,M==null||(Ge=M.fieldSettings)===null||Ge===void 0?void 0:Ge.defaultValue,he==null?void 0:he.defaultValue]);st[De]=Qe,Qe!=null&&Qe.func&&(Ke[De]="func")}}for(var ft=0;ft<R;ft++){var Et=Y&&k.get(ft)||null,At=Y&&w.get(ft)||null;if(Y&&ot&&ft===1){var Sr,Rt;Et=(Sr=Ke[ft])!==null&&Sr!==void 0?Sr:k.get(0),At=(Rt=Bt[ft])!==null&&Rt!==void 0?Rt:w.get(0),Ke[ft]=Et,Bt[ft]=At}var Mr=Pe.includes(Et);Mr||(Ke[ft]=Be),At||(Bt[ft]=Ne)}var qe=E;(st.length>0||!Y)&&(qe=new Ue.List(Array.from({length:R},function(rr,ne){return st[ne]!==void 0?st[ne]:Y?E.get(ne):void 0})));var lt=k;(Ke.length>0||!Y)&&(lt=new Ue.List(Array.from({length:R},function(rr,ne){var Z;return(Z=Ke[ne])!==null&&Z!==void 0?Z:Y&&k.get(ne)||null})));var cr=w;(Bt.length>0||!Y)&&(cr=new Ue.List(Array.from({length:R},function(rr,ne){var Z;return(Z=Bt[ne])!==null&&Z!==void 0?Z:Y&&w.get(ne)||null})));var Yr=S0(e,l,u,qe,lt);if(Yr){var Kr=Ni(Yr),mt=f&&R>=2,dt=qe;mt&&(st[1]=qe.get(0),qe=qe.set(1,st[1]),Pr[1]=Pr[0]);var fr=!mt;fr&&Pr.push(Kr),q.push(hr(hr({side:"rhs",delta:-1},Yr),{},{fixed:mt,fixedFrom:mt?[dt.get(0),dt.get(1)]:void 0,fixedTo:mt?[qe.get(0),qe.get(1)]:void 0}))}var $t=I,Lr=(I==null?void 0:I.size)!==Pr.length||Pr.filter(function(rr,ne){return rr!=I.get(ne)}).length>0;return Lr&&($t=new Ue.List(Pr)),{canReuseValue:Y,newValue:qe,newValueSrc:lt,newValueType:cr,operatorCardinality:R,fixedField:l,newValueError:$t,newFieldError:K,validationErrors:q}};const sae=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:nf,checkTree:pj,getNewValueForFieldOp:ns,getTreeBadFields:dj,isValidTree:fj,sanitizeTree:vj,translateValidation:Ni,validateAndFixTree:gj,validateRange:S0,validateTree:hj,validateValue:$l},Symbol.toStringTag,{value:"Module"}));var O0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},_j=function(e,r){if(e){var n=e.get("func"),i=n&&Gr(r,n);if(i){var a=e,o=!1;for(var s in i.args){var l=i.args[s],u=l.valueSources,c=l.isOptional,f=l.defaultValue,d=is(r,u,l),p=a.get("args"),v=d.length==1?d[0]:void 0,h=p?p.get(s):void 0,m=h?h.get("value"):void 0,y=(h?h.get("valueSrc"):void 0)||v;if(m!==void 0){var g=ws(m,y,r);if(g===void 0||(g!==m&&(a=a.setIn(["args",s,"value"],g)),o))return}else if(f!==void 0&&!O0(f))a=a.setIn(["args",s,"value"],Oj(l)),a=a.setIn(["args",s,"valueSrc"],"value");else if(c)o=!0;else return}return a}}},Sj=function(e,r,n,i){var a=n.settings.fieldSeparator;e=e||new Ue.Map,Array.isArray(r)&&(r=r.join(a));var o=e.get("func"),s=e.get("args");e=e.set("func",r);var l=r&&Gr(n,r),u=r&&Lg(n,r),c=o&&Lg(n,o),f=wj(c,u,s,n,i);if(f.length){var d=Object.keys(u.args),p=d.filter(function(v){return!f.includes(v)});e=p.reduce(function(v,h){return v.deleteIn(["args",h])},e)}else e=e.set("args",new Ue.Map);return e=lae(n,e,l),e},lae=function(e,r,n){if(n)for(var i in n.args)r=Jd(e,r,n,i);return r},Jd=function(e,r,n,i){var a=n.args[i],o=a.valueSources,s=a.defaultValue,l=is(e,o,a),u=l.length?l[0]:void 0,c=s?O0(s)&&s.func?"func":"value":void 0,f=c||u,d=r.getIn(["args",i]);return d||(s!==void 0&&(r=r.setIn(["args",i,"value"],Oj(a))),f&&(r=r.setIn(["args",i,"valueSrc"],f))),r},Oj=function(e){var r=e.defaultValue;return O0(r)&&!Ue.Map.isMap(r)&&r.func?Ue.fromJS(r,function(n,i){return Ue.Iterable.isIndexed(i)?i.toList():i.toOrderedMap()}):r},Pg=function(e,r,n,i,a){if(e&&e.get("func")){e=e.setIn(["args",r,"value"],n);var o=e.getIn(["args",r,"valueSrc"]),s=i.valueSources,l=is(a,s,i),u=l.length==1?l[0]:void 0;!u&&l.includes("value")&&(u="value"),!o&&u&&(e=e.setIn(["args",r,"valueSrc"],u))}return e},xj=function(e,r,n,i,a){return e&&e.get("func")&&(e=e.setIn(["args",r],new Ue.Map({valueSrc:n}))),e},wj=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if((e==null?void 0:e.returnType)!=(r==null?void 0:r.returnType))return[];var o=Object.keys(r.args),s=o.filter(function(l,u){var c=r.args[l],f=e.args[l];if(Object.keys(e.args).indexOf(l),!f&&(c.defaultValue!==void 0||c.isOptional))return!0;if((f==null?void 0:f.type)!=c.type||uh.includes(c.type)&&(!f.listValuesType||f.listValuesType!==c.listValuesType))return!1;if(n){var d,p=n.get(l),v=p==null?void 0:p.get("value"),h=p==null?void 0:p.get("valueSrc");if(h&&c.valueSources&&!c.valueSources.includes(h))return!1;var m=null,y=null,g=c,_=null,b=!0,S=$l(i,m,g,y,v,g.type,h,_,a,b),O=ke(S,2);O[0];var x=O[1];if(x!=null&&(d=x.filter(function(E){return!E.fixed}))!==null&&d!==void 0&&d.length)return!1}return!0});return s};const uae=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:_j,getCompatibleArgsOnFuncChange:wj,setArgValue:Pg,setArgValueSrc:xj,setFunc:Sj,setFuncDefaultArg:Jd},Symbol.toStringTag,{value:"Module"}));var uh=["select","multiselect","treeselect","treemultiselect"],Ej=function(e,r){var n;return((n=e.types[r])===null||n===void 0?void 0:n.operators)||null},ch=function(e,r){var n=Me(e,r),i=n?n.operators:[];return i},x0=function(e,r){var n,i=ch(e,r);return(n=i==null?void 0:i[0])!==null&&n!==void 0?n:null},Cj=function(e,r,n){var i=null;if(e){if(r==="field"){var a=Me(n,e);a&&(i=a.type)}else if(r==="func"){var o=e.get("func");if(o){var s=Gr(n,o);s&&(i=s.returnType||s.type)}}}return i},cae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return af(e,r,n,"funcs","subfields")},af=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!e)return null;var o=r.settings.fieldSeparator,s=Rr(e,r),l=Rr(n,r),u=s.slice(l.length).map(function(c,f,d){return d.slice(0,f+1)}).map(function(c){return[].concat(Ce(l),Ce(c)).join(o)}).map(function(c){var f=zi(r,c,i,a);return f&&f.label||ih(c.split(o))}).filter(function(c){return c!=null});return u},Tj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;var i=n&&zi(r,n)||null,a=r.settings.fieldSeparator,o=Rr(e,r),s=eP(e,n,r),l=s?Rr(n,r):[];return o.slice(l.length).map(function(u,c,f){return f.slice(0,c+1)}).map(function(u){return{part:[].concat(Ce(l),Ce(u)).join(a),key:u[u.length-1]}}).map(function(u){var c=u.part,f=u.key,d=zi(r,c);return{key:f,cnf:d}}).map(function(u,c,f){var d=u.key,p=u.cnf,v=c>0?f[c-1].cnf:i;return[d,p,v]})},fae=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=On(e,r,n,null,a)||{},l=Pt(e,n,r)||{},u=o?1:l.cardinality,c=null;if(u>1){var f=s.valueLabels||l.valueLabels;f&&(c=f[i]),c&&xt(c)!=="object"&&(c={label:c,placeholder:c}),c||(c={label:e.settings.valueLabel+" "+(i+1),placeholder:e.settings.valuePlaceholder+" "+(i+1)})}else{var d=s.valueLabel,p=s.valuePlaceholder;c={label:d||e.settings.valueLabel,placeholder:p||e.settings.valuePlaceholder}}return c};function w0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=[],a=[];if(!e)return{widgets:i,valueSrcs:a};var o=fh(e),s=o?"".concat(o,"__").concat(r,"__").concat(n):null,l=dh(t,"_getWidgetsAndSrcsForFieldOp",s);if(l)return l;var u=xt(e)==="object"&&(!!e.func&&!!e.arg||e._isFuncArg),c=Me(t,e),f=r?t.operators[r]:null;if(c!=null&&c.widgets){var d=function(){var y=c.widgets[p];if(!t.widgets[p])return 1;var g=t.widgets[p].valueSrc||"value",_=!0;if(p==="field"&&(_=_&&is(t,["field"],c).length>0),p==="func"&&(_=_&&is(t,["func"],c).length>0),n==="value"&&!y.operators&&!u&&e!=="!case_value"&&(_=!1),y.operators&&r&&(_=_&&y.operators.indexOf(r)!=-1),n&&n!=g&&n!=="const"&&(_=!1),f&&f.cardinality==0&&g!=="value"&&(_=!1),_){var b,S;i.push(p);var O=((b=c.valueSources)===null||b===void 0?void 0:b.indexOf(g))!=-1;(f==null||(S=f.valueSources)===null||S===void 0?void 0:S.indexOf(g))==-1&&(O=!1),O&&!a.find(function(x){return x==g})&&a.push(g)}};for(var p in c.widgets)d()}var v=function(y){var g=0;return c.preferWidgets?c.preferWidgets.includes(y)&&(g+=10-c.preferWidgets.indexOf(y)):y==c.mainWidget&&(g+=100),y==="field"&&(g-=1),y==="func"&&(g-=2),g};i.sort(function(m,y){return v(y)-v(m)});var h={widgets:i,valueSrcs:a};return ph(t,"_getWidgetsAndSrcsForFieldOp",s,h),h}var dae=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,i),o=a.widgets;return o},is=function(e,r,n){var i;if(!n)return r;var a=(i=n.type)!==null&&i!==void 0?i:n.returnType;return a==="!group"&&(a="number"),r||(r=Object.keys(e.settings.valueSourcesInfo)),r.filter(function(o){var s=!0;if(o==="field"&&e.__fieldsCntByType){var l=n._isFuncArg?0:1;s=s&&e.__fieldsCntByType[a]>l}return o==="func"&&(n.funcs&&(s=s&&n.funcs.length>0),e.__funcsCntByType&&(s=s&&e.__funcsCntByType[a]>0)),s})},kj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,null),o=a.valueSrcs,s=is(e,o,i);return s},gr=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,i),o=a.widgets,s=null;return o.length&&(s=o[0]),s},Xa=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(e){var o=Me(r,e)||{},s=r.settings.fieldSeparator,l=Rr(e,r),u=Array.isArray(e)?e.join(s):e;if(a!=null&&a.useTableName&&o.tableName){var c=Ce(l);c[0]=o.tableName,u=c.join(s)}if(o.fieldName&&(u=o.fieldName),i){Me(r,i);var f=i;u.indexOf(f+s)==0?u=u.slice((f+s).length):o.fieldName||n.errors.push("Can't cut group ".concat(f," from field ").concat(u))}return u}},E0=function(e,r){var n=e.get("type"),i=e.getIn(["properties","mode"]);return n=="rule_group"&&i=="array"?pae(e,r):n=="group"||n=="rule_group"?hae(e,r):vae(e,r)},pae=function(e,r){var n=e.get("children1"),i=e.get("properties");return Ij(i.toObject(),n,r)},Ij=function(e,r,n){var i,a,o=e.operator,s=(i=(a=n.operators[o])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1,l=s==0,u={group:!T0(e,n),children:!C0(r,n)},c=u.group&&(l?u.children:!0);return!c},hae=function(e,r){var n=e.get("children1");return C0(n,r)},C0=function(e,r){var n=(e==null?void 0:e.size)>0&&e.filter(function(i){return!E0(i,r)}).size>0;return!n},vae=function(e,r){var n=e.get("properties");return T0((n==null?void 0:n.toObject())||{},r)},T0=function(e,r){var n=!0,i=3,a=k0(e,r,n),o=a.score>=i;return!o},k0=function(e,r){var n,i,a,o=e.field,s=e.fieldSrc;e.fieldType;var l=e.operator,u=e.value,c=e.valueSrc;e.valueType;var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=(n=(i=r.operators[l])===null||i===void 0?void 0:i.cardinality)!==null&&n!==void 0?n:1,p=c!=null&&c.get?c.toJS():c,v={parts:{},score:0};if(v.parts.field=f?o!=null:Bf(o,s,r),v.parts.operator=!!l,v.parts.value=(u==null||(a=u.filter(function(m,y){return Bf(m,p==null?void 0:p[y],r,f)}))===null||a===void 0?void 0:a.size)>=(f?Math.min(d,1):d),v.score=Object.keys(v.parts).filter(function(m){return!!v.parts[m]}).length,f&&v.score<3){var h=!0;!v.parts.value&&s==="func"&&Bf(o,s,r,!1,h)&&v.score++,v.parts.field||u==null||u.map(function(m,y){(p==null?void 0:p[y])==="func"&&Bf(m,p==null?void 0:p[y],r,!1,h)&&v.score++})}return v},Bf=function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(!i&&r=="func"&&e){var o,s=(o=e.get)===null||o===void 0?void 0:o.call(e,"func"),l=Gr(n,s);if(l){var u=e.get("args");for(var c in l.args){var f=l.args[c],d=u?u.get(c):void 0,p=d?d.get("value"):void 0,v=d?d.get("valueSrc"):void 0;if(p==null&&(f==null?void 0:f.defaultValue)===void 0&&!(f!=null&&f.isOptional)||p!=null&&!t(p,v,n,a?i:!0))return!1}return!0}}return e!=null},ws=function(e,r,n){return r=="func"?_j(e,n):e},I0=function t(e){var r=e.get("children1");if((r==null?void 0:r.size)==1){var n=r.first(),i=n.get("type");return i==="group"?t(n):n}return null};const gae=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:Cj,completeValue:ws,filterValueSourcesForField:is,formatFieldName:Xa,getFieldPartsConfigs:Tj,getFieldPathLabels:af,getFirstOperator:x0,getFuncPathLabels:cae,getOneChildOrDescendant:I0,getOperatorsForField:ch,getOperatorsForType:Ej,getValueLabel:fae,getValueSourcesForFieldOp:kj,getWidgetForFieldOp:gr,getWidgetsForFieldOp:dae,isEmptyGroupChildren:C0,isEmptyItem:E0,isEmptyRuleGroupExtPropertiesAndChildren:Ij,isEmptyRuleProperties:T0,selectTypes:uh,whatRulePropertiesAreCompleted:k0},Symbol.toStringTag,{value:"Module"}));var mae=rh,yae=Ic;function bae(t,e,r){(r!==void 0&&!yae(t[e],r)||r===void 0&&!(e in t))&&mae(t,e,r)}var Aj=bae;function _ae(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var Sae=_ae,Oae=Sae,xae=Oae(),jj=xae,wae=Wl,Eae=Oa;function Cae(t){return Eae(t)&&wae(t)}var Tae=Cae;function kae(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Pj=kae,Iae=fu,Aae=ef;function jae(t){return Iae(t,Aae(t))}var Pae=jae,EO=Aj,Lae=AI,Fae=LI,Rae=jI,$ae=FI,CO=yp,TO=ni,Nae=Tae,Dae=bp,Mae=fm,Vae=Ei,Bae=c0,qae=bm,kO=Pj,Hae=Pae;function zae(t,e,r,n,i,a,o){var s=kO(t,r),l=kO(e,r),u=o.get(l);if(u){EO(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=TO(l),p=!d&&Dae(l),v=!d&&!p&&qae(l);c=l,d||p||v?TO(s)?c=s:Nae(s)?c=Rae(s):p?(f=!1,c=Lae(l,!0)):v?(f=!1,c=Fae(l,!0)):c=[]:Bae(l)||CO(l)?(c=s,CO(s)?c=Hae(s):(!Vae(s)||Mae(s))&&(c=$ae(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),EO(t,r,c)}var Uae=zae,Wae=mp,Gae=Aj,Yae=jj,Kae=Uae,Jae=Ei,Qae=ef,Xae=Pj;function Lj(t,e,r,n,i){t!==e&&Yae(e,function(a,o){if(i||(i=new Wae),Jae(a))Kae(t,e,o,r,Lj,n,i);else{var s=n?n(Xae(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Gae(t,o,s)}},Qae)}var Fj=Lj,Zae=nh,eoe=CI,toe=TI;function roe(t,e){return toe(eoe(t,e,Zae),t+"")}var noe=roe,ioe=Ic,aoe=Wl,ooe=_p,soe=Ei;function loe(t,e,r){if(!soe(r))return!1;var n=typeof e;return(n=="number"?aoe(r)&&ooe(e,r.length):n=="string"&&e in r)?ioe(r[e],t):!1}var Rj=loe,uoe=noe,coe=Rj;function foe(t){return uoe(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&coe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var $j=foe,doe=Fj,poe=$j,hoe=poe(function(t,e,r){doe(t,e,r)}),voe=hoe;const goe=tn(voe);var Nj={exports:{}};(function(t){var e=function(){function r(d,p){return p!=null&&d instanceof p}var n;try{n=Map}catch(d){n=function(){}}var i;try{i=Set}catch(d){i=function(){}}var a;try{a=Promise}catch(d){a=function(){}}function o(d,p,v,h,m){typeof p=="object"&&(v=p.depth,h=p.prototype,m=p.includeNonEnumerable,p=p.circular);var y=[],g=[],_=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof v>"u"&&(v=1/0);function b(S,O){if(S===null)return null;if(O===0)return S;var x,E;if(typeof S!="object")return S;if(r(S,n))x=new n;else if(r(S,i))x=new i;else if(r(S,a))x=new a(function(R,U){S.then(function(M){R(b(M,O-1))},function(M){U(b(M,O-1))})});else if(o.__isArray(S))x=[];else if(o.__isRegExp(S))x=new RegExp(S.source,f(S)),S.lastIndex&&(x.lastIndex=S.lastIndex);else if(o.__isDate(S))x=new Date(S.getTime());else{if(_&&Buffer.isBuffer(S))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(S.length):x=new Buffer(S.length),S.copy(x),x;r(S,Error)?x=Object.create(S):typeof h>"u"?(E=Object.getPrototypeOf(S),x=Object.create(E)):(x=Object.create(h),E=h)}if(p){var k=y.indexOf(S);if(k!=-1)return g[k];y.push(S),g.push(x)}r(S,n)&&S.forEach(function(R,U){var M=b(U,O-1),$=b(R,O-1);x.set(M,$)}),r(S,i)&&S.forEach(function(R){var U=b(R,O-1);x.add(U)});for(var w in S){var I;E&&(I=Object.getOwnPropertyDescriptor(E,w)),!(I&&I.set==null)&&(x[w]=b(S[w],O-1))}if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(S),w=0;w<C.length;w++){var A=C[w],P=Object.getOwnPropertyDescriptor(S,A);P&&!P.enumerable&&!m||(x[A]=b(S[A],O-1),P.enumerable||Object.defineProperty(x,A,{enumerable:!1}))}if(m)for(var L=Object.getOwnPropertyNames(S),w=0;w<L.length;w++){var V=L[w],P=Object.getOwnPropertyDescriptor(S,V);P&&P.enumerable||(x[V]=b(S[V],O-1),Object.defineProperty(x,V,{enumerable:!1}))}return x}return b(d,v)}o.clonePrototype=function(p){if(p===null)return null;var v=function(){};return v.prototype=p,new v};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=u;function c(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=c;function f(d){var p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),p}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)})(Nj);var moe=Nj.exports;const fi=tn(moe);var Dj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(An,function(){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});function r(a){for(var o=[],s=0,l=a.length;s<l;s++)o.indexOf(a[s])===-1&&o.push(a[s]);return o}var n={},i={"==":function(a,o){return a==o},"===":function(a,o){return a===o},"!=":function(a,o){return a!=o},"!==":function(a,o){return a!==o},">":function(a,o){return a>o},">=":function(a,o){return a>=o},"<":function(a,o,s){return s===void 0?a<o:a<o&&o<s},"<=":function(a,o,s){return s===void 0?a<=o:a<=o&&o<=s},"!!":function(a){return n.truthy(a)},"!":function(a){return!n.truthy(a)},"%":function(a,o){return a%o},log:function(a){return console.log(a),a},in:function(a,o){return!o||typeof o.indexOf>"u"?!1:o.indexOf(a)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(a,o,s){if(s<0){var l=String(a).substr(o);return l.substr(0,l.length+s)}return String(a).substr(o,s)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)+parseFloat(o,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)*parseFloat(o,10)})},"-":function(a,o){return o===void 0?-a:a-o},"/":function(a,o){return a/o},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,o){return a.concat(o)},[])},var:function(a,o){var s=o===void 0?null:o,l=this;if(typeof a>"u"||a===""||a===null)return l;for(var u=String(a).split("."),c=0;c<u.length;c++)if(l==null||(l=l[u[c]],l===void 0))return s;return l},missing:function(){for(var a=[],o=Array.isArray(arguments[0])?arguments[0]:arguments,s=0;s<o.length;s++){var l=o[s],u=n.apply({var:l},this);(u===null||u==="")&&a.push(l)}return a},missing_some:function(a,o){var s=n.apply({missing:o},this);return o.length-s.length>=a?[]:s}};return n.is_logic=function(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&Object.keys(a).length===1},n.truthy=function(a){return Array.isArray(a)&&a.length===0?!1:!!a},n.get_operator=function(a){return Object.keys(a)[0]},n.get_values=function(a){return a[n.get_operator(a)]},n.apply=function(a,o){if(Array.isArray(a))return a.map(function(m){return n.apply(m,o)});if(!n.is_logic(a))return a;var s=n.get_operator(a),l=a[s],u,c,f,d,p;if(Array.isArray(l)||(l=[l]),s==="if"||s=="?:"){for(u=0;u<l.length-1;u+=2)if(n.truthy(n.apply(l[u],o)))return n.apply(l[u+1],o);return l.length===u+1?n.apply(l[u],o):null}else if(s==="and"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),!n.truthy(c))return c;return c}else if(s==="or"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),n.truthy(c))return c;return c}else{if(s==="filter")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.filter(function(m){return n.truthy(n.apply(f,m))}):[];if(s==="map")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.map(function(m){return n.apply(f,m)}):[];if(s==="reduce")return d=n.apply(l[0],o),f=l[1],p=typeof l[2]<"u"?n.apply(l[2],o):null,Array.isArray(d)?d.reduce(function(m,y){return n.apply(f,{current:y,accumulator:m})},p):p;if(s==="all"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(!n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="none"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!0;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="some"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!0;return!1}}if(l=l.map(function(m){return n.apply(m,o)}),i.hasOwnProperty(s)&&typeof i[s]=="function")return i[s].apply(o,l);if(s.indexOf(".")>0){var v=String(s).split("."),h=i;for(u=0;u<v.length;u++){if(!h.hasOwnProperty(v[u]))throw new Error("Unrecognized operation "+s+" (failed at "+v.slice(0,u+1).join(".")+")");h=h[v[u]]}return h.apply(o,l)}throw new Error("Unrecognized operation "+s)},n.uses_data=function(a){var o=[];if(n.is_logic(a)){var s=n.get_operator(a),l=a[s];Array.isArray(l)||(l=[l]),s==="var"?o.push(l[0]):l.forEach(function(u){o.push.apply(o,n.uses_data(u))})}return r(o)},n.add_operation=function(a,o){i[a]=o},n.rm_operation=function(a){delete i[a]},n.rule_like=function(a,o){if(o===a||o==="@")return!0;if(o==="number")return typeof a=="number";if(o==="string")return typeof a=="string";if(o==="array")return Array.isArray(a)&&!n.is_logic(a);if(n.is_logic(o)){if(n.is_logic(a)){var s=n.get_operator(o),l=n.get_operator(a);if(s==="@"||s===l)return n.rule_like(n.get_values(a,!1),n.get_values(o,!1))}return!1}if(Array.isArray(o))if(Array.isArray(a)){if(o.length!==a.length)return!1;for(var u=0;u<o.length;u+=1)if(!n.rule_like(a[u],o[u]))return!1;return!0}else return!1;return!1},n})})(Dj);var yoe=Dj.exports;const A0=tn(yoe);function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function boe(t,e){return A0.apply(t,e)}function _oe(t,e){return A0.add_operation(t,e)}var jO={CALL:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e.call.apply(e,[r].concat(i))},JSX:function(e,r){return{type:e,props:r}},mergeObjects:function(e,r){return AO(AO({},e),r)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(e==null?void 0:e.length)||0},regexTest:function(e,r,n){return(e==null?void 0:e.match(new RegExp(r,n)))!=null},now:function(){return new Date},date_add:function(e,r,n){return je(e).add(r,n).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function Soe(){for(var t in jO)_oe(t,jO[t])}function Ooe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xoe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function xoe(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}Soe();function Mj(t,e,r){var n;try{n=A0.apply(t,e)}catch(i){throw i.message="".concat(r.join(".")," :: ").concat(i.message),i}return n}function Vj(t,e,r,n){var i;try{i=e.call.apply(e,[t].concat(Ce(r)))}catch(a){throw a.message="".concat(n.join(".")," :: ").concat(a.message),a}return i}var oa=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],Cc={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},j0=yn(yn({},Cc),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),Bj={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},woe={formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}},qj={widgetProps:j0,opProps:Bj},Eoe={renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}},FO=yn(yn({},Cc),{},{fieldSettings:Cc}),Hj=yn(yn({},Cc),{},{fieldSettings:Cc,widgets:{x:qj},mainWidgetProps:j0}),Coe={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:Hj,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},Toe={fields:{x:Hj},widgets:{x:j0},conjunctions:{x:woe},operators:{x:Bj},types:{x:{widgets:{x:qj}}},funcs:{x:yn(yn(yn({},FO),Eoe),{},{args:{x:yn({},FO)}})},settings:Coe},hl=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},zj=function(e,r){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var n=Sa(e,oa);delete n.ctx;for(var i=function u(c,f,d,p){if(hl(c)){if(Zc(c)&&(c=r0(c)),d[0]==="funcs"&&!f){var v=d[d.length-1];f=zi({funcs:p.BasicFuncs},v,"funcs","subfields")||void 0,f&&(c.$$key=v)}if(f!==void 0&&hl(f))for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(!Object.keys(c).includes(h)||c[h]===void 0&&f[h]!==void 0?c[h]="$$deleted":(c[h]=u(c[h],f[h],[].concat(Ce(d),[h]),p),c[h]===void 0&&delete c[h]));for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)){if(!f||!Object.keys(f).includes(m)){var y;c[m]=u(c[m],(y=f)===null||y===void 0?void 0:y[m],[].concat(Ce(d),[m]),p)}c[m]===void 0&&delete c[m]}Object.keys(c).length===0&&(c=void 0)}else Array.isArray(c)&&c.forEach(function(g,_){c[_]=u(c[_],void 0,[].concat(Ce(d),[_]),p)});if(!(f!==void 0&&Xc(c,f,!0))){if(typeof c=="function")throw new Error("compressConfig: function at ".concat(d.join(".")," should be converted to JsonLogic"));return c}},a=0,o=oa;a<o.length;a++){var s=o[a];if(s!=="ctx")if(s==="fields")n[s]=fi(n[s]),i(n[s],{},[s]);else if(s==="funcs"){n[s]=fi(n[s]||{});for(var l in n[s])i(n[s][l],null,[s,l],{BasicFuncs:AE})}else n[s]=fi(n[s]),i(n[s],r[s],[s])}return n},Uj=function(e,r,n){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var i={},a=function c(f,d,p){if(hl(d)){hl(f)||(f={});for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(d[v]==="$$deleted"?delete f[v]:f[v]=c(f[v],d[v],[].concat(Ce(p),[v])))}else Array.isArray(d)?f=fi(d):f=d;return f},o=function c(f,d,p){var v=!1;if(hl(f)&&Object.prototype.hasOwnProperty.call(f,"$$key")&&f.$$key){var h=zi({funcs:p.BasicFuncs},f.$$key,"funcs","subfields");if(h)delete f.$$key,f=a(fi(h),f,d),v=!0;else throw new Error("decompressConfig: basic function not found by key ".concat(f.$$key," at ").concat(d.join(".")))}if(!v){if(hl(f))for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(f[m]=c(f[m],[].concat(Ce(d),[m]),p));else if(Array.isArray(f)){var y=Ooe(f),g;try{for(y.s();!(g=y.n()).done;){var _=g.value;f[_]=c(f[_],[].concat(Ce(d),[_]),p)}}catch(b){y.e(b)}finally{y.f()}}}return f},s=0,l=oa;s<l.length;s++){var u=l[s];u==="ctx"?i[u]=goe({},r.ctx||{},n||{}):u==="funcs"?(i[u]=fi(e[u]||{}),o(i[u],[u],{BasicFuncs:AE})):u==="fields"?i[u]=fi(e[u]||{}):(i[u]=fi(r[u]||{}),a(i[u],e[u]||{},[u]))}return i},Wj=function(e){if(e.__compliled)return e;e=fi(e);var r={ctx:e.ctx},n=[];return vd(e,e,r,Toe,n),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function vd(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];if(e){a.length;for(var o in n){var s=n[o],l=o==="x"?a:[].concat(Ce(a),[o]);if(s.type==="r"){var u=e,c=u[o];if(s.isArr)for(var f in c){var d=Nl(c[f],r,[].concat(Ce(l),[f]));d!==c[f]&&(i.push("Compiled ".concat(l.join("."),"[").concat(f,"]")),c[f]=d)}else{var p=Nl(c,r,l,void 0);p!==c&&(i.push("Compiled R ".concat(l.join("."))),u[o]=p)}}else if(s.type==="rf"){var v=e,h=v[o],m=koe(h,r,l,s.ignore);m!==h&&(i.push("Compiled JL-RF ".concat(l.join("."))),v[o]=m)}else if(s.type==="f"){var y=e,g=y[o],_=Ioe(g,r,l,s.args,s.ignore);if(s.invokeWith&&_&&typeof _=="function"){var b;_=(b=_).call.apply(b,[null].concat(Ce(s.invokeWith)))}_!==g&&(i.push("Compiled JL-F ".concat(l.join("."))),y[o]=_)}else if(o==="x")for(var S in e){l=[].concat(Ce(a),[S]);var O=e[S];vd(t,O,r,s,i,l),O.subfields&&vd(t,O.subfields,r,n,i,l)}else{var x=e[o];vd(t,x,r,s,i,l)}}}}function koe(t,e,r){return Ln(t)?function(n,i){i=i||(e==null?void 0:e.ctx);var a={props:n,ctx:i},o=Mj(t,a,r);typeof o=="string"&&(o={type:o,props:n});var s=Nl(o,{ctx:i},r);return s}:typeof t=="string"?function(n,i){i=i||(e==null?void 0:e.ctx);var a=t.split(".").reduce(function(l,u){return l==null?void 0:l[u]},i);if(a)return Vj(this,a,[n,i],r);var o={type:t,props:n},s=Nl(o,{ctx:i},r);return s}:t}function Ioe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Ln(t)&&i!=="jl"?(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=this||(e==null?void 0:e.ctx),u=(n||[]).reduce(function(f,d,p){return yn(yn({},f),{},le({},d,o[p]))},{args:o,ctx:l}),c=Mj(t,u,r);return c}).bind(e==null?void 0:e.ctx):typeof t=="string"&&i!=="string"?(function(){var a=this||(e==null?void 0:e.ctx),o=t.split(".").reduce(function(c,f){return c==null?void 0:c[f]},a);if(o){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return Vj(this,o,l,r)}else throw new Error("".concat(r.join(".")," :: Function ").concat(t," is not found in ctx"))}).bind(e==null?void 0:e.ctx):t}function Aoe(t,e){var r;return(e==null||(r=e.components)===null||r===void 0?void 0:r[t])||e.W[t]||e.O[t]}function Nl(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;if(n0(t)){var i,a=t.type,o=t.props;if(typeof a!="string")throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var s=Aoe(a,e.ctx)||a.toLowerCase(),l;n!==void 0&&(o=yn(yn({},o),{},{key:n})),(i=o)!==null&&i!==void 0&&i.children&&(l=Nl(o.children,e,r),o=yn(yn({},o),{},{children:l}));var u=e.ctx.RCE(s,o);return u}else if(t instanceof Array)return t.map(function(c,f){return Nl(c,e,r,""+f)});return t}var joe=Fj,Poe=$j,Loe=Poe(function(t,e,r,n){joe(t,e,r,n)}),Foe=Loe;const Roe=tn(Foe);var Gj={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,r,n,i,a,o){return o?n:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function cv(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$oe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function $oe(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Noe=0,$O=0,xl,Qd={},Yj=function(){return xl||(xl=Jj({reactIndex:void 0,maxSize:3,canCompile:void 0})),xl},Kj=function(e,r){var n;for(var i in Qd){var a=Qd[i].findExtendedConfig(e,r);if(a){n=a;break}}return n},Jj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=e.maxSize||2,i=++Noe,a,o=function(h){return Sa(h,oa)},s=function(h){var m=oi(h,++$O,e.canCompile);return u(h,m),m},l=function(){return r.size},u=function(h,m){r.size+1>n&&r.delete(r.keys().next().value),r.set(h,m)},c=function(h){var m=cv(r.keys()),y;try{var g=function(){var S=y.value,O=r.get(S),x=oa.map(function(E){return O[E]===h[E]}).filter(function(E){return!E}).length===0;if(x)return{v:S}},_;for(m.s();!(y=m.n()).done;)if(_=g(),_)return _.v}catch(b){m.e(b)}finally{m.f()}return h},f=function(h,m){var y=cv(r.keys()),g;try{var _=function(){var w=g.value,I=oa.filter(function(A){return w[A]===h[A]}),C=I.length===oa.length&&(m?w.__compliled:!0);if(C)return{v:r.get(w)}},b;for(y.s();!(g=y.n()).done;)if(b=_(),b)return b.v}catch(k){y.e(k)}finally{y.f()}var S=cv(r.values()),O;try{var x=function(){var w=O.value,I=oa.filter(function(A){return w[A]===h[A]}),C=I.length===oa.length&&(m?w.__compliled:!0);if(C)return{v:w}},E;for(S.s();!(O=S.n()).done;)if(E=x(),E)return E.v}catch(k){S.e(k)}finally{S.f()}return null},d=function(h){return f(h)||s(h)},p=function(){r.clear(),delete Qd[i],xl===a&&(xl=void 0)};return a={getExtendedConfig:function(h){return d(o(h))},findExtendedConfig:f,getBasicConfig:c,clearConfigMemo:p,configId:$O,storeConfigPair:u,getSize:l,configStore:r,memoId:i,meta:e},e.reactIndex===void 0&&(xl=a),Qd[i]=a,a};function P0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Doe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Doe(t,e){if(t){if(typeof t=="string")return NO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(t,e)}}function NO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n=n&&e.settings.useConfigCompress,e.__configId)return e;var i=Kj(e,n);if(i)return i;var a=e;n?e.__compliled?e=fi(e):e=Wj(e):e=fi(e),e.settings=Roe({},Gj,e.settings,cI),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},Moe(e.types,e),Qj(e.fields,e),Xj(e.funcs,e);var o=e.settings.caseValueField;o&&Xd(o,e,[],!1,!0);var s=e.settings.locale.moment;s&&je.locale(s),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:r||Ft()}),e.__cache={},dI(e);var l=Yj();return l.storeConfigPair(a,e),e};function Moe(t,e){for(var r in t){var n=t[r];Voe(r,n,e)}}function Voe(t,e,r){var n=null,i=null;e.mainWidget=e.mainWidget||Object.keys(e.widgets).filter(function(p){return p!="field"&&p!="func"})[0];var a=e.excludeOperators||[];for(var o in e.widgets){var s=e.widgets[o],l=s.defaultOperator;if(s.operators){var u=s.operators.filter(function(p){return!a.includes(p)});n=Hd(n,u)}l&&!a.includes(l)&&(!i||o===e.mainWidget)&&(i=l),o==e.mainWidget&&(s.widgetProps=li(li({},e.mainWidgetProps||{}),s.widgetProps||{})),e.widgets[o]=s}e.valueSources||(e.valueSources=Object.keys(r.settings.valueSourcesInfo));var c=P0(e.valueSources),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;d!="value"&&!e.widgets[d]&&(e.widgets[d]={})}}catch(p){c.e(p)}finally{c.f()}!e.operators&&n&&(e.operators=Array.from(new Set(n))),!e.defaultOperator&&i&&(e.defaultOperator=i)}function Qj(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var n in t){var i=[].concat(Ce(r),[n]);Xd(t[n],e,i),t[n].subfields&&Qj(t[n].subfields,e,i)}}function Xj(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";for(var a in t){var o=[].concat(Ce(n),[a]),s=o.join(i),l=t[a];if(l.returnType&&(l.type=l.returnType,e.__funcsCntByType[l.returnType]||(e.__funcsCntByType[l.returnType]=0),e.__funcsCntByType[l.returnType]++),Xd(l,e,o,!1),l.args){for(var u in l.args)Xd(l.args[u],e,[].concat(Ce(o),[u]),!0);var c=Object.keys(l.args),f=!0,d=P0(c.reverse()),p;try{for(d.s();!(p=d.n()).done;){var v=p.value,h=l.args[v];!f&&h.isOptional&&(Eo.info("Arg ".concat(v," for func ").concat(s," can't be optional")),delete h.isOptional),h.isOptional||(f=!1)}}catch(m){d.e(m)}finally{d.f()}}l.subfields&&Xj(l.subfields,e,[].concat(Ce(n),[a]))}}}function Boe(t,e,r){for(var n,i,a=["listValues","treeValues","allowCustomValues","validateValue"],o=0,s=a;o<s.length;o++){var l=s[o];t[l]&&(t.fieldSettings||(t.fieldSettings={}),t.fieldSettings[l]=t[l],delete t[l])}(n=t.fieldSettings)!==null&&n!==void 0&&n.listValues&&e.settings.normalizeListValues&&(t.fieldSettings.listValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.listValues,r,t.fieldSettings)),(i=t.fieldSettings)!==null&&i!==void 0&&i.treeValues&&e.settings.normalizeListValues&&(t.fieldSettings.treeValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.treeValues,r,t.fieldSettings))}function Xd(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=e.settings,s=o.showLabels,l=o.fieldSeparator;l=(r=l)!==null&&r!==void 0?r:".";var u=n[n.length-1],c=i?n.slice(0,n.length-1).join(l):n.join(l),f=!!t.returnType,d=t.type||t.returnType,p=e.types[d],v=t.excludeOperators||[],h=(t.operators||(p==null?void 0:p.operators)||[]).filter(function(k){return!v.includes(k)}),m=t.defaultOperator||(p==null?void 0:p.defaultOperator);v.includes(m)&&(m=void 0);var y=!!m&&m==t.defaultOperator;if(y&&(t.ownDefaultOperator=t.defaultOperator),!p){t.disabled=!0;return}!i&&!f&&!a&&(e.__fieldsCntByType[d]||(e.__fieldsCntByType[d]=0),e.__fieldsCntByType[d]++),i&&(t._isFuncArg=!0,t._argKey=u,t._funcKey=c),f&&(t._isFunc=!0,t._funcKey=c),a&&(t._isCaseValue=!0),Boe(t,e,d);var g=["widgets","operators","defaultOperator"];Object.keys(p).filter(function(k){return!g.includes(k)}).map(function(k){t[k]||(t[k]=lI(p[k]))});var _=p.excludeOperators||[];t.operators&&(_=_.filter(function(k){return!t.operators.includes(k)})),t.widgets||(t.widgets={});var b=function(){var w=li({},t.widgets[S]||{}),I=p.widgets[S]||{};if(!i){var C=w.defaultOperator,A=[].concat(Ce(v),Ce(_)),P=t.preferWidgets&&(S==="field"||t.preferWidgets.includes(S))||A.length>0;if(w.operators){var L=w.operators.filter(function(G){return!A.includes(G)});w.operators=L,h=Hd(h,L)}else if(P&&I.operators){var V=I.operators.filter(function(G){return!A.includes(G)});w.operators=V,h=Hd(h,V)}C&&!A.includes(C)&&(!m||!y&&S===t.mainWidget)&&(m=C)}S===t.mainWidget?w.widgetProps=li(li(li({},I.widgetProps||{}),t.mainWidgetProps||{}),w.widgetProps||{}):w.widgetProps=li(li({},I.widgetProps||{}),w.widgetProps||{});var R=Array.from(new Set([].concat(Ce(Object.keys(I.opProps||{})),Ce(Object.keys(w.opProps||{})))));if(R.length){var U={},M=P0(R),$;try{for(M.s();!($=M.n()).done;){var F,N,B=$.value;U[B]=li(li({},((F=I.opProps)===null||F===void 0?void 0:F[B])||{}),((N=w.opProps)===null||N===void 0?void 0:N[B])||{})}}catch(G){M.e(G)}finally{M.f()}w.opProps=U}var z=w,H=z.valueLabel,D=z.valuePlaceholder;i&&(H||(w.valueLabel=t.label||u),!D&&!s&&(w.valuePlaceholder=t.label||u)),w=li(li({},I),w),t.widgets[S]=w};for(var S in p.widgets)b();if(i||(t.operators||(t.operators=Array.from(new Set(h))),t.defaultOperator||(t.defaultOperator=m)),!i&&!f&&!a){var O=qoe(e,n),x=O.fieldName,E=O.inGroup;x&&(t.fieldName=x,e.__fieldNames[x]||(e.__fieldNames[x]=[]),e.__fieldNames[x].push({fullPath:n,inGroup:E}))}}function qoe(t,e){if(!e)return{};var r=t.settings.fieldSeparator,n=Ce(e).reduce(function(s,l,u,c){var f=s.computedPath,d=s.computed,p=s.inGroup,v=[].concat(Ce(c.slice(0,u)),[l]),h=zi(t,v);return(h==null?void 0:h.type)==="!group"&&u<c.length-1?(p=v.join(r),f=[]):h!=null&&h.fieldName?(d=!0,f=[h.fieldName]):f=[].concat(Ce(f),[l]),{computedPath:f,computed:d,inGroup:p}},{computedPath:[],computed:!1,inGroup:void 0}),i=n.computedPath,a=n.computed,o=n.inGroup;return a?{fieldName:i.join(r),inGroup:o}:{}}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Hoe=Br.mark(pu),zoe=Br.mark(Zj),Uoe=xs;function pu(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(L0(t,t.funcs||{},[]),"t0",1);case 1:case"end":return r.stop()}},Hoe)}function Zj(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(L0(t,t.fields||{},[]),"t0",1);case 1:case"end":return r.stop()}},zoe)}function L0(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";return Br.mark(function i(a){var o,s,l;return Br.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=(t==null||(a=t.settings)===null||a===void 0?void 0:a.fieldSeparator)||".",c.t0=Br.keys(e);case 2:if((c.t1=c.t0()).done){c.next=13;break}if(s=c.t1.value,l=e[s],!l[n]){c.next=9;break}return c.delegateYield(L0(t,l[n],[].concat(Ce(r),[s]),n),"t2",7);case 7:c.next=11;break;case 9:return c.next=11,[[].concat(Ce(r),[s]).join(o),l];case 11:c.next=2;break;case 13:case"end":return c.stop()}},i)})()}var zi=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r==="!case_value"){var o;return e==null||(o=e.settings)===null||o===void 0?void 0:o.caseValueField}var s=(e==null||(n=e.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",l=Rr(r,e),u=e[i];if(!u)return null;for(var c=u,f=null,d=[],p=0;p<l.length;p++){var v=l[p];d.push(v);var h=d.join(s);f=c[h],p<l.length-1&&(f&&f[a]?(c=f[a],d=[]):f=null)}return f},Zd=function(e,r){var n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=e.settings.fieldSeparator,s=[a].concat(Ce(r.split(o))).filter(function(c){return c!=null}),l=r,u=(n=e.__fieldNames[l])===null||n===void 0||(i=n.find)===null||i===void 0||(i=i.call(n,function(c){var f=c.inGroup;return f?a==null?void 0:a.startsWith(f):!0}))===null||i===void 0?void 0:i.fullPath;return(u||s).join(o)},Lg=function(e,r){if(!r)return null;var n=zi(e,r,"funcs","subfields");if(!n)return null;var i=n.returnType,a=n.args,o=Object.fromEntries(Object.entries(a||{}).map(function(l){var u=ke(l,2),c=u[0],f=u[1],d=Sa(f,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"]);return[c,d]})),s={returnType:i,args:o};return s},Gr=function(e,r){if(!r)return null;var n=zi(e,r,"funcs","subfields");return n||null},Fg=function(e,r,n){var i=Gr(e,r);if(!i)return null;var a=i.args&&i.args[n]||null;return a||null},eP=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return!1;var a=(i==null||(n=i.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",o=ia(e,i),s=ia(r,i);return o.startsWith(s+a)},ia=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string")return e;var i=(n==null||(r=n.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";return Rr(e,n).join(i)},Rr=function(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var o=(a==null||(r=a.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";if(e!=null&&e.func)return Array.isArray(e.func)?e.func:e.func.split(o);if(e!=null&&(n=e.get)!==null&&n!==void 0&&n.call(e,"func")){var s;return e==null||(s=e.get)===null||s===void 0?void 0:s.call(e,"func").split(o)}return(e==null||(i=e.split)===null||i===void 0?void 0:i.call(e,o))||[]},Woe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)return null;var i=r.settings.fieldSeparator,a=Rr(e,r);return n?a:a.map(function(o,s,l){return l.slice(0,s+1)}).map(function(o){return o.join(i)})},fh=function(e){var r;if(typeof e=="string"||Array.isArray(e))return"field:".concat(ia(e));if(xt(e)==="object"&&e){if(e._funcKey&&e._argKey)return"arg:".concat(ia(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(ia(e._funcKey));if(e.func&&e.arg)return"arg:".concat(ia(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(ia(e.func));if(e.type)return null}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?"arg:".concat(ia(e.get("func")),"__").concat(e.get("arg")):"func:".concat(ia(e.get("func"))):null},dh=function(e,r,n){var i;return(i=e.__cache)===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i[n]},ph=function(e,r,n,i){!e.__cache||!n||(e.__cache[r]||(e.__cache[r]={}),e.__cache[r][n]=i)},tP=function(e){var r;if(!e)return null;if(xt(e)==="object"){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?null:"func":"field"},Me=function(e,r){var n;if(!r)return null;if(xt(r)=="object"){if(!r.func&&r.type)return r;if(r.func)return r.func&&r.arg?Fg(e,r.func,r.arg):Gr(e,r.func)}if(r!=null&&(n=r.get)!==null&&n!==void 0&&n.call(r,"func"))return r!=null&&r.get("arg")?Fg(e,r.get("func"),r.get("arg")):Gr(e,r.get("func"));var i=zi(e,r);return i||null},Pt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var i=e.operators[r];if(n){var a,o,s=fh(n),l=s?"".concat(s,"__").concat(r):null,u=dh(e,"getOperatorConfig",l);if(u)return u;var c=Me(e,n),f=gr(e,n,r,null),d=e.widgets[f]||{},p=(c&&c.widgets?c.widgets[f]:{})||{},v=((a=d.opProps)===null||a===void 0?void 0:a[r])||{},h=((o=p.opProps)===null||o===void 0?void 0:o[r])||{},m=Qo(Qo(Qo({},i),v),h);return ph(e,"getOperatorConfig",l,m),m}else return i},On=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!r)return null;var l=Me(e,r),u=fh(r);a||(a=gr(e,r,i,o));var c=u?"".concat(u,"__").concat(i,"__").concat(a,"__").concat(o):null,f=dh(e,"getFieldWidgetConfig",c);if(f)return f;var d=e.widgets[a]||{},p=(l==null||(n=l.widgets)===null||n===void 0?void 0:n[a])||{},v=p.widgetProps||{},h=o==="value"||!o?l==null?void 0:l.fieldSettings:{},m=Qo(Qo(Qo(Qo({},d),p),v),h);return ph(e,"getFieldWidgetConfig",c,m),s.forExport&&(m=ai(m,"factory")),m},rP=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=e.settings.fieldSeparator,i=Rr(r,e),a=r?zi(e,r):e,o=a,s=null,l=[];do{var u,c=o===e?e.fields:(u=o)===null||u===void 0?void 0:u.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while(o.type=="!struct"||o.type=="!group");return(i||[]).concat(l).join(n)};const Goe=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:dh,_saveToConfigCache:ph,_widgetDefKeysToOmit:Uoe,applyJsonLogic:boe,cleanJSX:r0,compileConfig:Wj,compressConfig:zj,configKeys:oa,createConfigMemo:Jj,decompressConfig:Uj,extendConfig:oi,findExtendedConfigInAllMemos:Kj,getCommonMemo:Yj,getFieldConfig:Me,getFieldId:fh,getFieldParts:Rr,getFieldPath:ia,getFieldPathParts:Woe,getFieldRawConfig:zi,getFieldSrc:tP,getFieldWidgetConfig:On,getFirstField:rP,getFuncArgConfig:Fg,getFuncConfig:Gr,getFuncSignature:Lg,getOperatorConfig:Pt,isDirtyJSX:Zc,isFieldDescendantOfField:eP,isJSX:n0,iterateFields:Zj,iterateFuncs:pu,normalizeField:Zd},Symbol.toStringTag,{value:"Module"}));function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yoe=function(e,r){var n={usedFields:[]},i=nP(e,r,n);if(i)return BO(BO({},i),n)},nP=function(e,r,n){if(e){var i=e.get("type"),a=e.get("children1");if((i==="group"||i==="rule_group")&&a&&a.size)return Koe(e,r,n);if(i==="rule")return Joe(e,r,n)}},Koe=function(e,r,n){var i=e.get("properties")||new ur,a=e.get("children1"),o=e.get("id"),s=a.map(function(f){return nP(f,r,n)}).filter(function(f){return typeof f<"u"});if(s.size){var l=i.get("conjunction");l||(l=ka(r));var u=i.get("not"),c={id:o,rules:s.toList(),condition:l.toUpperCase(),not:u};return c}},Joe=function(e,r,n){var i,a=e.get("properties")||new ur,o=e.get("id"),s=a.get("operator"),l=a.get("operatorOptions"),u=a.get("field"),c=a.get("value"),f=a.get("valueSrc"),d=a.get("valueType"),p=c.filter(function(w){return w===void 0}).size>0;if(!(u==null||s==null||p)){var v=Me(r,u)||{},h=Pt(r,s,u)||{},m=v.type||"undefined",y=Ur(h),g=r.types[v.type]||{},_=Xa(u,r,n);if(!(c.size<y)){n.usedFields.indexOf(u)==-1&&n.usedFields.push(u),c=c.toArray(),f=f.toArray(),d=((i=d)===null||i===void 0?void 0:i.toArray())||[];for(var b=[],S=0;S<c.length;S++){var O={type:d[S],value:c[S]};if(b.push(O),f[S]=="field"){var x=c[S];n.usedFields.indexOf(x)==-1&&n.usedFields.push(x)}}var E=l?l.toJS():null;E&&!Object.keys(E).length&&(E=null);var k={id:o,fieldName:_,type:m,input:g.mainWidget,operator:s};return E&&(k.operatorOptions=E),k.values=b,k}}};function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iP(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qoe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Qoe(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xoe=function(e,r){var n={usedFields:[],errors:[]},i=oi(r,void 0,!1),a=aP(e,i,n,!1,!0),o=n.errors,s=n.usedFields;i.settings.fieldSeparator;var l={},u=iP(s),c;try{for(u.s();!(c=u.n()).done;)for(var f=c.value,d=Rr(f,r),p=Me(i,f)||{},v=l,h=0;h<d.length;h++){var m=d[h],y=Me(i,d.slice(0,h+1))||{};h!=d.length-1?y.type=="!group"&&y.mode!="struct"?(v[m]||(v[m]=[{}]),v=v[m][0]):(v[m]||(v[m]={}),v=v[m]):v[m]||(v[m]=null)}}catch(g){u.e(g)}finally{u.f()}return{errors:o,logic:a,data:l}},aP=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(e){var s=e.get("type"),l=e.get("properties")||new ur,u=l.get("isLocked"),c=r.settings.jsonLogic.lockedOp,f;return s==="group"||s==="rule_group"?f=oP(e,r,n,i,a,o):s==="rule"?f=Zoe(e,r,n,i,o):s=="switch_group"?f=ese(e,r,n,i):s=="case_group"&&(f=sP(e,r,n,i,o)),u&&f&&c&&(f=le({},c,f)),f}},oP=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,p=e.get("type"),v=e.get("properties")||new ur,h=v.get("mode"),m=e.get("children1")||new Xi,y=v.get("field"),g=Me(r,y),_=v.get("conjunction");_||(_=ka(r));var b=r.conjunctions[_],S=b.jsonLogicConj||_.toLowerCase(),O=!!v.get("not"),x=p==="rule_group"&&!f,E=x&&h!="struct",k=E?y:d,w=v.get("operator"),I=w&&Pt(r,w,y)||null,C=F0(r,v,n,w,d),A=x&&(!w||((i=I)===null||i===void 0?void 0:i.cardinality)==0),P=x&&(m==null?void 0:m.size)>0;x&&(m!=null&&m.size);var L=O,V=!1;P?(V=O,L=c):c&&(L=!L);var R=!1,U=(a=I)===null||a===void 0?void 0:a.reversedOp,M=Pt(r,U,y),$=!((o=I)!==null&&o!==void 0&&o.jsonLogic)&&!!((s=M)!==null&&s!==void 0&&s.jsonLogic),F=!!((l=M)!==null&&l!==void 0&&l.jsonLogic),N=(u=I0(e))===null||u===void 0?void 0:u.get("type"),B=!!r.settings.reverseOperatorsForNot&&(!x&&L&&N==="rule"||V&&(m==null?void 0:m.size)===1);B&&(P?V=!V:L=!L,R=!0);var z=L&&x&&F&&(!!r.settings.reverseOperatorsForNot||$);if(z){L=!L;var H=[U,w];w=H[0],U=H[1];var D=[M,I];I=D[0],M=D[1]}var G=m.map(function(fe){return aP(fe,r,n,R,!1,k)}).filter(function(fe){return typeof fe<"u"}),q=!!r.settings.exportPreserveGroups;if(E&&!A){if(C==null)return}else if(!G.size&&!q)return;var Y=f||q||G.size!=1;!Y&&O&&!R&&(Y=m.some(function(fe){var pe,Se,Q,re,de=(pe=fe.get("properties"))===null||pe===void 0?void 0:pe.get("operator"),ve=(Se=r.operators)===null||Se===void 0||(Se=Se[de])===null||Se===void 0?void 0:Se.reversedOp;return(Q=(re=r.operators)===null||re===void 0||(re=re[ve])===null||re===void 0?void 0:re._jsonLogicIsExclamationOp)!==null&&Q!==void 0?Q:!1}));var K={};if(Y?K[S]=G.toList().toJS():K=G.first(),V&&(K={"!":K}),E){var ie=R0(n,r,y,d);if(A){var te=w||"some";K=le({},te,[ie,K])}else{var oe=G.size?{filter:[ie,K]}:ie,ue={reduce:[oe,{"+":[1,{var:"accumulator"}]},0]};K=uP(r,v,ue,C,w,null,g)}}return L&&(K={"!":K}),K},Zoe=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,d=e.get("properties")||new ur,p=d.get("field"),v=d.get("fieldSrc"),h=d.get("operator"),m=d.get("operatorOptions");if(m=m?m.toJS():null,m&&!Object.keys(m).length&&(m=null),!(p==null||h==null)){var y=Me(r,p),g=Pt(r,h,p),_=(i=g)===null||i===void 0?void 0:i.reversedOp,b=Pt(r,_,p);if(!((a=g)!==null&&a!==void 0&&a.jsonLogic)&&!((o=b)!==null&&o!==void 0&&o.jsonLogic)){n.errors.push("Operator ".concat(h," is not supported"));return}var S=c,O=!((s=g)!==null&&s!==void 0&&s.jsonLogic)&&!!((l=b)!==null&&l!==void 0&&l.jsonLogic),x=!!((u=b)!==null&&u!==void 0&&u.jsonLogic),E=x&&(!!r.settings.reverseOperatorsForNot||O),k=S&&E||O;if(k){S=!S;var w=[_,h];h=w[0],_=w[1];var I=[b,g];g=I[0],b=I[1]}var C=F0(r,d,n,h,f);if(C!==void 0){var A=v==="func"?lP(n,r,p,f):R0(n,r,p,f);if(A!==void 0)return uP(r,d,A,C,h,m,y,S)}}},ese=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.get("children1");if(a){for(var o=a.map(function(b){return sP(b,r,n,i,null)}).filter(function(b){return typeof b<"u"}).valueSeq().toArray(),s=[],l=0;l<o.length;l++)l!==o.length-1&&!o[l][0]?n.errors.push("No condition for case ".concat(l)):(s.push(o[l]),l===o.length-1&&o[l][0]&&s.push([void 0,null]));if(s.length){if(s.length===1){var u=ke(s[0],2);u[0];var c=u[1];return c==null&&(c=null),c}var f={if:[]},d=f.if,p=ke(s[s.length-1],2);p[0];for(var v=p[1],h=0;h<s.length-1;h++){var m=h===s.length-2,y=ke(s[h],2),g=y[0],_=y[1];_==null&&(_=null),g==null&&(g=!0),d.push(g),d.push(_),m?d.push(v):(d.push({if:[]}),d=d[d.length-1].if)}return f}}},sP=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type");if(o!="case_group"){n.errors.push("Unexpected child of type ".concat(o," inside switch"));return}var s=e.get("properties")||new ur,l=oP(e,r,n,i,a),u=F0(r,s,n,null,a,"!case_value");return[l,u]},F0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s),f=Pt(e,i,s),d=Ur(f),p=r.get("value"),v=r.get("asyncListValues");if(p!=null){var h=n.usedFields,m=p.map(function(g,_){var b=l?l.get(_):null,S=u?u.get(_):null,O=ws(g,b,e),x=gr(e,s,i,b),E=On(e,s,i,x,b,{forExport:!0}),k=Rg(n,e,O,b,S,E,c,i,f,a,v);return k}),y=m.filter(function(g){return g===void 0}).size>0;if(m.size<d||y){n.usedFields=h;return}return d>1?m.toArray():d==1?m.first():null}},Rg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=R0(e,r,n,c);else if(i=="func")d=lP(e,r,n,c);else if(typeof(o==null?void 0:o.jsonLogic)=="function"){var p=o.jsonLogic,v=[n,HO(HO({},s?Sa(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ai(o,xs)];l&&(v.push(l),v.push(u)),d=p.call.apply(p,[r.ctx].concat(v))}else d=n;return d}},lP=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Gr(r,s),c=Rr(s,r),f=c[c.length-1];if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}if(!(u!=null&&u.jsonLogic)){e.errors.push("Func ".concat(s," is not supported"));return}var d={},p=[],v=[];for(var h in u.args){var m,y=u.args[h],g=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=l?l.get(h):void 0,x=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;E!=="func"&&(m=x)!==null&&m!==void 0&&m.toJS&&(x=x.toJS());var k=null,w=gr(r,y,k,E),I=On(r,y,k,w,E,{forExport:!0}),C=Rg(e,r,x,E,y.type,I,g,null,null,o);if(x!=null&&C===void 0){E!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(s));return}var A=void 0;if(C===void 0&&!b&&_!=null){var P=gr(r,y,k,S),L=On(r,y,k,P,S,{forExport:!0});if(A=Rg(e,r,_,S,y.type,L,g,null,null,o),A===void 0){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(s));return}}var V=C!=null?C:A;if(V!==void 0){if(p.length){var R=iP(p),U;try{for(R.s();!(U=R.n()).done;){var M=U.value;d[M]=void 0}}catch(q){R.e(q)}finally{R.f()}p=[]}d[h]=V}else b||v.push(h),p.push(h)}if(!v.length){var $=Object.values(d),F;if(typeof u.jsonLogic=="function"){var N=u.jsonLogic,B=[d];F=N.call.apply(N,[r.ctx].concat(B))}else{var z=u.jsonLogic||f,H=!!u.jsonLogicIsMethod;if(H){var D=$[0],G=$.slice(1);G.length?F={method:[D,z,G]}:F={method:[D,z]}}else F=le({},z,$)}return F}},R0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r.settings,o=a.fieldSeparator,s=a.jsonLogic,l;if(n){Array.isArray(n)&&(n=n.join(o));var u=Me(r,n)||{},c=Xa(n,r,e,i),f=u.jsonLogicVar||(u.type=="!group"?s.groupVarKey:"var");l=le({},f,c),e.usedFields.indexOf(n)==-1&&e.usedFields.push(n)}return l},tse=function(e,r,n,i){var a=e,o=Ur(r);typeof r.jsonLogic=="string"&&(a=r.jsonLogic);var s=["<","<=",">",">="],l=["==","!="],u=function(f,d,p,v,h){return o==0&&l.includes(a)?le({},a,[n,null]):o==0?le({},a,n):o==1?le({},a,[n,i]):o==2&&s.includes(a)?le({},a,[i[0],n,i[1]]):le({},a,[n].concat(Ce(i)))};return u},uP=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=r.get("field"),c=Pt(e,a,u)||{},f=typeof c.jsonLogic=="function"?c.jsonLogic:tse(a,c,n,i),d=[n,a,i,ai(c,su),o,s],p=f.call.apply(f,[e.ctx].concat(d));return l&&(p={"!":p}),p};function rse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=nse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function nse(t,e){if(t){if(typeof t=="string")return UO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YO=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},ise=function(e,r){return cP(e,r,!1)},cP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=$g([],e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),o)},$g=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(r){var u=r.get("type");if(u==="group"||u==="rule_group")return ase(e,r,n,i,a,o,s,l);if(u==="rule")return ose(e,r,n,i,a,o,s,l)}},ase=function(e,r,n,i){var a,o,s,l,u,c,f,d,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=r.get("type"),h=r.get("properties")||new ur,m=!!h.get("not"),y=r.get("children1")||new Xi,g=n.settings,_=g.canShortMongoQuery,b=g.fieldSeparator,S=b,O=e.filter(function(ee){return ee.get("type")=="rule_group"}).length>0,x=e.filter(function(ee){return ee.get("type")=="rule_group"}).map(function(ee){return ee.get("properties").get("field")}).slice(-1).pop(),E=O&&x,k=v==="rule_group",w=k?h.get("field"):null,I=k?h.get("operator"):null,C=I&&Pt(n,I,w)||null,A=I?(a=(o=C)===null||o===void 0?void 0:o.cardinality)!==null&&a!==void 0?a:1:void 0,P=Xa(w,n,i,E),L=Me(n,w)||{},V=L.mode,R=w&&V==="array"&&A>=1,U=k&&(y==null?void 0:y.size)>0;k&&(y!=null&&y.size);var M=!1,$=m,F=!1;U?(F=m,$=p):p&&($=!$);var N=(s=C)===null||s===void 0?void 0:s.reversedOp,B=Pt(n,N,w),z=!((l=C)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=B)!==null&&u!==void 0&&u.mongoFormatOp),H=!!((c=B)!==null&&c!==void 0&&c.mongoFormatOp),D=(f=I0(r))===null||f===void 0?void 0:f.get("type"),G=!!n.settings.reverseOperatorsForNot&&(!k&&$&&D==="rule"||F&&(y==null?void 0:y.size)===1);G&&(U?F=!F:$=!$,M=!0);var q=$&&k&&H&&(!!n.settings.reverseOperatorsForNot||z);if(q){$=!$;var Y=[N,I];I=Y[0],N=Y[1];var K=[B,C];C=K[0],B=K[1]}var ie=h.get("conjunction");ie||(ie=ka(n));var te=n.conjunctions[ie];if(te){var oe=te.reversedConj,ue=$&&((d=ie)===null||d===void 0?void 0:d.toLowerCase())==="or"&&oe&&!k&&!!n.settings.canShortMongoQuery&&!!n.settings.reverseOperatorsForNot;ue&&(ie=oe,te=n.conjunctions[ie],$=!$,M=!0);var fe=te.mongoConj,pe=y.map(function(ee){return $g([].concat(Ce(e),[r]),ee,n,i,M,V!="array",V=="array"?function(me){return"$$el".concat(S).concat(me)}:void 0)}).filter(function(ee){return typeof ee<"u"});if(!(!R&&!pe.size)){var Se;if(pe.size==1)Se=pe.first();else if(pe.size>1){var Q=pe.toList().toJS(),re=_&&fe=="$and";re&&(Se=Q.reduce(function(ee,me){if(ee){for(var Oe in me){if(Oe[0]=="$"){ee=void 0;break}if(ee[Oe]==null)ee[Oe]=me[Oe];else{var we=ee[Oe],Je=me[Oe];YO(we)||(we={$eq:we}),YO(Je)||(Je={$eq:Je});var at=Object.keys(we)[0],ce=Object.keys(Je)[0];if(at==ce){ee=void 0;break}ee[Oe]=Object.assign({},we,Je)}}return ee}},{})),Se||(Se=le({},fe,Q))}if(w)if(V=="array"){var de={$size:{$ifNull:["$"+P,[]]}},ve=Se?{$size:{$ifNull:[{$filter:{input:"$"+P,as:"el",cond:Se}},[]]}}:de;Se=$g(e,r.set("type","rule"),n,i,F,!1,function(ee){return ve},de),Se={$expr:Se}}else Se=le({},P,{$elemMatch:Se});return $&&(Se={$not:Se}),Se}}},ose=function(e,r,n,i){var a,o,s,l,u,c,f,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,m=r.get("properties")||new ur,y=e.filter(function(Se){return Se.get("type")=="rule_group"}).length>0,g=e.filter(function(Se){return Se.get("type")=="rule_group"}).map(function(Se){return Se.get("properties").get("field")}).slice(-1).pop(),_=y&&g,b=m.get("operator"),S=m.get("operatorOptions"),O=m.get("field"),x=m.get("fieldSrc"),E=m.get("value"),k=m.get("valueSrc"),w=m.get("valueType"),I=m.get("asyncListValues");if(!(O==null||b==null||E===void 0)){var C=Me(n,O),A=Pt(n,b,O),P=(a=A)===null||a===void 0?void 0:a.reversedOp,L=Pt(n,P,O),V=Ur(A);if(!((o=A)!==null&&o!==void 0&&o.mongoFormatOp)&&!((s=L)!==null&&s!==void 0&&s.mongoFormatOp)){i.errors.push("Operator ".concat(b," is not supported"));return}var R=d,U=!((l=A)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=L)!==null&&u!==void 0&&u.mongoFormatOp),M=!!((c=L)!==null&&c!==void 0&&c.mongoFormatOp),$=M&&(!!n.settings.reverseOperatorsForNot||U),F=$&&R||U;if(F){var N=[P,b];b=N[0],P=N[1];var B=[L,A];A=B[0],L=B[1],R=!R}var z,H=!1;if(x=="func"){var D=fP(i,n,O,_),G=ke(D,2);z=G[0],H=G[1]}else z=Xa(O,n,i,_),v&&(H=!0,z=v(z));if(z!=null){var q=[],Y=[],K;if(E!=null){var ie=E.map(function(Se,Q){var re=k?k.get(Q):null,de=w?w.get(Q):null,ve=ws(Se,re,n),ee=gr(n,O,b,re),me=On(n,O,b,ee,re,{forExport:!0}),Oe=Ng(i,n,ve,re,de,me,C,_,b,A,I),we=ke(Oe,2),Je=we[0],at=we[1];return Je!==void 0&&(H=H||at,q.push(re),Y.push(de)),Je}),te=ie.filter(function(Se){return Se===void 0}).size>0;if(ie.size<V||te)return;K=V>1?ie.toArray():V==1?ie.first():null}var oe=H&&p,ue=(f=A)===null||f===void 0?void 0:f.mongoFormatOp,fe=[z,b,h!==void 0&&K==null?h:K,H,q.length>1?q:q[0],Y.length>1?Y:Y[0],ai(A,su),S,C],pe=ue.call.apply(ue,[n.ctx].concat(fe));return oe&&(pe={$expr:pe}),R&&(pe={$not:pe}),pe}}},Ng=function(e,r,n,i,a,o,s,l,u,c,f){if(n===void 0)return[void 0,!1];var d,p=!1;if(i=="field"){var v=sse(e,r,n,l),h=ke(v,2);d=h[0],p=h[1]}else if(i=="func"){var m=fP(e,r,n,l),y=ke(m,2);d=y[0],p=y[1]}else if(typeof(o==null?void 0:o.mongoFormatValue)=="function"){var g=o.mongoFormatValue,_=[n,GO(GO({},s?Sa(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ai(o,xs)];u&&(_.push(u),_.push(c)),d=g.call.apply(g,[r.ctx].concat(_))}else d=n;return[d,p]},sse=function(e,r,n,i){var a=r.settings.fieldSeparator,o,s=!0;if(n){var l=Me(r,n)||{},u=Rr(n,r),c=af(n,r),f=c?c.join(a):null,d=r.settings.formatField,p=Xa(n,r,e,i),v=d(p,u,f,l,r,!1);o="$"+v}return[o,s]},fP=function(e,r,n,i){var a,o,s=!0,l,u=(a=n.get)===null||a===void 0?void 0:a.call(n,"func"),c=(o=n.get)===null||o===void 0?void 0:o.call(n,"args"),f=Gr(r,u);if(!f)return e.errors.push("Func ".concat(u," is not defined in config")),[void 0,!1];var d=Rr(u,r),p=d[d.length-1],v=f.mongoFunc||p,h=f.mongoArgsAsObject,m={},y=0,g=void 0,_=[],b=[];for(var S in f.args){var O;y++;var x=f.args[S],E=Me(r,x),k=x.defaultValue,w=x.isOptional,I=k!=null&&k.func?"func":"value",C=c?c.get(S):void 0,A=C?C.get("value"):void 0,P=C?C.get("valueSrc"):void 0;P!=="func"&&(O=A)!==null&&O!==void 0&&O.toJS&&(A=A.toJS());var L=C?C.get("asyncListValues"):void 0,V=null,R=gr(r,x,V,P),U=On(r,x,V,R,P,{forExport:!0}),M=Ng(e,r,A,P,x.type,U,E,i,null,null,L),$=ke(M,2),F=$[0];if($[1],A!=null&&F===void 0)return P!="func"&&e.errors.push("Can't format value of arg ".concat(S," for func ").concat(u)),[void 0,!1];var N=void 0;if(F===void 0&&!w&&k!=null){var B=gr(r,x,V,I),z=On(r,x,V,B,I,{forExport:!0}),H=Ng(e,r,k,I,x.type,z,E,i,null,null,L),D=ke(H,2);if(N=D[0],D[1],N===void 0)return I!="func"&&e.errors.push("Can't format default value of arg ".concat(S," for func ").concat(u)),[void 0,!1]}var G=F!=null?F:N;if(G!==void 0){if(_.length){var q=rse(_),Y;try{for(q.s();!(Y=q.n()).done;){var K=Y.value;m[K]=void 0}}catch(oe){q.e(oe)}finally{q.f()}_=[]}m[S]=G,g=G}else w||b.push(S),_.push(S)}if(b.length)return[void 0,!1];if(typeof f.mongoFormatFunc=="function"){var ie=f.mongoFormatFunc,te=[m];l=ie.call.apply(ie,[r.ctx].concat(te))}else{if(f.mongoFormatFunc===null)return e.errors.push("Functon ".concat(v," is not supported")),[void 0,!1];h?l=le({},v,m):y==1&&g!==void 0?l=le({},v,g):l=le({},v,Object.values(m))}return[l,s]};function lse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=use(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function use(t,e){if(t){if(typeof t=="string")return KO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cse=function(e,r){return dP(e,r,!1)},dP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=pP(e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SQL:",i.errors),o)},pP=function(e,r,n){if(e){var i=e.get("type");if(e.get("children1"),i==="group"||i==="rule_group")return fse(e,r,n);if(i==="rule")return pse(e,r,n)}},fse=function(e,r,n){var i=e.get("type"),a=e.get("properties")||new ur,o=e.get("children1")||new Xi,s=i==="rule_group",l=s?a.get("field"):null,u=Me(r,l)||{},c=u.mode;c=="array"&&n.errors.push("Aggregation is not supported for ".concat(l));var f=a.get("not"),d=o.map(function(h){return pP(h,r,n)}).filter(function(h){return typeof h<"u"});if(d.size){var p=a.get("conjunction");p||(p=ka(r));var v=r.conjunctions[p];return v.sqlFormatConj.call(r.ctx,d,p,f)}},dse=function(e,r){var n=r.sqlOp||e,i=Ur(r),a;return i==0?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,v){var h,m,y=u==null||(h=u.first)===null||h===void 0?void 0:h.call(u),g=u==null||(m=u.get)===null||m===void 0?void 0:m.call(u,1);return"".concat(s," ").concat(n," ").concat(y," AND ").concat(g)}),a},pse=function(e,r,n){var i=e.get("properties")||new ur,a=i.get("field"),o=i.get("fieldSrc"),s=i.get("operator"),l=i.get("operatorOptions"),u=i.get("valueSrc"),c=i.get("valueType"),f=i.get("value"),d=i.get("asyncListValues");if(!(a==null||s==null)){var p=Me(r,a)||{},v=Pt(r,s,a)||{},h=v.reversedOp,m=Pt(r,h,a)||{},y=Ur(v),g=!1,_=v.sqlOp||v.sqlFormatOp,b=m.sqlOp||m.sqlFormatOp;if(!_&&!b){n.errors.push("Operator ".concat(s," is not supported"));return}if(!_&&b){g=!0;var S=[h,s];s=S[0],h=S[1];var O=[m,v];v=O[0],m=O[1]}var x=[],E=[],k;if(f!=null){var w=f.map(function(V,R){var U=u?u.get(R):null,M=c?c.get(R):null,$=ws(V,U,r),F=gr(r,a,s,U),N=On(r,a,s,F,U,{forExport:!0}),B=Dg(n,r,$,U,M,N,p,s,v,d);return B!==void 0&&(x.push(U),E.push(M)),B}),I=w.filter(function(V){return V===void 0}).size>0;if(I||w.size<y)return;k=y==1?w.first():w}var C=v.sqlFormatOp||dse(s,v);if(!C){n.errors.push("Operator ".concat(s," is not supported"));return}var A=o=="func"?vP(n,r,a):hP(n,r,a);if(A!=null){var P=[A,s,k,x.length>1?x:x[0],E.length>1?E:E[0],ai(v,su),l,p],L;if(L=C.call.apply(C,[r.ctx].concat(P)),g&&(L=r.settings.sqlFormatReverse.call(r.ctx,L)),L===void 0){n.errors.push("Operator ".concat(s," is not supported for value source ").concat(x.join(", ")));return}return L}}},Dg=function(e,r,n,i,a,o,s,l,u,c){if(n!==void 0){var f;if(i=="field")f=hP(e,r,n);else if(i=="func")f=vP(e,r,n);else if(typeof(o==null?void 0:o.sqlFormatValue)=="function"){var d=o.sqlFormatValue,p=[n,QO(QO({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:c}),ai(o,xs)];if(l&&(p.push(l),p.push(u)),i=="field"){var v=Me(r,n)||{};p.push(v)}f=d.call.apply(d,[r.ctx].concat(p))}else Array.isArray(n)?f=n.map(function(h){return _o.escape(h)}):f=_o.escape(n);return f}},hP=function(e,r,n){if(n){var i=r.settings.fieldSeparator,a=Me(r,n)||{},o=Rr(n,r),s=af(n,r),l=s?s.join(i):null,u=r.settings.formatField,c=Xa(n,r,e,null,{useTableName:!0}),f=u(c,o,l,a,r);return f}},vP=function(e,r,n){var i,a,o=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),s=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),l=Gr(r,o);if(!l){e.errors.push("Func ".concat(o," is not defined in config"));return}var u=Rr(o,r),c=u[u.length-1],f=l.sqlFunc||c,d={},p=[],v=[];for(var h in l.args){var m,y=l.args[h],g=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=s?s.get(h):void 0,x=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;E!=="func"&&(m=x)!==null&&m!==void 0&&m.toJS&&(x=x.toJS());var k=O?O.get("asyncListValues"):void 0,w=Dg(e,r,x,E,y.type,g,y,null,null,k);if(x!=null&&w===void 0){E!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(o));return}var I=void 0;if(w===void 0&&!b&&_!=null&&(I=Dg(e,r,_,S,y.type,g,y,null,null,k),I===void 0)){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(o));return}var C=w!=null?w:I;if(C!==void 0){if(p.length){var A=lse(h),P;try{for(A.s();!(P=A.n()).done;){var L=P.value;d[L]=void 0}}catch($){A.e($)}finally{A.f()}p=[]}d[h]=C}else b||v.push(h),p.push(h)}if(!v.length){var V;if(typeof l.sqlFormatFunc=="function"){var R=l.sqlFormatFunc,U=[d];V=R.call.apply(R,[r.ctx].concat(U))}else{var M=Object.entries(d).map(function($){var F=ke($,2);F[0];var N=F[1];return N}).join(", ");V="".concat(f,"(").concat(M,")")}return V}};function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t){if(t==null)return null;var e=t.split(",").map(Number);return{top_left:{lat:e[0],lon:e[1]},bottom_right:{lat:e[2],lon:e[3]}}}function vse(t,e){if(t.length>1)return{gte:"".concat(t[0]),lte:"".concat(t[1])};var r=t[0];switch(e){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}function gse(t){return{value:"*"+t+"*"}}function mse(t,e){switch(t){case"AND":return e?"must_not":"must";case"OR":return e?"should_not":"should";case"NOT":return e?"must":"must_not";default:return}}function yse(t){return{value:t}}function bse(t,e){return t}function _se(t,e,r,n,i,a){var o=bse(n);switch(t){case"filter":return{script:i.operators[r].elasticSearchScript(n,e)};case"exists":return{field:n};case"match":return le({},o,e[0]);case"term":return a===Ose?le({},n,{value:e[0]}):le({},n,e[0]);case"geo_bounding_box":return le({},n,hse(e[0]));case"range":return le({},n,vse(e,r));case"wildcard":return le({},n,gse(e[0]));case"regexp":return le({},n,yse(e[0]));default:return}}function ex(t,e,r,n,i,a){if(!(!t||!r||e==null)){var o=r,s=n.operators[o];if(s){var l=s,u=l.elasticSearchQueryType,c=!1;if(!u&&s.reversedOp){c=!0,o=s.reversedOp,s=n.operators[o];var f=s;u=f.elasticSearchQueryType}var d=gr(n,t,o,i),p=n.widgets[d];if(p){var v=p.elasticSearchFormatValue,h;if(typeof u=="function"?h=u(d):h=u,!!h){var m;return typeof v=="function"?m=v(h,e,o,t,n):m=_se(h,e,o,t,n,a),c?{bool:{must_not:le({},h,ZO({},m))}}:le({},h,ZO({},m))}}}}}function Sse(t,e,r,n,i,a){if(!(!t||!t.size)){var o=t.valueSeq().toArray(),s=mse(e,r),l=o.map(function(c){return n(c,i,a)}).filter(function(c){return c!==void 0});if(l.length){var u=l.flat(1/0);return{bool:le({},s,u)}}}}var Ose="ES_7_SYNTAX",xse="ES_6_SYNTAX";function gP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xse,n=oi(e,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if(i==="rule"&&a.get("field")){var o,s,l,u=a.get("operator"),c=a.get("field"),f=a.get("fieldSrc"),d=(o=a.get("value"))===null||o===void 0?void 0:o.toJS();(s=a.get("valueType"))===null||s===void 0||s.get(0);var p=(l=a.get("valueSrc"))===null||l===void 0?void 0:l.get(0);return p==="func"||f=="func"?void 0:d&&Array.isArray(d[0])?d[0].map(function(y){return ex(c,[y],u,n,p,r)}):ex(c,d,u,n,p,r)}if(i==="group"||i==="rule_group"){var v=a.get("not"),h=a.get("conjunction");h||(h=ka(n));var m=t.get("children1");return Sse(m,h,v,gP,n,r)}}}const tx=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:cP,_spelFormat:uA,_sqlFormat:dP,elasticSearchFormat:gP,jsonLogicFormat:Xoe,mongodbFormat:ise,queryBuilderFormat:Yoe,queryString:TA,spelFormat:Zne,sqlFormat:cse},Symbol.toStringTag,{value:"Module"}));function rx(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}function Uo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){rx(a,n,i,o,s,"next",l)}function s(l){rx(a,n,i,o,s,"throw",l)}o(void 0)})}}var wse=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function Ese(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Cse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Cse(t,e){if(t){if(typeof t=="string")return nx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(t,e)}}function nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Tse=function(e,r){if(e.findLastIndex)return e.findLastIndex(r);var n=Ce(e).reverse().findIndex(r);return n==-1?-1:e.length-1-n},kse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var i=Uo(Br.mark(function a(o,s,l){var u,c,f,d,p,v;return Br.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(u=(l==null?void 0:l.pageSize)!=null?l.pageSize:r,c=VI(e).filter(function(y){var g=y.title,_=y.value;return o==null?!0:g.toUpperCase().indexOf(o.toUpperCase())!=-1||"".concat(_).toUpperCase().indexOf(o.toUpperCase())!=-1}),u&&Math.ceil(c.length/u),f=s||0,d=u?c.slice(f,f+u):c,p=u?f+d.length:null,v=u?p<c.length:!1,!n){m.next=11;break}return m.next=11,fI(n);case 11:return m.abrupt("return",{values:d,hasMore:v});case 12:case"end":return m.stop()}},a)}));return function(a,o,s){return i.apply(this,arguments)}}()},Ise=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!r)return e;var a=e||[],o=r.filter(function(l){return a.find(function(u){return""+u.value==""+l.value})==null}).map(function(l){return i?vo(vo({},l),{},{isHidden:!0}):l}),s=n?[].concat(Ce(o),Ce(a)):[].concat(Ce(a),Ce(o));return s},Ase=function(e,r,n){var i,a=e==null||e==""?void 0:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:e,o=ah(a,r),s=n&&!o?d0(a):void 0,l=o||s,u=l?[l]:void 0;return[a,u]},jse=function(e,r,n){var i=e.map(function(o,s){var l,u=o==null||o==""?void 0:(l=o==null?void 0:o.value)!==null&&l!==void 0?l:o,c=ah(u,r),f=n&&!c?d0(u):void 0,d=c||f;return d}).filter(function(o){return o!=null}),a=i.map(function(o){var s;return(s=o==null?void 0:o.value)!==null&&s!==void 0?s:o});return a.length||(a=void 0),[a,i]},Pse=function(e){if(e==null)return null;var r=e.title,n=e.value,i=e.disabled,a=e.groupTitle,o=e.grouplabel,s=e.renderTitle,l=e.children,u=e.label,c=e.isCustom,f=e.isHidden,d=ri(e,wse),p={value:n,title:r||u||l};return i&&(p.disabled=i),c&&(p.isCustom=c),f&&(p.isHidden=f),(a||o)&&(p.groupTitle=a||o),s&&(p.renderTitle=s),p=vo(vo({},p),d),p},Lse=function(e){var r=[],n=[],i=Ese(e),a;try{var o=function(){var l=a.value,u=Tse(r,function(c){var f,d;return((f=c.groupTitle)!==null&&f!==void 0?f:"")==((d=l.groupTitle)!==null&&d!==void 0?d:"")});l.groupTitle!=null&&!n.includes(l.groupTitle)&&(n.push(l.groupTitle),n.length===1&&(r=r.map(function(c){return vo(vo({},c),{},{groupTitle:""})}))),l.groupTitle==null&&n.length&&(l=vo(vo({},l),{},{groupTitle:""})),u!=-1?r.splice(u+1,0,l):r.push(l)};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r};const Fse=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:Lse,getListValue:ah,listValueToOption:Pse,mergeListValues:Ise,optionToListValue:Ase,optionsToListValues:jse,simulateAsyncFetch:kse},Symbol.toStringTag,{value:"Module"})),Rse=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:Fse,ConfigUtils:Goe,DefaultUtils:wie,ExportUtils:Jne,FuncUtils:uae,ListUtils:bne,OtherUtils:CQ,RuleUtils:gae,TreeUtils:Sne,Validation:sae,checkTree:pj,clone:fi,compressConfig:zj,decompressConfig:Uj,getSwitchValues:zI,i18n:lh,isValidTree:fj,moment:je,sanitizeTree:vj,uuid:Ft,validateAndFixTree:gj,validateTree:hj},Symbol.toStringTag,{value:"Module"}));var $se={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},Nse={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim,o=a.charAt(0).toUpperCase()+a.slice(1)+"s",s=n+o;return"".concat(r,".").concat(s,"(").concat(i,")")},spelImport:function(e){var r,n,i,a,o,s=(r=e.methodName)===null||r===void 0?void 0:r.match(/^(minus|plus)(\w+)s$/);if(s&&(o=s[2].toLowerCase(),i=s[1],["minus","plus"].includes(i)&&["day","week","month","year"].includes(o)))return i={type:"string",val:i},o={type:"string",val:o},a=e.args[0],n=e.obj,{date:n,op:i,val:a,dim:o}},jsonLogic:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return{date_add:[r,i*(n=="minus"?-1:1),a]}},jsonLogicImport:function(e){var r=e.date_add[0],n=Math.abs(e.date_add[1]),i=e.date_add[1]>=0?"plus":"minus",a=e.date_add[2];return[r,i,n,a]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return"DATE_ADD(".concat(r,", INTERVAL ").concat(parseInt(i)*(n=="minus"?-1:1)," ").concat(a.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return i?"".concat(r," ").concat(n=="minus"?"-":"+"," ").concat(i," ").concat(a):r},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},Dse={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Mse={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Vse={label:"Linear regression",returnType:"number",formatFunc:function(e,r){var n=e.coef,i=e.bias,a=e.val;return"(".concat(n," * ").concat(a," + ").concat(i,")")},sqlFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelImport:function(e){var r,n,i,a;if(e.type==="op-plus"){var o=ke(e.children,2);if(a=o[0],i=o[1],a.type==="op-multiply"){var s=ke(a.children,2);return r=s[0],n=s[1],{coef:r,val:n,bias:i}}}},mongoFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return{$sum:[{$multiply:[r,i]},n]}},jsonLogic:function(e){var r=e.coef,n=e.bias,i=e.val;return{"+":[{"*":[r,i]},n]}},jsonLogicImport:function(e){var r=e["+"][0]["*"][0],n=e["+"][0]["*"][1],i=e["+"][1];return[r,n,i]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},Bse=function(e,r,n,i,a,o,s,l,u,c,f,d){var p=typeof i=="string"&&!i.startsWith("$")?"$"+i:i,v=r(o,d);if(v!==void 0)return n?!s&&(!e||e=="$eq")?le({},i,{$ne:v}):s?{$not:le({},e,[p,v])}:le({},i,{$not:le({},e,v)}):!s&&(!e||e=="$eq")?le({},i,v):s?le({},e,[p,v]):le({},i,le({},e,v))},qse=function(e,r,n,i,a,o,s,l,u,c,f){var d=typeof n=="string"&&!n.startsWith("$")?"$"+n:n;return r?o?{$not:{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}}:le({},n,{$not:le(le({},e[0],a[0]),e[1],a[1])}):o?{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}:le({},n,le(le({},e[0],a[0]),e[1],a[1]))},Hse={utils:{SqlString:_o,moment:je,mongoFormatOp1:Bse,mongoFormatOp2:qse,mongoEmptyValue:iA,escapeRegExp:uI,sqlEmptyValue:nA,stringifyForDisplay:oA,getTitleInListValues:BI,spelEscape:Rl,spelFixList:aA,wrapWithBrackets:sA}};function zse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Use(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Use(t,e){if(t){if(typeof t=="string")return ax(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(t,e)}}function ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ox(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wse={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,r,n,i){var a=e.size>1?e.join(" "+(i?"AND":"&&")+" "):e.first();return(e.size>1||n)&&(a=this.utils.wrapWithBrackets(a)),n&&(a="NOT "+a),a},sqlFormatConj:function(e,r,n){var i=e.size>1?e.join(" AND "):e.first();return(e.size>1||n)&&(i=this.utils.wrapWithBrackets(i)),n&&(i="NOT "+i),i},spelFormatConj:function(e,r,n,i){n&&(i=!1);var a=e.size>1?e.join(" && "):e.first();return(e.size>1||n)&&!i&&(a=this.utils.wrapWithBrackets(a)),n&&(a="!"+a),a}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" || ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}}},Gse={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,r,n,i,a,o,s,l,u){var c=l?"=":o.label;return a=="boolean"&&l?n=="No"?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,r,n,i,a,o,s,l,u){return a=="boolean"&&l?n=="No"?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(o.label," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(a){return a},!1].concat(n))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(a){return a},!1].concat(n))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return a},!1].concat(n))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(a){return a},!1].concat(n))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:function(e,r,n){return{in:[n,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!0].concat(i))},jsonLogic:function(e,r,n){return{"!":{in:[n,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?"^"+r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o)+"$":void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," BETWEEN ").concat(u," AND ").concat(c):"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return e==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," NOT BETWEEN ").concat(u," AND ").concat(c):"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,r,n){return{"!":{"<=":[Array.isArray(n)?n[0]:n,e,Array.isArray(n)?n[1]:n]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") = ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") <> ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return null},!1].concat(n))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return null},!1].concat(n))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return"".concat(e," ").concat(u," ").concat(n)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != ").concat(n)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," IN (").concat(n.join(", "),")")},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(a){return a},!1].concat(n))},reversedOp:"select_any_in",jsonLogic:function(e,r,n){return{"!":{in:[e,n]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," CONTAINS [").concat(n.join(", "),"]"):"".concat(e," CONTAINS ").concat(n)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,r,n){return{some:[e,{in:[{var:""},n]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT CONTAINS [").concat(n.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(n)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,r,n){return{"!":{some:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return i=="value"?"".concat(e," ").concat(u," [").concat(n.join(", "),"]"):"".concat(e," ").concat(u," ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," = '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,r,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," != '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,r,n){return{"!":{all:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=s==null?void 0:s.get("proximity");return"".concat(e," ").concat(u," NEAR/").concat(f," ").concat(c)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=this.utils.SqlString.trim(u),d=this.utils.SqlString.trim(c),p=s==null?void 0:s.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(f,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return 0},!1].concat(n))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,r,n){return"".concat(e," == ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return 0},!1].concat(n))}}},Yse={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n){var i=n.step&&!Number.isInteger(n.step);return this.utils.spelEscape(e,i)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,r,n,i){var a=this.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,e);return i?this.utils.stringifyForDisplay(a):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,r,n,i){var a=this,o=e.map(function(s){return a.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,s)});return i?o.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,r,n,i,a){var o=this;return e.map(function(s){return o.utils.SqlString.escape(s)})},spelFormatValue:function(e,r,n,i,a){var o=a&&a.spelOp&&a.spelOp.startsWith("${1}"),s=this.utils.spelEscape(e);return o&&(s=this.utils.spelFixList(s)),s},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("YYYY-MM-DD"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD"),l="yyyy-MM-dd";return"T(java.time.LocalDate).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a,o,s;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&(s=o.toLowerCase)!==null&&s!==void 0&&s.call(o).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(n.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("HH:mm:ss"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(s,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,r,n){var i,a,o;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&n.fmt&&(!((i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.toLowerCase)!==null&&a!==void 0&&a.call(i).includes("hh:mm"))||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&o.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(n.fmt))];var s=this.utils.moment(e.value,"HH:mm:ss");return s.isValid()?[s.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.get("hour")*60*60+n.get("minute")*60+n.get("second"):void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},elasticSearchFormatValue:function(e,r,n,i){return{script:{script:{source:"doc[".concat(i,"][0].getHour() >== params.min && doc[").concat(i,"][0].getHour() <== params.max"),params:{min:r[0],max:r[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.toDate())},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD HH:mm:ss"),l="yyyy-MM-dd HH:mm:ss";return"T(java.time.LocalDateTime).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a;if(!r)return[void 0,"No widget def to get value format"];if(!(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")))return[void 0,"Invalid datetime format ".concat(JSON.stringify(n.fmt))];var o=this.utils.moment(e.value,this.utils.moment.ISO_8601);return o.isValid()?[o.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,r,n,i){return i?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},field:{valueSrc:"field",formatValue:function(e,r,n,i,a,o,s){return i&&s.label||e},sqlFormatValue:function(e,r,n,i,a,o){return e},spelFormatValue:function(e,r,n,i,a){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(e===""?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return e===""?null:e}}},Kse={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},Jse=Nt(Nt({},Gj),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,r,n,i,a,o){var s=this,l=i.map(function(u,c){var f=u.key,d=u.parent,p=u.fieldSeparator;return c==0?d=="[map]"?"#this[".concat(s.utils.spelEscape(f),"]"):(d=="[class]",f):d=="map"||d=="[map]"?"[".concat(s.utils.spelEscape(f),"]"):(d=="class"||d=="[class]","".concat(p).concat(f))}).join("");return a.fieldName&&(l=e),a.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(e!=null)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(e!=null)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,r,n,i,a,o){if(e!=null)return o?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,r,n,i,a,o,s,l,u,c){var f=s.labelForFormat,d=s.cardinality;if(d==0){var p=e?" HAVE ".concat(e):"";return"".concat(f," OF ").concat(r).concat(p)}else if(d==null||d==1){var v=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(r).concat(v," ").concat(f," ").concat(i)}else if(d==2){var h=e?" WHERE ".concat(e):"",m=i.first(),y=i.get(1);return"COUNT OF ".concat(r).concat(h," ").concat(f," ").concat(m," AND ").concat(y)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,r,n,i){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),mP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={rangeslider:Zse,treeselect:ele,treemultiselect:tle,rangeable__date:Xse("date","date")},a=zse(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i[s];if(l)e=l(e,n);else throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(s))}}catch(u){a.e(u)}finally{a.f()}return e},yP=function(e,r){return mP(e,r,!0)},Qse=function(e,r){return mP(e,r,!1)},Xse=function(e,r){return function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=n.types;return a=Nt(Nt({},a),{},le({},e,Nt(Nt({},a[e]),{},{widgets:Nt({},a[e].widgets)}))),i?a[e].widgets[r]=Nt({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},a[e].widgets[r]):delete a[e].widgets[r],Nt(Nt({},n),{},{types:a})}},Zse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.rangeslider=Nt({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(o,s,l,u){return u?this.utils.stringifyForDisplay(o):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},singleWidget:"slider",toJS:function(o,s){return o}},n.rangeslider):delete n.rangeslider,i=Nt(Nt({},i),{},{number:Nt(Nt({},i.number),{},{widgets:Nt({},i.number.widgets)})}),r?i.number.widgets.rangeslider=Nt({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},i.number.widgets.rangeslider):delete i.number.widgets.rangeslider,Nt(Nt({},e),{},{widgets:n,types:i})},ele=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treeselect=Nt({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(o,s,l,u){var c=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,f=this.utils.getTitleInListValues(c,o);return u?this.utils.stringifyForDisplay(f):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treeselect):delete n.treeselect,i=Nt({},i),r?i.treeselect=Nt({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},i.treeselect):delete i.treeselect,Nt(Nt({},e),{},{widgets:n,types:i})},tle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treemultiselect=Nt({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(o,s,l,u){var c=this,f=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,d=o.map(function(p){return c.utils.getTitleInListValues(f,p)});return u?d.map(this.utils.stringifyForDisplay):o.map(JSON.stringify)},sqlFormatValue:function(o,s,l,u,c){var f=this;return o.map(function(d){return f.utils.SqlString.escape(d)})},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treemultiselect):delete n.treemultiselect,i=Nt({},i),r?i.treemultiselect=Nt({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},i.treemultiselect):delete i.treemultiselect,Nt(Nt({},e),{},{widgets:n,types:i})},rle={addMixins:yP,removeMixins:Qse},Mg={conjunctions:Wse,operators:Gse,widgets:Yse,types:Kse,settings:Jse,ctx:Hse};Mg=yP(Mg,["rangeslider","treeselect","treemultiselect"]);const Tr=Mg;var bP="ADD_GROUP",$0="ADD_CASE_GROUP",_P="REMOVE_GROUP",SP="SET_CONJUNCTION",OP="SET_NOT",xP="ADD_RULE",wP="REMOVE_RULE",EP="SET_FIELD",CP="SET_FIELD_SRC",TP="SET_OPERATOR",kP="SET_VALUE",IP="SET_VALUE_SRC",AP="SET_FUNC_VALUE",jP="SET_OPERATOR_OPTION",PP="SET_LOCK",N0="SET_TREE",LP="MOVE_ITEM",sx="after",lx="before",fv="append",dv="prepend",FP="SET_DRAG_PROGRESS",RP="SET_DRAG_START",$P="SET_DRAG_END",nle=jj,ile=Gl;function ale(t,e){return t&&nle(t,e,ile)}var D0=ale,ole=mp,sle=Sm,lle=1,ule=2;function cle(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ole;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?sle(c,u,lle|ule,n,f):d))return!1}}return!0}var fle=cle,dle=Ei;function ple(t){return t===t&&!dle(t)}var NP=ple,hle=NP,vle=Gl;function gle(t){for(var e=vle(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,hle(i)]}return e}var mle=gle;function yle(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var DP=yle,ble=fle,_le=mle,Sle=DP;function Ole(t){var e=_le(t);return e.length==1&&e[0][2]?Sle(e[0][0],e[0][1]):function(r){return r===t||ble(r,t,e)}}var xle=Ole,wle=th;function Ele(t,e,r){var n=t==null?void 0:wle(t,e);return n===void 0?r:n}var Cle=Ele,Tle=Sm,kle=Cle,Ile=wI,Ale=i0,jle=NP,Ple=DP,Lle=cu,Fle=1,Rle=2;function $le(t,e){return Ale(t)&&jle(e)?Ple(Lle(t),e):function(r){var n=kle(r,t);return n===void 0&&n===e?Ile(r,t):Tle(e,n,Fle|Rle)}}var Nle=$le;function Dle(t){return function(e){return e==null?void 0:e[t]}}var Mle=Dle,Vle=th;function Ble(t){return function(e){return Vle(e,t)}}var qle=Ble,Hle=Mle,zle=qle,Ule=i0,Wle=cu;function Gle(t){return Ule(t)?Hle(Wle(t)):zle(t)}var Yle=Gle,Kle=xle,Jle=Nle,Qle=nh,Xle=ni,Zle=Yle;function eue(t){return typeof t=="function"?t:t==null?Qle:typeof t=="object"?Xle(t)?Jle(t[0],t[1]):Kle(t):Zle(t)}var M0=eue,tue=rh,rue=D0,nue=M0;function iue(t,e){var r={};return e=nue(e),rue(t,function(n,i,a){tue(r,i,e(n,i,a))}),r}var aue=iue;const hh=tn(aue);function ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=oue(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function oue(t,e){if(t){if(typeof t=="string")return cx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(t,e)}}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fx=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=e.getIn(Ie(r));if(!c)return e;var f=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,d=o.settings.shouldCreateEmptyGroup,p=r.push(f),v=!d,h=!!(u!=null&&u.isDefaultCase),m=e;return e=as(e,r,n,f,No(o).merge($o(a)||{}),o,l),e!==m&&(!l&&!h&&(e=e.setIn(Ie(p,"children1"),new Ue.OrderedMap),v&&(e=as(e,p,"rule",Ft(),Ta(o),o))),e=Hi(e)),e},sue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=B0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.slice(0,-1),s=!v0(e,o);if(s&&!a&&(e=oh(e),h0(e)&&!a)){var l=!1,u=!1;e=as(e,new Ue.List,"rule",Ft(),Ta(n,void 0,void 0,l,u),n)}return e=Hi(e),e},lue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=B0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.pop(),s=e.getIn(Ie(o)),l=s.getIn(["properties","field"]),u=s.getIn(["properties","operator"]),c=l?Me(n,l):null,f=u?Pt(n,u,l):null,d=l&&u&&f.cardinality!=0,p=s.get("type")=="rule_group",v=!v0(e,o),h=p?d&&c.initialEmptyWhere:a;if(v&&!h&&(p&&(e=e.deleteIn(Ie(o))),e=oh(e),h0(e)&&!a)){var m=!1,y=!1;e=as(e,new Ue.List,"rule",Ft(),Ta(n,void 0,void 0,m,y),n)}return e=Hi(e),e},uue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","not"),n)),e},cue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=qI(e.setIn(Ie(r,"properties","isLocked"),n))),e},fue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","conjunction"),n)),e},as=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n==="switch_group")throw new Error("Can't add switch_group programmatically");var u=e.getIn(Ie(r));if(!u)return e;var c=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,f=o.settings,d=f.maxNumberOfCases,p=f.maxNumberOfRules,v=f.maxNesting,h=e.get("type"),m=h==="switch_group",y=m?e.getIn(Ie(r.take(2))):null,g=Ie(r,"children1"),_=e.getIn(g),b=!!_&&_.size,S=b?_.size:null,O,x;n==="case_group"?(O=S,x=d):n==="group"?(O=r.size,x=v):(u==null?void 0:u.get("type"))==="rule_group"||(O=_g(m?y:e),x=p);var E=x&&O?O<x:!0,k={type:n,id:c,properties:a};bue(o,k,l);var w=n==="case_group"&&b&&_.last().get("children1")==null;if(E){var I=new Ue.OrderedMap(le({},c,new Ue.Map(k)));if(!b)e=e.setIn(g,I);else if(w){var C=_.last(),A=new Ue.OrderedMap(le(le({},c,new Ue.Map(k)),C.get("id"),C));e=e.deleteIn(Ie(g,"children1",C.get("id"))),e=e.mergeIn(g,A)}else e=e.mergeIn(g,I);e=Hi(e)}return e},B0=function(e,r){return e=e.deleteIn(Ie(r)),e=Hi(e),e},due=function(e,r,n,i,a){var o=pl(e,r),s=r.pop(),l=r.size>1?pl(e,s):null,u=l?l.get("children1"):null,c=pl(e,n),f=i==fv||i==dv?n:n.pop(),d=i==fv||i==dv?c:n.size>1?pl(e,f):null,p=d?d.get("children1"):null;if(!l||!d||!o)return e;var v=l.get("id")==d.get("id"),h=f.size<s.size&&qd(f.toArray(),s.toArray().slice(0,f.size)),m=f.size>s.size&&qd(s.toArray(),f.toArray().slice(0,s.size)),y=null,g=null;h?y=Ue.List(s.toArray().slice(f.size)):m&&(g=Ue.List(f.toArray().slice(s.size)));var _=p,b=u;return m||(b=b.delete(o.get("id"))),v?_=b:h&&(_=_.updateIn(yg(y,"children1"),function(S){return b})),i==lx||i==sx?_=Ue.OrderedMap().withMutations(function(S){var O=V0(_.entries()),x;try{for(O.s();!(x=O.n()).done;){var E=ke(x.value,2),k=E[0],w=E[1];k==(c==null?void 0:c.get("id"))&&i==lx&&S.set(o.get("id"),o),S.set(k,w),k==(c==null?void 0:c.get("id"))&&i==sx&&S.set(o.get("id"),o)}}catch(I){O.e(I)}finally{O.f()}}):i==fv?_=_.merge(Ue.OrderedMap(le({},o.get("id"),o))):i==dv&&(_=Ue.OrderedMap(le({},o.get("id"),o)).merge(_)),m&&(b=b.updateIn(yg(g,"children1"),function(S){return _}),b=b.delete(o.get("id"))),!v&&!h&&(e=e.updateIn(Ie(s,"children1"),function(S){return b})),m||(e=e.updateIn(Ie(f,"children1"),function(S){return _})),e=Hi(e),e},pue=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.keepInputOnChangeFieldSrc,s=a.get("properties"),l=s==null?void 0:s.get("field"),u=s==null?void 0:s.get("fieldType"),c=Me(i,l),f=(c==null?void 0:c.type)||u;(!f||f==="!group"||f==="!struct")&&(f=null);var d=!uh.includes(f),p=o&&!E0(a,i)&&d;return p?(e=e.setIn(Ie(r,"properties","field"),null),e=e.deleteIn(Ie(r,"properties","fieldError")),e=e.setIn(Ie(r,"properties","fieldType"),f)):e=e.setIn(Ie(r,"properties"),Ta(i,null,null,!1)),e=e.setIn(Ie(r,"properties","fieldSrc"),n),e},hue=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:{},f=r.getIn(Ie(n));if(!f)return r;var d=i===-1,p=f.get("properties"),v=p.get("field"),h=p.get("value"),m=d?v:h.getIn([i]),y=[],g=m,_=V0(a||[]),b;try{for(_.s();!(b=_.n()).done;){var S=ke(b.value,2),O=S[0],x=S[1];if(y.push([O,x,g]),O!==g.get("func")){var E=y.map(function(z){var H=ke(z,2),D=H[0],G=H[1];return"".concat(D,"(").concat(G,")")}).join("/")||"root";throw new Error("In ".concat(d?"LHS":"RHS"," for path ").concat(E," expected func key ").concat(O," but got ").concat(parent.get("func")))}g=g.getIn(["args",x,"value"])}}catch(z){_.e(z)}finally{_.f()}if(o){var I=g.get("func"),C=Gr(e,I),A=C.args,P=A[o];l==="!valueSrc"?g=xj(g,o,s):g=Pg(g,o,s,P,e)}else{var k=s,w=!0;g=Sj(g,k,e,w),c.canDropArgs=!0}for(var L=g;y.length;){var V=y.pop(),R=ke(V,3),U=R[0],M=R[1],$=R[2],F=Gr(e,U),N=F.args,B=N[M];L=Pg($,M,L,B,e)}return d?MP(r,n,L,e,u,c):VP(r,n,i,L,void 0,e,u,c)},MP=function(e,r,n,i,a){var o,s,l,u,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=e.getIn(Ie(r));if(!f)return{state:e};var d=c.isEndValue,p=c.canDropArgs;if(!n)return e=B0(e,r),{state:e};var v=i.settings,h=v.fieldSeparator,m=v.setOpOnChangeField,y=v.showErrorMessage;Array.isArray(n)&&(n=n.join(h));var g=f.get("type"),_=f.get("properties"),b=g=="rule_group",S=_==null?void 0:_.get("fieldSrc"),O=Me(i,n);if(!O)return console.warn("No config for LHS ".concat(n)),{state:e};var x=O.type;(x==="!group"||x==="!struct")&&(x=null);var E=_==null?void 0:_.get("operator"),k=_==null?void 0:_.get("operatorOptions"),w=_==null?void 0:_.get("field"),I=O.type=="!group",C=I&&O.mode=="array",A=b!=I,P=O&&((o=O.operators)===null||o===void 0?void 0:o.indexOf(E))!==-1?E:null,L=S==="func"&&(w==null||(s=w.get)===null||s===void 0?void 0:s.call(w,"func"))===((l=n)===null||l===void 0||(u=l.get)===null||u===void 0?void 0:u.call(l,"func")),V=L&&!!P,R=null,U=S==="func"?Ej(i,x):ch(i,n);if(U&&U.length==1)R=U[0];else if(V)R=P;else if(U&&U.length>1){var M=V0(m),$;try{for(M.s();!($=M.n()).done;){var F=$.value;if(F=="keep"&&!A?R=P:F=="default"?R=_0(i,n,!1):F=="first"&&(R=x0(i,n)),R)break}}catch(Y){M.e(Y)}finally{M.f()}}if(!I&&!O.operators)return console.warn("Type ".concat(O.type," is not supported")),{state:e};b&&!I&&(e=e.setIn(Ie(r,"type"),"rule"),e=e.deleteIn(Ie(r,"children1")),e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap)),_||(e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap));var N=!y;if(I){e=e.setIn(Ie(r,"type"),"rule_group");var B=ns(i,i,_,n,R,"field",N,d,p);B.canReuseValue;var z=B.newValue,H=B.newValueSrc,D=B.newValueType,G=B.operatorCardinality,q=No(i,O).merge({field:n,fieldSrc:"field",mode:O.mode});C&&(q=q.merge({operator:R,value:z,valueSrc:H,valueType:D})),e=e.setIn(Ie(r,"children1"),new Ue.OrderedMap),e=e.setIn(Ie(r,"properties"),q),O.initialEmptyWhere&&G==1||(e=as(e,r,"rule",Ft(),Ta(i,n),i)),e=Hi(e)}else e=e.updateIn(Ie(r,"properties"),function(Y){return Y.withMutations(function(K){var ie=ns(i,i,K,n,R,"field",N,d,p),te=ie.canReuseValue,oe=ie.newValue,ue=ie.newValueSrc,fe=ie.newValueType,pe=ie.newValueError,Se=ie.newFieldError,Q=ie.fixedField,re=n,de=Q!==n;de&&(re=Q),y&&(K=K.set("fieldError",Se),K=K.set("valueError",pe));var ve=te?k:rf(i,R,re);return K=K.set("field",re).delete("fieldType").set("fieldSrc",S).set("operator",R).set("operatorOptions",ve).set("value",oe).set("valueSrc",ue).set("valueType",fe),te||(K=K.delete("asyncListValues")),K})});return{state:e}},vue=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.showErrorMessage,s=a.get("properties"),l=a.get("children1"),u=s.get("field");s.get("fieldSrc");var c=Me(i,u),f=(c==null?void 0:c.type)=="!group",d=Pt(i,n,u),p=d?Ur(d):null,v=!0;return e=e.updateIn(Ie(r,"properties"),function(h){return h.withMutations(function(m){var y=m.get("field"),g=m.get("operatorOptions");m.get("value",new Ue.List),m.get("valueSrc",new Ue.List),m.get("operator");var _=ns(i,i,m,y,n,"operator",v),b=_.canReuseValue,S=_.newValue,O=_.newValueSrc,x=_.newValueType,E=_.newValueError;o&&(m=m.set("valueError",E));var k=b?g:rf(i,n,y);return b||(m=m.delete("asyncListValues")),m.set("operator",n).set("operatorOptions",k).set("value",S).set("valueSrc",O).set("valueType",x)})}),f&&p==0&&l.size==0&&(e=as(e,r,"rule",Ft(),Ta(i,u),i)),e},VP=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=e.getIn(Ie(r));if(!u)return{state:e};var c=l.canDropArgs,f=l.isEndValue,d=o.settings,p=d.fieldSeparator,v=d.showErrorMessage,h=e.getIn(Ie(r,"properties","valueSrc",n+""))||null;h==="field"&&Array.isArray(i)&&(i=i.join(p));var m=e.getIn(Ie(r,"properties","field"))||null,y=e.getIn(Ie(r,"properties","operator"))||null,g=Pt(o,y,m),_=y?Ur(g):null,b=a||Cj(i,h,o),S=!v,O=$l(o,m,m,y,i,b,h,s,S,f,c),x=ke(O,2),E=x[0],k=x[1],w=k==null?void 0:k.find(function($){return!$.fixed&&!$.ignore}),I=w?Ni(w):null,C=E!==i;C&&(i=E),e=BP(e,r,o,_);var A=Array.from({length:_},function($,F){return F==n?i:e.getIn(Ie(r,"properties","value",F+""))||null}),P=Array.from({length:_},function($,F){return e.getIn(Ie(r,"properties","valueSrc",F+""))||null}),L=S0(o,m,y,A,P),V=L?Ni(L):null,R=!I&&!V,U=v?!0:R||C;if(U&&(e=e.deleteIn(Ie(r,"properties","asyncListValues")),typeof i>"u"?(e=e.setIn(Ie(r,"properties","value",n),void 0),e=e.setIn(Ie(r,"properties","valueType",n),null)):(s&&(e=e.setIn(Ie(r,"properties","asyncListValues"),s)),e=e.setIn(Ie(r,"properties","value",n),i),e=e.setIn(Ie(r,"properties","valueType",n),b))),v){var M=e.getIn(Ie(r,"properties","valueError"));M||(e=e.setIn(Ie(r,"properties","valueError"),new Ue.List(new Array(_)))),e=e.setIn(Ie(r,"properties","valueError",n),I),_>=2&&(e=e.setIn(Ie(r,"properties","valueError",_),V))}return{state:e}},gue=function(e,r,n,i,a){var o=e.getIn(Ie(r));if(!o)return e;var s=a.settings.showErrorMessage,l=e.getIn(Ie(r,"properties","field"))||null,u=e.getIn(Ie(r,"properties","operator"))||null,c=Pt(a,u,l),f=u?Ur(c):null;if(e=BP(e,r,a,f),e=e.setIn(Ie(r,"properties","value",n+""),void 0),e=e.setIn(Ie(r,"properties","valueType",n+""),null),e=e.deleteIn(Ie(r,"properties","asyncListValues")),s&&(e=e.setIn(Ie(r,"properties","valueError",n),null),c.validateValues&&(e=e.setIn(Ie(r,"properties","valueError",f),null))),typeof i>"u"?e=e.setIn(Ie(r,"properties","valueSrc",n+""),null):e=e.setIn(Ie(r,"properties","valueSrc",n+""),i),i){var d=e.getIn(Ie(r,"properties")),p=!0,v=ns(a,a,d,l,u,"valueSrc",p),h=v.canReuseValue,m=v.newValue,y=v.newValueSrc,g=v.newValueType;v.newValueError,!h&&y.get(n)==i&&(e=e.setIn(Ie(r,"properties","value",n+""),m.get(n)),e=e.setIn(Ie(r,"properties","valueType",n+""),g.get(n)))}return e},mue=function(e,r,n,i){var a=e.getIn(Ie(r));return a?e.setIn(Ie(r,"properties","operatorOptions",n),i):e},yue=function(e,r){var n=r.settings.canLeaveEmptyGroup;return n||(e=oh(e)),e},BP=function(e,r,n,i){if(!i){var a=e.getIn(Ie(r,"properties","field"))||null,o=e.getIn(Ie(r,"properties","operator"))||null,s=Pt(n,o,a);i=o?Ur(s):null}for(var l=0,u=["value","valueType","valueError","valueSrc"];l<u.length;l++){var c=u[l];e.getIn(Ie(r,"properties",c))||(e=e.setIn(Ie(r,"properties",c),new Ue.List(i?Array.from({length:i}):[])))}return e},bue=function t(e,r,n){n&&Array.isArray(n)&&(r.children1=new Ue.OrderedMap(n.reduce(function(i,a){var o,s=(o=a.id)!==null&&o!==void 0?o:Ft(),l=sa(sa({},a),{},{properties:wA(e,a).merge($o(a.properties)||{}),id:s});return t(e,l,l.children1),sa(sa({},i),{},le({},s,new Ue.Map(l)))},{})))},_ue=function(e,r){var n=e.getIn(Ie(r,"properties","field"))||null;return n},dx={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},Sue=function(e,r){if(!e||!e.type)return null;var n=["config","asyncListValues"],i=[N0,RP,FP,$P],a=hh(Co(e,n),t0),o=e.path&&_ue(r.tree,e.path)||e.field;if(o){var s;(s=o)!==null&&s!==void 0&&s.toJS&&(o=o.toJS()),a.affectedField=o}return(i.includes(e.type)||e.type.indexOf("@@redux")==0)&&(a=null),a};const Oue=function(t,e,r,n,i){var a=e,o=sa({tree:a},dx);return function(){var s,l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,c=arguments.length>1?arguments[1]:void 0,f=(s=(l=i==null?void 0:i())!==null&&l!==void 0?l:c==null?void 0:c.config)!==null&&s!==void 0?s:t,d={__lastAction:void 0},p={},v=Sue(c,u);switch(c==null?void 0:c.type){case N0:{var h=r(f,c.tree);p.tree=h;break}case $0:{p.tree=fx(u.tree,c.path,"case_group",c.id,c.properties,f,c.children,c.meta);break}case bP:{p.tree=fx(u.tree,c.path,"group",c.id,c.properties,f,c.children,c.meta);break}case _P:{p.tree=sue(u.tree,c.path,f);break}case xP:{p.tree=as(u.tree,c.path,c.ruleType,c.id,c.properties,f,c.children);break}case wP:{p.tree=lue(u.tree,c.path,f);break}case SP:{p.tree=fue(u.tree,c.path,c.conjunction);break}case OP:{p.tree=uue(u.tree,c.path,c.not);break}case EP:{var m=MP(u.tree,c.path,c.field,f,c.asyncListValues,c._meta),y=m.state;p.tree=y;break}case CP:{p.tree=pue(u.tree,c.path,c.srcKey,f);break}case PP:{p.tree=cue(u.tree,c.path,c.lock);break}case TP:{p.tree=vue(u.tree,c.path,c.operator,f);break}case kP:{var g=VP(u.tree,c.path,c.delta,c.value,c.valueType,f,c.asyncListValues,c._meta),_=g.state;p.tree=_;break}case AP:{var b=hue(f,u.tree,c.path,c.delta,c.parentFuncs,c.argKey,c.value,c.valueType,c.asyncListValues,c._meta),S=b.state;p.tree=S;break}case IP:{p.tree=gue(u.tree,c.path,c.delta,c.srcKey,f,c._meta);break}case jP:{p.tree=mue(u.tree,c.path,c.name,c.value);break}case LP:{p.tree=due(u.tree,c.fromPath,c.toPath,c.placement);break}case RP:{p.dragStart=c.dragStart,p.dragging=c.dragging,p.mousePos=c.mousePos;break}case FP:{p.mousePos=c.mousePos,p.dragging=c.dragging;break}case $P:{p.tree=yue(u.tree,f),p=sa(sa({},p),dx);break}}return v&&(p.__lastAction=v),n&&p.tree&&u.tree&&n(u.tree),sa(sa(sa({},u),d),p)}};var xue=function(e,r){return{type:N0,tree:r,config:e}},wue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;return{type:xP,ruleType:i,children:a,path:Wr(r),id:Ft(),properties:Ta(e,o).merge($o(n)||{}),config:e}},Eue=function(e,r){return{type:wP,path:Wr(r),config:e}},Cue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:$0,path:Wr(r),children:i,id:Ft(),properties:No(e).merge($o(n)||{}),config:e,meta:{isDefaultCase:!0}}},Tue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:$0,path:Wr(r),children:i,id:Ft(),properties:No(e).merge($o(n)||{}),config:e}},kue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:bP,path:Wr(r),children:i,id:Ft(),properties:No(e).merge($o(n)||{}),config:e}},Iue=function(e,r){return{type:_P,path:Wr(r),config:e}},Aue=function(e,r,n,i){return{type:LP,fromPath:Wr(r),toPath:Wr(n),placement:i,config:e}};const jue=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:Tue,addDefaultCaseGroup:Cue,addGroup:kue,addRule:wue,moveItem:Aue,removeGroup:Iue,removeRule:Eue,setTree:xue},Symbol.toStringTag,{value:"Module"}));var Pue=function(e,r,n){return{type:SP,path:Wr(r),conjunction:n}},Lue=function(e,r,n){return{type:OP,path:Wr(r),not:n}},Fue=function(e,r,n){return{type:PP,path:Wr(r),lock:n}};const Rue=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:Pue,setLock:Fue,setNot:Lue},Symbol.toStringTag,{value:"Module"}));var $ue=function(e,r,n,i,a){return{type:EP,path:Wr(r),field:n,config:e,asyncListValues:i,_meta:a}},Nue=function(e,r,n){return{type:CP,path:Wr(r),srcKey:n,config:e}},Due=function(e,r,n){return{type:TP,path:Wr(r),operator:n,config:e}},Mue=function(e,r,n,i,a,o,s){return{type:kP,path:Wr(r),delta:n,value:i,valueType:a,asyncListValues:o,config:e,_meta:s}},Vue=function(e,r,n,i,a){return{type:IP,path:Wr(r),delta:n,srcKey:i,config:e,_meta:a}},Bue=function(e,r,n,i,a,o,s,l,u){return{type:AP,path:Wr(r),delta:n,parentFuncs:i,argKey:a,value:o,valueType:s,asyncListValues:l,config:e,_meta:u}},que=function(e,r,n,i){return{type:jP,path:Wr(r),name:n,value:i,config:e}};const Hue=Object.freeze(Object.defineProperty({__proto__:null,setField:$ue,setFieldSrc:Nue,setFuncValue:Bue,setOperator:Due,setOperatorOption:que,setValue:Mue,setValueSrc:Vue},Symbol.toStringTag,{value:"Module"}));function px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?px(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var it=pv(pv(pv({},Rse),{},{Export:tx,Import:sO,ConfigMixins:rle},tx),sO);const of=j.createContext();var qf="after",Hf="before",Ho="append",Vs="prepend",zue="SET_DRAG_PROGRESS",Uue="SET_DRAG_START",Wue="SET_DRAG_END",Gue=function(e,r){return{type:zue,mousePos:e,dragging:r}},Yue=function(e,r,n){return{type:Uue,dragStart:e,dragging:r,mousePos:n}},Kue=function(){return{type:Wue}},qP=jue,Jue=Rue,Que=Hue,Xue={},Zue=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},ep=function(e,r,n){if(!r||!e||e.length<=r)return e;var i=e.substr(0,r-1);return i+"..."},Xo=function(e,r){return e===r?!0:e==null?void 0:e.equals(r)},os=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?ece(e,r,n):e&&typeof e.equals=="function"?e.equals(r):xt(e)==="object"?tce(e,r,n):e===r};function ece(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?os(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function tce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?os(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var rce=function(){return typeof process<"u"&&Xue&&!1},nce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:rce();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},ice=nce(),hx=it.Validation.validateAndFixTree,ace=function(){var e,r,n;return function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return a?(i.__configId===n&&(Xo(a,e)||Xo(a,r))||(n=i.__configId,e=a,s===!1?r=hx(a,null,i,o||i,!1,!1,!1):r=hx(a,null,i,o||i)),r):null}},oce=function(e){if(e._reactRootContainer)return"root";if(Object.getOwnPropertyNames(e).filter(function(r){return r.startsWith("__reactContainer")}).length>0)return"container"},sce=function t(e){if(e){var r=oce(e);return r!==void 0?r:t(e.parentNode)}},HP=function(e){return sce(e)==="root"},vh=function(e,r){return function(n,i){var a=e.props,o=e.state,s=n!=a||i!=o;if(s&&o==i&&a!=n){var l=[];for(var u in n){var c=n[u]!=a[u];c&&(r[u]=="ignore"?c=!1:r[u]=="shallow_deep"?c=!os(n[u],a[u],!0):r[u]=="shallow"?c=!os(n[u],a[u]):typeof r[u]=="function"&&(c=r[u](n[u],a[u],n,a))),c&&l.push(u)}l.length||(s=!1)}return s}},hu=function(e){return function(r,n){return!os(e.props,r)||!os(e.state,n)}},lce=function(){var e=j.version.split(".").map(parseInt.bind(null,10));return e[0]==16&&e[1]<3||e[0]<16},Mn=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=hu(e)),lce())e.componentWillReceiveProps=function(i){e.onPropsChanged(i)};else{var r=e.shouldComponentUpdate,n=function(a,o){var s=!os(e.props,a);s&&e.onPropsChanged(a);var l=r.call(e,a,o);return l};e.shouldComponentUpdate=n.bind(e)}},zP=function(e,r,n){return hh(e,function(i){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n(i.apply(void 0,[r].concat(o)))}})};const uce=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:zP,isUsingLegacyReactDomRender:HP,liteShouldComponentUpdate:vh,pureShouldComponentUpdate:hu,useOnPropsChanged:Mn},Symbol.toStringTag,{value:"Module"}));function vx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cce(t,e,r){return e=Le(e),er(t,UP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function UP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(UP=function(){return!!t})()}var WP=function(t){function e(r){var n;Jt(this,e),n=cce(this,e,[r]),n.shouldComponentUpdate=vh(n,{tree:function(o){return!(o===n.oldValidatedTree&&n.oldValidatedTree===n.validatedTree)}}),Mn(n),n._updateActions(r),n.validatedTree=r.getMemoizedTree(r.config,r.tree,void 0,r.sanitizeTree),n.oldValidatedTree=n.validatedTree;var i=r.getBasicConfig(r.config);return r.onInit&&r.onInit(n.validatedTree,i,void 0,n.actions),n}return Yt(e,t),Kt(e,[{key:"_updateActions",value:function(n){var i=n.config,a=n.dispatch;this.actions=zP(hv(hv(hv({},qP),Jue),Que),i,a)}},{key:"onPropsChanged",value:function(n){var i=n.onChange,a=this.props.config,o=n.tree;this.props.tree;var s=n.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=o,a!==s&&(this._updateActions(n),this.validatedTree=n.getMemoizedTree(s,o,a));var l=!Xo(this.validatedTree,this.oldValidatedTree);if(l){var u=n.getBasicConfig(s);i&&i(this.validatedTree,u,n.__lastAction,this.actions)}}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.renderBuilder,o=n.dispatch,s={tree:this.validatedTree,actions:this.actions,config:i,dispatch:o};return a(s)}}])}(J.Component);WP.propTypes={config:W.object.isRequired,onChange:W.func,onInit:W.func,renderBuilder:W.func,tree:W.any};var GP=cp(function(t){return{tree:t.tree,__lastAction:t.__lastAction}},null,null,{context:of})(WP);GP.displayName="ConnectedQuery";function fce(t,e,r){return e=Le(e),er(t,YP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function YP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YP=function(){return!!t})()}var gx=it.DefaultUtils.defaultRoot,dce=it.ConfigUtils.createConfigMemo,KP=function(t){function e(r,n){var i,a,o;Jt(this,e),o=fce(this,e,[r,n]),o.setLastTree=function(b){o.prevTree&&(o.prevprevTree=o.prevTree),o.prevTree=b},o.getConfig=function(){return o.config},o.shouldComponentUpdate=vh(o,{value:function(S,O){return!1}}),Mn(o);var s=dce({reactIndex:(i=(a=o._reactInternals)===null||a===void 0?void 0:a.index)!==null&&i!==void 0?i:-1,maxSize:2,canCompile:!0}),l=s.getExtendedConfig,u=s.getBasicConfig,c=s.clearConfigMemo;o.getMemoizedConfig=l,o.getBasicConfig=u,o.clearConfigMemo=c,o.getMemoizedTree=ace();var f=o.getMemoizedConfig(r),d=f.settings.shouldCreateEmptyGroup,p=!d,v=gx(f,p),h=!!r.value,m=r.value||v,y=o.getMemoizedTree(f,m,void 0,h),g=Oue(f,y,o.getMemoizedTree,o.setLastTree,o.getConfig),_=RR(g);return o.config=f,o.state={store:_},o.QueryWrapper=function(b){return f.settings.renderProvider(b,f.ctx)},o}return Yt(e,t),Kt(e,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(n){var i=this.props,a=this.config,o=this.getMemoizedConfig(n),s=a!==o,l=this.state.store.getState().tree,u=!Xo(n.value,this.props.value)&&!Xo(n.value,l),c=u?n.value||gx(n):l,f=u&&!Xo(n.value,this.prevTree)&&!Xo(n.value,this.prevprevTree);if(this.sanitizeTree=f||s,s&&(i.settings.renderProvider!==n.settings.renderProvider&&(this.QueryWrapper=function(p){return o.settings.renderProvider(p,o.ctx)}),this.config=o),u||s){var d=this.getMemoizedTree(o,c,a,this.sanitizeTree);this.state.store.dispatch(qP.setTree(o,d))}}},{key:"render",value:function(){var n=this.props,i=n.renderBuilder,a=n.get_children,o=n.onChange,s=n.onInit,l=this.state.store,u=this.config,c=this.QueryWrapper;return j.createElement(c,{config:u},j.createElement(FR,{store:l,context:of},j.createElement(GP,{config:u,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:o,onInit:s,renderBuilder:i||a})))}}])}(J.Component);KP.propTypes={conjunctions:W.object.isRequired,fields:W.object.isRequired,types:W.object.isRequired,operators:W.object.isRequired,widgets:W.object.isRequired,settings:W.object.isRequired,ctx:W.object.isRequired,onChange:W.func,onInit:W.func,renderBuilder:W.func,value:W.any};function pce(t,e,r){return e=Le(e),er(t,JP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JP=function(){return!!t})()}var hce=it.ConfigUtils.getFieldConfig,vce=function(e){var r;return r=function(n){function i(a){var o;return Jt(this,i),o=pce(this,i,[a]),o.dummyFn=function(){},o.removeSelf=function(){o.props.actions.removeRule(o.props.path)},o.setLock=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;o.props.actions.setLock(o.props.path,s)},o.setField=function(s,l,u){o.props.actions.setField(o.props.path,s,l,u)},o.setFieldSrc=function(s){o.props.actions.setFieldSrc(o.props.path,s)},o.setOperator=function(s){o.props.actions.setOperator(o.props.path,s)},o.setOperatorOption=function(s,l){o.props.actions.setOperatorOption(o.props.path,s,l)},o.setValue=function(s,l,u,c,f){o.props.actions.setValue(o.props.path,s,l,u,c,f)},o.setValueSrc=function(s,l,u){o.props.actions.setValueSrc(o.props.path,s,l,u)},o.setFuncValue=function(s,l,u,c,f,d,p){o.props.actions.setFuncValue(o.props.path,s,l,u,c,f,d,p)},o.pureShouldComponentUpdate=hu(o),o.dummyFn.isDummyFn=!0,o}return Yt(i,n),Kt(i,[{key:"shouldComponentUpdate",value:function(o,s){var l=this.props,u=this.state,c=this.pureShouldComponentUpdate(o,s);if(c&&u==s&&l!=o){var f=o.dragging.id||l.dragging.id,d=f==o.id,p=[];for(var v in o){var h=o[v]!=l[v];v=="dragging"&&!d&&(h=!1),h&&p.push(v)}p.length||(c=!1)}return c}},{key:"render",value:function(){var o=this.props.dragging.id==this.props.id,s=hce(this.props.config,this.props.field),l=this.props.fieldType||(s==null?void 0:s.type)||null,u=this.props.config.settings.showErrorMessage;s&&s.type=="!struct";var c=!o&&this.props.isDraggingTempo,f=this.props,d=f.valueError,p=f.fieldError,v=[p].concat(Ce((d==null?void 0:d.toArray())||[])).filter(function(m){return!!m}).shift()||null,h=v!=null&&u;return j.createElement("div",{className:Oi("group-or-rule-container","rule-container",h?"rule-with-error":null),"data-id":this.props.id},[o?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:o,isDraggingTempo:c,onDragStart:this.props.onDragStart,setLock:c?this.dummyFn:this.setLock,removeSelf:c?this.dummyFn:this.removeSelf,setField:c?this.dummyFn:this.setField,setFieldSrc:c?this.dummyFn:this.setFieldSrc,setFuncValue:c?this.dummyFn:this.setFuncValue,setOperator:c?this.dummyFn:this.setOperator,setOperatorOption:c?this.dummyFn:this.setOperatorOption,setValue:c?this.dummyFn:this.setValue,setValueSrc:c?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),r.propTypes={id:W.string.isRequired,groupId:W.string,config:W.object.isRequired,path:W.any.isRequired,operator:W.string,field:W.any,fieldSrc:W.string,fieldType:W.string,actions:W.object.isRequired,onDragStart:W.func,value:W.any,valueSrc:W.any,asyncListValues:W.array,valueError:W.any,fieldError:W.string,operatorOptions:W.object,reordableNodesCnt:W.number,parentField:W.string,isLocked:W.bool,isTrueLocked:W.bool,dragging:W.object,isDraggingTempo:W.bool},r};const gce=function(t){var e=cp(function(r){return{dragging:r.dragging}},null,null,{context:of})(vce(t));return e.displayName="ConnectedRuleContainer",e};function mce(t,e,r){return e=Le(e),er(t,QP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(QP=function(){return!!t})()}var mx=it.clone,yce=it.TreeUtils.getFlatTree,Vg=!1,bce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r=function(i){function a(o){var s;return Jt(this,a),s=mce(this,a,[o]),s._getEventTarget=function(l,u){return l&&l.__mocked_window||document.body||window},s.onDragStart=function(l,u,c){var f=u.closest(".query-builder");s._isUsingLegacyReactDomRender===void 0&&(s._isUsingLegacyReactDomRender=HP(f)),document.body.classList.add("qb-dragging"),f.classList.add("qb-dragging");var d=f.closest(".query-builder-container")||f;d=s._getScrollParent(d)||document.body;var p=d.scrollTop;s._getDraggableNodeEl(f),s._getPlaceholderNodeEl(f);var v=f.querySelectorAll(".group--children"),h=v.length?v[0]:null,m;h&&(m=window.getComputedStyle(h,null).getPropertyValue("padding-left"),m=parseInt(m));var y={id:l,x:u.offsetLeft,y:u.offsetTop,w:u.offsetWidth,h:u.offsetHeight,itemInfo:s.tree.items[l],paddingLeft:m},g={id:l,x:u.offsetLeft,y:u.offsetTop,scrollTop:p,clientX:c.clientX,clientY:c.clientY,itemInfo:mx(s.tree.items[l]),treeEl:f,treeElContainer:d},_={clientX:c.clientX,clientY:c.clientY},b=s._getEventTarget(c,g);s.eventTarget=b,b.addEventListener("mousemove",s.onDrag),b.addEventListener("mouseup",s.onDragEnd),s.props.setDragStart(g,y,_)},s.onDrag=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=Object.assign({},s.props.dragging),f=s.props.dragStart,d=c.paddingLeft,p=f.treeElContainer,v=p.scrollTop;if(c.itemInfo=s.tree.items[c.id],!!c.itemInfo){var h={clientX:l.clientX,clientY:l.clientY},m={clientX:f.clientX,clientY:f.clientY};if(l.__mock_dom){var y=f.treeEl,g=s._getDraggableNodeEl(y),_=s._getPlaceholderNodeEl(y);l.__mock_dom({treeEl:y,dragEl:g,plhEl:_})}if(!f.plX){var b=f.treeEl,S=s._getPlaceholderNodeEl(b);S&&(f.plX=S.getBoundingClientRect().left+window.scrollX,f.plY=S.getBoundingClientRect().top+window.scrollY)}var O=f.x,x=f.y,E=f.clientX,k=f.clientY,w=f.scrollTop,I={x:O+(l.clientX-E),y:x+(l.clientY-k)+(v-w)};c.x=I.x,c.y=I.y,c.paddingLeft=d,c.mousePos=h,c.startMousePos=m,s.props.setDragProgress(h,c);var C=u?s.handleDrag(c,l,n):!1;C||l.preventDefault&&l.preventDefault()}},s.onDragEnd=function(){var l=s.props.dragStart.treeEl;s.props.setDragEnd(),l.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),s._cacheEls={};var u=s.eventTarget||s._getEventTarget();u.removeEventListener("mousemove",s.onDrag),u.removeEventListener("mouseup",s.onDragEnd)},s.pureShouldComponentUpdate=hu(s),Mn(s),s.onPropsChanged(o),s}return Yt(a,i),Kt(a,[{key:"onPropsChanged",value:function(s){this.tree=yce(s.tree)}},{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=[];for(var p in s){var v=s[p]!=u[p];v&&p!="dragging"&&p!="mousePos"&&d.push(p)}d.length||(f=!1)}return f}},{key:"componentDidUpdate",value:function(s,l){var u=this.props.dragging,c=this.props.dragStart;if(Vg=!1,c&&c.id&&(u.itemInfo=this.tree.items[u.id],u.itemInfo&&(u.itemInfo.index!=c.itemInfo.index||u.itemInfo.parent!=c.itemInfo.parent))){var f=c.treeEl,d=c.treeElContainer,p=this._getPlaceholderNodeEl(f,!0);if(p){var v=p.getBoundingClientRect().left+window.scrollX,h=p.getBoundingClientRect().top+window.scrollY,m=c.plX,y=c.plY,g=d.scrollTop;c.plX=v,c.plY=h,c.itemInfo=mx(u.itemInfo),c.y=p.offsetTop,c.x=p.offsetLeft,c.clientY+=h-y,c.clientX+=v-m,d!=document.body&&(c.scrollTop=g),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(l==null)return null;this._cacheEls||(this._cacheEls={});var c=this._cacheEls[l];return c&&document.contains(c)&&!u||(c=s.querySelector('.group-or-rule-container[data-id="'+l+'"]'),this._cacheEls[l]=c),c}},{key:"_getDraggableNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.draggable;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-draggable");return u=c.length?c[0]:null,this._cacheEls.draggable=u,u}},{key:"_getPlaceholderNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.placeholder;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-placeholder");return u=c.length?c[0]:null,this._cacheEls.placeholder=u,u}},{key:"_isScrollable",value:function(s){var l=window.getComputedStyle(s)["overflow-y"];return(l==="scroll"||l==="auto")&&s.scrollHeight>s.offsetHeight}},{key:"_getScrollParent",value:function(s){return s==null?null:s===document.body||this._isScrollable(s)?s:this._getScrollParent(s.parentNode)}},{key:"handleDrag",value:function(s,l,u){var c=this,f=!0,d=s.itemInfo,p=s.paddingLeft,v=null,h=this.props.dragStart.treeEl,m=s.id,y=this._getDraggableNodeEl(h),g=this._getPlaceholderNodeEl(h),_,b,S,O;if(y&&g){if(_=y.getBoundingClientRect(),b=g.getBoundingClientRect(),!b.width)return;var x={hrz:0,vrt:0};_.top<b.top?x.vrt=-1:_.bottom>b.bottom&&(x.vrt=1),_.left>b.left?x.hrz=1:_.left<b.left&&(x.hrz=-1),O=h.getBoundingClientRect();var E={x:O.left+(O.right-O.left)/2,y:x.vrt>=0?_.bottom:_.top},k;if(l.__mocked_hov_container)k=l.__mocked_hov_container;else{var w=document.elementFromPoint(E.x,E.y-1);if(k=w?w.closest(".group-or-rule-container"):null,!k&&w&&w.classList.contains("query-builder-container")){var I,C=w==null||(I=w.firstChild)===null||I===void 0?void 0:I.firstChild;C&&C.classList.contains("group-or-rule-container")&&(k=C)}}if(!k)ice.log("out of tree bounds!");else{var A=k.classList.contains("group-container"),P=k.getAttribute("data-id"),L=k,V=!1,R=!1;if(L){S=L.getBoundingClientRect();var U=S.bottom-S.top,M=this.tree.items[P];if(!M)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var $=null,F=null,N=null,B=null;if(x.vrt==0)N=d,F=g,F&&($=F.getBoundingClientRect());else if(A){if(x.vrt>0){var z=k.getElementsByClassName("group--header"),H=z.length?z[0]:null;if(H){var D=H.getBoundingClientRect(),G=D.bottom-D.top,q=_.bottom-D.top>G*3/4;q&&M.top>s.itemInfo.top&&(N=M,$=D,F=H,R=!0)}}else if(x.vrt<0&&M.lev>=d.lev){var Y=S.bottom-_.top>=2;Y&&M.top<s.itemInfo.top&&(N=M,$=S,F=L,V=!0)}if(!R&&!V||f){var K=x.vrt<0?S.bottom-_.top>U-5:_.bottom-S.top>U-5;K&&(!R&&!V&&(N=M,$=S,F=L),B=M)}}else{var ie=x.vrt<0?S.bottom-_.top>U/2:_.bottom-S.top>U/2;ie&&(N=M,$=S,F=L)}var te=N&&N.id==m;if($){var oe=_.left-O.left;$.left-O.left;var ue=Math.max(0,Math.round(oe/p)),fe=[],pe=[];if(!te){if(A&&(V?fe.push([Ho,N,N.lev+1]):R&&fe.push([Vs,N,N.lev+1]),B)){var Se=B.lev==0,Q=B.type=="case_group"&&d.type!="case_group",re=B.prev&&this.tree.items[B.prev].caseId,de=B.next&&this.tree.items[B.next].caseId;d.caseId==re&&(re=null),d.caseId==de&&(de=null);var ve=re&&this.tree.items[re],ee=de&&this.tree.items[de];x.vrt>0?Se?pe.push([Ho,B,B.lev+1]):Q&&ee?pe.push([Vs,ee,ee.lev+1]):pe.push([qf,B,B.lev]):x.vrt<0&&(Se?pe.push([Vs,B,B.lev+1]):Q&&ve?pe.push([Ho,ve,ve.lev+1]):pe.push([Hf,B,B.lev]))}!V&&!R&&(x.vrt<0?fe.push([Hf,N,N.lev]):x.vrt>0&&fe.push([qf,N,N.lev]))}var me=function(Pe){var Be=Pe[1],Ne=d.caseId?c.tree.items[d.caseId]:null,ot=Be.caseId?c.tree.items[Be.caseId]:null;return[].concat(Ce(Pe),[Ne,ot])};fe=fe.map(me),pe=pe.map(me),fe=fe.filter(function(he){var Pe=he[0],Be=he[1];if((Pe==Hf||Pe==qf)&&Be.parent==null||Be.collapsed&&(Pe==Ho||Pe==Vs))return!1;var Ne=Be.id==d.id;if(!Ne){for(var ot=Be;ot.parent;)if(ot=c.tree.items[ot.parent],ot.id==d.id){Ne=!0;break}}return!Ne}).map(function(he){var Pe=he[0],Be=he[1];he[2],he[3],he[4];var Ne=null;return Pe==Ho||Pe==Vs?Ne=Be:Ne=c.tree.items[Be.parent],Ne&&Ne.parent==null&&(Ne=null),he[5]=Ne,he});var Oe=null,we=fe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)});we.length==0&&pe.length>0&&(we=pe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)}));var Je=we.map(function(he){return he[2]}),at=d.lev,ce=Je.concat(at),ge=null;ce.indexOf(ue)!=-1?ge=ue:ue>Math.max.apply(Math,Ce(ce))?ge=Math.max.apply(Math,Ce(ce)):ue<Math.min.apply(Math,Ce(ce))&&(ge=Math.min.apply(Math,Ce(ce))),Oe=we.find(function(he){return he[2]==ge}),!te&&!Oe&&we.length&&(Oe=we[0]),v=Oe}}}}return v?(this.move(d,v[1],v[0],v[3]),!0):!1}},{key:"canMove",value:function(s,l,u,c,f,d,p){if(!s||!l||s.id===l.id)return!1;var v=this.props.config.settings,h=v.canRegroup,m=v.canRegroupCases,y=v.maxNesting,g=v.maxNumberOfRules,_=v.canLeaveEmptyCase,b=d?d.lev+1:l.lev,S=b+(s.depth||0),O=u==Hf||u==qf,x=u==Vs||u==Ho,E=O&&l.lev==1||x&&l.lev==0,k=s.parent!=l.parent,w=x||k,I=s.type=="case_group"&&!E||s.parentType=="rule_group"||l.type=="rule_group"||l.parentType=="rule_group"||s.type!="case_group"&&l.type=="case_group"&&O||s.type!="case_group"&&l.type=="switch_group"||!m&&s.caseId!=l.caseId,C=l.isLocked||s.isLocked||d&&d.isLocked;if(y&&S>y||w&&(!h||I||C))return!1;if(s.type!="case_group"&&s.caseId!=l.caseId){var A=c?c._height==2:!1,P=f?f.atomicRulesCountInCase+1:0;if(g&&P>g||A&&!_)return!1}if(s.type=="case_group"&&(s.isDefaultCase||l.isDefaultCase||l.type=="switch_group"&&u==Ho))return!1;var L=!0;return p&&(L=p(s.node.toJS(),l.node.toJS(),u,d?d.node.toJS():null)),L}},{key:"move",value:function(s,l,u,c){this._isUsingLegacyReactDomRender||(Vg=!0),this.props.actions.moveItem(s.path,l.path,u)}},{key:"render",value:function(){return j.createElement(e,ae({},this.props,{onDragStart:this.onDragStart}))}}])}(J.Component),r.propTypes={tree:W.any.isRequired,actions:W.object.isRequired},r};const _ce=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=cp(function(n){return{dragging:n.dragging,dragStart:n.dragStart,mousePos:n.mousePos}},{setDragStart:Yue,setDragProgress:Gue,setDragEnd:Kue},null,{context:of})(bce(t,e));return r.displayName="ConnectedSortableContainer",r};var Sce=["isDraggingTempo","isDraggingMe","dragging"];function Oce(t,e,r){return e=Le(e),er(t,XP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function XP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XP=function(){return!!t})()}const vu=function(t){return function(e){var r;return r=function(n){function i(a){var o;return Jt(this,i),o=Oce(this,i,[a]),o.handleDraggerMouseDown=function(s){var l=o.props.id,u=o.wrapper.current;o.props.onDragStart&&o.props.onDragStart(l,u,s)},o.wrapper=j.createRef(),o}return Yt(i,n),Kt(i,[{key:"render",value:function(){var o=this.props,s=o.isDraggingTempo,l=o.isDraggingMe,u=o.dragging,c=ri(o,Sce),f=c.isTrueLocked,d={};l&&s&&(Vg||(d={top:u.y,left:u.x,width:u.w}));var p=Oi(t,"group-or-rule",l&&s?"qb-draggable":null,l&&!s?"qb-placeholder":null,f?"locked":null);return j.createElement("div",{className:p,style:d,ref:this.wrapper,"data-id":this.props.id},j.createElement(e,ae({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:l,isDraggingTempo:s},c)))}}])}(J.PureComponent),r.propTypes={isDraggingTempo:W.bool,isDraggingMe:W.bool,onDragStart:W.func,dragging:W.object,isLocked:W.bool,isTrueLocked:W.bool},r}};var xce=eh,wce=M0,Ece=xI,Cce=l0;function Tce(t,e){if(t==null)return{};var r=xce(Cce(t),function(n){return[n]});return e=wce(e),Ece(t,r,function(n,i){return e(n,i[0])})}var kce=Tce;const Ice=tn(kce);function yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ace(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jce(t,e,r){return e=Le(e),er(t,ZP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZP=function(){return!!t})()}var eL=it.ConfigUtils,Pce=eL.getFieldConfig,Lce=eL.getOperatorConfig,tL=function(t){function e(r){var n;return Jt(this,e),n=jce(this,e,[r]),n.shouldComponentUpdate=vh(n,{selectedField:function(a,o){return!1}}),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.selectedField,s=n.selectedFieldType,l=n.selectedOperator,u=Pce(a,o),c=Ce((u==null?void 0:u.operators)||((i=a.types[s])===null||i===void 0?void 0:i.operators)||[]);!o&&!c.includes(l)&&c.push(l);var f=hh(Ice(a.operators,function(b,S){return(c==null?void 0:c.indexOf(S))!==-1}),function(b,S){return Lce(a,S,o)}),d=this.buildOptions(a,f,c),p=f[l]||{},v=this.props.config.settings.operatorPlaceholder,h=l,m=h?[h]:null,y=m,g=p.label,_=p.label2||p.tooltip;return{placeholder:v,items:d,selectedKey:h,selectedKeys:m,selectedPath:y,selectedLabel:g,selectedAltLabel:_,selectedOpts:p,fieldConfig:u}}},{key:"buildOptions",value:function(n,i,a){return!i||!a?null:wl(i).sort(function(o,s){return a.indexOf(o)-a.indexOf(s)}).map(function(o){var s=i[o],l=s.label,u=s.label2,c=s.tooltip;return{key:o,path:o,label:l,altLabel:u,tooltip:c}})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setOperator,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderOperator,f=Ace({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:o},this.meta);return f.items?c(f,i.ctx):null}}])}(J.Component);tL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,selectedField:W.any,selectedFieldId:W.string,selectedFieldType:W.string,selectedFieldSrc:W.string,selectedOperator:W.string,readonly:W.bool,customProps:W.object,setOperator:W.func.isRequired};var Fce=["children"],Hr=function(e){var r=e.children,n=ri(e,Fce);return j.createElement("div",n,r)},Tn=function(){},rL=function(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},j.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},gu=function(e){return function(r){var n=r.config.settings.useConfirm,i=n?n.call(r.config.ctx,r.config.ctx):null;return j.createElement(e,ae({},r,{confirmFn:i}))}},nL=function(e){var r=e.id,n=e.isLHS,i=e.delta,a=e.parentFuncs;return[r,n?"L":"R",n?-1:i||0,(a||[]).map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"(").concat(u,")")}).join("/")].join(":")},kn=function(e,r){var n;return typeof r=="function"?(n=function(a){return r==null?void 0:r(a,e.ctx)},n.displayName=r.name):n=r,n};function Rce(t,e,r){return e=Le(e),er(t,iL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iL=function(){return!!t})()}var aL=function(t){function e(){return Jt(this,e),Rce(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.setOperator,c=n.selectedFieldId,f=n.showOperator,d=n.showOperatorLabel,p=n.selectedFieldWidgetConfig,v=n.readonly,h=n.id,m=n.groupId,y=f&&j.createElement(Hr,{key:"operators-for-"+c,className:"rule--operator"},i.settings.showLabels&&j.createElement("label",{className:"rule--label"},i.settings.operatorLabel),j.createElement(tL,{key:"operator",config:i,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,selectedFieldId:c,selectedOperator:l,setOperator:u,customProps:i.settings.customOperatorSelectProps,readonly:v,id:h,groupId:m})),g=d&&j.createElement(Hr,{key:"operators-for-"+c,className:"rule--operator"},j.createElement("div",{className:"rule--operator-wrapper"},i.settings.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null,j.createElement("div",{className:"rule--operator-text-wrapper"},j.createElement("span",{className:"rule--operator-text"},p.operatorInlineLabel))));return[y,g]}}])}(J.PureComponent);function bx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nce(t,e,r){return e=Le(e),er(t,oL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oL=function(){return!!t})()}var _x=it.RuleUtils.getFieldPathLabels,q0=it.ConfigUtils,Sx=q0.getFieldConfig,Ox=q0.getFieldParts,xx=q0.getFieldPathParts,sL=function(t){function e(r){var n;return Jt(this,e),n=Nce(this,e,[r]),n.setField=function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.props.id;if(!o.widgetId){var l=[s,"L",-1].join(":");o.widgetId=l}n.props.setField(i,a,o)},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.config,s=n.parentField,l=i,u=o.settings,c=u.maxLabelsLength,f=u.fieldSeparatorDisplay,d=u.fieldPlaceholder;u.fieldSeparator;var p=!!i,v=p?null:ep(d,c),h=p?Sx(o,l):null,m=h||{},y=xx(l,o),g=xx(l,o,!0),_=this.getFieldLabel(h,l,o),b=_x(l,o),S=b?b.join(f):null;(S==_||s)&&(S=null);var O=m.label2||m.tooltip,x=Ox(s,o),E=s?Sx(o,s):null,k=s?E&&E.subfields:o.fields,w=!p&&a,I=this.buildOptions(x,o,k,w,x),C=w?"Please select field":null;return l&&xt(l)==="object"&&(l=void 0),{placeholder:v,items:I,parentField:s,selectedKey:l,selectedKeys:y,selectedPath:g,selectedLabel:_,selectedOpts:m,selectedAltLabel:O,selectedFullLabel:S,errorText:C}}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Ox(i,a),l=(n==null?void 0:n.label)||ih(s);return l=ep(l,o),l}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(!a)return null;var c=i.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"",v=function h(m){return Object.keys(m||{}).reduce(function(y,g){var _=m[g];return _.type==="!struct"?y+h(_.subfields):y+(_.type===s?1:0)},0)};return wl(a).map(function(h){var m=[].concat(Ce(l!=null?l:[]),[h]),y=a[h],g=o.getFieldLabel(y,m,i),_=_x(m,i),b=_.join(d);(b==g||n!=null&&n.length)&&(b=null);var S=y.label2,O=y.tooltip,x=y.disabled;if(!y.hideForSelect)if(y.type=="!struct"){var E=o.buildOptions(n,i,y.subfields,s,m,{label:g,tooltip:O}),k=v(y.subfields)>0;return{disabled:x,key:h,path:p+h,label:g,fullLabel:b,altLabel:S,tooltip:O,items:E,matchesType:k}}else{var w=s!==void 0?y.type===s:void 0;return{disabled:x,key:h,path:p+h,label:g,fullLabel:b,altLabel:S,tooltip:O,grouplabel:u==null?void 0:u.label,group:u,matchesType:w}}}).filter(function(h){return!!h})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setFieldSrc,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=$ce({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:this.setField,setFieldSrc:o},this.meta);return c(f,i.ctx)}}])}(J.Component);sL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,selectedField:W.any,selectedFieldSrc:W.string,selectedFieldType:W.string,parentField:W.string,customProps:W.object,readonly:W.bool,setField:W.func.isRequired,setFieldSrc:W.func};function wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mce(t,e,r){return e=Le(e),er(t,lL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lL=function(){return!!t})()}var Vce=it.clone,gh=it.ConfigUtils,Bce=gh.getFieldConfig,Ex=gh.getFuncConfig,qce=gh.getFieldParts,Cx=gh.getFieldPathParts,uL=it.RuleUtils,Tx=uL.getFuncPathLabels,Hce=uL.getWidgetForFieldOp,zce=it.OtherUtils.shallowEqual,cL=function(t){function e(r){var n;return Jt(this,e),n=Mce(this,e,[r]),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"],o=["config","field","fieldType","fieldSrc","value","isLHS"],s=!this.items||a.map(function(u){return u==="parentFuncs"?!zce(n[u],i[u],!0):n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;l&&(this.meta=this.getMeta(n)),s&&(this.items=this.getItems(n,this.meta))}},{key:"getItems",value:function(n,i){var a=n.config,o=n.field,s=n.fieldType,l=n.isLHS,u=n.operator,c=n.parentFuncs,f=n.fieldDefinition,d=n.isFuncArg,p=i.lookingForFieldType,v=a.settings.canUseFuncForField,h=this.filterFuncs(a,a.funcs,o,s,l,u,v,c,d,f),m=this.buildOptions(a,h,p);return m}},{key:"getMeta",value:function(n){var i=n.config;n._field;var a=n.fieldType,o=n.value,s=n.isLHS,l=n.isFuncArg,u=i.settings,c=u.funcPlaceholder,f=u.fieldSeparatorDisplay,d=o,p=!!o,v=p?null:c,h=p?Ex(i,d):null,m=h||{},y=Cx(d,i),g=Cx(d,i,!0),_=this.getFuncLabel(h,d,i),b=Tx(d,i),S=b?b.join(f):null;S==_&&(S=null);var O=s&&!l,x=O&&!p&&a,E=x?"Please select function":null;return{placeholder:v,selectedKey:d,selectedKeys:y,selectedPath:g,selectedLabel:_,selectedOpts:m,selectedFullLabel:S,errorText:E,lookingForFieldType:x}}},{key:"filterFuncs",value:function(n,i,a,o,s,l,u,c,f,d){i=Vce(i);var p=n.settings.fieldSeparator,v=Bce(n,a),h,m=v,y=Hce(n,a,l,"value");y&&n.widgets[y],f?(m=d,h=d==null?void 0:d.type):v?h=v.type:s||(h=o);function g(_,b){for(var S in _){var O=_[S].subfields,x=(b||[]).concat(S),E=x.join(p),k=Ex(n,E);if(k.type=="!struct")g(O,x)==0&&delete _[S];else{var w,I=!h||k.returnType==h;(w=m)!==null&&w!==void 0&&w.funcs&&(I=I&&m.funcs.includes(E)),u&&(I=I&&u(a,v,E,k,l)),!k.allowSelfNesting&&c&&c.map(function(C){var A=ke(C,2),P=A[0];return A[1],P}).includes(E)&&(I=!1),I||delete _[S]}}return wl(_).length}return g(i,[]),i}},{key:"buildOptions",value:function(n,i){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!i)return null;var u=n.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"",p=function v(h){return Object.keys(h||{}).reduce(function(m,y){var g=h[y];return g.type==="!struct"?m+v(g.subfields):m+(g.type===o?1:0)},0)};return wl(i).map(function(v){var h=[].concat(Ce(s!=null?s:[]),[v]),m=i[v],y=a.getFuncLabel(m,h,n),g=Tx(h,n),_=g.join(f);_==y&&(_=null);var b=m.tooltip;if(m.type=="!struct"){var S=a.buildOptions(n,m.subfields,o,h,{label:y,tooltip:b}),O=p(m.subfields)>0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,items:S,matchesType:O}}else{var x=o!==void 0?m.returnType===o:void 0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l,matchesType:x}}})}},{key:"getFuncLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=qce(i,a),l=(n==null?void 0:n.label)||ih(s);return l=ep(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderFunc,f=Dce({config:i,customProps:a,readonly:s,setField:o,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);cL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,field:W.any,fieldType:W.string,fieldSrc:W.string,operator:W.string,customProps:W.object,value:W.string,setValue:W.func.isRequired,readonly:W.bool,parentFuncs:W.array,fieldDefinition:W.object,isFuncArg:W.bool,isLHS:W.bool};var Uce=Math.ceil,Wce=Math.max;function Gce(t,e,r,n){for(var i=-1,a=Wce(Uce((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Yce=Gce,Kce=/\s/;function Jce(t){for(var e=t.length;e--&&Kce.test(t.charAt(e)););return e}var Qce=Jce,Xce=Qce,Zce=/^\s+/;function efe(t){return t&&t.slice(0,Xce(t)+1).replace(Zce,"")}var tfe=efe,rfe=tfe,kx=Ei,nfe=Zp,Ix=NaN,ife=/^[-+]0x[0-9a-f]+$/i,afe=/^0b[01]+$/i,ofe=/^0o[0-7]+$/i,sfe=parseInt;function lfe(t){if(typeof t=="number")return t;if(nfe(t))return Ix;if(kx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rfe(t);var r=afe.test(t);return r||ofe.test(t)?sfe(t.slice(2),r?2:8):ife.test(t)?Ix:+t}var fL=lfe,ufe=fL,Ax=1/0,cfe=17976931348623157e292;function ffe(t){if(!t)return t===0?t:0;if(t=ufe(t),t===Ax||t===-Ax){var e=t<0?-1:1;return e*cfe}return t===t?t:0}var dL=ffe,dfe=Yce,pfe=Rj,vv=dL;function hfe(t){return function(e,r,n){return n&&typeof n!="number"&&pfe(e,r,n)&&(r=n=void 0),e=vv(e),r===void 0?(r=e,e=0):r=vv(r),n=n===void 0?e<r?1:-1:vv(n),dfe(e,r,n,t)}}var vfe=hfe,gfe=vfe,mfe=gfe(),yfe=mfe;const Bg=tn(yfe);var bfe=["widgetFactory"],_fe=["factory"];function jx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Px=it.ListUtils.getTitleInListValues,Sfe=it.ConfigUtils._widgetDefKeysToOmit,pL=it.TreeUtils,Ofe=pL._fixImmutableValue,xfe=pL.isImmutable,hL=J.memo(function(t){var e=t.widgetFactory,r=ri(t,bfe),n=r.config,i=r.isFuncArg,a=r.fieldDefinition,o=a||{},s=o.fieldSettings,l=o.defaultValue,u=o.valueSources,c=i&&(u==null?void 0:u.length)==1&&(u==null?void 0:u[0])==="const",f=(s==null?void 0:s.treeValues)||(s==null?void 0:s.listValues);return c&&l?typeof l=="boolean"?l?r.labelYes||"YES":r.labelNo||"NO":f?Array.isArray(l)?l.map(function(d){return Px(f,d)||d}).join(", "):Px(f,l)||l:""+l:e?e(r,n.ctx):"?"});hL.displayName="WidgetFactoryMemo";var vL=function(e){var r=e.delta,n=e.isFuncArg,i=e.valueSrc,a=e.value,o=e.valueError,s=e.fieldError,l=e.asyncListValues,u=e.isSpecialRange,c=e.fieldDefinition,f=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,v=e.valueLabels,h=e.textSeparators,m=e.setValue,y=e.setFuncValue,g=e.config,_=e.field,b=e.fieldSrc,S=e.fieldPath,O=e.fieldType,x=e.isLHS,E=e.operator,k=e.readonly,w=e.parentField,I=e.parentFuncs,C=e.id,A=e.groupId,P=e.widgetId,L=d.factory,V=ri(d,_fe),R=a?a.map(function(q){return Ofe(q)}):void 0,U=J.useMemo(function(){if(u){var q=[R==null?void 0:R.get(0),R==null?void 0:R.get(1)];return q[0]===void 0&&q[1]===void 0&&(q=void 0),q}return R==null?void 0:R.get(r)},[u,a]),M=J.useMemo(function(){return o?u?[o.get(0),o.get(1),o.get(2)]:o==null?void 0:o.get(r):null},[u,a]),$=x?s:M,F=c||{},N=F.fieldSettings,B=p.label,z=p.placeholder,H=v?v.placeholder:null,D=xfe(_)?null:_,G=Co(gv(gv(gv({},V),N),{},{config:g,field:D,fieldPath:S,fieldSrc:b,fieldType:O,isLHS:x,parentField:w,parentFuncs:I,fieldDefinition:c,operator:E,delta:r,isSpecialRange:u,isFuncArg:n,value:U,valueSrc:i,valueError:M,fieldError:s,errorMessage:$,label:B,placeholder:z,placeholders:H,textSeparators:h,setValue:m,setFuncValue:y,readonly:k,asyncListValues:l,id:C,groupId:A,widgetId:P,widgetFactory:L,widget:f}),[].concat(Ce(Sfe),["toJS"]));return j.createElement(hL,ae({widgetFactory:L},G))};vL.displayName="WidgetFactory";function wfe(t,e,r){return e=Le(e),er(t,gL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gL=function(){return!!t})()}var H0=it.ConfigUtils,Efe=H0.getFieldConfig,Cfe=H0.getOperatorConfig,Lx=H0.getFieldWidgetConfig,z0=it.RuleUtils,Tfe=z0.getValueSourcesForFieldOp,Fx=z0.getWidgetForFieldOp,zf=z0.getValueLabel,Rx=it.DefaultUtils.createListWithOneElement,kfe=it.OtherUtils.shallowEqual;it.TreeUtils.isImmutable;var Ife={cardinality:1},sf=function(t){function e(r){var n;return Jt(this,e),n=wfe(this,e,[r]),n._setValue=function(i,a,o,s,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};if(c.widgetId||(c.widgetId=s),i&&Array.isArray(l)){var f=[n.props.value.get(0),n.props.value.get(1)];f[0]!=l[0]&&n.props.setValue(0,l[0],o,u,c),f[1]!=l[1]&&n.props.setValue(1,l[1],o,u,c)}else n.props.setValue(a,l,o,u,c)},n._setValueSrc=function(i,a,o){var s={widgetId:a};n.props.setValueSrc(i,o,s)},n.renderWidget=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.value,d=o.valueError,p=o.fieldError,v=o.readonly,h=o.parentField,m=o.parentFuncs,y=o.id,g=o.groupId,_=o.fieldSrc,b=o.fieldType,S=o.isLHS,O=o.setFuncValue,x=s.settings,E=a.widgets,k=a.iValues,w=a.aField,I=a.valueSources,C=l?k:f,A=l?u:w,P=E[i],L=P.valueSrc,V=P.valueLabel,R=P.widgetId,U=I.length>1&&!v,M=x.showLabels?j.createElement("label",{key:"label-"+R,className:"rule--label"},V.label):null;return j.createElement("div",{key:"wrapper-"+R,className:Oi(L==="func"?"widget--func":"widget--widget",U?"widget--has-valuerscs":"widget--has-no-valuerscs")},L==="func"?null:M,j.createElement(vL,ae({key:R,id:y,groupId:g,widgetId:R,valueSrc:L,delta:i,value:C,valueError:d,fieldError:p,isFuncArg:l,isLHS:S},Sa(a,["isSpecialRange","fieldDefinition","asyncListValues"]),Sa(E[i],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:O,config:s,field:A,fieldSrc:_,fieldType:b,parentField:h,parentFuncs:m,operator:c,readonly:v})))},n.renderValueSources=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.readonly,d=s.settings,p=a.valueSources,v=a.widgets,h=a.aField,m=a.valueSourcesOptions,y=l?u:h,g=v[i],_=g.valueSrc,b=g.setValueSrc,S=n.ValueSources,O=d.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return p.length>1&&!f&&j.createElement("div",{key:"wrapper-valuesrc-"+i,className:"widget--valuesrc"},O,j.createElement(S,{key:"valuesrc-"+i,delta:i,valueSources:m,valueSrc:_,config:s,field:y,operator:c,setValueSrc:b,readonly:f,title:d.valueSourcesPopupTitle}))},n.renderSep=function(i,a,o){var s=o.config,l=a.widgets,u=s.settings,c=l[i].sepText,f=u.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return c&&j.createElement("div",{key:"widget-separators-"+i,className:Oi("widget--sep",i==0&&"widget--sep-first")},f,j.createElement("span",null,c))},n.renderWidgetDelta=function(i){var a=n.renderSep(i,n.meta,n.props),o=n.renderValueSources(i,n.meta,n.props),s=n.renderWidget(i,n.meta,n.props);return[a,o,s]},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"],s=o.filter(function(f){return f==="parentFuncs"?!kfe(n[f],i[f],!0):f==="field"?n.fieldId!==i.fieldId:n[f]!==i[f]}),l=!this.meta||s.length>0;if(l&&(this.meta=this.getMeta(n,s)),a){var u=n.config,c=u.settings.renderValueSources;this.ValueSources=kn(u,c)}}},{key:"getMeta",value:function(n){var i,a,o,s,l=this,u=n.config,c=n.field;n.fieldSrc;var f=n.fieldType,d=n.fieldFunc,p=n.fieldArg,v=n.operator,h=n.valueSrc,m=n.value,y=n.isForRuleGroup,g=n.isCaseValue,_=n.isFuncArg;n.leftField;var b=n.asyncListValues,S=n.parentFuncs,O=n.isLHS,x=n.id,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=u.settings.valueSourcesInfo,w=_?{func:d,arg:p}:c,I=!c&&f,C=h,A=m;(_||y||g)&&(C=Rx(h),A=Rx(m));var P=Efe(u,w);!P&&I&&(P=u.types[f]);var L=Fx(u,w,v);if(!L&&I){var V;L=(V=u.types[f])===null||V===void 0?void 0:V.mainWidget}var R=_?Ife:Cfe(u,v,w);if((P==null||R==null)&&!g)return null;var U=R==null?void 0:R.isSpecialRange,M=U&&(((i=C)===null||i===void 0?void 0:i.get(0))==="field"||((a=C)===null||a===void 0?void 0:a.get(1))==="field"),$=U&&!M,F=$?1:Zue(R);if(F===0)return null;var N=(o=this.meta)===null||o===void 0?void 0:o.valueSources,B=(s=this.meta)===null||s===void 0?void 0:s.valueSourcesOptions;(!N||["field","operator","config","fieldDefinition","isForRuleGroup"].filter(function(H){return E.includes(H)}).length)&&(N=Tfe(u,w,v,P),y&&(N=["value"]),w||(N=Object.keys(k)),B=N.map(function(H){return[H,{label:k[H].label}]}));var z=Bg(0,F).map(function(H){var D,G,q,Y,K=(D=l.meta)===null||D===void 0||(D=D.widgets)===null||D===void 0?void 0:D[H],ie=((G=C)===null||G===void 0?void 0:G.get(H))||null,te=Fx(u,w,v,ie),oe=Lx(u,w,v,te,ie);M&&(te=oe.singleWidget,oe=Lx(u,w,v,te,ie)),!oe&&I&&(te=["func","field"].includes(ie)?ie:L,oe=u.widgets[te]);var ue=(q=oe)===null||q===void 0?void 0:q.type,fe=zf(u,w,v,H,ie,$),pe=zf(u,w,v,H,null,$),Se=R!=null&&R.textSeparators?R==null?void 0:R.textSeparators[H]:null,Q=null,re=null;U&&(Q=[zf(u,w,v,0),zf(u,w,v,1)],Q={placeholder:[Q[0].placeholder,Q[1].placeholder],label:[Q[0].label,Q[1].label]},re=R==null?void 0:R.textSeparators);var de=nL({id:x,isLHS:O,delta:H,parentFuncs:S}),ve=de+":VS",ee=K==null?void 0:K.setValueSrc;(!ee||(K==null?void 0:K.widgetId)!==de)&&(ee=l._setValueSrc.bind(l,H,ve));var me=K==null?void 0:K.setValue;return(!me||(K==null?void 0:K.widgetId)!==de||(K==null?void 0:K.widgetType)!==ue||((Y=l.meta)===null||Y===void 0?void 0:Y.isSpecialRange)!==U)&&(me=l._setValue.bind(l,U,H,ue,de)),{valueSrc:ie,valueLabel:fe,widget:te,sepText:Se,widgetDefinition:oe,widgetValueLabel:pe,valueLabels:Q,textSeparators:re,setValueSrc:ee,setValue:me,widgetId:de,widgetType:ue}});return{defaultWidget:L,fieldDefinition:P,operatorDefinition:R,isSpecialRange:$,cardinality:F,valueSources:N,valueSourcesOptions:B,widgets:z,iValues:A,aField:w,asyncListValues:b}}},{key:"render",value:function(){if(!this.meta)return null;var n=this.meta,i=n.defaultWidget,a=n.cardinality;if(!i)return null;var o=i;return j.createElement(Hr,{className:"rule--widget rule--widget--".concat(o.toUpperCase()),key:"widget-col-"+o},Bg(0,a).map(this.renderWidgetDelta))}}])}(J.Component);sf.propTypes={config:W.object.isRequired,value:W.any,valueSrc:W.any,valueError:W.any,fieldError:W.string,field:W.any,fieldSrc:W.string,fieldType:W.string,fieldId:W.string,operator:W.string,readonly:W.bool,asyncListValues:W.array,id:W.string,groupId:W.string,setValue:W.func,setValueSrc:W.func,setFuncValue:W.func,isFuncArg:W.bool,fieldFunc:W.string,fieldArg:W.string,leftField:W.any,isForRuleGroup:W.bool,parentField:W.string,parentFuncs:W.array,isLHS:W.bool,isCaseValue:W.bool};function mL(t,e,r){return e=Le(e),er(t,yL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yL=function(){return!!t})()}var Afe=it.ConfigUtils.getFuncConfig,bL=it.OtherUtils.shallowEqual,U0=function(t){function e(r){var n;return Jt(this,e),n=mL(this,e,[r]),n.setFunc=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.props,s=o.isLHS,l=o.delta,u=o.parentFuncs,c=o.id;if(!a.widgetId){var f=nL({id:c,isLHS:s,delta:l,parentFuncs:u});a.widgetId=f}n.props.setFuncValue(s?-1:l||0,u,null,i,"!func",void 0,a)},n.setArgValue=function(i,a,o,s,l){var u=n.props;u.config;var c=u.delta,f=u.isLHS,d=u.parentFuncs;n.props.setFuncValue(f?-1:c||0,d,i,a,o,s,l)},n.setArgValueSrc=function(i,a,o){var s=n.props;s.config;var l=s.delta,u=s.isLHS,c=s.parentFuncs;n.props.setFuncValue(u?-1:l||0,c,i,a,"!valueSrc",void 0,o)},n.renderFuncSelect=function(){var i,a,o=n.props,s=o.config,l=o.field,u=o.fieldType,c=o.fieldSrc,f=o.isLHS,d=o.operator,p=o.customProps,v=o.value,h=o.readonly,m=o.parentFuncs,y=o.id,g=o.groupId,_=o.isFuncArg,b=o.fieldDefinition,S=(i=v==null||(a=v.get)===null||a===void 0?void 0:a.call(v,"func"))!==null&&i!==void 0?i:null,O={value:S,setValue:n.setFunc,config:s,field:l,fieldType:u,fieldSrc:c,isLHS:f,operator:d,customProps:p,readonly:h,parentFuncs:m,isFuncArg:_,fieldDefinition:b,id:y,groupId:g},x=s.settings,E=x.showLabels,k=x.funcLabel,w=E?j.createElement("label",{className:"rule--label"},k):null;return j.createElement(Hr,{key:"func",className:"rule--func"},w,j.createElement(cL,O))},n.renderArgLabel=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=a.label,c=n.props.config,f=o&&o.length==1&&o[0]=="const",d=!c.settings.showLabels&&(s=="boolean"||f)&&l;return d?j.createElement(Hr,{className:"rule--func--arg-label"},u||i):null},n.renderArgLabelSep=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=n.props.config,c=o&&o.length==1&&o[0]=="const",f=!u.settings.showLabels&&(s=="boolean"||c)&&l;return f?j.createElement(Hr,{className:"rule--func--arg-label-sep"},":"):null},n.renderArgVal=function(i,a,o){var s=n.props,l=s.config,u=s.field,c=s.fieldType,f=s.fieldSrc,d=s.isLHS;s.operator;var p=s.value,v=s.readonly,h=s.parentFuncs,m=s.id,y=s.groupId,g=s.fieldError,_=s.valueError,b=s.setFuncValue,S=p?p.getIn(["args",a]):null,O=S?S.get("value"):void 0,x=o.valueSources.length==1?o.valueSources[0]:void 0,E=S?S.get("valueSrc")||x||"value":x,k={config:l,fieldFunc:i,fieldArg:a,leftField:u,fieldType:c,fieldSrc:f,fieldError:g,valueError:_,isLHS:d,operator:null,value:O,valueSrc:E,setValue:n.setArgValue,setValueSrc:n.setArgValueSrc,setFuncValue:b,funcKey:i,argKey:a,argDefinition:o,readonly:v,parentFuncs:h,id:m,groupId:y};return j.createElement(Hr,{className:"rule--func--arg-value"},j.createElement(_L,k))},n.renderArgSep=function(i,a,o,s){var l=s.renderSeps;return o?j.createElement(Hr,{className:"rule--func--arg-sep"},l?l[o-1]:", "):null},n.renderBracketBefore=function(i){var a=i.renderBrackets;return j.createElement(Hr,{key:"before_args",className:"rule--func--bracket-before"},a?a[0]:"(")},n.renderBracketAfter=function(i){var a=i.renderBrackets;return j.createElement(Hr,{key:"after_args",className:"rule--func--bracket-after"},a?a[1]:")")},n.renderFuncArgs=function(){var i=n.meta,a=i.funcDefinition,o=i.funcKey;if(!o)return null;var s=a||{},l=s.args;return l?j.createElement(j.Fragment,null,n.renderBracketBefore(a),j.createElement(Hr,{key:"args-".concat(o),className:"rule--func--args rule--func--".concat(o,"--args")},Object.keys(l).map(function(u,c){return j.createElement(Hr,{key:"arg-".concat(u,"-").concat(c),className:"rule--func--arg rule--func--".concat(o,"--arg--").concat(u)},n.renderArgSep(u,l[u],c,a),n.renderArgLabel(u,l[u]),n.renderArgLabelSep(u,l[u]),n.renderArgVal(o,u,l[u]))})),n.renderBracketAfter(a)):null},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","operator","value","fieldSrc","fieldType","isLHS"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!bL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a,o=n.config;n.field,n.operator;var s=n.value,l=(i=s==null||(a=s.get)===null||a===void 0?void 0:a.call(s,"func"))!==null&&i!==void 0?i:null,u=l?Afe(o,l):null;return{funcDefinition:u,funcKey:l}}},{key:"render",value:function(){var n=this.props.parentFuncs,i=n?n.map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"_").concat(u)}).join("-"):"root",a=(n==null?void 0:n.length)||0;return j.createElement(Hr,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(i," rule--func--wrapper--lev-").concat(a)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(J.Component);U0.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,field:W.any,fieldSrc:W.string,fieldType:W.string,fieldError:W.string,operator:W.string,customProps:W.object,value:W.object,setValue:W.func.isRequired,setFuncValue:W.func,readonly:W.bool,parentFuncs:W.array,fieldDefinition:W.object,isFuncArg:W.bool,isLHS:W.bool,valueError:W.string};var _L=function(t){function e(r){var n;return Jt(this,e),n=mL(this,e,[r]),n.setValue=function(i,a,o,s,l){var u=n.props,c=u.setValue,f=u.argKey;c(f,a,o,s,l)},n.setValueSrc=function(i,a,o){var s=n.props,l=s.setValueSrc,u=s.argKey;l(u,a,o)},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["parentFuncs","funcKey","argKey"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!bL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.parentFuncs,a=n.funcKey,o=n.argKey,s=[].concat(Ce(i||[]),[[a,o]]);return{parentFuncs:s}}},{key:"render",value:function(){var n=this.meta.parentFuncs;return j.createElement(sf,ae({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:n}))}}])}(J.Component);_L.propTypes={funcKey:W.string.isRequired,argKey:W.string.isRequired,setValue:W.func.isRequired,setValueSrc:W.func.isRequired,readonly:W.bool,isLHS:W.bool,parentFuncs:W.array,id:W.string,groupId:W.string};function jfe(t,e,r){return e=Le(e),er(t,SL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function SL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SL=function(){return!!t})()}var W0=function(t){function e(r){var n;return Jt(this,e),n=jfe(this,e,[r]),n.renderField=function(){var i=n.props,a=i.config,o=i.classname,s=i.selectedField,l=i.selectedFieldSrc,u=i.selectedFieldType,c=i.setField,f=i.setFuncValue,d=i.parentField,p=i.readonly,v=i.id,h=i.groupId,m=i.fieldError,y=i.valueError,g=["func","field"];if(!g.includes(l))return"?";var _=l==="func"?j.createElement(U0,{isLHS:!0,config:a,value:s,fieldSrc:l,fieldType:u,fieldError:m,valueError:y,parentField:d,setValue:c,setFuncValue:f,readonly:p,id:v,groupId:h,key:"field-func-"+v}):j.createElement(sL,{config:a,selectedField:s,selectedFieldSrc:l,selectedFieldType:u,parentField:d,setField:c,customProps:a.settings.customFieldSelectProps,readonly:p,id:v,groupId:h,key:"field-"+v}),b=l==="func"?a.settings.funcLabel:a.settings.fieldLabel,S=a.settings.showLabels&&l!=="func"&&j.createElement("label",{className:"rule--label"},b);return j.createElement("div",{key:l,className:o},S,_)},n.renderFieldSources=function(){if(!n.meta)return null;var i=n.props,a=i.config,o=i.readonly,s=i.selectedFieldSrc,l=i.setFieldSrc,u=i.id,c=n.meta.fieldSourcesOptions,f=a.settings,d=n.ValueSources,p=f.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return c.length>1&&!o&&j.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},p,j.createElement(d,{key:"fieldsrc-"+u,valueSources:c,valueSrc:s,config:a,setValueSrc:l,readonly:o,title:f.fieldSourcesPopupTitle}))},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config"],s=!this.meta||o.map(function(c){return n[c]!==i[c]}).filter(function(c){return c}).length>0;if(s&&(this.meta=this.getMeta(n)),a){var l=n.config,u=l.settings.renderValueSources;this.ValueSources=function(c){return u(c,l.ctx)}}}},{key:"getMeta",value:function(n){var i=n.config,a=i.settings,o=a.valueSourcesInfo,s=a.fieldSources,l=s.map(function(u){return[u,{label:o[u].label}]});return{fieldSourcesOptions:l}}},{key:"render",value:function(){var n=this.props;n.classname;var i=n.canSelectFieldSource,a=i&&this.renderFieldSources(),o=this.renderField();return i?j.createElement(Hr,{className:"rule--field-wrapper"},a,o):o}}])}(J.Component),Pfe=["factory"];function Lfe(t,e,r){return e=Le(e),er(t,OL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(OL=function(){return!!t})()}var Ffe=it.ConfigUtils.getOperatorConfig,xL=function(t){function e(){return Jt(this,e),Lfe(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var n=Ffe(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof n.options>"u")return null;var i=n.options,a=i.factory,o=ri(i,Pfe),s=Object.assign({},o,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),l=a(s,this.props.config.ctx),u=this.props.selectedOperator;return j.createElement("div",{className:"rule--operator rule--operator--".concat(u.toUpperCase())},l)}}])}(J.PureComponent);xL.propTypes={config:W.object.isRequired,operatorOptions:W.any.isRequired,selectedField:W.any,selectedFieldSrc:W.string,selectedOperator:W.string.isRequired,readonly:W.bool,setOperatorOption:W.func.isRequired};function $x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rfe(t,e,r){return e=Le(e),er(t,wL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wL=function(){return!!t})()}var mh=it.ConfigUtils,$fe=mh.getFieldConfig,Nfe=mh.getOperatorConfig,Dfe=mh.getFieldWidgetConfig,Mfe=mh.getFieldId,Vfe=it.RuleUtils.isEmptyRuleProperties,EL=function(t){function e(r){var n;return Jt(this,e),n=Rfe(this,e,[r]),Mn(n),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config),s=["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"],l=!this.meta||s.map(function(g){return n[g]!==a[g]}).filter(function(g){return g}).length>0;if(l&&(this.meta=this.getMeta(n)),o){var u=n.config,c=u.settings,f=c.renderIcon,d=c.renderButton,p=c.renderButtonGroup,v=c.renderSwitch,h=c.renderBeforeWidget,m=c.renderAfterWidget,y=c.renderRuleError;this.Icon=kn(u,f),this.Btn=kn(u,d),this.BtnGrp=kn(u,p),this.Switch=kn(u,v),this.BeforeWidget=kn(u,h),this.AfterWidget=kn(u,m),this.RuleError=kn(u,y)}this.doRemove=function(){i.props.removeSelf()}}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.selectedOperator,s=n.config,l=n.reordableNodesCnt,u=n.isLocked,c=s.settings.keepInputOnChangeFieldSrc,f=Mfe(i,s),d=$fe(s,i),p=d&&d.type==="!struct",v=c&&a,h=!!i||v,m=h&&o,y=Nfe(s,o,i),g=y&&y.options!=null,_=Dfe(s,i,o,null,null)||{},b=_.hideOperator,S=s.settings.canReorder&&l>1&&!u,O=h&&!b,x=h&&b&&_.operatorInlineLabel,E=m&&!p,k=m&&g;return{selectedFieldId:f,selectedFieldWidgetConfig:_,showDragIcon:S,showOperator:O,showOperatorLabel:x,showWidget:E,showOperatorOptions:k}}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeRuleConfirmOptions;l&&!this.isEmptyCurrentRule()?s.call(a.ctx,Nx(Nx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(n,i){var a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.operatorOptions,c=n.value,f=n.valueType,d=n.valueSrc,p=n.asyncListValues,v=n.valueError,h=n.fieldError,m=n.parentField,y=i.selectedFieldId;return{field:a,fieldSrc:o,fieldType:s,fieldId:y,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:d,asyncListValues:p,valueError:v,fieldError:h,parentField:m}}},{key:"isEmptyCurrentRule",value:function(){var n=this.props.config,i=this._buildWidgetProps(this.props,this.meta);return Vfe(i,n)}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.parentField,s=n.groupId,l=n.id,u=n.selectedFieldSrc,c=n.selectedField,f=n.selectedFieldType,d=n.setField,p=n.setFuncValue,v=n.setFieldSrc,h=n.fieldError,m=i.settings.immutableFieldsMode,y=this.meta.selectedFieldId;return j.createElement(W0,{key:"field",classname:Oi(u=="func"?"rule--field--func":"rule--field"),config:i,canSelectFieldSource:!o,selectedField:c,selectedFieldSrc:u,selectedFieldType:f,selectedFieldId:y,fieldError:h,setField:m?Tn:d,setFuncValue:m?Tn:p,setFieldSrc:m?Tn:v,parentField:o,readonly:m||a,id:l,groupId:s})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta,s=o.selectedFieldId,l=o.selectedFieldWidgetConfig,u=o.showOperator,c=o.showOperatorLabel,f=i.settings.immutableOpsMode;return j.createElement(aL,{key:"operator",config:i,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:s,selectedOperator:this.props.selectedOperator,setOperator:f?Tn:this.props.setOperator,showOperator:u,showOperatorLabel:c,selectedFieldWidgetConfig:l,readonly:f||a,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta.showWidget,s=i.settings.immutableValuesMode;if(!o)return null;var l=j.createElement(sf,ae({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:i,setValue:s?Tn:this.props.setValue,setValueSrc:s?Tn:this.props.setValueSrc,setFuncValue:s?Tn:this.props.setFuncValue,readonly:s||a,id:this.props.id,groupId:this.props.groupId}));return j.createElement(Hr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},l)}},{key:"renderOperatorOptions",value:function(){var n=this.props.config,i=this.meta.showOperatorOptions,a=n.settings,o=a.immutableOpsMode,s=a.immutableValuesMode;if(!i)return null;var l=j.createElement(xL,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:o?Tn:this.props.setOperatorOption,config:n,readonly:s});return j.createElement(Hr,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},l)}},{key:"renderBeforeWidget",value:function(){var n=this.BeforeWidget;return n?j.createElement(Hr,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},j.createElement(n,this.props)):null}},{key:"renderAfterWidget",value:function(){var n=this.AfterWidget;return n?j.createElement(Hr,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},j.createElement(n,this.props)):null}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=n.fieldError,s=i.settings.showErrorMessage,l=this.RuleError,u=[o].concat(Ce((a==null?void 0:a.toArray())||[])).filter(function(c){return!!c}).shift()||null;return s&&u&&j.createElement("div",{className:"rule--error"},l?j.createElement(l,{error:u}):u)}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.meta.showDragIcon,a=this.Icon,o=j.createElement(a,{type:"drag"});return i&&j.createElement("div",{key:"rule-drag-icon",onMouseDown:n,className:"qb-drag-handler rule--drag-handler"},o)}},{key:"renderDel",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=i.settings,s=o.deleteLabel,l=o.immutableGroupsMode,u=o.canDeleteLocked,c=this.Icon,f=this.Btn;return!l&&(!a||a&&u)&&j.createElement(f,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:s,config:i,renderIcon:c})}},{key:"renderLock",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.isTrueLocked,s=n.id,l=i.settings,u=l.lockLabel,c=l.lockedLabel,f=l.showLock,d=this.Switch;return f&&!(a&&!o)&&j.createElement(d,{key:"rule-lock",type:"lock",id:s,value:a,setValue:this.setLock,label:u,checkedLabel:c,hideLabel:!0,config:i})}},{key:"render",value:function(){var n=this.meta,i=n.showOperatorOptions,a=n.selectedFieldWidgetConfig,o=this.props,s=o.valueSrc,l=o.value,u=o.config,c=(s==null?void 0:s.first())=="value"&&!i&&l.size==1&&a.fullWidth,f=this.BtnGrp,d=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],p=j.createElement("div",{key:"rule-body",className:Oi("rule--body",c&&"can--shrink--value")},d),v=this.renderError(),h=this.renderDrag(),m=this.renderLock(),y=this.renderDel();return j.createElement(j.Fragment,null,h,j.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},p,v),j.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},j.createElement(f,{key:"rule-header-group",config:u},m,y)))}}])}(J.Component);EL.propTypes={id:W.string.isRequired,groupId:W.string,selectedField:W.any,selectedFieldSrc:W.string,selectedFieldType:W.string,selectedOperator:W.string,operatorOptions:W.object,config:W.object.isRequired,value:W.any,valueSrc:W.any,valueType:W.any,asyncListValues:W.array,isDraggingMe:W.bool,isDraggingTempo:W.bool,parentField:W.string,valueError:W.any,fieldError:W.string,isLocked:W.bool,isTrueLocked:W.bool,handleDraggerMouseDown:W.func,setField:W.func,setFieldSrc:W.func,setOperator:W.func,setOperatorOption:W.func,setLock:W.func,removeSelf:W.func,setValue:W.func,setValueSrc:W.func,setFuncValue:W.func,reordableNodesCnt:W.number,totalRulesCnt:W.number,parentReordableNodesCnt:W.number};const Bfe=gce(vu("rule")(gu(EL)));function qfe(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Hfe=qfe,zfe=dL;function Ufe(t){var e=zfe(t),r=e%1;return e===e?r?e-r:e:0}var Wfe=Ufe,Gfe=Hfe,Yfe=_I,Kfe=Wfe,Jfe=SI;function Qfe(t,e,r){return t=Jfe(t),r=r==null?0:Gfe(Kfe(r),0,t.length),e=Yfe(e),t.slice(r,r+e.length)==e}var Xfe=Qfe;const Zfe=tn(Xfe);function ede(t,e,r){return e=Le(e),er(t,CL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(CL=function(){return!!t})()}var tde=it.DefaultUtils.defaultGroupConjunction,rde=function(e,r){var n;return n=function(i){function a(o){var s;return Jt(this,a),s=ede(this,a,[o]),s._selectedConjunction=function(l){return l=l||s.props,l.conjunction||tde(l.config,l.field)},s.setConjunction=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setConjunction(s.props.path,l)},s.setNot=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setNot(s.props.path,l)},s.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setLock(s.props.path,l)},s.dummyFn=function(){},s.removeSelf=function(){s.props.actions.removeGroup(s.props.path)},s.addGroup=function(){s.props.actions.addGroup(s.props.path)},s.addCaseGroup=function(){s.props.actions.addCaseGroup(s.props.path)},s.addDefaultCaseGroup=function(){s.props.actions.addDefaultCaseGroup(s.props.path)},s.addRule=function(){var l=r=="rule_group"?s.props.field:null;s.props.actions.addRule(s.props.path,void 0,void 0,void 0,l)},s.setField=function(l,u,c){s.props.actions.setField(s.props.path,l,u,c)},s.setOperator=function(l){s.props.actions.setOperator(s.props.path,l)},s.setValue=function(l,u,c,f,d){s.props.actions.setValue(s.props.path,l,u,c,f,d)},s.setValueSrc=function(l,u,c){s.props.actions.setValueSrc(s.props.path,l,u,c)},s.setFuncValue=function(l,u,c,f,d,p,v){s.props.actions.setFuncValue(s.props.path,l,u,c,f,d,p,v)},s.pureShouldComponentUpdate=hu(s),Mn(s),s.selectedConjunction=s._selectedConjunction(o),s.conjunctionOptions=s._getConjunctionOptions(o),s.dummyFn.isDummyFn=!0,s}return Yt(a,i),Kt(a,[{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=s.dragging.id||u.dragging.id,p=d==s.id,v=[];for(var h in s){var m=s[h]!=u[h];h=="dragging"&&!p&&(m=!1),m&&v.push(h)}v.length||(f=!1)}return f}},{key:"onPropsChanged",value:function(s){var l=s.config;s.id;var u=s.conjunction,c=this.props.config,f=this.props.conjunction;(c!=l||f!=u)&&(this.selectedConjunction=this._selectedConjunction(s),this.conjunctionOptions=this._getConjunctionOptions(s))}},{key:"_getConjunctionOptions",value:function(s){var l=this;return hh(s.config.conjunctions,function(u,c){return{id:"conjunction-".concat(s.id,"-").concat(c),name:"conjunction[".concat(s.id,"]"),key:c,label:u.label,checked:c===l._selectedConjunction(s)}})}},{key:"render",value:function(){var s=this.props.config.settings.showErrorMessage,l=this.props.dragging.id==this.props.id,u=this.props.path.size,c=this.props.config.settings.maxNesting,f=!l&&this.props.isDraggingTempo,d=this.props.fieldType||null,p=this.props.valueError,v=Ce((p==null?void 0:p.toArray())||[]).filter(function(g){return!!g}).shift()||null,h=v!=null&&s,m=typeof c>"u"||u<c,y=u==1;return j.createElement("div",{className:Oi("group-or-rule-container","group-container",h?"group-with-error":null),"data-id":this.props.id},[l?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:y,allowFurtherNesting:m,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:f,onDragStart:this.props.onDragStart,isRoot:y,allowFurtherNesting:m,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:f?this.dummyFn:this.setConjunction,setNot:f?this.dummyFn:this.setNot,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,addGroup:f?this.dummyFn:this.addGroup,addCaseGroup:f?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:f?this.dummyFn:this.addDefaultCaseGroup,addRule:f?this.dummyFn:this.addRule,setField:f?this.dummyFn:this.setField,setFuncValue:f?this.dummyFn:this.setFuncValue,setOperator:f?this.dummyFn:this.setOperator,setValue:f?this.dummyFn:this.setValue,setValueSrc:f?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),n.propTypes={config:W.object.isRequired,actions:W.object.isRequired,path:W.any.isRequired,id:W.string.isRequired,groupId:W.string,not:W.bool,conjunction:W.string,children1:W.any,onDragStart:W.func,reordableNodesCnt:W.number,field:W.any,fieldSrc:W.string,fieldType:W.string,parentField:W.string,value:W.any,valueSrc:W.any,valueError:W.any,isLocked:W.bool,isTrueLocked:W.bool,dragging:W.object,isDraggingTempo:W.bool},n};const lf=function(t,e){var r=cp(function(n){return{dragging:n.dragging}},null,null,{context:of})(rde(t,e));return r.displayName="ConnectedGroupContainer",r};function nde(t,e,r){return e=Le(e),er(t,TL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TL=function(){return!!t})()}var ide={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},ade="topRight",kL=function(t){function e(){return Jt(this,e),nde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.removeSelf,l=n.setLock,u=n.isLocked,c=n.isTrueLocked,f=n.id,d=n.canAddGroup,p=n.canAddRule,v=n.canDeleteGroup,h=i.settings,m=h.immutableGroupsMode,y=h.addRuleLabel,g=h.addGroupLabel,_=h.delGroupLabel,b=h.groupActionsPosition,S=h.renderButton,O=h.renderIcon,x=h.renderSwitch,E=h.renderButtonGroup,k=h.lockLabel,w=h.lockedLabel,I=h.showLock,C=h.canDeleteLocked,A=function(B){return O(B,i.ctx)},P=function(B){return S(B,i.ctx)},L=function(B){return x(B,i.ctx)},V=function(B){return E(B,i.ctx)},R=ide[b||ade],U=I&&!(u&&!c)&&j.createElement(L,{type:"lock",id:f,value:u,setValue:l,label:k,checkedLabel:w,config:i}),M=!m&&p&&!u&&j.createElement(P,{type:"addRule",onClick:a,label:y,readonly:u,config:i,renderIcon:A}),$=!m&&d&&!u&&j.createElement(P,{type:"addGroup",onClick:o,label:g,readonly:u,config:i,renderIcon:A}),F=!m&&v&&(!u||u&&C)&&j.createElement(P,{type:"delGroup",onClick:s,label:_,config:i,renderIcon:A});return j.createElement("div",{className:"group--actions ".concat(R)},j.createElement(V,{config:i},U,M,$,F))}}])}(J.PureComponent);function Dx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ode(t,e,r){return e=Le(e),er(t,IL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IL=function(){return!!t})()}var sde=it.RuleUtils.isEmptyGroupChildren,lde="topRight",Ia=function(t){function e(r){var n;return Jt(this,e),n=ode(this,e,[r]),n.childrenClassName=function(){return""},n.renderBeforeActions=function(){var i=n.BeforeActions;return i==null?null:j.createElement(i,ae({key:"group-actions-before"},n.props))},n.renderAfterActions=function(){var i=n.AfterActions;return i==null?null:j.createElement(i,ae({key:"group-actions-after"},n.props))},Mn(n),n.onPropsChanged(r),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.renderItem=n.renderItem.bind(n),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config);if(o){var s=n.config,l=s.settings,u=l.renderIcon,c=l.renderConjs,f=l.renderBeforeActions,d=l.renderAfterActions;this.Icon=kn(s,u),this.Conjs=kn(s,c),this.BeforeActions=kn(s,f),this.AfterActions=kn(s,d)}this.doRemove=function(){i.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return Zfe(this.props.config.settings.groupActionsPosition||lde,"top")}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeGroupConfirmOptions;l&&!this.isEmptyCurrentGroup()?s.call(a.ctx,Mx(Mx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config;return sde(i,a)}},{key:"showNot",value:function(){var n=this.props.config;return n.settings.showNot}},{key:"showConjs",value:function(){var n=this.props,i=n.conjunctionOptions;n.children1,n.config;var a=Object.keys(i).length;return a>1||this.showNot()}},{key:"isNoChildren",value:function(){var n=this.props.children1;return n?n.size==0:!0}},{key:"isOneChild",value:function(){var n=this.props.children1;return n?n.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var n=this.props.children1;return n&&j.createElement("div",{key:"group-children",className:Oi("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var n=this.isGroupTopPosition();return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),n&&this.renderBeforeActions(),n&&this.renderActions(),n&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var n=this.isGroupTopPosition();return!n&&j.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(kL,{key:"group-actions",config:i,addRule:a,addGroup:o,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var n=this.props.config.settings.maxNumberOfRules,i=this.props.totalRulesCnt;return n?i<n:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var n=this.props.children1;return n?n.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(n){if(n){var i=this.props,a=i.config,o=i.actions,s=i.onDragStart,l=i.isLocked,u=n.get("type")=="group"&&n.getIn(["properties","field"])!=null,c=u?"rule_group":n.get("type");return j.createElement(G0,ae({},this.extraPropsForItem(n),{key:n.get("id"),id:n.get("id"),groupId:i.id,path:n.get("path"),type:c,properties:n.get("properties"),config:a,actions:o,children1:n.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(n),totalRulesCnt:this.totalRulesCntForItem(n),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:s,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:l}))}}},{key:"extraPropsForItem",value:function(n){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var n=this.props,i=n.config,a=n.isRoot,o=n.isLocked,s=this.reordableNodesCnt();return i.settings.canReorder&&!a&&s>1&&!o}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.Icon,a=j.createElement(i,{type:"drag"});return this.showDragIcon()&&j.createElement("div",{key:"group-drag-icon",onMouseDown:n,className:"qb-drag-handler group--drag-handler"},a)}},{key:"conjunctionOptions",value:function(){var n=this.props.conjunctionOptions;return n}},{key:"renderConjs",value:function(){var n=this.props,i=n.config,a=n.children1,o=n.id,s=n.selectedConjunction,l=n.setConjunction,u=n.not,c=n.setNot,f=n.isLocked,d=i.settings,p=d.immutableGroupsMode;d.renderConjs,d.showNot;var v=d.notLabel,h=this.conjunctionOptions();if(!this.showConjs()||!a||!a.size)return null;var m={disabled:this.isOneChild(),readonly:p||f,selectedConjunction:s,setConjunction:p?Tn:l,conjunctionOptions:h,config:i,not:u||!1,id:o,setNot:p?Tn:c,notLabel:v,showNot:this.showNot(),isLocked:f},y=this.Conjs;return j.createElement(y,ae({key:"group-conjs"},m))}},{key:"renderHeader",value:function(){return j.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return j.createElement(j.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(J.Component);Ia.propTypes={reordableNodesCnt:W.number,conjunctionOptions:W.object.isRequired,allowFurtherNesting:W.bool.isRequired,isRoot:W.bool.isRequired,not:W.bool,selectedConjunction:W.string,config:W.object.isRequired,id:W.string.isRequired,groupId:W.string,path:W.any,children1:W.any,isDraggingMe:W.bool,isDraggingTempo:W.bool,isLocked:W.bool,isTrueLocked:W.bool,handleDraggerMouseDown:W.func,onDragStart:W.func,addRule:W.func.isRequired,addGroup:W.func.isRequired,removeSelf:W.func.isRequired,setConjunction:W.func.isRequired,setNot:W.func.isRequired,setLock:W.func.isRequired,actions:W.object.isRequired};const ude=lf(vu("group")(gu(Ia)),"group");function cde(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Le(t))!==null;);return t}function Kn(){return Kn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=cde(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Kn.apply(null,arguments)}function fde(t,e,r){return e=Le(e),er(t,AL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AL=function(){return!!t})()}var dde=function(t){function e(){return Jt(this,e),fde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addRuleLabel,m=p.delGroupLabel,y=p.renderButton,g=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,E=p.canDeleteLocked,k=function(R){return g(R,i.ctx)},w=function(R){return y(R,i.ctx)},I=function(R){return _(R,i.ctx)},C=function(R){return b(R,i.ctx)},A=x&&!(c&&!f)&&j.createElement(I,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,hideLabel:!0,config:i}),P=!v&&o&&!c&&j.createElement(w,{type:"addRuleGroup",onClick:a,label:h,readonly:c,config:i,renderIcon:k}),L=!v&&s&&(!c||c&&E)&&j.createElement(w,{type:"delRuleGroup",onClick:l,label:m,config:i,renderIcon:k});return j.createElement("div",{className:"group--actions"},j.createElement(C,{config:i},A,P,L))}}])}(J.PureComponent);function Vx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pde(t,e,r){return e=Le(e),er(t,jL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jL=function(){return!!t})()}var PL=function(t){function e(r){var n;return Jt(this,e),n=pde(this,e,[r]),n.childrenClassName=function(){return"rule_group--children"},n.renderHeaderWrapper=function(){return null},n.renderFooterWrapper=function(){return null},n.renderConjs=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!1},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"renderChildrenWrapper",value:function(){return j.createElement(j.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),Kn(Le(e.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFuncValue,c=n.setFieldSrc,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(W0,{key:"field",classname:"group--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:u,setFieldSrc:c,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(dde,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);PL.propTypes=Bx(Bx({},Ia.propTypes),{},{selectedField:W.any,selectedFieldSrc:W.string,parentField:W.string,setField:W.func,setFieldSrc:W.func});const hde=lf(vu("group rule_group")(gu(PL)),"rule_group");function vde(t,e,r){return e=Le(e),er(t,LL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(LL=function(){return!!t})()}var gde=function(t){function e(){return Jt(this,e),vde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addSubRuleLabel,m=p.delGroupLabel,y=p.renderButton,g=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,E=p.canDeleteLocked,k=function(R){return g(R,i.ctx)},w=function(R){return y(R,i.ctx)},I=function(R){return _(R,i.ctx)},C=function(R){return b(R,i.ctx)},A=x&&!(c&&!f)&&j.createElement(I,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,config:i}),P=!v&&o&&!c&&j.createElement(w,{type:"addRuleGroupExt",onClick:a,label:h,readonly:c,config:i,renderIcon:k}),L=!v&&s&&(!c||c&&E)&&j.createElement(w,{type:"delRuleGroup",onClick:l,label:m,config:i,renderIcon:k});return j.createElement("div",{className:"group--actions group--actions--tr"},j.createElement(C,{config:i},A,P,L))}}])}(J.PureComponent);function qx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mde(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=yde(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function yde(t,e){if(t){if(typeof t=="string")return zx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zx(t,e)}}function zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bde(t,e,r){return e=Le(e),er(t,FL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(FL=function(){return!!t})()}var RL=it.ConfigUtils,Ux=RL.getFieldConfig,_de=RL.getFieldWidgetConfig,Sde=it.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,$L=function(t){function e(r){var n;return Jt(this,e),n=bde(this,e,[r]),n.childrenClassName=function(){return"rule_group_ext--children"},n.renderFooterWrapper=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!0},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return j.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings,s=o.renderRuleError,l=o.showErrorMessage,u=Ce((a==null?void 0:a.toArray())||[]).filter(function(c){return!!c}).shift()||null;return l&&u&&j.createElement("div",{className:"rule_group--error"},s?s({error:u},i.ctx):u)}},{key:"showNot",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Ux(i,a)||{};return o.showNot!=null?o.showNot:i.settings.showNot}},{key:"conjunctionOptions",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Ux(i,a)||{},s=Kn(Le(e.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var l={},u=mde(o.conjunctions),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=s[f];d&&(l[f]=d)}}catch(p){u.e(p)}finally{u.f()}s=l}return s}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFieldSrc,c=n.setFuncValue,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(W0,{key:"field",classname:"rule--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:c,setFieldSrc:u,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedOperator;n.setField;var l=n.setOperator,u=n.isLocked,c=i.settings.immutableFieldsMode,f=_de(i,a,s)||{},d=f.hideOperator,p=a&&d&&f.operatorInlineLabel,v=a&&!d;return j.createElement(aL,{key:"operator",classname:"group--operator",config:i,selectedField:a,selectedFieldSrc:o,selectedOperator:s,setOperator:l,showOperator:v,showOperatorLabel:p,selectedFieldWidgetConfig:f,readonly:c||u,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config,o=this._buildWidgetProps(this.props);return Sde(o,i,a)}},{key:"_buildWidgetProps",value:function(n){var i=n.selectedField,a=n.selectedFieldSrc,o=n.selectedFieldType,s=n.selectedOperator,l=n.operatorOptions,u=n.value,c=n.valueType;n.valueSrc,n.asyncListValues;var f=n.valueError;n.fieldError;var d=n.parentField;return{field:i,fieldSrc:a,fieldType:o,operator:s,operatorOptions:l,value:u,valueType:c,valueSrc:["value"],valueError:f,fieldError:null,parentField:d}}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedOperator,s=n.isLocked,l=i.settings.immutableValuesMode,u=a&&o,c=u;if(!c)return null;var f=j.createElement(sf,ae({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:i,setValue:l?Tn:this.props.setValue,setValueSrc:Tn,readonly:l||s,id:this.props.id,groupId:this.props.groupId}));return j.createElement(Hr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},f)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(gde,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);$L.propTypes=Hx(Hx({},Ia.propTypes),{},{selectedField:W.any,selectedFieldSrc:W.string,selectedOperator:W.string,value:W.any,parentField:W.string,setField:W.func,setFieldSrc:W.func,setOperator:W.func,setValue:W.func,valueError:W.any});const Ode=lf(vu("group rule_group_ext")(gu($L)),"rule_group");function xde(t,e,r){return e=Le(e),er(t,NL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NL=function(){return!!t})()}var wde={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},Ede="topRight",Cde=function(t){function e(){return Jt(this,e),xde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.setLock,l=n.isLocked,u=n.isTrueLocked,c=n.id,f=n.canAddGroup,d=n.canAddDefault,p=i.settings,v=p.immutableGroupsMode,h=p.addCaseLabel,m=p.addDefaultCaseLabel,y=p.groupActionsPosition,g=p.renderButton,_=p.renderIcon,b=p.renderSwitch,S=p.renderButtonGroup,O=p.lockLabel,x=p.lockedLabel,E=p.showLock,k=function(U){return _(U,i.ctx)},w=function(U){return g(U,i.ctx)},I=function(U){return b(U,i.ctx)},C=function(U){return S(U,i.ctx)},A=wde[y||Ede],P=E&&!(l&&!u)&&j.createElement(I,{type:"lock",id:c,value:l,setValue:s,label:O,checkedLabel:x,config:i}),L=!v&&f&&!l&&j.createElement(w,{type:"addCaseGroup",onClick:a,label:h,readonly:l,config:i,renderIcon:k}),V=!v&&d&&!l&&j.createElement(w,{type:"addDefaultCaseGroup",onClick:o,label:m,readonly:l,config:i,renderIcon:k});return j.createElement("div",{className:"group--actions ".concat(A)},j.createElement(C,{config:i},P,L,V))}}])}(J.PureComponent);function Wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kde(t,e,r){return e=Le(e),er(t,DL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DL=function(){return!!t})()}var ML=it.TreeUtils,Ide=ML.getTotalReordableNodesCountInTree,Ade=ML.getTotalRulesCountInTree,VL=function(t){function e(r){var n;return Jt(this,e),n=kde(this,e,[r]),n.childrenClassName=function(){return"switch_group--children"},n.renderFooterWrapper=function(){return null},n.hasDefaultCase=function(){var i;return((i=n.props.children1)===null||i===void 0?void 0:i.size)&&n.props.children1.filter(function(a){return a.get("children1")==null}).size>0},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"canAddGroup",value:function(){var n,i=this.props.config.settings.maxNumberOfCases,a=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0;return i?a<i:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var n,i=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0,a=i;return this.hasDefaultCase()&&a--,a}},{key:"totalRulesCntForItem",value:function(n){return Ade(n)}},{key:"reordableNodesCntForItem",value:function(n){var i;if(this.props.isLocked)return 0;var a=this.props.config.settings,o=a.canLeaveEmptyCase,s=a.canRegroupCases,l=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0,u=l;this.hasDefaultCase()&&u--;var c=Ide(n),f=c;return f==1&&s&&o&&u>1&&(f=111),f}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var n=this.props.config,i=n.settings.renderSwitchPrefix;return i||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(Cde,{config:i,addCaseGroup:a,addDefaultCaseGroup:o,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}}])}(Ia);VL.propTypes=Tde({},Ia.propTypes);const jde=lf(vu("group switch_group")(gu(VL)),"switch_group");function Gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return e=Le(e),er(t,BL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(BL=function(){return!!t})()}var qL=function(t){function e(r){var n;return Jt(this,e),n=Pde(this,e,[r]),n.childrenClassName=function(){return"case_group--children"},n.renderFooterWrapper=function(){return null},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.renderBeforeCaseValue||(i==null?void 0:i.config)!==(n==null?void 0:n.config);if(Kn(Le(e.prototype),"onPropsChanged",this).call(this,n),a){var o=n.config,s=o.settings,l=s.renderBeforeCaseValue,u=s.renderAfterCaseValue,c=s.renderRuleError;this.BeforeCaseValue=kn(o,l),this.AfterCaseValue=kn(o,u),this.RuleError=kn(o,c)}}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:j.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var n=this.props.config.settings.defaultCaseLabel;return n||""}return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:Kn(Le(e.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?j.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var n=this.BeforeCaseValue;return n==null?null:j.createElement(n,ae({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var n=this.AfterCaseValue;return n==null?null:j.createElement(n,ae({key:"values-after"},this.props))}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings.showErrorMessage,s=this.RuleError,l=Ce((a==null?void 0:a.toArray())||[]).filter(function(u){return!!u}).shift()||null;return o&&l&&j.createElement("div",{className:"rule--error"},s?j.createElement(s,{error:l}):l)}},{key:"renderValue",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.value,s=n.valueSrc,l=n.valueError,u=n.setValue,c=n.setValueSrc,f=n.setFuncValue,d=n.id,p=i.settings.immutableValuesMode,v=j.createElement(sf,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:o,valueSrc:s!=null?s:"value",valueError:l,fieldError:null,config:i,setValue:p?Tn:u,setValueSrc:p?Tn:c,setFuncValue:p?Tn:f,readonly:p||a,id:d,groupId:null});return j.createElement(Hr,{className:"case_group--value"},v)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addGroup,o=n.addRule,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(kL,{config:i,addGroup:a,addRule:o,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props.value,i=n&&n.size?n.get(0):null,a=i!=null&&(Array.isArray(i)?i.length>0:!0);return Kn(Le(e.prototype),"isEmptyCurrentGroup",this).call(this)&&!a}}])}(Ia);qL.propTypes=Yx(Yx({},Ia.propTypes),{},{parentReordableNodesCnt:W.number,value:W.any,setValue:W.func});const Lde=lf(vu("group case_group")(gu(qL)),"case_group");var Fde=["type"];function Rde(t,e,r){return e=Le(e),er(t,HL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HL=function(){return!!t})()}function Kx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $de=["rule","group","rule_group","switch_group","case_group"],Bs=function(e){var r,n=((r=e.properties)===null||r===void 0?void 0:r.toObject())||{},i=qg({},n);return e.isParentLocked&&(i.isLocked=!0),n.isLocked&&(i.isTrueLocked=!0),i},Nde={rule:function(e){return j.createElement(Bfe,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return j.createElement(ude,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return j.createElement(hde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return j.createElement(Ode,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return j.createElement(jde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return j.createElement(Lde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},G0=function(t){function e(){return Jt(this,e),Rde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n,i=this.props,a=i.type,o=ri(i,Fde),s=(n=o.properties)===null||n===void 0?void 0:n.get("mode"),l=s=="array"?"_ext":"",u=o.config.settings.renderItem,c=Nde[a+l];return u?u(qg(qg({},o),{},{type:a,itemComponent:c}),o.config.ctx):c?c(o):null}}])}(J.PureComponent);G0.propTypes={config:W.object.isRequired,id:W.string.isRequired,groupId:W.string,type:W.oneOf($de).isRequired,path:W.any.isRequired,properties:W.any,children1:W.any,actions:W.object.isRequired,reordableNodesCnt:W.number,onDragStart:W.func,parentField:W.string,isDraggingTempo:W.bool,isParentLocked:W.bool};function Dde(t,e,r){return e=Le(e),er(t,zL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zL=function(){return!!t})()}var UL=it.TreeUtils,Mde=UL.getTotalReordableNodesCountInTree,Vde=UL.getTotalRulesCountInTree,WL=it.DefaultUtils,Bde=WL.createListWithOneElement,Jx=WL.emptyProperties,GL=function(t){function e(r){var n;return Jt(this,e),n=Dde(this,e,[r]),n.pureShouldComponentUpdate=hu(n),n._updPath(r),n}return Yt(e,t),Kt(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=this.pureShouldComponentUpdate(n,i);return a}},{key:"_updPath",value:function(n){var i=n.tree.get("id");this.path=Bde(i)}},{key:"render",value:function(){var n=this.props,i=n.tree,a=n.config,o=n.actions,s=n.onDragStart,l=i.get("type"),u=l=="switch_group",c=u?null:Mde(i),f=u?null:Vde(i),d=i.get("id");return j.createElement(G0,{key:d,id:d,path:this.path,type:l,properties:i.get("properties")||Jx(),config:a,actions:o,children1:i.get("children1")||Jx(),reordableNodesCnt:c,totalRulesCnt:f,parentReordableNodesCnt:0,onDragStart:s})}}])}(J.Component);GL.propTypes={tree:W.any.isRequired,config:W.object.isRequired,actions:W.object.isRequired,onDragStart:W.func};const qde=_ce(GL);function Qx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zde(t,e,r){return e=Le(e),er(t,YL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YL=function(){return!!t})()}var Ude=it.clone,Y0=it.ConfigUtils,Pu=Y0.getFieldConfig,Xx=Y0.getFieldParts,Zx=Y0.getFieldPathParts,KL=it.RuleUtils,ew=KL.getFieldPathLabels,Wde=KL.getWidgetForFieldOp,JL=function(t){function e(r){var n;return Jt(this,e),n=zde(this,e,[r]),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"],o=["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"],s=!this.items||a.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;s&&(this.items=this.getItems(n)),l&&(this.meta=this.getMeta(n))}},{key:"getItems",value:function(n){var i=n.config,a=n.field,o=n.fieldType,s=n.operator,l=n.parentField,u=n.isFuncArg,c=n.fieldDefinition,f=i.settings.canCompareFieldWithField,d=Xx(l,i),p=l?Pu(i,l):null,v=l?p==null?void 0:p.subfields:i.fields,h=this.filterFields(i,v,a,l,d,s,f,u,c,o),m=this.buildOptions(d,i,h,d);return m}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.field;n.fieldType,n.operator;var s=n.value,l=n.placeholder,u=n.isFuncArg,c=n.parentField,f=a.settings,d=f.fieldPlaceholder,p=f.fieldSeparatorDisplay,v=s,h=!!s,m=o?Pu(a,o):{},y=m==null||(i=m.widgets)===null||i===void 0?void 0:i.field,g=(y==null?void 0:y.widgetProps)||{},_=h?null:u&&l||g.valuePlaceholder||d,b=h?Pu(a,v):null,S=b||{},O=Zx(v,a),x=Zx(v,a,!0),E=this.getFieldLabel(b,v,a),k=ew(v,a),w=k?k.join(p):null;(w==E||c)&&(w=null);var I=S.label2||S.tooltip;return{placeholder:_,selectedKey:v,selectedKeys:O,selectedPath:x,selectedLabel:E,selectedOpts:S,selectedAltLabel:I,selectedFullLabel:w}}},{key:"filterFields",value:function(n,i,a,o,s,l,u,c,f,d){i=Ude(i);var p=n.settings.fieldSeparator,v=Pu(n,a),h=Wde(n,a,l,"value");n.widgets[h];var m;c?m=f==null?void 0:f.type:v?m=v.type:m=d;function y(g,_){for(var b in g){var S=g[b].subfields,O=(_||[]).concat(b),x=O.join(p),E=Pu(n,x);if(!E)delete g[b];else if(E.type=="!struct"||E.type=="!group")y(S,O)==0&&delete g[b];else{var k=(!m||E.type==m)&&(c?!0:x!=a),w=u||n.settings.canCompareFieldWithField;w&&(k=k&&w(a,v,x,E,l)),k||delete g[b]}}return wl(g).length}return y(i,s||[]),i}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a)return null;var u=i.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"";return wl(a).map(function(p){var v=[].concat(Ce(s!=null?s:[]),[p]),h=a[p],m=o.getFieldLabel(h,v,i),y=ew(v,i),g=y.join(f);(g==m||n)&&(g=null);var _=h.label2,b=h.tooltip;if(!h.hideForCompare)return h.type=="!struct"||h.type=="!group"?{key:p,path:d+p,label:m,fullLabel:g,altLabel:_,tooltip:b,items:o.buildOptions(n,i,h.subfields,v,{label:m,tooltip:b})}:{key:p,path:d+p,label:m,fullLabel:g,altLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l}}).filter(function(p){return!!p})}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Xx(i,a),l=(n==null?void 0:n.label)||ih(s);return l=ep(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Hde({isValueField:!0,config:i,customProps:a,setField:o,readonly:s,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);JL.propTypes={id:W.string,groupId:W.string,setValue:W.func.isRequired,config:W.object.isRequired,field:W.any,fieldSrc:W.string,fieldType:W.string,value:W.string,operator:W.string,customProps:W.object,readonly:W.bool,parentField:W.string,fieldDefinition:W.object,isFuncArg:W.bool};const Gde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.labelYes,i=t.labelNo,a=t.readonly;t.widgetId;var o=t.customProps,s=o===void 0?{}:o,l=s.radioYes||{},u=s.radioNo||{},c=function(d){return r(d.target.value=="true")};return j.createElement(j.Fragment,null,j.createElement("input",ae({type:"radio",value:!0,checked:!!e,disabled:a,onChange:c},l))," ",n,j.createElement("input",ae({type:"radio",value:!1,checked:!e,disabled:a,onChange:c},u))," ",i)},Yde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength,o=t.customProps,s=function(c){var f=c.target.value;f===""&&(f=void 0),r(f)},l=e||"";return j.createElement("input",ae({type:"text",value:l,placeholder:i,disabled:n,onChange:s,maxLength:a},o))},Kde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength;t.maxRows;var o=t.fullWidth,s=t.customProps,l=function(f){var d=f.target.value;d===""&&(d=void 0),r(d)},u=e||"";return j.createElement("textarea",ae({value:u,placeholder:i,disabled:n,onChange:l,maxLength:a,style:{width:o?"100%":void 0}},s))};it.moment;const Jde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",ae({type:"date",value:e||"",disabled:n,onChange:a},i))},Qde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat,t.use12Hours;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",ae({type:"time",value:e||"",disabled:n,onChange:a},i))};var tw=it.moment;const Xde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.valueFormat;t.use12Hours;var i=t.readonly,a=t.customProps,o=function(u){var c=u.target.value;c==""?c=void 0:c=tw(new Date(c)).format(n),r(c)},s=e;return e?s=tw(e).format("YYYY-MM-DDTHH:mm"):s="",j.createElement("input",ae({type:"datetime-local",value:s,disabled:i,onChange:o},a))};var Zde=it.ListUtils.mapListValues;const epe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return Zde(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){for(var f=[],d=c.options,p=0;p<d.length;p++){var v=d[p];v.selected&&f.push(v.value)}return f.length||(f=void 0),f},l=function(c){return n(s(c.target))};return j.createElement("select",ae({multiple:!0,onChange:l,value:r,disabled:i},Co(a,["showSearch","input","showCheckboxes"])),o())};var tpe=it.ListUtils.mapListValues;const rpe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return tpe(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){return n(c.target.value)},l=r!=null;return j.createElement("select",ae({onChange:s,value:l?r:"",disabled:i},Co(a,["showSearch","input"])),!l&&j.createElement("option",{disabled:!0,value:""}),o())},npe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return j.createElement("input",ae({type:"number",value:c,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:u},l))},ipe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=l===void 0?{}:l,c=u.input||{},f=u.slider||u,d=function(h){var m=h.target.value;m===""||m===null?m=void 0:m=Number(m),r(m)},p=e==null?"":e;return j.createElement("div",{style:{display:"inline-flex"}},j.createElement("input",ae({key:"number",type:"number",value:p,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:d},c)),j.createElement("input",ae({key:"range",type:"range",value:p,disabled:n,min:i,max:a,step:o,onChange:d},f)))},ape=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.errorText,o=function u(c){return c.map(function(f){var d=f.items,p=f.path,v=f.label,h=f.disabled,m=f.matchesType;if(d)return j.createElement("optgroup",{disabled:h,key:p,label:v},u(d));var y=m?{fontWeight:"bold"}:{};return j.createElement("option",{disabled:h,key:p,value:p,style:y},v)})},s=function(c){return r(c.target.value)},l=n!=null;return j.createElement("select",{onChange:s,value:l?n:"",disabled:i,style:{color:a?"red":null}},!l&&j.createElement("option",{disabled:!0,value:""}),o(e))},ope=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(b){var S=i[b],O=S.id,x=S.name,E=S.label,k=S.checked,w=a.isDummyFn?"__dummy":"";return(s||o)&&!k?null:[j.createElement("input",{key:O+w,type:"radio",id:O+w,name:x+w,checked:k,disabled:s||o,value:b,onChange:y}),j.createElement("label",{key:O+w+"label",htmlFor:O+w},E)]})},m=function(){var b="not";return[j.createElement("input",{key:e+b,type:"checkbox",id:e+b,checked:r,disabled:s,onChange:g}),j.createElement("label",{key:e+b+"label",htmlFor:e+b},c||"NOT")]},y=function(b){return a(b.target.value)},g=function(b){return n(b.target.checked)};return[u&&m(),v&&h()]};var spe={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const lpe=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=r||spe[e];return j.createElement("button",{onClick:n,type:"button",disabled:i},a)},upe=function(t){var e=t.type,r={},n=r[e]||null;return!n&&e==="drag"&&(n=j.createElement(rL,null)),n},cpe=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)},fpe=function(t){t.config;var e=t.valueSources,r=t.valueSrc;t.title;var n=t.setValueSrc,i=t.readonly,a=function(l){return l.map(function(u){var c=ke(u,2),f=c[0],d=c[1];return j.createElement("option",{key:f,value:f},d.label)})},o=function(l){return n(l.target.value)};return j.createElement("select",{onChange:o,value:r||"",disabled:i},a(e))},dpe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.id;t.config;var a=t.type,o=function(u){return r(u.target.checked)},s=a;return[j.createElement("input",{key:i+s,type:"checkbox",id:i+s,checked:!!e,onChange:o}),j.createElement("label",{key:i+s+"label",htmlFor:i+s},n)]},ppe=function(t){var e=t.onOk;t.okText,t.cancelText;var r=t.title;confirm(r)&&e()};var hpe=function(e){e.config;var r=e.children;return r};const vpe=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:U0,ValueFieldWidget:JL,VanillaBooleanWidget:Gde,VanillaButton:lpe,VanillaButtonGroup:cpe,VanillaConjs:ope,VanillaDateTimeWidget:Xde,VanillaDateWidget:Jde,VanillaFieldSelect:ape,VanillaIcon:upe,VanillaMultiSelectWidget:epe,VanillaNumberWidget:npe,VanillaProvider:hpe,VanillaSelectWidget:rpe,VanillaSliderWidget:ipe,VanillaSwitch:dpe,VanillaTextAreaWidget:Kde,VanillaTextWidget:Yde,VanillaTimeWidget:Qde,VanillaValueSources:fpe,vanillaConfirm:ppe},Symbol.toStringTag,{value:"Module"}));function gpe(t,e,r){return e=Le(e),er(t,QL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(QL=function(){return!!t})()}var K0=function(t){function e(){var r;Jt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gpe(this,e,[].concat(i)),r.handleChange=function(o){r.props.setOption("proximity",parseInt(o))},r}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.defaults,a=n.options,o=n.config,s=n.optionLabel,l=n.optionPlaceholder,u=n.customProps,c=n.minProximity,f=n.maxProximity,d=n.optionTextBefore,p=n.readonly,v=o.settings,h=o.widgets,m=o.ctx,y=i?i.proximity:void 0,g=v.showLabels,_=a.get("proximity",y),b=Bg(c,f+1).map(function(x){return{title:x,value:x}}),S=h.select.factory,O=function(E){return S(E,m)};return j.createElement("div",{className:"operator--PROXIMITY"},j.createElement("div",{className:"operator--options"},g&&j.createElement("label",{className:"rule--label"},s),!g&&d&&j.createElement("div",{className:"operator--options--sep"},j.createElement("span",null,d)),j.createElement(O,ae({config:o,value:_,listValues:b,setValue:this.handleChange,readonly:p,placeholder:l},u))),j.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(J.PureComponent);K0.propTypes={config:W.object.isRequired,setOption:W.func.isRequired,options:W.any.isRequired,minProximity:W.number,maxProximity:W.number,optionPlaceholder:W.string,optionTextBefore:W.string,optionLabel:W.string,customProps:W.object,readonly:W.bool};K0.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const mpe=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:K0},Symbol.toStringTag,{value:"Module"}));function rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ype=Xe({},Tr.conjunctions),bpe=Xe(Xe({},Tr.operators),{},{proximity:Xe(Xe({},Tr.operators.proximity),{},{options:Xe(Xe({},Tr.operators.proximity.options),{},{factory:function(e,r){var n=r.RCE,i=r.O.ProximityOperator;return n(i,e)}})})}),_pe={text:Xe(Xe({},Tr.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}}),textarea:Xe(Xe({},Tr.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextAreaWidget;return n(i,e)}}),number:Xe(Xe({},Tr.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaNumberWidget;return n(i,e)}}),slider:Xe(Xe({},Tr.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSliderWidget;return n(i,e)}}),select:Xe(Xe({},Tr.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSelectWidget;return n(i,e)}}),multiselect:Xe(Xe({},Tr.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaMultiSelectWidget;return n(i,e)}}),date:Xe(Xe({},Tr.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateWidget;return n(i,e)}}),time:Xe(Xe({},Tr.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTimeWidget;return n(i,e)}}),datetime:Xe(Xe({},Tr.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateTimeWidget;return n(i,e)}}),boolean:Xe(Xe({},Tr.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaBooleanWidget;return n(i,e)}}),field:Xe(Xe({},Tr.widgets.field),{},{factory:function(e,r){var n=r.RCE,i=r.W.ValueFieldWidget;return n(i,e)},customProps:{showSearch:!0}}),func:Xe(Xe({},Tr.widgets.func),{},{factory:function(e,r){var n=r.RCE,i=r.W.FuncWidget;return n(i,e)},customProps:{}}),case_value:Xe(Xe({},Tr.widgets.case_value),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}})},Spe=Xe(Xe({},Tr.types),{},{select:Xe(Xe({},Tr.types.select),{},{widgets:Xe(Xe({},Tr.types.select.widgets),{},{select:Xe(Xe({},Tr.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),Ope=Xe(Xe({},Tr.settings),{},{renderField:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.VanillaConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.VanillaSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.VanillaButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.VanillaIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.VanillaButtonGroup;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.VanillaProvider;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderConfirm:function(e,r){var n=r.W.vanillaConfirm;return n(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,r){var n=r.RCE;return n("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),xpe=Xe(Xe({},Tr.ctx),{},{W:Xe({},vpe),O:Xe({},mpe),RCE:function(e,r){return j.createElement(e,r)}}),Hg={conjunctions:ype,operators:bpe,widgets:_pe,types:Spe,settings:Ope,ctx:xpe};Hg=it.ConfigMixins.removeMixins(Hg,["rangeslider","treeselect","treemultiselect"]);const cn=Hg;var wpe=Ji,Epe=function(){return wpe.Date.now()},Cpe=Epe,Tpe=Ei,mv=Cpe,nw=fL,kpe="Expected a function",Ipe=Math.max,Ape=Math.min;function jpe(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(kpe);e=nw(e)||0,Tpe(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Ipe(nw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,E=i;return n=i=void 0,u=O,o=t.apply(E,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,E=O-u,k=e-x;return f?Ape(k,a-E):k}function m(O){var x=O-l,E=O-u;return l===void 0||x>=e||x<0||f&&E>=a}function y(){var O=mv();if(m(O))return g(O);s=setTimeout(y,h(O))}function g(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:g(mv())}function S(){var O=mv(),x=m(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var Ppe=jpe;const Lpe=tn(Ppe);function iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uf=it.Autocomplete,Wf=uf.mergeListValues,aw=uf.listValueToOption,Fpe=uf.optionToListValue,Rpe=uf.optionsToListValues,$pe=uf.fixListValuesGroupOrder,mu=it.ListUtils,Npe=mu.mapListValues,Gf=mu.listValuesToArray,Yf=mu.getListValue,Dpe=mu.makeCustomListValue,Mpe=mu.searchListValue;mu.getItemInListValues;function ow(t){return new Promise(function(e){setTimeout(e,t)})}var Vpe=function(e,r){var n=e.asyncFetch,i=e.useLoadMore,a=e.useAsyncSearch,o=e.forceAsyncSearch,s=e.asyncListValues,l=e.listValues,u=e.allowCustomValues,c=e.value,f=e.setValue,d=e.placeholder,p=e.config,v=r.debounceTimeout,h=r.multiple,m=r.uif,y=r.isFieldAutocomplete,g=["LOAD_MORE","LOADING_MORE"],_="Load more...",b="Loading more...",S=o?"Type to search":d,O=j.useState(!1),x=ke(O,2),E=x[0],k=x[1],w=j.useState(void 0),I=ke(w,2),C=I[0],A=I[1],P=j.useState(0),L=ke(P,2),V=L[0],R=L[1],U=j.useState(!1),M=ke(U,2),$=M[0],F=M[1],N=j.useState(""),B=ke(N,2),z=B[0],H=B[1],D=j.useState(void 0),G=ke(D,2),q=G[0],Y=G[1],K=j.useRef(0),ie=j.useRef(0),te=j.useRef(!1),oe=j.useMemo(function(){return Gf(s)},[s]),ue=j.useMemo(function(){return n?s?Wf(q,oe,!0):q:Gf(l)},[n,s,q,l]),fe=n?q:Gf(l);u&&z&&!Mpe(z,q)&&(fe=Wf(fe,[Dpe(z)],!0)),n&&!q&&s&&!z&&!E&&m==="antd"&&(fe=ue),n&&!u&&s&&m==="mui"&&(fe=Wf(fe,oe,!0,!0));var pe=V>0,Se=E&&n&&q===void 0&&(o?z:!0),Q=Se&&pe,re=!Q&&ue&&ue.length>0&&C&&C.hasMore&&(C.filter||"")===z,de=!pe&&re,ve=Npe(fe,aw),ee=c!=null,me=!h&&ee?Yf(c,ue):null,Oe=function(){var vt=Uo(Br.mark(function Fe(){var De,Ge,Qe,ft,Et,At,Sr,Rt,Mr,qe,lt,cr,Yr,Kr,mt,dt=arguments;return Br.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return De=dt.length>0&&dt[0]!==void 0?dt[0]:null,Ge=dt.length>1&&dt[1]!==void 0?dt[1]:!1,!Ge&&C&&A(void 0),Qe=Ge&&q?q.length:0,ft=Ge&&C||!i&&{pageSize:0},Et=++K.current,$t.next=8,n.call(p==null?void 0:p.ctx,De,Qe,ft);case 8:if(At=$t.sent,Sr=K.current!=Et,!(Sr||!ie.current)){$t.next=12;break}return $t.abrupt("return",null);case 12:return Rt=At!=null&&At.values?At:{values:At},Mr=Rt.values,qe=Rt.hasMore,lt=Rt.meta,cr=Gf(Mr),Ge?(Kr=Wf(q,cr,!1),Yr=Kr.length>q.length):(Kr=cr,i&&(Yr=Kr.length>0)),mt=qe!=null||lt!=null||Yr!=null?Uf(Uf(Uf(Uf({},Yr!=null?{hasMore:Yr}:{}),qe!=null?{hasMore:qe}:{}),lt!=null?lt:{}),{},{filter:De}):void 0,mt&&A(mt),$t.abrupt("return",Kr);case 18:case"end":return $t.stop()}},Fe)}));return function(){return vt.apply(this,arguments)}}(),we=function(){var vt=Uo(Br.mark(function Fe(){var De,Ge,Qe,ft=arguments;return Br.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return De=ft.length>0&&ft[0]!==void 0?ft[0]:null,Ge=ft.length>1&&ft[1]!==void 0?ft[1]:!1,R(function(Sr){return Sr+1}),F(Ge),At.next=6,Oe(De,Ge);case 6:if(Qe=At.sent,ie.current){At.next=9;break}return At.abrupt("return");case 9:Qe!=null&&Y(Qe),R(function(Sr){return Sr-1}),F(!1);case 12:case"end":return At.stop()}},Fe)}));return function(){return vt.apply(this,arguments)}}(),Je=j.useCallback(Lpe(we,v),[]);j.useEffect(function(){return ie.current++,Se&&V==0&&K.current==0&&Uo(Br.mark(function vt(){return Br.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,we();case 2:case"end":return De.stop()}},vt)}))(),function(){ie.current--}},[Se]);var at=function(){k(!0)},ce=function(){var vt=Uo(Br.mark(function Fe(De){var Ge,Qe;return Br.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(Ge=te.current,Ge?(te.current=!1,h&&k(!1)):k(!1),!(m==="mui"&&!Ge)){Et.next=6;break}return Qe="",Et.next=6,Be(null,Qe,"my-reset");case 6:case"end":return Et.stop()}},Fe)}));return function(De){return vt.apply(this,arguments)}}(),ge=function(Fe){Fe?at():ce()},he=function(Fe){var De=(Fe==null?void 0:Fe.specialValue)||(Fe==null?void 0:Fe.value);return g.includes(De)},Pe=function(){var vt=Uo(Br.mark(function Fe(De,Ge,Qe){var ft,Et,At,Sr,Rt,Mr,qe,lt,cr,Yr,Kr,mt,dt,fr,$t,Lr,rr;return Br.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Et=h&&m==="mui"&&Qe==="clear",At=!h&&m==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)==="change",Sr=!h&&m==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)!=="change",m==="mui"&&(Qe=Ge,h?Ge=Qe.map(function(be){var _e;return(_e=be==null?void 0:be.value)!==null&&_e!==void 0?_e:be}):Ge=(Rt=(Mr=Qe)===null||Mr===void 0?void 0:Mr.value)!==null&&Rt!==void 0?Rt:Qe),qe=h&&Array.isArray(Qe)&&Qe.map(function(be){return be==null?void 0:be.specialValue}).find(function(be){return!!be})||((ft=Qe)===null||ft===void 0?void 0:ft.specialValue),h&&Ge&&!Array.isArray(Ge)&&(Ge=[].concat(Ce(c||[]),[Ge]),Qe=null),lt=Et&&Ge.length===0&&z&&E||At,!lt){Z.next=9;break}return Z.abrupt("return");case 9:if(cr=h&&Ge.length&&Ge.length>(c||[]).length&&Ge[Ge.length-1]==z&&!Yf(z,q),qe!="LOAD_MORE"){Z.next=17;break}return H(z),te.current=!0,Z.next=15,we(z,!0);case 15:Z.next=37;break;case 17:if(qe!="LOADING_MORE"){Z.next=21;break}te.current=!0,Z.next=37;break;case 21:if(!h){Z.next=31;break}if(Yr=Rpe(Ge,ue,u),Kr=ke(Yr,2),mt=Kr[0],dt=Kr[1],f(mt,n?dt:void 0),!cr){Z.next=29;break}return Z.next=27,ow(0);case 27:return Z.next=29,Be(null,"","my-reset");case 29:Z.next=37;break;case 31:if(fr=Fpe(Ge,ue,u),$t=ke(fr,2),Lr=$t[0],rr=$t[1],f(Lr,n?rr:void 0),!(Sr&&y)){Z.next=37;break}return Z.next=36,ow(0);case 36:k(!1);case 37:case"end":return Z.stop()}},Fe)}));return function(De,Ge,Qe){return vt.apply(this,arguments)}}(),Be=function(){var vt=Uo(Br.mark(function Fe(De,Ge,Qe){var ft,Et,At;return Br.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(ft=m==="mui"&&Qe==="reset",Et=Ge,!(Et===_||Et===b||ft)){Rt.next=4;break}return Rt.abrupt("return");case 4:if(Ge==z){Rt.next=13;break}if(H(Et),At=a&&(o?!!Et:!0),!At){Rt.next=12;break}return Rt.next=10,Je(Et);case 10:Rt.next=13;break;case 12:a&&o&&Y([]);case 13:case"end":return Rt.stop()}},Fe)}));return function(De,Ge,Qe){return vt.apply(this,arguments)}}(),Ne=function(Fe){var De=Ce(Fe);return i&&(de?De.push({specialValue:"LOAD_MORE",title:_}):$&&De.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),De},ot=function(Fe,De){if(De==null)return null;var Ge=De.value!=null?De.value:De;return Fe.value===Ge},st=function(Fe){return Fe&&Fe.disabled},Ke=function(Fe){var De;if(Fe!=null&&Fe.isCustom)return!0;var Ge=(De=Fe==null?void 0:Fe.value)!==null&&De!==void 0?De:Fe,Qe=Yf(Ge,ue);return(Qe==null?void 0:Qe.isCustom)||!1},Bt=function(Fe){if(Fe==null)return null;var De=Fe.value!=null?Fe:aw(Yf(Fe,ue));return!De&&Fe.specialValue?Fe.title:!De&&u||!De?Fe.toString():De.title||De.label||De.value.toString()},Pr=m==="mui"?$pe(ve):ve;return{options:Pr,listValues:ue,hasValue:ee,selectedListValue:me,open:E,onOpen:at,onClose:ce,onDropdownVisibleChange:ge,onChange:Pe,inputValue:z,onInputChange:Be,canShowLoadMore:de,isInitialLoading:Q,isLoading:pe,isLoadingMore:$,isSpecialValue:he,extendOptions:Ne,getOptionSelected:ot,getOptionDisabled:st,getOptionIsCustom:Ke,getOptionLabel:Bt,aPlaceholder:S}};function sw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Do=lw(lw({},it),{},{ReactUtils:uce,DragIcon:rL});var yv,qs,Bpe=Do.moment,uw=parseInt((yv=bi==null||(qs=bi.version)===null||qs===void 0||(qs=qs.split("."))===null||qs===void 0?void 0:qs[0])!==null&&yv!==void 0?yv:"0");const qpe=function(t){var e=t.value,r=t.setValue,n=t.readonly,i=t.customProps,a=t.dateFormat,o=t.valueFormat,s=t.placeholder,l=function(h){return h&&h.isValid()?h.format(o):void 0},u=function(h){r(l(h))},c=function(h){return j.createElement(Zt,ae({size:"small",variant:"standard"},h))},f="@media (pointer: fine), (pointer: none)",d=uw>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":s}}}:{inputFormat:a,renderInput:c,toolbarPlaceholder:n?"":s},p=e?uw>=6?Bpe(e,o):e:null;return j.createElement(Dr,null,j.createElement(b$,ae({desktopModeMediaQuery:f,readOnly:n,disabled:n,value:p,onChange:u},d,i)))};var bv,Hs,Hpe=Do.moment,cw=parseInt((bv=bi==null||(Hs=bi.version)===null||Hs===void 0||(Hs=Hs.split("."))===null||Hs===void 0?void 0:Hs[0])!==null&&bv!==void 0?bv:"0");const zpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.dateFormat,s=t.timeFormat,l=t.valueFormat,u=t.customProps,c=function(g){return g&&g.isValid()?g.format(l):void 0},f=function(g){r(c(g))},d=o+" "+s,p=function(g){return j.createElement(Zt,ae({size:"small",variant:"standard"},g))},v="@media (pointer: fine), (pointer: none)",h=cw>=6?{format:d,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:d,renderInput:p,toolbarPlaceholder:i?"":a},m=e?cw>=6?Hpe(e,l):e:null;return j.createElement(Dr,null,j.createElement(f$,ae({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:m,onChange:f},h,u)))};var _v,zs,Upe=Do.moment,Wpe=parseInt((_v=bi==null||(zs=bi.version)===null||zs===void 0||(zs=zs.split("."))===null||zs===void 0?void 0:zs[0])!==null&&_v!==void 0?_v:"0");const Gpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.timeFormat,s=t.valueFormat,l=t.customProps,u=function(y){return y&&y.isValid()?y.format(s):void 0},c=function(y){r(u(y))},f=o.indexOf(":ss")!=-1,d=e?Upe(e,o):null,p=function(y){return j.createElement(Zt,ae({size:"small",variant:"standard"},y))},v="@media (pointer: fine), (pointer: none)",h=Wpe>=6?{format:o,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:o,renderInput:p,toolbarPlaceholder:i?"":a};return j.createElement(Dr,null,j.createElement(_$,ae({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:d,onChange:c,views:f?["hours","minutes","seconds"]:["hours","minutes"]},h,l)))};var fw=Do.ListUtils.mapListValues;const Ype=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(){return fw(e,function(p){var v=p.title,h=p.value;return j.createElement(Zr,{key:h,value:h},v)})},l=function(p){p.target.value!==void 0&&n(p.target.value)},u=function(p){return!i&&p==null?a:c(p)},c=function(p){return fw(e,function(v){var h=v.title,m=v.value;return m===p?h:null}).filter(function(v){return v!==null}).shift()},f=r!=null;return j.createElement(Dr,null,j.createElement(Yi,ae({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i?"":a,onChange:l,value:f?r:"",disabled:i,readOnly:i,renderValue:u,size:"small"},Co(o,["showSearch","input"])),s()))},Kpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(v){var h=v.target.value;h===""||h===null?h=void 0:h=Number(h),r(h)},c=e==null?"":e,f=J.useMemo(function(){return{readOnly:n}},[n]),d=J.useMemo(function(){return{min:i,max:a,step:o}},[i,a,o]);return j.createElement(Dr,null,j.createElement(Zt,ae({variant:"standard",type:"number",value:c,placeholder:n?"":s,InputProps:f,inputProps:d,disabled:n,onChange:u,size:"small"},l)))};var Jpe=["width"];const Qpe=function(t){var e=t.config,r=t.placeholder,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=e.settings.defaultSliderWidth,d=J.useCallback(function(P,L){a(L)},[a]),p=J.useCallback(function(P){var L=P.target.value;L===""||L===null?L=void 0:L=Number(L),a(L)},[a]),v=J.useCallback(function(P){var L=P.target.value;L===""||L===null?L=void 0:L=Number(L),L<o?a(o):L>s&&a(s)},[a,o,s]),h=n||{},m=h.width,y=ri(h,Jpe),g=y.input||{},_=y.slider||y,b=typeof i=="number"?i:"",S=typeof i=="number"?i:null,O=J.useMemo(function(){return u?Object.keys(u).map(function(P){return{value:Number(P),label:xt(u[P])==="object"||typeof u[P]>"u"?u[P]:j.createElement("p",null,u[P])}}):!1},[u]),x=J.useMemo(function(){return{readOnly:c}},[c]),E=J.useMemo(function(){return{min:o,max:s,step:l}},[o,s,l]),k=j.createElement(Zt,ae({variant:"standard",type:"number",value:b,placeholder:r,InputProps:x,inputProps:E,disabled:c,onChange:p,onBlur:v,size:"small"},g)),w=j.createElement(NE,ae({value:S,onChange:d,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},_)),I={display:"inline-flex",alignItems:"center",flexWrap:"wrap"},C={marginLeft:"5px"},A={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:m||f};return j.createElement(Dr,null,j.createElement("div",{style:I},j.createElement("div",{style:C},k),j.createElement("div",{style:A},w)))};var Xpe=["width"];const Zpe=function(t){var e=t.config,r=t.placeholders,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=t.textSeparators,d=e.settings.defaultSliderWidth;J.useEffect(function(){var R=t.value||[void 0,void 0],U=ke(R,2),M=U[0],$=U[1];t.value&&(M==null||$==null)},[]);var p=function(U,M){a(M)},v=function(U){var M=U.target.value;M===""||M==null?M=void 0:M=Number(M);var $=t.value?Ce(t.value):[void 0,void 0];$[0]=M,a($)},h=function(U){var M=U.target.value;M===""||M==null?M=void 0:M=Number(M);var $=t.value?Ce(t.value):[void 0,void 0];$[1]=M,a($)},m=function(){i&&(i[0]<o?a([o,i[1]]):i[1]>s&&a([i[0],s]))},y=n||{},g=y.width,_=ri(y,Xpe),b=_.input||{},S=_.slider||_,O=u?Object.keys(u).map(function(R){return{value:Number(R),label:xt(u[R])==="object"||typeof u[R]>"u"?u[R]:j.createElement("p",null,u[R])}}):!1,x=i?Ce(i):[void 0,void 0],E=ke(x,2),k=E[0],w=E[1];k==null&&(k="",x[0]=0),w==null&&(w="",x[1]=0);var I=j.createElement(Zt,ae({variant:"standard",type:"number",value:k,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:v,onBlur:m,size:"small"},b)),C=j.createElement(Zt,ae({variant:"standard",type:"number",value:w,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:h,onBlur:m,size:"small"},b)),A=j.createElement(NE,ae({value:x,onChange:p,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},S)),P={display:"inline-flex",flexWrap:"wrap"},L={marginLeft:"5px"},V={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:g||d};return j.createElement(Dr,null,j.createElement("div",{style:P},j.createElement("div",{style:L},I),j.createElement("div",{className:"widget--sep"},j.createElement("span",null,f[1])),j.createElement("div",{style:L},C),j.createElement("div",{style:V},A)))},ehe=function(t){var e=t.customProps,r=t.value,n=t.setValue,i=t.labelYes,a=t.labelNo,o=t.readonly,s=function(){n(!r)};return j.createElement(Dr,null,j.createElement(Cn,{component:"div"},j.createElement(co,{component:"label",container:!0,alignItems:"center",spacing:0},j.createElement(co,{item:!0,component:"span"},a),j.createElement(co,{item:!0,component:"span"},j.createElement(ls,ae({checked:!!r,onChange:s,disabled:o},e))),j.createElement(co,{item:!0,component:"span"},i))))};var dw=Do.ListUtils.mapListValues;const the=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(d){return dw(e,function(p){var v=p.title,h=p.value;return j.createElement(Zr,{key:h,value:h},j.createElement(Li,{checked:d.indexOf(h)>-1}),j.createElement(om,{primary:v}))})},l=function(d){if(!i&&!d.length)return a;var p=dw(e,function(v){var h=v.title,m=v.value;return d.indexOf(m)>-1?h:null}).filter(function(v){return v!==null});return p.join(", ")},u=r!=null&&r.length>0,c=function(d){d.target.value!==void 0&&n(d.target.value)};return j.createElement(Dr,null,j.createElement(Yi,ae({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:c,value:u?r:[],disabled:i,readOnly:i,renderValue:l,size:"small"},Co(o,["showSearch","input","showCheckboxes"])),s(u?r:[])))};var J0={},rhe=$r;Object.defineProperty(J0,"__esModule",{value:!0});var Q0=J0.default=void 0,nhe=rhe(Nr()),ihe=T;Q0=J0.default=(0,nhe.default)((0,ihe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var ahe=["width"];function pw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ohe=Vpe,she=[];const XL=function(t){var e=t.allowCustomValues,r=t.multiple,n=t.disableClearable,i=t.value,a=t.customProps,o=t.readonly,s=t.config,l=t.filterOptionsConfig,u=t.errorText,c=t.tooltipText,f=t.isFieldAutocomplete,d=J.useCallback(function(ve){var ee=s.settings.listKeysForSearch,me=ee.map(function(Oe){return typeof ve[Oe]=="string"?ve[Oe]:""}).join("\0");return me},[s]),p={stringify:d},v=LE(l||p),h=ohe(t,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:f}),m=h.open,y=h.onOpen,g=h.onClose,_=h.onChange,b=h.onInputChange,S=h.inputValue,O=h.options,x=h.isInitialLoading,E=h.isLoading,k=h.aPlaceholder,w=h.extendOptions,I=h.getOptionDisabled,C=h.getOptionIsCustom,A=h.getOptionLabel,P=h.selectedListValue,L=s.settings,V=L.defaultSelectWidth,R=L.defaultSearchWidth,U=a||{},M=U.width,$=ri(U,ahe),F=$.input||{};F.width,F=Co(F,["width"]);var N=Co($,["showSearch","showCheckboxes"]),B=!1,z=M||V,H={width:r?void 0:z,minWidth:z},D=o?"":k,G=D||s.settings.fieldPlaceholder,q=i!=null,Y=q?i:r?she:null,K=function(ee,me){var Oe=v(ee,me),we=w(Oe);return we},ie=function(ee){return ee!=null&&ee.group?JSON.stringify(ee.group):ee==null?void 0:ee.groupTitle},te=jr(),oe=function(ee){var me,Oe,we,Je=!r&&!m,at=(me=(Oe=P==null?void 0:P.title)!==null&&Oe!==void 0?Oe:Y==null?void 0:Y.toString())!==null&&me!==void 0?me:"",ce=r&&!m,ge=Je?at:ce?"":(we=S!=null?S:Y==null?void 0:Y.toString())!==null&&we!==void 0?we:"";return j.createElement(Zt,ae({variant:"standard"},ee,{inputProps:Kf(Kf({"aria-label":G},ee.inputProps),{},{value:ge}),InputProps:Kf(Kf({},ee.InputProps),{},{readOnly:o,endAdornment:j.createElement(j.Fragment,null,E?j.createElement(aR,{color:"inherit",size:20}):null,ee.InputProps.endAdornment)}),disabled:o,placeholder:D,error:!!u},F))},ue=function(ee){var me=ee.groupMaybeJson;if(!me)return null;var Oe={label:me};if(typeof me=="string"&&me[0]==="{")try{Oe=JSON.parse(me)}catch(at){}var we=Oe.label;we&&Oe.tooltip&&(we=j.createElement(gl,{title:Oe.tooltip,placement:"left-start"},j.createElement("span",null,we)));var Je=j.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:te.palette.primary.main,backgroundColor:te.palette.background.default}},we);return Je},fe=function(ee){var me=ee.children;return j.createElement(j.Fragment,null,me)},pe=function(ee){var me=j.createElement("div",{key:ee.key},j.createElement(ue,{groupMaybeJson:ee.group}),j.createElement(fe,null,ee.children));return me},Se=function(ee,me){return ee.map(function(Oe,we){return j.createElement(Zg,ae({key:Oe.value,label:A(Oe),size:"small",variant:C(Oe)?"outlined":"filled"},me({index:we})))})},Q=function(ee,me){return(ee==null?void 0:ee.value)==me},re=function(ee,me){var Oe=me.title,we=me.renderTitle,Je=me.value,at=me.isHidden,ce=me.tooltip,ge=me.group,he=me.groupTitle,Pe=he||ge,Be=r?(i||[]).includes(Je):i==Je,Ne=C(me)?"customSelectOption":void 0,ot=!f&&Pe?"Â Â ":"",st=we||ot+Oe,Ke=j.createElement("span",{className:Ne},st);if(ce&&(Ke=j.createElement(gl,{title:ce,placement:"left-start"},Ke)),at)return null;if(me.specialValue)return j.createElement("div",ee,st);if(r){var Bt=Be?j.createElement(j.Fragment,null,j.createElement(vE,null,j.createElement(Q0,null)),Ke):j.createElement(om,{inset:!0},Ke);return j.createElement(Zr,ae({},ee,{size:"small",selected:Be}),Bt)}else return j.createElement("div",ee,Ke)},de=j.createElement(i2,ae({disableClearable:n,disableCloseOnSelect:r,fullWidth:B,multiple:r,style:H,freeSolo:e,loading:x,open:m,onOpen:y,onClose:g,inputValue:S,onInputChange:b,label:D,onChange:_,value:Y,disabled:o,readOnly:o,options:O,groupBy:ie,getOptionLabel:A,getOptionDisabled:I,renderInput:oe,renderGroup:pe,renderTags:Se,renderOption:re,filterOptions:K,isOptionEqualToValue:Q,size:"small"},N));return c&&(de=j.createElement(gl,{title:m?null:c,placement:"top-start"},de)),de=j.createElement(Dr,{fullWidth:B},de),de},lhe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.placeholder,o=t.errorText,s=t.selectedLabel;t.selectedOpts;var l=t.selectedAltLabel,u=t.selectedFullLabel,c=J.useState(!1),f=ke(c,2),d=f[0],p=f[1],v=J.useCallback(function(){p(!0)},[p]),h=J.useCallback(function(){p(!1)},[p]),m=function O(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(x).map(function(k){var w=x[k],I=w.items,C=w.path,A=w.label,P=w.disabled,L=w.matchesType,V=w.tooltip,R="Â Â ".repeat(E),U=j.createElement("span",null,R&&j.createElement("span",null,R),L?j.createElement("b",null,A):A);return V&&(U=j.createElement(gl,{title:V,placement:"left-start"},U)),I?[j.createElement(am,{disabled:P,key:C,disableSticky:!0},U),O(I,E+1)]:j.createElement(Zr,{disabled:P,key:C,value:C},U)})},y=J.useCallback(function(O){O.target.value!==void 0&&r(O.target.value)},[r]),g=J.useCallback(function(O){if(!i&&!O)return a;var x=function k(w){return w.map(function(I){return I.items?k(I.items):I.path===O?I.label:null})},E=x(e).filter(function(k){return Array.isArray(k)?k.some(function(w){return w!==null}):k!==null}).pop();return E},[i,a,e]),_=n!=null,b=l||u;b==s&&(b=null);var S=j.createElement(Yi,{error:!!o,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:a,onChange:y,value:_?n:"",disabled:i,renderValue:g,size:"small",open:d,onOpen:v,onClose:h},m(e));return b&&(S=j.createElement(gl,{title:d?null:b},S)),S=j.createElement(Dr,null,S),S};var uhe=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function hw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var che={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},fhe=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.map(function(n){var i=n.items,a=n.path,o=n.key,s=n.label,l=n.altLabel,u=n.disabled,c=n.grouplabel,f=n.group,d=n.matchesType,p=n.tooltip,v="Â Â ".repeat(r);return i?t(i,r+1):{title:s,renderTitle:d?j.createElement("b",null,v+s):v+s,value:a,disabled:u,groupTitle:r>0?v+c:null,group:r>0?tp(tp({},f),{},{label:v+f.label}):null,tooltip:p,_value2:o,_altLabel:l}}).flat(1/0)},dhe=function(e,r){var n=e.items,i=e.selectedKey,a=e.setField,o=e.isValueField,s=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,u=e.selectedFullLabel,c=ri(e,uhe),f=l||u;f==s&&(f=null);var d=fhe(n),p=i,v=function(y,g){if(!(!y&&!o))return a(y)},h={stringify:J.useCallback(function(m){var y=r.settings.fieldItemKeysForSearch.map(function(_){return che[_]}),g=y.map(function(_){return typeof m[_]=="string"?m[_]:""}).join("\0");return g},[r])};return tp(tp({},c),{},{tooltipText:f,listValues:d,setValue:v,filterOptionsConfig:h,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:p,isFieldAutocomplete:!0})};const phe=function(t){return j.createElement(XL,dhe(t,t.config))};var X0={},hhe=$r;Object.defineProperty(X0,"__esModule",{value:!0});var ZL=X0.default=void 0,vhe=hhe(Nr()),ghe=T;ZL=X0.default=(0,vhe.default)((0,ghe.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var mhe=Do.DragIcon,yhe={delGroup:j.createElement(Wu,null),delRuleGroup:j.createElement(Wu,null),delRule:j.createElement(Wu,null),addRuleGroup:j.createElement(Yo,null),addRuleGroupExt:j.createElement(Yo,null),addRule:j.createElement(Yo,null),addGroup:j.createElement(Yo,null),drag:j.createElement(ZL,null)},bhe={drag:"primary"};const _he=function(t){var e=t.type,r=t.readonly,n=yhe[e]||null;return!n&&e==="drag"?j.createElement(mhe,null):e==="drag"?j.createElement(RE,{size:"small",disabled:r,color:bhe[e]},n):n};var She={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},vw={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const Ohe=J.memo(function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=t.renderIcon,o={type:e,readonly:i},s=a==null?void 0:a(o);return!r||She[e]?j.createElement(bt,{size:"small",disabled:i,onClick:n,color:vw[e],"aria-label":r},s):j.createElement(Ut,{size:"small",disabled:i,onClick:n,color:vw[e],startIcon:s},r)}),xhe=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)};var whe=j.memo(function(t){var e=t.conjKey,r=t.id;t.name;var n=t.label,i=t.checked,a=t.setConjunction,o=t.readonly,s=t.disabled,l=J.useCallback(function(){a(e)},[e,a]),u=a.isDummyFn?"__dummy":"";return(o||s)&&!i?null:j.createElement(Ut,{key:r+u,id:r+u,color:i?"primary":"inherit",value:e,onClick:l,disabled:o||s},n)}),Ehe=j.memo(function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(_){var b=i[_],S=b.id,O=b.name,x=b.label,E=b.checked,k={conjKey:_,id:S,name:O,label:x,checked:E,setConjunction:a,readonly:s,disabled:o};return j.createElement(whe,ae({key:S},k))})},m=J.useCallback(function(){n(!r)},[r,n]),y=function(){return s&&!r?null:j.createElement(Ut,{key:e,id:e+"__not",color:r?"error":"inherit",onClick:m,disabled:s},c||"NOT")};return j.createElement(Dr,null,j.createElement(u2,{disableElevation:!0,variant:"contained",size:"small",disabled:s},u&&y(),v&&h()))}),Z0={},Che=$r;Object.defineProperty(Z0,"__esModule",{value:!0});var eF=Z0.default=void 0,The=Che(Nr()),khe=T;eF=Z0.default=(0,The.default)((0,khe.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var eb={},Ihe=$r;Object.defineProperty(eb,"__esModule",{value:!0});var tF=eb.default=void 0,Ahe=Ihe(Nr()),jhe=T;tF=eb.default=(0,Ahe.default)((0,jhe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const Phe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.checkedLabel,a=t.hideLabel,o=t.id,s=t.config,l=t.type;s.settings.renderSize;var u=function(h){return r(h.target.checked)},c=function(){return r(!e)},f=l,d=e&&i||n,p=e?j.createElement(tF,null):j.createElement(eF,null);return l=="lock"?a?j.createElement(bt,{key:o+f,onClick:c,size:"small"},p):j.createElement(Ut,{key:o+f,onClick:c,size:"small",startIcon:p},d):j.createElement($a,{control:j.createElement(ls,{checked:!!e,size:"small",onChange:u}),label:d})};var tb={},Lhe=$r;Object.defineProperty(tb,"__esModule",{value:!0});var rF=tb.default=void 0,Fhe=Lhe(Nr()),Rhe=T;rF=tb.default=(0,Fhe.default)((0,Rhe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var $he=j.memo(function(t){var e=t.valueSrc,r=t.srcKey,n=t.handleChange,i=t.info,a=e==r||!e&&r=="value",o=J.useCallback(function(s){return n(s,r)},[n,r]);return j.createElement(Zr,{value:r,selected:a,onClick:o},!a&&j.createElement(om,{inset:!0},i.label),a&&j.createElement(j.Fragment,null,j.createElement(vE,null,j.createElement(Q0,null)),i.label))}),Nhe=j.memo(function(t){var e=t.valueSources,r=t.valueSrc,n=t.title,i=t.setValueSrc;t.readonly;var a=j.useState(null),o=ke(a,2),s=o[0],l=o[1],u=J.useCallback(function(h){l(h.currentTarget)},[l]),c=J.useCallback(function(){l(null)},[l]),f=J.useCallback(function(h){s?c():u(h)},[c,u,s]),d=J.useCallback(function(h,m){i(m),c()},[c,i]),p=function(m){return m.map(function(y){var g=ke(y,2),_=g[0],b=g[1];return j.createElement($he,{key:_,valueSrc:r,srcKey:_,handleChange:d,info:b})})},v=!!s;return j.createElement("div",null,j.createElement(bt,{size:"small",onClick:f},j.createElement(rF,null)),j.createElement($R,{anchorEl:s,open:v,onClose:c},j.createElement(Dr,{component:"fieldset",sx:{p:0}},j.createElement(wE,{component:"legend",sx:{p:2,pt:0,pb:1}},n),p(e))))});const Dhe=function(t){var e=t.onOk,r=t.okText,n=t.cancelText,i=t.title,a=t.confirmFn;a({description:i||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(e).catch(function(){})};var Sv,Us,Mhe=parseInt((Sv=bi==null||(Us=bi.version)===null||Us===void 0||(Us=Us.split("."))===null||Us===void 0?void 0:Us[0])!==null&&Sv!==void 0?Sv:"0"),Vhe=function(e){var r=e.config,n=e.children,i=r.settings.theme||{},a=r.settings.locale||{},o=a.moment,s=i.mui,l=a.mui,u=hE(s,l,{palette:{}}),c=Mhe>=6?{locale:o}:{adapterLocale:o},f=j.createElement("div",{className:"mui"},n),d=j.createElement(d$,ae({dateAdapter:tJ},c),j.createElement(JW,null,f)),p=u?j.createElement(_E,{theme:u},d):d;return p};const Bhe={MuiTextWidget:OJ,MuiTextAreaWidget:xJ,MuiDateWidget:qpe,MuiDateTimeWidget:zpe,MuiTimeWidget:Gpe,MuiSelectWidget:Ype,MuiNumberWidget:Kpe,MuiSliderWidget:Qpe,MuiRangeWidget:Zpe,MuiBooleanWidget:ehe,MuiMultiSelectWidget:the,MuiAutocompleteWidget:XL,MuiFieldSelect:lhe,MuiFieldAutocomplete:phe,MuiIcon:_he,MuiButton:Ohe,MuiButtonGroup:xhe,MuiConjs:Ehe,MuiSwitch:Phe,MuiValueSources:Nhe,MuiConfirm:Dhe,MuiUseConfirm:ZW,MuiProvider:Vhe};function gw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qhe=Ct(Ct({},cn.settings),{},{renderField:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderOperator:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.MuiConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.MuiSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.MuiButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.MuiIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.MuiButtonGroup;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.MuiProvider;return n(i,e)},renderConfirm:function(e,r){var n=r.W.MuiConfirm;return n(e)},useConfirm:function(e){var r=e.W.MuiUseConfirm;return r()}}),Hhe=Ct(Ct({},cn.widgets),{},{text:Ct(Ct({},cn.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextWidget;return n(i,e)}}),textarea:Ct(Ct({},cn.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextAreaWidget;return n(i,e)}}),number:Ct(Ct({},cn.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiNumberWidget;return n(i,e)}}),multiselect:Ct(Ct({},cn.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?n(a,Ct(Ct({},e),{},{multiple:!0})):n(o,e)}}),select:Ct(Ct({},cn.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiSelectWidget;return e.asyncFetch||e.showSearch?n(a,e):n(o,e)}}),slider:Ct(Ct({},cn.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiSliderWidget;return n(i,e)}}),boolean:Ct(Ct({},cn.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiBooleanWidget;return n(i,e)}}),date:Ct(Ct({},cn.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateWidget;return n(i,e)}}),time:Ct(Ct({},cn.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTimeWidget;return n(i,e)}}),datetime:Ct(Ct({},cn.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateTimeWidget;return n(i,e)}}),rangeslider:Ct(Ct({},cn.widgets.rangeslider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiRangeWidget;return n(i,e)}})}),zhe=Ct({},cn.types),Uhe=Ct(Ct({},cn.ctx),{},{W:Ct(Ct({},cn.ctx.W),Bhe)}),zg=Ct(Ct({},cn),{},{ctx:Uhe,types:zhe,widgets:Hhe,settings:qhe});zg=Do.ConfigMixins.addMixins(zg,["rangeslider"]);const nF=zg,Ht=nF,ar=t=>'<span class="logicField">'+t+"</span>",qr=t=>'<span class="logicOp">'+t+"</span>",Xt=(t,e)=>'<span class="logicValue">'+(e=="text"?'"'+t+'"':t)+"</span>",Whe={AND:Ht.conjunctions.AND,OR:Ht.conjunctions.OR},Ghe={...Ht.operators,less:{...Ht.operators.less,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr("<")," ").concat(Xt(r,i))},less_or_equal:{...Ht.operators.less_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr("<=")," ").concat(Xt(r,i))},greater:{...Ht.operators.greater,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr(">")," ").concat(Xt(r,i))},greater_or_equal:{...Ht.operators.greater_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr(">=")," ").concat(Xt(r,i))},equal:{...Ht.operators.equal,label:"Equals",jsonLogic:"==",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"equals":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},not_equal:{...Ht.operators.not_equal,label:"Not Equals",jsonLogic:"!=",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"not equals":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},starts_with:{...Ht.operators.starts_with,jsonLogic:"startsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"starts with":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},ends_with:{...Ht.operators.ends_with,jsonLogic:"endsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"ends with":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},between:{...Ht.operators.between,label:"Between",jsonLogic:"between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ar(t)," ").concat(qr("between")," ").concat(Xt(l,i)," ").concat(qr("and")," ").concat(Xt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},not_between:{...Ht.operators.not_between,label:"Not Between",jsonLogic:"not_between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ar(t)," ").concat(qr("not between")," ").concat(Xt(l,i)," ").concat(qr("and")," ").concat(Xt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},like:{...Ht.operators.like,label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"contains":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},not_like:{...Ht.operators.not_like,label:"Not Contains",jsonLogic:"not_contains",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"does not contain":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},select_any_in:{...Ht.operators.select_any_in,label:"Any In",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ar(t)," ").concat(qr("in")," (").concat(Xt(l,""),")")}},select_not_any_in:{...Ht.operators.select_not_any_in,label:"None In",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ar(t)," ").concat(qr("not in")," (").concat(Xt(l,""),")")}},multiselect_equals:{...Ht.operators.multiselect_equals,label:"Any In",jsonLogic:"any_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("Any of")," (").concat(Xt(l,""),") in ").concat(ar(t)," ").concat(qr("is selected"))}},multiselect_not_equals:{...Ht.operators.multiselect_not_equals,label:"None In",jsonLogic:"none_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("None of")," (").concat(Xt(l,""),") in ").concat(ar(t)," ").concat(qr("is selected"))}},is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is shown"))},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not shown"))},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is valid"))},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not valid"))},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is empty"))},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is online"))},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is Offline"))},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not empty"))},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is empty"))},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not empty"))}},Yhe={...Ht.widgets,text:{...Ht.widgets.text},slider:{...Ht.widgets.slider,customProps:{width:"300px"}},rangeslider:{...Ht.widgets.rangeslider,customProps:{width:"300px"}},date:{...Ht.widgets.date,dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"},time:{...Ht.widgets.time,timeFormat:"HH:mm",valueFormat:"HH:mm:ss"},datetime:{...Ht.widgets.datetime,timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"},func:{...Ht.widgets.func,customProps:{showSearch:!0}},treeselect:{...Ht.widgets.treeselect,customProps:{showSearch:!0}}},Khe={...Ht.types,boolean:oR(Ht.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})},Jhe={valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}},Qhe={...Ht.settings,...Jhe,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1},Xhe={},Zhe={ctx:nF.ctx,conjunctions:Whe,operators:Ghe,widgets:Yhe,types:Khe,settings:Qhe,funcs:Xhe};function eve(t){const{jsonLogicFormat:e,queryString:r,loadTree:n,uuid:i,loadFromJsonLogic:a,checkTree:o}=Do,s={...Zhe,fields:t.fields},l=t.logic?o(a(t.logic,s),s):n({id:i(),type:"group"}),[u,c]=J.useState(l),[f,d]=J.useState(r(u,s,!0)),p=m=>T.jsx("div",{jey:"builder",className:"query-builder-container",children:T.jsx("div",{className:"query-builder",children:T.jsx(qde,{...m})})}),v=m=>{c(m)},h=()=>{const{logic:m,errors:y}=e(u,s);d(r(u,s,!0)),t.onChange(m)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"query-builder-result",children:[t.logic&&f?T.jsx("pre",{className:"condition-human-text",children:NR(Pi(f),50)}):T.jsx("pre",{className:"condition-human-text",children:t.t("no_condition")}),T.jsx("div",{className:"icon-container",children:T.jsx(bt,{onClick:()=>t.onDialogStateChanged(!0),children:T.jsx(bN,{})})})]},"result"),T.jsxs(nm,{fullScreen:!0,sx:{margin:"200px"},open:t.dialogOpen,onClose:()=>t.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(em,{id:"alert-dialog-title-logic-builder",children:t.title}),T.jsx(Uu,{children:T.jsx(KP,{...s,value:u,onChange:v,renderBuilder:p})}),T.jsx(rm,{children:T.jsx(Ut,{onClick:()=>{t.onDialogStateChanged(!1),h()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const tve=(t,e,r,n,i)=>{let a=RC(t,e),o={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:i}}};return a.forEach(s=>{r[s]&&(cs(s)||Gi(s))&&(o={...o,...rve(s,r[s],r,n)})}),o},rve=(t,e,r,n)=>{var a,o,s,l,u,c,f,d,p,v,h,m,y,g,_,b;const i=t+". "+Pi(((o=(a=e.content)==null?void 0:a.label)==null?void 0:o[n])||"");if(Gi(t))return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(e.type){case"text":case"barcode":case"email":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[t]:{label:i,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[t]:{label:i,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[t]:{label:i,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[t]:{label:i,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let S={},O={};(s=e.children)==null||s.forEach(L=>{var R,U;const V=Pi(((U=(R=r[L.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[n])||"");O[L.code]=V?L.code+" - "+V:L.code}),S[t]={label:i,fieldSettings:{listValues:O},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let x=(l=e.children)==null?void 0:l.find(L=>L.code==="Aother");return x&&((u=r[x.qualifiedCode].children)!=null&&u.find(L=>L.code==="Atext"))&&(S[t+"AotherAtext"]={label:"".concat(i," [").concat(((f=(c=r[x.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),S;case"image_mcq":case"icon_mcq":case"mcq":let E={},k={};(d=e.children)==null||d.forEach(L=>{var R,U;const V=Pi(((U=(R=r[L.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[n])||"");k[L.code]=V?L.code+" - "+V:L.code}),E[t]={label:i,fieldSettings:{listValues:k},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=(p=e.children)==null?void 0:p.find(L=>L.code==="Aother");return w&&((v=r[w.qualifiedCode].children)!=null&&v.find(L=>L.code==="Atext"))&&(E[t+"AotherAtext"]={label:"".concat(i," [").concat(((m=(h=r[w.qualifiedCode].content)==null?void 0:h.label)==null?void 0:m[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),E;case"nps":let I={};return(y=e.children)==null||y.forEach(L=>{var R,U;const V=Pi(((U=(R=r[L.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[n])||"");k[L.code]=V?L.code+" - "+V:L.code}),I[t]={label:i,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},I;case"scq_icon_array":case"scq_array":let C={},A={};return(g=e.children)==null||g.filter(L=>L.type=="column").forEach(L=>{var R,U;const V=Pi(((U=(R=r[L.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[n])||"");A[L.code]=V?L.code+" - "+V:L.code}),C[t]={label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},(_=e.children)==null||_.filter(L=>L.type=="row").forEach(L=>{var V,R;C[t+L.code]={label:i+" - "+Pi(((R=(V=r[L.qualifiedCode].content)==null?void 0:V.label)==null?void 0:R[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:A},operators:["select_any_in","select_not_any_in"]}}),C;case"ranking":case"image_ranking":let P={};return(b=e.children)==null||b.forEach(L=>{var V,R;P[t+L.code]={label:i+" - "+Pi(((R=(V=r[L.qualifiedCode].content)==null?void 0:V.label)==null?void 0:R[n])||""),type:"number",fieldSettings:{min:1,max:e.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}}),P;default:return[]}},nve="_relevance_1j5a5_1",ive="_relevanceError_1j5a5_5",ave="_errorContainer_1j5a5_9",mw={relevance:nve,relevanceError:ive,errorContainer:ave};function ove({code:t,t:e}){var b,S,O;const r=wt(),[n,i]=J.useState(!1),a=ye(x=>x.designState),o=j.useMemo(()=>a.langInfo),s=j.useMemo(()=>a[t]),l=j.useMemo(()=>tve(a.componentIndex,t,a,o.mainLang,o.languagesList.map(x=>x.code)),[a]),u=(b=s.instructionList)==null?void 0:b.find(x=>x.code=="conditional_relevance"),f=((u==null?void 0:u.errors)||[]).length>0,d=(S=s.relevance)==null?void 0:S.logic,p=!f&&Object.keys(l).length>0,[v,h]=J.useState(((O=s.relevance)==null?void 0:O.rule)||"show_always"),m=v=="show_if"||v=="hide_if",y=x=>{switch(h(x),x){case"show_always":g();return;case"hide_always":r(mf({code:t,key:"relevance",value:{logic:void 0,rule:x}}));return;case"show_if":case"hide_if":(d==null?void 0:d.rule)!="show_if"&&(d==null?void 0:d.rule)!="hide_if"&&i(!0),d&&r(mf({code:t,key:"relevance",value:{logic:d,rule:x}}));return}},g=()=>r(mf({code:t,key:"relevance",value:{logic:void 0,rule:"show_always"}})),_=x=>{i(!1),m&&r(mf({code:t,key:"relevance",value:{logic:x,rule:v}}))};return T.jsxs("div",{className:"".concat(f?mw.relevanceError:""),children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Yi,{id:"show-hide-select",value:v,label:"Age",onChange:x=>y(x.target.value),children:[T.jsx(Zr,{disabled:f,value:"show_always",children:e("show_always")},"show_always"),T.jsx(Zr,{disabled:!p,value:"show_if",children:e("show_if")},"show_if"),T.jsx(Zr,{disabled:!p,value:"hide_if",children:e("hide_if")},"hide_if"),T.jsx(Zr,{disabled:f,value:"hide_always",children:e("hide_always")},"hide_always")]})}),!f&&m&&T.jsx(eve,{title:v=="show_if"?e("condition_to_show"):e("condition_to_hide"),onChange:_,onDialogStateChanged:x=>i(x),fields:l,t:e,dialogOpen:n,logic:d}),f?T.jsxs("div",{className:mw.errorContainer,children:[T.jsx(fa,{t:e,i18nKey:"wrong_logic_err"}),T.jsx(Ut,{variant:"contained",onClick:()=>g(),children:"OK"})]}):"",m&&!d?T.jsx("div",{children:T.jsx(fa,{t:e,i18nKey:"no_logic_err"})}):""]})}const iF=(t,e,r)=>{var a,o;const n=e[t],i=t+". "+Pi((o=(a=n.content)==null?void 0:a.label)==null?void 0:o[r]);return{code:t,label:i}},sve=(t,e,r,n)=>{let i=[];if(!t)return i;let a=t.find(o=>o.code===e);return a&&(i=i.concat(yw(t,a,r,n)),a.parent&&aF(t,a).filter(o=>cs(o.code)||Gi(o.code)).forEach(o=>{i=i.concat(yw(t,o,r,n))})),i},aF=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(aF(t,n))),r},yw=(t,e,r,n)=>{let i=[];return!Gi(e.code)&&!cs(e.code)||t.filter(o=>o.parent==e.parent&&o.minIndex>e.maxIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(o.code)===-1)).forEach(o=>{i=i.concat(iF(o.code,r,n)),i=i.concat(oF(t,o,r,n))}),i},oF=(t,e,r,n)=>{let i=[];return Gi(e.code)&&e.children&&e.children.forEach(a=>{let o=t.find(s=>s.code===a);i=i.concat(iF(o.code,r,n)),i=i.concat(oF(t,o,r,n))}),i},lve="_skipItem_1n8m2_1",uve="_toEnd_1n8m2_6",rb={skipItem:lve,toEnd:uve};function cve({code:t,t:e}){const r=wt(),n=ye(u=>u.designState[t].skip_logic||{}),i=ye(u=>{const c=u.designState.langInfo.mainLang;return sve(u.designState.componentIndex,t,u.designState,c)}),a=ye(u=>u.designState[t].instructionList.filter(c=>c.code.startsWith("skip_to"))),o=ye(u=>{var f,d;const c=u.designState.langInfo.lang;return(d=(f=u.designState[t])==null?void 0:f.children)==null?void 0:d.map(p=>{var v,h;return{code:p.code,label:((h=(v=u.designState[p.qualifiedCode].content)==null?void 0:v.label)==null?void 0:h[c])||p.code}})}),s=(u,c)=>{c=="proceed"?r(DR({code:t,answerCode:u})):r(MR({code:t,answerCode:u,skipTo:c}))},l=(u,c)=>{r(VR({code:t,answerCode:u,toEnd:c}))};return T.jsx(T.Fragment,{children:o==null?void 0:o.map(u=>{var h,m;const c=u.code,f=n==null?void 0:n[c],d=f==null?void 0:f.skipTo,p=d||"proceed",v=d&&((m=(h=a==null?void 0:a.find(y=>y.code=="skip_to_on_"+c))==null?void 0:h.errors)==null?void 0:m.find(y=>y.name=="InvalidSkipReference"));return T.jsxs("div",{className:rb.skipItem,children:[T.jsx(fa,{t:e,values:{code:u.label},i18nKey:"if_answer_is"}),v?fve(c,d,s,e):dve(c,i,p,f==null?void 0:f.toEnd,s,l,e)]},u.code)})})}function fve(t,e,r,n){return T.jsxs(ht,{className:rb.errorDisplay,children:[T.jsx(e$,{style:{verticalAlign:"middle"}})," ",T.jsx(fa,{t:n,values:{code:e},i18nKey:"invalid_skip_destination_err"}),T.jsx(Ut,{variant:"contained",onClick:()=>r(t,"proceed"),children:n("ok")})]})}function dve(t,e,r,n,i,a,o){return T.jsxs(T.Fragment,{children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Yi,{id:"skip-action",value:r,label:o("skip_to"),onChange:s=>i(t,s.target.value),children:[T.jsx(Zr,{value:"proceed",children:o("proceed_as_usual")},"proceed"),e&&(e==null?void 0:e.map(s=>T.jsx(Zr,{value:s.code,children:s.label},s.code)))]})}),r&&r.startsWith("G")&&T.jsxs("div",{className:rb.toEnd,children:[T.jsx("h4",{children:o("to_group_end")}),T.jsx(ls,{checked:n||!1,onChange:s=>a(t,s.target.checked)})]})]})}const pve="_sectionTitle_nmfqz_1",hve="_rightContent_nmfqz_6",vve="_close_nmfqz_13",gve="_accordionStyle_nmfqz_17",tc={sectionTitle:pve,rightContent:hve,close:vve,accordionStyle:gve},mve="_errorDisplay_1avr2_1",yve={errorDisplay:mve};function sF({errors:t}){const{t:e}=us("design");return T.jsx(ht,{className:yve.errorDisplay,children:t.map(r=>{if(r.name=="PriorityGroupItemNotChild")return T.jsx(fa,{t:e,i18nKey:"err_priority_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicatePriorityGroupItems")return T.jsx(fa,{t:e,i18nKey:"err_duplicate_priority_group_items",values:{items:r.items.join(", ")}},r.name);if(r.name=="PriorityLimitMismatch")return e("err_priority_limit_mismatch");if(r.name=="RandomGroupItemNotChild")return T.jsx(fa,{t:e,i18nKey:"err_random_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicateRandomGroupItems")return T.jsx(fa,{t:e,i18nKey:"err_duplicate_random_group_items",values:{items:r.items.join(", ")}},r.name)})},"box")}const bve="_randomHeader_1pjix_1",_ve="_title_1pjix_6",Sve="_action_1pjix_11",Ove="_settingIcon_1pjix_15",xve="_randomBody_1pjix_19",wve="_list_1pjix_19",Eve="_weight_1pjix_30",Cve="_randomAction_1pjix_47",Tve="_listItem_1pjix_53",kve="_label_1pjix_58",Ive="_input_1pjix_64",Ave="_listItemError_1pjix_68",jve="_randomItem_1pjix_84",Pve="_highlighted_1pjix_89",Bn={randomHeader:bve,title:_ve,action:Sve,settingIcon:Ove,randomBody:xve,list:wve,weight:Eve,randomAction:Cve,listItem:Tve,label:kve,input:Ive,listItemError:Ave,randomItem:jve,highlighted:Pve};var nb={},Lve=$r;Object.defineProperty(nb,"__esModule",{value:!0});var ib=nb.default=void 0,Fve=Lve(Nr()),Rve=T;ib=nb.default=(0,Fve.default)((0,Rve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");function $ve(t){var e;return T.jsxs(dp,{className:"".concat(Bn.randomItem," ").concat(t.isBeingEdited?Bn.highlighted:""),children:[T.jsxs("div",{className:Bn.randomHeader,children:[T.jsx("h4",{className:Bn.title,children:t.t("prioritise")}),T.jsxs("div",{className:Bn.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ib,{className:Bn.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Wu,{className:Bn.settingIcon})})]})]}),T.jsxs("div",{className:Bn.randomBody,children:[t.t("priority_show_limit_from_count",{limit:t.data.limit,count:(e=t.data.weights)==null?void 0:e.length}),T.jsx("ul",{className:Bn.list,children:t.data&&t.data.weights&&t.data.weights.map((r,n)=>T.jsx(Nve,{label:t.getChildLabelByCode(r.code),code:r.code,childrenCodes:t.childrenCodes,weight:r.weight},n))})]})]})}function Nve({code:t,label:e,weight:r,childrenCodes:n}){return T.jsxs("li",{className:n.indexOf(t)!==-1?Bn.listItem:Bn.listItemError,children:[T.jsxs("div",{className:"".concat(Bn.content," ").concat(Bn.label),children:[t,": ",e]}),T.jsx("div",{className:Bn.weight,children:T.jsx("span",{children:r})})]})}const Dve="_title_5cg20_1",Mve="_randomBody_5cg20_6",Vve="_list_5cg20_6",Bve="_weight_5cg20_18",qve="_label_5cg20_35",Hve="_randomAction_5cg20_39",zve="_listItem_5cg20_45",Uve="_input_5cg20_50",Wve="_randomItem_5cg20_54",la={title:Dve,randomBody:Mve,list:Vve,weight:Bve,label:qve,randomAction:Hve,listItem:zve,input:Uve,randomItem:Wve};var ab={},Gve=$r;Object.defineProperty(ab,"__esModule",{value:!0});var ob=ab.default=void 0,Yve=Gve(Nr()),Kve=T;ob=ab.default=(0,Yve.default)((0,Kve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var sb={},Jve=$r;Object.defineProperty(sb,"__esModule",{value:!0});var lb=sb.default=void 0,Qve=Jve(Nr()),Xve=T;lb=sb.default=(0,Qve.default)((0,Xve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");function Zve(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.data),o=()=>{const h=r.filter(m=>m).length;return h>=2&&i.limit<=h-1&&i.limit>=1},s=()=>{if(r.filter(g=>g).length<2)return!1;const m={...i},y=r.reduce((g,_,b)=>(_&&g.push(m.weights[b]),g),[]);t.onSubmit({...m,weights:y})},l=(h,m)=>{const y=[...r];y[m]=h,n([...y])},u=h=>{a({...i,limit:h})},c=(h,m)=>{const y={...i};y.weights=[...i.weights],y.weights[m]={...i.weights[m],weight:h},a(y)},f=h=>{if(h===1)return!1;h--,u(h)},d=h=>{if(h===i.weights.length-1)return!1;h++,u(h)},p=(h,m)=>{if(h===1)return!1;h--,c(h,m)},v=(h,m)=>{h++,c(h,m)};return T.jsxs(dp,{className:la.randomItem,children:[T.jsx("h4",{className:la.title,children:t.title}),T.jsxs("div",{className:la.randomBody,children:[T.jsx(tge,{t:e,increaseLimit:d,decreaseLimit:f,limit:i.limit}),T.jsx("ul",{className:"".concat(la.list," ").concat(la.active),children:i&&i.weights&&i.weights.map((h,m)=>T.jsx(ege,{code:h.code,weight:h.weight,handleChange:y=>l(y,m),decreaseWeight:y=>p(y,m),increaseWeight:y=>v(y,m),checked:(r==null?void 0:r[m])||!1,label:t.getChildLabelByCode(h.code)},m))})]}),T.jsxs("div",{className:la.randomAction,children:[T.jsx(Ut,{variant:"text",onClick:h=>t.onCancel(),children:e("cancel")}),T.jsx(Ut,{variant:"contained",onClick:h=>s(),disabled:!o(),children:e("submit")})]})]})}function ege({code:t,checked:e,label:r,weight:n,handleChange:i,increaseWeight:a,decreaseWeight:o}){return T.jsxs("li",{className:la.listItem,children:[T.jsx(Li,{checked:e,onChange:s=>i(s.target.checked)}),T.jsxs("div",{className:"".concat(la.content," ").concat(la.label),children:[t,": ",r]}),T.jsxs("div",{className:la.weight,children:[T.jsx(bt,{size:"small",onClick:s=>o(n),children:T.jsx(ob,{})}),T.jsx("span",{children:n}),T.jsx(bt,{size:"small",onClick:s=>a(n),children:T.jsx(lb,{})})]})]})}function tge({limit:t,increaseLimit:e,decreaseLimit:r,t:n}){return T.jsxs(T.Fragment,{children:[n("priority_show"),T.jsx(bt,{size:"small",onClick:i=>r(t),children:T.jsx(ob,{})}),t,T.jsx(bt,{size:"small",onClick:i=>e(t),children:T.jsx(lb,{})})]})}function Ov({t,type:e,code:r,hideErrors:n}){var w,I;const i=wt(),[a,o]=J.useState({}),s=ye(C=>C.designState[r]),l=ye(C=>{var A,P,L,V;return((V=(L=(P=(A=C.designState[r])==null?void 0:A.children)==null?void 0:P.filter(R=>e?R.type==e:!0))==null?void 0:L.filter(R=>{var U,M;return((U=R.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((M=R.groupType)==null?void 0:M.toLowerCase())!="end"}))==null?void 0:V.map(R=>R.code))||[]}),u=ye(C=>C.designState.langInfo.lang),c=ye(C=>{var A,P,L;return((L=(P=(A=C.designState[r])==null?void 0:A.children)==null?void 0:P.filter(V=>e?V.type==e:!0))==null?void 0:L.map(V=>{var R,U;return{code:V.code,label:(U=(R=C.designState[V.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[u]}}))||[]}),f=SE(s,"priority_groups"),d=((w=f==null?void 0:f.priorities)==null?void 0:w.filter(C=>e?C.weights.some(A=>l.includes(A.code)):!0))||[];let p=d.map(C=>C.weights).flat().map(C=>C.code).flat();const v=((I=f==null?void 0:f.errors)==null?void 0:I.filter(C=>C.items.some(A=>p.includes(A))))||[],h=C=>{i(e?BR({code:r,priorities:C,type:e}):qR({code:r,priorities:C}))},m=C=>{var P;const A=(P=c.find(L=>L.code==C))==null?void 0:P.label;return A==null?void 0:A.replace(/<[^>]*>/g,"")},y=()=>l.filter(C=>!p.includes(C)),g=C=>{window.confirm(t("are_you_sure"))&&h(d.filter((A,P)=>P!==C))},_=!a||Object.keys(a).length==0,b=C=>{let A=[],P=[];P.weights=[];const L=y();l.forEach(V=>{if(L.includes(V))P.weights.push({code:V,weight:1}),A.push(!1);else{let R=d[C].weights.findIndex(U=>U.code==V);R>-1&&(P.weights.push(d[C].weights[R]),A.push(!0))}P.limit=d[C].limit}),o({index:C,checked:A,title:t("edit_priority_rule"),data:P})},S=()=>{o({})},O=(C,A)=>{const P=d?[...d]:[];P[A]={...C},h(P),S()},x=()=>{const C=y(),A=C.map(P=>({code:P,weight:1}));o({title:t("add_priority_rule"),checked:C.map(P=>!1),data:{limit:1,weights:A},index:d?d.length:0,icon:T.jsx(Td,{})})},E=C=>{let A=[...C.weights].sort(function(P,L){return l.findIndex(V=>V===P.code)-l.findIndex(V=>V===L.code)});return{...C,weights:A}},k=(C,A)=>{let P=[...C.weights].filter(L=>A.includes(L.code));return P.length<=1&&S(),{limit:Math.min(C.limit,P.length-1),weights:P}};return T.jsxs(T.Fragment,{children:[d&&d.map((C,A)=>T.jsx($ve,{t,data:E(C),index:A,childrenCodes:l,isBeingEdited:a.index==A,onDeleteClicked:P=>{o({}),g(P)},onEditClicked:P=>b(P),getChildLabelByCode:m},A)),!n&&v.length>0?T.jsx(sF,{errors:v}):"",_&&T.jsxs(Ut,{variant:"contained",disabled:y().length<2,onClick:x,children:[T.jsx(Td,{sx:{paddingRight:"8px"}})," ",t("add_priority_rule")]}),a&&a.data&&T.jsx(Zve,{t,title:a.title,data:k(a.data,l),index:a.index,getChildLabelByCode:m,checked:a.checked,onSubmit:C=>O(C,a.index),onCancel:S})]})}const rge="_selectValue_14l81_1",nge={selectValue:rge},ige="_errorDisplay_1vtlj_1",age="_addNew_1vtlj_10",oge={errorDisplay:ige,addNew:age},sge="_title_1p7e9_1",lge="_list_1p7e9_6",uge="_randomAction_1p7e9_19",cge="_listItem_1p7e9_25",fge="_input_1p7e9_30",dge="_randomItem_1p7e9_34",Vu={title:sge,list:lge,randomAction:uge,listItem:cge,input:fge,randomItem:dge};function pge(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.randomOption),o=()=>r.filter(f=>f).length>=2,s=[e("random_order"),e("flip_order"),e("sort_by_label")],l=["RANDOM","FLIP","ALPHA"],u=()=>{if(r.filter(p=>p).length<2)return!1;const d=r.reduce((p,v,h)=>(v&&p.push(t.data[h]),p),[]);t.onSubmit(d,i)},c=(f,d)=>{const p=[...r];p[d]=f,n([...p])};return T.jsxs(dp,{className:Vu.randomItem,children:[T.jsx("h4",{className:Vu.title,children:t.title}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Yi,{id:"select-value",value:i,label:"Select Value",onChange:f=>{a(f.target.value)},children:s.map((f,d)=>T.jsx(Zr,{value:l[d],children:f},f))})}),T.jsx("ul",{className:Vu.list,children:t.data&&t.data.map((f,d)=>T.jsx(hge,{code:f,handleChange:p=>c(p,d),checked:(r==null?void 0:r[d])||!1,label:t.getChildLabelByCode(f)},d))}),T.jsxs("div",{className:Vu.randomAction,children:[T.jsx(Ut,{variant:"text",onClick:f=>t.onCancel(),children:e("cancel")}),T.jsx(Ut,{variant:"contained",onClick:f=>u(),disabled:!o(),children:e("submit")})]})]})}function hge({code:t,label:e,checked:r,handleChange:n}){return T.jsxs("li",{className:Vu.listItem,children:[T.jsx(Li,{checked:r,onChange:i=>n(i.target.checked)}),t,": ",e]})}const vge="_randomHeader_10d2m_1",gge="_title_10d2m_6",mge="_action_10d2m_11",yge="_settingIcon_10d2m_15",bge="_list_10d2m_19",_ge="_randomAction_10d2m_30",Sge="_listItem_10d2m_36",Oge="_label_10d2m_41",xge="_input_10d2m_47",wge="_listItemError_10d2m_51",Ege="_randomItem_10d2m_63",Cge="_highlighted_10d2m_68",ui={randomHeader:vge,title:gge,action:mge,settingIcon:yge,list:bge,randomAction:_ge,listItem:Sge,label:Oge,input:xge,listItemError:wge,randomItem:Ege,highlighted:Cge},Tge=(t,e)=>{switch(t){case"ALPHA":return e("sort_by_label");case"RANDOM":return e("random_order");case"FLIP":return e("flip_order")}throw"unidentified randomOption: "+t};function kge(t){const e=t.t;return T.jsxs(dp,{className:"".concat(ui.randomItem," ").concat(t.isBeingEdited?ui.highlighted:""),children:[T.jsxs("div",{className:ui.randomHeader,children:[T.jsx("h4",{className:ui.title,children:Tge(t.randomOption,e)}),T.jsxs("div",{className:ui.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ib,{className:ui.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Wu,{className:ui.settingIcon})})]})]}),T.jsx("ul",{className:ui.list,children:t.data&&t.data.map((r,n)=>T.jsx(Ige,{label:t.getChildLabelByCode(r),code:r,childrenCodes:t.childrenCodes},n))})]})}function Ige({code:t,label:e,childrenCodes:r}){return T.jsx("li",{className:r.indexOf(t)!==-1?ui.listItem:ui.listItemError,children:T.jsxs("div",{className:"".concat(ui.content," ").concat(ui.label),children:[t,": ",e]})})}function xv({t,type:e,code:r,hideErrors:n}){var w,I;const i=wt(),[a,o]=J.useState({}),s=ye(C=>C.designState[r]),l=ye(C=>{var A,P,L,V;return((V=(L=(P=(A=C.designState[r])==null?void 0:A.children)==null?void 0:P.filter(R=>e?R.type==e:!0))==null?void 0:L.filter(R=>{var U,M;return((U=R.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((M=R.groupType)==null?void 0:M.toLowerCase())!="end"}))==null?void 0:V.map(R=>R.code))||[]}),u=ye(C=>C.designState.langInfo.lang),c=ye(C=>{var A,P,L;return((L=(P=(A=C.designState[r])==null?void 0:A.children)==null?void 0:P.filter(V=>e?V.type==e:!0))==null?void 0:L.map(V=>{var R,U;return{code:V.code,label:(U=(R=C.designState[V.qualifiedCode].content)==null?void 0:R.label)==null?void 0:U[u]}}))||[]}),f=SE(s,"random_group"),d=((w=f==null?void 0:f.groups)==null?void 0:w.filter(C=>e?C.codes.some(A=>l.includes(A)):!0))||[],p=d.map(C=>C.codes).flat(),v=((I=f==null?void 0:f.errors)==null?void 0:I.filter(C=>C.items.some(A=>p.includes(A))))||[],h=C=>{i(e?HR({code:r,groups:C,type:e}):zR({code:r,groups:C}))},m=C=>{var P;const A=(P=c.find(L=>L.code==C))==null?void 0:P.label;return A==null?void 0:A.replace(/<[^>]*>/g,"")},y=C=>l.filter(A=>!p.includes(A)),g=C=>{window.confirm(t("are_you_sure"))&&h(d.filter((A,P)=>P!==C))},_=C=>[...C.codes].sort(function(A,P){return l.findIndex(L=>L===A)-l.findIndex(L=>L===P)}),b=C=>{let A=[],P=[],L=y();P=l.filter(V=>L.includes(V)||d[C].codes.includes(V)),A=P.map(V=>!!d[C].codes.includes(V)),o({index:C,checked:A,randomOption:d[C].randomOption||"RANDOM",title:t("edit_random_rule"),data:P})},S=()=>{o({})},O=!a||Object.keys(a).length==0,x=(C,A,P)=>{const L=d?[...d]:[];L[P]={codes:C,randomOption:A},h(L),S()},E=()=>{const C=y();o({title:t("add_new_random_rule"),data:C,checked:[],randomOption:"RANDOM",index:d?d.length:0})},k=(C,A)=>{let P=[...C].filter(L=>A.includes(L));return P.length<=1&&S(),P};return T.jsxs(T.Fragment,{children:[d&&d.map((C,A)=>T.jsx(kge,{t,data:_(C),randomOption:C.randomOption,index:A,isBeingEdited:a.index==A,childrenCodes:l,getChildLabelByCode:m,onDeleteClicked:P=>{o({}),g(P)},onEditClicked:P=>b(P)},A)),!n&&v.length>0?T.jsx(sF,{errors:v}):"",O&&T.jsxs(Ut,{className:oge.addNew,variant:"contained",disabled:y().length<2,onClick:E,children:[T.jsx(Fm,{sx:{paddingRight:"8px"}})," ",t("add_random_rule")]}),a&&a.data&&T.jsx(pge,{t,title:a.title,data:k(a.data,l),randomOption:a.randomOption,getChildLabelByCode:m,checked:a.checked,onSubmit:(C,A)=>x(C,A,a.index),onCancel:S})]})}function Age({t,rule:e,code:r}){const n=wt(),i=ye(u=>u.designState[r][e]||"NONE");let a="",o=[],s=[];switch(e){case"randomize_questions":a=t("questions_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=t("questions_priority"),o=[t("no_priority"),t("prioritise_questions")],s=["NONE","prioritize"];break;case"randomize_groups":a=t("groups_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=t("groups_priority"),o=[t("no_priority"),t("prioritise_groups")],s=["NONE","prioritize"];break;case"randomize_options":a=t("options_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=t("options_priority"),o=[t("no_priority"),t("prioritise_options")],s=["NONE","prioritize"];break;case"randomize_rows":a=t("rows_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=t("rows_priority"),o=[t("no_priority"),t("prioritise_rows")],s=["NONE","prioritize"];break;case"randomize_columns":a=t("columns_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=t("columns_priority"),o=[t("no_priority"),t("prioritise_columns")],s=["NONE","prioritize"];break}const l=u=>{const c=u=="NONE"?void 0:u;n(Yn({code:r,key:e,value:c}))};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:a}),T.jsx(Dr,{className:nge.selectValue,variant:"standard",fullWidth:!0,children:T.jsx(Yi,{id:"select-value",value:i,label:"Select Value",onChange:u=>{l(u.target.value)},children:o.map((u,c)=>T.jsx(Zr,{value:s[c],children:u},u))})}),i=="custom"&&["randomize_questions","randomize_options","randomize_groups"].indexOf(e)!==-1&&T.jsx(xv,{label:"",code:r,t}),i=="custom"&&e=="randomize_rows"&&T.jsx(xv,{label:"",type:"row",code:r,t}),i=="prioritize"&&e=="prioritize_rows"&&T.jsx(Ov,{label:"",type:"row",code:r,t}),i=="custom"&&e=="randomize_columns"&&T.jsx(xv,{label:"",type:"column",code:r,t}),i=="prioritize"&&e=="prioritize_columns"&&T.jsx(Ov,{label:"",type:"column",code:r,t}),i=="prioritize"&&["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(e)!==-1&&T.jsx(Ov,{label:"",code:r,t})]})}const jge=()=>{const{t}=us("design"),e=wt(),r=ye(i=>i.designState.Survey.navigationMode||yf.GROUP_BY_GROUP),n=i=>{e(Yn({code:"Survey",key:"navigationMode",value:i.target.value}))};return T.jsxs(Dr,{fullWidth:!0,children:[T.jsx(l$,{id:"navigation-mode-label",children:t("navigation_mode")}),T.jsxs(Yi,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:t("label.navigation_mode"),onChange:n,children:[T.jsx(Zr,{value:yf.GROUP_BY_GROUP,children:t("group_by_group")}),T.jsx(Zr,{value:yf.QUESTION_BY_QUESTION,children:t("question_by_question")}),T.jsx(Zr,{value:yf.ALL_IN_ONE,children:t("all_in_one")})]})]})},Pge="_theming_1v217_1",Lge="_chooseImage_1v217_12",Fge="_resetButton_1v217_21",Rge="_fontText_1v217_24",$ge="_selectDropdown_1v217_27",Nge="_colorBox_1v217_33",Dge="_colorPickerContainer_1v217_40",En={theming:Pge,chooseImage:Lge,resetButton:Fge,fontText:Rge,selectDropdown:$ge,colorBox:Nge,colorPickerContainer:Dge},Mge="_themingItem_11qn9_1",Vge="_themingItemBody_11qn9_6",Bge="_selectDropdown_11qn9_13",wv={themingItem:Mge,themingItemBody:Vge,selectDropdown:Bge};function Ev(t){const e=Array.from({length:12},(n,i)=>i*2+10);function r(n,i){t.onChange({...t.value,[n]:i})}return T.jsx("div",{className:wv.themingItem,children:T.jsx("div",{className:wv.themingItemBody,children:T.jsx(Yi,{size:"small",value:t.value.size||t.default.size,onChange:n=>r("size",n.target.value),IconComponent:gE,className:wv.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:e&&e.length>0&&e.map((n,i)=>T.jsx(Zr,{value:n,children:n},"fontSize-".concat(i)))},"fontSize")})})}var di={},cf={},qge=ds,Hge=ni,zge=Oa,Uge="[object String]";function Wge(t){return typeof t=="string"||!Hge(t)&&zge(t)&&qge(t)==Uge}var Gge=Wge,Yge=nh;function Kge(t){return typeof t=="function"?t:Yge}var Jge=Kge,Qge=D0,Xge=Jge;function Zge(t,e){return t&&Qge(t,Xge(e))}var ub=Zge,eme=Wl;function tme(t,e){return function(r,n){if(r==null)return r;if(!eme(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var rme=tme,nme=D0,ime=rme,ame=ime(nme),ome=ame,sme=ome,lme=Wl;function ume(t,e){var r=-1,n=lme(t)?Array(t.length):[];return sme(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var cme=ume,fme=eh,dme=M0,pme=cme,hme=ni;function vme(t,e){var r=hme(t)?fme:pme;return r(t,dme(e))}var gme=vme;Object.defineProperty(cf,"__esModule",{value:!0});cf.flattenNames=void 0;var mme=Gge,yme=yh(mme),bme=ub,_me=yh(bme),Sme=c0,Ome=yh(Sme),xme=gme,wme=yh(xme);function yh(t){return t&&t.__esModule?t:{default:t}}var Eme=cf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,wme.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,Ome.default)(n)?(0,_me.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,yme.default)(n)&&r.push(n)}),r};cf.default=Eme;var ff={},Cme=DI,Tme=1,kme=4;function Ime(t){return Cme(t,Tme|kme)}var Ame=Ime;Object.defineProperty(ff,"__esModule",{value:!0});ff.mergeClasses=void 0;var jme=ub,Pme=lF(jme),Lme=Ame,Fme=lF(Lme),Rme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function lF(t){return t&&t.__esModule?t:{default:t}}var $me=ff.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,Fme.default)(e.default)||{};return r.map(function(i){var a=e[i];return a&&(0,Pme.default)(a,function(o,s){n[s]||(n[s]={}),n[s]=Rme({},n[s],a[s])}),i}),n};ff.default=$me;var df={};Object.defineProperty(df,"__esModule",{value:!0});df.autoprefix=void 0;var Nme=ub,bw=Mme(Nme),Dme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Mme(t){return t&&t.__esModule?t:{default:t}}var Vme={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},Bme=df.autoprefix=function(e){var r={};return(0,bw.default)(e,function(n,i){var a={};(0,bw.default)(n,function(o,s){var l=Vme[s];l?a=Dme({},a,l(o)):a[s]=o}),r[i]=a}),r};df.default=Bme;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.hover=void 0;var qme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hme=J,Cv=zme(Hme);function zme(t){return t&&t.__esModule?t:{default:t}}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gme=pf.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Wme(i,n);function i(){var a,o,s,l;Ume(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=_w(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return Cv.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},Cv.default.createElement(e,qme({},s.props,s.state)))},o),_w(s,l)}return i}(Cv.default.Component)};pf.default=Gme;var hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.active=void 0;var Yme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kme=J,Tv=Jme(Kme);function Jme(t){return t&&t.__esModule?t:{default:t}}function Qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zme=hf.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Xme(i,n);function i(){var a,o,s,l;Qme(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Sw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return Tv.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},Tv.default.createElement(e,Yme({},s.props,s.state)))},o),Sw(s,l)}return i}(Tv.default.Component)};hf.default=Zme;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});var eye=function(e,r){var n={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};cb.default=eye;Object.defineProperty(di,"__esModule",{value:!0});di.ReactCSS=di.loop=di.handleActive=fb=di.handleHover=di.hover=void 0;var tye=cf,rye=yu(tye),nye=ff,iye=yu(nye),aye=df,oye=yu(aye),sye=pf,uF=yu(sye),lye=hf,uye=yu(lye),cye=cb,fye=yu(cye);function yu(t){return t&&t.__esModule?t:{default:t}}di.hover=uF.default;var fb=di.handleHover=uF.default;di.handleActive=uye.default;di.loop=fye.default;var dye=di.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,rye.default)(n),o=(0,iye.default)(e,a);return(0,oye.default)(o)},rt=di.default=dye,pye=function(e,r,n,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),f=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0?d=0:f>s?d=1:d=Math.round(f*100/s)/100,r.a!==d)return{h:r.h,s:r.s,l:r.l,a:d,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>o?p=1:p=Math.round(c*100/o)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},kv={},hye=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=r,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null},vye=function(e,r,n,i){var a=e+"-"+r+"-"+n+(i?"-server":"");if(kv[a])return kv[a];var o=hye(e,r,n,i);return kv[a]=o,o},Ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu=function(e){var r=e.white,n=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,u=rt({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+vye(r,n,i,a.canvas)+") center left"}}});return J.isValidElement(l)?j.cloneElement(l,Ow({},l.props,{style:Ow({},l.props.style,u.grid)})):j.createElement("div",{style:u.grid})};bu.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var gye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var db=function(t){bye(e,t);function e(){var r,n,i,a;yye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=xw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=pye(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),xw(i,a)}return mye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=rt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:gye({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return j.createElement("div",{style:a.alpha},j.createElement("div",{style:a.checkboard},j.createElement(bu,{renderers:this.props.renderers})),j.createElement("div",{style:a.gradient}),j.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("div",{style:a.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:a.slider}))))}}]),e}(J.PureComponent||J.Component),_ye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Sye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Eye=1,cF=38,Cye=40,Tye=[cF,Cye],kye=function(e){return Tye.indexOf(e)>-1},Iye=function(e){return Number(String(e).replace(/%/g,""))},Aye=1,Tt=function(t){wye(e,t);function e(r){Oye(this,e);var n=xye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=Iye(i.target.value);if(!isNaN(a)&&kye(i.keyCode)){var o=n.getArrowOffset(),s=i.keyCode===cF?a+o:a-o;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Aye++,n}return _ye(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return Sye({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Eye}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=rt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return j.createElement("div",{style:i.wrap},j.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return n.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?j.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(J.PureComponent||J.Component),jye=function(e,r,n,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(c<0)f=359;else if(c>o)f=0;else{var d=-(c*100/o)+100;f=360*d/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>a)p=359;else{var v=u*100/a;p=360*v/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Pye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _u=function(t){Fye(e,t);function e(){var r,n,i,a;Lye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=ww(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=jye(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),ww(i,a)}return Pye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,o=rt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return j.createElement("div",{style:o.hue},j.createElement("div",{className:"hue-"+a,style:o.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),j.createElement("div",{style:o.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:o.slider}))))}}]),e}(J.PureComponent||J.Component);function Rye(){this.__data__=[],this.size=0}function vf(t,e){return t===e||t!==t&&e!==e}function bh(t,e){for(var r=t.length;r--;)if(vf(t[r][0],e))return r;return-1}var $ye=Array.prototype,Nye=$ye.splice;function Dye(t){var e=this.__data__,r=bh(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Nye.call(e,r,1),--this.size,!0}function Mye(t){var e=this.__data__,r=bh(e,t);return r<0?void 0:e[r][1]}function Vye(t){return bh(this.__data__,t)>-1}function Bye(t,e){var r=this.__data__,n=bh(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Za(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Za.prototype.clear=Rye;Za.prototype.delete=Dye;Za.prototype.get=Mye;Za.prototype.has=Vye;Za.prototype.set=Bye;function qye(){this.__data__=new Za,this.size=0}function Hye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function zye(t){return this.__data__.get(t)}function Uye(t){return this.__data__.has(t)}var fF=typeof global=="object"&&global&&global.Object===Object&&global,Wye=typeof self=="object"&&self&&self.Object===Object&&self,Zi=fF||Wye||Function("return this")(),To=Zi.Symbol,dF=Object.prototype,Gye=dF.hasOwnProperty,Yye=dF.toString,Lu=To?To.toStringTag:void 0;function Kye(t){var e=Gye.call(t,Lu),r=t[Lu];try{t[Lu]=void 0;var n=!0}catch(a){}var i=Yye.call(t);return n&&(e?t[Lu]=r:delete t[Lu]),i}var Jye=Object.prototype,Qye=Jye.toString;function Xye(t){return Qye.call(t)}var Zye="[object Null]",e0e="[object Undefined]",Ew=To?To.toStringTag:void 0;function Es(t){return t==null?t===void 0?e0e:Zye:Ew&&Ew in Object(t)?Kye(t):Xye(t)}function wi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var t0e="[object AsyncFunction]",r0e="[object Function]",n0e="[object GeneratorFunction]",i0e="[object Proxy]";function pb(t){if(!wi(t))return!1;var e=Es(t);return e==r0e||e==n0e||e==t0e||e==i0e}var Iv=Zi["__core-js_shared__"],Cw=function(){var t=/[^.]+$/.exec(Iv&&Iv.keys&&Iv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a0e(t){return!!Cw&&Cw in t}var o0e=Function.prototype,s0e=o0e.toString;function Cs(t){if(t!=null){try{return s0e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var l0e=/[\\^$.*+?()[\]{}|]/g,u0e=/^\[object .+?Constructor\]$/,c0e=Function.prototype,f0e=Object.prototype,d0e=c0e.toString,p0e=f0e.hasOwnProperty,h0e=RegExp("^"+d0e.call(p0e).replace(l0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v0e(t){if(!wi(t)||a0e(t))return!1;var e=pb(t)?h0e:u0e;return e.test(Cs(t))}function g0e(t,e){return t==null?void 0:t[e]}function Ts(t,e){var r=g0e(t,e);return v0e(r)?r:void 0}var Tc=Ts(Zi,"Map"),kc=Ts(Object,"create");function m0e(){this.__data__=kc?kc(null):{},this.size=0}function y0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var b0e="__lodash_hash_undefined__",_0e=Object.prototype,S0e=_0e.hasOwnProperty;function O0e(t){var e=this.__data__;if(kc){var r=e[t];return r===b0e?void 0:r}return S0e.call(e,t)?e[t]:void 0}var x0e=Object.prototype,w0e=x0e.hasOwnProperty;function E0e(t){var e=this.__data__;return kc?e[t]!==void 0:w0e.call(e,t)}var C0e="__lodash_hash_undefined__";function T0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kc&&e===void 0?C0e:e,this}function ss(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ss.prototype.clear=m0e;ss.prototype.delete=y0e;ss.prototype.get=O0e;ss.prototype.has=E0e;ss.prototype.set=T0e;function k0e(){this.size=0,this.__data__={hash:new ss,map:new(Tc||Za),string:new ss}}function I0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function _h(t,e){var r=t.__data__;return I0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function A0e(t){var e=_h(this,t).delete(t);return this.size-=e?1:0,e}function j0e(t){return _h(this,t).get(t)}function P0e(t){return _h(this,t).has(t)}function L0e(t,e){var r=_h(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function eo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}eo.prototype.clear=k0e;eo.prototype.delete=A0e;eo.prototype.get=j0e;eo.prototype.has=P0e;eo.prototype.set=L0e;var F0e=200;function R0e(t,e){var r=this.__data__;if(r instanceof Za){var n=r.__data__;if(!Tc||n.length<F0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new eo(n)}return r.set(t,e),this.size=r.size,this}function ma(t){var e=this.__data__=new Za(t);this.size=e.size}ma.prototype.clear=qye;ma.prototype.delete=Hye;ma.prototype.get=zye;ma.prototype.has=Uye;ma.prototype.set=R0e;var rp=function(){try{var t=Ts(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();function hb(t,e,r){e=="__proto__"&&rp?rp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Ug(t,e,r){(r!==void 0&&!vf(t[e],r)||r===void 0&&!(e in t))&&hb(t,e,r)}function $0e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return e}}var pF=$0e(),hF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tw=hF&&typeof module=="object"&&module&&!module.nodeType&&module,N0e=Tw&&Tw.exports===hF,kw=N0e?Zi.Buffer:void 0;kw&&kw.allocUnsafe;function D0e(t,e){return t.slice()}var np=Zi.Uint8Array;function M0e(t){var e=new t.constructor(t.byteLength);return new np(e).set(new np(t)),e}function V0e(t,e){var r=M0e(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function B0e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Iw=Object.create,q0e=function(){function t(){}return function(e){if(!wi(e))return{};if(Iw)return Iw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function vF(t,e){return function(r){return t(e(r))}}var gF=vF(Object.getPrototypeOf,Object),H0e=Object.prototype;function vb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||H0e;return t===r}function z0e(t){return typeof t.constructor=="function"&&!vb(t)?q0e(gF(t)):{}}function ko(t){return t!=null&&typeof t=="object"}var U0e="[object Arguments]";function Aw(t){return ko(t)&&Es(t)==U0e}var mF=Object.prototype,W0e=mF.hasOwnProperty,G0e=mF.propertyIsEnumerable,ip=Aw(function(){return arguments}())?Aw:function(t){return ko(t)&&W0e.call(t,"callee")&&!G0e.call(t,"callee")},ti=Array.isArray,Y0e=9007199254740991;function gb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Y0e}function Su(t){return t!=null&&gb(t.length)&&!pb(t)}function K0e(t){return ko(t)&&Su(t)}function J0e(){return!1}var yF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jw=yF&&typeof module=="object"&&module&&!module.nodeType&&module,Q0e=jw&&jw.exports===yF,Pw=Q0e?Zi.Buffer:void 0,X0e=Pw?Pw.isBuffer:void 0,ap=X0e||J0e,Z0e="[object Object]",ebe=Function.prototype,tbe=Object.prototype,bF=ebe.toString,rbe=tbe.hasOwnProperty,nbe=bF.call(Object);function ibe(t){if(!ko(t)||Es(t)!=Z0e)return!1;var e=gF(t);if(e===null)return!0;var r=rbe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&bF.call(r)==nbe}var abe="[object Arguments]",obe="[object Array]",sbe="[object Boolean]",lbe="[object Date]",ube="[object Error]",cbe="[object Function]",fbe="[object Map]",dbe="[object Number]",pbe="[object Object]",hbe="[object RegExp]",vbe="[object Set]",gbe="[object String]",mbe="[object WeakMap]",ybe="[object ArrayBuffer]",bbe="[object DataView]",_be="[object Float32Array]",Sbe="[object Float64Array]",Obe="[object Int8Array]",xbe="[object Int16Array]",wbe="[object Int32Array]",Ebe="[object Uint8Array]",Cbe="[object Uint8ClampedArray]",Tbe="[object Uint16Array]",kbe="[object Uint32Array]",pr={};pr[_be]=pr[Sbe]=pr[Obe]=pr[xbe]=pr[wbe]=pr[Ebe]=pr[Cbe]=pr[Tbe]=pr[kbe]=!0;pr[abe]=pr[obe]=pr[ybe]=pr[sbe]=pr[bbe]=pr[lbe]=pr[ube]=pr[cbe]=pr[fbe]=pr[dbe]=pr[pbe]=pr[hbe]=pr[vbe]=pr[gbe]=pr[mbe]=!1;function Ibe(t){return ko(t)&&gb(t.length)&&!!pr[Es(t)]}function Abe(t){return function(e){return t(e)}}var _F=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rc=_F&&typeof module=="object"&&module&&!module.nodeType&&module,jbe=rc&&rc.exports===_F,Av=jbe&&fF.process,Lw=function(){try{var t=rc&&rc.require&&rc.require("util").types;return t||Av&&Av.binding&&Av.binding("util")}catch(e){}}(),Fw=Lw&&Lw.isTypedArray,mb=Fw?Abe(Fw):Ibe;function Wg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Pbe=Object.prototype,Lbe=Pbe.hasOwnProperty;function Fbe(t,e,r){var n=t[e];(!(Lbe.call(t,e)&&vf(n,r))||r===void 0&&!(e in t))&&hb(t,e,r)}function Rbe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=void 0;l===void 0&&(l=t[s]),i?hb(r,s,l):Fbe(r,s,l)}return r}function $be(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Nbe=9007199254740991,Dbe=/^(?:0|[1-9]\d*)$/;function yb(t,e){var r=typeof t;return e=e==null?Nbe:e,!!e&&(r=="number"||r!="symbol"&&Dbe.test(t))&&t>-1&&t%1==0&&t<e}var Mbe=Object.prototype,Vbe=Mbe.hasOwnProperty;function SF(t,e){var r=ti(t),n=!r&&ip(t),i=!r&&!n&&ap(t),a=!r&&!n&&!i&&mb(t),o=r||n||i||a,s=o?$be(t.length,String):[],l=s.length;for(var u in t)(e||Vbe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yb(u,l)))&&s.push(u);return s}function Bbe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var qbe=Object.prototype,Hbe=qbe.hasOwnProperty;function zbe(t){if(!wi(t))return Bbe(t);var e=vb(t),r=[];for(var n in t)n=="constructor"&&(e||!Hbe.call(t,n))||r.push(n);return r}function OF(t){return Su(t)?SF(t,!0):zbe(t)}function Ube(t){return Rbe(t,OF(t))}function Wbe(t,e,r,n,i,a,o){var s=Wg(t,r),l=Wg(e,r),u=o.get(l);if(u){Ug(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=ti(l),p=!d&&ap(l),v=!d&&!p&&mb(l);c=l,d||p||v?ti(s)?c=s:K0e(s)?c=B0e(s):p?(f=!1,c=D0e(l)):v?(f=!1,c=V0e(l)):c=[]:ibe(l)||ip(l)?(c=s,ip(s)?c=Ube(s):(!wi(s)||pb(s))&&(c=z0e(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Ug(t,r,c)}function xF(t,e,r,n,i){t!==e&&pF(e,function(a,o){if(i||(i=new ma),wi(a))Wbe(t,e,o,r,xF,n,i);else{var s=n?n(Wg(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Ug(t,o,s)}},OF)}function Sh(t){return t}function Gbe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Rw=Math.max;function Ybe(t,e,r){return e=Rw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Rw(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Gbe(t,this,s)}}function Kbe(t){return function(){return t}}var Jbe=rp?function(t,e){return rp(t,"toString",{configurable:!0,enumerable:!1,value:Kbe(e),writable:!0})}:Sh,Qbe=800,Xbe=16,Zbe=Date.now;function e1e(t){var e=0,r=0;return function(){var n=Zbe(),i=Xbe-(n-r);if(r=n,i>0){if(++e>=Qbe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var t1e=e1e(Jbe);function r1e(t,e){return t1e(Ybe(t,e,Sh),t+"")}function n1e(t,e,r){if(!wi(r))return!1;var n=typeof e;return(n=="number"?Su(r)&&yb(e,r.length):n=="string"&&e in r)?vf(r[e],t):!1}function i1e(t){return r1e(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&n1e(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var zn=i1e(function(t,e,r){xF(t,e,r)}),gf=function(e){var r=e.zDepth,n=e.radius,i=e.background,a=e.children,o=e.styles,s=o===void 0?{}:o,l=rt(zn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return j.createElement("div",{style:l.wrap},j.createElement("div",{style:l.bg}),j.createElement("div",{style:l.content},a))};gf.propTypes={background:W.string,zDepth:W.oneOf([0,1,2,3,4,5]),radius:W.number,styles:W.object};gf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var jv=function(){return Zi.Date.now()},a1e=/\s/;function o1e(t){for(var e=t.length;e--&&a1e.test(t.charAt(e)););return e}var s1e=/^\s+/;function l1e(t){return t&&t.slice(0,o1e(t)+1).replace(s1e,"")}var u1e="[object Symbol]";function Oh(t){return typeof t=="symbol"||ko(t)&&Es(t)==u1e}var $w=NaN,c1e=/^[-+]0x[0-9a-f]+$/i,f1e=/^0b[01]+$/i,d1e=/^0o[0-7]+$/i,p1e=parseInt;function Nw(t){if(typeof t=="number")return t;if(Oh(t))return $w;if(wi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=l1e(t);var r=f1e.test(t);return r||d1e.test(t)?p1e(t.slice(2),r?2:8):c1e.test(t)?$w:+t}var h1e="Expected a function",v1e=Math.max,g1e=Math.min;function wF(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(h1e);e=Nw(e)||0,wi(r)&&(c=!!r.leading,f="maxWait"in r,a=f?v1e(Nw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,E=i;return n=i=void 0,u=O,o=t.apply(E,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,E=O-u,k=e-x;return f?g1e(k,a-E):k}function m(O){var x=O-l,E=O-u;return l===void 0||x>=e||x<0||f&&E>=a}function y(){var O=jv();if(m(O))return g(O);s=setTimeout(y,h(O))}function g(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:g(jv())}function S(){var O=jv(),x=m(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var m1e="Expected a function";function y1e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(m1e);return wi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),wF(t,e,{leading:n,maxWait:e,trailing:i})}var b1e=function(e,r,n){var i=n.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),c=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),c<0?c=0:c>o&&(c=o);var f=u/a,d=1-c/o;return{h:r.h,s:f,v:d,a:r.a,source:"hsv"}},_1e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function S1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function x1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xh=function(t){x1e(e,t);function e(r){S1e(this,e);var n=O1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,b1e(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=y1e(function(i,a,o){i(a,o)},50),n}return _1e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,o=i.white,s=i.black,l=i.pointer,u=i.circle,c=rt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:o,black:s,pointer:l,circle:u}},{custom:!!this.props.style});return j.createElement("div",{style:c.color,ref:function(d){return n.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),j.createElement("div",{style:c.white,className:"saturation-white"},j.createElement("div",{style:c.black,className:"saturation-black"}),j.createElement("div",{style:c.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:c.circle}))))}}]),e}(J.PureComponent||J.Component);function w1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var E1e=vF(Object.keys,Object),C1e=Object.prototype,T1e=C1e.hasOwnProperty;function k1e(t){if(!vb(t))return E1e(t);var e=[];for(var r in Object(t))T1e.call(t,r)&&r!="constructor"&&e.push(r);return e}function bb(t){return Su(t)?SF(t):k1e(t)}function I1e(t,e){return t&&pF(t,e,bb)}function A1e(t,e){return function(r,n){if(r==null)return r;if(!Su(r))return t(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var EF=A1e(I1e);function j1e(t){return typeof t=="function"?t:Sh}function P1e(t,e){var r=ti(t)?w1e:EF;return r(t,j1e(e))}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}var L1e=/^\s+/,F1e=/\s+$/;function He(t,e){if(t=t||"",e=e||{},t instanceof He)return t;if(!(this instanceof He))return new He(t,e);var r=R1e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}He.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,a,o,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=CF(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Mw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Mw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Dw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Dw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Vw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return M1e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wr(this._r,255)*100)+"%",g:Math.round(wr(this._g,255)*100)+"%",b:Math.round(wr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%)":"rgba("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Q1e[Vw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Bw(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=He(e);n="#"+Bw(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return He(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(H1e,arguments)},brighten:function(){return this._applyModification(z1e,arguments)},darken:function(){return this._applyModification(U1e,arguments)},desaturate:function(){return this._applyModification(V1e,arguments)},saturate:function(){return this._applyModification(B1e,arguments)},greyscale:function(){return this._applyModification(q1e,arguments)},spin:function(){return this._applyModification(W1e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(K1e,arguments)},complement:function(){return this._applyCombination(G1e,arguments)},monochromatic:function(){return this._applyCombination(J1e,arguments)},splitcomplement:function(){return this._applyCombination(Y1e,arguments)},triad:function(){return this._applyCombination(qw,[3])},tetrad:function(){return this._applyCombination(qw,[4])}};He.fromRatio=function(t,e){if(op(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Bu(t[n]));t=r}return He(t,e)};function R1e(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=t_e(t)),op(t)=="object"&&(Fa(t.r)&&Fa(t.g)&&Fa(t.b)?(e=$1e(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fa(t.h)&&Fa(t.s)&&Fa(t.v)?(n=Bu(t.s),i=Bu(t.v),e=D1e(t.h,n,i),o=!0,s="hsv"):Fa(t.h)&&Fa(t.s)&&Fa(t.l)&&(n=Bu(t.s),a=Bu(t.l),e=N1e(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=CF(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function $1e(t,e,r){return{r:wr(t,255)*255,g:wr(e,255)*255,b:wr(r,255)*255}}function Dw(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function N1e(t,e,r){var n,i,a;t=wr(t,360),e=wr(e,100),r=wr(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function Mw(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=n,l=n-i;if(o=n===0?0:l/n,n==i)a=0;else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function D1e(t,e,r){t=wr(t,360)*6,e=wr(e,100),r=wr(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,u=[r,o,a,a,s,r][l],c=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function Vw(t,e,r,n){var i=[Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function M1e(t,e,r,n,i){var a=[Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16)),Di(TF(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Bw(t,e,r,n){var i=[Di(TF(n)),Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16))];return i.join("")}He.equals=function(t,e){return!t||!e?!1:He(t).toRgbString()==He(e).toRgbString()};He.random=function(){return He.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function V1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s-=e/100,r.s=wh(r.s),He(r)}function B1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s+=e/100,r.s=wh(r.s),He(r)}function q1e(t){return He(t).desaturate(100)}function H1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l+=e/100,r.l=wh(r.l),He(r)}function z1e(t,e){e=e===0?0:e||10;var r=He(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),He(r)}function U1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l-=e/100,r.l=wh(r.l),He(r)}function W1e(t,e){var r=He(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,He(r)}function G1e(t){var e=He(t).toHsl();return e.h=(e.h+180)%360,He(e)}function qw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=He(t).toHsl(),n=[He(t)],i=360/e,a=1;a<e;a++)n.push(He({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function Y1e(t){var e=He(t).toHsl(),r=e.h;return[He(t),He({h:(r+72)%360,s:e.s,l:e.l}),He({h:(r+216)%360,s:e.s,l:e.l})]}function K1e(t,e,r){e=e||6,r=r||30;var n=He(t).toHsl(),i=360/r,a=[He(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(He(n));return a}function J1e(t,e){e=e||6;for(var r=He(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(He({h:n,s:i,v:a})),a=(a+s)%1;return o}He.mix=function(t,e,r){r=r===0?0:r||50;var n=He(t).toRgb(),i=He(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return He(o)};He.readability=function(t,e){var r=He(t),n=He(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};He.isReadable=function(t,e,r){var n=He.readability(t,e),i,a;switch(a=!1,i=r_e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};He.mostReadable=function(t,e,r){var n=null,i=0,a,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<e.length;u++)a=He.readability(t,e[u]),a>i&&(i=a,n=He(e[u]));return He.isReadable(t,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,He.mostReadable(t,["#fff","#000"],r))};var Gg=He.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q1e=He.hexNames=X1e(Gg);function X1e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function CF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function wr(t,e){Z1e(t)&&(t="100%");var r=e_e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function wh(t){return Math.min(1,Math.max(0,t))}function Gn(t){return parseInt(t,16)}function Z1e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function e_e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Di(t){return t.length==1?"0"+t:""+t}function Bu(t){return t<=1&&(t=t*100+"%"),t}function TF(t){return Math.round(parseFloat(t)*255).toString(16)}function Hw(t){return Gn(t)/255}var ji=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Fa(t){return!!ji.CSS_UNIT.exec(t)}function t_e(t){t=t.replace(L1e,"").replace(F1e,"").toLowerCase();var e=!1;if(Gg[t])t=Gg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ji.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=ji.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ji.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=ji.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ji.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=ji.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ji.hex8.exec(t))?{r:Gn(r[1]),g:Gn(r[2]),b:Gn(r[3]),a:Hw(r[4]),format:e?"name":"hex8"}:(r=ji.hex6.exec(t))?{r:Gn(r[1]),g:Gn(r[2]),b:Gn(r[3]),format:e?"name":"hex"}:(r=ji.hex4.exec(t))?{r:Gn(r[1]+""+r[1]),g:Gn(r[2]+""+r[2]),b:Gn(r[3]+""+r[3]),a:Hw(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=ji.hex3.exec(t))?{r:Gn(r[1]+""+r[1]),g:Gn(r[2]+""+r[2]),b:Gn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function r_e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var zw=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return P1e(r,function(a){if(e[a]&&(n+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),n===i?e:!1},qu=function(e,r){var n=e.hex?He(e.hex):He(e),i=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:o,hsv:a,oldHue:e.h||r||i.h,source:e.source}},Mo=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&He(e).isValid()},_b=function(e){if(!e)return"#fff";var r=qu(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Pv=function(e,r){var n=e.replace("Â°","");return He(r+" ("+n+")")._ok},Fu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Un=function(e){var r=function(n){o_e(i,n);function i(a){i_e(this,i);var o=a_e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(s,l){var u=zw(s);if(u){var c=qu(s,s.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(s,l){var u=zw(s);if(u){var c=qu(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Fu({},qu(a.color,0)),o.debounce=wF(function(s,l,u){s(l,u)},100),o}return n_e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),j.createElement(e,Fu({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return Fu({},qu(o.color,s.oldHue))}}]),i}(J.PureComponent||J.Component);return r.propTypes=Fu({},e.propTypes),r.defaultProps=Fu({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},s_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function u_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){c_e(i,n);function i(){var a,o,s,l;u_e(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Uw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),Uw(s,l)}return l_e(i,[{key:"render",value:function(){return j.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},j.createElement(e,s_e({},this.props,this.state)))}}]),i}(j.Component)},Ww=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_e=13,p_e=function(e){var r=e.color,n=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?r:s,u=e.children,c=e.focus,f=e.focusStyle,d=f===void 0?{}:f,p=r==="transparent",v=rt({default:{swatch:Ww({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),h=function(b){return a(r,b)},m=function(b){return b.keyCode===d_e&&a(r,b)},y=function(b){return o(r,b)},g={};return o&&(g.onMouseOver=y),j.createElement("div",Ww({style:v.swatch,onClick:h,title:l,tabIndex:0,onKeyDown:m},g),u,p&&j.createElement(bu,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ks=f_e(p_e);var h_e=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},v_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kF=function(e){var r=e.rgb,n=e.hsl,i=e.width,a=e.height,o=e.onChange,s=e.direction,l=e.style,u=e.renderers,c=e.pointer,f=e.className,d=f===void 0?"":f,p=rt({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return j.createElement("div",{style:p.picker,className:"alpha-picker "+d},j.createElement(db,v_e({},p.alpha,{rgb:r,hsl:n,pointer:c,renderers:u,onChange:o,direction:s})))};kF.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:h_e};Un(kF);function IF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var g_e="__lodash_hash_undefined__";function m_e(t){return this.__data__.set(t,g_e),this}function y_e(t){return this.__data__.has(t)}function sp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new eo;++e<r;)this.add(t[e])}sp.prototype.add=sp.prototype.push=m_e;sp.prototype.has=y_e;function b_e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function __e(t,e){return t.has(e)}var S_e=1,O_e=2;function AF(t,e,r,n,i,a){var o=r&S_e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&O_e?new sp:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var m=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(m!==void 0){if(m)continue;d=!1;break}if(p){if(!b_e(e,function(y,g){if(!__e(p,g)&&(v===y||i(v,y,r,n,a)))return p.push(g)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function x_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function w_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var E_e=1,C_e=2,T_e="[object Boolean]",k_e="[object Date]",I_e="[object Error]",A_e="[object Map]",j_e="[object Number]",P_e="[object RegExp]",L_e="[object Set]",F_e="[object String]",R_e="[object Symbol]",$_e="[object ArrayBuffer]",N_e="[object DataView]",Gw=To?To.prototype:void 0,Lv=Gw?Gw.valueOf:void 0;function D_e(t,e,r,n,i,a,o){switch(r){case N_e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $_e:return!(t.byteLength!=e.byteLength||!a(new np(t),new np(e)));case T_e:case k_e:case j_e:return vf(+t,+e);case I_e:return t.name==e.name&&t.message==e.message;case P_e:case F_e:return t==e+"";case A_e:var s=x_e;case L_e:var l=n&E_e;if(s||(s=w_e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=C_e,o.set(t,e);var c=AF(s(t),s(e),n,i,a,o);return o.delete(t),c;case R_e:if(Lv)return Lv.call(t)==Lv.call(e)}return!1}function M_e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function V_e(t,e,r){var n=e(t);return ti(t)?n:M_e(n,r(t))}function B_e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function q_e(){return[]}var H_e=Object.prototype,z_e=H_e.propertyIsEnumerable,Yw=Object.getOwnPropertySymbols,U_e=Yw?function(t){return t==null?[]:(t=Object(t),B_e(Yw(t),function(e){return z_e.call(t,e)}))}:q_e;function Kw(t){return V_e(t,bb,U_e)}var W_e=1,G_e=Object.prototype,Y_e=G_e.hasOwnProperty;function K_e(t,e,r,n,i,a){var o=r&W_e,s=Kw(t),l=s.length,u=Kw(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:Y_e.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var m=o;++f<l;){d=s[f];var y=t[d],g=e[d];if(n)var _=o?n(g,y,d,e,t,a):n(y,g,d,t,e,a);if(!(_===void 0?y===g||i(y,g,r,n,a):_)){h=!1;break}m||(m=d=="constructor")}if(h&&!m){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var Yg=Ts(Zi,"DataView"),Kg=Ts(Zi,"Promise"),Jg=Ts(Zi,"Set"),Qg=Ts(Zi,"WeakMap"),Jw="[object Map]",J_e="[object Object]",Qw="[object Promise]",Xw="[object Set]",Zw="[object WeakMap]",eE="[object DataView]",Q_e=Cs(Yg),X_e=Cs(Tc),Z_e=Cs(Kg),eSe=Cs(Jg),tSe=Cs(Qg),lo=Es;(Yg&&lo(new Yg(new ArrayBuffer(1)))!=eE||Tc&&lo(new Tc)!=Jw||Kg&&lo(Kg.resolve())!=Qw||Jg&&lo(new Jg)!=Xw||Qg&&lo(new Qg)!=Zw)&&(lo=function(t){var e=Es(t),r=e==J_e?t.constructor:void 0,n=r?Cs(r):"";if(n)switch(n){case Q_e:return eE;case X_e:return Jw;case Z_e:return Qw;case eSe:return Xw;case tSe:return Zw}return e});var rSe=1,tE="[object Arguments]",rE="[object Array]",Jf="[object Object]",nSe=Object.prototype,nE=nSe.hasOwnProperty;function iSe(t,e,r,n,i,a){var o=ti(t),s=ti(e),l=o?rE:lo(t),u=s?rE:lo(e);l=l==tE?Jf:l,u=u==tE?Jf:u;var c=l==Jf,f=u==Jf,d=l==u;if(d&&ap(t)){if(!ap(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new ma),o||mb(t)?AF(t,e,r,n,i,a):D_e(t,e,l,r,n,i,a);if(!(r&rSe)){var p=c&&nE.call(t,"__wrapped__"),v=f&&nE.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,m=v?e.value():e;return a||(a=new ma),i(h,m,r,n,a)}}return d?(a||(a=new ma),K_e(t,e,r,n,i,a)):!1}function Sb(t,e,r,n,i){return t===e?!0:t==null||e==null||!ko(t)&&!ko(e)?t!==t&&e!==e:iSe(t,e,r,n,Sb,i)}var aSe=1,oSe=2;function sSe(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new ma,f;if(!(f===void 0?Sb(u,l,aSe|oSe,n,c):f))return!1}}return!0}function jF(t){return t===t&&!wi(t)}function lSe(t){for(var e=bb(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,jF(i)]}return e}function PF(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function uSe(t){var e=lSe(t);return e.length==1&&e[0][2]?PF(e[0][0],e[0][1]):function(r){return r===t||sSe(r,t,e)}}var cSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fSe=/^\w*$/;function Ob(t,e){if(ti(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Oh(t)?!0:fSe.test(t)||!cSe.test(t)||e!=null&&t in Object(e)}var dSe="Expected a function";function xb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dSe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(xb.Cache||eo),r}xb.Cache=eo;var pSe=500;function hSe(t){var e=xb(t,function(n){return r.size===pSe&&r.clear(),n}),r=e.cache;return e}var vSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gSe=/\\(\\)?/g,mSe=hSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vSe,function(r,n,i,a){e.push(i?a.replace(gSe,"$1"):n||r)}),e}),ySe=1/0,iE=To?To.prototype:void 0,aE=iE?iE.toString:void 0;function LF(t){if(typeof t=="string")return t;if(ti(t))return IF(t,LF)+"";if(Oh(t))return aE?aE.call(t):"";var e=t+"";return e=="0"&&1/t==-ySe?"-0":e}function bSe(t){return t==null?"":LF(t)}function FF(t,e){return ti(t)?t:Ob(t,e)?[t]:mSe(bSe(t))}var _Se=1/0;function Eh(t){if(typeof t=="string"||Oh(t))return t;var e=t+"";return e=="0"&&1/t==-_Se?"-0":e}function RF(t,e){e=FF(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Eh(e[r++])];return r&&r==n?t:void 0}function SSe(t,e,r){var n=t==null?void 0:RF(t,e);return n===void 0?r:n}function OSe(t,e){return t!=null&&e in Object(t)}function xSe(t,e,r){e=FF(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Eh(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&gb(i)&&yb(o,i)&&(ti(t)||ip(t)))}function wSe(t,e){return t!=null&&xSe(t,e,OSe)}var ESe=1,CSe=2;function TSe(t,e){return Ob(t)&&jF(e)?PF(Eh(t),e):function(r){var n=SSe(r,t);return n===void 0&&n===e?wSe(r,t):Sb(e,n,ESe|CSe)}}function kSe(t){return function(e){return e==null?void 0:e[t]}}function ISe(t){return function(e){return RF(e,t)}}function ASe(t){return Ob(t)?kSe(Eh(t)):ISe(t)}function jSe(t){return typeof t=="function"?t:t==null?Sh:typeof t=="object"?ti(t)?TSe(t[0],t[1]):uSe(t):ASe(t)}function PSe(t,e){var r=-1,n=Su(t)?Array(t.length):[];return EF(t,function(i,a,o){n[++r]=e(i,a,o)}),n}function Is(t,e){var r=ti(t)?IF:PSe;return r(t,jSe(e))}var LSe=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,a=rt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return j.createElement("div",{style:a.swatches},Is(r,function(o){return j.createElement(ks,{key:o,color:o,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),j.createElement("div",{style:a.clear}))},wb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=i==="transparent",p=function(m,y){Mo(m)&&r({hex:m,source:"hex"},y)},v=rt(zn({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:_b(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":s==="hide"});return j.createElement("div",{style:v.card,className:"block-picker "+f},j.createElement("div",{style:v.triangle}),j.createElement("div",{style:v.head},d&&j.createElement(bu,{borderRadius:"6px 6px 0 0"}),j.createElement("div",{style:v.label},i)),j.createElement("div",{style:v.body},j.createElement(LSe,{colors:a,onClick:p,onSwatchHover:n}),j.createElement(Tt,{style:{input:v.input},value:i,onChange:p})))};wb.propTypes={width:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.string),triangle:W.oneOf(["top","hide"]),styles:W.object};wb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Un(wb);var Ks={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Js={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Qs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Xs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Zs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},el={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},tl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},rl={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},nl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Hu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},il={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},al={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ol={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},sl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},ll={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ul={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},cl={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},fl={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},$F=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,u=rt({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:o});return j.createElement("div",{style:u.swatch},j.createElement(ks,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};$F.defaultProps={circleSize:28,circleSpacing:14};const FSe=fb($F);var Eb=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,f=e.className,d=f===void 0?"":f,p=rt(zn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(m,y){return n({hex:m,source:"hex"},y)};return j.createElement("div",{style:p.card,className:"circle-picker "+d},Is(a,function(h){return j.createElement(FSe,{key:h,color:h,onClick:v,onSwatchHover:i,active:o===h.toLowerCase(),circleSize:s,circleSpacing:c})}))};Eb.propTypes={width:W.oneOfType([W.string,W.number]),circleSize:W.number,circleSpacing:W.number,styles:W.object};Eb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ks[500],Js[500],Qs[500],Xs[500],Zs[500],el[500],tl[500],rl[500],nl[500],Hu[500],il[500],al[500],ol[500],sl[500],ll[500],ul[500],cl[500],fl[500]],styles:{}};Un(Eb);function oE(t){return t===void 0}var NF={};Object.defineProperty(NF,"__esModule",{value:!0});var sE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RSe=J,lE=$Se(RSe);function $Se(t){return t&&t.__esModule?t:{default:t}}function NSe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Qf=24,DSe=NF.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Qf:n,a=t.height,o=a===void 0?Qf:a,s=t.style,l=s===void 0?{}:s,u=NSe(t,["fill","width","height","style"]);return lE.default.createElement("svg",sE({viewBox:"0 0 "+Qf+" "+Qf,style:sE({fill:r,width:i,height:o},l)},u),lE.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},MSe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DF=function(t){qSe(e,t);function e(r){VSe(this,e);var n=BSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?Mo(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(oE(i.s)?n.props.hsl.s:i.s),l:Number(oE(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return MSe(e,[{key:"render",value:function(){var n=this,i=rt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),j.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,j.createElement("div",{style:i.toggle},j.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},j.createElement(DSe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(j.Component);DF.defaultProps={view:"hex"};var uE=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},HSe=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return j.createElement("div",{style:e.picker})},Cb=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,a=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,c=e.styles,f=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,v=e.defaultView,h=rt(zn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return j.createElement("div",{style:h.picker,className:"chrome-picker "+p},j.createElement("div",{style:h.saturation},j.createElement(xh,{style:h.Saturation,hsl:o,hsv:s,pointer:HSe,onChange:n})),j.createElement("div",{style:h.body},j.createElement("div",{style:h.controls,className:"flexbox-fix"},j.createElement("div",{style:h.color},j.createElement("div",{style:h.swatch},j.createElement("div",{style:h.active}),j.createElement(bu,{renderers:u}))),j.createElement("div",{style:h.toggles},j.createElement("div",{style:h.hue},j.createElement(_u,{style:h.Hue,hsl:o,pointer:uE,onChange:n})),j.createElement("div",{style:h.alpha},j.createElement(db,{style:h.Alpha,rgb:a,hsl:o,pointer:uE,renderers:u,onChange:n})))),j.createElement(DF,{rgb:a,hsl:o,hex:l,view:v,onChange:n,disableAlpha:i})))};Cb.propTypes={width:W.oneOfType([W.string,W.number]),disableAlpha:W.bool,styles:W.object,defaultView:W.oneOf(["hex","rgb","hsl"])};Cb.defaultProps={width:225,disableAlpha:!1,styles:{}};const Xf=Un(Cb);var zSe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.active,s=rt({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:_b(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(ks,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:s.dot}))},USe=function(e){var r=e.hex,n=e.rgb,i=e.onChange,a=rt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return j.createElement("div",{style:a.fields,className:"flexbox-fix"},j.createElement("div",{style:a.active}),j.createElement(Tt,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))},Tb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,a=e.hex,o=e.rgb,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(zn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(v,h){v.hex?Mo(v.hex)&&r({hex:v.hex,source:"hex"},h):r(v,h)};return j.createElement(gf,{style:f.Compact,styles:l},j.createElement("div",{style:f.compact,className:"compact-picker "+c},j.createElement("div",null,Is(i,function(p){return j.createElement(zSe,{key:p,color:p,active:p.toLowerCase()===a,onClick:d,onSwatchHover:n})}),j.createElement("div",{style:f.clear})),j.createElement(USe,{hex:a,rgb:o,onChange:d})))};Tb.propTypes={colors:W.arrayOf(W.string),styles:W.object};Tb.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Un(Tb);var WSe=function(e){var r=e.hover,n=e.color,i=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=rt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:r});return j.createElement("div",{style:s.swatch},j.createElement(ks,{color:n,onClick:i,onHover:a,focusStyle:o}))};const GSe=fb(WSe);var kb=function(e){var r=e.width,n=e.colors,i=e.onChange,a=e.onSwatchHover,o=e.triangle,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(zn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(v,h){return i({hex:v,source:"hex"},h)};return j.createElement("div",{style:f.card,className:"github-picker "+c},j.createElement("div",{style:f.triangleShadow}),j.createElement("div",{style:f.triangle}),Is(n,function(p){return j.createElement(GSe,{color:p,key:p,onClick:d,onSwatchHover:a})}))};kb.propTypes={width:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.string),triangle:W.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:W.object};kb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Un(kb);var YSe=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},KSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ib=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.hsl,o=e.direction,s=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),p=function(h){return i({a:1,h:h.h,l:.5,s:1})};return j.createElement("div",{style:d.picker,className:"hue-picker "+f},j.createElement(_u,KSe({},d.hue,{hsl:a,pointer:s,onChange:p,direction:o})))};Ib.propTypes={styles:W.object};Ib.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:YSe,styles:{}};Un(Ib);var JSe=function(e){var r=e.onChange,n=e.hex,i=e.rgb,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(zn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,p){d.hex?Mo(d.hex)&&r({hex:d.hex,source:"hex"},p):(d.r||d.g||d.b)&&r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},p)};return j.createElement(gf,{styles:o},j.createElement("div",{style:u.material,className:"material-picker "+l},j.createElement(Tt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),j.createElement("div",{style:u.split,className:"flexbox-fix"},j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Un(JSe);var QSe=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,a=e.hex,o=rt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(u,c){u["#"]?Mo(u["#"])&&r({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},c):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return j.createElement("div",{style:o.fields},j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),j.createElement("div",{style:o.fieldSymbols},j.createElement("div",{style:o.symbol},"Â°"),j.createElement("div",{style:o.symbol},"%"),j.createElement("div",{style:o.symbol},"%")))},XSe=function(e){var r=e.hsl,n=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return j.createElement("div",{style:n.picker})},ZSe=function(){var e=rt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return j.createElement("div",{style:e.pointer},j.createElement("div",{style:e.left},j.createElement("div",{style:e.leftInside})),j.createElement("div",{style:e.right},j.createElement("div",{style:e.rightInside})))},cE=function(e){var r=e.onClick,n=e.label,i=e.children,a=e.active,o=rt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return j.createElement("div",{style:o.button,onClick:r},n||i)},eOe=function(e){var r=e.rgb,n=e.currentColor,i=rt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return j.createElement("div",null,j.createElement("div",{style:i.label},"new"),j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.new}),j.createElement("div",{style:i.current})),j.createElement("div",{style:i.label},"current"))},tOe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function rOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nOe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ab=function(t){iOe(e,t);function e(r){rOe(this,e);var n=nOe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return tOe(e,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,o=n.className,s=o===void 0?"":o,l=rt(zn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return j.createElement("div",{style:l.picker,className:"photoshop-picker "+s},j.createElement("div",{style:l.head},this.props.header),j.createElement("div",{style:l.body,className:"flexbox-fix"},j.createElement("div",{style:l.saturation},j.createElement(xh,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:XSe,onChange:this.props.onChange})),j.createElement("div",{style:l.hue},j.createElement(_u,{direction:"vertical",hsl:this.props.hsl,pointer:ZSe,onChange:this.props.onChange})),j.createElement("div",{style:l.controls},j.createElement("div",{style:l.top,className:"flexbox-fix"},j.createElement("div",{style:l.previews},j.createElement(eOe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),j.createElement("div",{style:l.actions},j.createElement(cE,{label:"OK",onClick:this.props.onAccept,active:!0}),j.createElement(cE,{label:"Cancel",onClick:this.props.onCancel}),j.createElement(QSe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(j.Component);Ab.propTypes={header:W.string,styles:W.object};Ab.defaultProps={header:"Color Picker",styles:{}};Un(Ab);var aOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=rt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,f){c.hex?Mo(c.hex)&&r({hex:c.hex,source:"hex"},f):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,a:n.a,source:"rgb"},f):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,r({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},f))};return j.createElement("div",{style:s.fields,className:"flexbox-fix"},j.createElement("div",{style:s.double},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:l})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.alpha},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},oOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MF=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=rt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(u,c){i({hex:u,source:"hex"},c)};return j.createElement("div",{style:o.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return j.createElement("div",{key:c,style:o.swatchWrap},j.createElement(ks,oOe({},u,{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};MF.propTypes={colors:W.arrayOf(W.oneOfType([W.string,W.shape({color:W.string,title:W.string})])).isRequired};var sOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb=function(e){var r=e.width,n=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,f=e.renderers,d=e.styles,p=d===void 0?{}:d,v=e.className,h=v===void 0?"":v,m=rt(zn({default:sOe({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return j.createElement("div",{style:m.picker,className:"sketch-picker "+h},j.createElement("div",{style:m.saturation},j.createElement(xh,{style:m.Saturation,hsl:o,hsv:a,onChange:s})),j.createElement("div",{style:m.controls,className:"flexbox-fix"},j.createElement("div",{style:m.sliders},j.createElement("div",{style:m.hue},j.createElement(_u,{style:m.Hue,hsl:o,onChange:s})),j.createElement("div",{style:m.alpha},j.createElement(db,{style:m.Alpha,rgb:n,hsl:o,renderers:f,onChange:s}))),j.createElement("div",{style:m.color},j.createElement(bu,null),j.createElement("div",{style:m.activeColor}))),j.createElement(aOe,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:u}),j.createElement(MF,{colors:c,onClick:s,onSwatchHover:l}))};jb.propTypes={disableAlpha:W.bool,width:W.oneOfType([W.string,W.number]),styles:W.object};jb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Un(jb);var Ru=function(e){var r=e.hsl,n=e.offset,i=e.onClick,a=i===void 0?function(){}:i,o=e.active,s=e.first,l=e.last,u=rt({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l}),c=function(d){return a({h:r.h,s:.5,l:n,source:"hsl"},d)};return j.createElement("div",{style:u.swatch,onClick:c})},lOe=function(e){var r=e.onClick,n=e.hsl,i=rt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.swatch},j.createElement(Ru,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),j.createElement("div",{style:i.swatch},j.createElement(Ru,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Ru,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Ru,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Ru,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),j.createElement("div",{style:i.clear}))},uOe=function(){var e=rt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},Pb=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(zn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return j.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},j.createElement("div",{style:u.hue},j.createElement(_u,{style:u.Hue,hsl:r,pointer:i,onChange:n})),j.createElement("div",{style:u.swatches},j.createElement(lOe,{hsl:r,onClick:n})))};Pb.propTypes={styles:W.object};Pb.defaultProps={pointer:uOe,styles:{}};Un(Pb);var VF={};Object.defineProperty(VF,"__esModule",{value:!0});var fE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cOe=J,dE=fOe(cOe);function fOe(t){return t&&t.__esModule?t:{default:t}}function dOe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Zf=24,pOe=VF.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Zf:n,a=t.height,o=a===void 0?Zf:a,s=t.style,l=s===void 0?{}:s,u=dOe(t,["fill","width","height","style"]);return dE.default.createElement("svg",fE({viewBox:"0 0 "+Zf+" "+Zf,style:fE({fill:r,width:i,height:o},l)},u),dE.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},hOe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,l=e.active,u=rt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:_b(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(ks,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:u.check},j.createElement(pOe,null)))},vOe=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,a=e.active,o=rt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return j.createElement("div",{style:o.group},Is(i,function(s,l){return j.createElement(hOe,{key:s,color:s,active:s.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},Lb=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(h,m){return i({hex:h,source:"hex"},m)};return j.createElement("div",{style:d.picker,className:"swatches-picker "+f},j.createElement(gf,null,j.createElement("div",{style:d.overflow},j.createElement("div",{style:d.body},Is(o,function(v){return j.createElement(vOe,{key:v.toString(),group:v,active:s,onClick:p,onSwatchHover:a})}),j.createElement("div",{style:d.clear})))))};Lb.propTypes={width:W.oneOfType([W.string,W.number]),height:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.arrayOf(W.string)),styles:W.object};Lb.defaultProps={width:320,height:240,colors:[[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],["#194D33",Hu[700],Hu[500],Hu[300],Hu[100]],[il[900],il[700],il[500],il[300],il[100]],[al[900],al[700],al[500],al[300],al[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],[ll[900],ll[700],ll[500],ll[300],ll[100]],[ul[900],ul[700],ul[500],ul[300],ul[100]],[cl[900],cl[700],cl[500],cl[300],cl[100]],[fl[900],fl[700],fl[500],fl[300],fl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Un(Lb);var Fb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(h,m){Mo(h)&&r({hex:h,source:"hex"},m)};return j.createElement("div",{style:d.card,className:"twitter-picker "+f},j.createElement("div",{style:d.triangleShadow}),j.createElement("div",{style:d.triangle}),j.createElement("div",{style:d.body},Is(a,function(v,h){return j.createElement(ks,{key:h,color:v,hex:v,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+v}})}),j.createElement("div",{style:d.hash},"#"),j.createElement(Tt,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:p}),j.createElement("div",{style:d.clear})))};Fb.propTypes={width:W.oneOfType([W.string,W.number]),triangle:W.oneOf(["hide","top-left","top-right"]),colors:W.arrayOf(W.string),styles:W.object};Fb.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Un(Fb);var Rb=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return j.createElement("div",{style:r.picker})};Rb.propTypes={hsl:W.shape({h:W.number,s:W.number,l:W.number,a:W.number})};Rb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var $b=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return j.createElement("div",{style:r.picker})};$b.propTypes={hsl:W.shape({h:W.number,s:W.number,l:W.number,a:W.number})};$b.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var gOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.hsv,s=function(p,v){if(p.hex)Mo(p.hex)&&r({hex:p.hex,source:"hex"},v);else if(p.rgb){var h=p.rgb.split(",");Pv(p.rgb,"rgb")&&r({r:h[0],g:h[1],b:h[2],a:1,source:"rgb"},v)}else if(p.hsv){var m=p.hsv.split(",");Pv(p.hsv,"hsv")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("Â°",""),m[1]==1?m[1]=.01:m[2]==1&&(m[2]=.01),r({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsv"},v))}else if(p.hsl){var y=p.hsl.split(",");Pv(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("Â°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},v))}},l=rt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+"Â°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"Â°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return j.createElement("div",{style:l.wrap,className:"flexbox-fix"},j.createElement("div",{style:l.fields},j.createElement("div",{style:l.double},j.createElement(Tt,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:s})),j.createElement("div",{style:l.column},j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:s})))))},Nb=function(e){var r=e.width,n=e.onChange,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,f=e.className,d=f===void 0?"":f,p=rt(zn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return j.createElement("div",{style:p.picker,className:"google-picker "+d},j.createElement("div",{style:p.head},l),j.createElement("div",{style:p.swatch}),j.createElement("div",{style:p.saturation},j.createElement(xh,{hsl:a,hsv:o,pointer:Rb,onChange:n})),j.createElement("div",{style:p.body},j.createElement("div",{style:p.controls,className:"flexbox-fix"},j.createElement("div",{style:p.hue},j.createElement(_u,{style:p.Hue,hsl:a,radius:"4px",pointer:$b,onChange:n}))),j.createElement(gOe,{rgb:i,hsl:a,hex:s,hsv:o,onChange:n})))};Nb.propTypes={width:W.oneOfType([W.string,W.number]),styles:W.object,header:W.string};Nb.defaultProps={width:652,styles:{},header:"Color picker"};Un(Nb);const Fv=["Merriweather","Roboto","Open Sans","Lato","Poppins","Raleway","Rubik","Times New Roman","Arial","Courier New","Georgia"];function mOe({t}){const e=Vl("design"),r=wt(),n=ye(O=>O.designState.Survey.theme);function i(O,x){if(O==="font"){const E={...n.textStyles};E.group={...E.group,font:x},E.question={...E.question,font:x},E.text={...E.text,font:x},r(Yn({code:"Survey",key:"theme",value:{...n,textStyles:E}}))}else if(O==="textColor"){const E={...n.textStyles};E.group={...E.group,color:x},E.question={...E.question,color:x},E.text={...E.text,color:x},r(Yn({code:"Survey",key:"theme",value:{...n,textStyles:E}}))}else if(O==="bgColor"){const E=x.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(E){const k=E[1],w=E[2],I=E[3];let C=E[4];(!C||C==="0"||C==="0.0")&&(C="1");const A="rgba(".concat(k,", ").concat(w,", ").concat(I,", ").concat(C,")");r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:A}}))}else r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:x}}))}else r(Yn({code:"Survey",key:"theme",value:{...n,[O]:x}}))}function a(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(E=>{r(Va({code:"Survey",key:"headerImage",value:E.name}))}).catch(E=>{console.error(E)})}const o=()=>{r(Va({code:"Survey",key:"headerImage",value:null}))};function s(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(E=>{r(Va({code:"Survey",key:"backgroundImage",value:E.name})),r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:"rgba(0, 0, 0, 0)"}}))}).catch(E=>{console.error(E)})}const l=()=>{r(Va({code:"Survey",key:"backgroundImage",value:null}))},u=bf(),c=bf(),f=bf(),d=bf(),p=()=>{u.onFalse(),c.onFalse(),f.onFalse(),d.onFalse()},v=J.useRef(),h=J.useRef(),m=J.useRef(),y=J.useRef();function g(O,x){J.useEffect(()=>{function E(k){O.current&&!O.current.contains(k.target)&&x()}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[O,x])}g(v,p),g(h,p),g(m,p),g(y,p);const _=O=>{O.value?O.onFalse():(p(),O.onToggle())},b=ye(O=>{var x,E;return(E=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:E.backgroundImage}),S=ye(O=>{var x,E;return(E=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:E.headerImage});return T.jsxs("div",{className:En.theming,children:[T.jsxs("span",{className:En.fontText,children:[" ",t("font")]}),T.jsx(Yi,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:gE,size:"small",className:En.selectDropdown,value:n.textStyles.group.font,onChange:O=>i("font",O.target.value),children:Fv&&Fv.length>0&&Fv.map((O,x)=>T.jsx(Zr,{sx:{fontFamily:O},value:O,children:O},"fontFamily-".concat(x)))},"fontFamily"),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("group_title")}),T.jsx(Ev,{value:n.textStyles.group,default:jh.textStyles.group,onChange:O=>{i("textStyles",{...n.textStyles,group:O})}},"group")]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("question_title")}),T.jsx(Ev,{value:n.textStyles.question,default:jh.textStyles.question,onChange:O=>i("textStyles",{...n.textStyles,question:O})},"question")]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("theme_text")}),T.jsx(Ev,{value:n.textStyles.text,default:jh.textStyles.text,onChange:O=>i("textStyles",{...n.textStyles,text:O})},"text")]}),T.jsx("hr",{}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("highlight_color")}),T.jsx(Ut,{onClick:()=>_(u),style:{backgroundColor:n.primaryColor},className:En.colorBox}),u.value&&T.jsxs(ht,{ref:v,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(u),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Xf,{color:n.primaryColor,onChange:O=>{i("primaryColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("background_color")}),T.jsx(Ut,{onClick:()=>_(c),style:{backgroundColor:n.bgColor},className:En.colorBox}),c.value&&T.jsxs(ht,{ref:h,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(c),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Xf,{color:n.bgColor,onChange:O=>{i("bgColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("foreground_color")}),T.jsx(Ut,{onClick:()=>_(f),style:{backgroundColor:n.paperColor},className:En.colorBox}),f.value&&T.jsxs(ht,{ref:m,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(f),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Xf,{color:n.paperColor,onChange:O=>{i("paperColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("text_color")}),T.jsx(Ut,{onClick:()=>_(d),style:{backgroundColor:n.textStyles.group.color},className:En.colorBox}),d.value&&T.jsxs(ht,{ref:y,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(d),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Xf,{color:n.textStyles.group.color,onChange:O=>{i("textColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("upload_banner")}),T.jsxs(Ut,{component:"label",className:En.chooseImage,children:[T.jsx(Yb,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:a})]}),S&&T.jsx(bt,{className:En.resetButton,onClick:o,children:T.jsx(Gb,{})})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("upload_background")}),T.jsxs(Ut,{component:"label",className:En.chooseImage,children:[T.jsx(Yb,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:s})]}),b&&T.jsx(bt,{className:En.resetButton,onClick:l,children:T.jsx(Gb,{})})]})]})}function yOe({t}){const e=wt(),r=J.useCallback(f=>{e(UR(f))}),n=Ya(),a=xE([f=>f.designState.setup||{}],f=>{var d;return{code:f.code,expanded:f.expanded,highlighted:f.highlighted,rules:f.rules,isSingleRule:((d=f.rules)==null?void 0:d.length)===1}}),{code:o,expanded:s,highlighted:l,rules:u,isSingleRule:c}=ye(a);return T.jsxs("div",{className:tc.rightContent,style:{left:n.direction=="rtl"?"0px":""},children:[T.jsx("div",{className:tc.close,children:T.jsx(bt,{onClick:()=>{e(OE())},children:T.jsx(Xn,{})})}),u==null?void 0:u.map(f=>T.jsx(SOe,{expanded:(s==null?void 0:s.includes(f.key))||c||!1,isSingleRule:c,code:o,t,toggleExpand:r,highlighted:f.key==l,rule:f},o+f.title))]})}const bOe=j.memo(yOe),_Oe=j.memo(({code:t,rule:e,t:r})=>{if(e.startsWith("validation_"))return T.jsx(LW,{t:r,rule:e,code:t},t+e);switch(e){case"theme":return T.jsx(mOe,{t:r},t+e);case"language":return T.jsx(sR,{t:r},t+e);case"maxChars":return T.jsx(Lf,{label:r("text_field_size"),rule:e,lowerBound:1,t:r,upperBound:500,defaultValue:20,code:t},t+e);case"minRows":return T.jsx(Lf,{label:r("textarea_lines"),lowerBound:1,t:r,upperBound:500,code:t,defaultValue:20},t+e);case"hideText":return T.jsx(ra,{label:r("hide_text"),rule:e,code:t},t+e);case"showDescription":return T.jsx(ra,{label:r("show_description"),rule:e,code:t},t+e);case"showWordCount":return T.jsx(ra,{label:r("show_word_count"),rule:e,code:t},t+e);case"navigationMode":return T.jsx(jge,{},t+e);case"allowPrevious":return T.jsx(ra,{label:r("allow_previous"),rule:e,code:t},t+e);case"allowIncomplete":return T.jsx(ra,{label:r("allow_incomplete"),rule:e,code:t},t+e);case"allowJump":return T.jsx(ra,{label:r("allow_jump"),rule:e,code:t},t+e);case"skipInvalid":return T.jsx(ra,{label:r("skip_invalid"),rule:e,code:t},t+e);case"hint":return T.jsx(uW,{t:r,code:t},t+e);case"lower_bound_hint":return T.jsx(tg,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:t},t+e);case"higher_bound_hint":return T.jsx(tg,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:t},t+e);case"loop":return T.jsx(ra,{rule:e,code:t,label:r("loop_video")},t+e);case"audio_only":return T.jsx(ra,{rule:e,code:t,label:r("audio_only")},t+e);case"fullDayFormat":return T.jsx(ra,{rule:e,code:t,label:r("fullday_format")},t+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return T.jsx(Age,{t:r,rule:e,code:t},t+e);case"maxDate":return T.jsx(Q_,{lowerBound:1,code:t,label:r("max_date"),rule:e},t+e);case"minDate":return T.jsx(Q_,{label:r("min_date"),rule:e,code:t},t+e);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return T.jsx(Rs,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:e,code:t},t+e);case"decimal_separator":const i=["",",","."],a=[r("no_decimals_allowed"),",","."];return T.jsx(Rs,{values:i,labels:a,defaultValue:"",label:r("decimal_separator"),rule:e,code:t},t+e);case"imageAspectRatio":const o=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],s=[1,1.7778,1.3333,1.5,.562,.75,.6667];return T.jsx(Rs,{values:s,labels:o,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:e,code:t},t+e);case"reorder_setup":const l=[r("collapse_groups"),r("collapse_questions")],u=["collapse_groups","collapse_questions"];return T.jsx(Rs,{values:u,labels:l,defaultValue:"collapse_none",label:r("order_mode"),rule:e,code:t},t+e);case"iconSize":const c=["50","100","150","200"];return T.jsx(Rs,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:e,code:t},t+e);case"columns":const f=["1","2","3","4","6"];return T.jsx(Rs,{values:f,defaultValue:"2",label:r("columns_number"),rule:e,code:t},t+e);case"imageHeight":return T.jsx(Lf,{label:r("image_height"),lowerBound:50,upperBound:500,t:r,code:t,defaultValue:250,rule:e},t+e);case"spacing":return T.jsx(Lf,{label:r("spacing"),lowerBound:2,upperBound:32,code:t,t:r,defaultValue:8,rule:e},t+e);case"skip_logic":return T.jsx(cve,{t:r,code:t},t+e);case"relevance":return T.jsx(ove,{t:r,code:t},t+e);default:return""}}),SOe=j.memo(({expanded:t,highlighted:e,code:r,rule:n,isSingleRule:i,t:a,toggleExpand:o})=>T.jsxs(h$,{expanded:t,className:tc.accordionStyle,slotProps:{transition:{unmountOnExit:!0}},children:[T.jsx(v$,{onClick:()=>o(n.key),className:tc.setupHeader,expandIcon:i?null:T.jsx(g$,{}),children:T.jsx("span",{className:tc.sectionTitle,children:a(n.title)})}),T.jsx(m$,{sx:{backgroundColor:e?"#fff":"background.paper"},children:n.rules.map(s=>T.jsx(_Oe,{code:r,rule:s,t:a},s))})]}));function OOe({t}){const e=ye(i=>{var a;return(((a=i.designState)==null?void 0:a.designMode)||pn.DESIGN)==pn.DESIGN&&(!i.designState.setup||Object.keys(i.designState.setup)==0)}),r=ye(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}}),n=Object.keys(r).length>0;return Ya(),T.jsxs(ht,{sx:{width:"22rem",flex:"0 0 auto"},children:[e&&T.jsx(WR,{t}),n&&T.jsx(bOe,{t})]})}const xOe=j.memo(OOe);var Db={},wOe=$r;Object.defineProperty(Db,"__esModule",{value:!0});var BF=Db.default=void 0,EOe=wOe(Nr()),COe=T;BF=Db.default=(0,EOe.default)((0,COe.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");var Mb={},TOe=$r;Object.defineProperty(Mb,"__esModule",{value:!0});var qF=Mb.default=void 0,kOe=TOe(Nr()),IOe=T;qF=Mb.default=(0,kOe.default)((0,IOe.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");function AOe(){const{t,i18n:e}=us(["design","run"]),r=e.cloneInstance(),n=J.useRef(null),[i,a]=j.useState(!1),o=J.useRef(),s=ye(g=>g.designState.langInfo),l=wt(),u=ye(g=>g.designState.designMode),c=()=>{l(OE())},f=s==null?void 0:s.lang,d=ye(g=>{var _;return(_=g.designState.Survey)==null?void 0:_.theme});function p(g){return new Promise((_,b)=>{const S=So.includes(g)?"rtl":"ltr",O=n.current;O.dir!=S&&(O.dir=S),O.scrollTop=0,g&&r&&g!=r.language&&r.changeLanguage(g),_()})}J.useEffect(()=>{n.current&&p(f)},[f,n]);const v=J.useMemo(()=>GR(f),[f]),h=j.useCallback(hE({...YR(d),direction:So.includes(f)?"rtl":"ltr"}),[d]),m=ye(g=>{var _,b;return(b=(_=g.designState.Survey)==null?void 0:_.resources)==null?void 0:b.backgroundImage}),y=m?{backgroundImage:"url(".concat(Ao(m),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return T.jsx(ht,{className:o1.mainContainer,ref:o,sx:y,children:T.jsxs(t$,{backend:r$()?n$:i$,children:[T.jsx(xOe,{t}),T.jsx(XF,{value:v,children:T.jsx(_E,{theme:h,children:T.jsx(ZF,{i18n:r,children:T.jsx(aW,{designMode:u,ref:n,className:o1.contentPanel})})})}),T.jsx(POe,{onCancel:c,designMode:u,t}),T.jsx(jOe,{t,designMode:u,optionsOpen:i,setOptionsOpen:a})]})})}const cxe=j.memo(AOe);function jOe({setOptionsOpen:t,optionsOpen:e,designMode:r,t:n}){const i=wt(),a=[{icon:T.jsx(BF,{}),name:n("translation"),onClick:()=>{t(!1),i(KR())}},{icon:T.jsx(_N,{}),name:n("theme"),onClick:()=>{t(!1),i(JR())}},{icon:T.jsx(rd,{name:"sort"}),name:n("reorder"),onClick:()=>{t(!1),i(QR())}}];return r==pn.DESIGN&&T.jsxs(T.Fragment,{children:[T.jsx(XR,{style:{zIndex:1},open:e}),T.jsx(nN,{open:e,onClick:()=>t(!e),ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:"16px",right:"16px"},icon:T.jsx(DE,{icon:T.jsx(qF,{}),openIcon:T.jsx(Xn,{})}),children:a.map(o=>T.jsx(fN,{onClick:o.onClick,icon:o.icon,tooltipOpen:!0,tooltipTitle:o.name},o.name))})]})}function POe({designMode:t,onCancel:e,t:r}){const n=ZR();return t!=pn.DESIGN&&T.jsx(Zg,{sx:{borderRadius:"48px",height:"48px",fontSize:"24px",padding:"8px"},style:n?{position:"absolute",bottom:"16px",left:"16px"}:{position:"absolute",bottom:"16px",right:"16px"},label:r("back_to_design"),icon:T.jsx(yN,{}),color:"primary",onClick:e})}export{cxe as default};
