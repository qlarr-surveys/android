import{b as pn,w as tn,r as J,J as WL,M as YL,O as le,an as xt,P as KL,_ as oe,g as Tc,f as kc,h as kt,j as T,d as $r,k as hl,a1 as Us,l as Bb,i as qb,o as JL,q as Cr,B as ht,p as An,ai as QL,R as j,y as ba,A as Jg,ag as XL,ao as ZL,ap as eR,H as tR,aq as hE,ar as Yt,as as Kt,at as Jt,au as Fe,av as er,x as vE,C as rR,aw as nR}from"./index-vqe_o6H9.js";import{bZ as iR,b_ as xh,C as aR,A as Bu,k as Go,b$ as oR,f as Ut,j as _a,c as Sa,c0 as wh,al as Vo,am as zb,an as Is,I as bt,h as gE,c1 as sR,b as tc,bR as lR,c2 as uR,T as Cn,l as mE,B as cR,c3 as Hb,L as fR,c4 as dR,D as pR,n as hR,o as ed,v as Eh,p as td,c5 as yE,z as vR,x as Za,w as Pr,be as gR,bf as mR,bg as Ub,t as yR,i as bR,bM as _R,c6 as SR,e as Qg,K as Tr,M as ss,U as wt,H as ye,c7 as Ui,c8 as ls,c9 as Li,ca as Da,cb as OR,bi as Pi,aw as xR,cc as Gb,cd as Io,ap as So,aP as Ch,ce as wR,cf as yi,aD as Ht,b8 as Wa,cg as us,ch as Si,R as Nl,ci as Ma,ba as op,cj as Xg,ck as vd,cl as dn,cm as ER,cn as CR,co as TR,cp as Th,cq as bu,bl as kR,cr as kh,cs as IR,ct as Yn,cu as gd,ax as Dr,S as Gi,N as Zr,cv as ke,a2 as U,cw as sp,P as AR,bA as jR,W as PR,ar as bE,bc as FR,cx as mf,cy as LR,cz as RR,cA as $R,cB as _E,cC as NR,cD as DR,cE as MR,cF as VR,aL as Aa,cG as Ih,cH as BR,aF as SE,cI as qR,cJ as zR,av as HR,bt as UR,aW as GR,cK as WR,cL as YR,cM as KR}from"./use-service-d2kt1S5h.js";import{b as Ao}from"./common-BD7EYaWJ.js";import{G as pt,H as JR,J as Zg,L as QR,M as cn,N as XR,O as Wb,P as ZR,Q as di,T as e$,U as vl,v as pi,C as _u,D as em,V as cs,m as t$,W as OE,X as r$,K as xE,Y as n$}from"./Web-C9ZT8YVq.js";import{c as wE,E as i$,D as a$,i as o$,T as s$,H as l$}from"./isTouchDevice-rwiiBbR0.js";import{u as u$,a as c$,D as f$,d as Yb}from"./Image-DgH_-1HC.js";import{T as Zt,F as EE,I as d$}from"./TextField-C6oYyR3a.js";import{T as CE,a as TE,b as lp,c as kE}from"./TableRow-CNkYQgJu.js";import{T as IE}from"./TableHead-DmNcRdUi.js";import{T as gn}from"./TableCell-CjHiMFsD.js";import{R as p$}from"./Radio-BKywy7gT.js";import{u as Wi}from"./useDrop-E-vj9z-n.js";import{R as h$}from"./index-DuNUH3ud.js";import{G as co,q as tm,D as v$,L as g$}from"./DateTimePicker-Jjifo1cB.js";import{P as AE,a as rm,b as qu}from"./Tabs-Tuo9qr73.js";import{D as nm}from"./index-Dxt-LfdQ.js";import{C as jE,H as Kb,c as Oi,A as m$,a as y$,d as b$,b as _$}from"./index-CVkTGH_t.js";import{C as S$,a as Jb}from"./Close-CWD1l4TR.js";import{F as $a}from"./FormControlLabel-BRqqeCMk.js";import{C as Fi}from"./Checkbox-DhL0zY9B.js";import{D as O$,T as x$}from"./DatePicker-BL01L9Vj.js";import{d as zu}from"./Delete-mLsNk6qT.js";import{C as up}from"./Card-CpAAQw08.js";import{N as yf}from"./survey-D2pw4t3m.js";import{u as bf}from"./use-boolean-70ygIu5n.js";import"./radioClasses-CQtWv4A0.js";import"./tableRowClasses-DQPZ0xYH.js";import"./SwitchBase-Dz0Guboj.js";import"./RadioGroupContext-BMdzVcGd.js";import"./InputAdornment-CQBqlV5P.js";const PE=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return Nse},get LOWER(){return Rse},get NOW(){return Fse},get RELATIVE_DATETIME(){return Lse},get UPPER(){return $se}},Symbol.toStringTag,{value:"Module"}));function ti(t,e){if(t==null)return{};var r,n,i=pn(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var w$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const E$=tn(w$);var C$=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Qb(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(E$[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(C$),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var T$=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,k$=/^\s*$/,I$=Object.create(null);function FE(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(FE,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var A$={parse:function(t,e){e||(e={}),e.components||(e.components=I$);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(T$,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,v=t.charAt(p);if(d){var h=Qb(l);return a<0?(n.push(h),n):((c=i[a]).children.push(h),n)}if(f&&(a++,(r=Qb(l)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!v||v==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&v!=="<"&&v)){c=a===-1?n:i[a].children;var g=t.indexOf("<",p),y=t.slice(p,g===-1?void 0:g);k$.test(y)&&(y=" "),(g>-1&&a+c.length>=0||y!==" ")&&c.push({type:"text",content:y})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+FE("",r)},"")}},j$=["format"],P$=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Xb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ah(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function jh(t){return t?t.props?t.props.children:t.children:[]}function F$(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return J.isValidElement(e)})}function Fu(t){return Array.isArray(t)?t:[t]}function L$(t,e){var r=Qr({},e);return r.props=Object.assign(t.props,e.props),r}function LE(t,e){if(!t)return"";var r="",n=Fu(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(J.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=LE(u,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)xh("Trans: the passed in value is invalid - seems you passed in a null child.");else if(xt(a)==="object"){var f=a.format,d=ti(a,j$),p=Object.keys(d);if(p.length===1){var v=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(v,"}}")}else xh("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else xh("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function R$(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var l={};function u(g){var y=Fu(g);y.forEach(function(m){typeof m!="string"&&(Ah(m)?u(jh(m)):xt(m)==="object"&&!J.isValidElement(m)&&Object.assign(l,m))})}u(t);var c=A$.parse("<0>".concat(e,"</0>")),f=Qr(Qr({},l),i);function d(g,y,m){var _=jh(g),b=v(_,y.children,m);return F$(_)&&b.length===0?_:b}function p(g,y,m,_,b){g.dummy&&(g.children=y),m.push(J.cloneElement(g,Qr(Qr({},g.props),{},{key:_}),b?void 0:y))}function v(g,y,m){var _=Fu(g),b=Fu(y);return b.reduce(function(S,O,x){var C=O.children&&O.children[0]&&O.children[0].content&&r.services.interpolator.interpolate(O.children[0].content,f,r.language);if(O.type==="tag"){var I=_[parseInt(O.name,10)];!I&&m.length===1&&m[0][O.name]&&(I=m[0][O.name]),I||(I={});var E=Object.keys(O.attrs).length!==0?L$({props:O.attrs},I):I,k=J.isValidElement(E),w=k&&Ah(O,!0)&&!O.voidElement,A=s&&xt(E)==="object"&&E.dummy&&!k,P=xt(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,O.name);if(typeof E=="string"){var F=r.services.interpolator.interpolate(E,f,r.language);S.push(F)}else if(Ah(E)||w){var D=d(E,O,m);p(E,D,S,x)}else if(A){var R=v(_,O.children,m);S.push(J.cloneElement(E,Qr(Qr({},E.props),{},{key:x}),R))}else if(Number.isNaN(parseFloat(O.name)))if(P){var G=d(E,O,m);p(E,G,S,x,O.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(O.name)>-1)if(O.voidElement)S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)}));else{var V=v(_,O.children,m);S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)},V))}else if(O.voidElement)S.push("<".concat(O.name," />"));else{var $=v(_,O.children,m);S.push("<".concat(O.name,">").concat($,"</").concat(O.name,">"))}else if(xt(E)==="object"&&!k){var L=O.children[0]?C:null;L&&S.push(L)}else O.children.length===1&&C?S.push(J.cloneElement(E,Qr(Qr({},E.props),{},{key:x}),C)):S.push(J.cloneElement(E,Qr(Qr({},E.props),{},{key:x})))}else if(O.type==="text"){var N=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(O.content,f,r.language)):r.services.interpolator.interpolate(O.content,f,r.language);N?S.push(J.createElement(N,{key:"".concat(O.name,"-").concat(x)},B)):S.push(B)}return S},[])}var h=v([{dummy:!0,children:t||[]}],c,Fu(t||[]));return jh(h[0])}function la(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,l=t.values,u=t.defaults,c=t.components,f=t.ns,d=t.i18n,p=t.t,v=t.shouldUnescape,h=ti(t,P$),g=J.useContext(WL)||{},y=g.i18n,m=g.defaultNS,_=d||y||KL();if(!_)return iR("You will need to pass in an i18next instance by using i18nextReactModule"),e;var b=p||_.t.bind(_)||function(F){return F};a&&(s.context=a);var S=Qr(Qr({},YL()),_.options&&_.options.react),O=f||b.ns||m||_.options&&_.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"];var x=u||LE(e,S)||S.transEmptyNodeValue||i,C=S.hashTransKey,I=i||(C?C(x):x),E=l?s.interpolation:{interpolation:Qr(Qr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},k=Qr(Qr(Qr(Qr({},s),{},{count:r},l),E),{},{defaultValue:x,ns:O}),w=I?b(I,k):x,A=R$(c||e,w,_,S,k,v),P=n!==void 0?n:S.defaultTransParent;return P?J.createElement(P,h,A):A}function $$(t){return J.Children.toArray(t).filter(e=>J.isValidElement(e))}const N$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Zb(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function RE(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:o=!1}=t;return(s,{inputValue:l,getOptionLabel:u})=>{let c=o?l.trim():l;r&&(c=c.toLowerCase()),e&&(c=Zb(c));const f=c?s.filter(d=>{let p=(a||u)(d);return r&&(p=p.toLowerCase()),e&&(p=Zb(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?f.slice(0,n):f}}function _f(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const D$=RE(),e1=5,M$=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function V$(t){const{unstable_isActiveElementInListbox:e=M$,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:v=!1,disableListWrap:h=!1,filterOptions:g=D$,filterSelectedOptions:y=!1,freeSolo:m=!1,getOptionDisabled:_,getOptionKey:b,getOptionLabel:S=ne=>{var Z;return(Z=ne.label)!=null?Z:ne},groupBy:O,handleHomeEndKeys:x=!t.freeSolo,id:C,includeInputInList:I=!1,inputValue:E,isOptionEqualToValue:k=(ne,Z)=>ne===Z,multiple:w=!1,onChange:A,onClose:P,onHighlightChange:F,onInputChange:D,onOpen:R,open:G,openOnFocus:V=!1,options:$,readOnly:L=!1,selectOnFocus:N=!t.freeSolo,value:B}=t,H=aR(C);let z=S;z=ne=>{const Z=S(ne);return typeof Z!="string"?String(Z):Z};const M=J.useRef(!1),W=J.useRef(!0),q=J.useRef(null),Y=J.useRef(null),[K,ie]=J.useState(null),[te,ae]=J.useState(-1),ue=i?0:-1,fe=J.useRef(ue),[pe,Se]=Bu({controlled:B,default:c,name:u}),[Q,re]=Bu({controlled:E,default:"",name:u,state:"inputValue"}),[de,ve]=J.useState(!1),ee=J.useCallback((ne,Z)=>{if(!(w?pe.length<Z.length:Z!==null)&&!s)return;let _e;if(w)_e="";else if(Z==null)_e="";else{const He=z(Z);_e=typeof He=="string"?He:""}Q!==_e&&(re(_e),D&&D(ne,_e,"reset"))},[z,Q,w,D,re,s,pe]),[me,Oe]=Bu({controlled:G,default:!1,name:u,state:"open"}),[we,Je]=J.useState(!0),at=!w&&pe!=null&&Q===z(pe),ce=me&&!L,ge=ce?g($.filter(ne=>!(y&&(w?pe:[pe]).some(Z=>Z!==null&&k(ne,Z)))),{inputValue:at&&we?"":Q,getOptionLabel:z}):[],he=u$({filteredOptions:ge,value:pe,inputValue:Q});J.useEffect(()=>{const ne=pe!==he.value;de&&!ne||m&&!ne||ee(null,pe)},[pe,ee,de,he.value,m]);const Pe=me&&ge.length>0&&!L,Be=Go(ne=>{ne===-1?q.current.focus():K.querySelector('[data-tag-index="'.concat(ne,'"]')).focus()});J.useEffect(()=>{w&&te>pe.length-1&&(ae(-1),Be(-1))},[pe,w,te,Be]);function Ne(ne,Z){if(!Y.current||ne<0||ne>=ge.length)return-1;let be=ne;for(;;){const _e=Y.current.querySelector('[data-option-index="'.concat(be,'"]')),He=v?!1:!_e||_e.disabled||_e.getAttribute("aria-disabled")==="true";if(_e&&_e.hasAttribute("tabindex")&&!He)return be;if(Z==="next"?be=(be+1)%ge.length:be=(be-1+ge.length)%ge.length,be===ne)return-1}}const ot=Go(({event:ne,index:Z,reason:be="auto"})=>{if(fe.current=Z,Z===-1?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant","".concat(H,"-option-").concat(Z)),F&&F(ne,Z===-1?null:ge[Z],be),!Y.current)return;const _e=Y.current.querySelector('[role="option"].'.concat(r,"-focused"));_e&&(_e.classList.remove("".concat(r,"-focused")),_e.classList.remove("".concat(r,"-focusVisible")));let He=Y.current;if(Y.current.getAttribute("role")!=="listbox"&&(He=Y.current.parentElement.querySelector('[role="listbox"]')),!He)return;if(Z===-1){He.scrollTop=0;return}const _t=Y.current.querySelector('[data-option-index="'.concat(Z,'"]'));if(_t&&(_t.classList.add("".concat(r,"-focused")),be==="keyboard"&&_t.classList.add("".concat(r,"-focusVisible")),He.scrollHeight>He.clientHeight&&be!=="mouse"&&be!=="touch")){const qt=_t,Jr=He.clientHeight+He.scrollTop,Re=qt.offsetTop+qt.offsetHeight;Re>Jr?He.scrollTop=Re-He.clientHeight:qt.offsetTop-qt.offsetHeight*(O?1.3:0)<He.scrollTop&&(He.scrollTop=qt.offsetTop-qt.offsetHeight*(O?1.3:0))}}),st=Go(({event:ne,diff:Z,direction:be="next",reason:_e="auto"})=>{if(!ce)return;const _t=Ne((()=>{const qt=ge.length-1;if(Z==="reset")return ue;if(Z==="start")return 0;if(Z==="end")return qt;const Jr=fe.current+Z;return Jr<0?Jr===-1&&I?-1:h&&fe.current!==-1||Math.abs(Z)>1?0:qt:Jr>qt?Jr===qt+1&&I?-1:h||Math.abs(Z)>1?qt:0:Jr})(),be);if(ot({index:_t,reason:_e,event:ne}),n&&Z!=="reset")if(_t===-1)q.current.value=Q;else{const qt=z(ge[_t]);q.current.value=qt,qt.toLowerCase().indexOf(Q.toLowerCase())===0&&Q.length>0&&q.current.setSelectionRange(Q.length,qt.length)}}),Ke=()=>{const ne=(Z,be)=>{const _e=Z?z(Z):"",He=be?z(be):"";return _e===He};if(fe.current!==-1&&he.filteredOptions&&he.filteredOptions.length!==ge.length&&he.inputValue===Q&&(w?pe.length===he.value.length&&he.value.every((Z,be)=>z(pe[be])===z(Z)):ne(he.value,pe))){const Z=he.filteredOptions[fe.current];if(Z)return _f(ge,be=>z(be)===z(Z))}return-1},Bt=J.useCallback(()=>{if(!ce)return;const ne=Ke();if(ne!==-1){fe.current=ne;return}const Z=w?pe[0]:pe;if(ge.length===0||Z==null){st({diff:"reset"});return}if(Y.current){if(Z!=null){const be=ge[fe.current];if(w&&be&&_f(pe,He=>k(be,He))!==-1)return;const _e=_f(ge,He=>k(He,Z));_e===-1?st({diff:"reset"}):ot({index:_e});return}if(fe.current>=ge.length-1){ot({index:ge.length-1});return}ot({index:fe.current})}},[ge.length,w?!1:pe,y,st,ot,ce,Q,w]),Fr=Go(ne=>{oR(Y,ne),ne&&Bt()});J.useEffect(()=>{Bt()},[Bt]);const vt=ne=>{me||(Oe(!0),Je(!0),R&&R(ne))},Le=(ne,Z)=>{me&&(Oe(!1),P&&P(ne,Z))},De=(ne,Z,be,_e)=>{if(w){if(pe.length===Z.length&&pe.every((He,_t)=>He===Z[_t]))return}else if(pe===Z)return;A&&A(ne,Z,be,_e),Se(Z)},We=J.useRef(!1),Qe=(ne,Z,be="selectOption",_e="options")=>{let He=be,_t=Z;if(w){_t=Array.isArray(pe)?pe.slice():[];const qt=_f(_t,Jr=>k(Z,Jr));qt===-1?_t.push(Z):_e!=="freeSolo"&&(_t.splice(qt,1),He="removeOption")}ee(ne,_t),De(ne,_t,He,{option:Z}),!d&&(!ne||!ne.ctrlKey&&!ne.metaKey)&&Le(ne,He),(o===!0||o==="touch"&&We.current||o==="mouse"&&!We.current)&&q.current.blur()};function ft(ne,Z){if(ne===-1)return-1;let be=ne;for(;;){if(Z==="next"&&be===pe.length||Z==="previous"&&be===-1)return-1;const _e=K.querySelector('[data-tag-index="'.concat(be,'"]'));if(!_e||!_e.hasAttribute("tabindex")||_e.disabled||_e.getAttribute("aria-disabled")==="true")be+=Z==="next"?1:-1;else return be}}const Et=(ne,Z)=>{if(!w)return;Q===""&&Le(ne,"toggleInput");let be=te;te===-1?Q===""&&Z==="previous"&&(be=pe.length-1):(be+=Z==="next"?1:-1,be<0&&(be=0),be===pe.length&&(be=-1)),be=ft(be,Z),ae(be),Be(be)},At=ne=>{M.current=!0,re(""),D&&D(ne,"","clear"),De(ne,w?[]:null,"clear")},Sr=ne=>Z=>{if(ne.onKeyDown&&ne.onKeyDown(Z),!Z.defaultMuiPrevented&&(te!==-1&&["ArrowLeft","ArrowRight"].indexOf(Z.key)===-1&&(ae(-1),Be(-1)),Z.which!==229))switch(Z.key){case"Home":ce&&x&&(Z.preventDefault(),st({diff:"start",direction:"next",reason:"keyboard",event:Z}));break;case"End":ce&&x&&(Z.preventDefault(),st({diff:"end",direction:"previous",reason:"keyboard",event:Z}));break;case"PageUp":Z.preventDefault(),st({diff:-e1,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"PageDown":Z.preventDefault(),st({diff:e1,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowDown":Z.preventDefault(),st({diff:1,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowUp":Z.preventDefault(),st({diff:-1,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowLeft":Et(Z,"previous");break;case"ArrowRight":Et(Z,"next");break;case"Enter":if(fe.current!==-1&&ce){const be=ge[fe.current],_e=_?_(be):!1;if(Z.preventDefault(),_e)return;Qe(Z,be,"selectOption"),n&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else m&&Q!==""&&at===!1&&(w&&Z.preventDefault(),Qe(Z,Q,"createOption","freeSolo"));break;case"Escape":ce?(Z.preventDefault(),Z.stopPropagation(),Le(Z,"escape")):l&&(Q!==""||w&&pe.length>0)&&(Z.preventDefault(),Z.stopPropagation(),At(Z));break;case"Backspace":if(w&&!L&&Q===""&&pe.length>0){const be=te===-1?pe.length-1:te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break;case"Delete":if(w&&!L&&Q===""&&pe.length>0&&te!==-1){const be=te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break}},Rt=ne=>{ve(!0),V&&!M.current&&vt(ne)},Mr=ne=>{if(e(Y)){q.current.focus();return}ve(!1),W.current=!0,M.current=!1,a&&fe.current!==-1&&ce?Qe(ne,ge[fe.current],"blur"):a&&m&&Q!==""?Qe(ne,Q,"blur","freeSolo"):s&&ee(ne,pe),Le(ne,"blur")},qe=ne=>{const Z=ne.target.value;Q!==Z&&(re(Z),Je(!1),D&&D(ne,Z,"input")),Z===""?!f&&!w&&De(ne,null,"clear"):vt(ne)},lt=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));fe.current!==Z&&ot({event:ne,index:Z,reason:"mouse"})},cr=ne=>{ot({event:ne,index:Number(ne.currentTarget.getAttribute("data-option-index")),reason:"touch"}),We.current=!0},Yr=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));Qe(ne,ge[Z],"selectOption"),We.current=!1},Kr=ne=>Z=>{const be=pe.slice();be.splice(ne,1),De(Z,be,"removeOption",{option:pe[ne]})},mt=ne=>{me?Le(ne,"toggleInput"):vt(ne)},dt=ne=>{ne.currentTarget.contains(ne.target)&&ne.target.getAttribute("id")!==H&&ne.preventDefault()},fr=ne=>{ne.currentTarget.contains(ne.target)&&(q.current.focus(),N&&W.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),W.current=!1)},$t=ne=>{!p&&(Q===""||!me)&&mt(ne)};let Lr=m&&Q.length>0;Lr=Lr||(w?pe.length>0:pe!==null);let rr=ge;return O&&(rr=ge.reduce((ne,Z,be)=>{const _e=O(Z);return ne.length>0&&ne[ne.length-1].group===_e?ne[ne.length-1].options.push(Z):ne.push({key:be,index:be,group:_e,options:[Z]}),ne},[])),p&&de&&Mr(),{getRootProps:(ne={})=>oe({"aria-owns":Pe?"".concat(H,"-listbox"):null},ne,{onKeyDown:Sr(ne),onMouseDown:dt,onClick:fr}),getInputLabelProps:()=>({id:"".concat(H,"-label"),htmlFor:H}),getInputProps:()=>({id:H,value:Q,onBlur:Mr,onFocus:Rt,onChange:qe,onMouseDown:$t,"aria-activedescendant":ce?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Pe?"".concat(H,"-listbox"):void 0,"aria-expanded":Pe,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:At}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:mt}),getTagProps:({index:ne})=>oe({key:ne,"data-tag-index":ne,tabIndex:-1},!L&&{onDelete:Kr(ne)}),getListboxProps:()=>({role:"listbox",id:"".concat(H,"-listbox"),"aria-labelledby":"".concat(H,"-label"),ref:Fr,onMouseDown:ne=>{ne.preventDefault()}}),getOptionProps:({index:ne,option:Z})=>{var be;const _e=(w?pe:[pe]).some(_t=>_t!=null&&k(Z,_t)),He=_?_(Z):!1;return{key:(be=b==null?void 0:b(Z))!=null?be:z(Z),tabIndex:-1,role:"option",id:"".concat(H,"-option-").concat(ne),onMouseMove:lt,onClick:Yr,onTouchStart:cr,"data-option-index":ne,"aria-disabled":He,"aria-selected":_e}},id:H,inputValue:Q,value:pe,dirty:Lr,expanded:ce&&K,popupOpen:ce,focused:de||te!==-1,anchorEl:K,setAnchorEl:ie,focusedTag:te,groupedOptions:rr}}function B$(t){return Tc("MuiListSubheader",t)}kc("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const q$=["className","color","component","disableGutters","disableSticky","inset"],z$=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,o={root:["root",r!=="default"&&"color".concat(kt(r)),!n&&"gutters",i&&"inset",!a&&"sticky"]};return Sa(o,B$,e)},H$=Ut("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e["color".concat(kt(r.color))],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>oe({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),im=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=pn(n,q$),f=oe({},n,{color:a,component:o,disableGutters:s,disableSticky:l,inset:u}),d=z$(f);return T.jsx(H$,oe({as:o,className:$r(d.root,i),ref:r,ownerState:f},c))});im.muiSkipListHighlight=!0;var t1,r1;const U$=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],G$=["ref"],W$=["key"],Y$=["key"],K$=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=t,f={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(kt(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Sa(f,QR,e)},J$=Ut("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:o,size:s}=r;return[{["& .".concat(pt.tag)]:e.tag},{["& .".concat(pt.tag)]:e["tagSize".concat(kt(s))]},{["& .".concat(pt.inputRoot)]:e.inputRoot},{["& .".concat(pt.input)]:e.input},{["& .".concat(pt.input)]:o&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})({["&.".concat(pt.focused," .").concat(pt.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(pt.clearIndicator)]:{visibility:"visible"}},["& .".concat(pt.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(pt.inputRoot)]:{[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:30},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(pt.input)]:{width:0,minWidth:30}},["& .".concat(wh.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(wh.root,".").concat(Vo.sizeSmall)]:{["& .".concat(wh.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(zb.root)]:{padding:9,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(pt.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(zb.root,".").concat(Vo.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(pt.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(Is.root)]:{paddingTop:19,paddingLeft:8,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(Is.input)]:{padding:"7px 4px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Is.root,".").concat(Vo.sizeSmall)]:{paddingBottom:1,["& .".concat(Is.input)]:{padding:"2.5px 4px"}},["& .".concat(Vo.hiddenLabel)]:{paddingTop:8},["& .".concat(Is.root,".").concat(Vo.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(pt.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(Is.root,".").concat(Vo.hiddenLabel,".").concat(Vo.sizeSmall)]:{["& .".concat(pt.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(pt.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(pt.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(pt.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(pt.inputRoot)]:{flexWrap:"wrap"}}}]}),Q$=Ut("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),X$=Ut(bt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Z$=Ut(bt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>oe({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),e2=Ut(AE,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(pt.option)]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),t2=Ut(gE,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>oe({},t.typography.body1,{overflow:"auto"})),r2=Ut("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),n2=Ut("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),i2=Ut("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(pt.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(pt.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(pt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):hl(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pt.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):hl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(pt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):hl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),a2=Ut(im,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),o2=Ut("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(pt.option)]:{paddingLeft:24}}),s2=J.forwardRef(function(e,r){var n,i,a,o;const s=_a({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:f=!1,ChipProps:d,className:p,clearIcon:v=t1||(t1=T.jsx(JR,{fontSize:"small"})),clearOnBlur:h=!s.freeSolo,clearOnEscape:g=!1,clearText:y="Clear",closeText:m="Close",componentsProps:_={},defaultValue:b=s.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:O=!1,disabled:x=!1,disabledItemsFocusable:C=!1,disableListWrap:I=!1,disablePortal:E=!1,filterSelectedOptions:k=!1,forcePopupIcon:w="auto",freeSolo:A=!1,fullWidth:P=!1,getLimitTagsText:F=_e=>"+".concat(_e),getOptionLabel:D,groupBy:R,handleHomeEndKeys:G=!s.freeSolo,includeInputInList:V=!1,limitTags:$=-1,ListboxComponent:L="ul",ListboxProps:N,loading:B=!1,loadingText:H="Loadingâ€¦",multiple:z=!1,noOptionsText:M="No options",openOnFocus:W=!1,openText:q="Open",PaperComponent:Y=gE,PopperComponent:K=AE,popupIcon:ie=r1||(r1=T.jsx(sR,{})),readOnly:te=!1,renderGroup:ae,renderInput:ue,renderOption:fe,renderTags:pe,selectOnFocus:Se=!s.freeSolo,size:Q="medium",slotProps:re={}}=s,de=pn(s,U$),{getRootProps:ve,getInputProps:ee,getInputLabelProps:me,getPopupIndicatorProps:Oe,getClearProps:we,getTagProps:Je,getListboxProps:at,getOptionProps:ce,value:ge,dirty:he,expanded:Pe,id:Be,popupOpen:Ne,focused:ot,focusedTag:st,anchorEl:Ke,setAnchorEl:Bt,inputValue:Fr,groupedOptions:vt}=V$(oe({},s,{componentName:"Autocomplete"})),Le=!S&&!x&&he&&!te,De=(!A||w===!0)&&w!==!1,{onMouseDown:We}=ee(),{ref:Qe}=N!=null?N:{},ft=at(),{ref:Et}=ft,At=pn(ft,G$),Sr=tc(Et,Qe),Mr=D||(_e=>{var He;return(He=_e.label)!=null?He:_e}),qe=oe({},s,{disablePortal:E,expanded:Pe,focused:ot,fullWidth:P,getOptionLabel:Mr,hasClearIcon:Le,hasPopupIcon:De,inputFocused:st===-1,popupOpen:Ne,size:Q}),lt=K$(qe);let cr;if(z&&ge.length>0){const _e=He=>oe({className:lt.tag,disabled:x},Je(He));pe?cr=pe(ge,_e,qe):cr=ge.map((He,_t)=>{const qt=_e({index:_t}),{key:Jr}=qt,Re=pn(qt,W$);return T.jsx(Zg,oe({label:Mr(He),size:Q},Re,d),Jr)})}if($>-1&&Array.isArray(cr)){const _e=cr.length-$;!ot&&_e>0&&(cr=cr.splice(0,$),cr.push(T.jsx("span",{className:lt.tag,children:F(_e)},cr.length)))}const Kr=ae||(_e=>T.jsxs("li",{children:[T.jsx(a2,{className:lt.groupLabel,ownerState:qe,component:"div",children:_e.group}),T.jsx(o2,{className:lt.groupUl,ownerState:qe,children:_e.children})]},_e.key)),dt=fe||((_e,He)=>{const{key:_t}=_e,qt=pn(_e,Y$);return T.jsx("li",oe({},qt,{children:Mr(He)}),_t)}),fr=(_e,He)=>{const _t=ce({option:_e,index:He});return dt(oe({},_t,{className:lt.option}),_e,{selected:_t["aria-selected"],index:He,inputValue:Fr},qe)},$t=(n=re.clearIndicator)!=null?n:_.clearIndicator,Lr=(i=re.paper)!=null?i:_.paper,rr=(a=re.popper)!=null?a:_.popper,ne=(o=re.popupIndicator)!=null?o:_.popupIndicator,Z=_e=>T.jsx(e2,oe({as:K,disablePortal:E,style:{width:Ke?Ke.clientWidth:null},ownerState:qe,role:"presentation",anchorEl:Ke,open:Ne},rr,{className:$r(lt.popper,rr==null?void 0:rr.className),children:T.jsx(t2,oe({ownerState:qe,as:Y},Lr,{className:$r(lt.paper,Lr==null?void 0:Lr.className),children:_e}))}));let be=null;return vt.length>0?be=Z(T.jsx(i2,oe({as:L,className:lt.listbox,ownerState:qe},At,N,{ref:Sr,children:vt.map((_e,He)=>R?Kr({key:_e.key,group:_e.group,children:_e.options.map((_t,qt)=>fr(_t,_e.index+qt))}):fr(_e,He))}))):B&&vt.length===0?be=Z(T.jsx(r2,{className:lt.loading,ownerState:qe,children:H})):vt.length===0&&!A&&!B&&(be=Z(T.jsx(n2,{className:lt.noOptions,ownerState:qe,role:"presentation",onMouseDown:_e=>{_e.preventDefault()},children:M}))),T.jsxs(J.Fragment,{children:[T.jsx(J$,oe({ref:r,className:$r(lt.root,p),ownerState:qe},ve(de),{children:ue({id:Be,disabled:x,fullWidth:!0,size:Q==="small"?"small":void 0,InputLabelProps:me(),InputProps:oe({ref:Bt,className:lt.inputRoot,startAdornment:cr,onClick:_e=>{_e.target===_e.currentTarget&&We(_e)}},(Le||De)&&{endAdornment:T.jsxs(Q$,{className:lt.endAdornment,ownerState:qe,children:[Le?T.jsx(X$,oe({},we(),{"aria-label":y,title:y,ownerState:qe},$t,{className:$r(lt.clearIndicator,$t==null?void 0:$t.className),children:v})):null,De?T.jsx(Z$,oe({},Oe(),{disabled:x,"aria-label":Ne?m:q,title:Ne?m:q,ownerState:qe},ne,{className:$r(lt.popupIndicator,ne==null?void 0:ne.className),children:ie})):null]})}),inputProps:oe({className:lt.input,disabled:x,readOnly:te},ee())})})),Ke?be:null]})}),l2=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],u2=(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(cn.grouped)]:e.grouped},{["& .".concat(cn.grouped)]:e["grouped".concat(kt(r.orientation))]},{["& .".concat(cn.grouped)]:e["grouped".concat(kt(r.variant))]},{["& .".concat(cn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.orientation))]},{["& .".concat(cn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.color))]},{["& .".concat(cn.firstButton)]:e.firstButton},{["& .".concat(cn.lastButton)]:e.lastButton},{["& .".concat(cn.middleButton)]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},c2=t=>{const{classes:e,color:r,disabled:n,disableElevation:i,fullWidth:a,orientation:o,variant:s}=t,l={root:["root",s,o==="vertical"&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(kt(o)),"grouped".concat(kt(s)),"grouped".concat(kt(s)).concat(kt(o)),"grouped".concat(kt(s)).concat(kt(r)),n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Sa(l,XR,e)},f2=Ut("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:u2})(({theme:t,ownerState:e})=>oe({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{["& .".concat(cn.grouped)]:oe({minWidth:40,"&:hover":oe({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),["& .".concat(cn.firstButton,",& .").concat(cn.middleButton)]:oe({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(cn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(cn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.5)"):hl(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(cn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(cn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":oe({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),["& .".concat(cn.lastButton,",& .").concat(cn.middleButton)]:oe({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),d2=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiButtonGroup"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:f=!1,fullWidth:d=!1,orientation:p="horizontal",size:v="medium",variant:h="outlined"}=n,g=pn(n,l2),y=oe({},n,{color:o,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,orientation:p,size:v,variant:h}),m=c2(y),_=J.useMemo(()=>({className:m.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,size:v,variant:h}),[o,l,u,c,f,d,v,h,m.grouped]),b=$$(i),S=b.length,O=x=>{const C=x===0,I=x===S-1;return C&&I?"":C?m.firstButton:I?m.lastButton:m.middleButton};return T.jsx(f2,oe({as:s,role:"group",className:$r(m.root,a),ref:r,ownerState:y},g,{children:T.jsx(lR.Provider,{value:_,children:b.map((x,C)=>T.jsx(uR.Provider,{value:O(C),children:x},C))})}))});function p2(t){return Tc("MuiDialogContentText",t)}kc("MuiDialogContentText",["root"]);const h2=["children","className"],v2=t=>{const{classes:e}=t,n=Sa({root:["root"]},p2,e);return oe({},e,n)},g2=Ut(Cn,{shouldForwardProp:t=>mE(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),m2=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=pn(n,h2),o=v2(a);return T.jsx(g2,oe({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:$r(o.root,i)},n,{classes:o}))}),y2=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],b2=t=>{const{color:e,variant:r,classes:n,size:i}=t,a={root:["root",r,"size".concat(kt(i)),e==="inherit"?"colorInherit":e]},o=Sa(a,ZR,n);return oe({},n,o)},_2=Ut(cR,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>mE(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e["size".concat(kt(r.size))],r.color==="inherit"&&e.colorInherit,e[kt(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return oe({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(Wb.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>oe({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({["&.".concat(Wb.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),$E=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiFab"}),{children:i,className:a,color:o="default",component:s="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:f="large",variant:d="circular"}=n,p=pn(n,y2),v=oe({},n,{color:o,component:s,disabled:l,disableFocusRipple:u,size:f,variant:d}),h=b2(v);return T.jsx(_2,oe({className:$r(h.root,a),component:s,disabled:l,focusRipple:!u,focusVisibleClassName:$r(h.focusVisible,c),ownerState:v,ref:r},p,{classes:h,children:i}))});function S2(t){return Tc("MuiIcon",t)}kc("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const O2=["baseClassName","className","color","component","fontSize"],x2=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&"color".concat(kt(e)),"fontSize".concat(kt(r))]};return Sa(i,S2,n)},w2=Ut("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e["color".concat(kt(r.color))],e["fontSize".concat(kt(r.fontSize))]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:(t.vars||t).palette.primary.main,secondary:(t.vars||t).palette.secondary.main,info:(t.vars||t).palette.info.main,success:(t.vars||t).palette.success.main,warning:(t.vars||t).palette.warning.main,action:(t.vars||t).palette.action.active,error:(t.vars||t).palette.error.main,disabled:(t.vars||t).palette.action.disabled,inherit:void 0}[e.color]})),NE=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiIcon"}),{baseClassName:i="material-icons",className:a,color:o="inherit",component:s="span",fontSize:l="medium"}=n,u=pn(n,O2),c=oe({},n,{baseClassName:i,color:o,component:s,fontSize:l}),f=x2(c);return T.jsx(w2,oe({as:s,className:$r(i,"notranslate",f.root,a),ownerState:c,"aria-hidden":!0,ref:r},u))});NE.muiName="Icon";const E2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],C2=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return Sa({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},dR,e)},T2=Ut("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(Hb.primary)]:e.primary},{["& .".concat(Hb.secondary)]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>oe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),am=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,d=pn(n,E2),{dense:p}=J.useContext(fR);let v=l!=null?l:i,h=c;const g=oe({},n,{disableTypography:o,inset:s,primary:!!v,secondary:!!h,dense:p}),y=C2(g);return v!=null&&v.type!==Cn&&!o&&(v=T.jsx(Cn,oe({variant:p?"body2":"body1",className:y.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:v}))),h!=null&&h.type!==Cn&&!o&&(h=T.jsx(Cn,oe({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},f,{children:h}))),T.jsxs(T2,oe({className:$r(y.root,a),ownerState:g,ref:r},d,{children:[v,h]}))});function k2(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const I2=2;function DE(t,e){return t-e}function n1(t,e){var r;const{index:n}=(r=t.reduce((i,a,o)=>{const s=Math.abs(e-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:o}:i},null))!=null?r:{};return n}function Sf(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function md(t,e,r){return(t-e)*100/(r-e)}function A2(t,e,r){return(r-e)*t+e}function j2(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function P2(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(j2(e)))}function i1({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(DE)}function Of({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const a=ed(t.current);if(!((n=t.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector('[type="range"][data-index="'.concat(e,'"]')).focus()}r&&r(e)}function xf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?k2(t,e):!1}const F2={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},L2=t=>t;let wf;function a1(){return wf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?wf=CSS.supports("touch-action","none"):wf=!0),wf}function R2(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:f,orientation:d="horizontal",rootRef:p,scale:v=L2,step:h=1,shiftStep:g=10,tabIndex:y,value:m}=t,_=J.useRef(),[b,S]=J.useState(-1),[O,x]=J.useState(-1),[C,I]=J.useState(!1),E=J.useRef(0),[k,w]=Bu({controlled:m,default:r!=null?r:l,name:"Slider"}),A=c&&((ce,ge,he)=>{const Pe=ce.nativeEvent||ce,Be=new Pe.constructor(Pe.type,Pe);Object.defineProperty(Be,"target",{writable:!0,value:{value:ge,name:u}}),c(Be,ge,he)}),P=Array.isArray(k);let F=P?k.slice().sort(DE):[k];F=F.map(ce=>ce==null?l:Us(ce,l,s));const D=o===!0&&h!==null?[...Array(Math.floor((s-l)/h)+1)].map((ce,ge)=>({value:l+h*ge})):o||[],R=D.map(ce=>ce.value),{isFocusVisibleRef:G,onBlur:V,onFocus:$,ref:L}=pR(),[N,B]=J.useState(-1),H=J.useRef(),z=tc(L,H),M=tc(p,z),W=ce=>ge=>{var he;const Pe=Number(ge.currentTarget.getAttribute("data-index"));$(ge),G.current===!0&&B(Pe),x(Pe),ce==null||(he=ce.onFocus)==null||he.call(ce,ge)},q=ce=>ge=>{var he;V(ge),G.current===!1&&B(-1),x(-1),ce==null||(he=ce.onBlur)==null||he.call(ce,ge)},Y=(ce,ge)=>{const he=Number(ce.currentTarget.getAttribute("data-index")),Pe=F[he],Be=R.indexOf(Pe);let Ne=ge;if(D&&h==null){const ot=R[R.length-1];Ne>ot?Ne=ot:Ne<R[0]?Ne=R[0]:Ne=Ne<Pe?R[Be-1]:R[Be+1]}if(Ne=Us(Ne,l,s),P){i&&(Ne=Us(Ne,F[he-1]||-1/0,F[he+1]||1/0));const ot=Ne;Ne=i1({values:F,newValue:Ne,index:he});let st=he;i||(st=Ne.indexOf(ot)),Of({sliderRef:H,activeIndex:st})}w(Ne),B(he),A&&!xf(Ne,k)&&A(ce,Ne,he),f&&f(ce,Ne)},K=ce=>ge=>{var he;if(h!==null){const Pe=Number(ge.currentTarget.getAttribute("data-index")),Be=F[Pe];let Ne=null;(ge.key==="ArrowLeft"||ge.key==="ArrowDown")&&ge.shiftKey||ge.key==="PageDown"?Ne=Math.max(Be-g,l):((ge.key==="ArrowRight"||ge.key==="ArrowUp")&&ge.shiftKey||ge.key==="PageUp")&&(Ne=Math.min(Be+g,s)),Ne!==null&&(Y(ge,Ne),ge.preventDefault())}ce==null||(he=ce.onKeyDown)==null||he.call(ce,ge)};hR(()=>{if(n&&H.current.contains(document.activeElement)){var ce;(ce=document.activeElement)==null||ce.blur()}},[n]),n&&b!==-1&&S(-1),n&&N!==-1&&B(-1);const ie=ce=>ge=>{var he;(he=ce.onChange)==null||he.call(ce,ge),Y(ge,ge.target.valueAsNumber)},te=J.useRef();let ae=d;a&&d==="horizontal"&&(ae+="-reverse");const ue=({finger:ce,move:ge=!1})=>{const{current:he}=H,{width:Pe,height:Be,bottom:Ne,left:ot}=he.getBoundingClientRect();let st;ae.indexOf("vertical")===0?st=(Ne-ce.y)/Be:st=(ce.x-ot)/Pe,ae.indexOf("-reverse")!==-1&&(st=1-st);let Ke;if(Ke=A2(st,l,s),h)Ke=P2(Ke,h,l);else{const Fr=n1(R,Ke);Ke=R[Fr]}Ke=Us(Ke,l,s);let Bt=0;if(P){ge?Bt=te.current:Bt=n1(F,Ke),i&&(Ke=Us(Ke,F[Bt-1]||-1/0,F[Bt+1]||1/0));const Fr=Ke;Ke=i1({values:F,newValue:Ke,index:Bt}),i&&ge||(Bt=Ke.indexOf(Fr),te.current=Bt)}return{newValue:Ke,activeIndex:Bt}},fe=Go(ce=>{const ge=Sf(ce,_);if(!ge)return;if(E.current+=1,ce.type==="mousemove"&&ce.buttons===0){pe(ce);return}const{newValue:he,activeIndex:Pe}=ue({finger:ge,move:!0});Of({sliderRef:H,activeIndex:Pe,setActive:S}),w(he),!C&&E.current>I2&&I(!0),A&&!xf(he,k)&&A(ce,he,Pe)}),pe=Go(ce=>{const ge=Sf(ce,_);if(I(!1),!ge)return;const{newValue:he}=ue({finger:ge,move:!0});S(-1),ce.type==="touchend"&&x(-1),f&&f(ce,he),_.current=void 0,Q()}),Se=Go(ce=>{if(n)return;a1()||ce.preventDefault();const ge=ce.changedTouches[0];ge!=null&&(_.current=ge.identifier);const he=Sf(ce,_);if(he!==!1){const{newValue:Be,activeIndex:Ne}=ue({finger:he});Of({sliderRef:H,activeIndex:Ne,setActive:S}),w(Be),A&&!xf(Be,k)&&A(ce,Be,Ne)}E.current=0;const Pe=ed(H.current);Pe.addEventListener("touchmove",fe,{passive:!0}),Pe.addEventListener("touchend",pe,{passive:!0})}),Q=J.useCallback(()=>{const ce=ed(H.current);ce.removeEventListener("mousemove",fe),ce.removeEventListener("mouseup",pe),ce.removeEventListener("touchmove",fe),ce.removeEventListener("touchend",pe)},[pe,fe]);J.useEffect(()=>{const{current:ce}=H;return ce.addEventListener("touchstart",Se,{passive:a1()}),()=>{ce.removeEventListener("touchstart",Se),Q()}},[Q,Se]),J.useEffect(()=>{n&&Q()},[n,Q]);const re=ce=>ge=>{var he;if((he=ce.onMouseDown)==null||he.call(ce,ge),n||ge.defaultPrevented||ge.button!==0)return;ge.preventDefault();const Pe=Sf(ge,_);if(Pe!==!1){const{newValue:Ne,activeIndex:ot}=ue({finger:Pe});Of({sliderRef:H,activeIndex:ot,setActive:S}),w(Ne),A&&!xf(Ne,k)&&A(ge,Ne,ot)}E.current=0;const Be=ed(H.current);Be.addEventListener("mousemove",fe,{passive:!0}),Be.addEventListener("mouseup",pe)},de=md(P?F[0]:l,l,s),ve=md(F[F.length-1],l,s)-de,ee=(ce={})=>{const ge=Eh(ce),he={onMouseDown:re(ge||{})},Pe=oe({},ge,he);return oe({},ce,{ref:M},Pe)},me=ce=>ge=>{var he;(he=ce.onMouseOver)==null||he.call(ce,ge);const Pe=Number(ge.currentTarget.getAttribute("data-index"));x(Pe)},Oe=ce=>ge=>{var he;(he=ce.onMouseLeave)==null||he.call(ce,ge),x(-1)};return{active:b,axis:ae,axisProps:F2,dragging:C,focusedThumbIndex:N,getHiddenInputProps:(ce={})=>{var ge;const he=Eh(ce),Pe={onChange:ie(he||{}),onFocus:W(he||{}),onBlur:q(he||{}),onKeyDown:K(he||{})},Be=oe({},he,Pe);return oe({tabIndex:y,"aria-labelledby":e,"aria-orientation":d,"aria-valuemax":v(s),"aria-valuemin":v(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ge=t.step)!=null?ge:void 0,disabled:n},ce,Be,{style:oe({},N$,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:ee,getThumbProps:(ce={})=>{const ge=Eh(ce),he={onMouseOver:me(ge||{}),onMouseLeave:Oe(ge||{})};return oe({},ce,ge,he)},marks:D,open:O,range:P,rootRef:M,trackLeap:ve,trackOffset:de,values:F,getThumbStyle:ce=>({pointerEvents:b!==-1&&b!==ce?"none":void 0})}}const $2=t=>!t||!td(t),N2=t=>{const{open:e}=t;return{offset:$r(e&&di.valueLabelOpen),circle:di.valueLabelCircle,label:di.valueLabelLabel}};function D2(t){const{children:e,className:r,value:n}=t,i=N2(t);return e?J.cloneElement(e,{className:$r(e.props.className)},T.jsxs(J.Fragment,{children:[e.props.children,T.jsx("span",{className:$r(i.offset,r),"aria-hidden":!0,children:T.jsx("span",{className:i.circle,children:T.jsx("span",{className:i.label,children:n})})})]})):null}const M2=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function o1(t){return t}const V2=Ut("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["color".concat(kt(r.color))],r.size!=="medium"&&e["size".concat(kt(r.size))],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(di.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(di.dragging)]:{["& .".concat(di.thumb,", & .").concat(di.track)]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),B2=Ut("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),q2=Ut("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:oe({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(r,"Track")],borderColor:t.vars.palette.Slider["".concat(r,"Track")]}:oe({backgroundColor:Bb(t.palette[r].main,.62),borderColor:Bb(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:qb(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:qb(t.palette[r].main,.5)})))}))]}}),z2=Ut("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e["thumbColor".concat(kt(r.color))],r.size!=="medium"&&e["thumbSize".concat(kt(r.size))]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(di.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{["&:hover, &.".concat(di.focusVisible)]:oe({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat(hl(t.palette[r].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(di.active)]:oe({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat(hl(t.palette[r].main,.16))})}}))]}}),H2=Ut(D2,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>oe({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(di.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(di.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),U2=Ut("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>yE(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),G2=Ut("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>yE(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>oe({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),W2=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:o,color:s,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&"color".concat(kt(s)),l&&"size".concat(kt(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat(kt(l)),s&&"thumbColor".concat(kt(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Sa(u,e$,o)},Y2=({children:t})=>t,ME=J.forwardRef(function(e,r){var n,i,a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b,S,O,x,C,I,E;const k=_a({props:e,name:"MuiSlider"}),w=vR(),{"aria-label":A,"aria-valuetext":P,"aria-labelledby":F,component:D="span",components:R={},componentsProps:G={},color:V="primary",classes:$,className:L,disableSwap:N=!1,disabled:B=!1,getAriaLabel:H,getAriaValueText:z,marks:M=!1,max:W=100,min:q=0,orientation:Y="horizontal",shiftStep:K=10,size:ie="medium",step:te=1,scale:ae=o1,slotProps:ue,slots:fe,track:pe="normal",valueLabelDisplay:Se="off",valueLabelFormat:Q=o1}=k,re=pn(k,M2),de=oe({},k,{isRtl:w,max:W,min:q,classes:$,disabled:B,disableSwap:N,orientation:Y,marks:M,color:V,size:ie,step:te,shiftStep:K,scale:ae,track:pe,valueLabelDisplay:Se,valueLabelFormat:Q}),{axisProps:ve,getRootProps:ee,getHiddenInputProps:me,getThumbProps:Oe,open:we,active:Je,axis:at,focusedThumbIndex:ce,range:ge,dragging:he,marks:Pe,values:Be,trackOffset:Ne,trackLeap:ot,getThumbStyle:st}=R2(oe({},de,{rootRef:r}));de.marked=Pe.length>0&&Pe.some(ne=>ne.label),de.dragging=he,de.focusedThumbIndex=ce;const Ke=W2(de),Bt=(n=(i=fe==null?void 0:fe.root)!=null?i:R.Root)!=null?n:V2,Fr=(a=(o=fe==null?void 0:fe.rail)!=null?o:R.Rail)!=null?a:B2,vt=(s=(l=fe==null?void 0:fe.track)!=null?l:R.Track)!=null?s:q2,Le=(u=(c=fe==null?void 0:fe.thumb)!=null?c:R.Thumb)!=null?u:z2,De=(f=(d=fe==null?void 0:fe.valueLabel)!=null?d:R.ValueLabel)!=null?f:H2,We=(p=(v=fe==null?void 0:fe.mark)!=null?v:R.Mark)!=null?p:U2,Qe=(h=(g=fe==null?void 0:fe.markLabel)!=null?g:R.MarkLabel)!=null?h:G2,ft=(y=(m=fe==null?void 0:fe.input)!=null?m:R.Input)!=null?y:"input",Et=(_=ue==null?void 0:ue.root)!=null?_:G.root,At=(b=ue==null?void 0:ue.rail)!=null?b:G.rail,Sr=(S=ue==null?void 0:ue.track)!=null?S:G.track,Rt=(O=ue==null?void 0:ue.thumb)!=null?O:G.thumb,Mr=(x=ue==null?void 0:ue.valueLabel)!=null?x:G.valueLabel,qe=(C=ue==null?void 0:ue.mark)!=null?C:G.mark,lt=(I=ue==null?void 0:ue.markLabel)!=null?I:G.markLabel,cr=(E=ue==null?void 0:ue.input)!=null?E:G.input,Yr=Za({elementType:Bt,getSlotProps:ee,externalSlotProps:Et,externalForwardedProps:re,additionalProps:oe({},$2(Bt)&&{as:D}),ownerState:oe({},de,Et==null?void 0:Et.ownerState),className:[Ke.root,L]}),Kr=Za({elementType:Fr,externalSlotProps:At,ownerState:de,className:Ke.rail}),mt=Za({elementType:vt,externalSlotProps:Sr,additionalProps:{style:oe({},ve[at].offset(Ne),ve[at].leap(ot))},ownerState:oe({},de,Sr==null?void 0:Sr.ownerState),className:Ke.track}),dt=Za({elementType:Le,getSlotProps:Oe,externalSlotProps:Rt,ownerState:oe({},de,Rt==null?void 0:Rt.ownerState),className:Ke.thumb}),fr=Za({elementType:De,externalSlotProps:Mr,ownerState:oe({},de,Mr==null?void 0:Mr.ownerState),className:Ke.valueLabel}),$t=Za({elementType:We,externalSlotProps:qe,ownerState:de,className:Ke.mark}),Lr=Za({elementType:Qe,externalSlotProps:lt,ownerState:de,className:Ke.markLabel}),rr=Za({elementType:ft,getSlotProps:me,externalSlotProps:cr,ownerState:de});return T.jsxs(Bt,oe({},Yr,{children:[T.jsx(Fr,oe({},Kr)),T.jsx(vt,oe({},mt)),Pe.filter(ne=>ne.value>=q&&ne.value<=W).map((ne,Z)=>{const be=md(ne.value,q,W),_e=ve[at].offset(be);let He;return pe===!1?He=Be.indexOf(ne.value)!==-1:He=pe==="normal"&&(ge?ne.value>=Be[0]&&ne.value<=Be[Be.length-1]:ne.value<=Be[0])||pe==="inverted"&&(ge?ne.value<=Be[0]||ne.value>=Be[Be.length-1]:ne.value>=Be[0]),T.jsxs(J.Fragment,{children:[T.jsx(We,oe({"data-index":Z},$t,!td(We)&&{markActive:He},{style:oe({},_e,$t.style),className:$r($t.className,He&&Ke.markActive)})),ne.label!=null?T.jsx(Qe,oe({"aria-hidden":!0,"data-index":Z},Lr,!td(Qe)&&{markLabelActive:He},{style:oe({},_e,Lr.style),className:$r(Ke.markLabel,Lr.className,He&&Ke.markLabelActive),children:ne.label})):null]},Z)}),Be.map((ne,Z)=>{const be=md(ne,q,W),_e=ve[at].offset(be),He=Se==="off"?Y2:De;return T.jsx(He,oe({},!td(He)&&{valueLabelFormat:Q,valueLabelDisplay:Se,value:typeof Q=="function"?Q(ae(ne),Z):Q,index:Z,open:we===Z||Je===Z||Se==="on",disabled:B},fr,{children:T.jsx(Le,oe({"data-index":Z},dt,{className:$r(Ke.thumb,dt.className,Je===Z&&Ke.active,ce===Z&&Ke.focusVisible),style:oe({},_e,st(Z),dt.style),children:T.jsx(ft,oe({"data-index":Z,"aria-label":H?H(Z):A,"aria-valuenow":ae(ne),"aria-labelledby":F,"aria-valuetext":z?z(ae(ne),Z):P,value:Be[Z]},rr))}))}),Z)})]}))}),K2=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],J2={entering:{transform:"none"},entered:{transform:"none"}},Q2=J.forwardRef(function(e,r){const n=Pr(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,easing:l,in:u,onEnter:c,onEntered:f,onEntering:d,onExit:p,onExited:v,onExiting:h,style:g,timeout:y=i,TransitionComponent:m=gR}=e,_=pn(e,K2),b=J.useRef(null),S=tc(b,s.ref,r),O=P=>F=>{if(P){const D=b.current;F===void 0?P(D):P(D,F)}},x=O(d),C=O((P,F)=>{mR(P);const D=Ub({style:g,timeout:y,easing:l},{mode:"enter"});P.style.webkitTransition=n.transitions.create("transform",D),P.style.transition=n.transitions.create("transform",D),c&&c(P,F)}),I=O(f),E=O(h),k=O(P=>{const F=Ub({style:g,timeout:y,easing:l},{mode:"exit"});P.style.webkitTransition=n.transitions.create("transform",F),P.style.transition=n.transitions.create("transform",F),p&&p(P)}),w=O(v),A=P=>{a&&a(b.current,P)};return T.jsx(m,oe({appear:o,in:u,nodeRef:b,onEnter:C,onEntered:I,onEntering:x,onExit:k,onExited:w,onExiting:E,addEndListener:A,timeout:y},_,{children:(P,F)=>J.cloneElement(s,oe({style:oe({transform:"scale(0)",visibility:P==="exited"&&!u?"hidden":void 0},J2[P],g,s.props.style),ref:S},F))}))});function X2(t){return Tc("MuiSpeedDial",t)}const Ef=kc("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),Z2=["ref"],eN=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],tN=["ref"],rN=t=>{const{classes:e,open:r,direction:n}=t,i={root:["root","direction".concat(kt(n))],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Sa(i,X2,e)};function Su(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const eo=32,Cf=16,nN=Ut("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["direction".concat(kt(r.direction))]]}})(({theme:t,ownerState:e})=>oe({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",["& .".concat(Ef.actions)]:{flexDirection:"column-reverse",marginBottom:-eo,paddingBottom:Cf+eo}},e.direction==="down"&&{flexDirection:"column",["& .".concat(Ef.actions)]:{flexDirection:"column",marginTop:-eo,paddingTop:Cf+eo}},e.direction==="left"&&{flexDirection:"row-reverse",["& .".concat(Ef.actions)]:{flexDirection:"row-reverse",marginRight:-eo,paddingRight:Cf+eo}},e.direction==="right"&&{flexDirection:"row",["& .".concat(Ef.actions)]:{flexDirection:"row",marginLeft:-eo,paddingLeft:Cf+eo}})),iN=Ut($E,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),aN=Ut("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})(({ownerState:t})=>oe({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),oN=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiSpeedDial"}),i=Pr(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:s}={},children:l,className:u,direction:c="up",hidden:f=!1,icon:d,onBlur:p,onClose:v,onFocus:h,onKeyDown:g,onMouseEnter:y,onMouseLeave:m,onOpen:_,open:b,TransitionComponent:S=Q2,transitionDuration:O=a,TransitionProps:x}=n,C=pn(n.FabProps,Z2),I=pn(n,eN),[E,k]=Bu({controlled:b,default:!1,name:"SpeedDial",state:"open"}),w=oe({},n,{open:E,direction:c}),A=rN(w),P=yR(),F=J.useRef(0),D=J.useRef(),R=J.useRef([]);R.current=[R.current[0]];const G=J.useCallback(q=>{R.current[0]=q},[]),V=tc(s,G),$=(q,Y)=>K=>{R.current[q+1]=K,Y&&Y(K)},L=q=>{g&&g(q);const Y=q.key.replace("Arrow","").toLowerCase(),{current:K=Y}=D;if(q.key==="Escape"){k(!1),R.current[0].focus(),v&&v(q,"escapeKeyDown");return}if(Su(Y)===Su(K)&&Su(Y)!==void 0){q.preventDefault();const ie=Y===K?1:-1,te=Us(F.current+ie,0,R.current.length-1);R.current[te].focus(),F.current=te,D.current=K}};J.useEffect(()=>{E||(F.current=0,D.current=void 0)},[E]);const N=q=>{q.type==="mouseleave"&&m&&m(q),q.type==="blur"&&p&&p(q),P.clear(),q.type==="blur"?P.start(0,()=>{k(!1),v&&v(q,"blur")}):(k(!1),v&&v(q,"mouseLeave"))},B=q=>{C.onClick&&C.onClick(q),P.clear(),E?(k(!1),v&&v(q,"toggle")):(k(!0),_&&_(q,"toggle"))},H=q=>{q.type==="mouseenter"&&y&&y(q),q.type==="focus"&&h&&h(q),P.clear(),E||P.start(0,()=>{k(!0),_&&_(q,{focus:"focus",mouseenter:"mouseEnter"}[q.type])})},z=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),M=J.Children.toArray(l).filter(q=>J.isValidElement(q)),W=M.map((q,Y)=>{const K=q.props,{FabProps:{ref:ie}={},tooltipPlacement:te}=K,ae=pn(K.FabProps,tN),ue=te||(Su(c)==="vertical"?"left":"top");return J.cloneElement(q,{FabProps:oe({},ae,{ref:$(Y,ie)}),delay:30*(E?Y:M.length-Y),open:E,tooltipPlacement:ue,id:"".concat(z,"-action-").concat(Y)})});return T.jsxs(nN,oe({className:$r(A.root,u),ref:r,role:"presentation",onKeyDown:L,onBlur:N,onFocus:H,onMouseEnter:H,onMouseLeave:N,ownerState:w},I,{children:[T.jsx(S,oe({in:!f,timeout:O,unmountOnExit:!0},x,{children:T.jsx(iN,oe({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":E,"aria-controls":"".concat(z,"-actions")},C,{onClick:B,className:$r(A.fab,C.className),ref:V,ownerState:w,children:J.isValidElement(d)&&bR(d,["SpeedDialIcon"])?J.cloneElement(d,{open:E}):d}))})),T.jsx(aN,{id:"".concat(z,"-actions"),role:"menu","aria-orientation":Su(c),className:$r(A.actions,!E&&A.actionsClosed),ownerState:w,children:W})]}))});function sN(t){return Tc("MuiSpeedDialAction",t)}const lN=kc("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),uN=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],cN=t=>{const{open:e,tooltipPlacement:r,classes:n}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip","tooltipPlacement".concat(kt(r)),!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Sa(i,sN,n)},fN=Ut($E,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>oe({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:JL(t.palette.background.paper,.15)},transition:"".concat(t.transitions.create("transform",{duration:t.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),dN=Ut("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e["tooltipPlacement".concat(kt(r.tooltipPlacement))]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",["& .".concat(lN.staticTooltipLabel)]:oe({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),pN=Ut("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>oe({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),hN=J.forwardRef(function(e,r){const n=_a({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:a=0,FabProps:o={},icon:s,id:l,open:u,TooltipClasses:c,tooltipOpen:f=!1,tooltipPlacement:d="left",tooltipTitle:p}=n,v=pn(n,uN),h=oe({},n,{tooltipPlacement:d}),g=cN(h),[y,m]=J.useState(f),_=()=>{m(!1)},b=()=>{m(!0)},S={transitionDelay:"".concat(a,"ms")},O=T.jsx(fN,oe({size:"small",className:$r(g.fab,i),tabIndex:-1,role:"menuitem",ownerState:h},o,{style:oe({},S,o.style),children:s}));return f?T.jsxs(dN,oe({id:l,ref:r,className:g.staticTooltip,ownerState:h},v,{children:[T.jsx(pN,{style:S,id:"".concat(l,"-label"),className:g.staticTooltipLabel,ownerState:h,children:p}),J.cloneElement(O,{"aria-labelledby":"".concat(l,"-label")})]})):(!u&&y&&m(!1),T.jsx(vl,oe({id:l,ref:r,title:p,placement:d,onClose:_,onOpen:b,open:u&&y,classes:c},v,{children:O})))});function vN(t){const r=_R().getMonitor(),[n,i]=SR(r,t);return J.useEffect(()=>r.subscribeToOffsetChange(i)),J.useEffect(()=>r.subscribeToStateChange(i)),n}const gN=Qg(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),mN=Qg(T.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),yN=Qg(T.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),bN="_noPadding_1ii70_1",_N="_addRow_1ii70_5",SN="_addColumn_1ii70_9",ON="_addIcon_1ii70_13",xN="_svgContainer_1ii70_23",wN="_addButton_1ii70_31",Hu={noPadding:bN,addRow:_N,addColumn:SN,addIcon:ON,svgContainer:xN,addButton:wN},EN="_mainContainer_as1f9_1",CN="_updateButtons_as1f9_5",TN="_save_as1f9_14",kN="_header_as1f9_18",s1={mainContainer:EN,updateButtons:CN,save:TN,header:kN},IN="_groupEmptyHint_1pku9_2",AN="_groupEmptyHintHover_1pku9_14",jN="_footer_1pku9_18",PN="_contentPanel_1pku9_22",FN="_cardImage_1pku9_30",LN="_customScrollBar_1pku9_38",RN="_virtuosoStyle_1pku9_42",$N="_cardMediaContent_1pku9_47",NN="_buttonContainer_1pku9_55",DN="_button_1pku9_55",Ou={groupEmptyHint:IN,groupEmptyHintHover:AN,footer:jN,contentPanel:PN,cardImage:FN,customScrollBar:LN,virtuosoStyle:RN,cardMediaContent:$N,buttonContainer:NN,button:DN},MN="_errorDisplay_1joy4_1",VN="_clickable_1joy4_10",l1={errorDisplay:MN,clickable:VN};var om={},BN=Cr;Object.defineProperty(om,"__esModule",{value:!0});var VE=om.default=void 0,qN=BN(Tr()),zN=T;VE=om.default=(0,qN.default)((0,zN.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");function HN(t){const{t:e}=ss("design"),r=wt(),i=wE([d=>d.designState[t.code]||{}],d=>{var v;const p=(v=d.instructionList)==null?void 0:v.filter(h=>{var g;return((g=h.errors)==null?void 0:g.length)>0});return{errors:d.errors,designErrors:d.designErrors,instructions:p!=null&&p.length?p:void 0}}),{errors:a,designErrors:o,instructions:s}=ye(i),l=(a==null?void 0:a.length)>0||(o==null?void 0:o.length)>0||(s==null?void 0:s.length)>0,u=ye(d=>{var p;return t.code=="Survey"?"":Ui(t.code)?((p=d.designState[t.code].groupType)==null?void 0:p.toLowerCase())||"group":d.designState[t.code].type}),c=d=>(d.code==="conditional_relevance"?r(Li({code:t.code,rules:Da(u),highlighted:"relevance",expanded:["relevance"]})):d.code==="random_group"||d.code==="priority_groups"?t.code=="Survey"?r(Li({...OR,highlighted:"random"})):r(Li({code:t.code,rules:Da(u),highlighted:"random",expanded:["random"]})):d.code.startsWith("skip_to")&&r(Li({code:t.code,rules:Da(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""),f=d=>d.code==="conditional_relevance"||d.code==="random_group"||d.code==="priority_groups"||d.code.startsWith("skip_to");return l?T.jsxs(ht,{className:l1.errorDisplay,children:[a&&a.map(d=>T.jsxs("div",{children:[T.jsx(pi,{style:{verticalAlign:"middle"}}),UN(t.code,d,e)]},d)),o&&o.map(d=>T.jsxs("div",{children:[T.jsx(pi,{style:{verticalAlign:"middle"}}),d.message]},d.code)),s&&s.map(d=>T.jsxs("div",{className:f(d)?l1.clickable:"",onClick:()=>c(d),children:[T.jsx(VE,{style:{verticalAlign:"middle"}}),GN(d,e)]},d.code))]}):T.jsx(T.Fragment,{})}const UN=(t,e,r)=>e==="EMPTY_PARENT"?r("err_empty_parent",{component_name:u1(t,r),child_name:WN(t,r)}):e==="DUPLICATE_CODE"?(r("err_duplicate_code"),{component_name:u1(t,r)}):e==="NO_END_GROUP"?r("err_no_end_group"):e==="MISPLACED_END_GROUP"?r("err_misplaced_end_group"):e==="MISPLACED_WELCOME_GROUP"?r("err_misplaced_welcome_group"):"",GN=(t,e)=>t.code==="value"&&t.errors[0].name=="InvalidInstructionInEndGroup"?e("err_value_in_end_group"):t.code==="conditional_relevance"?e("err_relevance"):t.code==="random_group"?e("err_random"):t.code==="priority_groups"?e("err_priority"):t.code.startsWith("reference")?T.jsx(la,{t:e,values:{codes:t.errors.map(r=>{var n;return(n=r.dependency)==null?void 0:n.componentCode}).join(", "),lang:t.lang},i18nKey:"err_reference"}):t.code.startsWith("skip_to")?e("err_skip"):"",u1=(t,e)=>t=="Survey"?e("survey"):ls(t)?e("question"):Ui(t)?e("group"):e("option"),WN=(t,e)=>Ui(t)?e("question"):t=="Survey"?e("group"):e("option"),sm=J.memo(HN);var lm={},YN=Cr;Object.defineProperty(lm,"__esModule",{value:!0});var um=lm.default=void 0,KN=YN(Tr()),JN=T;um=lm.default=(0,KN.default)((0,JN.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const QN="_textDescriptionContent_o9cn8_1",XN="_moveBox_o9cn8_7",ZN="_groupQuestion_o9cn8_13",eD="_titleContainer_o9cn8_22",tD="_titleQuestion_o9cn8_29",rD="_iconBox_o9cn8_39",nD="_actionToolbarVisible_o9cn8_59",iD="_fadeInMoveRight_o9cn8_1",aD="_contentContainer_o9cn8_64",to={textDescriptionContent:QN,moveBox:XN,groupQuestion:ZN,titleContainer:eD,titleQuestion:tD,iconBox:rD,actionToolbarVisible:nD,fadeInMoveRight:iD,contentContainer:aD},oD="_fullWidth_1dvff_1",sD="_toolbarClass_1dvff_6",lD="_noPadding_1dvff_12",uD="_placeholder_1dvff_25",Ph={fullWidth:oD,toolbarClass:sD,"rdw-editor-toolbar":"_rdw-editor-toolbar_1dvff_6",noPadding:lD,placeholder:uD};function cD(){this.__data__=[],this.size=0}var fD=cD;function dD(t,e){return t===e||t!==t&&e!==e}var Ic=dD,pD=Ic;function hD(t,e){for(var r=t.length;r--;)if(pD(t[r][0],e))return r;return-1}var cp=hD,vD=cp,gD=Array.prototype,mD=gD.splice;function yD(t){var e=this.__data__,r=vD(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mD.call(e,r,1),--this.size,!0}var bD=yD,_D=cp;function SD(t){var e=this.__data__,r=_D(e,t);return r<0?void 0:e[r][1]}var OD=SD,xD=cp;function wD(t){return xD(this.__data__,t)>-1}var ED=wD,CD=cp;function TD(t,e){var r=this.__data__,n=CD(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var kD=TD,ID=fD,AD=bD,jD=OD,PD=ED,FD=kD;function Dl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dl.prototype.clear=ID;Dl.prototype.delete=AD;Dl.prototype.get=jD;Dl.prototype.has=PD;Dl.prototype.set=FD;var fp=Dl,LD=fp;function RD(){this.__data__=new LD,this.size=0}var $D=RD;function ND(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var DD=ND;function MD(t){return this.__data__.get(t)}var VD=MD;function BD(t){return this.__data__.has(t)}var qD=BD,zD=typeof An=="object"&&An&&An.Object===Object&&An,BE=zD,HD=BE,UD=typeof self=="object"&&self&&self.Object===Object&&self,GD=HD||UD||Function("return this")(),Yi=GD,WD=Yi,YD=WD.Symbol,Ml=YD,c1=Ml,qE=Object.prototype,KD=qE.hasOwnProperty,JD=qE.toString,xu=c1?c1.toStringTag:void 0;function QD(t){var e=KD.call(t,xu),r=t[xu];try{t[xu]=void 0;var n=!0}catch(a){}var i=JD.call(t);return n&&(e?t[xu]=r:delete t[xu]),i}var XD=QD,ZD=Object.prototype,eM=ZD.toString;function tM(t){return eM.call(t)}var rM=tM,f1=Ml,nM=XD,iM=rM,aM="[object Null]",oM="[object Undefined]",d1=f1?f1.toStringTag:void 0;function sM(t){return t==null?t===void 0?oM:aM:d1&&d1 in Object(t)?nM(t):iM(t)}var fs=sM;function lM(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ei=lM,uM=fs,cM=Ei,fM="[object AsyncFunction]",dM="[object Function]",pM="[object GeneratorFunction]",hM="[object Proxy]";function vM(t){if(!cM(t))return!1;var e=uM(t);return e==dM||e==pM||e==fM||e==hM}var cm=vM,gM=Yi,mM=gM["__core-js_shared__"],yM=mM,Fh=yM,p1=function(){var t=/[^.]+$/.exec(Fh&&Fh.keys&&Fh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bM(t){return!!p1&&p1 in t}var _M=bM,SM=Function.prototype,OM=SM.toString;function xM(t){if(t!=null){try{return OM.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var zE=xM,wM=cm,EM=_M,CM=Ei,TM=zE,kM=/[\\^$.*+?()[\]{}|]/g,IM=/^\[object .+?Constructor\]$/,AM=Function.prototype,jM=Object.prototype,PM=AM.toString,FM=jM.hasOwnProperty,LM=RegExp("^"+PM.call(FM).replace(kM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RM(t){if(!CM(t)||EM(t))return!1;var e=wM(t)?LM:IM;return e.test(TM(t))}var $M=RM;function NM(t,e){return t==null?void 0:t[e]}var DM=NM,MM=$M,VM=DM;function BM(t,e){var r=VM(t,e);return MM(r)?r:void 0}var ds=BM,qM=ds,zM=Yi,HM=qM(zM,"Map"),fm=HM,UM=ds,GM=UM(Object,"create"),dp=GM,h1=dp;function WM(){this.__data__=h1?h1(null):{},this.size=0}var YM=WM;function KM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JM=KM,QM=dp,XM="__lodash_hash_undefined__",ZM=Object.prototype,eV=ZM.hasOwnProperty;function tV(t){var e=this.__data__;if(QM){var r=e[t];return r===XM?void 0:r}return eV.call(e,t)?e[t]:void 0}var rV=tV,nV=dp,iV=Object.prototype,aV=iV.hasOwnProperty;function oV(t){var e=this.__data__;return nV?e[t]!==void 0:aV.call(e,t)}var sV=oV,lV=dp,uV="__lodash_hash_undefined__";function cV(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=lV&&e===void 0?uV:e,this}var fV=cV,dV=YM,pV=JM,hV=rV,vV=sV,gV=fV;function Vl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vl.prototype.clear=dV;Vl.prototype.delete=pV;Vl.prototype.get=hV;Vl.prototype.has=vV;Vl.prototype.set=gV;var mV=Vl,v1=mV,yV=fp,bV=fm;function _V(){this.size=0,this.__data__={hash:new v1,map:new(bV||yV),string:new v1}}var SV=_V;function OV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xV=OV,wV=xV;function EV(t,e){var r=t.__data__;return wV(e)?r[typeof e=="string"?"string":"hash"]:r.map}var pp=EV,CV=pp;function TV(t){var e=CV(this,t).delete(t);return this.size-=e?1:0,e}var kV=TV,IV=pp;function AV(t){return IV(this,t).get(t)}var jV=AV,PV=pp;function FV(t){return PV(this,t).has(t)}var LV=FV,RV=pp;function $V(t,e){var r=RV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var NV=$V,DV=SV,MV=kV,VV=jV,BV=LV,qV=NV;function Bl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bl.prototype.clear=DV;Bl.prototype.delete=MV;Bl.prototype.get=VV;Bl.prototype.has=BV;Bl.prototype.set=qV;var dm=Bl,zV=fp,HV=fm,UV=dm,GV=200;function WV(t,e){var r=this.__data__;if(r instanceof zV){var n=r.__data__;if(!HV||n.length<GV-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new UV(n)}return r.set(t,e),this.size=r.size,this}var YV=WV,KV=fp,JV=$D,QV=DD,XV=VD,ZV=qD,e5=YV;function ql(t){var e=this.__data__=new KV(t);this.size=e.size}ql.prototype.clear=JV;ql.prototype.delete=QV;ql.prototype.get=XV;ql.prototype.has=ZV;ql.prototype.set=e5;var hp=ql,t5="__lodash_hash_undefined__";function r5(t){return this.__data__.set(t,t5),this}var n5=r5;function i5(t){return this.__data__.has(t)}var a5=i5,o5=dm,s5=n5,l5=a5;function yd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new o5;++e<r;)this.add(t[e])}yd.prototype.add=yd.prototype.push=s5;yd.prototype.has=l5;var u5=yd;function c5(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var f5=c5;function d5(t,e){return t.has(e)}var p5=d5,h5=u5,v5=f5,g5=p5,m5=1,y5=2;function b5(t,e,r,n,i,a){var o=r&m5,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&y5?new h5:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!v5(e,function(y,m){if(!g5(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var HE=b5,_5=Yi,S5=_5.Uint8Array,UE=S5;function O5(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var x5=O5;function w5(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var E5=w5,g1=Ml,m1=UE,C5=Ic,T5=HE,k5=x5,I5=E5,A5=1,j5=2,P5="[object Boolean]",F5="[object Date]",L5="[object Error]",R5="[object Map]",$5="[object Number]",N5="[object RegExp]",D5="[object Set]",M5="[object String]",V5="[object Symbol]",B5="[object ArrayBuffer]",q5="[object DataView]",y1=g1?g1.prototype:void 0,Lh=y1?y1.valueOf:void 0;function z5(t,e,r,n,i,a,o){switch(r){case q5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B5:return!(t.byteLength!=e.byteLength||!a(new m1(t),new m1(e)));case P5:case F5:case $5:return C5(+t,+e);case L5:return t.name==e.name&&t.message==e.message;case N5:case M5:return t==e+"";case R5:var s=k5;case D5:var l=n&A5;if(s||(s=I5),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=j5,o.set(t,e);var c=T5(s(t),s(e),n,i,a,o);return o.delete(t),c;case V5:if(Lh)return Lh.call(t)==Lh.call(e)}return!1}var H5=z5;function U5(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var pm=U5,G5=Array.isArray,ri=G5,W5=pm,Y5=ri;function K5(t,e,r){var n=e(t);return Y5(t)?n:W5(n,r(t))}var GE=K5;function J5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Q5=J5;function X5(){return[]}var WE=X5,Z5=Q5,e3=WE,t3=Object.prototype,r3=t3.propertyIsEnumerable,b1=Object.getOwnPropertySymbols,n3=b1?function(t){return t==null?[]:(t=Object(t),Z5(b1(t),function(e){return r3.call(t,e)}))}:e3,hm=n3;function i3(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var a3=i3;function o3(t){return t!=null&&typeof t=="object"}var Oa=o3,s3=fs,l3=Oa,u3="[object Arguments]";function c3(t){return l3(t)&&s3(t)==u3}var f3=c3,_1=f3,d3=Oa,YE=Object.prototype,p3=YE.hasOwnProperty,h3=YE.propertyIsEnumerable,v3=_1(function(){return arguments}())?_1:function(t){return d3(t)&&p3.call(t,"callee")&&!h3.call(t,"callee")},vp=v3,bd={exports:{}};function g3(){return!1}var m3=g3;bd.exports;(function(t,e){var r=Yi,n=m3,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(bd,bd.exports);var gp=bd.exports,y3=9007199254740991,b3=/^(?:0|[1-9]\d*)$/;function _3(t,e){var r=typeof t;return e=e==null?y3:e,!!e&&(r=="number"||r!="symbol"&&b3.test(t))&&t>-1&&t%1==0&&t<e}var mp=_3,S3=9007199254740991;function O3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=S3}var vm=O3,x3=fs,w3=vm,E3=Oa,C3="[object Arguments]",T3="[object Array]",k3="[object Boolean]",I3="[object Date]",A3="[object Error]",j3="[object Function]",P3="[object Map]",F3="[object Number]",L3="[object Object]",R3="[object RegExp]",$3="[object Set]",N3="[object String]",D3="[object WeakMap]",M3="[object ArrayBuffer]",V3="[object DataView]",B3="[object Float32Array]",q3="[object Float64Array]",z3="[object Int8Array]",H3="[object Int16Array]",U3="[object Int32Array]",G3="[object Uint8Array]",W3="[object Uint8ClampedArray]",Y3="[object Uint16Array]",K3="[object Uint32Array]",dr={};dr[B3]=dr[q3]=dr[z3]=dr[H3]=dr[U3]=dr[G3]=dr[W3]=dr[Y3]=dr[K3]=!0;dr[C3]=dr[T3]=dr[M3]=dr[k3]=dr[V3]=dr[I3]=dr[A3]=dr[j3]=dr[P3]=dr[F3]=dr[L3]=dr[R3]=dr[$3]=dr[N3]=dr[D3]=!1;function J3(t){return E3(t)&&w3(t.length)&&!!dr[x3(t)]}var Q3=J3;function X3(t){return function(e){return t(e)}}var gm=X3,_d={exports:{}};_d.exports;(function(t,e){var r=BE,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();t.exports=s})(_d,_d.exports);var mm=_d.exports,Z3=Q3,e4=gm,S1=mm,O1=S1&&S1.isTypedArray,t4=O1?e4(O1):Z3,ym=t4,r4=a3,n4=vp,i4=ri,a4=gp,o4=mp,s4=ym,l4=Object.prototype,u4=l4.hasOwnProperty;function c4(t,e){var r=i4(t),n=!r&&n4(t),i=!r&&!n&&a4(t),a=!r&&!n&&!i&&s4(t),o=r||n||i||a,s=o?r4(t.length,String):[],l=s.length;for(var u in t)(e||u4.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||o4(u,l)))&&s.push(u);return s}var KE=c4,f4=Object.prototype;function d4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||f4;return t===r}var bm=d4;function p4(t,e){return function(r){return t(e(r))}}var JE=p4,h4=JE,v4=h4(Object.keys,Object),g4=v4,m4=bm,y4=g4,b4=Object.prototype,_4=b4.hasOwnProperty;function S4(t){if(!m4(t))return y4(t);var e=[];for(var r in Object(t))_4.call(t,r)&&r!="constructor"&&e.push(r);return e}var O4=S4,x4=cm,w4=vm;function E4(t){return t!=null&&w4(t.length)&&!x4(t)}var zl=E4,C4=KE,T4=O4,k4=zl;function I4(t){return k4(t)?C4(t):T4(t)}var Hl=I4;const xl=tn(Hl);var A4=GE,j4=hm,P4=Hl;function F4(t){return A4(t,P4,j4)}var QE=F4,x1=QE,L4=1,R4=Object.prototype,$4=R4.hasOwnProperty;function N4(t,e,r,n,i,a){var o=r&L4,s=x1(t),l=s.length,u=x1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:$4.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var D4=N4,M4=ds,V4=Yi,B4=M4(V4,"DataView"),q4=B4,z4=ds,H4=Yi,U4=z4(H4,"Promise"),G4=U4,W4=ds,Y4=Yi,K4=W4(Y4,"Set"),J4=K4,Q4=ds,X4=Yi,Z4=Q4(X4,"WeakMap"),eB=Z4,Fv=q4,Lv=fm,Rv=G4,$v=J4,Nv=eB,XE=fs,Ul=zE,w1="[object Map]",tB="[object Object]",E1="[object Promise]",C1="[object Set]",T1="[object WeakMap]",k1="[object DataView]",rB=Ul(Fv),nB=Ul(Lv),iB=Ul(Rv),aB=Ul($v),oB=Ul(Nv),zo=XE;(Fv&&zo(new Fv(new ArrayBuffer(1)))!=k1||Lv&&zo(new Lv)!=w1||Rv&&zo(Rv.resolve())!=E1||$v&&zo(new $v)!=C1||Nv&&zo(new Nv)!=T1)&&(zo=function(t){var e=XE(t),r=e==tB?t.constructor:void 0,n=r?Ul(r):"";if(n)switch(n){case rB:return k1;case nB:return w1;case iB:return E1;case aB:return C1;case oB:return T1}return e});var yp=zo,Rh=hp,sB=HE,lB=H5,uB=D4,I1=yp,A1=ri,j1=gp,cB=ym,fB=1,P1="[object Arguments]",F1="[object Array]",Tf="[object Object]",dB=Object.prototype,L1=dB.hasOwnProperty;function pB(t,e,r,n,i,a){var o=A1(t),s=A1(e),l=o?F1:I1(t),u=s?F1:I1(e);l=l==P1?Tf:l,u=u==P1?Tf:u;var c=l==Tf,f=u==Tf,d=l==u;if(d&&j1(t)){if(!j1(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Rh),o||cB(t)?sB(t,e,r,n,i,a):lB(t,e,l,r,n,i,a);if(!(r&fB)){var p=c&&L1.call(t,"__wrapped__"),v=f&&L1.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new Rh),i(h,g,r,n,a)}}return d?(a||(a=new Rh),uB(t,e,r,n,i,a)):!1}var hB=pB,vB=hB,R1=Oa;function ZE(t,e,r,n,i){return t===e?!0:t==null||e==null||!R1(t)&&!R1(e)?t!==t&&e!==e:vB(t,e,r,n,ZE,i)}var _m=ZE,gB=_m;function mB(t,e){return gB(t,e)}var yB=mB,eC={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:An,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),p=i(12),v=i(32),h=i(33),g=i(31),y=i(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:v.default,Style:h.default,Store:g.default}};n.default=m},function(r,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){g(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){a(y,g);function y(m){var _=this;return m="[Parchment] "+m,_=g.call(this,m)||this,_.message=m,_.name=_.constructor.name,_}return y}(Error);n.ParchmentError=o;var s={},l={},u={},c={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(g,y){var m=v(g);if(m==null)throw new o("Unable to create "+g+" blot");var _=m,b=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:_.create(y);return new _(b,y)}n.create=d;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function v(g,y){y===void 0&&(y=f.ANY);var m;if(typeof g=="string")m=c[g]||s[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?m=c.block:g&f.LEVEL&f.INLINE&&(m=c.inline);else if(g instanceof HTMLElement){var _=(g.getAttribute("class")||"").split(/\s+/);for(var b in _)if(m=l[_[b]],m)break;m=m||u[g.tagName]}return m==null?null:y&f.LEVEL&m.scope&&y&f.TYPE&m.scope?m:null}n.query=v;function h(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(b){return h(b)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(b){return b.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var _=Array.isArray(m.tagName)?m.tagName:[m.tagName];_.forEach(function(b){(u[b]==null||m.className==null)&&(u[b]=m)})}return m}n.register=h},function(r,n,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},c.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=s(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(v){var h=f(v)?d:p;h.push(v)}),[d,p]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],v=l.iterator(this.ops),h=0;h<d&&v.hasNext();){var g;h<f?g=v.next(f-h):(g=v.next(d-h),p.push(g)),h+=l.length(g)}return new c(p)},c.prototype.compose=function(f){var d=l.iterator(this.ops),p=l.iterator(f.ops),v=[],h=p.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var g=h.retain;d.peekType()==="insert"&&d.peekLength()<=g;)g-=d.peekLength(),v.push(d.next());h.retain-g>0&&p.next(h.retain-g)}for(var y=new c(v);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(d.peekType()==="delete")y.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),_=d.next(m),b=p.next(m);if(typeof b.retain=="number"){var S={};typeof _.retain=="number"?S.retain=m:S.insert=_.insert;var O=l.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(O&&(S.attributes=O),y.push(S),!p.hasNext()&&o(y.ops[y.ops.length-1],S)){var x=new c(d.rest());return y.concat(x).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var p=[this,f].map(function(m){return m.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var b=m===f?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),v=new c,h=a(p[0],p[1],d),g=l.iterator(this.ops),y=l.iterator(f.ops);return h.forEach(function(m){for(var _=m[1].length;_>0;){var b=0;switch(m[0]){case a.INSERT:b=Math.min(y.peekLength(),_),v.push(y.next(b));break;case a.DELETE:b=Math.min(_,g.peekLength()),g.next(b),v.delete(b);break;case a.EQUAL:b=Math.min(g.peekLength(),y.peekLength(),_);var S=g.next(b),O=y.next(b);o(S.insert,O.insert)?v.retain(b,l.attributes.diff(S.attributes,O.attributes)):v.push(O).delete(b);break}_-=b}}),v.chop()},c.prototype.eachLine=function(f,d){d=d||"\n";for(var p=l.iterator(this.ops),v=new c,h=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=l.length(g)-p.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(d,y)-y:-1;if(m<0)v.push(p.next());else if(m>0)v.push(p.next(m));else{if(f(v,p.next(1).attributes||{},h)===!1)return;h+=1,v=new c}}v.length()>0&&f(v,{},h)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),h=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(d||v.peekType()!=="insert"))h.retain(l.length(p.next()));else if(v.peekType()==="insert")h.push(v.next());else{var g=Math.min(p.peekLength(),v.peekLength()),y=p.next(g),m=v.next(g);if(y.delete)continue;m.delete?h.push(m):h.retain(g,l.attributes.transform(y.attributes,m.attributes,d))}return h.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var h=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(h,f-v);continue}else g==="insert"&&(v<f||!d)&&(f+=h);v+=h}return f},r.exports=c},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),h=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!h)return!1;var g;for(g in p);return typeof g>"u"||i.call(p,g)},c=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(s)return s(p,v).value}else return;return p[v]};r.exports=function d(){var p,v,h,g,y,m,_=arguments[0],b=1,S=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},b=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});b<S;++b)if(p=arguments[b],p!=null)for(v in p)h=f(_,v),g=f(p,v),_!==g&&(O&&g&&(u(g)||(y=l(g)))?(y?(y=!1,m=h&&l(h)?h:[]):m=h&&u(h)?h:{},c(_,{name:v,newValue:d(O,m,g)})):typeof g<"u"&&c(_,{name:v,newValue:g}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(w,A){for(var P=0;P<A.length;P++){var F=A[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,A,P){return A&&k(w.prototype,A),P&&k(w,P),w}}(),o=function k(w,A,P){w===null&&(w=Function.prototype);var F=Object.getOwnPropertyDescriptor(w,A);if(F===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:k(D,A,P)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(P)}},s=i(3),l=_(s),u=i(2),c=_(u),f=i(0),d=_(f),p=i(16),v=_(p),h=i(6),g=_(h),y=i(7),m=_(y);function _(k){return k&&k.__esModule?k:{default:k}}function b(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function S(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function O(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var x=1,C=function(k){O(w,k);function w(){return b(this,w),S(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"attach",value:function(){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,F){var D=d.default.query(P,d.default.Scope.BLOCK_ATTRIBUTE);D!=null&&this.attributes.attribute(D,F)}},{key:"formatAt",value:function(P,F,D,R){this.format(D,R)}},{key:"insertAt",value:function(P,F,D){if(typeof F=="string"&&F.endsWith("\n")){var R=d.default.create(I.blotName);this.parent.insertBefore(R,P===0?this:this.next),R.insertAt(0,F.slice(0,-1))}else o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,P,F,D)}}]),w}(d.default.Embed);C.scope=d.default.Scope.BLOCK_BLOT;var I=function(k){O(w,k);function w(A){b(this,w);var P=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A));return P.cache={},P}return a(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(P,F){return F.length()===0?P:P.insert(F.value(),E(F))},new c.default).insert("\n",E(this))),this.cache.delta}},{key:"deleteAt",value:function(P,F){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,P,F),this.cache={}}},{key:"formatAt",value:function(P,F,D,R){F<=0||(d.default.query(D,d.default.Scope.BLOCK)?P+F===this.length()&&this.format(D,R):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,P,Math.min(F,this.length()-P-1),D,R),this.cache={})}},{key:"insertAt",value:function(P,F,D){if(D!=null)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,P,F,D);if(F.length!==0){var R=F.split("\n"),G=R.shift();G.length>0&&(P<this.length()-1||this.children.tail==null?o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var V=this;R.reduce(function($,L){return V=V.split($,!0),V.insertAt(0,L),L.length},P+G.length)}}},{key:"insertBefore",value:function(P,F){var D=this.children.head;o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,P,F),D instanceof v.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(P,F){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,P,F),this.cache={}}},{key:"optimize",value:function(P){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(P===0||P>=this.length()-x)){var D=this.clone();return P===0?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}else{var R=o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,P,F);return this.cache={},R}}}]),w}(d.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[g.default,d.default.Embed,m.default];function E(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(w=(0,l.default)(w,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?w:E(k.parent,w)}n.bubbleFormats=E,n.BlockEmbed=C,n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V($,L){var N=[],B=!0,H=!1,z=void 0;try{for(var M=$[Symbol.iterator](),W;!(B=(W=M.next()).done)&&(N.push(W.value),!(L&&N.length===L));B=!0);}catch(q){H=!0,z=q}finally{try{!B&&M.return&&M.return()}finally{if(H)throw z}}return N}return function($,L){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function V($,L){for(var N=0;N<L.length;N++){var B=L[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,L,N){return L&&V($.prototype,L),N&&V($,N),$}}();i(50);var l=i(2),u=E(l),c=i(14),f=E(c),d=i(8),p=E(d),v=i(9),h=E(v),g=i(0),y=E(g),m=i(15),_=E(m),b=i(3),S=E(b),O=i(10),x=E(O),C=i(34),I=E(C);function E(V){return V&&V.__esModule?V:{default:V}}function k(V,$,L){return $ in V?Object.defineProperty(V,$,{value:L,enumerable:!0,configurable:!0,writable:!0}):V[$]=L,V}function w(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}var A=(0,x.default)("quill"),P=function(){s(V,null,[{key:"debug",value:function(L){L===!0&&(L="log"),x.default.level(L)}},{key:"find",value:function(L){return L.__quill||y.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&A.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,N){var B=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var z=L.attrName||L.blotName;typeof z=="string"?this.register("formats/"+z,L,N):Object.keys(L).forEach(function(M){B.register(M,L[M],N)})}else this.imports[L]!=null&&!H&&A.warn("Overwriting "+L+" with",N),this.imports[L]=N,(L.startsWith("blots/")||L.startsWith("formats/"))&&N.blotName!=="abstract"?y.default.register(N):L.startsWith("modules")&&typeof N.register=="function"&&N.register()}}]);function V($){var L=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,V),this.options=F($,N),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",$);this.options.debug&&V.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(z){z===p.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(z,M){var W=L.selection.lastRange,q=W&&W.length===0?W.index:void 0;D.call(L,function(){return L.editor.update(null,M,q)},z)});var H=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+B+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(V,[{key:"addContainer",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var B=L;L=document.createElement("div"),L.classList.add(B)}return this.container.insertBefore(L,N),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,N,B){var H=this,z=R(L,N,B),M=o(z,4);return L=M[0],N=M[1],B=M[3],D.call(this,function(){return H.editor.deleteText(L,N)},B,L,-1*N)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,N){var B=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return D.call(this,function(){var z=B.getSelection(!0),M=new u.default;if(z==null)return M;if(y.default.query(L,y.default.Scope.BLOCK))M=B.editor.formatLine(z.index,z.length,k({},L,N));else{if(z.length===0)return B.selection.format(L,N),M;M=B.editor.formatText(z.index,z.length,k({},L,N))}return B.setSelection(z,p.default.sources.SILENT),M},H)}},{key:"formatLine",value:function(L,N,B,H,z){var M=this,W=void 0,q=R(L,N,B,H,z),Y=o(q,4);return L=Y[0],N=Y[1],W=Y[2],z=Y[3],D.call(this,function(){return M.editor.formatLine(L,N,W)},z,L,0)}},{key:"formatText",value:function(L,N,B,H,z){var M=this,W=void 0,q=R(L,N,B,H,z),Y=o(q,4);return L=Y[0],N=Y[1],W=Y[2],z=Y[3],D.call(this,function(){return M.editor.formatText(L,N,W)},z,L,0)}},{key:"getBounds",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof L=="number"?B=this.selection.getBounds(L,N):B=this.selection.getBounds(L.index,L.length);var H=this.container.getBoundingClientRect();return{bottom:B.bottom-H.top,height:B.height,left:B.left-H.left,right:B.right-H.left,top:B.top-H.top,width:B.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=R(L,N),H=o(B,2);return L=H[0],N=H[1],this.editor.getContents(L,N)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,N):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,N)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=R(L,N),H=o(B,2);return L=H[0],N=H[1],this.editor.getText(L,N)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,N,B){var H=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.sources.API;return D.call(this,function(){return H.editor.insertEmbed(L,N,B)},z,L)}},{key:"insertText",value:function(L,N,B,H,z){var M=this,W=void 0,q=R(L,0,B,H,z),Y=o(q,4);return L=Y[0],W=Y[2],z=Y[3],D.call(this,function(){return M.editor.insertText(L,N,W)},z,L,N.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,N,B){this.clipboard.dangerouslyPasteHTML(L,N,B)}},{key:"removeFormat",value:function(L,N,B){var H=this,z=R(L,N,B),M=o(z,4);return L=M[0],N=M[1],B=M[3],D.call(this,function(){return H.editor.removeFormat(L,N)},B,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return D.call(this,function(){L=new u.default(L);var H=N.getLength(),z=N.editor.deleteText(0,H),M=N.editor.applyDelta(L),W=M.ops[M.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]==="\n"&&(N.editor.deleteText(N.getLength()-1,1),M.delete(1));var q=z.compose(M);return q},B)}},{key:"setSelection",value:function(L,N,B){if(L==null)this.selection.setRange(null,N||V.sources.API);else{var H=R(L,N,B),z=o(H,4);L=z[0],N=z[1],B=z[3],this.selection.setRange(new m.Range(L,N),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new u.default().insert(L);return this.setContents(B,N)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,N=this.scroll.update(L);return this.selection.update(L),N}},{key:"updateContents",value:function(L){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return D.call(this,function(){return L=new u.default(L),N.editor.applyDelta(L,B)},B,!0)}}]),V}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=p.default.events,P.sources=p.default.sources,P.version="1.3.7",P.imports={delta:u.default,parchment:y.default,"core/module":h.default,"core/theme":I.default};function F(V,$){if($=(0,S.default)(!0,{container:V,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===P.DEFAULTS.theme)$.theme=I.default;else if($.theme=P.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var L=(0,S.default)(!0,{},$.theme.DEFAULTS);[L,$].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(z){H.modules[z]===!0&&(H.modules[z]={})})});var N=Object.keys(L.modules).concat(Object.keys($.modules)),B=N.reduce(function(H,z){var M=P.import("modules/"+z);return M==null?A.error("Cannot load "+z+" module. Are you sure you registered it?"):H[z]=M.DEFAULTS||{},H},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,S.default)(!0,{},P.DEFAULTS,{modules:B},L,$),["bounds","container","scrollingContainer"].forEach(function(H){typeof $[H]=="string"&&($[H]=document.querySelector($[H]))}),$.modules=Object.keys($.modules).reduce(function(H,z){return $.modules[z]&&(H[z]=$.modules[z]),H},{}),$}function D(V,$,L,N){if(this.options.strict&&!this.isEnabled()&&$===p.default.sources.USER)return new u.default;var B=L==null?null:this.getSelection(),H=this.editor.delta,z=V();if(B!=null&&(L===!0&&(L=B.index),N==null?B=G(B,z,$):N!==0&&(B=G(B,L,N,$)),this.setSelection(B,p.default.sources.SILENT)),z.length()>0){var M,W=[p.default.events.TEXT_CHANGE,z,H,$];if((M=this.emitter).emit.apply(M,[p.default.events.EDITOR_CHANGE].concat(W)),$!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,W)}}return z}function R(V,$,L,N,B){var H={};return typeof V.index=="number"&&typeof V.length=="number"?typeof $!="number"?(B=N,N=L,L=$,$=V.length,V=V.index):($=V.length,V=V.index):typeof $!="number"&&(B=N,N=L,L=$,$=0),(typeof L>"u"?"undefined":a(L))==="object"?(H=L,B=N):typeof L=="string"&&(N!=null?H[L]=N:B=L),B=B||p.default.sources.API,[V,$,H,B]}function G(V,$,L,N){if(V==null)return null;var B=void 0,H=void 0;if($ instanceof u.default){var z=[V.index,V.index+V.length].map(function(Y){return $.transformPosition(Y,N!==p.default.sources.USER)}),M=o(z,2);B=M[0],H=M[1]}else{var W=[V.index,V.index+V.length].map(function(Y){return Y<$||Y===$&&N===p.default.sources.USER?Y:L>=0?Y+L:Math.max($,Y+L)}),q=o(W,2);B=q[0],H=q[1]}return new m.Range(B,H-B)}n.expandConfig=F,n.overload=R,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(7),l=f(s),u=i(0),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function v(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){v(y,g);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(_,b,S,O){if(y.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var x=this.isolate(_,b);O&&x.wrap(S,O)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,_,b,S,O)}},{key:"optimize",value:function(_){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,_),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(_,b){var S=y.order.indexOf(_),O=y.order.indexOf(b);return S>=0||O>=0?S-O:_===b?0:_<b?-1:1}}]),y}(c.default.Inline);h.allowedChildren=[h,c.default.Embed,l.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(_,b){for(var S=0;S<b.length;S++){var O=b[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,b,S){return b&&m(_.prototype,b),S&&m(_,S),_}}(),o=function m(_,b,S){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,b);if(O===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:m(x,b,S)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(S)}},s=i(54),l=f(s),u=i(10),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function p(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function v(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=(0,c.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var _=arguments.length,b=Array(_),S=0;S<_;S++)b[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,b)}})})});var y=function(m){v(_,m);function _(){d(this,_);var b=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return b.listeners={},b.on("error",h.error),b}return a(_,[{key:"emit",value:function(){h.log.apply(h,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var O=arguments.length,x=Array(O>1?O-1:0),C=1;C<O;C++)x[C-1]=arguments[C];(this.listeners[S.type]||[]).forEach(function(I){var E=I.node,k=I.handler;(S.target===E||E.contains(S.target))&&k.apply(void 0,[S].concat(x))})}},{key:"listenDOM",value:function(S,O,x){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:O,handler:x})}}]),_}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(c=console)[u].apply(c,d)}}function l(u){return a.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=l.level=function(u){o=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=r.exports=function(d,p,v){return v||(v={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?v.strict?d===p:d==p:f(d,p,v)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,v){var h,g;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(s(d))return s(p)?(d=a.call(d),p=a.call(p),l(d,p,v)):!1;if(c(d)){if(!c(p)||d.length!==p.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==p[h])return!1;return!0}try{var y=o(d),m=o(p)}catch(_){return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),h=y.length-1;h>=0;h--)if(y[h]!=m[h])return!1;for(h=y.length-1;h>=0;h--)if(g=y[h],!l(d[g],p[g],v))return!1;return typeof d==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function C(I,E){var k=[],w=!0,A=!1,P=void 0;try{for(var F=I[Symbol.iterator](),D;!(w=(D=F.next()).done)&&(k.push(D.value),!(E&&k.length===E));w=!0);}catch(R){A=!0,P=R}finally{try{!w&&F.return&&F.return()}finally{if(A)throw P}}return k}return function(I,E){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(I,w.key,w)}}return function(I,E,k){return E&&C(I.prototype,E),k&&C(I,k),I}}(),s=function C(I,E,k){I===null&&(I=Function.prototype);var w=Object.getOwnPropertyDescriptor(I,E);if(w===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:C(A,E,k)}else{if("value"in w)return w.value;var P=w.get;return P===void 0?void 0:P.call(k)}},l=i(2),u=m(l),c=i(0),f=m(c),d=i(4),p=m(d),v=i(6),h=m(v),g=i(7),y=m(g);function m(C){return C&&C.__esModule?C:{default:C}}function _(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function b(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function S(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var O=function(C){S(I,C);function I(){return _(this,I),b(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(h.default);O.blotName="code",O.tagName="CODE";var x=function(C){S(I,C);function I(){return _(this,I),b(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var k=this,w=this.domNode.textContent;return w.endsWith("\n")&&(w=w.slice(0,-1)),w.split("\n").reduce(function(A,P){return A.insert(P).insert("\n",k.formats())},new u.default)}},{key:"format",value:function(k,w){if(!(k===this.statics.blotName&&w)){var A=this.descendant(y.default,this.length()-1),P=a(A,1),F=P[0];F!=null&&F.deleteAt(F.length()-1,1),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,k,w)}}},{key:"formatAt",value:function(k,w,A,P){if(w!==0&&!(f.default.query(A,f.default.Scope.BLOCK)==null||A===this.statics.blotName&&P===this.statics.formats(this.domNode))){var F=this.newlineIndex(k);if(!(F<0||F>=k+w)){var D=this.newlineIndex(k,!0)+1,R=F-D+1,G=this.isolate(D,R),V=G.next;G.format(A,P),V instanceof I&&V.formatAt(0,k-D+w-R,A,P)}}}},{key:"insertAt",value:function(k,w,A){if(A==null){var P=this.descendant(y.default,k),F=a(P,2),D=F[0],R=F[1];D.insertAt(R,w)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?k:k+1}},{key:"newlineIndex",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,k).lastIndexOf("\n");var A=this.domNode.textContent.slice(k).indexOf("\n");return A>-1?k+A:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,k);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(k),w.moveChildren(this),w.remove())}},{key:"replace",value:function(k){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var A=f.default.find(w);A==null?w.parentNode.removeChild(w):A instanceof f.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(k){var w=s(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,k);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),I}(p.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",n.Code=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V($,L){var N=[],B=!0,H=!1,z=void 0;try{for(var M=$[Symbol.iterator](),W;!(B=(W=M.next()).done)&&(N.push(W.value),!(L&&N.length===L));B=!0);}catch(q){H=!0,z=q}finally{try{!B&&M.return&&M.return()}finally{if(H)throw z}}return N}return function($,L){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function V($,L){for(var N=0;N<L.length;N++){var B=L[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,L,N){return L&&V($.prototype,L),N&&V($,N),$}}(),l=i(2),u=w(l),c=i(20),f=w(c),d=i(0),p=w(d),v=i(13),h=w(v),g=i(24),y=w(g),m=i(4),_=w(m),b=i(16),S=w(b),O=i(21),x=w(O),C=i(11),I=w(C),E=i(3),k=w(E);function w(V){return V&&V.__esModule?V:{default:V}}function A(V,$,L){return $ in V?Object.defineProperty(V,$,{value:L,enumerable:!0,configurable:!0,writable:!0}):V[$]=L,V}function P(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,D=function(){function V($){P(this,V),this.scroll=$,this.delta=this.getDelta()}return s(V,[{key:"applyDelta",value:function(L){var N=this,B=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),L=G(L),L.reduce(function(z,M){var W=M.retain||M.delete||M.insert.length||1,q=M.attributes||{};if(M.insert!=null){if(typeof M.insert=="string"){var Y=M.insert;Y.endsWith("\n")&&B&&(B=!1,Y=Y.slice(0,-1)),z>=H&&!Y.endsWith("\n")&&(B=!0),N.scroll.insertAt(z,Y);var K=N.scroll.line(z),ie=o(K,2),te=ie[0],ae=ie[1],ue=(0,k.default)({},(0,m.bubbleFormats)(te));if(te instanceof _.default){var fe=te.descendant(p.default.Leaf,ae),pe=o(fe,1),Se=pe[0];ue=(0,k.default)(ue,(0,m.bubbleFormats)(Se))}q=f.default.attributes.diff(ue,q)||{}}else if(a(M.insert)==="object"){var Q=Object.keys(M.insert)[0];if(Q==null)return z;N.scroll.insertAt(z,Q,M.insert[Q])}H+=W}return Object.keys(q).forEach(function(re){N.scroll.formatAt(z,W,re,q[re])}),z+W},0),L.reduce(function(z,M){return typeof M.delete=="number"?(N.scroll.deleteAt(z,M.delete),z):z+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,N){return this.scroll.deleteAt(L,N),this.update(new u.default().retain(L).delete(N))}},{key:"formatLine",value:function(L,N){var B=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(z){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[z])){var M=B.scroll.lines(L,Math.max(N,1)),W=N;M.forEach(function(q){var Y=q.length();if(!(q instanceof h.default))q.format(z,H[z]);else{var K=L-q.offset(B.scroll),ie=q.newlineIndex(K+W)-K+1;q.formatAt(K,ie,z,H[z])}W-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(L).retain(N,(0,x.default)(H)))}},{key:"formatText",value:function(L,N){var B=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(z){B.scroll.formatAt(L,N,z,H[z])}),this.update(new u.default().retain(L).retain(N,(0,x.default)(H)))}},{key:"getContents",value:function(L,N){return this.delta.slice(L,L+N)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,N){return L.concat(N.delta())},new u.default)}},{key:"getFormat",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],H=[];N===0?this.scroll.path(L).forEach(function(M){var W=o(M,1),q=W[0];q instanceof _.default?B.push(q):q instanceof p.default.Leaf&&H.push(q)}):(B=this.scroll.lines(L,N),H=this.scroll.descendants(p.default.Leaf,L,N));var z=[B,H].map(function(M){if(M.length===0)return{};for(var W=(0,m.bubbleFormats)(M.shift());Object.keys(W).length>0;){var q=M.shift();if(q==null)return W;W=R((0,m.bubbleFormats)(q),W)}return W});return k.default.apply(k.default,z)}},{key:"getText",value:function(L,N){return this.getContents(L,N).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(L,N,B){return this.scroll.insertAt(L,N,B),this.update(new u.default().retain(L).insert(A({},N,B)))}},{key:"insertText",value:function(L,N){var B=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N=N.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(L,N),Object.keys(H).forEach(function(z){B.scroll.formatAt(L,N.length,z,H[z])}),this.update(new u.default().retain(L).insert(N,(0,x.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==_.default.blotName||L.children.length>1?!1:L.children.head instanceof S.default}},{key:"removeFormat",value:function(L,N){var B=this.getText(L,N),H=this.scroll.line(L+N),z=o(H,2),M=z[0],W=z[1],q=0,Y=new u.default;M!=null&&(M instanceof h.default?q=M.newlineIndex(W)-W+1:q=M.length()-W,Y=M.delta().slice(W,W+q-1).insert("\n"));var K=this.getContents(L,N+q),ie=K.diff(new u.default().insert(B).concat(Y)),te=new u.default().retain(L).concat(ie);return this.applyDelta(te)}},{key:"update",value:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(N.length===1&&N[0].type==="characterData"&&N[0].target.data.match(F)&&p.default.find(N[0].target)){var z=p.default.find(N[0].target),M=(0,m.bubbleFormats)(z),W=z.offset(this.scroll),q=N[0].oldValue.replace(y.default.CONTENTS,""),Y=new u.default().insert(q),K=new u.default().insert(z.value()),ie=new u.default().retain(W).concat(Y.diff(K,B));L=ie.reduce(function(te,ae){return ae.insert?te.insert(ae.insert,M):te.push(ae)},new u.default),this.delta=H.compose(L)}else this.delta=this.getDelta(),(!L||!(0,I.default)(H.compose(L),this.delta))&&(L=H.diff(this.delta,B));return L}}]),V}();function R(V,$){return Object.keys($).reduce(function(L,N){return V[N]==null||($[N]===V[N]?L[N]=$[N]:Array.isArray($[N])?$[N].indexOf(V[N])<0&&(L[N]=$[N].concat([V[N]])):L[N]=[$[N],V[N]]),L},{})}function G(V){return V.reduce(function($,L){if(L.insert===1){var N=(0,x.default)(L.attributes);return delete N.image,$.insert({image:L.attributes.image},N)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,x.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var B=L.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return $.insert(B,L.attributes)}return $.push(L)},new u.default)}n.default=D},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function C(I,E){var k=[],w=!0,A=!1,P=void 0;try{for(var F=I[Symbol.iterator](),D;!(w=(D=F.next()).done)&&(k.push(D.value),!(E&&k.length===E));w=!0);}catch(R){A=!0,P=R}finally{try{!w&&F.return&&F.return()}finally{if(A)throw P}}return k}return function(I,E){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,E){for(var k=0;k<E.length;k++){var w=E[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(I,w.key,w)}}return function(I,E,k){return E&&C(I.prototype,E),k&&C(I,k),I}}(),s=i(0),l=y(s),u=i(21),c=y(u),f=i(11),d=y(f),p=i(8),v=y(p),h=i(10),g=y(h);function y(C){return C&&C.__esModule?C:{default:C}}function m(C){if(Array.isArray(C)){for(var I=0,E=Array(C.length);I<C.length;I++)E[I]=C[I];return E}else return Array.from(C)}function _(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var b=(0,g.default)("quill:selection"),S=function C(I){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,C),this.index=I,this.length=E},O=function(){function C(I,E){var k=this;_(this,C),this.emitter=E,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(w,A){w===v.default.events.TEXT_CHANGE&&A.length()>0&&k.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var w=k.getNativeRange();w!=null&&w.start.node!==k.cursor.textNode&&k.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch(A){}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(w,A){if(A.range){var P=A.range,F=P.startNode,D=P.startOffset,R=P.endNode,G=P.endOffset;k.setNativeRange(F,D,R,G)}}),this.update(v.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var k=E.cursor.restore();if(!k)return;setTimeout(function(){E.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||l.default.query(E,l.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var A=l.default.find(w.start.node,!1);if(A==null)return;if(A instanceof l.default.Leaf){var P=A.split(w.start.offset);A.parent.insertBefore(this.cursor,P)}else A.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(E,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();E=Math.min(E,w-1),k=Math.min(E+k,w-1)-E;var A=void 0,P=this.scroll.leaf(E),F=a(P,2),D=F[0],R=F[1];if(D==null)return null;var G=D.position(R,!0),V=a(G,2);A=V[0],R=V[1];var $=document.createRange();if(k>0){$.setStart(A,R);var L=this.scroll.leaf(E+k),N=a(L,2);if(D=N[0],R=N[1],D==null)return null;var B=D.position(R,!0),H=a(B,2);return A=H[0],R=H[1],$.setEnd(A,R),$.getBoundingClientRect()}else{var z="left",M=void 0;return A instanceof Text?(R<A.data.length?($.setStart(A,R),$.setEnd(A,R+1)):($.setStart(A,R-1),$.setEnd(A,R),z="right"),M=$.getBoundingClientRect()):(M=D.domNode.getBoundingClientRect(),R>0&&(z="right")),{bottom:M.top+M.height,height:M.height,left:M[z],right:M[z],top:M.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var k=E.getRangeAt(0);if(k==null)return null;var w=this.normalizeNative(k);return b.info("getNativeRange",w),w}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var k=this.normalizedToRange(E);return[k,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var k=this,w=[[E.start.node,E.start.offset]];E.native.collapsed||w.push([E.end.node,E.end.offset]);var A=w.map(function(D){var R=a(D,2),G=R[0],V=R[1],$=l.default.find(G,!0),L=$.offset(k.scroll);return V===0?L:$ instanceof l.default.Container?L+$.length():L+$.index(G,V)}),P=Math.min(Math.max.apply(Math,m(A)),this.scroll.length()-1),F=Math.min.apply(Math,[P].concat(m(A)));return new S(F,P-F)}},{key:"normalizeNative",value:function(E){if(!x(this.root,E.startContainer)||!E.collapsed&&!x(this.root,E.endContainer))return null;var k={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[k.start,k.end].forEach(function(w){for(var A=w.node,P=w.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>P)A=A.childNodes[P],P=0;else if(A.childNodes.length===P)A=A.lastChild,P=A instanceof Text?A.data.length:A.childNodes.length+1;else break;w.node=A,w.offset=P}),k}},{key:"rangeToNative",value:function(E){var k=this,w=E.collapsed?[E.index]:[E.index,E.index+E.length],A=[],P=this.scroll.length();return w.forEach(function(F,D){F=Math.min(P-1,F);var R=void 0,G=k.scroll.leaf(F),V=a(G,2),$=V[0],L=V[1],N=$.position(L,D!==0),B=a(N,2);R=B[0],L=B[1],A.push(R,L)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(E){var k=this.lastRange;if(k!=null){var w=this.getBounds(k.index,k.length);if(w!=null){var A=this.scroll.length()-1,P=this.scroll.line(Math.min(k.index,A)),F=a(P,1),D=F[0],R=D;if(k.length>0){var G=this.scroll.line(Math.min(k.index+k.length,A)),V=a(G,1);R=V[0]}if(!(D==null||R==null)){var $=E.getBoundingClientRect();w.top<$.top?E.scrollTop-=$.top-w.top:w.bottom>$.bottom&&(E.scrollTop+=w.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(E,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",E,k,w,A),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||w.parentNode==null))){var F=document.getSelection();if(F!=null)if(E!=null){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(D==null||P||E!==D.startContainer||k!==D.startOffset||w!==D.endContainer||A!==D.endOffset){E.tagName=="BR"&&(k=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),w.tagName=="BR"&&(A=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var R=document.createRange();R.setStart(E,k),R.setEnd(w,A),F.removeAllRanges(),F.addRange(R)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof k=="string"&&(w=k,k=!1),b.info("setRange",E),E!=null){var A=this.rangeToNative(E);this.setNativeRange.apply(this,m(A).concat([k]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,k=this.lastRange,w=this.getRange(),A=a(w,2),P=A[0],F=A[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var D;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var R=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(k),E];if((D=this.emitter).emit.apply(D,[v.default.events.EDITOR_CHANGE].concat(R)),E!==v.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,R)}}}}]),C}();function x(C,I){try{I.parentNode}catch(E){return!1}return I instanceof Text&&(I=I.parentNode),C.contains(I)}n.Range=S,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"insertInto",value:function(y,m){y.children.length===0?o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.build(),v}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var h=c(v);p.insertBefore(h,p.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},d.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(h,g,y){h.deleteAt(g,y)})},d.prototype.descendant=function(p,v){var h=this.children.find(v),g=h[0],y=h[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof d?g.descendant(p,y):[null,-1]},d.prototype.descendants=function(p,v,h){v===void 0&&(v=0),h===void 0&&(h=Number.MAX_VALUE);var g=[],y=h;return this.children.forEachAt(v,h,function(m,_,b){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&g.push(m),m instanceof d&&(g=g.concat(m.descendants(p,_,y))),y-=b}),g},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,v,h,g){this.children.forEachAt(p,v,function(y,m,_){y.formatAt(m,_,h,g)})},d.prototype.insertAt=function(p,v,h){var g=this.children.find(p),y=g[0],m=g[1];if(y)y.insertAt(m,v,h);else{var _=h==null?l.create("text",v):l.create(v,h);this.appendChild(_)}},d.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return p instanceof h}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},d.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},d.prototype.moveChildren=function(p,v){this.children.forEach(function(h){p.insertBefore(h,v)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},d.prototype.path=function(p,v){v===void 0&&(v=!1);var h=this.children.find(p,v),g=h[0],y=h[1],m=[[this,p]];return g instanceof d?m.concat(g.path(y,v)):(g!=null&&m.push([g,y]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(p,this.length(),function(g,y,m){g=g.split(y,v),h.appendChild(g)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,v){var h=this,g=[],y=[];p.forEach(function(m){m.target===h.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(m);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===h.domNode)&&_.detach()}}),g.filter(function(m){return m.parentNode==h.domNode}).sort(function(m,_){return m===_?0:m.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var _=null;m.nextSibling!=null&&(_=l.find(m.nextSibling));var b=c(m);(b.next!=_||b.next==null)&&(b.parent!=null&&b.parent.removeChild(h),h.insertBefore(b,_||void 0))})},d}(s.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch(p){d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){d.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.attributes=new s.default(v.domNode),v}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,v){var h=u.query(p);h instanceof o.default?this.attributes.attribute(h,v):v&&h!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},d.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},d.prototype.replaceWith=function(p,v){var h=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(h),h},d.prototype.update=function(p,v){var h=this;f.prototype.update.call(this,p,v),p.some(function(g){return g.target===h.domNode&&g.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,v){var h=f.prototype.wrap.call(this,p,v);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(l.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=o(!0,{},c);f||(d=Object.keys(d).reduce(function(v,h){return d[h]!=null&&(v[h]=d[h]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,p){return a(u[p],c[p])||(d[p]=c[p]===void 0?null:c[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},r.exports=s},function(r,n){var i=function(){function a(h,g){return g!=null&&h instanceof g}var o;try{o=Map}catch(h){o=function(){}}var s;try{s=Set}catch(h){s=function(){}}var l;try{l=Promise}catch(h){l=function(){}}function u(h,g,y,m,_){typeof g=="object"&&(y=g.depth,m=g.prototype,_=g.includeNonEnumerable,g=g.circular);var b=[],S=[],O=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function x(C,I){if(C===null)return null;if(I===0)return C;var E,k;if(typeof C!="object")return C;if(a(C,o))E=new o;else if(a(C,s))E=new s;else if(a(C,l))E=new l(function($,L){C.then(function(N){$(x(N,I-1))},function(N){L(x(N,I-1))})});else if(u.__isArray(C))E=[];else if(u.__isRegExp(C))E=new RegExp(C.source,v(C)),C.lastIndex&&(E.lastIndex=C.lastIndex);else if(u.__isDate(C))E=new Date(C.getTime());else{if(O&&Buffer.isBuffer(C))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(C.length):E=new Buffer(C.length),C.copy(E),E;a(C,Error)?E=Object.create(C):typeof m>"u"?(k=Object.getPrototypeOf(C),E=Object.create(k)):(E=Object.create(m),k=m)}if(g){var w=b.indexOf(C);if(w!=-1)return S[w];b.push(C),S.push(E)}a(C,o)&&C.forEach(function($,L){var N=x(L,I-1),B=x($,I-1);E.set(N,B)}),a(C,s)&&C.forEach(function($){var L=x($,I-1);E.add(L)});for(var A in C){var P;k&&(P=Object.getOwnPropertyDescriptor(k,A)),!(P&&P.set==null)&&(E[A]=x(C[A],I-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(C),A=0;A<F.length;A++){var D=F[A],R=Object.getOwnPropertyDescriptor(C,D);R&&!R.enumerable&&!_||(E[D]=x(C[D],I-1),R.enumerable||Object.defineProperty(E,D,{enumerable:!1}))}if(_)for(var G=Object.getOwnPropertyNames(C),A=0;A<G.length;A++){var V=G[A],R=Object.getOwnPropertyDescriptor(C,V);R&&R.enumerable||(E[V]=x(C[V],I-1),Object.defineProperty(E,V,{enumerable:!1}))}return E}return x(h,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function c(h){return Object.prototype.toString.call(h)}u.__objToStr=c;function f(h){return typeof h=="object"&&c(h)==="[object Date]"}u.__isDate=f;function d(h){return typeof h=="object"&&c(h)==="[object Array]"}u.__isArray=d;function p(h){return typeof h=="object"&&c(h)==="[object RegExp]"}u.__isRegExp=p;function v(h){var g="";return h.global&&(g+="g"),h.ignoreCase&&(g+="i"),h.multiline&&(g+="m"),g}return u.__getRegExpFlags=v,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(k,w){var A=[],P=!0,F=!1,D=void 0;try{for(var R=k[Symbol.iterator](),G;!(P=(G=R.next()).done)&&(A.push(G.value),!(w&&A.length===w));P=!0);}catch(V){F=!0,D=V}finally{try{!P&&R.return&&R.return()}finally{if(F)throw D}}return A}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(k,w){for(var A=0;A<w.length;A++){var P=w[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,w,A){return w&&E(k.prototype,w),A&&E(k,A),k}}(),s=function E(k,w,A){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,w);if(P===void 0){var F=Object.getPrototypeOf(k);return F===null?void 0:E(F,w,A)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(A)}},l=i(0),u=b(l),c=i(8),f=b(c),d=i(4),p=b(d),v=i(16),h=b(v),g=i(13),y=b(g),m=i(25),_=b(m);function b(E){return E&&E.__esModule?E:{default:E}}function S(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function O(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}function C(E){return E instanceof p.default||E instanceof d.BlockEmbed}var I=function(E){x(k,E);function k(w,A){S(this,k);var P=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w));return P.emitter=A.emitter,Array.isArray(A.whitelist)&&(P.whitelist=A.whitelist.reduce(function(F,D){return F[D]=!0,F},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return o(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,P){var F=this.line(A),D=a(F,2),R=D[0],G=D[1],V=this.line(A+P),$=a(V,1),L=$[0];if(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,A,P),L!=null&&R!==L&&G>0){if(R instanceof d.BlockEmbed||L instanceof d.BlockEmbed){this.optimize();return}if(R instanceof y.default){var N=R.newlineIndex(R.length(),!0);if(N>-1&&(R=R.split(N+1),R===L)){this.optimize();return}}else if(L instanceof y.default){var B=L.newlineIndex(0);B>-1&&L.split(B+1)}var H=L.children.head instanceof h.default?null:L.children.head;R.moveChildren(L,H),R.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,P,F,D){this.whitelist!=null&&!this.whitelist[F]||(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,A,P,F,D),this.optimize())}},{key:"insertAt",value:function(A,P,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[P])){if(A>=this.length())if(F==null||u.default.query(P,u.default.Scope.BLOCK)==null){var D=u.default.create(this.statics.defaultChild);this.appendChild(D),F==null&&P.endsWith("\n")&&(P=P.slice(0,-1)),D.insertAt(0,P,F)}else{var R=u.default.create(P,F);this.appendChild(R)}else s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,A,P,F);this.optimize()}}},{key:"insertBefore",value:function(A,P){if(A.statics.scope===u.default.Scope.INLINE_BLOT){var F=u.default.create(this.statics.defaultChild);F.appendChild(A),A=F}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,A,P)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(C,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function D(R,G,V){var $=[],L=V;return R.children.forEachAt(G,V,function(N,B,H){C(N)?$.push(N):N instanceof u.default.Container&&($=$.concat(D(N,B,L))),L-=H}),$};return F(this,A,P)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,A,P),A.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,A,P))}},{key:"path",value:function(A){return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var P=f.default.sources.USER;typeof A=="string"&&(P=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,P,A),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,P,A)}}}]),k}(u.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[p.default,d.BlockEmbed,_.default],n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(W,q){var Y=[],K=!0,ie=!1,te=void 0;try{for(var ae=W[Symbol.iterator](),ue;!(K=(ue=ae.next()).done)&&(Y.push(ue.value),!(q&&Y.length===q));K=!0);}catch(fe){ie=!0,te=fe}finally{try{!K&&ae.return&&ae.return()}finally{if(ie)throw te}}return Y}return function(W,q){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return M(W,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(W,q){for(var Y=0;Y<q.length;Y++){var K=q[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,q,Y){return q&&M(W.prototype,q),Y&&M(W,Y),W}}(),l=i(21),u=E(l),c=i(11),f=E(c),d=i(3),p=E(d),v=i(2),h=E(v),g=i(20),y=E(g),m=i(0),_=E(m),b=i(5),S=E(b),O=i(10),x=E(O),C=i(9),I=E(C);function E(M){return M&&M.__esModule?M:{default:M}}function k(M,W,q){return W in M?Object.defineProperty(M,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):M[W]=q,M}function w(M,W){if(!(M instanceof W))throw new TypeError("Cannot call a class as a function")}function A(M,W){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:M}function P(M,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);M.prototype=Object.create(W&&W.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(M,W):M.__proto__=W)}var F=(0,x.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",R=function(M){P(W,M),s(W,null,[{key:"match",value:function(Y,K){return K=z(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!K[ie]!==Y[ie]&&K[ie]!==null})?!1:K.key===(Y.which||Y.keyCode)}}]);function W(q,Y){w(this,W);var K=A(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,q,Y));return K.bindings={},Object.keys(K.options.bindings).forEach(function(ie){ie==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||K.options.bindings[ie]&&K.addBinding(K.options.bindings[ie])}),K.addBinding({key:W.keys.ENTER,shiftKey:null},N),K.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},V),K.addBinding({key:W.keys.DELETE},{collapsed:!0},$)):(K.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},V),K.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),K.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},L),K.addBinding({key:W.keys.DELETE},{collapsed:!1},L),K.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},V),K.listen(),K}return s(W,[{key:"addBinding",value:function(Y){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=z(Y);if(te==null||te.key==null)return F.warn("Attempted to add invalid keyboard binding",te);typeof K=="function"&&(K={handler:K}),typeof ie=="function"&&(ie={handler:ie}),te=(0,p.default)(te,K,ie),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var ie=K.which||K.keyCode,te=(Y.bindings[ie]||[]).filter(function(he){return W.match(K,he)});if(te.length!==0){var ae=Y.quill.getSelection();if(!(ae==null||!Y.quill.hasFocus())){var ue=Y.quill.getLine(ae.index),fe=o(ue,2),pe=fe[0],Se=fe[1],Q=Y.quill.getLeaf(ae.index),re=o(Q,2),de=re[0],ve=re[1],ee=ae.length===0?[de,ve]:Y.quill.getLeaf(ae.index+ae.length),me=o(ee,2),Oe=me[0],we=me[1],Je=de instanceof _.default.Text?de.value().slice(0,ve):"",at=Oe instanceof _.default.Text?Oe.value().slice(we):"",ce={collapsed:ae.length===0,empty:ae.length===0&&pe.length()<=1,format:Y.quill.getFormat(ae),offset:Se,prefix:Je,suffix:at},ge=te.some(function(he){if(he.collapsed!=null&&he.collapsed!==ce.collapsed||he.empty!=null&&he.empty!==ce.empty||he.offset!=null&&he.offset!==ce.offset)return!1;if(Array.isArray(he.format)){if(he.format.every(function(Pe){return ce.format[Pe]==null}))return!1}else if(a(he.format)==="object"&&!Object.keys(he.format).every(function(Pe){return he.format[Pe]===!0?ce.format[Pe]!=null:he.format[Pe]===!1?ce.format[Pe]==null:(0,f.default)(he.format[Pe],ce.format[Pe])}))return!1;return he.prefix!=null&&!he.prefix.test(ce.prefix)||he.suffix!=null&&!he.suffix.test(ce.suffix)?!1:he.handler.call(Y,ae,ce)!==!0});ge&&K.preventDefault()}}}})}}]),W}(I.default);R.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},R.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:R.keys.TAB,format:["blockquote","indent","list"],handler:function(W,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:R.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:R.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,q){q.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:R.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,S.default.sources.USER)}},tab:{key:R.keys.TAB,handler:function(W){this.quill.history.cutoff();var q=new h.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(q,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,S.default.sources.SILENT)}},"list empty enter":{key:R.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,q){this.quill.format("list",!1,S.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:R.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var q=this.quill.getLine(W.index),Y=o(q,2),K=Y[0],ie=Y[1],te=(0,p.default)({},K.formats(),{list:"checked"}),ae=new h.default().retain(W.index).insert("\n",te).retain(K.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(ae,S.default.sources.USER),this.quill.setSelection(W.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:R.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,q){var Y=this.quill.getLine(W.index),K=o(Y,2),ie=K[0],te=K[1],ae=new h.default().retain(W.index).insert("\n",q.format).retain(ie.length()-te-1).retain(1,{header:null});this.quill.updateContents(ae,S.default.sources.USER),this.quill.setSelection(W.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,q){var Y=q.prefix.length,K=this.quill.getLine(W.index),ie=o(K,2),te=ie[0],ae=ie[1];if(ae>Y)return!0;var ue=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(W.index," ",S.default.sources.USER),this.quill.history.cutoff();var fe=new h.default().retain(W.index-ae).delete(Y+1).retain(te.length()-2-ae).retain(1,{list:ue});this.quill.updateContents(fe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-Y,S.default.sources.SILENT)}},"code exit":{key:R.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var q=this.quill.getLine(W.index),Y=o(q,2),K=Y[0],ie=Y[1],te=new h.default().retain(W.index+K.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,S.default.sources.USER)}},"embed left":G(R.keys.LEFT,!1),"embed left shift":G(R.keys.LEFT,!0),"embed right":G(R.keys.RIGHT,!1),"embed right shift":G(R.keys.RIGHT,!0)}};function G(M,W){var q,Y=M===R.keys.LEFT?"prefix":"suffix";return q={key:M,shiftKey:W,altKey:null},k(q,Y,/^$/),k(q,"handler",function(ie){var te=ie.index;M===R.keys.RIGHT&&(te+=ie.length+1);var ae=this.quill.getLeaf(te),ue=o(ae,1),fe=ue[0];return fe instanceof _.default.Embed?(M===R.keys.LEFT?W?this.quill.setSelection(ie.index-1,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index-1,S.default.sources.USER):W?this.quill.setSelection(ie.index,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,S.default.sources.USER),!1):!0}),q}function V(M,W){if(!(M.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(M.index),Y=o(q,1),K=Y[0],ie={};if(W.offset===0){var te=this.quill.getLine(M.index-1),ae=o(te,1),ue=ae[0];if(ue!=null&&ue.length()>1){var fe=K.formats(),pe=this.quill.getFormat(M.index-1,1);ie=y.default.attributes.diff(fe,pe)||{}}}var Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(M.index-Se,Se,S.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(M.index-Se,Se,ie,S.default.sources.USER),this.quill.focus()}}function $(M,W){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(M.index>=this.quill.getLength()-q)){var Y={},K=0,ie=this.quill.getLine(M.index),te=o(ie,1),ae=te[0];if(W.offset>=ae.length()-1){var ue=this.quill.getLine(M.index+1),fe=o(ue,1),pe=fe[0];if(pe){var Se=ae.formats(),Q=this.quill.getFormat(M.index,1);Y=y.default.attributes.diff(Se,Q)||{},K=pe.length()}}this.quill.deleteText(M.index,q,S.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(M.index+K-1,q,Y,S.default.sources.USER)}}function L(M){var W=this.quill.getLines(M),q={};if(W.length>1){var Y=W[0].formats(),K=W[W.length-1].formats();q=y.default.attributes.diff(K,Y)||{}}this.quill.deleteText(M,S.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(M.index,1,q,S.default.sources.USER),this.quill.setSelection(M.index,S.default.sources.SILENT),this.quill.focus()}function N(M,W){var q=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var Y=Object.keys(W.format).reduce(function(K,ie){return _.default.query(ie,_.default.Scope.BLOCK)&&!Array.isArray(W.format[ie])&&(K[ie]=W.format[ie]),K},{});this.quill.insertText(M.index,"\n",Y,S.default.sources.USER),this.quill.setSelection(M.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(K){Y[K]==null&&(Array.isArray(W.format[K])||K!=="link"&&q.quill.format(K,W.format[K],S.default.sources.USER))})}function B(M){return{key:R.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(q){var Y=_.default.query("code-block"),K=q.index,ie=q.length,te=this.quill.scroll.descendant(Y,K),ae=o(te,2),ue=ae[0],fe=ae[1];if(ue!=null){var pe=this.quill.getIndex(ue),Se=ue.newlineIndex(fe,!0)+1,Q=ue.newlineIndex(pe+fe+ie),re=ue.domNode.textContent.slice(Se,Q).split("\n");fe=0,re.forEach(function(de,ve){M?(ue.insertAt(Se+fe,Y.TAB),fe+=Y.TAB.length,ve===0?K+=Y.TAB.length:ie+=Y.TAB.length):de.startsWith(Y.TAB)&&(ue.deleteAt(Se+fe,Y.TAB.length),fe-=Y.TAB.length,ve===0?K-=Y.TAB.length:ie-=Y.TAB.length),fe+=de.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(K,ie,S.default.sources.SILENT)}}}}function H(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(q,Y){this.quill.format(M,!Y.format[M],S.default.sources.USER)}}}function z(M){if(typeof M=="string"||typeof M=="number")return z({key:M});if((typeof M>"u"?"undefined":a(M))==="object"&&(M=(0,u.default)(M,!1)),typeof M.key=="string")if(R.keys[M.key.toUpperCase()]!=null)M.key=R.keys[M.key.toUpperCase()];else if(M.key.length===1)M.key=M.key.toUpperCase().charCodeAt(0);else return null;return M.shortKey&&(M[D]=M.shortKey,delete M.shortKey),M}n.default=R,n.SHORTKEY=D},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){var b=[],S=!0,O=!1,x=void 0;try{for(var C=m[Symbol.iterator](),I;!(S=(I=C.next()).done)&&(b.push(I.value),!(_&&b.length===_));S=!0);}catch(E){O=!0,x=E}finally{try{!S&&C.return&&C.return()}finally{if(O)throw x}}return b}return function(m,_){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function v(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){h(m,y),s(m,null,[{key:"value",value:function(){}}]);function m(_,b){p(this,m);var S=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return S.selection=b,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,S){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,S);for(var O=this,x=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=m.CONTENTS.length,O.optimize(),O.formatAt(x,m.CONTENTS.length,b,S),this._length=0)}},{key:"index",value:function(b,S){return b===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,S=this.selection.getNativeRange(),O=void 0,x=void 0,C=void 0;if(S!=null&&S.start.node===b&&S.end.node===b){var I=[b,S.start.offset,S.end.offset];O=I[0],x=I[1],C=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var E=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=m.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var k=[x,C].map(function(A){return Math.max(0,Math.min(O.data.length,A-1))}),w=a(k,2);return x=w[0],C=w[1],{startNode:O,startOffset:x,endNode:O,endOffset:C}}}}},{key:"update",value:function(b,S){var O=this;if(b.some(function(C){return C.type==="characterData"&&C.target===O.textNode})){var x=this.restore();x&&(S.range=x)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Container);p.allowedChildren=[l.default,s.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){d(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(_){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):b}}]),y}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),h=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=v,n.ColorStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(m,_){if(m!==this.statics.blotName||!_)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(m){var _=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),_.setAttribute("href",m),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return v(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(h,g){var y=document.createElement("a");y.href=h;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=p,n.sanitize=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),s=i(23),l=f(s),u=i(107),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function v(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var h=function(){function g(y){var m=this;d(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var _=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),m.hasAttribute("value")&&b.setAttribute("data-value",m.getAttribute("value")),m.textContent&&b.setAttribute("data-label",m.textContent),b.addEventListener("click",function(){_.selectItem(b,!0)}),b.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:_.selectItem(b,!0),S.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),S.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(b){var S=m.buildItem(b);_.appendChild(S),b.selected===!0&&m.selectItem(S)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(_){m.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(m!==b&&(b!=null&&b.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var b=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),g}();n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=F(a),s=i(5),l=F(s),u=i(4),c=F(u),f=i(16),d=F(f),p=i(25),v=F(p),h=i(24),g=F(h),y=i(35),m=F(y),_=i(6),b=F(_),S=i(22),O=F(S),x=i(7),C=F(x),I=i(55),E=F(I),k=i(42),w=F(k),A=i(23),P=F(A);function F(D){return D&&D.__esModule?D:{default:D}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":v.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":b.default,"blots/scroll":O.default,"blots/text":C.default,"modules/clipboard":E.default,"modules/history":w.default,"modules/keyboard":P.default}),o.default.register(c.default,d.default,g.default,b.default,O.default,C.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);d.wrap(p),p.format(c,f)}},s.prototype.insertAt=function(l,u,c){var f=c==null?a.create("text",u):a.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=a.default.keys(this.domNode),p=o.default.keys(this.domNode),v=s.default.keys(this.domNode);d.concat(p).concat(v).forEach(function(h){var g=l.query(h,l.Scope.ATTRIBUTE);g instanceof a.default&&(f.attributes[g.attrName]=g)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var v=d.attributes[p].value(d.domNode);f.format(p,v)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},c}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=f(s),u=i(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h="\uFEFF",g=function(y){v(m,y);function m(_){d(this,m);var b=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(S){b.contentNode.appendChild(S)}),b.leftGuard=document.createTextNode(h),b.rightGuard=document.createTextNode(h),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(m,[{key:"index",value:function(b,S){return b===this.leftGuard?0:b===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"restore",value:function(b){var S=void 0,O=void 0,x=b.data.split(h).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,x),S={startNode:this.prev.domNode,startOffset:C+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),S={startNode:O,startOffset:x.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,x),S={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),S={startNode:O,startOffset:x.length}));return b.data=h,S}},{key:"update",value:function(b,S){var O=this;b.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var C=O.restore(x.target);C&&(S.range=C)}})}}]),m}(l.default.Embed);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),h=function(y){d(m,y);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(b){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),g=new h("font","font-family",p);n.FontStyle=g,n.FontClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=i(0),s=d(o),l=i(5),u=d(l),c=i(9),f=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function h(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var g=function(_){h(b,_);function b(S,O){p(this,b);var x=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(u.default.events.EDITOR_CHANGE,function(C,I,E,k){C!==u.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||k===u.default.sources.USER?x.record(I,E):x.transform(I))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return a(b,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var C=this.stack[O].pop();this.stack[x].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[O],u.default.sources.USER),this.ignoreChange=!1;var I=m(C[O]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(x),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var E=this.stack.undo.pop();C=C.compose(E.undo),O=E.redo.compose(O)}else this.lastRecorded=I;this.stack.undo.push({redo:O,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(_){var b=_.ops[_.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith("\n"):b.attributes!=null?Object.keys(b.attributes).some(function(S){return s.default.query(S,s.default.Scope.BLOCK)!=null}):!1}function m(_){var b=_.reduce(function(O,x){return O+=x.delete||0,O},0),S=_.length()-b;return y(_)&&(S-=1),S}n.default=g,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function N(B,H){for(var z=0;z<H.length;z++){var M=H[z];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(B,M.key,M)}}return function(B,H,z){return H&&N(B.prototype,H),z&&N(B,z),B}}(),o=function N(B,H,z){B===null&&(B=Function.prototype);var M=Object.getOwnPropertyDescriptor(B,H);if(M===void 0){var W=Object.getPrototypeOf(B);return W===null?void 0:N(W,H,z)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(z)}},s=i(3),l=I(s),u=i(2),c=I(u),f=i(8),d=I(f),p=i(23),v=I(p),h=i(34),g=I(h),y=i(59),m=I(y),_=i(60),b=I(_),S=i(28),O=I(S),x=i(61),C=I(x);function I(N){return N&&N.__esModule?N:{default:N}}function E(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function k(N,B){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:N}function w(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(N,B):N.__proto__=B)}var A=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],D=["1","2","3",!1],R=["small",!1,"large","huge"],G=function(N){w(B,N);function B(H,z){E(this,B);var M=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,H,z)),W=function q(Y){if(!document.body.contains(H.root))return document.body.removeEventListener("click",q);M.tooltip!=null&&!M.tooltip.root.contains(Y.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),M.pickers!=null&&M.pickers.forEach(function(K){K.container.contains(Y.target)||K.close()})};return H.emitter.listenDOM("click",document.body,W),M}return a(B,[{key:"addModule",value:function(z){var M=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(z,M){z.forEach(function(W){var q=W.getAttribute("class")||"";q.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),M[Y]!=null))if(Y==="direction")W.innerHTML=M[Y][""]+M[Y].rtl;else if(typeof M[Y]=="string")W.innerHTML=M[Y];else{var K=W.value||"";K!=null&&M[Y][K]&&(W.innerHTML=M[Y][K])}})})}},{key:"buildPickers",value:function(z,M){var W=this;this.pickers=z.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&L(Y,A),new b.default(Y,M.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var K=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&L(Y,P,K==="background"?"#ffffff":"#000000"),new m.default(Y,M[K])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?L(Y,F):Y.classList.contains("ql-header")?L(Y,D):Y.classList.contains("ql-size")&&L(Y,R)),new O.default(Y)});var q=function(){W.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,q)}}]),B}(g.default);G.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var z=new FileReader;z.onload=function(M){var W=B.quill.getSelection(!0);B.quill.updateContents(new c.default().retain(W.index).delete(W.length).insert({image:M.target.result}),d.default.sources.USER),B.quill.setSelection(W.index+1,d.default.sources.SILENT),H.value=""},z.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var V=function(N){w(B,N);function B(H,z){E(this,B);var M=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,H,z));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return a(B,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(M){v.default.match(M,"enter")?(z.save(),M.preventDefault()):v.default.match(M,"escape")&&(z.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),M!=null?this.textbox.value=M:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=M;break}case"video":z=$(z);case"formula":{if(!z)break;var W=this.quill.getSelection(!0);if(W!=null){var q=W.index+W.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",d.default.sources.USER),this.quill.setSelection(q+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(C.default);function $(N){var B=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":N}function L(N,B){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(z){var M=document.createElement("option");z===H?M.setAttribute("selected","selected"):M.setAttribute("value",z),N.appendChild(M)})}n.BaseTooltip=V,n.default=G},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||l&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),f=c[0],d=c[1],p,v=s-d,h=this.iterator(f);(p=h())&&v<s+l;){var g=p.length();s>v?u(p,s-v,Math.min(l,v+g-s)):u(p,0,Math.min(g,s+l-v)),v+=g}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(h){v.update(h)}),v.observer.observe(v.domNode,l),v.attach(),v}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(h){h.remove()}):f.prototype.deleteAt.call(this,p,v)},d.prototype.formatAt=function(p,v,h,g){this.update(),f.prototype.formatAt.call(this,p,v,h,g)},d.prototype.insertAt=function(p,v,h){this.update(),f.prototype.insertAt.call(this,p,v,h)},d.prototype.optimize=function(p,v){var h=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(S,O){O===void 0&&(O=!0),!(S==null||S===h)&&S.domNode.parentNode!=null&&(S.domNode[s.DATA_KEY].mutations==null&&(S.domNode[s.DATA_KEY].mutations=[]),O&&y(S.parent))},m=function(S){S.domNode[s.DATA_KEY]==null||S.domNode[s.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(m),S.optimize(v))},_=p,b=0;_.length>0;b+=1){if(b>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(S){var O=s.find(S.target,!0);O!=null&&(O.domNode===S.target&&(S.type==="childList"?(y(s.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(x){var C=s.find(x,!1);y(C,!1),C instanceof o.default&&C.children.forEach(function(I){y(I,!1)})})):S.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(m),_=[].slice.call(this.observer.takeRecords()),g=_.slice();g.length>0;)p.push(g.pop())}},d.prototype.update=function(p,v){var h=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=s.find(g.target,!0);return y==null?null:y.domNode[s.DATA_KEY].mutations==null?(y.domNode[s.DATA_KEY].mutations=[g],y):(y.domNode[s.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===h||g.domNode[s.DATA_KEY]==null||g.update(g.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(p,v)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){c(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){a(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,p){var v=this;d===this.statics.blotName&&!p?(this.children.forEach(function(h){h instanceof o.default||(h=h.wrap(f.blotName,!0)),v.attributes.copy(h)}),this.unwrap()):c.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,v,h){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var g=this.isolate(d,p);g.format(v,h)}else c.prototype.formatAt.call(this,d,p,v,h)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,p,v){s.query(p,s.Scope.BLOCK)!=null?this.format(p,v):u.prototype.formatAt.call(this,f,d,p,v)},c.prototype.insertAt=function(f,d,p){if(p==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,p);else{var v=this.split(f),h=s.create(d,p);v.parent.insertBefore(h,v)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,p){c===0&&f===this.length()?this.format(d,p):l.prototype.formatAt.call(this,c,f,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=s},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=s.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,d){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,p=0;p<c;p++)if(d=u[p],l.call(f,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function s(b,S,O){if(b==S)return b?[[o,b]]:[];(O<0||b.length<O)&&(O=null);var x=f(b,S),C=b.substring(0,x);b=b.substring(x),S=S.substring(x),x=d(b,S);var I=b.substring(b.length-x);b=b.substring(0,b.length-x),S=S.substring(0,S.length-x);var E=l(b,S);return C&&E.unshift([o,C]),I&&E.push([o,I]),v(E),O!=null&&(E=y(E,O)),E=m(E),E}function l(b,S){var O;if(!b)return[[a,S]];if(!S)return[[i,b]];var x=b.length>S.length?b:S,C=b.length>S.length?S:b,I=x.indexOf(C);if(I!=-1)return O=[[a,x.substring(0,I)],[o,C],[a,x.substring(I+C.length)]],b.length>S.length&&(O[0][0]=O[2][0]=i),O;if(C.length==1)return[[i,b],[a,S]];var E=p(b,S);if(E){var k=E[0],w=E[1],A=E[2],P=E[3],F=E[4],D=s(k,A),R=s(w,P);return D.concat([[o,F]],R)}return u(b,S)}function u(b,S){for(var O=b.length,x=S.length,C=Math.ceil((O+x)/2),I=C,E=2*C,k=new Array(E),w=new Array(E),A=0;A<E;A++)k[A]=-1,w[A]=-1;k[I+1]=0,w[I+1]=0;for(var P=O-x,F=P%2!=0,D=0,R=0,G=0,V=0,$=0;$<C;$++){for(var L=-$+D;L<=$-R;L+=2){var N=I+L,B;L==-$||L!=$&&k[N-1]<k[N+1]?B=k[N+1]:B=k[N-1]+1;for(var H=B-L;B<O&&H<x&&b.charAt(B)==S.charAt(H);)B++,H++;if(k[N]=B,B>O)R+=2;else if(H>x)D+=2;else if(F){var z=I+P-L;if(z>=0&&z<E&&w[z]!=-1){var M=O-w[z];if(B>=M)return c(b,S,B,H)}}}for(var W=-$+G;W<=$-V;W+=2){var z=I+W,M;W==-$||W!=$&&w[z-1]<w[z+1]?M=w[z+1]:M=w[z-1]+1;for(var q=M-W;M<O&&q<x&&b.charAt(O-M-1)==S.charAt(x-q-1);)M++,q++;if(w[z]=M,M>O)V+=2;else if(q>x)G+=2;else if(!F){var N=I+P-W;if(N>=0&&N<E&&k[N]!=-1){var B=k[N],H=I+B-N;if(M=O-M,B>=M)return c(b,S,B,H)}}}}return[[i,b],[a,S]]}function c(b,S,O,x){var C=b.substring(0,O),I=S.substring(0,x),E=b.substring(O),k=S.substring(x),w=s(C,I),A=s(E,k);return w.concat(A)}function f(b,S){if(!b||!S||b.charAt(0)!=S.charAt(0))return 0;for(var O=0,x=Math.min(b.length,S.length),C=x,I=0;O<C;)b.substring(I,C)==S.substring(I,C)?(O=C,I=O):x=C,C=Math.floor((x-O)/2+O);return C}function d(b,S){if(!b||!S||b.charAt(b.length-1)!=S.charAt(S.length-1))return 0;for(var O=0,x=Math.min(b.length,S.length),C=x,I=0;O<C;)b.substring(b.length-C,b.length-I)==S.substring(S.length-C,S.length-I)?(O=C,I=O):x=C,C=Math.floor((x-O)/2+O);return C}function p(b,S){var O=b.length>S.length?b:S,x=b.length>S.length?S:b;if(O.length<4||x.length*2<O.length)return null;function C(R,G,V){for(var $=R.substring(V,V+Math.floor(R.length/4)),L=-1,N="",B,H,z,M;(L=G.indexOf($,L+1))!=-1;){var W=f(R.substring(V),G.substring(L)),q=d(R.substring(0,V),G.substring(0,L));N.length<q+W&&(N=G.substring(L-q,L)+G.substring(L,L+W),B=R.substring(0,V-q),H=R.substring(V+W),z=G.substring(0,L-q),M=G.substring(L+W))}return N.length*2>=R.length?[B,H,z,M,N]:null}var I=C(O,x,Math.ceil(O.length/4)),E=C(O,x,Math.ceil(O.length/2)),k;if(!I&&!E)return null;E?I?k=I[4].length>E[4].length?I:E:k=E:k=I;var w,A,P,F;b.length>S.length?(w=k[0],A=k[1],P=k[2],F=k[3]):(P=k[0],F=k[1],w=k[2],A=k[3]);var D=k[4];return[w,A,P,F,D]}function v(b){b.push([o,""]);for(var S=0,O=0,x=0,C="",I="",E;S<b.length;)switch(b[S][0]){case a:x++,I+=b[S][1],S++;break;case i:O++,C+=b[S][1],S++;break;case o:O+x>1?(O!==0&&x!==0&&(E=f(I,C),E!==0&&(S-O-x>0&&b[S-O-x-1][0]==o?b[S-O-x-1][1]+=I.substring(0,E):(b.splice(0,0,[o,I.substring(0,E)]),S++),I=I.substring(E),C=C.substring(E)),E=d(I,C),E!==0&&(b[S][1]=I.substring(I.length-E)+b[S][1],I=I.substring(0,I.length-E),C=C.substring(0,C.length-E))),O===0?b.splice(S-x,O+x,[a,I]):x===0?b.splice(S-O,O+x,[i,C]):b.splice(S-O-x,O+x,[i,C],[a,I]),S=S-O-x+(O?1:0)+(x?1:0)+1):S!==0&&b[S-1][0]==o?(b[S-1][1]+=b[S][1],b.splice(S,1)):S++,x=0,O=0,C="",I="";break}b[b.length-1][1]===""&&b.pop();var k=!1;for(S=1;S<b.length-1;)b[S-1][0]==o&&b[S+1][0]==o&&(b[S][1].substring(b[S][1].length-b[S-1][1].length)==b[S-1][1]?(b[S][1]=b[S-1][1]+b[S][1].substring(0,b[S][1].length-b[S-1][1].length),b[S+1][1]=b[S-1][1]+b[S+1][1],b.splice(S-1,1),k=!0):b[S][1].substring(0,b[S+1][1].length)==b[S+1][1]&&(b[S-1][1]+=b[S+1][1],b[S][1]=b[S][1].substring(b[S+1][1].length)+b[S+1][1],b.splice(S+1,1),k=!0)),S++;k&&v(b)}var h=s;h.INSERT=a,h.DELETE=i,h.EQUAL=o,r.exports=h;function g(b,S){if(S===0)return[o,b];for(var O=0,x=0;x<b.length;x++){var C=b[x];if(C[0]===i||C[0]===o){var I=O+C[1].length;if(S===I)return[x+1,b];if(S<I){b=b.slice();var E=S-O,k=[C[0],C[1].slice(0,E)],w=[C[0],C[1].slice(E)];return b.splice(x,1,k,w),[x+1,b]}else O=I}}throw new Error("cursor_pos is out of bounds!")}function y(b,S){var O=g(b,S),x=O[1],C=O[0],I=x[C],E=x[C+1];if(I==null)return b;if(I[0]!==o)return b;if(E!=null&&I[1]+E[1]===E[1]+I[1])return x.splice(C,2,E,I),_(x,C,2);if(E!=null&&E[1].indexOf(I[1])===0){x.splice(C,2,[E[0],I[1]],[0,I[1]]);var k=E[1].slice(I[1].length);return k.length>0&&x.splice(C+2,0,[E[0],k]),_(x,C,3)}else return b}function m(b){for(var S=!1,O=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},x=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},C=2;C<b.length;C+=1)b[C-2][0]===o&&x(b[C-2][1])&&b[C-1][0]===i&&O(b[C-1][1])&&b[C][0]===a&&O(b[C][1])&&(S=!0,b[C-1][1]=b[C-2][1].slice(-1)+b[C-1][1],b[C][1]=b[C-2][1].slice(-1)+b[C][1],b[C-2][1]=b[C-2][1].slice(0,-1));if(!S)return b;for(var I=[],C=0;C<b.length;C+=1)b[C][1].length>0&&I.push(b[C]);return I}function _(b,S,O){for(var x=S+O-1;x>=0&&x>=S-1;x--)if(x+1<b.length){var C=b[x],I=b[x+1];C[0]===I[1]&&b.splice(x,2,[C[0],C[1]+I[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=a?a+c:c,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,h=p.length,g=new Array(h);v<h;v++)g[v]=p[v].fn;return g},l.prototype.emit=function(c,f,d,p,v,h){var g=a?a+c:c;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,h),!0}for(b=1,_=new Array(m-1);b<m;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,O;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),m){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,p);break;default:if(!_)for(O=1,_=new Array(m-1);O<m;O++)_[O-1]=arguments[O];y[b].fn.apply(y[b].context,_)}}return!0},l.prototype.on=function(c,f,d){var p=new s(f,d||this),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,f,d){var p=new s(f,d||this,!0),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,p){var v=a?a+c:c;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var h=this._events[v];if(h.fn)h.fn===f&&(!p||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var g=0,y=[],m=h.length;g<m;g++)(h[g].fn!==f||p&&!h[g].once||d&&h[g].context!==d)&&y.push(h[g]);y.length?this._events[v]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=function(){function Q(re,de){var ve=[],ee=!0,me=!1,Oe=void 0;try{for(var we=re[Symbol.iterator](),Je;!(ee=(Je=we.next()).done)&&(ve.push(Je.value),!(de&&ve.length===de));ee=!0);}catch(at){me=!0,Oe=at}finally{try{!ee&&we.return&&we.return()}finally{if(me)throw Oe}}return ve}return function(re,de){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return Q(re,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function Q(re,de){for(var ve=0;ve<de.length;ve++){var ee=de[ve];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(re,ee.key,ee)}}return function(re,de,ve){return de&&Q(re.prototype,de),ve&&Q(re,ve),re}}(),l=i(3),u=w(l),c=i(2),f=w(c),d=i(0),p=w(d),v=i(5),h=w(v),g=i(10),y=w(g),m=i(9),_=w(m),b=i(36),S=i(37),O=i(13),x=w(O),C=i(26),I=i(38),E=i(39),k=i(40);function w(Q){return Q&&Q.__esModule?Q:{default:Q}}function A(Q,re,de){return re in Q?Object.defineProperty(Q,re,{value:de,enumerable:!0,configurable:!0,writable:!0}):Q[re]=de,Q}function P(Q,re){if(!(Q instanceof re))throw new TypeError("Cannot call a class as a function")}function F(Q,re){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Q}function D(Q,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Q.prototype=Object.create(re&&re.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,re):Q.__proto__=re)}var R=(0,y.default)("quill:clipboard"),G="__ql-matcher",V=[[Node.TEXT_NODE,Se],[Node.TEXT_NODE,ue],["br",ie],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,pe],["li",ae],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",te]],$=[b.AlignAttribute,I.DirectionAttribute].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),L=[b.AlignStyle,S.BackgroundStyle,C.ColorStyle,I.DirectionStyle,E.FontStyle,k.SizeStyle].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),N=function(Q){D(re,Q);function re(de,ve){P(this,re);var ee=F(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,de,ve));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],V.concat(ee.options.matchers).forEach(function(me){var Oe=o(me,2),we=Oe[0],Je=Oe[1];!ve.matchVisual&&Je===fe||ee.addMatcher(we,Je)}),ee}return s(re,[{key:"addMatcher",value:function(ve,ee){this.matchers.push([ve,ee])}},{key:"convert",value:function(ve){if(typeof ve=="string")return this.container.innerHTML=ve.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[x.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new f.default().insert(me,A({},x.default.blotName,ee[x.default.blotName]))}var Oe=this.prepareMatching(),we=o(Oe,2),Je=we[0],at=we[1],ce=W(this.container,Je,at);return z(ce,"\n")&&ce.ops[ce.ops.length-1].attributes==null&&(ce=ce.compose(new f.default().retain(ce.length()-1).delete(1))),R.log("convert",this.container.innerHTML,ce),this.container.innerHTML="",ce}},{key:"dangerouslyPasteHTML",value:function(ve,ee){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof ve=="string")this.quill.setContents(this.convert(ve),ee),this.quill.setSelection(0,h.default.sources.SILENT);else{var Oe=this.convert(ee);this.quill.updateContents(new f.default().retain(ve).concat(Oe),me),this.quill.setSelection(ve+Oe.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(ve){var ee=this;if(!(ve.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),Oe=new f.default().retain(me.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){Oe=Oe.concat(ee.convert()).delete(me.length),ee.quill.updateContents(Oe,h.default.sources.USER),ee.quill.setSelection(Oe.length()-me.length,h.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=we,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ve=this,ee=[],me=[];return this.matchers.forEach(function(Oe){var we=o(Oe,2),Je=we[0],at=we[1];switch(Je){case Node.TEXT_NODE:me.push(at);break;case Node.ELEMENT_NODE:ee.push(at);break;default:[].forEach.call(ve.container.querySelectorAll(Je),function(ce){ce[G]=ce[G]||[],ce[G].push(at)});break}}),[ee,me]}}]),re}(_.default);N.DEFAULTS={matchers:[],matchVisual:!0};function B(Q,re,de){return(typeof re>"u"?"undefined":a(re))==="object"?Object.keys(re).reduce(function(ve,ee){return B(ve,ee,re[ee])},Q):Q.reduce(function(ve,ee){return ee.attributes&&ee.attributes[re]?ve.push(ee):ve.insert(ee.insert,(0,u.default)({},A({},re,de),ee.attributes))},new f.default)}function H(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return Q[re]||(Q[re]=window.getComputedStyle(Q))}function z(Q,re){for(var de="",ve=Q.ops.length-1;ve>=0&&de.length<re.length;--ve){var ee=Q.ops[ve];if(typeof ee.insert!="string")break;de=ee.insert+de}return de.slice(-1*re.length)===re}function M(Q){if(Q.childNodes.length===0)return!1;var re=H(Q);return["block","list-item"].indexOf(re.display)>-1}function W(Q,re,de){return Q.nodeType===Q.TEXT_NODE?de.reduce(function(ve,ee){return ee(Q,ve)},new f.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(ve,ee){var me=W(ee,re,de);return ee.nodeType===Q.ELEMENT_NODE&&(me=re.reduce(function(Oe,we){return we(ee,Oe)},me),me=(ee[G]||[]).reduce(function(Oe,we){return we(ee,Oe)},me)),ve.concat(me)},new f.default):new f.default}function q(Q,re,de){return B(de,Q,!0)}function Y(Q,re){var de=p.default.Attributor.Attribute.keys(Q),ve=p.default.Attributor.Class.keys(Q),ee=p.default.Attributor.Style.keys(Q),me={};return de.concat(ve).concat(ee).forEach(function(Oe){var we=p.default.query(Oe,p.default.Scope.ATTRIBUTE);we!=null&&(me[we.attrName]=we.value(Q),me[we.attrName])||(we=$[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(me[we.attrName]=we.value(Q)||void 0),we=L[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(we=L[Oe],me[we.attrName]=we.value(Q)||void 0))}),Object.keys(me).length>0&&(re=B(re,me)),re}function K(Q,re){var de=p.default.query(Q);if(de==null)return re;if(de.prototype instanceof p.default.Embed){var ve={},ee=de.value(Q);ee!=null&&(ve[de.blotName]=ee,re=new f.default().insert(ve,de.formats(Q)))}else typeof de.formats=="function"&&(re=B(re,de.blotName,de.formats(Q)));return re}function ie(Q,re){return z(re,"\n")||re.insert("\n"),re}function te(){return new f.default}function ae(Q,re){var de=p.default.query(Q);if(de==null||de.blotName!=="list-item"||!z(re,"\n"))return re;for(var ve=-1,ee=Q.parentNode;!ee.classList.contains("ql-clipboard");)(p.default.query(ee)||{}).blotName==="list"&&(ve+=1),ee=ee.parentNode;return ve<=0?re:re.compose(new f.default().retain(re.length()-1).retain(1,{indent:ve}))}function ue(Q,re){return z(re,"\n")||(M(Q)||re.length()>0&&Q.nextSibling&&M(Q.nextSibling))&&re.insert("\n"),re}function fe(Q,re){if(M(Q)&&Q.nextElementSibling!=null&&!z(re,"\n\n")){var de=Q.offsetHeight+parseFloat(H(Q).marginTop)+parseFloat(H(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+de*1.5&&re.insert("\n")}return re}function pe(Q,re){var de={},ve=Q.style||{};return ve.fontStyle&&H(Q).fontStyle==="italic"&&(de.italic=!0),ve.fontWeight&&(H(Q).fontWeight.startsWith("bold")||parseInt(H(Q).fontWeight)>=700)&&(de.bold=!0),Object.keys(de).length>0&&(re=B(re,de)),parseFloat(ve.textIndent||0)>0&&(re=new f.default().insert("	").concat(re)),re}function Se(Q,re){var de=Q.data;if(Q.parentNode.tagName==="O:P")return re.insert(de.trim());if(de.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return re;if(!H(Q.parentNode).whiteSpace.startsWith("pre")){var ve=function(me,Oe){return Oe=Oe.replace(/[^\u00a0]/g,""),Oe.length<1&&me?" ":Oe};de=de.replace(/\r\n/g," ").replace(/\n/g," "),de=de.replace(/\s\s+/g,ve.bind(ve,!0)),(Q.previousSibling==null&&M(Q.parentNode)||Q.previousSibling!=null&&M(Q.previousSibling))&&(de=de.replace(/^\s+/,ve.bind(ve,!1))),(Q.nextSibling==null&&M(Q.parentNode)||Q.nextSibling!=null&&M(Q.nextSibling))&&(de=de.replace(/\s+$/,ve.bind(ve,!1)))}return re.insert(de)}n.default=N,n.matchAttributor=Y,n.matchBlot=K,n.matchNewline=ue,n.matchSpacing=fe,n.matchText=Se},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"optimize",value:function(y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(w,A){var P=[],F=!0,D=!1,R=void 0;try{for(var G=w[Symbol.iterator](),V;!(F=(V=G.next()).done)&&(P.push(V.value),!(A&&P.length===A));F=!0);}catch($){D=!0,R=$}finally{try{!F&&G.return&&G.return()}finally{if(D)throw R}}return P}return function(w,A){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return k(w,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(w,A){for(var P=0;P<A.length;P++){var F=A[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,A,P){return A&&k(w.prototype,A),P&&k(w,P),w}}(),s=i(2),l=y(s),u=i(0),c=y(u),f=i(5),d=y(f),p=i(10),v=y(p),h=i(9),g=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function m(k,w,A){return w in k?Object.defineProperty(k,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):k[w]=A,k}function _(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function b(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function S(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var O=(0,v.default)("quill:toolbar"),x=function(k){S(w,k);function w(A,P){_(this,w);var F=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A,P));if(Array.isArray(F.options.container)){var D=document.createElement("div");I(D,F.options.container),A.container.parentNode.insertBefore(D,A.container),F.container=D}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var R;return R=O.error("Container required for toolbar",F.options),b(F,R)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(G){F.addHandler(G,F.options.handlers[G])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(G){F.attach(G)}),F.quill.on(d.default.events.EDITOR_CHANGE,function(G,V){G===d.default.events.SELECTION_CHANGE&&F.update(V)}),F.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var G=F.quill.selection.getRange(),V=a(G,1),$=V[0];F.update($)}),F}return o(w,[{key:"addHandler",value:function(P,F){this.handlers[P]=F}},{key:"attach",value:function(P){var F=this,D=[].find.call(P.classList,function(G){return G.indexOf("ql-")===0});if(D){if(D=D.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[D]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[D]==null){O.warn("ignoring attaching to disabled format",D,P);return}if(c.default.query(D)==null){O.warn("ignoring attaching to nonexistent format",D,P);return}}var R=P.tagName==="SELECT"?"change":"click";P.addEventListener(R,function(G){var V=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var $=P.options[P.selectedIndex];$.hasAttribute("selected")?V=!1:V=$.value||!1}else P.classList.contains("ql-active")?V=!1:V=P.value||!P.hasAttribute("value"),G.preventDefault();F.quill.focus();var L=F.quill.selection.getRange(),N=a(L,1),B=N[0];if(F.handlers[D]!=null)F.handlers[D].call(F,V);else if(c.default.query(D).prototype instanceof c.default.Embed){if(V=prompt("Enter "+D),!V)return;F.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},D,V)),d.default.sources.USER)}else F.quill.format(D,V,d.default.sources.USER);F.update(B)}),this.controls.push([D,P])}}},{key:"update",value:function(P){var F=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(D){var R=a(D,2),G=R[0],V=R[1];if(V.tagName==="SELECT"){var $=void 0;if(P==null)$=null;else if(F[G]==null)$=V.querySelector("option[selected]");else if(!Array.isArray(F[G])){var L=F[G];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),$=V.querySelector('option[value="'+L+'"]')}$==null?(V.value="",V.selectedIndex=-1):$.selected=!0}else if(P==null)V.classList.remove("ql-active");else if(V.hasAttribute("value")){var N=F[G]===V.getAttribute("value")||F[G]!=null&&F[G].toString()===V.getAttribute("value")||F[G]==null&&!V.getAttribute("value");V.classList.toggle("ql-active",N)}else V.classList.toggle("ql-active",F[G]!=null)})}}]),w}(g.default);x.DEFAULTS={};function C(k,w,A){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+w),A!=null&&(P.value=A),k.appendChild(P)}function I(k,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(A){var P=document.createElement("span");P.classList.add("ql-formats"),A.forEach(function(F){if(typeof F=="string")C(P,F);else{var D=Object.keys(F)[0],R=F[D];Array.isArray(R)?E(P,D,R):C(P,D,R)}}),k.appendChild(P)})}function E(k,w,A){var P=document.createElement("select");P.classList.add("ql-"+w),A.forEach(function(F){var D=document.createElement("option");F!==!1?D.setAttribute("value",F):D.setAttribute("selected","selected"),P.appendChild(D)}),k.appendChild(P)}x.DEFAULTS={container:null,handlers:{clean:function(){var w=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(F){c.default.query(F,c.default.Scope.INLINE)!=null&&w.quill.format(F,!1)})}else this.quill.removeFormat(A,d.default.sources.USER)},direction:function(w){var A=this.quill.getFormat().align;w==="rtl"&&A==null?this.quill.format("align","right",d.default.sources.USER):!w&&A==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",w,d.default.sources.USER)},indent:function(w){var A=this.quill.getSelection(),P=this.quill.getFormat(A),F=parseInt(P.indent||0);if(w==="+1"||w==="-1"){var D=w==="+1"?1:-1;P.direction==="rtl"&&(D*=-1),this.quill.format("indent",F+D,d.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,d.default.sources.USER)},list:function(w){var A=this.quill.getSelection(),P=this.quill.getFormat(A);w==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",w,d.default.sources.USER)}}},n.default=x,n.addControls=I},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),m}return a(h,[{key:"buildItem",value:function(y){var m=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m);var _=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=b:_.style.fill=b)}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=y[_.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return a(h,[{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var f=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),h=0;if(v.right>p.right&&(h=p.right-v.right,this.root.style.left=f+h+"px"),v.left<p.left&&(h=p.left-v.left,this.root.style.left=f+h+"px"),v.bottom>p.bottom){var g=v.bottom-v.top,y=c.bottom-c.top+g;this.root.style.top=d-y+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(k,w){var A=[],P=!0,F=!1,D=void 0;try{for(var R=k[Symbol.iterator](),G;!(P=(G=R.next()).done)&&(A.push(G.value),!(w&&A.length===w));P=!0);}catch(V){F=!0,D=V}finally{try{!P&&R.return&&R.return()}finally{if(F)throw D}}return A}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return E(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function E(k,w,A){k===null&&(k=Function.prototype);var P=Object.getOwnPropertyDescriptor(k,w);if(P===void 0){var F=Object.getPrototypeOf(k);return F===null?void 0:E(F,w,A)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(A)}},s=function(){function E(k,w){for(var A=0;A<w.length;A++){var P=w[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}return function(k,w,A){return w&&E(k.prototype,w),A&&E(k,A),k}}(),l=i(3),u=_(l),c=i(8),f=_(c),d=i(43),p=_(d),v=i(27),h=_(v),g=i(15),y=i(41),m=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function O(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(E){O(k,E);function k(w,A){b(this,k),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=x);var P=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w,A));return P.quill.container.classList.add("ql-snow"),P}return s(k,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),m.default),this.tooltip=new I(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,F){A.handlers.link.call(A,!F.format.link)})}}]),k}(p.default);C.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var w=this.quill.getSelection();if(w==null||w.length==0)return;var A=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var P=this.quill.theme.tooltip;P.edit("link",A)}else this.quill.format("link",!1)}}}}});var I=function(E){O(k,E);function k(w,A){b(this,k);var P=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w,A));return P.preview=P.root.querySelector("a.ql-preview"),P}return s(k,[{key:"listen",value:function(){var A=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(A.linkRange!=null){var F=A.linkRange;A.restoreFocus(),A.quill.formatText(F,"link",!1,f.default.sources.USER),delete A.linkRange}P.preventDefault(),A.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(P,F,D){if(P!=null){if(P.length===0&&D===f.default.sources.USER){var R=A.quill.scroll.descendant(h.default,P.index),G=a(R,2),V=G[0],$=G[1];if(V!=null){A.linkRange=new g.Range(P.index-$,V.length());var L=h.default.formats(V.domNode);A.preview.textContent=L,A.preview.setAttribute("href",L),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=ee(a),s=i(36),l=i(38),u=i(64),c=i(65),f=ee(c),d=i(66),p=ee(d),v=i(67),h=ee(v),g=i(37),y=i(26),m=i(39),_=i(40),b=i(56),S=ee(b),O=i(68),x=ee(O),C=i(27),I=ee(C),E=i(69),k=ee(E),w=i(70),A=ee(w),P=i(71),F=ee(P),D=i(72),R=ee(D),G=i(73),V=ee(G),$=i(13),L=ee($),N=i(74),B=ee(N),H=i(75),z=ee(H),M=i(57),W=ee(M),q=i(41),Y=ee(q),K=i(28),ie=ee(K),te=i(59),ae=ee(te),ue=i(60),fe=ee(ue),pe=i(61),Se=ee(pe),Q=i(108),re=ee(Q),de=i(62),ve=ee(de);function ee(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":L.default,"formats/header":p.default,"formats/list":h.default,"formats/bold":S.default,"formats/code":$.Code,"formats/italic":x.default,"formats/link":I.default,"formats/script":k.default,"formats/strike":A.default,"formats/underline":F.default,"formats/image":R.default,"formats/video":V.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":z.default,"modules/toolbar":W.default,"themes/bubble":re.default,"themes/snow":ve.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":fe.default,"ui/color-picker":ae.default,"ui/tooltip":Se.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(0),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"add",value:function(m,_){if(_==="+1"||_==="-1"){var b=this.value(m)||0;_=_==="+1"?b+1:b-1}return _===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,_)}},{key:"canAdd",value:function(m,_){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,_)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(_))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(v,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,g){return h&&p(v.prototype,h),g&&p(v,g),v}}(),o=i(4),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){f(v,p);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),v}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function b(S,O){for(var x=0;x<O.length;x++){var C=O[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,O,x){return O&&b(S.prototype,O),x&&b(S,x),S}}(),o=function b(S,O,x){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,O);if(C===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:b(I,O,x)}else{if("value"in C)return C.value;var E=C.get;return E===void 0?void 0:E.call(x)}},s=i(0),l=p(s),u=i(4),c=p(u),f=i(25),d=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function v(b,S,O){return S in b?Object.defineProperty(b,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[S]=O,b}function h(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function g(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function y(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var m=function(b){y(S,b);function S(){return h(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"format",value:function(x,C){x===_.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,x,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,C){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,C),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x,C))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,x)}}]),S}(c.default);m.blotName="list-item",m.tagName="LI";var _=function(b){y(S,b),a(S,null,[{key:"create",value:function(x){var C=x==="ordered"?"OL":"UL",I=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,C);return(x==="checked"||x==="unchecked")&&I.setAttribute("data-checked",x==="checked"),I}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(O){h(this,S);var x=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O)),C=function(E){if(E.target.parentNode===O){var k=x.statics.formats(O),w=l.default.find(E.target);k==="checked"?w.format("list","unchecked"):k==="unchecked"&&w.format("list","checked")}};return O.addEventListener("touchstart",C),O.addEventListener("mousedown",C),x}return a(S,[{key:"format",value:function(x,C){this.children.length>0&&this.children.tail.format(x,C)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,C){if(x instanceof m)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,x,C);else{var I=C==null?this.length():C.offset(this),E=this.split(I);E.parent.insertBefore(x,E)}}},{key:"optimize",value:function(x){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,x);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);x.moveChildren(C),this.appendChild(C)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,x)}}]),S}(d.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[m],n.ListItem=m,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),h}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=c(s),u=i(27);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["alt","height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return typeof _=="string"&&b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(l.default.Embed);h.blotName="image",h.tagName="IMG",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(4),l=i(27),u=c(l);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=function _(b,S,O){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,S);if(x===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:_(C,S,O)}else{if("value"in x)return x.value;var I=x.get;return I===void 0?void 0:I.call(O)}},s=i(35),l=p(s),u=i(5),c=p(u),f=i(9),d=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function g(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=function(_){g(b,_);function b(){return v(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(O){var x=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),b}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(_){g(b,_),a(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){v(this,b);var S=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return b}(d.default);n.FormulaBlot=y,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(x,C){for(var I=0;I<C.length;I++){var E=C[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,I){return C&&O(x.prototype,C),I&&O(x,I),x}}(),o=function O(x,C,I){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:O(k,C,I)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(I)}},s=i(0),l=h(s),u=i(5),c=h(u),f=i(9),d=h(f),p=i(13),v=h(p);function h(O){return O&&O.__esModule?O:{default:O}}function g(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function y(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function m(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=function(O){m(x,O);function x(){return g(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),x}(v.default);_.className="ql-syntax";var b=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(O){m(x,O),a(x,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(_,!0)}}]);function x(C,I){g(this,x);var E=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,C,I));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return E.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){E.highlight(),k=null},E.options.interval)}),E.highlight(),E}return a(x,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),E!=null&&this.quill.setSelection(E,c.default.sources.SILENT)}}}]),x}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=b,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function x(C,I,E){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,I);if(k===void 0){var w=Object.getPrototypeOf(C);return w===null?void 0:x(w,I,E)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(E)}},o=function(){function x(C,I){for(var E=0;E<I.length;E++){var k=I[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,I,E){return I&&x(C.prototype,I),E&&x(C,E),C}}(),s=i(3),l=g(s),u=i(8),c=g(u),f=i(43),d=g(f),p=i(15),v=i(41),h=g(v);function g(x){return x&&x.__esModule?x:{default:x}}function y(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function m(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function _(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(x){_(C,x);function C(I,E){y(this,C),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=b);var k=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,E));return k.quill.container.classList.add("ql-bubble"),k}return o(C,[{key:"extendToolbar",value:function(E){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),h.default)}}]),C}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){_(C,x);function C(I,E){y(this,C);var k=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,E));return k.quill.on(c.default.events.EDITOR_CHANGE,function(w,A,P,F){if(w===c.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&F===c.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var D=k.quill.getLines(A.index,A.length);if(D.length===1)k.position(k.quill.getBounds(A));else{var R=D[D.length-1],G=k.quill.getIndex(R),V=Math.min(R.length()-1,A.index+A.length-G),$=k.quill.getBounds(new p.Range(G,V));k.position($)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return o(C,[{key:"listen",value:function(){var E=this;a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var k=E.quill.getSelection();k!=null&&E.position(E.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var k=a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,E),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",k===0)return k;w.style.marginLeft=-1*k-w.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(eC);var tC=eC.exports;const uo=tn(tC);var bB=An&&An.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sd=An&&An.__assign||function(){return Sd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sd.apply(this,arguments)},_B=An&&An.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},bp=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Xi=bp(J),SB=bp(QL),wu=bp(yB),$1=bp(tC),OB=function(t){bB(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,s,l){var u,c,f,d;a==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((d=(f=n).onEditorChangeSelection)===null||d===void 0||d.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(Xi.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Xi.default.Children.count(r.children)){var i=Xi.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),s=(a=r.value,a!=null?a:"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),_B(this.cleanProps,this.dirtyProps).some(function(l){return!wu.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!wu.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),N1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new $1.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?wu.default(r.ops,n.ops):wu.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),N1(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=SB.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){r.editingArea=l}};return Xi.default.Children.count(i)?Xi.default.cloneElement(Xi.default.Children.only(i),s):a?Xi.default.createElement("pre",Sd({},s)):Xi.default.createElement("div",Sd({},s))},e.prototype.render=function(){var r;return Xi.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,s,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&r,p=f&&!r;wu.default(r,f)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),d?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=$1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Xi.default.Component);function N1(t){Promise.resolve().then(t)}var _p=OB;const xB=tn(_p);function D1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(r),!0).forEach(function(n){Mv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function rC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iC(n.key),n)}}function nC(t,e,r){return e&&V1(t.prototype,e),r&&V1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mv(t,e,r){return e=iC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function wB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},go(t)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vv(t,e)}function EB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Bv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CB(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bv(t)}function TB(t){var e=EB();return function(){var n=go(t),i;if(e){var a=go(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return CB(this,i)}}function kB(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=go(t),t!==null););return t}function gl(){return typeof Reflect<"u"&&Reflect.get?gl=Reflect.get.bind():gl=function(e,r,n){var i=kB(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},gl.apply(this,arguments)}function IB(t,e){if(t){if(typeof t=="string")return B1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B1(t,e)}}function B1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AB(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=IB(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function jB(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iC(t){var e=jB(t,"string");return typeof e=="symbol"?e:String(e)}var ja={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function PB(t,e,r){var n=t;return Object.keys(e).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=e[i]:delete n.dataset[i]}),n}function q1(t,e){e!==null&&(Dv(e)==="object"?t.appendChild(e):t.innerText=e)}function FB(t,e,r,n){return e.reduce(function(i,a){var o;if(r&&n){var s=new RegExp("^".concat(a,"|\\s").concat(a),"g"),l=(t.match(s)||[]).pop();if(!l)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};o=l!==a?t.lastIndexOf(l)+l.length-a.length:0}else o=t.lastIndexOf(a);return o>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:o}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function LB(t,e){return e.test(t)}function RB(t,e,r,n){if(t===-1)return!1;if(!r)return!0;var i=t?e[t-1]:n;return!i||!!i.match(/\s/)}var $B=uo.import("blots/embed"),Sp=function(t){wB(r,t);var e=TB(r);function r(n,i){var a;return rC(this,r),a=e.call(this,n,i),Mv(Bv(a),"hoverHandler",void 0),Mv(Bv(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return nC(r,[{key:"attach",value:function(){gl(go(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){gl(go(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-clicked",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-hovered",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var o=new Event(i,{bubbles:!0,cancelable:!0});return o.value=Od({},this.domNode.dataset),o.event=a,o}}],[{key:"create",value:function(i){var a=gl(go(r),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=i.denotationChar,a.appendChild(o),typeof this.render=="function"?a.appendChild(this.render(i)):a.innerText+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var o=i;return Object.keys(a).forEach(function(s){o.dataset[s]=a[s]}),o}},{key:"value",value:function(i){return i.dataset}}]),r}($B);Sp.blotName="mention";Sp.tagName="span";Sp.className="mention";uo.register("blots/mention",Sp);var aC=function(){function t(e,r){var n=this;rC(this,t),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=e,this.options={source:null,renderItem:function(u){var c=u.value;return"".concat(c)},renderLoading:function(){return null},onSelect:function(u,c){c(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[ja.ENTER]},Od(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",e.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),e.on("text-change",this.onTextChange.bind(this)),e.on("selection-change",this.onSelectionChange.bind(this)),e.container.addEventListener("paste",function(){setTimeout(function(){var l=e.getSelection();n.onSelectionChange(l)})}),e.keyboard.addBinding({key:ja.TAB},this.selectHandler.bind(this)),e.keyboard.bindings[ja.TAB].unshift(e.keyboard.bindings[ja.TAB].pop());var a=AB(this.options.selectKeys),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;e.keyboard.addBinding({key:s},this.selectHandler.bind(this))}}catch(l){a.e(l)}finally{a.f()}e.keyboard.bindings[ja.ENTER].unshift(e.keyboard.bindings[ja.ENTER].pop()),e.keyboard.addBinding({key:ja.ESCAPE},this.escapeHandler.bind(this)),e.keyboard.addBinding({key:ja.UP},this.upHandler.bind(this)),e.keyboard.addBinding({key:ja.DOWN},this.downHandler.bind(this))}return nC(t,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.mentionList.childNodes[this.itemIndex].dataset;n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var o=M1(M1({},this.options),i);o.showDenotationChar||(a.denotationChar="");var s;n?s=this.cursorPos:(s=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,uo.sources.USER));var l=this.quill.insertEmbed(s,o.blotName,a,uo.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(s+1," ",uo.sources.USER),this.quill.setSelection(s+2,uo.sources.USER)):this.quill.setSelection(s+1,uo.sources.USER),this.hideMentionList(),l}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",q1(n,this.options.renderLoading()),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerText="";for(var a=-1,o=0;o<n.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",n[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):a===-1&&(a=o),s.dataset.index=o;var l=this.options.renderItem(n[o],i);q1(s,l),n[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=r,this.mentionList.appendChild(PB(s,n[o],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=0;this.mentionContainer.style.right="".concat(l,"px")}else s+=i.left;if(this.containerRightIsNotVisible(s,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,c=n.width;s=c-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(a+this.options.offsetTop):o=i.top-(a+this.options.offsetTop),o+n.top<=0){var f=this.options.offsetTop;this.options.fixMentionsToQuill?f+=n.height:f+=i.bottom,o=f}}else if(this.options.fixMentionsToQuill?o+=n.height:o+=i.bottom,this.containerBottomIsNotVisible(o,n)){var d=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(d+=i.top),o=d-a}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},o=this.options.fixMentionsToQuill?n:a,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=o.right;this.mentionContainer.style.right="".concat(u,"px")}else l+=o.left,l+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(l-=l+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var c=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,p=this.mentionContainer.offsetHeight<=c,v;this.options.defaultMenuOrientation==="top"&&p?v="top":this.options.defaultMenuOrientation==="bottom"&&d?v="bottom":v=f>c?"bottom":"top",v==="bottom"?(s=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-bottom")),r.mentionContainer.classList.remove("".concat(h,"-top"))})):(s=o.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=c-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-top")),r.mentionContainer.classList.remove("".concat(h,"-bottom"))})),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),o=a?this.quill.getText(a-1,a):"",s=FB(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),l=s.mentionChar,u=s.mentionCharIndex;if(RB(u,i,this.options.isolateCharacter,o)){var c=this.cursorPos-(i.length-u);this.mentionCharPos=c;var f=i.substring(u+l.length);if(f.length>=this.options.minChars&&LB(f,this.getAllowedCharsRegex(l))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var d={abandoned:!1};this.existingSourceExecutionToken=d,this.options.source(f,function(p,v){d.abandoned||(r.existingSourceExecutionToken=null,r.renderList(l,p,v))},l)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),t}();uo.register("modules/mention",aC);var da=-1,ua=1,fn=0;function rc(t,e,r){if(t==e)return t?[[fn,t]]:[];(r<0||t.length<r)&&(r=null);var n=Sm(t,e),i=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=Om(t,e);var a=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var o=NB(t,e);return i&&o.unshift([fn,i]),a&&o.push([fn,a]),oC(o),r!=null&&(o=qB(o,r)),o=zB(o),o}function NB(t,e){var r;if(!t)return[[ua,e]];if(!e)return[[da,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,a=n.indexOf(i);if(a!=-1)return r=[[ua,n.substring(0,a)],[fn,i],[ua,n.substring(a+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=da),r;if(i.length==1)return[[da,t],[ua,e]];var o=MB(t,e);if(o){var s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=rc(s,u),p=rc(l,c);return d.concat([[fn,f]],p)}return DB(t,e)}function DB(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),a=i,o=2*i,s=new Array(o),l=new Array(o),u=0;u<o;u++)s[u]=-1,l[u]=-1;s[a+1]=0,l[a+1]=0;for(var c=r-n,f=c%2!=0,d=0,p=0,v=0,h=0,g=0;g<i;g++){for(var y=-g+d;y<=g-p;y+=2){var m=a+y,_;y==-g||y!=g&&s[m-1]<s[m+1]?_=s[m+1]:_=s[m-1]+1;for(var b=_-y;_<r&&b<n&&t.charAt(_)==e.charAt(b);)_++,b++;if(s[m]=_,_>r)p+=2;else if(b>n)d+=2;else if(f){var S=a+c-y;if(S>=0&&S<o&&l[S]!=-1){var O=r-l[S];if(_>=O)return z1(t,e,_,b)}}}for(var x=-g+v;x<=g-h;x+=2){var S=a+x,O;x==-g||x!=g&&l[S-1]<l[S+1]?O=l[S+1]:O=l[S-1]+1;for(var C=O-x;O<r&&C<n&&t.charAt(r-O-1)==e.charAt(n-C-1);)O++,C++;if(l[S]=O,O>r)h+=2;else if(C>n)v+=2;else if(!f){var m=a+c-x;if(m>=0&&m<o&&s[m]!=-1){var _=s[m],b=a+_-m;if(O=r-O,_>=O)return z1(t,e,_,b)}}}}return[[da,t],[ua,e]]}function z1(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),o=t.substring(r),s=e.substring(n),l=rc(i,a),u=rc(o,s);return l.concat(u)}function Sm(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function Om(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function MB(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,v,h){for(var g=p.substring(h,h+Math.floor(p.length/4)),y=-1,m="",_,b,S,O;(y=v.indexOf(g,y+1))!=-1;){var x=Sm(p.substring(h),v.substring(y)),C=Om(p.substring(0,h),v.substring(0,y));m.length<C+x&&(m=v.substring(y-C,y)+v.substring(y,y+x),_=p.substring(0,h-C),b=p.substring(h+x),S=v.substring(0,y-C),O=v.substring(y+x))}return m.length*2>=p.length?[_,b,S,O,m]:null}var a=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var l,u,c,f;t.length>e.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var d=s[4];return[l,u,c,f,d]}function oC(t){t.push([fn,""]);for(var e=0,r=0,n=0,i="",a="",o;e<t.length;)switch(t[e][0]){case ua:n++,a+=t[e][1],e++;break;case da:r++,i+=t[e][1],e++;break;case fn:r+n>1?(r!==0&&n!==0&&(o=Sm(a,i),o!==0&&(e-r-n>0&&t[e-r-n-1][0]==fn?t[e-r-n-1][1]+=a.substring(0,o):(t.splice(0,0,[fn,a.substring(0,o)]),e++),a=a.substring(o),i=i.substring(o)),o=Om(a,i),o!==0&&(t[e][1]=a.substring(a.length-o)+t[e][1],a=a.substring(0,a.length-o),i=i.substring(0,i.length-o))),r===0?t.splice(e-n,r+n,[ua,a]):n===0?t.splice(e-r,r+n,[da,i]):t.splice(e-r-n,r+n,[da,i],[ua,a]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==fn?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(e=1;e<t.length-1;)t[e-1][0]==fn&&t[e+1][0]==fn&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&oC(t)}var Op=rc;Op.INSERT=ua;Op.DELETE=da;Op.EQUAL=fn;var VB=Op;function BB(t,e){if(e===0)return[fn,t];for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i[0]===da||i[0]===fn){var a=r+i[1].length;if(e===a)return[n+1,t];if(e<a){t=t.slice();var o=e-r,s=[i[0],i[1].slice(0,o)],l=[i[0],i[1].slice(o)];return t.splice(n,1,s,l),[n+1,t]}else r=a}}throw new Error("cursor_pos is out of bounds!")}function qB(t,e){var r=BB(t,e),n=r[1],i=r[0],a=n[i],o=n[i+1];if(a==null)return t;if(a[0]!==fn)return t;if(o!=null&&a[1]+o[1]===o[1]+a[1])return n.splice(i,2,o,a),H1(n,i,2);if(o!=null&&o[1].indexOf(a[1])===0){n.splice(i,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(i+2,0,[o[0],s]),H1(n,i,3)}else return t}function zB(t){for(var e=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},n=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},i=2;i<t.length;i+=1)t[i-2][0]===fn&&n(t[i-2][1])&&t[i-1][0]===da&&r(t[i-1][1])&&t[i][0]===ua&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;for(var a=[],i=0;i<t.length;i+=1)t[i][1].length>0&&a.push(t[i]);return a}function H1(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var i=t[n],a=t[n+1];i[0]===a[1]&&t.splice(n,2,[i[0],i[1]+a[1]])}return t}var U1=Object.prototype.toString,sC=function(e){var r=U1.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&U1.call(e.callee)==="[object Function]"),n},$h,G1;function HB(){if(G1)return $h;G1=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=sC,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch(p){return!1}};t=function(p){var v=p!==null&&typeof p=="object",h=r.call(p)==="[object Function]",g=n(p),y=v&&r.call(p)==="[object String]",m=[];if(!v&&!h&&!g)throw new TypeError("Object.keys called on a non-object");var _=o&&h;if(y&&p.length>0&&!e.call(p,0))for(var b=0;b<p.length;++b)m.push(String(b));if(g&&p.length>0)for(var S=0;S<p.length;++S)m.push(String(S));else for(var O in p)!(_&&O==="prototype")&&e.call(p,O)&&m.push(String(O));if(a)for(var x=f(p),C=0;C<s.length;++C)!(x&&s[C]==="constructor")&&e.call(p,s[C])&&m.push(s[C]);return m}}return $h=t,$h}var UB=Array.prototype.slice,GB=sC,W1=Object.keys,rd=W1?function(e){return W1(e)}:HB(),Y1=Object.keys;rd.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return GB(n)?Y1(UB.call(n)):Y1(n)})}else Object.keys=rd;return Object.keys||rd};var lC=rd,uC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},WB=uC,xm=function(){return WB()&&!!Symbol.toStringTag},YB=Error,KB=EvalError,JB=RangeError,QB=ReferenceError,cC=SyntaxError,Gl=TypeError,XB=URIError,K1=typeof Symbol<"u"&&Symbol,ZB=uC,eq=function(){return typeof K1!="function"||typeof Symbol!="function"||typeof K1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ZB()},Nh={__proto__:null,foo:{}},tq=Object,rq=function(){return{__proto__:Nh}.foo===Nh.foo&&!(Nh instanceof tq)},nq="Function.prototype.bind called on incompatible ",iq=Object.prototype.toString,aq=Math.max,oq="[object Function]",J1=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},sq=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},lq=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},uq=function(e){var r=this;if(typeof r!="function"||iq.apply(r)!==oq)throw new TypeError(nq+r);for(var n=sq(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,J1(n,arguments));return Object(c)===c?c:this}return r.apply(e,J1(n,arguments))},o=aq(0,r.length-n.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+lq(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},cq=uq,wm=Function.prototype.bind||cq,fq=Function.prototype.call,dq=Object.prototype.hasOwnProperty,pq=wm,hq=pq.call(fq,dq),St,vq=YB,gq=KB,mq=JB,yq=QB,wl=cC,ml=Gl,bq=XB,fC=Function,Dh=function(t){try{return fC('"use strict"; return ('+t+").constructor;")()}catch(e){}},Xo=Object.getOwnPropertyDescriptor;if(Xo)try{Xo({},"")}catch(t){Xo=null}var Mh=function(){throw new ml},_q=Xo?function(){try{return arguments.callee,Mh}catch(t){try{return Xo(arguments,"callee").get}catch(e){return Mh}}}():Mh,As=eq(),Sq=rq(),an=Object.getPrototypeOf||(Sq?function(t){return t.__proto__}:null),Gs={},Oq=typeof Uint8Array>"u"||!an?St:an(Uint8Array),Zo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":As&&an?an([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":Gs,"%AsyncGenerator%":Gs,"%AsyncGeneratorFunction%":Gs,"%AsyncIteratorPrototype%":Gs,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":vq,"%eval%":eval,"%EvalError%":gq,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":fC,"%GeneratorFunction%":Gs,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":As&&an?an(an([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!As||!an?St:an(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":mq,"%ReferenceError%":yq,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!As||!an?St:an(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":As&&an?an(""[Symbol.iterator]()):St,"%Symbol%":As?Symbol:St,"%SyntaxError%":wl,"%ThrowTypeError%":_q,"%TypedArray%":Oq,"%TypeError%":ml,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":bq,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};if(an)try{null.error}catch(t){var xq=an(an(t));Zo["%Error.prototype%"]=xq}var wq=function t(e){var r;if(e==="%AsyncFunction%")r=Dh("async function () {}");else if(e==="%GeneratorFunction%")r=Dh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Dh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&an&&(r=an(i.prototype))}return Zo[e]=r,r},Q1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ac=wm,xd=hq,Eq=Ac.call(Function.call,Array.prototype.concat),Cq=Ac.call(Function.apply,Array.prototype.splice),X1=Ac.call(Function.call,String.prototype.replace),wd=Ac.call(Function.call,String.prototype.slice),Tq=Ac.call(Function.call,RegExp.prototype.exec),kq=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Iq=/\\(\\)?/g,Aq=function(e){var r=wd(e,0,1),n=wd(e,-1);if(r==="%"&&n!=="%")throw new wl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new wl("invalid intrinsic syntax, expected opening `%`");var i=[];return X1(e,kq,function(a,o,s,l){i[i.length]=s?X1(l,Iq,"$1"):o||a}),i},jq=function(e,r){var n=e,i;if(xd(Q1,n)&&(i=Q1[n],n="%"+i[0]+"%"),xd(Zo,n)){var a=Zo[n];if(a===Gs&&(a=wq(n)),typeof a>"u"&&!r)throw new ml("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new wl("intrinsic "+e+" does not exist!")},jc=function(e,r){if(typeof e!="string"||e.length===0)throw new ml("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ml('"allowMissing" argument must be a boolean');if(Tq(/^%?[^%]*%?$/,e)===null)throw new wl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Aq(e),i=n.length>0?n[0]:"",a=jq("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],Cq(n,Eq([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var d=n[c],p=wd(d,0,1),v=wd(d,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new wl("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,o="%"+i+"%",xd(Zo,o))s=Zo[o];else if(s!=null){if(!(d in s)){if(!r)throw new ml("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xo&&c+1>=n.length){var h=Xo(s,d);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?s=h.get:s=s[d]}else f=xd(s,d),s=s[d];f&&!l&&(Zo[o]=s)}}return s},dC={exports:{}},Pq=jc,nd=Pq("%Object.defineProperty%",!0)||!1;if(nd)try{nd({},"a",{value:1})}catch(t){nd=!1}var Em=nd,Fq=jc,id=Fq("%Object.getOwnPropertyDescriptor%",!0);if(id)try{id([],"length")}catch(t){id=null}var pC=id,Z1=Em,Lq=cC,js=Gl,e_=pC,Cm=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new js("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new js("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new js("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new js("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new js("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new js("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!e_&&e_(e,r);if(Z1)Z1(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Lq("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qv=Em,hC=function(){return!!qv};hC.hasArrayLengthDefineBug=function(){if(!qv)return null;try{return qv([],"length",{value:1}).length!==1}catch(e){return!0}};var Tm=hC,Rq=jc,t_=Cm,$q=Tm(),r_=pC,n_=Gl,Nq=Rq("%Math.floor%"),Dq=function(e,r){if(typeof e!="function")throw new n_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Nq(r)!==r)throw new n_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&r_){var o=r_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&($q?t_(e,"length",r,!0,!0):t_(e,"length",r)),e};(function(t){var e=wm,r=jc,n=Dq,i=Gl,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),l=Em,u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return s(e,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(dC);var km=dC.exports,vC=jc,gC=km,Mq=gC(vC("String.prototype.indexOf")),mC=function(e,r){var n=vC(e,!!r);return typeof n=="function"&&Mq(e,".prototype.")>-1?gC(n):n},Vq=xm(),Bq=mC,zv=Bq("Object.prototype.toString"),xp=function(e){return Vq&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:zv(e)==="[object Arguments]"},yC=function(e){return xp(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&zv(e)!=="[object Array]"&&zv(e.callee)==="[object Function]"},qq=function(){return xp(arguments)}();xp.isLegacyArguments=yC;var zq=qq?xp:yC,Hq=lC,Uq=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Gq=Object.prototype.toString,Wq=Array.prototype.concat,i_=Cm,Yq=function(t){return typeof t=="function"&&Gq.call(t)==="[object Function]"},bC=Tm(),Kq=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Yq(n)||!n())return}bC?i_(t,e,r,!0):i_(t,e,r)},_C=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Hq(e);Uq&&(n=Wq.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Kq(t,n[i],e[n[i]],r[n[i]])};_C.supportsDescriptors=!!bC;var Pc=_C,a_=function(t){return t!==t},SC=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||a_(e)&&a_(r))},Jq=SC,OC=function(){return typeof Object.is=="function"?Object.is:Jq},Qq=OC,Xq=Pc,Zq=function(){var e=Qq();return Xq(Object,{is:e},{is:function(){return Object.is!==e}}),e},e6=Pc,t6=km,r6=SC,xC=OC,n6=Zq,wC=t6(xC(),Object);e6(wC,{getPolyfill:xC,implementation:r6,shim:n6});var i6=wC,Hv=mC,EC=xm(),CC,TC,Uv,Gv;if(EC){CC=Hv("Object.prototype.hasOwnProperty"),TC=Hv("RegExp.prototype.exec"),Uv={};var Vh=function(){throw Uv};Gv={toString:Vh,valueOf:Vh},typeof Symbol.toPrimitive=="symbol"&&(Gv[Symbol.toPrimitive]=Vh)}var a6=Hv("Object.prototype.toString"),o6=Object.getOwnPropertyDescriptor,s6="[object RegExp]",l6=EC?function(e){if(!e||typeof e!="object")return!1;var r=o6(e,"lastIndex"),n=r&&CC(r,"value");if(!n)return!1;try{TC(e,Gv)}catch(i){return i===Uv}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:a6(e)===s6},nc=function(){return typeof(function(){}).name=="string"},Uu=Object.getOwnPropertyDescriptor;if(Uu)try{Uu([],"length")}catch(t){Uu=null}nc.functionsHaveConfigurableNames=function(){if(!nc()||!Uu)return!1;var e=Uu(function(){},"name");return!!e&&!!e.configurable};var u6=Function.prototype.bind;nc.boundFunctionsHaveNames=function(){return nc()&&typeof u6=="function"&&(function(){}).bind().name!==""};var c6=nc,o_=Cm,f6=Tm(),d6=c6.functionsHaveConfigurableNames(),p6=Gl,h6=function(e,r){if(typeof e!="function")throw new p6("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||d6)&&(f6?o_(e,"name",r,!0,!0):o_(e,"name",r)),e},v6=h6,g6=Gl,m6=Object,kC=v6(function(){if(this==null||this!==m6(this))throw new g6("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),y6=kC,b6=Pc.supportsDescriptors,_6=Object.getOwnPropertyDescriptor,IC=function(){if(b6&&/a/mig.flags==="gim"){var e=_6(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),e.get.call(n),r==="dy")return e.get}}return y6},S6=Pc.supportsDescriptors,O6=IC,x6=Object.getOwnPropertyDescriptor,w6=Object.defineProperty,E6=TypeError,s_=Object.getPrototypeOf,C6=/a/,T6=function(){if(!S6||!s_)throw new E6("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=O6(),r=s_(C6),n=x6(r,"flags");return(!n||n.get!==e)&&w6(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},k6=Pc,I6=km,A6=kC,AC=IC,j6=T6,jC=I6(AC());k6(jC,{getPolyfill:AC,implementation:A6,shim:j6});var P6=jC,F6=Date.prototype.getDay,L6=function(e){try{return F6.call(e),!0}catch(r){return!1}},R6=Object.prototype.toString,$6="[object Date]",N6=xm(),D6=function(e){return typeof e!="object"||e===null?!1:N6?L6(e):R6.call(e)===$6},l_=lC,u_=zq,c_=i6,f_=l6,d_=P6,p_=D6,h_=Date.prototype.getTime;function PC(t,e,r){var n=r||{};return(n.strict?c_(t,e):t===e)?!0:!t||!e||typeof t!="object"&&typeof e!="object"?n.strict?c_(t,e):t==e:M6(t,e,n)}function v_(t){return t==null}function g_(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function M6(t,e,r){var n,i;if(typeof t!=typeof e||v_(t)||v_(e)||t.prototype!==e.prototype||u_(t)!==u_(e))return!1;var a=f_(t),o=f_(e);if(a!==o)return!1;if(a||o)return t.source===e.source&&d_(t)===d_(e);if(p_(t)&&p_(e))return h_.call(t)===h_.call(e);var s=g_(t),l=g_(e);if(s!==l)return!1;if(s||l){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(typeof t!=typeof e)return!1;try{var u=l_(t),c=l_(e)}catch(f){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!PC(t[i],e[i],r))return!1;return!0}var FC=PC,ad=Object.prototype.hasOwnProperty,LC=Object.prototype.toString,m_=Object.defineProperty,y_=Object.getOwnPropertyDescriptor,b_=function(e){return typeof Array.isArray=="function"?Array.isArray(e):LC.call(e)==="[object Array]"},__=function(e){if(!e||LC.call(e)!=="[object Object]")return!1;var r=ad.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&ad.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||ad.call(e,i)},S_=function(e,r){m_&&r.name==="__proto__"?m_(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},O_=function(e,r){if(r==="__proto__")if(ad.call(e,r)){if(y_)return y_(e,r).value}else return;return e[r]},RC=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=O_(s,r),i=O_(e,r),s!==i&&(c&&i&&(__(i)||(a=b_(i)))?(a?(a=!1,o=n&&b_(n)?n:[]):o=n&&__(n)?n:{},S_(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&S_(s,{name:r,newValue:i}));return s},V6=FC,B6=RC,Im={attributes:{compose:function(t,e,r){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var n=B6(!0,{},e);r||(n=Object.keys(n).reduce(function(a,o){return n[o]!=null&&(a[o]=n[o]),a},{}));for(var i in t)t[i]!==void 0&&e[i]===void 0&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return V6(t[i],e[i])||(n[i]=e[i]===void 0?null:e[i]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(typeof t!="object")return e;if(typeof e=="object"){if(!r)return e;var n=Object.keys(e).reduce(function(i,a){return t[a]===void 0&&(i[a]=e[a]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new ps(t)},length:function(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.insert=="string"?t.insert.length:1}};function ps(t){this.ops=t,this.index=0,this.offset=0}ps.prototype.hasNext=function(){return this.peekLength()<1/0};ps.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=Im.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}else return{retain:1/0}};ps.prototype.peek=function(){return this.ops[this.index]};ps.prototype.peekLength=function(){return this.ops[this.index]?Im.length(this.ops[this.index])-this.offset:1/0};ps.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};ps.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}else return[]};var q6=Im,kf=VB,Am=FC,z6=RC,hn=q6,H6="\0",Wt=function(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};Wt.prototype.insert=function(t,e){var r={};return t.length===0?this:(r.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))};Wt.prototype.delete=function(t){return t<=0?this:this.push({delete:t})};Wt.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)};Wt.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=z6(!0,{},t),typeof r=="object"){if(typeof t.delete=="number"&&typeof r.delete=="number")return this.ops[e-1]={delete:r.delete+t.delete},this;if(typeof r.delete=="number"&&t.insert!=null&&(e-=1,r=this.ops[e-1],typeof r!="object"))return this.ops.unshift(t),this;if(Am(t.attributes,r.attributes)){if(typeof t.insert=="string"&&typeof r.insert=="string")return this.ops[e-1]={insert:r.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof r.retain=="number")return this.ops[e-1]={retain:r.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this};Wt.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this};Wt.prototype.filter=function(t){return this.ops.filter(t)};Wt.prototype.forEach=function(t){this.ops.forEach(t)};Wt.prototype.map=function(t){return this.ops.map(t)};Wt.prototype.partition=function(t){var e=[],r=[];return this.forEach(function(n){var i=t(n)?e:r;i.push(n)}),[e,r]};Wt.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};Wt.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+hn.length(e):e.delete?t-e.delete:t},0)};Wt.prototype.length=function(){return this.reduce(function(t,e){return t+hn.length(e)},0)};Wt.prototype.slice=function(t,e){t=t||0,typeof e!="number"&&(e=1/0);for(var r=[],n=hn.iterator(this.ops),i=0;i<e&&n.hasNext();){var a;i<t?a=n.next(t-i):(a=n.next(e-i),r.push(a)),i+=hn.length(a)}return new Wt(r)};Wt.prototype.compose=function(t){var e=hn.iterator(this.ops),r=hn.iterator(t.ops),n=[],i=r.peek();if(i!=null&&typeof i.retain=="number"&&i.attributes==null){for(var a=i.retain;e.peekType()==="insert"&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());i.retain-a>0&&r.next(i.retain-a)}for(var o=new Wt(n);e.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(e.peekType()==="delete")o.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),u=r.next(s);if(typeof u.retain=="number"){var c={};typeof l.retain=="number"?c.retain=s:c.insert=l.insert;var f=hn.attributes.compose(l.attributes,u.attributes,typeof l.retain=="number");if(f&&(c.attributes=f),o.push(c),!r.hasNext()&&Am(o.ops[o.ops.length-1],c)){var d=new Wt(e.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&typeof l.retain=="number"&&o.push(u)}return o.chop()};Wt.prototype.concat=function(t){var e=new Wt(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e};Wt.prototype.diff=function(t,e){if(this.ops===t.ops)return new Wt;var r=[this,t].map(function(s){return s.map(function(l){if(l.insert!=null)return typeof l.insert=="string"?l.insert:H6;var u=s===t?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),n=new Wt,i=kf(r[0],r[1],e),a=hn.iterator(this.ops),o=hn.iterator(t.ops);return i.forEach(function(s){for(var l=s[1].length;l>0;){var u=0;switch(s[0]){case kf.INSERT:u=Math.min(o.peekLength(),l),n.push(o.next(u));break;case kf.DELETE:u=Math.min(l,a.peekLength()),a.next(u),n.delete(u);break;case kf.EQUAL:u=Math.min(a.peekLength(),o.peekLength(),l);var c=a.next(u),f=o.next(u);Am(c.insert,f.insert)?n.retain(u,hn.attributes.diff(c.attributes,f.attributes)):n.push(f).delete(u);break}l-=u}}),n.chop()};Wt.prototype.eachLine=function(t,e){e=e||"\n";for(var r=hn.iterator(this.ops),n=new Wt,i=0;r.hasNext();){if(r.peekType()!=="insert")return;var a=r.peek(),o=hn.length(a)-r.peekLength(),s=typeof a.insert=="string"?a.insert.indexOf(e,o)-o:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(t(n,r.next(1).attributes||{},i)===!1)return;i+=1,n=new Wt}}n.length()>0&&t(n,{},i)};Wt.prototype.transform=function(t,e){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);for(var r=hn.iterator(this.ops),n=hn.iterator(t.ops),i=new Wt;r.hasNext()||n.hasNext();)if(r.peekType()==="insert"&&(e||n.peekType()!=="insert"))i.retain(hn.length(r.next()));else if(n.peekType()==="insert")i.push(n.next());else{var a=Math.min(r.peekLength(),n.peekLength()),o=r.next(a),s=n.next(a);if(o.delete)continue;s.delete?i.push(s):i.retain(a,hn.attributes.transform(o.attributes,s.attributes,e))}return i.chop()};Wt.prototype.transformPosition=function(t,e){e=!!e;for(var r=hn.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var i=r.peekLength(),a=r.peekType();if(r.next(),a==="delete"){t-=Math.min(i,t-n);continue}else a==="insert"&&(n<t||!e)&&(t+=i);n+=i}return t};var U6=Wt;const G6=tn(U6),W6=_p.Quill.import("modules/clipboard");class Y6 extends W6{onPaste(e){e.preventDefault();const r=this.quill.getSelection(),n=e.clipboardData.getData("text/plain");n.split("\r\n").filter(function(s){return s});const i=new G6().retain(r.index).delete(r.length).insert(n),a=n.length+r.index,o=0;this.quill.updateContents(i,"silent"),this.quill.setSelection(a,o,"silent")}}const $C=(t,e)=>{let r=[];if(!t)return r;let n=t.find(i=>i.code===e);return n&&(n.parent&&NC(t,n).forEach(a=>{r=r.concat(x_(t,a))}),(Ui(n.code)||ls(n.code))&&(r=r.concat(x_(t,n)))),r},NC=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(NC(t,n))),r},x_=(t,e)=>{let r=[];return!Ui(e.code)&&!ls(e.code)||t.filter(i=>i.parent===e.parent&&i.maxIndex<e.minIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(i.code)===-1)).forEach(i=>{r=r.concat(i.code),r=r.concat(DC(t,i))}),r},DC=(t,e)=>{let r=[];return Ui(e.code)&&e.children&&e.children.forEach(n=>{let i=t.find(a=>a.code===n);r=r.concat(i.code),r=r.concat(DC(t,i))}),r},K6=(t,e,r,n)=>{let i=$C(t,e),a=[];return i.forEach(o=>{if(ls(o)){const s=J6(o,r[o],r,n);s.length&&(a=a.concat(s))}}),a},J6=(t,e,r,n)=>{var s,l;const i=t+". "+Pi((l=(s=e.content)==null?void 0:s.label)==null?void 0:l[n]);let a="",o=e.type;switch(e.type){case"scq_icon_array":case"scq_array":return e.children.filter(u=>u.type=="row").map(u=>{var c,f;return{value:i+" - "+t+". "+Pi((f=(c=r[u.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n]),id:t+u.code,type:"SCQ Array Row",instruction:t+u.code+".masked_value"}});case"text":o="Short Text",a="".concat(t,".value");break;case"nps":o="NPS",a="".concat(t,".value");break;case"email":o="Email",a="".concat(t,".value");break;case"paragraph":a="".concat(t,".value"),o="Long Text";break;case"number":o="Number",a="".concat(t,".value");break;case"date":o="Date",a="".concat(t,".masked_value");break;case"time":o="time",a="".concat(t,".masked_value");break;case"date_time":o="Date Time",a="".concat(t,".masked_value");break;case"scq":o="SCQ",a="".concat(t,".masked_value");break;case"icon_scq":o="Icon SCQ",a="".concat(t,".masked_value");break;case"image_scq":o="Image SCQ",a="".concat(t,".masked_value");break;case"mcq":o="MCQ",a="".concat(t,".masked_value");break;case"image_mcq":o="Image MCQ",a="".concat(t,".masked_value");break;case"icon_mcq":o="Icon MCQ",a="".concat(t,".masked_value");break;default:return[]}return[{id:t,instruction:a,value:i,type:o}]};_p.Quill.register("modules/mentions",aC);_p.Quill.register("modules/clipboard",Y6,!0);function Q6({value:t,onBlurListener:e,extended:r,isRtl:n,lang:i,code:a}){console.debug("DraftEditor for: "+a);const o=(b,S)=>S?"<p>"+b.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":b,s=j.createRef(),[l,u]=J.useState(o(t,!r)),[c,f]=J.useState(0);async function d(b){const S=xR.getState().designState,O=K6(S.componentIndex,a,S,S.langInfo.mainLang);if(b.length===0)return O;{const C=[];for(var x=0;x<O.length;x++)O[x].value.toLowerCase().indexOf(b.toLowerCase())>=0&&C.push(O[x]);return C}}J.useEffect(()=>{const b=s.current.getEditor();b.setSelection(b.getLength(),0)},[s.current]);const p=J.useMemo(()=>({mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(b,S){S({...b,value:"{{".concat(b.id,":").concat(b.type,"}}")})},source:async function(b,S){const O=await d(b);S(O)}},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}}),[]),v=["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"];let h=null;const g=()=>{f(Date.now()),h&&clearTimeout(h)},y=()=>{h=setTimeout(()=>{e(l,i)},500)},m=b=>{g(),u(o(b,!r))},_=b=>{b.target.tagName==="A"&&b.target.className=="ql-preview"&&(b.preventDefault(),window.open(b.target.href,"_blank"))};return T.jsx("div",{onClick:_,className:"quill-wrapper",onFocus:g,onBlur:y,children:T.jsx(xB,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:s,modules:p,formats:v,value:l,onChange:m})})}const X6=j.memo(Q6);function Z6({placeholder:t,extended:e,contentKey:r,code:n,editable:i}){const a=wt(),o=ye(m=>{var _;return(_=m.designState[n].content)==null?void 0:_[r]}),s=ye(m=>m.designState.langInfo);ye(m=>{var _;return n[0]=="G"?((_=m.designState[n].groupType)==null?void 0:_.toLowerCase())||"group":m.designState[n].type});const l=s.lang,u=s.mainLang,c=s.onMainLang,f=(o==null?void 0:o[l])||"",d=c?t:Gb(o==null?void 0:o[u])?o==null?void 0:o[u]:t,[p,v]=J.useState(!1),h=J.useCallback((m,_)=>{v(!1),l==_&&m!=f&&a(Io({code:n,key:r,lang:l,value:m}))},[f]),g=m=>{m.preventDefault(),v(!0)},y=So.includes(l);return T.jsx(ht,{className:Ph.fullWidth,onClick:m=>{i&&g(m)},children:p?T.jsx(X6,{lang:l,isRtl:y,code:n,extended:e,onBlurListener:h,value:f}):Gb(f)?T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Ph.noPadding),dangerouslySetInnerHTML:{__html:f}}):T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Ph.placeholder),dangerouslySetInnerHTML:{__html:d}})})}const Ed=j.memo(Z6),e8="_actionControl_1xa5v_1",t8="_statusIcon_1xa5v_8",r8="_questionContainer_1xa5v_12",n8="_actionIcon_1xa5v_16",i8="_settingIcon_1xa5v_17",a8="_deleteIcon_1xa5v_25",Ps={actionControl:e8,statusIcon:t8,questionContainer:r8,actionIcon:n8,settingIcon:i8,deleteIcon:a8};var jm={},o8=Cr;Object.defineProperty(jm,"__esModule",{value:!0});var MC=jm.default=void 0,s8=o8(Tr()),l8=T;MC=jm.default=(0,s8.default)((0,l8.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var Pm={},u8=Cr;Object.defineProperty(Pm,"__esModule",{value:!0});var Fm=Pm.default=void 0,c8=u8(Tr()),f8=T;Fm=Pm.default=(0,c8.default)((0,f8.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Lm={},d8=Cr;Object.defineProperty(Lm,"__esModule",{value:!0});var Cd=Lm.default=void 0,p8=d8(Tr()),h8=T;Cd=Lm.default=(0,p8.default)((0,h8.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var Rm={},v8=Cr;Object.defineProperty(Rm,"__esModule",{value:!0});var VC=Rm.default=void 0,g8=v8(Tr()),m8=T;VC=Rm.default=(0,g8.default)((0,m8.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");function y8({code:t,isGroup:e,parentCode:r,disableDelete:n,onDelete:i,onClone:a,t:o}){const s=wt(),l=ba(),u=ye(C=>{var I;return e?((I=C.designState[t].groupType)==null?void 0:I.toLowerCase())||"group":C.designState[t].type}),[c,f]=J.useState(!1),d=()=>f(!1),p=ye(C=>{var E,k;let I=(k=(E=C.designState[t])==null?void 0:E.instructionList)==null?void 0:k.find(w=>w.code=="conditional_relevance");return typeof I<"u"&&!I.errors}),v=ye(C=>{var I,E,k;return!e&&((k=(E=(I=C.designState[t])==null?void 0:I.instructionList)==null?void 0:E.filter(w=>w.code.startsWith("validation_")&&!w.errors))==null?void 0:k.length)>0}),h=()=>{s(Li({code:t,rules:Da(u)}))},g=()=>{s(Li({code:t,rules:Da(u),highlighted:"relevance",expanded:["relevance"]}))},y=()=>{s(Li({code:t,rules:Da(u),highlighted:"validation",expanded:["validation"]}))},m=()=>{s(Li({code:t,rules:Da(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},_=()=>{s(e?Li({...surveySetup,highlighted:"random"}):Li({code:r,rules:Da("group"),highlighted:"random",expanded:["random"]}))},b=l.textStyles.question.color,S=ye(C=>{var E,k,w;let I=(k=(E=C.designState[t])==null?void 0:E.instructionList)==null?void 0:k.filter(A=>A.code.startsWith("skip_to"));return((w=I==null?void 0:I.filter(A=>!A.errors))==null?void 0:w.length)>=1}),O=ye(C=>{var E;let I=(E=C.designState.componentIndex)==null?void 0:E.find(k=>k.code==t);return I&&I.minIndex!=I.maxIndex}),x=ye(C=>{var E,k;let I=(E=C.designState.componentIndex)==null?void 0:E.find(w=>w.code==t);return((k=I==null?void 0:I.prioritisedSiblings)==null?void 0:k.length)>0});return T.jsxs("div",{className:Ps.actionControl,onClick:C=>{C.target!==C.currentTarget&&(C.preventDefault(),C.stopPropagation())},children:[p&&T.jsx(_u,{title:"Has show/Hide Condition",showIcon:!1,children:T.jsx(bt,{className:Ps.statusIcon,onClick:()=>g(),children:T.jsx(c$,{style:{color:b}})})}),v&&T.jsx(_u,{title:"Has Validation",showIcon:!1,children:T.jsx(bt,{className:Ps.statusIcon,onClick:()=>y(),children:T.jsx(MC,{style:{color:b}})})}),O&&T.jsx(_u,{title:"Is part of a valid Random Group (within parent)",showIcon:!1,children:T.jsx(bt,{className:Ps.statusIcon,onClick:()=>_(),children:T.jsx(Fm,{style:{color:b}})})}),x&&T.jsx(_u,{title:"Is part of a valid Priority Group (within parent)",showIcon:!1,children:T.jsx(bt,{className:Ps.statusIcon,onClick:()=>_(),children:T.jsx(Cd,{style:{color:b}})})}),S&&T.jsx(_u,{title:"Has active Skip Logic",showIcon:!1,children:T.jsx(bt,{className:Ps.statusIcon,onClick:()=>m(),children:T.jsx(VC,{style:{color:b}})})}),T.jsx(bt,{onClick:()=>h(),children:T.jsx(Ch,{name:"settings",size:".75em",color:"".concat(b)})}),!e&&T.jsx(bt,{onClick:()=>a(),children:T.jsx(Ch,{name:"duplicate",size:".75em",color:"".concat(b)})}),!n&&T.jsx(bt,{onClick:()=>f(!0),disabled:n,children:T.jsx(Ch,{name:"delete",size:".75em",color:b})}),T.jsx(f$,{open:c,description:o("delete_question"),handleClose:d,handleDelete:i})]})}const BC=j.memo(y8),b8="_questionItem_wb37f_1",_8={questionItem:b8};function S8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:_8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size,"&.Mui-disabled":{color:e.textStyles.text.color,borderBottom:"1px solid"}}}})})}const O8=j.memo(S8),x8="_questionItem_1sx0f_1",w8={questionItem:x8};function E8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:w8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:""})})}const C8=j.memo(E8),T8="_questionItem_169qj_1",k8={questionItem:T8};function I8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:k8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const A8=j.memo(I8),j8="_questionItem_13fbu_1",P8="_paragraph_13fbu_15",F8="_wordCount_13fbu_19",Bh={questionItem:j8,paragraph:P8,wordCount:F8};function L8({code:t,t:e}){var i,a,o,s;const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs("div",{className:Bh.questionItem,children:[T.jsx(wR,{disabled:!0,className:Bh.paragraph,required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),placeholder:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),minRows:r.minRows||2,value:""}),r.showWordCount?T.jsx("div",{className:Bh.wordCount,children:T.jsx("span",{children:e("word_count",{lng:n,count:0})})}):""]})}const R8=j.memo(L8),$8="_questionItem_1sx0f_1",N8={questionItem:$8};function D8({code:t}){var i,a;const e=Pr(),r=ye(o=>o.designState[t]),n=ye(o=>o.designState.langInfo.lang);return T.jsx("div",{className:N8.questionItem,children:T.jsx(Zt,{variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&r.content.hint?r.content.hint[n]:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:"",type:"file",disabled:!0})})}const M8=j.memo(D8),V8="_questionItem_1sx0f_1",B8={questionItem:V8};function q8({code:t}){var i,a,o;const e=Pr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:B8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",InputProps:{sx:{fontFamily:e.textStyles.text,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},placeholder:r.dateFormat})})}const w_=j.memo(q8),z8="_questionItem_wb37f_1",H8={questionItem:z8};function U8({code:t}){var i,a,o;const e=Pr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:H8.questionItem,children:T.jsx(Zt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",type:"time",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const G8=j.memo(U8);var $m={},W8=Cr;Object.defineProperty($m,"__esModule",{value:!0});var jo=$m.default=void 0,Y8=W8(Tr()),K8=T;jo=$m.default=(0,Y8.default)((0,K8.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");function J8(t){const e=Pr(),r=t.t,n=ye(s=>s.designState.langInfo);n.lang,n.mainLang;const i=ye(s=>s.designState[t.code].children);ye(s=>{var l;return((l=s.designState.setup)==null?void 0:l.code)==t.code});const a=j.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="row"))||[],[i]),o=j.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="column"))||[],[i]);return T.jsxs(T.Fragment,{children:[yi(t.designMode)&&T.jsx("div",{className:Hu.addColumn,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(CE,{children:T.jsxs(TE,{children:[T.jsx(IE,{children:T.jsxs(lp,{children:[yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),o.map((s,l)=>T.jsx(Z8,{parentQualifiedCode:t.qualifiedCode,langInfo:n,designMode:t.designMode,t:t.t,item:s,index:l},s.qualifiedCode)),yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(kE,{children:a.map((s,l)=>T.jsx(X8,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,designMode:t.designMode,item:s,colCount:o.length,index:l},s.qualifiedCode))})]})}),t.onMainLang&&T.jsx("div",{className:Hu.addRow,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const Q8=j.memo(J8);function X8({item:t,index:e,colCount:r,designMode:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=wt(),l=Pr(),u=J.useRef(),c=a.lang===a.mainLang,f=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.lang]}),d=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.mainLang]}),p="col-".concat(o),[v,h,g]=Wa({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:_=>_.isDragging()},[e]),[{handlerId:y},m]=Wi({accept:p,collect(_){return{handlerId:_.getHandlerId()}},hover(_,b){var k;if(!u.current||!b.isOver({shallow:!0})||!_)return;const S=_.index,O=e;if(S===O)return;const x=(k=u.current)==null?void 0:k.getBoundingClientRect(),C=(x.bottom-x.top)/2,E=b.getClientOffset().y-x.top;S<O&&E<C||S>O&&E>C||(s(Si({type:"reorder_answers_by_type",id:_.qualifiedCode,fromIndex:_.index,toIndex:O})),_.index=O)}});return m(g(u)),T.jsxs(lp,{style:{opacity:v?"0.2":"1"},ref:u,"data-handler-id":y,children:[yi(n)&&T.jsx(gn,{ref:h,sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(jo,{})},"move"),T.jsx(gn,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:T.jsx(Zt,{variant:"standard",value:f||"",onChange:_=>{s(Io({code:t.qualifiedCode,key:"label",lang:a.lang,value:_.target.value}))},placeholder:c?i("content_editor_placeholder_option"):d||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),[...Array(r)].map((_,b)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(p$,{sx:{"&.Mui-disabled":{color:l.textStyles.text.color}},disabled:!0})},b)),yi(n)&&T.jsx(gn,{onClick:_=>s(us(t.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(pi,{})},"remove")]},t.code)}function Z8({item:t,index:e,designMode:r,t:n,langInfo:i,parentQualifiedCode:a}){const o=wt(),s=Pr(),l=J.useRef(),u=i.lang===i.mainLang,c=So.includes(i.lang),f=!c,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[i.lang]}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[i.mainLang]}),v="row-".concat(a),[h,g,y]=Wa({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:m},_]=Wi({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var w;if(!l.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const C=(w=l.current)==null?void 0:w.getBoundingClientRect(),I=(C.right-C.left)/2,k=S.getClientOffset().x-C.left;f&&O<x&&k<I||f&&O>x&&k>I||c&&O<x&&k>I||c&&O>x&&k<I||(o(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(l)),T.jsxs(gn,{ref:l,"data-handler-id":m,align:"center",sx:{opacity:h?"0.2":"1",fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:[yi(r)&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:g,sx:{padding:"0"},children:T.jsx(jo,{})},"move"),T.jsx("div",{sx:{padding:"0"},onClick:b=>o(us(t.qualifiedCode)),children:T.jsx(pi,{})})]}),T.jsx(Zt,{variant:"standard",value:d||"",onChange:b=>{o(Io({code:t.qualifiedCode,key:"label",lang:i.lang,value:b.target.value}))},placeholder:u?n("content_editor_placeholder_option"):p||n("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})]},t.qualifiedCode)}var Nm={},ez=Cr;Object.defineProperty(Nm,"__esModule",{value:!0});var qC=Nm.default=void 0,tz=ez(Tr()),rz=T;qC=Nm.default=(0,tz.default)((0,rz.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const nz="_placeholder_4iqf5_1",iz="_buttonContainer_4iqf5_9",E_={placeholder:nz,buttonContainer:iz};function az({code:t,t:e,onMainLang:r}){var u,c;const n=Nl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Ma({code:t,key:"videoUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.videoUrl)&&T.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:s.audio_only?"10%":"56%"},children:T.jsx(h$,{url:Ao(s.resources.videoUrl),loop:s.loop||!1,light:!0,controls:!0,config:{forceAudio:s.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),a?T.jsxs("div",{className:E_.buttonContainer,children:[T.jsx(Jg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_video")})]}):r?T.jsx("div",{className:E_.buttonContainer,children:T.jsxs(Ht,{component:"label",variant:"outlined",startIcon:T.jsx(qC,{}),children:[(c=s.resources)!=null&&c.videoUrl?e("replace_video"):e("upload_video"),T.jsx("input",{hidden:!0,id:t,accept:"video/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const oz="_signatureCanvas_1uxb1_1",sz={signatureCanvas:oz};function lz(){return T.jsx(ht,{className:sz.signatureCanvas,sx:{backgroundColor:"background.default"},children:T.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}const uz=j.memo(lz);var Dm={},cz=Cr;Object.defineProperty(Dm,"__esModule",{value:!0});var wp=Dm.default=void 0,fz=cz(Tr()),dz=T;wp=Dm.default=(0,fz.default)((0,dz.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const pz="_placeholder_xjf3c_1",hz="_buttonContainer_xjf3c_9",vz="_imageContainer_xjf3c_14",C_={placeholder:pz,buttonContainer:hz,imageContainer:vz};function gz({code:t,t:e,onMainLang:r}){var u,c;const n=Nl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Ma({code:t,key:"imageUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.imageUrl)&&T.jsx("img",{style:{width:"100%"},src:Ao(s.resources.imageUrl)}),a?T.jsxs("div",{className:C_.buttonContainer,children:[T.jsx(Jg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_image")})]}):r?T.jsx("div",{className:C_.buttonContainer,children:T.jsxs(Ht,{variant:"outlined",component:"label",children:[T.jsx(wp,{className:"mr-10"}),(c=s.resources)!=null&&c.imageUrl?e("replace_image"):e("upload_image"),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const mz=j.memo(gz),yz="_choicesContainer_k0bnu_1",bz="_choice_k0bnu_1",_z="_choiceLabels_k0bnu_19",qh={choicesContainer:yz,choice:bz,choiceLabels:_z};function Sz({code:t}){var i,a,o,s;Pr();let e=[0,1,2,3,4,5,6,7,8,9,10];const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs(T.Fragment,{children:[T.jsxs(ht,{className:qh.choiceLabels,children:[T.jsx(ht,{children:(a=(i=r.content)==null?void 0:i.lower_bound_hint)==null?void 0:a[n]}),T.jsx(ht,{children:(s=(o=r.content)==null?void 0:o.higher_bound_hint)==null?void 0:s[n]})]}),T.jsx(ht,{className:qh.choicesContainer,children:e.map(l=>T.jsx(ht,{className:qh.choice,children:l},l))})]})}const Oz=j.memo(Sz),xz="_container_cyg3h_1",wz={container:xz};function Ez({code:t}){var n,i;ba();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:wz.container,children:[T.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const Cz=j.memo(Ez),Tz="_container_cyg3h_1",kz={container:Tz};function Iz({code:t}){var n,i;ba();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:kz.container,children:[T.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const Az=j.memo(Iz),jz="_container_cyg3h_1",Pz={container:jz};function Fz({code:t}){var n,i;ba();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:Pz.container,children:[T.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const Lz=j.memo(Fz),Rz="_answerAdd_5tmqk_1",$z="_questionItem_5tmqk_9",Nz="_choicesContainer_5tmqk_15",If={answerAdd:Rz,questionItem:$z,choicesContainer:Nz},Dz="_answerItem_shykq_1",Mz="_answerIcon_shykq_10",Vz="_answerIconOther_shykq_18",Bz="_answerNumberOrder_shykq_27",qz="_answerControl_shykq_32",zz="_answerControlRtl_shykq_37",Hz="_answerControlOther_shykq_42",Uz="_answerControlOtherRtl_shykq_47",Gz="_answerOtherControl_shykq_52",ro={answerItem:Dz,answerIcon:Mz,answerIconOther:Vz,answerNumberOrder:Bz,answerControl:qz,answerControlRtl:zz,answerControlOther:Hz,answerControlOtherRtl:Uz,answerOtherControl:Gz};var Mm={},Wz=Cr;Object.defineProperty(Mm,"__esModule",{value:!0});var zC=Mm.default=void 0,Yz=Wz(Tr()),Kz=T;zC=Mm.default=(0,Yz.default)((0,Kz.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");function Jz(t){const e=wt(),r=Pr(),n=J.useRef(null),i=ye(m=>m.designState.langInfo),a=ye(m=>m.designState[t.qualifiedCode]),o=i.lang===i.mainLang,s=i.lang,l=So.includes(s),u=ye(m=>{var _;return a.type==="other"&&((_=m.designState.setup)==null?void 0:_.code)==t.qualifiedCode+"Atext"}),c=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[s]}),f=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[i.mainLang]}),d=m=>{const _={transition:"all 500ms"};return m&&(_.opacity=.5),_},[p,v,h]=Wa({type:t.droppableId,item:{index:t.index,draggableId:t.qualifiedCode,type:t.droppableId,code:t.code,itemType:t.type,droppableId:t.droppableId},collect:m=>m.isDragging()},[t]),[{handlerId:g},y]=Wi({accept:t.droppableId,collect(m){return{handlerId:m.getHandlerId()}},hover(m,_){var E;if(!n.current||!_.isOver({shallow:!0})||!m)return;const b=m.index,S=t.index;if(b===S)return;const O=(E=n.current)==null?void 0:E.getBoundingClientRect(),x=(O.bottom-O.top)/2,I=_.getClientOffset().y-O.top;b<S&&I<x||b>S&&I>x||(e(Si({type:"reorder_answers",id:m.draggableId,fromIndex:m.index,toIndex:t.index})),m.index=S)}});return y(h(n)),op(r.palette.background.paper),T.jsx("div",{ref:n,style:d(p),"data-handler-id":g,children:T.jsxs(ht,{sx:{backgroundColor:u?"beige":"inherit"},className:ro.answerItem,children:[yi(t.designMode)&&T.jsx("div",{ref:v,className:ro.answerIcon,children:T.jsx(jo,{ref:v,sx:{fontSize:18}})}),t.label?T.jsx("b",{children:t.label}):"",T.jsx(Zt,{variant:"standard",disabled:!Xg(t.designMode),className:a.type==="other"&&l?ro.answerControlOtherRtl:a.type==="other"?ro.answerControlOther:l?ro.answerControlRtl:ro.answerControl,value:c||"",onChange:m=>e(Io({code:t.qualifiedCode,key:"label",lang:s,value:m.target.value})),placeholder:o?t.t("content_editor_placeholder_option"):f||t.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),a.type==="other"&&T.jsx(zC,{sx:{fontSize:18},className:ro.answerIconOther,onClick:()=>{e(Li({code:t.qualifiedCode+"Atext",rules:Da("other_text")}))}},"setup"),yi(t.designMode)&&T.jsx(pi,{sx:{fontSize:18},className:ro.answerIcon,onClick:m=>e(us(t.qualifiedCode))},"close")]})})}function Qz(t){const e=Pr(),r=t.t,n=ye(o=>o.designState[t.code].children),i=ye(o=>o.designState[t.code].type),a=(i=="mcq"||i=="scq")&&(!n||!n.some(o=>o.code==="Aother"));return T.jsxs("div",{className:If.questionItem,children:[T.jsx("div",{className:If.choicesContainer,children:n&&n.length>0&&n.map((o,s)=>T.jsx(Jz,{designMode:t.designMode,code:o.code,t:t.t,label:o.code,qualifiedCode:o.qualifiedCode,index:s,type:t.type,droppableId:"option-".concat(t.code)},o.code))}),yi(t.designMode)&&T.jsxs("div",{className:If.answerAdd,children:[T.jsx(Ht,{size:"small",style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},onClick:()=>t.addNewAnswer(t.code,i),children:r("add_option")}),a&&T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{color:e.textStyles.question.color},children:r("or")}),T.jsx(Ht,{style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",className:If.answerIcon,onClick:()=>t.addNewAnswer(t.code,i,"other"),children:r("add_other")})]})]})]})}const zh=j.memo(Qz),Xz="_addAnswerIcon_4rcog_1",Zz="_questionItem_4rcog_5",eH="_addAnswerButton_4rcog_10",tH={addAnswerIcon:Xz,questionItem:Zz,addAnswerButton:eH},rH="_imageIconButton_chgwf_1",nH="_imageContainer_chgwf_8",iH="_addAnswerIcon_chgwf_16",aH="_loadingContainer_chgwf_20",oH="_addAnswerButton_chgwf_26",sH="_buttonContainers_chgwf_34",no={imageIconButton:rH,imageContainer:nH,addAnswerIcon:iH,loadingContainer:aH,addAnswerButton:oH,buttonContainers:sH};var Vm={},lH=Cr;Object.defineProperty(Vm,"__esModule",{value:!0});var Bm=Vm.default=void 0,uH=lH(Tr()),cH=T;Bm=Vm.default=(0,uH.default)((0,cH.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var qm={},fH=Cr;Object.defineProperty(qm,"__esModule",{value:!0});var Wo=qm.default=void 0,dH=fH(Tr()),pH=T;Wo=qm.default=(0,dH.default)((0,pH.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function hH({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageAspectRatio:a,designMode:o,hideText:s,t:l,addAnswer:u}){var $;const c=Nl("design"),f=wt(),d=Pr(),p=J.useRef(),[v,h]=J.useState(!1),g=ye(L=>L.designState.langInfo),y=ye(L=>n=="add"?void 0:L.designState[r]),m=g.lang===g.mainLang,_=g.lang,b=So.includes(_),S=ye(L=>{var N,B;return n=="add"||(B=(N=L.designState[r].content)==null?void 0:N.label)==null?void 0:B[_]}),O=ye(L=>{var N,B;return n=="add"||(B=(N=L.designState[r].content)==null?void 0:N.label)==null?void 0:B[g.mainLang]}),x=()=>{window.confirm("Are you sure?")&&f(us(r))},C=($=y==null?void 0:y.resources)!=null&&$.image?"url('".concat(Ao(y.resources.image),"')"):"0";function I(L){L.preventDefault();let N=L.target.files[0];h(!0),c.uploadResource(N).then(B=>{h(!1),f(Ma({code:r,key:"image",value:B.name}))}).catch(B=>{h(!1),console.error(B)})}const E=t+"image-drag",k=L=>Math.round(L/i),A=(L=>L%i)(e),P=k(e),[F,D,R]=Wa({type:E,item:{index:e,colIndex:A,rowIndex:P,draggableId:r,parentCode:t,type:E,itemType:E},collect:L=>L.isDragging()},[e]),[{handlerId:G},V]=Wi({accept:E,collect(L){return{handlerId:L.getHandlerId()}},hover(L,N){var fe;if(!p.current||!N.isOver({shallow:!0})||!L)return;const B=L.index,H=e,z=L.rowIndex,M=P,W=L.colIndex,q=A;if(B===H)return;const Y=(fe=p.current)==null?void 0:fe.getBoundingClientRect(),K=(Y.bottom-Y.top)/2,ie=(Y.right-Y.left)/2,te=N.getClientOffset(),ae=te.y-Y.top,ue=te.x-Y.left;z<M&&ae<K&&W<q&&ue<ie||z>M&&ae>K&&W>q&&ue>ie||(f(Si({type:"reorder_answers",id:L.draggableId,fromIndex:B,toIndex:H})),L.index=H,L.rowIndex=M,L.colIndex=q)}});return V(R(p)),n=="add"?T.jsx(co,{height:"100%",item:!0,xs:12/i,children:T.jsx(ht,{className:no.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:d.palette.background.default,borderRadius:"4px"},children:T.jsx(bt,{sx:{color:d.textStyles.text.color},className:no.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Wo,{})})})},"add"):T.jsx(T.Fragment,{children:T.jsxs(co,{style:{opacity:F?"0.2":"1"},item:!0,xs:12/i,children:[T.jsxs("div",{className:no.imageContainer,style:{paddingTop:100/a+"%",backgroundColor:d.palette.background.default,backgroundImage:C},ref:p,"data-handler-id":G,children:[yi(o)&&T.jsxs("div",{className:no.buttonContainers,children:[T.jsx(bt,{sx:{color:d.textStyles.text.color},className:no.imageIconButton,onClick:()=>{x()},children:T.jsx(Bm,{})}),T.jsxs(bt,{sx:{color:d.textStyles.text.color},component:"label",className:no.imageIconButton,children:[T.jsx(wp,{}),T.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:I})]}),T.jsx(bt,{sx:{color:d.textStyles.text.color},ref:D,className:no.imageIconButton,children:T.jsx(jo,{})})]}),v&&T.jsx("div",{className:no.loadingContainer,children:T.jsx(Jg,{})})]}),!s&&T.jsx(Zt,{dir:b?"rtl":"ltr",variant:"standard",value:S||"",disabled:!Xg(o),onChange:L=>f(Io({code:r,key:"label",lang:_,value:L.target.value})),placeholder:m?l("content_editor_placeholder_option"):O||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size}}})]},r)})}const vH="_imageIconButton_lgrld_1",gH="_imageContainer_lgrld_8",mH="_addAnswerIcon_lgrld_12",yH="_loadingContainer_lgrld_16",bH="_addAnswerButton_lgrld_23",_H="_svgContainer_lgrld_31",SH="_buttonContainers_lgrld_36",Fs={imageIconButton:vH,imageContainer:gH,addAnswerIcon:mH,loadingContainer:yH,addAnswerButton:bH,svgContainer:_H,buttonContainers:SH};class OH{search(e,r){return new Promise((n,i)=>{vd.get("https://api.iconify.design/search?query=".concat(e,"&limit=250"),{cancelToken:r.token}).then(a=>{n(a.data.icons)}).catch(a=>{vd.isCancel(a)?console.debug("Request canceled:",a.message):i(a)})})}}const xH=new OH,wH="_resultImage_2y7qe_1",EH={resultImage:wH};function HC({currentIcon:t,onIconSelected:e}){const{t:r}=ss("design"),[n,i]=J.useState(""),[a,o]=J.useState(null),[s,l]=J.useState([]);J.useEffect(()=>{if(a&&a.cancel("Operation canceled by the user."),n){const c=vd.CancelToken.source();o(c),xH.search(n,c).then(f=>{l(f)}).catch(f=>{console.error(f)})}else l([])},[n]);const u=c=>{i(c.target.value)};return T.jsxs(rm,{fullScreen:!0,sx:{margin:"200px",backgroundColor:"white"},open:!0,onClose:()=>e(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(em,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),T.jsx(qu,{children:T.jsxs("div",{children:[T.jsx("input",{type:"text",placeholder:"Search for icons",value:n,onChange:u}),T.jsx("div",{className:"search-results",children:s.map((c,f)=>{const d=c.split(":");return T.jsx(CH,{onClick:e,source:"https://api.iconify.design/".concat(d[0],"/").concat(d[1],".svg")},f)})})]})}),T.jsx(tm,{children:T.jsx(Ht,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function CH({source:t,onClick:e}){const[r,n]=J.useState("");return J.useEffect(()=>{vd.get(t).then(i=>{TH(i.data)&&n(i.data)})},[t]),T.jsx("div",{onClick:()=>{e(r)},className:EH.resultImage,dangerouslySetInnerHTML:{__html:r}})}function TH(t){return typeof t!="string"?!1:/^<svg[\s\S]*<\/svg>$/.test(t)}function kH({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,designMode:a,imageHeight:o,hideText:s,t:l,addAnswer:u}){var $,L,N,B,H;const c=Nl("design"),f=wt(),d=J.useRef(null),p=Pr(),[v,h]=J.useState(!1),g=ye(z=>z.designState.langInfo),y=ye(z=>n=="add"?void 0:z.designState[r]),m=g.lang===g.mainLang,_=g.lang,b=($=y==null?void 0:y.resources)==null?void 0:$.icon,S=n=="add"||(N=(L=y.content)==null?void 0:L.label)==null?void 0:N[_];n=="add"||y.icon;const O=So.includes(_),x=n=="add"||(H=(B=y.content)==null?void 0:B.label)==null?void 0:H[g.mainLang],C=()=>{window.confirm("Are you sure?")&&f(us(r))},I=t+"icon-drag",E=z=>Math.round(z/i),k=z=>z%i,w=z=>{const M=new Blob([z],{type:"image/svg+xml"}),W=new File([M],"file.svg",{type:"image/svg+xml"});c.uploadResource(W).then(q=>{f(Ma({code:r,key:"icon",value:q.name}))}).catch(q=>{console.error(q.message)})},A=k(e),P=E(e),[F,D,R]=Wa({type:I,item:{index:e,colIndex:A,rowIndex:P,draggableId:r,parentCode:t,type:I,itemType:I},collect:z=>z.isDragging()},[e]),[{handlerId:G},V]=Wi({accept:I,collect(z){return{handlerId:z.getHandlerId()}},hover(z,M){var re;if(!d.current||!M.isOver({shallow:!0})||!z)return;const W=z.index,q=e,Y=z.rowIndex,K=P,ie=z.colIndex,te=A;if(W===q)return;const ae=(re=d.current)==null?void 0:re.getBoundingClientRect(),ue=(ae.bottom-ae.top)/2,fe=(ae.right-ae.left)/2,pe=M.getClientOffset(),Se=pe.y-ae.top,Q=pe.x-ae.left;Y<K&&Se<ue&&ie<te&&Q<fe||Y>K&&Se>ue&&ie>te&&Q>fe||(f(Si({type:"reorder_answers",id:z.draggableId,fromIndex:W,toIndex:q})),z.index=q,z.rowIndex=K,z.colIndex=te)}});return V(R(d)),n=="add"?T.jsx(co,{item:!0,xs:12/i,height:"100%",children:T.jsx(ht,{className:Fs.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:p.palette.background.default,height:"100%",width:"100%"},children:T.jsx(bt,{sx:{color:p.textStyles.text.color},className:Fs.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Wo,{})})})},"add"):T.jsxs(T.Fragment,{children:[T.jsx(co,{style:{opacity:F?"0.2":"1"},item:!0,xs:12/i,children:T.jsxs("div",{ref:d,"data-handler-id":G,children:[yi(a)&&T.jsxs("div",{className:Fs.buttonContainers,children:[T.jsx(bt,{sx:{color:p.textStyles.text.color},className:Fs.imageIconButton,onClick:()=>{C()},children:T.jsx(Bm,{})}),T.jsx(bt,{sx:{color:p.textStyles.text.color},component:"label",className:Fs.imageIconButton,onClick:()=>h(!0),children:T.jsx(wp,{})}),T.jsx(bt,{sx:{color:p.textStyles.text.color},ref:D,className:Fs.imageIconButton,children:T.jsx(jo,{})})]}),T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:T.jsx(nm,{imageHeight:o+"px",svgUrl:b?Ao(b):void 0})}),!s&&T.jsx(Zt,{dir:O?"rtl":"ltr",variant:"standard",disabled:!Xg(a),value:S||"",onChange:z=>f(Io({code:r,key:"label",lang:_,value:z.target.value})),placeholder:m?l("content_editor_placeholder_option"):x||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size}}})]})},r),v&&T.jsx(HC,{currentIcon:"",onIconSelected:z=>{w(z),h(!1)}})]})}function IH(t){const e=ye(f=>f.designState[t.code]),r=e.children||[],n=ye(f=>f.designState[t.code].imageAspectRatio||1),i=e.type,a=yi(t.designMode)?[...r,{type:"add",code:"add"}]:r,o=e.columns||2,s=e.hideText||!1,l=e.spacing||8,u=e.iconSize?+e.iconSize:64,c="calc(".concat(100/o,"% - ").concat(l,"px)");return T.jsx("div",{className:tH.questionItem,children:u&&T.jsx(ht,{id:"items-"+t.code,sx:{display:"flex",flexWrap:"wrap",gap:"".concat(l,"px")},children:a.map((f,d)=>t.icon?T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(kH,{parentCode:t.code,index:d,columnNumber:o,designMode:t.designMode,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code):T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(hH,{parentCode:t.code,index:d,imageAspectRatio:n,columnNumber:o,hideText:s,designMode:t.designMode,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code))})})}const T_=j.memo(IH);var zm={},AH=Cr;Object.defineProperty(zm,"__esModule",{value:!0});var UC=zm.default=void 0,jH=AH(Tr()),PH=T;UC=zm.default=(0,jH.default)((0,PH.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");function FH(t){const e=Pr(),r=t.t,n=ye(u=>u.designState.langInfo),i=t.designMode==dn.DESIGN,a=ye(u=>u.designState[t.code].children),o=(a==null?void 0:a.filter(u=>u.type=="row"))||[],s=(a==null?void 0:a.filter(u=>u.type=="column"))||[],l=ye(u=>s.map(c=>{var f;return(f=u.designState[c.qualifiedCode].resources)==null?void 0:f.icon}));return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:Hu.addColumn,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(CE,{children:T.jsxs(TE,{children:[T.jsx(IE,{children:T.jsxs(lp,{children:[i&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),s.map((u,c)=>T.jsx($H,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,icons:l,styles:Hu,index:c},u.qualifiedCode)),i&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(kE,{children:o.map((u,c)=>T.jsx(RH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,columns:s,icons:l,index:c},u.qualifiedCode))})]})}),t.inDesgin&&T.jsx("div",{className:Hu.addRow,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const LH=j.memo(FH);function RH({item:t,index:e,columns:r,icons:n,inDesgin:i,t:a,langInfo:o,parentQualifiedCode:s}){const l=wt(),u=Pr(),c=J.useRef(),f=o.lang===o.mainLang,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[o.lang]}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:O[o.mainLang]}),v="col-".concat(s),[h,g,y]=Wa({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:m},_]=Wi({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var w;if(!c.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const C=(w=c.current)==null?void 0:w.getBoundingClientRect(),I=(C.bottom-C.top)/2,k=S.getClientOffset().y-C.top;O<x&&k<I||O>x&&k>I||(l(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(c)),T.jsxs(lp,{style:{opacity:h?"0.2":"1"},ref:c,"data-handler-id":m,children:[i&&T.jsx(gn,{ref:g,sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(jo,{})},"move"),T.jsx(gn,{sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size,padding:"4px"},children:T.jsx(Zt,{variant:"standard",value:d||"",onChange:b=>{l(Io({code:t.qualifiedCode,key:"label",lang:o.lang,value:b.target.value}))},placeholder:f?a("content_editor_placeholder_option"):p||a("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size}}})}),r.map((b,S)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:n[S]&&T.jsx(nm,{opacity:.2,iconColor:u.textStyles.text.color,onIconClick:()=>{},imageHeight:"64px",svgUrl:n[S]?Ao(n[S]):void 0})},S)),i&&T.jsx(gn,{onClick:b=>l(us(t.qualifiedCode)),sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(pi,{})},"remove")]},t.code)}function $H({item:t,index:e,icons:r,inDesgin:n,t:i,langInfo:a,parentQualifiedCode:o,styles:s}){const l=Nl("design"),u=r[e],[c,f]=J.useState(!1),d=wt(),p=Pr(),v=J.useRef(),h=So.includes(a.lang),g=!h,y="row-".concat(o),[m,_,b]=Wa({type:y,item:{qualifiedCode:t.qualifiedCode,index:e},collect:C=>C.isDragging()},[e]),[{handlerId:S},O]=Wi({accept:y,collect(C){return{handlerId:C.getHandlerId()}},hover(C,I){var D;if(!v.current||!I.isOver({shallow:!0})||!C)return;const E=C.index,k=e;if(E===k)return;const w=(D=v.current)==null?void 0:D.getBoundingClientRect(),A=(w.right-w.left)/2,F=I.getClientOffset().x-w.left;g&&E<k&&F<A||g&&E>k&&F>A||h&&E<k&&F>A||h&&E>k&&F<A||(d(Si({type:"reorder_answers_by_type",id:C.qualifiedCode,fromIndex:C.index,toIndex:k})),C.index=k)}}),x=C=>{const I=new Blob([C],{type:"image/svg+xml"}),E=new File([I],"file.svg",{type:"image/svg+xml"});l.uploadResource(E).then(k=>{d(Ma({code:t.qualifiedCode,key:"icon",value:k.name}))}).catch(k=>{console.error(k.message)})};return O(b(v)),T.jsxs(T.Fragment,{children:[T.jsxs(gn,{ref:v,"data-handler-id":S,align:"center",sx:{opacity:m?"0.2":"1",fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size,padding:"4px"},children:[n&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:_,sx:{padding:"0"},children:T.jsx(jo,{})},"move"),T.jsx("div",{sx:{padding:"0",color:p.textStyles.text.color},onClick:C=>d(us(t.qualifiedCode)),children:T.jsx(pi,{})})]}),u?T.jsx(nm,{onIconClick:()=>f(!0),imageHeight:"64px",svgUrl:u?Ao(u):void 0}):T.jsxs(T.Fragment,{children:[T.jsx("br",{}),T.jsxs("div",{onClick:()=>f(!0),children:[T.jsx(UC,{sx:{width:"64px",height:"64px"}}),T.jsx("br",{}),T.jsx("span",{children:"Click to add icon"})]})]})]},t.qualifiedCode),c&&T.jsx(HC,{currentIcon:"",onIconSelected:C=>{x(C),f(!1)}})]})}function NH({code:t,type:e,t:r,onMainLang:n,addAnswer:i,designMode:a}){switch(e){case"video_display":return T.jsx(az,{code:t,t:r,onMainLang:n},t);case"image_display":return T.jsx(mz,{code:t,t:r,onMainLang:n},t);case"signature":return T.jsx(uz,{});case"photo_capture":return T.jsx(Cz,{code:t});case"video_capture":return T.jsx(Az,{code:t});case"date_time":return T.jsx(w_,{code:t},t);case"date":return T.jsx(w_,{code:t},t);case"time":return T.jsx(G8,{code:t},t);case"scq":return T.jsx(zh,{t:r,designMode:a,onMainLang:n,addNewAnswer:i,code:t,type:"radio"},t);case"image_mcq":case"image_scq":case"image_ranking":return T.jsx(T_,{t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"icon_scq":case"icon_mcq":return T.jsx(T_,{icon:!0,t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"scq_icon_array":return T.jsx(LH,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"scq_array":return T.jsx(Q8,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"file_upload":return T.jsx(M8,{code:t},t);case"mcq":return T.jsx(zh,{designMode:a,addNewAnswer:i,code:t,onMainLang:n,t:r,type:"checkbox"},t);case"ranking":return T.jsx(zh,{designMode:a,onMainLang:n,addNewAnswer:i,code:t,t:r,type:"ranking"},t);case"nps":return T.jsx(Oz,{code:t},t);case"number":return T.jsx(A8,{code:t},t);case"text":return T.jsx(O8,{code:t},t);case"paragraph":return T.jsx(R8,{t:r,code:t},t);case"barcode":return T.jsx(Lz,{t:r,code:t},t);case"email":return T.jsx(C8,{code:t},t);default:return""}}const DH=j.memo(NH);function MH({code:t,type:e,isLast:r,parentCode:n,index:i,t:a,designMode:o,onMainLang:s,parentIndex:l}){console.debug(t+": "+i);const[u,c]=J.useState(!1),f=J.useRef(),d=wt(),p=Pr(),v=ye(w=>{var A;return((A=w.designState.setup)==null?void 0:A.code)==t}),h=ye(w=>w.designState[t]),g=h.children,y=ye(w=>{var A;return((A=w.designState.globalSetup)==null?void 0:A.reorder_setup)==="collapse_questions"});ye(w=>!ER(w.designState.setup));const m=J.useCallback(()=>d(CR(t)),[]),_=J.useCallback(()=>d(TR(t)),[]),[b,S,O]=Wa({type:"questions",item:{index:i,draggableId:t,droppableId:n,parentIndex:l,isLast:r,type:"questions",itemType:e},collect:w=>{var A;return((A=w.getItem())==null?void 0:A.draggableId)===t}}),[x,C]=Wi({accept:"questions",hover(w,A){var G;if(!f.current||!A.isOver({shallow:!0})||!w||!w.droppableId.startsWith("G"))return;const P=w.index,F=i;if(P===F||(w==null?void 0:w.droppableId)!==n)return;const D=(G=f.current)==null?void 0:G.getBoundingClientRect(),R=A.getClientOffset();P<F&&R.y<D.top+20||P>F&&R.y>D.bottom-20||(d(Si({type:"reorder_questions",source:w.droppableId,destination:n,id:w.draggableId,fromIndex:P,toIndex:F+1})),w.index=F,w.isLast=r)}});C(O(f));const I=j.useCallback((w,A,P)=>{const F=g||[];let D=1,R="",G="",V="";const $={code:"value",isActive:!1,returnType:{name:A=="ranking"||A=="nps"||A=="image_ranking"?"Int":A=="scq_array"||A=="scq_icon_array"?"String":"Boolean"},text:""};switch(P){case"column":D=Th(F.filter(N=>N.type==="column")),V="Col"+D,R="Ac"+D,G=w+R,d(bu({label:V,answer:{code:R,qualifiedCode:G,type:P}}));break;case"row":D=Th(F.filter(N=>N.type==="row")),R="A"+D,V="Row"+D,G=w+R,d(bu({label:V,instructionList:[$],answer:{code:R,qualifiedCode:G,type:P}}));break;case"other":R="Aother",V="Other",G=w+R;const L=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:A==="scq"?"".concat(w,".value === 'Aother'"):"".concat(w,"Aother.value === true")}];d(bu({label:V,answer:{code:R,qualifiedCode:G,type:P},instructionList:A=="mcq"?[$]:[]})),d(bu({instructionList:L,answer:{code:"Atext",qualifiedCode:G+"Atext",type:"other_text"}}));break;default:D=Th(F),R="A"+D,V="Option"+D,G=w+R,d(bu({label:V,answer:{code:R,qualifiedCode:G},instructionList:A=="mcq"||A=="image_mcq"||A=="icon_mcq"||A=="ranking"||A=="image_ranking"?[$]:[]}));break}},[g]),E=op(p.palette.background.paper),k=p.textStyles.question.color;return T.jsxs("div",{ref:f,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},style:v?{border:"0.5px solid ".concat(k),backgroundColor:E,color:k}:{opacity:b?"0.2":"1",border:b?"dotted 1px "+E:"0"},className:"question ".concat(to.groupQuestion),"data-code":t,children:[T.jsxs(ht,{className:to.contentContainer,children:[y&&T.jsx("div",{className:to.moveBox,ref:S,children:T.jsx(um,{style:{color:k}})}),o==dn.DESIGN&&(v||u)&&T.jsx("div",{className:to.actionToolbarVisible,children:T.jsx(BC,{t:a,isGroup:!1,isInSetup:v,code:t,parentCode:n,onClone:_,onDelete:m,disableDelete:!1})})]}),T.jsxs(ht,{className:to.titleContainer,children:[T.jsx(ht,{className:to.iconBox,children:kR("".concat(e),void 0,k)}),T.jsx("div",{className:to.titleQuestion,style:{fontFamily:p.textStyles.question.font,color:p.textStyles.question.color,fontSize:p.textStyles.question.size},children:T.jsx(Ed,{code:t,editable:o==dn.DESIGN||o==dn.LANGUAGES,extended:!1,placeholder:a("content_editor_placeholder_title"),contentKey:"label"})})]}),h.showDescription&&T.jsx(ht,{className:to.textDescriptionContent,children:T.jsx(Ed,{code:t,editable:o==dn.DESIGN||o==dn.LANGUAGES,extended:!0,placeholder:a("content_editor_placeholder_description"),contentKey:"description"})}),T.jsx(jE,{in:y!==!0,timeout:"auto",unmountOnExit:!0,children:T.jsx(DH,{code:t,type:e,t:a,addAnswer:I,designMode:o,onMainLang:s,addNewAnswer:I})}),T.jsx(sm,{code:t})]})}const VH=j.memo(MH),BH="_textHeader_17ofz_1",qH="_textDescription_17ofz_5",zH="_groupCard_17ofz_11",HH="_type_17ofz_18",UH="_groupType_17ofz_25",GH="_questionsOuterContainer_17ofz_33",WH="_questionsInnerContainer_17ofz_37",YH="_groupDesignError_17ofz_43",KH="_groupHeader_17ofz_48",JH="_inputGroupTitle_17ofz_52",QH="_inputGroupDescription_17ofz_57",XH="_moveBox_17ofz_62",ZH="_topLevel_17ofz_71",e9="_groupText_17ofz_83",t9="_actionToolbarVisible_17ofz_101",r9="_fadeInMoveRight_17ofz_1",n9="_contentContainer_17ofz_105",i9="_headerContent_17ofz_116",ao={textHeader:BH,textDescription:qH,groupCard:zH,type:HH,groupType:UH,questionsOuterContainer:GH,questionsInnerContainer:WH,groupDesignError:YH,groupHeader:KH,inputGroupTitle:JH,inputGroupDescription:QH,moveBox:XH,topLevel:ZH,groupText:e9,actionToolbarVisible:t9,fadeInMoveRight:r9,contentContainer:n9,headerContent:i9},a9="_groupDropArea_1m6hh_1",o9="_groupDragging_1m6hh_24",s9="_questionDropArea_1m6hh_45",l9="_groupDropAreaWrapper_1m6hh_72",u9="_hide_1m6hh_79",c9="_hidden_1m6hh_83",f9="_isDragging_1m6hh_92",d9="_groupHidden_1m6hh_104",p9="_groupEmptyHint_1m6hh_111",h9="_groupEmptyHintHover_1m6hh_130",v9="_dropText_1m6hh_134",qn={groupDropArea:a9,groupDragging:o9,questionDropArea:s9,groupDropAreaWrapper:l9,hide:u9,hidden:c9,isDragging:f9,groupHidden:d9,groupEmptyHint:p9,groupEmptyHintHover:h9,dropText:v9};var Wv=new Map,Af=new WeakMap,k_=0,g9=void 0;function m9(t){return t?(Af.has(t)||(k_+=1,Af.set(t,k_.toString())),Af.get(t)):"0"}function y9(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>"".concat(e,"_").concat(e==="root"?m9(t.root):t[e])).toString()}function b9(t){const e=y9(t);let r=Wv.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=n.get(s.target))==null||l.forEach(c=>{c(u,s)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},Wv.set(e,r)}return r}function _9(t,e,r={},n=g9){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:o}=b9(r),s=o.get(t)||[];return o.has(t)||o.set(t,s),s.push(e),a.observe(t),function(){s.splice(s.indexOf(e),1),s.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),Wv.delete(i))}}function S9({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=J.useState(null),p=J.useRef(),[v,h]=J.useState({inView:!!s,entry:void 0});p.current=u,J.useEffect(()=>{if(o||!f)return;let _;return _=_9(f,(b,S)=>{h({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&a&&_&&(_(),_=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,i,n,a,o,r,l,e]);const g=(c=v.entry)==null?void 0:c.target,y=J.useRef();!f&&g&&!a&&!o&&y.current!==g&&(y.current=g,h({inView:!!s,entry:void 0}));const m=[d,v.inView,v.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}function O9({index:t,groupsCount:e,t:r,emptySurvey:n}){const i=wt(),[{isOver:a,item:o},s]=Wi(()=>({accept:"groups",drop:d=>{i(Si({type:"new_group",groupType:d.draggableId,toIndex:t}))},collect:d=>({isOver:d.isOver(),item:d.getItem()})}),[t]),l=o!=null&&o.draggableId=="group",u=o&&o.droppableId=="new-groups"&&w9(o,t)&&E9(o,t,e)&&x9(o,t),c=ba(),f=op(c.palette.background.paper);return T.jsxs("div",{ref:s,style:{backgroundColor:l&&f,color:c.palette.text.primary},className:""+(n?qn.groupEmptyHint+(a?" "+qn.groupEmptyHintHover:""):a&&u?qn.groupDropArea:l?qn.groupDragging:qn.groupHidden),children:[l&&!n&&T.jsx(T.Fragment,{children:T.jsx("span",{className:qn.dropText,children:r("empty_survey_hint")})}),n&&T.jsx("span",{children:r("empty_survey_hint")})]})}function Hh({index:t,isLast:e=!1,parentCode:r,parentType:n,parentIndex:i,emptyGroup:a=!1,t:o}){const s=ba(),l=wt(),u=ye(y=>y.designState.reorder_refresh_code),[{isOver:c,isDragging:f},d]=Wi(()=>({accept:["new-questions","questions"],hover(y){y.type!=="questions"||y.droppableId===r||n==="end"&&!kh(y.itemType)||(l(Si({type:"reparent_question",source:y.droppableId,destination:r,id:y.draggableId})),y.index=t,y.parentIndex=i,y.isLast=e,y.droppableId=r)},drop:y=>{y.type==="new-questions"&&l(Si({type:"new_question",questionType:y.draggableId,destination:r,toIndex:t}))},collect:y=>{var m,_,b,S,O;return{isOver:((m=y.getItem())==null?void 0:m.type)=="new-questions"&&y.isOver()&&(n!=="end"||kh((_=y.getItem())==null?void 0:_.itemType)),isDragging:n==="end"&&!kh((b=y.getItem())==null?void 0:b.itemType)?!1:((S=y.getItem())==null?void 0:S.droppableId)==="new-questions"||((O=y.getItem())==null?void 0:O.type)==="questions"&&y.getItem().droppableId!==r&&(t==0&&y.getItem().isLast&&y.getItem().parentIndex+1===i||e&&y.getItem().index==0&&y.getItem().parentIndex-1===i)}}}),[u,t]),{ref:p,inView:v,entry:h}=S9({threshold:0,trackVisibility:f,delay:f?100:0}),g=s.palette.text.primary;return T.jsxs("div",{ref:p,children:[" ",T.jsxs("div",{ref:d,style:{marginTop:!f&&!c?"0rem":"inherit",marginBottom:!f&&!c?"0rem":"inherit"},className:"question-drop-area "+(a?c?qn.questionDropArea:f&&v?qn.isDragging:qn.groupEmptyHint:c?qn.questionDropArea:f&&v?qn.isDragging:qn.hidden)+" ",children:[f&&!a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Kb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:qn.dropText,style:{color:g},children:o("empty_group_hint")})]}),a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Kb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:qn.dropText,style:{color:g},children:o("empty_group_hint")})]})]})]})}const x9=(t,e)=>!(((t==null?void 0:t.index)===e||e-1===(t==null?void 0:t.index))&&(t==null?void 0:t.droppableId)!=="new-groups"),w9=(t,e)=>(t==null?void 0:t.draggableId)!=="welcome"?!0:e===0,E9=(t,e,r)=>(t==null?void 0:t.draggableId)!=="end"?!0:e===r;function C9({t,code:e,children:r,designMode:n}){console.debug("Group Header: "+e);const i=wt(),o=ye(f=>f.designState.langInfo).onMainLang,s=ye(f=>f.designState[e]),l=Pr(),u=n==dn.DESIGN,c=J.useCallback(()=>i(IR(e)),[e]);return T.jsx(ht,{className:ao.headerContent,children:T.jsxs(ht,{className:ao.groupHeader,"data-code":e,children:[T.jsx(ht,{className:ao.contentContainer,children:u&&o&&T.jsx("div",{className:ao.actionToolbarVisible,children:T.jsx(BC,{code:e,t,isGroup:!0,onDelete:c,disableDelete:r&&r.length>0})})}),T.jsx("div",{className:ao.textHeader,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:T.jsx(Ed,{editable:n==dn.DESIGN||n==dn.LANGUAGES,code:e,extended:!1,contentKey:"label",placeholder:t("content_editor_placeholder_title")})}),s.showDescription&&T.jsx(ht,{className:ao.textDescription,children:T.jsx(Ed,{editable:n==dn.DESIGN||n==dn.LANGUAGES,code:e,extended:!0,contentKey:"description",placeholder:t("content_editor_placeholder_description")})}),o&&T.jsx(sm,{type:"group",code:e})]})})}const T9=j.memo(C9);function k9({t,code:e,index:r,designMode:n}){const i=wt(),a=ye(O=>O.designState[e]),o=n==dn.DESIGN,s=ye(O=>{var x;return((x=O.designState.globalSetup)==null?void 0:x.reorder_setup)==="collapse_groups"}),l=ye(O=>O.designState.langInfo),u=ye(O=>{var x;return((x=O.designState.setup)==null?void 0:x.code)==e}),c=ba(),f=J.useRef(),[d,p,v]=Wa({type:"groups",item:()=>({index:r,draggableId:e,droppableId:"groups",type:"groups"}),collect:O=>{var x;return((x=O.getItem())==null?void 0:x.draggableId)===e}}),[h,g]=Wi({accept:"groups",hover(O,x){var w;if(!f.current||y=="welcome"||y=="end"||!x.isOver({shallow:!0})||!O||O.droppableId!="groups")return;const C=O.index,I=r;if(C===I)return;const E=(w=f.current)==null?void 0:w.getBoundingClientRect(),k=x.getClientOffset();C<I&&k.y<E.top+50||C>I&&k.y>E.bottom-50||(i(Si({type:"reorder_groups",id:O.draggableId,fromIndex:C,toIndex:I})),O.index=I)}});l.onMainLang;const y=a==null?void 0:a.groupType.toLowerCase(),m=a==null?void 0:a.children,_=O=>{const x={transition:"all 500ms"};return O&&(x.opacity=.2),x};g(v(f));const b=op(c.palette.background.paper),S=c.textStyles.question.color;return a?T.jsxs(ht,{sx:u?{border:"0.5px solid ".concat(S),color:S,backgroundColor:b}:{backgroundColor:"background.paper"},className:ao.topLevel,ref:f,style:_(d),children:[s==!0&&y!=="welcome"&&y!=="end"?T.jsx("div",{className:ao.moveBox,ref:p,children:T.jsx(um,{style:{color:S}})}):T.jsx("br",{}),T.jsx(T9,{t,code:e,index:r,designMode:n,children:m}),s!==!0&&T.jsxs(T.Fragment,{children:[m&&m.length>0&&T.jsx(Hh,{index:0,parentCode:e,parentType:y,parentIndex:r,t}),m==null?void 0:m.map((O,x)=>T.jsxs(j.Fragment,{children:[T.jsx(VH,{t,parentCode:e,parentIndex:r,index:x,isLast:m.length==x+1,type:O.type,code:O.code,designMode:n,onMainLang:o},O.code),T.jsx(Hh,{isLast:m.length==x+1,index:x+1,parentIndex:r,parentCode:e,parentType:y,t})]},O.code)),(!m||!m.length)&&o&&T.jsx(Hh,{t,index:0,parentCode:e,parentType:y,emptyGroup:!0})]})]}):null}const I9=j.memo(k9),Ep=0,Po=1,Wl=2,GC=4;function WC(t,e){return r=>t(e(r))}function A9(t,e){return e(t)}function YC(t,e){return r=>t(e,r)}function I_(t,e){return()=>t(e)}function Cp(t,e){return e(t),t}function kr(...t){return t}function j9(t){t()}function A_(t){return()=>t}function P9(...t){return()=>{t.map(j9)}}function Hm(t){return t!==void 0}function Yl(){}function Gt(t,e){return t(Po,e)}function gt(t,e){t(Ep,e)}function Um(t){t(Wl)}function mn(t){return t(GC)}function Ge(t,e){return Gt(t,YC(e,Ep))}function va(t,e){const r=t(Po,n=>{r(),e(n)});return r}function jt(){const t=[];return(e,r)=>{switch(e){case Wl:t.splice(0,t.length);return;case Po:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)};case Ep:t.slice().forEach(n=>{n(r)});return;default:throw new Error("unrecognized action ".concat(e))}}}function Ae(t){let e=t;const r=jt();return(n,i)=>{switch(n){case Po:i(e);break;case Ep:e=i;break;case GC:return e}return r(n,i)}}function F9(t){let e,r;const n=()=>e&&e();return function(i,a){switch(i){case Po:return a?r===a?void 0:(n(),r=a,e=Gt(t,a),e):(n(),Yl);case Wl:n(),r=null;return;default:throw new Error("unrecognized action ".concat(i))}}}function Xn(t){return Cp(jt(),e=>Ge(t,e))}function jn(t,e){return Cp(Ae(e),r=>Ge(t,r))}function L9(...t){return e=>t.reduceRight(A9,e)}function xe(t,...e){const r=L9(...e);return(n,i)=>{switch(n){case Po:return Gt(t,r(i));case Wl:Um(t);return}}}function KC(t,e){return t===e}function Er(t=KC){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function tt(t){return e=>r=>{t(r)&&e(r)}}function Ve(t){return e=>WC(e,t)}function ra(t){return e=>()=>e(t)}function ca(t,e){return r=>n=>r(e=t(e,n))}function El(t){return e=>r=>{t>0?t--:e(r)}}function fo(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function j_(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function yt(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Gt(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>a([o].concat(e));r===i?s():n=s}}function P_(...t){return function(e,r){switch(e){case Po:return P9(...t.map(n=>Gt(n,r)));case Wl:return;default:throw new Error("unrecognized action ".concat(e))}}}function et(t,e=KC){return xe(t,Er(e))}function on(...t){const e=jt(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Gt(a,l=>{r[o]=l,n=n|s,n===i&&gt(e,r)})}),function(a,o){switch(a){case Po:return n===i&&o(r),Gt(e,o);case Wl:return Um(e);default:throw new Error("unrecognized action ".concat(a))}}}function Qt(t,e=[],{singleton:r}={singleton:!0}){return{id:R9(),constructor:t,dependencies:e,singleton:r}}const R9=()=>Symbol();function $9(t){const e=new Map,r=({id:n,constructor:i,dependencies:a,singleton:o})=>{if(o&&e.has(n))return e.get(n);const s=i(a.map(l=>r(l)));return o&&e.set(n,s),s};return r(t)}function N9(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)n.hasOwnProperty(o)||(r[o]=e[o]);return r}const jf=typeof document<"u"?j.useLayoutEffect:j.useEffect;function JC(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=j.createContext({});function l(y,m){y.propsReady&&gt(y.propsReady,!1);for(const _ of n){const b=y[e.required[_]];gt(b,m[_])}for(const _ of i)if(_ in m){const b=y[e.optional[_]];gt(b,m[_])}y.propsReady&&gt(y.propsReady,!0)}function u(y){return a.reduce((m,_)=>(m[_]=b=>{const S=y[e.methods[_]];gt(S,b)},m),{})}function c(y){return o.reduce((m,_)=>(m[_]=F9(y[e.events[_]]),m),{})}const f=j.forwardRef((y,m)=>{const{children:_,...b}=y,[S]=j.useState(()=>Cp($9(t),C=>l(C,b))),[O]=j.useState(I_(c,S));jf(()=>{for(const C of o)C in b&&Gt(O[C],b[C]);return()=>{Object.values(O).map(Um)}},[b,O,S]),jf(()=>{l(S,b)}),j.useImperativeHandle(m,A_(u(S)));const x=r;return T.jsx(s.Provider,{value:S,children:r?T.jsx(x,{...N9([...n,...i,...o],b),children:_}):_})}),d=y=>j.useCallback(YC(gt,j.useContext(s)[y]),[y]),p=y=>{const _=j.useContext(s)[y],b=j.useCallback(S=>Gt(_,S),[_]);return j.useSyncExternalStore(b,()=>mn(_),()=>mn(_))},v=y=>{const _=j.useContext(s)[y],[b,S]=j.useState(I_(mn,_));return jf(()=>Gt(_,O=>{O!==b&&S(A_(O))}),[_,b]),b},h=j.version.startsWith("18")?p:v;return{Component:f,usePublisher:d,useEmitterValue:h,useEmitter:(y,m)=>{const b=j.useContext(s)[y];jf(()=>Gt(b,m),[m,b])}}}const QC=typeof document<"u"?j.useLayoutEffect:j.useEffect;var Zn=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(Zn||{});const D9={0:"debug",1:"log",2:"warn",3:"error"},M9=()=>typeof globalThis>"u"?window:globalThis,Fo=Qt(()=>{const t=Ae(3);return{log:Ae((r,n,i=1)=>{var a;const o=(a=M9().VIRTUOSO_LOG_LEVEL)!=null?a:mn(t);i>=o&&console[D9[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:t}},[],{singleton:!0});function Gm(t,e,r){const n=j.useRef(null);let i=a=>{};if(typeof ResizeObserver<"u"){const a=j.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const l=o[0].target;l.offsetParent!==null&&t(l)};r?s():requestAnimationFrame(s)}),[t]);i=o=>{o&&e?(a.observe(o),n.current=o):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:i}}function hs(t,e,r){return Gm(t,e,r).callbackRef}function V9(t,e,r,n,i,a,o,s,l){const u=j.useCallback(c=>{const f=B9(c.children,e,s?"offsetWidth":"offsetHeight",i);let d=c.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const p=d.lastElementChild.dataset.viewportType==="window",v=o?s?o.scrollLeft:o.scrollTop:p?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?d.scrollLeft:d.scrollTop,h=o?s?o.scrollWidth:o.scrollHeight:p?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?d.scrollWidth:d.scrollHeight,g=o?s?o.offsetWidth:o.offsetHeight:p?s?window.innerWidth:window.innerHeight:s?d.offsetWidth:d.offsetHeight;n({scrollTop:Math.max(v,0),scrollHeight:h,viewportHeight:g}),a==null||a(s?F_("column-gap",getComputedStyle(c).columnGap,i):F_("row-gap",getComputedStyle(c).rowGap,i)),f!==null&&t(f)},[t,e,i,a,o,n]);return Gm(u,r,l)}function B9(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(!s||s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),c=e(s,r);if(c===0&&n("Zero-sized element, this should not happen",{child:s},Zn.ERROR),c===u)continue;const f=a[a.length-1];a.length===0||f.size!==c||f.endIndex!==l-1?a.push({startIndex:l,endIndex:l,size:c}):a[a.length-1].endIndex++}return a}function F_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,Zn.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function Oo(t,e){return Math.round(t.getBoundingClientRect()[e])}function XC(t,e){return Math.abs(t-e)<1.01}function ZC(t,e,r,n=Yl,i,a){const o=j.useRef(null),s=j.useRef(null),l=j.useRef(null),u=j.useCallback(d=>{const p=d.target,v=p===window||p===document,h=a?v?window.pageXOffset||document.documentElement.scrollLeft:p.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,g=a?v?document.documentElement.scrollWidth:p.scrollWidth:v?document.documentElement.scrollHeight:p.scrollHeight,y=a?v?window.innerWidth:p.offsetWidth:v?window.innerHeight:p.offsetHeight,m=()=>{t({scrollTop:Math.max(h,0),scrollHeight:g,viewportHeight:y})};d.suppressFlushSync?m():XL.flushSync(m),s.current!==null&&(h===s.current||h<=0||h===g-y)&&(s.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);j.useEffect(()=>{const d=i||o.current;return n(i||o.current),u({target:d,suppressFlushSync:!0}),d.addEventListener("scroll",u,{passive:!0}),()=>{n(null),d.removeEventListener("scroll",u)}},[o,u,r,n,i]);function c(d){const p=o.current;if(!p||(a?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const v=d.behavior==="smooth";let h,g,y;p===window?(g=Math.max(Oo(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),h=a?window.innerWidth:window.innerHeight,y=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(g=p[a?"scrollWidth":"scrollHeight"],h=Oo(p,a?"width":"height"),y=p[a?"scrollLeft":"scrollTop"]);const m=g-h;if(d.top=Math.ceil(Math.max(Math.min(m,d.top),0)),XC(h,g)||d.top===y){t({scrollTop:y,scrollHeight:g,viewportHeight:h}),v&&e(!0);return}v?(s.current=d.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(d={left:d.top,behavior:d.behavior}),p.scrollTo(d)}function f(d){a&&(d={left:d.top,behavior:d.behavior}),o.current.scrollBy(d)}return{scrollerRef:o,scrollByCallback:f,scrollToCallback:c}}const Dn=Qt(()=>{const t=jt(),e=jt(),r=Ae(0),n=jt(),i=Ae(0),a=jt(),o=jt(),s=Ae(0),l=Ae(0),u=Ae(0),c=Ae(0),f=jt(),d=jt(),p=Ae(!1),v=Ae(!1),h=Ae(!1);return Ge(xe(t,Ve(({scrollTop:g})=>g)),e),Ge(xe(t,Ve(({scrollHeight:g})=>g)),o),Ge(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:n,horizontalDirection:v,skipAnimationFrameInResizeObserver:h,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),ic={lvl:0};function eT(t,e,r,n=ic,i=ic){return{k:t,v:e,lvl:r,l:n,r:i}}function ir(t){return t===ic}function yl(){return ic}function Yv(t,e){if(ir(t))return ic;const{k:r,l:n,r:i}=t;if(e===r){if(ir(n))return i;if(ir(i))return n;{const[a,o]=tT(n);return od(Xr(t,{k:a,v:o,l:rT(n)}))}}else return e<r?od(Xr(t,{l:Yv(n,e)})):od(Xr(t,{r:Yv(i,e)}))}function ac(t,e){if(!ir(t))return e===t.k?t.v:e<t.k?ac(t.l,e):ac(t.r,e)}function Mi(t,e,r="k"){if(ir(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=Mi(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Mi(t.l,e,r)}function Jn(t,e,r){return ir(t)?eT(e,r,1):e===t.k?Xr(t,{k:e,v:r}):e<t.k?L_(Xr(t,{l:Jn(t.l,e,r)})):L_(Xr(t,{r:Jn(t.r,e,r)}))}function Kv(t,e,r){if(ir(t))return[];const{k:n,v:i,l:a,r:o}=t;let s=[];return n>e&&(s=s.concat(Kv(a,e,r))),n>=e&&n<=r&&s.push({k:n,v:i}),n<=r&&(s=s.concat(Kv(o,e,r))),s}function Yo(t){return ir(t)?[]:[...Yo(t.l),{k:t.k,v:t.v},...Yo(t.r)]}function tT(t){return ir(t.r)?[t.k,t.v]:tT(t.r)}function rT(t){return ir(t.r)?t.l:od(Xr(t,{r:rT(t.r)}))}function Xr(t,e){return eT(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Uh(t){return ir(t)||t.lvl>t.r.lvl}function L_(t){return Jv(iT(t))}function od(t){const{l:e,r,lvl:n}=t;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if(Uh(e))return iT(Xr(t,{lvl:n-1}));if(!ir(e)&&!ir(e.r))return Xr(e.r,{l:Xr(e,{r:e.r.l}),r:Xr(t,{l:e.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if(Uh(t))return Jv(Xr(t,{lvl:n-1}));if(!ir(r)&&!ir(r.l)){const i=r.l,a=Uh(i)?r.lvl-1:r.lvl;return Xr(i,{l:Xr(t,{r:i.l,lvl:n-1}),r:Jv(Xr(r,{l:i.r,lvl:a})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function Tp(t,e,r){if(ir(t))return[];const n=Mi(t,e)[0];return q9(Kv(t,n,r))}function nT(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({start:n,end:s-1,value:i}),n=s,i=l}return a.push({start:n,end:1/0,value:i}),a}function q9(t){return nT(t,({k:e,v:r})=>({index:e,value:r}))}function Jv(t){const{r:e,lvl:r}=t;return!ir(e)&&!ir(e.r)&&e.lvl===r&&e.r.lvl===r?Xr(e,{l:Xr(t,{r:e.l}),lvl:r+1}):t}function iT(t){const{l:e}=t;return!ir(e)&&e.lvl===t.lvl?Xr(e,{r:Xr(t,{l:e.r})}):t}function Td(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error("Failed binary finding record in array - ".concat(t.join(","),", searched for ").concat(e))}function aT(t,e,r){return t[Td(t,e,r)]}function z9(t,e,r,n){const i=Td(t,e,n),a=Td(t,r,n,i);return t.slice(i,a+1)}const Wm=Qt(()=>({recalcInProgress:Ae(!1)}),[],{singleton:!0});function H9(t){const{size:e,startIndex:r,endIndex:n}=t;return i=>i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}function R_(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function U9(t,e){let r=ir(t)?0:1/0;for(const n of e){const{size:i,startIndex:a,endIndex:o}=n;if(r=Math.min(r,a),ir(t)){t=Jn(t,0,i);continue}const s=Tp(t,a-1,o+1);if(s.some(H9(n)))continue;let l=!1,u=!1;for(const{start:c,end:f,value:d}of s)l?(o>=c||i===d)&&(t=Yv(t,c)):(u=d!==i,l=!0),f>o&&o>=c&&d!==i&&(t=Jn(t,o+1,d));u&&(t=Jn(t,a,i))}return[t,r]}function G9(){return{offsetTree:[],sizeTree:yl(),groupOffsetTree:yl(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Ym({index:t},e){return e===t?0:e<t?-1:1}function W9({offset:t},e){return e===t?0:e<t?-1:1}function Y9(t){return{index:t.index,value:t}}function K9(t,e,r,n=0){return n>0&&(e=Math.max(e,aT(t,n,Ym).offset)),nT(z9(t,e,r,W9),Y9)}function Qv(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=Td(i,e-1,Ym),s=i[l].offset;const c=Mi(r,e-1);a=c[0],o=c[1],i.length&&i[l].size===Mi(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:c}of Tp(r,e,1/0)){const f=u-a,d=f*o+s+f*n;i.push({offset:d,size:c,index:u}),a=u,s=d,o=c}return{offsetTree:i,lastIndex:a,lastOffset:s,lastSize:o}}function J9(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,Zn.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&ir(a)&&e.length===2){const d=e[0].size,p=e[1].size;o=r.reduce((v,h)=>Jn(Jn(v,h,d),h+1,p),o)}else[o,s]=U9(o,e);if(o===a)return t;const{offsetTree:l,lastIndex:u,lastSize:c,lastOffset:f}=Qv(t.offsetTree,s,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((d,p)=>Jn(d,p,oc(p,l,i)),yl()),groupIndices:r}}function oc(t,e,r){if(e.length===0)return 0;const{offset:n,index:i,size:a}=aT(e,t,Ym),o=t-i,s=a*o+(o-1)*r+n;return s>0?s+r:s}function Q9(t){return typeof t.groupIndex<"u"}function oT(t,e,r){if(Q9(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=sT(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function sT(t,e){if(!kp(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function kp(t){return!ir(t.groupOffsetTree)}function X9(t){return Yo(t).map(({k:e,v:r},n,i)=>{const a=i[n+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:r}})}const Z9={offsetHeight:"height",offsetWidth:"width"},xa=Qt(([{log:t},{recalcInProgress:e}])=>{const r=jt(),n=jt(),i=jn(n,0),a=jt(),o=jt(),s=Ae(0),l=Ae([]),u=Ae(void 0),c=Ae(void 0),f=Ae((S,O)=>Oo(S,Z9[O])),d=Ae(void 0),p=Ae(0),v=G9(),h=jn(xe(r,yt(l,t,p),ca(J9,v),Er()),v),g=jn(xe(l,Er(),ca((S,O)=>({prev:S.current,current:O}),{prev:[],current:[]}),Ve(({prev:S})=>S)),[]);Ge(xe(l,tt(S=>S.length>0),yt(h,p),Ve(([S,O,x])=>{const C=S.reduce((I,E,k)=>Jn(I,E,oc(E,O.offsetTree,x)||k),yl());return{...O,groupIndices:S,groupOffsetTree:C}})),h),Ge(xe(n,yt(h),tt(([S,{lastIndex:O}])=>S<O),Ve(([S,{lastIndex:O,lastSize:x}])=>[{startIndex:S,endIndex:O,size:x}])),r),Ge(u,c);const y=jn(xe(u,Ve(S=>S===void 0)),!0);Ge(xe(c,tt(S=>S!==void 0&&ir(mn(h).sizeTree)),Ve(S=>[{startIndex:0,endIndex:0,size:S}])),r);const m=Xn(xe(r,yt(h),ca(({sizes:S},[O,x])=>({changed:x!==S,sizes:x}),{changed:!1,sizes:v}),Ve(S=>S.changed)));Gt(xe(s,ca((S,O)=>({diff:S.prev-O,prev:O}),{diff:0,prev:0}),Ve(S=>S.diff)),S=>{const{groupIndices:O}=mn(h);if(S>0)gt(e,!0),gt(a,S+R_(S,O));else if(S<0){const x=mn(g);x.length>0&&(S-=R_(-S,x)),gt(o,S)}}),Gt(xe(s,yt(t)),([S,O])=>{S<0&&O("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Zn.ERROR)});const _=Xn(a);Ge(xe(a,yt(h),Ve(([S,O])=>{const x=O.groupIndices.length>0,C=[],I=O.lastSize;if(x){const E=ac(O.sizeTree,0);let k=0,w=0;for(;k<S;){const F=O.groupIndices[w],D=O.groupIndices.length===w+1?1/0:O.groupIndices[w+1]-F-1;C.push({startIndex:F,endIndex:F,size:E}),C.push({startIndex:F+1,endIndex:F+1+D-1,size:I}),w++,k+=D+1}const A=Yo(O.sizeTree);return k!==S&&A.shift(),A.reduce((F,{k:D,v:R})=>{let G=F.ranges;return F.prevSize!==0&&(G=[...F.ranges,{startIndex:F.prevIndex,endIndex:D+S-1,size:F.prevSize}]),{ranges:G,prevIndex:D+S,prevSize:R}},{ranges:C,prevIndex:S,prevSize:0}).ranges}return Yo(O.sizeTree).reduce((E,{k,v:w})=>({ranges:[...E.ranges,{startIndex:E.prevIndex,endIndex:k+S-1,size:E.prevSize}],prevIndex:k+S,prevSize:w}),{ranges:[],prevIndex:0,prevSize:I}).ranges})),r);const b=Xn(xe(o,yt(h,p),Ve(([S,{offsetTree:O},x])=>{const C=-S;return oc(C,O,x)})));return Ge(xe(o,yt(h,p),Ve(([S,O,x])=>{if(O.groupIndices.length>0){if(ir(O.sizeTree))return O;let I=yl();const E=mn(g);let k=0,w=0,A=0;for(;k<-S;){A=E[w];const F=E[w+1]-A-1;w++,k+=F+1}if(I=Yo(O.sizeTree).reduce((F,{k:D,v:R})=>Jn(F,Math.max(0,D+S),R),I),k!==-S){const F=ac(O.sizeTree,A);I=Jn(I,0,F);const D=Mi(O.sizeTree,-S+1)[1];I=Jn(I,1,D)}return{...O,sizeTree:I,...Qv(O.offsetTree,0,I,x)}}else{const I=Yo(O.sizeTree).reduce((E,{k,v:w})=>Jn(E,Math.max(0,k+S),w),yl());return{...O,sizeTree:I,...Qv(O.offsetTree,0,I,x)}}})),h),{data:d,totalCount:n,sizeRanges:r,groupIndices:l,defaultItemSize:c,fixedItemSize:u,unshiftWith:a,shiftWith:o,shiftWithOffset:b,beforeUnshiftWith:_,firstItemIndex:s,gap:p,sizes:h,listRefresh:m,statefulTotalCount:i,trackItemSizes:y,itemSize:f}},kr(Fo,Wm),{singleton:!0}),eU=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function lT(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!eU)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Fc=Qt(([{sizes:t,totalCount:e,listRefresh:r,gap:n},{scrollingInProgress:i,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:l,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{const p=jt(),v=jt(),h=Ae(0);let g=null,y=null,m=null;function _(){g&&(g(),g=null),m&&(m(),m=null),y&&(clearTimeout(y),y=null),gt(i,!1)}return Ge(xe(p,yt(t,a,e,h,l,u,d),yt(n,c,f),Ve(([[b,S,O,x,C,I,E,k],w,A,P])=>{const F=lT(b),{align:D,behavior:R,offset:G}=F,V=x-1,$=oT(F,S,V);let L=oc($,S.offsetTree,w)+I;D==="end"?(L+=A+Mi(S.sizeTree,$)[1]-O+P,$===V&&(L+=E)):D==="center"?L+=(A+Mi(S.sizeTree,$)[1]-O+P)/2:L-=C,G&&(L+=G);const N=B=>{_(),B?(k("retrying to scroll to",{location:b},Zn.DEBUG),gt(p,b)):(gt(v,!0),k("list did not change, scroll successful",{},Zn.DEBUG))};if(_(),R==="smooth"){let B=!1;m=Gt(r,H=>{B=B||H}),g=va(s,()=>{N(B)})}else g=va(xe(r,tU(150)),N);return y=setTimeout(()=>{_()},1200),gt(i,!0),k("scrolling from index to",{index:$,top:L,behavior:R},Zn.DEBUG),{top:L,behavior:R}})),o),{scrollToIndex:p,scrollTargetReached:v,topListHeight:h}},kr(xa,Dn,Fo),{singleton:!0});function tU(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}const sc="up",Gu="down",rU="none",nU={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},iU=0,Lc=Qt(([{scrollContainerState:t,scrollTop:e,viewportHeight:r,headerHeight:n,footerHeight:i,scrollBy:a}])=>{const o=Ae(!1),s=Ae(!0),l=jt(),u=jt(),c=Ae(4),f=Ae(iU),d=jn(xe(P_(xe(et(e),El(1),ra(!0)),xe(et(e),El(1),ra(!1),j_(100))),Er()),!1),p=jn(xe(P_(xe(a,ra(!0)),xe(a,ra(!1),j_(200))),Er()),!1);Ge(xe(on(et(e),et(f)),Ve(([m,_])=>m<=_),Er()),s),Ge(xe(s,fo(50)),u);const v=Xn(xe(on(t,et(r),et(n),et(i),et(c)),ca((m,[{scrollTop:_,scrollHeight:b},S,O,x,C])=>{const I=_+S-b>-C,E={viewportHeight:S,scrollTop:_,scrollHeight:b};if(I){let w,A;return _>m.state.scrollTop?(w="SCROLLED_DOWN",A=m.state.scrollTop-_):(w="SIZE_DECREASED",A=m.state.scrollTop-_||m.scrollTopDelta),{atBottom:!0,state:E,atBottomBecause:w,scrollTopDelta:A}}let k;return E.scrollHeight>m.state.scrollHeight?k="SIZE_INCREASED":S<m.state.viewportHeight?k="VIEWPORT_HEIGHT_DECREASING":_<m.state.scrollTop?k="SCROLLING_UPWARDS":k="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:k,state:E}},nU),Er((m,_)=>m&&m.atBottom===_.atBottom))),h=jn(xe(t,ca((m,{scrollTop:_,scrollHeight:b,viewportHeight:S})=>{if(XC(m.scrollHeight,b))return{scrollTop:_,scrollHeight:b,jump:0,changed:!1};{const O=b-(_+S)<1;return m.scrollTop!==_&&O?{scrollHeight:b,scrollTop:_,jump:m.scrollTop-_,changed:!0}:{scrollHeight:b,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),tt(m=>m.changed),Ve(m=>m.jump)),0);Ge(xe(v,Ve(m=>m.atBottom)),o),Ge(xe(o,fo(50)),l);const g=Ae(Gu);Ge(xe(t,Ve(({scrollTop:m})=>m),Er(),ca((m,_)=>mn(p)?{direction:m.direction,prevScrollTop:_}:{direction:_<m.prevScrollTop?sc:Gu,prevScrollTop:_},{direction:Gu,prevScrollTop:0}),Ve(m=>m.direction)),g),Ge(xe(t,fo(50),ra(rU)),g);const y=Ae(0);return Ge(xe(d,tt(m=>!m),ra(0)),y),Ge(xe(e,fo(100),yt(d),tt(([m,_])=>!!_),ca(([m,_],[b])=>[_,b],[0,0]),Ve(([m,_])=>_-m)),y),{isScrolling:d,isAtTop:s,isAtBottom:o,atBottomState:v,atTopStateChange:u,atBottomStateChange:l,scrollDirection:g,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:h}},kr(Dn)),Lo=Qt(([{log:t}])=>{const e=Ae(!1),r=Xn(xe(e,tt(n=>n),Er()));return Gt(e,n=>{n&&mn(t)("props updated",{},Zn.DEBUG)}),{propsReady:e,didMount:r}},kr(Fo),{singleton:!0});function Km(t,e){t==0?e():requestAnimationFrame(()=>Km(t-1,e))}function Jm(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Rc=Qt(([{sizes:t,listRefresh:e,defaultItemSize:r},{scrollTop:n},{scrollToIndex:i,scrollTargetReached:a},{didMount:o}])=>{const s=Ae(!0),l=Ae(0),u=Ae(!0);return Ge(xe(o,yt(l),tt(([c,f])=>!!f),ra(!1)),s),Ge(xe(o,yt(l),tt(([c,f])=>!!f),ra(!1)),u),Gt(xe(on(e,o),yt(s,t,r,u),tt(([[,c],f,{sizeTree:d},p,v])=>c&&(!ir(d)||Hm(p))&&!f&&!v),yt(l)),([,c])=>{va(a,()=>{gt(u,!0)}),Km(4,()=>{va(n,()=>{gt(s,!0)}),gt(i,c)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:l,initialItemFinalLocationReached:u}},kr(xa,Dn,Fc,Lo),{singleton:!0});function $_(t){return t?t==="smooth"?"smooth":"auto":!1}const aU=(t,e)=>typeof t=="function"?$_(t(e)):e&&$_(t),oU=Qt(([{totalCount:t,listRefresh:e},{isAtBottom:r,atBottomState:n},{scrollToIndex:i},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:l},{scrollingInProgress:u}])=>{const c=Ae(!1),f=jt();let d=null;function p(h){gt(i,{index:"LAST",align:"end",behavior:h})}Gt(xe(on(xe(et(t),El(1)),s),yt(et(c),r,a,u),Ve(([[h,g],y,m,_,b])=>{let S=g&&_,O="auto";return S&&(O=aU(y,m||b),S=S&&!!O),{totalCount:h,shouldFollow:S,followOutputBehavior:O}}),tt(({shouldFollow:h})=>h)),({totalCount:h,followOutputBehavior:g})=>{d&&(d(),d=null),d=va(e,()=>{mn(l)("following output to ",{totalCount:h},Zn.DEBUG),p(g),d=null})});function v(h){const g=va(n,y=>{h&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!d&&(mn(l)("scrolling to bottom due to increased size",{},Zn.DEBUG),p("auto"))});setTimeout(g,100)}return Gt(xe(on(et(c),t,o),tt(([h,,g])=>h&&g),ca(({value:h},[,g])=>({refreshed:h===g,value:g}),{refreshed:!1,value:0}),tt(({refreshed:h})=>h),yt(c,t)),([,h])=>{mn(a)&&v(h!==!1)}),Gt(f,()=>{v(mn(c)!==!1)}),Gt(on(et(c),n),([h,g])=>{h&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:c,autoscrollToBottom:f}},kr(xa,Lc,Fc,Rc,Lo,Fo,Dn));function sU(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{totalCount:0,groupIndices:[]})}const uT=Qt(([{totalCount:t,groupIndices:e,sizes:r},{scrollTop:n,headerHeight:i}])=>{const a=jt(),o=jt(),s=Xn(xe(a,Ve(sU)));return Ge(xe(s,Ve(l=>l.totalCount)),t),Ge(xe(s,Ve(l=>l.groupIndices)),e),Ge(xe(on(n,r,i),tt(([l,u])=>kp(u)),Ve(([l,u,c])=>Mi(u.groupOffsetTree,Math.max(l-c,0),"v")[0]),Er(),Ve(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},kr(xa,Dn));function lc(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function cT(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const kd="top",Id="bottom",N_="none";function D_(t,e,r){return typeof t=="number"?r===sc&&e===kd||r===Gu&&e===Id?t:0:r===sc?e===kd?t.main:t.reverse:e===Id?t.main:t.reverse}function M_(t,e){return typeof t=="number"?t:t[e]||0}const Qm=Qt(([{scrollTop:t,viewportHeight:e,deviation:r,headerHeight:n,fixedHeaderHeight:i}])=>{const a=jt(),o=Ae(0),s=Ae(0),l=Ae(0),u=jn(xe(on(et(t),et(e),et(n),et(a,lc),et(l),et(o),et(i),et(r),et(s)),Ve(([c,f,d,[p,v],h,g,y,m,_])=>{const b=c-m,S=g+y,O=Math.max(d-b,0);let x=N_;const C=M_(_,kd),I=M_(_,Id);return p-=m,p+=d+y,v+=d+y,v-=m,p>c+S-C&&(x=sc),v<c-O+f+I&&(x=Gu),x!==N_?[Math.max(b-d-D_(h,kd,x)-C,0),b-O-y+f+D_(h,Id,x)+I]:null}),tt(c=>c!=null),Er(lc)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:o,increaseViewportBy:s,visibleRange:u}},kr(Dn),{singleton:!0});function lU(t,e,r){if(kp(e)){const n=sT(t,e);return[{index:Mi(e.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:t,size:0,offset:0,data:r&&r[0]}]}const Gh={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function V_(t,e,r){if(t.length===0)return[];if(!kp(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=Tp(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let c;u.index===s.start?c={type:"group",index:l}:c={index:u.index-(l+1)+r,groupIndex:l},a.push({...c,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return a}function sd(t,e,r,n,i,a){const{lastSize:o,lastOffset:s,lastIndex:l}=i;let u=0,c=0;if(t.length>0){u=t[0].offset;const h=t[t.length-1];c=h.offset+h.size}const f=r-l,d=s+f*o+(f-1)*n,p=u,v=d-c;return{items:V_(t,i,a),topItems:V_(e,i,a),topListHeight:e.reduce((h,g)=>g.size+h,0),offsetTop:u,offsetBottom:v,top:p,bottom:c,totalCount:r,firstItemIndex:a}}function fT(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const c of r.groupIndices){if(c-o>=t)break;o++}const s=t+o,l=Jm(e,s),u=Array.from({length:s}).map((c,f)=>({index:f+l,size:0,offset:0,data:a[f+l]}));return sd(u,[],s,i,r,n)}const vs=Qt(([{sizes:t,totalCount:e,data:r,firstItemIndex:n,gap:i},a,{visibleRange:o,listBoundary:s,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:f},d,{didMount:p},{recalcInProgress:v}])=>{const h=Ae([]),g=Ae(0),y=jt();Ge(a.topItemsIndexes,h);const m=jn(xe(on(p,v,et(o,lc),et(e),et(t),et(c),u,et(h),et(n),et(i),r),tt(([O,x,,C,,,,,,,I])=>{const E=I&&I.length!==C;return O&&!x&&!E}),Ve(([,,[O,x],C,I,E,k,w,A,P,F])=>{const D=I,{sizeTree:R,offsetTree:G}=D,V=mn(g);if(C===0)return{...Gh,totalCount:C};if(O===0&&x===0)return V===0?{...Gh,totalCount:C}:fT(V,E,I,A,P,F||[]);if(ir(R))return V>0?null:sd(lU(Jm(E,C),D,F),[],C,P,D,A);const $=[];if(w.length>0){const z=w[0],M=w[w.length-1];let W=0;for(const q of Tp(R,z,M)){const Y=q.value,K=Math.max(q.start,z),ie=Math.min(q.end,M);for(let te=K;te<=ie;te++)$.push({index:te,size:Y,offset:W,data:F&&F[te]}),W+=Y}}if(!k)return sd([],$,C,P,D,A);const L=w.length>0?w[w.length-1]+1:0,N=K9(G,O,x,L);if(N.length===0)return null;const B=C-1,H=Cp([],z=>{for(const M of N){const W=M.value;let q=W.offset,Y=M.start;const K=W.size;if(W.offset<O){Y+=Math.floor((O-W.offset+P)/(K+P));const te=Y-M.start;q+=te*K+te*P}Y<L&&(q+=(L-Y)*K,Y=L);const ie=Math.min(M.end,B);for(let te=Y;te<=ie&&!(q>=x);te++)z.push({index:te,size:K,offset:q,data:F&&F[te]}),q+=K+P}});return sd(H,$,C,P,D,A)}),tt(O=>O!==null),Er()),Gh);Ge(xe(r,tt(Hm),Ve(O=>O==null?void 0:O.length)),e),Ge(xe(m,Ve(O=>O.topListHeight)),f),Ge(f,l),Ge(xe(m,Ve(O=>[O.top,O.bottom])),s),Ge(xe(m,Ve(O=>O.items)),y);const _=Xn(xe(m,tt(({items:O})=>O.length>0),yt(e,r),tt(([{items:O},x])=>O[O.length-1].originalIndex===x-1),Ve(([,O,x])=>[O-1,x]),Er(lc),Ve(([O])=>O))),b=Xn(xe(m,fo(200),tt(({items:O,topItems:x})=>O.length>0&&O[0].originalIndex===x.length),Ve(({items:O})=>O[0].index),Er())),S=Xn(xe(m,tt(({items:O})=>O.length>0),Ve(({items:O})=>{let x=0,C=O.length-1;for(;O[x].type==="group"&&x<C;)x++;for(;O[C].type==="group"&&C>x;)C--;return{startIndex:O[x].index,endIndex:O[C].index}}),Er(cT)));return{listState:m,topItemsIndexes:h,endReached:_,startReached:b,rangeChanged:S,itemsRendered:y,initialItemCount:g,...d}},kr(xa,uT,Qm,Rc,Fc,Lc,Lo,Wm),{singleton:!0}),uU=Qt(([{sizes:t,firstItemIndex:e,data:r,gap:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(Ge(xe(s,yt(a),tt(([,l])=>l!==0),yt(i,t,e,n,r),Ve(([[,l],u,c,f,d,p=[]])=>fT(l,u,c,f,d,p))),o),{}),kr(xa,Rc,vs,Lo),{singleton:!0}),dT=Qt(([{scrollVelocity:t}])=>{const e=Ae(!1),r=jt(),n=Ae(!1);return Ge(xe(t,yt(n,e,r),tt(([i,a])=>!!a),Ve(([i,a,o,s])=>{const{exit:l,enter:u}=a;if(o){if(l(i,s))return!1}else if(u(i,s))return!0;return o}),Er()),e),Gt(xe(on(e,t,r),yt(n)),([[i,a,o],s])=>i&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:n,scrollVelocity:t,scrollSeekRangeChanged:r}},kr(Lc),{singleton:!0}),cU=Qt(([{topItemsIndexes:t}])=>{const e=Ae(0);return Ge(xe(e,tt(r=>r>0),Ve(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},kr(vs)),pT=Qt(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:i}])=>{const a=jt(),o=jn(xe(on(t,n,e,r,i),Ve(([s,l,u,c,f])=>s+l+u+c+f.offsetBottom+f.bottom)),0);return Ge(et(o),a),{totalListHeight:o,totalListHeightChanged:a}},kr(Dn,vs),{singleton:!0});function hT(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const fU=hT(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),dU=Qt(([{scrollBy:t,scrollTop:e,deviation:r,scrollingInProgress:n},{isScrolling:i,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:f,gap:d},{log:p},{recalcInProgress:v}])=>{const h=Xn(xe(l,yt(s),ca(([,y,m,_],[{items:b,totalCount:S,bottom:O,offsetBottom:x},C])=>{const I=O+x;let E=0;return m===S&&y.length>0&&b.length>0&&(b[0].originalIndex===0&&y[0].originalIndex===0||(E=I-_,E!==0&&(E+=C))),[E,b,S,I]},[0,[],0,0]),tt(([y])=>y!==0),yt(e,o,n,a,p,v),tt(([,y,m,_,,,b])=>!b&&!_&&y!==0&&m===sc),Ve(([[y],,,,,m])=>(m("Upward scrolling compensation",{amount:y},Zn.DEBUG),y))));function g(y){y>0?(gt(t,{top:-y,behavior:"auto"}),gt(r,0)):(gt(r,0),gt(t,{top:-y,behavior:"auto"}))}return Gt(xe(h,yt(r,i)),([y,m,_])=>{_&&fU()?gt(r,m-y):g(-y)}),Gt(xe(on(jn(i,!1),r,v),tt(([y,m,_])=>!y&&!_&&m!==0),Ve(([y,m])=>m),fo(1)),g),Ge(xe(c,Ve(y=>({top:-y}))),t),Gt(xe(u,yt(f,d),Ve(([y,{lastSize:m,groupIndices:_,sizeTree:b},S])=>{function O(x){return x*(m+S)}if(_.length===0)return O(y);{let x=0;const C=ac(b,0);let I=0,E=0;for(;I<y;){I++,x+=C;let k=_.length===E+1?1/0:_[E+1]-_[E]-1;I+k>y&&(x-=C,k=y-I+1),I+=k,x+=O(k),E++}return x}})),y=>{gt(r,y),requestAnimationFrame(()=>{gt(t,{top:y}),requestAnimationFrame(()=>{gt(r,0),gt(v,!1)})})}),{deviation:r}},kr(Dn,Lc,vs,xa,Fo,Wm)),pU=Qt(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ae(0);return Gt(xe(t,yt(n),tt(([,i])=>i!==0),Ve(([,i])=>({top:i}))),i=>{va(xe(r,El(1),tt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{gt(e,i)})})}),{initialScrollTop:n}},kr(Lo,Dn,vs),{singleton:!0}),hU=Qt(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ae(!1),n=jn(xe(on(r,t,e),tt(([i])=>i),Ve(([,i,a])=>Math.max(0,i-a)),fo(0),Er()),0);return{alignToBottom:r,paddingTopAddition:n}},kr(Dn,pT),{singleton:!0}),Xm=Qt(([{scrollTo:t,scrollContainerState:e}])=>{const r=jt(),n=jt(),i=jt(),a=Ae(!1),o=Ae(void 0);return Ge(xe(on(r,n),Ve(([{viewportHeight:s,scrollTop:l,scrollHeight:u},{offsetTop:c}])=>({scrollTop:Math.max(0,l-c),scrollHeight:u,viewportHeight:s}))),e),Ge(xe(t,yt(n),Ve(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:i}},kr(Dn)),vU=({itemTop:t,itemBottom:e,viewportTop:r,viewportBottom:n,locationParams:{behavior:i,align:a,...o}})=>t<r?{...o,behavior:i,align:a!=null?a:"start"}:e>n?{...o,behavior:i,align:a!=null?a:"end"}:null,gU=Qt(([{sizes:t,totalCount:e,gap:r},{scrollTop:n,viewportHeight:i,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:l},{scrollToIndex:u}])=>{const c=jt();return Ge(xe(c,yt(t,i,e,a,o,s,n),yt(r),Ve(([[f,d,p,v,h,g,y,m],_])=>{const{done:b,behavior:S,align:O,calculateViewLocation:x=vU,...C}=f,I=oT(f,d,v-1),E=oc(I,d.offsetTree,_)+h+g,k=E+Mi(d.sizeTree,I)[1],w=m+g,A=m+p-y,P=x({itemTop:E,itemBottom:k,viewportTop:w,viewportBottom:A,locationParams:{behavior:S,align:O,...C}});return P?b&&va(xe(l,tt(F=>F===!1),El(mn(l)?1:2)),b):b&&b(),P}),tt(f=>f!==null)),u),{scrollIntoView:c}},kr(xa,Dn,Fc,vs,Fo),{singleton:!0}),mU=Qt(([{sizes:t,sizeRanges:e},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=jt(),c=Ae(void 0),f=Ae(null),d=Ae(null);return Ge(s,f),Ge(l,d),Gt(xe(u,yt(t,r,o,f,d,n)),([p,v,h,g,y,m,_])=>{const b=X9(v.sizeTree);g&&y!==null&&m!==null&&(h=y.scrollTop-m.offsetTop),h-=_,p({ranges:b,scrollTop:h})}),Ge(xe(c,tt(Hm),Ve(yU)),i),Ge(xe(a,yt(c),tt(([,p])=>p!==void 0),Er(),Ve(([,p])=>p.ranges)),e),{getState:u,restoreStateFrom:c}},kr(xa,Dn,Rc,Lo,Xm));function yU(t){return{offset:t.scrollTop,index:0,align:"start"}}const bU=Qt(([t,e,r,n,i,a,o,s,l,u])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u}),kr(Qm,uU,Lo,dT,pT,pU,hU,Xm,gU,Fo)),_U=Qt(([{totalCount:t,sizeRanges:e,fixedItemSize:r,defaultItemSize:n,trackItemSizes:i,itemSize:a,data:o,firstItemIndex:s,groupIndices:l,statefulTotalCount:u,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v},h,g,y,{listState:m,topItemsIndexes:_,...b},{scrollToIndex:S},O,{topItemCount:x},{groupCounts:C},I])=>(Ge(b.rangeChanged,I.scrollSeekRangeChanged),Ge(xe(I.windowViewportRect,Ve(E=>E.visibleHeight)),h.viewportHeight),{totalCount:t,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v,topItemsIndexes:_,topItemCount:x,groupCounts:C,fixedItemHeight:r,defaultItemHeight:n,gap:c,...y,statefulTotalCount:u,listState:m,scrollToIndex:S,trackItemSizes:i,itemSize:a,groupIndices:l,...b,...I,...h,sizes:f,...g}),kr(xa,Rc,Dn,mU,oU,vs,Fc,dU,cU,uT,bU)),Wh="-webkit-sticky",B_="sticky",vT=hT(()=>{if(typeof document>"u")return B_;const t=document.createElement("div");return t.style.position=Wh,t.style.position===Wh?Wh:B_});function gT(t,e,r){const n=j.useRef(null),i=j.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),c=u.width;let f,d;if(e){const p=e.getBoundingClientRect(),v=u.top-p.top;f=p.height-Math.max(0,v),d=v+e.scrollTop}else f=window.innerHeight-Math.max(0,u.top),d=u.top+window.pageYOffset;n.current={offsetTop:d,visibleHeight:f,visibleWidth:c},t(n.current)},[t,e]),{callbackRef:a,ref:o}=Gm(i,!0,r),s=j.useCallback(()=>{i(o.current)},[i,o]);return j.useEffect(()=>{if(e){e.addEventListener("scroll",s);const l=new ResizeObserver(()=>{requestAnimationFrame(s)});return l.observe(e),()=>{e.removeEventListener("scroll",s),l.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const mT=j.createContext(void 0),yT=j.createContext(void 0);function bT(t){return t}const SU=Qt(()=>{const t=Ae(l=>"Item ".concat(l)),e=Ae(null),r=Ae(l=>"Group ".concat(l)),n=Ae({}),i=Ae(bT),a=Ae("div"),o=Ae(Yl),s=(l,u=null)=>jn(xe(n,Ve(c=>c[l]),Er()),u);return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),OU=Qt(([t,e])=>({...t,...e}),kr(_U,SU)),xU=({height:t})=>T.jsx("div",{style:{height:t}}),wU={position:vT(),zIndex:1,overflowAnchor:"none"},_T={overflowAnchor:"none"},EU={..._T,display:"inline-block",height:"100%"},q_=j.memo(function({showTopList:e=!1}){const r=ut("listState"),n=hi("sizeRanges"),i=ut("useWindowScroll"),a=ut("customScrollParent"),o=hi("windowScrollContainerState"),s=hi("scrollContainerState"),l=a||i?o:s,u=ut("itemContent"),c=ut("context"),f=ut("groupContent"),d=ut("trackItemSizes"),p=ut("itemSize"),v=ut("log"),h=hi("gap"),g=ut("horizontalDirection"),{callbackRef:y}=V9(n,p,d,e?Yl:l,v,h,a,g,ut("skipAnimationFrameInResizeObserver")),[m,_]=j.useState(0);Zm("deviation",F=>{m!==F&&_(F)});const b=ut("EmptyPlaceholder"),S=ut("ScrollSeekPlaceholder")||xU,O=ut("ListComponent"),x=ut("ItemComponent"),C=ut("GroupComponent"),I=ut("computeItemKey"),E=ut("isSeeking"),k=ut("groupIndices").length>0,w=ut("alignToBottom"),A=ut("initialItemFinalLocationReached"),P=e?{}:{boxSizing:"border-box",...g?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,marginLeft:m!==0?m:w?"auto":0}:{marginTop:m!==0?m:w?"auto":0,paddingTop:r.offsetTop,paddingBottom:r.offsetBottom},...A?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&b?T.jsx(b,{...In(b,c)}):T.jsx(O,{...In(O,c),ref:y,style:P,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?r.topItems:r.items).map(F=>{const D=F.originalIndex,R=I(D+r.firstItemIndex,F.data,c);return E?J.createElement(S,{...In(S,c),key:R,index:F.index,height:F.size,type:F.type||"item",...F.type==="group"?{}:{groupIndex:F.groupIndex}}):F.type==="group"?J.createElement(C,{...In(C,c),key:R,"data-index":D,"data-known-size":F.size,"data-item-index":F.index,style:wU},f(F.index,c)):J.createElement(x,{...In(x,c),...IU(x,F.data),key:R,"data-index":D,"data-known-size":F.size,"data-item-index":F.index,"data-item-group-index":F.groupIndex,style:g?EU:_T},k?u(F.index,F.groupIndex,F.data,c):u(F.index,F.data,c))})})}),CU={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},TU={outline:"none",overflowX:"auto",position:"relative"},Ip=t=>({width:"100%",height:"100%",position:"absolute",top:0,...t?{display:"flex",flexDirection:"column"}:{}}),kU={width:"100%",position:vT(),top:0,zIndex:1};function In(t,e){if(typeof t!="string")return{context:e}}function IU(t,e){return{item:typeof t=="string"?void 0:e}}const AU=j.memo(function(){const e=ut("HeaderComponent"),r=hi("headerHeight"),n=ut("HeaderFooterTag"),i=hs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),jU=j.memo(function(){const e=ut("FooterComponent"),r=hi("footerHeight"),n=ut("HeaderFooterTag"),i=hs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null});function ST({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("scrollerRef"),d=r("context"),p=r("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:h,scrollToCallback:g}=ZC(l,c,u,f,void 0,p);e("scrollTo",g),e("scrollBy",h);const y=p?TU:CU;return T.jsx(u,{ref:v,style:{...y,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...In(u,d),children:o})})}function OT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("totalListHeight"),d=r("deviation"),p=r("customScrollParent"),v=r("context"),{scrollerRef:h,scrollByCallback:g,scrollToCallback:y}=ZC(l,c,u,Yl,p);return QC(()=>(h.current=p||window,()=>{h.current=null}),[h,p]),e("windowScrollTo",y),e("scrollBy",g),T.jsx(u,{style:{position:"relative",...a,...f!==0?{height:f+d}:{}},"data-virtuoso-scroller":!0,...s,...In(u,v),children:o})})}const PU=({children:t})=>{const e=j.useContext(mT),r=hi("viewportHeight"),n=hi("fixedItemHeight"),i=ut("alignToBottom"),a=ut("horizontalDirection"),o=j.useMemo(()=>WC(r,l=>Oo(l,a?"width":"height")),[r,a]),s=hs(o,!0,ut("skipAnimationFrameInResizeObserver"));return j.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),T.jsx("div",{style:Ip(i),ref:s,"data-viewport-type":"element",children:t})},FU=({children:t})=>{const e=j.useContext(mT),r=hi("windowViewportRect"),n=hi("fixedItemHeight"),i=ut("customScrollParent"),a=gT(r,i,ut("skipAnimationFrameInResizeObserver")),o=ut("alignToBottom");return j.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),T.jsx("div",{ref:a,style:Ip(o),"data-viewport-type":"window",children:t})},LU=({children:t})=>{const e=ut("TopItemListComponent")||"div",r=ut("headerHeight"),n={...kU,marginTop:"".concat(r,"px")},i=ut("context");return T.jsx(e,{style:n,...In(e,i),children:t})},RU=j.memo(function(e){const r=ut("useWindowScroll"),n=ut("topItemsIndexes").length>0,i=ut("customScrollParent"),a=i||r?DU:NU,o=i||r?FU:PU;return T.jsxs(a,{...e,children:[n&&T.jsx(LU,{children:T.jsx(q_,{showTopList:!0})}),T.jsxs(o,{children:[T.jsx(AU,{}),T.jsx(q_,{}),T.jsx(jU,{})]})]})}),{Component:$U,usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}=JC(OU,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},RU),NU=ST({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),DU=OT({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),MU=$U,z_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},VU={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:H_,ceil:U_,floor:Ad,min:Yh,max:Wu}=Math;function BU(t){return{...VU,items:t}}function G_(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>{const a=r===null?null:r[i+t];return{index:i+t,data:a}})}function qU(t,e){return t&&t.column===e.column&&t.row===e.row}function Pf(t,e){return t&&t.width===e.width&&t.height===e.height}const zU=Qt(([{overscan:t,visibleRange:e,listBoundary:r,increaseViewportBy:n},{scrollTop:i,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:c,headerHeight:f},d,p,{propsReady:v,didMount:h},{windowViewportRect:g,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,windowScrollTo:b},S])=>{const O=Ae(0),x=Ae(0),C=Ae(z_),I=Ae({height:0,width:0}),E=Ae({height:0,width:0}),k=jt(),w=jt(),A=Ae(0),P=Ae(null),F=Ae({row:0,column:0}),D=jt(),R=jt(),G=Ae(!1),V=Ae(0),$=Ae(!0),L=Ae(!1),N=Ae(!1);Gt(xe(h,yt(V),tt(([q,Y])=>!!Y)),()=>{gt($,!1)}),Gt(xe(on(h,$,E,I,V,L),tt(([q,Y,K,ie,,te])=>q&&!Y&&K.height!==0&&ie.height!==0&&!te)),([,,,,q])=>{gt(L,!0),Km(1,()=>{gt(k,q)}),va(xe(i),()=>{gt(r,[0,0]),gt($,!0)})}),Ge(xe(R,tt(q=>q!=null&&q.scrollTop>0),ra(0)),x),Gt(xe(h,yt(R),tt(([,q])=>q!=null)),([,q])=>{q&&(gt(I,q.viewport),gt(E,q==null?void 0:q.item),gt(F,q.gap),q.scrollTop>0&&(gt(G,!0),va(xe(i,El(1)),Y=>{gt(G,!1)}),gt(s,{top:q.scrollTop})))}),Ge(xe(I,Ve(({height:q})=>q)),a),Ge(xe(on(et(I,Pf),et(E,Pf),et(F,(q,Y)=>q&&q.column===Y.column&&q.row===Y.row),et(i)),Ve(([q,Y,K,ie])=>({viewport:q,item:Y,gap:K,scrollTop:ie}))),D),Ge(xe(on(et(O),e,et(F,qU),et(E,Pf),et(I,Pf),et(P),et(x),et(G),et($),et(V)),tt(([,,,,,,,q])=>!q),Ve(([q,[Y,K],ie,te,ae,ue,fe,,pe,Se])=>{const{row:Q,column:re}=ie,{height:de,width:ve}=te,{width:ee}=ae;if(fe===0&&(q===0||ee===0))return z_;if(ve===0){const Be=Jm(Se,q),Ne=Math.max(Be+fe-1,0);return BU(G_(Be,Ne,ue))}const me=xT(ee,ve,re);let Oe,we;pe?Y===0&&K===0&&fe>0?(Oe=0,we=fe-1):(Oe=me*Ad((Y+Q)/(de+Q)),we=me*U_((K+Q)/(de+Q))-1,we=Yh(q-1,Wu(we,me-1)),Oe=Yh(we,Wu(0,Oe))):(Oe=0,we=-1);const Je=G_(Oe,we,ue),{top:at,bottom:ce}=W_(ae,ie,te,Je),ge=U_(q/me),Pe=ge*de+(ge-1)*Q-ce;return{items:Je,offsetTop:at,offsetBottom:Pe,top:at,bottom:ce,itemHeight:de,itemWidth:ve}})),C),Ge(xe(P,tt(q=>q!==null),Ve(q=>q.length)),O),Ge(xe(on(I,E,C,F),tt(([q,Y,{items:K}])=>K.length>0&&Y.height!==0&&q.height!==0),Ve(([q,Y,{items:K},ie])=>{const{top:te,bottom:ae}=W_(q,ie,Y,K);return[te,ae]}),Er(lc)),r);const B=Ae(!1);Ge(xe(i,yt(B),Ve(([q,Y])=>Y||q!==0)),B);const H=Xn(xe(et(C),tt(({items:q})=>q.length>0),yt(O,B),tt(([{items:q},Y,K])=>K&&q[q.length-1].index===Y-1),Ve(([,q])=>q-1),Er())),z=Xn(xe(et(C),tt(({items:q})=>q.length>0&&q[0].index===0),ra(0),Er())),M=Xn(xe(et(C),yt(G),tt(([{items:q},Y])=>q.length>0&&!Y),Ve(([{items:q}])=>({startIndex:q[0].index,endIndex:q[q.length-1].index})),Er(cT),fo(0)));Ge(M,p.scrollSeekRangeChanged),Ge(xe(k,yt(I,E,O,F),Ve(([q,Y,K,ie,te])=>{const ae=lT(q),{align:ue,behavior:fe,offset:pe}=ae;let Se=ae.index;Se==="LAST"&&(Se=ie-1),Se=Wu(0,Se,Yh(ie-1,Se));let Q=Xv(Y,te,K,Se);return ue==="end"?Q=H_(Q-Y.height+K.height):ue==="center"&&(Q=H_(Q-Y.height/2+K.height/2)),pe&&(Q+=pe),{top:Q,behavior:fe}})),s);const W=jn(xe(C,Ve(q=>q.offsetBottom+q.bottom)),0);return Ge(xe(g,Ve(q=>({width:q.visibleWidth,height:q.visibleHeight}))),I),{data:P,totalCount:O,viewportDimensions:I,itemDimensions:E,scrollTop:i,scrollHeight:w,overscan:t,increaseViewportBy:n,scrollBy:o,scrollTo:s,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:g,windowScrollTo:b,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,deviation:A,scrollContainerState:u,footerHeight:c,headerHeight:f,initialItemCount:x,gap:F,restoreStateFrom:R,...p,initialTopMostItemIndex:V,horizontalDirection:N,gridState:C,totalListHeight:W,...d,startReached:z,endReached:H,rangeChanged:M,stateChanged:D,propsReady:v,stateRestoreInProgress:G,...S}},kr(Qm,Dn,Lc,dT,Lo,Xm,Fo));function W_(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{top:0,bottom:0};const a=Xv(t,e,r,n[0].index),o=Xv(t,e,r,n[n.length-1].index)+i;return{top:a,bottom:o}}function Xv(t,e,r,n){const i=xT(t.width,r.width,e.column),a=Ad(n/i),o=a*r.height+Wu(0,a-1)*e.row;return o>0?o+e.row:o}function xT(t,e,r){return Wu(1,Ad((t+r)/(Ad(e)+r)))}const HU=Qt(()=>{const t=Ae(f=>"Item ".concat(f)),e=Ae({}),r=Ae(null),n=Ae("virtuoso-grid-item"),i=Ae("virtuoso-grid-list"),a=Ae(bT),o=Ae("div"),s=Ae(Yl),l=(f,d=null)=>jn(xe(e,Ve(p=>p[f]),Er()),d),u=Ae(!1),c=Ae(!1);return Ge(et(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:t,components:e,computeItemKey:a,itemClassName:n,listClassName:i,headerFooterTag:o,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),UU=Qt(([t,e])=>({...t,...e}),kr(zU,HU)),GU=j.memo(function(){const e=Ar("gridState"),r=Ar("listClassName"),n=Ar("itemClassName"),i=Ar("itemContent"),a=Ar("computeItemKey"),o=Ar("isSeeking"),s=vi("scrollHeight"),l=Ar("ItemComponent"),u=Ar("ListComponent"),c=Ar("ScrollSeekPlaceholder"),f=Ar("context"),d=vi("itemDimensions"),p=vi("gap"),v=Ar("log"),h=Ar("stateRestoreInProgress"),g=vi("reportReadyState"),y=hs(j.useMemo(()=>m=>{const _=m.parentElement.parentElement.scrollHeight;s(_);const b=m.firstChild;if(b){const{width:S,height:O}=b.getBoundingClientRect();d({width:S,height:O})}p({row:Y_("row-gap",getComputedStyle(m).rowGap,v),column:Y_("column-gap",getComputedStyle(m).columnGap,v)})},[s,d,p,v]),!0,!1);return QC(()=>{e.itemHeight>0&&e.itemWidth>0&&g(!0)},[e]),h?null:T.jsx(u,{ref:y,className:r,...In(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(m=>{const _=a(m.index,m.data,f);return o?T.jsx(c,{...In(c,f),index:m.index,height:e.itemHeight,width:e.itemWidth},_):J.createElement(l,{...In(l,f),className:n,"data-index":m.index,key:_},i(m.index,m.data,f))})})}),WU=j.memo(function(){const e=Ar("HeaderComponent"),r=vi("headerHeight"),n=Ar("headerFooterTag"),i=hs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=Ar("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),YU=j.memo(function(){const e=Ar("FooterComponent"),r=vi("footerHeight"),n=Ar("headerFooterTag"),i=hs(j.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=Ar("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...In(e,a)})}):null}),KU=({children:t})=>{const e=j.useContext(yT),r=vi("itemDimensions"),n=vi("viewportDimensions"),i=hs(j.useMemo(()=>a=>{n(a.getBoundingClientRect())},[n]),!0,!1);return j.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),T.jsx("div",{style:Ip(!1),ref:i,children:t})},JU=({children:t})=>{const e=j.useContext(yT),r=vi("windowViewportRect"),n=vi("itemDimensions"),i=Ar("customScrollParent"),a=gT(r,i,!1);return j.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),T.jsx("div",{ref:a,style:Ip(!1),children:t})},QU=j.memo(function({...e}){const r=Ar("useWindowScroll"),n=Ar("customScrollParent"),i=n||r?ZU:XU,a=n||r?JU:KU;return T.jsx(i,{...e,children:T.jsxs(a,{children:[T.jsx(WU,{}),T.jsx(GU,{}),T.jsx(YU,{})]})})}),{Component:uxe,usePublisher:vi,useEmitterValue:Ar,useEmitter:wT}=JC(UU,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},QU),XU=ST({usePublisher:vi,useEmitterValue:Ar,useEmitter:wT}),ZU=OT({usePublisher:vi,useEmitterValue:Ar,useEmitter:wT});function Y_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,Zn.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function eG(t){const[e,r]=J.useState(!1),[n,i]=J.useState(!1),a=50,o=(u,c)=>{if(!u||!t.current)return;const f=t.current.getBoundingClientRect(),d=f.left+c,p=f.right+c;if(!(u.x>=d&&u.x<=p&&u.y>=f.top&&u.y<=f.bottom)){r(!1),i(!1);return}const h=u.y-f.top,g=f.bottom-u.y;r(h<=a),i(g<=a)},{isDragging:s,currentOffset:l}=vN(u=>({isDragging:u.isDragging(),currentOffset:u.getClientOffset()}));return J.useEffect(()=>{const u=window.innerWidth;let c;u>=1200?c=450:(u>=768,c=400),s?o(l,c):(r(!1),i(!1))},[s,l]),{isNearTop:e,isNearBottom:n}}function tG({designMode:t},e){const{t:r}=ss(["design","run"]),n=Pr(),i=t==dn.DESIGN,a=ye(v=>{var h;return((h=v.designState.Survey)==null?void 0:h.children)||[]}),o=ye(v=>{var h,g;return(g=(h=v.designState.Survey)==null?void 0:h.resources)==null?void 0:g.headerImage});ye(v=>{var h,g;return(g=(h=v.designState.Survey)==null?void 0:h.resources)==null?void 0:g.backgroundImage});const s=!a.length,l=J.useMemo(()=>{let v=!1;return a==null||a.forEach(h=>{var g;((h==null?void 0:h.type)==="welcome"||((g=h.groupType)==null?void 0:g.toLowerCase())==="welcome")&&(v=!0)}),v},[a]),u=J.useMemo(()=>{var h;const v=[];o&&v.push({name:Pa.IMAGE}),l||v.push({name:Pa.DROP_AREA,index:0});for(let g=0;g<a.length;g++)v.push({name:Pa.GROUP,group:a[g],index:g}),a[g].type!=="end"&&((h=a[g].groupType)==null?void 0:h.toLowerCase())!=="end"&&v.push({name:Pa.DROP_AREA,group:a[g],index:g+1});return v.push({name:Pa.FOOTER}),v},[a,r,o]),c=J.useRef(null),f=J.useRef(null),{isNearBottom:d,isNearTop:p}=eG(f);return J.useEffect(()=>{let v;const h=()=>{c.current&&(d?c.current.scrollBy({top:6,behavior:"auto"}):p&&c.current.scrollBy({top:-6,behavior:"auto"}),v=requestAnimationFrame(h))};return(p||d)&&(v=requestAnimationFrame(h)),()=>{v&&cancelAnimationFrame(v)}},[p,d]),T.jsx(ht,{ref:e,className:"content-panel ".concat(Ou.contentPanel),style:{backgroundColor:n.palette.background.default,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:T.jsx(ht,{ref:f,width:"100%",height:"100%",children:T.jsx(MU,{ref:c,data:u,className:Ou.virtuosoStyle,itemContent:(v,h)=>{switch(h.name){case Pa.IMAGE:return T.jsxs(ht,{className:Ou.cardMediaContent,children:[T.jsx(S$,{className:Ou.cardImage,component:"img",image:Ao(o),height:"140"}),i&&T.jsx(sm,{code:"Survey"})]});case Pa.DROP_AREA:return T.jsx(O9,{emptySurvey:s,t:r,index:h.index,groupsCount:a.length});case Pa.GROUP:return T.jsx(I9,{t:r,designMode:t,code:h.group.code,index:h.index});case Pa.FOOTER:return T.jsx("div",{className:Ou.footer})}}})})})}const rG=j.forwardRef(tG),Pa={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"};function nG({label:t,rule:e,t:r,defaultValue:n,code:i,lowerBound:a,upperBound:o}){const s=wt(),l=ye(p=>p.designState[i][e]||n),[u,c]=J.useState(l),f=p=>{c(p.target.value),u>=a&&u<=o&&s(Yn({code:i,key:e,value:Math.max(a,Math.min(o,p.target.value))}))},d=u!=l;return T.jsxs(T.Fragment,{children:[T.jsxs("h4",{children:[t,":"]}),T.jsx(Zt,{label:t,error:d,variant:"outlined",type:"number",helperText:d?T.jsx(la,{t:r,values:{lower_bound:a,upper_bound:o,setup_value:l,label:t},i18nKey:"value_beyond_bounds"}):null,size:"small",style:{maxWidth:"200px"},value:u,onChange:p=>f(p)})]})}const Ff=j.memo(nG),iG="_showHint_9iocv_1",aG="_inputValue_9iocv_9",ET={showHint:iG,inputValue:aG};function oG({code:t,t:e}){const r=wt(),n=ye(a=>a.designState[t].showHint||!1),i=a=>{r(Yn({code:t,key:"showHint",value:a}))};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:ET.showHint,children:[T.jsx("h4",{children:e("show_question_hint")}),T.jsx(cs,{checked:n,onChange:a=>i(a.target.checked)})]}),n&&T.jsx(Zv,{code:t,objectName:"hint"})]})}function Zv({code:t,objectName:e,title:r}){const n=wt(),i=(s,l)=>{n(Io({code:t,key:e,lang:s,value:l}))},a=ye(s=>s.designState.langInfo.languagesList),o=ye(s=>{var l;return(l=s.designState[t].content)==null?void 0:l[e]});return T.jsxs(T.Fragment,{children:[r&&T.jsx("h4",{children:r}),a.map(s=>T.jsx("div",{className:ET.inputValue,children:T.jsx(Zt,{label:s.name,variant:"standard",type:"text",value:(o==null?void 0:o[s.code])||"",onChange:l=>i(s.code,l.target.value)})},s.code))]})}const sG="_boxContainer_182us_1",lG="_mt10_182us_10",uG="_uppercase_182us_14",cG="_title_182us_18",K_={boxContainer:sG,mt10:lG,uppercase:uG,title:cG},fG="_boxContainer_1vhs4_1",dG="_mt10_1vhs4_9",pG="_uppercase_1vhs4_13",hG="_title_1vhs4_18",vG="_titleContent_1vhs4_28",gG="_standardError_1vhs4_33",mG="_errorWrapper_1vhs4_44",yG="_errorLabelWrapper_1vhs4_48",bG="_errorItem_1vhs4_52",_G="_errorItemContainer_1vhs4_58",Gn={boxContainer:fG,mt10:dG,uppercase:pG,title:hG,titleContent:vG,standardError:gG,errorWrapper:mG,errorLabelWrapper:yG,errorItem:bG,errorItemContainer:_G};function SG({validationRule:t,code:e,rule:r,t:n}){const i=wt(),a=t.isCustomErrorActive||!1,o=ye(f=>f.designState.langInfo.languagesList);let s=t.content||{};const l=f=>{i(gd({code:e,rule:r,key:"isCustomErrorActive",value:f}))},u=(f,d)=>{const p={...s,[f]:d};i(gd({code:e,rule:r,key:"content",value:p}))},c={inputProps:{"aria-label":"Switch validation"}};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:n("standard_error")}),T.jsxs("div",{className:Gn.errorWrapper,children:[T.jsx("div",{className:Gn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Gn.errorItem," ").concat(Gn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{children:o.map(f=>T.jsx("div",{className:Gn.errorItem,children:n(r,{ns:"run",lng:f.code,...t})},f.code))})]}),T.jsxs("div",{className:Gn.title,children:[T.jsx("h4",{className:Gn.mt10,children:n("custom_error")}),T.jsx(cs,{...c,checked:a,onChange:f=>l(f.target.checked)})]}),a?T.jsxs("div",{className:Gn.errorWrapper,children:[T.jsx("div",{className:Gn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Gn.errorItem," ").concat(Gn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{className:Gn.errorItemContainer,children:o.map(f=>T.jsx("div",{className:Gn.errorItem,children:T.jsx(Zt,{size:"small",variant:"standard",value:s[f.code]||"",onChange:d=>u(f.code,d.target.value)})},f.code))})]}):""]})}const OG="_valueValidationItems_1hupk_1",xG="_valueValidationItemsContainer_1hupk_6",wG="_error_1hupk_11",J_={valueValidationItems:OG,valueValidationItemsContainer:xG,error:wG};function EG({value:t,onValueChanged:e}){const{t:r}=ss("design"),n=i=>{let a=[...t];i.target.checked?a.push(i.target.name):a=t.filter(o=>o!=i.target.name),e(a)};return T.jsxs(Dr,{children:[T.jsx(EE,{id:"file-type-label",children:r("file_type")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),T.jsx($a,{control:T.jsx(Fi,{checked:t.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}const CG=j.memo(EG);function TG({code:t,validation:e,rule:r,t:n}){const i=ye(f=>{var d;return((d=f.designState[t].children)==null?void 0:d.length)||0}),a=j.useMemo(()=>{switch(r){case"validation_min_char_length":return[1,Number.MAX_VALUE];case"validation_max_file_size":return[1,Number.MAX_VALUE];case"validation_max_char_length":return[1,Number.MAX_VALUE];case"validation_max_word_count":return[1,Number.MAX_VALUE];case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,i];default:return}},[i]),o=wt(),s=(f,d)=>{o(gd({rule:r,code:t,key:f,value:d}))},l=(f,d)=>{s(f,typeof a>"u"?d:Math.max(a[0],Math.min(a[1],d)))};let u=kG(e);const c=r!="validation_required"&&r!="validation_one_response_per_col"&&r!="validation_pattern_email"&&r!="validation_file_types";return T.jsxs("div",{className:J_.valueValidationItemsContainer,children:[u&&c&&T.jsx("div",{children:n(r+"_subtitle")}),T.jsx("div",{className:J_.valueValidationItems,children:r=="validation_file_types"?T.jsx(CG,{value:e.fileTypes,onValueChanged:f=>l("fileTypes",f)}):u.map(f=>{const d=typeof a<"u"&&(e[f]<a[0]||e[f]>a[1]);return T.jsx(Zt,{error:d,value:e[f],variant:"outlined",size:"small",type:typeof e[f]=="number"?"number":"text",onChange:p=>l(f,typeof e[f]=="number"?parseInt(p.target.value):p.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},f)})})]})}const kG=t=>Object.keys(t).filter(e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e));function IG({rule:t,t:e,code:r}){console.debug("ValidationSetupItem: "+r);const n=wt(),i=ye(l=>{var u,c;return(c=(u=l.designState[r])==null?void 0:u.validation)==null?void 0:c[t]}),a={inputProps:{"aria-label":"Switch validation"}},o=(i==null?void 0:i.isActive)||!1,s=l=>{n(gd({code:r,rule:t,key:"isActive",value:l}))};return T.jsxs("div",{children:[T.jsxs("div",{className:K_.title,children:[T.jsx("h4",{children:e(t+"_title")}),T.jsx(cs,{...a,checked:o,onChange:l=>s(l.target.checked)})]}),o&&T.jsxs(ht,{className:K_.boxContainer,children:[T.jsx(TG,{code:r,validation:i,rule:t,t:e}),T.jsx(SG,{code:r,validationRule:i,rule:t,t:e})]})]})}const AG=j.memo(IG),jG="_toggleValue_1d9zg_1",PG="_inputValue_1d9zg_8",FG={toggleValue:jG,inputValue:PG};function Zi({label:t,code:e,rule:r}){const n=wt(),i=ye(s=>s.designState[e][r]||!1),a=s=>{n(Yn({code:e,key:r,value:s}))},o={inputProps:{"aria-label":"Switch demo"}};return T.jsxs("div",{className:FG.toggleValue,children:[T.jsx("h4",{children:t}),T.jsx(cs,{...o,checked:i,onChange:s=>{a(s.target.checked)}})]})}const LG="_selectValue_9m4tq_1",RG={selectValue:LG};function Ls({label:t,rule:e,defaultValue:r,code:n,values:i,labels:a}){const o=wt(),s=ye(u=>{var c;return((c=u.designState[n])==null?void 0:c[e])||r}),l=u=>{o(Yn({code:n,key:e,value:u}))};return T.jsxs("div",{className:RG.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Gi,{id:"select-value",value:s,label:"Select Value",onChange:u=>{l(u.target.value)},children:i.map((u,c)=>T.jsx(Zr,{value:u,children:a?a[c]:u},u))})})]})}const $G="_selectDate_1qp3e_1",NG="_selectDateField_1qp3e_8",Q_={selectDate:$G,selectDateField:NG};function X_({label:t,rule:e,code:r}){const n=wt(),i=ye(a=>a.designState[r][e]||"");return T.jsxs("div",{className:Q_.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Zt,{className:Q_.selectDateField,variant:"standard",value:i,type:"date",onChange:a=>{n(Yn({code:r,key:e,value:a.target.value}))}})]})}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DG(t){if(Array.isArray(t))return t}function MG(t,e,r){return(e=zG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oo.apply(null,arguments)}function VG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function BG(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(r),!0).forEach(function(n){MG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yu(t,e){return DG(t)||VG(t,e)||HG(t,e)||BG()}function qG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zG(t){var e=qG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(t){if(typeof t=="string")return Z_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z_(t,e):void 0}}var CT=J.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),UG=function(e){var r=e.open,n=e.options,i=e.onCancel,a=e.onConfirm,o=e.onClose,s=n.title,l=n.description,u=n.content,c=n.confirmationText,f=n.cancellationText,d=n.dialogProps,p=n.dialogActionsProps,v=n.confirmationButtonProps,h=n.cancellationButtonProps,g=n.titleProps,y=n.contentProps,m=n.allowClose,_=n.confirmationKeyword,b=n.confirmationKeywordTextFieldProps,S=n.hideCancelButton,O=n.buttonOrder,x=n.acknowledgement,C=n.acknowledgementFormControlLabelProps,I=n.acknowledgementCheckboxProps,E=j.useState(""),k=Yu(E,2),w=k[0],A=k[1],P=j.useState(!1),F=Yu(P,2),D=F[0],R=F[1],G=!!(_&&w!==_||x&&!D),V=j.createElement(j.Fragment,null,x&&j.createElement($a,oo({},C,{control:j.createElement(Fi,oo({},I,{value:D,onChange:function(B,H){return R(H)}})),label:x}))),$=j.createElement(j.Fragment,null,_&&j.createElement(Zt,oo({onChange:function(B){return A(B.target.value)},value:w,fullWidth:!0},b))),L=O.map(function(N){if(N==="cancel")return!S&&j.createElement(Ht,oo({key:"cancel"},h,{onClick:i}),f);if(N==="confirm")return j.createElement(Ht,oo({key:"confirm",color:"primary",disabled:G},v,{onClick:a}),c);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(N))});return j.createElement(rm,oo({fullWidth:!0},d,{open:r,onClose:m?o:null}),s&&j.createElement(em,g,s),u?j.createElement(qu,y,u,$,V):l?j.createElement(qu,y,j.createElement(m2,null,l),$,V):(_||V)&&j.createElement(qu,y,$,V),j.createElement(tm,p,L))},ea={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},GG=function(e,r){var n=Rr(Rr({},e.dialogProps||ea.dialogProps),r.dialogProps||{}),i=Rr(Rr({},e.dialogActionsProps||ea.dialogActionsProps),r.dialogActionsProps||{}),a=Rr(Rr({},e.confirmationButtonProps||ea.confirmationButtonProps),r.confirmationButtonProps||{}),o=Rr(Rr({},e.cancellationButtonProps||ea.cancellationButtonProps),r.cancellationButtonProps||{}),s=Rr(Rr({},e.titleProps||ea.titleProps),r.titleProps||{}),l=Rr(Rr({},e.contentProps||ea.contentProps),r.contentProps||{}),u=Rr(Rr({},e.confirmationKeywordTextFieldProps||ea.confirmationKeywordTextFieldProps),r.confirmationKeywordTextFieldProps||{}),c=Rr(Rr({},e.acknowledgementFormControlLabelProps||ea.acknowledgementFormControlLabelProps),r.acknowledgementFormControlLabelProps||{}),f=Rr(Rr({},e.acknowledgementCheckboxProps||ea.acknowledgementCheckboxProps),r.acknowledgementCheckboxProps||{});return Rr(Rr(Rr(Rr({},ea),e),r),{},{dialogProps:n,dialogActionsProps:i,confirmationButtonProps:a,cancellationButtonProps:o,titleProps:s,contentProps:l,confirmationKeywordTextFieldProps:u,acknowledgementFormControlLabelProps:c,acknowledgementCheckboxProps:f})},WG=function(e){var r=e.children,n=e.defaultOptions,i=n===void 0?{}:n,a=J.useState(null),o=Yu(a,2),s=o[0],l=o[1],u=J.useState({}),c=Yu(u,2),f=c[0],d=c[1],p=J.useState(0),v=Yu(p,2),h=v[0],g=v[1],y=J.useCallback(function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(C,I){g(function(E){return E+1}),d(x),l({resolve:C,reject:I,parentId:O})})},[]),m=J.useCallback(function(O){l(function(x){return x&&x.parentId===O?null:x})},[]),_=J.useCallback(function(){l(null)},[]),b=J.useCallback(function(){l(function(O){return O&&O.reject(),null})},[]),S=J.useCallback(function(){l(function(O){return O&&O.resolve(),null})},[]);return J.useCallback(function(O){return y("global",O)}),j.createElement(J.Fragment,null,j.createElement(CT.Provider,{value:{confirmBase:y,closeOnParentUnmount:m}},r),j.createElement(UG,{key:h,open:s!==null,options:GG(i,f!=null?f:{}),onClose:_,onCancel:b,onConfirm:S}))},YG=0,KG=function(){var e=J.useMemo(function(){return YG++},[]);return"confirm-".concat(e)},JG=function(){var e=KG(),r=J.useContext(CT),n=r.confirmBase,i=r.closeOnParentUnmount,a=J.useCallback(function(o){return n(e,o)},[e]);return J.useEffect(function(){return function(){i(e)}},[e]),a};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var TT;function je(){return TT.apply(null,arguments)}function QG(t){TT=t}function Vi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function es(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ey(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Dt(t,e))return!1;return!0}function Vn(t){return t===void 0}function Ha(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function $c(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function kT(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function po(t,e){for(var r in e)Dt(e,r)&&(t[r]=e[r]);return Dt(e,"toString")&&(t.toString=e.toString),Dt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function wa(t,e,r,n){return QT(t,e,r,n,!0).utc()}function XG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(t){return t._pf==null&&(t._pf=XG()),t._pf}var eg;Array.prototype.some?eg=Array.prototype.some:eg=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function ty(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ct(t),r=eg.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Ap(t){var e=wa(NaN);return t!=null?po(ct(e),t):ct(e).userInvalidated=!0,e}var tS=je.momentProperties=[],Kh=!1;function ry(t,e){var r,n,i,a=tS.length;if(Vn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Vn(e._i)||(t._i=e._i),Vn(e._f)||(t._f=e._f),Vn(e._l)||(t._l=e._l),Vn(e._strict)||(t._strict=e._strict),Vn(e._tzm)||(t._tzm=e._tzm),Vn(e._isUTC)||(t._isUTC=e._isUTC),Vn(e._offset)||(t._offset=e._offset),Vn(e._pf)||(t._pf=ct(e)),Vn(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=tS[r],i=e[n],Vn(i)||(t[n]=i);return t}function Nc(t){ry(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Kh===!1&&(Kh=!0,je.updateOffset(this),Kh=!1)}function Bi(t){return t instanceof Nc||t!=null&&t._isAMomentObject!=null}function IT(t){je.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ci(t,e){var r=!0;return po(function(){if(je.deprecationHandler!=null&&je.deprecationHandler(null,t),r){var n=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(o in arguments[0])Dt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}IT(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var rS={};function AT(t,e){je.deprecationHandler!=null&&je.deprecationHandler(t,e),rS[t]||(IT(e),rS[t]=!0)}je.suppressDeprecationWarnings=!1;je.deprecationHandler=null;function Ea(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function ZG(t){var e,r;for(r in t)Dt(t,r)&&(e=t[r],Ea(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function tg(t,e){var r=po({},t),n;for(n in e)Dt(e,n)&&(es(t[n])&&es(e[n])?(r[n]={},po(r[n],t[n]),po(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Dt(t,n)&&!Dt(e,n)&&es(t[n])&&(r[n]=po({},r[n]));return r}function ny(t){t!=null&&this.set(t)}var rg;Object.keys?rg=Object.keys:rg=function(t){var e,r=[];for(e in t)Dt(t,e)&&r.push(e);return r};var eW={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function tW(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Ea(n)?n.call(e,r):n}function ga(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var iy=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Lf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Jh={},bl={};function Ye(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(bl[t]=i),e&&(bl[e[0]]=function(){return ga(i.apply(this,arguments),e[1],e[2])}),r&&(bl[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function rW(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function nW(t){var e=t.match(iy),r,n;for(r=0,n=e.length;r<n;r++)bl[e[r]]?e[r]=bl[e[r]]:e[r]=rW(e[r]);return function(i){var a="",o;for(o=0;o<n;o++)a+=Ea(e[o])?e[o].call(i,t):e[o];return a}}function ld(t,e){return t.isValid()?(e=jT(e,t.localeData()),Jh[e]=Jh[e]||nW(e),Jh[e](t)):t.localeData().invalidDate()}function jT(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(Lf.lastIndex=0;r>=0&&Lf.test(t);)t=t.replace(Lf,n),Lf.lastIndex=0,r-=1;return t}var iW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aW(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(iy).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var oW="Invalid date";function sW(){return this._invalidDate}var lW="%d",uW=/\d{1,2}/;function cW(t){return this._ordinal.replace("%d",t)}var fW={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dW(t,e,r,n){var i=this._relativeTime[r];return Ea(i)?i(t,e,r,n):i.replace(/%d/i,t)}function pW(t,e){var r=this._relativeTime[t>0?"future":"past"];return Ea(r)?r(e):r.replace(/%s/i,e)}var nS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ti(t){return typeof t=="string"?nS[t]||nS[t.toLowerCase()]:void 0}function ay(t){var e={},r,n;for(n in t)Dt(t,n)&&(r=Ti(n),r&&(e[r]=t[n]));return e}var hW={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function vW(t){var e=[],r;for(r in t)Dt(t,r)&&e.push({unit:r,priority:hW[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var PT=/\d/,ni=/\d\d/,FT=/\d{3}/,oy=/\d{4}/,jp=/[+-]?\d{6}/,_r=/\d\d?/,LT=/\d\d\d\d?/,RT=/\d\d\d\d\d\d?/,Pp=/\d{1,3}/,sy=/\d{1,4}/,Fp=/[+-]?\d{1,6}/,Kl=/\d+/,Lp=/[+-]?\d+/,gW=/Z|[+-]\d\d:?\d\d/gi,Rp=/Z|[+-]\d\d(?::?\d\d)?/gi,mW=/[+-]?\d+(\.\d{1,3})?/,Dc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Jl=/^[1-9]\d?/,ly=/^([1-9]\d|\d)/,jd;jd={};function $e(t,e,r){jd[t]=Ea(e)?e:function(n,i){return n&&r?r:e}}function yW(t,e){return Dt(jd,t)?jd[t](e._strict,e._locale):new RegExp(bW(t))}function bW(t){return qa(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function qa(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ui(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ot(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=ui(e)),r}var ng={};function tr(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Ha(e)&&(n=function(a,o){o[e]=Ot(a)}),i=t.length,r=0;r<i;r++)ng[t[r]]=n}function Mc(t,e){tr(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function _W(t,e,r){e!=null&&Dt(ng,t)&&ng[t](e,r._a,r,t)}function $p(t){return t%4===0&&t%100!==0||t%400===0}var bn=0,Va=1,oa=2,en=3,$i=4,Ba=5,Ko=6,SW=7,OW=8;Ye("Y",0,0,function(){var t=this.year();return t<=9999?ga(t,4):"+"+t});Ye(0,["YY",2],0,function(){return this.year()%100});Ye(0,["YYYY",4],0,"year");Ye(0,["YYYYY",5],0,"year");Ye(0,["YYYYYY",6,!0],0,"year");$e("Y",Lp);$e("YY",_r,ni);$e("YYYY",sy,oy);$e("YYYYY",Fp,jp);$e("YYYYYY",Fp,jp);tr(["YYYYY","YYYYYY"],bn);tr("YYYY",function(t,e){e[bn]=t.length===2?je.parseTwoDigitYear(t):Ot(t)});tr("YY",function(t,e){e[bn]=je.parseTwoDigitYear(t)});tr("Y",function(t,e){e[bn]=parseInt(t,10)});function Ku(t){return $p(t)?366:365}je.parseTwoDigitYear=function(t){return Ot(t)+(Ot(t)>68?1900:2e3)};var $T=Ql("FullYear",!0);function xW(){return $p(this.year())}function Ql(t,e){return function(r){return r!=null?(NT(this,t,r),je.updateOffset(this,e),this):uc(this,t)}}function uc(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function NT(t,e,r){var n,i,a,o,s;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=t.month(),s=t.date(),s=s===29&&o===1&&!$p(a)?28:s,i?n.setUTCFullYear(a,o,s):n.setFullYear(a,o,s)}}function wW(t){return t=Ti(t),Ea(this[t])?this[t]():this}function EW(t,e){if(typeof t=="object"){t=ay(t);var r=vW(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=Ti(t),Ea(this[t]))return this[t](e);return this}function CW(t,e){return(t%e+e)%e}var Vr;Array.prototype.indexOf?Vr=Array.prototype.indexOf:Vr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function uy(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=CW(e,12);return t+=(e-r)/12,r===1?$p(t)?29:28:31-r%7%2}Ye("M",["MM",2],"Mo",function(){return this.month()+1});Ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});$e("M",_r,Jl);$e("MM",_r,ni);$e("MMM",function(t,e){return e.monthsShortRegex(t)});$e("MMMM",function(t,e){return e.monthsRegex(t)});tr(["M","MM"],function(t,e){e[Va]=Ot(t)-1});tr(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[Va]=i:ct(r).invalidMonth=t});var TW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),DT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kW=Dc,IW=Dc;function AW(t,e){return t?Vi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||MT).test(e)?"format":"standalone"][t.month()]:Vi(this._months)?this._months:this._months.standalone}function jW(t,e){return t?Vi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[MT.test(e)?"format":"standalone"][t.month()]:Vi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function PW(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=wa([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null))}function FW(t,e,r){var n,i,a;if(this._monthsParseExact)return PW.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=wa([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function VT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ot(e);else if(e=t.localeData().monthsParse(e),!Ha(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,uy(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function BT(t){return t!=null?(VT(this,t),je.updateOffset(this,!0),this):uc(this,"Month")}function LW(){return uy(this.year(),this.month())}function RW(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||qT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Dt(this,"_monthsShortRegex")||(this._monthsShortRegex=kW),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function $W(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||qT.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Dt(this,"_monthsRegex")||(this._monthsRegex=IW),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function qT(){function t(l,u){return u.length-l.length}var e=[],r=[],n=[],i,a,o,s;for(i=0;i<12;i++)a=wa([2e3,i]),o=qa(this.monthsShort(a,"")),s=qa(this.months(a,"")),e.push(o),r.push(s),n.push(s),n.push(o);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function NW(t,e,r,n,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,a,o),s}function cc(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Pd(t,e,r){var n=7+e-r,i=(7+cc(t,0,n).getUTCDay()-e)%7;return-i+n-1}function zT(t,e,r,n,i){var a=(7+r-n)%7,o=Pd(t,n,i),s=1+7*(e-1)+a+o,l,u;return s<=0?(l=t-1,u=Ku(l)+s):s>Ku(t)?(l=t+1,u=s-Ku(t)):(l=t,u=s),{year:l,dayOfYear:u}}function fc(t,e,r){var n=Pd(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,o;return i<1?(o=t.year()-1,a=i+za(o,e,r)):i>za(t.year(),e,r)?(a=i-za(t.year(),e,r),o=t.year()+1):(o=t.year(),a=i),{week:a,year:o}}function za(t,e,r){var n=Pd(t,e,r),i=Pd(t+1,e,r);return(Ku(t)-n+i)/7}Ye("w",["ww",2],"wo","week");Ye("W",["WW",2],"Wo","isoWeek");$e("w",_r,Jl);$e("ww",_r,ni);$e("W",_r,Jl);$e("WW",_r,ni);Mc(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=Ot(t)});function DW(t){return fc(t,this._week.dow,this._week.doy).week}var MW={dow:0,doy:6};function VW(){return this._week.dow}function BW(){return this._week.doy}function qW(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function zW(t){var e=fc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ye("d",0,"do","day");Ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ye("e",0,0,"weekday");Ye("E",0,0,"isoWeekday");$e("d",_r);$e("e",_r);$e("E",_r);$e("dd",function(t,e){return e.weekdaysMinRegex(t)});$e("ddd",function(t,e){return e.weekdaysShortRegex(t)});$e("dddd",function(t,e){return e.weekdaysRegex(t)});Mc(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ct(r).invalidWeekday=t});Mc(["d","e","E"],function(t,e,r,n){e[n]=Ot(t)});function HW(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function UW(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function cy(t,e){return t.slice(e,7).concat(t.slice(0,e))}var GW="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),HT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),WW="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),YW=Dc,KW=Dc,JW=Dc;function QW(t,e){var r=Vi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?cy(r,this._week.dow):t?r[t.day()]:r}function XW(t){return t===!0?cy(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function ZW(t){return t===!0?cy(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function e7(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=wa([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1||(i=Vr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Vr.call(this._minWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function t7(t,e,r){var n,i,a;if(this._weekdaysParseExact)return e7.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=wa([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function r7(t){if(!this.isValid())return t!=null?this:NaN;var e=uc(this,"Day");return t!=null?(t=HW(t,this.localeData()),this.add(t-e,"d")):e}function n7(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function i7(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=UW(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function a7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Dt(this,"_weekdaysRegex")||(this._weekdaysRegex=YW),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function o7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=KW),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function s7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||fy.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=JW),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fy(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],i=[],a,o,s,l,u;for(a=0;a<7;a++)o=wa([2e3,1]).day(a),s=qa(this.weekdaysMin(o,"")),l=qa(this.weekdaysShort(o,"")),u=qa(this.weekdays(o,"")),e.push(s),r.push(l),n.push(u),i.push(s),i.push(l),i.push(u);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function dy(){return this.hours()%12||12}function l7(){return this.hours()||24}Ye("H",["HH",2],0,"hour");Ye("h",["hh",2],0,dy);Ye("k",["kk",2],0,l7);Ye("hmm",0,0,function(){return""+dy.apply(this)+ga(this.minutes(),2)});Ye("hmmss",0,0,function(){return""+dy.apply(this)+ga(this.minutes(),2)+ga(this.seconds(),2)});Ye("Hmm",0,0,function(){return""+this.hours()+ga(this.minutes(),2)});Ye("Hmmss",0,0,function(){return""+this.hours()+ga(this.minutes(),2)+ga(this.seconds(),2)});function UT(t,e){Ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}UT("a",!0);UT("A",!1);function GT(t,e){return e._meridiemParse}$e("a",GT);$e("A",GT);$e("H",_r,ly);$e("h",_r,Jl);$e("k",_r,Jl);$e("HH",_r,ni);$e("hh",_r,ni);$e("kk",_r,ni);$e("hmm",LT);$e("hmmss",RT);$e("Hmm",LT);$e("Hmmss",RT);tr(["H","HH"],en);tr(["k","kk"],function(t,e,r){var n=Ot(t);e[en]=n===24?0:n});tr(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});tr(["h","hh"],function(t,e,r){e[en]=Ot(t),ct(r).bigHour=!0});tr("hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n)),ct(r).bigHour=!0});tr("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n,2)),e[Ba]=Ot(t.substr(i)),ct(r).bigHour=!0});tr("Hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n))});tr("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[$i]=Ot(t.substr(n,2)),e[Ba]=Ot(t.substr(i))});function u7(t){return(t+"").toLowerCase().charAt(0)==="p"}var c7=/[ap]\.?m?\.?/i,f7=Ql("Hours",!0);function d7(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var WT={calendar:eW,longDateFormat:iW,invalidDate:oW,ordinal:lW,dayOfMonthOrdinalParse:uW,relativeTime:fW,months:TW,monthsShort:DT,week:MW,weekdays:GW,weekdaysMin:WW,weekdaysShort:HT,meridiemParse:c7},Or={},Eu={},dc;function p7(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function iS(t){return t&&t.toLowerCase().replace("_","-")}function h7(t){for(var e=0,r,n,i,a;e<t.length;){for(a=iS(t[e]).split("-"),r=a.length,n=iS(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=Np(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&p7(a,n)>=r-1)break;r--}e++}return dc}function v7(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Np(t){var e=null,r;if(Or[t]===void 0&&typeof module<"u"&&module&&module.exports&&v7(t))try{e=dc._abbr,r=require,r("./locale/"+t),mo(e)}catch(n){Or[t]=null}return Or[t]}function mo(t,e){var r;return t&&(Vn(e)?r=Ya(t):r=py(t,e),r?dc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),dc._abbr}function py(t,e){if(e!==null){var r,n=WT;if(e.abbr=t,Or[t]!=null)AT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Or[t]._config;else if(e.parentLocale!=null)if(Or[e.parentLocale]!=null)n=Or[e.parentLocale]._config;else if(r=Np(e.parentLocale),r!=null)n=r._config;else return Eu[e.parentLocale]||(Eu[e.parentLocale]=[]),Eu[e.parentLocale].push({name:t,config:e}),null;return Or[t]=new ny(tg(n,e)),Eu[t]&&Eu[t].forEach(function(i){py(i.name,i.config)}),mo(t),Or[t]}else return delete Or[t],null}function g7(t,e){if(e!=null){var r,n,i=WT;Or[t]!=null&&Or[t].parentLocale!=null?Or[t].set(tg(Or[t]._config,e)):(n=Np(t),n!=null&&(i=n._config),e=tg(i,e),n==null&&(e.abbr=t),r=new ny(e),r.parentLocale=Or[t],Or[t]=r),mo(t)}else Or[t]!=null&&(Or[t].parentLocale!=null?(Or[t]=Or[t].parentLocale,t===mo()&&mo(t)):Or[t]!=null&&delete Or[t]);return Or[t]}function Ya(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return dc;if(!Vi(t)){if(e=Np(t),e)return e;t=[t]}return h7(t)}function m7(){return rg(Or)}function hy(t){var e,r=t._a;return r&&ct(t).overflow===-2&&(e=r[Va]<0||r[Va]>11?Va:r[oa]<1||r[oa]>uy(r[bn],r[Va])?oa:r[en]<0||r[en]>24||r[en]===24&&(r[$i]!==0||r[Ba]!==0||r[Ko]!==0)?en:r[$i]<0||r[$i]>59?$i:r[Ba]<0||r[Ba]>59?Ba:r[Ko]<0||r[Ko]>999?Ko:-1,ct(t)._overflowDayOfYear&&(e<bn||e>oa)&&(e=oa),ct(t)._overflowWeeks&&e===-1&&(e=SW),ct(t)._overflowWeekday&&e===-1&&(e=OW),ct(t).overflow=e),t}var y7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,b7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_7=/Z|[+-]\d\d(?::?\d\d)?/,Rf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],S7=/^\/?Date\((-?\d+)/i,O7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,x7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function YT(t){var e,r,n=t._i,i=y7.exec(n)||b7.exec(n),a,o,s,l,u=Rf.length,c=Qh.length;if(i){for(ct(t).iso=!0,e=0,r=u;e<r;e++)if(Rf[e][1].exec(i[1])){o=Rf[e][0],a=Rf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=c;e<r;e++)if(Qh[e][1].exec(i[3])){s=(i[2]||" ")+Qh[e][0];break}if(s==null){t._isValid=!1;return}}if(!a&&s!=null){t._isValid=!1;return}if(i[4])if(_7.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(s||"")+(l||""),gy(t)}else t._isValid=!1}function w7(t,e,r,n,i,a){var o=[E7(t),DT.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function E7(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function C7(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function T7(t,e,r){if(t){var n=HT.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ct(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function k7(t,e,r){if(t)return x7[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function KT(t){var e=O7.exec(C7(t._i)),r;if(e){if(r=w7(e[4],e[3],e[2],e[5],e[6],e[7]),!T7(e[1],r,t))return;t._a=r,t._tzm=k7(e[8],e[9],e[10]),t._d=cc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ct(t).rfc2822=!0}else t._isValid=!1}function I7(t){var e=S7.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(YT(t),t._isValid===!1)delete t._isValid;else return;if(KT(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:je.createFromInputFallback(t)}je.createFromInputFallback=Ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ws(t,e,r){return t!=null?t:e!=null?e:r}function A7(t){var e=new Date(je.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vy(t){var e,r,n=[],i,a,o;if(!t._d){for(i=A7(t),t._w&&t._a[oa]==null&&t._a[Va]==null&&j7(t),t._dayOfYear!=null&&(o=Ws(t._a[bn],i[bn]),(t._dayOfYear>Ku(o)||t._dayOfYear===0)&&(ct(t)._overflowDayOfYear=!0),r=cc(o,0,t._dayOfYear),t._a[Va]=r.getUTCMonth(),t._a[oa]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[en]===24&&t._a[$i]===0&&t._a[Ba]===0&&t._a[Ko]===0&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?cc:NW).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(ct(t).weekdayMismatch=!0)}}function j7(t){var e,r,n,i,a,o,s,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,o=4,r=Ws(e.GG,t._a[bn],fc(yr(),1,4).year),n=Ws(e.W,1),i=Ws(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,u=fc(yr(),a,o),r=Ws(e.gg,t._a[bn],u.year),n=Ws(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>za(r,a,o)?ct(t)._overflowWeeks=!0:l!=null?ct(t)._overflowWeekday=!0:(s=zT(r,n,i,a,o),t._a[bn]=s.year,t._dayOfYear=s.dayOfYear)}je.ISO_8601=function(){};je.RFC_2822=function(){};function gy(t){if(t._f===je.ISO_8601){YT(t);return}if(t._f===je.RFC_2822){KT(t);return}t._a=[],ct(t).empty=!0;var e=""+t._i,r,n,i,a,o,s=e.length,l=0,u,c;for(i=jT(t._f,t._locale).match(iy)||[],c=i.length,r=0;r<c;r++)a=i[r],n=(e.match(yW(a,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ct(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),bl[a]?(n?ct(t).empty=!1:ct(t).unusedTokens.push(a),_W(a,n,t)):t._strict&&!n&&ct(t).unusedTokens.push(a);ct(t).charsLeftOver=s-l,e.length>0&&ct(t).unusedInput.push(e),t._a[en]<=12&&ct(t).bigHour===!0&&t._a[en]>0&&(ct(t).bigHour=void 0),ct(t).parsedDateParts=t._a.slice(0),ct(t).meridiem=t._meridiem,t._a[en]=P7(t._locale,t._a[en],t._meridiem),u=ct(t).era,u!==null&&(t._a[bn]=t._locale.erasConvertYear(u,t._a[bn])),vy(t),hy(t)}function P7(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function F7(t){var e,r,n,i,a,o,s=!1,l=t._f.length;if(l===0){ct(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,e=ry({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],gy(e),ty(e)&&(o=!0),a+=ct(e).charsLeftOver,a+=ct(e).unusedTokens.length*10,ct(e).score=a,s?a<n&&(n=a,r=e):(n==null||a<n||o)&&(n=a,r=e,o&&(s=!0));po(t,r||e)}function L7(t){if(!t._d){var e=ay(t._i),r=e.day===void 0?e.date:e.day;t._a=kT([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),vy(t)}}function R7(t){var e=new Nc(hy(JT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function JT(t){var e=t._i,r=t._f;return t._locale=t._locale||Ya(t._l),e===null||r===void 0&&e===""?Ap({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Bi(e)?new Nc(hy(e)):($c(e)?t._d=e:Vi(r)?F7(t):r?gy(t):$7(t),ty(t)||(t._d=null),t))}function $7(t){var e=t._i;Vn(e)?t._d=new Date(je.now()):$c(e)?t._d=new Date(e.valueOf()):typeof e=="string"?I7(t):Vi(e)?(t._a=kT(e.slice(0),function(r){return parseInt(r,10)}),vy(t)):es(e)?L7(t):Ha(e)?t._d=new Date(e):je.createFromInputFallback(t)}function QT(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(es(t)&&ey(t)||Vi(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,R7(a)}function yr(t,e,r,n){return QT(t,e,r,n,!1)}var N7=Ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ap()}),D7=Ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ap()});function XT(t,e){var r,n;if(e.length===1&&Vi(e[0])&&(e=e[0]),!e.length)return yr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function M7(){var t=[].slice.call(arguments,0);return XT("isBefore",t)}function V7(){var t=[].slice.call(arguments,0);return XT("isAfter",t)}var B7=function(){return Date.now?Date.now():+new Date},Cu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function q7(t){var e,r=!1,n,i=Cu.length;for(e in t)if(Dt(t,e)&&!(Vr.call(Cu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[Cu[n]]){if(r)return!1;parseFloat(t[Cu[n]])!==Ot(t[Cu[n]])&&(r=!0)}return!0}function z7(){return this._isValid}function H7(){return Ki(NaN)}function Dp(t){var e=ay(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=q7(e),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ya(),this._bubble()}function ud(t){return t instanceof Dp}function ig(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function U7(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<n;o++)Ot(t[o])!==Ot(e[o])&&a++;return a+i}function ZT(t,e){Ye(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ga(~~(r/60),2)+e+ga(~~r%60,2)})}ZT("Z",":");ZT("ZZ","");$e("Z",Rp);$e("ZZ",Rp);tr(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=my(Rp,t)});var G7=/([\+\-]|\d\d)/gi;function my(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(G7)||["-",0,0],a=+(i[1]*60)+Ot(i[2]),a===0?0:i[0]==="+"?a:-a)}function yy(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(Bi(t)||$c(t)?t.valueOf():yr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),je.updateOffset(r,!1),r):yr(t).local()}function ag(t){return-Math.round(t._d.getTimezoneOffset())}je.updateOffset=function(){};function W7(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=my(Rp,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=ag(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?rk(this,Ki(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,je.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ag(this)}function Y7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function K7(t){return this.utcOffset(0,t)}function J7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ag(this),"m")),this}function Q7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=my(gW,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function X7(t){return this.isValid()?(t=t?yr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Z7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function eY(){if(!Vn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ry(t,this),t=JT(t),t._a?(e=t._isUTC?wa(t._a):yr(t._a),this._isDSTShifted=this.isValid()&&U7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function tY(){return this.isValid()?!this._isUTC:!1}function rY(){return this.isValid()?this._isUTC:!1}function ek(){return this.isValid()?this._isUTC&&this._offset===0:!1}var nY=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iY=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ki(t,e){var r=t,n=null,i,a,o;return ud(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Ha(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=nY.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:Ot(n[oa])*i,h:Ot(n[en])*i,m:Ot(n[$i])*i,s:Ot(n[Ba])*i,ms:Ot(ig(n[Ko]*1e3))*i}):(n=iY.exec(t))?(i=n[1]==="-"?-1:1,r={y:Bo(n[2],i),M:Bo(n[3],i),w:Bo(n[4],i),d:Bo(n[5],i),h:Bo(n[6],i),m:Bo(n[7],i),s:Bo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=aY(yr(r.from),yr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new Dp(r),ud(t)&&Dt(t,"_locale")&&(a._locale=t._locale),ud(t)&&Dt(t,"_isValid")&&(a._isValid=t._isValid),a}Ki.fn=Dp.prototype;Ki.invalid=H7;function Bo(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function aS(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function aY(t,e){var r;return t.isValid()&&e.isValid()?(e=yy(e,t),t.isBefore(e)?r=aS(t,e):(r=aS(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function tk(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(AT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Ki(r,n),rk(this,i,t),this}}function rk(t,e,r,n){var i=e._milliseconds,a=ig(e._days),o=ig(e._months);t.isValid()&&(n=n==null?!0:n,o&&VT(t,uc(t,"Month")+o*r),a&&NT(t,"Date",uc(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&je.updateOffset(t,a||o))}var oY=tk(1,"add"),sY=tk(-1,"subtract");function nk(t){return typeof t=="string"||t instanceof String}function lY(t){return Bi(t)||$c(t)||nk(t)||Ha(t)||cY(t)||uY(t)||t===null||t===void 0}function uY(t){var e=es(t)&&!ey(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=n.length;for(i=0;i<o;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function cY(t){var e=Vi(t),r=!1;return e&&(r=t.filter(function(n){return!Ha(n)&&nk(t)}).length===0),e&&r}function fY(t){var e=es(t)&&!ey(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function dY(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function pY(t,e){arguments.length===1&&(arguments[0]?lY(arguments[0])?(t=arguments[0],e=void 0):fY(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||yr(),n=yy(r,this).startOf("day"),i=je.calendarFormat(this,n)||"sameElse",a=e&&(Ea(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,yr(r)))}function hY(){return new Nc(this)}function vY(t,e){var r=Bi(t)?t:yr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function gY(t,e){var r=Bi(t)?t:yr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function mY(t,e,r,n){var i=Bi(t)?t:yr(t),a=Bi(e)?e:yr(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function yY(t,e){var r=Bi(t)?t:yr(t),n;return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function bY(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function _Y(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function SY(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=yy(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Ti(e),e){case"year":a=cd(this,n)/12;break;case"month":a=cd(this,n);break;case"quarter":a=cd(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:ui(a)}function cd(t,e){if(t.date()<e.date())return-cd(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}je.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";je.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function OY(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xY(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?ld(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ea(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ld(r,"Z")):ld(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wY(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function EY(t){t||(t=this.isUtc()?je.defaultFormatUtc:je.defaultFormat);var e=ld(this,t);return this.localeData().postformat(e)}function CY(t,e){return this.isValid()&&(Bi(t)&&t.isValid()||yr(t).isValid())?Ki({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function TY(t){return this.from(yr(),t)}function kY(t,e){return this.isValid()&&(Bi(t)&&t.isValid()||yr(t).isValid())?Ki({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function IY(t){return this.to(yr(),t)}function ik(t){var e;return t===void 0?this._locale._abbr:(e=Ya(t),e!=null&&(this._locale=e),this)}var ak=Ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function ok(){return this._locale}var Fd=1e3,_l=60*Fd,Ld=60*_l,sk=(365*400+97)*24*Ld;function Sl(t,e){return(t%e+e)%e}function lk(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-sk:new Date(t,e,r).valueOf()}function uk(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-sk:Date.UTC(t,e,r)}function AY(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?uk:lk,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Sl(e+(this._isUTC?0:this.utcOffset()*_l),Ld);break;case"minute":e=this._d.valueOf(),e-=Sl(e,_l);break;case"second":e=this._d.valueOf(),e-=Sl(e,Fd);break}return this._d.setTime(e),je.updateOffset(this,!0),this}function jY(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?uk:lk,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Ld-Sl(e+(this._isUTC?0:this.utcOffset()*_l),Ld)-1;break;case"minute":e=this._d.valueOf(),e+=_l-Sl(e,_l)-1;break;case"second":e=this._d.valueOf(),e+=Fd-Sl(e,Fd)-1;break}return this._d.setTime(e),je.updateOffset(this,!0),this}function PY(){return this._d.valueOf()-(this._offset||0)*6e4}function FY(){return Math.floor(this.valueOf()/1e3)}function LY(){return new Date(this.valueOf())}function RY(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function $Y(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function NY(){return this.isValid()?this.toISOString():null}function DY(){return ty(this)}function MY(){return po({},ct(this))}function VY(){return ct(this).overflow}function BY(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ye("N",0,0,"eraAbbr");Ye("NN",0,0,"eraAbbr");Ye("NNN",0,0,"eraAbbr");Ye("NNNN",0,0,"eraName");Ye("NNNNN",0,0,"eraNarrow");Ye("y",["y",1],"yo","eraYear");Ye("y",["yy",2],0,"eraYear");Ye("y",["yyy",3],0,"eraYear");Ye("y",["yyyy",4],0,"eraYear");$e("N",by);$e("NN",by);$e("NNN",by);$e("NNNN",XY);$e("NNNNN",ZY);tr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ct(r).era=i:ct(r).invalidEra=t});$e("y",Kl);$e("yy",Kl);$e("yyy",Kl);$e("yyyy",Kl);$e("yo",eK);tr(["y","yy","yyy","yyyy"],bn);tr(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[bn]=r._locale.eraYearOrdinalParse(t,i):e[bn]=parseInt(t,10)});function qY(t,e){var r,n,i,a=this._eras||Ya("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=je(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=je(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function zY(t,e,r){var n,i,a=this.eras(),o,s,l;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(o=a[n].name.toUpperCase(),s=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return a[n];break;case"NNNN":if(o===t)return a[n];break;case"NNNNN":if(l===t)return a[n];break}else if([o,s,l].indexOf(t)>=0)return a[n]}function HY(t,e){var r=t.since<=t.until?1:-1;return e===void 0?je(t.since).year():je(t.since).year()+(e-t.offset)*r}function UY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function GY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function WY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function YY(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-je(i[t].since).year())*r+i[t].offset;return this.year()}function KY(t){return Dt(this,"_erasNameRegex")||_y.call(this),t?this._erasNameRegex:this._erasRegex}function JY(t){return Dt(this,"_erasAbbrRegex")||_y.call(this),t?this._erasAbbrRegex:this._erasRegex}function QY(t){return Dt(this,"_erasNarrowRegex")||_y.call(this),t?this._erasNarrowRegex:this._erasRegex}function by(t,e){return e.erasAbbrRegex(t)}function XY(t,e){return e.erasNameRegex(t)}function ZY(t,e){return e.erasNarrowRegex(t)}function eK(t,e){return e._eraYearOrdinalRegex||Kl}function _y(){var t=[],e=[],r=[],n=[],i,a,o,s,l,u=this.eras();for(i=0,a=u.length;i<a;++i)o=qa(u[i].name),s=qa(u[i].abbr),l=qa(u[i].narrow),e.push(o),t.push(s),r.push(l),n.push(o),n.push(s),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Ye(0,["gg",2],0,function(){return this.weekYear()%100});Ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Mp(t,e){Ye(0,[t,t.length],0,e)}Mp("gggg","weekYear");Mp("ggggg","weekYear");Mp("GGGG","isoWeekYear");Mp("GGGGG","isoWeekYear");$e("G",Lp);$e("g",Lp);$e("GG",_r,ni);$e("gg",_r,ni);$e("GGGG",sy,oy);$e("gggg",sy,oy);$e("GGGGG",Fp,jp);$e("ggggg",Fp,jp);Mc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=Ot(t)});Mc(["gg","GG"],function(t,e,r,n){e[n]=je.parseTwoDigitYear(t)});function tK(t){return ck.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function rK(t){return ck.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function nK(){return za(this.year(),1,4)}function iK(){return za(this.isoWeekYear(),1,4)}function aK(){var t=this.localeData()._week;return za(this.year(),t.dow,t.doy)}function oK(){var t=this.localeData()._week;return za(this.weekYear(),t.dow,t.doy)}function ck(t,e,r,n,i){var a;return t==null?fc(this,n,i).year:(a=za(t,n,i),e>a&&(e=a),sK.call(this,t,e,r,n,i))}function sK(t,e,r,n,i){var a=zT(t,e,r,n,i),o=cc(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ye("Q",0,"Qo","quarter");$e("Q",PT);tr("Q",function(t,e){e[Va]=(Ot(t)-1)*3});function lK(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ye("D",["DD",2],"Do","date");$e("D",_r,Jl);$e("DD",_r,ni);$e("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});tr(["D","DD"],oa);tr("Do",function(t,e){e[oa]=Ot(t.match(_r)[0])});var fk=Ql("Date",!0);Ye("DDD",["DDDD",3],"DDDo","dayOfYear");$e("DDD",Pp);$e("DDDD",FT);tr(["DDD","DDDD"],function(t,e,r){r._dayOfYear=Ot(t)});function uK(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ye("m",["mm",2],0,"minute");$e("m",_r,ly);$e("mm",_r,ni);tr(["m","mm"],$i);var cK=Ql("Minutes",!1);Ye("s",["ss",2],0,"second");$e("s",_r,ly);$e("ss",_r,ni);tr(["s","ss"],Ba);var fK=Ql("Seconds",!1);Ye("S",0,0,function(){return~~(this.millisecond()/100)});Ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ye(0,["SSS",3],0,"millisecond");Ye(0,["SSSS",4],0,function(){return this.millisecond()*10});Ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$e("S",Pp,PT);$e("SS",Pp,ni);$e("SSS",Pp,FT);var ho,dk;for(ho="SSSS";ho.length<=9;ho+="S")$e(ho,Kl);function dK(t,e){e[Ko]=Ot(("0."+t)*1e3)}for(ho="S";ho.length<=9;ho+="S")tr(ho,dK);dk=Ql("Milliseconds",!1);Ye("z",0,0,"zoneAbbr");Ye("zz",0,0,"zoneName");function pK(){return this._isUTC?"UTC":""}function hK(){return this._isUTC?"Coordinated Universal Time":""}var Ee=Nc.prototype;Ee.add=oY;Ee.calendar=pY;Ee.clone=hY;Ee.diff=SY;Ee.endOf=jY;Ee.format=EY;Ee.from=CY;Ee.fromNow=TY;Ee.to=kY;Ee.toNow=IY;Ee.get=wW;Ee.invalidAt=VY;Ee.isAfter=vY;Ee.isBefore=gY;Ee.isBetween=mY;Ee.isSame=yY;Ee.isSameOrAfter=bY;Ee.isSameOrBefore=_Y;Ee.isValid=DY;Ee.lang=ak;Ee.locale=ik;Ee.localeData=ok;Ee.max=D7;Ee.min=N7;Ee.parsingFlags=MY;Ee.set=EW;Ee.startOf=AY;Ee.subtract=sY;Ee.toArray=RY;Ee.toObject=$Y;Ee.toDate=LY;Ee.toISOString=xY;Ee.inspect=wY;typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ee.toJSON=NY;Ee.toString=OY;Ee.unix=FY;Ee.valueOf=PY;Ee.creationData=BY;Ee.eraName=UY;Ee.eraNarrow=GY;Ee.eraAbbr=WY;Ee.eraYear=YY;Ee.year=$T;Ee.isLeapYear=xW;Ee.weekYear=tK;Ee.isoWeekYear=rK;Ee.quarter=Ee.quarters=lK;Ee.month=BT;Ee.daysInMonth=LW;Ee.week=Ee.weeks=qW;Ee.isoWeek=Ee.isoWeeks=zW;Ee.weeksInYear=aK;Ee.weeksInWeekYear=oK;Ee.isoWeeksInYear=nK;Ee.isoWeeksInISOWeekYear=iK;Ee.date=fk;Ee.day=Ee.days=r7;Ee.weekday=n7;Ee.isoWeekday=i7;Ee.dayOfYear=uK;Ee.hour=Ee.hours=f7;Ee.minute=Ee.minutes=cK;Ee.second=Ee.seconds=fK;Ee.millisecond=Ee.milliseconds=dk;Ee.utcOffset=W7;Ee.utc=K7;Ee.local=J7;Ee.parseZone=Q7;Ee.hasAlignedHourOffset=X7;Ee.isDST=Z7;Ee.isLocal=tY;Ee.isUtcOffset=rY;Ee.isUtc=ek;Ee.isUTC=ek;Ee.zoneAbbr=pK;Ee.zoneName=hK;Ee.dates=Ci("dates accessor is deprecated. Use date instead.",fk);Ee.months=Ci("months accessor is deprecated. Use month instead",BT);Ee.years=Ci("years accessor is deprecated. Use year instead",$T);Ee.zone=Ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Y7);Ee.isDSTShifted=Ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",eY);function vK(t){return yr(t*1e3)}function gK(){return yr.apply(null,arguments).parseZone()}function pk(t){return t}var Vt=ny.prototype;Vt.calendar=tW;Vt.longDateFormat=aW;Vt.invalidDate=sW;Vt.ordinal=cW;Vt.preparse=pk;Vt.postformat=pk;Vt.relativeTime=dW;Vt.pastFuture=pW;Vt.set=ZG;Vt.eras=qY;Vt.erasParse=zY;Vt.erasConvertYear=HY;Vt.erasAbbrRegex=JY;Vt.erasNameRegex=KY;Vt.erasNarrowRegex=QY;Vt.months=AW;Vt.monthsShort=jW;Vt.monthsParse=FW;Vt.monthsRegex=$W;Vt.monthsShortRegex=RW;Vt.week=DW;Vt.firstDayOfYear=BW;Vt.firstDayOfWeek=VW;Vt.weekdays=QW;Vt.weekdaysMin=ZW;Vt.weekdaysShort=XW;Vt.weekdaysParse=t7;Vt.weekdaysRegex=a7;Vt.weekdaysShortRegex=o7;Vt.weekdaysMinRegex=s7;Vt.isPM=u7;Vt.meridiem=d7;function Rd(t,e,r,n){var i=Ya(),a=wa().set(n,e);return i[r](a,t)}function hk(t,e,r){if(Ha(t)&&(e=t,t=void 0),t=t||"",e!=null)return Rd(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Rd(t,n,r,"month");return i}function Sy(t,e,r,n){typeof t=="boolean"?(Ha(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Ha(e)&&(r=e,e=void 0),e=e||"");var i=Ya(),a=t?i._week.dow:0,o,s=[];if(r!=null)return Rd(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=Rd(e,(o+a)%7,n,"day");return s}function mK(t,e){return hk(t,e,"months")}function yK(t,e){return hk(t,e,"monthsShort")}function bK(t,e,r){return Sy(t,e,r,"weekdays")}function _K(t,e,r){return Sy(t,e,r,"weekdaysShort")}function SK(t,e,r){return Sy(t,e,r,"weekdaysMin")}mo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=Ot(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});je.lang=Ci("moment.lang is deprecated. Use moment.locale instead.",mo);je.langData=Ci("moment.langData is deprecated. Use moment.localeData instead.",Ya);var Fa=Math.abs;function OK(){var t=this._data;return this._milliseconds=Fa(this._milliseconds),this._days=Fa(this._days),this._months=Fa(this._months),t.milliseconds=Fa(t.milliseconds),t.seconds=Fa(t.seconds),t.minutes=Fa(t.minutes),t.hours=Fa(t.hours),t.months=Fa(t.months),t.years=Fa(t.years),this}function vk(t,e,r,n){var i=Ki(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function xK(t,e){return vk(this,t,e,1)}function wK(t,e){return vk(this,t,e,-1)}function oS(t){return t<0?Math.floor(t):Math.ceil(t)}function EK(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,o,s,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=oS(og(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=ui(t/1e3),n.seconds=i%60,a=ui(i/60),n.minutes=a%60,o=ui(a/60),n.hours=o%24,e+=ui(o/24),l=ui(gk(e)),r+=l,e-=oS(og(l)),s=ui(r/12),r%=12,n.days=e,n.months=r,n.years=s,this}function gk(t){return t*4800/146097}function og(t){return t*146097/4800}function CK(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=Ti(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+gk(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(og(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Ka(t){return function(){return this.as(t)}}var mk=Ka("ms"),TK=Ka("s"),kK=Ka("m"),IK=Ka("h"),AK=Ka("d"),jK=Ka("w"),PK=Ka("M"),FK=Ka("Q"),LK=Ka("y"),RK=mk;function $K(){return Ki(this)}function NK(t){return t=Ti(t),this.isValid()?this[t+"s"]():NaN}function gs(t){return function(){return this.isValid()?this._data[t]:NaN}}var DK=gs("milliseconds"),MK=gs("seconds"),VK=gs("minutes"),BK=gs("hours"),qK=gs("days"),zK=gs("months"),HK=gs("years");function UK(){return ui(this.days()/7)}var Na=Math.round,fl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function GK(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function WK(t,e,r,n){var i=Ki(t).abs(),a=Na(i.as("s")),o=Na(i.as("m")),s=Na(i.as("h")),l=Na(i.as("d")),u=Na(i.as("M")),c=Na(i.as("w")),f=Na(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,GK.apply(null,d)}function YK(t){return t===void 0?Na:typeof t=="function"?(Na=t,!0):!1}function KK(t,e){return fl[t]===void 0?!1:e===void 0?fl[t]:(fl[t]=e,t==="s"&&(fl.ss=e-1),!0)}function JK(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=fl,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},fl,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=WK(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var Xh=Math.abs;function Rs(t){return(t>0)-(t<0)||+t}function Vp(){if(!this.isValid())return this.localeData().invalidDate();var t=Xh(this._milliseconds)/1e3,e=Xh(this._days),r=Xh(this._months),n,i,a,o,s=this.asSeconds(),l,u,c,f;return s?(n=ui(t/60),i=ui(n/60),t%=60,n%=60,a=ui(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=Rs(this._months)!==Rs(s)?"-":"",c=Rs(this._days)!==Rs(s)?"-":"",f=Rs(this._milliseconds)!==Rs(s)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(e?c+e+"D":"")+(i||n||t?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(t?f+o+"S":"")):"P0D"}var Ft=Dp.prototype;Ft.isValid=z7;Ft.abs=OK;Ft.add=xK;Ft.subtract=wK;Ft.as=CK;Ft.asMilliseconds=mk;Ft.asSeconds=TK;Ft.asMinutes=kK;Ft.asHours=IK;Ft.asDays=AK;Ft.asWeeks=jK;Ft.asMonths=PK;Ft.asQuarters=FK;Ft.asYears=LK;Ft.valueOf=RK;Ft._bubble=EK;Ft.clone=$K;Ft.get=NK;Ft.milliseconds=DK;Ft.seconds=MK;Ft.minutes=VK;Ft.hours=BK;Ft.days=qK;Ft.weeks=UK;Ft.months=zK;Ft.years=HK;Ft.humanize=JK;Ft.toISOString=Vp;Ft.toString=Vp;Ft.toJSON=Vp;Ft.locale=ik;Ft.localeData=ok;Ft.toIsoString=Ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vp);Ft.lang=ak;Ye("X",0,0,"unix");Ye("x",0,0,"valueOf");$e("x",Lp);$e("X",mW);tr("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});tr("x",function(t,e,r){r._d=new Date(Ot(t))});//! moment.js
je.version="2.30.1";QG(yr);je.fn=Ee;je.min=M7;je.max=V7;je.now=B7;je.utc=wa;je.unix=vK;je.months=mK;je.isDate=$c;je.locale=mo;je.invalid=Ap;je.duration=Ki;je.isMoment=Bi;je.weekdays=bK;je.parseZone=gK;je.localeData=Ya;je.isDuration=ud;je.monthsShort=yK;je.weekdaysMin=SK;je.defineLocale=py;je.updateLocale=g7;je.locales=m7;je.weekdaysShort=_K;je.normalizeUnits=Ti;je.relativeTimeRounding=YK;je.relativeTimeThreshold=KK;je.calendarFormat=dY;je.prototype=Ee;je.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const QK={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class XK{constructor({locale:e,formats:r,instance:n}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=i=>{var a,o;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return(o=(a=i.match(s))===null||a===void 0?void 0:a.map(l=>{const u=l[0];return u==="L"||u===";"?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(l):l}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:i},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=i=>this.moment(i,!0),this.toISO=i=>i.toISOString(),this.parse=(i,a)=>i===""?null:this.locale?this.moment(i,a,this.locale,!0):this.moment(i,a,!0),this.date=i=>{if(i===null)return null;const a=this.moment(i);return this.locale&&a.locale(this.locale),a},this.toJsDate=i=>i.toDate(),this.isValid=i=>this.moment(i).isValid(),this.isNull=i=>i===null,this.getDiff=(i,a,o)=>this.moment(a).isValid()?i.diff(a,o):0,this.isAfter=(i,a)=>i.isAfter(a),this.isBefore=(i,a)=>i.isBefore(a),this.isAfterDay=(i,a)=>i.isAfter(a,"day"),this.isBeforeDay=(i,a)=>i.isBefore(a,"day"),this.isBeforeMonth=(i,a)=>i.isBefore(a,"month"),this.isAfterMonth=(i,a)=>i.isAfter(a,"month"),this.isBeforeYear=(i,a)=>i.isBefore(a,"year"),this.isAfterYear=(i,a)=>i.isAfter(a,"year"),this.startOfDay=i=>i.clone().startOf("day"),this.endOfDay=i=>i.clone().endOf("day"),this.format=(i,a)=>this.formatByString(i,this.formats[a]),this.formatByString=(i,a)=>{const o=i.clone();return this.locale&&o.locale(this.locale),o.format(a)},this.formatNumber=i=>i,this.getHours=i=>i.get("hours"),this.addSeconds=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"seconds"):i.clone().add(a,"seconds"),this.addMinutes=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"minutes"):i.clone().add(a,"minutes"),this.addHours=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"hours"):i.clone().add(a,"hours"),this.addDays=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"days"):i.clone().add(a,"days"),this.addWeeks=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"weeks"):i.clone().add(a,"weeks"),this.addMonths=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"months"):i.clone().add(a,"months"),this.addYears=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"years"):i.clone().add(a,"years"),this.setHours=(i,a)=>i.clone().hours(a),this.getMinutes=i=>i.get("minutes"),this.setMinutes=(i,a)=>i.clone().minutes(a),this.getSeconds=i=>i.get("seconds"),this.setSeconds=(i,a)=>i.clone().seconds(a),this.getMonth=i=>i.get("month"),this.getDaysInMonth=i=>i.daysInMonth(),this.isSameDay=(i,a)=>i.isSame(a,"day"),this.isSameMonth=(i,a)=>i.isSame(a,"month"),this.isSameYear=(i,a)=>i.isSame(a,"year"),this.isSameHour=(i,a)=>i.isSame(a,"hour"),this.setMonth=(i,a)=>i.clone().month(a),this.getMeridiemText=i=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem(i==="am"?0:13,0,!1):i==="am"?"AM":"PM",this.startOfYear=i=>i.clone().startOf("year"),this.endOfYear=i=>i.clone().endOf("year"),this.startOfMonth=i=>i.clone().startOf("month"),this.endOfMonth=i=>i.clone().endOf("month"),this.startOfWeek=i=>i.clone().startOf("week"),this.endOfWeek=i=>i.clone().endOf("week"),this.getNextMonth=i=>i.clone().add(1,"month"),this.getPreviousMonth=i=>i.clone().subtract(1,"month"),this.getMonthArray=i=>{const o=[i.clone().startOf("year")];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.getYear=i=>i.get("year"),this.setYear=(i,a)=>i.clone().set("year",a),this.getDate=i=>i.get("date"),this.setDate=(i,a)=>i.clone().set("date",a),this.mergeDateAndTime=(i,a)=>i.hour(a.hour()).minute(a.minute()).second(a.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(i,a)=>i===null&&a===null?!0:this.moment(i).isSame(a),this.getWeekArray=i=>{const a=i.clone().startOf("month").startOf("week"),o=i.clone().endOf("month").endOf("week");let s=0,l=a;const u=[];for(;l.isBefore(o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=l.clone().add(1,"day"),s+=1}return u},this.getYearRange=(i,a)=>{const o=this.moment(i).startOf("year"),s=this.moment(a).endOf("year"),l=[];let u=o;for(;u.isBefore(s);)l.push(u),u=u.clone().add(1,"year");return l},this.isWithinRange=(i,[a,o])=>i.isBetween(a,o,null,"[]"),this.moment=n||je,this.locale=e,this.formats=Object.assign({},QK,r)}}const ZK="@mui/x-date-pickers",eJ="5.0.20",tJ="The community edition of the date picker components (MUI X).",rJ="MUI Team",nJ="./node/index.js",iJ="MIT",aJ={url:"https://github.com/mui/mui-x/issues"},oJ="https://mui.com/x/react-date-pickers/getting-started/",sJ={type:"opencollective",url:"https://opencollective.com/mui"},lJ=!1,uJ={access:"public"},cJ=["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],fJ={type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},dJ={"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},pJ={"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},hJ={"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},vJ=["<rootDir>/src/setupTests.js"],gJ={node:">=12.0.0"},mJ="./index.js",yJ="./index.d.ts",bi={name:ZK,version:eJ,description:tJ,author:rJ,main:nJ,license:iJ,bugs:aJ,homepage:oJ,funding:sJ,sideEffects:lJ,publishConfig:uJ,keywords:cJ,repository:fJ,dependencies:dJ,peerDependencies:pJ,peerDependenciesMeta:hJ,setupFiles:vJ,engines:gJ,private:!1,module:mJ,types:yJ},bJ=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.customProps,o=t.maxLength;t.errorMessage;var s=J.useCallback(function(u){var c=u.target.value;c===""&&(c=void 0),r(c)},[r]),l=e||"";return j.createElement(Dr,null,j.createElement(Zt,oe({variant:"standard",value:l,placeholder:n?"":i,InputProps:{readOnly:n},inputProps:{maxLength:o},disabled:n,onChange:s,size:"small"},a)))},_J=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.maxRows,u=t.fullWidth,c=n.settings.defaultMaxRows,f=function(v){var h=v.target.value;h===""&&(h=void 0),r(h)},d=e||"";return j.createElement(Dr,{fullWidth:u},j.createElement(Zt,oe({variant:"standard",fullWidth:u,maxRows:l||c,multiline:!0,value:d,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:f,size:"small"},o)))};function SJ(t){if(Array.isArray(t))return ZL(t)}function OJ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(t){return SJ(t)||eR(t)||tR(t)||OJ()}var Vc="delete",vr=5,gi=1<<vr,Pn=gi-1,It={};function sg(){return{value:!1}}function mi(t){t&&(t.value=!0)}function Oy(){}function Cl(t){return t.size===void 0&&(t.size=t.__iterate(yk)),t.size}function xo(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Cl(t)+e:e}function yk(){return!0}function Bc(t,e,r){return(t===0&&!_k(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Xl(t,e){return bk(t,e,0)}function qc(t,e){return bk(t,e,e)}function bk(t,e,r){return t===void 0?r:_k(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function _k(t){return t<0||t===0&&1/t===-1/0}var Sk="@@__IMMUTABLE_ITERABLE__@@";function Ln(t){return!!(t&&t[Sk])}var Ok="@@__IMMUTABLE_KEYED__@@";function sr(t){return!!(t&&t[Ok])}var xk="@@__IMMUTABLE_INDEXED__@@";function _n(t){return!!(t&&t[xk])}function zc(t){return sr(t)||_n(t)}var jr=function(e){return Ln(e)?e:$n(e)},ki=function(t){function e(r){return sr(r)?r:Ro(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jr),ms=function(t){function e(r){return _n(r)?r:Ai(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jr),Zl=function(t){function e(r){return Ln(r)&&!zc(r)?r:ru(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jr);jr.Keyed=ki;jr.Indexed=ms;jr.Set=Zl;var wk="@@__IMMUTABLE_SEQ__@@";function Bp(t){return!!(t&&t[wk])}var Ek="@@__IMMUTABLE_RECORD__@@";function ys(t){return!!(t&&t[Ek])}function Ii(t){return Ln(t)||ys(t)}var eu="@@__IMMUTABLE_ORDERED__@@";function _i(t){return!!(t&&t[eu])}var Hc=0,qi=1,xi=2,lg=typeof Symbol=="function"&&Symbol.iterator,Ck="@@iterator",qp=lg||Ck,Mt=function(e){this.next=e};Mt.prototype.toString=function(){return"[Iterator]"};Mt.KEYS=Hc;Mt.VALUES=qi;Mt.ENTRIES=xi;Mt.prototype.inspect=Mt.prototype.toSource=function(){return this.toString()};Mt.prototype[qp]=function(){return this};function mr(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Rn(){return{value:void 0,done:!0}}function xy(t){return Array.isArray(t)?!0:!!zp(t)}function sS(t){return t&&typeof t.next=="function"}function ug(t){var e=zp(t);return e&&e.call(t)}function zp(t){var e=t&&(lg&&t[lg]||t[Ck]);if(typeof e=="function")return e}function xJ(t){var e=zp(t);return e&&e===t.entries}function wJ(t){var e=zp(t);return e&&e===t.keys}var tu=Object.prototype.hasOwnProperty;function wy(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var $n=function(t){function e(r){return r==null?Cy():Ii(r)?r.toSeq():CJ(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new Mt(function(){if(s===o)return Rn();var l=a[i?o-++s:s++];return mr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},e}(jr),Ro=function(t){function e(r){return r==null?Cy().toKeyedSeq():Ln(r)?sr(r)?r.toSeq():r.fromEntrySeq():ys(r)?r.toSeq():Ty(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}($n),Ai=function(t){function e(r){return r==null?Cy():Ln(r)?sr(r)?r.entrySeq():r.toIndexedSeq():ys(r)?r.toSeq().entrySeq():Tk(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}($n),ru=function(t){function e(r){return(Ln(r)&&!zc(r)?r:Ai(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}($n);$n.isSeq=Bp;$n.Keyed=Ro;$n.Set=ru;$n.Indexed=Ai;$n.prototype[wk]=!0;var ts=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[xo(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},e.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new Mt(function(){if(s===o)return Rn();var l=i?o-++s:s++;return mr(n,l,a[l])})},e}(Ai),Ey=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return tu.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},e.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new Mt(function(){if(l===s)return Rn();var u=o[i?s-++l:l++];return mr(n,u,a[u])})},e}(Ro);Ey.prototype[eu]=!0;var EJ=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=ug(a),s=0;if(sS(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=ug(a);if(!sS(o))return new Mt(Rn);var s=0;return new Mt(function(){var l=o.next();return l.done?l:mr(n,s++,l.value)})},e}(Ai),lS;function Cy(){return lS||(lS=new ts([]))}function Ty(t){var e=ky(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Ey(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Tk(t){var e=ky(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function CJ(t){var e=ky(t);if(e)return xJ(t)?e.fromEntrySeq():wJ(t)?e.toSetSeq():e;if(typeof t=="object")return new Ey(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function ky(t){return wy(t)?new ts(t):xy(t)?new EJ(t):void 0}var kk="@@__IMMUTABLE_MAP__@@";function Hp(t){return!!(t&&t[kk])}function Iy(t){return Hp(t)&&_i(t)}function cg(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function sn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(cg(t)&&cg(e)&&t.equals(e))}var Tu=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Up(t){return t>>>1&1073741824|t&3221225471}var TJ=Object.prototype.valueOf;function zn(t){if(t==null)return uS(t);if(typeof t.hashCode=="function")return Up(t.hashCode(t));var e=FJ(t);if(e==null)return uS(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return kJ(e);case"string":return e.length>LJ?IJ(e):fg(e);case"object":case"function":return jJ(e);case"symbol":return AJ(e);default:if(typeof e.toString=="function")return fg(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function uS(t){return t===null?1108378658:1108378659}function kJ(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Up(e)}function IJ(t){var e=tv[t];return e===void 0&&(e=fg(t),ev===RJ&&(ev=0,tv={}),ev++,tv[t]=e),e}function fg(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Up(e)}function AJ(t){var e=dS[t];return e!==void 0||(e=Ik(),dS[t]=e),e}function jJ(t){var e;if(dg&&(e=pg.get(t),e!==void 0)||(e=t[Uo],e!==void 0)||!fS&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Uo],e!==void 0||(e=PJ(t),e!==void 0)))return e;if(e=Ik(),dg)pg.set(t,e);else{if(cS!==void 0&&cS(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(fS)Object.defineProperty(t,Uo,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Uo]=e;else if(t.nodeType!==void 0)t[Uo]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var cS=Object.isExtensible,fS=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function PJ(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function FJ(t){return t.valueOf!==TJ&&typeof t.valueOf=="function"?t.valueOf(t):t}function Ik(){var t=++Zh;return Zh&1073741824&&(Zh=0),t}var dg=typeof WeakMap=="function",pg;dg&&(pg=new WeakMap);var dS=Object.create(null),Zh=0,Uo="__immutablehash__";typeof Symbol=="function"&&(Uo=Symbol(Uo));var LJ=16,RJ=255,ev=0,tv={},Gp=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=Ay(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,o=Lk(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Ro);Gp.prototype[eu]=!0;var Ak=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Cl(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(qi,i),s=0;return i&&Cl(this),new Mt(function(){var l=o.next();return l.done?l:mr(n,i?a.size-++s:s++,l.value,l)})},e}(Ai),jk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(qi,i);return new Mt(function(){var o=a.next();return o.done?o:mr(n,o.value,o.value,o)})},e}(ru),Pk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){hS(o);var s=Ln(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(qi,i);return new Mt(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){hS(s);var l=Ln(s);return mr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},e}(Ro);Ak.prototype.cacheResult=Gp.prototype.cacheResult=jk.prototype.cacheResult=Pk.prototype.cacheResult=Fy;function Fk(t){var e=Ca(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=Fy,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,o){return r(o,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===xi){var i=t.__iterator(r,n);return new Mt(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return t.__iterator(r===qi?Hc:qi,n)},e}function Lk(t,e,r){var n=Ca(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var o=t.get(i,It);return o===It?a:e.call(r,o,i,t)},n.__iterateUncached=function(i,a){var o=this;return t.__iterate(function(s,l,u){return i(e.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=t.__iterator(xi,a);return new Mt(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return mr(i,u,e.call(r,l[1],u,t),s)})},n}function Ay(t,e){var r=this,n=Ca(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=Fk(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=Fy,n.__iterate=function(i,a){var o=this,s=0;return a&&Cl(t),t.__iterate(function(l,u){return i(l,e?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Cl(t);var s=t.__iterator(xi,!a);return new Mt(function(){var l=s.next();if(l.done)return l;var u=l.value;return mr(i,e?u[0]:a?r.size-++o:o++,u[1],l)})},n}function Rk(t,e,r,n){var i=Ca(t);return n&&(i.has=function(a){var o=t.get(a,It);return o!==It&&!!e.call(r,o,a,t)},i.get=function(a,o){var s=t.get(a,It);return s!==It&&e.call(r,s,a,t)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return t.__iterate(function(u,c,f){if(e.call(r,u,c,f))return l++,a(u,n?c:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=t.__iterator(xi,o),l=0;return new Mt(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];if(e.call(r,d,f,t))return mr(a,n?f:l++,d,u)}})},i}function $J(t,e,r){var n=ur().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(o){return o+1})}),n.asImmutable()}function NJ(t,e,r){var n=sr(t),i=(_i(t)?ma():ur()).asMutable();t.__iterate(function(o,s){i.update(e.call(r,o,s,t),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=Py(t);return i.map(function(o){return nr(t,a(o))}).asImmutable()}function DJ(t,e,r){var n=sr(t),i=[[],[]];t.__iterate(function(o,s){i[e.call(r,o,s,t)?1:0].push(n?[s,o]:o)});var a=Py(t);return i.map(function(o){return nr(t,a(o))})}function jy(t,e,r,n){var i=t.size;if(Bc(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return jy(t.toSeq().cacheResult(),e,r,n);var a=Xl(e,i),o=qc(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=Ca(t);return u.size=l===0?l:t.size&&l||void 0,!n&&Bp(t)&&l>=0&&(u.get=function(c,f){return c=xo(this,c),c>=0&&c<l?t.get(c+a,f):f}),u.__iterateUncached=function(c,f){var d=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var p=0,v=!0,h=0;return t.__iterate(function(g,y){if(!(v&&(v=p++<a)))return h++,c(g,n?y:h-1,d)!==!1&&h!==l}),h},u.__iteratorUncached=function(c,f){if(l!==0&&f)return this.cacheResult().__iterator(c,f);if(l===0)return new Mt(Rn);var d=t.__iterator(c,f),p=0,v=0;return new Mt(function(){for(;p++<a;)d.next();if(++v>l)return Rn();var h=d.next();return n||c===qi||h.done?h:c===Hc?mr(c,v-1,void 0,h):mr(c,v-1,h.value[1],h)})},u}function MJ(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return t.__iterate(function(l,u,c){return e.call(r,l,u,c)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(xi,a),l=!0;return new Mt(function(){if(!l)return Rn();var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];return e.call(r,d,f,o)?i===xi?u:mr(i,f,d,u):(l=!1,Rn())})},n}function $k(t,e,r,n){var i=Ca(t);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return t.__iterate(function(c,f,d){if(!(l&&(l=e.call(r,c,f,d))))return u++,a(c,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=t.__iterator(xi,o),u=!0,c=0;return new Mt(function(){var f,d,p;do{if(f=l.next(),f.done)return n||a===qi?f:a===Hc?mr(a,c++,void 0,f):mr(a,c++,f.value[1],f);var v=f.value;d=v[0],p=v[1],u&&(u=e.call(r,p,d,s))}while(u);return a===xi?f:mr(a,d,p,f)})},i}function VJ(t,e){var r=sr(t),n=[t].concat(e).map(function(o){return Ln(o)?r&&(o=ki(o)):o=r?Ty(o):Tk(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&sr(i)||_n(t)&&_n(i))return i}var a=new ts(n);return r?a=a.toKeyedSeq():_n(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function Nk(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,c){u.__iterate(function(f,d){return(!e||c<e)&&Ln(f)?l(f,c+1):(o++,i(f,r?d:o-1,n)===!1&&(s=!0)),!s},a)}return l(t,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(i,a),s=[],l=0;return new Mt(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var c=u.value;if(i===xi&&(c=c[1]),(!e||s.length<e)&&Ln(c))s.push(o),o=c.__iterator(i,a);else return r?u:mr(i,l++,c,u)}return Rn()})},n}function BJ(t,e,r){var n=Py(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function qJ(t,e){var r=Ca(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return t.__iterate(function(s){return(!o||n(e,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=t.__iterator(qi,i),o=0,s;return new Mt(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?mr(n,o++,e):mr(n,o++,s.value,s)})},r}function Tl(t,e,r){e||(e=Dk);var n=sr(t),i=0,a=t.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,t):o]}).valueSeq().toArray();return a.sort(function(o,s){return e(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Ro(a):_n(t)?Ai(a):ru(a)}function $f(t,e,r){if(e||(e=Dk),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return pS(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return pS(e,i,a)?a:i})}function pS(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function Nf(t,e,r,n){var i=Ca(t),a=new ts(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(qi,s),u,c=0;!(u=l.next()).done&&o(u.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,s){var l=r.map(function(f){return f=jr(f),ug(s?f.reverse():f)}),u=0,c=!1;return new Mt(function(){var f;return c||(f=l.map(function(d){return d.next()}),c=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),c?Rn():mr(o,u++,e.apply(null,f.map(function(d){return d.value})))})},i}function nr(t,e){return t===e?t:Bp(t)?e:t.constructor(e)}function hS(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Py(t){return sr(t)?ki:_n(t)?ms:Zl}function Ca(t){return Object.create((sr(t)?Ro:_n(t)?Ai:ru).prototype)}function Fy(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$n.prototype.cacheResult.call(this)}function Dk(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function sa(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function Ly(t,e){if(!t)throw new Error(e)}function Qn(t){Ly(t!==1/0,"Cannot perform this action with an infinite size.")}function Mk(t){if(wy(t)&&typeof t!="string")return t;if(_i(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var zJ=Object.prototype.toString;function Ry(t){if(!t||typeof t!="object"||zJ.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function wo(t){return typeof t=="object"&&(Ii(t)||Array.isArray(t)||Ry(t))}function pc(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Vk(t,e){return Ii(t)?t.has(e):wo(t)&&tu.call(t,e)}function $y(t,e,r){return Ii(t)?t.get(e,r):Vk(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function $d(t){if(Array.isArray(t))return sa(t);var e={};for(var r in t)tu.call(t,r)&&(e[r]=t[r]);return e}function Bk(t,e){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!tu.call(t,e))return t;var r=$d(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function qk(t,e,r){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(tu.call(t,e)&&r===t[e])return t;var n=$d(t);return n[e]=r,n}function bs(t,e,r,n){n||(n=r,r=void 0);var i=zk(Ii(t),t,Mk(e),0,r,n);return i===It?r:i}function zk(t,e,r,n,i,a){var o=e===It;if(n===r.length){var s=o?i:e,l=a(s);return l===s?e:l}if(!o&&!wo(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(pc)+"]: "+e);var u=r[n],c=o?It:$y(e,u,It),f=zk(c===It?t:Ii(c),c,r,n+1,i,a);return f===c?e:f===It?Bk(e,u):qk(o?t?Ri():{}:e,u,f)}function Hk(t,e,r){return bs(t,e,It,function(){return r})}function Ny(t,e){return Hk(this,t,e)}function Uk(t,e){return bs(t,e,function(){return It})}function Dy(t){return Uk(this,t)}function My(t,e,r,n){return bs(t,[e],r,n)}function Vy(t,e,r){return arguments.length===1?t(this):My(this,t,e,r)}function By(t,e,r){return bs(this,t,e,r)}function Gk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Yk(this,t)}function Wk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Yk(this,e,t)}function Yk(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=ki(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var s=r?function(u,c){My(o,c,It,function(f){return f===It?u:r(f,u,c)})}:function(u,c){o.set(c,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function HJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Gc(t,e)}function UJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Gc(e,r,t)}function GJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Uc(t,e)}function WJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Uc(e,r,t)}function Uc(t,e,r){return Gc(t,e,YJ(r))}function Gc(t,e,r){if(!wo(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Ii(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?ms:ki,o=n?function(l){i===t&&(i=$d(i)),i.push(l)}:function(l,u){var c=tu.call(i,u),f=c&&r?r(i[u],l,u):l;(!c||f!==i[u])&&(i===t&&(i=$d(i)),i[u]=f)},s=0;s<e.length;s++)a(e[s]).forEach(o);return i}function YJ(t){function e(r,n,i){return wo(r)&&wo(n)&&KJ(r,n)?Gc(r,[n],e):t?t(r,n,i):n}return e}function KJ(t,e){var r=$n(t),n=$n(e);return _n(r)===_n(n)&&sr(r)===sr(n)}function Kk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Uc(this,t)}function Jk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Uc(this,e,t)}function qy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return bs(this,t,Ri(),function(n){return Gc(n,e)})}function zy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return bs(this,t,Ri(),function(n){return Uc(n,e)})}function Wc(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Yc(){return this.__ownerID?this:this.__ensureOwner(new Oy)}function Kc(){return this.__ensureOwner()}function Hy(){return this.__altered}var ur=function(t){function e(r){return r==null?Ri():Hp(r)&&!_i(r)?r:Ri().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ri().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return mS(this,n,i)},e.prototype.remove=function(n){return mS(this,n,It)},e.prototype.deleteAll=function(n){var i=jr(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ri()},e.prototype.sort=function(n){return ma(Tl(this,n))},e.prototype.sortBy=function(n,i){return ma(Tl(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},e.prototype.__iterator=function(n,i){return new JJ(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Uy(this.size,this._root,n,this.__hash):this.size===0?Ri():(this.__ownerID=n,this.__altered=!1,this)},e}(ki);ur.isMap=Hp;var br=ur.prototype;br[kk]=!0;br[Vc]=br.remove;br.removeAll=br.deleteAll;br.setIn=Ny;br.removeIn=br.deleteIn=Dy;br.update=Vy;br.updateIn=By;br.merge=br.concat=Gk;br.mergeWith=Wk;br.mergeDeep=Kk;br.mergeDeepWith=Jk;br.mergeIn=qy;br.mergeDeepIn=zy;br.withMutations=Wc;br.wasAltered=Hy;br.asImmutable=Kc;br["@@transducer/init"]=br.asMutable=Yc;br["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};br["@@transducer/result"]=function(t){return t.asImmutable()};var hc=function(e,r){this.ownerID=e,this.entries=r};hc.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(sn(n,a[o][0]))return a[o][1];return i};hc.prototype.update=function(e,r,n,i,a,o,s){for(var l=a===It,u=this.entries,c=0,f=u.length;c<f&&!sn(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),!(l&&u.length===1)){if(!d&&!l&&u.length>=rQ)return QJ(e,u,i,a);var p=e&&e===this.ownerID,v=p?u:sa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new hc(e,v)}};var kl=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};kl.prototype.get=function(e,r,n,i){r===void 0&&(r=zn(n));var a=1<<((e===0?r:r>>>e)&Pn),o=this.bitmap;return o&a?this.nodes[Qk(o&a-1)].get(e+vr,r,n,i):i};kl.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=zn(i));var l=(r===0?n:n>>>r)&Pn,u=1<<l,c=this.bitmap,f=(c&u)!==0;if(!f&&a===It)return this;var d=Qk(c&u-1),p=this.nodes,v=f?p[d]:void 0,h=Gy(v,e,r+vr,n,i,a,o,s);if(h===v)return this;if(!f&&h&&p.length>=nQ)return ZJ(e,p,c,l,h);if(f&&!h&&p.length===2&&yS(p[d^1]))return p[d^1];if(f&&h&&p.length===1&&yS(h))return h;var g=e&&e===this.ownerID,y=f?h?c:c^u:c|u,m=f?h?Xk(p,d,h,g):tQ(p,d,g):eQ(p,d,h,g);return g?(this.bitmap=y,this.nodes=m,this):new kl(e,y,m)};var vc=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};vc.prototype.get=function(e,r,n,i){r===void 0&&(r=zn(n));var a=(e===0?r:r>>>e)&Pn,o=this.nodes[a];return o?o.get(e+vr,r,n,i):i};vc.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=zn(i));var l=(r===0?n:n>>>r)&Pn,u=a===It,c=this.nodes,f=c[l];if(u&&!f)return this;var d=Gy(f,e,r+vr,n,i,a,o,s);if(d===f)return this;var p=this.count;if(!f)p++;else if(!d&&(p--,p<iQ))return XJ(e,c,p,l);var v=e&&e===this.ownerID,h=Xk(c,l,d,v);return v?(this.count=p,this.nodes=h,this):new vc(e,p,h)};var Il=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Il.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(sn(n,a[o][0]))return a[o][1];return i};Il.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=zn(i));var l=a===It;if(n!==this.keyHash)return l?this:(mi(s),mi(o),Wy(this,e,r,n,[i,a]));for(var u=this.entries,c=0,f=u.length;c<f&&!sn(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),l&&f===2)return new Ua(e,this.keyHash,u[c^1]);var p=e&&e===this.ownerID,v=p?u:sa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new Il(e,this.keyHash,v)};var Ua=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Ua.prototype.get=function(e,r,n,i){return sn(n,this.entry[0])?this.entry[1]:i};Ua.prototype.update=function(e,r,n,i,a,o,s){var l=a===It,u=sn(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(mi(s),l){mi(o);return}return u?e&&e===this.ownerID?(this.entry[1]=a,this):new Ua(e,this.keyHash,[i,a]):(mi(o),Wy(this,e,r,zn(i),[i,a]))};hc.prototype.iterate=Il.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};kl.prototype.iterate=vc.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};Ua.prototype.iterate=function(t,e){return t(this.entry)};var JJ=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&vS(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return rv(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return rv(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return rv(n,l.entry);i=this._stack=vS(l,i)}continue}i=this._stack=this._stack.__prev}return Rn()},e}(Mt);function rv(t,e){return mr(t,e[0],e[1])}function vS(t,e){return{node:t,index:0,__prev:e}}function Uy(t,e,r,n){var i=Object.create(br);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var gS;function Ri(){return gS||(gS=Uy(0))}function mS(t,e,r){var n,i;if(t._root){var a=sg(),o=sg();if(n=Gy(t._root,t.__ownerID,0,void 0,e,r,a,o),!o.value)return t;i=t.size+(a.value?r===It?-1:1:0)}else{if(r===It)return t;i=1,n=new hc(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Uy(i,n):Ri()}function Gy(t,e,r,n,i,a,o,s){return t?t.update(e,r,n,i,a,o,s):a===It?t:(mi(s),mi(o),new Ua(e,n,[i,a]))}function yS(t){return t.constructor===Ua||t.constructor===Il}function Wy(t,e,r,n,i){if(t.keyHash===n)return new Il(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&Pn,o=(r===0?n:n>>>r)&Pn,s,l=a===o?[Wy(t,e,r+vr,n,i)]:(s=new Ua(e,n,i),a<o?[t,s]:[s,t]);return new kl(e,1<<a|1<<o,l)}function QJ(t,e,r,n){t||(t=new Oy);for(var i=new Ua(t,zn(r),[r,n]),a=0;a<e.length;a++){var o=e[a];i=i.update(t,0,void 0,o[0],o[1])}return i}function XJ(t,e,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];c!==void 0&&s!==n&&(i|=l,o[a++]=c)}return new kl(t,i,o)}function ZJ(t,e,r,n,i){for(var a=0,o=new Array(gi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?e[a++]:void 0;return o[n]=i,new vc(t,a+1,o)}function Qk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Xk(t,e,r,n){var i=n?t:sa(t);return i[e]=r,i}function eQ(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),o=0,s=0;s<i;s++)s===e?(a[s]=r,o=-1):a[s]=t[s+o];return a}function tQ(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,o=0;o<n;o++)o===e&&(a=1),i[o]=t[o+a];return i}var rQ=gi/4,nQ=gi/2,iQ=gi/4,Zk="@@__IMMUTABLE_LIST__@@";function Yy(t){return!!(t&&t[Zk])}var Ji=function(t){function e(r){var n=fd();if(r==null)return n;if(Yy(r))return r;var i=t(r),a=i.size;return a===0?n:(Qn(a),a>0&&a<gi?gc(0,a,vr,null,new yo(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=xo(this,n),n>=0&&n<this.size){n+=this._origin;var a=eI(this,n);return a&&a.array[n&Pn]}return i},e.prototype.set=function(n,i){return aQ(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=vr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):fd()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){so(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},e.prototype.pop=function(){return so(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){so(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return so(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=t(typeof o!="string"&&xy(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(n){return so(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},e.prototype.slice=function(n,i){var a=this.size;return Bc(n,i,a)?this:so(this,Xl(n,a),qc(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,o=bS(this,i);return new Mt(function(){var s=o();return s===Ju?Rn():mr(n,i?--a:a++,s)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=bS(this,i),s;(s=o())!==Ju&&n(s,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?gc(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?fd():(this.__ownerID=n,this.__altered=!1,this)},e}(ms);Ji.isList=Yy;var Hr=Ji.prototype;Hr[Zk]=!0;Hr[Vc]=Hr.remove;Hr.merge=Hr.concat;Hr.setIn=Ny;Hr.deleteIn=Hr.removeIn=Dy;Hr.update=Vy;Hr.updateIn=By;Hr.mergeIn=qy;Hr.mergeDeepIn=zy;Hr.withMutations=Wc;Hr.wasAltered=Hy;Hr.asImmutable=Kc;Hr["@@transducer/init"]=Hr.asMutable=Yc;Hr["@@transducer/step"]=function(t,e){return t.push(e)};Hr["@@transducer/result"]=function(t){return t.asImmutable()};var yo=function(e,r){this.array=e,this.ownerID=r};yo.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Pn;if(i>=this.array.length)return new yo([],e);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(e,r-vr,n),o===s&&a)return this}if(a&&!o)return this;var l=Al(this,e);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};yo.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Pn;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(e,r-vr,n),a===o&&i===this.array.length-1)return this}var s=Al(this,e);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Ju={};function bS(t,e){var r=t._origin,n=t._capacity,i=mc(n),a=t._tail;return o(t._root,t._level,0);function o(u,c,f){return c===0?s(u,f):l(u,c,f)}function s(u,c){var f=c===i?a&&a.array:u&&u.array,d=c>r?0:r-c,p=n-c;return p>gi&&(p=gi),function(){if(d===p)return Ju;var v=e?--p:d++;return f&&f[v]}}function l(u,c,f){var d,p=u&&u.array,v=f>r?0:r-f>>c,h=(n-f>>c)+1;return h>gi&&(h=gi),function(){for(;;){if(d){var g=d();if(g!==Ju)return g;d=null}if(v===h)return Ju;var y=e?--h:v++;d=o(p&&p[y],c-vr,f+(y<<c))}}}}function gc(t,e,r,n,i,a,o){var s=Object.create(Hr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var _S;function fd(){return _S||(_S=gc(0,0,vr))}function aQ(t,e,r){if(e=xo(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?so(o,e).set(0,r):so(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=sg();return e>=mc(t._capacity)?n=hg(n,t.__ownerID,0,e,r,a):i=hg(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):gc(t._origin,t._capacity,t._level,i,n):t}function hg(t,e,r,n,i,a){var o=n>>>r&Pn,s=t&&o<t.array.length;if(!s&&i===void 0)return t;var l;if(r>0){var u=t&&t.array[o],c=hg(u,e,r-vr,n,i,a);return c===u?t:(l=Al(t,e),l.array[o]=c,l)}return s&&t.array[o]===i?t:(a&&mi(a),l=Al(t,e),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function Al(t,e){return e&&t&&e===t.ownerID?t:new yo(t?t.array.slice():[],e)}function eI(t,e){if(e>=mc(t._capacity))return t._tail;if(e<1<<t._level+vr){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Pn],n-=vr;return r}}function so(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new Oy,i=t._origin,a=t._capacity,o=i+e,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return t;if(o>=s)return t.clear();for(var l=t._level,u=t._root,c=0;o+c<0;)u=new yo(u&&u.array.length?[void 0,u]:[],n),l+=vr,c+=1<<l;c&&(o+=c,i+=c,s+=c,a+=c);for(var f=mc(a),d=mc(s);d>=1<<l+vr;)u=new yo(u&&u.array.length?[u]:[],n),l+=vr;var p=t._tail,v=d<f?eI(t,s-1):d>f?new yo([],n):p;if(p&&d>f&&o<a&&p.array.length){u=Al(u,n);for(var h=u,g=l;g>vr;g-=vr){var y=f>>>g&Pn;h=h.array[y]=Al(h.array[y],n)}h.array[f>>>vr&Pn]=p}if(s<a&&(v=v&&v.removeAfter(n,0,s)),o>=d)o-=d,s-=d,l=vr,u=null,v=v&&v.removeBefore(n,0,o);else if(o>i||d<f){for(c=0;u;){var m=o>>>l&Pn;if(m!==d>>>l&Pn)break;m&&(c+=(1<<l)*m),l-=vr,u=u.array[m]}u&&o>i&&(u=u.removeBefore(n,l,o-c)),u&&d<f&&(u=u.removeAfter(n,l,d-c)),c&&(o-=c,s-=c)}return t.__ownerID?(t.size=s-o,t._origin=o,t._capacity=s,t._level=l,t._root=u,t._tail=v,t.__hash=void 0,t.__altered=!0,t):gc(o,s,l,u,v)}function mc(t){return t<gi?0:t-1>>>vr<<vr}var ma=function(t){function e(r){return r==null?Lu():Iy(r)?r:Lu().withMutations(function(n){var i=ki(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Lu()},e.prototype.set=function(n,i){return OS(this,n,i)},e.prototype.remove=function(n){return OS(this,n,It)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?Ky(i,a,n,this.__hash):this.size===0?Lu():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(ur);ma.isOrderedMap=Iy;ma.prototype[eu]=!0;ma.prototype[Vc]=ma.prototype.remove;function Ky(t,e,r,n){var i=Object.create(ma.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var SS;function Lu(){return SS||(SS=Ky(Ri(),fd()))}function OS(t,e,r){var n=t._map,i=t._list,a=n.get(e),o=a!==void 0,s,l;if(r===It){if(!o)return t;i.size>=gi&&i.size>=n.size*2?(l=i.filter(function(u,c){return u!==void 0&&a!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=l.__ownerID=t.__ownerID)):(s=n.remove(e),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return t;s=n,l=i.set(a,[e,r])}else s=n.set(e,i.size),l=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=l,t.__hash=void 0,t.__altered=!0,t):Ky(s,l)}var tI="@@__IMMUTABLE_STACK__@@";function Nd(t){return!!(t&&t[tI])}var Wp=function(t){function e(r){return r==null?Df():Nd(r)?r:Df().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=xo(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Ru(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Nd(n))return n;Qn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Ru(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Df()},e.prototype.slice=function(n,i){if(Bc(n,i,this.size))return this;var a=Xl(n,this.size),o=qc(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):Ru(s,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ru(this.size,this._head,n,this.__hash):this.size===0?Df():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new ts(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},e.prototype.__iterator=function(n,i){if(i)return new ts(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new Mt(function(){if(o){var s=o.value;return o=o.next,mr(n,a++,s)}return Rn()})},e}(ms);Wp.isStack=Nd;var Nn=Wp.prototype;Nn[tI]=!0;Nn.shift=Nn.pop;Nn.unshift=Nn.push;Nn.unshiftAll=Nn.pushAll;Nn.withMutations=Wc;Nn.wasAltered=Hy;Nn.asImmutable=Kc;Nn["@@transducer/init"]=Nn.asMutable=Yc;Nn["@@transducer/step"]=function(t,e){return t.unshift(e)};Nn["@@transducer/result"]=function(t){return t.asImmutable()};function Ru(t,e,r,n){var i=Object.create(Nn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var xS;function Df(){return xS||(xS=Ru(0))}var rI="@@__IMMUTABLE_SET__@@";function Yp(t){return!!(t&&t[rI])}function Jy(t){return Yp(t)&&_i(t)}function Qy(t,e){if(t===e)return!0;if(!Ln(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||sr(t)!==sr(e)||_n(t)!==_n(e)||_i(t)!==_i(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!zc(t);if(_i(t)){var n=t.entries();return e.every(function(l,u){var c=n.next().value;return c&&sn(c[1],l)&&(r||sn(c[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var o=!0,s=e.__iterate(function(l,u){if(r?!t.has(l):i?!sn(l,t.get(u,It)):!sn(t.get(u,It),l))return o=!1,!1});return o&&t.size===s}function _s(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Dd(t){if(!t||typeof t!="object")return t;if(!Ln(t)){if(!wo(t))return t;t=$n(t)}if(sr(t)){var e={};return t.__iterate(function(n,i){e[i]=Dd(n)}),e}var r=[];return t.__iterate(function(n){r.push(Dd(n))}),r}var Jc=function(t){function e(r){return r==null?$u():Yp(r)&&!_i(r)?r:$u().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.intersect=function(n){return n=jr(n).toArray(),n.length?vn.intersect.apply(e(n.pop()),n):$u()},e.union=function(n){return n=jr(n).toArray(),n.length?vn.union.apply(e(n.pop()),n):$u()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Mf(this,this._map.set(n,n))},e.prototype.remove=function(n){return Mf(this,this._map.remove(n))},e.prototype.clear=function(){return Mf(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,o=!1,s=Mf(this,this._map.mapEntries(function(l){var u=l[1],c=n.call(i,u,u,a);return c!==u&&(o=!0),[c,c]},i));return o?s:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):t(n[o]).forEach(function(s){return a.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.sort=function(n){return Pl(Tl(this,n))},e.prototype.sortBy=function(n,i){return Pl(Tl(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Zl);Jc.isSet=Yp;var vn=Jc.prototype;vn[rI]=!0;vn[Vc]=vn.remove;vn.merge=vn.concat=vn.union;vn.withMutations=Wc;vn.asImmutable=Kc;vn["@@transducer/init"]=vn.asMutable=Yc;vn["@@transducer/step"]=function(t,e){return t.add(e)};vn["@@transducer/result"]=function(t){return t.asImmutable()};vn.__empty=$u;vn.__make=nI;function Mf(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function nI(t,e){var r=Object.create(vn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var wS;function $u(){return wS||(wS=nI(Ri()))}var iI=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(Ly(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(nv)return nv;nv=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+xo(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Bc(n,i,this.size)?this:(n=Xl(n,this.size),i=qc(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},e.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new Mt(function(){if(l===a)return Rn();var u=s;return s+=i?-o:o,mr(n,i?a-++l:l++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Qy(this,n)},e}(Ai),nv;function Xy(t,e,r){for(var n=Mk(e),i=0;i!==n.length;)if(t=$y(t,n[i++],It),t===It)return r;return t}function aI(t,e){return Xy(this,t,e)}function oI(t,e){return Xy(t,e,It)!==It}function oQ(t){return oI(this,t)}function sI(){Qn(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}jr.isIterable=Ln;jr.isKeyed=sr;jr.isIndexed=_n;jr.isAssociative=zc;jr.isOrdered=_i;jr.Iterator=Mt;_s(jr,{toArray:function(){Qn(this.size);var e=new Array(this.size||0),r=sr(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new Ak(this)},toJS:function(){return Dd(this)},toKeyedSeq:function(){return new Gp(this,!0)},toMap:function(){return ur(this.toKeyedSeq())},toObject:sI,toOrderedMap:function(){return ma(this.toKeyedSeq())},toOrderedSet:function(){return Pl(sr(this)?this.valueSeq():this)},toSet:function(){return Jc(sr(this)?this.valueSeq():this)},toSetSeq:function(){return new jk(this)},toSeq:function(){return _n(this)?this.toIndexedSeq():sr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Wp(sr(this)?this.valueSeq():this)},toList:function(){return Ji(sr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return nr(this,VJ(this,e))},includes:function(e){return this.some(function(r){return sn(r,e)})},entries:function(){return this.__iterator(xi)},every:function(e,r){Qn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!e.call(r,i,a,o))return n=!1,!1}),n},filter:function(e,r){return nr(this,Rk(this,e,r,!0))},partition:function(e,r){return DJ(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Qn(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Qn(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Hc)},map:function(e,r){return nr(this,Lk(this,e,r))},reduce:function(e,r,n){return ES(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return ES(this,e,r,n,arguments.length<2,!0)},reverse:function(){return nr(this,Ay(this,!0))},slice:function(e,r){return nr(this,jy(this,e,r,!0))},some:function(e,r){Qn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(e.call(r,i,a,o))return n=!0,!1}),n},sort:function(e){return nr(this,Tl(this,e))},values:function(){return this.__iterator(qi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Cl(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return $J(this,e,r)},equals:function(e){return Qy(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ts(e._cache);var r=e.toSeq().map(lQ).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(iv(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,o,s){if(e.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(yk,null,e)},flatMap:function(e,r){return nr(this,BJ(this,e,r))},flatten:function(e){return nr(this,Nk(this,e,!0))},fromEntrySeq:function(){return new Pk(this)},get:function(e,r){return this.find(function(n,i){return sn(i,e)},void 0,r)},getIn:aI,groupBy:function(e,r){return NJ(this,e,r)},has:function(e){return this.get(e,It)!==It},hasIn:oQ,isSubset:function(e){return e=typeof e.includes=="function"?e:jr(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:jr(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return sn(r,e)})},keySeq:function(){return this.toSeq().map(sQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return $f(this,e)},maxBy:function(e,r){return $f(this,r,e)},min:function(e){return $f(this,e?CS(e):kS)},minBy:function(e,r){return $f(this,r?CS(r):kS,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return nr(this,$k(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(iv(e),r)},sortBy:function(e,r){return nr(this,Tl(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return nr(this,MJ(this,e,r))},takeUntil:function(e,r){return this.takeWhile(iv(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=uQ(this))}});var Sn=jr.prototype;Sn[Sk]=!0;Sn[qp]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=pc;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;_s(ki,{flip:function(){return nr(this,Fk(this))},mapEntries:function(e,r){var n=this,i=0;return nr(this,this.toSeq().map(function(a,o){return e.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return nr(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var Qc=ki.prototype;Qc[Ok]=!0;Qc[qp]=Sn.entries;Qc.toJSON=sI;Qc.__toStringMapper=function(t,e){return pc(e)+": "+pc(t)};_s(ms,{toKeyedSeq:function(){return new Gp(this,!1)},filter:function(e,r){return nr(this,Rk(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return nr(this,Ay(this,!1))},slice:function(e,r){return nr(this,jy(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Xl(e,e<0?this.count():this.size);var i=this.slice(0,e);return nr(this,n===1?i:i.concat(sa(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return nr(this,Nk(this,e,!1))},get:function(e,r){return e=xo(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=xo(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return nr(this,qJ(this,e))},interleave:function(){var e=[this].concat(sa(arguments)),r=Nf(this.toSeq(),Ai.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),nr(this,n)},keySeq:function(){return iI(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return nr(this,$k(this,e,r,!1))},zip:function(){var e=[this].concat(sa(arguments));return nr(this,Nf(this,TS,e))},zipAll:function(){var e=[this].concat(sa(arguments));return nr(this,Nf(this,TS,e,!0))},zipWith:function(e){var r=sa(arguments);return r[0]=this,nr(this,Nf(this,e,r))}});var nu=ms.prototype;nu[xk]=!0;nu[eu]=!0;_s(Zl,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var jl=Zl.prototype;jl.has=Sn.includes;jl.contains=jl.includes;jl.keys=jl.values;_s(Ro,Qc);_s(Ai,nu);_s(ru,jl);function ES(t,e,r,n,i,a){return Qn(t.size),t.__iterate(function(o,s,l){i?(i=!1,r=o):r=e.call(n,r,o,s,l)},a),r}function sQ(t,e){return e}function lQ(t,e){return[e,t]}function iv(t){return function(){return!t.apply(this,arguments)}}function CS(t){return function(){return-t.apply(this,arguments)}}function TS(){return sa(arguments)}function kS(t,e){return t<e?1:t>e?-1:0}function uQ(t){if(t.size===1/0)return 0;var e=_i(t),r=sr(t),n=e?1:0,i=t.__iterate(r?e?function(a,o){n=31*n+IS(zn(a),zn(o))|0}:function(a,o){n=n+IS(zn(a),zn(o))|0}:e?function(a){n=31*n+zn(a)|0}:function(a){n=n+zn(a)|0});return cQ(i,n)}function cQ(t,e){return e=Tu(e,3432918353),e=Tu(e<<15|e>>>-15,461845907),e=Tu(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Tu(e^e>>>16,2246822507),e=Tu(e^e>>>13,3266489909),e=Up(e^e>>>16),e}function IS(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Pl=function(t){function e(r){return r==null?vg():Jy(r)?r:vg().withMutations(function(n){var i=Zl(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Jc);Pl.isOrderedSet=Jy;var Ss=Pl.prototype;Ss[eu]=!0;Ss.zip=nu.zip;Ss.zipWith=nu.zipWith;Ss.zipAll=nu.zipAll;Ss.__empty=vg;Ss.__make=lI;function lI(t,e){var r=Object.create(Ss);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var AS;function vg(){return AS||(AS=lI(Lu()))}var fQ={LeftThenRight:-1,RightThenLeft:1};function dQ(t){if(ys(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ii(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var rn=function(e,r){var n;dQ(e);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),c=a._indices={};a._name=r,a._keys=u,a._defaultValues=e;for(var f=0;f<u.length;f++){var d=u[f];c[d]=f,a[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+e0(this)+' with property "'+d+'" since that property name is part of the Record API.'):pQ(a,d)}}return this.__ownerID=void 0,this._values=Ji().withMutations(function(p){p.setSize(l._keys.length),ki(s).forEach(function(v,h){p.set(l._indices[h],v===l._defaultValues[h]?void 0:v)})}),this},a=i.prototype=Object.create(lr);return a.constructor=i,r&&(i.displayName=r),i};rn.prototype.toString=function(){for(var e=e0(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+pc(this.get(n));return e+" }"};rn.prototype.equals=function(e){return this===e||ys(e)&&Fl(this).equals(Fl(e))};rn.prototype.hashCode=function(){return Fl(this).hashCode()};rn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};rn.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};rn.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Zy(this,n)}return this};rn.prototype.remove=function(e){return this.set(e)};rn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Zy(this,e)};rn.prototype.wasAltered=function(){return this._values.wasAltered()};rn.prototype.toSeq=function(){return Fl(this)};rn.prototype.toJS=function(){return Dd(this)};rn.prototype.entries=function(){return this.__iterator(xi)};rn.prototype.__iterator=function(e,r){return Fl(this).__iterator(e,r)};rn.prototype.__iterate=function(e,r){return Fl(this).__iterate(e,r)};rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Zy(this,r,e):(this.__ownerID=e,this._values=r,this)};rn.isRecord=ys;rn.getDescriptiveName=e0;var lr=rn.prototype;lr[Ek]=!0;lr[Vc]=lr.remove;lr.deleteIn=lr.removeIn=Dy;lr.getIn=aI;lr.hasIn=Sn.hasIn;lr.merge=Gk;lr.mergeWith=Wk;lr.mergeIn=qy;lr.mergeDeep=Kk;lr.mergeDeepWith=Jk;lr.mergeDeepIn=zy;lr.setIn=Ny;lr.update=Vy;lr.updateIn=By;lr.withMutations=Wc;lr.asMutable=Yc;lr.asImmutable=Kc;lr[qp]=lr.entries;lr.toJSON=lr.toObject=Sn.toObject;lr.inspect=lr.toSource=function(){return this.toString()};function Zy(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function e0(t){return t.constructor.displayName||t.constructor.name||"Record"}function Fl(t){return Ty(t._keys.map(function(e){return[e,t.get(e)]}))}function pQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){Ly(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch(r){}}var hQ=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(av)return av;av=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return sn(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return Bc(n,i,a)?this:new e(this._value,qc(i,a)-Xl(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return sn(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return sn(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new Mt(function(){return s===o?Rn():mr(n,i?o-++s:s++,a._value)})},e.prototype.equals=function(n){return n instanceof e?sn(this._value,n._value):Qy(this,n)},e}(Ai),av;function $o(t,e){return uI([],e||vQ,t,"",e&&e.length>2?[]:void 0,{"":t})}function uI(t,e,r,n,i,a){if(typeof r!="string"&&!Ii(r)&&(wy(r)||xy(r)||Ry(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(a,n,$n(r).map(function(s,l){return uI(t,e,s,l,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function vQ(t,e){return _n(e)?e.toList():sr(e)?e.toMap():e.toSet()}var gQ="4.3.7",Ue={version:gQ,Collection:jr,Iterable:jr,Seq:$n,Map:ur,OrderedMap:ma,List:Ji,Stack:Wp,Set:Jc,OrderedSet:Pl,PairSorting:fQ,Record:rn,Range:iI,Repeat:hQ,is:sn,fromJS:$o,hash:zn,isImmutable:Ii,isCollection:Ln,isKeyed:sr,isIndexed:_n,isAssociative:zc,isOrdered:_i,isValueObject:cg,isPlainObject:Ry,isSeq:Bp,isList:Yy,isMap:Hp,isOrderedMap:Iy,isStack:Nd,isSet:Yp,isOrderedSet:Jy,isRecord:ys,get:$y,getIn:Xy,has:Vk,hasIn:oI,merge:HJ,mergeDeep:GJ,mergeWith:UJ,mergeDeepWith:WJ,remove:Bk,removeIn:Uk,set:qk,setIn:Hk,update:My,updateIn:bs},mQ=0;const Lt=function(){var t=(new Date().getTime().toString(16)+"FF").substr(0,11),e="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(r){var n=r==="s"?Math.floor(Math.random()*16):mQ++&15,i=r==="x"?n:n&3|8;return i.toString(16)});return e+t};var yQ={};function jS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Os=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],iu=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Md=function(e){return xt(e)==="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"},cI=function(e){if(xt(e)==="object"&&e!==null){if(Array.isArray(e))return Ce(e);if(Md(e))return bQ({},e)}return e},ii=function(e,r){return Object.fromEntries(Object.entries(e).filter(function(n){var i=ke(n,1),a=i[0];return!r.includes(a)}))},Ur=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},Vd=function(e,r){return e===r?!0:ur.isMap(e)?e.equals(r):JSON.stringify(e)==JSON.stringify(r)},Xc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?_Q(e,r,n):ur.isMap(e)?e.equals(r):xt(e)=="object"?SQ(e,r,n):e===r};function _Q(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Xc(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function SQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Xc(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var au=function(e){return xt(e)==="object"&&e!==null&&typeof e.toJS=="function"},Kp=function(e){return au(e)&&Ue.isList(e)};function Gr(t){return Kp(t)?t:new Ue.List(t)}function t0(t){return au(t)?t.toJS():t}var fI=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},dI=function(e,r,n,i,a,o){if(Array.isArray(e))return r},r0=function t(e){var r=["$$typeof","_owner","_store","ref","key"],n=function(s){return typeof s=="string"?s:typeof s=="function"?s.name:s};if(e instanceof Array)return e.map(function(o,s){return t(o)});if(xt(e)==="object"&&e!==null&&Zc(e)){var i,a=ii(e,r);return a.type&&(a.type=n(a.type)),a!=null&&(i=a.props)!==null&&i!==void 0&&i.children&&(a.props.children=t(a.props.children)),a}return e},Zc=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},n0=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&typeof e.type=="string"&&Object.keys(e).includes("props")},Fn=function(e){var r=xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1;return r};function pI(t){return new Promise(function(e){setTimeout(e,t)})}function Bd(t,e){return t||(t=[]),e||(e=[]),e.map(function(r){return[r,t.indexOf(r)]}).map(function(r,n,i){var a=ke(r,2),o=a[0],s=a[1];if(s==-1){var l=i.slice(n+1),u=i.slice(0,n),c=u.reverse().find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1}),f=l.find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1});return f?[o,"before",f[0]]:c?[o,"after",c[0]]:[o,"append",null]}else return null}).filter(function(r){return r!==null}).reduce(function(r,n){var i=ke(n,3),a=i[0],o=i[1],s=i[2],l=r.indexOf(s);return r.indexOf(a)==-1&&(l>-1?r.splice(l+(o=="after"?1:0),0,a):r.splice(o=="append"?1/0:0,0,a)),r},t.slice())}var hI=function t(e){xt(e)==="object"&&e!==null&&!Zc(e)&&(Object.keys(e).forEach(function(r){r!=="__cache"&&t(e[r])}),Object.freeze(e))},vI=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Md(e)){if(e.var)return n[e.var]=r,!0;if(!Md(r))return!1;for(var a in e){var o=e[a],s=r[a];if(!t(o,s,n,[].concat(Ce(i),[a])))return!1}return!0}else if(Array.isArray(e)){if(!Array.isArray(r))return!1;for(var l=0;l<e.length;l++){var u=e[l],c=r[l];if(!t(u,c,n,[].concat(Ce(i),[l])))return!1}return!0}else return e===r},OQ=function(){return typeof process<"u"&&yQ&&!1},gI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:OQ();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},mI=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r,n=0;n<e.length;n++){var i=e[n];if(i!==void 0){r=i;break}}return r},Eo=gI();const xQ=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:t0,cleanJSX:r0,deepEqual:Vd,deepFreeze:hI,escapeRegExp:fI,getFirstDefined:mI,getLogger:gI,getOpCardinality:Ur,isDirtyJSX:Zc,isImmutable:au,isImmutableList:Kp,isJSX:n0,isJsonCompatible:vI,isJsonLogic:Fn,isObject:Md,logger:Eo,mergeArraysSmart:Bd,mergeCustomizerNoArrays:dI,omit:ii,opDefKeysToOmit:iu,shallowCopy:cI,shallowEqual:Xc,sleep:pI,toImmutableList:Gr,uuid:Lt,widgetDefKeysToOmit:Os},Symbol.toStringTag,{value:"Module"}));var yI={exports:{}},bI={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(bI);var wQ=bI.exports;(function(t){var e=wQ.default;function r(){t.exports=r=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var n,i={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(V,$,L){V[$]=L.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(V,$,L){return Object.defineProperty(V,$,{value:L,enumerable:!0,configurable:!0,writable:!0}),V[$]}try{d({},"")}catch(V){d=function(L,N,B){return L[N]=B}}function p(V,$,L,N){var B=$&&$.prototype instanceof b?$:b,H=Object.create(B.prototype),z=new R(N||[]);return s(H,"_invoke",{value:A(V,L,z)}),H}function v(V,$,L){try{return{type:"normal",arg:V.call($,L)}}catch(N){return{type:"throw",arg:N}}}i.wrap=p;var h="suspendedStart",g="suspendedYield",y="executing",m="completed",_={};function b(){}function S(){}function O(){}var x={};d(x,u,function(){return this});var C=Object.getPrototypeOf,I=C&&C(C(G([])));I&&I!==a&&o.call(I,u)&&(x=I);var E=O.prototype=b.prototype=Object.create(x);function k(V){["next","throw","return"].forEach(function($){d(V,$,function(L){return this._invoke($,L)})})}function w(V,$){function L(B,H,z,M){var W=v(V[B],V,H);if(W.type!=="throw"){var q=W.arg,Y=q.value;return Y&&e(Y)=="object"&&o.call(Y,"__await")?$.resolve(Y.__await).then(function(K){L("next",K,z,M)},function(K){L("throw",K,z,M)}):$.resolve(Y).then(function(K){q.value=K,z(q)},function(K){return L("throw",K,z,M)})}M(W.arg)}var N;s(this,"_invoke",{value:function(H,z){function M(){return new $(function(W,q){L(H,z,W,q)})}return N=N?N.then(M,M):M()}})}function A(V,$,L){var N=h;return function(B,H){if(N===y)throw Error("Generator is already running");if(N===m){if(B==="throw")throw H;return{value:n,done:!0}}for(L.method=B,L.arg=H;;){var z=L.delegate;if(z){var M=P(z,L);if(M){if(M===_)continue;return M}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(N===h)throw N=m,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);N=y;var W=v(V,$,L);if(W.type==="normal"){if(N=L.done?m:g,W.arg===_)continue;return{value:W.arg,done:L.done}}W.type==="throw"&&(N=m,L.method="throw",L.arg=W.arg)}}}function P(V,$){var L=$.method,N=V.iterator[L];if(N===n)return $.delegate=null,L==="throw"&&V.iterator.return&&($.method="return",$.arg=n,P(V,$),$.method==="throw")||L!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+L+"' method")),_;var B=v(N,V.iterator,$.arg);if(B.type==="throw")return $.method="throw",$.arg=B.arg,$.delegate=null,_;var H=B.arg;return H?H.done?($[V.resultName]=H.value,$.next=V.nextLoc,$.method!=="return"&&($.method="next",$.arg=n),$.delegate=null,_):H:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,_)}function F(V){var $={tryLoc:V[0]};1 in V&&($.catchLoc=V[1]),2 in V&&($.finallyLoc=V[2],$.afterLoc=V[3]),this.tryEntries.push($)}function D(V){var $=V.completion||{};$.type="normal",delete $.arg,V.completion=$}function R(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(F,this),this.reset(!0)}function G(V){if(V||V===""){var $=V[u];if($)return $.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var L=-1,N=function B(){for(;++L<V.length;)if(o.call(V,L))return B.value=V[L],B.done=!1,B;return B.value=n,B.done=!0,B};return N.next=N}}throw new TypeError(e(V)+" is not iterable")}return S.prototype=O,s(E,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:S,configurable:!0}),S.displayName=d(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(V){var $=typeof V=="function"&&V.constructor;return!!$&&($===S||($.displayName||$.name)==="GeneratorFunction")},i.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,O):(V.__proto__=O,d(V,f,"GeneratorFunction")),V.prototype=Object.create(E),V},i.awrap=function(V){return{__await:V}},k(w.prototype),d(w.prototype,c,function(){return this}),i.AsyncIterator=w,i.async=function(V,$,L,N,B){B===void 0&&(B=Promise);var H=new w(p(V,$,L,N),B);return i.isGeneratorFunction($)?H:H.next().then(function(z){return z.done?z.value:H.next()})},k(E),d(E,f,"Generator"),d(E,u,function(){return this}),d(E,"toString",function(){return"[object Generator]"}),i.keys=function(V){var $=Object(V),L=[];for(var N in $)L.push(N);return L.reverse(),function B(){for(;L.length;){var H=L.pop();if(H in $)return B.value=H,B.done=!1,B}return B.done=!0,B}},i.values=G,R.prototype={constructor:R,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!$)for(var L in this)L.charAt(0)==="t"&&o.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var L=this;function N(q,Y){return z.type="throw",z.arg=$,L.next=q,Y&&(L.method="next",L.arg=n),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var H=this.tryEntries[B],z=H.completion;if(H.tryLoc==="root")return N("end");if(H.tryLoc<=this.prev){var M=o.call(H,"catchLoc"),W=o.call(H,"finallyLoc");if(M&&W){if(this.prev<H.catchLoc)return N(H.catchLoc,!0);if(this.prev<H.finallyLoc)return N(H.finallyLoc)}else if(M){if(this.prev<H.catchLoc)return N(H.catchLoc,!0)}else{if(!W)throw Error("try statement without catch or finally");if(this.prev<H.finallyLoc)return N(H.finallyLoc)}}}},abrupt:function($,L){for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N];if(B.tryLoc<=this.prev&&o.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var H=B;break}}H&&($==="break"||$==="continue")&&H.tryLoc<=L&&L<=H.finallyLoc&&(H=null);var z=H?H.completion:{};return z.type=$,z.arg=L,H?(this.method="next",this.next=H.finallyLoc,_):this.complete(z)},complete:function($,L){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&L&&(this.next=L),_},finish:function($){for(var L=this.tryEntries.length-1;L>=0;--L){var N=this.tryEntries[L];if(N.finallyLoc===$)return this.complete(N.completion,N.afterLoc),D(N),_}},catch:function($){for(var L=this.tryEntries.length-1;L>=0;--L){var N=this.tryEntries[L];if(N.tryLoc===$){var B=N.completion;if(B.type==="throw"){var H=B.arg;D(N)}return H}}throw Error("illegal catch attempt")},delegateYield:function($,L,N){return this.delegate={iterator:G($),resultName:L,nextLoc:N},this.method==="next"&&(this.arg=n),_}},i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(yI);var EQ=yI.exports,dd=EQ(),CQ=dd;try{regeneratorRuntime=dd}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=dd:Function("r","regeneratorRuntime = r")(dd)}const Br=tn(CQ);var TQ=fs,kQ=Oa,IQ="[object Symbol]";function AQ(t){return typeof t=="symbol"||kQ(t)&&TQ(t)==IQ}var Jp=AQ,jQ=ri,PQ=Jp,FQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LQ=/^\w*$/;function RQ(t,e){if(jQ(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||PQ(t)?!0:LQ.test(t)||!FQ.test(t)||e!=null&&t in Object(e)}var i0=RQ,_I=dm,$Q="Expected a function";function a0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($Q);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(a0.Cache||_I),r}a0.Cache=_I;var NQ=a0,DQ=NQ,MQ=500;function VQ(t){var e=DQ(t,function(n){return r.size===MQ&&r.clear(),n}),r=e.cache;return e}var BQ=VQ,qQ=BQ,zQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HQ=/\\(\\)?/g,UQ=qQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zQ,function(r,n,i,a){e.push(i?a.replace(HQ,"$1"):n||r)}),e}),GQ=UQ;function WQ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Qp=WQ,PS=Ml,YQ=Qp,KQ=ri,JQ=Jp,QQ=1/0,FS=PS?PS.prototype:void 0,LS=FS?FS.toString:void 0;function SI(t){if(typeof t=="string")return t;if(KQ(t))return YQ(t,SI)+"";if(JQ(t))return LS?LS.call(t):"";var e=t+"";return e=="0"&&1/t==-QQ?"-0":e}var OI=SI,XQ=OI;function ZQ(t){return t==null?"":XQ(t)}var xI=ZQ,eX=ri,tX=i0,rX=GQ,nX=xI;function iX(t,e){return eX(t)?t:tX(t,e)?[t]:rX(nX(t))}var ou=iX,aX=Jp,oX=1/0;function sX(t){if(typeof t=="string"||aX(t))return t;var e=t+"";return e=="0"&&1/t==-oX?"-0":e}var su=sX,lX=ou,uX=su;function cX(t,e){e=lX(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[uX(e[r++])];return r&&r==n?t:void 0}var Xp=cX,fX=ds,dX=function(){try{var t=fX(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),wI=dX,RS=wI;function pX(t,e,r){e=="__proto__"&&RS?RS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Zp=pX,hX=Zp,vX=Ic,gX=Object.prototype,mX=gX.hasOwnProperty;function yX(t,e,r){var n=t[e];(!(mX.call(t,e)&&vX(n,r))||r===void 0&&!(e in t))&&hX(t,e,r)}var o0=yX,bX=o0,_X=ou,SX=mp,$S=Ei,OX=su;function xX(t,e,r,n){if(!$S(t))return t;e=_X(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=OX(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=$S(c)?c:SX(e[i+1])?[]:{})}bX(s,l,u),s=s[l]}return t}var wX=xX,EX=Xp,CX=wX,TX=ou;function kX(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=EX(t,o);r(s,o)&&CX(a,TX(o,t),s)}return a}var EI=kX;function IX(t,e){return t!=null&&e in Object(t)}var AX=IX,jX=ou,PX=vp,FX=ri,LX=mp,RX=vm,$X=su;function NX(t,e,r){e=jX(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=$X(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&RX(i)&&LX(o,i)&&(FX(t)||PX(t)))}var DX=NX,MX=AX,VX=DX;function BX(t,e){return t!=null&&VX(t,e,MX)}var CI=BX,qX=EI,zX=CI;function HX(t,e){return qX(t,e,function(r,n){return zX(t,n)})}var UX=HX,NS=Ml,GX=vp,WX=ri,DS=NS?NS.isConcatSpreadable:void 0;function YX(t){return WX(t)||GX(t)||!!(DS&&t&&t[DS])}var KX=YX,JX=pm,QX=KX;function TI(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=QX),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?TI(s,e-1,r,n,i):JX(i,s):n||(i[i.length]=s)}return i}var XX=TI,ZX=XX;function eZ(t){var e=t==null?0:t.length;return e?ZX(t,1):[]}var tZ=eZ;function rZ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var nZ=rZ,iZ=nZ,MS=Math.max;function aZ(t,e,r){return e=MS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=MS(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),iZ(t,this,s)}}var kI=aZ;function oZ(t){return function(){return t}}var sZ=oZ;function lZ(t){return t}var eh=lZ,uZ=sZ,VS=wI,cZ=eh,fZ=VS?function(t,e){return VS(t,"toString",{configurable:!0,enumerable:!1,value:uZ(e),writable:!0})}:cZ,dZ=fZ,pZ=800,hZ=16,vZ=Date.now;function gZ(t){var e=0,r=0;return function(){var n=vZ(),i=hZ-(n-r);if(r=n,i>0){if(++e>=pZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var mZ=gZ,yZ=dZ,bZ=mZ,_Z=bZ(yZ),II=_Z,SZ=tZ,OZ=kI,xZ=II;function wZ(t){return xZ(OZ(t,void 0,SZ),t+"")}var AI=wZ,EZ=UX,CZ=AI,TZ=CZ(function(t,e){return t==null?{}:EZ(t,e)}),kZ=TZ;const ya=tn(kZ);function IZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var jI=IZ;const th=tn(jI);function AZ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var jZ=AZ,PZ=o0,FZ=Zp;function LZ(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?FZ(r,s,l):PZ(r,s,l)}return r}var lu=LZ,RZ=lu,$Z=Hl;function NZ(t,e){return t&&RZ(e,$Z(e),t)}var DZ=NZ;function MZ(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var VZ=MZ,BZ=Ei,qZ=bm,zZ=VZ,HZ=Object.prototype,UZ=HZ.hasOwnProperty;function GZ(t){if(!BZ(t))return zZ(t);var e=qZ(t),r=[];for(var n in t)n=="constructor"&&(e||!UZ.call(t,n))||r.push(n);return r}var WZ=GZ,YZ=KE,KZ=WZ,JZ=zl;function QZ(t){return JZ(t)?YZ(t,!0):KZ(t)}var ef=QZ,XZ=lu,ZZ=ef;function eee(t,e){return t&&XZ(e,ZZ(e),t)}var tee=eee,qd={exports:{}};qd.exports;(function(t,e){var r=Yi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(qd,qd.exports);var PI=qd.exports;function ree(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var FI=ree,nee=lu,iee=hm;function aee(t,e){return nee(t,iee(t),e)}var oee=aee,see=JE,lee=see(Object.getPrototypeOf,Object),s0=lee,uee=pm,cee=s0,fee=hm,dee=WE,pee=Object.getOwnPropertySymbols,hee=pee?function(t){for(var e=[];t;)uee(e,fee(t)),t=cee(t);return e}:dee,LI=hee,vee=lu,gee=LI;function mee(t,e){return vee(t,gee(t),e)}var yee=mee,bee=GE,_ee=LI,See=ef;function Oee(t){return bee(t,See,_ee)}var l0=Oee,xee=Object.prototype,wee=xee.hasOwnProperty;function Eee(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&wee.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Cee=Eee,BS=UE;function Tee(t){var e=new t.constructor(t.byteLength);return new BS(e).set(new BS(t)),e}var u0=Tee,kee=u0;function Iee(t,e){var r=e?kee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Aee=Iee,jee=/\w*$/;function Pee(t){var e=new t.constructor(t.source,jee.exec(t));return e.lastIndex=t.lastIndex,e}var Fee=Pee,qS=Ml,zS=qS?qS.prototype:void 0,HS=zS?zS.valueOf:void 0;function Lee(t){return HS?Object(HS.call(t)):{}}var Ree=Lee,$ee=u0;function Nee(t,e){var r=e?$ee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var RI=Nee,Dee=u0,Mee=Aee,Vee=Fee,Bee=Ree,qee=RI,zee="[object Boolean]",Hee="[object Date]",Uee="[object Map]",Gee="[object Number]",Wee="[object RegExp]",Yee="[object Set]",Kee="[object String]",Jee="[object Symbol]",Qee="[object ArrayBuffer]",Xee="[object DataView]",Zee="[object Float32Array]",ete="[object Float64Array]",tte="[object Int8Array]",rte="[object Int16Array]",nte="[object Int32Array]",ite="[object Uint8Array]",ate="[object Uint8ClampedArray]",ote="[object Uint16Array]",ste="[object Uint32Array]";function lte(t,e,r){var n=t.constructor;switch(e){case Qee:return Dee(t);case zee:case Hee:return new n(+t);case Xee:return Mee(t,r);case Zee:case ete:case tte:case rte:case nte:case ite:case ate:case ote:case ste:return qee(t,r);case Uee:return new n;case Gee:case Kee:return new n(t);case Wee:return Vee(t);case Yee:return new n;case Jee:return Bee(t)}}var ute=lte,cte=Ei,US=Object.create,fte=function(){function t(){}return function(e){if(!cte(e))return{};if(US)return US(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),dte=fte,pte=dte,hte=s0,vte=bm;function gte(t){return typeof t.constructor=="function"&&!vte(t)?pte(hte(t)):{}}var $I=gte,mte=yp,yte=Oa,bte="[object Map]";function _te(t){return yte(t)&&mte(t)==bte}var Ste=_te,Ote=Ste,xte=gm,GS=mm,WS=GS&&GS.isMap,wte=WS?xte(WS):Ote,Ete=wte,Cte=yp,Tte=Oa,kte="[object Set]";function Ite(t){return Tte(t)&&Cte(t)==kte}var Ate=Ite,jte=Ate,Pte=gm,YS=mm,KS=YS&&YS.isSet,Fte=KS?Pte(KS):jte,Lte=Fte,Rte=hp,$te=jZ,Nte=o0,Dte=DZ,Mte=tee,Vte=PI,Bte=FI,qte=oee,zte=yee,Hte=QE,Ute=l0,Gte=yp,Wte=Cee,Yte=ute,Kte=$I,Jte=ri,Qte=gp,Xte=Ete,Zte=Ei,ere=Lte,tre=Hl,rre=ef,nre=1,ire=2,are=4,NI="[object Arguments]",ore="[object Array]",sre="[object Boolean]",lre="[object Date]",ure="[object Error]",DI="[object Function]",cre="[object GeneratorFunction]",fre="[object Map]",dre="[object Number]",MI="[object Object]",pre="[object RegExp]",hre="[object Set]",vre="[object String]",gre="[object Symbol]",mre="[object WeakMap]",yre="[object ArrayBuffer]",bre="[object DataView]",_re="[object Float32Array]",Sre="[object Float64Array]",Ore="[object Int8Array]",xre="[object Int16Array]",wre="[object Int32Array]",Ere="[object Uint8Array]",Cre="[object Uint8ClampedArray]",Tre="[object Uint16Array]",kre="[object Uint32Array]",or={};or[NI]=or[ore]=or[yre]=or[bre]=or[sre]=or[lre]=or[_re]=or[Sre]=or[Ore]=or[xre]=or[wre]=or[fre]=or[dre]=or[MI]=or[pre]=or[hre]=or[vre]=or[gre]=or[Ere]=or[Cre]=or[Tre]=or[kre]=!0;or[ure]=or[DI]=or[mre]=!1;function pd(t,e,r,n,i,a){var o,s=e&nre,l=e&ire,u=e&are;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!Zte(t))return t;var c=Jte(t);if(c){if(o=Wte(t),!s)return Bte(t,o)}else{var f=Gte(t),d=f==DI||f==cre;if(Qte(t))return Vte(t,s);if(f==MI||f==NI||d&&!i){if(o=l||d?{}:Kte(t),!s)return l?zte(t,Mte(o,t)):qte(t,Dte(o,t))}else{if(!or[f])return i?t:{};o=Yte(t,f,s)}}a||(a=new Rte);var p=a.get(t);if(p)return p;a.set(t,o),ere(t)?t.forEach(function(g){o.add(pd(g,e,r,g,t,a))}):Xte(t)&&t.forEach(function(g,y){o.set(y,pd(g,e,r,y,t,a))});var v=u?l?Ute:Hte:l?rre:tre,h=c?void 0:v(t);return $te(h||t,function(g,y){h&&(y=g,g=t[y]),Nte(o,y,pd(g,e,r,y,t,a))}),o}var VI=pd;function Ire(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Are=Ire,jre=Xp,Pre=Are;function Fre(t,e){return e.length<2?t:jre(t,Pre(e,0,-1))}var Lre=Fre,Rre=ou,$re=jI,Nre=Lre,Dre=su;function Mre(t,e){return e=Rre(e,t),t=Nre(t,e),t==null||delete t[Dre($re(e))]}var Vre=Mre,Bre=fs,qre=s0,zre=Oa,Hre="[object Object]",Ure=Function.prototype,Gre=Object.prototype,BI=Ure.toString,Wre=Gre.hasOwnProperty,Yre=BI.call(Object);function Kre(t){if(!zre(t)||Bre(t)!=Hre)return!1;var e=qre(t);if(e===null)return!0;var r=Wre.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&BI.call(r)==Yre}var c0=Kre,Jre=c0;function Qre(t){return Jre(t)?void 0:t}var Xre=Qre,Zre=Qp,ene=VI,tne=Vre,rne=ou,nne=lu,ine=Xre,ane=AI,one=l0,sne=1,lne=2,une=4,cne=ane(function(t,e){var r={};if(t==null)return r;var n=!1;e=Zre(e,function(a){return a=rne(a,t),n||(n=a.length>1),a}),nne(t,one(t),r),n&&(r=ene(r,sne|lne|une,ine));for(var i=e.length;i--;)tne(r,e[i]);return r}),fne=cne;const Co=tn(fne);function dne(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function pne(t,e){if(t){if(typeof t=="string")return JS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JS(t,e)}}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var f0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},Ga=function(e,r){if(!(e==null||e==""))return f0(e)?zd(zd({},e),{},{title:e.title||e.value}):{value:e,title:r!==void 0?r:""+e}},d0=function(e){var r=Ga(e);return f0(r)?zd(zd({},Ga(e)),{},{isCustom:!0}):r},qI=function(e){if(Array.isArray(e))return e.map(function(a){return Ga(a)});if(!f0(e))return e;var r=[];for(var n in e){var i=e[n];r.push(Ga(n,i))}return r},yc=function(e,r){if(Array.isArray(e)){var n=e.map(function(i){return Ga(i)});return n.find(function(i){return""+i.value==""+r})}else return e[r]!==void 0?Ga(r,e[r]):void 0},zI=function(e,r){if(e==null)return r;var n=yc(e,r);return n!==void 0?n.title:r},hne=function(e,r){if(e==null)return r;var n=yc(e,r);return n!==void 0?n.value:r},p0=function(e,r){var n=[];if(Array.isArray(e)){var i=dne(e),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=r(Ga(o));s!=null&&n.push(s)}}catch(c){i.e(c)}finally{i.f()}}else for(var l in e){var u=r(Ga(l,e[l]));u!=null&&n.push(u)}return n},vne=function(e,r){return p0(r,function(n){return"".concat(n.value).indexOf(e)!=-1||n.title.indexOf(e)!=-1?n:null}).filter(function(n){return n!==null}).shift()},rh=function(e,r){return p0(r,function(n){return""+n.value==""+e?n:null}).filter(function(n){return n!==null}).shift()};const gne=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:yc,getListValue:rh,getTitleInListValues:zI,getValueInListValues:hne,listValuesToArray:qI,makeCustomListValue:d0,mapListValues:p0,searchListValue:vne,toListValue:Ga},Symbol.toStringTag,{value:"Module"}));var Ie=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.skip(1),a.push.apply(a,n),a})},gg=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.push.apply(a,n),a})},dl=function(e,r){var n=new Ue.OrderedMap(le({},e.get("id"),e)),i=e;return r.forEach(function(a){var o;i=n.get(a),n=(o=i)===null||o===void 0?void 0:o.get("children1")}),i},HI=function(e){var r=e;function n(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=a.push(i.get("id")),l=i.getIn(["properties","isLocked"]);o&&l&&(r=r.deleteIn(Ie(s,"properties","isLocked")));var u=i.get("children1");u&&u.map(function(c,f){n(c,s,l||o)})}return n(e,new Ue.List),r},zi=function(e){var r=e;function n(i,a,o,s){if(i){var l=i.get("path"),u=i.get("id"),c=u||s||Lt(),f=a.push(c);(!l||!l.equals(f))&&(r=r.setIn(Ie(f,"path"),f)),u||(r=r.setIn(Ie(f,"id"),c));var d=i.get("children1");d&&(d.constructor.name==="Map"&&(r=r.setIn(Ie(f,"children1"),new Ue.OrderedMap(d))),d.map(function(p,v){n(p,f,o+1,v)}))}}return n(e,new Ue.List,0),r},nh=function(e){var r=e;function n(i,a,o,s){if(!i)return!1;var l=i.get("id")||s,u=a.push(l),c=i.get("children1");if(c){var f=c.map(function(d,p){return n(d,u,o+1,p)}).reduce(function(d,p){return d&&p},!0);if((c.size==0||f)&&o>0)return r=r.deleteIn(Ie(u)),!0}return!1}return n(e,new Ue.List,0),r},mg=function(e){var r=[],n={},i=[],a=0,o=0,s=0,l={};function u(v,h,g,y,m,_,b,S){var O=v===e,x=v.get("type"),C=v.get("collapsed"),I=v.get("id"),E=v.get("children1"),k=v.getIn(["properties","isLocked"]),w=E?E.map(function(ae,ue){return ue}).valueSeq().toArray():null,A=x==="rule_group",P=x==="rule",F=x==="group",D=x==="case_group",R=!m&&(!E||A),G=(w==null?void 0:w.length)>0,V=h.length?h[h.length-1]:null,$=D?I:b;D&&(i.push(I),o=0,s=0,l={});var L=$?i.indexOf($):null,N=r.length,B=a,H;O||(H={},H.caseNo=L,H.globalNoByType=D?L:l[x]||0,H.indexPath=[].concat(Ce(h.slice(1).map(function(ae){return n[ae].childNo})),[S]),P?H.globalLeafNo=o:F&&(H.globalGroupNo=s)),r.push(I),n[I]={node:v,index:N,id:I,type:x,parent:V,parentType:V?n[V].type:null,children:w,childNo:S,caseId:$,caseNo:L,path:h.concat(I),lev:_,isLeaf:!E,isAtomicRule:R,isLocked:k||y,top:g?null:B,isDefaultCase:D?!E:void 0,atomicRulesCountInCase:D?0:void 0,position:H,collapsed:C,_top:N,leaf:!E};var z=0,M=0;g||(a+=1,z+=1,G&&!C&&!A&&(M+=1),!O&&!D&&(F&&s++,P&&o++,l[x]=(l[x]||0)+1)),b&&R&&n[b].atomicRulesCountInCase++;var W=0,q=0;if(G){var Y=0;E.map(function(ae,ue){if(ae){u(ae,h.concat(I),g||C,y||k,m||A,_+1,$,Y);var fe=n[ue];W=Math.max(W,fe.depth||0),q+=fe.height,Y++}})}z+=q,M+=W;var K=r.length,ie=K-N,te=g?null:B+z;Object.assign(n[I],{depth:E?M:void 0,_height:ie,height:z,bottom:te})}u(e,[],!1,!1,!1,0,null,null);for(var c=0;c<r.length;c++){var f=c>0?r[c-1]:null,d=c<r.length-1?r[c+1]:null,p=n[r[c]];p.prev=f,p.next=d}return{flat:r,items:n,cases:i}},mne=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type);var c=u=="rule_group";r++,l&&!c&&l.map(function(f,d){f&&n(f,a.concat(s))})}return n(e,[]),r-1},yg=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type),u=="rule"||u=="rule_group"?r++:l&&l.map(function(c,f){c&&n(c,a.concat(s))})}return n(e,[]),r},UI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e;function a(o,s){r&&o.path&&delete o.path,r&&!n&&s&&delete o.id;var l=o.properties;l&&l.operatorOptions==null&&delete l.operatorOptions;var u=o.children1;if(u){for(var c in u)u[c]&&a(u[c],c);n&&(o.children1=Object.values(u))}}return a(e,null),i},GI=function(e){var r=[],n=e.get("children1");return n&&n.map(function(i){var a=i.getIn(["properties","value"]),o;a&&a.size==1?(o=a.get(0),Array.isArray(o)&&o.length==0&&(o=null)):o=null,r=[].concat(Ce(r),[o])}),r},h0=function(e){return!e.get("children1")||e.get("children1").size==0},v0=function(e,r){return e.getIn(Ie(r,"children1")).size>0},bg=function(e){if(e!=null&&e.toJS){var r,n=e==null||(r=e.toJS)===null||r===void 0?void 0:r.call(e);return n!=null&&n.func?e.toOrderedMap():n}else return e};const yne=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:bg,expandTreePath:Ie,expandTreeSubpath:gg,fixEmptyGroupsInTree:nh,fixPathsInTree:zi,getFlatTree:mg,getItemByPath:dl,getLightTree:UI,getSwitchValues:GI,getTotalReordableNodesCountInTree:mne,getTotalRulesCountInTree:yg,hasChildren:v0,immutableToJs:t0,isEmptyTree:h0,isImmutable:au,jsToImmutable:bc,removeIsLockedInTree:HI,toImmutableList:Gr},Symbol.toStringTag,{value:"Module"}));var bne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e;return i=i.toJS(),i=UI(i,r,n),i}},g0=function(e){if(WI(e))return e;if(YI(e))return zi(bc(e));if(typeof e=="string"&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if(typeof e=="string")return zi(bc(JSON.parse(e)));throw new Error("Can't load tree!")},WI=function(e){return ur.isMap(e)},YI=function(e){return xt(e)=="object"&&(e.type=="group"||e.type=="switch_group")};function bc(t){var e=$o(t,function(r,n,i){var a=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-3]==="args",o=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-2]==="properties",s;if(r=="properties"){s=n.toOrderedMap();for(var l=0;l<2;l++){var u,c,f;((u=s.get("value"))===null||u===void 0||(c=(f=u).get)===null||c===void 0?void 0:c.call(f,l))===null&&(s=s.setIn(["value",l],void 0))}}else a?s=bg(n):(i?o:r=="value")&&Ue.Iterable.isIndexed(n)?s=n.map(bg).toList():r=="asyncListValues"?s=n.toJS():r=="children1"&&Ue.Iterable.isIndexed(n)?s=new Ue.OrderedMap(n.map(function(d){return[(d==null?void 0:d.get("id"))||Lt(),d]})):s=Ue.Iterable.isIndexed(n)?n.toList():n.toOrderedMap();return s});return e}function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KI(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_ne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function _ne(t,e){if(t){if(typeof t=="string")return ZS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(t,e)}}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Sne=function(e){return Array.from(new Set(e))},JI="jlField",QI="jlArgs",One=["==","!="],xne=["<","<=",">",">="],wne=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],XI=function(e){return{errors:[],settings:e==null?void 0:e.settings}},Ene=function(e,r){return ZI(e,r,!1)},ZI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=XI();i.settings={allowUnknownFields:!1,returnErrors:n};var a=ai(r,void 0,!1),o=Cne(a),s=e?uu(e,o,a,["rule","group","switch"],i):void 0,l=s?g0(s):void 0;return n?[l,i.errors]:(i.errors.length&&console.warn("Errors while importing from JsonLogic:",i.errors),l)},Cne=function(e){var r={},n={};for(var i in e.operators){var a=e.operators[i];if(typeof a.jsonLogic=="string"){var o=a.jsonLogic+"/"+Ur(a);r[o]||(r[o]=[]),r[o].push(i)}else if(typeof a.jsonLogic2=="string"){var s=a.jsonLogic2+"/"+Ur(a);r[s]||(r[s]=[]),r[s].push(i),n[i]||(n[i]={}),n[i]={template:a.jsonLogic(JI,i,QI),jsonLogic2:a.jsonLogic2,_jsonLogicIsExclamationOp:!!a._jsonLogicIsExclamationOp}}}var l={};for(var u in e.conjunctions){var c=e.conjunctions[u],f=c.jsonLogicConj||u.toLowerCase();l[f]=u}var d={},p=KI(cu(e)),v;try{for(p.s();!(v=p.n()).done;){var h=ke(v.value,2),g=h[0],y=h[1],m=void 0;y.jsonLogicIsMethod?m="#"+y.jsonLogic:typeof y.jsonLogic=="string"&&(m=y.jsonLogic),m&&(d[m]||(d[m]=[]),d[m].push(g))}}catch(O){p.e(O)}finally{p.f()}var _=e.settings.jsonLogic,b=_.groupVarKey,S=_.altVarKey;return{operators:r,conjunctions:l,funcs:d,varKeys:["var",b,S],combinationOperators:n}},_g=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a;if(r!=null&&r.combinationOperators)for(var o=0,s=Object.entries(r.combinationOperators);o<s.length;o++){var l=ke(s[o],2),u=l[0],c=l[1];if(i==null||i.includes(u)){var f=Tne(c.template,e);f.match&&(a?n.errors.push("Operator matched against 2 templates: ".concat(a.newOp," and ").concat(u)):a=f,a.newOp=c.jsonLogic2)}}return a},Tne=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(e==null||r==null)return n.match=!1,n;var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return n.match=!1,n;for(var o=0;o<i.length;o++){var s=i[o],l=e[s];if(s!==a[o])return n.match=!1,n;if(l===JI&&Fn(r[s]))n.jlField=r[s];else if(l===QI)n.jlArgs.push(r[s]);else if(xt(l)==="object"&&l!==null||Array.isArray(l))n=t(l,r[s],n);else if(l!==r[s])return n.match=!1,n}return n},uu=function t(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c,f;Fn(e)&&(c=Object.keys(e)[0],f=e[c],Array.isArray(f)||(f=[f]));var d,p=a.errors.length,v=n.settings.jsonLogic.lockedOp,h=c=="!"&&f.length==1&&f[0]&&Fn(f[0])&&r.varKeys.includes(Object.keys(f[0])[0]),g=_g(e,r,a);g&&(f=[],f[0]=g.jlField,g.jlArgs.forEach(function(O){return f.push(O)}),c=g.newOp);var y=c=="!"&&!h,m=v&&c==v,_=i.includes("switch"),b=_;m?d=t(f[0],r,n,i,a,o,s,l,u,!0):y?d=t(f[0],r,n,i,a,!o,s,l,u):i.includes("val")?d=eA(c,f,r,n,o,a,u)||tA(c,f,r,n,o,s,a,u)||kne(e,s,l,n,a):(i.includes("switch")&&(d=$ne(c,f,r,n,o,a,u)),d==null&&i.includes("group")&&(d=rA(c,f,r,n,o,a,u,!1)),d==null&&i.includes("rule")&&(d=Rne(c,f,r,n,o,a,u)),d&&b&&!["group","switch_group"].includes(d.type)&&(d=Qu(d,n)));var S=a.errors.length;return c!="!"&&d===void 0&&S==p&&a.errors.push("Can't parse logic ".concat(JSON.stringify(e))),m&&(d.properties.isLocked=!0),d},kne=function(e,r,n,i,a){var o;if(e===void 0&&(e=r==null?void 0:r.defaultValue),e!==void 0){n=n||(r==null?void 0:r.mainWidget);var s=i.widgets[n],l=r==null?void 0:r.type;if(l&&!s){a.errors.push("No widget for type ".concat(l));return}if(Fn(e)){a.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)));return}if(l==="time"&&typeof e=="number"){var u=Math.floor(e/60/60)%24,c=Math.floor(e/60)%60,f=e%60,d=s.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(u),p.setMinutes(c),p.setSeconds(f),e=je(p).format(d)}else e="".concat(u,":").concat(c,":").concat(f)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var v=new Date(e);v instanceof Date&&v.toISOString()===e&&(e=v)}catch(_){a.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&r){var h=s.valueFormat;h&&(e=je(e).format(h))}var g;if(e&&r!==null&&r!==void 0&&(o=r.fieldSettings)!==null&&o!==void 0&&o.asyncFetch){var y=Array.isArray(e)?e:[e];g=y}if(s!=null&&s.jsonLogicImport)try{e=s.jsonLogicImport.call(i.ctx,e)}catch(_){var m;a.errors.push("Can't import value ".concat(e," using import func of widget ").concat(n,": ").concat((m=_==null?void 0:_.message)!==null&&m!==void 0?m:_)),e=void 0}return{valueSrc:"value",value:e,valueType:s==null?void 0:s.type,asyncListValues:g}}},eA=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n.varKeys.includes(e)&&typeof r[0]=="string"){var l,u=Qd(i,r[0],s),c=Me(i,u);if(!c&&!((l=o.settings)!==null&&l!==void 0&&l.allowUnknownFields)){o.errors.push("No config for field ".concat(u));return}return{valueSrc:"field",value:u,valueType:c==null?void 0:c.type}}},Ine=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=Object.keys(r)[0],f=Object.values(r)[0],d=function(D,R){return Ane(D,R,i,a,o,l,u)||jne(D,R,i,a,o,s,l,u)},p=l.errors.length,v,h,g,y,m=d(c,f);if(m&&(v=m.field,h=m.fieldSrc),e&&(y=!0,g=n[0],n=[]),c=="reduce"&&Array.isArray(f)&&f.length==3){var _=f,b=ke(_,3),S=b[0],O=b[1],x=b[2];if(Fn(S)&&x==0&&Fn(O)&&Array.isArray(O["+"])&&O["+"][0]==1&&Fn(O["+"][1])&&O["+"][1].var=="accumulator")if(c=Object.keys(S)[0],f=Object.values(S)[0],c=="filter"){var C=f,I=ke(C,2),E=I[0],k=I[1];if(Fn(E)){c=Object.keys(E)[0],f=Object.values(E)[0];var w=d(c,f);w&&(v=w.field,h=w.fieldSrc,g=k,y=!0)}}else{var A=d(c,f);A&&(v=A.field,h=A.fieldSrc,y=!0)}}var P=l.errors.length;if(!v&&P==p&&l.errors.push("Unknown LHS ".concat(JSON.stringify(r))),!!v)return{field:v,fieldSrc:h,having:g,isGroup:y,args:n}},Ane=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Array.isArray(r)||(r=[r]);var l=eA(e,r,n,i,a,o,s);if(l)return{fieldSrc:"field",field:l.value}},jne=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=tA(e,r,n,i,a,o,s,l);if(u)return{fieldSrc:"func",field:u.value}},tA=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(e){var u,c,f,d=e=="method";if(d){var p,v,h=hE(r);p=h[0],u=h[1],v=h.slice(2),c=[p].concat(Ce(v))}else u=e,c=r;var g=(d?"#":"")+u,y=(o==null?void 0:o.type)||(o==null?void 0:o.returnType),m=(n.funcs[g]||[]).filter(function(R){return o?Wr(i,R).returnType==y:!0});if(m.length)f=m[0];else{var _=le({},e,r),b=KI(cu(i)),S;try{for(b.s();!(S=b.n()).done;){var O=ke(S.value,2),x=O[0],C=O[1];if(C.jsonLogicImport&&(!y||C.returnType==y)){var I=void 0;try{I=C.jsonLogicImport(_)}catch(R){}I&&(f=x,c=I)}}}catch(R){b.e(R)}finally{b.f()}}if(f&&f){var E=Wr(i,f),k=Object.keys(E.args||{}),w=c.reduce(function(R,G,V){var $=k[V],L=E.args[$],N;return L&&(N=uu(G,n,i,["val"],s,!1,L,null,l)),N!==void 0?bo(bo({},R),{},le({},$,N)):R},{});for(var A in E.args){var P=E.args[A],F=w[A];if(F===void 0){if(F=P==null?void 0:P.defaultValue,F!==void 0){var D;F={value:F,valueSrc:(D=F)!==null&&D!==void 0&&D.func?"func":"value",valueType:P.type}}if(F===void 0){if(!(P!=null&&P.isOptional)){s.errors.push("No value for arg ".concat(A," of func ").concat(f));return}}else w[A]=F}}return{valueSrc:"func",value:{func:f,args:w},valueType:E.returnType}}}},rA=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=n.conjunctions[e],u=i.settings.fieldSeparator;if(l){var c="group",f=r.map(function(m){return uu(m,n,i,["rule","group"],o,!1,null,null,s)}).filter(function(m){return m!==void 0}).reduce(function(m,_){return bo(bo({},m),{},le({},_.id,_))},{}),d=Object.values(f).map(function(m){var _,b;return(m==null||(_=m.properties)===null||_===void 0?void 0:_.fieldSrc)=="field"&&(m==null||(b=m.properties)===null||b===void 0?void 0:b.field)}).filter(function(m){var _;return m==null||(_=m.includes)===null||_===void 0?void 0:_.call(m,u)}),p=Object.fromEntries(Sne(d).map(function(m){var _=m.split(u),b=Object.fromEntries(_.slice(0,-1).map(function(S,O,x){return[].concat(Ce(x.slice(0,O)),[S])}).map(function(S){return[S.join(u),Me(i,S)]}).filter(function(S){var O=ke(S,2);O[0];var x=O[1];return(x==null?void 0:x.type)=="!group"}));return[m,Object.keys(b)]})),v={conjunction:l,not:a},h=Lt(),g={},y={};return Object.entries(f).map(function(m){var _=ke(m,2),b=_[0],S=_[1];if((S==null?void 0:S.type)=="group"||(S==null?void 0:S.type)=="rule_group")g[b]=S;else{var O,x=S==null||(O=S.properties)===null||O===void 0?void 0:O.field,C=p[x]||[],I=C[C.length-1];if(!I)S&&(g[b]=S);else{var E=g,k=Nr(s,i),w=Nr(I,i),A=Xc(k,w.slice(0,k.length));A||(k=[]);var P=I.split(u).slice(k.length).map(function(F,D,R){return[].concat(Ce(k),Ce(R.slice(0,D)),[F]).join(u)}).map(function(F){return{f:F,fc:Me(i,F)||{}}}).filter(function(F){var D=F.fc;return D.type!="!struct"});P.map(function(F,D){var R=F.f,G=F.fc,V=y[R];V||(V=Lt(),y[R]=V,E[V]={type:"rule_group",id:V,children1:{},properties:{conjunction:l,not:!1,field:R,fieldSrc:"field",mode:G.mode}}),E=E[V].children1}),E[b]=S}}}),{type:c,id:h,children1:g,properties:v}}},Pne=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e)return{type:"rule_group",id:Lt(),children1:le({},e.id,e),properties:{conjunction:a||Oc(i,n),not:o,field:r}}},Qu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Lt(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n}}},Fne=function(e,r,n,i,a,o,s){var l=XI(s),u=Lne(e,r,n,i,a,o,l);if(!u){s.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(r));return}return u},Lne=function(e,r,n,i,a,o,s){var l,u=wne.map(function(I){var E;return(E=o.operators[I])===null||E===void 0?void 0:E.jsonLogic2}).includes(e),c=o.settings.groupOperators.includes(e)&&!u,f=c?0:r-1;c?f=0:One.includes(e)&&f==1&&n[1]===null&&(r=1,f=0,n=[n[0]]);var d=e+"/"+f,p=a.operators[d];if(p){var v,h=[];if(xne.includes(e)&&r==3)v=n[1],h=[n[0],n[2]];else{var g=n,y=hE(g);v=y[0],h=y.slice(1)}if(!Fn(v)){s.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));return}var m=Ine(c,v,h,a,o,null,null,s,i);if(m){var _=m.field,b=m.fieldSrc,S=m.having;m.isGroup;var O=m.args,x=Me(o,_);if(!x&&!((l=s.settings)!==null&&l!==void 0&&l.allowUnknownFields)){s.errors.push("No config for LHS ".concat(_));return}var C=p[0];if(p.length>1&&x&&x.operators){if(p=p.filter(function(I){return x.operators.includes(I)}),p.length==0){s.errors.push("No corresponding ops for LHS ".concat(_));return}C=p[0]}return{field:_,fieldSrc:b,fieldConfig:x,opKey:C,args:O,having:S}}}},Rne=function t(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(e){var c=Object.values(i.conjunctions).map(function(z){var M=z.jsonLogicConj;return M}),f=r.length,d=Fne(e,f,r,l,n,i,o);if(d){var p=d.field,v=d.fieldSrc,h=d.fieldConfig,g=d.opKey,y=d.args,m=d.having,_=Me(i,l),b=i.operators[g],S=i.operators[(s=b)===null||s===void 0?void 0:s.reversedOp],O=!1,x=!!S,C=h.type=="!group",I=(_==null?void 0:_.type)=="!group",E=x&&(!!i.settings.reverseOperatorsForNot||O||C&&!m||!C&&I&&!u),k=a&&E||O,w,A,P=!1,F=!!i.settings.reverseOperatorsForNot;if((h==null?void 0:h.type)=="!group"&&m){w=Object.keys(m)[0],A=m[w],Array.isArray(A)||(A=[A]);for(var D=_g(m,n,o);w=="!"&&!D;){var R=w=="!"&&A.length==1&&A[0]&&Fn(A[0])&&n.varKeys.includes(Object.keys(A[0])[0]);if(R)break;P=!P,m=m["!"],w=Object.keys(m)[0],A=m[w],F&&c.includes(w)&&A.length==1&&(m=m[w][0],w=Object.keys(m)[0],A=m[w]);var G=_g(m,n,o);D=G||D}Array.isArray(A)||(A=[A]),D&&(A=[],A[0]=D.jlField,D.jlArgs.forEach(function(z){return A.push(z)}),w=D.newOp)}k&&(a=!a,g=b.reversedOp,b=i.operators[g]);var V=gr(i,p,g,null),$=y.map(function(z){return uu(z,n,i,["val"],o,!1,h,V,l)});if(!$.filter(function(z){return z===void 0}).length){var L;if(h==null||h.type,(h==null?void 0:h.type)=="!group"&&m){if(n.conjunctions[w]!==void 0)L=rA(w,A,n,i,P,o,p,!0);else if(L=t(w,A,n,i,P,o,p,!0),L){var N;L.type==="rule_group"&&((N=L.properties)===null||N===void 0?void 0:N.field)!==p&&(L=Pne(L,p,h,i)),Object.assign(L.properties,{conjunction:Oc(i,h)})}if(!L)return;L.type="rule_group",Object.assign(L.properties,{field:p,mode:h.mode,operator:g}),h.mode=="array"&&Object.assign(L.properties,{value:$.map(function(z){return z.value}),valueSrc:$.map(function(z){return z.valueSrc}),valueType:$.map(function(z){return z.valueType})}),a&&(L=Qu(L,i,a))}else if((h==null?void 0:h.type)=="!group"&&!m)L={type:"rule_group",id:Lt(),children1:{},properties:{conjunction:Oc(i,h),not:!1,mode:h.mode,field:p,operator:g}},h.mode==="array"&&Object.assign(L.properties,{value:$.map(function(z){return z.value}),valueSrc:$.map(function(z){return z.valueSrc}),valueType:$.map(function(z){return z.valueType})}),a&&(L=Qu(L,i,a));else{var B=$.map(function(z){return z.asyncListValues}).filter(function(z){return z!=null}),H=B.length?B[0]:void 0;L={type:"rule",id:Lt(),properties:bo({field:p,fieldSrc:v,operator:g,value:$.map(function(z){return z.value}),valueSrc:$.map(function(z){return z.valueSrc}),valueType:$.map(function(z){return z.valueType})},H?{asyncListValues:H}:{})},(a||u)&&(L=Qu(L,i,a))}return L}}}},$ne=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if((e==null?void 0:e.toLowerCase())==="if"){var l=Nne(r),u=l.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return[v?uu(v,n,i,["rule","group"],o,!1,null,null,s):null,Mne(i,o,n,h)]}),c=u.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return Dne(v,h,i,o)}),f={type:"switch_group",id:Lt(),children1:c,properties:{}};return f}},Nne=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]);var u=Fn(l)?Object.keys(l)[0]:null;(u==null?void 0:u.toLowerCase())==="if"?n(l[u]):r.push([void 0,l])}return n(e),r},Dne=function(e,r,n,i){var a;return e?(a=bo({},e),a.type?(a.type!="group"&&(a=Qu(a,n)),a.type="case_group"):(i.errors.push("Unexpected case: ".concat(JSON.stringify(a))),a=void 0)):a={id:Lt(),type:"case_group",properties:{}},a&&(a.properties=bo(bo({},a.properties),r)),a},Mne=function(e,r,n,i){var a=Me(e,"!case_value");if(!a){r.errors.push("Missing caseValueField in settings");return}var o=a.mainWidget,s=e.widgets[o];if(!s){r.errors.push("No widget ".concat(o," for case value"));return}var l=uu(i,n,e,["val","case_val"],r,!1,a,o);if(l!=null){var u=l.value,c=l.valueSrc,f=l.valueType,d={value:[u],valueSrc:[c!=null?c:"value"],valueType:[f!=null?f:s==null?void 0:s.type],field:"!case_value"};return d}},nA={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(An,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={},u=o||"Abstract",c=[],f=null,d;if(l._type=u,l.getType=function(){return u},l.setType=function(g){u=g},l.getChildren=function(){return c},l.addChild=function(g){if(g){if(!g.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(g)};g.setParent(l),c.push(g)}},l.getParent=function(){return f},l.setParent=function(g){f=g},l.getContext=function(g){return d||g.activeContext.peek()},l.setContext=function(g){d=g},l.getStartPosition=function(){return s>>16},l.getEndPosition=function(){return s&65535},l.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},l.toString=function(){var g="Kind: "+l.getType();g+=", Children: [";for(var y=0,m=l.getChildren().length;y<m;y+=1)g+="{"+l.getChildren()[y]+"}, ";return g+="]",g},s===0)throw{name:"Error",message:"Position cannot be 0"};for(var p=arguments.length,v=Array(p>2?p-2:0),h=2;h<p;h++)v[h-2]=arguments[h];return v&&v.forEach(function(g){l.addChild(g)}),l}n.SpelNode={create:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=a;function a(o){this.elements=o||[]}a.prototype.push=function(o){return this.elements.push(o),o},a.prototype.pop=function(){return this.elements.pop()},a.prototype.peek=function(){return this.elements[this.elements.length-1]},a.prototype.empty=function(){return this.elements.length>0},a.prototype.search=function(o){return this.elements.length-this.elements.indexOf(o)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(l){this.type=l,this.tokenChars=a[l],this._hasPayload=typeof a[l]!="string",typeof a[l]=="number"&&(this._ordinal=a[l])}for(var s in a)a.hasOwnProperty(s)&&(o[s]=new o(s));o.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(l){for(var u in a)if(a.hasOwnProperty(u)&&a[u]===l)return o[u]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var a=i(4),o=i(50);n.SpelExpressionEvaluator=a.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var a=i(5),o=i(1),s={};function l(u,c,f){var d=new o.Stack,p;return c||(c={}),d.push(c),p={rootContext:c,activeContext:d,locals:f},u.getValue(p)}s.compile=function(u){var c=(0,a.SpelExpressionParser)().parse(u);return{eval:function(d,p){return l(c,d,p)},_compiledExpression:c}},s.eval=function(u,c,f){return s.compile(u).eval(c,f)},n.SpelExpressionEvaluator=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var a=i(2),o=i(6),s=i(8),l=i(9),u=i(10),c=i(11),f=i(12),d=i(13),p=i(14),v=i(15),h=i(16),g=i(17),y=i(18),m=i(19),_=i(20),b=i(21),S=i(22),O=i(23),x=i(24),C=i(25),I=i(26),E=i(27),k=i(28),w=i(29),A=i(30),P=i(31),F=i(32),D=i(33),R=i(34),G=i(35),V=i(36),$=i(37),L=i(38),N=i(39),B=i(40),H=i(41),z=i(42),M=i(43),W=i(44),q=i(45),Y=i(46),K=i(47),ie=i(48),te=i(49);n.SpelExpressionParser=function(){var ue=new RegExp("[\\p{L}\\p{N}_$]+"),fe=[],pe,Se,Q,re;function de(X){}function ve(X,se){try{pe=X,Se=o.Tokenizer.tokenize(X),Q=Se.length,re=0,fe=[];var Te=ee();return ne()&&_e(be().startPos,"MORE_INPUT",Z().toString()),Te}catch(Ze){throw Ze.message}}function ee(){var X=me();if(ne()){var se=be();if(se.getKind()===a.TokenKind.ASSIGN){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var Te=me();return y.Assign.create(Re(se),X,Te)}if(se.getKind()===a.TokenKind.ELVIS){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-2))),Z();var Ze=ee();return Ze===null&&(Ze=c.NullLiteral.create(nn(se.startPos+1,se.endPos+1))),L.Elvis.create(Re(se),X,Ze)}if(se.getKind()===a.TokenKind.QMARK){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var wn=ee();mt(a.TokenKind.COLON);var ln=ee();return $.Ternary.create(Re(se),X,wn,ln)}}return X}function me(){for(var X=Oe();Lr("or")||dt(a.TokenKind.SYMBOLIC_OR);){var se=Z(),Te=Oe();_t(se,X,Te),X=G.OpOr.create(Re(se),X,Te)}return X}function Oe(){for(var X=we();Lr("and")||dt(a.TokenKind.SYMBOLIC_AND);){var se=Z(),Te=we();_t(se,X,Te),X=R.OpAnd.create(Re(se),X,Te)}return X}function we(){var X=Je(),se=Kr();if(se!==null){var Te=Z(),Ze=Je();_t(Te,X,Ze);var wn=se.kind;if(se.isNumericRelationalOperator()){var ln=Re(Te);return wn===a.TokenKind.GT?S.OpGT.create(ln,X,Ze):wn===a.TokenKind.LT?x.OpLT.create(ln,X,Ze):wn===a.TokenKind.LE?O.OpLE.create(ln,X,Ze):wn===a.TokenKind.GE?b.OpGE.create(ln,X,Ze):wn===a.TokenKind.EQ?m.OpEQ.create(ln,X,Ze):_.OpNE.create(ln,X,Ze)}return wn===a.TokenKind.INSTANCEOF?M.OpInstanceof.create(Re(Te),X,Ze):wn===a.TokenKind.MATCHES?V.OpMatches.create(Re(Te),X,Ze):W.OpBetween.create(Re(Te),X,Ze)}return X}function Je(){for(var X=at();$t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.INC);){var se=Z(),Te=at();Jr(se,Te),se.getKind()===a.TokenKind.PLUS?X=C.OpPlus.create(Re(se),X,Te):se.getKind()===a.TokenKind.MINUS&&(X=I.OpMinus.create(Re(se),X,Te))}return X}function at(){for(var X=ce();$t(a.TokenKind.STAR,a.TokenKind.DIV,a.TokenKind.MOD);){var se=Z(),Te=ce();_t(se,X,Te),se.getKind()===a.TokenKind.STAR?X=E.OpMultiply.create(Re(se),X,Te):se.getKind()===a.TokenKind.DIV?X=k.OpDivide.create(Re(se),X,Te):X=w.OpModulus.create(Re(se),X,Te)}return X}function ce(){var X=ge(),se;if(dt(a.TokenKind.POWER)){se=Z();var Te=ge();return Jr(se,Te),A.OpPower.create(Re(se),X,Te)}return X!==null&&$t(a.TokenKind.INC,a.TokenKind.DEC)?(se=Z(),se.getKind()===a.TokenKind.INC?P.OpInc.create(Re(se),!0,X):F.OpDec.create(Re(se),!0,X)):X}function ge(){var X,se;return $t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.NOT)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.NOT?D.OpNot.create(Re(X),se):X.getKind()===a.TokenKind.PLUS?C.OpPlus.create(Re(X),se):I.OpMinus.create(Re(X),se)):$t(a.TokenKind.INC,a.TokenKind.DEC)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.INC?P.OpInc.create(Re(X),!1,se):F.OpDec.create(Re(X),!1,se)):he()}function he(){var X=[],se=Fr();for(X.push(se);Pe();)X.push(lt());return X.length===1?X[0]:h.CompoundExpression.create(nn(se.getStartPosition(),X[X.length-1].getEndPosition()),X)}function Pe(){var X=null;return $t(a.TokenKind.DOT,a.TokenKind.SAFE_NAVI)?X=Ne():X=Be(),X===null?!1:(qe(X),!0)}function Be(){return dt(a.TokenKind.LSQUARE)&&ft()?lt():null}function Ne(){var X=Z(),se=X.getKind()===a.TokenKind.SAFE_NAVI;return Rt(se)||ot()||We(se)||Et(se)?lt():(be()===null?_e(X.startPos,"OOD"):_e(X.startPos,"UNEXPECTED_DATA_AFTER_DOT",He(be())),null)}function ot(){if(!dt(a.TokenKind.HASH))return!1;var X=Z(),se=mt(a.TokenKind.IDENTIFIER),Te=st();return Te===null?(qe(v.VariableReference.create(se.data,nn(X.startPos,se.endPos))),!0):(qe(f.FunctionReference.create(se.data,nn(X.startPos,se.endPos),Te)),!0)}function st(){if(!dt(a.TokenKind.LPAREN))return null;var X=[];return Bt(X),mt(a.TokenKind.RPAREN),X}function Ke(X){dt(a.TokenKind.LPAREN)||_e(Re(be()),"MISSING_CONSTRUCTOR_ARGS"),Bt(X),mt(a.TokenKind.RPAREN)}function Bt(X){var se=be().startPos,Te;do{Z();var Ze=be();Ze===null&&_e(se,"RUN_OUT_OF_ARGUMENTS"),Ze.getKind()!==a.TokenKind.RPAREN&&X.push(ee()),Te=be()}while(Te!==null&&Te.kind===a.TokenKind.COMMA);Te===null&&_e(se,"RUN_OUT_OF_ARGUMENTS")}function Fr(){return cr()||Yr()||Le()||De()||Mr()||Rt(!1)||ot()||vt()||We(!1)||Et(!1)||ft()||Qe()?lt():null}function vt(){if(dt(a.TokenKind.BEAN_REF)){var X=Z(),se=null,Te=null;dt(a.TokenKind.IDENTIFIER)?(se=mt(a.TokenKind.IDENTIFIER),Te=se.data):dt(a.TokenKind.LITERAL_STRING)?(se=mt(a.TokenKind.LITERAL_STRING),Te=se.stringValue(),Te=Te.substring(1,Te.length()-1)):_e(X.startPos,"INVALID_BEAN_REFERENCE");var Ze=Y.BeanReference.create(Re(se),Te);return qe(Ze),!0}return!1}function Le(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();if(X.stringValue()!=="T")return!1;var se=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(se.stringValue(),Re(se))),!0;mt(a.TokenKind.LPAREN);for(var Te=At(),Ze=0;fr(a.TokenKind.LSQUARE,!0);)mt(a.TokenKind.RSQUARE),Ze++;return mt(a.TokenKind.RPAREN),qe(q.TypeReference.create(Re(X),Te,Ze)),!0}return!1}function De(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();return X.stringValue().toLowerCase()!=="null"?!1:(Z(),qe(c.NullLiteral.create(Re(X))),!0)}return!1}function We(X){var se=be();if(!fr(a.TokenKind.PROJECT,!0))return!1;var Te=ee();return mt(a.TokenKind.RSQUARE),qe(z.Projection.create(X,Re(se),Te)),!0}function Qe(){var X=be(),se=[];if(!fr(a.TokenKind.LCURLY,!0))return!1;var Te=null,Ze=be();if(fr(a.TokenKind.RCURLY,!0))Te=N.InlineList.create(nn(X.startPos,Ze.endPos));else if(fr(a.TokenKind.COLON,!0))Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos));else{var wn=ee();if(dt(a.TokenKind.RCURLY))se.push(wn),Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(nn(X.startPos,Ze.endPos),se);else if(fr(a.TokenKind.COMMA,!0)){se.push(wn);do se.push(ee());while(fr(a.TokenKind.COMMA,!0));Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(Re(X.startPos,Ze.endPos),se)}else if(fr(a.TokenKind.COLON,!0)){var ln=[];for(ln.push(wn),ln.push(ee());fr(a.TokenKind.COMMA,!0);)ln.push(ee()),mt(a.TokenKind.COLON),ln.push(ee());Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos),ln)}else _e(X.startPos,"OOD")}return qe(Te),!0}function ft(){var X=be();if(!fr(a.TokenKind.LSQUARE,!0))return!1;var se=ee();return mt(a.TokenKind.RSQUARE),qe(g.Indexer.create(Re(X),se)),!0}function Et(X){var se=be();if(!rr())return!1;Z();var Te=ee();return Te===null&&_e(Re(se),"MISSING_SELECTION_EXPRESSION"),mt(a.TokenKind.RSQUARE),se.getKind()===a.TokenKind.SELECT_FIRST?qe(H.Selection.create(X,H.Selection.FIRST,Re(se),Te)):se.getKind()===a.TokenKind.SELECT_LAST?qe(H.Selection.create(X,H.Selection.LAST,Re(se),Te)):qe(H.Selection.create(X,H.Selection.ALL,Re(se),Te)),!0}function At(){for(var X=[],se=be();Sr(se);)Z(),se.kind!==a.TokenKind.DOT&&X.push(K.Identifier.create(se.stringValue(),Re(se))),se=be();X.length||(se===null&&_e(pe.length(),"OOD"),_e(se.startPos,"NOT_EXPECTED_TOKEN","qualified ID",se.getKind().toString().toLowerCase()));var Te=nn(X[0].getStartPosition(),X[X.length-1].getEndPosition());return ie.QualifiedIdentifier.create(Te,X)}function Sr(X){if(X===null||X.kind===a.TokenKind.LITERAL_STRING)return!1;if(X.kind===a.TokenKind.DOT||X.kind===a.TokenKind.IDENTIFIER)return!0;var se=X.stringValue();return se&&se.length&&ue.test(se)}function Rt(X){if(dt(a.TokenKind.IDENTIFIER)){var se=Z(),Te=st();return Te===null?(qe(p.PropertyReference.create(X,se.stringValue(),Re(se))),!0):(qe(d.MethodReference.create(X,se.stringValue(),Re(se),Te)),!0)}return!1}function Mr(){if(Lr("new")){var X=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(X.stringValue(),Re(X))),!0;var se=At(),Te=[];if(Te.push(se),dt(a.TokenKind.LSQUARE)){for(var Ze=[];fr(a.TokenKind.LSQUARE,!0);)dt(a.TokenKind.RSQUARE)?Ze.push(null):Ze.push(ee()),mt(a.TokenKind.RSQUARE);Qe()&&Te.push(lt()),qe(te.ConstructorReference.create(Re(X),Ze,Te))}else Ke(Te),qe(te.ConstructorReference.create(Re(X),Te));return!0}return!1}function qe(X){fe.push(X)}function lt(){return fe.pop()}function cr(){var X=be();if(X===null)return!1;if(X.getKind()===a.TokenKind.LITERAL_INT||X.getKind()===a.TokenKind.LITERAL_LONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),10),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_REAL||X.getKind()===a.TokenKind.LITERAL_REAL_FLOAT)qe(l.NumberLiteral.create(parseFloat(X.stringValue()),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_HEXINT||X.getKind()===a.TokenKind.LITERAL_HEXLONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),16),Re(X)));else if(Lr("true"))qe(s.BooleanLiteral.create(!0,Re(X)));else if(Lr("false"))qe(s.BooleanLiteral.create(!1,Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_STRING)qe(u.StringLiteral.create(X.stringValue(),Re(X)));else return!1;return Z(),!0}function Yr(){if(dt(a.TokenKind.LPAREN)){Z();var X=ee();return mt(a.TokenKind.RPAREN),qe(X),!0}else return!1}function Kr(){var X=be();if(X===null)return null;if(X.isNumericRelationalOperator())return X;if(X.isIdentifier()){var se=X.stringValue();if(se.toLowerCase()==="instanceof")return X.asInstanceOfToken();if(se.toLowerCase()==="matches")return X.asMatchesToken();if(se.toLowerCase()==="between")return X.asBetweenToken()}return null}function mt(X){var se=Z();return se===null&&_e(pe.length,"OOD"),se.getKind()!==X&&_e(se.startPos,"NOT_EXPECTED_TOKEN",X.toString().toLowerCase(),se.getKind().toString().toLowerCase()),se}function dt(X){return fr(X,!1)}function fr(X,se){if(!ne())return!1;var Te=be();return Te.getKind()===X?(se&&re++,!0):X===a.TokenKind.IDENTIFIER&&Te.getKind().ordinal()>=a.TokenKind.DIV.ordinal()&&Te.getKind().ordinal()<=a.TokenKind.NOT.ordinal()&&Te.data!==null}function $t(){if(!ne())return!1;for(var X=be(),se=Array.prototype.slice.call(arguments),Te=0,Ze=se.length;Te<Ze;Te+=1)if(X.getKind()===se[Te])return!0;return!1}function Lr(X){if(!ne())return!1;var se=be();return se.getKind()===a.TokenKind.IDENTIFIER&&se.stringValue().toLowerCase()===X.toLowerCase()}function rr(){if(!ne())return!1;var X=be();return X.getKind()===a.TokenKind.SELECT||X.getKind()===a.TokenKind.SELECT_FIRST||X.getKind()===a.TokenKind.SELECT_LAST}function ne(){return re<Se.length}function Z(){return re>=Q?null:Se[re++]}function be(){return re>=Q?null:Se[re]}function _e(X,se,Te,Ze){throw Te&&(se+="\nExpected: "+Te),Ze&&(se+="\nActual: "+Ze),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+pe+"' at position "+X+". Message: "+se}}function He(X){return X.getKind().hasPayload()?X.stringValue():X.getKind().toString().toLowerCase()}function _t(X,se,Te){qt(X,se),Jr(X,Te)}function qt(X,se){se===null&&_e(X.startPos,"LEFT_OPERAND_PROBLEM")}function Jr(X,se){se===null&&_e(X.startPos,"RIGHT_OPERAND_PROBLEM")}function Re(X){return(X.startPos<<16)+X.endPos}function nn(X,se){return(X<<16)+se}return{setConfiguration:de,parse:ve}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var a=i(7),o=i(2),s=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],l=[],u=1,c=2,f=4;function d(){var v;for(v=48;v<=57;v+=1)l[v]|=u|c;for(v=65;v<=70;v+=1)l[v]|=c;for(v=97;v<=102;v+=1)l[v]|=c;for(v=65;v<=90;v+=1)l[v]|=f;for(v=97;v<=122;v+=1)l[v]|=f}d();function p(v){var h=v,g=v+"\0",y=g.length,m=0,_=[];function b(){for(var M;m<y;)if(M=g[m],H(M))C();else switch(M){case"+":A(o.TokenKind.INC)?F(o.TokenKind.INC):P(o.TokenKind.PLUS);break;case"_":C();break;case"-":A(o.TokenKind.DEC)?F(o.TokenKind.DEC):P(o.TokenKind.MINUS);break;case":":P(o.TokenKind.COLON);break;case".":P(o.TokenKind.DOT);break;case",":P(o.TokenKind.COMMA);break;case"*":P(o.TokenKind.STAR);break;case"/":P(o.TokenKind.DIV);break;case"%":P(o.TokenKind.MOD);break;case"(":P(o.TokenKind.LPAREN);break;case")":P(o.TokenKind.RPAREN);break;case"[":P(o.TokenKind.LSQUARE);break;case"#":P(o.TokenKind.HASH);break;case"]":P(o.TokenKind.RSQUARE);break;case"{":P(o.TokenKind.LCURLY);break;case"}":P(o.TokenKind.RCURLY);break;case"@":P(o.TokenKind.BEAN_REF);break;case"^":A(o.TokenKind.SELECT_FIRST)?F(o.TokenKind.SELECT_FIRST):P(o.TokenKind.POWER);break;case"!":A(o.TokenKind.NE)?F(o.TokenKind.NE):A(o.TokenKind.PROJECT)?F(o.TokenKind.PROJECT):P(o.TokenKind.NOT);break;case"=":A(o.TokenKind.EQ)?F(o.TokenKind.EQ):P(o.TokenKind.ASSIGN);break;case"&":if(!A(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+h+") at position "+m};F(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!A(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+h+") at position "+m};F(o.TokenKind.SYMBOLIC_OR);break;case"?":A(o.TokenKind.SELECT)?F(o.TokenKind.SELECT):A(o.TokenKind.ELVIS)?F(o.TokenKind.ELVIS):A(o.TokenKind.SAFE_NAVI)?F(o.TokenKind.SAFE_NAVI):P(o.TokenKind.QMARK);break;case"$":A(o.TokenKind.SELECT_LAST)?F(o.TokenKind.SELECT_LAST):C();break;case">":A(o.TokenKind.GE)?F(o.TokenKind.GE):P(o.TokenKind.GT);break;case"<":A(o.TokenKind.LE)?F(o.TokenKind.LE):P(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x(M==="0");break;case" ":case"	":case"\r":case"\n":m+=1;break;case"'":S();break;case'"':O();break;case"\0":m+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+h+") at position "+m};default:throw{name:"SpelParseException",message:"Cannot handle character '"+M+"' in expression ("+h+") at position "+m}}}function S(){for(var M=m,W=!1,q;!W;)if(m+=1,q=g[m],q==="'"&&(g[m+1]==="'"?m+=1:W=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,w(M,m),M,m))}function O(){for(var M=m,W=!1,q;!W;)if(m+=1,q=g[m],q==='"'&&(g[m+1]==='"'?m+=1:W=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,w(M,m),M,m))}function x(M){var W=!1,q=m,Y=g[m+1],K=Y==="x"||Y==="X",ie,te,ae,ue;if(M&&K){m=m+1;do m+=1;while(z(g[m]));G("L","l")?(E(w(q+2,m),!0,q,m),m+=1):E(w(q+2,m),!1,q,m);return}do m+=1;while(B(g[m]));if(Y=g[m],Y==="."){W=!0,ie=m;do m+=1;while(B(g[m]));if(m===ie+1){m=ie,I(w(q,m),!1,q,m);return}}if(te=m,G("L","l")){if(W)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+h+") at position "+m};I(w(q,te),!0,q,te),m+=1}else if(V(g[m])){W=!0,m+=1,ae=g[m],N(ae)&&(m+=1);do m+=1;while(B(g[m]));ue=!1,$(g[m])?(ue=!0,m+=1,te=m):L(g[m])&&(m+=1,te=m),k(w(q,m),ue,q,m)}else Y=g[m],ue=!1,$(Y)?(W=!0,ue=!0,m+=1,te=m):L(Y)&&(W=!0,m+=1,te=m),W?k(w(q,te),ue,q,te):I(w(q,te),!1,q,te)}function C(){var M=m,W,q,Y;do m+=1;while(R(g[m]));if(W=w(M,m),(m-M===2||m-M===3)&&(q=W.toUpperCase(),Y=s.indexOf(q),Y>=0)){D(o.TokenKind.valueOf(q),M,W);return}_.push(new a.Token(o.TokenKind.IDENTIFIER,W.replace("\0",""),M,m))}function I(M,W,q,Y){W?_.push(new a.Token(o.TokenKind.LITERAL_LONG,M,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_INT,M,q,Y))}function E(M,W,q,Y){if(M.length===0)throw W?{name:"SpelParseException",message:"Not a long in expression ("+h+") at position "+m}:{name:"SpelParseException",message:"Not an int in expression ("+h+") at position "+m};W?_.push(new a.Token(o.TokenKind.LITERAL_HEXLONG,M,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_HEXINT,M,q,Y))}function k(M,W,q,Y){W?_.push(new a.Token(o.TokenKind.LITERAL_REAL_FLOAT,M,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_REAL,M,q,Y))}function w(M,W){return g.substring(M,W)}function A(M){return M.tokenChars.length===2&&g[m]===M.tokenChars[0]?g[m+1]===M.tokenChars[1]:!1}function P(M){_.push(new a.Token(M,null,m,m+1)),m+=1}function F(M){_.push(new a.Token(M,null,m,m+2)),m+=2}function D(M,W,q){_.push(new a.Token(M,q,W,W+M.getLength()))}function R(M){return H(M)||B(M)||M==="_"||M==="$"}function G(M,W){var q=g[m];return q===M||q===W}function V(M){return M==="e"||M==="E"}function $(M){return M==="f"||M==="F"}function L(M){return M==="d"||M==="D"}function N(M){return M==="+"||M==="-"}function B(M){return M.charCodeAt(0)>255?!1:(l[M.charCodeAt(0)]&u)!==0}function H(M){return M.charCodeAt(0)>255?!1:(l[M.charCodeAt(0)]&f)!==0}function z(M){return M.charCodeAt(0)>255?!1:(l[M.charCodeAt(0)]&c)!==0}return b(),_}n.Tokenizer={tokenize:p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var a=i(2);function o(s,l,u,c){this.kind=s,this.startPos=u,this.endPos=c,l&&(this.data=l)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var s="[";return s+=this.kind.toString(),this.kind.hasPayload()&&(s+=":"+this.data),s+="]",s+="("+this.startPos+","+this.endPos+")",s},o.prototype.isIdentifier=function(){return this.kind===a.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===a.TokenKind.GT||this.kind===a.TokenKind.GE||this.kind===a.TokenKind.LT||this.kind===a.TokenKind.LE||this.kind===a.TokenKind.EQ||this.kind===a.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(a.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(a.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(a.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("boolean",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.BooleanLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("number",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.NumberLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("string",l);function c(f){return(f[0]==="'"&&f[f.length-1]==="'"||f[0]==='"'&&f[f.length-1]==='"')&&(f=f.substring(1,f.length-1)),f.replace(/''/g,"'").replace(/""/g,'"')}return s=c(s),u.getValue=function(){return s},u.setValue=function(f){return s=f},u}n.StringLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("null",l);return u.getValue=function(){return null},u}n.NullLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var a=i(0),o=i(1);function s(l,u,c){var f=a.SpelNode.create("function",u);return f.getRaw=function(){return{functionName:l,args:c}},f.getValue=function(d){var p=d.locals||{},v=d.rootContext,h=[];if(c.forEach(function(g){var y=d.activeContext;d.activeContext=new o.Stack,d.activeContext.push(d.rootContext),h.push(g.getValue(d)),d.activeContext=y}),p[l])return p[l].apply(v,h);throw{name:"FunctionDoesNotExistException",message:"Function '"+l+"' does not exist."}},f}n.FunctionReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var a=i(0),o=i(1);function s(l,u,c,f){var d=a.SpelNode.create("method",c);return d.getRaw=function(){return{methodName:u,args:f}},d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(!v)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+u+"' for an undefined context."};function y(m){if(m==null){if(l)return null;throw{name:"NullPointerException",message:"Method "+u+" does not exist."}}return m}if(f.forEach(function(m){var _=p.activeContext;p.activeContext=new o.Stack,p.activeContext.push(p.rootContext),h.push(m.getValue(p)),p.activeContext=_}),u.substr(0,3)==="get"&&!v[u])return y(v[u.charAt(3).toLowerCase()+u.substring(4)]);if(u.substr(0,3)==="set"&&!v[u])return v[u.charAt(3).toLowerCase()+u.substring(4)]=h[0];if(Array.isArray(v)){if(u==="size")return v.length;if(u==="contains")return v.includes(h[0])}return g=y(v[u]),g?g.apply(v,h):null},d}n.MethodReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("property",u);return c.getRaw=function(){return l},c.getValue=function(f){var d=f.activeContext.peek();if(!d){if(s)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+l+"' for an undefined context."}}if(d[l]===void 0||d[l]===null){if(s)return null;if(l==="size"&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+l+"' does not exist."}}return d[l]},c.setValue=function(f,d){var p=d.activeContext.peek();if(!p)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l+"' for an undefined context."};return p[l]=f},c.getName=function(){return l},c}n.PropertyReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("variable",l);return u.getRaw=function(){return s},u.getValue=function(c){var f=c.activeContext.peek(),d=c.locals;if(!f)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+s+"' for an undefined context."};return s==="this"?f:s==="root"?c.rootContext:d[s]},u.setValue=function(c,f){var d=f.locals;return d[s]=c},u}n.VariableReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create.apply(null,["compound",s].concat(l));function c(f){var d=u.getChildren().length,p;for(p=0;p<d;p+=1)u.getChildren()[p].getType()==="indexer"?f.activeContext.push(f.activeContext.peek()[u.getChildren()[p].getValue(f)]):f.activeContext.push(u.getChildren()[p].getValue(f));return function(){for(p=0;p<d;p+=1)f.activeContext.pop()}}return u.getValue=function(f){var d=f.activeContext.peek(),p;if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var v=c(f);return p=f.activeContext.peek(),v(),p},u.setValue=function(f,d){var p=c(d),v=u.getChildren().length;return d.activeContext.pop(),f=u.getChildren()[v-1].setValue(f,d),d.activeContext.push(null),p(),f},u}n.CompoundExpression={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var a=i(0),o=i(1);function s(l,u){var c=a.SpelNode.create.apply(null,["indexer",l].concat(u));return c.getValue=function(f){var d=f.activeContext,p,v=c.getChildren().length,h,g;if(f.activeContext=new o.Stack,f.activeContext.push(f.rootContext),p=f.activeContext.peek(),!p)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(h=0;h<v;h+=1)f.activeContext.push(c.getChildren()[h].getValue(f));for(g=f.activeContext.peek(),h=0;h<v;h+=1)f.activeContext.pop();return f.activeContext=d,g},c}n.Indexer={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("assign",s,l,u);return c.getValue=function(f){var d=f.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l.getValue(f)+"' for an undefined context."};return l.setValue(u.getValue(f),f)},c}n.Assign={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-eq",s,l,u);return c.getValue=function(f){return l.getValue(f)===u.getValue(f)},c}n.OpEQ={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ne",s,l,u);return c.getValue=function(f){return l.getValue(f)!==u.getValue(f)},c}n.OpNE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ge",s,l,u);return c.getValue=function(f){return l.getValue(f)>=u.getValue(f)},c}n.OpGE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-gt",s,l,u);return c.getValue=function(f){return l.getValue(f)>u.getValue(f)},c}n.OpGT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-le",s,l,u);return c.getValue=function(f){return l.getValue(f)<=u.getValue(f)},c}n.OpLE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-lt",s,l,u);return c.getValue=function(f){return l.getValue(f)<u.getValue(f)},c}n.OpLT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-plus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)+u.getValue(f):+l.getValue(f)},c}n.OpPlus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-minus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)-u.getValue(f):-l.getValue(f)},c}n.OpMinus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-multiply",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);if(typeof d=="number"&&typeof p=="number")return d*p;if(typeof d=="string"&&typeof p=="number"){for(var v="",h=0;h<p;h+=1)v+=d;return v}return null},c}n.OpMultiply={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-divide",s,l,u);return c.getValue=function(f){return l.getValue(f)/u.getValue(f)},c}n.OpDivide={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-modulus",s,l,u);return c.getValue=function(f){return l.getValue(f)%u.getValue(f)},c}n.OpModulus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-power",s,l,u);return c.getValue=function(f){return Math.pow(l.getValue(f),u.getValue(f))},c}n.OpPower={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-inc",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d+1,f),l?d:d+1},c}n.OpInc={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-dec",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d-1,f),l?d:d-1},c}n.OpDec={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("op-not",s,l);return u.getValue=function(c){return!l.getValue(c)},u}n.OpNot={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-and",s,l,u);return c.getValue=function(f){return!!l.getValue(f)&&!!u.getValue(f)},c}n.OpAnd={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-or",s,l,u);return c.getValue=function(f){return!!l.getValue(f)||!!u.getValue(f)},c}n.OpOr={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("matches",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);try{var v=new RegExp(p);return!!v.exec(d)}catch(h){throw{name:"EvaluationException",message:h.toString()}}},c}n.OpMatches={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var a=i(0);function o(s,l,u,c){var f=a.SpelNode.create("ternary",s,l,u,c);return f.getValue=function(d){return l.getValue(d)?u.getValue(d):c.getValue(d)},f}n.Ternary={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("elvis",s,l,u);return c.getValue=function(f){return l.getValue(f)!==null?l.getValue(f):u.getValue(f)},c}n.Elvis={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("list",s),c=[].concat(l||[]);return u.getRaw=function(){return c},u.getValue=function(f){return c.map(function(d){return d.getValue(f)})},u}n.InlineList={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("map",s),c=[].concat(l||[]);return u.getValue=function(f){var d=!0,p=null,v={};return c.forEach(function(h){d?h.getType()==="property"?p=h.getName():p=h.getValue(f):v[p]=h.getValue(f),d=!d}),v},u}n.InlineMap={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=i(0);function s(f,d,p){var v=!1;return p.activeContext.push(f),v=d.getValue(p),p.activeContext.pop(),v}function l(f,d,p,v){var h=f.filter(function(g){return s(g,p,v)});switch(d){case"ALL":return h;case"FIRST":return h[0]||null;case"LAST":return h.length?h[h.length-1]:null}}function u(f,d,p,v){var h={},g,y,m=[],_={};for(y in f)f.hasOwnProperty(y)&&(g={key:y,value:f[y]},s(g,p,v)&&m.push(g));switch(d){case"ALL":return m.forEach(function(b){h[b.key]=b.value}),h;case"FIRST":return m.length?(_[m[0].key]=m[0].value,_):null;case"LAST":return m.length?(_[m[m.length-1].key]=m[m.length-1].value,_):null}m.forEach(function(b){h[b.key]=b.value})}function c(f,d,p,v){var h=o.SpelNode.create("selection",p,v);return h.getValue=function(g){var y=g.activeContext.peek();if(y){if(Array.isArray(y))return l(y,d,v,g);if((typeof y>"u"?"undefined":a(y))==="object")return u(y,d,v,g)}return null},h}n.Selection={create:c,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(0);function s(u,c,f){return u.map(function(d){var p;return f.activeContext.push(d),p=c.getValue(f),f.activeContext.pop(),p})}function l(u,c,f){var d=o.SpelNode.create("projection",c,f);return d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(Array.isArray(v))return s(v,f,p);if((typeof v>"u"?"undefined":a(v))==="object"){for(g in v)v.hasOwnProperty(g)&&h.push(v[g]);return s(h,f,p)}return null},d}n.Projection={create:l}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("instanceof",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},c}n.OpInstanceof={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("between",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},c}n.OpBetween={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var a=i(0);function o(s,c,u){var c=a.SpelNode.create("typeref",s,c);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},c}n.TypeReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("beanref",s);return u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},u}n.BeanReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("identifier",l);return u.getRaw=function(){return s},u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},u}n.Identifier={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var a=i(0);function o(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}function s(l,u){var c=a.SpelNode.create.apply(a.SpelNode,["qualifiedidentifier",l].concat(o(u)));return c.getRaw=function(){return u.map(function(f){return f.getRaw()})},c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},c}n.QualifiedIdentifier={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var a=i(0),o=i(1);function s(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function l(c){return Array.isArray(c)?c:Array.from(c)}function u(c,f,d){var p=d!==void 0,v;p?v=f.length&&f[0]&&f[0].getType()==="number"?f[0].getValue():null:(d=f,f=void 0);var h=d,g=l(h);g[0];var y=g.slice(1),m=a.SpelNode.create.apply(a.SpelNode,["constructorref",c].concat(s(d)));return m.getRaw=function(){return v},m.getValue=function(_){if(p&&y.length<=1){var b=[];return y.forEach(function(S){var O=_.activeContext;_.activeContext=new o.Stack,_.activeContext.push(_.rootContext),b.push(S.getValue(_)),_.activeContext=O}),y.length===1?b[0]:v?new Array(v):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},m}n.ConstructorReference={create:u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={};return l.authentication=o||{},l.principal=s||{},l.hasRole=function(u){var c=!1;return!u||!l.authentication&&!Array.isArray(l.authentication.authorities)?!1:(l.authentication.authorities.forEach(function(f){f.authority.toLowerCase()===u.toLowerCase()&&(c=!0)}),c)},l.hasPermission=function(){var u=Array.prototype.slice.call(arguments);if(u.length===1)return l.hasRole(u[0])},l}n.StandardContext={create:a}}])})})(nA);var Vne=nA.exports,iA={};(function(t){var e=t,r=/`/g,n=/\./g,i=/[\0\b\t\n\r\x1a\"\'\\]/g,a={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};e.escapeId=function(c,f){if(Array.isArray(c)){for(var d="",p=0;p<c.length;p++)d+=(p===0?"":", ")+e.escapeId(c[p],f);return d}else return f?"`"+String(c).replace(r,"``")+"`":"`"+String(c).replace(r,"``").replace(n,"`.`")+"`"},e.escape=function(c,f,d){if(c==null)return"NULL";switch(typeof c){case"boolean":return c?"true":"false";case"number":return c+"";case"object":return Object.prototype.toString.call(c)==="[object Date]"?e.dateToString(c,d||"local"):Array.isArray(c)?e.arrayToList(c,d):Buffer.isBuffer(c)?e.bufferToString(c):typeof c.toSqlString=="function"?String(c.toSqlString()):f?o(c.toString()):e.objectToValues(c,d);default:return o(c)}},e.arrayToList=function(c,f){for(var d="",p=0;p<c.length;p++){var v=c[p];Array.isArray(v)?d+=(p===0?"":", ")+"("+e.arrayToList(v,f)+")":d+=(p===0?"":", ")+e.escape(v,!0,f)}return d},e.format=function(c,f,d,p){if(f==null)return c;Array.isArray(f)||(f=[f]);for(var v=0,h=/\?+/g,g="",y=0,m;y<f.length&&(m=h.exec(c));){var _=m[0].length;if(!(_>2)){var b=_===2?e.escapeId(f[y]):e.escape(f[y],d,p);g+=c.slice(v,m.index)+b,v=h.lastIndex,y++}}return v===0?c:v<c.length?g+c.slice(v):g},e.dateToString=function(c,f){var d=new Date(c);if(isNaN(d.getTime()))return"NULL";var p,v,h,g,y,m,_;if(f==="local")p=d.getFullYear(),v=d.getMonth()+1,h=d.getDate(),g=d.getHours(),y=d.getMinutes(),m=d.getSeconds(),_=d.getMilliseconds();else{var b=l(f);b!==!1&&b!==0&&d.setTime(d.getTime()+b*6e4),p=d.getUTCFullYear(),v=d.getUTCMonth()+1,h=d.getUTCDate(),g=d.getUTCHours(),y=d.getUTCMinutes(),m=d.getUTCSeconds(),_=d.getUTCMilliseconds()}var S=s(p,4)+"-"+s(v,2)+"-"+s(h,2)+" "+s(g,2)+":"+s(y,2)+":"+s(m,2)+"."+s(_,3);return o(S)},e.bufferToString=function(c){return"X"+o(c.toString("hex"))},e.objectToValues=function(c,f){var d="";for(var p in c){var v=c[p];typeof v!="function"&&(d+=(d.length===0?"":", ")+e.escapeId(p)+" = "+e.escape(v,!0,f))}return d},e.raw=function(c){if(typeof c!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return c}}};function o(u){for(var c=i.lastIndex=0,f="",d;d=i.exec(u);)f+=u.slice(c,d.index)+a[d[0]],c=i.lastIndex;return c===0?"'"+u+"'":c<u.length?"'"+f+u.slice(c)+"'":"'"+f+"'"}function s(u,c){for(u=u.toString();u.length<c;)u="0"+u;return u}function l(u){if(u==="Z")return 0;var c=u.match(/([\+\-\s])(\d\d):?(\d\d)?/);return c?(c[1]==="-"?-1:1)*(parseInt(c[2],10)+(c[3]?parseInt(c[3],10):0)/60)*60:!1}})(iA);var Bne=iA;const qne=tn(Bne);var _o=qne;_o.trim=function(t){return t.charAt(0)=="'"?t.substring(1,t.length-1):t};_o.escapeLike=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=_o.escape(t);return n=_o.trim(n),n=n.replace(/[%_]/g,"\\$&"),n=(e?"%":"")+n+(r?"%":""),n="'"+n+"'",n};var aA=function(e){var r="''",n=e==null?void 0:e.type;return n=="date"?r="'0000-00-00'":n=="datetime"?r="'0000-00-00 00:00'":n=="time"?r="'00:00'":n=="number"&&(r="0"),r},oA=function(e){var r="",n=e==null?void 0:e.type;return n=="number"&&(r=0),r},zne=function(e){return"'"+e.replace(/'/g,"''")+"'"},Hne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,a=["int","float"];e.map(function(l){if(l!=null){if(typeof l=="string")i="String";else if(typeof l=="number")i=Number.isInteger(l)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(l," in array"));if(!n)n=i;else if(n!=i)if(a.includes(n)&&a.includes(i))n="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(n," and ").concat(i))}}),n||(n="String");var o;n=="float"?o=e.map(function(l){return Ll(l,!0)}):o=e.map(function(l){return Ll(l)});var s;return r?s="new ".concat(n,"[]{").concat(o.join(", "),"}"):s="{".concat(o.join(", "),"}"),s},sA=function(e){return"".concat(e,".?[true]")},Ll=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e==null)return"null";switch(xt(e)){case"boolean":return e?"true":"false";case"number":return!Number.isFinite(e)||isNaN(e)?void 0:e+(!Number.isInteger(e)||r?"f":"");case"object":if(Array.isArray(e))return Hne(e,n);throw new Error("spelEscape: Object is not supported");default:return zne(e)}},Une=function(e){return e&&Array.isArray(e)&&e.length?e.map(function(r){if(r.type=="const")return Ll(r.value);if(r.type=="property")return""+r.value;if(r.type=="variable")return"#"+r.value}).filter(function(r){return r!=null}).join(" + "):"null"},Gne=function(e){if(e==null)return[void 0,[]];var r=[],n=e.valueType=="case_value"?e.value:e,i=Array.isArray(n)?n:[n],a=i.map(function(o){if(o.valueSrc==="value")return o.value===null?void 0:{type:"const",value:o.value};if(o.valueSrc==="field")return{type:o.isVariable?"variable":"property",value:o.value};r.push("Unsupported valueSrc ".concat(o.valueSrc," in concatenation"))}).filter(function(o){return o!=null});return[a,r]},lA=function(e){return e==null?"NULL":e.toString()},uA=function(e){return e==null||(e==null?void 0:e[0])==="("&&(e==null?void 0:e[(e==null?void 0:e.length)-1])===")"?e:"("+e+")"};const Wne=Object.freeze(Object.defineProperty({__proto__:null,SqlString:_o,mongoEmptyValue:oA,spelEscape:Ll,spelFixList:sA,spelFormatConcat:Une,spelImportConcat:Gne,sqlEmptyValue:aA,stringifyForDisplay:lA,wrapWithBrackets:uA},Symbol.toStringTag,{value:"Module"}));function eO(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Yne(t,e){if(t){if(typeof t=="string")return tO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cA="${0}.compareTo(${1})",Kne={datetime:!0,time:!0,date:!0},Jne=function(e,r){return fA(e,r,!1)},fA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ai(r,void 0,!1),o=dA(e,a,i,null);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SpEL:",i.errors),o)},dA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(a==="group"||a==="rule_group")return hA(e,r,n,i);if(a==="rule")return Zne(e,r,n,i);if(a=="switch_group")return Qne(e,r,n);if(a=="case_group")return pA(e,r,n,i)}},pA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type");if(a!="case_group"){n.errors.push("Unexpected child of type ".concat(a," inside switch"));return}var o=e.get("properties")||new ur,s=m0(r,o,n,null,i,"!case_value"),l=ke(s,3),u=l[0];l[1],l[2];var c=hA(e,r,n,i);return[c,u]},Qne=function(e,r,n){e.get("properties")||new ur;var i=e.get("children1");if(i){var a=i.map(function(v){return pA(v,r,n,null)}).filter(function(v){return typeof v<"u"}).valueSeq().toArray();if(a.length){if(a.length==1&&!a[0][0])return a[0][1];for(var o=[],s=0;s<a.length;s++)s!=a.length-1&&!a[s][0]?n.errors.push("No condition for case ".concat(s)):(o.push(a[s]),s==a.length-1&&a[s][0]&&o.push([void 0,null]));for(var l="",u="",c=0;c<o.length;c++){var f=ke(o[c],2),d=f[0],p=f[1];p==null&&(p="null"),d==null&&(d="true"),c!=o.length-1?(l+="(".concat(d," ? ").concat(p," : "),u+=")"):l+="".concat(p)}return l+u}}},hA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type"),o=e.get("properties")||new ur,s=o.get("mode"),l=e.get("children1")||new Ji,u=o.get("field"),c=o.get("conjunction");c||(c=ka(r));var f=r.conjunctions[c],d=o.get("not"),p=a==="rule_group",v=p&&s!="struct",h=v?u:i,g=Me(r,h)||{},y=g.isSpelArray,m=r.settings.fieldSeparator,_=o.get("operator");!_&&(!s||s=="some")&&(_="some");var b=gA(r,_,u),S=b!=_,O=_&&Pt(r,b,u)||null,x=p&&(!b||O.cardinality==0),C=m0(r,o,n,b,i,null),I=ke(C,3),E=I[0],k=I[1],w=I[2],A=l.map(function(B){return dA(B,r,n,h)}).filter(function(B){return typeof B<"u"});if(v&&!x){if(E==null)return}else if(!A.size)return;var P=p,F=A.size?f.spelFormatConj.call(r.ctx,A,c,d,P):null,D;if(v){var R=y0(n,r,u,i),G=m||".",V=G+(y?"length":"size()"),$="".concat(R).concat(V),L=F?"".concat(R,".?[").concat(F,"]").concat(V):$,N=x?$:E;D=vA(n,r,o,L,N,b,k,w,S)}else D=F;return D},Xne=function(e,r,n){var i=r.spelOp;if(i){var a=i.includes("${0}"),o=Kne[n],s=i,l,u=Ur(r);return o?l=function(f,d,p,v,h,g,y,m){var _=cA.replace(/\${(\w+)}/g,function(b,S){return S==0?f:u>1?p[S-1]:p});return"".concat(_," ").concat(s," 0")}:a?l=function(f,d,p,v,h,g,y,m){return i.replace(/\${(\w+)}/g,function(_,b){return b==0?f:u>1?p[b-1]:p})}:u==0?l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s)}:u==1&&(l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s," ").concat(p)}),l}},vA=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=n.get("field"),f=Pt(r,o,c)||{},d=Me(r,c)||{},p=n.get("operatorOptions"),v=f.spelFormatOp||Xne(o,f,l);if(!v){e.errors.push("Operator ".concat(o," is not supported"));return}var h=[i,o,a,s,l,ii(f,iu),p,d],g;return g=v.call.apply(v,[r.ctx].concat(h)),u&&(g=r.settings.spelFormatReverse.call(r.ctx,g)),g===void 0&&e.errors.push("Operator ".concat(o," is not supported for value source ").concat(s)),g},gA=function(e,r,n){if(r){var i=Pt(e,r,n)||{},a=i.reversedOp,o=Pt(e,a,n)||{},s=i.spelOp||i.spelFormatOp,l=o.spelOp||o.spelFormatOp;if(!(!s&&!l)){if(!s&&l){var u=[a,r];r=u[0],a=u[1];var c=[o,i];i=c[0],o=c[1]}return r}}},Zne=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new ur,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator");if(!(o==null||l==null)){var u=gA(r,l,o);if(!u){n.errors.push("Operator ".concat(l," is not supported"));return}var c=u!=l,f=m0(r,a,n,u,i,null),d=ke(f,3),p=d[0],v=d[1],h=d[2];if(p!==void 0){var g=eie(n,r,o,s,i);if(g!==void 0){var y=vA(n,r,a,g,p,u,v,h,c);return y}}}},eie=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return i==="func"?mA(e,r,n,a):y0(e,r,n,a)},m0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s)||{},f=Pt(e,i,s)||{},d=Ur(f),p=r.get("value"),v=r.get("asyncListValues"),h=[],g=[],y;if(p!=null){var m=p.map(function(b,S){var O=l?l.get(S):null,x=u?u.get(S):null,C=xs(b,O,e),I=gr(e,s,i,O),E=On(e,s,i,I,O,{forExport:!0}),k=Sg(n,e,C,O,x,E,c,i,f,a,v);return k!==void 0&&(h.push(O),g.push(x)),k}),_=m.filter(function(b){return b===void 0}).size>0;m.size<d||_||(y=d>1?m.toArray():d==1?m.first():null)}return[y,h.length>1?h:h[0],g.length>1?g:g[0]]},Sg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i==="field")d=y0(e,r,n,c);else if(i==="func")d=mA(e,r,n,c);else if(typeof(o==null?void 0:o.spelFormatValue)=="function"){var p=o.spelFormatValue,v=[n,nO(nO({},ya(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ii(o,Os)];if(l&&(v.push(l),v.push(u)),i=="field"){var h=Me(r,n)||{};v.push(h)}d=p.call.apply(p,[r.ctx].concat(v))}else d=Ll(n);return d}},y0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(n){var a=r.settings.fieldSeparator,o=Me(r,n)||{},s=Nr(n,r),l=Ij(n,r,i),u=r.settings.formatSpelField,c=Ja(n,r,e,i),f=l.map(function(p){var v=ke(p,3),h=v[0],g=v[1],y=v[2],m;y&&(y.type=="!struct"||y.type=="!group"&&y.mode=="struct"?m=g.isSpelMap?"map":"class":y.type=="!group"?m=g.isSpelItemMap?"[map]":"[class]":m="class");var _=g==null?void 0:g.isSpelVariable;return{key:h,parent:m,isSpelVariable:_,fieldSeparator:a}}),d=u.call(r.ctx,c,i,s,f,o,r);return d}},mA=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Wr(r,s);if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}var c={},f=[],d=[];for(var p in u.args){var v,h,g=u.args[p],y=Me(r,g),m=g.defaultValue,_=g.isOptional,b=m!=null&&m.func?"func":"value",S=l?l.get(p):void 0,O=S?S.get("value"):void 0,x=S?S.get("valueSrc"):void 0;x!=="func"&&(v=O)!==null&&v!==void 0&&v.toJS&&(O=O.toJS());var C=S?S.get("asyncListValues"):void 0,I=(h=g.spelEscapeForFormat)!==null&&h!==void 0?h:!0,E=null,k=gr(r,g,E,x),w=On(r,g,E,k,x,{forExport:!0}),A=Sg(e,r,O,x,g.type,w,y,null,null,o,C);if(O!=null&&A===void 0){x!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(s));return}var P=void 0;if(A===void 0&&!_&&m!=null){var F=gr(r,g,E,b),D=On(r,g,E,F,b,{forExport:!0});if(P=Sg(e,r,m,b,g.type,D,y,null,null,o,C),P===void 0){b!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(s));return}}var R=A!=null?A:P;if(R!==void 0){var G;if(f.length){var V=eO(f),$;try{for(V.s();!($=V.n()).done;){var L=$.value;c[L]=void 0}}catch(Y){V.e(Y)}finally{V.f()}f=[]}c[p]=I?R:(G=O)!==null&&G!==void 0?G:m}else _||d.push(p),f.push(p)}if(!d.length){var N;if(typeof u.spelFormatFunc=="function"){var B=u.spelFormatFunc,H=[c];N=B.call.apply(B,[r.ctx].concat(H))}else if(u.spelFunc){N=u.spelFunc.replace(/\${(\w+)}/g,function(Y,K){var ie;return(ie=c[K])!==null&&ie!==void 0?ie:Y});var z=Object.keys(u.args||{}).reverse().filter(function(Y){return!!u.args[Y].isOptional}),M=eO(z),W;try{for(M.s();!(W=M.n()).done;){var q=W.value;if(c[q]!=null)break;N=N.replace(new RegExp("(, )?\\${"+q+"}","g"),"")}}catch(Y){M.e(Y)}finally{M.f()}N=N.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(s," is not supported"));return N}};function pa(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function tie(t,e){if(t){if(typeof t=="string")return iO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oO={number:"number",string:"text",boolean:"boolean",null:"null"},sO={String:"text"},rie="multiselect",nie=function(e){return["length"].includes(e)},yA=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},iie=function(e,r){return bA(e,r,!0)},bA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ai(r,void 0,!1),o=sie(a),s,l,u=void 0;try{var c=Vne.SpelExpressionEvaluator.compile(e);s=c._compiledExpression}catch(d){i.errors.push(d)}s&&(l=aie(s,i),Eo.debug("convertedObj:",l,i),u=_c(l,o,a,i),u&&u.type!="group"&&u.type!="switch_group"&&(u=tf(u,a,l.not)),Eo.debug("jsTree:",u));var f=u?g0(u):void 0;return n?[f,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),f)},aie=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.getType(),a=e.getChildren().map(function(w){return t(w,r,e)});if((i=="op-or"||i=="op-and")&&(a=a.reduce(function(w,A){var P=A.type==i&&!A.not,F=P?A.children:[A];return[].concat(Ce(w),Ce(F))},[])),i=="op-not")return a.length!=1&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),xr(xr({},a[0]),{},{not:!a[0].not});if(i=="compound"){a=a.filter(function(w){var A=w.type=="selection"&&w.children.length==1&&w.children[0].type=="boolean"&&w.children[0].val==!0;return!A});var o=a.find(function(w){return w.type=="selection"});o&&o.children.length!=1&&r.errors.push("Selection should have 1 child, but got ".concat(o.children.length));var s=o?o.children[0]:null,l=a[a.length-1],u=l.type=="method"&&l.val.methodName=="size"||l.type=="!func"&&l.methodName=="size",c=l.type=="property"&&l.val=="length",f=a.filter(function(w){return w!==o&&w!==l}),d={type:"compound",children:f},p=(u||c)&&_A(f)!=null;if(p)return{type:"!aggr",filter:s,source:d};if(a=a.filter(function(w){var A=w.type=="variable"&&w.val=="this",P=w.type=="variable"&&w.val=="root";return!(A||P)}),a=a.map(function(w){return w.type=="indexer"&&w.children.length==1?{type:"indexer",val:w.children[0].val,itype:w.children[0].type}:w}),l.type=="!func"){var v={},h=v;do{var g,y;Object.assign(h,l),a=a.filter(function(w){return w!==l}),l=a[a.length-1],((y=l)===null||y===void 0?void 0:y.type)=="!func"?(h.obj={},h=h.obj):a.length>1?h.obj={type:"compound",children:a}:h.obj=l}while(((g=l)===null||g===void 0?void 0:g.type)=="!func");return v}}var m;try{e.getRaw?m=e.getRaw():e.getValue.length==0&&(m=e.getValue())}catch(w){Eo.error("[spel2js] Error in getValue()",w)}if(i=="ternary"&&(m=oie(a)),xt(m)==="object"&&m!==null&&(m.methodName||m.functionName)&&(m.args=m.args.map(function(w){return t(w,r,e)})),i=="list"&&(m=m.map(function(w){return t(w,r,e)}),!n&&m.length==1))return m[0];if(i=="constructorref"){var _=a.find(function(w){return w.type=="qualifiedidentifier"}),b=_==null?void 0:_.val;if(!b){r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)));return}var S=a.filter(function(w){return w.type!="qualifiedidentifier"});return{type:"!new",cls:b,args:S}}if(i=="typeref"){var O=a.find(function(w){return w.type=="qualifiedidentifier"}),x=O==null?void 0:O.val;if(!x){r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)));return}return a.filter(function(w){return w.type!="qualifiedidentifier"}),{type:"!type",cls:x}}if(i=="function"||i=="method"){var C=m,I=C.functionName,E=C.methodName,k=C.args;return{type:"!func",methodName:I||E,isVar:i=="function",args:k}}return{type:i,children:a,val:m}},oie=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]),(l==null?void 0:l.type)=="ternary"?n(l.children):r.push([void 0,l])}return n(e),r},sie=function(e){var r={},n=function(P){var F=e.operators[P];if(F.spelOps)F.spelOps.forEach(function(R){var G=R;r[G]||(r[G]=[]),r[G].push(P)});else if(F.spelOp){var D=F.spelOp;r[D]||(r[D]=[]),r[D].push(P)}else Eo.log("[spel] No spelOp for operator ".concat(P))};for(var i in e.operators)n(i);var a={};for(var o in e.conjunctions){var s=e.conjunctions[o],l=s.spelConj||o.toLowerCase();a[l]=o}var u={},c=pa(cu(e)),f;try{var d=function(){var P=ke(f.value,2),F=P[0],D=P[1],R=[],G=D.spelFunc;if(typeof G=="string"){var V=Object.keys(D.args||{}).reverse().filter(function(z){return!!D.args[z].isOptional||D.args[z].defaultValue!=null}),$=G.replace(/\${(\w+)}/g,function(z,M){return"?"}),L=V.reduce(function(z,M){return[].concat(Ce(z),[[M].concat(Ce(z[z.length-1]||[]))])},[]).map(function(z){return G.replace(/(?:, )?\${(\w+)}/g,function(M,W){return z.includes(W)?"":M}).replace(/\${(\w+)}/g,function(M,W){return"?"})});R=[$].concat(Ce(L))}var N=pa(R),B;try{for(N.s();!(B=N.n()).done;){var H=B.value;u[H]||(u[H]=[]),u[H].push(F)}}catch(z){N.e(z)}finally{N.f()}};for(c.s();!(f=c.n()).done;)d()}catch(A){c.e(A)}finally{c.f()}var p={};for(var v in e.widgets){var h=e.widgets[v],g=h.spelImportFuncs;if(h.type,g){var y=pa(g),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;if(typeof _=="string"){var b=_.replace(/\${(\w+)}/g,function(A,P){return"?"}),S=Ce(_.matchAll(/\${(\w+)}/g)).map(function(A){var P=ke(A,2),F=P[0],D=P[1];return D});p[b]||(p[b]=[]),p[b].push({w:v,argsOrder:S})}}}catch(A){y.e(A)}finally{y.f()}}}var O={};for(var x in e.operators){var C=e.operators[x],I=C.spelOp;if(I!=null&&I.includes("${0}")){var E=I.replace(/\${(\w+)}/g,function(A,P){return"?"}),k=Ce(I.matchAll(/\${(\w+)}/g)).map(function(A){var P=ke(A,2);P[0];var F=P[1];return F});O[E]||(O[E]=[]),O[E].push({op:x,argsOrder:k})}}var w=cA.replace(/\${(\w+)}/g,function(A,P){return"?"});return O[w]=[{op:"!compare",argsOrder:["0","1"]}],{operators:r,conjunctions:a,funcs:u,valueFuncs:p,opFuncs:O}},_c=function t(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){e._groupField=(a=e._groupField)!==null&&a!==void 0?a:o==null?void 0:o._groupField;var s,l=!0;if(e.type.indexOf("op-")===0||e.type==="matches")s=lie(e,r,n,i,o);else if(e.type=="!aggr"){var u,c=t(e.source,r,n,i,e);e._groupField=c==null?void 0:c.value;var f=t(e.filter,r,n,i,e);((u=f)===null||u===void 0?void 0:u.type)=="rule"&&(f=tf(f,n,e.filter.not)),s={groupFilter:f,groupFieldValue:c},o||(s=void 0,i.errors.push("Unexpected !aggr in root"),l=!1)}else if(e.type=="ternary"){var d={};e.val.forEach(function(v){var h=ke(v,2),g=h[0],y=h[1],m=OA(g,y,r,n,i,e);m&&(d[m.id]=m)}),s={type:"switch_group",id:Lt(),children1:d,properties:{}}}if(!s&&l&&(s=Sc(e,r,n,i,o)),s&&!s.type&&!o){var p=SA(e,r,n,i);p?s=p:(s=void 0,i.errors.push("Can't convert rule of type ".concat(e.type,", it looks like var/literal")))}return s}},lie=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o,s=e.type.startsWith("op-")?e.type.slice(3):e.type,l=(s=="minus"||s=="plus")&&e.children.length==1;if(l){var u=e.negative;return s=="minus"&&(u=!u),e.children[0].negative=u,_c(e.children[0],r,n,i,a)}var c=s=="and"&&e.children.length==2&&e.children[0].type=="op-ge"&&e.children[1].type=="op-le",f=s=="or"&&e.children.length==2&&e.children[0].type=="op-lt"&&e.children[1].type=="op-gt",d=c||f;if(d){var p=ke(e.children[0].children,2),v=p[0],h=p[1],g=ke(e.children[1].children,2),y=g[0],m=g[1],_=vie(v,y,e,r,n,i);if(_){h.val,m.val;var b={type:"op-between",children:[v,h,m],not:f};return b._groupField=a==null?void 0:a._groupField,t(b,r,n,i,a)}}var S=r.operators[s];s=="eq"&&e.children[1].type=="null"?S=["is_null"]:s=="ne"&&e.children[1].type=="null"?S=["is_not_null"]:s=="le"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_empty"]:s=="gt"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_not_empty"]:s=="between"&&(S=["between"]);var O=function(){var ae,ue=e.children.map(function(fe){return _c(fe,r,n,i,e)});return ue.length>=2&&((ae=ue)===null||ae===void 0||(ae=ae[0])===null||ae===void 0?void 0:ae.type)=="!compare"&&(ue=ue[0].children),ue};if(s=="and"||s=="or"){var x={},C=O();C.forEach(function(te){if(te){var ae=Lt();te.id=ae,te.type!=null?x[ae]=te:i.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(te)))}}),o={type:"group",id:Lt(),children1:x,properties:{conjunction:r.conjunctions[s],not:e.not}}}else if(S){var I,E,k,w=O(),A=w[0],P=w.slice(1),F=A==null||(I=A.groupFieldValue)===null||I===void 0?void 0:I.value,D=(E=P)===null||E===void 0?void 0:E[0],R=S[0];if(S.length>1){var G,V,$=((G=w[0])===null||G===void 0?void 0:G.valueType)||((V=w[1])===null||V===void 0?void 0:V.valueType),L=A==null?void 0:A.value,N=S.map(function(te){return{op:te,widget:gr(n,L,te)}});if(Eo.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(S,"."),"widgets:",N,"vals:",w,"valueType=",$),s=="eq"||s=="ne"){var B=N.find(function(te){te.op;var ae=te.widget;return ae&&ae!="field"});B&&(R=B.op)}}A!=null&&A.groupFieldValue&&(D&&D.groupFieldValue&&D.groupFieldValue.valueSrc=="field"&&D.groupFieldValue.value==F?(R="all",P=[]):R=="equal"&&D.valueSrc=="value"&&D.valueType=="number"&&D.value==0?(R="none",P=[]):R=="greater"&&D.valueSrc=="value"&&D.valueType=="number"&&D.value==0&&(R="some",P=[]));var H=n.operators[R],z=n.operators[(k=H)===null||k===void 0?void 0:k.reversedOp],M=e.not&&["between"].includes(R),W=!!z,q=W&&(!!n.settings.reverseOperatorsForNot||M),Y=e.not&&q||M;Y&&(R=H.reversedOp,H=n.operators[R],e.not=!e.not);var K=!!e.not;if(e.not=!1,A)if(A.groupFieldValue)A.groupFieldValue.valueSrc!="field"&&i.errors.push("Expected group field ".concat(JSON.stringify(A))),o=hie(A,R,P,n,i);else{A.valueSrc!="field"&&A.valueSrc!="func"&&i.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(A)));var ie=A.value;o=b0(n,i,ie,R,P,e)}K&&(o.type!=="group"?o=tf(o,n,!0):o.properties.not=!o.properties.not)}else a||(o=SA(e,r,n,i));return o},_A=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=e.map(function(o){if(o.type=="variable"||o.type=="property"||o.type=="indexer"&&o.itype=="string")return o.val;var s,l;i=!0,n&&(r==null||(s=r.errors)===null||s===void 0||(l=s.push)===null||l===void 0||l.call(s,"Unexpected item in field path compound: ".concat(JSON.stringify(o))))});return i?void 0:a},Sc=function t(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e!=null){var l=n.settings.fieldSeparator;if(e._groupField=(a=e._groupField)!==null&&a!==void 0?a:s==null?void 0:s._groupField,e.type=="variable"||e.type=="property"){var u=Qd(n,e.val,e._groupField),c=Me(n,u),f=e.type=="variable";return{valueSrc:"field",valueType:c==null?void 0:c.type,isVariable:f,value:u}}else if(e.type=="compound"){var d=_A(e.children,i);if(d){var p,v=Qd(n,d.join(l),e._groupField),h=Me(n,v),g=((p=e.children)===null||p===void 0||(p=p[0])===null||p===void 0?void 0:p.type)=="variable";return{valueSrc:"field",valueType:h==null?void 0:h.type,isVariable:g,value:v}}}else if(oO[e.type]){var y=e.val,m=oO[e.type];return e.negative&&(y=-y),{valueSrc:"value",valueType:m,value:y}}else if(e.type=="!new"&&sO[e.cls.at(-1)]){var _=e.args.map(function(k){return t(k,r,n,i,e)}),b=_==null?void 0:_[0],S=sO[e.cls.at(-1)];return xr(xr({},b),{},{valueType:S})}else if(e.type=="list"){var O,x=e.val.map(function(k){return t(k,r,n,i,e)});x.length&&((O=x[0])===null||O===void 0||O.valueType);var C=x.map(function(k){return k==null?void 0:k.value}),I=rie;return{valueSrc:"value",valueType:I,value:C}}else if(e.type==="op-plus"&&(s==null?void 0:s.type)==="ternary"&&((o=n.settings.caseValueField)===null||o===void 0?void 0:o.type)==="case_value")return xA(e,r,n,i);var E=fie(e,r,n,i,s);if(E!==void 0)return E;i.errors.push("Can't convert arg of type ".concat(e.type))}},uie=function(e){var r=[{s:"",params:[],objs:[]}];return cie(e,r),r.map(function(n){var i=n.s,a=n.params;return{s:i,params:a}}).reverse().filter(function(n){var i=n.s;return i!==""&&i!=="?"})},cie=function t(e,r){var n=[],i="",a=e.type,o=e.methodName;e.val;var s=e.obj,l=e.args,u=e.isVar,c=e.cls,f=e.children,d=f==null?void 0:f[f.length-1],p=r[r.length-1];if(a==="!func"){for(var v=s;v;){var h,g=t(xr(xr({},v),{},{obj:null}),[{}]),y=ke(g,2),m=y[0],_=y[1];if(m!=="?"){var b={s:p.s,params:Ce(p.params),objs:Ce(p.objs)};p.objs.unshift("?"),p.params.unshift(v),r.push(b),p=r[r.length-1]}p.objs.unshift(m),(h=p.params).unshift.apply(h,Ce(_)),v=v.type==="!func"?v.obj:null}var S=pa(r),O;try{for(S.s();!(O=S.n()).done;){var x,C=O.value;n=[].concat(Ce((C==null?void 0:C.params)||[]),Ce(l||[])),i="",C!=null&&(x=C.objs)!==null&&x!==void 0&&x.length&&(i+=C.objs.join(".")+"."),i+=(u?"#":"")+o,i+="("+(l||[]).map(function(I){return"?"}).join(", ")+")",C.s=i,C.params=n}}catch(I){S.e(I)}finally{S.f()}}else a==="!new"?(n=l||[],i="new ".concat(c.join("."),"(").concat(n.map(function(I){return"?"}).join(", "),")")):a==="!type"?i="T(".concat(c.join("."),")"):a==="compound"&&d.type==="property"&&nie(d.val)?i=f.map(function(I){var E;if(I===d)return I.val;var k=t(xr(xr({},I),{},{obj:null}),[{}]),w=ke(k,2),A=w[0],P=w[1];return(E=n).push.apply(E,Ce(P)),A}).join("."):(n=[e],i="?");return p&&(p.s=i,p.params=n),[i,n]},fie=function(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=function(D){return _c(D,r,n,i,e)},l=uie(e),u=l==null||(a=l[0])===null||a===void 0?void 0:a.s;l.length&&Eo.debug("Signatures for ",e,":",u,l);var c=die(e,r,n,i,o,l,s);if(c!==void 0)return c;var f=pie(e,r,n,i,o,l,s);if(f!==void 0)return f;var d,p,v,h=pa(l),g;try{var y=function(){var D=g.value,R=D.s,G=D.params,V=r.funcs[R];if(V){d=V[0],p=Wr(n,d);var $=p,L=$.spelFunc,N=G.map(s),B=Ce(L.matchAll(/\${(\w+)}/g)).map(function(H){var z=ke(H,2),M=z[0],W=z[1];return W});return v=Object.fromEntries(B.map(function(H,z){return[H,N[z]]})),1}};for(h.s();!(g=h.n()).done&&!y(););}catch(F){h.e(F)}finally{h.f()}if(!d){var m=pa(cu(n)),_;try{for(m.s();!(_=m.n()).done;){var b=ke(_.value,2),S=b[0],O=b[1];if(O.spelImport){var x=void 0;try{x=O.spelImport(e)}catch(F){}if(x){d=S,p=Wr(n,d),v={};for(var C in x)v[C]=s(x[C])}}}}catch(F){m.e(F)}finally{m.f()}}if(d){var I={};for(var E in p.args){var k=p.args[E],w=v[E];if(w===void 0)if(w=k==null?void 0:k.defaultValue,w===void 0){if(!(k!=null&&k.isOptional)){i.errors.push("No value for arg ".concat(E," of func ").concat(d));return}}else{var A;w={value:w,valueSrc:(A=w)!==null&&A!==void 0&&A.func?"func":"value",valueType:k.type}}w&&(I[E]=w)}return{valueSrc:"func",value:{func:d,args:I},valueType:p.returnType}}var P=e.methodName;P&&i.errors.push("Signature ".concat(u," - failed to convert"))},die=function(e,r,n,i,a,o,s){var l,u,c,f=[];for(var d in n.widgets){var p=n.widgets[d],v=p.spelImportFuncs;if(v)for(var h=0;h<v.length;h++){var g=v[h];if(yA(g)){var y={};if(vI(g,e,y)){for(var m in y)y[m]=s(y[m]);f.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(h,"]"),w:d,argsObj:y})}}}}var _=pa(o),b;try{for(_.s();!(b=_.n()).done;){var S=b.value,O=S.s,x=S.params,C=r.valueFuncs[O]||[],I=pa(C),E;try{var k=function(){var M=E.value,W=M.w,q=M.argsOrder,Y=x.map(s),K=Object.fromEntries(q.map(function(ie,te){return[ie,Y[te]]}));f.push({s:O,w:W,argsObj:K})};for(I.s();!(E=I.n()).done;)k()}catch(z){I.e(z)}finally{I.f()}}}catch(z){_.e(z)}finally{_.f()}for(var w=0,A=f;w<A.length;w++){var P=A[w],F=P.s,D=P.w,R=P.argsObj,G=n.widgets[D],V=G.spelImportValue,$=G.type;c=D,u=F,l=[];for(var L in R)["value"].includes(R[L].valueSrc)||l.push("".concat(L," has unsupported value src ").concat(R[L].valueSrc));var N=R.v.value;if(V&&!l.length){var B=V.call(n.ctx,R.v,G,R),H=ke(B,2);N=H[0],l=H[1],l&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:$,value:N}}c&&l.length&&i.errors.push("Signature ".concat(u," - looks like convertable to ").concat(c,", but: ").concat(l.join("; ")))},pie=function(e,r,n,i,a,o,s){var l,u,c,f=pa(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,v=p.s,h=p.params,g=r.opFuncs[v]||[],y=pa(g),m;try{var _=function(){var O,x=m.value,C=x.op,I=x.argsOrder,E=h.map(s);if(u=C,C==="!compare"){if(a.type.startsWith("op-")&&a.children.length==2&&a.children[1].type=="number"&&a.children[1].val===0)return{v:{type:"!compare",children:E}};l.push("Result of compareTo() should be compared to 0")}c=v,l=[];var k=n.operators[u],w=k.spelOp,A=k.valueTypes,P=Object.fromEntries(I.map(function(G,V){return[G,E[V]]})),F=P[0],D=Object.keys(P).filter(function(G){return parseInt(G)>0}).map(function(G){return P[G]}),R=(O=E.filter(function(G){return!!G}).find(function(G){var V=G.valueSrc;return V==="value"}))===null||O===void 0?void 0:O.valueType;if(A&&R&&!A.includes(R)&&l.push("Op supports types ".concat(A,", but got ").concat(R)),!l.length)return{v:b0(n,i,F,u,D,e)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(S){y.e(S)}finally{y.f()}}}catch(S){f.e(S)}finally{f.f()}u&&l.length&&i.errors.push("Signature ".concat(c," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},b0=function(e,r,n,i,a,o){var s,l;if(!a.filter(function(E){return E===void 0}).length){var u=(s=n)!==null&&s!==void 0&&s.func?"func":"field";yA(n)&&n.valueSrc&&(u=n.valueSrc,n=n.value);var c=Me(e,n);if(!c){r.errors.push("No config for field ".concat(n));return}var f=Me(e,o==null?void 0:o._groupField),d=c.type=="!group";d&&c.mode=="array";var p=(f==null?void 0:f.type)=="!group",v=e.operators[i],h=e.operators[(l=v)===null||l===void 0?void 0:l.reversedOp],g=(o==null?void 0:o.not)&&["between"].includes(i),y=!!h,m=y&&(!!e.settings.reverseOperatorsForNot||g||!d&&p),_=(o==null?void 0:o.not)&&m||g;_&&(i=v.reversedOp,v=e.operators[i],o.not=!o.not);var b=!!(o!=null&&o.not),S=gr(e,n,i),O=e.widgets[S||c.mainWidget],x=a.map(function(E){return E.asyncListValues}).filter(function(E){return E!=null}),C=x.length?x[0]:void 0,I={type:"rule",id:Lt(),properties:xr({field:n,fieldSrc:u,operator:i,value:a.map(function(E){return E.value}),valueSrc:a.map(function(E){return E.valueSrc}),valueType:a.map(function(E){return E.valueSrc=="value"&&((O==null?void 0:O.type)||(c==null?void 0:c.type))||E.valueType})},C?{asyncListValues:C}:{})};return b&&(I=tf(I,e,o.not)),I}},hie=function(e,r,n,i,a){var o=e.groupFilter,s=e.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var l=s.value,u=b0(i,a,l,r,n);if(u){var c=Me(i,l),f=c==null?void 0:c.mode,d;return(o==null?void 0:o.type)==="group"?d=xr(xr({},o||{}),{},{type:"rule_group",properties:xr(xr(xr({},u.properties),(o==null?void 0:o.properties)||{}),{},{mode:f})}):o?d=xr(xr({},u||{}),{},{type:"rule_group",children1:[o],properties:xr(xr({},u.properties),{},{mode:f})}):d=xr(xr({},u||{}),{},{type:"rule_group",properties:xr(xr({},u.properties),{},{mode:f})}),d.id||(d.id=Lt()),d}},vie=function(e,r,n,i,a,o){if(e.type==r.type)if(e.type=="!aggr"){var s=[e.source,r.source].map(function(h){return Sc(h,i,a,o,n)}),l=ke(s,2),u=l[0],c=l[1];return u.value==c.value}else{var f=[e,r].map(function(h){return Sc(h,i,a,o,n)}),d=ke(f,2),p=d[0],v=d[1];return p.value==v.value}return!1},SA=function(e,r,n,i){var a={},o=null,s=OA(o,e,r,n,i);s&&(a[s.id]=s);var l={type:"switch_group",id:Lt(),children1:a,properties:{}};return l},OA=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=gie(i,a,n,r,o),l;return e?(l=_c(e,n,i,a,o),l&&l.type?(l.type!="group"&&(l=tf(l,i)),l.type="case_group"):(a.errors.push("Unexpected case: ".concat(JSON.stringify(l))),l=void 0)):l={id:Lt(),type:"case_group",properties:{}},l&&(l.properties=xr(xr({},l.properties),s)),l},xA=function(e,r,n,i){var a=[];function o(s){s.map(function(l){if(l.type==="op-plus")o(l.children);else{var u=Sc(l,r,n,i,e);u?a.push(u):i.errors.push("Can't convert ".concat(l.type," in concatenation"))}})}return o(e.children),{valueSrc:"value",valueType:"case_value",value:a}},gie=function(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l={},u,c,f,d=Me(e,"!case_value");if((i==null?void 0:i.type)==="op-plus"&&((a=e.settings.caseValueField)===null||a===void 0?void 0:a.type)==="case_value")c="case_value",u=xA(i,n,e,r);else if(c=d==null?void 0:d.mainWidget,f=e.widgets[c],u=Sc(i,n,e,r,s),u&&u.valueSrc==="value"){var p;u.valueType=((p=f)===null||p===void 0?void 0:p.type)||(d==null?void 0:d.type)||u.valueType}var v=e.widgets[c];if(c==="case_value"){var h=v==null?void 0:v.spelImportValue;if(h){var g=h.call(e.ctx,u),y=ke(g,2),m=y[0],_=y[1];if(_.map(function(S){return r.errors.push(S)}),m!=null){var b;l={value:[m],valueSrc:["value"],valueType:[(b=v==null?void 0:v.type)!==null&&b!==void 0?b:"case_value"],field:"!case_value"}}}}else u!=null&&((o=u)===null||o===void 0?void 0:o.value)!=null&&(l={value:[u.value],valueSrc:[u.valueSrc],valueType:[u.valueType],field:"!case_value"});return l},tf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Lt(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n||!1}}};const lO=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:ZI,_loadFromSpel:bA,getTree:bne,isImmutableTree:WI,isJsonLogic:Fn,isTree:YI,jsToImmutable:bc,loadFromJsonLogic:Ene,loadFromSpel:iie,loadTree:g0},Symbol.toStringTag,{value:"Module"}));function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.settings.defaultField,a=(n?EA(e,n):i)||r&&iP(e,n)||null;return a!=null&&typeof a!="string"&&!au(a)&&(a=bc(a)),a},EA=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n)return null;var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".",a=Me(e,n),o=a==null?void 0:a.defaultField;return o&&(o=[].concat(Ce(Nr(n)),[o]).join(i)),o},Og=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n&&((r=e.settings.fieldSources)===null||r===void 0?void 0:r[0])||"field"},_0=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Me(e,r),a=(i==null?void 0:i.operators)||[],o=e.settings.defaultOperator;o&&!a.includes(o)&&(o=null);var s=i==null?void 0:i.defaultOperator,l=i==null?void 0:i.ownDefaultOperator,u=n?x0(e,r):null,c=l||o||s||u;return c},rf=function(e,r,n){var i=r?Pt(e,r,n):null;return i&&i.options?new Ue.Map(i.options&&i.options.defaults||{}):null},Ta=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=null,s=null,l=null,u=e.settings.showErrorMessage;if(n){var c,f,d;l=n==null||(c=n.properties)===null||c===void 0?void 0:c.fieldSrc,o=n==null||(f=n.properties)===null||f===void 0?void 0:f.field,s=n==null||(d=n.properties)===null||d===void 0?void 0:d.operator}else i?(o=wA(e,a,r),o?l=au(o)?"func":"field":l=Og(e),s=_0(e,o,!0)):l=Og(e);var p=new Ue.Map({fieldSrc:l,field:o,operator:s,value:new Ue.List,valueSrc:new Ue.List,operatorOptions:rf(e,s,o)});if(u&&(p=p.set("valueError",new Ue.List)),o&&s){var v=!1,h=rs(e,e,p,o,s,"operator",v),g=h.newValue,y=h.newValueSrc,m=h.newValueType,_=h.newValueError,b=h.newFieldError;p=p.set("value",g).set("valueSrc",y).set("valueType",m),u&&(p=p.set("valueError",_).set("fieldError",b))}return p},Oc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r=Me(e,r);var n=r&&r.conjunctions||Object.keys(e.conjunctions);return n.length==1?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},ka=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},No=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Ue.Map({conjunction:Oc(e,r),not:!1})},CA=function(e,r){var n;return r&&r.type=="group"?No(e,r==null||(n=r.properties)===null||n===void 0?void 0:n.field):Ta(e,null,r)},TA=function(e,r){return le({},e,new Ue.Map({type:"rule",id:e,properties:Ta(r)}))},yie=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Ue.Map({type:"group",id:Lt(),children1:new Ue.OrderedMap(r?mie({},TA(Lt(),e)):{}),properties:No(e)})},bie=function(e){return Kp(e)?e:kA([e])},kA=function(e){return Kp(e)?e:new Ue.List(e)},_ie=function(){return new Ue.Map};const Sie=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:kA,createListWithOneElement:bie,defaultConjunction:ka,defaultGroupConjunction:Oc,defaultGroupProperties:No,defaultItemProperties:CA,defaultOperatorOptions:rf,defaultRoot:yie,defaultRule:TA,defaultRuleProperties:Ta,emptyProperties:_ie,getDefaultField:wA,getDefaultFieldSrc:Og,getDefaultOperator:_0,getDefaultSubField:EA},Symbol.toStringTag,{value:"Module"}));function cO(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Oie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Oie(t,e){if(t){if(typeof t=="string")return fO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(t,e)}}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var IA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a={errors:[],settings:{isForDisplay:n,isDebugMode:i}},o=ai(r,void 0,!1),s=AA(e,o,a,null);return a.errors.length&&console.warn("Errors while exporting to string:",a.errors),s},AA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(e.get("children1"),a==="group"||a==="rule_group")return xie(e,r,n,i);if(a==="rule")return jA(e,r,n,i)}},xie=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=n.settings,l=s.isForDisplay,u=s.isDebugMode,c=e.get("type"),f=e.get("properties")||new ur,d=f.get("mode"),p=e.get("children1")||new Ji,v=c==="rule_group",h=v&&d=="array"?f.get("field"):null,g=c==="rule_group"?f.get("operator"):null,y=g?(i=(a=r.operators[g])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1:void 0,m=v&&d==="array"&&y>=1,_=f.get("not"),b=p.map(function(A){return AA(A,r,n,h)}).filter(function(A){return typeof A<"u"});if(!(!m&&!b.size&&!u)){var S=f.get("conjunction");S||(S=ka(r));var O=r.conjunctions[S],x=b.size?O.formatConj.call(r.ctx,b,S,_,l):null,C;if(h){var I=jA(e,r,n,o,!0);if(I){var E,k=I.pop(),w=[x].concat(Ce(I));C=(E=r.settings.formatAggr).call.apply(E,[r.ctx].concat(Ce(w))),k&&(C=r.settings.formatReverse.call(r.ctx,C,null,null,null,null,l))}}else C=x;return u&&C==null&&(C="?"),C}},wie=function(e,r,n,i,a){var o=n.settings;o.isForDisplay;var s=o.isDebugMode,l=r.get("field"),u=r.get("valueSrc"),c=r.get("valueType"),f=Me(e,l)||{},d=i||r.get("operator"),p=Pt(e,d,l)||{},v=Ur(p),h=r.get("value"),g=r.get("asyncListValues"),y=[],m=[],_,b;if(h!=null){b=h.map(function(x,C){var I=u?u.get(C):null,E=c?c.get(C):null,k=s?x:xs(x,I,e),w=gr(e,l,d,I),A=On(e,l,d,w,I,{forExport:!0}),P=xg(e,n,k,I,E,A,f,d,p,a,g);return P!==void 0&&(y.push(I),m.push(E)),P});var S=b.filter(function(x){return x===void 0}).size>0,O=!S&&b.size===v;O&&(_=v==1?b.first():b)}return s&&!_&&(_=v>1?new Ji(Array.from({length:v}).map(function(x,C){var I,E;return(I=(E=b)===null||E===void 0?void 0:E.get(C))!==null&&I!==void 0?I:"?"})):"?"),[_,y.length>1?y:y[0],m.length>1?m:m[0]]},Eie=function(e,r,n){var i=n.settings.isDebugMode,a=(r==null?void 0:r.labelForFormat)||e,o=Ur(r),s;return o==0?s=function(u,c,f,d,p,v,h,g){return"".concat(u," ").concat(a)}:o==1?s=function(u,c,f,d,p,v,h,g){return i&&c==="?"&&f==="?"?u&&u!=="?"?"".concat(u," ?"):"?":"".concat(u," ").concat(a," ").concat(f)}:o==2&&(s=function(u,c,f,d,p,v,h,g){var y,m,_=f==null||(y=f.first)===null||y===void 0?void 0:y.call(f),b=f==null||(m=f.get)===null||m===void 0?void 0:m.call(f,1);return"".concat(u," ").concat(a," ").concat(_," AND ").concat(b)}),s},jA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=n.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.get("properties")||new ur,c=u.get("field"),f=u.get("fieldSrc"),d=u.get("operator"),p=u.get("operatorOptions");if(!((c==null||d==null)&&!l)){var v=Me(r,c)||{},h=Pt(r,d,c)||{},g=h.reversedOp,y=Pt(r,g,c)||{},m=!1,_=h.formatOp;if(!_&&g&&(_=y.formatOp,_)){m=!0;var b=[g,d];d=b[0],g=b[1];var S=[y,h];h=S[0],y=S[1]}if(l&&!d&&(d="?"),_||(_=Eie(d,h,n)),!!_){var O=f==="func"?FA(r,n,c,i):PA(r,n,c,i);if(O!=null){var x=wie(r,u,n,d,i),C=ke(x,3),I=C[0],E=C[1],k=C[2];if(I!==void 0){var w=[O,d,I,E,k,ii(h,iu),p,s,v,m];if(a)return w;var A,P=(A=_).call.apply(A,[r.ctx].concat(w));return m&&(P=r.settings.formatReverse.call(r.ctx,P,d,g,h,y,s)),P}}}}},xg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0,d=r.settings,p=d.isForDisplay,v=d.isDebugMode;if(n===void 0)return v?(o==null?void 0:o.jsType)==="array"?[]:"?":void 0;var h;if(i=="field")h=PA(e,r,n,c);else if(i=="func")h=FA(e,r,n,c);else if(typeof(o==null?void 0:o.formatValue)=="function"){var g=o.formatValue,y=[n,pO(pO({},ya(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ii(o,Os),p];if(l&&(y.push(l),y.push(u)),i=="field"){var m=Me(e,n)||{};y.push(m)}h=g.call.apply(g,[e.ctx].concat(y))}else h=n;return h},PA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=r.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.settings;u.fieldSeparator;var c=u.fieldSeparatorDisplay,f=null;if(n){var d=Me(e,n)||{},p=Nr(n,e),v=af(n,e,a?i:null),h=v?v.join(c):null,g=d.label2||h,y=e.settings.formatField,m=Ja(n,e,r,a?i:null,{useTableName:!0});f=y(m,p,g,d,e,s)}else l&&(f="?");return f},FA=function(e,r,n){var i,a,o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=r.settings,u=l.isForDisplay,c=l.isDebugMode,f=n==null||(i=n.get)===null||i===void 0?void 0:i.call(n,"func");if(!f)return c?"?()":void 0;var d=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),p=Wr(e,f);if(!p&&!c){r.errors.push("Func ".concat(f," is not defined in config"));return}var v=Nr(f,e),h=v[v.length-1],g=u&&(p==null?void 0:p.label)||h,y={},m=[],_=[],b={},S=p?Object.keys(p.args||{}):(d==null||(o=d.keySeq)===null||o===void 0?void 0:o.call(d).toArray())||[],O=cO(S),x;try{for(O.s();!(x=O.n()).done;){var C,I=x.value,E=p==null?void 0:p.args[I],k=Me(e,E),w=E||{},A=w.defaultValue,P=w.isOptional,F=A!=null&&A.func?"func":"value",D=u&&(E==null?void 0:E.label)||I,R=d?d.get(I):void 0,G=R?R.get("value"):void 0,V=R?R.get("valueSrc"):void 0;V!=="func"&&(C=G)!==null&&C!==void 0&&C.toJS&&(G=G.toJS());var $=R?R.get("asyncListValues"):void 0,L=xg(e,r,G,V,E==null?void 0:E.type,k,E,null,null,s,$);G!=null&&L===void 0&&V!="func"&&r.errors.push("Can't format value of arg ".concat(I," for func ").concat(f));var N=void 0;if(L===void 0&&!P&&A!=null&&(N=xg(e,r,A,F,E==null?void 0:E.type,k,E,null,null,s,$),N===void 0)){F!="func"&&r.errors.push("Can't format default value of arg ".concat(I," for func ").concat(f));return}var B=L!=null?L:N;if(B!==void 0){if(m.length){var H=cO(I),z;try{for(H.s();!(z=H.n()).done;){var M=ke(z.value,2),W=M[0],q=M[1];y[W]=void 0}}catch(ae){H.e(ae)}finally{H.f()}m=[]}y[I]=B,b[D]=B}else P||_.push(I),m.push([I,D])}}catch(ae){O.e(ae)}finally{O.f()}if(!(_.length&&!c)){var Y=null;if(typeof(p==null?void 0:p.formatFunc)=="function"){var K=p.formatFunc,ie=[y,u];Y=K.call.apply(K,[e.ctx].concat(ie))}else{var te=Object.entries(u?b:y).map(function(ae){var ue=ke(ae,2),fe=ue[0],pe=ue[1];return u?"".concat(fe,": ").concat(pe):"".concat(pe)}).join(", ");Y="".concat(g,"(").concat(te,")")}return Y}},LA="EMPTY_GROUP",RA="EMPTY_RULE_GROUP",$A="EMPTY_QUERY",NA="EMPTY_CASE",DA="NO_CONFIG_FOR_FIELD",MA="NO_CONFIG_FOR_OPERATOR",Cie="FIXED_OPERATOR",VA="NO_CONFIG_FOR_FUNCTION",BA="INVALID_VALUE",qA="INVALID_FUNC_ARG_VALUE",zA="UNSUPPORTED_FIELD_TYPE",HA="UNSUPPORTED_OPERATOR_FOR_FIELD",UA="INVALID_VALUE_SRC",wg="INCOMPLETE_RULE",GA="INCOMPLETE_LHS",WA="INCOMPLETE_RHS",Eg="BAD_MULTISELECT_VALUES",YA="BAD_SELECT_VALUE",KA="INCORRECT_VALUE_TYPE",JA="INCORRECT_VALUE_JS_TYPE",QA="VALUE_LENGTH_CONSTRAINT_FAIL",Cg="VALUE_MIN_CONSTRAINT_FAIL",Tg="VALUE_MAX_CONSTRAINT_FAIL",XA="NO_CONFIG_FOR_FIELD_VALUE",ZA="CANT_COMPARE_FIELD_WITH_ITSELF",ej="CANT_COMPARE_FIELD_WITH_FIELD",tj="INCORRECT_FIELD_TYPE",rj="UNSUPPORTED_FUNCTION_FOR_FIELD",nj="REQUIRED_FUNCTION_ARG",ij="INCORRECT_FUNCTION_RETURN_TYPE",aj="INVALID_RANGE",Ra="ITEM_POSITION",oj="ITEM_POSITION_ROOT",sj="ITEM_POSITION_WITH_INDEX_PATH",lj="ITEM_POSITION_IN_CASE",kg="range";const nt=t=>typeof t=="string",ku=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},hO=t=>t==null?"":""+t,Tie=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},kie=/###/g,vO=t=>t&&t.indexOf("###")>-1?t.replace(kie,"."):t,gO=t=>!t||nt(t),Xu=(t,e,r)=>{const n=nt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(gO(t))return{};const a=vO(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return gO(t)?{}:{obj:t,k:vO(n[i])}},mO=(t,e,r)=>{const{obj:n,k:i}=Xu(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=Xu(t,o,Object);for(;s.obj===void 0&&o.length;)a="".concat(o[o.length-1],".").concat(a),o=o.slice(0,o.length-1),s=Xu(t,o,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(a)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(a)]=r},Iie=(t,e,r,n)=>{const{obj:i,k:a}=Xu(t,e,Object);i[a]=i[a]||[],i[a].push(r)},Hd=(t,e)=>{const{obj:r,k:n}=Xu(t,e);if(r)return r[n]},Aie=(t,e,r)=>{const n=Hd(t,r);return n!==void 0?n:Hd(e,r)},uj=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?nt(t[n])||t[n]instanceof String||nt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):uj(t[n],e[n],r):t[n]=e[n]);return t},$s=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var jie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Pie=t=>nt(t)?t.replace(/[&<>"'\/]/g,e=>jie[e]):t;class Fie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Lie=[" ",",","?","!",";"],Rie=new Fie(20),$ie=(t,e,r)=>{e=e||"",r=r||"";const n=Lie.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Rie.getRegExp("(".concat(n.map(o=>o==="?"?"\\?":o).join("|"),")"));let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},Ig=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<n.length;++l)if(l!==a&&(s+=r),s+=n[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=o}return i},Ud=t=>t&&t.replace("_","-"),Nie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Gd{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Nie,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(nt(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[r](e))}create(e){return new Gd(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gd(this.logger,e)}}var fa=new Gd;class ih{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s.apply(s,[e,...n])})}}class yO extends ih{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):nt(n)&&a?s.push(...n.split(a)):s.push(n)));const l=Hd(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!o||!nt(n)?l:Ig(this.data&&this.data[e]&&this.data[e][r],n,a)}addResource(e,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),mO(this.data,s,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(nt(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=Hd(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?uj(l,n,a):l={...l,...n},mO(this.data,s,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var cj={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,r,n,i))}),e}};const bO={};class Wd extends ih{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Tie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!$ie(e,n,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return nt(a)&&(a=[a]),{key:e,namespaces:a}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const b=r.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(b).concat(o),usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(b).concat(o)}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let d=f&&f.res;const p=f&&f.usedKey||o,v=f&&f.exactUsedKey||o,h=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,_=!nt(d)&&typeof d!="boolean"&&typeof d!="number";if(m&&d&&_&&g.indexOf(h)<0&&!(nt(y)&&Array.isArray(d))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...r,ns:s}):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=b,f.usedParams=this.getUsedParamsDetails(r),f):b}if(a){const b=Array.isArray(d),S=b?[]:{},O=b?v:p;for(const x in d)if(Object.prototype.hasOwnProperty.call(d,x)){const C="".concat(O).concat(a).concat(x);S[x]=this.translate(C,{...r,joinArrays:!1,ns:s}),S[x]===C&&(S[x]=d[x])}d=S}}else if(m&&nt(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,r,n));else{let b=!1,S=!1;const O=r.count!==void 0&&!nt(r.count),x=Wd.hasDefaultValue(r),C=O?this.pluralResolver.getSuffix(u,r.count,r):"",I=r.ordinal&&O?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",E=O&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),k=E&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(C)]||r["defaultValue".concat(I)]||r.defaultValue;!this.isValidLookup(d)&&x&&(b=!0,d=k),this.isValidLookup(d)||(S=!0,d=o);const A=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,P=x&&k!==d&&this.options.updateMissing;if(S||b||P){if(this.logger.log(P?"updateKey":"missingKey",u,l,o,P?k:d),a){const G=this.resolve(o,{...r,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let G=0;G<D.length;G++)F.push(D[G]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(r.lng||this.language):F.push(r.lng||this.language);const R=(G,V,$)=>{const L=x&&$!==d?$:A;this.options.missingKeyHandler?this.options.missingKeyHandler(G,l,V,L,P,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(G,l,V,L,P,r),this.emit("missingKey",G,l,V,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?F.forEach(G=>{const V=this.pluralResolver.getSuffixes(G,r);E&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&V.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&V.push("".concat(this.options.pluralSeparator,"zero")),V.forEach($=>{R([G],o+$,r["defaultValue".concat($)]||k)})}):R(F,o,k))}d=this.extendTranslation(d,e,r,f,n),S&&d===o&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(o)),(S||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(o):o,b?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=nt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&!nt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return a&&a[0]===p[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(p[0]," in key: ").concat(r[0])),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=nt(s)?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=cj.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,o,s;return nt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!nt(r.count),p=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),v=r.context!==void 0&&(nt(r.context)||typeof r.context=="number")&&r.context!=="",h=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(g=>{this.isValidLookup(n)||(s=g,!bO["".concat(h[0],"-").concat(g)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(bO["".concat(h[0],"-").concat(g)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(y=>{if(this.isValidLookup(n))return;o=y;const m=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,c,y,g,r);else{let b;d&&(b=this.pluralResolver.getSuffix(y,r.count,r));const S="".concat(this.options.pluralSeparator,"zero"),O="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(m.push(c+b),r.ordinal&&b.indexOf(O)===0&&m.push(c+b.replace(O,this.options.pluralSeparator)),p&&m.push(c+S)),v){const x="".concat(c).concat(this.options.contextSeparator).concat(r.context);m.push(x),d&&(m.push(x+b),r.ordinal&&b.indexOf(O)===0&&m.push(x+b.replace(O,this.options.pluralSeparator)),p&&m.push(x+S))}}let _;for(;_=m.pop();)this.isValidLookup(n)||(a=_,n=this.getResource(y,g,_,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!nt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const ov=t=>t.charAt(0).toUpperCase()+t.slice(1);class _O{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fa.create("languageUtils")}getScriptPartFromCode(e){if(e=Ud(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Ud(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(nt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=ov(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=ov(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=ov(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),nt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(o)))};return nt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):nt(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let Die=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Mie={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Vie=["v1","v2","v3"],Bie=["v4"],SO={zero:0,one:1,two:2,few:3,many:4,other:5},qie=()=>{const t={};return Die.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Mie[e.fc]}})}),t};class zie{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=fa.create("pluralResolver"),(!this.options.compatibilityJSON||Bie.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=qie(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Ud(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[a]=o,o}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>"".concat(r).concat(i))}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>SO[i]-SO[a]).map(i=>"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Vie.includes(this.options.compatibilityJSON)}}const OO=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Aie(t,e,r);return!a&&i&&nt(r)&&(a=Ig(t,r,n),a===void 0&&(a=Ig(e,r,n))),a},sv=t=>t.replace(/\$/g,"$$$$");class Hie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fa.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=r!==void 0?r:Pie,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?$s(a):o||"{{",this.suffix=s?$s(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?$s(d):p||$s("$t("),this.nestingSuffix=v?$s(v):h||$s(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,r,n,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=OO(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,n,{...i,...r,interpolationkey:p}):y}const v=p.split(this.formatSeparator),h=v.shift().trim(),g=v.join(this.formatSeparator).trim();return this.format(OO(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...i,...r,interpolationkey:h})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>sv(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?sv(this.escape(p)):sv(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){const v=a[1].trim();if(o=u(v),o===void 0)if(typeof c=="function"){const g=c(e,a,i);o=nt(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=a[0];continue}else this.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(e)),o="";else!nt(o)&&!this.useRawValueToEscape&&(o=hO(o));const h=p.safeValue(o);if(e=e.replace(a[0],h),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const s=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),v=d.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),h),"".concat(l).concat(c).concat(d)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!nt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=r(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!nt(a))return a;nt(a)||(a=hO(a)),a||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Uie=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=s.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Ns=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let s=e[o];return s||(s=t(Ud(n),i),e[o]=s),s(r)}};class Gie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fa.create("formatter"),this.options=e,this.formats={number:Ns((r,n)=>i=>new Intl.NumberFormat(r,{...n}).format(i)),currency:Ns((r,n)=>i=>new Intl.NumberFormat(r,{...n,style:"currency"}).format(i)),datetime:Ns((r,n)=>i=>new Intl.DateTimeFormat(r,{...n}).format(i)),relativetime:Ns((r,n)=>i=>new Intl.RelativeTimeFormat(r,{...n}).format(i,n.range||"day")),list:Ns((r,n)=>i=>new Intl.ListFormat(r,{...n}).format(i))},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ns(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{const{formatName:u,formatOptions:c}=Uie(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](s,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const Wie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Yie extends ih{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=fa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},s={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d="".concat(u,"|").concat(f);!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{Iie(l.loaded,[a],o),Wie(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();nt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nt(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&s&&this.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),s),this.loaded(e,o,s)})}saveMissing(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,r,n,i,s,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const xO=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),nt(t[1])&&(e.defaultValue=t[1]),nt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),wO=t=>(nt(t.ns)&&(t.ns=[t.ns]),nt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),nt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Vf=()=>{},Kie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class xc extends ih{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=wO(e),this.services={},this.logger=fa,this.modules={external:[]},Kie(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(nt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=xO();this.options={...i,...this.options,...wO(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?fa.init(a(this.modules.logger),this.options):fa.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Gie);const f=new _O(this.options);this.store=new yO(this.options.resources,this.options);const d=this.services;d.logger=fa,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new zie(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Hie(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Yie(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Wd(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Vf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=ku(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vf;const i=nt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=ku();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Vf),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=ku();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=nt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(v=>"".concat(l.keyPrefix).concat(d).concat(v)):p=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(o):o,i.t(p,l)};return nt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(r.precheck){const s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=ku();return this.options.ns?(nt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=ku();nt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new _O(xO());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new xc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vf;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new xc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new yO(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Wd(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xn=xc.createInstance();xn.createInstance=xc.createInstance;xn.createInstance;xn.dir;xn.init;xn.loadResources;xn.reloadResources;xn.use;xn.changeLanguage;xn.getFixedT;xn.t;xn.exists;xn.setDefaultNamespace;xn.hasLoadedNamespace;xn.loadNamespaces;xn.loadLanguages;var Ds,Jie=(Ds={},le(le(le(le(le(le(le(le(le(le(Ds,LA,"Empty group"),RA,"No conditions for group field {{field}}"),$A,"Empty query"),NA,"Empty case"),DA,"No config for field {{field}}"),Cie,"Fixed operator {{from}} to {{to}} for field {{field}}"),MA,"No config for operator {{operator}}"),VA,"No config for function {{funcKey}}"),BA,"Invalid value"),qA,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),le(le(le(le(le(le(le(le(le(le(Ds,zA,"Type of field {{field}} is not supported"),HA,"Operator {{operator}} is not supported for field {{field}}"),wg,"Incomplete rule"),GA,"Incomplete LHS"),WA,"Incomplete RHS"),UA,"Invalid value src {{valueSrcs, list}}"),Eg+"_one","Value {{badValues, list}} is not in the list of allowed values"),Eg+"_other","Values {{badValues, list}} are not in the list of allowed values"),YA,"Value {{value}} is not in the list of allowed values"),KA,"Value should have type {{wType}}, but got value of type {{valueType}}"),le(le(le(le(le(le(le(le(le(le(Ds,JA,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),QA,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),Cg,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),Cg+"_"+kg,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),Tg,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),Tg+"_"+kg,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),XA,"No config for field {{field}}"),ZA,"Can't compare field {{field}} with itself"),ej,"Can't compare field {{leftField}} with {{rightField}}"),tj,"Field {{field}} is of type {{type}}, but expected {{expected}}"),le(le(le(le(le(le(le(le(le(le(Ds,rj,"Unsupported function {{funcKey}} for field {{field}}"),nj,"Value of arg {{argName}} for func {{funcName}} is required"),ij,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),aj,"Invalid range"),oj,"Root"),Ra+"__rule","Leaf #{{globalLeafNo}}"),Ra+"__group","Group #{{globalGroupNo}}"),Ra+"__rule_group","Rule-group #{{globalNoByType}}"),Ra+"__case_group","Case #{{globalNoByType}}"),Ra+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),le(le(le(le(le(Ds,Ra+"__group__deleted","Deleted group #{{globalGroupNo}}"),Ra+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),Ra+"__case_group__deleted","Deleted case #{{globalNoByType}}"),lj,"{{str}} in case #{{caseNo}}"),sj,"{{str}} (index path: {{indexPath, list}})")),fj="raqbvalidation",Qie="".concat(fj,":"),ah=xn.createInstance();ah.init({fallbackLng:"en"});ah.addResources("en",fj,Jie);var Ni=function t(e,r){return e!=null&&e.str?e.str:e!=null&&e.key?t(e.key,e.args):r===null?e:ah.t(e.includes(":")?e:Qie+e,r)};function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dj=function(e){return xt(e)==="object"&&e!==null&&Array.isArray(e)?"array":xt(e)},Xie=function(e,r){return dj(e)===r||r==="number"&&!isNaN(e)},pj=function(e,r){return hj(e,r).length===0},hj=function(e,r){var n=r.settings.showErrorMessage,i=[];function a(o,s,l){var u,c,f=o.get("id"),d=o.get("children1"),p=o.getIn(["properties","valueError"]),v=o.getIn(["properties","fieldError"]),h=o.getIn(["properties","field"]),g=(u=h==null||(c=h.get)===null||c===void 0?void 0:c.call(h,"func"))!==null&&u!==void 0?u:h,y=(p==null?void 0:p.size)>0&&p.filter(function(_){return _!=null}).size>0,m=y||!!v;m&&n&&i.push(g),d&&d.map(function(_,b){_&&a(_,s.concat(f))})}return e&&a(e,[]),Array.from(new Set(i))},vj=function(e,r){var n=ai(r,void 0,!0),i={removeEmptyGroups:r.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:r.settings.removeIncompleteRulesOnLoad,removeEmptyRules:r.settings.removeEmptyRulesOnLoad,forceFix:!1},a=nf(e,null,n,n,i),o=a.fixedTree,s=a.allErrors,l=a.isSanitized;return l&&s.length&&console.warn("Tree check errors: ",s),o},gj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ai(r,void 0,!0),a=hr(hr({},n),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1}),o=nf(e,null,i,i,a),s=o.allErrors;return s},mj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ai(r,void 0,!0),a=hr({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},n),o=nf(e,null,i,i,a),s=o.fixedTree,l=o.fixedErrors,u=o.nonFixedErrors,c=o.allErrors;return{fixedTree:s,fixedErrors:l,nonFixedErrors:u,allErrors:c}},yj=function(e,r,n,i,a,o,s){a===void 0&&(a=n.settings.removeEmptyGroupsOnLoad),o===void 0&&(o=n.settings.removeEmptyRulesOnLoad),s===void 0&&(s=n.settings.removeIncompleteRulesOnLoad);var l={removeEmptyGroups:a,removeEmptyRules:o,removeIncompleteRules:s,forceFix:!1},u=nf(e,r,n,i,l),c=u.fixedTree;u.allErrors;var f=u.fixedErrors;u.nonFixedErrors;var d=u.isSanitized;return d&&f.length&&console.warn("Fixed tree errors: ",f),c=zi(c),c},nf=function(e,r,n,i,a){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var o=a||{},s=o.removeEmptyGroups,l=o.removeEmptyRules,u=o.removeIncompleteRules,c=o.forceFix,f=o.translateErrors,d=f===void 0?!0:f,p=o.includeStringifiedItems,v=p===void 0?!0:p,h=o.stringifyFixedItems,g=h===void 0?!1:h,y=o.stringifyItemsUserFriendly,m=y===void 0?!0:y,_=o.includeItemsPositions,b=_===void 0?!0:_,S={config:n,oldConfig:i,removeEmptyGroups:s,removeEmptyRules:l,removeIncompleteRules:u,forceFix:c},O={errors:{}},x=_j(e,[],null,O,S),C=O.sanitized,I=[],E,k;b&&(E=mg(x).items);for(var w in O.errors){var A=O.errors[w],P=A.path,F=A.errors;d&&(F=F.map(function(Q){return hr(hr({},Q),{},{str:Ni(Q)})}));var D={path:P,errors:F};if(v){var R=dl(g?x:e,P),G=P.length===1;if(!G&&R.get("type")!=="group"){var V=!0,$=m,L=IA(R,n,$,V);D.itemStr=L}}if(b){var N=E[w],B=!N;if(B&&(k||(k=mg(e).items),N=k[w]),N){var H=hr(hr({},N.position),{},{index:N.index,type:N.type,isDeleted:B});D.itemPosition=H;var z=N.index?Ra+"__"+N.type+(B?"__deleted":""):oj,M=hr({},H);if(m){for(var W,q=0,Y=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];q<Y.length;q++){var K=Y[q];M[K]!=null&&(M[K]=M[K]+1)}M.indexPath=(W=H.indexPath)===null||W===void 0?void 0:W.map(function(Q){return Q+1})}D.itemPositionStr=Ni(z,M),N.index&&(N.caseId&&N.type!=="case_group"&&(D.itemPositionStr=Ni(lj,hr(hr({},M),{},{str:D.itemPositionStr}))),N.type!=="case_group"&&(D.itemPositionStr=Ni(sj,hr(hr({},M),{},{str:D.itemPositionStr}))))}}I.push(D)}for(var ie=[],te=[],ae=0,ue=I;ae<ue.length;ae++){var fe=ue[ae],pe=fe.errors.filter(function(Q){return!!Q.fixed}),Se=fe.errors.filter(function(Q){return!Q.fixed&&Q.key!=="EMPTY_QUERY"});pe.length&&ie.push(hr(hr({},fe),{},{errors:pe})),Se.length&&te.push(hr(hr({},fe),{},{errors:Se}))}return{fixedTree:x,allErrors:I,fixedErrors:ie,nonFixedErrors:te,isSanitized:C}};function io(t,e,r,n){var i=e.get("id");t.errors[i]||(t.errors[i]={path:[].concat(Ce(r),[i]),errors:[]}),t.errors[i].errors.push(n)}function bj(t,e){var r=e.get("id");t.errors[r]&&t.errors[r].errors.map(function(n){n.fixed=!0})}function _j(t,e,r,n,i){var a=t==null?void 0:t.get("type");return a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group"?Zie(t,e,r,n,i):a==="rule"?Sj(t,e,r,n,i):t}function Zie(t,e,r,n,i){var a,o,s,l,u,c,f=i.removeEmptyGroups,d=i.removeIncompleteRules;i.forceFix;var p=i.config;p.settings.showErrorMessage;var v=t.get("id"),h=t.get("children1"),g=!e.length,y=h,m=t.get("type"),_=t.get("properties"),b=_==null?void 0:_.get("field"),S=_==null?void 0:_.get("mode"),O=_==null||(a=_.get)===null||a===void 0?void 0:a.call(_,"operator"),x=m==="rule_group"&&S==="array",C=m==="case_group",I=C&&h==null,E=O?(o=(s=p.operators[O])===null||s===void 0?void 0:s.cardinality)!==null&&o!==void 0?o:1:void 0,k=C?!I:x?E==0:f,w=x||C;!v&&r&&(v=r,t=t.set("id",v),n.sanitized=!0),w&&(t=Sj(t,e,r,n,i));var A={errors:{}};h=(l=h)===null||l===void 0?void 0:l.map(function(G,V){return _j(G,e.concat(v),V,A,i)});var P=(u=h)===null||u===void 0?void 0:u.filter(function(G){return G!=null});f&&(h=P);var F=A.sanitized||(y==null?void 0:y.size)!=((c=h)===null||c===void 0?void 0:c.size),D=!(P!=null&&P.size),R=f&&!g;return x&&b&&(R=d),D&&k&&(io(n,t,e,{key:g?$A:C?NA:x?RA:LA,args:{field:b},fixed:R}),R&&(bj(n,t),t=void 0)),F&&(n.sanitized=!0),F&&t&&(t=t.set("children1",h)),n.errors=hr(hr({},n.errors),(A==null?void 0:A.errors)||{}),t}function Sj(t,e,r,n,i){var a=i.removeIncompleteRules,o=i.removeEmptyRules,s=i.forceFix,l=i.config,u=i.oldConfig,c=l.settings.showErrorMessage,f=!c||s,d=t.get("id"),p=t.get("type"),v=p==="case_group",h=t.get("properties");if(!h)if(v)h=new Ue.Map;else{var g={key:wg,args:{},fixed:a||o};io(n,t,e,g);return}var y=h.get("field")||null;v&&(y="!case_value");var m=h.get("fieldSrc")||null,_=h.get("operator")||null,b=h.get("operatorOptions"),S=h.get("valueSrc"),O=h.get("value"),x=h.get("valueError"),C=h.get("fieldError"),I=function(){var ae,ue;return{field:((ae=y)===null||ae===void 0||(ue=ae.toJS)===null||ue===void 0?void 0:ue.call(ae))||y,fieldSrc:m,operator:_,operatorOptions:b?b.toJS():{},valueSrc:S?S.toJS():null,value:O?O.toJS():null,valueError:x?x.toJS():null,fieldError:C||null}},E=I();!d&&r&&(d=r,t=t.set("id",d),n.sanitized=!0);var k=y?Me(l,y):null;y&&!k&&(io(n,t,e,{key:DA,args:{field:y},side:"lhs",fixed:a||o}),y=null),y==null&&!v&&(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce(function(te,ae){return te.delete(ae)},h),_=null),!m&&y&&!v&&(m=nP(y),h=h.set("fieldSrc",m)),(_==="range_between"||_==="range_not_between")&&(_=_==="range_between"?"between":"not_between",h=h.set("operator",_));var w=_?Pt(l,_,y):null;_&&!w&&(io(n,t,e,{key:MA,args:{operator:_},side:"op",fixed:a||o}),_=null);var A=y?sh(l,y):[];y&&!v&&(A!=null&&A.length?_&&A.indexOf(_)==-1&&(_==="is_empty"||_==="is_not_empty"?(_=_==="is_empty"?"is_null":"is_not_null",h=h.set("operator",_)):(io(n,t,e,{key:HA,args:{operator:_,field:y},side:"lhs",fixed:a||o}),_=null)):(io(n,t,e,{key:zA,args:{field:y},side:"lhs",fixed:a||o}),_=null)),_==null&&!v&&(h=["operatorOptions","valueSrc","value","valueError"].reduce(function(te,ae){return te.delete(ae)},h)),b=h.get("operatorOptions"),!_||b&&!w.options?(b=null,h=h.delete("operatorOptions")):_&&!b&&w.options&&(b=rf(l,_,y),h=h.set("operatorOptions",b)),S=h.get("valueSrc"),O=h.get("value");var P=!0,F=rs(l,u,h,y,_,null,f,P),D=F.newValue,R=F.newValueSrc,G=F.newValueError,V=F.validationErrors,$=F.newFieldError,L=F.fixedField;O=D,S=R,x=G,C=$,y=L,h=h.set("field",y),h=h.set("value",O),h=h.set("valueSrc",S),c?h=h.set("valueError",x).set("fieldError",C):h=h.delete("valueError").delete("fieldError");var N=I(),B=!Vd(E,N),H=k0(h.toObject(),l),z=v?H.parts.value:H.score>=3;if(B&&(n.sanitized=!0,t=t.set("properties",h)),V==null||V.map(function(te){return io(n,t,e,te)}),!z&&!v){var M=H.score?a:o,W={key:wg,args:{}};if(!H.parts.field)W.key=GA,W.side="lhs";else if(!H.parts.value){var q,Y,K,ie;W.key=WA,W.side="rhs",(q=N.valueSrc)!==null&&q!==void 0&&q[0]&&((Y=N.valueSrc)===null||Y===void 0?void 0:Y[0])!=((K=E.valueSrc)===null||K===void 0?void 0:K[0])&&((ie=N.value)===null||ie===void 0?void 0:ie[0])!=null&&(W.key=UA,W.args={valueSrcs:N.valueSrc})}W.fixed=M,io(n,t,e,W),M&&(bj(n,t),t=void 0)}return t}var Rl=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,d=[],p=a;if(a!=null){var v,h,g,y;if(s==="field"){var m=rae(r,n,a,s,o,l,e,i,u,c),_=ke(m,2);p=_[0],d=_[1]}else if(s==="func"){var b=nae(r,n,a,s,o,l,e,i,u,c,f),S=ke(b,2);p=S[0],d=S[1]}else if(s==="value"||!s){var O=tae(n,a,s,o,l,e,i,u,c),x=ke(O,2);p=x[0],d=x[1]}var C=!((v=d)!==null&&v!==void 0&&v.find(function(H){return!H.fixed})),I=!!n&&!["field","func"].includes(s)&&(!((h=d)!==null&&h!==void 0&&h.length)||C);if(I){var E=gr(e,n,i,s),k=i?Pt(e,i,n):null,w=On(e,n,i,E,s,{forExport:!0}),A=s==="field"?Me(e,a):null,P=w,F=w.validateValue;if(typeof F=="function"){var D=[p,P,i,k];s==="field"&&D.push(A);var R=F.call.apply(F,[e.ctx].concat(D));if(xt(R)==="object"&&R!==null&&!Array.isArray(R)){var G,V;(G=R.error)!==null&&G!==void 0&&G.key?V=hr({},R.error):V={key:R.error,args:null},R.fixedValue!==void 0&&u&&(V.fixed=!0,V.fixedFrom=p,V.fixedTo=R.fixedValue,p=R.fixedValue),d.push(V)}else typeof R=="boolean"?R==!1&&d.push({key:BA,args:{}}):typeof R=="string"&&d.push({key:R,args:null})}}if(C=!((g=d)!==null&&g!==void 0&&g.find(function(H){return!H.fixed})),(y=d)!==null&&y!==void 0&&y.length&&!C&&u){var $=Me(e,n),L=$==null?void 0:$.fieldSettings,N=L==null?void 0:L.defaultValue;if(N!==void 0){var B=d[d.length-1];B.fixed=!0,B.fixedFrom=p,B.fixedTo=N,p=N,d.map(function(H){H.fixed=!0})}}}return[p,d]},eae=function(e,r,n,i,a){var o=Ue.List.isList(e)?e.toJS():e instanceof Array?Ce(e):void 0,s=e,l=[];if(o){var u=o.reduce(function(g,y){var m=ke(g,2),_=m[0],b=m[1],S=yc(r,y);return S==null?[_,[].concat(Ce(b),[y])]:[[].concat(Ce(_),[S.value]),b]},[[],[]]),c=ke(u,2),f=c[0],d=c[1],p=d.length>0;if(n=n||a===!0,s=n&&p?f:e,d.length){var v=n&&p;l.push({key:Eg,args:{badValues:d,count:d.length},fixed:v,fixedFrom:v?o:void 0,fixedTo:v?s:void 0})}return[s,l]}else{var h=yc(r,e);return h==null?(s=n?null:e,l.push({key:YA,args:{value:e},fixed:n,fixedFrom:n?e:void 0,fixedTo:n?s:void 0})):s=h.value,[s,l]}},tae=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=[],f=r;if(e){var d=Me(o,e),p=gr(o,e,s,n),v=o.widgets[p],h=v==null?void 0:v.type,g=v==null?void 0:v.jsType,y=d==null?void 0:d.fieldSettings,m=(y==null?void 0:y.treeValues)||(y==null?void 0:y.listValues),_=!!(y!=null&&y.asyncFetch),b=m||_;if(i&&h&&i!=h)return c.push({key:KA,args:{wType:h,valueType:i}}),[r,c];if(g&&!Xie(r,g)&&!b)return c.push({key:JA,args:{jsType:g,valueTypeof:dj(r)}}),[r,c];if(y){var S=a||m;if(S&&!y.allowCustomValues&&p!=="case_value"){var O=eae(r,S,l,u,o.settings.removeInvalidMultiSelectValuesOnLoad),x=ke(O,2);f=x[0],c=x[1]}y.maxLength>0&&r!=null&&String(r).length>y.maxLength&&(f=l?String(r).substring(0,y.maxLength):r,c.push({key:QA,args:{value:r,length:String(r).length,fieldSettings:y},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}));var C=y.min!=null&&y.max!=null?kg:void 0;y.min!=null&&r<y.min&&(f=l?y.min:r,c.push({key:Cg,args:{value:r,fieldSettings:y,context:C},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0})),y.max!=null&&r>y.max&&(f=l?y.max:r,c.push({key:Tg,args:{value:r,fieldSettings:y,context:C},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}))}}return[f,c]},rae=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=[],c=s.settings,f=c.fieldSeparator,d=c.canCompareFieldWithField,p=xt(r)=="object"&&(r==null?void 0:r._isFuncArg),v=Array.isArray(e)?e.join(f):e,h=Me(s,e),g=Array.isArray(n)?n.join(f):n,y=Me(s,n);if(!y)return u.push({key:XA,args:{field:g}}),[n,u];if(e&&g===v&&!p)return u.push({key:ZA,args:{field:v}}),[n,u];if(a&&a!=y.type)return u.push({key:tj,args:{field:g,type:y.type,expected:a}}),[n,u];if(e&&!p&&d){var m=d(v,h,g,y,l);if(!m)return u.push({key:ej,args:{leftField:v,rightField:g}}),[n,u]}return[n]},nae=function(e,r,n,i,a,o,s){var l,u,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,v=n,h=[];if(!n)return[n];var g=(l=n.get)===null||l===void 0?void 0:l.call(n,"func");if(!g)return[n];var y=Me(s,r);if(y!=null&&y.funcs&&!y.funcs.includes(g))return h.push({key:rj,args:{funcKey:g,field:r}}),[n,h];var m=Wr(s,g);if(!m)return h.push({key:VA,args:{funcKey:g}}),[n,h];var _=(u=m.label)!==null&&u!==void 0?u:g;if(a&&m.returnType!=a)return h.push({key:ij,args:{funcKey:g,funcName:_,returnType:m.returnType,valueType:a}}),[n,h];f=f||p;for(var b in m.args){var S,O=m.args[b],x=v.get("args"),C=x?x.get(b):void 0,I=Me(s,O),E=(S=I==null?void 0:I.label)!==null&&S!==void 0?S:b,k=C?C.get("value"):void 0,w=C?C.get("valueSrc"):void 0;if(k!==void 0){var A=Rl(s,e,I,c,k,O.type,w,o,f,d,p),P=ke(A,2),F=P[0],D=P[1],R=!(D!=null&&D.length),G=f&&F!==k,V=f&&!R&&!G&&(d||p);if(G&&(v=v.setIn(["args",b,"value"],F)),V&&(v=v.deleteIn(["args",b]),v=Yd(s,v,m,b)),!R){var $,L,N=($=(L=D.find(function(q){return!q.fixed&&!q.ignore}))!==null&&L!==void 0?L:D.find(function(q){return!q.fixed}))!==null&&$!==void 0?$:D[0],B=G||V,H=D.filter(function(q){return!q.ignore}).length===0;if(N){var z=Ni(N);h.push({key:qA,args:{funcKey:g,funcName:_,argKey:b,argName:E,argValidationError:z,argErrors:D},ignore:H,fixed:B,fixedFrom:B?k:void 0,fixedTo:B?G?F:O.defaultValue:void 0})}}}else if(!O.isOptional&&(d||p)){var M=f&&O.defaultValue!==void 0&&(d||p),W=d;W&&h.push({key:nj,args:{funcKey:g,funcName:_,argKey:b,argName:E},fixed:M,fixedTo:M?O.defaultValue:void 0,ignore:!M}),M&&(v=v.deleteIn(["args",b]),v=Yd(s,v,m,b))}}return[v,h]},S0=function(e,r,n,i,a){var o=Pt(e,n,r),s=n?Ur(o):null,l=a.toJS?a.toJS():a,u=i.toJS?i.toJS():i,c=l.filter(function(y){return y=="value"||y==null}).length==s,f;if(o!=null&&o.validateValues&&c){var d=l[0],p=gr(e,r,n,d),v=On(e,r,n,p,d),h=v!=null&&v.toJS?u.map(function(y){var m=v.toJS.call(e.ctx,y,v);return m instanceof Date&&(m=m.getTime()),m}):u,g=o.validateValues(h);typeof g=="boolean"&&g==!1&&(f={key:aj,args:{jsValues:h,values:u}})}return f},rs=function(e){var r,n,i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;o||(o=e);var v=e.settings,h=v.keepInputOnChangeFieldSrc,g=v.convertableWidgets,y=v.clearValueOnChangeField,m=v.clearValueOnChangeOp,_=l=="!case_value",b=s.get("field");!b&&_&&(b=l);var S=s.get("fieldType"),O=s.get("fieldSrc"),x=s.get("operator"),C=s.get("value"),I=s.get("valueSrc",new Ue.List),E=s.get("valueType",new Ue.List),k=s.get("valueError",new Ue.List),w=s.get("asyncListValues"),A=_,P=Pt(o,x),F=Pt(e,u,l),D=_?1:x?Ur(P):null,R=_?1:u?Ur(F):null,G=Me(o,b),V=Me(e,l),$=!b&&S&&h,L=(G==null?void 0:G.type)||S,N=(V==null?void 0:V.type)||!l&&$&&L,B=G==null?void 0:G.listValuesType,H=V==null?void 0:V.listValuesType,z=((r=b)===null||r===void 0||(n=r.get)===null||n===void 0?void 0:n.call(r,"func"))||b,M=((i=l)===null||i===void 0||(a=i.get)===null||a===void 0?void 0:a.call(i,"func"))||l,W=M!=z,q=[],Y=(b||$)&&(x&&u||A)&&C!=null;(!(L&&N&&L==N)||c==="field"&&W&&y||c==="operator"&&m)&&(Y=!1),W&&oh.includes(N)&&(H&&H===B||(Y=!1)),!A&&(!(C!=null&&C.size)&&R||C!=null&&C.size&&!R)&&(Y=!1);var K;if(O==="func"&&l){var ie=Rl(e,null,null,u,l,N,O,w,f,d,p),te=ke(ie,2),ae=te[0],ue=te[1],fe=!(ue!=null&&ue.length),pe=ae!==l,Se=!fe&&pe&&!ue.find(function(rr){return!rr.fixed}),Q=f&&!fe&&!Se&&!!c&&l!==b,re=!1;if(re?l=null:Q?l=b:pe&&(l=ae),!fe){var de=!fe&&!Se&&!re&&!Q,ve=ue.find(function(rr){return!rr.fixed&&!rr.ignore});de&&ve&&(K=Ni(ve)),ue.map(function(rr){return q.push(hr(hr({side:"lhs"},rr),{},{fixed:rr.fixed||Q||re}))})}}for(var ee=0;ee<R;ee++){var me=I.get(ee)||null,Oe=gr(o,b,x,me),we=gr(e,l,u,me),Je=me==="value"?Oe:gr(o,b,x,"value"),at=me==="value"?we:gr(e,l,u,"value"),ce=at==Je||(g[Je]||[]).includes(at)||!Je&&$;ce||(Y=!1)}x!=u&&[x,u].includes("proximity")&&(Y=!1);var ge=I.first(),he=On(e,l,u,null,ge),Pe=Aj(e,l,u,null);!l&&$&&(Pe=Object.keys(e.settings.valueSourcesInfo));var Be=Pe[0],Ne;R===1&&he&&he.type!==void 0?Ne=he.type:R===1&&V&&V.type!==void 0&&(Ne=V.type==="!group"?"number":V.type);var ot=Y&&c==="operator"&&D===1&&R===2,st=[],Ke=[],Bt=[],Fr=Array.from({length:R},function(){return null});if(Y)for(var vt=function(ne){var Z=C.get(ne),be=E.get(ne)||null,_e=I.get(ne)||null;ot&&ne===1&&(Z=st[0]!==void 0?st[0]:C.get(0),st[ne]=Z,be=E.get(0)||null,_e=I.get(0)||null);var He=_e?Pe.find(function(oi){return oi==_e})!==void 0:!0,_t=Rl(e,l,l,u,Z,be,_e,w,f,d,p),qt=ke(_t,2),Jr=qt[0],Re=qt[1],nn=!(Re!=null&&Re.length),X=Jr!==Z,se=!nn&&X&&!(Re!=null&&Re.find(function(oi){return!oi.fixed})),Te=!(Re!=null&&Re.find(function(oi){return!oi.fixed&&!oi.ignore})),Ze=!He||f&&!nn&&!se&&(!Te||W);nn||Re==null||Re.map(function(oi){return q.push(hr(hr({side:"rhs",delta:ne},oi),{},{fixed:oi.fixed||Ze}))}),Ze&&(st[ne]=null,ne===0&&delete st[1]);var wn=!nn&&!X,ln=Re==null?void 0:Re.find(function(oi){return!oi.fixed&&!oi.ignore});wn&&ln&&(Fr[ne]=Ni(ln)),X&&(st[ne]=Jr),ot&&ne===0&&!nn&&!X&&(ot=!1),ot&&ne===0&&["func","field"].includes(_e)&&(ot=!1)},Le=0;Le<R;Le++)vt(Le);if(!Y){for(var De=0;De<R;De++)if(R===1){var We,Qe=mI([V==null?void 0:V.defaultValue,V==null||(We=V.fieldSettings)===null||We===void 0?void 0:We.defaultValue,he==null?void 0:he.defaultValue]);st[De]=Qe,Qe!=null&&Qe.func&&(Ke[De]="func")}}for(var ft=0;ft<R;ft++){var Et=Y&&I.get(ft)||null,At=Y&&E.get(ft)||null;if(Y&&ot&&ft===1){var Sr,Rt;Et=(Sr=Ke[ft])!==null&&Sr!==void 0?Sr:I.get(0),At=(Rt=Bt[ft])!==null&&Rt!==void 0?Rt:E.get(0),Ke[ft]=Et,Bt[ft]=At}var Mr=Pe.includes(Et);Mr||(Ke[ft]=Be),At||(Bt[ft]=Ne)}var qe=C;(st.length>0||!Y)&&(qe=new Ue.List(Array.from({length:R},function(rr,ne){return st[ne]!==void 0?st[ne]:Y?C.get(ne):void 0})));var lt=I;(Ke.length>0||!Y)&&(lt=new Ue.List(Array.from({length:R},function(rr,ne){var Z;return(Z=Ke[ne])!==null&&Z!==void 0?Z:Y&&I.get(ne)||null})));var cr=E;(Bt.length>0||!Y)&&(cr=new Ue.List(Array.from({length:R},function(rr,ne){var Z;return(Z=Bt[ne])!==null&&Z!==void 0?Z:Y&&E.get(ne)||null})));var Yr=S0(e,l,u,qe,lt);if(Yr){var Kr=Ni(Yr),mt=f&&R>=2,dt=qe;mt&&(st[1]=qe.get(0),qe=qe.set(1,st[1]),Fr[1]=Fr[0]);var fr=!mt;fr&&Fr.push(Kr),q.push(hr(hr({side:"rhs",delta:-1},Yr),{},{fixed:mt,fixedFrom:mt?[dt.get(0),dt.get(1)]:void 0,fixedTo:mt?[qe.get(0),qe.get(1)]:void 0}))}var $t=k,Lr=(k==null?void 0:k.size)!==Fr.length||Fr.filter(function(rr,ne){return rr!=k.get(ne)}).length>0;return Lr&&($t=new Ue.List(Fr)),{canReuseValue:Y,newValue:qe,newValueSrc:lt,newValueType:cr,operatorCardinality:R,fixedField:l,newValueError:$t,newFieldError:K,validationErrors:q}};const iae=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:nf,checkTree:vj,getNewValueForFieldOp:rs,getTreeBadFields:hj,isValidTree:pj,sanitizeTree:mj,translateValidation:Ni,validateAndFixTree:yj,validateRange:S0,validateTree:gj,validateValue:Rl},Symbol.toStringTag,{value:"Module"}));var O0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},Oj=function(e,r){if(e){var n=e.get("func"),i=n&&Wr(r,n);if(i){var a=e,o=!1;for(var s in i.args){var l=i.args[s],u=l.valueSources,c=l.isOptional,f=l.defaultValue,d=ns(r,u,l),p=a.get("args"),v=d.length==1?d[0]:void 0,h=p?p.get(s):void 0,g=h?h.get("value"):void 0,y=(h?h.get("valueSrc"):void 0)||v;if(g!==void 0){var m=xs(g,y,r);if(m===void 0||(m!==g&&(a=a.setIn(["args",s,"value"],m)),o))return}else if(f!==void 0&&!O0(f))a=a.setIn(["args",s,"value"],wj(l)),a=a.setIn(["args",s,"valueSrc"],"value");else if(c)o=!0;else return}return a}}},xj=function(e,r,n,i){var a=n.settings.fieldSeparator;e=e||new Ue.Map,Array.isArray(r)&&(r=r.join(a));var o=e.get("func"),s=e.get("args");e=e.set("func",r);var l=r&&Wr(n,r),u=r&&jg(n,r),c=o&&jg(n,o),f=Cj(c,u,s,n,i);if(f.length){var d=Object.keys(u.args),p=d.filter(function(v){return!f.includes(v)});e=p.reduce(function(v,h){return v.deleteIn(["args",h])},e)}else e=e.set("args",new Ue.Map);return e=aae(n,e,l),e},aae=function(e,r,n){if(n)for(var i in n.args)r=Yd(e,r,n,i);return r},Yd=function(e,r,n,i){var a=n.args[i],o=a.valueSources,s=a.defaultValue,l=ns(e,o,a),u=l.length?l[0]:void 0,c=s?O0(s)&&s.func?"func":"value":void 0,f=c||u,d=r.getIn(["args",i]);return d||(s!==void 0&&(r=r.setIn(["args",i,"value"],wj(a))),f&&(r=r.setIn(["args",i,"valueSrc"],f))),r},wj=function(e){var r=e.defaultValue;return O0(r)&&!Ue.Map.isMap(r)&&r.func?Ue.fromJS(r,function(n,i){return Ue.Iterable.isIndexed(i)?i.toList():i.toOrderedMap()}):r},Ag=function(e,r,n,i,a){if(e&&e.get("func")){e=e.setIn(["args",r,"value"],n);var o=e.getIn(["args",r,"valueSrc"]),s=i.valueSources,l=ns(a,s,i),u=l.length==1?l[0]:void 0;!u&&l.includes("value")&&(u="value"),!o&&u&&(e=e.setIn(["args",r,"valueSrc"],u))}return e},Ej=function(e,r,n,i,a){return e&&e.get("func")&&(e=e.setIn(["args",r],new Ue.Map({valueSrc:n}))),e},Cj=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if((e==null?void 0:e.returnType)!=(r==null?void 0:r.returnType))return[];var o=Object.keys(r.args),s=o.filter(function(l,u){var c=r.args[l],f=e.args[l];if(Object.keys(e.args).indexOf(l),!f&&(c.defaultValue!==void 0||c.isOptional))return!0;if((f==null?void 0:f.type)!=c.type||oh.includes(c.type)&&(!f.listValuesType||f.listValuesType!==c.listValuesType))return!1;if(n){var d,p=n.get(l),v=p==null?void 0:p.get("value"),h=p==null?void 0:p.get("valueSrc");if(h&&c.valueSources&&!c.valueSources.includes(h))return!1;var g=null,y=null,m=c,_=null,b=!0,S=Rl(i,g,m,y,v,m.type,h,_,a,b),O=ke(S,2);O[0];var x=O[1];if(x!=null&&(d=x.filter(function(C){return!C.fixed}))!==null&&d!==void 0&&d.length)return!1}return!0});return s};const oae=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:Oj,getCompatibleArgsOnFuncChange:Cj,setArgValue:Ag,setArgValueSrc:Ej,setFunc:xj,setFuncDefaultArg:Yd},Symbol.toStringTag,{value:"Module"}));var oh=["select","multiselect","treeselect","treemultiselect"],Tj=function(e,r){var n;return((n=e.types[r])===null||n===void 0?void 0:n.operators)||null},sh=function(e,r){var n=Me(e,r),i=n?n.operators:[];return i},x0=function(e,r){var n,i=sh(e,r);return(n=i==null?void 0:i[0])!==null&&n!==void 0?n:null},kj=function(e,r,n){var i=null;if(e){if(r==="field"){var a=Me(n,e);a&&(i=a.type)}else if(r==="func"){var o=e.get("func");if(o){var s=Wr(n,o);s&&(i=s.returnType||s.type)}}}return i},sae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return af(e,r,n,"funcs","subfields")},af=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!e)return null;var o=r.settings.fieldSeparator,s=Nr(e,r),l=Nr(n,r),u=s.slice(l.length).map(function(c,f,d){return d.slice(0,f+1)}).map(function(c){return[].concat(Ce(l),Ce(c)).join(o)}).map(function(c){var f=Hi(r,c,i,a);return f&&f.label||th(c.split(o))}).filter(function(c){return c!=null});return u},Ij=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;var i=n&&Hi(r,n)||null,a=r.settings.fieldSeparator,o=Nr(e,r),s=rP(e,n,r),l=s?Nr(n,r):[];return o.slice(l.length).map(function(u,c,f){return f.slice(0,c+1)}).map(function(u){return{part:[].concat(Ce(l),Ce(u)).join(a),key:u[u.length-1]}}).map(function(u){var c=u.part,f=u.key,d=Hi(r,c);return{key:f,cnf:d}}).map(function(u,c,f){var d=u.key,p=u.cnf,v=c>0?f[c-1].cnf:i;return[d,p,v]})},lae=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=On(e,r,n,null,a)||{},l=Pt(e,n,r)||{},u=o?1:l.cardinality,c=null;if(u>1){var f=s.valueLabels||l.valueLabels;f&&(c=f[i]),c&&xt(c)!=="object"&&(c={label:c,placeholder:c}),c||(c={label:e.settings.valueLabel+" "+(i+1),placeholder:e.settings.valuePlaceholder+" "+(i+1)})}else{var d=s.valueLabel,p=s.valuePlaceholder;c={label:d||e.settings.valueLabel,placeholder:p||e.settings.valuePlaceholder}}return c};function w0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=[],a=[];if(!e)return{widgets:i,valueSrcs:a};var o=lh(e),s=o?"".concat(o,"__").concat(r,"__").concat(n):null,l=uh(t,"_getWidgetsAndSrcsForFieldOp",s);if(l)return l;var u=xt(e)==="object"&&(!!e.func&&!!e.arg||e._isFuncArg),c=Me(t,e),f=r?t.operators[r]:null;if(c!=null&&c.widgets){var d=function(){var y=c.widgets[p];if(!t.widgets[p])return 1;var m=t.widgets[p].valueSrc||"value",_=!0;if(p==="field"&&(_=_&&ns(t,["field"],c).length>0),p==="func"&&(_=_&&ns(t,["func"],c).length>0),n==="value"&&!y.operators&&!u&&e!=="!case_value"&&(_=!1),y.operators&&r&&(_=_&&y.operators.indexOf(r)!=-1),n&&n!=m&&n!=="const"&&(_=!1),f&&f.cardinality==0&&m!=="value"&&(_=!1),_){var b,S;i.push(p);var O=((b=c.valueSources)===null||b===void 0?void 0:b.indexOf(m))!=-1;(f==null||(S=f.valueSources)===null||S===void 0?void 0:S.indexOf(m))==-1&&(O=!1),O&&!a.find(function(x){return x==m})&&a.push(m)}};for(var p in c.widgets)d()}var v=function(y){var m=0;return c.preferWidgets?c.preferWidgets.includes(y)&&(m+=10-c.preferWidgets.indexOf(y)):y==c.mainWidget&&(m+=100),y==="field"&&(m-=1),y==="func"&&(m-=2),m};i.sort(function(g,y){return v(y)-v(g)});var h={widgets:i,valueSrcs:a};return ch(t,"_getWidgetsAndSrcsForFieldOp",s,h),h}var uae=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,i),o=a.widgets;return o},ns=function(e,r,n){var i;if(!n)return r;var a=(i=n.type)!==null&&i!==void 0?i:n.returnType;return a==="!group"&&(a="number"),r||(r=Object.keys(e.settings.valueSourcesInfo)),r.filter(function(o){var s=!0;if(o==="field"&&e.__fieldsCntByType){var l=n._isFuncArg?0:1;s=s&&e.__fieldsCntByType[a]>l}return o==="func"&&(n.funcs&&(s=s&&n.funcs.length>0),e.__funcsCntByType&&(s=s&&e.__funcsCntByType[a]>0)),s})},Aj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,null),o=a.valueSrcs,s=ns(e,o,i);return s},gr=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w0(e,r,n,i),o=a.widgets,s=null;return o.length&&(s=o[0]),s},Ja=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(e){var o=Me(r,e)||{},s=r.settings.fieldSeparator,l=Nr(e,r),u=Array.isArray(e)?e.join(s):e;if(a!=null&&a.useTableName&&o.tableName){var c=Ce(l);c[0]=o.tableName,u=c.join(s)}if(o.fieldName&&(u=o.fieldName),i){Me(r,i);var f=i;u.indexOf(f+s)==0?u=u.slice((f+s).length):o.fieldName||n.errors.push("Can't cut group ".concat(f," from field ").concat(u))}return u}},E0=function(e,r){var n=e.get("type"),i=e.getIn(["properties","mode"]);return n=="rule_group"&&i=="array"?cae(e,r):n=="group"||n=="rule_group"?fae(e,r):dae(e,r)},cae=function(e,r){var n=e.get("children1"),i=e.get("properties");return jj(i.toObject(),n,r)},jj=function(e,r,n){var i,a,o=e.operator,s=(i=(a=n.operators[o])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1,l=s==0,u={group:!T0(e,n),children:!C0(r,n)},c=u.group&&(l?u.children:!0);return!c},fae=function(e,r){var n=e.get("children1");return C0(n,r)},C0=function(e,r){var n=(e==null?void 0:e.size)>0&&e.filter(function(i){return!E0(i,r)}).size>0;return!n},dae=function(e,r){var n=e.get("properties");return T0((n==null?void 0:n.toObject())||{},r)},T0=function(e,r){var n=!0,i=3,a=k0(e,r,n),o=a.score>=i;return!o},k0=function(e,r){var n,i,a,o=e.field,s=e.fieldSrc;e.fieldType;var l=e.operator,u=e.value,c=e.valueSrc;e.valueType;var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=(n=(i=r.operators[l])===null||i===void 0?void 0:i.cardinality)!==null&&n!==void 0?n:1,p=c!=null&&c.get?c.toJS():c,v={parts:{},score:0};if(v.parts.field=f?o!=null:Bf(o,s,r),v.parts.operator=!!l,v.parts.value=(u==null||(a=u.filter(function(g,y){return Bf(g,p==null?void 0:p[y],r,f)}))===null||a===void 0?void 0:a.size)>=(f?Math.min(d,1):d),v.score=Object.keys(v.parts).filter(function(g){return!!v.parts[g]}).length,f&&v.score<3){var h=!0;!v.parts.value&&s==="func"&&Bf(o,s,r,!1,h)&&v.score++,v.parts.field||u==null||u.map(function(g,y){(p==null?void 0:p[y])==="func"&&Bf(g,p==null?void 0:p[y],r,!1,h)&&v.score++})}return v},Bf=function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(!i&&r=="func"&&e){var o,s=(o=e.get)===null||o===void 0?void 0:o.call(e,"func"),l=Wr(n,s);if(l){var u=e.get("args");for(var c in l.args){var f=l.args[c],d=u?u.get(c):void 0,p=d?d.get("value"):void 0,v=d?d.get("valueSrc"):void 0;if(p==null&&(f==null?void 0:f.defaultValue)===void 0&&!(f!=null&&f.isOptional)||p!=null&&!t(p,v,n,a?i:!0))return!1}return!0}}return e!=null},xs=function(e,r,n){return r=="func"?Oj(e,n):e},I0=function t(e){var r=e.get("children1");if((r==null?void 0:r.size)==1){var n=r.first(),i=n.get("type");return i==="group"?t(n):n}return null};const pae=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:kj,completeValue:xs,filterValueSourcesForField:ns,formatFieldName:Ja,getFieldPartsConfigs:Ij,getFieldPathLabels:af,getFirstOperator:x0,getFuncPathLabels:sae,getOneChildOrDescendant:I0,getOperatorsForField:sh,getOperatorsForType:Tj,getValueLabel:lae,getValueSourcesForFieldOp:Aj,getWidgetForFieldOp:gr,getWidgetsForFieldOp:uae,isEmptyGroupChildren:C0,isEmptyItem:E0,isEmptyRuleGroupExtPropertiesAndChildren:jj,isEmptyRuleProperties:T0,selectTypes:oh,whatRulePropertiesAreCompleted:k0},Symbol.toStringTag,{value:"Module"}));var hae=Zp,vae=Ic;function gae(t,e,r){(r!==void 0&&!vae(t[e],r)||r===void 0&&!(e in t))&&hae(t,e,r)}var Pj=gae;function mae(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var yae=mae,bae=yae,_ae=bae(),Fj=_ae,Sae=zl,Oae=Oa;function xae(t){return Oae(t)&&Sae(t)}var wae=xae;function Eae(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Lj=Eae,Cae=lu,Tae=ef;function kae(t){return Cae(t,Tae(t))}var Iae=kae,CO=Pj,Aae=PI,jae=RI,Pae=FI,Fae=$I,TO=vp,kO=ri,Lae=wae,Rae=gp,$ae=cm,Nae=Ei,Dae=c0,Mae=ym,IO=Lj,Vae=Iae;function Bae(t,e,r,n,i,a,o){var s=IO(t,r),l=IO(e,r),u=o.get(l);if(u){CO(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=kO(l),p=!d&&Rae(l),v=!d&&!p&&Mae(l);c=l,d||p||v?kO(s)?c=s:Lae(s)?c=Pae(s):p?(f=!1,c=Aae(l,!0)):v?(f=!1,c=jae(l,!0)):c=[]:Dae(l)||TO(l)?(c=s,TO(s)?c=Vae(s):(!Nae(s)||$ae(s))&&(c=Fae(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),CO(t,r,c)}var qae=Bae,zae=hp,Hae=Pj,Uae=Fj,Gae=qae,Wae=Ei,Yae=ef,Kae=Lj;function Rj(t,e,r,n,i){t!==e&&Uae(e,function(a,o){if(i||(i=new zae),Wae(a))Gae(t,e,o,r,Rj,n,i);else{var s=n?n(Kae(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Hae(t,o,s)}},Yae)}var $j=Rj,Jae=eh,Qae=kI,Xae=II;function Zae(t,e){return Xae(Qae(t,e,Jae),t+"")}var eoe=Zae,toe=Ic,roe=zl,noe=mp,ioe=Ei;function aoe(t,e,r){if(!ioe(r))return!1;var n=typeof e;return(n=="number"?roe(r)&&noe(e,r.length):n=="string"&&e in r)?toe(r[e],t):!1}var Nj=aoe,ooe=eoe,soe=Nj;function loe(t){return ooe(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&soe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Dj=loe,uoe=$j,coe=Dj,foe=coe(function(t,e,r){uoe(t,e,r)}),doe=foe;const poe=tn(doe);var Mj={exports:{}};(function(t){var e=function(){function r(d,p){return p!=null&&d instanceof p}var n;try{n=Map}catch(d){n=function(){}}var i;try{i=Set}catch(d){i=function(){}}var a;try{a=Promise}catch(d){a=function(){}}function o(d,p,v,h,g){typeof p=="object"&&(v=p.depth,h=p.prototype,g=p.includeNonEnumerable,p=p.circular);var y=[],m=[],_=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof v>"u"&&(v=1/0);function b(S,O){if(S===null)return null;if(O===0)return S;var x,C;if(typeof S!="object")return S;if(r(S,n))x=new n;else if(r(S,i))x=new i;else if(r(S,a))x=new a(function(R,G){S.then(function(V){R(b(V,O-1))},function(V){G(b(V,O-1))})});else if(o.__isArray(S))x=[];else if(o.__isRegExp(S))x=new RegExp(S.source,f(S)),S.lastIndex&&(x.lastIndex=S.lastIndex);else if(o.__isDate(S))x=new Date(S.getTime());else{if(_&&Buffer.isBuffer(S))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(S.length):x=new Buffer(S.length),S.copy(x),x;r(S,Error)?x=Object.create(S):typeof h>"u"?(C=Object.getPrototypeOf(S),x=Object.create(C)):(x=Object.create(h),C=h)}if(p){var I=y.indexOf(S);if(I!=-1)return m[I];y.push(S),m.push(x)}r(S,n)&&S.forEach(function(R,G){var V=b(G,O-1),$=b(R,O-1);x.set(V,$)}),r(S,i)&&S.forEach(function(R){var G=b(R,O-1);x.add(G)});for(var E in S){var k;C&&(k=Object.getOwnPropertyDescriptor(C,E)),!(k&&k.set==null)&&(x[E]=b(S[E],O-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(S),E=0;E<w.length;E++){var A=w[E],P=Object.getOwnPropertyDescriptor(S,A);P&&!P.enumerable&&!g||(x[A]=b(S[A],O-1),P.enumerable||Object.defineProperty(x,A,{enumerable:!1}))}if(g)for(var F=Object.getOwnPropertyNames(S),E=0;E<F.length;E++){var D=F[E],P=Object.getOwnPropertyDescriptor(S,D);P&&P.enumerable||(x[D]=b(S[D],O-1),Object.defineProperty(x,D,{enumerable:!1}))}return x}return b(d,v)}o.clonePrototype=function(p){if(p===null)return null;var v=function(){};return v.prototype=p,new v};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=u;function c(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=c;function f(d){var p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),p}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)})(Mj);var hoe=Mj.exports;const ci=tn(hoe);var Vj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(An,function(){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});function r(a){for(var o=[],s=0,l=a.length;s<l;s++)o.indexOf(a[s])===-1&&o.push(a[s]);return o}var n={},i={"==":function(a,o){return a==o},"===":function(a,o){return a===o},"!=":function(a,o){return a!=o},"!==":function(a,o){return a!==o},">":function(a,o){return a>o},">=":function(a,o){return a>=o},"<":function(a,o,s){return s===void 0?a<o:a<o&&o<s},"<=":function(a,o,s){return s===void 0?a<=o:a<=o&&o<=s},"!!":function(a){return n.truthy(a)},"!":function(a){return!n.truthy(a)},"%":function(a,o){return a%o},log:function(a){return console.log(a),a},in:function(a,o){return!o||typeof o.indexOf>"u"?!1:o.indexOf(a)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(a,o,s){if(s<0){var l=String(a).substr(o);return l.substr(0,l.length+s)}return String(a).substr(o,s)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)+parseFloat(o,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)*parseFloat(o,10)})},"-":function(a,o){return o===void 0?-a:a-o},"/":function(a,o){return a/o},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,o){return a.concat(o)},[])},var:function(a,o){var s=o===void 0?null:o,l=this;if(typeof a>"u"||a===""||a===null)return l;for(var u=String(a).split("."),c=0;c<u.length;c++)if(l==null||(l=l[u[c]],l===void 0))return s;return l},missing:function(){for(var a=[],o=Array.isArray(arguments[0])?arguments[0]:arguments,s=0;s<o.length;s++){var l=o[s],u=n.apply({var:l},this);(u===null||u==="")&&a.push(l)}return a},missing_some:function(a,o){var s=n.apply({missing:o},this);return o.length-s.length>=a?[]:s}};return n.is_logic=function(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&Object.keys(a).length===1},n.truthy=function(a){return Array.isArray(a)&&a.length===0?!1:!!a},n.get_operator=function(a){return Object.keys(a)[0]},n.get_values=function(a){return a[n.get_operator(a)]},n.apply=function(a,o){if(Array.isArray(a))return a.map(function(g){return n.apply(g,o)});if(!n.is_logic(a))return a;var s=n.get_operator(a),l=a[s],u,c,f,d,p;if(Array.isArray(l)||(l=[l]),s==="if"||s=="?:"){for(u=0;u<l.length-1;u+=2)if(n.truthy(n.apply(l[u],o)))return n.apply(l[u+1],o);return l.length===u+1?n.apply(l[u],o):null}else if(s==="and"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),!n.truthy(c))return c;return c}else if(s==="or"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),n.truthy(c))return c;return c}else{if(s==="filter")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.filter(function(g){return n.truthy(n.apply(f,g))}):[];if(s==="map")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.map(function(g){return n.apply(f,g)}):[];if(s==="reduce")return d=n.apply(l[0],o),f=l[1],p=typeof l[2]<"u"?n.apply(l[2],o):null,Array.isArray(d)?d.reduce(function(g,y){return n.apply(f,{current:y,accumulator:g})},p):p;if(s==="all"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(!n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="none"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!0;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="some"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!0;return!1}}if(l=l.map(function(g){return n.apply(g,o)}),i.hasOwnProperty(s)&&typeof i[s]=="function")return i[s].apply(o,l);if(s.indexOf(".")>0){var v=String(s).split("."),h=i;for(u=0;u<v.length;u++){if(!h.hasOwnProperty(v[u]))throw new Error("Unrecognized operation "+s+" (failed at "+v.slice(0,u+1).join(".")+")");h=h[v[u]]}return h.apply(o,l)}throw new Error("Unrecognized operation "+s)},n.uses_data=function(a){var o=[];if(n.is_logic(a)){var s=n.get_operator(a),l=a[s];Array.isArray(l)||(l=[l]),s==="var"?o.push(l[0]):l.forEach(function(u){o.push.apply(o,n.uses_data(u))})}return r(o)},n.add_operation=function(a,o){i[a]=o},n.rm_operation=function(a){delete i[a]},n.rule_like=function(a,o){if(o===a||o==="@")return!0;if(o==="number")return typeof a=="number";if(o==="string")return typeof a=="string";if(o==="array")return Array.isArray(a)&&!n.is_logic(a);if(n.is_logic(o)){if(n.is_logic(a)){var s=n.get_operator(o),l=n.get_operator(a);if(s==="@"||s===l)return n.rule_like(n.get_values(a,!1),n.get_values(o,!1))}return!1}if(Array.isArray(o))if(Array.isArray(a)){if(o.length!==a.length)return!1;for(var u=0;u<o.length;u+=1)if(!n.rule_like(a[u],o[u]))return!1;return!0}else return!1;return!1},n})})(Vj);var voe=Vj.exports;const A0=tn(voe);function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function goe(t,e){return A0.apply(t,e)}function moe(t,e){return A0.add_operation(t,e)}var PO={CALL:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e.call.apply(e,[r].concat(i))},JSX:function(e,r){return{type:e,props:r}},mergeObjects:function(e,r){return jO(jO({},e),r)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(e==null?void 0:e.length)||0},regexTest:function(e,r,n){return(e==null?void 0:e.match(new RegExp(r,n)))!=null},now:function(){return new Date},date_add:function(e,r,n){return je(e).add(r,n).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function yoe(){for(var t in PO)moe(t,PO[t])}function boe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_oe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function _oe(t,e){if(t){if(typeof t=="string")return FO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(t,e)}}function FO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}yoe();function Bj(t,e,r){var n;try{n=A0.apply(t,e)}catch(i){throw i.message="".concat(r.join(".")," :: ").concat(i.message),i}return n}function qj(t,e,r,n){var i;try{i=e.call.apply(e,[t].concat(Ce(r)))}catch(a){throw a.message="".concat(n.join(".")," :: ").concat(a.message),a}return i}var na=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],wc={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},j0=yn(yn({},wc),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),zj={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},Soe={formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}},Hj={widgetProps:j0,opProps:zj},Ooe={renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}},RO=yn(yn({},wc),{},{fieldSettings:wc}),Uj=yn(yn({},wc),{},{fieldSettings:wc,widgets:{x:Hj},mainWidgetProps:j0}),xoe={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:Uj,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},woe={fields:{x:Uj},widgets:{x:j0},conjunctions:{x:Soe},operators:{x:zj},types:{x:{widgets:{x:Hj}}},funcs:{x:yn(yn(yn({},RO),Ooe),{},{args:{x:yn({},RO)}})},settings:xoe},pl=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},Gj=function(e,r){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var n=ya(e,na);delete n.ctx;for(var i=function u(c,f,d,p){if(pl(c)){if(Zc(c)&&(c=r0(c)),d[0]==="funcs"&&!f){var v=d[d.length-1];f=Hi({funcs:p.BasicFuncs},v,"funcs","subfields")||void 0,f&&(c.$$key=v)}if(f!==void 0&&pl(f))for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(!Object.keys(c).includes(h)||c[h]===void 0&&f[h]!==void 0?c[h]="$$deleted":(c[h]=u(c[h],f[h],[].concat(Ce(d),[h]),p),c[h]===void 0&&delete c[h]));for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)){if(!f||!Object.keys(f).includes(g)){var y;c[g]=u(c[g],(y=f)===null||y===void 0?void 0:y[g],[].concat(Ce(d),[g]),p)}c[g]===void 0&&delete c[g]}Object.keys(c).length===0&&(c=void 0)}else Array.isArray(c)&&c.forEach(function(m,_){c[_]=u(c[_],void 0,[].concat(Ce(d),[_]),p)});if(!(f!==void 0&&Xc(c,f,!0))){if(typeof c=="function")throw new Error("compressConfig: function at ".concat(d.join(".")," should be converted to JsonLogic"));return c}},a=0,o=na;a<o.length;a++){var s=o[a];if(s!=="ctx")if(s==="fields")n[s]=ci(n[s]),i(n[s],{},[s]);else if(s==="funcs"){n[s]=ci(n[s]||{});for(var l in n[s])i(n[s][l],null,[s,l],{BasicFuncs:PE})}else n[s]=ci(n[s]),i(n[s],r[s],[s])}return n},Wj=function(e,r,n){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var i={},a=function c(f,d,p){if(pl(d)){pl(f)||(f={});for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(d[v]==="$$deleted"?delete f[v]:f[v]=c(f[v],d[v],[].concat(Ce(p),[v])))}else Array.isArray(d)?f=ci(d):f=d;return f},o=function c(f,d,p){var v=!1;if(pl(f)&&Object.prototype.hasOwnProperty.call(f,"$$key")&&f.$$key){var h=Hi({funcs:p.BasicFuncs},f.$$key,"funcs","subfields");if(h)delete f.$$key,f=a(ci(h),f,d),v=!0;else throw new Error("decompressConfig: basic function not found by key ".concat(f.$$key," at ").concat(d.join(".")))}if(!v){if(pl(f))for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(f[g]=c(f[g],[].concat(Ce(d),[g]),p));else if(Array.isArray(f)){var y=boe(f),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;f[_]=c(f[_],[].concat(Ce(d),[_]),p)}}catch(b){y.e(b)}finally{y.f()}}}return f},s=0,l=na;s<l.length;s++){var u=l[s];u==="ctx"?i[u]=poe({},r.ctx||{},n||{}):u==="funcs"?(i[u]=ci(e[u]||{}),o(i[u],[u],{BasicFuncs:PE})):u==="fields"?i[u]=ci(e[u]||{}):(i[u]=ci(r[u]||{}),a(i[u],e[u]||{},[u]))}return i},Yj=function(e){if(e.__compliled)return e;e=ci(e);var r={ctx:e.ctx},n=[];return hd(e,e,r,woe,n),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function hd(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];if(e){a.length;for(var o in n){var s=n[o],l=o==="x"?a:[].concat(Ce(a),[o]);if(s.type==="r"){var u=e,c=u[o];if(s.isArr)for(var f in c){var d=$l(c[f],r,[].concat(Ce(l),[f]));d!==c[f]&&(i.push("Compiled ".concat(l.join("."),"[").concat(f,"]")),c[f]=d)}else{var p=$l(c,r,l,void 0);p!==c&&(i.push("Compiled R ".concat(l.join("."))),u[o]=p)}}else if(s.type==="rf"){var v=e,h=v[o],g=Eoe(h,r,l,s.ignore);g!==h&&(i.push("Compiled JL-RF ".concat(l.join("."))),v[o]=g)}else if(s.type==="f"){var y=e,m=y[o],_=Coe(m,r,l,s.args,s.ignore);if(s.invokeWith&&_&&typeof _=="function"){var b;_=(b=_).call.apply(b,[null].concat(Ce(s.invokeWith)))}_!==m&&(i.push("Compiled JL-F ".concat(l.join("."))),y[o]=_)}else if(o==="x")for(var S in e){l=[].concat(Ce(a),[S]);var O=e[S];hd(t,O,r,s,i,l),O.subfields&&hd(t,O.subfields,r,n,i,l)}else{var x=e[o];hd(t,x,r,s,i,l)}}}}function Eoe(t,e,r){return Fn(t)?function(n,i){i=i||(e==null?void 0:e.ctx);var a={props:n,ctx:i},o=Bj(t,a,r);typeof o=="string"&&(o={type:o,props:n});var s=$l(o,{ctx:i},r);return s}:typeof t=="string"?function(n,i){i=i||(e==null?void 0:e.ctx);var a=t.split(".").reduce(function(l,u){return l==null?void 0:l[u]},i);if(a)return qj(this,a,[n,i],r);var o={type:t,props:n},s=$l(o,{ctx:i},r);return s}:t}function Coe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Fn(t)&&i!=="jl"?(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=this||(e==null?void 0:e.ctx),u=(n||[]).reduce(function(f,d,p){return yn(yn({},f),{},le({},d,o[p]))},{args:o,ctx:l}),c=Bj(t,u,r);return c}).bind(e==null?void 0:e.ctx):typeof t=="string"&&i!=="string"?(function(){var a=this||(e==null?void 0:e.ctx),o=t.split(".").reduce(function(c,f){return c==null?void 0:c[f]},a);if(o){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return qj(this,o,l,r)}else throw new Error("".concat(r.join(".")," :: Function ").concat(t," is not found in ctx"))}).bind(e==null?void 0:e.ctx):t}function Toe(t,e){var r;return(e==null||(r=e.components)===null||r===void 0?void 0:r[t])||e.W[t]||e.O[t]}function $l(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;if(n0(t)){var i,a=t.type,o=t.props;if(typeof a!="string")throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var s=Toe(a,e.ctx)||a.toLowerCase(),l;n!==void 0&&(o=yn(yn({},o),{},{key:n})),(i=o)!==null&&i!==void 0&&i.children&&(l=$l(o.children,e,r),o=yn(yn({},o),{},{children:l}));var u=e.ctx.RCE(s,o);return u}else if(t instanceof Array)return t.map(function(c,f){return $l(c,e,r,""+f)});return t}var koe=$j,Ioe=Dj,Aoe=Ioe(function(t,e,r,n){koe(t,e,r,n)}),joe=Aoe;const Poe=tn(joe);var Kj={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,r,n,i,a,o){return o?n:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function lv(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Foe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Foe(t,e){if(t){if(typeof t=="string")return $O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(t,e)}}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Loe=0,NO=0,Ol,Kd={},Jj=function(){return Ol||(Ol=Xj({reactIndex:void 0,maxSize:3,canCompile:void 0})),Ol},Qj=function(e,r){var n;for(var i in Kd){var a=Kd[i].findExtendedConfig(e,r);if(a){n=a;break}}return n},Xj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=e.maxSize||2,i=++Loe,a,o=function(h){return ya(h,na)},s=function(h){var g=ai(h,++NO,e.canCompile);return u(h,g),g},l=function(){return r.size},u=function(h,g){r.size+1>n&&r.delete(r.keys().next().value),r.set(h,g)},c=function(h){var g=lv(r.keys()),y;try{var m=function(){var S=y.value,O=r.get(S),x=na.map(function(C){return O[C]===h[C]}).filter(function(C){return!C}).length===0;if(x)return{v:S}},_;for(g.s();!(y=g.n()).done;)if(_=m(),_)return _.v}catch(b){g.e(b)}finally{g.f()}return h},f=function(h,g){var y=lv(r.keys()),m;try{var _=function(){var E=m.value,k=na.filter(function(A){return E[A]===h[A]}),w=k.length===na.length&&(g?E.__compliled:!0);if(w)return{v:r.get(E)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(I){y.e(I)}finally{y.f()}var S=lv(r.values()),O;try{var x=function(){var E=O.value,k=na.filter(function(A){return E[A]===h[A]}),w=k.length===na.length&&(g?E.__compliled:!0);if(w)return{v:E}},C;for(S.s();!(O=S.n()).done;)if(C=x(),C)return C.v}catch(I){S.e(I)}finally{S.f()}return null},d=function(h){return f(h)||s(h)},p=function(){r.clear(),delete Kd[i],Ol===a&&(Ol=void 0)};return a={getExtendedConfig:function(h){return d(o(h))},findExtendedConfig:f,getBasicConfig:c,clearConfigMemo:p,configId:NO,storeConfigPair:u,getSize:l,configStore:r,memoId:i,meta:e},e.reactIndex===void 0&&(Ol=a),Kd[i]=a,a};function P0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Roe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Roe(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n=n&&e.settings.useConfigCompress,e.__configId)return e;var i=Qj(e,n);if(i)return i;var a=e;n?e.__compliled?e=ci(e):e=Yj(e):e=ci(e),e.settings=Poe({},Kj,e.settings,dI),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},$oe(e.types,e),Zj(e.fields,e),eP(e.funcs,e);var o=e.settings.caseValueField;o&&Jd(o,e,[],!1,!0);var s=e.settings.locale.moment;s&&je.locale(s),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:r||Lt()}),e.__cache={},hI(e);var l=Jj();return l.storeConfigPair(a,e),e};function $oe(t,e){for(var r in t){var n=t[r];Noe(r,n,e)}}function Noe(t,e,r){var n=null,i=null;e.mainWidget=e.mainWidget||Object.keys(e.widgets).filter(function(p){return p!="field"&&p!="func"})[0];var a=e.excludeOperators||[];for(var o in e.widgets){var s=e.widgets[o],l=s.defaultOperator;if(s.operators){var u=s.operators.filter(function(p){return!a.includes(p)});n=Bd(n,u)}l&&!a.includes(l)&&(!i||o===e.mainWidget)&&(i=l),o==e.mainWidget&&(s.widgetProps=si(si({},e.mainWidgetProps||{}),s.widgetProps||{})),e.widgets[o]=s}e.valueSources||(e.valueSources=Object.keys(r.settings.valueSourcesInfo));var c=P0(e.valueSources),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;d!="value"&&!e.widgets[d]&&(e.widgets[d]={})}}catch(p){c.e(p)}finally{c.f()}!e.operators&&n&&(e.operators=Array.from(new Set(n))),!e.defaultOperator&&i&&(e.defaultOperator=i)}function Zj(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var n in t){var i=[].concat(Ce(r),[n]);Jd(t[n],e,i),t[n].subfields&&Zj(t[n].subfields,e,i)}}function eP(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";for(var a in t){var o=[].concat(Ce(n),[a]),s=o.join(i),l=t[a];if(l.returnType&&(l.type=l.returnType,e.__funcsCntByType[l.returnType]||(e.__funcsCntByType[l.returnType]=0),e.__funcsCntByType[l.returnType]++),Jd(l,e,o,!1),l.args){for(var u in l.args)Jd(l.args[u],e,[].concat(Ce(o),[u]),!0);var c=Object.keys(l.args),f=!0,d=P0(c.reverse()),p;try{for(d.s();!(p=d.n()).done;){var v=p.value,h=l.args[v];!f&&h.isOptional&&(Eo.info("Arg ".concat(v," for func ").concat(s," can't be optional")),delete h.isOptional),h.isOptional||(f=!1)}}catch(g){d.e(g)}finally{d.f()}}l.subfields&&eP(l.subfields,e,[].concat(Ce(n),[a]))}}}function Doe(t,e,r){for(var n,i,a=["listValues","treeValues","allowCustomValues","validateValue"],o=0,s=a;o<s.length;o++){var l=s[o];t[l]&&(t.fieldSettings||(t.fieldSettings={}),t.fieldSettings[l]=t[l],delete t[l])}(n=t.fieldSettings)!==null&&n!==void 0&&n.listValues&&e.settings.normalizeListValues&&(t.fieldSettings.listValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.listValues,r,t.fieldSettings)),(i=t.fieldSettings)!==null&&i!==void 0&&i.treeValues&&e.settings.normalizeListValues&&(t.fieldSettings.treeValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.treeValues,r,t.fieldSettings))}function Jd(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=e.settings,s=o.showLabels,l=o.fieldSeparator;l=(r=l)!==null&&r!==void 0?r:".";var u=n[n.length-1],c=i?n.slice(0,n.length-1).join(l):n.join(l),f=!!t.returnType,d=t.type||t.returnType,p=e.types[d],v=t.excludeOperators||[],h=(t.operators||(p==null?void 0:p.operators)||[]).filter(function(I){return!v.includes(I)}),g=t.defaultOperator||(p==null?void 0:p.defaultOperator);v.includes(g)&&(g=void 0);var y=!!g&&g==t.defaultOperator;if(y&&(t.ownDefaultOperator=t.defaultOperator),!p){t.disabled=!0;return}!i&&!f&&!a&&(e.__fieldsCntByType[d]||(e.__fieldsCntByType[d]=0),e.__fieldsCntByType[d]++),i&&(t._isFuncArg=!0,t._argKey=u,t._funcKey=c),f&&(t._isFunc=!0,t._funcKey=c),a&&(t._isCaseValue=!0),Doe(t,e,d);var m=["widgets","operators","defaultOperator"];Object.keys(p).filter(function(I){return!m.includes(I)}).map(function(I){t[I]||(t[I]=cI(p[I]))});var _=p.excludeOperators||[];t.operators&&(_=_.filter(function(I){return!t.operators.includes(I)})),t.widgets||(t.widgets={});var b=function(){var E=si({},t.widgets[S]||{}),k=p.widgets[S]||{};if(!i){var w=E.defaultOperator,A=[].concat(Ce(v),Ce(_)),P=t.preferWidgets&&(S==="field"||t.preferWidgets.includes(S))||A.length>0;if(E.operators){var F=E.operators.filter(function(W){return!A.includes(W)});E.operators=F,h=Bd(h,F)}else if(P&&k.operators){var D=k.operators.filter(function(W){return!A.includes(W)});E.operators=D,h=Bd(h,D)}w&&!A.includes(w)&&(!g||!y&&S===t.mainWidget)&&(g=w)}S===t.mainWidget?E.widgetProps=si(si(si({},k.widgetProps||{}),t.mainWidgetProps||{}),E.widgetProps||{}):E.widgetProps=si(si({},k.widgetProps||{}),E.widgetProps||{});var R=Array.from(new Set([].concat(Ce(Object.keys(k.opProps||{})),Ce(Object.keys(E.opProps||{})))));if(R.length){var G={},V=P0(R),$;try{for(V.s();!($=V.n()).done;){var L,N,B=$.value;G[B]=si(si({},((L=k.opProps)===null||L===void 0?void 0:L[B])||{}),((N=E.opProps)===null||N===void 0?void 0:N[B])||{})}}catch(W){V.e(W)}finally{V.f()}E.opProps=G}var H=E,z=H.valueLabel,M=H.valuePlaceholder;i&&(z||(E.valueLabel=t.label||u),!M&&!s&&(E.valuePlaceholder=t.label||u)),E=si(si({},k),E),t.widgets[S]=E};for(var S in p.widgets)b();if(i||(t.operators||(t.operators=Array.from(new Set(h))),t.defaultOperator||(t.defaultOperator=g)),!i&&!f&&!a){var O=Moe(e,n),x=O.fieldName,C=O.inGroup;x&&(t.fieldName=x,e.__fieldNames[x]||(e.__fieldNames[x]=[]),e.__fieldNames[x].push({fullPath:n,inGroup:C}))}}function Moe(t,e){if(!e)return{};var r=t.settings.fieldSeparator,n=Ce(e).reduce(function(s,l,u,c){var f=s.computedPath,d=s.computed,p=s.inGroup,v=[].concat(Ce(c.slice(0,u)),[l]),h=Hi(t,v);return(h==null?void 0:h.type)==="!group"&&u<c.length-1?(p=v.join(r),f=[]):h!=null&&h.fieldName?(d=!0,f=[h.fieldName]):f=[].concat(Ce(f),[l]),{computedPath:f,computed:d,inGroup:p}},{computedPath:[],computed:!1,inGroup:void 0}),i=n.computedPath,a=n.computed,o=n.inGroup;return a?{fieldName:i.join(r),inGroup:o}:{}}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Voe=Br.mark(cu),Boe=Br.mark(tP),qoe=Os;function cu(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(F0(t,t.funcs||{},[]),"t0",1);case 1:case"end":return r.stop()}},Voe)}function tP(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(F0(t,t.fields||{},[]),"t0",1);case 1:case"end":return r.stop()}},Boe)}function F0(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";return Br.mark(function i(a){var o,s,l;return Br.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=(t==null||(a=t.settings)===null||a===void 0?void 0:a.fieldSeparator)||".",c.t0=Br.keys(e);case 2:if((c.t1=c.t0()).done){c.next=13;break}if(s=c.t1.value,l=e[s],!l[n]){c.next=9;break}return c.delegateYield(F0(t,l[n],[].concat(Ce(r),[s]),n),"t2",7);case 7:c.next=11;break;case 9:return c.next=11,[[].concat(Ce(r),[s]).join(o),l];case 11:c.next=2;break;case 13:case"end":return c.stop()}},i)})()}var Hi=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r==="!case_value"){var o;return e==null||(o=e.settings)===null||o===void 0?void 0:o.caseValueField}var s=(e==null||(n=e.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",l=Nr(r,e),u=e[i];if(!u)return null;for(var c=u,f=null,d=[],p=0;p<l.length;p++){var v=l[p];d.push(v);var h=d.join(s);f=c[h],p<l.length-1&&(f&&f[a]?(c=f[a],d=[]):f=null)}return f},Qd=function(e,r){var n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=e.settings.fieldSeparator,s=[a].concat(Ce(r.split(o))).filter(function(c){return c!=null}),l=r,u=(n=e.__fieldNames[l])===null||n===void 0||(i=n.find)===null||i===void 0||(i=i.call(n,function(c){var f=c.inGroup;return f?a==null?void 0:a.startsWith(f):!0}))===null||i===void 0?void 0:i.fullPath;return(u||s).join(o)},jg=function(e,r){if(!r)return null;var n=Hi(e,r,"funcs","subfields");if(!n)return null;var i=n.returnType,a=n.args,o=Object.fromEntries(Object.entries(a||{}).map(function(l){var u=ke(l,2),c=u[0],f=u[1],d=ya(f,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"]);return[c,d]})),s={returnType:i,args:o};return s},Wr=function(e,r){if(!r)return null;var n=Hi(e,r,"funcs","subfields");return n||null},Pg=function(e,r,n){var i=Wr(e,r);if(!i)return null;var a=i.args&&i.args[n]||null;return a||null},rP=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return!1;var a=(i==null||(n=i.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",o=ta(e,i),s=ta(r,i);return o.startsWith(s+a)},ta=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string")return e;var i=(n==null||(r=n.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";return Nr(e,n).join(i)},Nr=function(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var o=(a==null||(r=a.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";if(e!=null&&e.func)return Array.isArray(e.func)?e.func:e.func.split(o);if(e!=null&&(n=e.get)!==null&&n!==void 0&&n.call(e,"func")){var s;return e==null||(s=e.get)===null||s===void 0?void 0:s.call(e,"func").split(o)}return(e==null||(i=e.split)===null||i===void 0?void 0:i.call(e,o))||[]},zoe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)return null;var i=r.settings.fieldSeparator,a=Nr(e,r);return n?a:a.map(function(o,s,l){return l.slice(0,s+1)}).map(function(o){return o.join(i)})},lh=function(e){var r;if(typeof e=="string"||Array.isArray(e))return"field:".concat(ta(e));if(xt(e)==="object"&&e){if(e._funcKey&&e._argKey)return"arg:".concat(ta(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(ta(e._funcKey));if(e.func&&e.arg)return"arg:".concat(ta(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(ta(e.func));if(e.type)return null}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?"arg:".concat(ta(e.get("func")),"__").concat(e.get("arg")):"func:".concat(ta(e.get("func"))):null},uh=function(e,r,n){var i;return(i=e.__cache)===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i[n]},ch=function(e,r,n,i){!e.__cache||!n||(e.__cache[r]||(e.__cache[r]={}),e.__cache[r][n]=i)},nP=function(e){var r;if(!e)return null;if(xt(e)==="object"){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?null:"func":"field"},Me=function(e,r){var n;if(!r)return null;if(xt(r)=="object"){if(!r.func&&r.type)return r;if(r.func)return r.func&&r.arg?Pg(e,r.func,r.arg):Wr(e,r.func)}if(r!=null&&(n=r.get)!==null&&n!==void 0&&n.call(r,"func"))return r!=null&&r.get("arg")?Pg(e,r.get("func"),r.get("arg")):Wr(e,r.get("func"));var i=Hi(e,r);return i||null},Pt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var i=e.operators[r];if(n){var a,o,s=lh(n),l=s?"".concat(s,"__").concat(r):null,u=uh(e,"getOperatorConfig",l);if(u)return u;var c=Me(e,n),f=gr(e,n,r,null),d=e.widgets[f]||{},p=(c&&c.widgets?c.widgets[f]:{})||{},v=((a=d.opProps)===null||a===void 0?void 0:a[r])||{},h=((o=p.opProps)===null||o===void 0?void 0:o[r])||{},g=Jo(Jo(Jo({},i),v),h);return ch(e,"getOperatorConfig",l,g),g}else return i},On=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!r)return null;var l=Me(e,r),u=lh(r);a||(a=gr(e,r,i,o));var c=u?"".concat(u,"__").concat(i,"__").concat(a,"__").concat(o):null,f=uh(e,"getFieldWidgetConfig",c);if(f)return f;var d=e.widgets[a]||{},p=(l==null||(n=l.widgets)===null||n===void 0?void 0:n[a])||{},v=p.widgetProps||{},h=o==="value"||!o?l==null?void 0:l.fieldSettings:{},g=Jo(Jo(Jo(Jo({},d),p),v),h);return ch(e,"getFieldWidgetConfig",c,g),s.forExport&&(g=ii(g,"factory")),g},iP=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=e.settings.fieldSeparator,i=Nr(r,e),a=r?Hi(e,r):e,o=a,s=null,l=[];do{var u,c=o===e?e.fields:(u=o)===null||u===void 0?void 0:u.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while(o.type=="!struct"||o.type=="!group");return(i||[]).concat(l).join(n)};const Hoe=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:uh,_saveToConfigCache:ch,_widgetDefKeysToOmit:qoe,applyJsonLogic:goe,cleanJSX:r0,compileConfig:Yj,compressConfig:Gj,configKeys:na,createConfigMemo:Xj,decompressConfig:Wj,extendConfig:ai,findExtendedConfigInAllMemos:Qj,getCommonMemo:Jj,getFieldConfig:Me,getFieldId:lh,getFieldParts:Nr,getFieldPath:ta,getFieldPathParts:zoe,getFieldRawConfig:Hi,getFieldSrc:nP,getFieldWidgetConfig:On,getFirstField:iP,getFuncArgConfig:Pg,getFuncConfig:Wr,getFuncSignature:jg,getOperatorConfig:Pt,isDirtyJSX:Zc,isFieldDescendantOfField:rP,isJSX:n0,iterateFields:tP,iterateFuncs:cu,normalizeField:Qd},Symbol.toStringTag,{value:"Module"}));function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Uoe=function(e,r){var n={usedFields:[]},i=aP(e,r,n);if(i)return qO(qO({},i),n)},aP=function(e,r,n){if(e){var i=e.get("type"),a=e.get("children1");if((i==="group"||i==="rule_group")&&a&&a.size)return Goe(e,r,n);if(i==="rule")return Woe(e,r,n)}},Goe=function(e,r,n){var i=e.get("properties")||new ur,a=e.get("children1"),o=e.get("id"),s=a.map(function(f){return aP(f,r,n)}).filter(function(f){return typeof f<"u"});if(s.size){var l=i.get("conjunction");l||(l=ka(r));var u=i.get("not"),c={id:o,rules:s.toList(),condition:l.toUpperCase(),not:u};return c}},Woe=function(e,r,n){var i,a=e.get("properties")||new ur,o=e.get("id"),s=a.get("operator"),l=a.get("operatorOptions"),u=a.get("field"),c=a.get("value"),f=a.get("valueSrc"),d=a.get("valueType"),p=c.filter(function(E){return E===void 0}).size>0;if(!(u==null||s==null||p)){var v=Me(r,u)||{},h=Pt(r,s,u)||{},g=v.type||"undefined",y=Ur(h),m=r.types[v.type]||{},_=Ja(u,r,n);if(!(c.size<y)){n.usedFields.indexOf(u)==-1&&n.usedFields.push(u),c=c.toArray(),f=f.toArray(),d=((i=d)===null||i===void 0?void 0:i.toArray())||[];for(var b=[],S=0;S<c.length;S++){var O={type:d[S],value:c[S]};if(b.push(O),f[S]=="field"){var x=c[S];n.usedFields.indexOf(x)==-1&&n.usedFields.push(x)}}var C=l?l.toJS():null;C&&!Object.keys(C).length&&(C=null);var I={id:o,fieldName:_,type:g,input:m.mainWidget,operator:s};return C&&(I.operatorOptions=C),I.values=b,I}}};function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oP(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yoe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Yoe(t,e){if(t){if(typeof t=="string")return UO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Koe=function(e,r){var n={usedFields:[],errors:[]},i=ai(r,void 0,!1),a=sP(e,i,n,!1,!0),o=n.errors,s=n.usedFields;i.settings.fieldSeparator;var l={},u=oP(s),c;try{for(u.s();!(c=u.n()).done;)for(var f=c.value,d=Nr(f,r),p=Me(i,f)||{},v=l,h=0;h<d.length;h++){var g=d[h],y=Me(i,d.slice(0,h+1))||{};h!=d.length-1?y.type=="!group"&&y.mode!="struct"?(v[g]||(v[g]=[{}]),v=v[g][0]):(v[g]||(v[g]={}),v=v[g]):v[g]||(v[g]=null)}}catch(m){u.e(m)}finally{u.f()}return{errors:o,logic:a,data:l}},sP=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(e){var s=e.get("type"),l=e.get("properties")||new ur,u=l.get("isLocked"),c=r.settings.jsonLogic.lockedOp,f;return s==="group"||s==="rule_group"?f=lP(e,r,n,i,a,o):s==="rule"?f=Joe(e,r,n,i,o):s=="switch_group"?f=Qoe(e,r,n,i):s=="case_group"&&(f=uP(e,r,n,i,o)),u&&f&&c&&(f=le({},c,f)),f}},lP=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,p=e.get("type"),v=e.get("properties")||new ur,h=v.get("mode"),g=e.get("children1")||new Ji,y=v.get("field"),m=Me(r,y),_=v.get("conjunction");_||(_=ka(r));var b=r.conjunctions[_],S=b.jsonLogicConj||_.toLowerCase(),O=!!v.get("not"),x=p==="rule_group"&&!f,C=x&&h!="struct",I=C?y:d,E=v.get("operator"),k=E&&Pt(r,E,y)||null,w=L0(r,v,n,E,d),A=x&&(!E||((i=k)===null||i===void 0?void 0:i.cardinality)==0),P=x&&(g==null?void 0:g.size)>0;x&&(g!=null&&g.size);var F=O,D=!1;P?(D=O,F=c):c&&(F=!F);var R=!1,G=(a=k)===null||a===void 0?void 0:a.reversedOp,V=Pt(r,G,y),$=!((o=k)!==null&&o!==void 0&&o.jsonLogic)&&!!((s=V)!==null&&s!==void 0&&s.jsonLogic),L=!!((l=V)!==null&&l!==void 0&&l.jsonLogic),N=(u=I0(e))===null||u===void 0?void 0:u.get("type"),B=!!r.settings.reverseOperatorsForNot&&(!x&&F&&N==="rule"||D&&(g==null?void 0:g.size)===1);B&&(P?D=!D:F=!F,R=!0);var H=F&&x&&L&&(!!r.settings.reverseOperatorsForNot||$);if(H){F=!F;var z=[G,E];E=z[0],G=z[1];var M=[V,k];k=M[0],V=M[1]}var W=g.map(function(fe){return sP(fe,r,n,R,!1,I)}).filter(function(fe){return typeof fe<"u"}),q=!!r.settings.exportPreserveGroups;if(C&&!A){if(w==null)return}else if(!W.size&&!q)return;var Y=f||q||W.size!=1;!Y&&O&&!R&&(Y=g.some(function(fe){var pe,Se,Q,re,de=(pe=fe.get("properties"))===null||pe===void 0?void 0:pe.get("operator"),ve=(Se=r.operators)===null||Se===void 0||(Se=Se[de])===null||Se===void 0?void 0:Se.reversedOp;return(Q=(re=r.operators)===null||re===void 0||(re=re[ve])===null||re===void 0?void 0:re._jsonLogicIsExclamationOp)!==null&&Q!==void 0?Q:!1}));var K={};if(Y?K[S]=W.toList().toJS():K=W.first(),D&&(K={"!":K}),C){var ie=R0(n,r,y,d);if(A){var te=E||"some";K=le({},te,[ie,K])}else{var ae=W.size?{filter:[ie,K]}:ie,ue={reduce:[ae,{"+":[1,{var:"accumulator"}]},0]};K=fP(r,v,ue,w,E,null,m)}}return F&&(K={"!":K}),K},Joe=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,d=e.get("properties")||new ur,p=d.get("field"),v=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if(g=g?g.toJS():null,g&&!Object.keys(g).length&&(g=null),!(p==null||h==null)){var y=Me(r,p),m=Pt(r,h,p),_=(i=m)===null||i===void 0?void 0:i.reversedOp,b=Pt(r,_,p);if(!((a=m)!==null&&a!==void 0&&a.jsonLogic)&&!((o=b)!==null&&o!==void 0&&o.jsonLogic)){n.errors.push("Operator ".concat(h," is not supported"));return}var S=c,O=!((s=m)!==null&&s!==void 0&&s.jsonLogic)&&!!((l=b)!==null&&l!==void 0&&l.jsonLogic),x=!!((u=b)!==null&&u!==void 0&&u.jsonLogic),C=x&&(!!r.settings.reverseOperatorsForNot||O),I=S&&C||O;if(I){S=!S;var E=[_,h];h=E[0],_=E[1];var k=[b,m];m=k[0],b=k[1]}var w=L0(r,d,n,h,f);if(w!==void 0){var A=v==="func"?cP(n,r,p,f):R0(n,r,p,f);if(A!==void 0)return fP(r,d,A,w,h,g,y,S)}}},Qoe=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.get("children1");if(a){for(var o=a.map(function(b){return uP(b,r,n,i,null)}).filter(function(b){return typeof b<"u"}).valueSeq().toArray(),s=[],l=0;l<o.length;l++)l!==o.length-1&&!o[l][0]?n.errors.push("No condition for case ".concat(l)):(s.push(o[l]),l===o.length-1&&o[l][0]&&s.push([void 0,null]));if(s.length){if(s.length===1){var u=ke(s[0],2);u[0];var c=u[1];return c==null&&(c=null),c}var f={if:[]},d=f.if,p=ke(s[s.length-1],2);p[0];for(var v=p[1],h=0;h<s.length-1;h++){var g=h===s.length-2,y=ke(s[h],2),m=y[0],_=y[1];_==null&&(_=null),m==null&&(m=!0),d.push(m),d.push(_),g?d.push(v):(d.push({if:[]}),d=d[d.length-1].if)}return f}}},uP=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type");if(o!="case_group"){n.errors.push("Unexpected child of type ".concat(o," inside switch"));return}var s=e.get("properties")||new ur,l=lP(e,r,n,i,a),u=L0(r,s,n,null,a,"!case_value");return[l,u]},L0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s),f=Pt(e,i,s),d=Ur(f),p=r.get("value"),v=r.get("asyncListValues");if(p!=null){var h=n.usedFields,g=p.map(function(m,_){var b=l?l.get(_):null,S=u?u.get(_):null,O=xs(m,b,e),x=gr(e,s,i,b),C=On(e,s,i,x,b,{forExport:!0}),I=Fg(n,e,O,b,S,C,c,i,f,a,v);return I}),y=g.filter(function(m){return m===void 0}).size>0;if(g.size<d||y){n.usedFields=h;return}return d>1?g.toArray():d==1?g.first():null}},Fg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=R0(e,r,n,c);else if(i=="func")d=cP(e,r,n,c);else if(typeof(o==null?void 0:o.jsonLogic)=="function"){var p=o.jsonLogic,v=[n,HO(HO({},s?ya(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ii(o,Os)];l&&(v.push(l),v.push(u)),d=p.call.apply(p,[r.ctx].concat(v))}else d=n;return d}},cP=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Wr(r,s),c=Nr(s,r),f=c[c.length-1];if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}if(!(u!=null&&u.jsonLogic)){e.errors.push("Func ".concat(s," is not supported"));return}var d={},p=[],v=[];for(var h in u.args){var g,y=u.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=l?l.get(h):void 0,x=O?O.get("value"):void 0,C=O?O.get("valueSrc"):void 0;C!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var I=null,E=gr(r,y,I,C),k=On(r,y,I,E,C,{forExport:!0}),w=Fg(e,r,x,C,y.type,k,m,null,null,o);if(x!=null&&w===void 0){C!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(s));return}var A=void 0;if(w===void 0&&!b&&_!=null){var P=gr(r,y,I,S),F=On(r,y,I,P,S,{forExport:!0});if(A=Fg(e,r,_,S,y.type,F,m,null,null,o),A===void 0){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(s));return}}var D=w!=null?w:A;if(D!==void 0){if(p.length){var R=oP(p),G;try{for(R.s();!(G=R.n()).done;){var V=G.value;d[V]=void 0}}catch(q){R.e(q)}finally{R.f()}p=[]}d[h]=D}else b||v.push(h),p.push(h)}if(!v.length){var $=Object.values(d),L;if(typeof u.jsonLogic=="function"){var N=u.jsonLogic,B=[d];L=N.call.apply(N,[r.ctx].concat(B))}else{var H=u.jsonLogic||f,z=!!u.jsonLogicIsMethod;if(z){var M=$[0],W=$.slice(1);W.length?L={method:[M,H,W]}:L={method:[M,H]}}else L=le({},H,$)}return L}},R0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r.settings,o=a.fieldSeparator,s=a.jsonLogic,l;if(n){Array.isArray(n)&&(n=n.join(o));var u=Me(r,n)||{},c=Ja(n,r,e,i),f=u.jsonLogicVar||(u.type=="!group"?s.groupVarKey:"var");l=le({},f,c),e.usedFields.indexOf(n)==-1&&e.usedFields.push(n)}return l},Xoe=function(e,r,n,i){var a=e,o=Ur(r);typeof r.jsonLogic=="string"&&(a=r.jsonLogic);var s=["<","<=",">",">="],l=["==","!="],u=function(f,d,p,v,h){return o==0&&l.includes(a)?le({},a,[n,null]):o==0?le({},a,n):o==1?le({},a,[n,i]):o==2&&s.includes(a)?le({},a,[i[0],n,i[1]]):le({},a,[n].concat(Ce(i)))};return u},fP=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=r.get("field"),c=Pt(e,a,u)||{},f=typeof c.jsonLogic=="function"?c.jsonLogic:Xoe(a,c,n,i),d=[n,a,i,ii(c,iu),o,s],p=f.call.apply(f,[e.ctx].concat(d));return l&&(p={"!":p}),p};function Zoe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ese(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ese(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KO=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},tse=function(e,r){return dP(e,r,!1)},dP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ai(r,void 0,!1),o=Lg([],e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),o)},Lg=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(r){var u=r.get("type");if(u==="group"||u==="rule_group")return rse(e,r,n,i,a,o,s,l);if(u==="rule")return nse(e,r,n,i,a,o,s,l)}},rse=function(e,r,n,i){var a,o,s,l,u,c,f,d,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=r.get("type"),h=r.get("properties")||new ur,g=!!h.get("not"),y=r.get("children1")||new Ji,m=n.settings,_=m.canShortMongoQuery,b=m.fieldSeparator,S=b,O=e.filter(function(ee){return ee.get("type")=="rule_group"}).length>0,x=e.filter(function(ee){return ee.get("type")=="rule_group"}).map(function(ee){return ee.get("properties").get("field")}).slice(-1).pop(),C=O&&x,I=v==="rule_group",E=I?h.get("field"):null,k=I?h.get("operator"):null,w=k&&Pt(n,k,E)||null,A=k?(a=(o=w)===null||o===void 0?void 0:o.cardinality)!==null&&a!==void 0?a:1:void 0,P=Ja(E,n,i,C),F=Me(n,E)||{},D=F.mode,R=E&&D==="array"&&A>=1,G=I&&(y==null?void 0:y.size)>0;I&&(y!=null&&y.size);var V=!1,$=g,L=!1;G?(L=g,$=p):p&&($=!$);var N=(s=w)===null||s===void 0?void 0:s.reversedOp,B=Pt(n,N,E),H=!((l=w)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=B)!==null&&u!==void 0&&u.mongoFormatOp),z=!!((c=B)!==null&&c!==void 0&&c.mongoFormatOp),M=(f=I0(r))===null||f===void 0?void 0:f.get("type"),W=!!n.settings.reverseOperatorsForNot&&(!I&&$&&M==="rule"||L&&(y==null?void 0:y.size)===1);W&&(G?L=!L:$=!$,V=!0);var q=$&&I&&z&&(!!n.settings.reverseOperatorsForNot||H);if(q){$=!$;var Y=[N,k];k=Y[0],N=Y[1];var K=[B,w];w=K[0],B=K[1]}var ie=h.get("conjunction");ie||(ie=ka(n));var te=n.conjunctions[ie];if(te){var ae=te.reversedConj,ue=$&&((d=ie)===null||d===void 0?void 0:d.toLowerCase())==="or"&&ae&&!I&&!!n.settings.canShortMongoQuery&&!!n.settings.reverseOperatorsForNot;ue&&(ie=ae,te=n.conjunctions[ie],$=!$,V=!0);var fe=te.mongoConj,pe=y.map(function(ee){return Lg([].concat(Ce(e),[r]),ee,n,i,V,D!="array",D=="array"?function(me){return"$$el".concat(S).concat(me)}:void 0)}).filter(function(ee){return typeof ee<"u"});if(!(!R&&!pe.size)){var Se;if(pe.size==1)Se=pe.first();else if(pe.size>1){var Q=pe.toList().toJS(),re=_&&fe=="$and";re&&(Se=Q.reduce(function(ee,me){if(ee){for(var Oe in me){if(Oe[0]=="$"){ee=void 0;break}if(ee[Oe]==null)ee[Oe]=me[Oe];else{var we=ee[Oe],Je=me[Oe];KO(we)||(we={$eq:we}),KO(Je)||(Je={$eq:Je});var at=Object.keys(we)[0],ce=Object.keys(Je)[0];if(at==ce){ee=void 0;break}ee[Oe]=Object.assign({},we,Je)}}return ee}},{})),Se||(Se=le({},fe,Q))}if(E)if(D=="array"){var de={$size:{$ifNull:["$"+P,[]]}},ve=Se?{$size:{$ifNull:[{$filter:{input:"$"+P,as:"el",cond:Se}},[]]}}:de;Se=Lg(e,r.set("type","rule"),n,i,L,!1,function(ee){return ve},de),Se={$expr:Se}}else Se=le({},P,{$elemMatch:Se});return $&&(Se={$not:Se}),Se}}},nse=function(e,r,n,i){var a,o,s,l,u,c,f,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,g=r.get("properties")||new ur,y=e.filter(function(Se){return Se.get("type")=="rule_group"}).length>0,m=e.filter(function(Se){return Se.get("type")=="rule_group"}).map(function(Se){return Se.get("properties").get("field")}).slice(-1).pop(),_=y&&m,b=g.get("operator"),S=g.get("operatorOptions"),O=g.get("field"),x=g.get("fieldSrc"),C=g.get("value"),I=g.get("valueSrc"),E=g.get("valueType"),k=g.get("asyncListValues");if(!(O==null||b==null||C===void 0)){var w=Me(n,O),A=Pt(n,b,O),P=(a=A)===null||a===void 0?void 0:a.reversedOp,F=Pt(n,P,O),D=Ur(A);if(!((o=A)!==null&&o!==void 0&&o.mongoFormatOp)&&!((s=F)!==null&&s!==void 0&&s.mongoFormatOp)){i.errors.push("Operator ".concat(b," is not supported"));return}var R=d,G=!((l=A)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=F)!==null&&u!==void 0&&u.mongoFormatOp),V=!!((c=F)!==null&&c!==void 0&&c.mongoFormatOp),$=V&&(!!n.settings.reverseOperatorsForNot||G),L=$&&R||G;if(L){var N=[P,b];b=N[0],P=N[1];var B=[F,A];A=B[0],F=B[1],R=!R}var H,z=!1;if(x=="func"){var M=pP(i,n,O,_),W=ke(M,2);H=W[0],z=W[1]}else H=Ja(O,n,i,_),v&&(z=!0,H=v(H));if(H!=null){var q=[],Y=[],K;if(C!=null){var ie=C.map(function(Se,Q){var re=I?I.get(Q):null,de=E?E.get(Q):null,ve=xs(Se,re,n),ee=gr(n,O,b,re),me=On(n,O,b,ee,re,{forExport:!0}),Oe=Rg(i,n,ve,re,de,me,w,_,b,A,k),we=ke(Oe,2),Je=we[0],at=we[1];return Je!==void 0&&(z=z||at,q.push(re),Y.push(de)),Je}),te=ie.filter(function(Se){return Se===void 0}).size>0;if(ie.size<D||te)return;K=D>1?ie.toArray():D==1?ie.first():null}var ae=z&&p,ue=(f=A)===null||f===void 0?void 0:f.mongoFormatOp,fe=[H,b,h!==void 0&&K==null?h:K,z,q.length>1?q:q[0],Y.length>1?Y:Y[0],ii(A,iu),S,w],pe=ue.call.apply(ue,[n.ctx].concat(fe));return ae&&(pe={$expr:pe}),R&&(pe={$not:pe}),pe}}},Rg=function(e,r,n,i,a,o,s,l,u,c,f){if(n===void 0)return[void 0,!1];var d,p=!1;if(i=="field"){var v=ise(e,r,n,l),h=ke(v,2);d=h[0],p=h[1]}else if(i=="func"){var g=pP(e,r,n,l),y=ke(g,2);d=y[0],p=y[1]}else if(typeof(o==null?void 0:o.mongoFormatValue)=="function"){var m=o.mongoFormatValue,_=[n,YO(YO({},s?ya(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ii(o,Os)];u&&(_.push(u),_.push(c)),d=m.call.apply(m,[r.ctx].concat(_))}else d=n;return[d,p]},ise=function(e,r,n,i){var a=r.settings.fieldSeparator,o,s=!0;if(n){var l=Me(r,n)||{},u=Nr(n,r),c=af(n,r),f=c?c.join(a):null,d=r.settings.formatField,p=Ja(n,r,e,i),v=d(p,u,f,l,r,!1);o="$"+v}return[o,s]},pP=function(e,r,n,i){var a,o,s=!0,l,u=(a=n.get)===null||a===void 0?void 0:a.call(n,"func"),c=(o=n.get)===null||o===void 0?void 0:o.call(n,"args"),f=Wr(r,u);if(!f)return e.errors.push("Func ".concat(u," is not defined in config")),[void 0,!1];var d=Nr(u,r),p=d[d.length-1],v=f.mongoFunc||p,h=f.mongoArgsAsObject,g={},y=0,m=void 0,_=[],b=[];for(var S in f.args){var O;y++;var x=f.args[S],C=Me(r,x),I=x.defaultValue,E=x.isOptional,k=I!=null&&I.func?"func":"value",w=c?c.get(S):void 0,A=w?w.get("value"):void 0,P=w?w.get("valueSrc"):void 0;P!=="func"&&(O=A)!==null&&O!==void 0&&O.toJS&&(A=A.toJS());var F=w?w.get("asyncListValues"):void 0,D=null,R=gr(r,x,D,P),G=On(r,x,D,R,P,{forExport:!0}),V=Rg(e,r,A,P,x.type,G,C,i,null,null,F),$=ke(V,2),L=$[0];if($[1],A!=null&&L===void 0)return P!="func"&&e.errors.push("Can't format value of arg ".concat(S," for func ").concat(u)),[void 0,!1];var N=void 0;if(L===void 0&&!E&&I!=null){var B=gr(r,x,D,k),H=On(r,x,D,B,k,{forExport:!0}),z=Rg(e,r,I,k,x.type,H,C,i,null,null,F),M=ke(z,2);if(N=M[0],M[1],N===void 0)return k!="func"&&e.errors.push("Can't format default value of arg ".concat(S," for func ").concat(u)),[void 0,!1]}var W=L!=null?L:N;if(W!==void 0){if(_.length){var q=Zoe(_),Y;try{for(q.s();!(Y=q.n()).done;){var K=Y.value;g[K]=void 0}}catch(ae){q.e(ae)}finally{q.f()}_=[]}g[S]=W,m=W}else E||b.push(S),_.push(S)}if(b.length)return[void 0,!1];if(typeof f.mongoFormatFunc=="function"){var ie=f.mongoFormatFunc,te=[g];l=ie.call.apply(ie,[r.ctx].concat(te))}else{if(f.mongoFormatFunc===null)return e.errors.push("Functon ".concat(v," is not supported")),[void 0,!1];h?l=le({},v,g):y==1&&m!==void 0?l=le({},v,m):l=le({},v,Object.values(g))}return[l,s]};function ase(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ose(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ose(t,e){if(t){if(typeof t=="string")return JO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JO(t,e)}}function JO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sse=function(e,r){return hP(e,r,!1)},hP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ai(r,void 0,!1),o=vP(e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SQL:",i.errors),o)},vP=function(e,r,n){if(e){var i=e.get("type");if(e.get("children1"),i==="group"||i==="rule_group")return lse(e,r,n);if(i==="rule")return cse(e,r,n)}},lse=function(e,r,n){var i=e.get("type"),a=e.get("properties")||new ur,o=e.get("children1")||new Ji,s=i==="rule_group",l=s?a.get("field"):null,u=Me(r,l)||{},c=u.mode;c=="array"&&n.errors.push("Aggregation is not supported for ".concat(l));var f=a.get("not"),d=o.map(function(h){return vP(h,r,n)}).filter(function(h){return typeof h<"u"});if(d.size){var p=a.get("conjunction");p||(p=ka(r));var v=r.conjunctions[p];return v.sqlFormatConj.call(r.ctx,d,p,f)}},use=function(e,r){var n=r.sqlOp||e,i=Ur(r),a;return i==0?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,v){var h,g,y=u==null||(h=u.first)===null||h===void 0?void 0:h.call(u),m=u==null||(g=u.get)===null||g===void 0?void 0:g.call(u,1);return"".concat(s," ").concat(n," ").concat(y," AND ").concat(m)}),a},cse=function(e,r,n){var i=e.get("properties")||new ur,a=i.get("field"),o=i.get("fieldSrc"),s=i.get("operator"),l=i.get("operatorOptions"),u=i.get("valueSrc"),c=i.get("valueType"),f=i.get("value"),d=i.get("asyncListValues");if(!(a==null||s==null)){var p=Me(r,a)||{},v=Pt(r,s,a)||{},h=v.reversedOp,g=Pt(r,h,a)||{},y=Ur(v),m=!1,_=v.sqlOp||v.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(!_&&!b){n.errors.push("Operator ".concat(s," is not supported"));return}if(!_&&b){m=!0;var S=[h,s];s=S[0],h=S[1];var O=[g,v];v=O[0],g=O[1]}var x=[],C=[],I;if(f!=null){var E=f.map(function(D,R){var G=u?u.get(R):null,V=c?c.get(R):null,$=xs(D,G,r),L=gr(r,a,s,G),N=On(r,a,s,L,G,{forExport:!0}),B=$g(n,r,$,G,V,N,p,s,v,d);return B!==void 0&&(x.push(G),C.push(V)),B}),k=E.filter(function(D){return D===void 0}).size>0;if(k||E.size<y)return;I=y==1?E.first():E}var w=v.sqlFormatOp||use(s,v);if(!w){n.errors.push("Operator ".concat(s," is not supported"));return}var A=o=="func"?mP(n,r,a):gP(n,r,a);if(A!=null){var P=[A,s,I,x.length>1?x:x[0],C.length>1?C:C[0],ii(v,iu),l,p],F;if(F=w.call.apply(w,[r.ctx].concat(P)),m&&(F=r.settings.sqlFormatReverse.call(r.ctx,F)),F===void 0){n.errors.push("Operator ".concat(s," is not supported for value source ").concat(x.join(", ")));return}return F}}},$g=function(e,r,n,i,a,o,s,l,u,c){if(n!==void 0){var f;if(i=="field")f=gP(e,r,n);else if(i=="func")f=mP(e,r,n);else if(typeof(o==null?void 0:o.sqlFormatValue)=="function"){var d=o.sqlFormatValue,p=[n,XO(XO({},ya(s,["fieldSettings","listValues"])),{},{asyncListValues:c}),ii(o,Os)];if(l&&(p.push(l),p.push(u)),i=="field"){var v=Me(r,n)||{};p.push(v)}f=d.call.apply(d,[r.ctx].concat(p))}else Array.isArray(n)?f=n.map(function(h){return _o.escape(h)}):f=_o.escape(n);return f}},gP=function(e,r,n){if(n){var i=r.settings.fieldSeparator,a=Me(r,n)||{},o=Nr(n,r),s=af(n,r),l=s?s.join(i):null,u=r.settings.formatField,c=Ja(n,r,e,null,{useTableName:!0}),f=u(c,o,l,a,r);return f}},mP=function(e,r,n){var i,a,o=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),s=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),l=Wr(r,o);if(!l){e.errors.push("Func ".concat(o," is not defined in config"));return}var u=Nr(o,r),c=u[u.length-1],f=l.sqlFunc||c,d={},p=[],v=[];for(var h in l.args){var g,y=l.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=s?s.get(h):void 0,x=O?O.get("value"):void 0,C=O?O.get("valueSrc"):void 0;C!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var I=O?O.get("asyncListValues"):void 0,E=$g(e,r,x,C,y.type,m,y,null,null,I);if(x!=null&&E===void 0){C!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(o));return}var k=void 0;if(E===void 0&&!b&&_!=null&&(k=$g(e,r,_,S,y.type,m,y,null,null,I),k===void 0)){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(o));return}var w=E!=null?E:k;if(w!==void 0){if(p.length){var A=ase(h),P;try{for(A.s();!(P=A.n()).done;){var F=P.value;d[F]=void 0}}catch($){A.e($)}finally{A.f()}p=[]}d[h]=w}else b||v.push(h),p.push(h)}if(!v.length){var D;if(typeof l.sqlFormatFunc=="function"){var R=l.sqlFormatFunc,G=[d];D=R.call.apply(R,[r.ctx].concat(G))}else{var V=Object.entries(d).map(function($){var L=ke($,2);L[0];var N=L[1];return N}).join(", ");D="".concat(f,"(").concat(V,")")}return D}};function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t){if(t==null)return null;var e=t.split(",").map(Number);return{top_left:{lat:e[0],lon:e[1]},bottom_right:{lat:e[2],lon:e[3]}}}function dse(t,e){if(t.length>1)return{gte:"".concat(t[0]),lte:"".concat(t[1])};var r=t[0];switch(e){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}function pse(t){return{value:"*"+t+"*"}}function hse(t,e){switch(t){case"AND":return e?"must_not":"must";case"OR":return e?"should_not":"should";case"NOT":return e?"must":"must_not";default:return}}function vse(t){return{value:t}}function gse(t,e){return t}function mse(t,e,r,n,i,a){var o=gse(n);switch(t){case"filter":return{script:i.operators[r].elasticSearchScript(n,e)};case"exists":return{field:n};case"match":return le({},o,e[0]);case"term":return a===bse?le({},n,{value:e[0]}):le({},n,e[0]);case"geo_bounding_box":return le({},n,fse(e[0]));case"range":return le({},n,dse(e,r));case"wildcard":return le({},n,pse(e[0]));case"regexp":return le({},n,vse(e[0]));default:return}}function tx(t,e,r,n,i,a){if(!(!t||!r||e==null)){var o=r,s=n.operators[o];if(s){var l=s,u=l.elasticSearchQueryType,c=!1;if(!u&&s.reversedOp){c=!0,o=s.reversedOp,s=n.operators[o];var f=s;u=f.elasticSearchQueryType}var d=gr(n,t,o,i),p=n.widgets[d];if(p){var v=p.elasticSearchFormatValue,h;if(typeof u=="function"?h=u(d):h=u,!!h){var g;return typeof v=="function"?g=v(h,e,o,t,n):g=mse(h,e,o,t,n,a),c?{bool:{must_not:le({},h,ex({},g))}}:le({},h,ex({},g))}}}}}function yse(t,e,r,n,i,a){if(!(!t||!t.size)){var o=t.valueSeq().toArray(),s=hse(e,r),l=o.map(function(c){return n(c,i,a)}).filter(function(c){return c!==void 0});if(l.length){var u=l.flat(1/0);return{bool:le({},s,u)}}}}var bse="ES_7_SYNTAX",_se="ES_6_SYNTAX";function yP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_se,n=ai(e,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if(i==="rule"&&a.get("field")){var o,s,l,u=a.get("operator"),c=a.get("field"),f=a.get("fieldSrc"),d=(o=a.get("value"))===null||o===void 0?void 0:o.toJS();(s=a.get("valueType"))===null||s===void 0||s.get(0);var p=(l=a.get("valueSrc"))===null||l===void 0?void 0:l.get(0);return p==="func"||f=="func"?void 0:d&&Array.isArray(d[0])?d[0].map(function(y){return tx(c,[y],u,n,p,r)}):tx(c,d,u,n,p,r)}if(i==="group"||i==="rule_group"){var v=a.get("not"),h=a.get("conjunction");h||(h=ka(n));var g=t.get("children1");return yse(g,h,v,yP,n,r)}}}const rx=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:dP,_spelFormat:fA,_sqlFormat:hP,elasticSearchFormat:yP,jsonLogicFormat:Koe,mongodbFormat:tse,queryBuilderFormat:Uoe,queryString:IA,spelFormat:Jne,sqlFormat:sse},Symbol.toStringTag,{value:"Module"}));function nx(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}function Ho(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){nx(a,n,i,o,s,"next",l)}function s(l){nx(a,n,i,o,s,"throw",l)}o(void 0)})}}var Sse=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function Ose(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function xse(t,e){if(t){if(typeof t=="string")return ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(t,e)}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wse=function(e,r){if(e.findLastIndex)return e.findLastIndex(r);var n=Ce(e).reverse().findIndex(r);return n==-1?-1:e.length-1-n},Ese=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var i=Ho(Br.mark(function a(o,s,l){var u,c,f,d,p,v;return Br.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(u=(l==null?void 0:l.pageSize)!=null?l.pageSize:r,c=qI(e).filter(function(y){var m=y.title,_=y.value;return o==null?!0:m.toUpperCase().indexOf(o.toUpperCase())!=-1||"".concat(_).toUpperCase().indexOf(o.toUpperCase())!=-1}),u&&Math.ceil(c.length/u),f=s||0,d=u?c.slice(f,f+u):c,p=u?f+d.length:null,v=u?p<c.length:!1,!n){g.next=11;break}return g.next=11,pI(n);case 11:return g.abrupt("return",{values:d,hasMore:v});case 12:case"end":return g.stop()}},a)}));return function(a,o,s){return i.apply(this,arguments)}}()},Cse=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!r)return e;var a=e||[],o=r.filter(function(l){return a.find(function(u){return""+u.value==""+l.value})==null}).map(function(l){return i?vo(vo({},l),{},{isHidden:!0}):l}),s=n?[].concat(Ce(o),Ce(a)):[].concat(Ce(a),Ce(o));return s},Tse=function(e,r,n){var i,a=e==null||e==""?void 0:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:e,o=rh(a,r),s=n&&!o?d0(a):void 0,l=o||s,u=l?[l]:void 0;return[a,u]},kse=function(e,r,n){var i=e.map(function(o,s){var l,u=o==null||o==""?void 0:(l=o==null?void 0:o.value)!==null&&l!==void 0?l:o,c=rh(u,r),f=n&&!c?d0(u):void 0,d=c||f;return d}).filter(function(o){return o!=null}),a=i.map(function(o){var s;return(s=o==null?void 0:o.value)!==null&&s!==void 0?s:o});return a.length||(a=void 0),[a,i]},Ise=function(e){if(e==null)return null;var r=e.title,n=e.value,i=e.disabled,a=e.groupTitle,o=e.grouplabel,s=e.renderTitle,l=e.children,u=e.label,c=e.isCustom,f=e.isHidden,d=ti(e,Sse),p={value:n,title:r||u||l};return i&&(p.disabled=i),c&&(p.isCustom=c),f&&(p.isHidden=f),(a||o)&&(p.groupTitle=a||o),s&&(p.renderTitle=s),p=vo(vo({},p),d),p},Ase=function(e){var r=[],n=[],i=Ose(e),a;try{var o=function(){var l=a.value,u=wse(r,function(c){var f,d;return((f=c.groupTitle)!==null&&f!==void 0?f:"")==((d=l.groupTitle)!==null&&d!==void 0?d:"")});l.groupTitle!=null&&!n.includes(l.groupTitle)&&(n.push(l.groupTitle),n.length===1&&(r=r.map(function(c){return vo(vo({},c),{},{groupTitle:""})}))),l.groupTitle==null&&n.length&&(l=vo(vo({},l),{},{groupTitle:""})),u!=-1?r.splice(u+1,0,l):r.push(l)};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r};const jse=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:Ase,getListValue:rh,listValueToOption:Ise,mergeListValues:Cse,optionToListValue:Tse,optionsToListValues:kse,simulateAsyncFetch:Ese},Symbol.toStringTag,{value:"Module"})),Pse=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:jse,ConfigUtils:Hoe,DefaultUtils:Sie,ExportUtils:Wne,FuncUtils:oae,ListUtils:gne,OtherUtils:xQ,RuleUtils:pae,TreeUtils:yne,Validation:iae,checkTree:vj,clone:ci,compressConfig:Gj,decompressConfig:Wj,getSwitchValues:GI,i18n:ah,isValidTree:pj,moment:je,sanitizeTree:mj,uuid:Lt,validateAndFixTree:yj,validateTree:gj},Symbol.toStringTag,{value:"Module"}));var Fse={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},Lse={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim,o=a.charAt(0).toUpperCase()+a.slice(1)+"s",s=n+o;return"".concat(r,".").concat(s,"(").concat(i,")")},spelImport:function(e){var r,n,i,a,o,s=(r=e.methodName)===null||r===void 0?void 0:r.match(/^(minus|plus)(\w+)s$/);if(s&&(o=s[2].toLowerCase(),i=s[1],["minus","plus"].includes(i)&&["day","week","month","year"].includes(o)))return i={type:"string",val:i},o={type:"string",val:o},a=e.args[0],n=e.obj,{date:n,op:i,val:a,dim:o}},jsonLogic:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return{date_add:[r,i*(n=="minus"?-1:1),a]}},jsonLogicImport:function(e){var r=e.date_add[0],n=Math.abs(e.date_add[1]),i=e.date_add[1]>=0?"plus":"minus",a=e.date_add[2];return[r,i,n,a]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return"DATE_ADD(".concat(r,", INTERVAL ").concat(parseInt(i)*(n=="minus"?-1:1)," ").concat(a.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return i?"".concat(r," ").concat(n=="minus"?"-":"+"," ").concat(i," ").concat(a):r},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},Rse={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},$se={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Nse={label:"Linear regression",returnType:"number",formatFunc:function(e,r){var n=e.coef,i=e.bias,a=e.val;return"(".concat(n," * ").concat(a," + ").concat(i,")")},sqlFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelImport:function(e){var r,n,i,a;if(e.type==="op-plus"){var o=ke(e.children,2);if(a=o[0],i=o[1],a.type==="op-multiply"){var s=ke(a.children,2);return r=s[0],n=s[1],{coef:r,val:n,bias:i}}}},mongoFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return{$sum:[{$multiply:[r,i]},n]}},jsonLogic:function(e){var r=e.coef,n=e.bias,i=e.val;return{"+":[{"*":[r,i]},n]}},jsonLogicImport:function(e){var r=e["+"][0]["*"][0],n=e["+"][0]["*"][1],i=e["+"][1];return[r,n,i]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},Dse=function(e,r,n,i,a,o,s,l,u,c,f,d){var p=typeof i=="string"&&!i.startsWith("$")?"$"+i:i,v=r(o,d);if(v!==void 0)return n?!s&&(!e||e=="$eq")?le({},i,{$ne:v}):s?{$not:le({},e,[p,v])}:le({},i,{$not:le({},e,v)}):!s&&(!e||e=="$eq")?le({},i,v):s?le({},e,[p,v]):le({},i,le({},e,v))},Mse=function(e,r,n,i,a,o,s,l,u,c,f){var d=typeof n=="string"&&!n.startsWith("$")?"$"+n:n;return r?o?{$not:{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}}:le({},n,{$not:le(le({},e[0],a[0]),e[1],a[1])}):o?{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}:le({},n,le(le({},e[0],a[0]),e[1],a[1]))},Vse={utils:{SqlString:_o,moment:je,mongoFormatOp1:Dse,mongoFormatOp2:Mse,mongoEmptyValue:oA,escapeRegExp:fI,sqlEmptyValue:aA,stringifyForDisplay:lA,getTitleInListValues:zI,spelEscape:Ll,spelFixList:sA,wrapWithBrackets:uA}};function Bse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=qse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function qse(t,e){if(t){if(typeof t=="string")return ox(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ox(t,e)}}function ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zse={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,r,n,i){var a=e.size>1?e.join(" "+(i?"AND":"&&")+" "):e.first();return(e.size>1||n)&&(a=this.utils.wrapWithBrackets(a)),n&&(a="NOT "+a),a},sqlFormatConj:function(e,r,n){var i=e.size>1?e.join(" AND "):e.first();return(e.size>1||n)&&(i=this.utils.wrapWithBrackets(i)),n&&(i="NOT "+i),i},spelFormatConj:function(e,r,n,i){n&&(i=!1);var a=e.size>1?e.join(" && "):e.first();return(e.size>1||n)&&!i&&(a=this.utils.wrapWithBrackets(a)),n&&(a="!"+a),a}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" || ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}}},Hse={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,r,n,i,a,o,s,l,u){var c=l?"=":o.label;return a=="boolean"&&l?n=="No"?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,r,n,i,a,o,s,l,u){return a=="boolean"&&l?n=="No"?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(o.label," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(a){return a},!1].concat(n))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(a){return a},!1].concat(n))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return a},!1].concat(n))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(a){return a},!1].concat(n))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:function(e,r,n){return{in:[n,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!0].concat(i))},jsonLogic:function(e,r,n){return{"!":{in:[n,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?"^"+r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o)+"$":void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," BETWEEN ").concat(u," AND ").concat(c):"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return e==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," NOT BETWEEN ").concat(u," AND ").concat(c):"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,r,n){return{"!":{"<=":[Array.isArray(n)?n[0]:n,e,Array.isArray(n)?n[1]:n]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") = ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") <> ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return null},!1].concat(n))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return null},!1].concat(n))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return"".concat(e," ").concat(u," ").concat(n)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != ").concat(n)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," IN (").concat(n.join(", "),")")},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(a){return a},!1].concat(n))},reversedOp:"select_any_in",jsonLogic:function(e,r,n){return{"!":{in:[e,n]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," CONTAINS [").concat(n.join(", "),"]"):"".concat(e," CONTAINS ").concat(n)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,r,n){return{some:[e,{in:[{var:""},n]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT CONTAINS [").concat(n.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(n)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,r,n){return{"!":{some:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return i=="value"?"".concat(e," ").concat(u," [").concat(n.join(", "),"]"):"".concat(e," ").concat(u," ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," = '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,r,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," != '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,r,n){return{"!":{all:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=s==null?void 0:s.get("proximity");return"".concat(e," ").concat(u," NEAR/").concat(f," ").concat(c)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=this.utils.SqlString.trim(u),d=this.utils.SqlString.trim(c),p=s==null?void 0:s.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(f,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return 0},!1].concat(n))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,r,n){return"".concat(e," == ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return 0},!1].concat(n))}}},Use={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n){var i=n.step&&!Number.isInteger(n.step);return this.utils.spelEscape(e,i)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,r,n,i){var a=this.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,e);return i?this.utils.stringifyForDisplay(a):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,r,n,i){var a=this,o=e.map(function(s){return a.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,s)});return i?o.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,r,n,i,a){var o=this;return e.map(function(s){return o.utils.SqlString.escape(s)})},spelFormatValue:function(e,r,n,i,a){var o=a&&a.spelOp&&a.spelOp.startsWith("${1}"),s=this.utils.spelEscape(e);return o&&(s=this.utils.spelFixList(s)),s},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("YYYY-MM-DD"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD"),l="yyyy-MM-dd";return"T(java.time.LocalDate).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a,o,s;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&(s=o.toLowerCase)!==null&&s!==void 0&&s.call(o).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(n.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("HH:mm:ss"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(s,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,r,n){var i,a,o;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&n.fmt&&(!((i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.toLowerCase)!==null&&a!==void 0&&a.call(i).includes("hh:mm"))||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&o.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(n.fmt))];var s=this.utils.moment(e.value,"HH:mm:ss");return s.isValid()?[s.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.get("hour")*60*60+n.get("minute")*60+n.get("second"):void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},elasticSearchFormatValue:function(e,r,n,i){return{script:{script:{source:"doc[".concat(i,"][0].getHour() >== params.min && doc[").concat(i,"][0].getHour() <== params.max"),params:{min:r[0],max:r[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.toDate())},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD HH:mm:ss"),l="yyyy-MM-dd HH:mm:ss";return"T(java.time.LocalDateTime).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a;if(!r)return[void 0,"No widget def to get value format"];if(!(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")))return[void 0,"Invalid datetime format ".concat(JSON.stringify(n.fmt))];var o=this.utils.moment(e.value,this.utils.moment.ISO_8601);return o.isValid()?[o.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,r,n,i){return i?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},field:{valueSrc:"field",formatValue:function(e,r,n,i,a,o,s){return i&&s.label||e},sqlFormatValue:function(e,r,n,i,a,o){return e},spelFormatValue:function(e,r,n,i,a){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(e===""?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return e===""?null:e}}},Gse={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},Wse=Nt(Nt({},Kj),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,r,n,i,a,o){var s=this,l=i.map(function(u,c){var f=u.key,d=u.parent,p=u.fieldSeparator;return c==0?d=="[map]"?"#this[".concat(s.utils.spelEscape(f),"]"):(d=="[class]",f):d=="map"||d=="[map]"?"[".concat(s.utils.spelEscape(f),"]"):(d=="class"||d=="[class]","".concat(p).concat(f))}).join("");return a.fieldName&&(l=e),a.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(e!=null)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(e!=null)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,r,n,i,a,o){if(e!=null)return o?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,r,n,i,a,o,s,l,u,c){var f=s.labelForFormat,d=s.cardinality;if(d==0){var p=e?" HAVE ".concat(e):"";return"".concat(f," OF ").concat(r).concat(p)}else if(d==null||d==1){var v=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(r).concat(v," ").concat(f," ").concat(i)}else if(d==2){var h=e?" WHERE ".concat(e):"",g=i.first(),y=i.get(1);return"COUNT OF ".concat(r).concat(h," ").concat(f," ").concat(g," AND ").concat(y)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,r,n,i){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),bP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={rangeslider:Jse,treeselect:Qse,treemultiselect:Xse,rangeable__date:Kse("date","date")},a=Bse(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i[s];if(l)e=l(e,n);else throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(s))}}catch(u){a.e(u)}finally{a.f()}return e},_P=function(e,r){return bP(e,r,!0)},Yse=function(e,r){return bP(e,r,!1)},Kse=function(e,r){return function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=n.types;return a=Nt(Nt({},a),{},le({},e,Nt(Nt({},a[e]),{},{widgets:Nt({},a[e].widgets)}))),i?a[e].widgets[r]=Nt({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},a[e].widgets[r]):delete a[e].widgets[r],Nt(Nt({},n),{},{types:a})}},Jse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.rangeslider=Nt({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(o,s,l,u){return u?this.utils.stringifyForDisplay(o):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},singleWidget:"slider",toJS:function(o,s){return o}},n.rangeslider):delete n.rangeslider,i=Nt(Nt({},i),{},{number:Nt(Nt({},i.number),{},{widgets:Nt({},i.number.widgets)})}),r?i.number.widgets.rangeslider=Nt({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},i.number.widgets.rangeslider):delete i.number.widgets.rangeslider,Nt(Nt({},e),{},{widgets:n,types:i})},Qse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treeselect=Nt({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(o,s,l,u){var c=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,f=this.utils.getTitleInListValues(c,o);return u?this.utils.stringifyForDisplay(f):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treeselect):delete n.treeselect,i=Nt({},i),r?i.treeselect=Nt({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},i.treeselect):delete i.treeselect,Nt(Nt({},e),{},{widgets:n,types:i})},Xse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treemultiselect=Nt({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(o,s,l,u){var c=this,f=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,d=o.map(function(p){return c.utils.getTitleInListValues(f,p)});return u?d.map(this.utils.stringifyForDisplay):o.map(JSON.stringify)},sqlFormatValue:function(o,s,l,u,c){var f=this;return o.map(function(d){return f.utils.SqlString.escape(d)})},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treemultiselect):delete n.treemultiselect,i=Nt({},i),r?i.treemultiselect=Nt({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},i.treemultiselect):delete i.treemultiselect,Nt(Nt({},e),{},{widgets:n,types:i})},Zse={addMixins:_P,removeMixins:Yse},Ng={conjunctions:zse,operators:Hse,widgets:Use,types:Gse,settings:Wse,ctx:Vse};Ng=_P(Ng,["rangeslider","treeselect","treemultiselect"]);const Ir=Ng;var SP="ADD_GROUP",$0="ADD_CASE_GROUP",OP="REMOVE_GROUP",xP="SET_CONJUNCTION",wP="SET_NOT",EP="ADD_RULE",CP="REMOVE_RULE",TP="SET_FIELD",kP="SET_FIELD_SRC",IP="SET_OPERATOR",AP="SET_VALUE",jP="SET_VALUE_SRC",PP="SET_FUNC_VALUE",FP="SET_OPERATOR_OPTION",LP="SET_LOCK",N0="SET_TREE",RP="MOVE_ITEM",lx="after",ux="before",uv="append",cv="prepend",$P="SET_DRAG_PROGRESS",NP="SET_DRAG_START",DP="SET_DRAG_END",ele=Fj,tle=Hl;function rle(t,e){return t&&ele(t,e,tle)}var D0=rle,nle=hp,ile=_m,ale=1,ole=2;function sle(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new nle;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?ile(c,u,ale|ole,n,f):d))return!1}}return!0}var lle=sle,ule=Ei;function cle(t){return t===t&&!ule(t)}var MP=cle,fle=MP,dle=Hl;function ple(t){for(var e=dle(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,fle(i)]}return e}var hle=ple;function vle(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var VP=vle,gle=lle,mle=hle,yle=VP;function ble(t){var e=mle(t);return e.length==1&&e[0][2]?yle(e[0][0],e[0][1]):function(r){return r===t||gle(r,t,e)}}var _le=ble,Sle=Xp;function Ole(t,e,r){var n=t==null?void 0:Sle(t,e);return n===void 0?r:n}var xle=Ole,wle=_m,Ele=xle,Cle=CI,Tle=i0,kle=MP,Ile=VP,Ale=su,jle=1,Ple=2;function Fle(t,e){return Tle(t)&&kle(e)?Ile(Ale(t),e):function(r){var n=Ele(r,t);return n===void 0&&n===e?Cle(r,t):wle(e,n,jle|Ple)}}var Lle=Fle;function Rle(t){return function(e){return e==null?void 0:e[t]}}var $le=Rle,Nle=Xp;function Dle(t){return function(e){return Nle(e,t)}}var Mle=Dle,Vle=$le,Ble=Mle,qle=i0,zle=su;function Hle(t){return qle(t)?Vle(zle(t)):Ble(t)}var Ule=Hle,Gle=_le,Wle=Lle,Yle=eh,Kle=ri,Jle=Ule;function Qle(t){return typeof t=="function"?t:t==null?Yle:typeof t=="object"?Kle(t)?Wle(t[0],t[1]):Gle(t):Jle(t)}var M0=Qle,Xle=Zp,Zle=D0,eue=M0;function tue(t,e){var r={};return e=eue(e),Zle(t,function(n,i,a){Xle(r,i,e(n,i,a))}),r}var rue=tue;const fh=tn(rue);function cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=nue(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function nue(t,e){if(t){if(typeof t=="string")return fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(t,e)}}function fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dx=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=e.getIn(Ie(r));if(!c)return e;var f=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,d=o.settings.shouldCreateEmptyGroup,p=r.push(f),v=!d,h=!!(u!=null&&u.isDefaultCase),g=e;return e=is(e,r,n,f,No(o).merge($o(a)||{}),o,l),e!==g&&(!l&&!h&&(e=e.setIn(Ie(p,"children1"),new Ue.OrderedMap),v&&(e=is(e,p,"rule",Lt(),Ta(o),o))),e=zi(e)),e},iue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=B0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.slice(0,-1),s=!v0(e,o);if(s&&!a&&(e=nh(e),h0(e)&&!a)){var l=!1,u=!1;e=is(e,new Ue.List,"rule",Lt(),Ta(n,void 0,void 0,l,u),n)}return e=zi(e),e},aue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=B0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.pop(),s=e.getIn(Ie(o)),l=s.getIn(["properties","field"]),u=s.getIn(["properties","operator"]),c=l?Me(n,l):null,f=u?Pt(n,u,l):null,d=l&&u&&f.cardinality!=0,p=s.get("type")=="rule_group",v=!v0(e,o),h=p?d&&c.initialEmptyWhere:a;if(v&&!h&&(p&&(e=e.deleteIn(Ie(o))),e=nh(e),h0(e)&&!a)){var g=!1,y=!1;e=is(e,new Ue.List,"rule",Lt(),Ta(n,void 0,void 0,g,y),n)}return e=zi(e),e},oue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","not"),n)),e},sue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=HI(e.setIn(Ie(r,"properties","isLocked"),n))),e},lue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","conjunction"),n)),e},is=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n==="switch_group")throw new Error("Can't add switch_group programmatically");var u=e.getIn(Ie(r));if(!u)return e;var c=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,f=o.settings,d=f.maxNumberOfCases,p=f.maxNumberOfRules,v=f.maxNesting,h=e.get("type"),g=h==="switch_group",y=g?e.getIn(Ie(r.take(2))):null,m=Ie(r,"children1"),_=e.getIn(m),b=!!_&&_.size,S=b?_.size:null,O,x;n==="case_group"?(O=S,x=d):n==="group"?(O=r.size,x=v):(u==null?void 0:u.get("type"))==="rule_group"||(O=yg(g?y:e),x=p);var C=x&&O?O<x:!0,I={type:n,id:c,properties:a};gue(o,I,l);var E=n==="case_group"&&b&&_.last().get("children1")==null;if(C){var k=new Ue.OrderedMap(le({},c,new Ue.Map(I)));if(!b)e=e.setIn(m,k);else if(E){var w=_.last(),A=new Ue.OrderedMap(le(le({},c,new Ue.Map(I)),w.get("id"),w));e=e.deleteIn(Ie(m,"children1",w.get("id"))),e=e.mergeIn(m,A)}else e=e.mergeIn(m,k);e=zi(e)}return e},B0=function(e,r){return e=e.deleteIn(Ie(r)),e=zi(e),e},uue=function(e,r,n,i,a){var o=dl(e,r),s=r.pop(),l=r.size>1?dl(e,s):null,u=l?l.get("children1"):null,c=dl(e,n),f=i==uv||i==cv?n:n.pop(),d=i==uv||i==cv?c:n.size>1?dl(e,f):null,p=d?d.get("children1"):null;if(!l||!d||!o)return e;var v=l.get("id")==d.get("id"),h=f.size<s.size&&Vd(f.toArray(),s.toArray().slice(0,f.size)),g=f.size>s.size&&Vd(s.toArray(),f.toArray().slice(0,s.size)),y=null,m=null;h?y=Ue.List(s.toArray().slice(f.size)):g&&(m=Ue.List(f.toArray().slice(s.size)));var _=p,b=u;return g||(b=b.delete(o.get("id"))),v?_=b:h&&(_=_.updateIn(gg(y,"children1"),function(S){return b})),i==ux||i==lx?_=Ue.OrderedMap().withMutations(function(S){var O=V0(_.entries()),x;try{for(O.s();!(x=O.n()).done;){var C=ke(x.value,2),I=C[0],E=C[1];I==(c==null?void 0:c.get("id"))&&i==ux&&S.set(o.get("id"),o),S.set(I,E),I==(c==null?void 0:c.get("id"))&&i==lx&&S.set(o.get("id"),o)}}catch(k){O.e(k)}finally{O.f()}}):i==uv?_=_.merge(Ue.OrderedMap(le({},o.get("id"),o))):i==cv&&(_=Ue.OrderedMap(le({},o.get("id"),o)).merge(_)),g&&(b=b.updateIn(gg(m,"children1"),function(S){return _}),b=b.delete(o.get("id"))),!v&&!h&&(e=e.updateIn(Ie(s,"children1"),function(S){return b})),g||(e=e.updateIn(Ie(f,"children1"),function(S){return _})),e=zi(e),e},cue=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.keepInputOnChangeFieldSrc,s=a.get("properties"),l=s==null?void 0:s.get("field"),u=s==null?void 0:s.get("fieldType"),c=Me(i,l),f=(c==null?void 0:c.type)||u;(!f||f==="!group"||f==="!struct")&&(f=null);var d=!oh.includes(f),p=o&&!E0(a,i)&&d;return p?(e=e.setIn(Ie(r,"properties","field"),null),e=e.deleteIn(Ie(r,"properties","fieldError")),e=e.setIn(Ie(r,"properties","fieldType"),f)):e=e.setIn(Ie(r,"properties"),Ta(i,null,null,!1)),e=e.setIn(Ie(r,"properties","fieldSrc"),n),e},fue=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:{},f=r.getIn(Ie(n));if(!f)return r;var d=i===-1,p=f.get("properties"),v=p.get("field"),h=p.get("value"),g=d?v:h.getIn([i]),y=[],m=g,_=V0(a||[]),b;try{for(_.s();!(b=_.n()).done;){var S=ke(b.value,2),O=S[0],x=S[1];if(y.push([O,x,m]),O!==m.get("func")){var C=y.map(function(H){var z=ke(H,2),M=z[0],W=z[1];return"".concat(M,"(").concat(W,")")}).join("/")||"root";throw new Error("In ".concat(d?"LHS":"RHS"," for path ").concat(C," expected func key ").concat(O," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(H){_.e(H)}finally{_.f()}if(o){var k=m.get("func"),w=Wr(e,k),A=w.args,P=A[o];l==="!valueSrc"?m=Ej(m,o,s):m=Ag(m,o,s,P,e)}else{var I=s,E=!0;m=xj(m,I,e,E),c.canDropArgs=!0}for(var F=m;y.length;){var D=y.pop(),R=ke(D,3),G=R[0],V=R[1],$=R[2],L=Wr(e,G),N=L.args,B=N[V];F=Ag($,V,F,B,e)}return d?BP(r,n,F,e,u,c):qP(r,n,i,F,void 0,e,u,c)},BP=function(e,r,n,i,a){var o,s,l,u,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=e.getIn(Ie(r));if(!f)return{state:e};var d=c.isEndValue,p=c.canDropArgs;if(!n)return e=B0(e,r),{state:e};var v=i.settings,h=v.fieldSeparator,g=v.setOpOnChangeField,y=v.showErrorMessage;Array.isArray(n)&&(n=n.join(h));var m=f.get("type"),_=f.get("properties"),b=m=="rule_group",S=_==null?void 0:_.get("fieldSrc"),O=Me(i,n);if(!O)return console.warn("No config for LHS ".concat(n)),{state:e};var x=O.type;(x==="!group"||x==="!struct")&&(x=null);var C=_==null?void 0:_.get("operator"),I=_==null?void 0:_.get("operatorOptions"),E=_==null?void 0:_.get("field"),k=O.type=="!group",w=k&&O.mode=="array",A=b!=k,P=O&&((o=O.operators)===null||o===void 0?void 0:o.indexOf(C))!==-1?C:null,F=S==="func"&&(E==null||(s=E.get)===null||s===void 0?void 0:s.call(E,"func"))===((l=n)===null||l===void 0||(u=l.get)===null||u===void 0?void 0:u.call(l,"func")),D=F&&!!P,R=null,G=S==="func"?Tj(i,x):sh(i,n);if(G&&G.length==1)R=G[0];else if(D)R=P;else if(G&&G.length>1){var V=V0(g),$;try{for(V.s();!($=V.n()).done;){var L=$.value;if(L=="keep"&&!A?R=P:L=="default"?R=_0(i,n,!1):L=="first"&&(R=x0(i,n)),R)break}}catch(Y){V.e(Y)}finally{V.f()}}if(!k&&!O.operators)return console.warn("Type ".concat(O.type," is not supported")),{state:e};b&&!k&&(e=e.setIn(Ie(r,"type"),"rule"),e=e.deleteIn(Ie(r,"children1")),e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap)),_||(e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap));var N=!y;if(k){e=e.setIn(Ie(r,"type"),"rule_group");var B=rs(i,i,_,n,R,"field",N,d,p);B.canReuseValue;var H=B.newValue,z=B.newValueSrc,M=B.newValueType,W=B.operatorCardinality,q=No(i,O).merge({field:n,fieldSrc:"field",mode:O.mode});w&&(q=q.merge({operator:R,value:H,valueSrc:z,valueType:M})),e=e.setIn(Ie(r,"children1"),new Ue.OrderedMap),e=e.setIn(Ie(r,"properties"),q),O.initialEmptyWhere&&W==1||(e=is(e,r,"rule",Lt(),Ta(i,n),i)),e=zi(e)}else e=e.updateIn(Ie(r,"properties"),function(Y){return Y.withMutations(function(K){var ie=rs(i,i,K,n,R,"field",N,d,p),te=ie.canReuseValue,ae=ie.newValue,ue=ie.newValueSrc,fe=ie.newValueType,pe=ie.newValueError,Se=ie.newFieldError,Q=ie.fixedField,re=n,de=Q!==n;de&&(re=Q),y&&(K=K.set("fieldError",Se),K=K.set("valueError",pe));var ve=te?I:rf(i,R,re);return K=K.set("field",re).delete("fieldType").set("fieldSrc",S).set("operator",R).set("operatorOptions",ve).set("value",ae).set("valueSrc",ue).set("valueType",fe),te||(K=K.delete("asyncListValues")),K})});return{state:e}},due=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.showErrorMessage,s=a.get("properties"),l=a.get("children1"),u=s.get("field");s.get("fieldSrc");var c=Me(i,u),f=(c==null?void 0:c.type)=="!group",d=Pt(i,n,u),p=d?Ur(d):null,v=!0;return e=e.updateIn(Ie(r,"properties"),function(h){return h.withMutations(function(g){var y=g.get("field"),m=g.get("operatorOptions");g.get("value",new Ue.List),g.get("valueSrc",new Ue.List),g.get("operator");var _=rs(i,i,g,y,n,"operator",v),b=_.canReuseValue,S=_.newValue,O=_.newValueSrc,x=_.newValueType,C=_.newValueError;o&&(g=g.set("valueError",C));var I=b?m:rf(i,n,y);return b||(g=g.delete("asyncListValues")),g.set("operator",n).set("operatorOptions",I).set("value",S).set("valueSrc",O).set("valueType",x)})}),f&&p==0&&l.size==0&&(e=is(e,r,"rule",Lt(),Ta(i,u),i)),e},qP=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=e.getIn(Ie(r));if(!u)return{state:e};var c=l.canDropArgs,f=l.isEndValue,d=o.settings,p=d.fieldSeparator,v=d.showErrorMessage,h=e.getIn(Ie(r,"properties","valueSrc",n+""))||null;h==="field"&&Array.isArray(i)&&(i=i.join(p));var g=e.getIn(Ie(r,"properties","field"))||null,y=e.getIn(Ie(r,"properties","operator"))||null,m=Pt(o,y,g),_=y?Ur(m):null,b=a||kj(i,h,o),S=!v,O=Rl(o,g,g,y,i,b,h,s,S,f,c),x=ke(O,2),C=x[0],I=x[1],E=I==null?void 0:I.find(function($){return!$.fixed&&!$.ignore}),k=E?Ni(E):null,w=C!==i;w&&(i=C),e=zP(e,r,o,_);var A=Array.from({length:_},function($,L){return L==n?i:e.getIn(Ie(r,"properties","value",L+""))||null}),P=Array.from({length:_},function($,L){return e.getIn(Ie(r,"properties","valueSrc",L+""))||null}),F=S0(o,g,y,A,P),D=F?Ni(F):null,R=!k&&!D,G=v?!0:R||w;if(G&&(e=e.deleteIn(Ie(r,"properties","asyncListValues")),typeof i>"u"?(e=e.setIn(Ie(r,"properties","value",n),void 0),e=e.setIn(Ie(r,"properties","valueType",n),null)):(s&&(e=e.setIn(Ie(r,"properties","asyncListValues"),s)),e=e.setIn(Ie(r,"properties","value",n),i),e=e.setIn(Ie(r,"properties","valueType",n),b))),v){var V=e.getIn(Ie(r,"properties","valueError"));V||(e=e.setIn(Ie(r,"properties","valueError"),new Ue.List(new Array(_)))),e=e.setIn(Ie(r,"properties","valueError",n),k),_>=2&&(e=e.setIn(Ie(r,"properties","valueError",_),D))}return{state:e}},pue=function(e,r,n,i,a){var o=e.getIn(Ie(r));if(!o)return e;var s=a.settings.showErrorMessage,l=e.getIn(Ie(r,"properties","field"))||null,u=e.getIn(Ie(r,"properties","operator"))||null,c=Pt(a,u,l),f=u?Ur(c):null;if(e=zP(e,r,a,f),e=e.setIn(Ie(r,"properties","value",n+""),void 0),e=e.setIn(Ie(r,"properties","valueType",n+""),null),e=e.deleteIn(Ie(r,"properties","asyncListValues")),s&&(e=e.setIn(Ie(r,"properties","valueError",n),null),c.validateValues&&(e=e.setIn(Ie(r,"properties","valueError",f),null))),typeof i>"u"?e=e.setIn(Ie(r,"properties","valueSrc",n+""),null):e=e.setIn(Ie(r,"properties","valueSrc",n+""),i),i){var d=e.getIn(Ie(r,"properties")),p=!0,v=rs(a,a,d,l,u,"valueSrc",p),h=v.canReuseValue,g=v.newValue,y=v.newValueSrc,m=v.newValueType;v.newValueError,!h&&y.get(n)==i&&(e=e.setIn(Ie(r,"properties","value",n+""),g.get(n)),e=e.setIn(Ie(r,"properties","valueType",n+""),m.get(n)))}return e},hue=function(e,r,n,i){var a=e.getIn(Ie(r));return a?e.setIn(Ie(r,"properties","operatorOptions",n),i):e},vue=function(e,r){var n=r.settings.canLeaveEmptyGroup;return n||(e=nh(e)),e},zP=function(e,r,n,i){if(!i){var a=e.getIn(Ie(r,"properties","field"))||null,o=e.getIn(Ie(r,"properties","operator"))||null,s=Pt(n,o,a);i=o?Ur(s):null}for(var l=0,u=["value","valueType","valueError","valueSrc"];l<u.length;l++){var c=u[l];e.getIn(Ie(r,"properties",c))||(e=e.setIn(Ie(r,"properties",c),new Ue.List(i?Array.from({length:i}):[])))}return e},gue=function t(e,r,n){n&&Array.isArray(n)&&(r.children1=new Ue.OrderedMap(n.reduce(function(i,a){var o,s=(o=a.id)!==null&&o!==void 0?o:Lt(),l=ia(ia({},a),{},{properties:CA(e,a).merge($o(a.properties)||{}),id:s});return t(e,l,l.children1),ia(ia({},i),{},le({},s,new Ue.Map(l)))},{})))},mue=function(e,r){var n=e.getIn(Ie(r,"properties","field"))||null;return n},px={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},yue=function(e,r){if(!e||!e.type)return null;var n=["config","asyncListValues"],i=[N0,NP,$P,DP],a=fh(Co(e,n),t0),o=e.path&&mue(r.tree,e.path)||e.field;if(o){var s;(s=o)!==null&&s!==void 0&&s.toJS&&(o=o.toJS()),a.affectedField=o}return(i.includes(e.type)||e.type.indexOf("@@redux")==0)&&(a=null),a};const bue=function(t,e,r,n,i){var a=e,o=ia({tree:a},px);return function(){var s,l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,c=arguments.length>1?arguments[1]:void 0,f=(s=(l=i==null?void 0:i())!==null&&l!==void 0?l:c==null?void 0:c.config)!==null&&s!==void 0?s:t,d={__lastAction:void 0},p={},v=yue(c,u);switch(c==null?void 0:c.type){case N0:{var h=r(f,c.tree);p.tree=h;break}case $0:{p.tree=dx(u.tree,c.path,"case_group",c.id,c.properties,f,c.children,c.meta);break}case SP:{p.tree=dx(u.tree,c.path,"group",c.id,c.properties,f,c.children,c.meta);break}case OP:{p.tree=iue(u.tree,c.path,f);break}case EP:{p.tree=is(u.tree,c.path,c.ruleType,c.id,c.properties,f,c.children);break}case CP:{p.tree=aue(u.tree,c.path,f);break}case xP:{p.tree=lue(u.tree,c.path,c.conjunction);break}case wP:{p.tree=oue(u.tree,c.path,c.not);break}case TP:{var g=BP(u.tree,c.path,c.field,f,c.asyncListValues,c._meta),y=g.state;p.tree=y;break}case kP:{p.tree=cue(u.tree,c.path,c.srcKey,f);break}case LP:{p.tree=sue(u.tree,c.path,c.lock);break}case IP:{p.tree=due(u.tree,c.path,c.operator,f);break}case AP:{var m=qP(u.tree,c.path,c.delta,c.value,c.valueType,f,c.asyncListValues,c._meta),_=m.state;p.tree=_;break}case PP:{var b=fue(f,u.tree,c.path,c.delta,c.parentFuncs,c.argKey,c.value,c.valueType,c.asyncListValues,c._meta),S=b.state;p.tree=S;break}case jP:{p.tree=pue(u.tree,c.path,c.delta,c.srcKey,f,c._meta);break}case FP:{p.tree=hue(u.tree,c.path,c.name,c.value);break}case RP:{p.tree=uue(u.tree,c.fromPath,c.toPath,c.placement);break}case NP:{p.dragStart=c.dragStart,p.dragging=c.dragging,p.mousePos=c.mousePos;break}case $P:{p.mousePos=c.mousePos,p.dragging=c.dragging;break}case DP:{p.tree=vue(u.tree,f),p=ia(ia({},p),px);break}}return v&&(p.__lastAction=v),n&&p.tree&&u.tree&&n(u.tree),ia(ia(ia({},u),d),p)}};var _ue=function(e,r){return{type:N0,tree:r,config:e}},Sue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;return{type:EP,ruleType:i,children:a,path:Gr(r),id:Lt(),properties:Ta(e,o).merge($o(n)||{}),config:e}},Oue=function(e,r){return{type:CP,path:Gr(r),config:e}},xue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:$0,path:Gr(r),children:i,id:Lt(),properties:No(e).merge($o(n)||{}),config:e,meta:{isDefaultCase:!0}}},wue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:$0,path:Gr(r),children:i,id:Lt(),properties:No(e).merge($o(n)||{}),config:e}},Eue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:SP,path:Gr(r),children:i,id:Lt(),properties:No(e).merge($o(n)||{}),config:e}},Cue=function(e,r){return{type:OP,path:Gr(r),config:e}},Tue=function(e,r,n,i){return{type:RP,fromPath:Gr(r),toPath:Gr(n),placement:i,config:e}};const kue=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:wue,addDefaultCaseGroup:xue,addGroup:Eue,addRule:Sue,moveItem:Tue,removeGroup:Cue,removeRule:Oue,setTree:_ue},Symbol.toStringTag,{value:"Module"}));var Iue=function(e,r,n){return{type:xP,path:Gr(r),conjunction:n}},Aue=function(e,r,n){return{type:wP,path:Gr(r),not:n}},jue=function(e,r,n){return{type:LP,path:Gr(r),lock:n}};const Pue=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:Iue,setLock:jue,setNot:Aue},Symbol.toStringTag,{value:"Module"}));var Fue=function(e,r,n,i,a){return{type:TP,path:Gr(r),field:n,config:e,asyncListValues:i,_meta:a}},Lue=function(e,r,n){return{type:kP,path:Gr(r),srcKey:n,config:e}},Rue=function(e,r,n){return{type:IP,path:Gr(r),operator:n,config:e}},$ue=function(e,r,n,i,a,o,s){return{type:AP,path:Gr(r),delta:n,value:i,valueType:a,asyncListValues:o,config:e,_meta:s}},Nue=function(e,r,n,i,a){return{type:jP,path:Gr(r),delta:n,srcKey:i,config:e,_meta:a}},Due=function(e,r,n,i,a,o,s,l,u){return{type:PP,path:Gr(r),delta:n,parentFuncs:i,argKey:a,value:o,valueType:s,asyncListValues:l,config:e,_meta:u}},Mue=function(e,r,n,i){return{type:FP,path:Gr(r),name:n,value:i,config:e}};const Vue=Object.freeze(Object.defineProperty({__proto__:null,setField:Fue,setFieldSrc:Lue,setFuncValue:Due,setOperator:Rue,setOperatorOption:Mue,setValue:$ue,setValueSrc:Nue},Symbol.toStringTag,{value:"Module"}));function hx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var it=fv(fv(fv({},Pse),{},{Export:rx,Import:lO,ConfigMixins:Zse},rx),lO);const of=j.createContext();var qf="after",zf="before",qo="append",Ms="prepend",Bue="SET_DRAG_PROGRESS",que="SET_DRAG_START",zue="SET_DRAG_END",Hue=function(e,r){return{type:Bue,mousePos:e,dragging:r}},Uue=function(e,r,n){return{type:que,dragStart:e,dragging:r,mousePos:n}},Gue=function(){return{type:zue}},HP=kue,Wue=Pue,Yue=Vue,Kue={},Jue=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},Xd=function(e,r,n){if(!r||!e||e.length<=r)return e;var i=e.substr(0,r-1);return i+"..."},Qo=function(e,r){return e===r?!0:e==null?void 0:e.equals(r)},as=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?Que(e,r,n):e&&typeof e.equals=="function"?e.equals(r):xt(e)==="object"?Xue(e,r,n):e===r};function Que(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?as(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function Xue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?as(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var Zue=function(){return typeof process<"u"&&Kue&&!1},ece=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:Zue();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},tce=ece(),vx=it.Validation.validateAndFixTree,rce=function(){var e,r,n;return function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return a?(i.__configId===n&&(Qo(a,e)||Qo(a,r))||(n=i.__configId,e=a,s===!1?r=vx(a,null,i,o||i,!1,!1,!1):r=vx(a,null,i,o||i)),r):null}},nce=function(e){if(e._reactRootContainer)return"root";if(Object.getOwnPropertyNames(e).filter(function(r){return r.startsWith("__reactContainer")}).length>0)return"container"},ice=function t(e){if(e){var r=nce(e);return r!==void 0?r:t(e.parentNode)}},UP=function(e){return ice(e)==="root"},dh=function(e,r){return function(n,i){var a=e.props,o=e.state,s=n!=a||i!=o;if(s&&o==i&&a!=n){var l=[];for(var u in n){var c=n[u]!=a[u];c&&(r[u]=="ignore"?c=!1:r[u]=="shallow_deep"?c=!as(n[u],a[u],!0):r[u]=="shallow"?c=!as(n[u],a[u]):typeof r[u]=="function"&&(c=r[u](n[u],a[u],n,a))),c&&l.push(u)}l.length||(s=!1)}return s}},fu=function(e){return function(r,n){return!as(e.props,r)||!as(e.state,n)}},ace=function(){var e=j.version.split(".").map(parseInt.bind(null,10));return e[0]==16&&e[1]<3||e[0]<16},Mn=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=fu(e)),ace())e.componentWillReceiveProps=function(i){e.onPropsChanged(i)};else{var r=e.shouldComponentUpdate,n=function(a,o){var s=!as(e.props,a);s&&e.onPropsChanged(a);var l=r.call(e,a,o);return l};e.shouldComponentUpdate=n.bind(e)}},GP=function(e,r,n){return fh(e,function(i){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n(i.apply(void 0,[r].concat(o)))}})};const oce=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:GP,isUsingLegacyReactDomRender:UP,liteShouldComponentUpdate:dh,pureShouldComponentUpdate:fu,useOnPropsChanged:Mn},Symbol.toStringTag,{value:"Module"}));function gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sce(t,e,r){return e=Fe(e),er(t,WP()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function WP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(WP=function(){return!!t})()}var YP=function(t){function e(r){var n;Jt(this,e),n=sce(this,e,[r]),n.shouldComponentUpdate=dh(n,{tree:function(o){return!(o===n.oldValidatedTree&&n.oldValidatedTree===n.validatedTree)}}),Mn(n),n._updateActions(r),n.validatedTree=r.getMemoizedTree(r.config,r.tree,void 0,r.sanitizeTree),n.oldValidatedTree=n.validatedTree;var i=r.getBasicConfig(r.config);return r.onInit&&r.onInit(n.validatedTree,i,void 0,n.actions),n}return Yt(e,t),Kt(e,[{key:"_updateActions",value:function(n){var i=n.config,a=n.dispatch;this.actions=GP(dv(dv(dv({},HP),Wue),Yue),i,a)}},{key:"onPropsChanged",value:function(n){var i=n.onChange,a=this.props.config,o=n.tree;this.props.tree;var s=n.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=o,a!==s&&(this._updateActions(n),this.validatedTree=n.getMemoizedTree(s,o,a));var l=!Qo(this.validatedTree,this.oldValidatedTree);if(l){var u=n.getBasicConfig(s);i&&i(this.validatedTree,u,n.__lastAction,this.actions)}}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.renderBuilder,o=n.dispatch,s={tree:this.validatedTree,actions:this.actions,config:i,dispatch:o};return a(s)}}])}(J.Component);YP.propTypes={config:U.object.isRequired,onChange:U.func,onInit:U.func,renderBuilder:U.func,tree:U.any};var KP=sp(function(t){return{tree:t.tree,__lastAction:t.__lastAction}},null,null,{context:of})(YP);KP.displayName="ConnectedQuery";function lce(t,e,r){return e=Fe(e),er(t,JP()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JP=function(){return!!t})()}var mx=it.DefaultUtils.defaultRoot,uce=it.ConfigUtils.createConfigMemo,QP=function(t){function e(r,n){var i,a,o;Jt(this,e),o=lce(this,e,[r,n]),o.setLastTree=function(b){o.prevTree&&(o.prevprevTree=o.prevTree),o.prevTree=b},o.getConfig=function(){return o.config},o.shouldComponentUpdate=dh(o,{value:function(S,O){return!1}}),Mn(o);var s=uce({reactIndex:(i=(a=o._reactInternals)===null||a===void 0?void 0:a.index)!==null&&i!==void 0?i:-1,maxSize:2,canCompile:!0}),l=s.getExtendedConfig,u=s.getBasicConfig,c=s.clearConfigMemo;o.getMemoizedConfig=l,o.getBasicConfig=u,o.clearConfigMemo=c,o.getMemoizedTree=rce();var f=o.getMemoizedConfig(r),d=f.settings.shouldCreateEmptyGroup,p=!d,v=mx(f,p),h=!!r.value,g=r.value||v,y=o.getMemoizedTree(f,g,void 0,h),m=bue(f,y,o.getMemoizedTree,o.setLastTree,o.getConfig),_=jR(m);return o.config=f,o.state={store:_},o.QueryWrapper=function(b){return f.settings.renderProvider(b,f.ctx)},o}return Yt(e,t),Kt(e,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(n){var i=this.props,a=this.config,o=this.getMemoizedConfig(n),s=a!==o,l=this.state.store.getState().tree,u=!Qo(n.value,this.props.value)&&!Qo(n.value,l),c=u?n.value||mx(n):l,f=u&&!Qo(n.value,this.prevTree)&&!Qo(n.value,this.prevprevTree);if(this.sanitizeTree=f||s,s&&(i.settings.renderProvider!==n.settings.renderProvider&&(this.QueryWrapper=function(p){return o.settings.renderProvider(p,o.ctx)}),this.config=o),u||s){var d=this.getMemoizedTree(o,c,a,this.sanitizeTree);this.state.store.dispatch(HP.setTree(o,d))}}},{key:"render",value:function(){var n=this.props,i=n.renderBuilder,a=n.get_children,o=n.onChange,s=n.onInit,l=this.state.store,u=this.config,c=this.QueryWrapper;return j.createElement(c,{config:u},j.createElement(AR,{store:l,context:of},j.createElement(KP,{config:u,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:o,onInit:s,renderBuilder:i||a})))}}])}(J.Component);QP.propTypes={conjunctions:U.object.isRequired,fields:U.object.isRequired,types:U.object.isRequired,operators:U.object.isRequired,widgets:U.object.isRequired,settings:U.object.isRequired,ctx:U.object.isRequired,onChange:U.func,onInit:U.func,renderBuilder:U.func,value:U.any};function cce(t,e,r){return e=Fe(e),er(t,XP()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function XP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XP=function(){return!!t})()}var fce=it.ConfigUtils.getFieldConfig,dce=function(e){var r;return r=function(n){function i(a){var o;return Jt(this,i),o=cce(this,i,[a]),o.dummyFn=function(){},o.removeSelf=function(){o.props.actions.removeRule(o.props.path)},o.setLock=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;o.props.actions.setLock(o.props.path,s)},o.setField=function(s,l,u){o.props.actions.setField(o.props.path,s,l,u)},o.setFieldSrc=function(s){o.props.actions.setFieldSrc(o.props.path,s)},o.setOperator=function(s){o.props.actions.setOperator(o.props.path,s)},o.setOperatorOption=function(s,l){o.props.actions.setOperatorOption(o.props.path,s,l)},o.setValue=function(s,l,u,c,f){o.props.actions.setValue(o.props.path,s,l,u,c,f)},o.setValueSrc=function(s,l,u){o.props.actions.setValueSrc(o.props.path,s,l,u)},o.setFuncValue=function(s,l,u,c,f,d,p){o.props.actions.setFuncValue(o.props.path,s,l,u,c,f,d,p)},o.pureShouldComponentUpdate=fu(o),o.dummyFn.isDummyFn=!0,o}return Yt(i,n),Kt(i,[{key:"shouldComponentUpdate",value:function(o,s){var l=this.props,u=this.state,c=this.pureShouldComponentUpdate(o,s);if(c&&u==s&&l!=o){var f=o.dragging.id||l.dragging.id,d=f==o.id,p=[];for(var v in o){var h=o[v]!=l[v];v=="dragging"&&!d&&(h=!1),h&&p.push(v)}p.length||(c=!1)}return c}},{key:"render",value:function(){var o=this.props.dragging.id==this.props.id,s=fce(this.props.config,this.props.field),l=this.props.fieldType||(s==null?void 0:s.type)||null,u=this.props.config.settings.showErrorMessage;s&&s.type=="!struct";var c=!o&&this.props.isDraggingTempo,f=this.props,d=f.valueError,p=f.fieldError,v=[p].concat(Ce((d==null?void 0:d.toArray())||[])).filter(function(g){return!!g}).shift()||null,h=v!=null&&u;return j.createElement("div",{className:Oi("group-or-rule-container","rule-container",h?"rule-with-error":null),"data-id":this.props.id},[o?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:o,isDraggingTempo:c,onDragStart:this.props.onDragStart,setLock:c?this.dummyFn:this.setLock,removeSelf:c?this.dummyFn:this.removeSelf,setField:c?this.dummyFn:this.setField,setFieldSrc:c?this.dummyFn:this.setFieldSrc,setFuncValue:c?this.dummyFn:this.setFuncValue,setOperator:c?this.dummyFn:this.setOperator,setOperatorOption:c?this.dummyFn:this.setOperatorOption,setValue:c?this.dummyFn:this.setValue,setValueSrc:c?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),r.propTypes={id:U.string.isRequired,groupId:U.string,config:U.object.isRequired,path:U.any.isRequired,operator:U.string,field:U.any,fieldSrc:U.string,fieldType:U.string,actions:U.object.isRequired,onDragStart:U.func,value:U.any,valueSrc:U.any,asyncListValues:U.array,valueError:U.any,fieldError:U.string,operatorOptions:U.object,reordableNodesCnt:U.number,parentField:U.string,isLocked:U.bool,isTrueLocked:U.bool,dragging:U.object,isDraggingTempo:U.bool},r};const pce=function(t){var e=sp(function(r){return{dragging:r.dragging}},null,null,{context:of})(dce(t));return e.displayName="ConnectedRuleContainer",e};function hce(t,e,r){return e=Fe(e),er(t,ZP()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZP=function(){return!!t})()}var yx=it.clone,vce=it.TreeUtils.getFlatTree,Dg=!1,gce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r=function(i){function a(o){var s;return Jt(this,a),s=hce(this,a,[o]),s._getEventTarget=function(l,u){return l&&l.__mocked_window||document.body||window},s.onDragStart=function(l,u,c){var f=u.closest(".query-builder");s._isUsingLegacyReactDomRender===void 0&&(s._isUsingLegacyReactDomRender=UP(f)),document.body.classList.add("qb-dragging"),f.classList.add("qb-dragging");var d=f.closest(".query-builder-container")||f;d=s._getScrollParent(d)||document.body;var p=d.scrollTop;s._getDraggableNodeEl(f),s._getPlaceholderNodeEl(f);var v=f.querySelectorAll(".group--children"),h=v.length?v[0]:null,g;h&&(g=window.getComputedStyle(h,null).getPropertyValue("padding-left"),g=parseInt(g));var y={id:l,x:u.offsetLeft,y:u.offsetTop,w:u.offsetWidth,h:u.offsetHeight,itemInfo:s.tree.items[l],paddingLeft:g},m={id:l,x:u.offsetLeft,y:u.offsetTop,scrollTop:p,clientX:c.clientX,clientY:c.clientY,itemInfo:yx(s.tree.items[l]),treeEl:f,treeElContainer:d},_={clientX:c.clientX,clientY:c.clientY},b=s._getEventTarget(c,m);s.eventTarget=b,b.addEventListener("mousemove",s.onDrag),b.addEventListener("mouseup",s.onDragEnd),s.props.setDragStart(m,y,_)},s.onDrag=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=Object.assign({},s.props.dragging),f=s.props.dragStart,d=c.paddingLeft,p=f.treeElContainer,v=p.scrollTop;if(c.itemInfo=s.tree.items[c.id],!!c.itemInfo){var h={clientX:l.clientX,clientY:l.clientY},g={clientX:f.clientX,clientY:f.clientY};if(l.__mock_dom){var y=f.treeEl,m=s._getDraggableNodeEl(y),_=s._getPlaceholderNodeEl(y);l.__mock_dom({treeEl:y,dragEl:m,plhEl:_})}if(!f.plX){var b=f.treeEl,S=s._getPlaceholderNodeEl(b);S&&(f.plX=S.getBoundingClientRect().left+window.scrollX,f.plY=S.getBoundingClientRect().top+window.scrollY)}var O=f.x,x=f.y,C=f.clientX,I=f.clientY,E=f.scrollTop,k={x:O+(l.clientX-C),y:x+(l.clientY-I)+(v-E)};c.x=k.x,c.y=k.y,c.paddingLeft=d,c.mousePos=h,c.startMousePos=g,s.props.setDragProgress(h,c);var w=u?s.handleDrag(c,l,n):!1;w||l.preventDefault&&l.preventDefault()}},s.onDragEnd=function(){var l=s.props.dragStart.treeEl;s.props.setDragEnd(),l.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),s._cacheEls={};var u=s.eventTarget||s._getEventTarget();u.removeEventListener("mousemove",s.onDrag),u.removeEventListener("mouseup",s.onDragEnd)},s.pureShouldComponentUpdate=fu(s),Mn(s),s.onPropsChanged(o),s}return Yt(a,i),Kt(a,[{key:"onPropsChanged",value:function(s){this.tree=vce(s.tree)}},{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=[];for(var p in s){var v=s[p]!=u[p];v&&p!="dragging"&&p!="mousePos"&&d.push(p)}d.length||(f=!1)}return f}},{key:"componentDidUpdate",value:function(s,l){var u=this.props.dragging,c=this.props.dragStart;if(Dg=!1,c&&c.id&&(u.itemInfo=this.tree.items[u.id],u.itemInfo&&(u.itemInfo.index!=c.itemInfo.index||u.itemInfo.parent!=c.itemInfo.parent))){var f=c.treeEl,d=c.treeElContainer,p=this._getPlaceholderNodeEl(f,!0);if(p){var v=p.getBoundingClientRect().left+window.scrollX,h=p.getBoundingClientRect().top+window.scrollY,g=c.plX,y=c.plY,m=d.scrollTop;c.plX=v,c.plY=h,c.itemInfo=yx(u.itemInfo),c.y=p.offsetTop,c.x=p.offsetLeft,c.clientY+=h-y,c.clientX+=v-g,d!=document.body&&(c.scrollTop=m),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(l==null)return null;this._cacheEls||(this._cacheEls={});var c=this._cacheEls[l];return c&&document.contains(c)&&!u||(c=s.querySelector('.group-or-rule-container[data-id="'+l+'"]'),this._cacheEls[l]=c),c}},{key:"_getDraggableNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.draggable;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-draggable");return u=c.length?c[0]:null,this._cacheEls.draggable=u,u}},{key:"_getPlaceholderNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.placeholder;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-placeholder");return u=c.length?c[0]:null,this._cacheEls.placeholder=u,u}},{key:"_isScrollable",value:function(s){var l=window.getComputedStyle(s)["overflow-y"];return(l==="scroll"||l==="auto")&&s.scrollHeight>s.offsetHeight}},{key:"_getScrollParent",value:function(s){return s==null?null:s===document.body||this._isScrollable(s)?s:this._getScrollParent(s.parentNode)}},{key:"handleDrag",value:function(s,l,u){var c=this,f=!0,d=s.itemInfo,p=s.paddingLeft,v=null,h=this.props.dragStart.treeEl,g=s.id,y=this._getDraggableNodeEl(h),m=this._getPlaceholderNodeEl(h),_,b,S,O;if(y&&m){if(_=y.getBoundingClientRect(),b=m.getBoundingClientRect(),!b.width)return;var x={hrz:0,vrt:0};_.top<b.top?x.vrt=-1:_.bottom>b.bottom&&(x.vrt=1),_.left>b.left?x.hrz=1:_.left<b.left&&(x.hrz=-1),O=h.getBoundingClientRect();var C={x:O.left+(O.right-O.left)/2,y:x.vrt>=0?_.bottom:_.top},I;if(l.__mocked_hov_container)I=l.__mocked_hov_container;else{var E=document.elementFromPoint(C.x,C.y-1);if(I=E?E.closest(".group-or-rule-container"):null,!I&&E&&E.classList.contains("query-builder-container")){var k,w=E==null||(k=E.firstChild)===null||k===void 0?void 0:k.firstChild;w&&w.classList.contains("group-or-rule-container")&&(I=w)}}if(!I)tce.log("out of tree bounds!");else{var A=I.classList.contains("group-container"),P=I.getAttribute("data-id"),F=I,D=!1,R=!1;if(F){S=F.getBoundingClientRect();var G=S.bottom-S.top,V=this.tree.items[P];if(!V)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var $=null,L=null,N=null,B=null;if(x.vrt==0)N=d,L=m,L&&($=L.getBoundingClientRect());else if(A){if(x.vrt>0){var H=I.getElementsByClassName("group--header"),z=H.length?H[0]:null;if(z){var M=z.getBoundingClientRect(),W=M.bottom-M.top,q=_.bottom-M.top>W*3/4;q&&V.top>s.itemInfo.top&&(N=V,$=M,L=z,R=!0)}}else if(x.vrt<0&&V.lev>=d.lev){var Y=S.bottom-_.top>=2;Y&&V.top<s.itemInfo.top&&(N=V,$=S,L=F,D=!0)}if(!R&&!D||f){var K=x.vrt<0?S.bottom-_.top>G-5:_.bottom-S.top>G-5;K&&(!R&&!D&&(N=V,$=S,L=F),B=V)}}else{var ie=x.vrt<0?S.bottom-_.top>G/2:_.bottom-S.top>G/2;ie&&(N=V,$=S,L=F)}var te=N&&N.id==g;if($){var ae=_.left-O.left;$.left-O.left;var ue=Math.max(0,Math.round(ae/p)),fe=[],pe=[];if(!te){if(A&&(D?fe.push([qo,N,N.lev+1]):R&&fe.push([Ms,N,N.lev+1]),B)){var Se=B.lev==0,Q=B.type=="case_group"&&d.type!="case_group",re=B.prev&&this.tree.items[B.prev].caseId,de=B.next&&this.tree.items[B.next].caseId;d.caseId==re&&(re=null),d.caseId==de&&(de=null);var ve=re&&this.tree.items[re],ee=de&&this.tree.items[de];x.vrt>0?Se?pe.push([qo,B,B.lev+1]):Q&&ee?pe.push([Ms,ee,ee.lev+1]):pe.push([qf,B,B.lev]):x.vrt<0&&(Se?pe.push([Ms,B,B.lev+1]):Q&&ve?pe.push([qo,ve,ve.lev+1]):pe.push([zf,B,B.lev]))}!D&&!R&&(x.vrt<0?fe.push([zf,N,N.lev]):x.vrt>0&&fe.push([qf,N,N.lev]))}var me=function(Pe){var Be=Pe[1],Ne=d.caseId?c.tree.items[d.caseId]:null,ot=Be.caseId?c.tree.items[Be.caseId]:null;return[].concat(Ce(Pe),[Ne,ot])};fe=fe.map(me),pe=pe.map(me),fe=fe.filter(function(he){var Pe=he[0],Be=he[1];if((Pe==zf||Pe==qf)&&Be.parent==null||Be.collapsed&&(Pe==qo||Pe==Ms))return!1;var Ne=Be.id==d.id;if(!Ne){for(var ot=Be;ot.parent;)if(ot=c.tree.items[ot.parent],ot.id==d.id){Ne=!0;break}}return!Ne}).map(function(he){var Pe=he[0],Be=he[1];he[2],he[3],he[4];var Ne=null;return Pe==qo||Pe==Ms?Ne=Be:Ne=c.tree.items[Be.parent],Ne&&Ne.parent==null&&(Ne=null),he[5]=Ne,he});var Oe=null,we=fe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)});we.length==0&&pe.length>0&&(we=pe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)}));var Je=we.map(function(he){return he[2]}),at=d.lev,ce=Je.concat(at),ge=null;ce.indexOf(ue)!=-1?ge=ue:ue>Math.max.apply(Math,Ce(ce))?ge=Math.max.apply(Math,Ce(ce)):ue<Math.min.apply(Math,Ce(ce))&&(ge=Math.min.apply(Math,Ce(ce))),Oe=we.find(function(he){return he[2]==ge}),!te&&!Oe&&we.length&&(Oe=we[0]),v=Oe}}}}return v?(this.move(d,v[1],v[0],v[3]),!0):!1}},{key:"canMove",value:function(s,l,u,c,f,d,p){if(!s||!l||s.id===l.id)return!1;var v=this.props.config.settings,h=v.canRegroup,g=v.canRegroupCases,y=v.maxNesting,m=v.maxNumberOfRules,_=v.canLeaveEmptyCase,b=d?d.lev+1:l.lev,S=b+(s.depth||0),O=u==zf||u==qf,x=u==Ms||u==qo,C=O&&l.lev==1||x&&l.lev==0,I=s.parent!=l.parent,E=x||I,k=s.type=="case_group"&&!C||s.parentType=="rule_group"||l.type=="rule_group"||l.parentType=="rule_group"||s.type!="case_group"&&l.type=="case_group"&&O||s.type!="case_group"&&l.type=="switch_group"||!g&&s.caseId!=l.caseId,w=l.isLocked||s.isLocked||d&&d.isLocked;if(y&&S>y||E&&(!h||k||w))return!1;if(s.type!="case_group"&&s.caseId!=l.caseId){var A=c?c._height==2:!1,P=f?f.atomicRulesCountInCase+1:0;if(m&&P>m||A&&!_)return!1}if(s.type=="case_group"&&(s.isDefaultCase||l.isDefaultCase||l.type=="switch_group"&&u==qo))return!1;var F=!0;return p&&(F=p(s.node.toJS(),l.node.toJS(),u,d?d.node.toJS():null)),F}},{key:"move",value:function(s,l,u,c){this._isUsingLegacyReactDomRender||(Dg=!0),this.props.actions.moveItem(s.path,l.path,u)}},{key:"render",value:function(){return j.createElement(e,oe({},this.props,{onDragStart:this.onDragStart}))}}])}(J.Component),r.propTypes={tree:U.any.isRequired,actions:U.object.isRequired},r};const mce=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=sp(function(n){return{dragging:n.dragging,dragStart:n.dragStart,mousePos:n.mousePos}},{setDragStart:Uue,setDragProgress:Hue,setDragEnd:Gue},null,{context:of})(gce(t,e));return r.displayName="ConnectedSortableContainer",r};var yce=["isDraggingTempo","isDraggingMe","dragging"];function bce(t,e,r){return e=Fe(e),er(t,eF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eF=function(){return!!t})()}const du=function(t){return function(e){var r;return r=function(n){function i(a){var o;return Jt(this,i),o=bce(this,i,[a]),o.handleDraggerMouseDown=function(s){var l=o.props.id,u=o.wrapper.current;o.props.onDragStart&&o.props.onDragStart(l,u,s)},o.wrapper=j.createRef(),o}return Yt(i,n),Kt(i,[{key:"render",value:function(){var o=this.props,s=o.isDraggingTempo,l=o.isDraggingMe,u=o.dragging,c=ti(o,yce),f=c.isTrueLocked,d={};l&&s&&(Dg||(d={top:u.y,left:u.x,width:u.w}));var p=Oi(t,"group-or-rule",l&&s?"qb-draggable":null,l&&!s?"qb-placeholder":null,f?"locked":null);return j.createElement("div",{className:p,style:d,ref:this.wrapper,"data-id":this.props.id},j.createElement(e,oe({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:l,isDraggingTempo:s},c)))}}])}(J.PureComponent),r.propTypes={isDraggingTempo:U.bool,isDraggingMe:U.bool,onDragStart:U.func,dragging:U.object,isLocked:U.bool,isTrueLocked:U.bool},r}};var _ce=Qp,Sce=M0,Oce=EI,xce=l0;function wce(t,e){if(t==null)return{};var r=_ce(xce(t),function(n){return[n]});return e=Sce(e),Oce(t,r,function(n,i){return e(n,i[0])})}var Ece=wce;const Cce=tn(Ece);function bx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return e=Fe(e),er(t,tF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tF=function(){return!!t})()}var rF=it.ConfigUtils,Ice=rF.getFieldConfig,Ace=rF.getOperatorConfig,nF=function(t){function e(r){var n;return Jt(this,e),n=kce(this,e,[r]),n.shouldComponentUpdate=dh(n,{selectedField:function(a,o){return!1}}),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.selectedField,s=n.selectedFieldType,l=n.selectedOperator,u=Ice(a,o),c=Ce((u==null?void 0:u.operators)||((i=a.types[s])===null||i===void 0?void 0:i.operators)||[]);!o&&!c.includes(l)&&c.push(l);var f=fh(Cce(a.operators,function(b,S){return(c==null?void 0:c.indexOf(S))!==-1}),function(b,S){return Ace(a,S,o)}),d=this.buildOptions(a,f,c),p=f[l]||{},v=this.props.config.settings.operatorPlaceholder,h=l,g=h?[h]:null,y=g,m=p.label,_=p.label2||p.tooltip;return{placeholder:v,items:d,selectedKey:h,selectedKeys:g,selectedPath:y,selectedLabel:m,selectedAltLabel:_,selectedOpts:p,fieldConfig:u}}},{key:"buildOptions",value:function(n,i,a){return!i||!a?null:xl(i).sort(function(o,s){return a.indexOf(o)-a.indexOf(s)}).map(function(o){var s=i[o],l=s.label,u=s.label2,c=s.tooltip;return{key:o,path:o,label:l,altLabel:u,tooltip:c}})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setOperator,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderOperator,f=Tce({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:o},this.meta);return f.items?c(f,i.ctx):null}}])}(J.Component);nF.propTypes={id:U.string,groupId:U.string,config:U.object.isRequired,selectedField:U.any,selectedFieldId:U.string,selectedFieldType:U.string,selectedFieldSrc:U.string,selectedOperator:U.string,readonly:U.bool,customProps:U.object,setOperator:U.func.isRequired};var jce=["children"],zr=function(e){var r=e.children,n=ti(e,jce);return j.createElement("div",n,r)},Tn=function(){},iF=function(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},j.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},pu=function(e){return function(r){var n=r.config.settings.useConfirm,i=n?n.call(r.config.ctx,r.config.ctx):null;return j.createElement(e,oe({},r,{confirmFn:i}))}},aF=function(e){var r=e.id,n=e.isLHS,i=e.delta,a=e.parentFuncs;return[r,n?"L":"R",n?-1:i||0,(a||[]).map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"(").concat(u,")")}).join("/")].join(":")},kn=function(e,r){var n;return typeof r=="function"?(n=function(a){return r==null?void 0:r(a,e.ctx)},n.displayName=r.name):n=r,n};function Pce(t,e,r){return e=Fe(e),er(t,oF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oF=function(){return!!t})()}var sF=function(t){function e(){return Jt(this,e),Pce(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.setOperator,c=n.selectedFieldId,f=n.showOperator,d=n.showOperatorLabel,p=n.selectedFieldWidgetConfig,v=n.readonly,h=n.id,g=n.groupId,y=f&&j.createElement(zr,{key:"operators-for-"+c,className:"rule--operator"},i.settings.showLabels&&j.createElement("label",{className:"rule--label"},i.settings.operatorLabel),j.createElement(nF,{key:"operator",config:i,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,selectedFieldId:c,selectedOperator:l,setOperator:u,customProps:i.settings.customOperatorSelectProps,readonly:v,id:h,groupId:g})),m=d&&j.createElement(zr,{key:"operators-for-"+c,className:"rule--operator"},j.createElement("div",{className:"rule--operator-wrapper"},i.settings.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null,j.createElement("div",{className:"rule--operator-text-wrapper"},j.createElement("span",{className:"rule--operator-text"},p.operatorInlineLabel))));return[y,m]}}])}(J.PureComponent);function _x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lce(t,e,r){return e=Fe(e),er(t,lF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lF=function(){return!!t})()}var Sx=it.RuleUtils.getFieldPathLabels,q0=it.ConfigUtils,Ox=q0.getFieldConfig,xx=q0.getFieldParts,wx=q0.getFieldPathParts,uF=function(t){function e(r){var n;return Jt(this,e),n=Lce(this,e,[r]),n.setField=function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.props.id;if(!o.widgetId){var l=[s,"L",-1].join(":");o.widgetId=l}n.props.setField(i,a,o)},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.config,s=n.parentField,l=i,u=o.settings,c=u.maxLabelsLength,f=u.fieldSeparatorDisplay,d=u.fieldPlaceholder;u.fieldSeparator;var p=!!i,v=p?null:Xd(d,c),h=p?Ox(o,l):null,g=h||{},y=wx(l,o),m=wx(l,o,!0),_=this.getFieldLabel(h,l,o),b=Sx(l,o),S=b?b.join(f):null;(S==_||s)&&(S=null);var O=g.label2||g.tooltip,x=xx(s,o),C=s?Ox(o,s):null,I=s?C&&C.subfields:o.fields,E=!p&&a,k=this.buildOptions(x,o,I,E,x),w=E?"Please select field":null;return l&&xt(l)==="object"&&(l=void 0),{placeholder:v,items:k,parentField:s,selectedKey:l,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedAltLabel:O,selectedFullLabel:S,errorText:w}}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=xx(i,a),l=(n==null?void 0:n.label)||th(s);return l=Xd(l,o),l}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(!a)return null;var c=i.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"",v=function h(g){return Object.keys(g||{}).reduce(function(y,m){var _=g[m];return _.type==="!struct"?y+h(_.subfields):y+(_.type===s?1:0)},0)};return xl(a).map(function(h){var g=[].concat(Ce(l!=null?l:[]),[h]),y=a[h],m=o.getFieldLabel(y,g,i),_=Sx(g,i),b=_.join(d);(b==m||n!=null&&n.length)&&(b=null);var S=y.label2,O=y.tooltip,x=y.disabled;if(!y.hideForSelect)if(y.type=="!struct"){var C=o.buildOptions(n,i,y.subfields,s,g,{label:m,tooltip:O}),I=v(y.subfields)>0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,items:C,matchesType:I}}else{var E=s!==void 0?y.type===s:void 0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,grouplabel:u==null?void 0:u.label,group:u,matchesType:E}}}).filter(function(h){return!!h})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setFieldSrc,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Fce({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:this.setField,setFieldSrc:o},this.meta);return c(f,i.ctx)}}])}(J.Component);uF.propTypes={id:U.string,groupId:U.string,config:U.object.isRequired,selectedField:U.any,selectedFieldSrc:U.string,selectedFieldType:U.string,parentField:U.string,customProps:U.object,readonly:U.bool,setField:U.func.isRequired,setFieldSrc:U.func};function Ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ce(t,e,r){return e=Fe(e),er(t,cF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cF=function(){return!!t})()}var Nce=it.clone,ph=it.ConfigUtils,Dce=ph.getFieldConfig,Cx=ph.getFuncConfig,Mce=ph.getFieldParts,Tx=ph.getFieldPathParts,fF=it.RuleUtils,kx=fF.getFuncPathLabels,Vce=fF.getWidgetForFieldOp,Bce=it.OtherUtils.shallowEqual,dF=function(t){function e(r){var n;return Jt(this,e),n=$ce(this,e,[r]),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"],o=["config","field","fieldType","fieldSrc","value","isLHS"],s=!this.items||a.map(function(u){return u==="parentFuncs"?!Bce(n[u],i[u],!0):n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;l&&(this.meta=this.getMeta(n)),s&&(this.items=this.getItems(n,this.meta))}},{key:"getItems",value:function(n,i){var a=n.config,o=n.field,s=n.fieldType,l=n.isLHS,u=n.operator,c=n.parentFuncs,f=n.fieldDefinition,d=n.isFuncArg,p=i.lookingForFieldType,v=a.settings.canUseFuncForField,h=this.filterFuncs(a,a.funcs,o,s,l,u,v,c,d,f),g=this.buildOptions(a,h,p);return g}},{key:"getMeta",value:function(n){var i=n.config;n._field;var a=n.fieldType,o=n.value,s=n.isLHS,l=n.isFuncArg,u=i.settings,c=u.funcPlaceholder,f=u.fieldSeparatorDisplay,d=o,p=!!o,v=p?null:c,h=p?Cx(i,d):null,g=h||{},y=Tx(d,i),m=Tx(d,i,!0),_=this.getFuncLabel(h,d,i),b=kx(d,i),S=b?b.join(f):null;S==_&&(S=null);var O=s&&!l,x=O&&!p&&a,C=x?"Please select function":null;return{placeholder:v,selectedKey:d,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedFullLabel:S,errorText:C,lookingForFieldType:x}}},{key:"filterFuncs",value:function(n,i,a,o,s,l,u,c,f,d){i=Nce(i);var p=n.settings.fieldSeparator,v=Dce(n,a),h,g=v,y=Vce(n,a,l,"value");y&&n.widgets[y],f?(g=d,h=d==null?void 0:d.type):v?h=v.type:s||(h=o);function m(_,b){for(var S in _){var O=_[S].subfields,x=(b||[]).concat(S),C=x.join(p),I=Cx(n,C);if(I.type=="!struct")m(O,x)==0&&delete _[S];else{var E,k=!h||I.returnType==h;(E=g)!==null&&E!==void 0&&E.funcs&&(k=k&&g.funcs.includes(C)),u&&(k=k&&u(a,v,C,I,l)),!I.allowSelfNesting&&c&&c.map(function(w){var A=ke(w,2),P=A[0];return A[1],P}).includes(C)&&(k=!1),k||delete _[S]}}return xl(_).length}return m(i,[]),i}},{key:"buildOptions",value:function(n,i){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!i)return null;var u=n.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"",p=function v(h){return Object.keys(h||{}).reduce(function(g,y){var m=h[y];return m.type==="!struct"?g+v(m.subfields):g+(m.type===o?1:0)},0)};return xl(i).map(function(v){var h=[].concat(Ce(s!=null?s:[]),[v]),g=i[v],y=a.getFuncLabel(g,h,n),m=kx(h,n),_=m.join(f);_==y&&(_=null);var b=g.tooltip;if(g.type=="!struct"){var S=a.buildOptions(n,g.subfields,o,h,{label:y,tooltip:b}),O=p(g.subfields)>0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,items:S,matchesType:O}}else{var x=o!==void 0?g.returnType===o:void 0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l,matchesType:x}}})}},{key:"getFuncLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Mce(i,a),l=(n==null?void 0:n.label)||th(s);return l=Xd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderFunc,f=Rce({config:i,customProps:a,readonly:s,setField:o,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);dF.propTypes={id:U.string,groupId:U.string,config:U.object.isRequired,field:U.any,fieldType:U.string,fieldSrc:U.string,operator:U.string,customProps:U.object,value:U.string,setValue:U.func.isRequired,readonly:U.bool,parentFuncs:U.array,fieldDefinition:U.object,isFuncArg:U.bool,isLHS:U.bool};var qce=Math.ceil,zce=Math.max;function Hce(t,e,r,n){for(var i=-1,a=zce(qce((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Uce=Hce,Gce=/\s/;function Wce(t){for(var e=t.length;e--&&Gce.test(t.charAt(e)););return e}var Yce=Wce,Kce=Yce,Jce=/^\s+/;function Qce(t){return t&&t.slice(0,Kce(t)+1).replace(Jce,"")}var Xce=Qce,Zce=Xce,Ix=Ei,efe=Jp,Ax=NaN,tfe=/^[-+]0x[0-9a-f]+$/i,rfe=/^0b[01]+$/i,nfe=/^0o[0-7]+$/i,ife=parseInt;function afe(t){if(typeof t=="number")return t;if(efe(t))return Ax;if(Ix(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ix(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zce(t);var r=rfe.test(t);return r||nfe.test(t)?ife(t.slice(2),r?2:8):tfe.test(t)?Ax:+t}var pF=afe,ofe=pF,jx=1/0,sfe=17976931348623157e292;function lfe(t){if(!t)return t===0?t:0;if(t=ofe(t),t===jx||t===-jx){var e=t<0?-1:1;return e*sfe}return t===t?t:0}var hF=lfe,ufe=Uce,cfe=Nj,pv=hF;function ffe(t){return function(e,r,n){return n&&typeof n!="number"&&cfe(e,r,n)&&(r=n=void 0),e=pv(e),r===void 0?(r=e,e=0):r=pv(r),n=n===void 0?e<r?1:-1:pv(n),ufe(e,r,n,t)}}var dfe=ffe,pfe=dfe,hfe=pfe(),vfe=hfe;const Mg=tn(vfe);var gfe=["widgetFactory"],mfe=["factory"];function Px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Fx=it.ListUtils.getTitleInListValues,yfe=it.ConfigUtils._widgetDefKeysToOmit,vF=it.TreeUtils,bfe=vF._fixImmutableValue,_fe=vF.isImmutable,gF=J.memo(function(t){var e=t.widgetFactory,r=ti(t,gfe),n=r.config,i=r.isFuncArg,a=r.fieldDefinition,o=a||{},s=o.fieldSettings,l=o.defaultValue,u=o.valueSources,c=i&&(u==null?void 0:u.length)==1&&(u==null?void 0:u[0])==="const",f=(s==null?void 0:s.treeValues)||(s==null?void 0:s.listValues);return c&&l?typeof l=="boolean"?l?r.labelYes||"YES":r.labelNo||"NO":f?Array.isArray(l)?l.map(function(d){return Fx(f,d)||d}).join(", "):Fx(f,l)||l:""+l:e?e(r,n.ctx):"?"});gF.displayName="WidgetFactoryMemo";var mF=function(e){var r=e.delta,n=e.isFuncArg,i=e.valueSrc,a=e.value,o=e.valueError,s=e.fieldError,l=e.asyncListValues,u=e.isSpecialRange,c=e.fieldDefinition,f=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,v=e.valueLabels,h=e.textSeparators,g=e.setValue,y=e.setFuncValue,m=e.config,_=e.field,b=e.fieldSrc,S=e.fieldPath,O=e.fieldType,x=e.isLHS,C=e.operator,I=e.readonly,E=e.parentField,k=e.parentFuncs,w=e.id,A=e.groupId,P=e.widgetId,F=d.factory,D=ti(d,mfe),R=a?a.map(function(q){return bfe(q)}):void 0,G=J.useMemo(function(){if(u){var q=[R==null?void 0:R.get(0),R==null?void 0:R.get(1)];return q[0]===void 0&&q[1]===void 0&&(q=void 0),q}return R==null?void 0:R.get(r)},[u,a]),V=J.useMemo(function(){return o?u?[o.get(0),o.get(1),o.get(2)]:o==null?void 0:o.get(r):null},[u,a]),$=x?s:V,L=c||{},N=L.fieldSettings,B=p.label,H=p.placeholder,z=v?v.placeholder:null,M=_fe(_)?null:_,W=Co(hv(hv(hv({},D),N),{},{config:m,field:M,fieldPath:S,fieldSrc:b,fieldType:O,isLHS:x,parentField:E,parentFuncs:k,fieldDefinition:c,operator:C,delta:r,isSpecialRange:u,isFuncArg:n,value:G,valueSrc:i,valueError:V,fieldError:s,errorMessage:$,label:B,placeholder:H,placeholders:z,textSeparators:h,setValue:g,setFuncValue:y,readonly:I,asyncListValues:l,id:w,groupId:A,widgetId:P,widgetFactory:F,widget:f}),[].concat(Ce(yfe),["toJS"]));return j.createElement(gF,oe({widgetFactory:F},W))};mF.displayName="WidgetFactory";function Sfe(t,e,r){return e=Fe(e),er(t,yF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yF=function(){return!!t})()}var z0=it.ConfigUtils,Ofe=z0.getFieldConfig,xfe=z0.getOperatorConfig,Lx=z0.getFieldWidgetConfig,H0=it.RuleUtils,wfe=H0.getValueSourcesForFieldOp,Rx=H0.getWidgetForFieldOp,Hf=H0.getValueLabel,$x=it.DefaultUtils.createListWithOneElement,Efe=it.OtherUtils.shallowEqual;it.TreeUtils.isImmutable;var Cfe={cardinality:1},sf=function(t){function e(r){var n;return Jt(this,e),n=Sfe(this,e,[r]),n._setValue=function(i,a,o,s,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};if(c.widgetId||(c.widgetId=s),i&&Array.isArray(l)){var f=[n.props.value.get(0),n.props.value.get(1)];f[0]!=l[0]&&n.props.setValue(0,l[0],o,u,c),f[1]!=l[1]&&n.props.setValue(1,l[1],o,u,c)}else n.props.setValue(a,l,o,u,c)},n._setValueSrc=function(i,a,o){var s={widgetId:a};n.props.setValueSrc(i,o,s)},n.renderWidget=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.value,d=o.valueError,p=o.fieldError,v=o.readonly,h=o.parentField,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.fieldSrc,b=o.fieldType,S=o.isLHS,O=o.setFuncValue,x=s.settings,C=a.widgets,I=a.iValues,E=a.aField,k=a.valueSources,w=l?I:f,A=l?u:E,P=C[i],F=P.valueSrc,D=P.valueLabel,R=P.widgetId,G=k.length>1&&!v,V=x.showLabels?j.createElement("label",{key:"label-"+R,className:"rule--label"},D.label):null;return j.createElement("div",{key:"wrapper-"+R,className:Oi(F==="func"?"widget--func":"widget--widget",G?"widget--has-valuerscs":"widget--has-no-valuerscs")},F==="func"?null:V,j.createElement(mF,oe({key:R,id:y,groupId:m,widgetId:R,valueSrc:F,delta:i,value:w,valueError:d,fieldError:p,isFuncArg:l,isLHS:S},ya(a,["isSpecialRange","fieldDefinition","asyncListValues"]),ya(C[i],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:O,config:s,field:A,fieldSrc:_,fieldType:b,parentField:h,parentFuncs:g,operator:c,readonly:v})))},n.renderValueSources=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.readonly,d=s.settings,p=a.valueSources,v=a.widgets,h=a.aField,g=a.valueSourcesOptions,y=l?u:h,m=v[i],_=m.valueSrc,b=m.setValueSrc,S=n.ValueSources,O=d.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return p.length>1&&!f&&j.createElement("div",{key:"wrapper-valuesrc-"+i,className:"widget--valuesrc"},O,j.createElement(S,{key:"valuesrc-"+i,delta:i,valueSources:g,valueSrc:_,config:s,field:y,operator:c,setValueSrc:b,readonly:f,title:d.valueSourcesPopupTitle}))},n.renderSep=function(i,a,o){var s=o.config,l=a.widgets,u=s.settings,c=l[i].sepText,f=u.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return c&&j.createElement("div",{key:"widget-separators-"+i,className:Oi("widget--sep",i==0&&"widget--sep-first")},f,j.createElement("span",null,c))},n.renderWidgetDelta=function(i){var a=n.renderSep(i,n.meta,n.props),o=n.renderValueSources(i,n.meta,n.props),s=n.renderWidget(i,n.meta,n.props);return[a,o,s]},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"],s=o.filter(function(f){return f==="parentFuncs"?!Efe(n[f],i[f],!0):f==="field"?n.fieldId!==i.fieldId:n[f]!==i[f]}),l=!this.meta||s.length>0;if(l&&(this.meta=this.getMeta(n,s)),a){var u=n.config,c=u.settings.renderValueSources;this.ValueSources=kn(u,c)}}},{key:"getMeta",value:function(n){var i,a,o,s,l=this,u=n.config,c=n.field;n.fieldSrc;var f=n.fieldType,d=n.fieldFunc,p=n.fieldArg,v=n.operator,h=n.valueSrc,g=n.value,y=n.isForRuleGroup,m=n.isCaseValue,_=n.isFuncArg;n.leftField;var b=n.asyncListValues,S=n.parentFuncs,O=n.isLHS,x=n.id,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=u.settings.valueSourcesInfo,E=_?{func:d,arg:p}:c,k=!c&&f,w=h,A=g;(_||y||m)&&(w=$x(h),A=$x(g));var P=Ofe(u,E);!P&&k&&(P=u.types[f]);var F=Rx(u,E,v);if(!F&&k){var D;F=(D=u.types[f])===null||D===void 0?void 0:D.mainWidget}var R=_?Cfe:xfe(u,v,E);if((P==null||R==null)&&!m)return null;var G=R==null?void 0:R.isSpecialRange,V=G&&(((i=w)===null||i===void 0?void 0:i.get(0))==="field"||((a=w)===null||a===void 0?void 0:a.get(1))==="field"),$=G&&!V,L=$?1:Jue(R);if(L===0)return null;var N=(o=this.meta)===null||o===void 0?void 0:o.valueSources,B=(s=this.meta)===null||s===void 0?void 0:s.valueSourcesOptions;(!N||["field","operator","config","fieldDefinition","isForRuleGroup"].filter(function(z){return C.includes(z)}).length)&&(N=wfe(u,E,v,P),y&&(N=["value"]),E||(N=Object.keys(I)),B=N.map(function(z){return[z,{label:I[z].label}]}));var H=Mg(0,L).map(function(z){var M,W,q,Y,K=(M=l.meta)===null||M===void 0||(M=M.widgets)===null||M===void 0?void 0:M[z],ie=((W=w)===null||W===void 0?void 0:W.get(z))||null,te=Rx(u,E,v,ie),ae=Lx(u,E,v,te,ie);V&&(te=ae.singleWidget,ae=Lx(u,E,v,te,ie)),!ae&&k&&(te=["func","field"].includes(ie)?ie:F,ae=u.widgets[te]);var ue=(q=ae)===null||q===void 0?void 0:q.type,fe=Hf(u,E,v,z,ie,$),pe=Hf(u,E,v,z,null,$),Se=R!=null&&R.textSeparators?R==null?void 0:R.textSeparators[z]:null,Q=null,re=null;G&&(Q=[Hf(u,E,v,0),Hf(u,E,v,1)],Q={placeholder:[Q[0].placeholder,Q[1].placeholder],label:[Q[0].label,Q[1].label]},re=R==null?void 0:R.textSeparators);var de=aF({id:x,isLHS:O,delta:z,parentFuncs:S}),ve=de+":VS",ee=K==null?void 0:K.setValueSrc;(!ee||(K==null?void 0:K.widgetId)!==de)&&(ee=l._setValueSrc.bind(l,z,ve));var me=K==null?void 0:K.setValue;return(!me||(K==null?void 0:K.widgetId)!==de||(K==null?void 0:K.widgetType)!==ue||((Y=l.meta)===null||Y===void 0?void 0:Y.isSpecialRange)!==G)&&(me=l._setValue.bind(l,G,z,ue,de)),{valueSrc:ie,valueLabel:fe,widget:te,sepText:Se,widgetDefinition:ae,widgetValueLabel:pe,valueLabels:Q,textSeparators:re,setValueSrc:ee,setValue:me,widgetId:de,widgetType:ue}});return{defaultWidget:F,fieldDefinition:P,operatorDefinition:R,isSpecialRange:$,cardinality:L,valueSources:N,valueSourcesOptions:B,widgets:H,iValues:A,aField:E,asyncListValues:b}}},{key:"render",value:function(){if(!this.meta)return null;var n=this.meta,i=n.defaultWidget,a=n.cardinality;if(!i)return null;var o=i;return j.createElement(zr,{className:"rule--widget rule--widget--".concat(o.toUpperCase()),key:"widget-col-"+o},Mg(0,a).map(this.renderWidgetDelta))}}])}(J.Component);sf.propTypes={config:U.object.isRequired,value:U.any,valueSrc:U.any,valueError:U.any,fieldError:U.string,field:U.any,fieldSrc:U.string,fieldType:U.string,fieldId:U.string,operator:U.string,readonly:U.bool,asyncListValues:U.array,id:U.string,groupId:U.string,setValue:U.func,setValueSrc:U.func,setFuncValue:U.func,isFuncArg:U.bool,fieldFunc:U.string,fieldArg:U.string,leftField:U.any,isForRuleGroup:U.bool,parentField:U.string,parentFuncs:U.array,isLHS:U.bool,isCaseValue:U.bool};function bF(t,e,r){return e=Fe(e),er(t,_F()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_F=function(){return!!t})()}var Tfe=it.ConfigUtils.getFuncConfig,SF=it.OtherUtils.shallowEqual,U0=function(t){function e(r){var n;return Jt(this,e),n=bF(this,e,[r]),n.setFunc=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.props,s=o.isLHS,l=o.delta,u=o.parentFuncs,c=o.id;if(!a.widgetId){var f=aF({id:c,isLHS:s,delta:l,parentFuncs:u});a.widgetId=f}n.props.setFuncValue(s?-1:l||0,u,null,i,"!func",void 0,a)},n.setArgValue=function(i,a,o,s,l){var u=n.props;u.config;var c=u.delta,f=u.isLHS,d=u.parentFuncs;n.props.setFuncValue(f?-1:c||0,d,i,a,o,s,l)},n.setArgValueSrc=function(i,a,o){var s=n.props;s.config;var l=s.delta,u=s.isLHS,c=s.parentFuncs;n.props.setFuncValue(u?-1:l||0,c,i,a,"!valueSrc",void 0,o)},n.renderFuncSelect=function(){var i,a,o=n.props,s=o.config,l=o.field,u=o.fieldType,c=o.fieldSrc,f=o.isLHS,d=o.operator,p=o.customProps,v=o.value,h=o.readonly,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.isFuncArg,b=o.fieldDefinition,S=(i=v==null||(a=v.get)===null||a===void 0?void 0:a.call(v,"func"))!==null&&i!==void 0?i:null,O={value:S,setValue:n.setFunc,config:s,field:l,fieldType:u,fieldSrc:c,isLHS:f,operator:d,customProps:p,readonly:h,parentFuncs:g,isFuncArg:_,fieldDefinition:b,id:y,groupId:m},x=s.settings,C=x.showLabels,I=x.funcLabel,E=C?j.createElement("label",{className:"rule--label"},I):null;return j.createElement(zr,{key:"func",className:"rule--func"},E,j.createElement(dF,O))},n.renderArgLabel=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=a.label,c=n.props.config,f=o&&o.length==1&&o[0]=="const",d=!c.settings.showLabels&&(s=="boolean"||f)&&l;return d?j.createElement(zr,{className:"rule--func--arg-label"},u||i):null},n.renderArgLabelSep=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=n.props.config,c=o&&o.length==1&&o[0]=="const",f=!u.settings.showLabels&&(s=="boolean"||c)&&l;return f?j.createElement(zr,{className:"rule--func--arg-label-sep"},":"):null},n.renderArgVal=function(i,a,o){var s=n.props,l=s.config,u=s.field,c=s.fieldType,f=s.fieldSrc,d=s.isLHS;s.operator;var p=s.value,v=s.readonly,h=s.parentFuncs,g=s.id,y=s.groupId,m=s.fieldError,_=s.valueError,b=s.setFuncValue,S=p?p.getIn(["args",a]):null,O=S?S.get("value"):void 0,x=o.valueSources.length==1?o.valueSources[0]:void 0,C=S?S.get("valueSrc")||x||"value":x,I={config:l,fieldFunc:i,fieldArg:a,leftField:u,fieldType:c,fieldSrc:f,fieldError:m,valueError:_,isLHS:d,operator:null,value:O,valueSrc:C,setValue:n.setArgValue,setValueSrc:n.setArgValueSrc,setFuncValue:b,funcKey:i,argKey:a,argDefinition:o,readonly:v,parentFuncs:h,id:g,groupId:y};return j.createElement(zr,{className:"rule--func--arg-value"},j.createElement(OF,I))},n.renderArgSep=function(i,a,o,s){var l=s.renderSeps;return o?j.createElement(zr,{className:"rule--func--arg-sep"},l?l[o-1]:", "):null},n.renderBracketBefore=function(i){var a=i.renderBrackets;return j.createElement(zr,{key:"before_args",className:"rule--func--bracket-before"},a?a[0]:"(")},n.renderBracketAfter=function(i){var a=i.renderBrackets;return j.createElement(zr,{key:"after_args",className:"rule--func--bracket-after"},a?a[1]:")")},n.renderFuncArgs=function(){var i=n.meta,a=i.funcDefinition,o=i.funcKey;if(!o)return null;var s=a||{},l=s.args;return l?j.createElement(j.Fragment,null,n.renderBracketBefore(a),j.createElement(zr,{key:"args-".concat(o),className:"rule--func--args rule--func--".concat(o,"--args")},Object.keys(l).map(function(u,c){return j.createElement(zr,{key:"arg-".concat(u,"-").concat(c),className:"rule--func--arg rule--func--".concat(o,"--arg--").concat(u)},n.renderArgSep(u,l[u],c,a),n.renderArgLabel(u,l[u]),n.renderArgLabelSep(u,l[u]),n.renderArgVal(o,u,l[u]))})),n.renderBracketAfter(a)):null},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","operator","value","fieldSrc","fieldType","isLHS"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!SF(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a,o=n.config;n.field,n.operator;var s=n.value,l=(i=s==null||(a=s.get)===null||a===void 0?void 0:a.call(s,"func"))!==null&&i!==void 0?i:null,u=l?Tfe(o,l):null;return{funcDefinition:u,funcKey:l}}},{key:"render",value:function(){var n=this.props.parentFuncs,i=n?n.map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"_").concat(u)}).join("-"):"root",a=(n==null?void 0:n.length)||0;return j.createElement(zr,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(i," rule--func--wrapper--lev-").concat(a)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(J.Component);U0.propTypes={id:U.string,groupId:U.string,config:U.object.isRequired,field:U.any,fieldSrc:U.string,fieldType:U.string,fieldError:U.string,operator:U.string,customProps:U.object,value:U.object,setValue:U.func.isRequired,setFuncValue:U.func,readonly:U.bool,parentFuncs:U.array,fieldDefinition:U.object,isFuncArg:U.bool,isLHS:U.bool,valueError:U.string};var OF=function(t){function e(r){var n;return Jt(this,e),n=bF(this,e,[r]),n.setValue=function(i,a,o,s,l){var u=n.props,c=u.setValue,f=u.argKey;c(f,a,o,s,l)},n.setValueSrc=function(i,a,o){var s=n.props,l=s.setValueSrc,u=s.argKey;l(u,a,o)},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["parentFuncs","funcKey","argKey"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!SF(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.parentFuncs,a=n.funcKey,o=n.argKey,s=[].concat(Ce(i||[]),[[a,o]]);return{parentFuncs:s}}},{key:"render",value:function(){var n=this.meta.parentFuncs;return j.createElement(sf,oe({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:n}))}}])}(J.Component);OF.propTypes={funcKey:U.string.isRequired,argKey:U.string.isRequired,setValue:U.func.isRequired,setValueSrc:U.func.isRequired,readonly:U.bool,isLHS:U.bool,parentFuncs:U.array,id:U.string,groupId:U.string};function kfe(t,e,r){return e=Fe(e),er(t,xF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xF=function(){return!!t})()}var G0=function(t){function e(r){var n;return Jt(this,e),n=kfe(this,e,[r]),n.renderField=function(){var i=n.props,a=i.config,o=i.classname,s=i.selectedField,l=i.selectedFieldSrc,u=i.selectedFieldType,c=i.setField,f=i.setFuncValue,d=i.parentField,p=i.readonly,v=i.id,h=i.groupId,g=i.fieldError,y=i.valueError,m=["func","field"];if(!m.includes(l))return"?";var _=l==="func"?j.createElement(U0,{isLHS:!0,config:a,value:s,fieldSrc:l,fieldType:u,fieldError:g,valueError:y,parentField:d,setValue:c,setFuncValue:f,readonly:p,id:v,groupId:h,key:"field-func-"+v}):j.createElement(uF,{config:a,selectedField:s,selectedFieldSrc:l,selectedFieldType:u,parentField:d,setField:c,customProps:a.settings.customFieldSelectProps,readonly:p,id:v,groupId:h,key:"field-"+v}),b=l==="func"?a.settings.funcLabel:a.settings.fieldLabel,S=a.settings.showLabels&&l!=="func"&&j.createElement("label",{className:"rule--label"},b);return j.createElement("div",{key:l,className:o},S,_)},n.renderFieldSources=function(){if(!n.meta)return null;var i=n.props,a=i.config,o=i.readonly,s=i.selectedFieldSrc,l=i.setFieldSrc,u=i.id,c=n.meta.fieldSourcesOptions,f=a.settings,d=n.ValueSources,p=f.showLabels?j.createElement("label",{className:"rule--label"},"Â "):null;return c.length>1&&!o&&j.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},p,j.createElement(d,{key:"fieldsrc-"+u,valueSources:c,valueSrc:s,config:a,setValueSrc:l,readonly:o,title:f.fieldSourcesPopupTitle}))},Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config"],s=!this.meta||o.map(function(c){return n[c]!==i[c]}).filter(function(c){return c}).length>0;if(s&&(this.meta=this.getMeta(n)),a){var l=n.config,u=l.settings.renderValueSources;this.ValueSources=function(c){return u(c,l.ctx)}}}},{key:"getMeta",value:function(n){var i=n.config,a=i.settings,o=a.valueSourcesInfo,s=a.fieldSources,l=s.map(function(u){return[u,{label:o[u].label}]});return{fieldSourcesOptions:l}}},{key:"render",value:function(){var n=this.props;n.classname;var i=n.canSelectFieldSource,a=i&&this.renderFieldSources(),o=this.renderField();return i?j.createElement(zr,{className:"rule--field-wrapper"},a,o):o}}])}(J.Component),Ife=["factory"];function Afe(t,e,r){return e=Fe(e),er(t,wF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wF=function(){return!!t})()}var jfe=it.ConfigUtils.getOperatorConfig,EF=function(t){function e(){return Jt(this,e),Afe(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var n=jfe(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof n.options>"u")return null;var i=n.options,a=i.factory,o=ti(i,Ife),s=Object.assign({},o,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),l=a(s,this.props.config.ctx),u=this.props.selectedOperator;return j.createElement("div",{className:"rule--operator rule--operator--".concat(u.toUpperCase())},l)}}])}(J.PureComponent);EF.propTypes={config:U.object.isRequired,operatorOptions:U.any.isRequired,selectedField:U.any,selectedFieldSrc:U.string,selectedOperator:U.string.isRequired,readonly:U.bool,setOperatorOption:U.func.isRequired};function Nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pfe(t,e,r){return e=Fe(e),er(t,CF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(CF=function(){return!!t})()}var hh=it.ConfigUtils,Ffe=hh.getFieldConfig,Lfe=hh.getOperatorConfig,Rfe=hh.getFieldWidgetConfig,$fe=hh.getFieldId,Nfe=it.RuleUtils.isEmptyRuleProperties,TF=function(t){function e(r){var n;return Jt(this,e),n=Pfe(this,e,[r]),Mn(n),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config),s=["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"],l=!this.meta||s.map(function(m){return n[m]!==a[m]}).filter(function(m){return m}).length>0;if(l&&(this.meta=this.getMeta(n)),o){var u=n.config,c=u.settings,f=c.renderIcon,d=c.renderButton,p=c.renderButtonGroup,v=c.renderSwitch,h=c.renderBeforeWidget,g=c.renderAfterWidget,y=c.renderRuleError;this.Icon=kn(u,f),this.Btn=kn(u,d),this.BtnGrp=kn(u,p),this.Switch=kn(u,v),this.BeforeWidget=kn(u,h),this.AfterWidget=kn(u,g),this.RuleError=kn(u,y)}this.doRemove=function(){i.props.removeSelf()}}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.selectedOperator,s=n.config,l=n.reordableNodesCnt,u=n.isLocked,c=s.settings.keepInputOnChangeFieldSrc,f=$fe(i,s),d=Ffe(s,i),p=d&&d.type==="!struct",v=c&&a,h=!!i||v,g=h&&o,y=Lfe(s,o,i),m=y&&y.options!=null,_=Rfe(s,i,o,null,null)||{},b=_.hideOperator,S=s.settings.canReorder&&l>1&&!u,O=h&&!b,x=h&&b&&_.operatorInlineLabel,C=g&&!p,I=g&&m;return{selectedFieldId:f,selectedFieldWidgetConfig:_,showDragIcon:S,showOperator:O,showOperatorLabel:x,showWidget:C,showOperatorOptions:I}}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeRuleConfirmOptions;l&&!this.isEmptyCurrentRule()?s.call(a.ctx,Dx(Dx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(n,i){var a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.operatorOptions,c=n.value,f=n.valueType,d=n.valueSrc,p=n.asyncListValues,v=n.valueError,h=n.fieldError,g=n.parentField,y=i.selectedFieldId;return{field:a,fieldSrc:o,fieldType:s,fieldId:y,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:d,asyncListValues:p,valueError:v,fieldError:h,parentField:g}}},{key:"isEmptyCurrentRule",value:function(){var n=this.props.config,i=this._buildWidgetProps(this.props,this.meta);return Nfe(i,n)}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.parentField,s=n.groupId,l=n.id,u=n.selectedFieldSrc,c=n.selectedField,f=n.selectedFieldType,d=n.setField,p=n.setFuncValue,v=n.setFieldSrc,h=n.fieldError,g=i.settings.immutableFieldsMode,y=this.meta.selectedFieldId;return j.createElement(G0,{key:"field",classname:Oi(u=="func"?"rule--field--func":"rule--field"),config:i,canSelectFieldSource:!o,selectedField:c,selectedFieldSrc:u,selectedFieldType:f,selectedFieldId:y,fieldError:h,setField:g?Tn:d,setFuncValue:g?Tn:p,setFieldSrc:g?Tn:v,parentField:o,readonly:g||a,id:l,groupId:s})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta,s=o.selectedFieldId,l=o.selectedFieldWidgetConfig,u=o.showOperator,c=o.showOperatorLabel,f=i.settings.immutableOpsMode;return j.createElement(sF,{key:"operator",config:i,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:s,selectedOperator:this.props.selectedOperator,setOperator:f?Tn:this.props.setOperator,showOperator:u,showOperatorLabel:c,selectedFieldWidgetConfig:l,readonly:f||a,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta.showWidget,s=i.settings.immutableValuesMode;if(!o)return null;var l=j.createElement(sf,oe({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:i,setValue:s?Tn:this.props.setValue,setValueSrc:s?Tn:this.props.setValueSrc,setFuncValue:s?Tn:this.props.setFuncValue,readonly:s||a,id:this.props.id,groupId:this.props.groupId}));return j.createElement(zr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},l)}},{key:"renderOperatorOptions",value:function(){var n=this.props.config,i=this.meta.showOperatorOptions,a=n.settings,o=a.immutableOpsMode,s=a.immutableValuesMode;if(!i)return null;var l=j.createElement(EF,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:o?Tn:this.props.setOperatorOption,config:n,readonly:s});return j.createElement(zr,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},l)}},{key:"renderBeforeWidget",value:function(){var n=this.BeforeWidget;return n?j.createElement(zr,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},j.createElement(n,this.props)):null}},{key:"renderAfterWidget",value:function(){var n=this.AfterWidget;return n?j.createElement(zr,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},j.createElement(n,this.props)):null}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=n.fieldError,s=i.settings.showErrorMessage,l=this.RuleError,u=[o].concat(Ce((a==null?void 0:a.toArray())||[])).filter(function(c){return!!c}).shift()||null;return s&&u&&j.createElement("div",{className:"rule--error"},l?j.createElement(l,{error:u}):u)}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.meta.showDragIcon,a=this.Icon,o=j.createElement(a,{type:"drag"});return i&&j.createElement("div",{key:"rule-drag-icon",onMouseDown:n,className:"qb-drag-handler rule--drag-handler"},o)}},{key:"renderDel",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=i.settings,s=o.deleteLabel,l=o.immutableGroupsMode,u=o.canDeleteLocked,c=this.Icon,f=this.Btn;return!l&&(!a||a&&u)&&j.createElement(f,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:s,config:i,renderIcon:c})}},{key:"renderLock",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.isTrueLocked,s=n.id,l=i.settings,u=l.lockLabel,c=l.lockedLabel,f=l.showLock,d=this.Switch;return f&&!(a&&!o)&&j.createElement(d,{key:"rule-lock",type:"lock",id:s,value:a,setValue:this.setLock,label:u,checkedLabel:c,hideLabel:!0,config:i})}},{key:"render",value:function(){var n=this.meta,i=n.showOperatorOptions,a=n.selectedFieldWidgetConfig,o=this.props,s=o.valueSrc,l=o.value,u=o.config,c=(s==null?void 0:s.first())=="value"&&!i&&l.size==1&&a.fullWidth,f=this.BtnGrp,d=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],p=j.createElement("div",{key:"rule-body",className:Oi("rule--body",c&&"can--shrink--value")},d),v=this.renderError(),h=this.renderDrag(),g=this.renderLock(),y=this.renderDel();return j.createElement(j.Fragment,null,h,j.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},p,v),j.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},j.createElement(f,{key:"rule-header-group",config:u},g,y)))}}])}(J.Component);TF.propTypes={id:U.string.isRequired,groupId:U.string,selectedField:U.any,selectedFieldSrc:U.string,selectedFieldType:U.string,selectedOperator:U.string,operatorOptions:U.object,config:U.object.isRequired,value:U.any,valueSrc:U.any,valueType:U.any,asyncListValues:U.array,isDraggingMe:U.bool,isDraggingTempo:U.bool,parentField:U.string,valueError:U.any,fieldError:U.string,isLocked:U.bool,isTrueLocked:U.bool,handleDraggerMouseDown:U.func,setField:U.func,setFieldSrc:U.func,setOperator:U.func,setOperatorOption:U.func,setLock:U.func,removeSelf:U.func,setValue:U.func,setValueSrc:U.func,setFuncValue:U.func,reordableNodesCnt:U.number,totalRulesCnt:U.number,parentReordableNodesCnt:U.number};const Dfe=pce(du("rule")(pu(TF)));function Mfe(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Vfe=Mfe,Bfe=hF;function qfe(t){var e=Bfe(t),r=e%1;return e===e?r?e-r:e:0}var zfe=qfe,Hfe=Vfe,Ufe=OI,Gfe=zfe,Wfe=xI;function Yfe(t,e,r){return t=Wfe(t),r=r==null?0:Hfe(Gfe(r),0,t.length),e=Ufe(e),t.slice(r,r+e.length)==e}var Kfe=Yfe;const Jfe=tn(Kfe);function Qfe(t,e,r){return e=Fe(e),er(t,kF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function kF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kF=function(){return!!t})()}var Xfe=it.DefaultUtils.defaultGroupConjunction,Zfe=function(e,r){var n;return n=function(i){function a(o){var s;return Jt(this,a),s=Qfe(this,a,[o]),s._selectedConjunction=function(l){return l=l||s.props,l.conjunction||Xfe(l.config,l.field)},s.setConjunction=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setConjunction(s.props.path,l)},s.setNot=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setNot(s.props.path,l)},s.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setLock(s.props.path,l)},s.dummyFn=function(){},s.removeSelf=function(){s.props.actions.removeGroup(s.props.path)},s.addGroup=function(){s.props.actions.addGroup(s.props.path)},s.addCaseGroup=function(){s.props.actions.addCaseGroup(s.props.path)},s.addDefaultCaseGroup=function(){s.props.actions.addDefaultCaseGroup(s.props.path)},s.addRule=function(){var l=r=="rule_group"?s.props.field:null;s.props.actions.addRule(s.props.path,void 0,void 0,void 0,l)},s.setField=function(l,u,c){s.props.actions.setField(s.props.path,l,u,c)},s.setOperator=function(l){s.props.actions.setOperator(s.props.path,l)},s.setValue=function(l,u,c,f,d){s.props.actions.setValue(s.props.path,l,u,c,f,d)},s.setValueSrc=function(l,u,c){s.props.actions.setValueSrc(s.props.path,l,u,c)},s.setFuncValue=function(l,u,c,f,d,p,v){s.props.actions.setFuncValue(s.props.path,l,u,c,f,d,p,v)},s.pureShouldComponentUpdate=fu(s),Mn(s),s.selectedConjunction=s._selectedConjunction(o),s.conjunctionOptions=s._getConjunctionOptions(o),s.dummyFn.isDummyFn=!0,s}return Yt(a,i),Kt(a,[{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=s.dragging.id||u.dragging.id,p=d==s.id,v=[];for(var h in s){var g=s[h]!=u[h];h=="dragging"&&!p&&(g=!1),g&&v.push(h)}v.length||(f=!1)}return f}},{key:"onPropsChanged",value:function(s){var l=s.config;s.id;var u=s.conjunction,c=this.props.config,f=this.props.conjunction;(c!=l||f!=u)&&(this.selectedConjunction=this._selectedConjunction(s),this.conjunctionOptions=this._getConjunctionOptions(s))}},{key:"_getConjunctionOptions",value:function(s){var l=this;return fh(s.config.conjunctions,function(u,c){return{id:"conjunction-".concat(s.id,"-").concat(c),name:"conjunction[".concat(s.id,"]"),key:c,label:u.label,checked:c===l._selectedConjunction(s)}})}},{key:"render",value:function(){var s=this.props.config.settings.showErrorMessage,l=this.props.dragging.id==this.props.id,u=this.props.path.size,c=this.props.config.settings.maxNesting,f=!l&&this.props.isDraggingTempo,d=this.props.fieldType||null,p=this.props.valueError,v=Ce((p==null?void 0:p.toArray())||[]).filter(function(m){return!!m}).shift()||null,h=v!=null&&s,g=typeof c>"u"||u<c,y=u==1;return j.createElement("div",{className:Oi("group-or-rule-container","group-container",h?"group-with-error":null),"data-id":this.props.id},[l?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:f,onDragStart:this.props.onDragStart,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:f?this.dummyFn:this.setConjunction,setNot:f?this.dummyFn:this.setNot,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,addGroup:f?this.dummyFn:this.addGroup,addCaseGroup:f?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:f?this.dummyFn:this.addDefaultCaseGroup,addRule:f?this.dummyFn:this.addRule,setField:f?this.dummyFn:this.setField,setFuncValue:f?this.dummyFn:this.setFuncValue,setOperator:f?this.dummyFn:this.setOperator,setValue:f?this.dummyFn:this.setValue,setValueSrc:f?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),n.propTypes={config:U.object.isRequired,actions:U.object.isRequired,path:U.any.isRequired,id:U.string.isRequired,groupId:U.string,not:U.bool,conjunction:U.string,children1:U.any,onDragStart:U.func,reordableNodesCnt:U.number,field:U.any,fieldSrc:U.string,fieldType:U.string,parentField:U.string,value:U.any,valueSrc:U.any,valueError:U.any,isLocked:U.bool,isTrueLocked:U.bool,dragging:U.object,isDraggingTempo:U.bool},n};const lf=function(t,e){var r=sp(function(n){return{dragging:n.dragging}},null,null,{context:of})(Zfe(t,e));return r.displayName="ConnectedGroupContainer",r};function ede(t,e,r){return e=Fe(e),er(t,IF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IF=function(){return!!t})()}var tde={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},rde="topRight",AF=function(t){function e(){return Jt(this,e),ede(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.removeSelf,l=n.setLock,u=n.isLocked,c=n.isTrueLocked,f=n.id,d=n.canAddGroup,p=n.canAddRule,v=n.canDeleteGroup,h=i.settings,g=h.immutableGroupsMode,y=h.addRuleLabel,m=h.addGroupLabel,_=h.delGroupLabel,b=h.groupActionsPosition,S=h.renderButton,O=h.renderIcon,x=h.renderSwitch,C=h.renderButtonGroup,I=h.lockLabel,E=h.lockedLabel,k=h.showLock,w=h.canDeleteLocked,A=function(B){return O(B,i.ctx)},P=function(B){return S(B,i.ctx)},F=function(B){return x(B,i.ctx)},D=function(B){return C(B,i.ctx)},R=tde[b||rde],G=k&&!(u&&!c)&&j.createElement(F,{type:"lock",id:f,value:u,setValue:l,label:I,checkedLabel:E,config:i}),V=!g&&p&&!u&&j.createElement(P,{type:"addRule",onClick:a,label:y,readonly:u,config:i,renderIcon:A}),$=!g&&d&&!u&&j.createElement(P,{type:"addGroup",onClick:o,label:m,readonly:u,config:i,renderIcon:A}),L=!g&&v&&(!u||u&&w)&&j.createElement(P,{type:"delGroup",onClick:s,label:_,config:i,renderIcon:A});return j.createElement("div",{className:"group--actions ".concat(R)},j.createElement(D,{config:i},G,V,$,L))}}])}(J.PureComponent);function Mx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nde(t,e,r){return e=Fe(e),er(t,jF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jF=function(){return!!t})()}var ide=it.RuleUtils.isEmptyGroupChildren,ade="topRight",Ia=function(t){function e(r){var n;return Jt(this,e),n=nde(this,e,[r]),n.childrenClassName=function(){return""},n.renderBeforeActions=function(){var i=n.BeforeActions;return i==null?null:j.createElement(i,oe({key:"group-actions-before"},n.props))},n.renderAfterActions=function(){var i=n.AfterActions;return i==null?null:j.createElement(i,oe({key:"group-actions-after"},n.props))},Mn(n),n.onPropsChanged(r),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.renderItem=n.renderItem.bind(n),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config);if(o){var s=n.config,l=s.settings,u=l.renderIcon,c=l.renderConjs,f=l.renderBeforeActions,d=l.renderAfterActions;this.Icon=kn(s,u),this.Conjs=kn(s,c),this.BeforeActions=kn(s,f),this.AfterActions=kn(s,d)}this.doRemove=function(){i.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return Jfe(this.props.config.settings.groupActionsPosition||ade,"top")}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeGroupConfirmOptions;l&&!this.isEmptyCurrentGroup()?s.call(a.ctx,Vx(Vx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config;return ide(i,a)}},{key:"showNot",value:function(){var n=this.props.config;return n.settings.showNot}},{key:"showConjs",value:function(){var n=this.props,i=n.conjunctionOptions;n.children1,n.config;var a=Object.keys(i).length;return a>1||this.showNot()}},{key:"isNoChildren",value:function(){var n=this.props.children1;return n?n.size==0:!0}},{key:"isOneChild",value:function(){var n=this.props.children1;return n?n.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var n=this.props.children1;return n&&j.createElement("div",{key:"group-children",className:Oi("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var n=this.isGroupTopPosition();return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),n&&this.renderBeforeActions(),n&&this.renderActions(),n&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var n=this.isGroupTopPosition();return!n&&j.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(AF,{key:"group-actions",config:i,addRule:a,addGroup:o,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var n=this.props.config.settings.maxNumberOfRules,i=this.props.totalRulesCnt;return n?i<n:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var n=this.props.children1;return n?n.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(n){if(n){var i=this.props,a=i.config,o=i.actions,s=i.onDragStart,l=i.isLocked,u=n.get("type")=="group"&&n.getIn(["properties","field"])!=null,c=u?"rule_group":n.get("type");return j.createElement(W0,oe({},this.extraPropsForItem(n),{key:n.get("id"),id:n.get("id"),groupId:i.id,path:n.get("path"),type:c,properties:n.get("properties"),config:a,actions:o,children1:n.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(n),totalRulesCnt:this.totalRulesCntForItem(n),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:s,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:l}))}}},{key:"extraPropsForItem",value:function(n){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var n=this.props,i=n.config,a=n.isRoot,o=n.isLocked,s=this.reordableNodesCnt();return i.settings.canReorder&&!a&&s>1&&!o}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.Icon,a=j.createElement(i,{type:"drag"});return this.showDragIcon()&&j.createElement("div",{key:"group-drag-icon",onMouseDown:n,className:"qb-drag-handler group--drag-handler"},a)}},{key:"conjunctionOptions",value:function(){var n=this.props.conjunctionOptions;return n}},{key:"renderConjs",value:function(){var n=this.props,i=n.config,a=n.children1,o=n.id,s=n.selectedConjunction,l=n.setConjunction,u=n.not,c=n.setNot,f=n.isLocked,d=i.settings,p=d.immutableGroupsMode;d.renderConjs,d.showNot;var v=d.notLabel,h=this.conjunctionOptions();if(!this.showConjs()||!a||!a.size)return null;var g={disabled:this.isOneChild(),readonly:p||f,selectedConjunction:s,setConjunction:p?Tn:l,conjunctionOptions:h,config:i,not:u||!1,id:o,setNot:p?Tn:c,notLabel:v,showNot:this.showNot(),isLocked:f},y=this.Conjs;return j.createElement(y,oe({key:"group-conjs"},g))}},{key:"renderHeader",value:function(){return j.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return j.createElement(j.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(J.Component);Ia.propTypes={reordableNodesCnt:U.number,conjunctionOptions:U.object.isRequired,allowFurtherNesting:U.bool.isRequired,isRoot:U.bool.isRequired,not:U.bool,selectedConjunction:U.string,config:U.object.isRequired,id:U.string.isRequired,groupId:U.string,path:U.any,children1:U.any,isDraggingMe:U.bool,isDraggingTempo:U.bool,isLocked:U.bool,isTrueLocked:U.bool,handleDraggerMouseDown:U.func,onDragStart:U.func,addRule:U.func.isRequired,addGroup:U.func.isRequired,removeSelf:U.func.isRequired,setConjunction:U.func.isRequired,setNot:U.func.isRequired,setLock:U.func.isRequired,actions:U.object.isRequired};const ode=lf(du("group")(pu(Ia)),"group");function sde(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Fe(t))!==null;);return t}function Kn(){return Kn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=sde(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Kn.apply(null,arguments)}function lde(t,e,r){return e=Fe(e),er(t,PF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function PF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(PF=function(){return!!t})()}var ude=function(t){function e(){return Jt(this,e),lde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,C=p.canDeleteLocked,I=function(R){return m(R,i.ctx)},E=function(R){return y(R,i.ctx)},k=function(R){return _(R,i.ctx)},w=function(R){return b(R,i.ctx)},A=x&&!(c&&!f)&&j.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,hideLabel:!0,config:i}),P=!v&&o&&!c&&j.createElement(E,{type:"addRuleGroup",onClick:a,label:h,readonly:c,config:i,renderIcon:I}),F=!v&&s&&(!c||c&&C)&&j.createElement(E,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:I});return j.createElement("div",{className:"group--actions"},j.createElement(w,{config:i},A,P,F))}}])}(J.PureComponent);function Bx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cde(t,e,r){return e=Fe(e),er(t,FF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function FF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(FF=function(){return!!t})()}var LF=function(t){function e(r){var n;return Jt(this,e),n=cde(this,e,[r]),n.childrenClassName=function(){return"rule_group--children"},n.renderHeaderWrapper=function(){return null},n.renderFooterWrapper=function(){return null},n.renderConjs=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!1},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Fe(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"renderChildrenWrapper",value:function(){return j.createElement(j.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),Kn(Fe(e.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFuncValue,c=n.setFieldSrc,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(G0,{key:"field",classname:"group--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:u,setFieldSrc:c,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(ude,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);LF.propTypes=qx(qx({},Ia.propTypes),{},{selectedField:U.any,selectedFieldSrc:U.string,parentField:U.string,setField:U.func,setFieldSrc:U.func});const fde=lf(du("group rule_group")(pu(LF)),"rule_group");function dde(t,e,r){return e=Fe(e),er(t,RF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(RF=function(){return!!t})()}var pde=function(t){function e(){return Jt(this,e),dde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addSubRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,C=p.canDeleteLocked,I=function(R){return m(R,i.ctx)},E=function(R){return y(R,i.ctx)},k=function(R){return _(R,i.ctx)},w=function(R){return b(R,i.ctx)},A=x&&!(c&&!f)&&j.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,config:i}),P=!v&&o&&!c&&j.createElement(E,{type:"addRuleGroupExt",onClick:a,label:h,readonly:c,config:i,renderIcon:I}),F=!v&&s&&(!c||c&&C)&&j.createElement(E,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:I});return j.createElement("div",{className:"group--actions group--actions--tr"},j.createElement(w,{config:i},A,P,F))}}])}(J.PureComponent);function zx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hde(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=vde(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function vde(t,e){if(t){if(typeof t=="string")return Ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(t,e)}}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gde(t,e,r){return e=Fe(e),er(t,$F()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function $F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($F=function(){return!!t})()}var NF=it.ConfigUtils,Gx=NF.getFieldConfig,mde=NF.getFieldWidgetConfig,yde=it.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,DF=function(t){function e(r){var n;return Jt(this,e),n=gde(this,e,[r]),n.childrenClassName=function(){return"rule_group_ext--children"},n.renderFooterWrapper=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!0},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Fe(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return j.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings,s=o.renderRuleError,l=o.showErrorMessage,u=Ce((a==null?void 0:a.toArray())||[]).filter(function(c){return!!c}).shift()||null;return l&&u&&j.createElement("div",{className:"rule_group--error"},s?s({error:u},i.ctx):u)}},{key:"showNot",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Gx(i,a)||{};return o.showNot!=null?o.showNot:i.settings.showNot}},{key:"conjunctionOptions",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Gx(i,a)||{},s=Kn(Fe(e.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var l={},u=hde(o.conjunctions),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=s[f];d&&(l[f]=d)}}catch(p){u.e(p)}finally{u.f()}s=l}return s}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFieldSrc,c=n.setFuncValue,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(G0,{key:"field",classname:"rule--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:c,setFieldSrc:u,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedOperator;n.setField;var l=n.setOperator,u=n.isLocked,c=i.settings.immutableFieldsMode,f=mde(i,a,s)||{},d=f.hideOperator,p=a&&d&&f.operatorInlineLabel,v=a&&!d;return j.createElement(sF,{key:"operator",classname:"group--operator",config:i,selectedField:a,selectedFieldSrc:o,selectedOperator:s,setOperator:l,showOperator:v,showOperatorLabel:p,selectedFieldWidgetConfig:f,readonly:c||u,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config,o=this._buildWidgetProps(this.props);return yde(o,i,a)}},{key:"_buildWidgetProps",value:function(n){var i=n.selectedField,a=n.selectedFieldSrc,o=n.selectedFieldType,s=n.selectedOperator,l=n.operatorOptions,u=n.value,c=n.valueType;n.valueSrc,n.asyncListValues;var f=n.valueError;n.fieldError;var d=n.parentField;return{field:i,fieldSrc:a,fieldType:o,operator:s,operatorOptions:l,value:u,valueType:c,valueSrc:["value"],valueError:f,fieldError:null,parentField:d}}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedOperator,s=n.isLocked,l=i.settings.immutableValuesMode,u=a&&o,c=u;if(!c)return null;var f=j.createElement(sf,oe({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:i,setValue:l?Tn:this.props.setValue,setValueSrc:Tn,readonly:l||s,id:this.props.id,groupId:this.props.groupId}));return j.createElement(zr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},f)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(pde,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);DF.propTypes=Hx(Hx({},Ia.propTypes),{},{selectedField:U.any,selectedFieldSrc:U.string,selectedOperator:U.string,value:U.any,parentField:U.string,setField:U.func,setFieldSrc:U.func,setOperator:U.func,setValue:U.func,valueError:U.any});const bde=lf(du("group rule_group_ext")(pu(DF)),"rule_group");function _de(t,e,r){return e=Fe(e),er(t,MF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function MF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MF=function(){return!!t})()}var Sde={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},Ode="topRight",xde=function(t){function e(){return Jt(this,e),_de(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.setLock,l=n.isLocked,u=n.isTrueLocked,c=n.id,f=n.canAddGroup,d=n.canAddDefault,p=i.settings,v=p.immutableGroupsMode,h=p.addCaseLabel,g=p.addDefaultCaseLabel,y=p.groupActionsPosition,m=p.renderButton,_=p.renderIcon,b=p.renderSwitch,S=p.renderButtonGroup,O=p.lockLabel,x=p.lockedLabel,C=p.showLock,I=function(G){return _(G,i.ctx)},E=function(G){return m(G,i.ctx)},k=function(G){return b(G,i.ctx)},w=function(G){return S(G,i.ctx)},A=Sde[y||Ode],P=C&&!(l&&!u)&&j.createElement(k,{type:"lock",id:c,value:l,setValue:s,label:O,checkedLabel:x,config:i}),F=!v&&f&&!l&&j.createElement(E,{type:"addCaseGroup",onClick:a,label:h,readonly:l,config:i,renderIcon:I}),D=!v&&d&&!l&&j.createElement(E,{type:"addDefaultCaseGroup",onClick:o,label:g,readonly:l,config:i,renderIcon:I});return j.createElement("div",{className:"group--actions ".concat(A)},j.createElement(w,{config:i},P,F,D))}}])}(J.PureComponent);function Wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ede(t,e,r){return e=Fe(e),er(t,VF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function VF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VF=function(){return!!t})()}var BF=it.TreeUtils,Cde=BF.getTotalReordableNodesCountInTree,Tde=BF.getTotalRulesCountInTree,qF=function(t){function e(r){var n;return Jt(this,e),n=Ede(this,e,[r]),n.childrenClassName=function(){return"switch_group--children"},n.renderFooterWrapper=function(){return null},n.hasDefaultCase=function(){var i;return((i=n.props.children1)===null||i===void 0?void 0:i.size)&&n.props.children1.filter(function(a){return a.get("children1")==null}).size>0},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){Kn(Fe(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"canAddGroup",value:function(){var n,i=this.props.config.settings.maxNumberOfCases,a=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0;return i?a<i:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var n,i=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0,a=i;return this.hasDefaultCase()&&a--,a}},{key:"totalRulesCntForItem",value:function(n){return Tde(n)}},{key:"reordableNodesCntForItem",value:function(n){var i;if(this.props.isLocked)return 0;var a=this.props.config.settings,o=a.canLeaveEmptyCase,s=a.canRegroupCases,l=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0,u=l;this.hasDefaultCase()&&u--;var c=Cde(n),f=c;return f==1&&s&&o&&u>1&&(f=111),f}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var n=this.props.config,i=n.settings.renderSwitchPrefix;return i||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(xde,{config:i,addCaseGroup:a,addDefaultCaseGroup:o,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}}])}(Ia);qF.propTypes=wde({},Ia.propTypes);const kde=lf(du("group switch_group")(pu(qF)),"switch_group");function Yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return e=Fe(e),er(t,zF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zF=function(){return!!t})()}var HF=function(t){function e(r){var n;return Jt(this,e),n=Ide(this,e,[r]),n.childrenClassName=function(){return"case_group--children"},n.renderFooterWrapper=function(){return null},n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.renderBeforeCaseValue||(i==null?void 0:i.config)!==(n==null?void 0:n.config);if(Kn(Fe(e.prototype),"onPropsChanged",this).call(this,n),a){var o=n.config,s=o.settings,l=s.renderBeforeCaseValue,u=s.renderAfterCaseValue,c=s.renderRuleError;this.BeforeCaseValue=kn(o,l),this.AfterCaseValue=kn(o,u),this.RuleError=kn(o,c)}}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:Kn(Fe(e.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:j.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var n=this.props.config.settings.defaultCaseLabel;return n||""}return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:Kn(Fe(e.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?j.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:Kn(Fe(e.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:Kn(Fe(e.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var n=this.BeforeCaseValue;return n==null?null:j.createElement(n,oe({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var n=this.AfterCaseValue;return n==null?null:j.createElement(n,oe({key:"values-after"},this.props))}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings.showErrorMessage,s=this.RuleError,l=Ce((a==null?void 0:a.toArray())||[]).filter(function(u){return!!u}).shift()||null;return o&&l&&j.createElement("div",{className:"rule--error"},s?j.createElement(s,{error:l}):l)}},{key:"renderValue",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.value,s=n.valueSrc,l=n.valueError,u=n.setValue,c=n.setValueSrc,f=n.setFuncValue,d=n.id,p=i.settings.immutableValuesMode,v=j.createElement(sf,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:o,valueSrc:s!=null?s:"value",valueError:l,fieldError:null,config:i,setValue:p?Tn:u,setValueSrc:p?Tn:c,setFuncValue:p?Tn:f,readonly:p||a,id:d,groupId:null});return j.createElement(zr,{className:"case_group--value"},v)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addGroup,o=n.addRule,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(AF,{config:i,addGroup:a,addRule:o,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props.value,i=n&&n.size?n.get(0):null,a=i!=null&&(Array.isArray(i)?i.length>0:!0);return Kn(Fe(e.prototype),"isEmptyCurrentGroup",this).call(this)&&!a}}])}(Ia);HF.propTypes=Kx(Kx({},Ia.propTypes),{},{parentReordableNodesCnt:U.number,value:U.any,setValue:U.func});const Ade=lf(du("group case_group")(pu(HF)),"case_group");var jde=["type"];function Pde(t,e,r){return e=Fe(e),er(t,UF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function UF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(UF=function(){return!!t})()}function Jx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Fde=["rule","group","rule_group","switch_group","case_group"],Vs=function(e){var r,n=((r=e.properties)===null||r===void 0?void 0:r.toObject())||{},i=Vg({},n);return e.isParentLocked&&(i.isLocked=!0),n.isLocked&&(i.isTrueLocked=!0),i},Lde={rule:function(e){return j.createElement(Dfe,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return j.createElement(ode,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return j.createElement(fde,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return j.createElement(bde,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return j.createElement(kde,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return j.createElement(Ade,oe({},Vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},W0=function(t){function e(){return Jt(this,e),Pde(this,e,arguments)}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n,i=this.props,a=i.type,o=ti(i,jde),s=(n=o.properties)===null||n===void 0?void 0:n.get("mode"),l=s=="array"?"_ext":"",u=o.config.settings.renderItem,c=Lde[a+l];return u?u(Vg(Vg({},o),{},{type:a,itemComponent:c}),o.config.ctx):c?c(o):null}}])}(J.PureComponent);W0.propTypes={config:U.object.isRequired,id:U.string.isRequired,groupId:U.string,type:U.oneOf(Fde).isRequired,path:U.any.isRequired,properties:U.any,children1:U.any,actions:U.object.isRequired,reordableNodesCnt:U.number,onDragStart:U.func,parentField:U.string,isDraggingTempo:U.bool,isParentLocked:U.bool};function Rde(t,e,r){return e=Fe(e),er(t,GF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(GF=function(){return!!t})()}var WF=it.TreeUtils,$de=WF.getTotalReordableNodesCountInTree,Nde=WF.getTotalRulesCountInTree,YF=it.DefaultUtils,Dde=YF.createListWithOneElement,Qx=YF.emptyProperties,KF=function(t){function e(r){var n;return Jt(this,e),n=Rde(this,e,[r]),n.pureShouldComponentUpdate=fu(n),n._updPath(r),n}return Yt(e,t),Kt(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=this.pureShouldComponentUpdate(n,i);return a}},{key:"_updPath",value:function(n){var i=n.tree.get("id");this.path=Dde(i)}},{key:"render",value:function(){var n=this.props,i=n.tree,a=n.config,o=n.actions,s=n.onDragStart,l=i.get("type"),u=l=="switch_group",c=u?null:$de(i),f=u?null:Nde(i),d=i.get("id");return j.createElement(W0,{key:d,id:d,path:this.path,type:l,properties:i.get("properties")||Qx(),config:a,actions:o,children1:i.get("children1")||Qx(),reordableNodesCnt:c,totalRulesCnt:f,parentReordableNodesCnt:0,onDragStart:s})}}])}(J.Component);KF.propTypes={tree:U.any.isRequired,config:U.object.isRequired,actions:U.object.isRequired,onDragStart:U.func};const Mde=mce(KF);function Xx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bde(t,e,r){return e=Fe(e),er(t,JF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JF=function(){return!!t})()}var qde=it.clone,Y0=it.ConfigUtils,Iu=Y0.getFieldConfig,Zx=Y0.getFieldParts,ew=Y0.getFieldPathParts,QF=it.RuleUtils,tw=QF.getFieldPathLabels,zde=QF.getWidgetForFieldOp,XF=function(t){function e(r){var n;return Jt(this,e),n=Bde(this,e,[r]),Mn(n),n.onPropsChanged(r),n}return Yt(e,t),Kt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"],o=["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"],s=!this.items||a.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;s&&(this.items=this.getItems(n)),l&&(this.meta=this.getMeta(n))}},{key:"getItems",value:function(n){var i=n.config,a=n.field,o=n.fieldType,s=n.operator,l=n.parentField,u=n.isFuncArg,c=n.fieldDefinition,f=i.settings.canCompareFieldWithField,d=Zx(l,i),p=l?Iu(i,l):null,v=l?p==null?void 0:p.subfields:i.fields,h=this.filterFields(i,v,a,l,d,s,f,u,c,o),g=this.buildOptions(d,i,h,d);return g}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.field;n.fieldType,n.operator;var s=n.value,l=n.placeholder,u=n.isFuncArg,c=n.parentField,f=a.settings,d=f.fieldPlaceholder,p=f.fieldSeparatorDisplay,v=s,h=!!s,g=o?Iu(a,o):{},y=g==null||(i=g.widgets)===null||i===void 0?void 0:i.field,m=(y==null?void 0:y.widgetProps)||{},_=h?null:u&&l||m.valuePlaceholder||d,b=h?Iu(a,v):null,S=b||{},O=ew(v,a),x=ew(v,a,!0),C=this.getFieldLabel(b,v,a),I=tw(v,a),E=I?I.join(p):null;(E==C||c)&&(E=null);var k=S.label2||S.tooltip;return{placeholder:_,selectedKey:v,selectedKeys:O,selectedPath:x,selectedLabel:C,selectedOpts:S,selectedAltLabel:k,selectedFullLabel:E}}},{key:"filterFields",value:function(n,i,a,o,s,l,u,c,f,d){i=qde(i);var p=n.settings.fieldSeparator,v=Iu(n,a),h=zde(n,a,l,"value");n.widgets[h];var g;c?g=f==null?void 0:f.type:v?g=v.type:g=d;function y(m,_){for(var b in m){var S=m[b].subfields,O=(_||[]).concat(b),x=O.join(p),C=Iu(n,x);if(!C)delete m[b];else if(C.type=="!struct"||C.type=="!group")y(S,O)==0&&delete m[b];else{var I=(!g||C.type==g)&&(c?!0:x!=a),E=u||n.settings.canCompareFieldWithField;E&&(I=I&&E(a,v,x,C,l)),I||delete m[b]}}return xl(m).length}return y(i,s||[]),i}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a)return null;var u=i.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"";return xl(a).map(function(p){var v=[].concat(Ce(s!=null?s:[]),[p]),h=a[p],g=o.getFieldLabel(h,v,i),y=tw(v,i),m=y.join(f);(m==g||n)&&(m=null);var _=h.label2,b=h.tooltip;if(!h.hideForCompare)return h.type=="!struct"||h.type=="!group"?{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,items:o.buildOptions(n,i,h.subfields,v,{label:g,tooltip:b})}:{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l}}).filter(function(p){return!!p})}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Zx(i,a),l=(n==null?void 0:n.label)||th(s);return l=Xd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Vde({isValueField:!0,config:i,customProps:a,setField:o,readonly:s,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);XF.propTypes={id:U.string,groupId:U.string,setValue:U.func.isRequired,config:U.object.isRequired,field:U.any,fieldSrc:U.string,fieldType:U.string,value:U.string,operator:U.string,customProps:U.object,readonly:U.bool,parentField:U.string,fieldDefinition:U.object,isFuncArg:U.bool};const Hde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.labelYes,i=t.labelNo,a=t.readonly;t.widgetId;var o=t.customProps,s=o===void 0?{}:o,l=s.radioYes||{},u=s.radioNo||{},c=function(d){return r(d.target.value=="true")};return j.createElement(j.Fragment,null,j.createElement("input",oe({type:"radio",value:!0,checked:!!e,disabled:a,onChange:c},l))," ",n,j.createElement("input",oe({type:"radio",value:!1,checked:!e,disabled:a,onChange:c},u))," ",i)},Ude=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength,o=t.customProps,s=function(c){var f=c.target.value;f===""&&(f=void 0),r(f)},l=e||"";return j.createElement("input",oe({type:"text",value:l,placeholder:i,disabled:n,onChange:s,maxLength:a},o))},Gde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength;t.maxRows;var o=t.fullWidth,s=t.customProps,l=function(f){var d=f.target.value;d===""&&(d=void 0),r(d)},u=e||"";return j.createElement("textarea",oe({value:u,placeholder:i,disabled:n,onChange:l,maxLength:a,style:{width:o?"100%":void 0}},s))};it.moment;const Wde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",oe({type:"date",value:e||"",disabled:n,onChange:a},i))},Yde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat,t.use12Hours;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",oe({type:"time",value:e||"",disabled:n,onChange:a},i))};var rw=it.moment;const Kde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.valueFormat;t.use12Hours;var i=t.readonly,a=t.customProps,o=function(u){var c=u.target.value;c==""?c=void 0:c=rw(new Date(c)).format(n),r(c)},s=e;return e?s=rw(e).format("YYYY-MM-DDTHH:mm"):s="",j.createElement("input",oe({type:"datetime-local",value:s,disabled:i,onChange:o},a))};var Jde=it.ListUtils.mapListValues;const Qde=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return Jde(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){for(var f=[],d=c.options,p=0;p<d.length;p++){var v=d[p];v.selected&&f.push(v.value)}return f.length||(f=void 0),f},l=function(c){return n(s(c.target))};return j.createElement("select",oe({multiple:!0,onChange:l,value:r,disabled:i},Co(a,["showSearch","input","showCheckboxes"])),o())};var Xde=it.ListUtils.mapListValues;const Zde=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return Xde(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){return n(c.target.value)},l=r!=null;return j.createElement("select",oe({onChange:s,value:l?r:"",disabled:i},Co(a,["showSearch","input"])),!l&&j.createElement("option",{disabled:!0,value:""}),o())},epe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return j.createElement("input",oe({type:"number",value:c,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:u},l))},tpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=l===void 0?{}:l,c=u.input||{},f=u.slider||u,d=function(h){var g=h.target.value;g===""||g===null?g=void 0:g=Number(g),r(g)},p=e==null?"":e;return j.createElement("div",{style:{display:"inline-flex"}},j.createElement("input",oe({key:"number",type:"number",value:p,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:d},c)),j.createElement("input",oe({key:"range",type:"range",value:p,disabled:n,min:i,max:a,step:o,onChange:d},f)))},rpe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.errorText,o=function u(c){return c.map(function(f){var d=f.items,p=f.path,v=f.label,h=f.disabled,g=f.matchesType;if(d)return j.createElement("optgroup",{disabled:h,key:p,label:v},u(d));var y=g?{fontWeight:"bold"}:{};return j.createElement("option",{disabled:h,key:p,value:p,style:y},v)})},s=function(c){return r(c.target.value)},l=n!=null;return j.createElement("select",{onChange:s,value:l?n:"",disabled:i,style:{color:a?"red":null}},!l&&j.createElement("option",{disabled:!0,value:""}),o(e))},npe=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(b){var S=i[b],O=S.id,x=S.name,C=S.label,I=S.checked,E=a.isDummyFn?"__dummy":"";return(s||o)&&!I?null:[j.createElement("input",{key:O+E,type:"radio",id:O+E,name:x+E,checked:I,disabled:s||o,value:b,onChange:y}),j.createElement("label",{key:O+E+"label",htmlFor:O+E},C)]})},g=function(){var b="not";return[j.createElement("input",{key:e+b,type:"checkbox",id:e+b,checked:r,disabled:s,onChange:m}),j.createElement("label",{key:e+b+"label",htmlFor:e+b},c||"NOT")]},y=function(b){return a(b.target.value)},m=function(b){return n(b.target.checked)};return[u&&g(),v&&h()]};var ipe={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const ape=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=r||ipe[e];return j.createElement("button",{onClick:n,type:"button",disabled:i},a)},ope=function(t){var e=t.type,r={},n=r[e]||null;return!n&&e==="drag"&&(n=j.createElement(iF,null)),n},spe=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)},lpe=function(t){t.config;var e=t.valueSources,r=t.valueSrc;t.title;var n=t.setValueSrc,i=t.readonly,a=function(l){return l.map(function(u){var c=ke(u,2),f=c[0],d=c[1];return j.createElement("option",{key:f,value:f},d.label)})},o=function(l){return n(l.target.value)};return j.createElement("select",{onChange:o,value:r||"",disabled:i},a(e))},upe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.id;t.config;var a=t.type,o=function(u){return r(u.target.checked)},s=a;return[j.createElement("input",{key:i+s,type:"checkbox",id:i+s,checked:!!e,onChange:o}),j.createElement("label",{key:i+s+"label",htmlFor:i+s},n)]},cpe=function(t){var e=t.onOk;t.okText,t.cancelText;var r=t.title;confirm(r)&&e()};var fpe=function(e){e.config;var r=e.children;return r};const dpe=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:U0,ValueFieldWidget:XF,VanillaBooleanWidget:Hde,VanillaButton:ape,VanillaButtonGroup:spe,VanillaConjs:npe,VanillaDateTimeWidget:Kde,VanillaDateWidget:Wde,VanillaFieldSelect:rpe,VanillaIcon:ope,VanillaMultiSelectWidget:Qde,VanillaNumberWidget:epe,VanillaProvider:fpe,VanillaSelectWidget:Zde,VanillaSliderWidget:tpe,VanillaSwitch:upe,VanillaTextAreaWidget:Gde,VanillaTextWidget:Ude,VanillaTimeWidget:Yde,VanillaValueSources:lpe,vanillaConfirm:cpe},Symbol.toStringTag,{value:"Module"}));function ppe(t,e,r){return e=Fe(e),er(t,ZF()?Reflect.construct(e,r||[],Fe(t).constructor):e.apply(t,r))}function ZF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZF=function(){return!!t})()}var K0=function(t){function e(){var r;Jt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ppe(this,e,[].concat(i)),r.handleChange=function(o){r.props.setOption("proximity",parseInt(o))},r}return Yt(e,t),Kt(e,[{key:"render",value:function(){var n=this.props,i=n.defaults,a=n.options,o=n.config,s=n.optionLabel,l=n.optionPlaceholder,u=n.customProps,c=n.minProximity,f=n.maxProximity,d=n.optionTextBefore,p=n.readonly,v=o.settings,h=o.widgets,g=o.ctx,y=i?i.proximity:void 0,m=v.showLabels,_=a.get("proximity",y),b=Mg(c,f+1).map(function(x){return{title:x,value:x}}),S=h.select.factory,O=function(C){return S(C,g)};return j.createElement("div",{className:"operator--PROXIMITY"},j.createElement("div",{className:"operator--options"},m&&j.createElement("label",{className:"rule--label"},s),!m&&d&&j.createElement("div",{className:"operator--options--sep"},j.createElement("span",null,d)),j.createElement(O,oe({config:o,value:_,listValues:b,setValue:this.handleChange,readonly:p,placeholder:l},u))),j.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(J.PureComponent);K0.propTypes={config:U.object.isRequired,setOption:U.func.isRequired,options:U.any.isRequired,minProximity:U.number,maxProximity:U.number,optionPlaceholder:U.string,optionTextBefore:U.string,optionLabel:U.string,customProps:U.object,readonly:U.bool};K0.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const hpe=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:K0},Symbol.toStringTag,{value:"Module"}));function nw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vpe=Xe({},Ir.conjunctions),gpe=Xe(Xe({},Ir.operators),{},{proximity:Xe(Xe({},Ir.operators.proximity),{},{options:Xe(Xe({},Ir.operators.proximity.options),{},{factory:function(e,r){var n=r.RCE,i=r.O.ProximityOperator;return n(i,e)}})})}),mpe={text:Xe(Xe({},Ir.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}}),textarea:Xe(Xe({},Ir.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextAreaWidget;return n(i,e)}}),number:Xe(Xe({},Ir.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaNumberWidget;return n(i,e)}}),slider:Xe(Xe({},Ir.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSliderWidget;return n(i,e)}}),select:Xe(Xe({},Ir.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSelectWidget;return n(i,e)}}),multiselect:Xe(Xe({},Ir.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaMultiSelectWidget;return n(i,e)}}),date:Xe(Xe({},Ir.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateWidget;return n(i,e)}}),time:Xe(Xe({},Ir.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTimeWidget;return n(i,e)}}),datetime:Xe(Xe({},Ir.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateTimeWidget;return n(i,e)}}),boolean:Xe(Xe({},Ir.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaBooleanWidget;return n(i,e)}}),field:Xe(Xe({},Ir.widgets.field),{},{factory:function(e,r){var n=r.RCE,i=r.W.ValueFieldWidget;return n(i,e)},customProps:{showSearch:!0}}),func:Xe(Xe({},Ir.widgets.func),{},{factory:function(e,r){var n=r.RCE,i=r.W.FuncWidget;return n(i,e)},customProps:{}}),case_value:Xe(Xe({},Ir.widgets.case_value),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}})},ype=Xe(Xe({},Ir.types),{},{select:Xe(Xe({},Ir.types.select),{},{widgets:Xe(Xe({},Ir.types.select.widgets),{},{select:Xe(Xe({},Ir.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),bpe=Xe(Xe({},Ir.settings),{},{renderField:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.VanillaConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.VanillaSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.VanillaButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.VanillaIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.VanillaButtonGroup;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.VanillaProvider;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderConfirm:function(e,r){var n=r.W.vanillaConfirm;return n(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,r){var n=r.RCE;return n("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),_pe=Xe(Xe({},Ir.ctx),{},{W:Xe({},dpe),O:Xe({},hpe),RCE:function(e,r){return j.createElement(e,r)}}),Bg={conjunctions:vpe,operators:gpe,widgets:mpe,types:ype,settings:bpe,ctx:_pe};Bg=it.ConfigMixins.removeMixins(Bg,["rangeslider","treeselect","treemultiselect"]);const un=Bg;var Spe=Yi,Ope=function(){return Spe.Date.now()},xpe=Ope,wpe=Ei,vv=xpe,iw=pF,Epe="Expected a function",Cpe=Math.max,Tpe=Math.min;function kpe(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Epe);e=iw(e)||0,wpe(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Cpe(iw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,C=i;return n=i=void 0,u=O,o=t.apply(C,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,C=O-u,I=e-x;return f?Tpe(I,a-C):I}function g(O){var x=O-l,C=O-u;return l===void 0||x>=e||x<0||f&&C>=a}function y(){var O=vv();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(vv())}function S(){var O=vv(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var Ipe=kpe;const Ape=tn(Ipe);function aw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uf=it.Autocomplete,Gf=uf.mergeListValues,ow=uf.listValueToOption,jpe=uf.optionToListValue,Ppe=uf.optionsToListValues,Fpe=uf.fixListValuesGroupOrder,hu=it.ListUtils,Lpe=hu.mapListValues,Wf=hu.listValuesToArray,Yf=hu.getListValue,Rpe=hu.makeCustomListValue,$pe=hu.searchListValue;hu.getItemInListValues;function sw(t){return new Promise(function(e){setTimeout(e,t)})}var Npe=function(e,r){var n=e.asyncFetch,i=e.useLoadMore,a=e.useAsyncSearch,o=e.forceAsyncSearch,s=e.asyncListValues,l=e.listValues,u=e.allowCustomValues,c=e.value,f=e.setValue,d=e.placeholder,p=e.config,v=r.debounceTimeout,h=r.multiple,g=r.uif,y=r.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],_="Load more...",b="Loading more...",S=o?"Type to search":d,O=j.useState(!1),x=ke(O,2),C=x[0],I=x[1],E=j.useState(void 0),k=ke(E,2),w=k[0],A=k[1],P=j.useState(0),F=ke(P,2),D=F[0],R=F[1],G=j.useState(!1),V=ke(G,2),$=V[0],L=V[1],N=j.useState(""),B=ke(N,2),H=B[0],z=B[1],M=j.useState(void 0),W=ke(M,2),q=W[0],Y=W[1],K=j.useRef(0),ie=j.useRef(0),te=j.useRef(!1),ae=j.useMemo(function(){return Wf(s)},[s]),ue=j.useMemo(function(){return n?s?Gf(q,ae,!0):q:Wf(l)},[n,s,q,l]),fe=n?q:Wf(l);u&&H&&!$pe(H,q)&&(fe=Gf(fe,[Rpe(H)],!0)),n&&!q&&s&&!H&&!C&&g==="antd"&&(fe=ue),n&&!u&&s&&g==="mui"&&(fe=Gf(fe,ae,!0,!0));var pe=D>0,Se=C&&n&&q===void 0&&(o?H:!0),Q=Se&&pe,re=!Q&&ue&&ue.length>0&&w&&w.hasMore&&(w.filter||"")===H,de=!pe&&re,ve=Lpe(fe,ow),ee=c!=null,me=!h&&ee?Yf(c,ue):null,Oe=function(){var vt=Ho(Br.mark(function Le(){var De,We,Qe,ft,Et,At,Sr,Rt,Mr,qe,lt,cr,Yr,Kr,mt,dt=arguments;return Br.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return De=dt.length>0&&dt[0]!==void 0?dt[0]:null,We=dt.length>1&&dt[1]!==void 0?dt[1]:!1,!We&&w&&A(void 0),Qe=We&&q?q.length:0,ft=We&&w||!i&&{pageSize:0},Et=++K.current,$t.next=8,n.call(p==null?void 0:p.ctx,De,Qe,ft);case 8:if(At=$t.sent,Sr=K.current!=Et,!(Sr||!ie.current)){$t.next=12;break}return $t.abrupt("return",null);case 12:return Rt=At!=null&&At.values?At:{values:At},Mr=Rt.values,qe=Rt.hasMore,lt=Rt.meta,cr=Wf(Mr),We?(Kr=Gf(q,cr,!1),Yr=Kr.length>q.length):(Kr=cr,i&&(Yr=Kr.length>0)),mt=qe!=null||lt!=null||Yr!=null?Uf(Uf(Uf(Uf({},Yr!=null?{hasMore:Yr}:{}),qe!=null?{hasMore:qe}:{}),lt!=null?lt:{}),{},{filter:De}):void 0,mt&&A(mt),$t.abrupt("return",Kr);case 18:case"end":return $t.stop()}},Le)}));return function(){return vt.apply(this,arguments)}}(),we=function(){var vt=Ho(Br.mark(function Le(){var De,We,Qe,ft=arguments;return Br.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return De=ft.length>0&&ft[0]!==void 0?ft[0]:null,We=ft.length>1&&ft[1]!==void 0?ft[1]:!1,R(function(Sr){return Sr+1}),L(We),At.next=6,Oe(De,We);case 6:if(Qe=At.sent,ie.current){At.next=9;break}return At.abrupt("return");case 9:Qe!=null&&Y(Qe),R(function(Sr){return Sr-1}),L(!1);case 12:case"end":return At.stop()}},Le)}));return function(){return vt.apply(this,arguments)}}(),Je=j.useCallback(Ape(we,v),[]);j.useEffect(function(){return ie.current++,Se&&D==0&&K.current==0&&Ho(Br.mark(function vt(){return Br.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,we();case 2:case"end":return De.stop()}},vt)}))(),function(){ie.current--}},[Se]);var at=function(){I(!0)},ce=function(){var vt=Ho(Br.mark(function Le(De){var We,Qe;return Br.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(We=te.current,We?(te.current=!1,h&&I(!1)):I(!1),!(g==="mui"&&!We)){Et.next=6;break}return Qe="",Et.next=6,Be(null,Qe,"my-reset");case 6:case"end":return Et.stop()}},Le)}));return function(De){return vt.apply(this,arguments)}}(),ge=function(Le){Le?at():ce()},he=function(Le){var De=(Le==null?void 0:Le.specialValue)||(Le==null?void 0:Le.value);return m.includes(De)},Pe=function(){var vt=Ho(Br.mark(function Le(De,We,Qe){var ft,Et,At,Sr,Rt,Mr,qe,lt,cr,Yr,Kr,mt,dt,fr,$t,Lr,rr;return Br.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Et=h&&g==="mui"&&Qe==="clear",At=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)==="change",Sr=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)!=="change",g==="mui"&&(Qe=We,h?We=Qe.map(function(be){var _e;return(_e=be==null?void 0:be.value)!==null&&_e!==void 0?_e:be}):We=(Rt=(Mr=Qe)===null||Mr===void 0?void 0:Mr.value)!==null&&Rt!==void 0?Rt:Qe),qe=h&&Array.isArray(Qe)&&Qe.map(function(be){return be==null?void 0:be.specialValue}).find(function(be){return!!be})||((ft=Qe)===null||ft===void 0?void 0:ft.specialValue),h&&We&&!Array.isArray(We)&&(We=[].concat(Ce(c||[]),[We]),Qe=null),lt=Et&&We.length===0&&H&&C||At,!lt){Z.next=9;break}return Z.abrupt("return");case 9:if(cr=h&&We.length&&We.length>(c||[]).length&&We[We.length-1]==H&&!Yf(H,q),qe!="LOAD_MORE"){Z.next=17;break}return z(H),te.current=!0,Z.next=15,we(H,!0);case 15:Z.next=37;break;case 17:if(qe!="LOADING_MORE"){Z.next=21;break}te.current=!0,Z.next=37;break;case 21:if(!h){Z.next=31;break}if(Yr=Ppe(We,ue,u),Kr=ke(Yr,2),mt=Kr[0],dt=Kr[1],f(mt,n?dt:void 0),!cr){Z.next=29;break}return Z.next=27,sw(0);case 27:return Z.next=29,Be(null,"","my-reset");case 29:Z.next=37;break;case 31:if(fr=jpe(We,ue,u),$t=ke(fr,2),Lr=$t[0],rr=$t[1],f(Lr,n?rr:void 0),!(Sr&&y)){Z.next=37;break}return Z.next=36,sw(0);case 36:I(!1);case 37:case"end":return Z.stop()}},Le)}));return function(De,We,Qe){return vt.apply(this,arguments)}}(),Be=function(){var vt=Ho(Br.mark(function Le(De,We,Qe){var ft,Et,At;return Br.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(ft=g==="mui"&&Qe==="reset",Et=We,!(Et===_||Et===b||ft)){Rt.next=4;break}return Rt.abrupt("return");case 4:if(We==H){Rt.next=13;break}if(z(Et),At=a&&(o?!!Et:!0),!At){Rt.next=12;break}return Rt.next=10,Je(Et);case 10:Rt.next=13;break;case 12:a&&o&&Y([]);case 13:case"end":return Rt.stop()}},Le)}));return function(De,We,Qe){return vt.apply(this,arguments)}}(),Ne=function(Le){var De=Ce(Le);return i&&(de?De.push({specialValue:"LOAD_MORE",title:_}):$&&De.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),De},ot=function(Le,De){if(De==null)return null;var We=De.value!=null?De.value:De;return Le.value===We},st=function(Le){return Le&&Le.disabled},Ke=function(Le){var De;if(Le!=null&&Le.isCustom)return!0;var We=(De=Le==null?void 0:Le.value)!==null&&De!==void 0?De:Le,Qe=Yf(We,ue);return(Qe==null?void 0:Qe.isCustom)||!1},Bt=function(Le){if(Le==null)return null;var De=Le.value!=null?Le:ow(Yf(Le,ue));return!De&&Le.specialValue?Le.title:!De&&u||!De?Le.toString():De.title||De.label||De.value.toString()},Fr=g==="mui"?Fpe(ve):ve;return{options:Fr,listValues:ue,hasValue:ee,selectedListValue:me,open:C,onOpen:at,onClose:ce,onDropdownVisibleChange:ge,onChange:Pe,inputValue:H,onInputChange:Be,canShowLoadMore:de,isInitialLoading:Q,isLoading:pe,isLoadingMore:$,isSpecialValue:he,extendOptions:Ne,getOptionSelected:ot,getOptionDisabled:st,getOptionIsCustom:Ke,getOptionLabel:Bt,aPlaceholder:S}};function lw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Do=uw(uw({},it),{},{ReactUtils:oce,DragIcon:iF});var gv,Bs,Dpe=Do.moment,cw=parseInt((gv=bi==null||(Bs=bi.version)===null||Bs===void 0||(Bs=Bs.split("."))===null||Bs===void 0?void 0:Bs[0])!==null&&gv!==void 0?gv:"0");const Mpe=function(t){var e=t.value,r=t.setValue,n=t.readonly,i=t.customProps,a=t.dateFormat,o=t.valueFormat,s=t.placeholder,l=function(h){return h&&h.isValid()?h.format(o):void 0},u=function(h){r(l(h))},c=function(h){return j.createElement(Zt,oe({size:"small",variant:"standard"},h))},f="@media (pointer: fine), (pointer: none)",d=cw>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":s}}}:{inputFormat:a,renderInput:c,toolbarPlaceholder:n?"":s},p=e?cw>=6?Dpe(e,o):e:null;return j.createElement(Dr,null,j.createElement(O$,oe({desktopModeMediaQuery:f,readOnly:n,disabled:n,value:p,onChange:u},d,i)))};var mv,qs,Vpe=Do.moment,fw=parseInt((mv=bi==null||(qs=bi.version)===null||qs===void 0||(qs=qs.split("."))===null||qs===void 0?void 0:qs[0])!==null&&mv!==void 0?mv:"0");const Bpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.dateFormat,s=t.timeFormat,l=t.valueFormat,u=t.customProps,c=function(m){return m&&m.isValid()?m.format(l):void 0},f=function(m){r(c(m))},d=o+" "+s,p=function(m){return j.createElement(Zt,oe({size:"small",variant:"standard"},m))},v="@media (pointer: fine), (pointer: none)",h=fw>=6?{format:d,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:d,renderInput:p,toolbarPlaceholder:i?"":a},g=e?fw>=6?Vpe(e,l):e:null;return j.createElement(Dr,null,j.createElement(v$,oe({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:g,onChange:f},h,u)))};var yv,zs,qpe=Do.moment,zpe=parseInt((yv=bi==null||(zs=bi.version)===null||zs===void 0||(zs=zs.split("."))===null||zs===void 0?void 0:zs[0])!==null&&yv!==void 0?yv:"0");const Hpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.timeFormat,s=t.valueFormat,l=t.customProps,u=function(y){return y&&y.isValid()?y.format(s):void 0},c=function(y){r(u(y))},f=o.indexOf(":ss")!=-1,d=e?qpe(e,o):null,p=function(y){return j.createElement(Zt,oe({size:"small",variant:"standard"},y))},v="@media (pointer: fine), (pointer: none)",h=zpe>=6?{format:o,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:o,renderInput:p,toolbarPlaceholder:i?"":a};return j.createElement(Dr,null,j.createElement(x$,oe({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:d,onChange:c,views:f?["hours","minutes","seconds"]:["hours","minutes"]},h,l)))};var dw=Do.ListUtils.mapListValues;const Upe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(){return dw(e,function(p){var v=p.title,h=p.value;return j.createElement(Zr,{key:h,value:h},v)})},l=function(p){p.target.value!==void 0&&n(p.target.value)},u=function(p){return!i&&p==null?a:c(p)},c=function(p){return dw(e,function(v){var h=v.title,g=v.value;return g===p?h:null}).filter(function(v){return v!==null}).shift()},f=r!=null;return j.createElement(Dr,null,j.createElement(Gi,oe({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i?"":a,onChange:l,value:f?r:"",disabled:i,readOnly:i,renderValue:u,size:"small"},Co(o,["showSearch","input"])),s()))},Gpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(v){var h=v.target.value;h===""||h===null?h=void 0:h=Number(h),r(h)},c=e==null?"":e,f=J.useMemo(function(){return{readOnly:n}},[n]),d=J.useMemo(function(){return{min:i,max:a,step:o}},[i,a,o]);return j.createElement(Dr,null,j.createElement(Zt,oe({variant:"standard",type:"number",value:c,placeholder:n?"":s,InputProps:f,inputProps:d,disabled:n,onChange:u,size:"small"},l)))};var Wpe=["width"];const Ype=function(t){var e=t.config,r=t.placeholder,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=e.settings.defaultSliderWidth,d=J.useCallback(function(P,F){a(F)},[a]),p=J.useCallback(function(P){var F=P.target.value;F===""||F===null?F=void 0:F=Number(F),a(F)},[a]),v=J.useCallback(function(P){var F=P.target.value;F===""||F===null?F=void 0:F=Number(F),F<o?a(o):F>s&&a(s)},[a,o,s]),h=n||{},g=h.width,y=ti(h,Wpe),m=y.input||{},_=y.slider||y,b=typeof i=="number"?i:"",S=typeof i=="number"?i:null,O=J.useMemo(function(){return u?Object.keys(u).map(function(P){return{value:Number(P),label:xt(u[P])==="object"||typeof u[P]>"u"?u[P]:j.createElement("p",null,u[P])}}):!1},[u]),x=J.useMemo(function(){return{readOnly:c}},[c]),C=J.useMemo(function(){return{min:o,max:s,step:l}},[o,s,l]),I=j.createElement(Zt,oe({variant:"standard",type:"number",value:b,placeholder:r,InputProps:x,inputProps:C,disabled:c,onChange:p,onBlur:v,size:"small"},m)),E=j.createElement(ME,oe({value:S,onChange:d,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},_)),k={display:"inline-flex",alignItems:"center",flexWrap:"wrap"},w={marginLeft:"5px"},A={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:g||f};return j.createElement(Dr,null,j.createElement("div",{style:k},j.createElement("div",{style:w},I),j.createElement("div",{style:A},E)))};var Kpe=["width"];const Jpe=function(t){var e=t.config,r=t.placeholders,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=t.textSeparators,d=e.settings.defaultSliderWidth;J.useEffect(function(){var R=t.value||[void 0,void 0],G=ke(R,2),V=G[0],$=G[1];t.value&&(V==null||$==null)},[]);var p=function(G,V){a(V)},v=function(G){var V=G.target.value;V===""||V==null?V=void 0:V=Number(V);var $=t.value?Ce(t.value):[void 0,void 0];$[0]=V,a($)},h=function(G){var V=G.target.value;V===""||V==null?V=void 0:V=Number(V);var $=t.value?Ce(t.value):[void 0,void 0];$[1]=V,a($)},g=function(){i&&(i[0]<o?a([o,i[1]]):i[1]>s&&a([i[0],s]))},y=n||{},m=y.width,_=ti(y,Kpe),b=_.input||{},S=_.slider||_,O=u?Object.keys(u).map(function(R){return{value:Number(R),label:xt(u[R])==="object"||typeof u[R]>"u"?u[R]:j.createElement("p",null,u[R])}}):!1,x=i?Ce(i):[void 0,void 0],C=ke(x,2),I=C[0],E=C[1];I==null&&(I="",x[0]=0),E==null&&(E="",x[1]=0);var k=j.createElement(Zt,oe({variant:"standard",type:"number",value:I,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:v,onBlur:g,size:"small"},b)),w=j.createElement(Zt,oe({variant:"standard",type:"number",value:E,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:h,onBlur:g,size:"small"},b)),A=j.createElement(ME,oe({value:x,onChange:p,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},S)),P={display:"inline-flex",flexWrap:"wrap"},F={marginLeft:"5px"},D={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:m||d};return j.createElement(Dr,null,j.createElement("div",{style:P},j.createElement("div",{style:F},k),j.createElement("div",{className:"widget--sep"},j.createElement("span",null,f[1])),j.createElement("div",{style:F},w),j.createElement("div",{style:D},A)))},Qpe=function(t){var e=t.customProps,r=t.value,n=t.setValue,i=t.labelYes,a=t.labelNo,o=t.readonly,s=function(){n(!r)};return j.createElement(Dr,null,j.createElement(Cn,{component:"div"},j.createElement(co,{component:"label",container:!0,alignItems:"center",spacing:0},j.createElement(co,{item:!0,component:"span"},a),j.createElement(co,{item:!0,component:"span"},j.createElement(cs,oe({checked:!!r,onChange:s,disabled:o},e))),j.createElement(co,{item:!0,component:"span"},i))))};var pw=Do.ListUtils.mapListValues;const Xpe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(d){return pw(e,function(p){var v=p.title,h=p.value;return j.createElement(Zr,{key:h,value:h},j.createElement(Fi,{checked:d.indexOf(h)>-1}),j.createElement(am,{primary:v}))})},l=function(d){if(!i&&!d.length)return a;var p=pw(e,function(v){var h=v.title,g=v.value;return d.indexOf(g)>-1?h:null}).filter(function(v){return v!==null});return p.join(", ")},u=r!=null&&r.length>0,c=function(d){d.target.value!==void 0&&n(d.target.value)};return j.createElement(Dr,null,j.createElement(Gi,oe({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:c,value:u?r:[],disabled:i,readOnly:i,renderValue:l,size:"small"},Co(o,["showSearch","input","showCheckboxes"])),s(u?r:[])))};var J0={},Zpe=Cr;Object.defineProperty(J0,"__esModule",{value:!0});var Q0=J0.default=void 0,ehe=Zpe(Tr()),the=T;Q0=J0.default=(0,ehe.default)((0,the.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var rhe=["width"];function hw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nhe=Npe,ihe=[];const eL=function(t){var e=t.allowCustomValues,r=t.multiple,n=t.disableClearable,i=t.value,a=t.customProps,o=t.readonly,s=t.config,l=t.filterOptionsConfig,u=t.errorText,c=t.tooltipText,f=t.isFieldAutocomplete,d=J.useCallback(function(ve){var ee=s.settings.listKeysForSearch,me=ee.map(function(Oe){return typeof ve[Oe]=="string"?ve[Oe]:""}).join("\0");return me},[s]),p={stringify:d},v=RE(l||p),h=nhe(t,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:f}),g=h.open,y=h.onOpen,m=h.onClose,_=h.onChange,b=h.onInputChange,S=h.inputValue,O=h.options,x=h.isInitialLoading,C=h.isLoading,I=h.aPlaceholder,E=h.extendOptions,k=h.getOptionDisabled,w=h.getOptionIsCustom,A=h.getOptionLabel,P=h.selectedListValue,F=s.settings,D=F.defaultSelectWidth,R=F.defaultSearchWidth,G=a||{},V=G.width,$=ti(G,rhe),L=$.input||{};L.width,L=Co(L,["width"]);var N=Co($,["showSearch","showCheckboxes"]),B=!1,H=V||D,z={width:r?void 0:H,minWidth:H},M=o?"":I,W=M||s.settings.fieldPlaceholder,q=i!=null,Y=q?i:r?ihe:null,K=function(ee,me){var Oe=v(ee,me),we=E(Oe);return we},ie=function(ee){return ee!=null&&ee.group?JSON.stringify(ee.group):ee==null?void 0:ee.groupTitle},te=Pr(),ae=function(ee){var me,Oe,we,Je=!r&&!g,at=(me=(Oe=P==null?void 0:P.title)!==null&&Oe!==void 0?Oe:Y==null?void 0:Y.toString())!==null&&me!==void 0?me:"",ce=r&&!g,ge=Je?at:ce?"":(we=S!=null?S:Y==null?void 0:Y.toString())!==null&&we!==void 0?we:"";return j.createElement(Zt,oe({variant:"standard"},ee,{inputProps:Kf(Kf({"aria-label":W},ee.inputProps),{},{value:ge}),InputProps:Kf(Kf({},ee.InputProps),{},{readOnly:o,endAdornment:j.createElement(j.Fragment,null,C?j.createElement(t$,{color:"inherit",size:20}):null,ee.InputProps.endAdornment)}),disabled:o,placeholder:M,error:!!u},L))},ue=function(ee){var me=ee.groupMaybeJson;if(!me)return null;var Oe={label:me};if(typeof me=="string"&&me[0]==="{")try{Oe=JSON.parse(me)}catch(at){}var we=Oe.label;we&&Oe.tooltip&&(we=j.createElement(vl,{title:Oe.tooltip,placement:"left-start"},j.createElement("span",null,we)));var Je=j.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:te.palette.primary.main,backgroundColor:te.palette.background.default}},we);return Je},fe=function(ee){var me=ee.children;return j.createElement(j.Fragment,null,me)},pe=function(ee){var me=j.createElement("div",{key:ee.key},j.createElement(ue,{groupMaybeJson:ee.group}),j.createElement(fe,null,ee.children));return me},Se=function(ee,me){return ee.map(function(Oe,we){return j.createElement(Zg,oe({key:Oe.value,label:A(Oe),size:"small",variant:w(Oe)?"outlined":"filled"},me({index:we})))})},Q=function(ee,me){return(ee==null?void 0:ee.value)==me},re=function(ee,me){var Oe=me.title,we=me.renderTitle,Je=me.value,at=me.isHidden,ce=me.tooltip,ge=me.group,he=me.groupTitle,Pe=he||ge,Be=r?(i||[]).includes(Je):i==Je,Ne=w(me)?"customSelectOption":void 0,ot=!f&&Pe?"Â Â ":"",st=we||ot+Oe,Ke=j.createElement("span",{className:Ne},st);if(ce&&(Ke=j.createElement(vl,{title:ce,placement:"left-start"},Ke)),at)return null;if(me.specialValue)return j.createElement("div",ee,st);if(r){var Bt=Be?j.createElement(j.Fragment,null,j.createElement(OE,null,j.createElement(Q0,null)),Ke):j.createElement(am,{inset:!0},Ke);return j.createElement(Zr,oe({},ee,{size:"small",selected:Be}),Bt)}else return j.createElement("div",ee,Ke)},de=j.createElement(s2,oe({disableClearable:n,disableCloseOnSelect:r,fullWidth:B,multiple:r,style:z,freeSolo:e,loading:x,open:g,onOpen:y,onClose:m,inputValue:S,onInputChange:b,label:M,onChange:_,value:Y,disabled:o,readOnly:o,options:O,groupBy:ie,getOptionLabel:A,getOptionDisabled:k,renderInput:ae,renderGroup:pe,renderTags:Se,renderOption:re,filterOptions:K,isOptionEqualToValue:Q,size:"small"},N));return c&&(de=j.createElement(vl,{title:g?null:c,placement:"top-start"},de)),de=j.createElement(Dr,{fullWidth:B},de),de},ahe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.placeholder,o=t.errorText,s=t.selectedLabel;t.selectedOpts;var l=t.selectedAltLabel,u=t.selectedFullLabel,c=J.useState(!1),f=ke(c,2),d=f[0],p=f[1],v=J.useCallback(function(){p(!0)},[p]),h=J.useCallback(function(){p(!1)},[p]),g=function O(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(x).map(function(I){var E=x[I],k=E.items,w=E.path,A=E.label,P=E.disabled,F=E.matchesType,D=E.tooltip,R="Â Â ".repeat(C),G=j.createElement("span",null,R&&j.createElement("span",null,R),F?j.createElement("b",null,A):A);return D&&(G=j.createElement(vl,{title:D,placement:"left-start"},G)),k?[j.createElement(im,{disabled:P,key:w,disableSticky:!0},G),O(k,C+1)]:j.createElement(Zr,{disabled:P,key:w,value:w},G)})},y=J.useCallback(function(O){O.target.value!==void 0&&r(O.target.value)},[r]),m=J.useCallback(function(O){if(!i&&!O)return a;var x=function I(E){return E.map(function(k){return k.items?I(k.items):k.path===O?k.label:null})},C=x(e).filter(function(I){return Array.isArray(I)?I.some(function(E){return E!==null}):I!==null}).pop();return C},[i,a,e]),_=n!=null,b=l||u;b==s&&(b=null);var S=j.createElement(Gi,{error:!!o,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:a,onChange:y,value:_?n:"",disabled:i,renderValue:m,size:"small",open:d,onOpen:v,onClose:h},g(e));return b&&(S=j.createElement(vl,{title:d?null:b},S)),S=j.createElement(Dr,null,S),S};var ohe=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function vw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var she={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},lhe=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.map(function(n){var i=n.items,a=n.path,o=n.key,s=n.label,l=n.altLabel,u=n.disabled,c=n.grouplabel,f=n.group,d=n.matchesType,p=n.tooltip,v="Â Â ".repeat(r);return i?t(i,r+1):{title:s,renderTitle:d?j.createElement("b",null,v+s):v+s,value:a,disabled:u,groupTitle:r>0?v+c:null,group:r>0?Zd(Zd({},f),{},{label:v+f.label}):null,tooltip:p,_value2:o,_altLabel:l}}).flat(1/0)},uhe=function(e,r){var n=e.items,i=e.selectedKey,a=e.setField,o=e.isValueField,s=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,u=e.selectedFullLabel,c=ti(e,ohe),f=l||u;f==s&&(f=null);var d=lhe(n),p=i,v=function(y,m){if(!(!y&&!o))return a(y)},h={stringify:J.useCallback(function(g){var y=r.settings.fieldItemKeysForSearch.map(function(_){return she[_]}),m=y.map(function(_){return typeof g[_]=="string"?g[_]:""}).join("\0");return m},[r])};return Zd(Zd({},c),{},{tooltipText:f,listValues:d,setValue:v,filterOptionsConfig:h,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:p,isFieldAutocomplete:!0})};const che=function(t){return j.createElement(eL,uhe(t,t.config))};var X0={},fhe=Cr;Object.defineProperty(X0,"__esModule",{value:!0});var tL=X0.default=void 0,dhe=fhe(Tr()),phe=T;tL=X0.default=(0,dhe.default)((0,phe.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var hhe=Do.DragIcon,vhe={delGroup:j.createElement(zu,null),delRuleGroup:j.createElement(zu,null),delRule:j.createElement(zu,null),addRuleGroup:j.createElement(Wo,null),addRuleGroupExt:j.createElement(Wo,null),addRule:j.createElement(Wo,null),addGroup:j.createElement(Wo,null),drag:j.createElement(tL,null)},ghe={drag:"primary"};const mhe=function(t){var e=t.type,r=t.readonly,n=vhe[e]||null;return!n&&e==="drag"?j.createElement(hhe,null):e==="drag"?j.createElement(NE,{size:"small",disabled:r,color:ghe[e]},n):n};var yhe={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},gw={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const bhe=J.memo(function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=t.renderIcon,o={type:e,readonly:i},s=a==null?void 0:a(o);return!r||yhe[e]?j.createElement(bt,{size:"small",disabled:i,onClick:n,color:gw[e],"aria-label":r},s):j.createElement(Ht,{size:"small",disabled:i,onClick:n,color:gw[e],startIcon:s},r)}),_he=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)};var She=j.memo(function(t){var e=t.conjKey,r=t.id;t.name;var n=t.label,i=t.checked,a=t.setConjunction,o=t.readonly,s=t.disabled,l=J.useCallback(function(){a(e)},[e,a]),u=a.isDummyFn?"__dummy":"";return(o||s)&&!i?null:j.createElement(Ht,{key:r+u,id:r+u,color:i?"primary":"inherit",value:e,onClick:l,disabled:o||s},n)}),Ohe=j.memo(function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(_){var b=i[_],S=b.id,O=b.name,x=b.label,C=b.checked,I={conjKey:_,id:S,name:O,label:x,checked:C,setConjunction:a,readonly:s,disabled:o};return j.createElement(She,oe({key:S},I))})},g=J.useCallback(function(){n(!r)},[r,n]),y=function(){return s&&!r?null:j.createElement(Ht,{key:e,id:e+"__not",color:r?"error":"inherit",onClick:g,disabled:s},c||"NOT")};return j.createElement(Dr,null,j.createElement(d2,{disableElevation:!0,variant:"contained",size:"small",disabled:s},u&&y(),v&&h()))}),Z0={},xhe=Cr;Object.defineProperty(Z0,"__esModule",{value:!0});var rL=Z0.default=void 0,whe=xhe(Tr()),Ehe=T;rL=Z0.default=(0,whe.default)((0,Ehe.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var eb={},Che=Cr;Object.defineProperty(eb,"__esModule",{value:!0});var nL=eb.default=void 0,The=Che(Tr()),khe=T;nL=eb.default=(0,The.default)((0,khe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const Ihe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.checkedLabel,a=t.hideLabel,o=t.id,s=t.config,l=t.type;s.settings.renderSize;var u=function(h){return r(h.target.checked)},c=function(){return r(!e)},f=l,d=e&&i||n,p=e?j.createElement(nL,null):j.createElement(rL,null);return l=="lock"?a?j.createElement(bt,{key:o+f,onClick:c,size:"small"},p):j.createElement(Ht,{key:o+f,onClick:c,size:"small",startIcon:p},d):j.createElement($a,{control:j.createElement(cs,{checked:!!e,size:"small",onChange:u}),label:d})};var tb={},Ahe=Cr;Object.defineProperty(tb,"__esModule",{value:!0});var iL=tb.default=void 0,jhe=Ahe(Tr()),Phe=T;iL=tb.default=(0,jhe.default)((0,Phe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var Fhe=j.memo(function(t){var e=t.valueSrc,r=t.srcKey,n=t.handleChange,i=t.info,a=e==r||!e&&r=="value",o=J.useCallback(function(s){return n(s,r)},[n,r]);return j.createElement(Zr,{value:r,selected:a,onClick:o},!a&&j.createElement(am,{inset:!0},i.label),a&&j.createElement(j.Fragment,null,j.createElement(OE,null,j.createElement(Q0,null)),i.label))}),Lhe=j.memo(function(t){var e=t.valueSources,r=t.valueSrc,n=t.title,i=t.setValueSrc;t.readonly;var a=j.useState(null),o=ke(a,2),s=o[0],l=o[1],u=J.useCallback(function(h){l(h.currentTarget)},[l]),c=J.useCallback(function(){l(null)},[l]),f=J.useCallback(function(h){s?c():u(h)},[c,u,s]),d=J.useCallback(function(h,g){i(g),c()},[c,i]),p=function(g){return g.map(function(y){var m=ke(y,2),_=m[0],b=m[1];return j.createElement(Fhe,{key:_,valueSrc:r,srcKey:_,handleChange:d,info:b})})},v=!!s;return j.createElement("div",null,j.createElement(bt,{size:"small",onClick:f},j.createElement(iL,null)),j.createElement(PR,{anchorEl:s,open:v,onClose:c},j.createElement(Dr,{component:"fieldset",sx:{p:0}},j.createElement(EE,{component:"legend",sx:{p:2,pt:0,pb:1}},n),p(e))))});const Rhe=function(t){var e=t.onOk,r=t.okText,n=t.cancelText,i=t.title,a=t.confirmFn;a({description:i||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(e).catch(function(){})};var bv,Hs,$he=parseInt((bv=bi==null||(Hs=bi.version)===null||Hs===void 0||(Hs=Hs.split("."))===null||Hs===void 0?void 0:Hs[0])!==null&&bv!==void 0?bv:"0"),Nhe=function(e){var r=e.config,n=e.children,i=r.settings.theme||{},a=r.settings.locale||{},o=a.moment,s=i.mui,l=a.mui,u=vE(s,l,{palette:{}}),c=$he>=6?{locale:o}:{adapterLocale:o},f=j.createElement("div",{className:"mui"},n),d=j.createElement(g$,oe({dateAdapter:XK},c),j.createElement(WG,null,f)),p=u?j.createElement(bE,{theme:u},d):d;return p};const Dhe={MuiTextWidget:bJ,MuiTextAreaWidget:_J,MuiDateWidget:Mpe,MuiDateTimeWidget:Bpe,MuiTimeWidget:Hpe,MuiSelectWidget:Upe,MuiNumberWidget:Gpe,MuiSliderWidget:Ype,MuiRangeWidget:Jpe,MuiBooleanWidget:Qpe,MuiMultiSelectWidget:Xpe,MuiAutocompleteWidget:eL,MuiFieldSelect:ahe,MuiFieldAutocomplete:che,MuiIcon:mhe,MuiButton:bhe,MuiButtonGroup:_he,MuiConjs:Ohe,MuiSwitch:Ihe,MuiValueSources:Lhe,MuiConfirm:Rhe,MuiUseConfirm:JG,MuiProvider:Nhe};function mw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mhe=Ct(Ct({},un.settings),{},{renderField:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderOperator:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.MuiConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.MuiSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.MuiButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.MuiIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.MuiButtonGroup;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.MuiProvider;return n(i,e)},renderConfirm:function(e,r){var n=r.W.MuiConfirm;return n(e)},useConfirm:function(e){var r=e.W.MuiUseConfirm;return r()}}),Vhe=Ct(Ct({},un.widgets),{},{text:Ct(Ct({},un.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextWidget;return n(i,e)}}),textarea:Ct(Ct({},un.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextAreaWidget;return n(i,e)}}),number:Ct(Ct({},un.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiNumberWidget;return n(i,e)}}),multiselect:Ct(Ct({},un.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?n(a,Ct(Ct({},e),{},{multiple:!0})):n(o,e)}}),select:Ct(Ct({},un.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiSelectWidget;return e.asyncFetch||e.showSearch?n(a,e):n(o,e)}}),slider:Ct(Ct({},un.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiSliderWidget;return n(i,e)}}),boolean:Ct(Ct({},un.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiBooleanWidget;return n(i,e)}}),date:Ct(Ct({},un.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateWidget;return n(i,e)}}),time:Ct(Ct({},un.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTimeWidget;return n(i,e)}}),datetime:Ct(Ct({},un.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateTimeWidget;return n(i,e)}}),rangeslider:Ct(Ct({},un.widgets.rangeslider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiRangeWidget;return n(i,e)}})}),Bhe=Ct({},un.types),qhe=Ct(Ct({},un.ctx),{},{W:Ct(Ct({},un.ctx.W),Dhe)}),qg=Ct(Ct({},un),{},{ctx:qhe,types:Bhe,widgets:Vhe,settings:Mhe});qg=Do.ConfigMixins.addMixins(qg,["rangeslider"]);const aL=qg,zt=aL,ar=t=>'<span class="logicField">'+t+"</span>",qr=t=>'<span class="logicOp">'+t+"</span>",Xt=(t,e)=>'<span class="logicValue">'+(e=="text"?'"'+t+'"':t)+"</span>",zhe={AND:zt.conjunctions.AND,OR:zt.conjunctions.OR},Hhe={...zt.operators,less:{...zt.operators.less,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr("<")," ").concat(Xt(r,i))},less_or_equal:{...zt.operators.less_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr("<=")," ").concat(Xt(r,i))},greater:{...zt.operators.greater,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr(">")," ").concat(Xt(r,i))},greater_or_equal:{...zt.operators.greater_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ar(t)," ").concat(qr(">=")," ").concat(Xt(r,i))},equal:{...zt.operators.equal,label:"Equals",jsonLogic:"==",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"equals":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},not_equal:{...zt.operators.not_equal,label:"Not Equals",jsonLogic:"!=",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"not equals":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},starts_with:{...zt.operators.starts_with,jsonLogic:"startsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"starts with":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},ends_with:{...zt.operators.ends_with,jsonLogic:"endsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"ends with":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},between:{...zt.operators.between,label:"Between",jsonLogic:"between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ar(t)," ").concat(qr("between")," ").concat(Xt(l,i)," ").concat(qr("and")," ").concat(Xt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},not_between:{...zt.operators.not_between,label:"Not Between",jsonLogic:"not_between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ar(t)," ").concat(qr("not between")," ").concat(Xt(l,i)," ").concat(qr("and")," ").concat(Xt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},like:{...zt.operators.like,label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"contains":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},not_like:{...zt.operators.not_like,label:"Not Contains",jsonLogic:"not_contains",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"does not containends with":a.label;return"".concat(ar(t)," ").concat(qr(u)," ").concat(Xt(r,i))}},select_any_in:{...zt.operators.select_any_in,label:"Any In",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ar(t)," ").concat(qr("in")," (").concat(Xt(l,""),")")}},select_not_any_in:{...zt.operators.select_not_any_in,label:"None In",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ar(t)," ").concat(qr("not in")," (").concat(Xt(l,""),")")}},multiselect_equals:{...zt.operators.multiselect_equals,label:"Any In",jsonLogic:"any_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("Any of")," (").concat(Xt(l,""),") in ").concat(ar(t)," ").concat(qr("is selected"))}},multiselect_not_equals:{...zt.operators.multiselect_not_equals,label:"None In",jsonLogic:"none_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("None of")," (").concat(Xt(l,""),") in ").concat(ar(t)," ").concat(qr("is selected"))}},is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is shown"))},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not shown"))},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is valid"))},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not valid"))},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is empty"))},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is online"))},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is Offline"))},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not empty"))},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is empty"))},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ar(t)," ").concat(Xt("is not empty"))}},Uhe={...zt.widgets,text:{...zt.widgets.text},slider:{...zt.widgets.slider,customProps:{width:"300px"}},rangeslider:{...zt.widgets.rangeslider,customProps:{width:"300px"}},date:{...zt.widgets.date,dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"},time:{...zt.widgets.time,timeFormat:"HH:mm",valueFormat:"HH:mm:ss"},datetime:{...zt.widgets.datetime,timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"},func:{...zt.widgets.func,customProps:{showSearch:!0}},treeselect:{...zt.widgets.treeselect,customProps:{showSearch:!0}}},Ghe={...zt.types,boolean:r$(zt.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})},Whe={valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}},Yhe={...zt.settings,...Whe,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1},Khe={},Jhe={ctx:aL.ctx,conjunctions:zhe,operators:Hhe,widgets:Uhe,types:Ghe,settings:Yhe,funcs:Khe};function Qhe(t){const{jsonLogicFormat:e,queryString:r,loadTree:n,uuid:i,loadFromJsonLogic:a,checkTree:o}=Do,s={...Jhe,fields:t.fields},l=t.logic?o(a(t.logic,s),s):n({id:i(),type:"group"}),[u,c]=J.useState(l),[f,d]=J.useState(r(u,s,!0)),p=g=>T.jsx("div",{jey:"builder",className:"query-builder-container",children:T.jsx("div",{className:"query-builder",children:T.jsx(Mde,{...g})})}),v=g=>{c(g)},h=()=>{const{logic:g,errors:y}=e(u,s);d(r(u,s,!0)),t.onChange(g)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"query-builder-result",children:[t.logic&&f?T.jsx("pre",{className:"condition-human-text",children:FR(Pi(f),50)}):T.jsx("pre",{className:"condition-human-text",children:t.t("no_condition")}),T.jsx("div",{className:"icon-container",children:T.jsx(bt,{onClick:()=>t.onDialogStateChanged(!0),children:T.jsx(mN,{})})})]},"result"),T.jsxs(rm,{fullScreen:!0,sx:{margin:"200px"},open:t.dialogOpen,onClose:()=>t.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(em,{id:"alert-dialog-title-logic-builder",children:t.title}),T.jsx(qu,{children:T.jsx(QP,{...s,value:u,onChange:v,renderBuilder:p})}),T.jsx(tm,{children:T.jsx(Ht,{onClick:()=>{t.onDialogStateChanged(!1),h()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const Xhe=(t,e,r,n,i)=>{let a=$C(t,e),o={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:i}}};return a.forEach(s=>{r[s]&&(ls(s)||Ui(s))&&(o={...o,...Zhe(s,r[s],r,n)})}),o},Zhe=(t,e,r,n)=>{var a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b;const i=t+". "+Pi(((o=(a=e.content)==null?void 0:a.label)==null?void 0:o[n])||"");if(Ui(t))return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(e.type){case"text":case"barcode":case"email":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[t]:{label:i,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[t]:{label:i,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[t]:{label:i,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[t]:{label:i,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let S={},O={};(s=e.children)==null||s.forEach(F=>{var R,G;const D=Pi(((G=(R=r[F.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[n])||"");O[F.code]=D?F.code+" - "+D:F.code}),S[t]={label:i,fieldSettings:{listValues:O},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let x=(l=e.children)==null?void 0:l.find(F=>F.code==="Aother");return x&&((u=r[x.qualifiedCode].children)!=null&&u.find(F=>F.code==="Atext"))&&(S[t+"AotherAtext"]={label:"".concat(i," [").concat(((f=(c=r[x.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),S;case"image_mcq":case"icon_mcq":case"mcq":let C={},I={};(d=e.children)==null||d.forEach(F=>{var R,G;const D=Pi(((G=(R=r[F.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[n])||"");I[F.code]=D?F.code+" - "+D:F.code}),C[t]={label:i,fieldSettings:{listValues:I},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let E=(p=e.children)==null?void 0:p.find(F=>F.code==="Aother");return E&&((v=r[E.qualifiedCode].children)!=null&&v.find(F=>F.code==="Atext"))&&(C[t+"AotherAtext"]={label:"".concat(i," [").concat(((g=(h=r[E.qualifiedCode].content)==null?void 0:h.label)==null?void 0:g[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),C;case"nps":let k={};return(y=e.children)==null||y.forEach(F=>{var R,G;const D=Pi(((G=(R=r[F.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[n])||"");I[F.code]=D?F.code+" - "+D:F.code}),k[t]={label:i,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},k;case"scq_icon_array":case"scq_array":let w={},A={};return(m=e.children)==null||m.filter(F=>F.type=="column").forEach(F=>{var R,G;const D=Pi(((G=(R=r[F.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[n])||"");A[F.code]=D?F.code+" - "+D:F.code}),w[t]={label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},(_=e.children)==null||_.filter(F=>F.type=="row").forEach(F=>{var D,R;w[t+F.code]={label:i+" - "+Pi(((R=(D=r[F.qualifiedCode].content)==null?void 0:D.label)==null?void 0:R[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:A},operators:["select_any_in","select_not_any_in"]}}),w;case"ranking":case"image_ranking":let P={};return(b=e.children)==null||b.forEach(F=>{var D,R;P[t+F.code]={label:i+" - "+Pi(((R=(D=r[F.qualifiedCode].content)==null?void 0:D.label)==null?void 0:R[n])||""),type:"number",fieldSettings:{min:1,max:e.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}}),P;default:return[]}},eve="_relevance_1j5a5_1",tve="_relevanceError_1j5a5_5",rve="_errorContainer_1j5a5_9",yw={relevance:eve,relevanceError:tve,errorContainer:rve};function nve({code:t,t:e}){var b,S,O;const r=wt(),[n,i]=J.useState(!1),a=ye(x=>x.designState),o=j.useMemo(()=>a.langInfo),s=j.useMemo(()=>a[t]),l=j.useMemo(()=>Xhe(a.componentIndex,t,a,o.mainLang,o.languagesList.map(x=>x.code)),[a]),u=(b=s.instructionList)==null?void 0:b.find(x=>x.code=="conditional_relevance"),f=((u==null?void 0:u.errors)||[]).length>0,d=(S=s.relevance)==null?void 0:S.logic,p=!f&&Object.keys(l).length>0,[v,h]=J.useState(((O=s.relevance)==null?void 0:O.rule)||"show_always"),g=v=="show_if"||v=="hide_if",y=x=>{switch(h(x),x){case"show_always":m();return;case"hide_always":r(mf({code:t,key:"relevance",value:{logic:void 0,rule:x}}));return;case"show_if":case"hide_if":(d==null?void 0:d.rule)!="show_if"&&(d==null?void 0:d.rule)!="hide_if"&&i(!0),d&&r(mf({code:t,key:"relevance",value:{logic:d,rule:x}}));return}},m=()=>r(mf({code:t,key:"relevance",value:{logic:void 0,rule:"show_always"}})),_=x=>{i(!1),g&&r(mf({code:t,key:"relevance",value:{logic:x,rule:v}}))};return T.jsxs("div",{className:"".concat(f?yw.relevanceError:""),children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Gi,{id:"show-hide-select",value:v,label:"Age",onChange:x=>y(x.target.value),children:[T.jsx(Zr,{disabled:f,value:"show_always",children:e("show_always")},"show_always"),T.jsx(Zr,{disabled:!p,value:"show_if",children:e("show_if")},"show_if"),T.jsx(Zr,{disabled:!p,value:"hide_if",children:e("hide_if")},"hide_if"),T.jsx(Zr,{disabled:f,value:"hide_always",children:e("hide_always")},"hide_always")]})}),!f&&g&&T.jsx(Qhe,{title:v=="show_if"?e("condition_to_show"):e("condition_to_hide"),onChange:_,onDialogStateChanged:x=>i(x),fields:l,t:e,dialogOpen:n,logic:d}),f?T.jsxs("div",{className:yw.errorContainer,children:[T.jsx(la,{t:e,i18nKey:"wrong_logic_err"}),T.jsx(Ht,{variant:"contained",onClick:()=>m(),children:"OK"})]}):"",g&&!d?T.jsx("div",{children:T.jsx(la,{t:e,i18nKey:"no_logic_err"})}):""]})}const oL=(t,e,r)=>{var a,o;const n=e[t],i=t+". "+Pi((o=(a=n.content)==null?void 0:a.label)==null?void 0:o[r]);return{code:t,label:i}},ive=(t,e,r,n)=>{let i=[];if(!t)return i;let a=t.find(o=>o.code===e);return a&&(i=i.concat(bw(t,a,r,n)),a.parent&&sL(t,a).filter(o=>ls(o.code)||Ui(o.code)).forEach(o=>{i=i.concat(bw(t,o,r,n))})),i},sL=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(sL(t,n))),r},bw=(t,e,r,n)=>{let i=[];return!Ui(e.code)&&!ls(e.code)||t.filter(o=>o.parent==e.parent&&o.minIndex>e.maxIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(o.code)===-1)).forEach(o=>{i=i.concat(oL(o.code,r,n)),i=i.concat(lL(t,o,r,n))}),i},lL=(t,e,r,n)=>{let i=[];return Ui(e.code)&&e.children&&e.children.forEach(a=>{let o=t.find(s=>s.code===a);i=i.concat(oL(o.code,r,n)),i=i.concat(lL(t,o,r,n))}),i},ave="_skipItem_1n8m2_1",ove="_toEnd_1n8m2_6",rb={skipItem:ave,toEnd:ove};function sve({code:t,t:e}){const r=wt(),n=ye(u=>u.designState[t].skip_logic||{}),i=ye(u=>{const c=u.designState.langInfo.mainLang;return ive(u.designState.componentIndex,t,u.designState,c)}),a=ye(u=>u.designState[t].instructionList.filter(c=>c.code.startsWith("skip_to"))),o=ye(u=>{var f,d;const c=u.designState.langInfo.lang;return(d=(f=u.designState[t])==null?void 0:f.children)==null?void 0:d.map(p=>{var v,h;return{code:p.code,label:((h=(v=u.designState[p.qualifiedCode].content)==null?void 0:v.label)==null?void 0:h[c])||p.code}})}),s=(u,c)=>{c=="proceed"?r(LR({code:t,answerCode:u})):r(RR({code:t,answerCode:u,skipTo:c}))},l=(u,c)=>{r($R({code:t,answerCode:u,toEnd:c}))};return T.jsx(T.Fragment,{children:o==null?void 0:o.map(u=>{var h,g;const c=u.code,f=n==null?void 0:n[c],d=f==null?void 0:f.skipTo,p=d||"proceed",v=d&&((g=(h=a==null?void 0:a.find(y=>y.code=="skip_to_on_"+c))==null?void 0:h.errors)==null?void 0:g.find(y=>y.name=="InvalidSkipReference"));return T.jsxs("div",{className:rb.skipItem,children:[T.jsx(la,{t:e,values:{code:u.label},i18nKey:"if_answer_is"}),v?lve(c,d,s,e):uve(c,i,p,f==null?void 0:f.toEnd,s,l,e)]},u.code)})})}function lve(t,e,r,n){return T.jsxs(ht,{className:rb.errorDisplay,children:[T.jsx(i$,{style:{verticalAlign:"middle"}})," ",T.jsx(la,{t:n,values:{code:e},i18nKey:"invalid_skip_destination_err"}),T.jsx(Ht,{variant:"contained",onClick:()=>r(t,"proceed"),children:n("ok")})]})}function uve(t,e,r,n,i,a,o){return T.jsxs(T.Fragment,{children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Gi,{id:"skip-action",value:r,label:o("skip_to"),onChange:s=>i(t,s.target.value),children:[T.jsx(Zr,{value:"proceed",children:o("proceed_as_usual")},"proceed"),e&&(e==null?void 0:e.map(s=>T.jsx(Zr,{value:s.code,children:s.label},s.code)))]})}),r&&r.startsWith("G")&&T.jsxs("div",{className:rb.toEnd,children:[T.jsx("h4",{children:o("to_group_end")}),T.jsx(cs,{checked:n||!1,onChange:s=>a(t,s.target.checked)})]})]})}const cve="_sectionTitle_nmfqz_1",fve="_rightContent_nmfqz_6",dve="_close_nmfqz_13",pve="_accordionStyle_nmfqz_17",Zu={sectionTitle:cve,rightContent:fve,close:dve,accordionStyle:pve},hve="_errorDisplay_1avr2_1",vve={errorDisplay:hve};function uL({errors:t}){const{t:e}=ss("design");return T.jsx(ht,{className:vve.errorDisplay,children:t.map(r=>{if(r.name=="PriorityGroupItemNotChild")return T.jsx(la,{t:e,i18nKey:"err_priority_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicatePriorityGroupItems")return T.jsx(la,{t:e,i18nKey:"err_duplicate_priority_group_items",values:{items:r.items.join(", ")}},r.name);if(r.name=="PriorityLimitMismatch")return e("err_priority_limit_mismatch");if(r.name=="RandomGroupItemNotChild")return T.jsx(la,{t:e,i18nKey:"err_random_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicateRandomGroupItems")return T.jsx(la,{t:e,i18nKey:"err_duplicate_random_group_items",values:{items:r.items.join(", ")}},r.name)})},"box")}const gve="_randomHeader_1pjix_1",mve="_title_1pjix_6",yve="_action_1pjix_11",bve="_settingIcon_1pjix_15",_ve="_randomBody_1pjix_19",Sve="_list_1pjix_19",Ove="_weight_1pjix_30",xve="_randomAction_1pjix_47",wve="_listItem_1pjix_53",Eve="_label_1pjix_58",Cve="_input_1pjix_64",Tve="_listItemError_1pjix_68",kve="_randomItem_1pjix_84",Ive="_highlighted_1pjix_89",Bn={randomHeader:gve,title:mve,action:yve,settingIcon:bve,randomBody:_ve,list:Sve,weight:Ove,randomAction:xve,listItem:wve,label:Eve,input:Cve,listItemError:Tve,randomItem:kve,highlighted:Ive};var nb={},Ave=Cr;Object.defineProperty(nb,"__esModule",{value:!0});var ib=nb.default=void 0,jve=Ave(Tr()),Pve=T;ib=nb.default=(0,jve.default)((0,Pve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");function Fve(t){var e;return T.jsxs(up,{className:"".concat(Bn.randomItem," ").concat(t.isBeingEdited?Bn.highlighted:""),children:[T.jsxs("div",{className:Bn.randomHeader,children:[T.jsx("h4",{className:Bn.title,children:t.t("prioritise")}),T.jsxs("div",{className:Bn.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ib,{className:Bn.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(zu,{className:Bn.settingIcon})})]})]}),T.jsxs("div",{className:Bn.randomBody,children:[t.t("priority_show_limit_from_count",{limit:t.data.limit,count:(e=t.data.weights)==null?void 0:e.length}),T.jsx("ul",{className:Bn.list,children:t.data&&t.data.weights&&t.data.weights.map((r,n)=>T.jsx(Lve,{label:t.getChildLabelByCode(r.code),code:r.code,childrenCodes:t.childrenCodes,weight:r.weight},n))})]})]})}function Lve({code:t,label:e,weight:r,childrenCodes:n}){return T.jsxs("li",{className:n.indexOf(t)!==-1?Bn.listItem:Bn.listItemError,children:[T.jsxs("div",{className:"".concat(Bn.content," ").concat(Bn.label),children:[t,": ",e]}),T.jsx("div",{className:Bn.weight,children:T.jsx("span",{children:r})})]})}const Rve="_title_5cg20_1",$ve="_randomBody_5cg20_6",Nve="_list_5cg20_6",Dve="_weight_5cg20_18",Mve="_label_5cg20_35",Vve="_randomAction_5cg20_39",Bve="_listItem_5cg20_45",qve="_input_5cg20_50",zve="_randomItem_5cg20_54",aa={title:Rve,randomBody:$ve,list:Nve,weight:Dve,label:Mve,randomAction:Vve,listItem:Bve,input:qve,randomItem:zve};var ab={},Hve=Cr;Object.defineProperty(ab,"__esModule",{value:!0});var ob=ab.default=void 0,Uve=Hve(Tr()),Gve=T;ob=ab.default=(0,Uve.default)((0,Gve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var sb={},Wve=Cr;Object.defineProperty(sb,"__esModule",{value:!0});var lb=sb.default=void 0,Yve=Wve(Tr()),Kve=T;lb=sb.default=(0,Yve.default)((0,Kve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");function Jve(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.data),o=()=>{const h=r.filter(g=>g).length;return h>=2&&i.limit<=h-1&&i.limit>=1},s=()=>{if(r.filter(m=>m).length<2)return!1;const g={...i},y=r.reduce((m,_,b)=>(_&&m.push(g.weights[b]),m),[]);t.onSubmit({...g,weights:y})},l=(h,g)=>{const y=[...r];y[g]=h,n([...y])},u=h=>{a({...i,limit:h})},c=(h,g)=>{const y={...i};y.weights=[...i.weights],y.weights[g]={...i.weights[g],weight:h},a(y)},f=h=>{if(h===1)return!1;h--,u(h)},d=h=>{if(h===i.weights.length-1)return!1;h++,u(h)},p=(h,g)=>{if(h===1)return!1;h--,c(h,g)},v=(h,g)=>{h++,c(h,g)};return T.jsxs(up,{className:aa.randomItem,children:[T.jsx("h4",{className:aa.title,children:t.title}),T.jsxs("div",{className:aa.randomBody,children:[T.jsx(Xve,{t:e,increaseLimit:d,decreaseLimit:f,limit:i.limit}),T.jsx("ul",{className:"".concat(aa.list," ").concat(aa.active),children:i&&i.weights&&i.weights.map((h,g)=>T.jsx(Qve,{code:h.code,weight:h.weight,handleChange:y=>l(y,g),decreaseWeight:y=>p(y,g),increaseWeight:y=>v(y,g),checked:(r==null?void 0:r[g])||!1,label:t.getChildLabelByCode(h.code)},g))})]}),T.jsxs("div",{className:aa.randomAction,children:[T.jsx(Ht,{variant:"text",onClick:h=>t.onCancel(),children:e("cancel")}),T.jsx(Ht,{variant:"contained",onClick:h=>s(),disabled:!o(),children:e("submit")})]})]})}function Qve({code:t,checked:e,label:r,weight:n,handleChange:i,increaseWeight:a,decreaseWeight:o}){return T.jsxs("li",{className:aa.listItem,children:[T.jsx(Fi,{checked:e,onChange:s=>i(s.target.checked)}),T.jsxs("div",{className:"".concat(aa.content," ").concat(aa.label),children:[t,": ",r]}),T.jsxs("div",{className:aa.weight,children:[T.jsx(bt,{size:"small",onClick:s=>o(n),children:T.jsx(ob,{})}),T.jsx("span",{children:n}),T.jsx(bt,{size:"small",onClick:s=>a(n),children:T.jsx(lb,{})})]})]})}function Xve({limit:t,increaseLimit:e,decreaseLimit:r,t:n}){return T.jsxs(T.Fragment,{children:[n("priority_show"),T.jsx(bt,{size:"small",onClick:i=>r(t),children:T.jsx(ob,{})}),t,T.jsx(bt,{size:"small",onClick:i=>e(t),children:T.jsx(lb,{})})]})}function _v({t,type:e,code:r,hideErrors:n}){var E,k;const i=wt(),[a,o]=J.useState({}),s=ye(w=>w.designState[r]),l=ye(w=>{var A,P,F,D;return((D=(F=(P=(A=w.designState[r])==null?void 0:A.children)==null?void 0:P.filter(R=>e?R.type==e:!0))==null?void 0:F.filter(R=>{var G,V;return((G=R.groupType)==null?void 0:G.toLowerCase())!="welcome"&&((V=R.groupType)==null?void 0:V.toLowerCase())!="end"}))==null?void 0:D.map(R=>R.code))||[]}),u=ye(w=>w.designState.langInfo.lang),c=ye(w=>{var A,P,F;return((F=(P=(A=w.designState[r])==null?void 0:A.children)==null?void 0:P.filter(D=>e?D.type==e:!0))==null?void 0:F.map(D=>{var R,G;return{code:D.code,label:(G=(R=w.designState[D.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[u]}}))||[]}),f=_E(s,"priority_groups"),d=((E=f==null?void 0:f.priorities)==null?void 0:E.filter(w=>e?w.weights.some(A=>l.includes(A.code)):!0))||[];let p=d.map(w=>w.weights).flat().map(w=>w.code).flat();const v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(w=>w.items.some(A=>p.includes(A))))||[],h=w=>{i(e?NR({code:r,priorities:w,type:e}):DR({code:r,priorities:w}))},g=w=>{var P;const A=(P=c.find(F=>F.code==w))==null?void 0:P.label;return A==null?void 0:A.replace(/<[^>]*>/g,"")},y=()=>l.filter(w=>!p.includes(w)),m=w=>{window.confirm(t("are_you_sure"))&&h(d.filter((A,P)=>P!==w))},_=!a||Object.keys(a).length==0,b=w=>{let A=[],P=[];P.weights=[];const F=y();l.forEach(D=>{if(F.includes(D))P.weights.push({code:D,weight:1}),A.push(!1);else{let R=d[w].weights.findIndex(G=>G.code==D);R>-1&&(P.weights.push(d[w].weights[R]),A.push(!0))}P.limit=d[w].limit}),o({index:w,checked:A,title:t("edit_priority_rule"),data:P})},S=()=>{o({})},O=(w,A)=>{const P=d?[...d]:[];P[A]={...w},h(P),S()},x=()=>{const w=y(),A=w.map(P=>({code:P,weight:1}));o({title:t("add_priority_rule"),checked:w.map(P=>!1),data:{limit:1,weights:A},index:d?d.length:0,icon:T.jsx(Cd,{})})},C=w=>{let A=[...w.weights].sort(function(P,F){return l.findIndex(D=>D===P.code)-l.findIndex(D=>D===F.code)});return{...w,weights:A}},I=(w,A)=>{let P=[...w.weights].filter(F=>A.includes(F.code));return P.length<=1&&S(),{limit:Math.min(w.limit,P.length-1),weights:P}};return T.jsxs(T.Fragment,{children:[d&&d.map((w,A)=>T.jsx(Fve,{t,data:C(w),index:A,childrenCodes:l,isBeingEdited:a.index==A,onDeleteClicked:P=>{o({}),m(P)},onEditClicked:P=>b(P),getChildLabelByCode:g},A)),!n&&v.length>0?T.jsx(uL,{errors:v}):"",_&&T.jsxs(Ht,{variant:"contained",disabled:y().length<2,onClick:x,children:[T.jsx(Cd,{sx:{paddingRight:"8px"}})," ",t("add_priority_rule")]}),a&&a.data&&T.jsx(Jve,{t,title:a.title,data:I(a.data,l),index:a.index,getChildLabelByCode:g,checked:a.checked,onSubmit:w=>O(w,a.index),onCancel:S})]})}const Zve="_selectValue_14l81_1",ege={selectValue:Zve},tge="_errorDisplay_1vtlj_1",rge="_addNew_1vtlj_10",nge={errorDisplay:tge,addNew:rge},ige="_title_1p7e9_1",age="_list_1p7e9_6",oge="_randomAction_1p7e9_19",sge="_listItem_1p7e9_25",lge="_input_1p7e9_30",uge="_randomItem_1p7e9_34",Nu={title:ige,list:age,randomAction:oge,listItem:sge,input:lge,randomItem:uge};function cge(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.randomOption),o=()=>r.filter(f=>f).length>=2,s=[e("random_order"),e("flip_order"),e("sort_by_label")],l=["RANDOM","FLIP","ALPHA"],u=()=>{if(r.filter(p=>p).length<2)return!1;const d=r.reduce((p,v,h)=>(v&&p.push(t.data[h]),p),[]);t.onSubmit(d,i)},c=(f,d)=>{const p=[...r];p[d]=f,n([...p])};return T.jsxs(up,{className:Nu.randomItem,children:[T.jsx("h4",{className:Nu.title,children:t.title}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Gi,{id:"select-value",value:i,label:"Select Value",onChange:f=>{a(f.target.value)},children:s.map((f,d)=>T.jsx(Zr,{value:l[d],children:f},f))})}),T.jsx("ul",{className:Nu.list,children:t.data&&t.data.map((f,d)=>T.jsx(fge,{code:f,handleChange:p=>c(p,d),checked:(r==null?void 0:r[d])||!1,label:t.getChildLabelByCode(f)},d))}),T.jsxs("div",{className:Nu.randomAction,children:[T.jsx(Ht,{variant:"text",onClick:f=>t.onCancel(),children:e("cancel")}),T.jsx(Ht,{variant:"contained",onClick:f=>u(),disabled:!o(),children:e("submit")})]})]})}function fge({code:t,label:e,checked:r,handleChange:n}){return T.jsxs("li",{className:Nu.listItem,children:[T.jsx(Fi,{checked:r,onChange:i=>n(i.target.checked)}),t,": ",e]})}const dge="_randomHeader_10d2m_1",pge="_title_10d2m_6",hge="_action_10d2m_11",vge="_settingIcon_10d2m_15",gge="_list_10d2m_19",mge="_randomAction_10d2m_30",yge="_listItem_10d2m_36",bge="_label_10d2m_41",_ge="_input_10d2m_47",Sge="_listItemError_10d2m_51",Oge="_randomItem_10d2m_63",xge="_highlighted_10d2m_68",li={randomHeader:dge,title:pge,action:hge,settingIcon:vge,list:gge,randomAction:mge,listItem:yge,label:bge,input:_ge,listItemError:Sge,randomItem:Oge,highlighted:xge},wge=(t,e)=>{switch(t){case"ALPHA":return e("sort_by_label");case"RANDOM":return e("random_order");case"FLIP":return e("flip_order")}throw"unidentified randomOption: "+t};function Ege(t){const e=t.t;return T.jsxs(up,{className:"".concat(li.randomItem," ").concat(t.isBeingEdited?li.highlighted:""),children:[T.jsxs("div",{className:li.randomHeader,children:[T.jsx("h4",{className:li.title,children:wge(t.randomOption,e)}),T.jsxs("div",{className:li.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ib,{className:li.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(zu,{className:li.settingIcon})})]})]}),T.jsx("ul",{className:li.list,children:t.data&&t.data.map((r,n)=>T.jsx(Cge,{label:t.getChildLabelByCode(r),code:r,childrenCodes:t.childrenCodes},n))})]})}function Cge({code:t,label:e,childrenCodes:r}){return T.jsx("li",{className:r.indexOf(t)!==-1?li.listItem:li.listItemError,children:T.jsxs("div",{className:"".concat(li.content," ").concat(li.label),children:[t,": ",e]})})}function Sv({t,type:e,code:r,hideErrors:n}){var E,k;const i=wt(),[a,o]=J.useState({}),s=ye(w=>w.designState[r]),l=ye(w=>{var A,P,F,D;return((D=(F=(P=(A=w.designState[r])==null?void 0:A.children)==null?void 0:P.filter(R=>e?R.type==e:!0))==null?void 0:F.filter(R=>{var G,V;return((G=R.groupType)==null?void 0:G.toLowerCase())!="welcome"&&((V=R.groupType)==null?void 0:V.toLowerCase())!="end"}))==null?void 0:D.map(R=>R.code))||[]}),u=ye(w=>w.designState.langInfo.lang),c=ye(w=>{var A,P,F;return((F=(P=(A=w.designState[r])==null?void 0:A.children)==null?void 0:P.filter(D=>e?D.type==e:!0))==null?void 0:F.map(D=>{var R,G;return{code:D.code,label:(G=(R=w.designState[D.qualifiedCode].content)==null?void 0:R.label)==null?void 0:G[u]}}))||[]}),f=_E(s,"random_group"),d=((E=f==null?void 0:f.groups)==null?void 0:E.filter(w=>e?w.codes.some(A=>l.includes(A)):!0))||[],p=d.map(w=>w.codes).flat(),v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(w=>w.items.some(A=>p.includes(A))))||[],h=w=>{i(e?MR({code:r,groups:w,type:e}):VR({code:r,groups:w}))},g=w=>{var P;const A=(P=c.find(F=>F.code==w))==null?void 0:P.label;return A==null?void 0:A.replace(/<[^>]*>/g,"")},y=w=>l.filter(A=>!p.includes(A)),m=w=>{window.confirm(t("are_you_sure"))&&h(d.filter((A,P)=>P!==w))},_=w=>[...w.codes].sort(function(A,P){return l.findIndex(F=>F===A)-l.findIndex(F=>F===P)}),b=w=>{let A=[],P=[],F=y();P=l.filter(D=>F.includes(D)||d[w].codes.includes(D)),A=P.map(D=>!!d[w].codes.includes(D)),o({index:w,checked:A,randomOption:d[w].randomOption||"RANDOM",title:t("edit_random_rule"),data:P})},S=()=>{o({})},O=!a||Object.keys(a).length==0,x=(w,A,P)=>{const F=d?[...d]:[];F[P]={codes:w,randomOption:A},h(F),S()},C=()=>{const w=y();o({title:t("add_new_random_rule"),data:w,checked:[],randomOption:"RANDOM",index:d?d.length:0})},I=(w,A)=>{let P=[...w].filter(F=>A.includes(F));return P.length<=1&&S(),P};return T.jsxs(T.Fragment,{children:[d&&d.map((w,A)=>T.jsx(Ege,{t,data:_(w),randomOption:w.randomOption,index:A,isBeingEdited:a.index==A,childrenCodes:l,getChildLabelByCode:g,onDeleteClicked:P=>{o({}),m(P)},onEditClicked:P=>b(P)},A)),!n&&v.length>0?T.jsx(uL,{errors:v}):"",O&&T.jsxs(Ht,{className:nge.addNew,variant:"contained",disabled:y().length<2,onClick:C,children:[T.jsx(Fm,{sx:{paddingRight:"8px"}})," ",t("add_random_rule")]}),a&&a.data&&T.jsx(cge,{t,title:a.title,data:I(a.data,l),randomOption:a.randomOption,getChildLabelByCode:g,checked:a.checked,onSubmit:(w,A)=>x(w,A,a.index),onCancel:S})]})}function Tge({t,rule:e,code:r}){const n=wt(),i=ye(u=>u.designState[r][e]||"NONE");let a="",o=[],s=[];switch(e){case"randomize_questions":a=t("questions_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=t("questions_priority"),o=[t("no_priority"),t("prioritise_questions")],s=["NONE","prioritize"];break;case"randomize_groups":a=t("groups_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=t("groups_priority"),o=[t("no_priority"),t("prioritise_groups")],s=["NONE","prioritize"];break;case"randomize_options":a=t("options_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=t("options_priority"),o=[t("no_priority"),t("prioritise_options")],s=["NONE","prioritize"];break;case"randomize_rows":a=t("rows_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=t("rows_priority"),o=[t("no_priority"),t("prioritise_rows")],s=["NONE","prioritize"];break;case"randomize_columns":a=t("columns_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=t("columns_priority"),o=[t("no_priority"),t("prioritise_columns")],s=["NONE","prioritize"];break}const l=u=>{const c=u=="NONE"?void 0:u;n(Yn({code:r,key:e,value:c}))};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:a}),T.jsx(Dr,{className:ege.selectValue,variant:"standard",fullWidth:!0,children:T.jsx(Gi,{id:"select-value",value:i,label:"Select Value",onChange:u=>{l(u.target.value)},children:o.map((u,c)=>T.jsx(Zr,{value:s[c],children:u},u))})}),i=="custom"&&["randomize_questions","randomize_options","randomize_groups"].indexOf(e)!==-1&&T.jsx(Sv,{label:"",code:r,t}),i=="custom"&&e=="randomize_rows"&&T.jsx(Sv,{label:"",type:"row",code:r,t}),i=="prioritize"&&e=="prioritize_rows"&&T.jsx(_v,{label:"",type:"row",code:r,t}),i=="custom"&&e=="randomize_columns"&&T.jsx(Sv,{label:"",type:"column",code:r,t}),i=="prioritize"&&e=="prioritize_columns"&&T.jsx(_v,{label:"",type:"column",code:r,t}),i=="prioritize"&&["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(e)!==-1&&T.jsx(_v,{label:"",code:r,t})]})}const kge=()=>{const{t}=ss("design"),e=wt(),r=ye(i=>i.designState.Survey.navigationMode||yf.GROUP_BY_GROUP),n=i=>{e(Yn({code:"Survey",key:"navigationMode",value:i.target.value}))};return T.jsxs(Dr,{fullWidth:!0,children:[T.jsx(d$,{id:"navigation-mode-label",children:t("navigation_mode")}),T.jsxs(Gi,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:t("label.navigation_mode"),onChange:n,children:[T.jsx(Zr,{value:yf.GROUP_BY_GROUP,children:t("group_by_group")}),T.jsx(Zr,{value:yf.QUESTION_BY_QUESTION,children:t("question_by_question")}),T.jsx(Zr,{value:yf.ALL_IN_ONE,children:t("all_in_one")})]})]})},Ige="_theming_1v217_1",Age="_chooseImage_1v217_12",jge="_resetButton_1v217_21",Pge="_fontText_1v217_24",Fge="_selectDropdown_1v217_27",Lge="_colorBox_1v217_33",Rge="_colorPickerContainer_1v217_40",En={theming:Ige,chooseImage:Age,resetButton:jge,fontText:Pge,selectDropdown:Fge,colorBox:Lge,colorPickerContainer:Rge},$ge="_themingItem_11qn9_1",Nge="_themingItemBody_11qn9_6",Dge="_selectDropdown_11qn9_13",Ov={themingItem:$ge,themingItemBody:Nge,selectDropdown:Dge};function xv(t){const e=Array.from({length:12},(n,i)=>i*2+10);function r(n,i){t.onChange({...t.value,[n]:i})}return T.jsx("div",{className:Ov.themingItem,children:T.jsx("div",{className:Ov.themingItemBody,children:T.jsx(Gi,{size:"small",value:t.value.size||t.default.size,onChange:n=>r("size",n.target.value),IconComponent:xE,className:Ov.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:e&&e.length>0&&e.map((n,i)=>T.jsx(Zr,{value:n,children:n},"fontSize-".concat(i)))},"fontSize")})})}var fi={},cf={},Mge=fs,Vge=ri,Bge=Oa,qge="[object String]";function zge(t){return typeof t=="string"||!Vge(t)&&Bge(t)&&Mge(t)==qge}var Hge=zge,Uge=eh;function Gge(t){return typeof t=="function"?t:Uge}var Wge=Gge,Yge=D0,Kge=Wge;function Jge(t,e){return t&&Yge(t,Kge(e))}var ub=Jge,Qge=zl;function Xge(t,e){return function(r,n){if(r==null)return r;if(!Qge(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Zge=Xge,eme=D0,tme=Zge,rme=tme(eme),nme=rme,ime=nme,ame=zl;function ome(t,e){var r=-1,n=ame(t)?Array(t.length):[];return ime(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var sme=ome,lme=Qp,ume=M0,cme=sme,fme=ri;function dme(t,e){var r=fme(t)?lme:cme;return r(t,ume(e))}var pme=dme;Object.defineProperty(cf,"__esModule",{value:!0});cf.flattenNames=void 0;var hme=Hge,vme=vh(hme),gme=ub,mme=vh(gme),yme=c0,bme=vh(yme),_me=pme,Sme=vh(_me);function vh(t){return t&&t.__esModule?t:{default:t}}var Ome=cf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,Sme.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,bme.default)(n)?(0,mme.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,vme.default)(n)&&r.push(n)}),r};cf.default=Ome;var ff={},xme=VI,wme=1,Eme=4;function Cme(t){return xme(t,wme|Eme)}var Tme=Cme;Object.defineProperty(ff,"__esModule",{value:!0});ff.mergeClasses=void 0;var kme=ub,Ime=cL(kme),Ame=Tme,jme=cL(Ame),Pme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function cL(t){return t&&t.__esModule?t:{default:t}}var Fme=ff.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,jme.default)(e.default)||{};return r.map(function(i){var a=e[i];return a&&(0,Ime.default)(a,function(o,s){n[s]||(n[s]={}),n[s]=Pme({},n[s],a[s])}),i}),n};ff.default=Fme;var df={};Object.defineProperty(df,"__esModule",{value:!0});df.autoprefix=void 0;var Lme=ub,_w=$me(Lme),Rme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function $me(t){return t&&t.__esModule?t:{default:t}}var Nme={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},Dme=df.autoprefix=function(e){var r={};return(0,_w.default)(e,function(n,i){var a={};(0,_w.default)(n,function(o,s){var l=Nme[s];l?a=Rme({},a,l(o)):a[s]=o}),r[i]=a}),r};df.default=Dme;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.hover=void 0;var Mme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vme=J,wv=Bme(Vme);function Bme(t){return t&&t.__esModule?t:{default:t}}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hme=pf.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){zme(i,n);function i(){var a,o,s,l;qme(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Sw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return wv.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},wv.default.createElement(e,Mme({},s.props,s.state)))},o),Sw(s,l)}return i}(wv.default.Component)};pf.default=Hme;var hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.active=void 0;var Ume=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gme=J,Ev=Wme(Gme);function Wme(t){return t&&t.__esModule?t:{default:t}}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ow(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jme=hf.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Kme(i,n);function i(){var a,o,s,l;Yme(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Ow(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return Ev.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},Ev.default.createElement(e,Ume({},s.props,s.state)))},o),Ow(s,l)}return i}(Ev.default.Component)};hf.default=Jme;var cb={};Object.defineProperty(cb,"__esModule",{value:!0});var Qme=function(e,r){var n={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};cb.default=Qme;Object.defineProperty(fi,"__esModule",{value:!0});fi.ReactCSS=fi.loop=fi.handleActive=fb=fi.handleHover=fi.hover=void 0;var Xme=cf,Zme=vu(Xme),eye=ff,tye=vu(eye),rye=df,nye=vu(rye),iye=pf,fL=vu(iye),aye=hf,oye=vu(aye),sye=cb,lye=vu(sye);function vu(t){return t&&t.__esModule?t:{default:t}}fi.hover=fL.default;var fb=fi.handleHover=fL.default;fi.handleActive=oye.default;fi.loop=lye.default;var uye=fi.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,Zme.default)(n),o=(0,tye.default)(e,a);return(0,nye.default)(o)},rt=fi.default=uye,cye=function(e,r,n,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),f=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0?d=0:f>s?d=1:d=Math.round(f*100/s)/100,r.a!==d)return{h:r.h,s:r.s,l:r.l,a:d,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>o?p=1:p=Math.round(c*100/o)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},Cv={},fye=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=r,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null},dye=function(e,r,n,i){var a=e+"-"+r+"-"+n+(i?"-server":"");if(Cv[a])return Cv[a];var o=fye(e,r,n,i);return Cv[a]=o,o},xw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu=function(e){var r=e.white,n=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,u=rt({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+dye(r,n,i,a.canvas)+") center left"}}});return J.isValidElement(l)?j.cloneElement(l,xw({},l.props,{style:xw({},l.props.style,u.grid)})):j.createElement("div",{style:u.grid})};gu.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var pye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var db=function(t){gye(e,t);function e(){var r,n,i,a;vye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=ww(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=cye(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),ww(i,a)}return hye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=rt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:pye({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return j.createElement("div",{style:a.alpha},j.createElement("div",{style:a.checkboard},j.createElement(gu,{renderers:this.props.renderers})),j.createElement("div",{style:a.gradient}),j.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("div",{style:a.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:a.slider}))))}}]),e}(J.PureComponent||J.Component),mye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function yye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oye=1,dL=38,xye=40,wye=[dL,xye],Eye=function(e){return wye.indexOf(e)>-1},Cye=function(e){return Number(String(e).replace(/%/g,""))},Tye=1,Tt=function(t){Sye(e,t);function e(r){bye(this,e);var n=_ye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=Cye(i.target.value);if(!isNaN(a)&&Eye(i.keyCode)){var o=n.getArrowOffset(),s=i.keyCode===dL?a+o:a-o;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Tye++,n}return mye(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return yye({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Oye}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=rt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return j.createElement("div",{style:i.wrap},j.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return n.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?j.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(J.PureComponent||J.Component),kye=function(e,r,n,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(c<0)f=359;else if(c>o)f=0;else{var d=-(c*100/o)+100;f=360*d/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>a)p=359;else{var v=u*100/a;p=360*v/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Iye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ew(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mu=function(t){jye(e,t);function e(){var r,n,i,a;Aye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=Ew(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=kye(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Ew(i,a)}return Iye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,o=rt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return j.createElement("div",{style:o.hue},j.createElement("div",{className:"hue-"+a,style:o.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),j.createElement("div",{style:o.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:o.slider}))))}}]),e}(J.PureComponent||J.Component);function Pye(){this.__data__=[],this.size=0}function vf(t,e){return t===e||t!==t&&e!==e}function gh(t,e){for(var r=t.length;r--;)if(vf(t[r][0],e))return r;return-1}var Fye=Array.prototype,Lye=Fye.splice;function Rye(t){var e=this.__data__,r=gh(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Lye.call(e,r,1),--this.size,!0}function $ye(t){var e=this.__data__,r=gh(e,t);return r<0?void 0:e[r][1]}function Nye(t){return gh(this.__data__,t)>-1}function Dye(t,e){var r=this.__data__,n=gh(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Qa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qa.prototype.clear=Pye;Qa.prototype.delete=Rye;Qa.prototype.get=$ye;Qa.prototype.has=Nye;Qa.prototype.set=Dye;function Mye(){this.__data__=new Qa,this.size=0}function Vye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Bye(t){return this.__data__.get(t)}function qye(t){return this.__data__.has(t)}var pL=typeof global=="object"&&global&&global.Object===Object&&global,zye=typeof self=="object"&&self&&self.Object===Object&&self,Qi=pL||zye||Function("return this")(),To=Qi.Symbol,hL=Object.prototype,Hye=hL.hasOwnProperty,Uye=hL.toString,Au=To?To.toStringTag:void 0;function Gye(t){var e=Hye.call(t,Au),r=t[Au];try{t[Au]=void 0;var n=!0}catch(a){}var i=Uye.call(t);return n&&(e?t[Au]=r:delete t[Au]),i}var Wye=Object.prototype,Yye=Wye.toString;function Kye(t){return Yye.call(t)}var Jye="[object Null]",Qye="[object Undefined]",Cw=To?To.toStringTag:void 0;function ws(t){return t==null?t===void 0?Qye:Jye:Cw&&Cw in Object(t)?Gye(t):Kye(t)}function wi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xye="[object AsyncFunction]",Zye="[object Function]",e0e="[object GeneratorFunction]",t0e="[object Proxy]";function pb(t){if(!wi(t))return!1;var e=ws(t);return e==Zye||e==e0e||e==Xye||e==t0e}var Tv=Qi["__core-js_shared__"],Tw=function(){var t=/[^.]+$/.exec(Tv&&Tv.keys&&Tv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function r0e(t){return!!Tw&&Tw in t}var n0e=Function.prototype,i0e=n0e.toString;function Es(t){if(t!=null){try{return i0e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var a0e=/[\\^$.*+?()[\]{}|]/g,o0e=/^\[object .+?Constructor\]$/,s0e=Function.prototype,l0e=Object.prototype,u0e=s0e.toString,c0e=l0e.hasOwnProperty,f0e=RegExp("^"+u0e.call(c0e).replace(a0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d0e(t){if(!wi(t)||r0e(t))return!1;var e=pb(t)?f0e:o0e;return e.test(Es(t))}function p0e(t,e){return t==null?void 0:t[e]}function Cs(t,e){var r=p0e(t,e);return d0e(r)?r:void 0}var Ec=Cs(Qi,"Map"),Cc=Cs(Object,"create");function h0e(){this.__data__=Cc?Cc(null):{},this.size=0}function v0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g0e="__lodash_hash_undefined__",m0e=Object.prototype,y0e=m0e.hasOwnProperty;function b0e(t){var e=this.__data__;if(Cc){var r=e[t];return r===g0e?void 0:r}return y0e.call(e,t)?e[t]:void 0}var _0e=Object.prototype,S0e=_0e.hasOwnProperty;function O0e(t){var e=this.__data__;return Cc?e[t]!==void 0:S0e.call(e,t)}var x0e="__lodash_hash_undefined__";function w0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Cc&&e===void 0?x0e:e,this}function os(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}os.prototype.clear=h0e;os.prototype.delete=v0e;os.prototype.get=b0e;os.prototype.has=O0e;os.prototype.set=w0e;function E0e(){this.size=0,this.__data__={hash:new os,map:new(Ec||Qa),string:new os}}function C0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function mh(t,e){var r=t.__data__;return C0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function T0e(t){var e=mh(this,t).delete(t);return this.size-=e?1:0,e}function k0e(t){return mh(this,t).get(t)}function I0e(t){return mh(this,t).has(t)}function A0e(t,e){var r=mh(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Xa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xa.prototype.clear=E0e;Xa.prototype.delete=T0e;Xa.prototype.get=k0e;Xa.prototype.has=I0e;Xa.prototype.set=A0e;var j0e=200;function P0e(t,e){var r=this.__data__;if(r instanceof Qa){var n=r.__data__;if(!Ec||n.length<j0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Xa(n)}return r.set(t,e),this.size=r.size,this}function ha(t){var e=this.__data__=new Qa(t);this.size=e.size}ha.prototype.clear=Mye;ha.prototype.delete=Vye;ha.prototype.get=Bye;ha.prototype.has=qye;ha.prototype.set=P0e;var ep=function(){try{var t=Cs(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();function hb(t,e,r){e=="__proto__"&&ep?ep(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function zg(t,e,r){(r!==void 0&&!vf(t[e],r)||r===void 0&&!(e in t))&&hb(t,e,r)}function F0e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return e}}var vL=F0e(),gL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kw=gL&&typeof module=="object"&&module&&!module.nodeType&&module,L0e=kw&&kw.exports===gL,Iw=L0e?Qi.Buffer:void 0;Iw&&Iw.allocUnsafe;function R0e(t,e){return t.slice()}var tp=Qi.Uint8Array;function $0e(t){var e=new t.constructor(t.byteLength);return new tp(e).set(new tp(t)),e}function N0e(t,e){var r=$0e(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function D0e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Aw=Object.create,M0e=function(){function t(){}return function(e){if(!wi(e))return{};if(Aw)return Aw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function mL(t,e){return function(r){return t(e(r))}}var yL=mL(Object.getPrototypeOf,Object),V0e=Object.prototype;function vb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||V0e;return t===r}function B0e(t){return typeof t.constructor=="function"&&!vb(t)?M0e(yL(t)):{}}function ko(t){return t!=null&&typeof t=="object"}var q0e="[object Arguments]";function jw(t){return ko(t)&&ws(t)==q0e}var bL=Object.prototype,z0e=bL.hasOwnProperty,H0e=bL.propertyIsEnumerable,rp=jw(function(){return arguments}())?jw:function(t){return ko(t)&&z0e.call(t,"callee")&&!H0e.call(t,"callee")},ei=Array.isArray,U0e=9007199254740991;function gb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=U0e}function yu(t){return t!=null&&gb(t.length)&&!pb(t)}function G0e(t){return ko(t)&&yu(t)}function W0e(){return!1}var _L=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pw=_L&&typeof module=="object"&&module&&!module.nodeType&&module,Y0e=Pw&&Pw.exports===_L,Fw=Y0e?Qi.Buffer:void 0,K0e=Fw?Fw.isBuffer:void 0,np=K0e||W0e,J0e="[object Object]",Q0e=Function.prototype,X0e=Object.prototype,SL=Q0e.toString,Z0e=X0e.hasOwnProperty,ebe=SL.call(Object);function tbe(t){if(!ko(t)||ws(t)!=J0e)return!1;var e=yL(t);if(e===null)return!0;var r=Z0e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&SL.call(r)==ebe}var rbe="[object Arguments]",nbe="[object Array]",ibe="[object Boolean]",abe="[object Date]",obe="[object Error]",sbe="[object Function]",lbe="[object Map]",ube="[object Number]",cbe="[object Object]",fbe="[object RegExp]",dbe="[object Set]",pbe="[object String]",hbe="[object WeakMap]",vbe="[object ArrayBuffer]",gbe="[object DataView]",mbe="[object Float32Array]",ybe="[object Float64Array]",bbe="[object Int8Array]",_be="[object Int16Array]",Sbe="[object Int32Array]",Obe="[object Uint8Array]",xbe="[object Uint8ClampedArray]",wbe="[object Uint16Array]",Ebe="[object Uint32Array]",pr={};pr[mbe]=pr[ybe]=pr[bbe]=pr[_be]=pr[Sbe]=pr[Obe]=pr[xbe]=pr[wbe]=pr[Ebe]=!0;pr[rbe]=pr[nbe]=pr[vbe]=pr[ibe]=pr[gbe]=pr[abe]=pr[obe]=pr[sbe]=pr[lbe]=pr[ube]=pr[cbe]=pr[fbe]=pr[dbe]=pr[pbe]=pr[hbe]=!1;function Cbe(t){return ko(t)&&gb(t.length)&&!!pr[ws(t)]}function Tbe(t){return function(e){return t(e)}}var OL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ec=OL&&typeof module=="object"&&module&&!module.nodeType&&module,kbe=ec&&ec.exports===OL,kv=kbe&&pL.process,Lw=function(){try{var t=ec&&ec.require&&ec.require("util").types;return t||kv&&kv.binding&&kv.binding("util")}catch(e){}}(),Rw=Lw&&Lw.isTypedArray,mb=Rw?Tbe(Rw):Cbe;function Hg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Ibe=Object.prototype,Abe=Ibe.hasOwnProperty;function jbe(t,e,r){var n=t[e];(!(Abe.call(t,e)&&vf(n,r))||r===void 0&&!(e in t))&&hb(t,e,r)}function Pbe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=void 0;l===void 0&&(l=t[s]),i?hb(r,s,l):jbe(r,s,l)}return r}function Fbe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Lbe=9007199254740991,Rbe=/^(?:0|[1-9]\d*)$/;function yb(t,e){var r=typeof t;return e=e==null?Lbe:e,!!e&&(r=="number"||r!="symbol"&&Rbe.test(t))&&t>-1&&t%1==0&&t<e}var $be=Object.prototype,Nbe=$be.hasOwnProperty;function xL(t,e){var r=ei(t),n=!r&&rp(t),i=!r&&!n&&np(t),a=!r&&!n&&!i&&mb(t),o=r||n||i||a,s=o?Fbe(t.length,String):[],l=s.length;for(var u in t)(e||Nbe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yb(u,l)))&&s.push(u);return s}function Dbe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Mbe=Object.prototype,Vbe=Mbe.hasOwnProperty;function Bbe(t){if(!wi(t))return Dbe(t);var e=vb(t),r=[];for(var n in t)n=="constructor"&&(e||!Vbe.call(t,n))||r.push(n);return r}function wL(t){return yu(t)?xL(t,!0):Bbe(t)}function qbe(t){return Pbe(t,wL(t))}function zbe(t,e,r,n,i,a,o){var s=Hg(t,r),l=Hg(e,r),u=o.get(l);if(u){zg(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=ei(l),p=!d&&np(l),v=!d&&!p&&mb(l);c=l,d||p||v?ei(s)?c=s:G0e(s)?c=D0e(s):p?(f=!1,c=R0e(l)):v?(f=!1,c=N0e(l)):c=[]:tbe(l)||rp(l)?(c=s,rp(s)?c=qbe(s):(!wi(s)||pb(s))&&(c=B0e(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),zg(t,r,c)}function EL(t,e,r,n,i){t!==e&&vL(e,function(a,o){if(i||(i=new ha),wi(a))zbe(t,e,o,r,EL,n,i);else{var s=n?n(Hg(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),zg(t,o,s)}},wL)}function yh(t){return t}function Hbe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var $w=Math.max;function Ube(t,e,r){return e=$w(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=$w(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Hbe(t,this,s)}}function Gbe(t){return function(){return t}}var Wbe=ep?function(t,e){return ep(t,"toString",{configurable:!0,enumerable:!1,value:Gbe(e),writable:!0})}:yh,Ybe=800,Kbe=16,Jbe=Date.now;function Qbe(t){var e=0,r=0;return function(){var n=Jbe(),i=Kbe-(n-r);if(r=n,i>0){if(++e>=Ybe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Xbe=Qbe(Wbe);function Zbe(t,e){return Xbe(Ube(t,e,yh),t+"")}function e1e(t,e,r){if(!wi(r))return!1;var n=typeof e;return(n=="number"?yu(r)&&yb(e,r.length):n=="string"&&e in r)?vf(r[e],t):!1}function t1e(t){return Zbe(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&e1e(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Hn=t1e(function(t,e,r){EL(t,e,r)}),gf=function(e){var r=e.zDepth,n=e.radius,i=e.background,a=e.children,o=e.styles,s=o===void 0?{}:o,l=rt(Hn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return j.createElement("div",{style:l.wrap},j.createElement("div",{style:l.bg}),j.createElement("div",{style:l.content},a))};gf.propTypes={background:U.string,zDepth:U.oneOf([0,1,2,3,4,5]),radius:U.number,styles:U.object};gf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Iv=function(){return Qi.Date.now()},r1e=/\s/;function n1e(t){for(var e=t.length;e--&&r1e.test(t.charAt(e)););return e}var i1e=/^\s+/;function a1e(t){return t&&t.slice(0,n1e(t)+1).replace(i1e,"")}var o1e="[object Symbol]";function bh(t){return typeof t=="symbol"||ko(t)&&ws(t)==o1e}var Nw=NaN,s1e=/^[-+]0x[0-9a-f]+$/i,l1e=/^0b[01]+$/i,u1e=/^0o[0-7]+$/i,c1e=parseInt;function Dw(t){if(typeof t=="number")return t;if(bh(t))return Nw;if(wi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=a1e(t);var r=l1e.test(t);return r||u1e.test(t)?c1e(t.slice(2),r?2:8):s1e.test(t)?Nw:+t}var f1e="Expected a function",d1e=Math.max,p1e=Math.min;function CL(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(f1e);e=Dw(e)||0,wi(r)&&(c=!!r.leading,f="maxWait"in r,a=f?d1e(Dw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,C=i;return n=i=void 0,u=O,o=t.apply(C,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,C=O-u,I=e-x;return f?p1e(I,a-C):I}function g(O){var x=O-l,C=O-u;return l===void 0||x>=e||x<0||f&&C>=a}function y(){var O=Iv();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(Iv())}function S(){var O=Iv(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var h1e="Expected a function";function v1e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(h1e);return wi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),CL(t,e,{leading:n,maxWait:e,trailing:i})}var g1e=function(e,r,n){var i=n.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),c=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),c<0?c=0:c>o&&(c=o);var f=u/a,d=1-c/o;return{h:r.h,s:f,v:d,a:r.a,source:"hsv"}},m1e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _h=function(t){_1e(e,t);function e(r){y1e(this,e);var n=b1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,g1e(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=v1e(function(i,a,o){i(a,o)},50),n}return m1e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,o=i.white,s=i.black,l=i.pointer,u=i.circle,c=rt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:o,black:s,pointer:l,circle:u}},{custom:!!this.props.style});return j.createElement("div",{style:c.color,ref:function(d){return n.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),j.createElement("div",{style:c.white,className:"saturation-white"},j.createElement("div",{style:c.black,className:"saturation-black"}),j.createElement("div",{style:c.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:c.circle}))))}}]),e}(J.PureComponent||J.Component);function S1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var O1e=mL(Object.keys,Object),x1e=Object.prototype,w1e=x1e.hasOwnProperty;function E1e(t){if(!vb(t))return O1e(t);var e=[];for(var r in Object(t))w1e.call(t,r)&&r!="constructor"&&e.push(r);return e}function bb(t){return yu(t)?xL(t):E1e(t)}function C1e(t,e){return t&&vL(t,e,bb)}function T1e(t,e){return function(r,n){if(r==null)return r;if(!yu(r))return t(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var TL=T1e(C1e);function k1e(t){return typeof t=="function"?t:yh}function I1e(t,e){var r=ei(t)?S1e:TL;return r(t,k1e(e))}function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}var A1e=/^\s+/,j1e=/\s+$/;function ze(t,e){if(t=t||"",e=e||{},t instanceof ze)return t;if(!(this instanceof ze))return new ze(t,e);var r=P1e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,a,o,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=kL(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Vw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Vw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Mw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Mw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Bw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return $1e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wr(this._r,255)*100)+"%",g:Math.round(wr(this._g,255)*100)+"%",b:Math.round(wr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%)":"rgba("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Y1e[Bw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+qw(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=ze(e);n="#"+qw(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return ze(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(V1e,arguments)},brighten:function(){return this._applyModification(B1e,arguments)},darken:function(){return this._applyModification(q1e,arguments)},desaturate:function(){return this._applyModification(N1e,arguments)},saturate:function(){return this._applyModification(D1e,arguments)},greyscale:function(){return this._applyModification(M1e,arguments)},spin:function(){return this._applyModification(z1e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(G1e,arguments)},complement:function(){return this._applyCombination(H1e,arguments)},monochromatic:function(){return this._applyCombination(W1e,arguments)},splitcomplement:function(){return this._applyCombination(U1e,arguments)},triad:function(){return this._applyCombination(zw,[3])},tetrad:function(){return this._applyCombination(zw,[4])}};ze.fromRatio=function(t,e){if(ip(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Du(t[n]));t=r}return ze(t,e)};function P1e(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=X1e(t)),ip(t)=="object"&&(La(t.r)&&La(t.g)&&La(t.b)?(e=F1e(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):La(t.h)&&La(t.s)&&La(t.v)?(n=Du(t.s),i=Du(t.v),e=R1e(t.h,n,i),o=!0,s="hsv"):La(t.h)&&La(t.s)&&La(t.l)&&(n=Du(t.s),a=Du(t.l),e=L1e(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=kL(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function F1e(t,e,r){return{r:wr(t,255)*255,g:wr(e,255)*255,b:wr(r,255)*255}}function Mw(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function L1e(t,e,r){var n,i,a;t=wr(t,360),e=wr(e,100),r=wr(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function Vw(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=n,l=n-i;if(o=n===0?0:l/n,n==i)a=0;else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function R1e(t,e,r){t=wr(t,360)*6,e=wr(e,100),r=wr(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,u=[r,o,a,a,s,r][l],c=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function Bw(t,e,r,n){var i=[Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function $1e(t,e,r,n,i){var a=[Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16)),Di(IL(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function qw(t,e,r,n){var i=[Di(IL(n)),Di(Math.round(t).toString(16)),Di(Math.round(e).toString(16)),Di(Math.round(r).toString(16))];return i.join("")}ze.equals=function(t,e){return!t||!e?!1:ze(t).toRgbString()==ze(e).toRgbString()};ze.random=function(){return ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function N1e(t,e){e=e===0?0:e||10;var r=ze(t).toHsl();return r.s-=e/100,r.s=Sh(r.s),ze(r)}function D1e(t,e){e=e===0?0:e||10;var r=ze(t).toHsl();return r.s+=e/100,r.s=Sh(r.s),ze(r)}function M1e(t){return ze(t).desaturate(100)}function V1e(t,e){e=e===0?0:e||10;var r=ze(t).toHsl();return r.l+=e/100,r.l=Sh(r.l),ze(r)}function B1e(t,e){e=e===0?0:e||10;var r=ze(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),ze(r)}function q1e(t,e){e=e===0?0:e||10;var r=ze(t).toHsl();return r.l-=e/100,r.l=Sh(r.l),ze(r)}function z1e(t,e){var r=ze(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,ze(r)}function H1e(t){var e=ze(t).toHsl();return e.h=(e.h+180)%360,ze(e)}function zw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ze(t).toHsl(),n=[ze(t)],i=360/e,a=1;a<e;a++)n.push(ze({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function U1e(t){var e=ze(t).toHsl(),r=e.h;return[ze(t),ze({h:(r+72)%360,s:e.s,l:e.l}),ze({h:(r+216)%360,s:e.s,l:e.l})]}function G1e(t,e,r){e=e||6,r=r||30;var n=ze(t).toHsl(),i=360/r,a=[ze(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(ze(n));return a}function W1e(t,e){e=e||6;for(var r=ze(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(ze({h:n,s:i,v:a})),a=(a+s)%1;return o}ze.mix=function(t,e,r){r=r===0?0:r||50;var n=ze(t).toRgb(),i=ze(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return ze(o)};ze.readability=function(t,e){var r=ze(t),n=ze(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};ze.isReadable=function(t,e,r){var n=ze.readability(t,e),i,a;switch(a=!1,i=Z1e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};ze.mostReadable=function(t,e,r){var n=null,i=0,a,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<e.length;u++)a=ze.readability(t,e[u]),a>i&&(i=a,n=ze(e[u]));return ze.isReadable(t,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,ze.mostReadable(t,["#fff","#000"],r))};var Ug=ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y1e=ze.hexNames=K1e(Ug);function K1e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function kL(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function wr(t,e){J1e(t)&&(t="100%");var r=Q1e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Sh(t){return Math.min(1,Math.max(0,t))}function Wn(t){return parseInt(t,16)}function J1e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Q1e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Di(t){return t.length==1?"0"+t:""+t}function Du(t){return t<=1&&(t=t*100+"%"),t}function IL(t){return Math.round(parseFloat(t)*255).toString(16)}function Hw(t){return Wn(t)/255}var ji=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function La(t){return!!ji.CSS_UNIT.exec(t)}function X1e(t){t=t.replace(A1e,"").replace(j1e,"").toLowerCase();var e=!1;if(Ug[t])t=Ug[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ji.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=ji.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ji.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=ji.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ji.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=ji.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ji.hex8.exec(t))?{r:Wn(r[1]),g:Wn(r[2]),b:Wn(r[3]),a:Hw(r[4]),format:e?"name":"hex8"}:(r=ji.hex6.exec(t))?{r:Wn(r[1]),g:Wn(r[2]),b:Wn(r[3]),format:e?"name":"hex"}:(r=ji.hex4.exec(t))?{r:Wn(r[1]+""+r[1]),g:Wn(r[2]+""+r[2]),b:Wn(r[3]+""+r[3]),a:Hw(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=ji.hex3.exec(t))?{r:Wn(r[1]+""+r[1]),g:Wn(r[2]+""+r[2]),b:Wn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function Z1e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var Uw=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return I1e(r,function(a){if(e[a]&&(n+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),n===i?e:!1},Mu=function(e,r){var n=e.hex?ze(e.hex):ze(e),i=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:o,hsv:a,oldHue:e.h||r||i.h,source:e.source}},Mo=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&ze(e).isValid()},_b=function(e){if(!e)return"#fff";var r=Mu(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Av=function(e,r){var n=e.replace("Â°","");return ze(r+" ("+n+")")._ok},ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function t_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function n_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Un=function(e){var r=function(n){n_e(i,n);function i(a){t_e(this,i);var o=r_e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(s,l){var u=Uw(s);if(u){var c=Mu(s,s.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(s,l){var u=Uw(s);if(u){var c=Mu(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=ju({},Mu(a.color,0)),o.debounce=CL(function(s,l,u){s(l,u)},100),o}return e_e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),j.createElement(e,ju({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return ju({},Mu(o.color,s.oldHue))}}]),i}(J.PureComponent||J.Component);return r.propTypes=ju({},e.propTypes),r.defaultProps=ju({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},i_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){s_e(i,n);function i(){var a,o,s,l;o_e(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Gw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),Gw(s,l)}return a_e(i,[{key:"render",value:function(){return j.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},j.createElement(e,i_e({},this.props,this.state)))}}]),i}(j.Component)},Ww=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u_e=13,c_e=function(e){var r=e.color,n=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?r:s,u=e.children,c=e.focus,f=e.focusStyle,d=f===void 0?{}:f,p=r==="transparent",v=rt({default:{swatch:Ww({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),h=function(b){return a(r,b)},g=function(b){return b.keyCode===u_e&&a(r,b)},y=function(b){return o(r,b)},m={};return o&&(m.onMouseOver=y),j.createElement("div",Ww({style:v.swatch,onClick:h,title:l,tabIndex:0,onKeyDown:g},m),u,p&&j.createElement(gu,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ts=l_e(c_e);var f_e=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},d_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AL=function(e){var r=e.rgb,n=e.hsl,i=e.width,a=e.height,o=e.onChange,s=e.direction,l=e.style,u=e.renderers,c=e.pointer,f=e.className,d=f===void 0?"":f,p=rt({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return j.createElement("div",{style:p.picker,className:"alpha-picker "+d},j.createElement(db,d_e({},p.alpha,{rgb:r,hsl:n,pointer:c,renderers:u,onChange:o,direction:s})))};AL.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:f_e};Un(AL);function jL(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var p_e="__lodash_hash_undefined__";function h_e(t){return this.__data__.set(t,p_e),this}function v_e(t){return this.__data__.has(t)}function ap(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Xa;++e<r;)this.add(t[e])}ap.prototype.add=ap.prototype.push=h_e;ap.prototype.has=v_e;function g_e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function m_e(t,e){return t.has(e)}var y_e=1,b_e=2;function PL(t,e,r,n,i,a){var o=r&y_e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&b_e?new ap:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!g_e(e,function(y,m){if(!m_e(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function __e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function S_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var O_e=1,x_e=2,w_e="[object Boolean]",E_e="[object Date]",C_e="[object Error]",T_e="[object Map]",k_e="[object Number]",I_e="[object RegExp]",A_e="[object Set]",j_e="[object String]",P_e="[object Symbol]",F_e="[object ArrayBuffer]",L_e="[object DataView]",Yw=To?To.prototype:void 0,jv=Yw?Yw.valueOf:void 0;function R_e(t,e,r,n,i,a,o){switch(r){case L_e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case F_e:return!(t.byteLength!=e.byteLength||!a(new tp(t),new tp(e)));case w_e:case E_e:case k_e:return vf(+t,+e);case C_e:return t.name==e.name&&t.message==e.message;case I_e:case j_e:return t==e+"";case T_e:var s=__e;case A_e:var l=n&O_e;if(s||(s=S_e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=x_e,o.set(t,e);var c=PL(s(t),s(e),n,i,a,o);return o.delete(t),c;case P_e:if(jv)return jv.call(t)==jv.call(e)}return!1}function $_e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function N_e(t,e,r){var n=e(t);return ei(t)?n:$_e(n,r(t))}function D_e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function M_e(){return[]}var V_e=Object.prototype,B_e=V_e.propertyIsEnumerable,Kw=Object.getOwnPropertySymbols,q_e=Kw?function(t){return t==null?[]:(t=Object(t),D_e(Kw(t),function(e){return B_e.call(t,e)}))}:M_e;function Jw(t){return N_e(t,bb,q_e)}var z_e=1,H_e=Object.prototype,U_e=H_e.hasOwnProperty;function G_e(t,e,r,n,i,a){var o=r&z_e,s=Jw(t),l=s.length,u=Jw(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:U_e.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var Gg=Cs(Qi,"DataView"),Wg=Cs(Qi,"Promise"),Yg=Cs(Qi,"Set"),Kg=Cs(Qi,"WeakMap"),Qw="[object Map]",W_e="[object Object]",Xw="[object Promise]",Zw="[object Set]",eE="[object WeakMap]",tE="[object DataView]",Y_e=Es(Gg),K_e=Es(Ec),J_e=Es(Wg),Q_e=Es(Yg),X_e=Es(Kg),lo=ws;(Gg&&lo(new Gg(new ArrayBuffer(1)))!=tE||Ec&&lo(new Ec)!=Qw||Wg&&lo(Wg.resolve())!=Xw||Yg&&lo(new Yg)!=Zw||Kg&&lo(new Kg)!=eE)&&(lo=function(t){var e=ws(t),r=e==W_e?t.constructor:void 0,n=r?Es(r):"";if(n)switch(n){case Y_e:return tE;case K_e:return Qw;case J_e:return Xw;case Q_e:return Zw;case X_e:return eE}return e});var Z_e=1,rE="[object Arguments]",nE="[object Array]",Jf="[object Object]",eSe=Object.prototype,iE=eSe.hasOwnProperty;function tSe(t,e,r,n,i,a){var o=ei(t),s=ei(e),l=o?nE:lo(t),u=s?nE:lo(e);l=l==rE?Jf:l,u=u==rE?Jf:u;var c=l==Jf,f=u==Jf,d=l==u;if(d&&np(t)){if(!np(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new ha),o||mb(t)?PL(t,e,r,n,i,a):R_e(t,e,l,r,n,i,a);if(!(r&Z_e)){var p=c&&iE.call(t,"__wrapped__"),v=f&&iE.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new ha),i(h,g,r,n,a)}}return d?(a||(a=new ha),G_e(t,e,r,n,i,a)):!1}function Sb(t,e,r,n,i){return t===e?!0:t==null||e==null||!ko(t)&&!ko(e)?t!==t&&e!==e:tSe(t,e,r,n,Sb,i)}var rSe=1,nSe=2;function iSe(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new ha,f;if(!(f===void 0?Sb(u,l,rSe|nSe,n,c):f))return!1}}return!0}function FL(t){return t===t&&!wi(t)}function aSe(t){for(var e=bb(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,FL(i)]}return e}function LL(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function oSe(t){var e=aSe(t);return e.length==1&&e[0][2]?LL(e[0][0],e[0][1]):function(r){return r===t||iSe(r,t,e)}}var sSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lSe=/^\w*$/;function Ob(t,e){if(ei(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bh(t)?!0:lSe.test(t)||!sSe.test(t)||e!=null&&t in Object(e)}var uSe="Expected a function";function xb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(uSe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(xb.Cache||Xa),r}xb.Cache=Xa;var cSe=500;function fSe(t){var e=xb(t,function(n){return r.size===cSe&&r.clear(),n}),r=e.cache;return e}var dSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pSe=/\\(\\)?/g,hSe=fSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dSe,function(r,n,i,a){e.push(i?a.replace(pSe,"$1"):n||r)}),e}),vSe=1/0,aE=To?To.prototype:void 0,oE=aE?aE.toString:void 0;function RL(t){if(typeof t=="string")return t;if(ei(t))return jL(t,RL)+"";if(bh(t))return oE?oE.call(t):"";var e=t+"";return e=="0"&&1/t==-vSe?"-0":e}function gSe(t){return t==null?"":RL(t)}function $L(t,e){return ei(t)?t:Ob(t,e)?[t]:hSe(gSe(t))}var mSe=1/0;function Oh(t){if(typeof t=="string"||bh(t))return t;var e=t+"";return e=="0"&&1/t==-mSe?"-0":e}function NL(t,e){e=$L(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Oh(e[r++])];return r&&r==n?t:void 0}function ySe(t,e,r){var n=t==null?void 0:NL(t,e);return n===void 0?r:n}function bSe(t,e){return t!=null&&e in Object(t)}function _Se(t,e,r){e=$L(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Oh(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&gb(i)&&yb(o,i)&&(ei(t)||rp(t)))}function SSe(t,e){return t!=null&&_Se(t,e,bSe)}var OSe=1,xSe=2;function wSe(t,e){return Ob(t)&&FL(e)?LL(Oh(t),e):function(r){var n=ySe(r,t);return n===void 0&&n===e?SSe(r,t):Sb(e,n,OSe|xSe)}}function ESe(t){return function(e){return e==null?void 0:e[t]}}function CSe(t){return function(e){return NL(e,t)}}function TSe(t){return Ob(t)?ESe(Oh(t)):CSe(t)}function kSe(t){return typeof t=="function"?t:t==null?yh:typeof t=="object"?ei(t)?wSe(t[0],t[1]):oSe(t):TSe(t)}function ISe(t,e){var r=-1,n=yu(t)?Array(t.length):[];return TL(t,function(i,a,o){n[++r]=e(i,a,o)}),n}function ks(t,e){var r=ei(t)?jL:ISe;return r(t,kSe(e))}var ASe=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,a=rt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return j.createElement("div",{style:a.swatches},ks(r,function(o){return j.createElement(Ts,{key:o,color:o,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),j.createElement("div",{style:a.clear}))},wb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=i==="transparent",p=function(g,y){Mo(g)&&r({hex:g,source:"hex"},y)},v=rt(Hn({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:_b(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":s==="hide"});return j.createElement("div",{style:v.card,className:"block-picker "+f},j.createElement("div",{style:v.triangle}),j.createElement("div",{style:v.head},d&&j.createElement(gu,{borderRadius:"6px 6px 0 0"}),j.createElement("div",{style:v.label},i)),j.createElement("div",{style:v.body},j.createElement(ASe,{colors:a,onClick:p,onSwatchHover:n}),j.createElement(Tt,{style:{input:v.input},value:i,onChange:p})))};wb.propTypes={width:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.string),triangle:U.oneOf(["top","hide"]),styles:U.object};wb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Un(wb);var Ys={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ks={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Js={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Qs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Xs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Zs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},el={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},tl={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},rl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Vu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},nl={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},il={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},al={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ol={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},sl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ll={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},ul={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},cl={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},DL=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,u=rt({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:o});return j.createElement("div",{style:u.swatch},j.createElement(Ts,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};DL.defaultProps={circleSize:28,circleSpacing:14};const jSe=fb(DL);var Eb=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,f=e.className,d=f===void 0?"":f,p=rt(Hn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(g,y){return n({hex:g,source:"hex"},y)};return j.createElement("div",{style:p.card,className:"circle-picker "+d},ks(a,function(h){return j.createElement(jSe,{key:h,color:h,onClick:v,onSwatchHover:i,active:o===h.toLowerCase(),circleSize:s,circleSpacing:c})}))};Eb.propTypes={width:U.oneOfType([U.string,U.number]),circleSize:U.number,circleSpacing:U.number,styles:U.object};Eb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ys[500],Ks[500],Js[500],Qs[500],Xs[500],Zs[500],el[500],tl[500],rl[500],Vu[500],nl[500],il[500],al[500],ol[500],sl[500],ll[500],ul[500],cl[500]],styles:{}};Un(Eb);function sE(t){return t===void 0}var ML={};Object.defineProperty(ML,"__esModule",{value:!0});var lE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PSe=J,uE=FSe(PSe);function FSe(t){return t&&t.__esModule?t:{default:t}}function LSe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Qf=24,RSe=ML.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Qf:n,a=t.height,o=a===void 0?Qf:a,s=t.style,l=s===void 0?{}:s,u=LSe(t,["fill","width","height","style"]);return uE.default.createElement("svg",lE({viewBox:"0 0 "+Qf+" "+Qf,style:lE({fill:r,width:i,height:o},l)},u),uE.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},$Se=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VL=function(t){MSe(e,t);function e(r){NSe(this,e);var n=DSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?Mo(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(sE(i.s)?n.props.hsl.s:i.s),l:Number(sE(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return $Se(e,[{key:"render",value:function(){var n=this,i=rt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),j.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,j.createElement("div",{style:i.toggle},j.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},j.createElement(RSe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(j.Component);VL.defaultProps={view:"hex"};var cE=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},VSe=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return j.createElement("div",{style:e.picker})},Cb=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,a=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,c=e.styles,f=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,v=e.defaultView,h=rt(Hn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return j.createElement("div",{style:h.picker,className:"chrome-picker "+p},j.createElement("div",{style:h.saturation},j.createElement(_h,{style:h.Saturation,hsl:o,hsv:s,pointer:VSe,onChange:n})),j.createElement("div",{style:h.body},j.createElement("div",{style:h.controls,className:"flexbox-fix"},j.createElement("div",{style:h.color},j.createElement("div",{style:h.swatch},j.createElement("div",{style:h.active}),j.createElement(gu,{renderers:u}))),j.createElement("div",{style:h.toggles},j.createElement("div",{style:h.hue},j.createElement(mu,{style:h.Hue,hsl:o,pointer:cE,onChange:n})),j.createElement("div",{style:h.alpha},j.createElement(db,{style:h.Alpha,rgb:a,hsl:o,pointer:cE,renderers:u,onChange:n})))),j.createElement(VL,{rgb:a,hsl:o,hex:l,view:v,onChange:n,disableAlpha:i})))};Cb.propTypes={width:U.oneOfType([U.string,U.number]),disableAlpha:U.bool,styles:U.object,defaultView:U.oneOf(["hex","rgb","hsl"])};Cb.defaultProps={width:225,disableAlpha:!1,styles:{}};const Xf=Un(Cb);var BSe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.active,s=rt({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:_b(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(Ts,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:s.dot}))},qSe=function(e){var r=e.hex,n=e.rgb,i=e.onChange,a=rt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return j.createElement("div",{style:a.fields,className:"flexbox-fix"},j.createElement("div",{style:a.active}),j.createElement(Tt,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))},Tb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,a=e.hex,o=e.rgb,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(Hn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(v,h){v.hex?Mo(v.hex)&&r({hex:v.hex,source:"hex"},h):r(v,h)};return j.createElement(gf,{style:f.Compact,styles:l},j.createElement("div",{style:f.compact,className:"compact-picker "+c},j.createElement("div",null,ks(i,function(p){return j.createElement(BSe,{key:p,color:p,active:p.toLowerCase()===a,onClick:d,onSwatchHover:n})}),j.createElement("div",{style:f.clear})),j.createElement(qSe,{hex:a,rgb:o,onChange:d})))};Tb.propTypes={colors:U.arrayOf(U.string),styles:U.object};Tb.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Un(Tb);var zSe=function(e){var r=e.hover,n=e.color,i=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=rt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:r});return j.createElement("div",{style:s.swatch},j.createElement(Ts,{color:n,onClick:i,onHover:a,focusStyle:o}))};const HSe=fb(zSe);var kb=function(e){var r=e.width,n=e.colors,i=e.onChange,a=e.onSwatchHover,o=e.triangle,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(Hn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(v,h){return i({hex:v,source:"hex"},h)};return j.createElement("div",{style:f.card,className:"github-picker "+c},j.createElement("div",{style:f.triangleShadow}),j.createElement("div",{style:f.triangle}),ks(n,function(p){return j.createElement(HSe,{color:p,key:p,onClick:d,onSwatchHover:a})}))};kb.propTypes={width:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.string),triangle:U.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:U.object};kb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Un(kb);var USe=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},GSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ib=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.hsl,o=e.direction,s=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),p=function(h){return i({a:1,h:h.h,l:.5,s:1})};return j.createElement("div",{style:d.picker,className:"hue-picker "+f},j.createElement(mu,GSe({},d.hue,{hsl:a,pointer:s,onChange:p,direction:o})))};Ib.propTypes={styles:U.object};Ib.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:USe,styles:{}};Un(Ib);var WSe=function(e){var r=e.onChange,n=e.hex,i=e.rgb,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(Hn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,p){d.hex?Mo(d.hex)&&r({hex:d.hex,source:"hex"},p):(d.r||d.g||d.b)&&r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},p)};return j.createElement(gf,{styles:o},j.createElement("div",{style:u.material,className:"material-picker "+l},j.createElement(Tt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),j.createElement("div",{style:u.split,className:"flexbox-fix"},j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Un(WSe);var YSe=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,a=e.hex,o=rt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(u,c){u["#"]?Mo(u["#"])&&r({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},c):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return j.createElement("div",{style:o.fields},j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),j.createElement("div",{style:o.fieldSymbols},j.createElement("div",{style:o.symbol},"Â°"),j.createElement("div",{style:o.symbol},"%"),j.createElement("div",{style:o.symbol},"%")))},KSe=function(e){var r=e.hsl,n=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return j.createElement("div",{style:n.picker})},JSe=function(){var e=rt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return j.createElement("div",{style:e.pointer},j.createElement("div",{style:e.left},j.createElement("div",{style:e.leftInside})),j.createElement("div",{style:e.right},j.createElement("div",{style:e.rightInside})))},fE=function(e){var r=e.onClick,n=e.label,i=e.children,a=e.active,o=rt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return j.createElement("div",{style:o.button,onClick:r},n||i)},QSe=function(e){var r=e.rgb,n=e.currentColor,i=rt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return j.createElement("div",null,j.createElement("div",{style:i.label},"new"),j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.new}),j.createElement("div",{style:i.current})),j.createElement("div",{style:i.label},"current"))},XSe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eOe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ab=function(t){tOe(e,t);function e(r){ZSe(this,e);var n=eOe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return XSe(e,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,o=n.className,s=o===void 0?"":o,l=rt(Hn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return j.createElement("div",{style:l.picker,className:"photoshop-picker "+s},j.createElement("div",{style:l.head},this.props.header),j.createElement("div",{style:l.body,className:"flexbox-fix"},j.createElement("div",{style:l.saturation},j.createElement(_h,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:KSe,onChange:this.props.onChange})),j.createElement("div",{style:l.hue},j.createElement(mu,{direction:"vertical",hsl:this.props.hsl,pointer:JSe,onChange:this.props.onChange})),j.createElement("div",{style:l.controls},j.createElement("div",{style:l.top,className:"flexbox-fix"},j.createElement("div",{style:l.previews},j.createElement(QSe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),j.createElement("div",{style:l.actions},j.createElement(fE,{label:"OK",onClick:this.props.onAccept,active:!0}),j.createElement(fE,{label:"Cancel",onClick:this.props.onCancel}),j.createElement(YSe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(j.Component);Ab.propTypes={header:U.string,styles:U.object};Ab.defaultProps={header:"Color Picker",styles:{}};Un(Ab);var rOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=rt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,f){c.hex?Mo(c.hex)&&r({hex:c.hex,source:"hex"},f):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,a:n.a,source:"rgb"},f):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,r({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},f))};return j.createElement("div",{style:s.fields,className:"flexbox-fix"},j.createElement("div",{style:s.double},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:l})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.alpha},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},nOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BL=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=rt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(u,c){i({hex:u,source:"hex"},c)};return j.createElement("div",{style:o.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return j.createElement("div",{key:c,style:o.swatchWrap},j.createElement(Ts,nOe({},u,{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};BL.propTypes={colors:U.arrayOf(U.oneOfType([U.string,U.shape({color:U.string,title:U.string})])).isRequired};var iOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb=function(e){var r=e.width,n=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,f=e.renderers,d=e.styles,p=d===void 0?{}:d,v=e.className,h=v===void 0?"":v,g=rt(Hn({default:iOe({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return j.createElement("div",{style:g.picker,className:"sketch-picker "+h},j.createElement("div",{style:g.saturation},j.createElement(_h,{style:g.Saturation,hsl:o,hsv:a,onChange:s})),j.createElement("div",{style:g.controls,className:"flexbox-fix"},j.createElement("div",{style:g.sliders},j.createElement("div",{style:g.hue},j.createElement(mu,{style:g.Hue,hsl:o,onChange:s})),j.createElement("div",{style:g.alpha},j.createElement(db,{style:g.Alpha,rgb:n,hsl:o,renderers:f,onChange:s}))),j.createElement("div",{style:g.color},j.createElement(gu,null),j.createElement("div",{style:g.activeColor}))),j.createElement(rOe,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:u}),j.createElement(BL,{colors:c,onClick:s,onSwatchHover:l}))};jb.propTypes={disableAlpha:U.bool,width:U.oneOfType([U.string,U.number]),styles:U.object};jb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Un(jb);var Pu=function(e){var r=e.hsl,n=e.offset,i=e.onClick,a=i===void 0?function(){}:i,o=e.active,s=e.first,l=e.last,u=rt({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l}),c=function(d){return a({h:r.h,s:.5,l:n,source:"hsl"},d)};return j.createElement("div",{style:u.swatch,onClick:c})},aOe=function(e){var r=e.onClick,n=e.hsl,i=rt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.swatch},j.createElement(Pu,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),j.createElement("div",{style:i.swatch},j.createElement(Pu,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Pu,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Pu,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Pu,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),j.createElement("div",{style:i.clear}))},oOe=function(){var e=rt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},Pb=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(Hn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return j.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},j.createElement("div",{style:u.hue},j.createElement(mu,{style:u.Hue,hsl:r,pointer:i,onChange:n})),j.createElement("div",{style:u.swatches},j.createElement(aOe,{hsl:r,onClick:n})))};Pb.propTypes={styles:U.object};Pb.defaultProps={pointer:oOe,styles:{}};Un(Pb);var qL={};Object.defineProperty(qL,"__esModule",{value:!0});var dE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sOe=J,pE=lOe(sOe);function lOe(t){return t&&t.__esModule?t:{default:t}}function uOe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Zf=24,cOe=qL.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Zf:n,a=t.height,o=a===void 0?Zf:a,s=t.style,l=s===void 0?{}:s,u=uOe(t,["fill","width","height","style"]);return pE.default.createElement("svg",dE({viewBox:"0 0 "+Zf+" "+Zf,style:dE({fill:r,width:i,height:o},l)},u),pE.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},fOe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,l=e.active,u=rt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:_b(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(Ts,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:u.check},j.createElement(cOe,null)))},dOe=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,a=e.active,o=rt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return j.createElement("div",{style:o.group},ks(i,function(s,l){return j.createElement(fOe,{key:s,color:s,active:s.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},Fb=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(h,g){return i({hex:h,source:"hex"},g)};return j.createElement("div",{style:d.picker,className:"swatches-picker "+f},j.createElement(gf,null,j.createElement("div",{style:d.overflow},j.createElement("div",{style:d.body},ks(o,function(v){return j.createElement(dOe,{key:v.toString(),group:v,active:s,onClick:p,onSwatchHover:a})}),j.createElement("div",{style:d.clear})))))};Fb.propTypes={width:U.oneOfType([U.string,U.number]),height:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.arrayOf(U.string)),styles:U.object};Fb.defaultProps={width:320,height:240,colors:[[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],["#194D33",Vu[700],Vu[500],Vu[300],Vu[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],[il[900],il[700],il[500],il[300],il[100]],[al[900],al[700],al[500],al[300],al[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],[ll[900],ll[700],ll[500],ll[300],ll[100]],[ul[900],ul[700],ul[500],ul[300],ul[100]],[cl[900],cl[700],cl[500],cl[300],cl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Un(Fb);var Lb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(h,g){Mo(h)&&r({hex:h,source:"hex"},g)};return j.createElement("div",{style:d.card,className:"twitter-picker "+f},j.createElement("div",{style:d.triangleShadow}),j.createElement("div",{style:d.triangle}),j.createElement("div",{style:d.body},ks(a,function(v,h){return j.createElement(Ts,{key:h,color:v,hex:v,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+v}})}),j.createElement("div",{style:d.hash},"#"),j.createElement(Tt,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:p}),j.createElement("div",{style:d.clear})))};Lb.propTypes={width:U.oneOfType([U.string,U.number]),triangle:U.oneOf(["hide","top-left","top-right"]),colors:U.arrayOf(U.string),styles:U.object};Lb.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Un(Lb);var Rb=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return j.createElement("div",{style:r.picker})};Rb.propTypes={hsl:U.shape({h:U.number,s:U.number,l:U.number,a:U.number})};Rb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var $b=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return j.createElement("div",{style:r.picker})};$b.propTypes={hsl:U.shape({h:U.number,s:U.number,l:U.number,a:U.number})};$b.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var pOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.hsv,s=function(p,v){if(p.hex)Mo(p.hex)&&r({hex:p.hex,source:"hex"},v);else if(p.rgb){var h=p.rgb.split(",");Av(p.rgb,"rgb")&&r({r:h[0],g:h[1],b:h[2],a:1,source:"rgb"},v)}else if(p.hsv){var g=p.hsv.split(",");Av(p.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("Â°",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),r({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},v))}else if(p.hsl){var y=p.hsl.split(",");Av(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("Â°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},v))}},l=rt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+"Â°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"Â°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return j.createElement("div",{style:l.wrap,className:"flexbox-fix"},j.createElement("div",{style:l.fields},j.createElement("div",{style:l.double},j.createElement(Tt,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:s})),j.createElement("div",{style:l.column},j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:s})))))},Nb=function(e){var r=e.width,n=e.onChange,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,f=e.className,d=f===void 0?"":f,p=rt(Hn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return j.createElement("div",{style:p.picker,className:"google-picker "+d},j.createElement("div",{style:p.head},l),j.createElement("div",{style:p.swatch}),j.createElement("div",{style:p.saturation},j.createElement(_h,{hsl:a,hsv:o,pointer:Rb,onChange:n})),j.createElement("div",{style:p.body},j.createElement("div",{style:p.controls,className:"flexbox-fix"},j.createElement("div",{style:p.hue},j.createElement(mu,{style:p.Hue,hsl:a,radius:"4px",pointer:$b,onChange:n}))),j.createElement(pOe,{rgb:i,hsl:a,hex:s,hsv:o,onChange:n})))};Nb.propTypes={width:U.oneOfType([U.string,U.number]),styles:U.object,header:U.string};Nb.defaultProps={width:652,styles:{},header:"Color picker"};Un(Nb);const Pv=["Merriweather","Roboto","Open Sans","Lato","Poppins","Raleway","Rubik","Times New Roman","Arial","Courier New","Georgia"];function hOe({t}){const e=Nl("design"),r=wt(),n=ye(O=>O.designState.Survey.theme);function i(O,x){if(O==="font"){const C={...n.textStyles};C.group={...C.group,font:x},C.question={...C.question,font:x},C.text={...C.text,font:x},r(Yn({code:"Survey",key:"theme",value:{...n,textStyles:C}}))}else if(O==="textColor"){const C={...n.textStyles};C.group={...C.group,color:x},C.question={...C.question,color:x},C.text={...C.text,color:x},r(Yn({code:"Survey",key:"theme",value:{...n,textStyles:C}}))}else if(O==="bgColor"){const C=x.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(C){const I=C[1],E=C[2],k=C[3];let w=C[4];(!w||w==="0"||w==="0.0")&&(w="1");const A="rgba(".concat(I,", ").concat(E,", ").concat(k,", ").concat(w,")");r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:A}}))}else r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:x}}))}else r(Yn({code:"Survey",key:"theme",value:{...n,[O]:x}}))}function a(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(C=>{r(Ma({code:"Survey",key:"headerImage",value:C.name}))}).catch(C=>{console.error(C)})}const o=()=>{r(Ma({code:"Survey",key:"headerImage",value:null}))};function s(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(C=>{r(Ma({code:"Survey",key:"backgroundImage",value:C.name})),r(Yn({code:"Survey",key:"theme",value:{...n,bgColor:"rgba(0, 0, 0, 0)"}}))}).catch(C=>{console.error(C)})}const l=()=>{r(Ma({code:"Survey",key:"backgroundImage",value:null}))},u=bf(),c=bf(),f=bf(),d=bf(),p=()=>{u.onFalse(),c.onFalse(),f.onFalse(),d.onFalse()},v=J.useRef(),h=J.useRef(),g=J.useRef(),y=J.useRef();function m(O,x){J.useEffect(()=>{function C(I){O.current&&!O.current.contains(I.target)&&x()}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[O,x])}m(v,p),m(h,p),m(g,p),m(y,p);const _=O=>{O.value?O.onFalse():(p(),O.onToggle())},b=ye(O=>{var x,C;return(C=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:C.backgroundImage}),S=ye(O=>{var x,C;return(C=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:C.headerImage});return T.jsxs("div",{className:En.theming,children:[T.jsxs("span",{className:En.fontText,children:[" ",t("font")]}),T.jsx(Gi,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:xE,size:"small",className:En.selectDropdown,value:n.textStyles.group.font,onChange:O=>i("font",O.target.value),children:Pv&&Pv.length>0&&Pv.map((O,x)=>T.jsx(Zr,{sx:{fontFamily:O},value:O,children:O},"fontFamily-".concat(x)))},"fontFamily"),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("group_title")}),T.jsx(xv,{value:n.textStyles.group,default:Ih.textStyles.group,onChange:O=>{i("textStyles",{...n.textStyles,group:O})}},"group")]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("question_title")}),T.jsx(xv,{value:n.textStyles.question,default:Ih.textStyles.question,onChange:O=>i("textStyles",{...n.textStyles,question:O})},"question")]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("theme_text")}),T.jsx(xv,{value:n.textStyles.text,default:Ih.textStyles.text,onChange:O=>i("textStyles",{...n.textStyles,text:O})},"text")]}),T.jsx("hr",{}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("highlight_color")}),T.jsx(Ht,{onClick:()=>_(u),style:{backgroundColor:n.primaryColor},className:En.colorBox}),u.value&&T.jsxs(ht,{ref:v,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(u),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(pi,{})}),T.jsx(Xf,{color:n.primaryColor,onChange:O=>{i("primaryColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("background_color")}),T.jsx(Ht,{onClick:()=>_(c),style:{backgroundColor:n.bgColor},className:En.colorBox}),c.value&&T.jsxs(ht,{ref:h,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(c),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(pi,{})}),T.jsx(Xf,{color:n.bgColor,onChange:O=>{i("bgColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("foreground_color")}),T.jsx(Ht,{onClick:()=>_(f),style:{backgroundColor:n.paperColor},className:En.colorBox}),f.value&&T.jsxs(ht,{ref:g,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(f),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(pi,{})}),T.jsx(Xf,{color:n.paperColor,onChange:O=>{i("paperColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("text_color")}),T.jsx(Ht,{onClick:()=>_(d),style:{backgroundColor:n.textStyles.group.color},className:En.colorBox}),d.value&&T.jsxs(ht,{ref:y,className:En.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(d),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(pi,{})}),T.jsx(Xf,{color:n.textStyles.group.color,onChange:O=>{i("textColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("upload_banner")}),T.jsxs(Ht,{component:"label",className:En.chooseImage,children:[T.jsx(Yb,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:a})]}),S&&T.jsx(bt,{className:En.resetButton,onClick:o,children:T.jsx(Jb,{})})]}),T.jsxs(Aa,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[T.jsx(Cn,{variant:"subtitle2",alignSelf:"center",children:t("upload_background")}),T.jsxs(Ht,{component:"label",className:En.chooseImage,children:[T.jsx(Yb,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:s})]}),b&&T.jsx(bt,{className:En.resetButton,onClick:l,children:T.jsx(Jb,{})})]})]})}function vOe({t}){const e=wt(),r=J.useCallback(f=>{e(BR(f))}),n=ba(),a=wE([f=>f.designState.setup||{}],f=>{var d;return{code:f.code,expanded:f.expanded,highlighted:f.highlighted,rules:f.rules,isSingleRule:((d=f.rules)==null?void 0:d.length)===1}}),{code:o,expanded:s,highlighted:l,rules:u,isSingleRule:c}=ye(a);return T.jsxs("div",{className:Zu.rightContent,style:{left:n.direction=="rtl"?"0px":""},children:[T.jsx("div",{className:Zu.close,children:T.jsx(bt,{onClick:()=>{e(SE())},children:T.jsx(pi,{})})}),u==null?void 0:u.map(f=>T.jsx(mOe,{expanded:(s==null?void 0:s.includes(f.key))||c||!1,isSingleRule:c,code:o,t,toggleExpand:r,highlighted:f.key==l,rule:f},o+f.title))]})}const zL=j.memo(vOe),gOe=j.memo(({code:t,rule:e,t:r})=>{if(e.startsWith("validation_"))return T.jsx(AG,{t:r,rule:e,code:t},t+e);switch(e){case"theme":return T.jsx(hOe,{t:r},t+e);case"language":return T.jsx(n$,{t:r},t+e);case"maxChars":return T.jsx(Ff,{label:r("text_field_size"),rule:e,lowerBound:1,t:r,upperBound:500,defaultValue:20,code:t},t+e);case"minRows":return T.jsx(Ff,{label:r("textarea_lines"),lowerBound:1,t:r,upperBound:500,code:t,defaultValue:20},t+e);case"hideText":return T.jsx(Zi,{label:r("hide_text"),rule:e,code:t},t+e);case"showDescription":return T.jsx(Zi,{label:r("show_description"),rule:e,code:t},t+e);case"showWordCount":return T.jsx(Zi,{label:r("show_word_count"),rule:e,code:t},t+e);case"navigationMode":return T.jsx(kge,{},t+e);case"allowPrevious":return T.jsx(Zi,{label:r("allow_previous"),rule:e,code:t},t+e);case"allowIncomplete":return T.jsx(Zi,{label:r("allow_incomplete"),rule:e,code:t},t+e);case"allowJump":return T.jsx(Zi,{label:r("allow_jump"),rule:e,code:t},t+e);case"skipInvalid":return T.jsx(Zi,{label:r("skip_invalid"),rule:e,code:t},t+e);case"hint":return T.jsx(oG,{t:r,code:t},t+e);case"lower_bound_hint":return T.jsx(Zv,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:t},t+e);case"higher_bound_hint":return T.jsx(Zv,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:t},t+e);case"loop":return T.jsx(Zi,{rule:e,code:t,label:r("loop_video")},t+e);case"audio_only":return T.jsx(Zi,{rule:e,code:t,label:r("audio_only")},t+e);case"fullDayFormat":return T.jsx(Zi,{rule:e,code:t,label:r("fullday_format")},t+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return T.jsx(Tge,{t:r,rule:e,code:t},t+e);case"maxDate":return T.jsx(X_,{lowerBound:1,code:t,label:r("max_date"),rule:e},t+e);case"minDate":return T.jsx(X_,{label:r("min_date"),rule:e,code:t},t+e);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return T.jsx(Ls,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:e,code:t},t+e);case"decimal_separator":const i=["",",","."],a=[r("no_decimals_allowed"),",","."];return T.jsx(Ls,{values:i,labels:a,defaultValue:"",label:r("decimal_separator"),rule:e,code:t},t+e);case"imageAspectRatio":const o=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],s=[1,1.7778,1.3333,1.5,.562,.75,.6667];return T.jsx(Ls,{values:s,labels:o,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:e,code:t},t+e);case"reorder_setup":const l=[r("collapse_groups"),r("collapse_questions")],u=["collapse_groups","collapse_questions"];return T.jsx(Ls,{values:u,labels:l,defaultValue:"collapse_none",label:r("order_mode"),rule:e,code:t},t+e);case"iconSize":const c=["50","100","150","200"];return T.jsx(Ls,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:e,code:t},t+e);case"columns":const f=["1","2","3","4","6"];return T.jsx(Ls,{values:f,defaultValue:"2",label:r("columns_number"),rule:e,code:t},t+e);case"imageHeight":return T.jsx(Ff,{label:r("image_height"),lowerBound:50,upperBound:500,t:r,code:t,defaultValue:250,rule:e},t+e);case"spacing":return T.jsx(Ff,{label:r("spacing"),lowerBound:2,upperBound:32,code:t,t:r,defaultValue:8,rule:e},t+e);case"skip_logic":return T.jsx(sve,{t:r,code:t},t+e);case"relevance":return T.jsx(nve,{t:r,code:t},t+e);default:return""}}),mOe=j.memo(({expanded:t,highlighted:e,code:r,rule:n,isSingleRule:i,t:a,toggleExpand:o})=>T.jsxs(m$,{expanded:t,className:Zu.accordionStyle,slotProps:{transition:{unmountOnExit:!0}},children:[T.jsx(y$,{onClick:()=>o(n.key),className:Zu.setupHeader,expandIcon:i?null:T.jsx(b$,{}),children:T.jsx("span",{className:Zu.sectionTitle,children:a(n.title)})}),T.jsx(_$,{sx:{backgroundColor:e?"#fff":"background.paper"},children:n.rules.map(s=>T.jsx(gOe,{code:r,rule:s,t:a},s))})]}));function yOe({t}){const e=ye(i=>{var a;return(((a=i.designState)==null?void 0:a.designMode)||dn.DESIGN)==dn.DESIGN&&(!i.designState.setup||Object.keys(i.designState.setup)==0)}),r=ye(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}}),n=Object.keys(r).length>0;return ba(),T.jsxs(ht,{sx:{width:"22rem",flex:"0 0 auto"},children:[e&&T.jsx(qR,{t}),n&&T.jsx(zL,{t})]})}const bOe=j.memo(yOe);var Db={},_Oe=Cr;Object.defineProperty(Db,"__esModule",{value:!0});var HL=Db.default=void 0,SOe=_Oe(Tr()),OOe=T;HL=Db.default=(0,SOe.default)((0,OOe.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");var Mb={},xOe=Cr;Object.defineProperty(Mb,"__esModule",{value:!0});var UL=Mb.default=void 0,wOe=xOe(Tr()),EOe=T;UL=Mb.default=(0,wOe.default)((0,EOe.jsx)("path",{d:"M3 15h18v-2H3zm0 4h18v-2H3zm0-8h18V9H3zm0-6v2h18V5z"}),"Reorder");var Vb={},COe=Cr;Object.defineProperty(Vb,"__esModule",{value:!0});var GL=Vb.default=void 0,TOe=COe(Tr()),kOe=T;GL=Vb.default=(0,TOe.default)((0,kOe.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");function IOe({t}){const e=ye(n=>{var i;return((i=n.designState)==null?void 0:i.setup)||{}});ba();const r=Object.keys(e).length>0;return T.jsx(jE,{in:r,sx:{flex:"0 0 auto"},orientation:"horizontal",timeout:200,easing:{enter:"linear",exit:"linear"},unmountOnExit:!0,children:T.jsx(zL,{t})})}j.memo(IOe);function AOe(){const{t,i18n:e}=ss(["design","run"]),r=e.cloneInstance(),n=J.useRef(null),[i,a]=j.useState(!1),o=J.useRef(),s=ye(_=>_.designState.langInfo),l=wt(),u=ye(_=>_.designState.designMode),c=()=>{l(SE())},f=s==null?void 0:s.lang,d=zR();console.log(d);const p=ye(_=>{var b;return(b=_.designState.Survey)==null?void 0:b.theme});function v(_){return new Promise((b,S)=>{const O=So.includes(_)?"rtl":"ltr",x=n.current;x.dir!=O&&(x.dir=O),x.scrollTop=0,_&&r&&_!=r.language&&r.changeLanguage(_),b()})}J.useEffect(()=>{n.current&&v(f)},[f,n]);const h=J.useMemo(()=>HR(f),[f]),g=j.useCallback(vE({...UR(p),direction:So.includes(f)?"rtl":"ltr"}),[p]),y=ye(_=>{var b,S;return(S=(b=_.designState.Survey)==null?void 0:b.resources)==null?void 0:S.backgroundImage}),m=y?{backgroundImage:"url(".concat(Ao(y),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return T.jsx(ht,{className:s1.mainContainer,ref:o,sx:m,children:T.jsx(a$,{backend:o$()?s$:l$,children:T.jsxs(rR,{value:h,children:[T.jsx(bOe,{t}),T.jsx(bE,{theme:g,children:T.jsx(nR,{i18n:r,children:T.jsx(rG,{designMode:u,ref:n,className:s1.contentPanel})})}),T.jsx(POe,{onCancel:c,designMode:u,isRtl:d}),T.jsx(jOe,{designMode:u,isRtl:d,optionsOpen:i,setOptionsOpen:a})]})})})}const cxe=j.memo(AOe);function jOe({setOptionsOpen:t,optionsOpen:e,designMode:r,isRtl:n}){const i=wt(),a=[{icon:T.jsx(HL,{}),name:"Language",onClick:()=>{t(!1),i(WR())}},{icon:T.jsx(yN,{}),name:"Theme",onClick:()=>{t(!1),i(YR())}},{icon:T.jsx(UL,{}),name:"Reorder",onClick:()=>{t(!1),i(KR())}}];return r==dn.DESIGN&&T.jsxs(T.Fragment,{children:[T.jsx(GR,{style:{zIndex:1},open:e}),T.jsx(oN,{open:e,dir:"rtl",onClick:()=>t(!e),ariaLabel:"SpeedDial basic example",sx:n?{position:"absolute",bottom:16,left:16}:{position:"absolute",bottom:16,right:16},icon:T.jsx(GL,{}),children:a.map(o=>T.jsx(hN,{onClick:o.onClick,dir:"rtl",icon:o.icon,tooltipOpen:!0,tooltipTitle:o.name},o.name))})]})}function POe({designMode:t,onCancel:e,isRtl:r}){return t!=dn.DESIGN&&T.jsx(Zg,{sx:{borderRadius:"48px",height:"48px",fontSize:"24px",padding:"8px"},style:r?{position:"absolute",bottom:16,left:16}:{position:"absolute",bottom:16,right:16},label:"Back to Design",icon:T.jsx(gN,{}),color:"primary",onClick:e})}export{cxe as default};
