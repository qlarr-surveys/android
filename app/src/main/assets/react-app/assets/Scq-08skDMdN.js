import{m as n,r as b}from"./index-g2NzBsuM.js";import{K as C,L as x,M as m,Q as w,O as d,b as f,R,N as z,V as I,S as T}from"./Android-BeUiQmgx.js";import{R as D,F as v}from"./RadioGroup-B9M94V8E.js";import{R as g}from"./Radio-C2CnQ9Vh.js";import"./RadioGroupContext-lJk5LCxP.js";import"./SwitchBase-S5YJBO2b.js";function _(e){const l=C(t=>{let s=t.runState.values[e.component.qualifiedCode];return{value:(s==null?void 0:s.value)||""}},x),i=m(),r=t=>{i(d({componentCode:t.target.name,value:t.target.value}))};return n.jsx(w,{component:"fieldset",children:n.jsx(D,{name:e.component.qualifiedCode,value:l.value,onChange:r,children:e.component.answers.map(t=>t.type==="other"?n.jsx(k,{lang:e.lang,parentCode:e.component.qualifiedCode,Choice:t},t.qualifiedCode):n.jsx(E,{Choice:t},t.qualifiedCode))})})}function E(e){var r;const l=f();return C(t=>{var s,u;return(u=(s=t.runState.values[e.Choice.qualifiedCode])==null?void 0:s.relevance)!=null?u:!0})?n.jsx(v,{control:n.jsx(g,{}),label:n.jsx(R,{elementCode:e.Choice.code,fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,name:"label",lang:e.lang,content:(r=e.Choice.content)==null?void 0:r.label}),value:e.Choice.code},e.Choice.qualifiedCode):n.jsx(n.Fragment,{})}function k(e){const l=f(),i=e.Choice.answers[0],r=C(o=>{let c=o.runState.values[e.Choice.qualifiedCode],a=o.runState.values[i.qualifiedCode],S=o.runState.values.Survey.show_errors,F=o.templateState[i.qualifiedCode];return{showChoice:typeof(c==null?void 0:c.relevance)>"u"||c.relevance,childInvalid:(S||F)&&(a==null?void 0:a.relevance)===!0&&(a==null?void 0:a.validity)===!1,value:(a==null?void 0:a.value)||""}},x),t=m(),s=o=>{t(d({componentCode:o.target.name,value:o.target.value}))},u=o=>{t(d({componentCode:e.parentCode,value:e.Choice.code}))},q=o=>{t(T(o.target.name))},h=b.useRef(),y=o=>{o.target.checked&&h.current.focus()},j=()=>{var o,c,a;return n.jsxs("div",{className:"text-left d-flex",children:[n.jsx(v,{control:n.jsx(g,{sx:{color:l.textStyles.text.color}}),label:n.jsx(z,{variant:"standard",fullWidth:!0,required:((o=r.textChild)==null?void 0:o.relevance)&&((c=i.validation)==null?void 0:c.required),sx:{label:{color:l.textStyles.text.color}},inputRef:h,id:i.qualifiedCode,name:i.qualifiedCode,label:(a=e.Choice.content)==null?void 0:a.label,onChange:s,onFocus:u,onBlur:q,value:r.value,InputProps:{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}},helperText:r.childInvalid?n.jsx(I,{component:i,limit:1}):""}),onChange:y,value:e.Choice.code},e.Choice.qualifiedCode),n.jsx("p",{})]})};return r.showChoice?j():""}export{_ as default};
