import{a as x,j as r}from"./index-BdaHkdQl.js";import{A as p}from"./index-CMMJWtX7.js";import{v as D,D as y,aq as f}from"./use-service-D09swmN7.js";import{d as l}from"./dayjs.min-C6SlMFD4.js";import{s as S}from"./index-Djh-vddw.js";import{L as v,D as h}from"./DateTimePicker-DiuyYDe1.js";import{T as m}from"./TextField-B66jFwFo.js";import{T as w,D as g}from"./DatePicker-CCFeOqNk.js";import"./isTouchDevice-DBnnGyOq.js";import"./common-C_0iAd7K.js";import"./ArrowBack-l2Daik9b.js";import"./Tabs-CXy611xA.js";import"./InputAdornment-CMc9n4GQ.js";import"./useFormControl-BousA45m.js";const C="_wrapper_2goe7_1",T={wrapper:C};function K(e){const o=x(),n=D(a=>{let t=a.runState.values[e.component.qualifiedCode],u=a.runState.values.Survey.show_errors,c=a.templateState[e.component.qualifiedCode];return{invalid:(u||c)&&(t==null?void 0:t.validity)===!1,value:t!=null&&t.value?l(window.QlarrScripts.sqlDateTimeToDate(t==null?void 0:t.value)):null}},S),d=y(),i=a=>{let t=a===null?void 0:a.toDate();d(f({componentCode:e.component.qualifiedCode,value:e.component.type=="date_time"?window.QlarrScripts.toSqlDateTime(t):e.component.type=="time"?window.QlarrScripts.toSqlDateTimeIgnoreDate(t):window.QlarrScripts.toSqlDateTimeIgnoreTime(t)}))},s=e.component.dateFormat?e.component.dateFormat:"DD.MM.YYYY";return r.jsx("div",{className:T.wrapper,children:r.jsx(v,{dateAdapter:p,adapterLocale:"ar-sa",children:e.component.type=="date_time"?r.jsx(r.Fragment,{children:r.jsx(h,{renderInput:a=>r.jsx(m,{sx:{svg:{color:o.textStyles.text.color},border:"1px solid","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:o.textStyles.text.color}}},onKeyDown:t=>t.preventDefault(),...a}),margin:"normal",value:n.value,inputFormat:s+" "+(e.component.fullDayFormat?"HH:mm":"hh:mm A"),PaperProps:{sx:{backgroundColor:"white","& .MuiPickersDay-root":{backgroundColor:"white"}}},ampm:!e.component.fullDayFormat,openTo:"year",views:["year","month","day","hours","minutes"],id:e.component.qualifiedCode,minDate:e.component.minDate?l(window.QlarrScripts.dateStringToDate(e.component.minDate)):void 0,maxDate:e.component.maxDate?l(window.QlarrScripts.dateStringToDate(e.component.maxDate)):void 0,error:n.invalid,onChange:i,InputProps:{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size,color:o.textStyles.text.color}}})}):e.component.type=="time"?r.jsx(w,{renderInput:a=>r.jsx(m,{sx:{svg:{color:o.textStyles.text.color},border:"1px solid","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:o.textStyles.text.color}}},onKeyDown:t=>t.preventDefault(),...a}),margin:"normal",openTo:"hours",views:["hours","minutes"],ampm:!e.component.fullDayFormat,inputFormat:e.component.fullDayFormat?"HH:mm":"hh:mm A",id:e.component.qualifiedCode,value:n.value,error:n.invalid,onChange:i,PaperProps:{sx:{backgroundColor:"white","& .MuiPickersDay-root":{backgroundColor:"white"}}},InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}}}):r.jsx(g,{renderInput:a=>r.jsx(m,{sx:{svg:{color:o.textStyles.text.color},input:{color:o.textStyles.text.color},border:"1px solid","& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:o.textStyles.text.color}}},onKeyDown:t=>t.preventDefault(),...a}),margin:"normal",openTo:"year",views:["year","month","day"],ampm:!e.component.fullDayFormat,id:e.component.qualifiedCode,inputFormat:s,value:n.value,minDate:e.component.minDate?window.QlarrScripts.dateStringToDate(e.component.minDate):void 0,PaperProps:{sx:{backgroundColor:"white","& .MuiPickersDay-root":{backgroundColor:"white"}}},maxDate:e.component.maxDate?window.QlarrScripts.dateStringToDate(e.component.maxDate):void 0,error:n.invalid,onChange:i,InputProps:{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size}}})})})}export{K as default};
