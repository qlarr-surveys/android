!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,o,s=[],i=!0,c=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=l.call(t)).done)&&(s.push(n.value),s.length!==r);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function a(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}System.register(["./index-legacy-Bwbrwstt.js","./use-service-legacy-DB5V2eHr.js","./DateUtils-legacy-BTmsWpOC.js","./survey-legacy-BBPrODqM.js","./TextField-legacy-Yi54z2Nj.js","./Web-legacy-D9gX3vQP.js","./index-legacy-VhiL3o7v.js","./Card-legacy-DggIQdNq.js","./FormGroup-legacy-quKOwmtT.js","./Checkbox-legacy-s7YHSryL.js","./SwitchBase-legacy-DkZqnrwV.js","./Tabs-legacy-D_oy2YVb.js","./radioClasses-legacy-BB4JHZf7.js","./tableRowClasses-legacy-SdATQ0p0.js","./FormControlLabel-legacy-D78_YsBw.js","./index-legacy-BMx8YsGH.js","./dayjs.min-legacy-BdWc9vQA.js","./DateTimePicker-legacy-BI39w5oI.js","./InputAdornment-legacy-Doqwucug.js"],(function(r,t){"use strict";var a,l,o,s,i,c,u,d,y,m,f,v,j,b,g,h,p,x,_,C,S,O,I,w,D;return{setters:[e=>{a=e.j,l=e.s,o=e.r,s=e.B},e=>{i=e.M,c=e.aw,u=e.S,d=e.N,y=e.Q,m=e.R,f=e.T,v=e.aK,j=e.aC,b=e.W,g=e.Y,h=e.aM},e=>{p=e.l},e=>{x=e.S},e=>{_=e.I,C=e.T,S=e.a},e=>{O=e.K},e=>{I=e.S},e=>{w=e.C},e=>{D=e.F},null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="._mainContainer_17u7e_1{margin:auto;max-width:800px;min-width:300px;height:calc(100vh - 64px);overflow:auto}._createUserCard_17u7e_9{padding:25px}._blockItem_17u7e_13{flex:1;display:flex;gap:15px;flex-direction:column}._errorText_17u7e_20{color:#eb5757!important}\n/*$vite$:1*/",document.head.appendChild(t),r("default",(function(){const r=y("survey"),t=l(),n=i("manage").t,c=m(),u=e(o.useState(""),2),d=u[0],_=u[1],O=e(o.useState(""),2),A=O[0],N=O[1],P=e(o.useState(""),2),M=P[0],k=P[1],F=e(o.useState(x.MIXED),2),U=F[0],$=F[1],W=e(o.useState(null),2),L=W[0],R=W[1],B=e(o.useState(null),2),q=B[0],V=B[1],X=()=>{t(b.dashboard)};return a.jsx(s,{className:E.mainContainer,children:a.jsxs(w,{className:E.createUserCard,children:[a.jsx(f,{variant:"h4",children:n("create_survey.title")}),a.jsxs(D,{className:E.formGroup,children:[a.jsx(C,{sx:{maxWidth:"400px"},error:A.length>0,required:!0,value:d,id:"surveyName",label:n("label.survey_name"),name:"surveyName",onChange:e=>{_(e.target.value),N("")},variant:"standard"}),A&&a.jsx(S,{className:E.errorText,children:A}),a.jsxs(v,{flexDirection:"row",gap:5,sx:{mt:"40px"},children:[a.jsx(s,{className:E.blockItem,children:a.jsx(T,{surveyMode:U,onSurveyModeChanged:e=>{$(e.target.value)}})}),a.jsx(s,{className:E.blockItem,children:a.jsx(I,{error:M,surveyActiveFrom:L,surveyActiveTo:q,onSurveyActiveFromChanged:e=>{k(""),R(e.toDate())},onSurveyActiveToChanged:e=>{k(""),V(e.toDate())}})})]})]}),a.jsxs(s,{sx:{display:"flex",justifyContent:"flex-end",mt:"40px"},children:[a.jsx(j,{onClick:X,children:n("action_btn.cancel")}),a.jsx(j,{onClick:()=>{if(N(""),0==d.length&&(N(n("survey_required")),1))return;c(g(!0));const e={name:d,usage:U};L&&(e.startDate=p(L)),q&&(e.endDate=p(q)),r.createSurvey(e).then((()=>{X()})).catch((e=>{e.name==h.DUPLICATE_SURVEY_NAME.name?N(n(`processed_errors.${e.name}`)):e.name==h.INVALID_SURVEY_DATES.name&&k(n(`processed_errors.${e.name}`))})).finally((()=>{c(g(!1))}))},children:n("action_btn.save")})]})]})})}));const E={mainContainer:"_mainContainer_17u7e_1",createUserCard:"_createUserCard_17u7e_9",blockItem:"_blockItem_17u7e_13",errorText:"_errorText_17u7e_20"};function A(e){return a.jsx(O,n(n({},e),{},{style:{color:"#181735"}}))}const T=({surveyMode:e,onSurveyModeChanged:r})=>{const t=i("manage").t;return a.jsxs(c,{fullWidth:!0,children:[a.jsx(_,{id:"survey-mode-label",children:t("label.survey_mode")}),a.jsxs(u,{labelId:"survey-mode-label",id:"demo-simple-select",value:e,label:t("label.survey_mode"),onChange:r,sx:{minWidth:"160px",borderRadius:"12px",backgroundColor:"#f7f8fc","& .MuiOutlinedInput-notchedOutline":{border:"none"}},IconComponent:A,children:[a.jsx(d,{value:x.WEB,children:t(`mode.${x.WEB}`)}),a.jsx(d,{value:x.OFFLINE,children:t(`mode.${x.OFFLINE}`)}),a.jsx(d,{value:x.MIXED,children:t(`mode.${x.MIXED}`)})]})]})}}}}))}();
