import{j as e,s as _,u as E,r as a,B as r}from"./index-BdaHkdQl.js";import{d as v,A as T,y as j,D as R,F as o,ao as i,T as u}from"./use-service-D09swmN7.js";import{C as N}from"./Card-DaS3BkKI.js";import"./TextField-B66jFwFo.js";import"./useFormControl-BousA45m.js";const O=v(e.jsx("path",{d:"M12 19c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1zM4 6l8 5 8-5v2l-8 5-8-5V6zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34 17.34 22z"}),"MarkEmailRead"),y="_card_ubg1u_1",C="_errorText_ubg1u_9",l={card:y,errorText:C};function z(){const m=T("auth"),{t}=j("manage"),f=_(),c=R(),{token:d}=E(),[n,x]=a.useState(""),[p,h]=a.useState(!1),g=s=>{f("/")};a.useEffect(()=>{S()},[]);const S=()=>{c(o(!0)),m.confirmSignup(d).then(s=>{h(!0),setTimeout(()=>{g()},1e4)}).catch(s=>{(s.name==i.USED_CONFIRMATION_TOKEN.name||s.name==i.EXPIRED_CONFIRMATION_TOKEN.name)&&x(processed)}).finally(()=>{c(o(!1))})};return e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 80px)",overflow:"auto",width:"100vw",backgroundColor:"#f7f8fc"},children:e.jsxs(N,{className:l.card,children:[p&&e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:"3rem",alignItems:"center"},children:[e.jsx(O,{sx:{fontSize:"5rem",color:"#181735"}}),e.jsx(u,{variant:"h5",fontWeight:"600",children:t("confirm_signup.success")}),e.jsx(u,{variant:"subtitle1",children:t("confirm_signup.info")})]}),n&&e.jsx(r,{className:l.errorText,children:t("processed_errors.".concat(n))})]})})}export{z as default};
