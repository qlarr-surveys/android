import{j as r,R as c,aj as S}from"./index-Dk6dJ9ej.js";import{H as d,U as w,aV as g}from"./use-service-CuOd9RJq.js";import{V as b}from"./index-D8xbzhRJ.js";import{D as T}from"./index-BCpvU79U.js";import{b as p}from"./common-DrzhiyDD.js";import{T as R,a as q,c as D,b as f}from"./TableRow-BVZoCPfq.js";import{T as m}from"./TableCell-Df_hHt8Q.js";import"./isTouchDevice-BxZW9fIr.js";import"./Close-Coe7rEfx.js";import"./Card-vFcRbAK1.js";import"./Toolbar-C-_hleNE.js";import"./tableRowClasses-CVBxymtu.js";function P(t){let a=t.component.answers.filter(o=>o.type=="column"),l=t.component.answers.filter(o=>o.type=="row");return r.jsx(R,{children:r.jsx(q,{children:r.jsx(D,{children:l.map(o=>r.jsx(c.Fragment,{children:r.jsx(B,{answer:o,choices:a},o.qualifiedCode)},o.qualifiedCode))})})})}function B(t){var x;const a=S(),l=d(e=>{var n;return(n=e.templateState[t.answer.qualifiedCode])==null?void 0:n.isDirty}),o=d(e=>e.runState.values.Survey.show_errors),s=d(e=>e.runState.values[t.answer.qualifiedCode]),y=c.useMemo(()=>s==null?void 0:s.validity,[s]),j=c.useMemo(()=>s==null?void 0:s.value,[s]),u=c.useMemo(()=>s==null?void 0:s.relevance,[s]),v=w(),C=e=>{v(g({componentCode:t.answer.qualifiedCode,value:e}))},i=(o||l)&&y===!1;return typeof u>"u"||u?r.jsxs(c.Fragment,{children:[r.jsxs(f,{children:[r.jsx(m,{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size,borderBottom:i?"0":"",padding:"8px"},children:(x=t.answer.content)==null?void 0:x.label}),t.choices.map(e=>{var n,h;return r.jsx(m,{component:"th",scope:"row",sx:{borderBottom:i?"0":"",padding:"8px"},children:r.jsx(T,{onIconClick:()=>C(e.code),imageHeightPx:64,iconColor:j==e.code?a.palette.primary.main:a.textStyles.text.color,svgUrl:(n=e==null?void 0:e.resources)!=null&&n.icon?p((h=e==null?void 0:e.resources)==null?void 0:h.icon):void 0})},e.code)})]},t.answer.code),i?r.jsx(f,{children:r.jsx(m,{sx:{padding:"8px"},colSpan:t.choices?t.choices.length+1:1,children:r.jsx(b,{component:t.answer})})}):""]}):""}export{P as default};
