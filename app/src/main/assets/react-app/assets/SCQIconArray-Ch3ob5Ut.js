import{a1 as S,m as t,W as i}from"./index-DmP5zAAx.js";import{N as g,D as m,H as C,a0 as b,V as T,J as q}from"./Android-CkQUA4KD.js";import{D}from"./index-Ds3sh9kK.js";import{T as R,a as z,b as F,c as h,d,e as M}from"./TableRow-CYoRfQVR.js";function Q(n){const l=S(),c=g();let r=n.component.answers.filter(a=>a.type=="column"),s=n.component.answers.filter(a=>a.type=="row");return t.jsx(R,{sx:{overflowX:"auto",maxWidth:"100%"},children:t.jsxs(z,{sx:{tableLayout:"fixed",minWidth:"".concat(r.length*c,"px")},children:[t.jsx(F,{children:t.jsxs(h,{children:[t.jsx(d,{sx:{width:c,padding:"0px"}},"content"),r.map(a=>{var x;return t.jsx(d,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,textAlign:"center",width:c},children:(x=a.content)==null?void 0:x.label},a.qualifiedCode)})]})}),t.jsx(M,{children:s.map(a=>t.jsx(i.Fragment,{children:t.jsx(W,{answer:a,choices:r,width:c},a.qualifiedCode)},a.qualifiedCode))})]})})}function W(n){var y;const l=S(),c=m(e=>{var o;return(o=e.templateState[n.answer.qualifiedCode])==null?void 0:o.isDirty}),r=m(e=>e.runState.values.Survey.show_errors),s=m(e=>e.runState.values[n.answer.qualifiedCode]),a=i.useMemo(()=>s==null?void 0:s.validity,[s]),x=i.useMemo(()=>s==null?void 0:s.value,[s]),f=i.useMemo(()=>s==null?void 0:s.relevance,[s]),w=C(),v=e=>{w(q({componentCode:n.answer.qualifiedCode,value:e}))},u=(r||c)&&a===!1;return typeof f>"u"||f?t.jsxs(i.Fragment,{children:[t.jsxs(h,{children:[t.jsx(d,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,borderBottom:u?"0":"",padding:"2px"},children:(y=n.answer.content)==null?void 0:y.label}),n.choices.map(e=>{var o,j;return t.jsx(d,{component:"th",scope:"row",sx:{borderBottom:u?"0":"",padding:"2px",width:n.width},children:t.jsx(D,{onIconClick:()=>v(e.code),imageHeight:"64px",isSelected:x==e.code,theme:l,svgUrl:(o=e==null?void 0:e.resources)!=null&&o.icon?b((j=e==null?void 0:e.resources)==null?void 0:j.icon):void 0})},e.code)})]},n.answer.code),u?t.jsx(h,{children:t.jsx(d,{sx:{padding:"2px"},colSpan:n.choices?n.choices.length+1:1,children:t.jsx(T,{component:n.answer})})}):""]}):""}export{Q as default};
