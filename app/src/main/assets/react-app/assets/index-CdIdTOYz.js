import{s as y,j as a}from"./index-BPkE25ts.js";import{c as S,a as l,L as b,o as R}from"./yup-BOIU9D06.js";import{u as I,F as L,R as d,I as _}from"./Web-BBqAH_aj.js";import{u as F}from"./use-boolean-C2KF0qPb.js";import{Q as A,M as E,R as T,Y as c,T as $,aK as k,I as q,aM as z}from"./use-service-Bb7LY6Q3.js";import{R as B}from"./router-link-BegOQ2RA.js";import{I as C}from"./InputAdornment-BqPPlMsg.js";import{L as D}from"./Link-DZrEZT2W.js";import"./Checkbox-Dntn-pZ4.js";import"./SwitchBase-CHSPGF-1.js";import"./Tabs-ui_O5_y9.js";import"./radioClasses-CjX8ViDh.js";import"./tableRowClasses-JqPlK2IC.js";import"./TextField-M1IR9KQb.js";import"./FormControlLabel-sZjcD-3I.js";function aa(){const p=A("auth"),{t:e}=E("manage"),r=F(),n=T(),u=y(),g=S().shape({email:l().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email")),password:l().required(e("password_required"))}),h={email:"",password:""},t=I({resolver:R(g),defaultValues:h}),{setError:i,handleSubmit:m,formState:{isSubmitting:f}}=t,x=o=>{o.name==z.WRONG_CREDENTIALS.name&&(i("email",{type:"manual",message:e("processed_errors.".concat(o.name))}),i("password",{type:"manual",message:e("processed_errors.".concat(o.name))}))},w=m(async o=>{n(c(!0));try{await p.login(o.email,o.password);const{from:s}=location.state||{from:{pathname:"/"}};u(s)}catch(s){x(s)}finally{n(c(!1))}}),v=a.jsx("div",{children:a.jsx($,{variant:"h3",paragraph:!0,children:e("login.login")})}),j=a.jsx(L,{methods:t,onSubmit:m(w),children:a.jsxs(k,{spacing:2.5,alignItems:"flex-end",children:[a.jsx(d,{name:"email",label:e("label.email")}),a.jsx(d,{name:"password",label:e("label.password"),type:r.value?"text":"password",InputProps:{endAdornment:a.jsx(C,{position:"end",children:a.jsx(q,{onClick:r.onToggle,edge:"end",children:a.jsx(_,{icon:r.value?"carbon:view":"carbon:view-off"})})})}}),a.jsx(D,{component:B,href:"/forgot-password",variant:"body2",underline:"always",color:"text.secondary",children:e("login.forgot_password")}),a.jsx(b,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:f,children:e("login.login")})]})});return a.jsxs(a.Fragment,{children:[v,j]})}export{aa as default};
