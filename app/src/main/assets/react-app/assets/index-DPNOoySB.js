import{b as on,w as tn,r as J,J as BF,M as qF,O as le,an as xt,P as HF,_ as ae,g as Dl,f as Ml,h as kt,j as T,d as Ir,k as vl,a1 as Ws,l as Vb,i as Bb,o as zF,q as $r,p as kn,ai as UF,R as P,B as gt,y as Ua,A as Zg,ag as WF,ao as GF,ap as YF,H as KF,aq as cE,ar as Kt,as as Jt,at as Qt,au as Le,av as Zt,x as fE,C as JF,aw as QF}from"./index-BPkE25ts.js";import{G as pt,H as XF,J as em,L as ZF,M as fn,N as eR,O as qb,P as tR,Q as pi,T as rR,U as gl,v as Xn,C as Ou,D as tm,V as ls,m as nR,W as dE,X as iR,K as pE,Y as aR}from"./Web-BBqAH_aj.js";import{b_ as oR,b$ as Eh,C as sR,A as Hu,k as Wo,c0 as lR,f as zt,j as Wi,c as Gi,c1 as Ch,ak as Do,al as Hb,am as Ps,I as St,h as hE,c2 as uR,b as rc,bS as cR,c3 as fR,T as Vn,l as vE,B as dR,c4 as zb,L as pR,c5 as hR,D as vR,n as gR,o as Zf,v as Th,p as ed,c6 as gE,z as mR,x as Za,w as Pr,bf as yR,bg as bR,bh as Ub,t as _R,i as SR,e as sp,bN as OR,c7 as xR,K as Nr,c8 as Yi,c9 as us,bj as ji,av as wR,R as wt,H as ye,ca as Wb,cb as Wa,ao as So,M as cs,cc as Fi,cd as Na,ce as ER,aP as td,cf as CR,cg as yi,aC as Ut,b8 as Ga,ch as fs,ci as Si,Q as Vl,cj as ts,ba as lp,ck as rm,cl as vd,cm as vn,cn as TR,co as kR,cp as IR,cq as kh,cr as xu,bm as AR,cs as Ih,ct as PR,cu as qn,cv as gd,aw as Dr,S as Ki,N as Zr,cw as ke,a1 as W,cx as up,P as jR,bB as LR,V as FR,aq as mE,bc as RR,cy as gf,cz as $R,cA as NR,cB as DR,cC as yE,cD as MR,cE as VR,cF as BR,cG as qR,aK as eo,cH as Ah,aN as HR,cI as zR,aE as bE,cJ as UR,au as WR,bu as GR,cK as YR,cL as KR,cM as JR,aW as QR,U as XR}from"./use-service-Bb7LY6Q3.js";import{c as _E,E as ZR,D as e$,i as t$,T as r$,H as n$}from"./isTouchDevice-ByQSu3Gj.js";import{u as i$,a as a$,D as o$,d as s$}from"./Image-BSmAPtQr.js";import{T as Yt,F as SE,I as l$}from"./TextField-M1IR9KQb.js";import{T as OE,a as xE,b as wE,c as cp,d as EE}from"./TableRow-Beq5cqAM.js";import{T as gn}from"./TableCell-BjKLxRk-.js";import{R as u$}from"./Radio-BGDNdbh4.js";import{u as Ji}from"./useDrop-C3oBIppg.js";import{R as c$}from"./index-DKHp5Ldb.js";import{b as ds}from"./common-D9PPFwWu.js";import{G as co,q as nm,D as f$,L as d$}from"./DateTimePicker-Cm0iIfH5.js";import{P as CE,a as im,b as zu}from"./Tabs-ui_O5_y9.js";import{D as am}from"./index-DBVE09D9.js";import{C as p$,H as Gb,c as Oi,A as h$,a as v$,d as g$,b as m$}from"./index-Vjn1Wvb0.js";import{F as Fa}from"./FormControlLabel-sZjcD-3I.js";import{C as Li}from"./Checkbox-Dntn-pZ4.js";import{D as y$,T as b$}from"./DatePicker-C77G4fGC.js";import{d as Uu}from"./Delete-rQE9UuLi.js";import{C as fp}from"./Card-D1gdhD1c.js";import{N as mf}from"./survey-D2pw4t3m.js";import{u as yf}from"./use-boolean-C2KF0qPb.js";import"./radioClasses-CjX8ViDh.js";import"./tableRowClasses-JqPlK2IC.js";import"./SwitchBase-CHSPGF-1.js";import"./RadioGroupContext-ySnErr_L.js";import"./InputAdornment-BqPPlMsg.js";const TE=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return Hse},get LOWER(){return Bse},get NOW(){return Mse},get RELATIVE_DATETIME(){return Vse},get UPPER(){return qse}},Symbol.toStringTag,{value:"Module"}));function ri(t,e){if(t==null)return{};var r,n,i=on(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var _$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const S$=tn(_$);var O$=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Yb(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(S$[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(O$),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var x$=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,w$=/^\s*$/,E$=Object.create(null);function kE(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(kE,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var C$={parse:function(t,e){e||(e={}),e.components||(e.components=E$);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(x$,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,v=t.charAt(p);if(d){var h=Yb(l);return a<0?(n.push(h),n):((c=i[a]).children.push(h),n)}if(f&&(a++,(r=Yb(l)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!v||v==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&v!=="<"&&v)){c=a===-1?n:i[a].children;var g=t.indexOf("<",p),y=t.slice(p,g===-1?void 0:g);w$.test(y)&&(y=" "),(g>-1&&a+c.length>=0||y!==" ")&&c.push({type:"text",content:y})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+kE("",r)},"")}},T$=["format"],k$=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Kb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ph(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function jh(t){return t?t.props?t.props.children:t.children:[]}function I$(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return J.isValidElement(e)})}function Ru(t){return Array.isArray(t)?t:[t]}function A$(t,e){var r=Qr({},e);return r.props=Object.assign(t.props,e.props),r}function IE(t,e){if(!t)return"";var r="",n=Ru(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(J.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=IE(u,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)Eh("Trans: the passed in value is invalid - seems you passed in a null child.");else if(xt(a)==="object"){var f=a.format,d=ri(a,T$),p=Object.keys(d);if(p.length===1){var v=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(v,"}}")}else Eh("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Eh("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function P$(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var l={};function u(g){var y=Ru(g);y.forEach(function(m){typeof m!="string"&&(Ph(m)?u(jh(m)):xt(m)==="object"&&!J.isValidElement(m)&&Object.assign(l,m))})}u(t);var c=C$.parse("<0>".concat(e,"</0>")),f=Qr(Qr({},l),i);function d(g,y,m){var _=jh(g),b=v(_,y.children,m);return I$(_)&&b.length===0?_:b}function p(g,y,m,_,b){g.dummy&&(g.children=y),m.push(J.cloneElement(g,Qr(Qr({},g.props),{},{key:_}),b?void 0:y))}function v(g,y,m){var _=Ru(g),b=Ru(y);return b.reduce(function(S,O,x){var C=O.children&&O.children[0]&&O.children[0].content&&r.services.interpolator.interpolate(O.children[0].content,f,r.language);if(O.type==="tag"){var A=_[parseInt(O.name,10)];!A&&m.length===1&&m[0][O.name]&&(A=m[0][O.name]),A||(A={});var w=Object.keys(O.attrs).length!==0?A$({props:O.attrs},A):A,k=J.isValidElement(w),E=k&&Ph(O,!0)&&!O.voidElement,I=s&&xt(w)==="object"&&w.dummy&&!k,j=xt(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,O.name);if(typeof w=="string"){var L=r.services.interpolator.interpolate(w,f,r.language);S.push(L)}else if(Ph(w)||E){var M=d(w,O,m);p(w,M,S,x)}else if(I){var R=v(_,O.children,m);S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x}),R))}else if(Number.isNaN(parseFloat(O.name)))if(j){var U=d(w,O,m);p(w,U,S,x,O.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(O.name)>-1)if(O.voidElement)S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)}));else{var V=v(_,O.children,m);S.push(J.createElement(O.name,{key:"".concat(O.name,"-").concat(x)},V))}else if(O.voidElement)S.push("<".concat(O.name," />"));else{var $=v(_,O.children,m);S.push("<".concat(O.name,">").concat($,"</").concat(O.name,">"))}else if(xt(w)==="object"&&!k){var F=O.children[0]?C:null;F&&S.push(F)}else O.children.length===1&&C?S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x}),C)):S.push(J.cloneElement(w,Qr(Qr({},w.props),{},{key:x})))}else if(O.type==="text"){var N=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(O.content,f,r.language)):r.services.interpolator.interpolate(O.content,f,r.language);N?S.push(J.createElement(N,{key:"".concat(O.name,"-").concat(x)},B)):S.push(B)}return S},[])}var h=v([{dummy:!0,children:t||[]}],c,Ru(t||[]));return jh(h[0])}function $i(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,l=t.values,u=t.defaults,c=t.components,f=t.ns,d=t.i18n,p=t.t,v=t.shouldUnescape,h=ri(t,k$),g=J.useContext(BF)||{},y=g.i18n,m=g.defaultNS,_=d||y||HF();if(!_)return oR("You will need to pass in an i18next instance by using i18nextReactModule"),e;var b=p||_.t.bind(_)||function(L){return L};a&&(s.context=a);var S=Qr(Qr({},qF()),_.options&&_.options.react),O=f||b.ns||m||_.options&&_.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"];var x=u||IE(e,S)||S.transEmptyNodeValue||i,C=S.hashTransKey,A=i||(C?C(x):x),w=l?s.interpolation:{interpolation:Qr(Qr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},k=Qr(Qr(Qr(Qr({},s),{},{count:r},l),w),{},{defaultValue:x,ns:O}),E=A?b(A,k):x,I=P$(c||e,E,_,S,k,v),j=n!==void 0?n:S.defaultTransParent;return j?J.createElement(j,h,I):I}function j$(t){return J.Children.toArray(t).filter(e=>J.isValidElement(e))}const L$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Jb(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function AE(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:o=!1}=t;return(s,{inputValue:l,getOptionLabel:u})=>{let c=o?l.trim():l;r&&(c=c.toLowerCase()),e&&(c=Jb(c));const f=c?s.filter(d=>{let p=(a||u)(d);return r&&(p=p.toLowerCase()),e&&(p=Jb(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?f.slice(0,n):f}}function bf(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const F$=AE(),Qb=5,R$=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function $$(t){const{unstable_isActiveElementInListbox:e=R$,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:v=!1,disableListWrap:h=!1,filterOptions:g=F$,filterSelectedOptions:y=!1,freeSolo:m=!1,getOptionDisabled:_,getOptionKey:b,getOptionLabel:S=ne=>{var Z;return(Z=ne.label)!=null?Z:ne},groupBy:O,handleHomeEndKeys:x=!t.freeSolo,id:C,includeInputInList:A=!1,inputValue:w,isOptionEqualToValue:k=(ne,Z)=>ne===Z,multiple:E=!1,onChange:I,onClose:j,onHighlightChange:L,onInputChange:M,onOpen:R,open:U,openOnFocus:V=!1,options:$,readOnly:F=!1,selectOnFocus:N=!t.freeSolo,value:B}=t,z=sR(C);let H=S;H=ne=>{const Z=S(ne);return typeof Z!="string"?String(Z):Z};const D=J.useRef(!1),G=J.useRef(!0),q=J.useRef(null),Y=J.useRef(null),[K,ie]=J.useState(null),[te,oe]=J.useState(-1),ue=i?0:-1,fe=J.useRef(ue),[pe,Se]=Hu({controlled:B,default:c,name:u}),[Q,re]=Hu({controlled:w,default:"",name:u,state:"inputValue"}),[de,ve]=J.useState(!1),ee=J.useCallback((ne,Z)=>{if(!(E?pe.length<Z.length:Z!==null)&&!s)return;let _e;if(E)_e="";else if(Z==null)_e="";else{const ze=H(Z);_e=typeof ze=="string"?ze:""}Q!==_e&&(re(_e),M&&M(ne,_e,"reset"))},[H,Q,E,M,re,s,pe]),[me,Oe]=Hu({controlled:U,default:!1,name:u,state:"open"}),[we,Je]=J.useState(!0),at=!E&&pe!=null&&Q===H(pe),ce=me&&!F,ge=ce?g($.filter(ne=>!(y&&(E?pe:[pe]).some(Z=>Z!==null&&k(ne,Z)))),{inputValue:at&&we?"":Q,getOptionLabel:H}):[],he=i$({filteredOptions:ge,value:pe,inputValue:Q});J.useEffect(()=>{const ne=pe!==he.value;de&&!ne||m&&!ne||ee(null,pe)},[pe,ee,de,he.value,m]);const je=me&&ge.length>0&&!F,Be=Wo(ne=>{ne===-1?q.current.focus():K.querySelector('[data-tag-index="'.concat(ne,'"]')).focus()});J.useEffect(()=>{E&&te>pe.length-1&&(oe(-1),Be(-1))},[pe,E,te,Be]);function Ne(ne,Z){if(!Y.current||ne<0||ne>=ge.length)return-1;let be=ne;for(;;){const _e=Y.current.querySelector('[data-option-index="'.concat(be,'"]')),ze=v?!1:!_e||_e.disabled||_e.getAttribute("aria-disabled")==="true";if(_e&&_e.hasAttribute("tabindex")&&!ze)return be;if(Z==="next"?be=(be+1)%ge.length:be=(be-1+ge.length)%ge.length,be===ne)return-1}}const ot=Wo(({event:ne,index:Z,reason:be="auto"})=>{if(fe.current=Z,Z===-1?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant","".concat(z,"-option-").concat(Z)),L&&L(ne,Z===-1?null:ge[Z],be),!Y.current)return;const _e=Y.current.querySelector('[role="option"].'.concat(r,"-focused"));_e&&(_e.classList.remove("".concat(r,"-focused")),_e.classList.remove("".concat(r,"-focusVisible")));let ze=Y.current;if(Y.current.getAttribute("role")!=="listbox"&&(ze=Y.current.parentElement.querySelector('[role="listbox"]')),!ze)return;if(Z===-1){ze.scrollTop=0;return}const bt=Y.current.querySelector('[data-option-index="'.concat(Z,'"]'));if(bt&&(bt.classList.add("".concat(r,"-focused")),be==="keyboard"&&bt.classList.add("".concat(r,"-focusVisible")),ze.scrollHeight>ze.clientHeight&&be!=="mouse"&&be!=="touch")){const qt=bt,Jr=ze.clientHeight+ze.scrollTop,Re=qt.offsetTop+qt.offsetHeight;Re>Jr?ze.scrollTop=Re-ze.clientHeight:qt.offsetTop-qt.offsetHeight*(O?1.3:0)<ze.scrollTop&&(ze.scrollTop=qt.offsetTop-qt.offsetHeight*(O?1.3:0))}}),st=Wo(({event:ne,diff:Z,direction:be="next",reason:_e="auto"})=>{if(!ce)return;const bt=Ne((()=>{const qt=ge.length-1;if(Z==="reset")return ue;if(Z==="start")return 0;if(Z==="end")return qt;const Jr=fe.current+Z;return Jr<0?Jr===-1&&A?-1:h&&fe.current!==-1||Math.abs(Z)>1?0:qt:Jr>qt?Jr===qt+1&&A?-1:h||Math.abs(Z)>1?qt:0:Jr})(),be);if(ot({index:bt,reason:_e,event:ne}),n&&Z!=="reset")if(bt===-1)q.current.value=Q;else{const qt=H(ge[bt]);q.current.value=qt,qt.toLowerCase().indexOf(Q.toLowerCase())===0&&Q.length>0&&q.current.setSelectionRange(Q.length,qt.length)}}),Ke=()=>{const ne=(Z,be)=>{const _e=Z?H(Z):"",ze=be?H(be):"";return _e===ze};if(fe.current!==-1&&he.filteredOptions&&he.filteredOptions.length!==ge.length&&he.inputValue===Q&&(E?pe.length===he.value.length&&he.value.every((Z,be)=>H(pe[be])===H(Z)):ne(he.value,pe))){const Z=he.filteredOptions[fe.current];if(Z)return bf(ge,be=>H(be)===H(Z))}return-1},Bt=J.useCallback(()=>{if(!ce)return;const ne=Ke();if(ne!==-1){fe.current=ne;return}const Z=E?pe[0]:pe;if(ge.length===0||Z==null){st({diff:"reset"});return}if(Y.current){if(Z!=null){const be=ge[fe.current];if(E&&be&&bf(pe,ze=>k(be,ze))!==-1)return;const _e=bf(ge,ze=>k(ze,Z));_e===-1?st({diff:"reset"}):ot({index:_e});return}if(fe.current>=ge.length-1){ot({index:ge.length-1});return}ot({index:fe.current})}},[ge.length,E?!1:pe,y,st,ot,ce,Q,E]),jr=Wo(ne=>{lR(Y,ne),ne&&Bt()});J.useEffect(()=>{Bt()},[Bt]);const ht=ne=>{me||(Oe(!0),Je(!0),R&&R(ne))},Fe=(ne,Z)=>{me&&(Oe(!1),j&&j(ne,Z))},De=(ne,Z,be,_e)=>{if(E){if(pe.length===Z.length&&pe.every((ze,bt)=>ze===Z[bt]))return}else if(pe===Z)return;I&&I(ne,Z,be,_e),Se(Z)},Ge=J.useRef(!1),Qe=(ne,Z,be="selectOption",_e="options")=>{let ze=be,bt=Z;if(E){bt=Array.isArray(pe)?pe.slice():[];const qt=bf(bt,Jr=>k(Z,Jr));qt===-1?bt.push(Z):_e!=="freeSolo"&&(bt.splice(qt,1),ze="removeOption")}ee(ne,bt),De(ne,bt,ze,{option:Z}),!d&&(!ne||!ne.ctrlKey&&!ne.metaKey)&&Fe(ne,ze),(o===!0||o==="touch"&&Ge.current||o==="mouse"&&!Ge.current)&&q.current.blur()};function ft(ne,Z){if(ne===-1)return-1;let be=ne;for(;;){if(Z==="next"&&be===pe.length||Z==="previous"&&be===-1)return-1;const _e=K.querySelector('[data-tag-index="'.concat(be,'"]'));if(!_e||!_e.hasAttribute("tabindex")||_e.disabled||_e.getAttribute("aria-disabled")==="true")be+=Z==="next"?1:-1;else return be}}const Et=(ne,Z)=>{if(!E)return;Q===""&&Fe(ne,"toggleInput");let be=te;te===-1?Q===""&&Z==="previous"&&(be=pe.length-1):(be+=Z==="next"?1:-1,be<0&&(be=0),be===pe.length&&(be=-1)),be=ft(be,Z),oe(be),Be(be)},At=ne=>{D.current=!0,re(""),M&&M(ne,"","clear"),De(ne,E?[]:null,"clear")},_r=ne=>Z=>{if(ne.onKeyDown&&ne.onKeyDown(Z),!Z.defaultMuiPrevented&&(te!==-1&&["ArrowLeft","ArrowRight"].indexOf(Z.key)===-1&&(oe(-1),Be(-1)),Z.which!==229))switch(Z.key){case"Home":ce&&x&&(Z.preventDefault(),st({diff:"start",direction:"next",reason:"keyboard",event:Z}));break;case"End":ce&&x&&(Z.preventDefault(),st({diff:"end",direction:"previous",reason:"keyboard",event:Z}));break;case"PageUp":Z.preventDefault(),st({diff:-Qb,direction:"previous",reason:"keyboard",event:Z}),ht(Z);break;case"PageDown":Z.preventDefault(),st({diff:Qb,direction:"next",reason:"keyboard",event:Z}),ht(Z);break;case"ArrowDown":Z.preventDefault(),st({diff:1,direction:"next",reason:"keyboard",event:Z}),ht(Z);break;case"ArrowUp":Z.preventDefault(),st({diff:-1,direction:"previous",reason:"keyboard",event:Z}),ht(Z);break;case"ArrowLeft":Et(Z,"previous");break;case"ArrowRight":Et(Z,"next");break;case"Enter":if(fe.current!==-1&&ce){const be=ge[fe.current],_e=_?_(be):!1;if(Z.preventDefault(),_e)return;Qe(Z,be,"selectOption"),n&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else m&&Q!==""&&at===!1&&(E&&Z.preventDefault(),Qe(Z,Q,"createOption","freeSolo"));break;case"Escape":ce?(Z.preventDefault(),Z.stopPropagation(),Fe(Z,"escape")):l&&(Q!==""||E&&pe.length>0)&&(Z.preventDefault(),Z.stopPropagation(),At(Z));break;case"Backspace":if(E&&!F&&Q===""&&pe.length>0){const be=te===-1?pe.length-1:te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break;case"Delete":if(E&&!F&&Q===""&&pe.length>0&&te!==-1){const be=te,_e=pe.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:pe[be]})}break}},Rt=ne=>{ve(!0),V&&!D.current&&ht(ne)},Mr=ne=>{if(e(Y)){q.current.focus();return}ve(!1),G.current=!0,D.current=!1,a&&fe.current!==-1&&ce?Qe(ne,ge[fe.current],"blur"):a&&m&&Q!==""?Qe(ne,Q,"blur","freeSolo"):s&&ee(ne,pe),Fe(ne,"blur")},qe=ne=>{const Z=ne.target.value;Q!==Z&&(re(Z),Je(!1),M&&M(ne,Z,"input")),Z===""?!f&&!E&&De(ne,null,"clear"):ht(ne)},lt=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));fe.current!==Z&&ot({event:ne,index:Z,reason:"mouse"})},ur=ne=>{ot({event:ne,index:Number(ne.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ge.current=!0},Yr=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));Qe(ne,ge[Z],"selectOption"),Ge.current=!1},Kr=ne=>Z=>{const be=pe.slice();be.splice(ne,1),De(Z,be,"removeOption",{option:pe[ne]})},mt=ne=>{me?Fe(ne,"toggleInput"):ht(ne)},dt=ne=>{ne.currentTarget.contains(ne.target)&&ne.target.getAttribute("id")!==z&&ne.preventDefault()},cr=ne=>{ne.currentTarget.contains(ne.target)&&(q.current.focus(),N&&G.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),G.current=!1)},$t=ne=>{!p&&(Q===""||!me)&&mt(ne)};let Lr=m&&Q.length>0;Lr=Lr||(E?pe.length>0:pe!==null);let tr=ge;return O&&(tr=ge.reduce((ne,Z,be)=>{const _e=O(Z);return ne.length>0&&ne[ne.length-1].group===_e?ne[ne.length-1].options.push(Z):ne.push({key:be,index:be,group:_e,options:[Z]}),ne},[])),p&&de&&Mr(),{getRootProps:(ne={})=>ae({"aria-owns":je?"".concat(z,"-listbox"):null},ne,{onKeyDown:_r(ne),onMouseDown:dt,onClick:cr}),getInputLabelProps:()=>({id:"".concat(z,"-label"),htmlFor:z}),getInputProps:()=>({id:z,value:Q,onBlur:Mr,onFocus:Rt,onChange:qe,onMouseDown:$t,"aria-activedescendant":ce?"":null,"aria-autocomplete":n?"both":"list","aria-controls":je?"".concat(z,"-listbox"):void 0,"aria-expanded":je,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:At}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:mt}),getTagProps:({index:ne})=>ae({key:ne,"data-tag-index":ne,tabIndex:-1},!F&&{onDelete:Kr(ne)}),getListboxProps:()=>({role:"listbox",id:"".concat(z,"-listbox"),"aria-labelledby":"".concat(z,"-label"),ref:jr,onMouseDown:ne=>{ne.preventDefault()}}),getOptionProps:({index:ne,option:Z})=>{var be;const _e=(E?pe:[pe]).some(bt=>bt!=null&&k(Z,bt)),ze=_?_(Z):!1;return{key:(be=b==null?void 0:b(Z))!=null?be:H(Z),tabIndex:-1,role:"option",id:"".concat(z,"-option-").concat(ne),onMouseMove:lt,onClick:Yr,onTouchStart:ur,"data-option-index":ne,"aria-disabled":ze,"aria-selected":_e}},id:z,inputValue:Q,value:pe,dirty:Lr,expanded:ce&&K,popupOpen:ce,focused:de||te!==-1,anchorEl:K,setAnchorEl:ie,focusedTag:te,groupedOptions:tr}}function N$(t){return Dl("MuiListSubheader",t)}Ml("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const D$=["className","color","component","disableGutters","disableSticky","inset"],M$=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,o={root:["root",r!=="default"&&"color".concat(kt(r)),!n&&"gutters",i&&"inset",!a&&"sticky"]};return Gi(o,N$,e)},V$=zt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e["color".concat(kt(r.color))],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>ae({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),om=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=on(n,D$),f=ae({},n,{color:a,component:o,disableGutters:s,disableSticky:l,inset:u}),d=M$(f);return T.jsx(V$,ae({as:o,className:Ir(d.root,i),ref:r,ownerState:f},c))});om.muiSkipListHighlight=!0;var Xb,Zb;const B$=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],q$=["ref"],H$=["key"],z$=["key"],U$=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=t,f={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(kt(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Gi(f,ZF,e)},W$=zt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:o,size:s}=r;return[{["& .".concat(pt.tag)]:e.tag},{["& .".concat(pt.tag)]:e["tagSize".concat(kt(s))]},{["& .".concat(pt.inputRoot)]:e.inputRoot},{["& .".concat(pt.input)]:e.input},{["& .".concat(pt.input)]:o&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})({["&.".concat(pt.focused," .").concat(pt.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(pt.clearIndicator)]:{visibility:"visible"}},["& .".concat(pt.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(pt.inputRoot)]:{[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:30},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(pt.input)]:{width:0,minWidth:30}},["& .".concat(Ch.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(Ch.root,".").concat(Do.sizeSmall)]:{["& .".concat(Ch.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(Hb.root)]:{padding:9,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(pt.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Hb.root,".").concat(Do.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(pt.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(Ps.root)]:{paddingTop:19,paddingLeft:8,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(Ps.input)]:{padding:"7px 4px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Ps.root,".").concat(Do.sizeSmall)]:{paddingBottom:1,["& .".concat(Ps.input)]:{padding:"2.5px 4px"}},["& .".concat(Do.hiddenLabel)]:{paddingTop:8},["& .".concat(Ps.root,".").concat(Do.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(pt.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(Ps.root,".").concat(Do.hiddenLabel,".").concat(Do.sizeSmall)]:{["& .".concat(pt.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(pt.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(pt.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(pt.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(pt.inputRoot)]:{flexWrap:"wrap"}}}]}),G$=zt("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Y$=zt(St,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),K$=zt(St,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>ae({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),J$=zt(CE,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(pt.option)]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),Q$=zt(hE,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>ae({},t.typography.body1,{overflow:"auto"})),X$=zt("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),Z$=zt("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),e2=zt("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(pt.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(pt.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(pt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):vl(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pt.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):vl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(pt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):vl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),t2=zt(om,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),r2=zt("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(pt.option)]:{paddingLeft:24}}),n2=J.forwardRef(function(e,r){var n,i,a,o;const s=Wi({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:f=!1,ChipProps:d,className:p,clearIcon:v=Xb||(Xb=T.jsx(XF,{fontSize:"small"})),clearOnBlur:h=!s.freeSolo,clearOnEscape:g=!1,clearText:y="Clear",closeText:m="Close",componentsProps:_={},defaultValue:b=s.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:O=!1,disabled:x=!1,disabledItemsFocusable:C=!1,disableListWrap:A=!1,disablePortal:w=!1,filterSelectedOptions:k=!1,forcePopupIcon:E="auto",freeSolo:I=!1,fullWidth:j=!1,getLimitTagsText:L=_e=>"+".concat(_e),getOptionLabel:M,groupBy:R,handleHomeEndKeys:U=!s.freeSolo,includeInputInList:V=!1,limitTags:$=-1,ListboxComponent:F="ul",ListboxProps:N,loading:B=!1,loadingText:z="Loading…",multiple:H=!1,noOptionsText:D="No options",openOnFocus:G=!1,openText:q="Open",PaperComponent:Y=hE,PopperComponent:K=CE,popupIcon:ie=Zb||(Zb=T.jsx(uR,{})),readOnly:te=!1,renderGroup:oe,renderInput:ue,renderOption:fe,renderTags:pe,selectOnFocus:Se=!s.freeSolo,size:Q="medium",slotProps:re={}}=s,de=on(s,B$),{getRootProps:ve,getInputProps:ee,getInputLabelProps:me,getPopupIndicatorProps:Oe,getClearProps:we,getTagProps:Je,getListboxProps:at,getOptionProps:ce,value:ge,dirty:he,expanded:je,id:Be,popupOpen:Ne,focused:ot,focusedTag:st,anchorEl:Ke,setAnchorEl:Bt,inputValue:jr,groupedOptions:ht}=$$(ae({},s,{componentName:"Autocomplete"})),Fe=!S&&!x&&he&&!te,De=(!I||E===!0)&&E!==!1,{onMouseDown:Ge}=ee(),{ref:Qe}=N!=null?N:{},ft=at(),{ref:Et}=ft,At=on(ft,q$),_r=rc(Et,Qe),Mr=M||(_e=>{var ze;return(ze=_e.label)!=null?ze:_e}),qe=ae({},s,{disablePortal:w,expanded:je,focused:ot,fullWidth:j,getOptionLabel:Mr,hasClearIcon:Fe,hasPopupIcon:De,inputFocused:st===-1,popupOpen:Ne,size:Q}),lt=U$(qe);let ur;if(H&&ge.length>0){const _e=ze=>ae({className:lt.tag,disabled:x},Je(ze));pe?ur=pe(ge,_e,qe):ur=ge.map((ze,bt)=>{const qt=_e({index:bt}),{key:Jr}=qt,Re=on(qt,H$);return T.jsx(em,ae({label:Mr(ze),size:Q},Re,d),Jr)})}if($>-1&&Array.isArray(ur)){const _e=ur.length-$;!ot&&_e>0&&(ur=ur.splice(0,$),ur.push(T.jsx("span",{className:lt.tag,children:L(_e)},ur.length)))}const Kr=oe||(_e=>T.jsxs("li",{children:[T.jsx(t2,{className:lt.groupLabel,ownerState:qe,component:"div",children:_e.group}),T.jsx(r2,{className:lt.groupUl,ownerState:qe,children:_e.children})]},_e.key)),dt=fe||((_e,ze)=>{const{key:bt}=_e,qt=on(_e,z$);return T.jsx("li",ae({},qt,{children:Mr(ze)}),bt)}),cr=(_e,ze)=>{const bt=ce({option:_e,index:ze});return dt(ae({},bt,{className:lt.option}),_e,{selected:bt["aria-selected"],index:ze,inputValue:jr},qe)},$t=(n=re.clearIndicator)!=null?n:_.clearIndicator,Lr=(i=re.paper)!=null?i:_.paper,tr=(a=re.popper)!=null?a:_.popper,ne=(o=re.popupIndicator)!=null?o:_.popupIndicator,Z=_e=>T.jsx(J$,ae({as:K,disablePortal:w,style:{width:Ke?Ke.clientWidth:null},ownerState:qe,role:"presentation",anchorEl:Ke,open:Ne},tr,{className:Ir(lt.popper,tr==null?void 0:tr.className),children:T.jsx(Q$,ae({ownerState:qe,as:Y},Lr,{className:Ir(lt.paper,Lr==null?void 0:Lr.className),children:_e}))}));let be=null;return ht.length>0?be=Z(T.jsx(e2,ae({as:F,className:lt.listbox,ownerState:qe},At,N,{ref:_r,children:ht.map((_e,ze)=>R?Kr({key:_e.key,group:_e.group,children:_e.options.map((bt,qt)=>cr(bt,_e.index+qt))}):cr(_e,ze))}))):B&&ht.length===0?be=Z(T.jsx(X$,{className:lt.loading,ownerState:qe,children:z})):ht.length===0&&!I&&!B&&(be=Z(T.jsx(Z$,{className:lt.noOptions,ownerState:qe,role:"presentation",onMouseDown:_e=>{_e.preventDefault()},children:D}))),T.jsxs(J.Fragment,{children:[T.jsx(W$,ae({ref:r,className:Ir(lt.root,p),ownerState:qe},ve(de),{children:ue({id:Be,disabled:x,fullWidth:!0,size:Q==="small"?"small":void 0,InputLabelProps:me(),InputProps:ae({ref:Bt,className:lt.inputRoot,startAdornment:ur,onClick:_e=>{_e.target===_e.currentTarget&&Ge(_e)}},(Fe||De)&&{endAdornment:T.jsxs(G$,{className:lt.endAdornment,ownerState:qe,children:[Fe?T.jsx(Y$,ae({},we(),{"aria-label":y,title:y,ownerState:qe},$t,{className:Ir(lt.clearIndicator,$t==null?void 0:$t.className),children:v})):null,De?T.jsx(K$,ae({},Oe(),{disabled:x,"aria-label":Ne?m:q,title:Ne?m:q,ownerState:qe},ne,{className:Ir(lt.popupIndicator,ne==null?void 0:ne.className),children:ie})):null]})}),inputProps:ae({className:lt.input,disabled:x,readOnly:te},ee())})})),Ke?be:null]})}),i2=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],a2=(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(fn.grouped)]:e.grouped},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.orientation))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.orientation))]},{["& .".concat(fn.grouped)]:e["grouped".concat(kt(r.variant)).concat(kt(r.color))]},{["& .".concat(fn.firstButton)]:e.firstButton},{["& .".concat(fn.lastButton)]:e.lastButton},{["& .".concat(fn.middleButton)]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},o2=t=>{const{classes:e,color:r,disabled:n,disableElevation:i,fullWidth:a,orientation:o,variant:s}=t,l={root:["root",s,o==="vertical"&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(kt(o)),"grouped".concat(kt(s)),"grouped".concat(kt(s)).concat(kt(o)),"grouped".concat(kt(s)).concat(kt(r)),n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Gi(l,eR,e)},s2=zt("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:a2})(({theme:t,ownerState:e})=>ae({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{["& .".concat(fn.grouped)]:ae({minWidth:40,"&:hover":ae({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),["& .".concat(fn.firstButton,",& .").concat(fn.middleButton)]:ae({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(fn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(fn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.5)"):vl(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(fn.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(fn.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":ae({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),["& .".concat(fn.lastButton,",& .").concat(fn.middleButton)]:ae({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),l2=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiButtonGroup"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:f=!1,fullWidth:d=!1,orientation:p="horizontal",size:v="medium",variant:h="outlined"}=n,g=on(n,i2),y=ae({},n,{color:o,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,orientation:p,size:v,variant:h}),m=o2(y),_=J.useMemo(()=>({className:m.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,size:v,variant:h}),[o,l,u,c,f,d,v,h,m.grouped]),b=j$(i),S=b.length,O=x=>{const C=x===0,A=x===S-1;return C&&A?"":C?m.firstButton:A?m.lastButton:m.middleButton};return T.jsx(s2,ae({as:s,role:"group",className:Ir(m.root,a),ref:r,ownerState:y},g,{children:T.jsx(cR.Provider,{value:_,children:b.map((x,C)=>T.jsx(fR.Provider,{value:O(C),children:x},C))})}))});function u2(t){return Dl("MuiDialogContentText",t)}Ml("MuiDialogContentText",["root"]);const c2=["children","className"],f2=t=>{const{classes:e}=t,n=Gi({root:["root"]},u2,e);return ae({},e,n)},d2=zt(Vn,{shouldForwardProp:t=>vE(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),p2=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=on(n,c2),o=f2(a);return T.jsx(d2,ae({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:Ir(o.root,i)},n,{classes:o}))}),h2=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],v2=t=>{const{color:e,variant:r,classes:n,size:i}=t,a={root:["root",r,"size".concat(kt(i)),e==="inherit"?"colorInherit":e]},o=Gi(a,tR,n);return ae({},n,o)},g2=zt(dR,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>vE(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e["size".concat(kt(r.size))],r.color==="inherit"&&e.colorInherit,e[kt(r.size)],e[r.color]]}})(({theme:t,ownerState:e})=>{var r,n;return ae({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(qb.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>ae({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({["&.".concat(qb.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),PE=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiFab"}),{children:i,className:a,color:o="default",component:s="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:f="large",variant:d="circular"}=n,p=on(n,h2),v=ae({},n,{color:o,component:s,disabled:l,disableFocusRipple:u,size:f,variant:d}),h=v2(v);return T.jsx(g2,ae({className:Ir(h.root,a),component:s,disabled:l,focusRipple:!u,focusVisibleClassName:Ir(h.focusVisible,c),ownerState:v,ref:r},p,{classes:h,children:i}))});function m2(t){return Dl("MuiIcon",t)}Ml("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const y2=["baseClassName","className","color","component","fontSize"],b2=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&"color".concat(kt(e)),"fontSize".concat(kt(r))]};return Gi(i,m2,n)},_2=zt("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e["color".concat(kt(r.color))],e["fontSize".concat(kt(r.fontSize))]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:(t.vars||t).palette.primary.main,secondary:(t.vars||t).palette.secondary.main,info:(t.vars||t).palette.info.main,success:(t.vars||t).palette.success.main,warning:(t.vars||t).palette.warning.main,action:(t.vars||t).palette.action.active,error:(t.vars||t).palette.error.main,disabled:(t.vars||t).palette.action.disabled,inherit:void 0}[e.color]})),jE=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiIcon"}),{baseClassName:i="material-icons",className:a,color:o="inherit",component:s="span",fontSize:l="medium"}=n,u=on(n,y2),c=ae({},n,{baseClassName:i,color:o,component:s,fontSize:l}),f=b2(c);return T.jsx(_2,ae({as:s,className:Ir(i,"notranslate",f.root,a),ownerState:c,"aria-hidden":!0,ref:r},u))});jE.muiName="Icon";const S2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],O2=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return Gi({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},hR,e)},x2=zt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(zb.primary)]:e.primary},{["& .".concat(zb.secondary)]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>ae({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),sm=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,d=on(n,S2),{dense:p}=J.useContext(pR);let v=l!=null?l:i,h=c;const g=ae({},n,{disableTypography:o,inset:s,primary:!!v,secondary:!!h,dense:p}),y=O2(g);return v!=null&&v.type!==Vn&&!o&&(v=T.jsx(Vn,ae({variant:p?"body2":"body1",className:y.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:v}))),h!=null&&h.type!==Vn&&!o&&(h=T.jsx(Vn,ae({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},f,{children:h}))),T.jsxs(x2,ae({className:Ir(y.root,a),ownerState:g,ref:r},d,{children:[v,h]}))});function w2(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const E2=2;function LE(t,e){return t-e}function e1(t,e){var r;const{index:n}=(r=t.reduce((i,a,o)=>{const s=Math.abs(e-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:o}:i},null))!=null?r:{};return n}function _f(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function md(t,e,r){return(t-e)*100/(r-e)}function C2(t,e,r){return(r-e)*t+e}function T2(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function k2(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(T2(e)))}function t1({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(LE)}function Sf({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const a=Zf(t.current);if(!((n=t.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector('[type="range"][data-index="'.concat(e,'"]')).focus()}r&&r(e)}function Of(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?w2(t,e):!1}const I2={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},A2=t=>t;let xf;function r1(){return xf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?xf=CSS.supports("touch-action","none"):xf=!0),xf}function P2(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:f,orientation:d="horizontal",rootRef:p,scale:v=A2,step:h=1,shiftStep:g=10,tabIndex:y,value:m}=t,_=J.useRef(),[b,S]=J.useState(-1),[O,x]=J.useState(-1),[C,A]=J.useState(!1),w=J.useRef(0),[k,E]=Hu({controlled:m,default:r!=null?r:l,name:"Slider"}),I=c&&((ce,ge,he)=>{const je=ce.nativeEvent||ce,Be=new je.constructor(je.type,je);Object.defineProperty(Be,"target",{writable:!0,value:{value:ge,name:u}}),c(Be,ge,he)}),j=Array.isArray(k);let L=j?k.slice().sort(LE):[k];L=L.map(ce=>ce==null?l:Ws(ce,l,s));const M=o===!0&&h!==null?[...Array(Math.floor((s-l)/h)+1)].map((ce,ge)=>({value:l+h*ge})):o||[],R=M.map(ce=>ce.value),{isFocusVisibleRef:U,onBlur:V,onFocus:$,ref:F}=vR(),[N,B]=J.useState(-1),z=J.useRef(),H=rc(F,z),D=rc(p,H),G=ce=>ge=>{var he;const je=Number(ge.currentTarget.getAttribute("data-index"));$(ge),U.current===!0&&B(je),x(je),ce==null||(he=ce.onFocus)==null||he.call(ce,ge)},q=ce=>ge=>{var he;V(ge),U.current===!1&&B(-1),x(-1),ce==null||(he=ce.onBlur)==null||he.call(ce,ge)},Y=(ce,ge)=>{const he=Number(ce.currentTarget.getAttribute("data-index")),je=L[he],Be=R.indexOf(je);let Ne=ge;if(M&&h==null){const ot=R[R.length-1];Ne>ot?Ne=ot:Ne<R[0]?Ne=R[0]:Ne=Ne<je?R[Be-1]:R[Be+1]}if(Ne=Ws(Ne,l,s),j){i&&(Ne=Ws(Ne,L[he-1]||-1/0,L[he+1]||1/0));const ot=Ne;Ne=t1({values:L,newValue:Ne,index:he});let st=he;i||(st=Ne.indexOf(ot)),Sf({sliderRef:z,activeIndex:st})}E(Ne),B(he),I&&!Of(Ne,k)&&I(ce,Ne,he),f&&f(ce,Ne)},K=ce=>ge=>{var he;if(h!==null){const je=Number(ge.currentTarget.getAttribute("data-index")),Be=L[je];let Ne=null;(ge.key==="ArrowLeft"||ge.key==="ArrowDown")&&ge.shiftKey||ge.key==="PageDown"?Ne=Math.max(Be-g,l):((ge.key==="ArrowRight"||ge.key==="ArrowUp")&&ge.shiftKey||ge.key==="PageUp")&&(Ne=Math.min(Be+g,s)),Ne!==null&&(Y(ge,Ne),ge.preventDefault())}ce==null||(he=ce.onKeyDown)==null||he.call(ce,ge)};gR(()=>{if(n&&z.current.contains(document.activeElement)){var ce;(ce=document.activeElement)==null||ce.blur()}},[n]),n&&b!==-1&&S(-1),n&&N!==-1&&B(-1);const ie=ce=>ge=>{var he;(he=ce.onChange)==null||he.call(ce,ge),Y(ge,ge.target.valueAsNumber)},te=J.useRef();let oe=d;a&&d==="horizontal"&&(oe+="-reverse");const ue=({finger:ce,move:ge=!1})=>{const{current:he}=z,{width:je,height:Be,bottom:Ne,left:ot}=he.getBoundingClientRect();let st;oe.indexOf("vertical")===0?st=(Ne-ce.y)/Be:st=(ce.x-ot)/je,oe.indexOf("-reverse")!==-1&&(st=1-st);let Ke;if(Ke=C2(st,l,s),h)Ke=k2(Ke,h,l);else{const jr=e1(R,Ke);Ke=R[jr]}Ke=Ws(Ke,l,s);let Bt=0;if(j){ge?Bt=te.current:Bt=e1(L,Ke),i&&(Ke=Ws(Ke,L[Bt-1]||-1/0,L[Bt+1]||1/0));const jr=Ke;Ke=t1({values:L,newValue:Ke,index:Bt}),i&&ge||(Bt=Ke.indexOf(jr),te.current=Bt)}return{newValue:Ke,activeIndex:Bt}},fe=Wo(ce=>{const ge=_f(ce,_);if(!ge)return;if(w.current+=1,ce.type==="mousemove"&&ce.buttons===0){pe(ce);return}const{newValue:he,activeIndex:je}=ue({finger:ge,move:!0});Sf({sliderRef:z,activeIndex:je,setActive:S}),E(he),!C&&w.current>E2&&A(!0),I&&!Of(he,k)&&I(ce,he,je)}),pe=Wo(ce=>{const ge=_f(ce,_);if(A(!1),!ge)return;const{newValue:he}=ue({finger:ge,move:!0});S(-1),ce.type==="touchend"&&x(-1),f&&f(ce,he),_.current=void 0,Q()}),Se=Wo(ce=>{if(n)return;r1()||ce.preventDefault();const ge=ce.changedTouches[0];ge!=null&&(_.current=ge.identifier);const he=_f(ce,_);if(he!==!1){const{newValue:Be,activeIndex:Ne}=ue({finger:he});Sf({sliderRef:z,activeIndex:Ne,setActive:S}),E(Be),I&&!Of(Be,k)&&I(ce,Be,Ne)}w.current=0;const je=Zf(z.current);je.addEventListener("touchmove",fe,{passive:!0}),je.addEventListener("touchend",pe,{passive:!0})}),Q=J.useCallback(()=>{const ce=Zf(z.current);ce.removeEventListener("mousemove",fe),ce.removeEventListener("mouseup",pe),ce.removeEventListener("touchmove",fe),ce.removeEventListener("touchend",pe)},[pe,fe]);J.useEffect(()=>{const{current:ce}=z;return ce.addEventListener("touchstart",Se,{passive:r1()}),()=>{ce.removeEventListener("touchstart",Se),Q()}},[Q,Se]),J.useEffect(()=>{n&&Q()},[n,Q]);const re=ce=>ge=>{var he;if((he=ce.onMouseDown)==null||he.call(ce,ge),n||ge.defaultPrevented||ge.button!==0)return;ge.preventDefault();const je=_f(ge,_);if(je!==!1){const{newValue:Ne,activeIndex:ot}=ue({finger:je});Sf({sliderRef:z,activeIndex:ot,setActive:S}),E(Ne),I&&!Of(Ne,k)&&I(ge,Ne,ot)}w.current=0;const Be=Zf(z.current);Be.addEventListener("mousemove",fe,{passive:!0}),Be.addEventListener("mouseup",pe)},de=md(j?L[0]:l,l,s),ve=md(L[L.length-1],l,s)-de,ee=(ce={})=>{const ge=Th(ce),he={onMouseDown:re(ge||{})},je=ae({},ge,he);return ae({},ce,{ref:D},je)},me=ce=>ge=>{var he;(he=ce.onMouseOver)==null||he.call(ce,ge);const je=Number(ge.currentTarget.getAttribute("data-index"));x(je)},Oe=ce=>ge=>{var he;(he=ce.onMouseLeave)==null||he.call(ce,ge),x(-1)};return{active:b,axis:oe,axisProps:I2,dragging:C,focusedThumbIndex:N,getHiddenInputProps:(ce={})=>{var ge;const he=Th(ce),je={onChange:ie(he||{}),onFocus:G(he||{}),onBlur:q(he||{}),onKeyDown:K(he||{})},Be=ae({},he,je);return ae({tabIndex:y,"aria-labelledby":e,"aria-orientation":d,"aria-valuemax":v(s),"aria-valuemin":v(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ge=t.step)!=null?ge:void 0,disabled:n},ce,Be,{style:ae({},L$,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:ee,getThumbProps:(ce={})=>{const ge=Th(ce),he={onMouseOver:me(ge||{}),onMouseLeave:Oe(ge||{})};return ae({},ce,ge,he)},marks:M,open:O,range:j,rootRef:D,trackLeap:ve,trackOffset:de,values:L,getThumbStyle:ce=>({pointerEvents:b!==-1&&b!==ce?"none":void 0})}}const j2=t=>!t||!ed(t),L2=t=>{const{open:e}=t;return{offset:Ir(e&&pi.valueLabelOpen),circle:pi.valueLabelCircle,label:pi.valueLabelLabel}};function F2(t){const{children:e,className:r,value:n}=t,i=L2(t);return e?J.cloneElement(e,{className:Ir(e.props.className)},T.jsxs(J.Fragment,{children:[e.props.children,T.jsx("span",{className:Ir(i.offset,r),"aria-hidden":!0,children:T.jsx("span",{className:i.circle,children:T.jsx("span",{className:i.label,children:n})})})]})):null}const R2=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function n1(t){return t}const $2=zt("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["color".concat(kt(r.color))],r.size!=="medium"&&e["size".concat(kt(r.size))],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(pi.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(pi.dragging)]:{["& .".concat(pi.thumb,", & .").concat(pi.track)]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),N2=zt("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),D2=zt("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:ae({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(r,"Track")],borderColor:t.vars.palette.Slider["".concat(r,"Track")]}:ae({backgroundColor:Vb(t.palette[r].main,.62),borderColor:Vb(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:Bb(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:Bb(t.palette[r].main,.5)})))}))]}}),M2=zt("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e["thumbColor".concat(kt(r.color))],r.size!=="medium"&&e["thumbSize".concat(kt(r.size))]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(pi.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{["&:hover, &.".concat(pi.focusVisible)]:ae({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat(vl(t.palette[r].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(pi.active)]:ae({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat(vl(t.palette[r].main,.16))})}}))]}}),V2=zt(F2,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>ae({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(pi.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(pi.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),B2=zt("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>gE(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),q2=zt("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>gE(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>ae({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),H2=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:o,color:s,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&"color".concat(kt(s)),l&&"size".concat(kt(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat(kt(l)),s&&"thumbColor".concat(kt(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Gi(u,rR,o)},z2=({children:t})=>t,FE=J.forwardRef(function(e,r){var n,i,a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b,S,O,x,C,A,w;const k=Wi({props:e,name:"MuiSlider"}),E=mR(),{"aria-label":I,"aria-valuetext":j,"aria-labelledby":L,component:M="span",components:R={},componentsProps:U={},color:V="primary",classes:$,className:F,disableSwap:N=!1,disabled:B=!1,getAriaLabel:z,getAriaValueText:H,marks:D=!1,max:G=100,min:q=0,orientation:Y="horizontal",shiftStep:K=10,size:ie="medium",step:te=1,scale:oe=n1,slotProps:ue,slots:fe,track:pe="normal",valueLabelDisplay:Se="off",valueLabelFormat:Q=n1}=k,re=on(k,R2),de=ae({},k,{isRtl:E,max:G,min:q,classes:$,disabled:B,disableSwap:N,orientation:Y,marks:D,color:V,size:ie,step:te,shiftStep:K,scale:oe,track:pe,valueLabelDisplay:Se,valueLabelFormat:Q}),{axisProps:ve,getRootProps:ee,getHiddenInputProps:me,getThumbProps:Oe,open:we,active:Je,axis:at,focusedThumbIndex:ce,range:ge,dragging:he,marks:je,values:Be,trackOffset:Ne,trackLeap:ot,getThumbStyle:st}=P2(ae({},de,{rootRef:r}));de.marked=je.length>0&&je.some(ne=>ne.label),de.dragging=he,de.focusedThumbIndex=ce;const Ke=H2(de),Bt=(n=(i=fe==null?void 0:fe.root)!=null?i:R.Root)!=null?n:$2,jr=(a=(o=fe==null?void 0:fe.rail)!=null?o:R.Rail)!=null?a:N2,ht=(s=(l=fe==null?void 0:fe.track)!=null?l:R.Track)!=null?s:D2,Fe=(u=(c=fe==null?void 0:fe.thumb)!=null?c:R.Thumb)!=null?u:M2,De=(f=(d=fe==null?void 0:fe.valueLabel)!=null?d:R.ValueLabel)!=null?f:V2,Ge=(p=(v=fe==null?void 0:fe.mark)!=null?v:R.Mark)!=null?p:B2,Qe=(h=(g=fe==null?void 0:fe.markLabel)!=null?g:R.MarkLabel)!=null?h:q2,ft=(y=(m=fe==null?void 0:fe.input)!=null?m:R.Input)!=null?y:"input",Et=(_=ue==null?void 0:ue.root)!=null?_:U.root,At=(b=ue==null?void 0:ue.rail)!=null?b:U.rail,_r=(S=ue==null?void 0:ue.track)!=null?S:U.track,Rt=(O=ue==null?void 0:ue.thumb)!=null?O:U.thumb,Mr=(x=ue==null?void 0:ue.valueLabel)!=null?x:U.valueLabel,qe=(C=ue==null?void 0:ue.mark)!=null?C:U.mark,lt=(A=ue==null?void 0:ue.markLabel)!=null?A:U.markLabel,ur=(w=ue==null?void 0:ue.input)!=null?w:U.input,Yr=Za({elementType:Bt,getSlotProps:ee,externalSlotProps:Et,externalForwardedProps:re,additionalProps:ae({},j2(Bt)&&{as:M}),ownerState:ae({},de,Et==null?void 0:Et.ownerState),className:[Ke.root,F]}),Kr=Za({elementType:jr,externalSlotProps:At,ownerState:de,className:Ke.rail}),mt=Za({elementType:ht,externalSlotProps:_r,additionalProps:{style:ae({},ve[at].offset(Ne),ve[at].leap(ot))},ownerState:ae({},de,_r==null?void 0:_r.ownerState),className:Ke.track}),dt=Za({elementType:Fe,getSlotProps:Oe,externalSlotProps:Rt,ownerState:ae({},de,Rt==null?void 0:Rt.ownerState),className:Ke.thumb}),cr=Za({elementType:De,externalSlotProps:Mr,ownerState:ae({},de,Mr==null?void 0:Mr.ownerState),className:Ke.valueLabel}),$t=Za({elementType:Ge,externalSlotProps:qe,ownerState:de,className:Ke.mark}),Lr=Za({elementType:Qe,externalSlotProps:lt,ownerState:de,className:Ke.markLabel}),tr=Za({elementType:ft,getSlotProps:me,externalSlotProps:ur,ownerState:de});return T.jsxs(Bt,ae({},Yr,{children:[T.jsx(jr,ae({},Kr)),T.jsx(ht,ae({},mt)),je.filter(ne=>ne.value>=q&&ne.value<=G).map((ne,Z)=>{const be=md(ne.value,q,G),_e=ve[at].offset(be);let ze;return pe===!1?ze=Be.indexOf(ne.value)!==-1:ze=pe==="normal"&&(ge?ne.value>=Be[0]&&ne.value<=Be[Be.length-1]:ne.value<=Be[0])||pe==="inverted"&&(ge?ne.value<=Be[0]||ne.value>=Be[Be.length-1]:ne.value>=Be[0]),T.jsxs(J.Fragment,{children:[T.jsx(Ge,ae({"data-index":Z},$t,!ed(Ge)&&{markActive:ze},{style:ae({},_e,$t.style),className:Ir($t.className,ze&&Ke.markActive)})),ne.label!=null?T.jsx(Qe,ae({"aria-hidden":!0,"data-index":Z},Lr,!ed(Qe)&&{markLabelActive:ze},{style:ae({},_e,Lr.style),className:Ir(Ke.markLabel,Lr.className,ze&&Ke.markLabelActive),children:ne.label})):null]},Z)}),Be.map((ne,Z)=>{const be=md(ne,q,G),_e=ve[at].offset(be),ze=Se==="off"?z2:De;return T.jsx(ze,ae({},!ed(ze)&&{valueLabelFormat:Q,valueLabelDisplay:Se,value:typeof Q=="function"?Q(oe(ne),Z):Q,index:Z,open:we===Z||Je===Z||Se==="on",disabled:B},cr,{children:T.jsx(Fe,ae({"data-index":Z},dt,{className:Ir(Ke.thumb,dt.className,Je===Z&&Ke.active,ce===Z&&Ke.focusVisible),style:ae({},_e,st(Z),dt.style),children:T.jsx(ft,ae({"data-index":Z,"aria-label":z?z(Z):I,"aria-valuenow":oe(ne),"aria-labelledby":L,"aria-valuetext":H?H(oe(ne),Z):j,value:Be[Z]},tr))}))}),Z)})]}))}),U2=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],W2={entering:{transform:"none"},entered:{transform:"none"}},G2=J.forwardRef(function(e,r){const n=Pr(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,easing:l,in:u,onEnter:c,onEntered:f,onEntering:d,onExit:p,onExited:v,onExiting:h,style:g,timeout:y=i,TransitionComponent:m=yR}=e,_=on(e,U2),b=J.useRef(null),S=rc(b,s.ref,r),O=j=>L=>{if(j){const M=b.current;L===void 0?j(M):j(M,L)}},x=O(d),C=O((j,L)=>{bR(j);const M=Ub({style:g,timeout:y,easing:l},{mode:"enter"});j.style.webkitTransition=n.transitions.create("transform",M),j.style.transition=n.transitions.create("transform",M),c&&c(j,L)}),A=O(f),w=O(h),k=O(j=>{const L=Ub({style:g,timeout:y,easing:l},{mode:"exit"});j.style.webkitTransition=n.transitions.create("transform",L),j.style.transition=n.transitions.create("transform",L),p&&p(j)}),E=O(v),I=j=>{a&&a(b.current,j)};return T.jsx(m,ae({appear:o,in:u,nodeRef:b,onEnter:C,onEntered:A,onEntering:x,onExit:k,onExited:E,onExiting:w,addEndListener:I,timeout:y},_,{children:(j,L)=>J.cloneElement(s,ae({style:ae({transform:"scale(0)",visibility:j==="exited"&&!u?"hidden":void 0},W2[j],g,s.props.style),ref:S},L))}))});function Y2(t){return Dl("MuiSpeedDial",t)}const wf=Ml("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),K2=["ref"],J2=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],Q2=["ref"],X2=t=>{const{classes:e,open:r,direction:n}=t,i={root:["root","direction".concat(kt(n))],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Gi(i,Y2,e)};function wu(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const to=32,Ef=16,Z2=zt("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["direction".concat(kt(r.direction))]]}})(({theme:t,ownerState:e})=>ae({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",["& .".concat(wf.actions)]:{flexDirection:"column-reverse",marginBottom:-to,paddingBottom:Ef+to}},e.direction==="down"&&{flexDirection:"column",["& .".concat(wf.actions)]:{flexDirection:"column",marginTop:-to,paddingTop:Ef+to}},e.direction==="left"&&{flexDirection:"row-reverse",["& .".concat(wf.actions)]:{flexDirection:"row-reverse",marginRight:-to,paddingRight:Ef+to}},e.direction==="right"&&{flexDirection:"row",["& .".concat(wf.actions)]:{flexDirection:"row",marginLeft:-to,paddingLeft:Ef+to}})),eN=zt(PE,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),tN=zt("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})(({ownerState:t})=>ae({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),rN=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiSpeedDial"}),i=Pr(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:s}={},children:l,className:u,direction:c="up",hidden:f=!1,icon:d,onBlur:p,onClose:v,onFocus:h,onKeyDown:g,onMouseEnter:y,onMouseLeave:m,onOpen:_,open:b,TransitionComponent:S=G2,transitionDuration:O=a,TransitionProps:x}=n,C=on(n.FabProps,K2),A=on(n,J2),[w,k]=Hu({controlled:b,default:!1,name:"SpeedDial",state:"open"}),E=ae({},n,{open:w,direction:c}),I=X2(E),j=_R(),L=J.useRef(0),M=J.useRef(),R=J.useRef([]);R.current=[R.current[0]];const U=J.useCallback(q=>{R.current[0]=q},[]),V=rc(s,U),$=(q,Y)=>K=>{R.current[q+1]=K,Y&&Y(K)},F=q=>{g&&g(q);const Y=q.key.replace("Arrow","").toLowerCase(),{current:K=Y}=M;if(q.key==="Escape"){k(!1),R.current[0].focus(),v&&v(q,"escapeKeyDown");return}if(wu(Y)===wu(K)&&wu(Y)!==void 0){q.preventDefault();const ie=Y===K?1:-1,te=Ws(L.current+ie,0,R.current.length-1);R.current[te].focus(),L.current=te,M.current=K}};J.useEffect(()=>{w||(L.current=0,M.current=void 0)},[w]);const N=q=>{q.type==="mouseleave"&&m&&m(q),q.type==="blur"&&p&&p(q),j.clear(),q.type==="blur"?j.start(0,()=>{k(!1),v&&v(q,"blur")}):(k(!1),v&&v(q,"mouseLeave"))},B=q=>{C.onClick&&C.onClick(q),j.clear(),w?(k(!1),v&&v(q,"toggle")):(k(!0),_&&_(q,"toggle"))},z=q=>{q.type==="mouseenter"&&y&&y(q),q.type==="focus"&&h&&h(q),j.clear(),w||j.start(0,()=>{k(!0),_&&_(q,{focus:"focus",mouseenter:"mouseEnter"}[q.type])})},H=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),D=J.Children.toArray(l).filter(q=>J.isValidElement(q)),G=D.map((q,Y)=>{const K=q.props,{FabProps:{ref:ie}={},tooltipPlacement:te}=K,oe=on(K.FabProps,Q2),ue=te||(wu(c)==="vertical"?"left":"top");return J.cloneElement(q,{FabProps:ae({},oe,{ref:$(Y,ie)}),delay:30*(w?Y:D.length-Y),open:w,tooltipPlacement:ue,id:"".concat(H,"-action-").concat(Y)})});return T.jsxs(Z2,ae({className:Ir(I.root,u),ref:r,role:"presentation",onKeyDown:F,onBlur:N,onFocus:z,onMouseEnter:z,onMouseLeave:N,ownerState:E},A,{children:[T.jsx(S,ae({in:!f,timeout:O,unmountOnExit:!0},x,{children:T.jsx(eN,ae({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":w,"aria-controls":"".concat(H,"-actions")},C,{onClick:B,className:Ir(I.fab,C.className),ref:V,ownerState:E,children:J.isValidElement(d)&&SR(d,["SpeedDialIcon"])?J.cloneElement(d,{open:w}):d}))})),T.jsx(tN,{id:"".concat(H,"-actions"),role:"menu","aria-orientation":wu(c),className:Ir(I.actions,!w&&I.actionsClosed),ownerState:E,children:G})]}))});function nN(t){return Dl("MuiSpeedDialAction",t)}const iN=Ml("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),aN=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],oN=t=>{const{open:e,tooltipPlacement:r,classes:n}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip","tooltipPlacement".concat(kt(r)),!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Gi(i,nN,n)},sN=zt(PE,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>ae({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:zF(t.palette.background.paper,.15)},transition:"".concat(t.transitions.create("transform",{duration:t.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),lN=zt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e["tooltipPlacement".concat(kt(r.tooltipPlacement))]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",["& .".concat(iN.staticTooltipLabel)]:ae({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),uN=zt("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>ae({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),cN=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:a=0,FabProps:o={},icon:s,id:l,open:u,TooltipClasses:c,tooltipOpen:f=!1,tooltipPlacement:d="left",tooltipTitle:p}=n,v=on(n,aN),h=ae({},n,{tooltipPlacement:d}),g=oN(h),[y,m]=J.useState(f),_=()=>{m(!1)},b=()=>{m(!0)},S={transitionDelay:"".concat(a,"ms")},O=T.jsx(sN,ae({size:"small",className:Ir(g.fab,i),tabIndex:-1,role:"menuitem",ownerState:h},o,{style:ae({},S,o.style),children:s}));return f?T.jsxs(lN,ae({id:l,ref:r,className:g.staticTooltip,ownerState:h},v,{children:[T.jsx(uN,{style:S,id:"".concat(l,"-label"),className:g.staticTooltipLabel,ownerState:h,children:p}),J.cloneElement(O,{"aria-labelledby":"".concat(l,"-label")})]})):(!u&&y&&m(!1),T.jsx(gl,ae({id:l,ref:r,title:p,placement:d,onClose:_,onOpen:b,open:u&&y,classes:c},v,{children:O})))}),fN=sp(T.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function dN(t){return Dl("MuiSpeedDialIcon",t)}const Mo=Ml("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),pN=["className","icon","open","openIcon"],hN=t=>{const{classes:e,open:r,openIcon:n}=t;return Gi({root:["root"],icon:["icon",r&&"iconOpen",n&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},dN,e)},vN=zt("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(Mo.icon)]:e.icon},{["& .".concat(Mo.icon)]:r.open&&e.iconOpen},{["& .".concat(Mo.icon)]:r.open&&r.openIcon&&e.iconWithOpenIconOpen},{["& .".concat(Mo.openIcon)]:e.openIcon},{["& .".concat(Mo.openIcon)]:r.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,["& .".concat(Mo.icon)]:ae({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&ae({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),["& .".concat(Mo.openIcon)]:ae({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),RE=J.forwardRef(function(e,r){const n=Wi({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:a,openIcon:o}=n,s=on(n,pN),l=n,u=hN(l);function c(f,d){return J.isValidElement(f)?J.cloneElement(f,{className:d}):f}return T.jsxs(vN,ae({className:Ir(u.root,i),ref:r,ownerState:l},s,{children:[o?c(o,u.openIcon):null,a?c(a,u.icon):T.jsx(fN,{className:u.icon})]}))});RE.muiName="SpeedDialIcon";function gN(t){const r=OR().getMonitor(),[n,i]=xR(r,t);return J.useEffect(()=>r.subscribeToOffsetChange(i)),J.useEffect(()=>r.subscribeToStateChange(i)),n}const mN=sp(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),yN=sp(T.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),bN=sp(T.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),_N="_mainContainer_as1f9_1",SN="_updateButtons_as1f9_5",ON="_save_as1f9_14",xN="_header_as1f9_18",i1={mainContainer:_N,updateButtons:SN,save:ON,header:xN},wN="_groupEmptyHint_1pku9_2",EN="_groupEmptyHintHover_1pku9_14",CN="_footer_1pku9_18",TN="_contentPanel_1pku9_22",kN="_cardImage_1pku9_30",IN="_customScrollBar_1pku9_38",AN="_virtuosoStyle_1pku9_42",PN="_cardMediaContent_1pku9_47",jN="_buttonContainer_1pku9_55",LN="_button_1pku9_55",Lh={groupEmptyHint:wN,groupEmptyHintHover:EN,footer:CN,contentPanel:TN,cardImage:kN,customScrollBar:IN,virtuosoStyle:AN,cardMediaContent:PN,buttonContainer:jN,button:LN};var lm={},FN=$r;Object.defineProperty(lm,"__esModule",{value:!0});var um=lm.default=void 0,RN=FN(Nr()),$N=T;um=lm.default=(0,RN.default)((0,$N.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const NN="_textDescriptionContent_xkpeh_1",DN="_moveBox_xkpeh_7",MN="_groupQuestion_xkpeh_13",VN="_titleContainer_xkpeh_22",BN="_titleQuestion_xkpeh_29",qN="_iconBox_xkpeh_39",HN="_actionToolbarVisible_xkpeh_59",zN="_fadeInMoveRight_xkpeh_1",UN="_contentContainer_xkpeh_64",WN="_highlight_xkpeh_74",GN="_fadeHighlight_xkpeh_1",ta={textDescriptionContent:NN,moveBox:DN,groupQuestion:MN,titleContainer:VN,titleQuestion:BN,iconBox:qN,actionToolbarVisible:HN,fadeInMoveRight:zN,contentContainer:UN,highlight:WN,fadeHighlight:GN},YN="_fullWidth_1dvff_1",KN="_toolbarClass_1dvff_6",JN="_noPadding_1dvff_12",QN="_placeholder_1dvff_25",Fh={fullWidth:YN,toolbarClass:KN,"rdw-editor-toolbar":"_rdw-editor-toolbar_1dvff_6",noPadding:JN,placeholder:QN};function XN(){this.__data__=[],this.size=0}var ZN=XN;function eD(t,e){return t===e||t!==t&&e!==e}var kc=eD,tD=kc;function rD(t,e){for(var r=t.length;r--;)if(tD(t[r][0],e))return r;return-1}var dp=rD,nD=dp,iD=Array.prototype,aD=iD.splice;function oD(t){var e=this.__data__,r=nD(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():aD.call(e,r,1),--this.size,!0}var sD=oD,lD=dp;function uD(t){var e=this.__data__,r=lD(e,t);return r<0?void 0:e[r][1]}var cD=uD,fD=dp;function dD(t){return fD(this.__data__,t)>-1}var pD=dD,hD=dp;function vD(t,e){var r=this.__data__,n=hD(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gD=vD,mD=ZN,yD=sD,bD=cD,_D=pD,SD=gD;function Bl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bl.prototype.clear=mD;Bl.prototype.delete=yD;Bl.prototype.get=bD;Bl.prototype.has=_D;Bl.prototype.set=SD;var pp=Bl,OD=pp;function xD(){this.__data__=new OD,this.size=0}var wD=xD;function ED(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var CD=ED;function TD(t){return this.__data__.get(t)}var kD=TD;function ID(t){return this.__data__.has(t)}var AD=ID,PD=typeof kn=="object"&&kn&&kn.Object===Object&&kn,$E=PD,jD=$E,LD=typeof self=="object"&&self&&self.Object===Object&&self,FD=jD||LD||Function("return this")(),Qi=FD,RD=Qi,$D=RD.Symbol,ql=$D,a1=ql,NE=Object.prototype,ND=NE.hasOwnProperty,DD=NE.toString,Eu=a1?a1.toStringTag:void 0;function MD(t){var e=ND.call(t,Eu),r=t[Eu];try{t[Eu]=void 0;var n=!0}catch(a){}var i=DD.call(t);return n&&(e?t[Eu]=r:delete t[Eu]),i}var VD=MD,BD=Object.prototype,qD=BD.toString;function HD(t){return qD.call(t)}var zD=HD,o1=ql,UD=VD,WD=zD,GD="[object Null]",YD="[object Undefined]",s1=o1?o1.toStringTag:void 0;function KD(t){return t==null?t===void 0?YD:GD:s1&&s1 in Object(t)?UD(t):WD(t)}var ps=KD;function JD(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ei=JD,QD=ps,XD=Ei,ZD="[object AsyncFunction]",eM="[object Function]",tM="[object GeneratorFunction]",rM="[object Proxy]";function nM(t){if(!XD(t))return!1;var e=QD(t);return e==eM||e==tM||e==ZD||e==rM}var cm=nM,iM=Qi,aM=iM["__core-js_shared__"],oM=aM,Rh=oM,l1=function(){var t=/[^.]+$/.exec(Rh&&Rh.keys&&Rh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sM(t){return!!l1&&l1 in t}var lM=sM,uM=Function.prototype,cM=uM.toString;function fM(t){if(t!=null){try{return cM.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var DE=fM,dM=cm,pM=lM,hM=Ei,vM=DE,gM=/[\\^$.*+?()[\]{}|]/g,mM=/^\[object .+?Constructor\]$/,yM=Function.prototype,bM=Object.prototype,_M=yM.toString,SM=bM.hasOwnProperty,OM=RegExp("^"+_M.call(SM).replace(gM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xM(t){if(!hM(t)||pM(t))return!1;var e=dM(t)?OM:mM;return e.test(vM(t))}var wM=xM;function EM(t,e){return t==null?void 0:t[e]}var CM=EM,TM=wM,kM=CM;function IM(t,e){var r=kM(t,e);return TM(r)?r:void 0}var hs=IM,AM=hs,PM=Qi,jM=AM(PM,"Map"),fm=jM,LM=hs,FM=LM(Object,"create"),hp=FM,u1=hp;function RM(){this.__data__=u1?u1(null):{},this.size=0}var $M=RM;function NM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DM=NM,MM=hp,VM="__lodash_hash_undefined__",BM=Object.prototype,qM=BM.hasOwnProperty;function HM(t){var e=this.__data__;if(MM){var r=e[t];return r===VM?void 0:r}return qM.call(e,t)?e[t]:void 0}var zM=HM,UM=hp,WM=Object.prototype,GM=WM.hasOwnProperty;function YM(t){var e=this.__data__;return UM?e[t]!==void 0:GM.call(e,t)}var KM=YM,JM=hp,QM="__lodash_hash_undefined__";function XM(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=JM&&e===void 0?QM:e,this}var ZM=XM,eV=$M,tV=DM,rV=zM,nV=KM,iV=ZM;function Hl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hl.prototype.clear=eV;Hl.prototype.delete=tV;Hl.prototype.get=rV;Hl.prototype.has=nV;Hl.prototype.set=iV;var aV=Hl,c1=aV,oV=pp,sV=fm;function lV(){this.size=0,this.__data__={hash:new c1,map:new(sV||oV),string:new c1}}var uV=lV;function cV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var fV=cV,dV=fV;function pV(t,e){var r=t.__data__;return dV(e)?r[typeof e=="string"?"string":"hash"]:r.map}var vp=pV,hV=vp;function vV(t){var e=hV(this,t).delete(t);return this.size-=e?1:0,e}var gV=vV,mV=vp;function yV(t){return mV(this,t).get(t)}var bV=yV,_V=vp;function SV(t){return _V(this,t).has(t)}var OV=SV,xV=vp;function wV(t,e){var r=xV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var EV=wV,CV=uV,TV=gV,kV=bV,IV=OV,AV=EV;function zl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zl.prototype.clear=CV;zl.prototype.delete=TV;zl.prototype.get=kV;zl.prototype.has=IV;zl.prototype.set=AV;var dm=zl,PV=pp,jV=fm,LV=dm,FV=200;function RV(t,e){var r=this.__data__;if(r instanceof PV){var n=r.__data__;if(!jV||n.length<FV-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new LV(n)}return r.set(t,e),this.size=r.size,this}var $V=RV,NV=pp,DV=wD,MV=CD,VV=kD,BV=AD,qV=$V;function Ul(t){var e=this.__data__=new NV(t);this.size=e.size}Ul.prototype.clear=DV;Ul.prototype.delete=MV;Ul.prototype.get=VV;Ul.prototype.has=BV;Ul.prototype.set=qV;var gp=Ul,HV="__lodash_hash_undefined__";function zV(t){return this.__data__.set(t,HV),this}var UV=zV;function WV(t){return this.__data__.has(t)}var GV=WV,YV=dm,KV=UV,JV=GV;function yd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new YV;++e<r;)this.add(t[e])}yd.prototype.add=yd.prototype.push=KV;yd.prototype.has=JV;var QV=yd;function XV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ZV=XV;function e5(t,e){return t.has(e)}var t5=e5,r5=QV,n5=ZV,i5=t5,a5=1,o5=2;function s5(t,e,r,n,i,a){var o=r&a5,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&o5?new r5:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!n5(e,function(y,m){if(!i5(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var ME=s5,l5=Qi,u5=l5.Uint8Array,VE=u5;function c5(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var f5=c5;function d5(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var p5=d5,f1=ql,d1=VE,h5=kc,v5=ME,g5=f5,m5=p5,y5=1,b5=2,_5="[object Boolean]",S5="[object Date]",O5="[object Error]",x5="[object Map]",w5="[object Number]",E5="[object RegExp]",C5="[object Set]",T5="[object String]",k5="[object Symbol]",I5="[object ArrayBuffer]",A5="[object DataView]",p1=f1?f1.prototype:void 0,$h=p1?p1.valueOf:void 0;function P5(t,e,r,n,i,a,o){switch(r){case A5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I5:return!(t.byteLength!=e.byteLength||!a(new d1(t),new d1(e)));case _5:case S5:case w5:return h5(+t,+e);case O5:return t.name==e.name&&t.message==e.message;case E5:case T5:return t==e+"";case x5:var s=g5;case C5:var l=n&y5;if(s||(s=m5),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=b5,o.set(t,e);var c=v5(s(t),s(e),n,i,a,o);return o.delete(t),c;case k5:if($h)return $h.call(t)==$h.call(e)}return!1}var j5=P5;function L5(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var pm=L5,F5=Array.isArray,ni=F5,R5=pm,$5=ni;function N5(t,e,r){var n=e(t);return $5(t)?n:R5(n,r(t))}var BE=N5;function D5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var M5=D5;function V5(){return[]}var qE=V5,B5=M5,q5=qE,H5=Object.prototype,z5=H5.propertyIsEnumerable,h1=Object.getOwnPropertySymbols,U5=h1?function(t){return t==null?[]:(t=Object(t),B5(h1(t),function(e){return z5.call(t,e)}))}:q5,hm=U5;function W5(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var G5=W5;function Y5(t){return t!=null&&typeof t=="object"}var Oa=Y5,K5=ps,J5=Oa,Q5="[object Arguments]";function X5(t){return J5(t)&&K5(t)==Q5}var Z5=X5,v1=Z5,e3=Oa,HE=Object.prototype,t3=HE.hasOwnProperty,r3=HE.propertyIsEnumerable,n3=v1(function(){return arguments}())?v1:function(t){return e3(t)&&t3.call(t,"callee")&&!r3.call(t,"callee")},mp=n3,bd={exports:{}};function i3(){return!1}var a3=i3;bd.exports;(function(t,e){var r=Qi,n=a3,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(bd,bd.exports);var yp=bd.exports,o3=9007199254740991,s3=/^(?:0|[1-9]\d*)$/;function l3(t,e){var r=typeof t;return e=e==null?o3:e,!!e&&(r=="number"||r!="symbol"&&s3.test(t))&&t>-1&&t%1==0&&t<e}var bp=l3,u3=9007199254740991;function c3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=u3}var vm=c3,f3=ps,d3=vm,p3=Oa,h3="[object Arguments]",v3="[object Array]",g3="[object Boolean]",m3="[object Date]",y3="[object Error]",b3="[object Function]",_3="[object Map]",S3="[object Number]",O3="[object Object]",x3="[object RegExp]",w3="[object Set]",E3="[object String]",C3="[object WeakMap]",T3="[object ArrayBuffer]",k3="[object DataView]",I3="[object Float32Array]",A3="[object Float64Array]",P3="[object Int8Array]",j3="[object Int16Array]",L3="[object Int32Array]",F3="[object Uint8Array]",R3="[object Uint8ClampedArray]",$3="[object Uint16Array]",N3="[object Uint32Array]",fr={};fr[I3]=fr[A3]=fr[P3]=fr[j3]=fr[L3]=fr[F3]=fr[R3]=fr[$3]=fr[N3]=!0;fr[h3]=fr[v3]=fr[T3]=fr[g3]=fr[k3]=fr[m3]=fr[y3]=fr[b3]=fr[_3]=fr[S3]=fr[O3]=fr[x3]=fr[w3]=fr[E3]=fr[C3]=!1;function D3(t){return p3(t)&&d3(t.length)&&!!fr[f3(t)]}var M3=D3;function V3(t){return function(e){return t(e)}}var gm=V3,_d={exports:{}};_d.exports;(function(t,e){var r=$E,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();t.exports=s})(_d,_d.exports);var mm=_d.exports,B3=M3,q3=gm,g1=mm,m1=g1&&g1.isTypedArray,H3=m1?q3(m1):B3,ym=H3,z3=G5,U3=mp,W3=ni,G3=yp,Y3=bp,K3=ym,J3=Object.prototype,Q3=J3.hasOwnProperty;function X3(t,e){var r=W3(t),n=!r&&U3(t),i=!r&&!n&&G3(t),a=!r&&!n&&!i&&K3(t),o=r||n||i||a,s=o?z3(t.length,String):[],l=s.length;for(var u in t)(e||Q3.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Y3(u,l)))&&s.push(u);return s}var zE=X3,Z3=Object.prototype;function e4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Z3;return t===r}var bm=e4;function t4(t,e){return function(r){return t(e(r))}}var UE=t4,r4=UE,n4=r4(Object.keys,Object),i4=n4,a4=bm,o4=i4,s4=Object.prototype,l4=s4.hasOwnProperty;function u4(t){if(!a4(t))return o4(t);var e=[];for(var r in Object(t))l4.call(t,r)&&r!="constructor"&&e.push(r);return e}var c4=u4,f4=cm,d4=vm;function p4(t){return t!=null&&d4(t.length)&&!f4(t)}var Wl=p4,h4=zE,v4=c4,g4=Wl;function m4(t){return g4(t)?h4(t):v4(t)}var Gl=m4;const wl=tn(Gl);var y4=BE,b4=hm,_4=Gl;function S4(t){return y4(t,_4,b4)}var WE=S4,y1=WE,O4=1,x4=Object.prototype,w4=x4.hasOwnProperty;function E4(t,e,r,n,i,a){var o=r&O4,s=y1(t),l=s.length,u=y1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:w4.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var C4=E4,T4=hs,k4=Qi,I4=T4(k4,"DataView"),A4=I4,P4=hs,j4=Qi,L4=P4(j4,"Promise"),F4=L4,R4=hs,$4=Qi,N4=R4($4,"Set"),D4=N4,M4=hs,V4=Qi,B4=M4(V4,"WeakMap"),q4=B4,$v=A4,Nv=fm,Dv=F4,Mv=D4,Vv=q4,GE=ps,Yl=DE,b1="[object Map]",H4="[object Object]",_1="[object Promise]",S1="[object Set]",O1="[object WeakMap]",x1="[object DataView]",z4=Yl($v),U4=Yl(Nv),W4=Yl(Dv),G4=Yl(Mv),Y4=Yl(Vv),Ho=GE;($v&&Ho(new $v(new ArrayBuffer(1)))!=x1||Nv&&Ho(new Nv)!=b1||Dv&&Ho(Dv.resolve())!=_1||Mv&&Ho(new Mv)!=S1||Vv&&Ho(new Vv)!=O1)&&(Ho=function(t){var e=GE(t),r=e==H4?t.constructor:void 0,n=r?Yl(r):"";if(n)switch(n){case z4:return x1;case U4:return b1;case W4:return _1;case G4:return S1;case Y4:return O1}return e});var _p=Ho,Nh=gp,K4=ME,J4=j5,Q4=C4,w1=_p,E1=ni,C1=yp,X4=ym,Z4=1,T1="[object Arguments]",k1="[object Array]",Cf="[object Object]",eB=Object.prototype,I1=eB.hasOwnProperty;function tB(t,e,r,n,i,a){var o=E1(t),s=E1(e),l=o?k1:w1(t),u=s?k1:w1(e);l=l==T1?Cf:l,u=u==T1?Cf:u;var c=l==Cf,f=u==Cf,d=l==u;if(d&&C1(t)){if(!C1(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Nh),o||X4(t)?K4(t,e,r,n,i,a):J4(t,e,l,r,n,i,a);if(!(r&Z4)){var p=c&&I1.call(t,"__wrapped__"),v=f&&I1.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new Nh),i(h,g,r,n,a)}}return d?(a||(a=new Nh),Q4(t,e,r,n,i,a)):!1}var rB=tB,nB=rB,A1=Oa;function YE(t,e,r,n,i){return t===e?!0:t==null||e==null||!A1(t)&&!A1(e)?t!==t&&e!==e:nB(t,e,r,n,YE,i)}var _m=YE,iB=_m;function aB(t,e){return iB(t,e)}var oB=aB,KE={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:kn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),p=i(12),v=i(32),h=i(33),g=i(31),y=i(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:v.default,Style:h.default,Store:g.default}};n.default=m},function(r,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){g(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){a(y,g);function y(m){var _=this;return m="[Parchment] "+m,_=g.call(this,m)||this,_.message=m,_.name=_.constructor.name,_}return y}(Error);n.ParchmentError=o;var s={},l={},u={},c={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(g,y){var m=v(g);if(m==null)throw new o("Unable to create "+g+" blot");var _=m,b=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:_.create(y);return new _(b,y)}n.create=d;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function v(g,y){y===void 0&&(y=f.ANY);var m;if(typeof g=="string")m=c[g]||s[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?m=c.block:g&f.LEVEL&f.INLINE&&(m=c.inline);else if(g instanceof HTMLElement){var _=(g.getAttribute("class")||"").split(/\s+/);for(var b in _)if(m=l[_[b]],m)break;m=m||u[g.tagName]}return m==null?null:y&f.LEVEL&m.scope&&y&f.TYPE&m.scope?m:null}n.query=v;function h(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(b){return h(b)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(b){return b.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var _=Array.isArray(m.tagName)?m.tagName:[m.tagName];_.forEach(function(b){(u[b]==null||m.className==null)&&(u[b]=m)})}return m}n.register=h},function(r,n,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},c.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=s(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(v){var h=f(v)?d:p;h.push(v)}),[d,p]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],v=l.iterator(this.ops),h=0;h<d&&v.hasNext();){var g;h<f?g=v.next(f-h):(g=v.next(d-h),p.push(g)),h+=l.length(g)}return new c(p)},c.prototype.compose=function(f){var d=l.iterator(this.ops),p=l.iterator(f.ops),v=[],h=p.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var g=h.retain;d.peekType()==="insert"&&d.peekLength()<=g;)g-=d.peekLength(),v.push(d.next());h.retain-g>0&&p.next(h.retain-g)}for(var y=new c(v);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(d.peekType()==="delete")y.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),_=d.next(m),b=p.next(m);if(typeof b.retain=="number"){var S={};typeof _.retain=="number"?S.retain=m:S.insert=_.insert;var O=l.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(O&&(S.attributes=O),y.push(S),!p.hasNext()&&o(y.ops[y.ops.length-1],S)){var x=new c(d.rest());return y.concat(x).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var p=[this,f].map(function(m){return m.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var b=m===f?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),v=new c,h=a(p[0],p[1],d),g=l.iterator(this.ops),y=l.iterator(f.ops);return h.forEach(function(m){for(var _=m[1].length;_>0;){var b=0;switch(m[0]){case a.INSERT:b=Math.min(y.peekLength(),_),v.push(y.next(b));break;case a.DELETE:b=Math.min(_,g.peekLength()),g.next(b),v.delete(b);break;case a.EQUAL:b=Math.min(g.peekLength(),y.peekLength(),_);var S=g.next(b),O=y.next(b);o(S.insert,O.insert)?v.retain(b,l.attributes.diff(S.attributes,O.attributes)):v.push(O).delete(b);break}_-=b}}),v.chop()},c.prototype.eachLine=function(f,d){d=d||"\n";for(var p=l.iterator(this.ops),v=new c,h=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=l.length(g)-p.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(d,y)-y:-1;if(m<0)v.push(p.next());else if(m>0)v.push(p.next(m));else{if(f(v,p.next(1).attributes||{},h)===!1)return;h+=1,v=new c}}v.length()>0&&f(v,{},h)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),h=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(d||v.peekType()!=="insert"))h.retain(l.length(p.next()));else if(v.peekType()==="insert")h.push(v.next());else{var g=Math.min(p.peekLength(),v.peekLength()),y=p.next(g),m=v.next(g);if(y.delete)continue;m.delete?h.push(m):h.retain(g,l.attributes.transform(y.attributes,m.attributes,d))}return h.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var h=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(h,f-v);continue}else g==="insert"&&(v<f||!d)&&(f+=h);v+=h}return f},r.exports=c},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),h=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!h)return!1;var g;for(g in p);return typeof g>"u"||i.call(p,g)},c=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(s)return s(p,v).value}else return;return p[v]};r.exports=function d(){var p,v,h,g,y,m,_=arguments[0],b=1,S=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},b=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});b<S;++b)if(p=arguments[b],p!=null)for(v in p)h=f(_,v),g=f(p,v),_!==g&&(O&&g&&(u(g)||(y=l(g)))?(y?(y=!1,m=h&&l(h)?h:[]):m=h&&u(h)?h:{},c(_,{name:v,newValue:d(O,m,g)})):typeof g<"u"&&c(_,{name:v,newValue:g}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(E,I){for(var j=0;j<I.length;j++){var L=I[j];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,I,j){return I&&k(E.prototype,I),j&&k(E,j),E}}(),o=function k(E,I,j){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,I);if(L===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:k(M,I,j)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(j)}},s=i(3),l=_(s),u=i(2),c=_(u),f=i(0),d=_(f),p=i(16),v=_(p),h=i(6),g=_(h),y=i(7),m=_(y);function _(k){return k&&k.__esModule?k:{default:k}}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function S(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function O(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var x=1,C=function(k){O(E,k);function E(){return b(this,E),S(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,L){var M=d.default.query(j,d.default.Scope.BLOCK_ATTRIBUTE);M!=null&&this.attributes.attribute(M,L)}},{key:"formatAt",value:function(j,L,M,R){this.format(M,R)}},{key:"insertAt",value:function(j,L,M){if(typeof L=="string"&&L.endsWith("\n")){var R=d.default.create(A.blotName);this.parent.insertBefore(R,j===0?this:this.next),R.insertAt(0,L.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,j,L,M)}}]),E}(d.default.Embed);C.scope=d.default.Scope.BLOCK_BLOT;var A=function(k){O(E,k);function E(I){b(this,E);var j=S(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I));return j.cache={},j}return a(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(j,L){return L.length()===0?j:j.insert(L.value(),w(L))},new c.default).insert("\n",w(this))),this.cache.delta}},{key:"deleteAt",value:function(j,L){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,j,L),this.cache={}}},{key:"formatAt",value:function(j,L,M,R){L<=0||(d.default.query(M,d.default.Scope.BLOCK)?j+L===this.length()&&this.format(M,R):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,j,Math.min(L,this.length()-j-1),M,R),this.cache={})}},{key:"insertAt",value:function(j,L,M){if(M!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,j,L,M);if(L.length!==0){var R=L.split("\n"),U=R.shift();U.length>0&&(j<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var V=this;R.reduce(function($,F){return V=V.split($,!0),V.insertAt(0,F),F.length},j+U.length)}}},{key:"insertBefore",value:function(j,L){var M=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,j,L),M instanceof v.default&&M.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(j,L){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,j,L),this.cache={}}},{key:"optimize",value:function(j){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(j===0||j>=this.length()-x)){var M=this.clone();return j===0?(this.parent.insertBefore(M,this),this):(this.parent.insertBefore(M,this.next),M)}else{var R=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,j,L);return this.cache={},R}}}]),E}(d.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[g.default,d.default.Embed,m.default];function w(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(E=(0,l.default)(E,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?E:w(k.parent,E)}n.bubbleFormats=w,n.BlockEmbed=C,n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V($,F){var N=[],B=!0,z=!1,H=void 0;try{for(var D=$[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(q){z=!0,H=q}finally{try{!B&&D.return&&D.return()}finally{if(z)throw H}}return N}return function($,F){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function V($,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,F,N){return F&&V($.prototype,F),N&&V($,N),$}}();i(50);var l=i(2),u=w(l),c=i(14),f=w(c),d=i(8),p=w(d),v=i(9),h=w(v),g=i(0),y=w(g),m=i(15),_=w(m),b=i(3),S=w(b),O=i(10),x=w(O),C=i(34),A=w(C);function w(V){return V&&V.__esModule?V:{default:V}}function k(V,$,F){return $ in V?Object.defineProperty(V,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[$]=F,V}function E(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}var I=(0,x.default)("quill"),j=function(){s(V,null,[{key:"debug",value:function(F){F===!0&&(F="log"),x.default.level(F)}},{key:"find",value:function(F){return F.__quill||y.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&I.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var H=F.attrName||F.blotName;typeof H=="string"?this.register("formats/"+H,F,N):Object.keys(F).forEach(function(D){B.register(D,F[D],N)})}else this.imports[F]!=null&&!z&&I.warn("Overwriting "+F+" with",N),this.imports[F]=N,(F.startsWith("blots/")||F.startsWith("formats/"))&&N.blotName!=="abstract"?y.default.register(N):F.startsWith("modules")&&typeof N.register=="function"&&N.register()}}]);function V($){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,V),this.options=L($,N),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",$);this.options.debug&&V.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(H){H===p.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(H,D){var G=F.selection.lastRange,q=G&&G.length===0?G.index:void 0;M.call(F,function(){return F.editor.update(null,D,q)},H)});var z=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(V,[{key:"addContainer",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var B=F;F=document.createElement("div"),F.classList.add(B)}return this.container.insertBefore(F,N),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,N,B){var z=this,H=R(F,N,B),D=o(H,4);return F=D[0],N=D[1],B=D[3],M.call(this,function(){return z.editor.deleteText(F,N)},B,F,-1*N)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return M.call(this,function(){var H=B.getSelection(!0),D=new u.default;if(H==null)return D;if(y.default.query(F,y.default.Scope.BLOCK))D=B.editor.formatLine(H.index,H.length,k({},F,N));else{if(H.length===0)return B.selection.format(F,N),D;D=B.editor.formatText(H.index,H.length,k({},F,N))}return B.setSelection(H,p.default.sources.SILENT),D},z)}},{key:"formatLine",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,N,B,z,H),Y=o(q,4);return F=Y[0],N=Y[1],G=Y[2],H=Y[3],M.call(this,function(){return D.editor.formatLine(F,N,G)},H,F,0)}},{key:"formatText",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,N,B,z,H),Y=o(q,4);return F=Y[0],N=Y[1],G=Y[2],H=Y[3],M.call(this,function(){return D.editor.formatText(F,N,G)},H,F,0)}},{key:"getBounds",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof F=="number"?B=this.selection.getBounds(F,N):B=this.selection.getBounds(F.index,F.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=R(F,N),z=o(B,2);return F=z[0],N=z[1],this.editor.getContents(F,N)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,N):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,N)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=R(F,N),z=o(B,2);return F=z[0],N=z[1],this.editor.getText(F,N)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,N,B){var z=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.sources.API;return M.call(this,function(){return z.editor.insertEmbed(F,N,B)},H,F)}},{key:"insertText",value:function(F,N,B,z,H){var D=this,G=void 0,q=R(F,0,B,z,H),Y=o(q,4);return F=Y[0],G=Y[2],H=Y[3],M.call(this,function(){return D.editor.insertText(F,N,G)},H,F,N.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,N,B){this.clipboard.dangerouslyPasteHTML(F,N,B)}},{key:"removeFormat",value:function(F,N,B){var z=this,H=R(F,N,B),D=o(H,4);return F=D[0],N=D[1],B=D[3],M.call(this,function(){return z.editor.removeFormat(F,N)},B,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return M.call(this,function(){F=new u.default(F);var z=N.getLength(),H=N.editor.deleteText(0,z),D=N.editor.applyDelta(F),G=D.ops[D.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]==="\n"&&(N.editor.deleteText(N.getLength()-1,1),D.delete(1));var q=H.compose(D);return q},B)}},{key:"setSelection",value:function(F,N,B){if(F==null)this.selection.setRange(null,N||V.sources.API);else{var z=R(F,N,B),H=o(z,4);F=H[0],N=H[1],B=H[3],this.selection.setRange(new m.Range(F,N),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new u.default().insert(F);return this.setContents(B,N)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,N=this.scroll.update(F);return this.selection.update(F),N}},{key:"updateContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return M.call(this,function(){return F=new u.default(F),N.editor.applyDelta(F,B)},B,!0)}}]),V}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=p.default.events,j.sources=p.default.sources,j.version="1.3.7",j.imports={delta:u.default,parchment:y.default,"core/module":h.default,"core/theme":A.default};function L(V,$){if($=(0,S.default)(!0,{container:V,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===j.DEFAULTS.theme)$.theme=A.default;else if($.theme=j.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var F=(0,S.default)(!0,{},$.theme.DEFAULTS);[F,$].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(H){z.modules[H]===!0&&(z.modules[H]={})})});var N=Object.keys(F.modules).concat(Object.keys($.modules)),B=N.reduce(function(z,H){var D=j.import("modules/"+H);return D==null?I.error("Cannot load "+H+" module. Are you sure you registered it?"):z[H]=D.DEFAULTS||{},z},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,S.default)(!0,{},j.DEFAULTS,{modules:B},F,$),["bounds","container","scrollingContainer"].forEach(function(z){typeof $[z]=="string"&&($[z]=document.querySelector($[z]))}),$.modules=Object.keys($.modules).reduce(function(z,H){return $.modules[H]&&(z[H]=$.modules[H]),z},{}),$}function M(V,$,F,N){if(this.options.strict&&!this.isEnabled()&&$===p.default.sources.USER)return new u.default;var B=F==null?null:this.getSelection(),z=this.editor.delta,H=V();if(B!=null&&(F===!0&&(F=B.index),N==null?B=U(B,H,$):N!==0&&(B=U(B,F,N,$)),this.setSelection(B,p.default.sources.SILENT)),H.length()>0){var D,G=[p.default.events.TEXT_CHANGE,H,z,$];if((D=this.emitter).emit.apply(D,[p.default.events.EDITOR_CHANGE].concat(G)),$!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,G)}}return H}function R(V,$,F,N,B){var z={};return typeof V.index=="number"&&typeof V.length=="number"?typeof $!="number"?(B=N,N=F,F=$,$=V.length,V=V.index):($=V.length,V=V.index):typeof $!="number"&&(B=N,N=F,F=$,$=0),(typeof F>"u"?"undefined":a(F))==="object"?(z=F,B=N):typeof F=="string"&&(N!=null?z[F]=N:B=F),B=B||p.default.sources.API,[V,$,z,B]}function U(V,$,F,N){if(V==null)return null;var B=void 0,z=void 0;if($ instanceof u.default){var H=[V.index,V.index+V.length].map(function(Y){return $.transformPosition(Y,N!==p.default.sources.USER)}),D=o(H,2);B=D[0],z=D[1]}else{var G=[V.index,V.index+V.length].map(function(Y){return Y<$||Y===$&&N===p.default.sources.USER?Y:F>=0?Y+F:Math.max($,Y+F)}),q=o(G,2);B=q[0],z=q[1]}return new m.Range(B,z-B)}n.expandConfig=L,n.overload=R,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(7),l=f(s),u=i(0),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function v(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){v(y,g);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(_,b,S,O){if(y.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var x=this.isolate(_,b);O&&x.wrap(S,O)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,_,b,S,O)}},{key:"optimize",value:function(_){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,_),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(_,b){var S=y.order.indexOf(_),O=y.order.indexOf(b);return S>=0||O>=0?S-O:_===b?0:_<b?-1:1}}]),y}(c.default.Inline);h.allowedChildren=[h,c.default.Embed,l.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(_,b){for(var S=0;S<b.length;S++){var O=b[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,b,S){return b&&m(_.prototype,b),S&&m(_,S),_}}(),o=function m(_,b,S){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,b);if(O===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:m(x,b,S)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(S)}},s=i(54),l=f(s),u=i(10),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function p(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function v(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=(0,c.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var _=arguments.length,b=Array(_),S=0;S<_;S++)b[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,b)}})})});var y=function(m){v(_,m);function _(){d(this,_);var b=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return b.listeners={},b.on("error",h.error),b}return a(_,[{key:"emit",value:function(){h.log.apply(h,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var O=arguments.length,x=Array(O>1?O-1:0),C=1;C<O;C++)x[C-1]=arguments[C];(this.listeners[S.type]||[]).forEach(function(A){var w=A.node,k=A.handler;(S.target===w||w.contains(S.target))&&k.apply(void 0,[S].concat(x))})}},{key:"listenDOM",value:function(S,O,x){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:O,handler:x})}}]),_}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(c=console)[u].apply(c,d)}}function l(u){return a.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=l.level=function(u){o=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=r.exports=function(d,p,v){return v||(v={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?v.strict?d===p:d==p:f(d,p,v)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,v){var h,g;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(s(d))return s(p)?(d=a.call(d),p=a.call(p),l(d,p,v)):!1;if(c(d)){if(!c(p)||d.length!==p.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==p[h])return!1;return!0}try{var y=o(d),m=o(p)}catch(_){return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),h=y.length-1;h>=0;h--)if(y[h]!=m[h])return!1;for(h=y.length-1;h>=0;h--)if(g=y[h],!l(d[g],p[g],v))return!1;return typeof d==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function C(A,w){var k=[],E=!0,I=!1,j=void 0;try{for(var L=A[Symbol.iterator](),M;!(E=(M=L.next()).done)&&(k.push(M.value),!(w&&k.length===w));E=!0);}catch(R){I=!0,j=R}finally{try{!E&&L.return&&L.return()}finally{if(I)throw j}}return k}return function(A,w){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return C(A,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(A,w){for(var k=0;k<w.length;k++){var E=w[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,w,k){return w&&C(A.prototype,w),k&&C(A,k),A}}(),s=function C(A,w,k){A===null&&(A=Function.prototype);var E=Object.getOwnPropertyDescriptor(A,w);if(E===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:C(I,w,k)}else{if("value"in E)return E.value;var j=E.get;return j===void 0?void 0:j.call(k)}},l=i(2),u=m(l),c=i(0),f=m(c),d=i(4),p=m(d),v=i(6),h=m(v),g=i(7),y=m(g);function m(C){return C&&C.__esModule?C:{default:C}}function _(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function b(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function S(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var O=function(C){S(A,C);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(h.default);O.blotName="code",O.tagName="CODE";var x=function(C){S(A,C);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var k=this,E=this.domNode.textContent;return E.endsWith("\n")&&(E=E.slice(0,-1)),E.split("\n").reduce(function(I,j){return I.insert(j).insert("\n",k.formats())},new u.default)}},{key:"format",value:function(k,E){if(!(k===this.statics.blotName&&E)){var I=this.descendant(y.default,this.length()-1),j=a(I,1),L=j[0];L!=null&&L.deleteAt(L.length()-1,1),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,k,E)}}},{key:"formatAt",value:function(k,E,I,j){if(E!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&j===this.statics.formats(this.domNode))){var L=this.newlineIndex(k);if(!(L<0||L>=k+E)){var M=this.newlineIndex(k,!0)+1,R=L-M+1,U=this.isolate(M,R),V=U.next;U.format(I,j),V instanceof A&&V.formatAt(0,k-M+E-R,I,j)}}}},{key:"insertAt",value:function(k,E,I){if(I==null){var j=this.descendant(y.default,k),L=a(j,2),M=L[0],R=L[1];M.insertAt(R,E)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?k:k+1}},{key:"newlineIndex",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,k).lastIndexOf("\n");var I=this.domNode.textContent.slice(k).indexOf("\n");return I>-1?k+I:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(k),E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var I=f.default.find(E);I==null?E.parentNode.removeChild(E):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(k){var E=s(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,k);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),A}(p.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",n.Code=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V($,F){var N=[],B=!0,z=!1,H=void 0;try{for(var D=$[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(q){z=!0,H=q}finally{try{!B&&D.return&&D.return()}finally{if(z)throw H}}return N}return function($,F){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return V($,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function V($,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty($,B.key,B)}}return function($,F,N){return F&&V($.prototype,F),N&&V($,N),$}}(),l=i(2),u=E(l),c=i(20),f=E(c),d=i(0),p=E(d),v=i(13),h=E(v),g=i(24),y=E(g),m=i(4),_=E(m),b=i(16),S=E(b),O=i(21),x=E(O),C=i(11),A=E(C),w=i(3),k=E(w);function E(V){return V&&V.__esModule?V:{default:V}}function I(V,$,F){return $ in V?Object.defineProperty(V,$,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[$]=F,V}function j(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,M=function(){function V($){j(this,V),this.scroll=$,this.delta=this.getDelta()}return s(V,[{key:"applyDelta",value:function(F){var N=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),F=U(F),F.reduce(function(H,D){var G=D.retain||D.delete||D.insert.length||1,q=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var Y=D.insert;Y.endsWith("\n")&&B&&(B=!1,Y=Y.slice(0,-1)),H>=z&&!Y.endsWith("\n")&&(B=!0),N.scroll.insertAt(H,Y);var K=N.scroll.line(H),ie=o(K,2),te=ie[0],oe=ie[1],ue=(0,k.default)({},(0,m.bubbleFormats)(te));if(te instanceof _.default){var fe=te.descendant(p.default.Leaf,oe),pe=o(fe,1),Se=pe[0];ue=(0,k.default)(ue,(0,m.bubbleFormats)(Se))}q=f.default.attributes.diff(ue,q)||{}}else if(a(D.insert)==="object"){var Q=Object.keys(D.insert)[0];if(Q==null)return H;N.scroll.insertAt(H,Q,D.insert[Q])}z+=G}return Object.keys(q).forEach(function(re){N.scroll.formatAt(H,G,re,q[re])}),H+G},0),F.reduce(function(H,D){return typeof D.delete=="number"?(N.scroll.deleteAt(H,D.delete),H):H+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,N){return this.scroll.deleteAt(F,N),this.update(new u.default().retain(F).delete(N))}},{key:"formatLine",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(H){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[H])){var D=B.scroll.lines(F,Math.max(N,1)),G=N;D.forEach(function(q){var Y=q.length();if(!(q instanceof h.default))q.format(H,z[H]);else{var K=F-q.offset(B.scroll),ie=q.newlineIndex(K+G)-K+1;q.formatAt(K,ie,H,z[H])}G-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(N,(0,x.default)(z)))}},{key:"formatText",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(H){B.scroll.formatAt(F,N,H,z[H])}),this.update(new u.default().retain(F).retain(N,(0,x.default)(z)))}},{key:"getContents",value:function(F,N){return this.delta.slice(F,F+N)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,N){return F.concat(N.delta())},new u.default)}},{key:"getFormat",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];N===0?this.scroll.path(F).forEach(function(D){var G=o(D,1),q=G[0];q instanceof _.default?B.push(q):q instanceof p.default.Leaf&&z.push(q)}):(B=this.scroll.lines(F,N),z=this.scroll.descendants(p.default.Leaf,F,N));var H=[B,z].map(function(D){if(D.length===0)return{};for(var G=(0,m.bubbleFormats)(D.shift());Object.keys(G).length>0;){var q=D.shift();if(q==null)return G;G=R((0,m.bubbleFormats)(q),G)}return G});return k.default.apply(k.default,H)}},{key:"getText",value:function(F,N){return this.getContents(F,N).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(F,N,B){return this.scroll.insertAt(F,N,B),this.update(new u.default().retain(F).insert(I({},N,B)))}},{key:"insertText",value:function(F,N){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N=N.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(F,N),Object.keys(z).forEach(function(H){B.scroll.formatAt(F,N.length,H,z[H])}),this.update(new u.default().retain(F).insert(N,(0,x.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==_.default.blotName||F.children.length>1?!1:F.children.head instanceof S.default}},{key:"removeFormat",value:function(F,N){var B=this.getText(F,N),z=this.scroll.line(F+N),H=o(z,2),D=H[0],G=H[1],q=0,Y=new u.default;D!=null&&(D instanceof h.default?q=D.newlineIndex(G)-G+1:q=D.length()-G,Y=D.delta().slice(G,G+q-1).insert("\n"));var K=this.getContents(F,N+q),ie=K.diff(new u.default().insert(B).concat(Y)),te=new u.default().retain(F).concat(ie);return this.applyDelta(te)}},{key:"update",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(N.length===1&&N[0].type==="characterData"&&N[0].target.data.match(L)&&p.default.find(N[0].target)){var H=p.default.find(N[0].target),D=(0,m.bubbleFormats)(H),G=H.offset(this.scroll),q=N[0].oldValue.replace(y.default.CONTENTS,""),Y=new u.default().insert(q),K=new u.default().insert(H.value()),ie=new u.default().retain(G).concat(Y.diff(K,B));F=ie.reduce(function(te,oe){return oe.insert?te.insert(oe.insert,D):te.push(oe)},new u.default),this.delta=z.compose(F)}else this.delta=this.getDelta(),(!F||!(0,A.default)(z.compose(F),this.delta))&&(F=z.diff(this.delta,B));return F}}]),V}();function R(V,$){return Object.keys($).reduce(function(F,N){return V[N]==null||($[N]===V[N]?F[N]=$[N]:Array.isArray($[N])?$[N].indexOf(V[N])<0&&(F[N]=$[N].concat([V[N]])):F[N]=[$[N],V[N]]),F},{})}function U(V){return V.reduce(function($,F){if(F.insert===1){var N=(0,x.default)(F.attributes);return delete N.image,$.insert({image:F.attributes.image},N)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,x.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var B=F.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return $.insert(B,F.attributes)}return $.push(F)},new u.default)}n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function C(A,w){var k=[],E=!0,I=!1,j=void 0;try{for(var L=A[Symbol.iterator](),M;!(E=(M=L.next()).done)&&(k.push(M.value),!(w&&k.length===w));E=!0);}catch(R){I=!0,j=R}finally{try{!E&&L.return&&L.return()}finally{if(I)throw j}}return k}return function(A,w){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return C(A,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(A,w){for(var k=0;k<w.length;k++){var E=w[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,w,k){return w&&C(A.prototype,w),k&&C(A,k),A}}(),s=i(0),l=y(s),u=i(21),c=y(u),f=i(11),d=y(f),p=i(8),v=y(p),h=i(10),g=y(h);function y(C){return C&&C.__esModule?C:{default:C}}function m(C){if(Array.isArray(C)){for(var A=0,w=Array(C.length);A<C.length;A++)w[A]=C[A];return w}else return Array.from(C)}function _(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}var b=(0,g.default)("quill:selection"),S=function C(A){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,C),this.index=A,this.length=w},O=function(){function C(A,w){var k=this;_(this,C),this.emitter=w,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(E,I){E===v.default.events.TEXT_CHANGE&&I.length()>0&&k.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var E=k.getNativeRange();E!=null&&E.start.node!==k.cursor.textNode&&k.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch(I){}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(E,I){if(I.range){var j=I.range,L=j.startNode,M=j.startOffset,R=j.endNode,U=j.endOffset;k.setNativeRange(L,M,R,U)}}),this.update(v.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var w=this;this.root.addEventListener("compositionstart",function(){w.composing=!0}),this.root.addEventListener("compositionend",function(){if(w.composing=!1,w.cursor.parent){var k=w.cursor.restore();if(!k)return;setTimeout(function(){w.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var w=this;this.emitter.listenDOM("mousedown",document.body,function(){w.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){w.mouseDown=!1,w.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(w,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[w])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||l.default.query(w,l.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var I=l.default.find(E.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var j=I.split(E.start.offset);I.parent.insertBefore(this.cursor,j)}else I.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(w,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();w=Math.min(w,E-1),k=Math.min(w+k,E-1)-w;var I=void 0,j=this.scroll.leaf(w),L=a(j,2),M=L[0],R=L[1];if(M==null)return null;var U=M.position(R,!0),V=a(U,2);I=V[0],R=V[1];var $=document.createRange();if(k>0){$.setStart(I,R);var F=this.scroll.leaf(w+k),N=a(F,2);if(M=N[0],R=N[1],M==null)return null;var B=M.position(R,!0),z=a(B,2);return I=z[0],R=z[1],$.setEnd(I,R),$.getBoundingClientRect()}else{var H="left",D=void 0;return I instanceof Text?(R<I.data.length?($.setStart(I,R),$.setEnd(I,R+1)):($.setStart(I,R-1),$.setEnd(I,R),H="right"),D=$.getBoundingClientRect()):(D=M.domNode.getBoundingClientRect(),R>0&&(H="right")),{bottom:D.top+D.height,height:D.height,left:D[H],right:D[H],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var w=document.getSelection();if(w==null||w.rangeCount<=0)return null;var k=w.getRangeAt(0);if(k==null)return null;var E=this.normalizeNative(k);return b.info("getNativeRange",E),E}},{key:"getRange",value:function(){var w=this.getNativeRange();if(w==null)return[null,null];var k=this.normalizedToRange(w);return[k,w]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(w){var k=this,E=[[w.start.node,w.start.offset]];w.native.collapsed||E.push([w.end.node,w.end.offset]);var I=E.map(function(M){var R=a(M,2),U=R[0],V=R[1],$=l.default.find(U,!0),F=$.offset(k.scroll);return V===0?F:$ instanceof l.default.Container?F+$.length():F+$.index(U,V)}),j=Math.min(Math.max.apply(Math,m(I)),this.scroll.length()-1),L=Math.min.apply(Math,[j].concat(m(I)));return new S(L,j-L)}},{key:"normalizeNative",value:function(w){if(!x(this.root,w.startContainer)||!w.collapsed&&!x(this.root,w.endContainer))return null;var k={start:{node:w.startContainer,offset:w.startOffset},end:{node:w.endContainer,offset:w.endOffset},native:w};return[k.start,k.end].forEach(function(E){for(var I=E.node,j=E.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>j)I=I.childNodes[j],j=0;else if(I.childNodes.length===j)I=I.lastChild,j=I instanceof Text?I.data.length:I.childNodes.length+1;else break;E.node=I,E.offset=j}),k}},{key:"rangeToNative",value:function(w){var k=this,E=w.collapsed?[w.index]:[w.index,w.index+w.length],I=[],j=this.scroll.length();return E.forEach(function(L,M){L=Math.min(j-1,L);var R=void 0,U=k.scroll.leaf(L),V=a(U,2),$=V[0],F=V[1],N=$.position(F,M!==0),B=a(N,2);R=B[0],F=B[1],I.push(R,F)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(w){var k=this.lastRange;if(k!=null){var E=this.getBounds(k.index,k.length);if(E!=null){var I=this.scroll.length()-1,j=this.scroll.line(Math.min(k.index,I)),L=a(j,1),M=L[0],R=M;if(k.length>0){var U=this.scroll.line(Math.min(k.index+k.length,I)),V=a(U,1);R=V[0]}if(!(M==null||R==null)){var $=w.getBoundingClientRect();E.top<$.top?w.scrollTop-=$.top-E.top:E.bottom>$.bottom&&(w.scrollTop+=E.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(w,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",w,k,E,I),!(w!=null&&(this.root.parentNode==null||w.parentNode==null||E.parentNode==null))){var L=document.getSelection();if(L!=null)if(w!=null){this.hasFocus()||this.root.focus();var M=(this.getNativeRange()||{}).native;if(M==null||j||w!==M.startContainer||k!==M.startOffset||E!==M.endContainer||I!==M.endOffset){w.tagName=="BR"&&(k=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode),E.tagName=="BR"&&(I=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var R=document.createRange();R.setStart(w,k),R.setEnd(E,I),L.removeAllRanges(),L.addRange(R)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof k=="string"&&(E=k,k=!1),b.info("setRange",w),w!=null){var I=this.rangeToNative(w);this.setNativeRange.apply(this,m(I).concat([k]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,k=this.lastRange,E=this.getRange(),I=a(E,2),j=I[0],L=I[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var M;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var R=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(k),w];if((M=this.emitter).emit.apply(M,[v.default.events.EDITOR_CHANGE].concat(R)),w!==v.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,R)}}}}]),C}();function x(C,A){try{A.parentNode}catch(w){return!1}return A instanceof Text&&(A=A.parentNode),C.contains(A)}n.Range=S,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"insertInto",value:function(y,m){y.children.length===0?o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.build(),v}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var h=c(v);p.insertBefore(h,p.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},d.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(h,g,y){h.deleteAt(g,y)})},d.prototype.descendant=function(p,v){var h=this.children.find(v),g=h[0],y=h[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof d?g.descendant(p,y):[null,-1]},d.prototype.descendants=function(p,v,h){v===void 0&&(v=0),h===void 0&&(h=Number.MAX_VALUE);var g=[],y=h;return this.children.forEachAt(v,h,function(m,_,b){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&g.push(m),m instanceof d&&(g=g.concat(m.descendants(p,_,y))),y-=b}),g},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,v,h,g){this.children.forEachAt(p,v,function(y,m,_){y.formatAt(m,_,h,g)})},d.prototype.insertAt=function(p,v,h){var g=this.children.find(p),y=g[0],m=g[1];if(y)y.insertAt(m,v,h);else{var _=h==null?l.create("text",v):l.create(v,h);this.appendChild(_)}},d.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return p instanceof h}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},d.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},d.prototype.moveChildren=function(p,v){this.children.forEach(function(h){p.insertBefore(h,v)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},d.prototype.path=function(p,v){v===void 0&&(v=!1);var h=this.children.find(p,v),g=h[0],y=h[1],m=[[this,p]];return g instanceof d?m.concat(g.path(y,v)):(g!=null&&m.push([g,y]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(p,this.length(),function(g,y,m){g=g.split(y,v),h.appendChild(g)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,v){var h=this,g=[],y=[];p.forEach(function(m){m.target===h.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(m);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===h.domNode)&&_.detach()}}),g.filter(function(m){return m.parentNode==h.domNode}).sort(function(m,_){return m===_?0:m.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var _=null;m.nextSibling!=null&&(_=l.find(m.nextSibling));var b=c(m);(b.next!=_||b.next==null)&&(b.parent!=null&&b.parent.removeChild(h),h.insertBefore(b,_||void 0))})},d}(s.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch(p){d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){d.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.attributes=new s.default(v.domNode),v}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,v){var h=u.query(p);h instanceof o.default?this.attributes.attribute(h,v):v&&h!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},d.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},d.prototype.replaceWith=function(p,v){var h=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(h),h},d.prototype.update=function(p,v){var h=this;f.prototype.update.call(this,p,v),p.some(function(g){return g.target===h.domNode&&g.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,v){var h=f.prototype.wrap.call(this,p,v);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(l.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=o(!0,{},c);f||(d=Object.keys(d).reduce(function(v,h){return d[h]!=null&&(v[h]=d[h]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,p){return a(u[p],c[p])||(d[p]=c[p]===void 0?null:c[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},r.exports=s},function(r,n){var i=function(){function a(h,g){return g!=null&&h instanceof g}var o;try{o=Map}catch(h){o=function(){}}var s;try{s=Set}catch(h){s=function(){}}var l;try{l=Promise}catch(h){l=function(){}}function u(h,g,y,m,_){typeof g=="object"&&(y=g.depth,m=g.prototype,_=g.includeNonEnumerable,g=g.circular);var b=[],S=[],O=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function x(C,A){if(C===null)return null;if(A===0)return C;var w,k;if(typeof C!="object")return C;if(a(C,o))w=new o;else if(a(C,s))w=new s;else if(a(C,l))w=new l(function($,F){C.then(function(N){$(x(N,A-1))},function(N){F(x(N,A-1))})});else if(u.__isArray(C))w=[];else if(u.__isRegExp(C))w=new RegExp(C.source,v(C)),C.lastIndex&&(w.lastIndex=C.lastIndex);else if(u.__isDate(C))w=new Date(C.getTime());else{if(O&&Buffer.isBuffer(C))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(C.length):w=new Buffer(C.length),C.copy(w),w;a(C,Error)?w=Object.create(C):typeof m>"u"?(k=Object.getPrototypeOf(C),w=Object.create(k)):(w=Object.create(m),k=m)}if(g){var E=b.indexOf(C);if(E!=-1)return S[E];b.push(C),S.push(w)}a(C,o)&&C.forEach(function($,F){var N=x(F,A-1),B=x($,A-1);w.set(N,B)}),a(C,s)&&C.forEach(function($){var F=x($,A-1);w.add(F)});for(var I in C){var j;k&&(j=Object.getOwnPropertyDescriptor(k,I)),!(j&&j.set==null)&&(w[I]=x(C[I],A-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(C),I=0;I<L.length;I++){var M=L[I],R=Object.getOwnPropertyDescriptor(C,M);R&&!R.enumerable&&!_||(w[M]=x(C[M],A-1),R.enumerable||Object.defineProperty(w,M,{enumerable:!1}))}if(_)for(var U=Object.getOwnPropertyNames(C),I=0;I<U.length;I++){var V=U[I],R=Object.getOwnPropertyDescriptor(C,V);R&&R.enumerable||(w[V]=x(C[V],A-1),Object.defineProperty(w,V,{enumerable:!1}))}return w}return x(h,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function c(h){return Object.prototype.toString.call(h)}u.__objToStr=c;function f(h){return typeof h=="object"&&c(h)==="[object Date]"}u.__isDate=f;function d(h){return typeof h=="object"&&c(h)==="[object Array]"}u.__isArray=d;function p(h){return typeof h=="object"&&c(h)==="[object RegExp]"}u.__isRegExp=p;function v(h){var g="";return h.global&&(g+="g"),h.ignoreCase&&(g+="i"),h.multiline&&(g+="m"),g}return u.__getRegExpFlags=v,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(k,E){var I=[],j=!0,L=!1,M=void 0;try{for(var R=k[Symbol.iterator](),U;!(j=(U=R.next()).done)&&(I.push(U.value),!(E&&I.length===E));j=!0);}catch(V){L=!0,M=V}finally{try{!j&&R.return&&R.return()}finally{if(L)throw M}}return I}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function w(k,E){for(var I=0;I<E.length;I++){var j=E[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(k,E,I){return E&&w(k.prototype,E),I&&w(k,I),k}}(),s=function w(k,E,I){k===null&&(k=Function.prototype);var j=Object.getOwnPropertyDescriptor(k,E);if(j===void 0){var L=Object.getPrototypeOf(k);return L===null?void 0:w(L,E,I)}else{if("value"in j)return j.value;var M=j.get;return M===void 0?void 0:M.call(I)}},l=i(0),u=b(l),c=i(8),f=b(c),d=i(4),p=b(d),v=i(16),h=b(v),g=i(13),y=b(g),m=i(25),_=b(m);function b(w){return w&&w.__esModule?w:{default:w}}function S(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function O(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function x(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}function C(w){return w instanceof p.default||w instanceof d.BlockEmbed}var A=function(w){x(k,w);function k(E,I){S(this,k);var j=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E));return j.emitter=I.emitter,Array.isArray(I.whitelist)&&(j.whitelist=I.whitelist.reduce(function(L,M){return L[M]=!0,L},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return o(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,j){var L=this.line(I),M=a(L,2),R=M[0],U=M[1],V=this.line(I+j),$=a(V,1),F=$[0];if(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,I,j),F!=null&&R!==F&&U>0){if(R instanceof d.BlockEmbed||F instanceof d.BlockEmbed){this.optimize();return}if(R instanceof y.default){var N=R.newlineIndex(R.length(),!0);if(N>-1&&(R=R.split(N+1),R===F)){this.optimize();return}}else if(F instanceof y.default){var B=F.newlineIndex(0);B>-1&&F.split(B+1)}var z=F.children.head instanceof h.default?null:F.children.head;R.moveChildren(F,z),R.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,j,L,M){this.whitelist!=null&&!this.whitelist[L]||(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,I,j,L,M),this.optimize())}},{key:"insertAt",value:function(I,j,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[j])){if(I>=this.length())if(L==null||u.default.query(j,u.default.Scope.BLOCK)==null){var M=u.default.create(this.statics.defaultChild);this.appendChild(M),L==null&&j.endsWith("\n")&&(j=j.slice(0,-1)),M.insertAt(0,j,L)}else{var R=u.default.create(j,L);this.appendChild(R)}else s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,I,j,L);this.optimize()}}},{key:"insertBefore",value:function(I,j){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var L=u.default.create(this.statics.defaultChild);L.appendChild(I),I=L}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,I,j)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(C,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function M(R,U,V){var $=[],F=V;return R.children.forEachAt(U,V,function(N,B,z){C(N)?$.push(N):N instanceof u.default.Container&&($=$.concat(M(N,B,F))),F-=z}),$};return L(this,I,j)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I,j),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,j))}},{key:"path",value:function(I){return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var j=f.default.sources.USER;typeof I=="string"&&(j=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,j,I),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,j,I)}}}]),k}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[p.default,d.BlockEmbed,_.default],n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(G,q){var Y=[],K=!0,ie=!1,te=void 0;try{for(var oe=G[Symbol.iterator](),ue;!(K=(ue=oe.next()).done)&&(Y.push(ue.value),!(q&&Y.length===q));K=!0);}catch(fe){ie=!0,te=fe}finally{try{!K&&oe.return&&oe.return()}finally{if(ie)throw te}}return Y}return function(G,q){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return D(G,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(G,q){for(var Y=0;Y<q.length;Y++){var K=q[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,q,Y){return q&&D(G.prototype,q),Y&&D(G,Y),G}}(),l=i(21),u=w(l),c=i(11),f=w(c),d=i(3),p=w(d),v=i(2),h=w(v),g=i(20),y=w(g),m=i(0),_=w(m),b=i(5),S=w(b),O=i(10),x=w(O),C=i(9),A=w(C);function w(D){return D&&D.__esModule?D:{default:D}}function k(D,G,q){return G in D?Object.defineProperty(D,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[G]=q,D}function E(D,G){if(!(D instanceof G))throw new TypeError("Cannot call a class as a function")}function I(D,G){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:D}function j(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);D.prototype=Object.create(G&&G.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(D,G):D.__proto__=G)}var L=(0,x.default)("quill:keyboard"),M=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",R=function(D){j(G,D),s(G,null,[{key:"match",value:function(Y,K){return K=H(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!K[ie]!==Y[ie]&&K[ie]!==null})?!1:K.key===(Y.which||Y.keyCode)}}]);function G(q,Y){E(this,G);var K=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,q,Y));return K.bindings={},Object.keys(K.options.bindings).forEach(function(ie){ie==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||K.options.bindings[ie]&&K.addBinding(K.options.bindings[ie])}),K.addBinding({key:G.keys.ENTER,shiftKey:null},N),K.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},V),K.addBinding({key:G.keys.DELETE},{collapsed:!0},$)):(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},V),K.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),K.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},F),K.addBinding({key:G.keys.DELETE},{collapsed:!1},F),K.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},V),K.listen(),K}return s(G,[{key:"addBinding",value:function(Y){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=H(Y);if(te==null||te.key==null)return L.warn("Attempted to add invalid keyboard binding",te);typeof K=="function"&&(K={handler:K}),typeof ie=="function"&&(ie={handler:ie}),te=(0,p.default)(te,K,ie),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var ie=K.which||K.keyCode,te=(Y.bindings[ie]||[]).filter(function(he){return G.match(K,he)});if(te.length!==0){var oe=Y.quill.getSelection();if(!(oe==null||!Y.quill.hasFocus())){var ue=Y.quill.getLine(oe.index),fe=o(ue,2),pe=fe[0],Se=fe[1],Q=Y.quill.getLeaf(oe.index),re=o(Q,2),de=re[0],ve=re[1],ee=oe.length===0?[de,ve]:Y.quill.getLeaf(oe.index+oe.length),me=o(ee,2),Oe=me[0],we=me[1],Je=de instanceof _.default.Text?de.value().slice(0,ve):"",at=Oe instanceof _.default.Text?Oe.value().slice(we):"",ce={collapsed:oe.length===0,empty:oe.length===0&&pe.length()<=1,format:Y.quill.getFormat(oe),offset:Se,prefix:Je,suffix:at},ge=te.some(function(he){if(he.collapsed!=null&&he.collapsed!==ce.collapsed||he.empty!=null&&he.empty!==ce.empty||he.offset!=null&&he.offset!==ce.offset)return!1;if(Array.isArray(he.format)){if(he.format.every(function(je){return ce.format[je]==null}))return!1}else if(a(he.format)==="object"&&!Object.keys(he.format).every(function(je){return he.format[je]===!0?ce.format[je]!=null:he.format[je]===!1?ce.format[je]==null:(0,f.default)(he.format[je],ce.format[je])}))return!1;return he.prefix!=null&&!he.prefix.test(ce.prefix)||he.suffix!=null&&!he.suffix.test(ce.suffix)?!1:he.handler.call(Y,oe,ce)!==!0});ge&&K.preventDefault()}}}})}}]),G}(A.default);R.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},R.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:R.keys.TAB,format:["blockquote","indent","list"],handler:function(G,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:R.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:R.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,q){q.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:R.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,S.default.sources.USER)}},tab:{key:R.keys.TAB,handler:function(G){this.quill.history.cutoff();var q=new h.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(q,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,S.default.sources.SILENT)}},"list empty enter":{key:R.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,q){this.quill.format("list",!1,S.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:R.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var q=this.quill.getLine(G.index),Y=o(q,2),K=Y[0],ie=Y[1],te=(0,p.default)({},K.formats(),{list:"checked"}),oe=new h.default().retain(G.index).insert("\n",te).retain(K.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(oe,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:R.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,q){var Y=this.quill.getLine(G.index),K=o(Y,2),ie=K[0],te=K[1],oe=new h.default().retain(G.index).insert("\n",q.format).retain(ie.length()-te-1).retain(1,{header:null});this.quill.updateContents(oe,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,q){var Y=q.prefix.length,K=this.quill.getLine(G.index),ie=o(K,2),te=ie[0],oe=ie[1];if(oe>Y)return!0;var ue=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(G.index," ",S.default.sources.USER),this.quill.history.cutoff();var fe=new h.default().retain(G.index-oe).delete(Y+1).retain(te.length()-2-oe).retain(1,{list:ue});this.quill.updateContents(fe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-Y,S.default.sources.SILENT)}},"code exit":{key:R.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var q=this.quill.getLine(G.index),Y=o(q,2),K=Y[0],ie=Y[1],te=new h.default().retain(G.index+K.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,S.default.sources.USER)}},"embed left":U(R.keys.LEFT,!1),"embed left shift":U(R.keys.LEFT,!0),"embed right":U(R.keys.RIGHT,!1),"embed right shift":U(R.keys.RIGHT,!0)}};function U(D,G){var q,Y=D===R.keys.LEFT?"prefix":"suffix";return q={key:D,shiftKey:G,altKey:null},k(q,Y,/^$/),k(q,"handler",function(ie){var te=ie.index;D===R.keys.RIGHT&&(te+=ie.length+1);var oe=this.quill.getLeaf(te),ue=o(oe,1),fe=ue[0];return fe instanceof _.default.Embed?(D===R.keys.LEFT?G?this.quill.setSelection(ie.index-1,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index-1,S.default.sources.USER):G?this.quill.setSelection(ie.index,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,S.default.sources.USER),!1):!0}),q}function V(D,G){if(!(D.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(D.index),Y=o(q,1),K=Y[0],ie={};if(G.offset===0){var te=this.quill.getLine(D.index-1),oe=o(te,1),ue=oe[0];if(ue!=null&&ue.length()>1){var fe=K.formats(),pe=this.quill.getFormat(D.index-1,1);ie=y.default.attributes.diff(fe,pe)||{}}}var Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(D.index-Se,Se,S.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(D.index-Se,Se,ie,S.default.sources.USER),this.quill.focus()}}function $(D,G){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(D.index>=this.quill.getLength()-q)){var Y={},K=0,ie=this.quill.getLine(D.index),te=o(ie,1),oe=te[0];if(G.offset>=oe.length()-1){var ue=this.quill.getLine(D.index+1),fe=o(ue,1),pe=fe[0];if(pe){var Se=oe.formats(),Q=this.quill.getFormat(D.index,1);Y=y.default.attributes.diff(Se,Q)||{},K=pe.length()}}this.quill.deleteText(D.index,q,S.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(D.index+K-1,q,Y,S.default.sources.USER)}}function F(D){var G=this.quill.getLines(D),q={};if(G.length>1){var Y=G[0].formats(),K=G[G.length-1].formats();q=y.default.attributes.diff(K,Y)||{}}this.quill.deleteText(D,S.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(D.index,1,q,S.default.sources.USER),this.quill.setSelection(D.index,S.default.sources.SILENT),this.quill.focus()}function N(D,G){var q=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var Y=Object.keys(G.format).reduce(function(K,ie){return _.default.query(ie,_.default.Scope.BLOCK)&&!Array.isArray(G.format[ie])&&(K[ie]=G.format[ie]),K},{});this.quill.insertText(D.index,"\n",Y,S.default.sources.USER),this.quill.setSelection(D.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(K){Y[K]==null&&(Array.isArray(G.format[K])||K!=="link"&&q.quill.format(K,G.format[K],S.default.sources.USER))})}function B(D){return{key:R.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(q){var Y=_.default.query("code-block"),K=q.index,ie=q.length,te=this.quill.scroll.descendant(Y,K),oe=o(te,2),ue=oe[0],fe=oe[1];if(ue!=null){var pe=this.quill.getIndex(ue),Se=ue.newlineIndex(fe,!0)+1,Q=ue.newlineIndex(pe+fe+ie),re=ue.domNode.textContent.slice(Se,Q).split("\n");fe=0,re.forEach(function(de,ve){D?(ue.insertAt(Se+fe,Y.TAB),fe+=Y.TAB.length,ve===0?K+=Y.TAB.length:ie+=Y.TAB.length):de.startsWith(Y.TAB)&&(ue.deleteAt(Se+fe,Y.TAB.length),fe-=Y.TAB.length,ve===0?K-=Y.TAB.length:ie-=Y.TAB.length),fe+=de.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(K,ie,S.default.sources.SILENT)}}}}function z(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(q,Y){this.quill.format(D,!Y.format[D],S.default.sources.USER)}}}function H(D){if(typeof D=="string"||typeof D=="number")return H({key:D});if((typeof D>"u"?"undefined":a(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if(R.keys[D.key.toUpperCase()]!=null)D.key=R.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[M]=D.shortKey,delete D.shortKey),D}n.default=R,n.SHORTKEY=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){var b=[],S=!0,O=!1,x=void 0;try{for(var C=m[Symbol.iterator](),A;!(S=(A=C.next()).done)&&(b.push(A.value),!(_&&b.length===_));S=!0);}catch(w){O=!0,x=w}finally{try{!S&&C.return&&C.return()}finally{if(O)throw x}}return b}return function(m,_){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function v(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){h(m,y),s(m,null,[{key:"value",value:function(){}}]);function m(_,b){p(this,m);var S=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return S.selection=b,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,S){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,S);for(var O=this,x=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=m.CONTENTS.length,O.optimize(),O.formatAt(x,m.CONTENTS.length,b,S),this._length=0)}},{key:"index",value:function(b,S){return b===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,S=this.selection.getNativeRange(),O=void 0,x=void 0,C=void 0;if(S!=null&&S.start.node===b&&S.end.node===b){var A=[b,S.start.offset,S.end.offset];O=A[0],x=A[1],C=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var w=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,w),this.textNode.data=m.CONTENTS):(this.textNode.data=w,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var k=[x,C].map(function(I){return Math.max(0,Math.min(O.data.length,I-1))}),E=a(k,2);return x=E[0],C=E[1],{startNode:O,startOffset:x,endNode:O,endOffset:C}}}}},{key:"update",value:function(b,S){var O=this;if(b.some(function(C){return C.type==="characterData"&&C.target===O.textNode})){var x=this.restore();x&&(S.range=x)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Container);p.allowedChildren=[l.default,s.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){d(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(_){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):b}}]),y}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),h=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=v,n.ColorStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(m,_){if(m!==this.statics.blotName||!_)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(m){var _=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),_.setAttribute("href",m),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return v(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(h,g){var y=document.createElement("a");y.href=h;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=p,n.sanitize=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),s=i(23),l=f(s),u=i(107),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function v(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var h=function(){function g(y){var m=this;d(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var _=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),m.hasAttribute("value")&&b.setAttribute("data-value",m.getAttribute("value")),m.textContent&&b.setAttribute("data-label",m.textContent),b.addEventListener("click",function(){_.selectItem(b,!0)}),b.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:_.selectItem(b,!0),S.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),S.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(b){var S=m.buildItem(b);_.appendChild(S),b.selected===!0&&m.selectItem(S)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(_){m.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(m!==b&&(b!=null&&b.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var b=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),g}();n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=L(a),s=i(5),l=L(s),u=i(4),c=L(u),f=i(16),d=L(f),p=i(25),v=L(p),h=i(24),g=L(h),y=i(35),m=L(y),_=i(6),b=L(_),S=i(22),O=L(S),x=i(7),C=L(x),A=i(55),w=L(A),k=i(42),E=L(k),I=i(23),j=L(I);function L(M){return M&&M.__esModule?M:{default:M}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":v.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":b.default,"blots/scroll":O.default,"blots/text":C.default,"modules/clipboard":w.default,"modules/history":E.default,"modules/keyboard":j.default}),o.default.register(c.default,d.default,g.default,b.default,O.default,C.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);d.wrap(p),p.format(c,f)}},s.prototype.insertAt=function(l,u,c){var f=c==null?a.create("text",u):a.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=a.default.keys(this.domNode),p=o.default.keys(this.domNode),v=s.default.keys(this.domNode);d.concat(p).concat(v).forEach(function(h){var g=l.query(h,l.Scope.ATTRIBUTE);g instanceof a.default&&(f.attributes[g.attrName]=g)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var v=d.attributes[p].value(d.domNode);f.format(p,v)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},c}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=f(s),u=i(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h="\uFEFF",g=function(y){v(m,y);function m(_){d(this,m);var b=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(S){b.contentNode.appendChild(S)}),b.leftGuard=document.createTextNode(h),b.rightGuard=document.createTextNode(h),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(m,[{key:"index",value:function(b,S){return b===this.leftGuard?0:b===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"restore",value:function(b){var S=void 0,O=void 0,x=b.data.split(h).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,x),S={startNode:this.prev.domNode,startOffset:C+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),S={startNode:O,startOffset:x.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,x),S={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),S={startNode:O,startOffset:x.length}));return b.data=h,S}},{key:"update",value:function(b,S){var O=this;b.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var C=O.restore(x.target);C&&(S.range=C)}})}}]),m}(l.default.Embed);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),h=function(y){d(m,y);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(b){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),g=new h("font","font-family",p);n.FontStyle=g,n.FontClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=i(0),s=d(o),l=i(5),u=d(l),c=i(9),f=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function h(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var g=function(_){h(b,_);function b(S,O){p(this,b);var x=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(u.default.events.EDITOR_CHANGE,function(C,A,w,k){C!==u.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||k===u.default.sources.USER?x.record(A,w):x.transform(A))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return a(b,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var C=this.stack[O].pop();this.stack[x].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[O],u.default.sources.USER),this.ignoreChange=!1;var A=m(C[O]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(x),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var w=this.stack.undo.pop();C=C.compose(w.undo),O=w.redo.compose(O)}else this.lastRecorded=A;this.stack.undo.push({redo:O,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(_){var b=_.ops[_.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith("\n"):b.attributes!=null?Object.keys(b.attributes).some(function(S){return s.default.query(S,s.default.Scope.BLOCK)!=null}):!1}function m(_){var b=_.reduce(function(O,x){return O+=x.delete||0,O},0),S=_.length()-b;return y(_)&&(S-=1),S}n.default=g,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function N(B,z){for(var H=0;H<z.length;H++){var D=z[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,z,H){return z&&N(B.prototype,z),H&&N(B,H),B}}(),o=function N(B,z,H){B===null&&(B=Function.prototype);var D=Object.getOwnPropertyDescriptor(B,z);if(D===void 0){var G=Object.getPrototypeOf(B);return G===null?void 0:N(G,z,H)}else{if("value"in D)return D.value;var q=D.get;return q===void 0?void 0:q.call(H)}},s=i(3),l=A(s),u=i(2),c=A(u),f=i(8),d=A(f),p=i(23),v=A(p),h=i(34),g=A(h),y=i(59),m=A(y),_=i(60),b=A(_),S=i(28),O=A(S),x=i(61),C=A(x);function A(N){return N&&N.__esModule?N:{default:N}}function w(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function k(N,B){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:N}function E(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(N,B):N.__proto__=B)}var I=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],M=["1","2","3",!1],R=["small",!1,"large","huge"],U=function(N){E(B,N);function B(z,H){w(this,B);var D=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,H)),G=function q(Y){if(!document.body.contains(z.root))return document.body.removeEventListener("click",q);D.tooltip!=null&&!D.tooltip.root.contains(Y.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(K){K.container.contains(Y.target)||K.close()})};return z.emitter.listenDOM("click",document.body,G),D}return a(B,[{key:"addModule",value:function(H){var D=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(H,D){H.forEach(function(G){var q=G.getAttribute("class")||"";q.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),D[Y]!=null))if(Y==="direction")G.innerHTML=D[Y][""]+D[Y].rtl;else if(typeof D[Y]=="string")G.innerHTML=D[Y];else{var K=G.value||"";K!=null&&D[Y][K]&&(G.innerHTML=D[Y][K])}})})}},{key:"buildPickers",value:function(H,D){var G=this;this.pickers=H.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&F(Y,I),new b.default(Y,D.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var K=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&F(Y,j,K==="background"?"#ffffff":"#000000"),new m.default(Y,D[K])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?F(Y,L):Y.classList.contains("ql-header")?F(Y,M):Y.classList.contains("ql-size")&&F(Y,R)),new O.default(Y)});var q=function(){G.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,q)}}]),B}(g.default);U.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var H=new FileReader;H.onload=function(D){var G=B.quill.getSelection(!0);B.quill.updateContents(new c.default().retain(G.index).delete(G.length).insert({image:D.target.result}),d.default.sources.USER),B.quill.setSelection(G.index+1,d.default.sources.SILENT),z.value=""},H.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var V=function(N){E(B,N);function B(z,H){w(this,B);var D=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,H));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return a(B,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(D){v.default.match(D,"enter")?(H.save(),D.preventDefault()):v.default.match(D,"escape")&&(H.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,d.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":H=$(H);case"formula":{if(!H)break;var G=this.quill.getSelection(!0);if(G!=null){var q=G.index+G.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),H,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",d.default.sources.USER),this.quill.setSelection(q+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(C.default);function $(N){var B=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":N}function F(N,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(H){var D=document.createElement("option");H===z?D.setAttribute("selected","selected"):D.setAttribute("value",H),N.appendChild(D)})}n.BaseTooltip=V,n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||l&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),f=c[0],d=c[1],p,v=s-d,h=this.iterator(f);(p=h())&&v<s+l;){var g=p.length();s>v?u(p,s-v,Math.min(l,v+g-s)):u(p,0,Math.min(g,s+l-v)),v+=g}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(h){v.update(h)}),v.observer.observe(v.domNode,l),v.attach(),v}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(h){h.remove()}):f.prototype.deleteAt.call(this,p,v)},d.prototype.formatAt=function(p,v,h,g){this.update(),f.prototype.formatAt.call(this,p,v,h,g)},d.prototype.insertAt=function(p,v,h){this.update(),f.prototype.insertAt.call(this,p,v,h)},d.prototype.optimize=function(p,v){var h=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(S,O){O===void 0&&(O=!0),!(S==null||S===h)&&S.domNode.parentNode!=null&&(S.domNode[s.DATA_KEY].mutations==null&&(S.domNode[s.DATA_KEY].mutations=[]),O&&y(S.parent))},m=function(S){S.domNode[s.DATA_KEY]==null||S.domNode[s.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(m),S.optimize(v))},_=p,b=0;_.length>0;b+=1){if(b>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(S){var O=s.find(S.target,!0);O!=null&&(O.domNode===S.target&&(S.type==="childList"?(y(s.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(x){var C=s.find(x,!1);y(C,!1),C instanceof o.default&&C.children.forEach(function(A){y(A,!1)})})):S.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(m),_=[].slice.call(this.observer.takeRecords()),g=_.slice();g.length>0;)p.push(g.pop())}},d.prototype.update=function(p,v){var h=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=s.find(g.target,!0);return y==null?null:y.domNode[s.DATA_KEY].mutations==null?(y.domNode[s.DATA_KEY].mutations=[g],y):(y.domNode[s.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===h||g.domNode[s.DATA_KEY]==null||g.update(g.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(p,v)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){c(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){a(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,p){var v=this;d===this.statics.blotName&&!p?(this.children.forEach(function(h){h instanceof o.default||(h=h.wrap(f.blotName,!0)),v.attributes.copy(h)}),this.unwrap()):c.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,v,h){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var g=this.isolate(d,p);g.format(v,h)}else c.prototype.formatAt.call(this,d,p,v,h)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,p,v){s.query(p,s.Scope.BLOCK)!=null?this.format(p,v):u.prototype.formatAt.call(this,f,d,p,v)},c.prototype.insertAt=function(f,d,p){if(p==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,p);else{var v=this.split(f),h=s.create(d,p);v.parent.insertBefore(h,v)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,p){c===0&&f===this.length()?this.format(d,p):l.prototype.formatAt.call(this,c,f,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=s},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=s.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,d){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,p=0;p<c;p++)if(d=u[p],l.call(f,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function s(b,S,O){if(b==S)return b?[[o,b]]:[];(O<0||b.length<O)&&(O=null);var x=f(b,S),C=b.substring(0,x);b=b.substring(x),S=S.substring(x),x=d(b,S);var A=b.substring(b.length-x);b=b.substring(0,b.length-x),S=S.substring(0,S.length-x);var w=l(b,S);return C&&w.unshift([o,C]),A&&w.push([o,A]),v(w),O!=null&&(w=y(w,O)),w=m(w),w}function l(b,S){var O;if(!b)return[[a,S]];if(!S)return[[i,b]];var x=b.length>S.length?b:S,C=b.length>S.length?S:b,A=x.indexOf(C);if(A!=-1)return O=[[a,x.substring(0,A)],[o,C],[a,x.substring(A+C.length)]],b.length>S.length&&(O[0][0]=O[2][0]=i),O;if(C.length==1)return[[i,b],[a,S]];var w=p(b,S);if(w){var k=w[0],E=w[1],I=w[2],j=w[3],L=w[4],M=s(k,I),R=s(E,j);return M.concat([[o,L]],R)}return u(b,S)}function u(b,S){for(var O=b.length,x=S.length,C=Math.ceil((O+x)/2),A=C,w=2*C,k=new Array(w),E=new Array(w),I=0;I<w;I++)k[I]=-1,E[I]=-1;k[A+1]=0,E[A+1]=0;for(var j=O-x,L=j%2!=0,M=0,R=0,U=0,V=0,$=0;$<C;$++){for(var F=-$+M;F<=$-R;F+=2){var N=A+F,B;F==-$||F!=$&&k[N-1]<k[N+1]?B=k[N+1]:B=k[N-1]+1;for(var z=B-F;B<O&&z<x&&b.charAt(B)==S.charAt(z);)B++,z++;if(k[N]=B,B>O)R+=2;else if(z>x)M+=2;else if(L){var H=A+j-F;if(H>=0&&H<w&&E[H]!=-1){var D=O-E[H];if(B>=D)return c(b,S,B,z)}}}for(var G=-$+U;G<=$-V;G+=2){var H=A+G,D;G==-$||G!=$&&E[H-1]<E[H+1]?D=E[H+1]:D=E[H-1]+1;for(var q=D-G;D<O&&q<x&&b.charAt(O-D-1)==S.charAt(x-q-1);)D++,q++;if(E[H]=D,D>O)V+=2;else if(q>x)U+=2;else if(!L){var N=A+j-G;if(N>=0&&N<w&&k[N]!=-1){var B=k[N],z=A+B-N;if(D=O-D,B>=D)return c(b,S,B,z)}}}}return[[i,b],[a,S]]}function c(b,S,O,x){var C=b.substring(0,O),A=S.substring(0,x),w=b.substring(O),k=S.substring(x),E=s(C,A),I=s(w,k);return E.concat(I)}function f(b,S){if(!b||!S||b.charAt(0)!=S.charAt(0))return 0;for(var O=0,x=Math.min(b.length,S.length),C=x,A=0;O<C;)b.substring(A,C)==S.substring(A,C)?(O=C,A=O):x=C,C=Math.floor((x-O)/2+O);return C}function d(b,S){if(!b||!S||b.charAt(b.length-1)!=S.charAt(S.length-1))return 0;for(var O=0,x=Math.min(b.length,S.length),C=x,A=0;O<C;)b.substring(b.length-C,b.length-A)==S.substring(S.length-C,S.length-A)?(O=C,A=O):x=C,C=Math.floor((x-O)/2+O);return C}function p(b,S){var O=b.length>S.length?b:S,x=b.length>S.length?S:b;if(O.length<4||x.length*2<O.length)return null;function C(R,U,V){for(var $=R.substring(V,V+Math.floor(R.length/4)),F=-1,N="",B,z,H,D;(F=U.indexOf($,F+1))!=-1;){var G=f(R.substring(V),U.substring(F)),q=d(R.substring(0,V),U.substring(0,F));N.length<q+G&&(N=U.substring(F-q,F)+U.substring(F,F+G),B=R.substring(0,V-q),z=R.substring(V+G),H=U.substring(0,F-q),D=U.substring(F+G))}return N.length*2>=R.length?[B,z,H,D,N]:null}var A=C(O,x,Math.ceil(O.length/4)),w=C(O,x,Math.ceil(O.length/2)),k;if(!A&&!w)return null;w?A?k=A[4].length>w[4].length?A:w:k=w:k=A;var E,I,j,L;b.length>S.length?(E=k[0],I=k[1],j=k[2],L=k[3]):(j=k[0],L=k[1],E=k[2],I=k[3]);var M=k[4];return[E,I,j,L,M]}function v(b){b.push([o,""]);for(var S=0,O=0,x=0,C="",A="",w;S<b.length;)switch(b[S][0]){case a:x++,A+=b[S][1],S++;break;case i:O++,C+=b[S][1],S++;break;case o:O+x>1?(O!==0&&x!==0&&(w=f(A,C),w!==0&&(S-O-x>0&&b[S-O-x-1][0]==o?b[S-O-x-1][1]+=A.substring(0,w):(b.splice(0,0,[o,A.substring(0,w)]),S++),A=A.substring(w),C=C.substring(w)),w=d(A,C),w!==0&&(b[S][1]=A.substring(A.length-w)+b[S][1],A=A.substring(0,A.length-w),C=C.substring(0,C.length-w))),O===0?b.splice(S-x,O+x,[a,A]):x===0?b.splice(S-O,O+x,[i,C]):b.splice(S-O-x,O+x,[i,C],[a,A]),S=S-O-x+(O?1:0)+(x?1:0)+1):S!==0&&b[S-1][0]==o?(b[S-1][1]+=b[S][1],b.splice(S,1)):S++,x=0,O=0,C="",A="";break}b[b.length-1][1]===""&&b.pop();var k=!1;for(S=1;S<b.length-1;)b[S-1][0]==o&&b[S+1][0]==o&&(b[S][1].substring(b[S][1].length-b[S-1][1].length)==b[S-1][1]?(b[S][1]=b[S-1][1]+b[S][1].substring(0,b[S][1].length-b[S-1][1].length),b[S+1][1]=b[S-1][1]+b[S+1][1],b.splice(S-1,1),k=!0):b[S][1].substring(0,b[S+1][1].length)==b[S+1][1]&&(b[S-1][1]+=b[S+1][1],b[S][1]=b[S][1].substring(b[S+1][1].length)+b[S+1][1],b.splice(S+1,1),k=!0)),S++;k&&v(b)}var h=s;h.INSERT=a,h.DELETE=i,h.EQUAL=o,r.exports=h;function g(b,S){if(S===0)return[o,b];for(var O=0,x=0;x<b.length;x++){var C=b[x];if(C[0]===i||C[0]===o){var A=O+C[1].length;if(S===A)return[x+1,b];if(S<A){b=b.slice();var w=S-O,k=[C[0],C[1].slice(0,w)],E=[C[0],C[1].slice(w)];return b.splice(x,1,k,E),[x+1,b]}else O=A}}throw new Error("cursor_pos is out of bounds!")}function y(b,S){var O=g(b,S),x=O[1],C=O[0],A=x[C],w=x[C+1];if(A==null)return b;if(A[0]!==o)return b;if(w!=null&&A[1]+w[1]===w[1]+A[1])return x.splice(C,2,w,A),_(x,C,2);if(w!=null&&w[1].indexOf(A[1])===0){x.splice(C,2,[w[0],A[1]],[0,A[1]]);var k=w[1].slice(A[1].length);return k.length>0&&x.splice(C+2,0,[w[0],k]),_(x,C,3)}else return b}function m(b){for(var S=!1,O=function(w){return w.charCodeAt(0)>=56320&&w.charCodeAt(0)<=57343},x=function(w){return w.charCodeAt(w.length-1)>=55296&&w.charCodeAt(w.length-1)<=56319},C=2;C<b.length;C+=1)b[C-2][0]===o&&x(b[C-2][1])&&b[C-1][0]===i&&O(b[C-1][1])&&b[C][0]===a&&O(b[C][1])&&(S=!0,b[C-1][1]=b[C-2][1].slice(-1)+b[C-1][1],b[C][1]=b[C-2][1].slice(-1)+b[C][1],b[C-2][1]=b[C-2][1].slice(0,-1));if(!S)return b;for(var A=[],C=0;C<b.length;C+=1)b[C][1].length>0&&A.push(b[C]);return A}function _(b,S,O){for(var x=S+O-1;x>=0&&x>=S-1;x--)if(x+1<b.length){var C=b[x],A=b[x+1];C[0]===A[1]&&b.splice(x,2,[C[0],C[1]+A[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=a?a+c:c,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,h=p.length,g=new Array(h);v<h;v++)g[v]=p[v].fn;return g},l.prototype.emit=function(c,f,d,p,v,h){var g=a?a+c:c;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,h),!0}for(b=1,_=new Array(m-1);b<m;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,O;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),m){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,p);break;default:if(!_)for(O=1,_=new Array(m-1);O<m;O++)_[O-1]=arguments[O];y[b].fn.apply(y[b].context,_)}}return!0},l.prototype.on=function(c,f,d){var p=new s(f,d||this),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,f,d){var p=new s(f,d||this,!0),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,p){var v=a?a+c:c;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var h=this._events[v];if(h.fn)h.fn===f&&(!p||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var g=0,y=[],m=h.length;g<m;g++)(h[g].fn!==f||p&&!h[g].once||d&&h[g].context!==d)&&y.push(h[g]);y.length?this._events[v]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=function(){function Q(re,de){var ve=[],ee=!0,me=!1,Oe=void 0;try{for(var we=re[Symbol.iterator](),Je;!(ee=(Je=we.next()).done)&&(ve.push(Je.value),!(de&&ve.length===de));ee=!0);}catch(at){me=!0,Oe=at}finally{try{!ee&&we.return&&we.return()}finally{if(me)throw Oe}}return ve}return function(re,de){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return Q(re,de);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function Q(re,de){for(var ve=0;ve<de.length;ve++){var ee=de[ve];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(re,ee.key,ee)}}return function(re,de,ve){return de&&Q(re.prototype,de),ve&&Q(re,ve),re}}(),l=i(3),u=E(l),c=i(2),f=E(c),d=i(0),p=E(d),v=i(5),h=E(v),g=i(10),y=E(g),m=i(9),_=E(m),b=i(36),S=i(37),O=i(13),x=E(O),C=i(26),A=i(38),w=i(39),k=i(40);function E(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q,re,de){return re in Q?Object.defineProperty(Q,re,{value:de,enumerable:!0,configurable:!0,writable:!0}):Q[re]=de,Q}function j(Q,re){if(!(Q instanceof re))throw new TypeError("Cannot call a class as a function")}function L(Q,re){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Q}function M(Q,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Q.prototype=Object.create(re&&re.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,re):Q.__proto__=re)}var R=(0,y.default)("quill:clipboard"),U="__ql-matcher",V=[[Node.TEXT_NODE,Se],[Node.TEXT_NODE,ue],["br",ie],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,pe],["li",oe],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",te]],$=[b.AlignAttribute,A.DirectionAttribute].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),F=[b.AlignStyle,S.BackgroundStyle,C.ColorStyle,A.DirectionStyle,w.FontStyle,k.SizeStyle].reduce(function(Q,re){return Q[re.keyName]=re,Q},{}),N=function(Q){M(re,Q);function re(de,ve){j(this,re);var ee=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,de,ve));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],V.concat(ee.options.matchers).forEach(function(me){var Oe=o(me,2),we=Oe[0],Je=Oe[1];!ve.matchVisual&&Je===fe||ee.addMatcher(we,Je)}),ee}return s(re,[{key:"addMatcher",value:function(ve,ee){this.matchers.push([ve,ee])}},{key:"convert",value:function(ve){if(typeof ve=="string")return this.container.innerHTML=ve.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[x.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new f.default().insert(me,I({},x.default.blotName,ee[x.default.blotName]))}var Oe=this.prepareMatching(),we=o(Oe,2),Je=we[0],at=we[1],ce=G(this.container,Je,at);return H(ce,"\n")&&ce.ops[ce.ops.length-1].attributes==null&&(ce=ce.compose(new f.default().retain(ce.length()-1).delete(1))),R.log("convert",this.container.innerHTML,ce),this.container.innerHTML="",ce}},{key:"dangerouslyPasteHTML",value:function(ve,ee){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof ve=="string")this.quill.setContents(this.convert(ve),ee),this.quill.setSelection(0,h.default.sources.SILENT);else{var Oe=this.convert(ee);this.quill.updateContents(new f.default().retain(ve).concat(Oe),me),this.quill.setSelection(ve+Oe.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(ve){var ee=this;if(!(ve.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),Oe=new f.default().retain(me.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){Oe=Oe.concat(ee.convert()).delete(me.length),ee.quill.updateContents(Oe,h.default.sources.USER),ee.quill.setSelection(Oe.length()-me.length,h.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=we,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ve=this,ee=[],me=[];return this.matchers.forEach(function(Oe){var we=o(Oe,2),Je=we[0],at=we[1];switch(Je){case Node.TEXT_NODE:me.push(at);break;case Node.ELEMENT_NODE:ee.push(at);break;default:[].forEach.call(ve.container.querySelectorAll(Je),function(ce){ce[U]=ce[U]||[],ce[U].push(at)});break}}),[ee,me]}}]),re}(_.default);N.DEFAULTS={matchers:[],matchVisual:!0};function B(Q,re,de){return(typeof re>"u"?"undefined":a(re))==="object"?Object.keys(re).reduce(function(ve,ee){return B(ve,ee,re[ee])},Q):Q.reduce(function(ve,ee){return ee.attributes&&ee.attributes[re]?ve.push(ee):ve.insert(ee.insert,(0,u.default)({},I({},re,de),ee.attributes))},new f.default)}function z(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return Q[re]||(Q[re]=window.getComputedStyle(Q))}function H(Q,re){for(var de="",ve=Q.ops.length-1;ve>=0&&de.length<re.length;--ve){var ee=Q.ops[ve];if(typeof ee.insert!="string")break;de=ee.insert+de}return de.slice(-1*re.length)===re}function D(Q){if(Q.childNodes.length===0)return!1;var re=z(Q);return["block","list-item"].indexOf(re.display)>-1}function G(Q,re,de){return Q.nodeType===Q.TEXT_NODE?de.reduce(function(ve,ee){return ee(Q,ve)},new f.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(ve,ee){var me=G(ee,re,de);return ee.nodeType===Q.ELEMENT_NODE&&(me=re.reduce(function(Oe,we){return we(ee,Oe)},me),me=(ee[U]||[]).reduce(function(Oe,we){return we(ee,Oe)},me)),ve.concat(me)},new f.default):new f.default}function q(Q,re,de){return B(de,Q,!0)}function Y(Q,re){var de=p.default.Attributor.Attribute.keys(Q),ve=p.default.Attributor.Class.keys(Q),ee=p.default.Attributor.Style.keys(Q),me={};return de.concat(ve).concat(ee).forEach(function(Oe){var we=p.default.query(Oe,p.default.Scope.ATTRIBUTE);we!=null&&(me[we.attrName]=we.value(Q),me[we.attrName])||(we=$[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(me[we.attrName]=we.value(Q)||void 0),we=F[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(we=F[Oe],me[we.attrName]=we.value(Q)||void 0))}),Object.keys(me).length>0&&(re=B(re,me)),re}function K(Q,re){var de=p.default.query(Q);if(de==null)return re;if(de.prototype instanceof p.default.Embed){var ve={},ee=de.value(Q);ee!=null&&(ve[de.blotName]=ee,re=new f.default().insert(ve,de.formats(Q)))}else typeof de.formats=="function"&&(re=B(re,de.blotName,de.formats(Q)));return re}function ie(Q,re){return H(re,"\n")||re.insert("\n"),re}function te(){return new f.default}function oe(Q,re){var de=p.default.query(Q);if(de==null||de.blotName!=="list-item"||!H(re,"\n"))return re;for(var ve=-1,ee=Q.parentNode;!ee.classList.contains("ql-clipboard");)(p.default.query(ee)||{}).blotName==="list"&&(ve+=1),ee=ee.parentNode;return ve<=0?re:re.compose(new f.default().retain(re.length()-1).retain(1,{indent:ve}))}function ue(Q,re){return H(re,"\n")||(D(Q)||re.length()>0&&Q.nextSibling&&D(Q.nextSibling))&&re.insert("\n"),re}function fe(Q,re){if(D(Q)&&Q.nextElementSibling!=null&&!H(re,"\n\n")){var de=Q.offsetHeight+parseFloat(z(Q).marginTop)+parseFloat(z(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+de*1.5&&re.insert("\n")}return re}function pe(Q,re){var de={},ve=Q.style||{};return ve.fontStyle&&z(Q).fontStyle==="italic"&&(de.italic=!0),ve.fontWeight&&(z(Q).fontWeight.startsWith("bold")||parseInt(z(Q).fontWeight)>=700)&&(de.bold=!0),Object.keys(de).length>0&&(re=B(re,de)),parseFloat(ve.textIndent||0)>0&&(re=new f.default().insert("	").concat(re)),re}function Se(Q,re){var de=Q.data;if(Q.parentNode.tagName==="O:P")return re.insert(de.trim());if(de.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return re;if(!z(Q.parentNode).whiteSpace.startsWith("pre")){var ve=function(me,Oe){return Oe=Oe.replace(/[^\u00a0]/g,""),Oe.length<1&&me?" ":Oe};de=de.replace(/\r\n/g," ").replace(/\n/g," "),de=de.replace(/\s\s+/g,ve.bind(ve,!0)),(Q.previousSibling==null&&D(Q.parentNode)||Q.previousSibling!=null&&D(Q.previousSibling))&&(de=de.replace(/^\s+/,ve.bind(ve,!1))),(Q.nextSibling==null&&D(Q.parentNode)||Q.nextSibling!=null&&D(Q.nextSibling))&&(de=de.replace(/\s+$/,ve.bind(ve,!1)))}return re.insert(de)}n.default=N,n.matchAttributor=Y,n.matchBlot=K,n.matchNewline=ue,n.matchSpacing=fe,n.matchText=Se},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"optimize",value:function(y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(E,I){var j=[],L=!0,M=!1,R=void 0;try{for(var U=E[Symbol.iterator](),V;!(L=(V=U.next()).done)&&(j.push(V.value),!(I&&j.length===I));L=!0);}catch($){M=!0,R=$}finally{try{!L&&U.return&&U.return()}finally{if(M)throw R}}return j}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,I){for(var j=0;j<I.length;j++){var L=I[j];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,I,j){return I&&k(E.prototype,I),j&&k(E,j),E}}(),s=i(2),l=y(s),u=i(0),c=y(u),f=i(5),d=y(f),p=i(10),v=y(p),h=i(9),g=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function m(k,E,I){return E in k?Object.defineProperty(k,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[E]=I,k}function _(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function b(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function S(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var O=(0,v.default)("quill:toolbar"),x=function(k){S(E,k);function E(I,j){_(this,E);var L=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,j));if(Array.isArray(L.options.container)){var M=document.createElement("div");A(M,L.options.container),I.container.parentNode.insertBefore(M,I.container),L.container=M}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var R;return R=O.error("Container required for toolbar",L.options),b(L,R)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(U){L.addHandler(U,L.options.handlers[U])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(U){L.attach(U)}),L.quill.on(d.default.events.EDITOR_CHANGE,function(U,V){U===d.default.events.SELECTION_CHANGE&&L.update(V)}),L.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var U=L.quill.selection.getRange(),V=a(U,1),$=V[0];L.update($)}),L}return o(E,[{key:"addHandler",value:function(j,L){this.handlers[j]=L}},{key:"attach",value:function(j){var L=this,M=[].find.call(j.classList,function(U){return U.indexOf("ql-")===0});if(M){if(M=M.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[M]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[M]==null){O.warn("ignoring attaching to disabled format",M,j);return}if(c.default.query(M)==null){O.warn("ignoring attaching to nonexistent format",M,j);return}}var R=j.tagName==="SELECT"?"change":"click";j.addEventListener(R,function(U){var V=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var $=j.options[j.selectedIndex];$.hasAttribute("selected")?V=!1:V=$.value||!1}else j.classList.contains("ql-active")?V=!1:V=j.value||!j.hasAttribute("value"),U.preventDefault();L.quill.focus();var F=L.quill.selection.getRange(),N=a(F,1),B=N[0];if(L.handlers[M]!=null)L.handlers[M].call(L,V);else if(c.default.query(M).prototype instanceof c.default.Embed){if(V=prompt("Enter "+M),!V)return;L.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},M,V)),d.default.sources.USER)}else L.quill.format(M,V,d.default.sources.USER);L.update(B)}),this.controls.push([M,j])}}},{key:"update",value:function(j){var L=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(M){var R=a(M,2),U=R[0],V=R[1];if(V.tagName==="SELECT"){var $=void 0;if(j==null)$=null;else if(L[U]==null)$=V.querySelector("option[selected]");else if(!Array.isArray(L[U])){var F=L[U];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),$=V.querySelector('option[value="'+F+'"]')}$==null?(V.value="",V.selectedIndex=-1):$.selected=!0}else if(j==null)V.classList.remove("ql-active");else if(V.hasAttribute("value")){var N=L[U]===V.getAttribute("value")||L[U]!=null&&L[U].toString()===V.getAttribute("value")||L[U]==null&&!V.getAttribute("value");V.classList.toggle("ql-active",N)}else V.classList.toggle("ql-active",L[U]!=null)})}}]),E}(g.default);x.DEFAULTS={};function C(k,E,I){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+E),I!=null&&(j.value=I),k.appendChild(j)}function A(k,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(I){var j=document.createElement("span");j.classList.add("ql-formats"),I.forEach(function(L){if(typeof L=="string")C(j,L);else{var M=Object.keys(L)[0],R=L[M];Array.isArray(R)?w(j,M,R):C(j,M,R)}}),k.appendChild(j)})}function w(k,E,I){var j=document.createElement("select");j.classList.add("ql-"+E),I.forEach(function(L){var M=document.createElement("option");L!==!1?M.setAttribute("value",L):M.setAttribute("selected","selected"),j.appendChild(M)}),k.appendChild(j)}x.DEFAULTS={container:null,handlers:{clean:function(){var E=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(L){c.default.query(L,c.default.Scope.INLINE)!=null&&E.quill.format(L,!1)})}else this.quill.removeFormat(I,d.default.sources.USER)},direction:function(E){var I=this.quill.getFormat().align;E==="rtl"&&I==null?this.quill.format("align","right",d.default.sources.USER):!E&&I==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",E,d.default.sources.USER)},indent:function(E){var I=this.quill.getSelection(),j=this.quill.getFormat(I),L=parseInt(j.indent||0);if(E==="+1"||E==="-1"){var M=E==="+1"?1:-1;j.direction==="rtl"&&(M*=-1),this.quill.format("indent",L+M,d.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,d.default.sources.USER)},list:function(E){var I=this.quill.getSelection(),j=this.quill.getFormat(I);E==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",E,d.default.sources.USER)}}},n.default=x,n.addControls=A},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),m}return a(h,[{key:"buildItem",value:function(y){var m=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m);var _=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=b:_.style.fill=b)}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=y[_.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return a(h,[{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var f=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),h=0;if(v.right>p.right&&(h=p.right-v.right,this.root.style.left=f+h+"px"),v.left<p.left&&(h=p.left-v.left,this.root.style.left=f+h+"px"),v.bottom>p.bottom){var g=v.bottom-v.top,y=c.bottom-c.top+g;this.root.style.top=d-y+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(k,E){var I=[],j=!0,L=!1,M=void 0;try{for(var R=k[Symbol.iterator](),U;!(j=(U=R.next()).done)&&(I.push(U.value),!(E&&I.length===E));j=!0);}catch(V){L=!0,M=V}finally{try{!j&&R.return&&R.return()}finally{if(L)throw M}}return I}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function w(k,E,I){k===null&&(k=Function.prototype);var j=Object.getOwnPropertyDescriptor(k,E);if(j===void 0){var L=Object.getPrototypeOf(k);return L===null?void 0:w(L,E,I)}else{if("value"in j)return j.value;var M=j.get;return M===void 0?void 0:M.call(I)}},s=function(){function w(k,E){for(var I=0;I<E.length;I++){var j=E[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(k,E,I){return E&&w(k.prototype,E),I&&w(k,I),k}}(),l=i(3),u=_(l),c=i(8),f=_(c),d=i(43),p=_(d),v=i(27),h=_(v),g=i(15),y=i(41),m=_(y);function _(w){return w&&w.__esModule?w:{default:w}}function b(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function S(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function O(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(w){O(k,w);function k(E,I){b(this,k),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=x);var j=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,I));return j.quill.container.classList.add("ql-snow"),j}return s(k,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),m.default),this.tooltip=new A(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,L){I.handlers.link.call(I,!L.format.link)})}}]),k}(p.default);C.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var E=this.quill.getSelection();if(E==null||E.length==0)return;var I=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var j=this.quill.theme.tooltip;j.edit("link",I)}else this.quill.format("link",!1)}}}}});var A=function(w){O(k,w);function k(E,I){b(this,k);var j=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,I));return j.preview=j.root.querySelector("a.ql-preview"),j}return s(k,[{key:"listen",value:function(){var I=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(I.linkRange!=null){var L=I.linkRange;I.restoreFocus(),I.quill.formatText(L,"link",!1,f.default.sources.USER),delete I.linkRange}j.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(j,L,M){if(j!=null){if(j.length===0&&M===f.default.sources.USER){var R=I.quill.scroll.descendant(h.default,j.index),U=a(R,2),V=U[0],$=U[1];if(V!=null){I.linkRange=new g.Range(j.index-$,V.length());var F=h.default.formats(V.domNode);I.preview.textContent=F,I.preview.setAttribute("href",F),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=ee(a),s=i(36),l=i(38),u=i(64),c=i(65),f=ee(c),d=i(66),p=ee(d),v=i(67),h=ee(v),g=i(37),y=i(26),m=i(39),_=i(40),b=i(56),S=ee(b),O=i(68),x=ee(O),C=i(27),A=ee(C),w=i(69),k=ee(w),E=i(70),I=ee(E),j=i(71),L=ee(j),M=i(72),R=ee(M),U=i(73),V=ee(U),$=i(13),F=ee($),N=i(74),B=ee(N),z=i(75),H=ee(z),D=i(57),G=ee(D),q=i(41),Y=ee(q),K=i(28),ie=ee(K),te=i(59),oe=ee(te),ue=i(60),fe=ee(ue),pe=i(61),Se=ee(pe),Q=i(108),re=ee(Q),de=i(62),ve=ee(de);function ee(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":F.default,"formats/header":p.default,"formats/list":h.default,"formats/bold":S.default,"formats/code":$.Code,"formats/italic":x.default,"formats/link":A.default,"formats/script":k.default,"formats/strike":I.default,"formats/underline":L.default,"formats/image":R.default,"formats/video":V.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":H.default,"modules/toolbar":G.default,"themes/bubble":re.default,"themes/snow":ve.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":fe.default,"ui/color-picker":oe.default,"ui/tooltip":Se.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(0),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"add",value:function(m,_){if(_==="+1"||_==="-1"){var b=this.value(m)||0;_=_==="+1"?b+1:b-1}return _===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,_)}},{key:"canAdd",value:function(m,_){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,_)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(_))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(v,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,g){return h&&p(v.prototype,h),g&&p(v,g),v}}(),o=i(4),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){f(v,p);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),v}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function b(S,O){for(var x=0;x<O.length;x++){var C=O[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,O,x){return O&&b(S.prototype,O),x&&b(S,x),S}}(),o=function b(S,O,x){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,O);if(C===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:b(A,O,x)}else{if("value"in C)return C.value;var w=C.get;return w===void 0?void 0:w.call(x)}},s=i(0),l=p(s),u=i(4),c=p(u),f=i(25),d=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function v(b,S,O){return S in b?Object.defineProperty(b,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[S]=O,b}function h(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function g(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function y(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var m=function(b){y(S,b);function S(){return h(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"format",value:function(x,C){x===_.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,x,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,C){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,C),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x,C))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,x)}}]),S}(c.default);m.blotName="list-item",m.tagName="LI";var _=function(b){y(S,b),a(S,null,[{key:"create",value:function(x){var C=x==="ordered"?"OL":"UL",A=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,C);return(x==="checked"||x==="unchecked")&&A.setAttribute("data-checked",x==="checked"),A}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(O){h(this,S);var x=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O)),C=function(w){if(w.target.parentNode===O){var k=x.statics.formats(O),E=l.default.find(w.target);k==="checked"?E.format("list","unchecked"):k==="unchecked"&&E.format("list","checked")}};return O.addEventListener("touchstart",C),O.addEventListener("mousedown",C),x}return a(S,[{key:"format",value:function(x,C){this.children.length>0&&this.children.tail.format(x,C)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,C){if(x instanceof m)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,x,C);else{var A=C==null?this.length():C.offset(this),w=this.split(A);w.parent.insertBefore(x,w)}}},{key:"optimize",value:function(x){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,x);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);x.moveChildren(C),this.appendChild(C)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,x)}}]),S}(d.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[m],n.ListItem=m,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),h}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=c(s),u=i(27);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["alt","height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return typeof _=="string"&&b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(l.default.Embed);h.blotName="image",h.tagName="IMG",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(4),l=i(27),u=c(l);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=function _(b,S,O){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,S);if(x===void 0){var C=Object.getPrototypeOf(b);return C===null?void 0:_(C,S,O)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(O)}},s=i(35),l=p(s),u=i(5),c=p(u),f=i(9),d=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function g(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=function(_){g(b,_);function b(){return v(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(O){var x=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),b}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(_){g(b,_),a(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){v(this,b);var S=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return b}(d.default);n.FormulaBlot=y,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(x,C){for(var A=0;A<C.length;A++){var w=C[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,C,A){return C&&O(x.prototype,C),A&&O(x,A),x}}(),o=function O(x,C,A){x===null&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,C);if(w===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:O(k,C,A)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(A)}},s=i(0),l=h(s),u=i(5),c=h(u),f=i(9),d=h(f),p=i(13),v=h(p);function h(O){return O&&O.__esModule?O:{default:O}}function g(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function y(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function m(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=function(O){m(x,O);function x(){return g(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var w=this.domNode.textContent;this.cachedText!==w&&((w.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(w),this.domNode.normalize(),this.attach()),this.cachedText=w)}}]),x}(v.default);_.className="ql-syntax";var b=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(O){m(x,O),a(x,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(_,!0)}}]);function x(C,A){g(this,x);var w=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,C,A));if(typeof w.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return w.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){w.highlight(),k=null},w.options.interval)}),w.highlight(),w}return a(x,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var w=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(A.options.highlight)}),this.quill.update(c.default.sources.SILENT),w!=null&&this.quill.setSelection(w,c.default.sources.SILENT)}}}]),x}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=b,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function x(C,A,w){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,A);if(k===void 0){var E=Object.getPrototypeOf(C);return E===null?void 0:x(E,A,w)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(w)}},o=function(){function x(C,A){for(var w=0;w<A.length;w++){var k=A[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,A,w){return A&&x(C.prototype,A),w&&x(C,w),C}}(),s=i(3),l=g(s),u=i(8),c=g(u),f=i(43),d=g(f),p=i(15),v=i(41),h=g(v);function g(x){return x&&x.__esModule?x:{default:x}}function y(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function m(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function _(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(x){_(C,x);function C(A,w){y(this,C),w.modules.toolbar!=null&&w.modules.toolbar.container==null&&(w.modules.toolbar.container=b);var k=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,w));return k.quill.container.classList.add("ql-bubble"),k}return o(C,[{key:"extendToolbar",value:function(w){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(w.container),this.buildButtons([].slice.call(w.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(w.container.querySelectorAll("select")),h.default)}}]),C}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){_(C,x);function C(A,w){y(this,C);var k=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,w));return k.quill.on(c.default.events.EDITOR_CHANGE,function(E,I,j,L){if(E===c.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&L===c.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var M=k.quill.getLines(I.index,I.length);if(M.length===1)k.position(k.quill.getBounds(I));else{var R=M[M.length-1],U=k.quill.getIndex(R),V=Math.min(R.length()-1,I.index+I.length-U),$=k.quill.getBounds(new p.Range(U,V));k.position($)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return o(C,[{key:"listen",value:function(){var w=this;a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){w.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!w.root.classList.contains("ql-hidden")){var k=w.quill.getSelection();k!=null&&w.position(w.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(w){var k=a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,w),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",k===0)return k;E.style.marginLeft=-1*k-E.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(KE);var JE=KE.exports;const uo=tn(JE);var sB=kn&&kn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sd=kn&&kn.__assign||function(){return Sd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sd.apply(this,arguments)},lB=kn&&kn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},Sp=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ra=Sp(J),uB=Sp(UF),Cu=Sp(oB),P1=Sp(JE),cB=function(t){sB(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,s,l){var u,c,f,d;a==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((d=(f=n).onEditorChangeSelection)===null||d===void 0||d.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(ra.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ra.default.Children.count(r.children)){var i=ra.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),s=(a=r.value,a!=null?a:"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),lB(this.cleanProps,this.dirtyProps).some(function(l){return!Cu.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Cu.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),j1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new P1.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Cu.default(r.ops,n.ops):Cu.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),j1(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=uB.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){r.editingArea=l}};return ra.default.Children.count(i)?ra.default.cloneElement(ra.default.Children.only(i),s):a?ra.default.createElement("pre",Sd({},s)):ra.default.createElement("div",Sd({},s))},e.prototype.render=function(){var r;return ra.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,s,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&r,p=f&&!r;Cu.default(r,f)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),d?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=P1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(ra.default.Component);function j1(t){Promise.resolve().then(t)}var Op=cB;const fB=tn(Op);function L1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(r),!0).forEach(function(n){qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function QE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZE(n.key),n)}}function XE(t,e,r){return e&&R1(t.prototype,e),r&&R1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qv(t,e,r){return e=ZE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function dB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},go(t)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hv(t,e)}function pB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zv(t)}function vB(t){var e=pB();return function(){var n=go(t),i;if(e){var a=go(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hB(this,i)}}function gB(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=go(t),t!==null););return t}function ml(){return typeof Reflect<"u"&&Reflect.get?ml=Reflect.get.bind():ml=function(e,r,n){var i=gB(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ml.apply(this,arguments)}function mB(t,e){if(t){if(typeof t=="string")return $1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(t,e)}}function $1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yB(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=mB(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function bB(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t){var e=bB(t,"string");return typeof e=="symbol"?e:String(e)}var Aa={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function _B(t,e,r){var n=t;return Object.keys(e).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=e[i]:delete n.dataset[i]}),n}function N1(t,e){e!==null&&(Bv(e)==="object"?t.appendChild(e):t.innerText=e)}function SB(t,e,r,n){return e.reduce(function(i,a){var o;if(r&&n){var s=new RegExp("^".concat(a,"|\\s").concat(a),"g"),l=(t.match(s)||[]).pop();if(!l)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};o=l!==a?t.lastIndexOf(l)+l.length-a.length:0}else o=t.lastIndexOf(a);return o>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:o}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function OB(t,e){return e.test(t)}function xB(t,e,r,n){if(t===-1)return!1;if(!r)return!0;var i=t?e[t-1]:n;return!i||!!i.match(/\s/)}var wB=uo.import("blots/embed"),xp=function(t){dB(r,t);var e=vB(r);function r(n,i){var a;return QE(this,r),a=e.call(this,n,i),qv(zv(a),"hoverHandler",void 0),qv(zv(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return XE(r,[{key:"attach",value:function(){ml(go(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){ml(go(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-clicked",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-hovered",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var o=new Event(i,{bubbles:!0,cancelable:!0});return o.value=Od({},this.domNode.dataset),o.event=a,o}}],[{key:"create",value:function(i){var a=ml(go(r),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=i.denotationChar,a.appendChild(o),typeof this.render=="function"?a.appendChild(this.render(i)):a.innerText+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var o=i;return Object.keys(a).forEach(function(s){o.dataset[s]=a[s]}),o}},{key:"value",value:function(i){return i.dataset}}]),r}(wB);xp.blotName="mention";xp.tagName="span";xp.className="mention";uo.register("blots/mention",xp);var eC=function(){function t(e,r){var n=this;QE(this,t),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=e,this.options={source:null,renderItem:function(u){var c=u.value;return"".concat(c)},renderLoading:function(){return null},onSelect:function(u,c){c(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[Aa.ENTER]},Od(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",e.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),e.on("text-change",this.onTextChange.bind(this)),e.on("selection-change",this.onSelectionChange.bind(this)),e.container.addEventListener("paste",function(){setTimeout(function(){var l=e.getSelection();n.onSelectionChange(l)})}),e.keyboard.addBinding({key:Aa.TAB},this.selectHandler.bind(this)),e.keyboard.bindings[Aa.TAB].unshift(e.keyboard.bindings[Aa.TAB].pop());var a=yB(this.options.selectKeys),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;e.keyboard.addBinding({key:s},this.selectHandler.bind(this))}}catch(l){a.e(l)}finally{a.f()}e.keyboard.bindings[Aa.ENTER].unshift(e.keyboard.bindings[Aa.ENTER].pop()),e.keyboard.addBinding({key:Aa.ESCAPE},this.escapeHandler.bind(this)),e.keyboard.addBinding({key:Aa.UP},this.upHandler.bind(this)),e.keyboard.addBinding({key:Aa.DOWN},this.downHandler.bind(this))}return XE(t,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.mentionList.childNodes[this.itemIndex].dataset;n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var o=F1(F1({},this.options),i);o.showDenotationChar||(a.denotationChar="");var s;n?s=this.cursorPos:(s=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,uo.sources.USER));var l=this.quill.insertEmbed(s,o.blotName,a,uo.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(s+1," ",uo.sources.USER),this.quill.setSelection(s+2,uo.sources.USER)):this.quill.setSelection(s+1,uo.sources.USER),this.hideMentionList(),l}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",N1(n,this.options.renderLoading()),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerText="";for(var a=-1,o=0;o<n.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",n[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):a===-1&&(a=o),s.dataset.index=o;var l=this.options.renderItem(n[o],i);N1(s,l),n[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=r,this.mentionList.appendChild(_B(s,n[o],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=0;this.mentionContainer.style.right="".concat(l,"px")}else s+=i.left;if(this.containerRightIsNotVisible(s,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,c=n.width;s=c-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(a+this.options.offsetTop):o=i.top-(a+this.options.offsetTop),o+n.top<=0){var f=this.options.offsetTop;this.options.fixMentionsToQuill?f+=n.height:f+=i.bottom,o=f}}else if(this.options.fixMentionsToQuill?o+=n.height:o+=i.bottom,this.containerBottomIsNotVisible(o,n)){var d=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(d+=i.top),o=d-a}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},o=this.options.fixMentionsToQuill?n:a,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=o.right;this.mentionContainer.style.right="".concat(u,"px")}else l+=o.left,l+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(l-=l+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var c=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,p=this.mentionContainer.offsetHeight<=c,v;this.options.defaultMenuOrientation==="top"&&p?v="top":this.options.defaultMenuOrientation==="bottom"&&d?v="bottom":v=f>c?"bottom":"top",v==="bottom"?(s=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-bottom")),r.mentionContainer.classList.remove("".concat(h,"-top"))})):(s=o.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=c-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-top")),r.mentionContainer.classList.remove("".concat(h,"-bottom"))})),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),o=a?this.quill.getText(a-1,a):"",s=SB(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),l=s.mentionChar,u=s.mentionCharIndex;if(xB(u,i,this.options.isolateCharacter,o)){var c=this.cursorPos-(i.length-u);this.mentionCharPos=c;var f=i.substring(u+l.length);if(f.length>=this.options.minChars&&OB(f,this.getAllowedCharsRegex(l))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var d={abandoned:!1};this.existingSourceExecutionToken=d,this.options.source(f,function(p,v){d.abandoned||(r.existingSourceExecutionToken=null,r.renderList(l,p,v))},l)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),t}();uo.register("modules/mention",eC);var va=-1,da=1,dn=0;function nc(t,e,r){if(t==e)return t?[[dn,t]]:[];(r<0||t.length<r)&&(r=null);var n=Sm(t,e),i=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=Om(t,e);var a=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var o=EB(t,e);return i&&o.unshift([dn,i]),a&&o.push([dn,a]),tC(o),r!=null&&(o=AB(o,r)),o=PB(o),o}function EB(t,e){var r;if(!t)return[[da,e]];if(!e)return[[va,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,a=n.indexOf(i);if(a!=-1)return r=[[da,n.substring(0,a)],[dn,i],[da,n.substring(a+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=va),r;if(i.length==1)return[[va,t],[da,e]];var o=TB(t,e);if(o){var s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=nc(s,u),p=nc(l,c);return d.concat([[dn,f]],p)}return CB(t,e)}function CB(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),a=i,o=2*i,s=new Array(o),l=new Array(o),u=0;u<o;u++)s[u]=-1,l[u]=-1;s[a+1]=0,l[a+1]=0;for(var c=r-n,f=c%2!=0,d=0,p=0,v=0,h=0,g=0;g<i;g++){for(var y=-g+d;y<=g-p;y+=2){var m=a+y,_;y==-g||y!=g&&s[m-1]<s[m+1]?_=s[m+1]:_=s[m-1]+1;for(var b=_-y;_<r&&b<n&&t.charAt(_)==e.charAt(b);)_++,b++;if(s[m]=_,_>r)p+=2;else if(b>n)d+=2;else if(f){var S=a+c-y;if(S>=0&&S<o&&l[S]!=-1){var O=r-l[S];if(_>=O)return D1(t,e,_,b)}}}for(var x=-g+v;x<=g-h;x+=2){var S=a+x,O;x==-g||x!=g&&l[S-1]<l[S+1]?O=l[S+1]:O=l[S-1]+1;for(var C=O-x;O<r&&C<n&&t.charAt(r-O-1)==e.charAt(n-C-1);)O++,C++;if(l[S]=O,O>r)h+=2;else if(C>n)v+=2;else if(!f){var m=a+c-x;if(m>=0&&m<o&&s[m]!=-1){var _=s[m],b=a+_-m;if(O=r-O,_>=O)return D1(t,e,_,b)}}}}return[[va,t],[da,e]]}function D1(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),o=t.substring(r),s=e.substring(n),l=nc(i,a),u=nc(o,s);return l.concat(u)}function Sm(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function Om(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function TB(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,v,h){for(var g=p.substring(h,h+Math.floor(p.length/4)),y=-1,m="",_,b,S,O;(y=v.indexOf(g,y+1))!=-1;){var x=Sm(p.substring(h),v.substring(y)),C=Om(p.substring(0,h),v.substring(0,y));m.length<C+x&&(m=v.substring(y-C,y)+v.substring(y,y+x),_=p.substring(0,h-C),b=p.substring(h+x),S=v.substring(0,y-C),O=v.substring(y+x))}return m.length*2>=p.length?[_,b,S,O,m]:null}var a=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var l,u,c,f;t.length>e.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var d=s[4];return[l,u,c,f,d]}function tC(t){t.push([dn,""]);for(var e=0,r=0,n=0,i="",a="",o;e<t.length;)switch(t[e][0]){case da:n++,a+=t[e][1],e++;break;case va:r++,i+=t[e][1],e++;break;case dn:r+n>1?(r!==0&&n!==0&&(o=Sm(a,i),o!==0&&(e-r-n>0&&t[e-r-n-1][0]==dn?t[e-r-n-1][1]+=a.substring(0,o):(t.splice(0,0,[dn,a.substring(0,o)]),e++),a=a.substring(o),i=i.substring(o)),o=Om(a,i),o!==0&&(t[e][1]=a.substring(a.length-o)+t[e][1],a=a.substring(0,a.length-o),i=i.substring(0,i.length-o))),r===0?t.splice(e-n,r+n,[da,a]):n===0?t.splice(e-r,r+n,[va,i]):t.splice(e-r-n,r+n,[va,i],[da,a]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==dn?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(e=1;e<t.length-1;)t[e-1][0]==dn&&t[e+1][0]==dn&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&tC(t)}var wp=nc;wp.INSERT=da;wp.DELETE=va;wp.EQUAL=dn;var kB=wp;function IB(t,e){if(e===0)return[dn,t];for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i[0]===va||i[0]===dn){var a=r+i[1].length;if(e===a)return[n+1,t];if(e<a){t=t.slice();var o=e-r,s=[i[0],i[1].slice(0,o)],l=[i[0],i[1].slice(o)];return t.splice(n,1,s,l),[n+1,t]}else r=a}}throw new Error("cursor_pos is out of bounds!")}function AB(t,e){var r=IB(t,e),n=r[1],i=r[0],a=n[i],o=n[i+1];if(a==null)return t;if(a[0]!==dn)return t;if(o!=null&&a[1]+o[1]===o[1]+a[1])return n.splice(i,2,o,a),M1(n,i,2);if(o!=null&&o[1].indexOf(a[1])===0){n.splice(i,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(i+2,0,[o[0],s]),M1(n,i,3)}else return t}function PB(t){for(var e=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},n=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},i=2;i<t.length;i+=1)t[i-2][0]===dn&&n(t[i-2][1])&&t[i-1][0]===va&&r(t[i-1][1])&&t[i][0]===da&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;for(var a=[],i=0;i<t.length;i+=1)t[i][1].length>0&&a.push(t[i]);return a}function M1(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var i=t[n],a=t[n+1];i[0]===a[1]&&t.splice(n,2,[i[0],i[1]+a[1]])}return t}var V1=Object.prototype.toString,rC=function(e){var r=V1.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&V1.call(e.callee)==="[object Function]"),n},Dh,B1;function jB(){if(B1)return Dh;B1=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=rC,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch(p){return!1}};t=function(p){var v=p!==null&&typeof p=="object",h=r.call(p)==="[object Function]",g=n(p),y=v&&r.call(p)==="[object String]",m=[];if(!v&&!h&&!g)throw new TypeError("Object.keys called on a non-object");var _=o&&h;if(y&&p.length>0&&!e.call(p,0))for(var b=0;b<p.length;++b)m.push(String(b));if(g&&p.length>0)for(var S=0;S<p.length;++S)m.push(String(S));else for(var O in p)!(_&&O==="prototype")&&e.call(p,O)&&m.push(String(O));if(a)for(var x=f(p),C=0;C<s.length;++C)!(x&&s[C]==="constructor")&&e.call(p,s[C])&&m.push(s[C]);return m}}return Dh=t,Dh}var LB=Array.prototype.slice,FB=rC,q1=Object.keys,rd=q1?function(e){return q1(e)}:jB(),H1=Object.keys;rd.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return FB(n)?H1(LB.call(n)):H1(n)})}else Object.keys=rd;return Object.keys||rd};var nC=rd,iC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},RB=iC,xm=function(){return RB()&&!!Symbol.toStringTag},$B=Error,NB=EvalError,DB=RangeError,MB=ReferenceError,aC=SyntaxError,Kl=TypeError,VB=URIError,z1=typeof Symbol<"u"&&Symbol,BB=iC,qB=function(){return typeof z1!="function"||typeof Symbol!="function"||typeof z1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:BB()},Mh={__proto__:null,foo:{}},HB=Object,zB=function(){return{__proto__:Mh}.foo===Mh.foo&&!(Mh instanceof HB)},UB="Function.prototype.bind called on incompatible ",WB=Object.prototype.toString,GB=Math.max,YB="[object Function]",U1=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},KB=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},JB=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},QB=function(e){var r=this;if(typeof r!="function"||WB.apply(r)!==YB)throw new TypeError(UB+r);for(var n=KB(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,U1(n,arguments));return Object(c)===c?c:this}return r.apply(e,U1(n,arguments))},o=GB(0,r.length-n.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+JB(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},XB=QB,wm=Function.prototype.bind||XB,ZB=Function.prototype.call,eq=Object.prototype.hasOwnProperty,tq=wm,rq=tq.call(ZB,eq),_t,nq=$B,iq=NB,aq=DB,oq=MB,El=aC,yl=Kl,sq=VB,oC=Function,Vh=function(t){try{return oC('"use strict"; return ('+t+").constructor;")()}catch(e){}},Xo=Object.getOwnPropertyDescriptor;if(Xo)try{Xo({},"")}catch(t){Xo=null}var Bh=function(){throw new yl},lq=Xo?function(){try{return arguments.callee,Bh}catch(t){try{return Xo(arguments,"callee").get}catch(e){return Bh}}}():Bh,js=qB(),uq=zB(),an=Object.getPrototypeOf||(uq?function(t){return t.__proto__}:null),Gs={},cq=typeof Uint8Array>"u"||!an?_t:an(Uint8Array),Zo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_t:ArrayBuffer,"%ArrayIteratorPrototype%":js&&an?an([][Symbol.iterator]()):_t,"%AsyncFromSyncIteratorPrototype%":_t,"%AsyncFunction%":Gs,"%AsyncGenerator%":Gs,"%AsyncGeneratorFunction%":Gs,"%AsyncIteratorPrototype%":Gs,"%Atomics%":typeof Atomics>"u"?_t:Atomics,"%BigInt%":typeof BigInt>"u"?_t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":nq,"%eval%":eval,"%EvalError%":iq,"%Float32Array%":typeof Float32Array>"u"?_t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_t:FinalizationRegistry,"%Function%":oC,"%GeneratorFunction%":Gs,"%Int8Array%":typeof Int8Array>"u"?_t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":js&&an?an(an([][Symbol.iterator]())):_t,"%JSON%":typeof JSON=="object"?JSON:_t,"%Map%":typeof Map>"u"?_t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!js||!an?_t:an(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_t:Promise,"%Proxy%":typeof Proxy>"u"?_t:Proxy,"%RangeError%":aq,"%ReferenceError%":oq,"%Reflect%":typeof Reflect>"u"?_t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!js||!an?_t:an(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":js&&an?an(""[Symbol.iterator]()):_t,"%Symbol%":js?Symbol:_t,"%SyntaxError%":El,"%ThrowTypeError%":lq,"%TypedArray%":cq,"%TypeError%":yl,"%Uint8Array%":typeof Uint8Array>"u"?_t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_t:Uint32Array,"%URIError%":sq,"%WeakMap%":typeof WeakMap>"u"?_t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_t:WeakSet};if(an)try{null.error}catch(t){var fq=an(an(t));Zo["%Error.prototype%"]=fq}var dq=function t(e){var r;if(e==="%AsyncFunction%")r=Vh("async function () {}");else if(e==="%GeneratorFunction%")r=Vh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&an&&(r=an(i.prototype))}return Zo[e]=r,r},W1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ic=wm,xd=rq,pq=Ic.call(Function.call,Array.prototype.concat),hq=Ic.call(Function.apply,Array.prototype.splice),G1=Ic.call(Function.call,String.prototype.replace),wd=Ic.call(Function.call,String.prototype.slice),vq=Ic.call(Function.call,RegExp.prototype.exec),gq=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mq=/\\(\\)?/g,yq=function(e){var r=wd(e,0,1),n=wd(e,-1);if(r==="%"&&n!=="%")throw new El("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new El("invalid intrinsic syntax, expected opening `%`");var i=[];return G1(e,gq,function(a,o,s,l){i[i.length]=s?G1(l,mq,"$1"):o||a}),i},bq=function(e,r){var n=e,i;if(xd(W1,n)&&(i=W1[n],n="%"+i[0]+"%"),xd(Zo,n)){var a=Zo[n];if(a===Gs&&(a=dq(n)),typeof a>"u"&&!r)throw new yl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new El("intrinsic "+e+" does not exist!")},Ac=function(e,r){if(typeof e!="string"||e.length===0)throw new yl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new yl('"allowMissing" argument must be a boolean');if(vq(/^%?[^%]*%?$/,e)===null)throw new El("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=yq(e),i=n.length>0?n[0]:"",a=bq("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],hq(n,pq([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var d=n[c],p=wd(d,0,1),v=wd(d,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new El("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,o="%"+i+"%",xd(Zo,o))s=Zo[o];else if(s!=null){if(!(d in s)){if(!r)throw new yl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xo&&c+1>=n.length){var h=Xo(s,d);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?s=h.get:s=s[d]}else f=xd(s,d),s=s[d];f&&!l&&(Zo[o]=s)}}return s},sC={exports:{}},_q=Ac,nd=_q("%Object.defineProperty%",!0)||!1;if(nd)try{nd({},"a",{value:1})}catch(t){nd=!1}var Em=nd,Sq=Ac,id=Sq("%Object.getOwnPropertyDescriptor%",!0);if(id)try{id([],"length")}catch(t){id=null}var lC=id,Y1=Em,Oq=aC,Ls=Kl,K1=lC,Cm=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ls("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ls("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ls("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ls("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ls("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ls("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!K1&&K1(e,r);if(Y1)Y1(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Oq("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Uv=Em,uC=function(){return!!Uv};uC.hasArrayLengthDefineBug=function(){if(!Uv)return null;try{return Uv([],"length",{value:1}).length!==1}catch(e){return!0}};var Tm=uC,xq=Ac,J1=Cm,wq=Tm(),Q1=lC,X1=Kl,Eq=xq("%Math.floor%"),Cq=function(e,r){if(typeof e!="function")throw new X1("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Eq(r)!==r)throw new X1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&Q1){var o=Q1(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(wq?J1(e,"length",r,!0,!0):J1(e,"length",r)),e};(function(t){var e=wm,r=Ac,n=Cq,i=Kl,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),l=Em,u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return s(e,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(sC);var km=sC.exports,cC=Ac,fC=km,Tq=fC(cC("String.prototype.indexOf")),dC=function(e,r){var n=cC(e,!!r);return typeof n=="function"&&Tq(e,".prototype.")>-1?fC(n):n},kq=xm(),Iq=dC,Wv=Iq("Object.prototype.toString"),Ep=function(e){return kq&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Wv(e)==="[object Arguments]"},pC=function(e){return Ep(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Wv(e)!=="[object Array]"&&Wv(e.callee)==="[object Function]"},Aq=function(){return Ep(arguments)}();Ep.isLegacyArguments=pC;var Pq=Aq?Ep:pC,jq=nC,Lq=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Fq=Object.prototype.toString,Rq=Array.prototype.concat,Z1=Cm,$q=function(t){return typeof t=="function"&&Fq.call(t)==="[object Function]"},hC=Tm(),Nq=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!$q(n)||!n())return}hC?Z1(t,e,r,!0):Z1(t,e,r)},vC=function(t,e){var r=arguments.length>2?arguments[2]:{},n=jq(e);Lq&&(n=Rq.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Nq(t,n[i],e[n[i]],r[n[i]])};vC.supportsDescriptors=!!hC;var Pc=vC,e_=function(t){return t!==t},gC=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||e_(e)&&e_(r))},Dq=gC,mC=function(){return typeof Object.is=="function"?Object.is:Dq},Mq=mC,Vq=Pc,Bq=function(){var e=Mq();return Vq(Object,{is:e},{is:function(){return Object.is!==e}}),e},qq=Pc,Hq=km,zq=gC,yC=mC,Uq=Bq,bC=Hq(yC(),Object);qq(bC,{getPolyfill:yC,implementation:zq,shim:Uq});var Wq=bC,Gv=dC,_C=xm(),SC,OC,Yv,Kv;if(_C){SC=Gv("Object.prototype.hasOwnProperty"),OC=Gv("RegExp.prototype.exec"),Yv={};var qh=function(){throw Yv};Kv={toString:qh,valueOf:qh},typeof Symbol.toPrimitive=="symbol"&&(Kv[Symbol.toPrimitive]=qh)}var Gq=Gv("Object.prototype.toString"),Yq=Object.getOwnPropertyDescriptor,Kq="[object RegExp]",Jq=_C?function(e){if(!e||typeof e!="object")return!1;var r=Yq(e,"lastIndex"),n=r&&SC(r,"value");if(!n)return!1;try{OC(e,Kv)}catch(i){return i===Yv}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:Gq(e)===Kq},ic=function(){return typeof(function(){}).name=="string"},Wu=Object.getOwnPropertyDescriptor;if(Wu)try{Wu([],"length")}catch(t){Wu=null}ic.functionsHaveConfigurableNames=function(){if(!ic()||!Wu)return!1;var e=Wu(function(){},"name");return!!e&&!!e.configurable};var Qq=Function.prototype.bind;ic.boundFunctionsHaveNames=function(){return ic()&&typeof Qq=="function"&&(function(){}).bind().name!==""};var Xq=ic,t_=Cm,Zq=Tm(),e6=Xq.functionsHaveConfigurableNames(),t6=Kl,r6=function(e,r){if(typeof e!="function")throw new t6("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||e6)&&(Zq?t_(e,"name",r,!0,!0):t_(e,"name",r)),e},n6=r6,i6=Kl,a6=Object,xC=n6(function(){if(this==null||this!==a6(this))throw new i6("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),o6=xC,s6=Pc.supportsDescriptors,l6=Object.getOwnPropertyDescriptor,wC=function(){if(s6&&/a/mig.flags==="gim"){var e=l6(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),e.get.call(n),r==="dy")return e.get}}return o6},u6=Pc.supportsDescriptors,c6=wC,f6=Object.getOwnPropertyDescriptor,d6=Object.defineProperty,p6=TypeError,r_=Object.getPrototypeOf,h6=/a/,v6=function(){if(!u6||!r_)throw new p6("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=c6(),r=r_(h6),n=f6(r,"flags");return(!n||n.get!==e)&&d6(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},g6=Pc,m6=km,y6=xC,EC=wC,b6=v6,CC=m6(EC());g6(CC,{getPolyfill:EC,implementation:y6,shim:b6});var _6=CC,S6=Date.prototype.getDay,O6=function(e){try{return S6.call(e),!0}catch(r){return!1}},x6=Object.prototype.toString,w6="[object Date]",E6=xm(),C6=function(e){return typeof e!="object"||e===null?!1:E6?O6(e):x6.call(e)===w6},n_=nC,i_=Pq,a_=Wq,o_=Jq,s_=_6,l_=C6,u_=Date.prototype.getTime;function TC(t,e,r){var n=r||{};return(n.strict?a_(t,e):t===e)?!0:!t||!e||typeof t!="object"&&typeof e!="object"?n.strict?a_(t,e):t==e:T6(t,e,n)}function c_(t){return t==null}function f_(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function T6(t,e,r){var n,i;if(typeof t!=typeof e||c_(t)||c_(e)||t.prototype!==e.prototype||i_(t)!==i_(e))return!1;var a=o_(t),o=o_(e);if(a!==o)return!1;if(a||o)return t.source===e.source&&s_(t)===s_(e);if(l_(t)&&l_(e))return u_.call(t)===u_.call(e);var s=f_(t),l=f_(e);if(s!==l)return!1;if(s||l){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(typeof t!=typeof e)return!1;try{var u=n_(t),c=n_(e)}catch(f){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!TC(t[i],e[i],r))return!1;return!0}var kC=TC,ad=Object.prototype.hasOwnProperty,IC=Object.prototype.toString,d_=Object.defineProperty,p_=Object.getOwnPropertyDescriptor,h_=function(e){return typeof Array.isArray=="function"?Array.isArray(e):IC.call(e)==="[object Array]"},v_=function(e){if(!e||IC.call(e)!=="[object Object]")return!1;var r=ad.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&ad.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||ad.call(e,i)},g_=function(e,r){d_&&r.name==="__proto__"?d_(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},m_=function(e,r){if(r==="__proto__")if(ad.call(e,r)){if(p_)return p_(e,r).value}else return;return e[r]},AC=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=m_(s,r),i=m_(e,r),s!==i&&(c&&i&&(v_(i)||(a=h_(i)))?(a?(a=!1,o=n&&h_(n)?n:[]):o=n&&v_(n)?n:{},g_(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&g_(s,{name:r,newValue:i}));return s},k6=kC,I6=AC,Im={attributes:{compose:function(t,e,r){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var n=I6(!0,{},e);r||(n=Object.keys(n).reduce(function(a,o){return n[o]!=null&&(a[o]=n[o]),a},{}));for(var i in t)t[i]!==void 0&&e[i]===void 0&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return k6(t[i],e[i])||(n[i]=e[i]===void 0?null:e[i]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(typeof t!="object")return e;if(typeof e=="object"){if(!r)return e;var n=Object.keys(e).reduce(function(i,a){return t[a]===void 0&&(i[a]=e[a]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new vs(t)},length:function(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.insert=="string"?t.insert.length:1}};function vs(t){this.ops=t,this.index=0,this.offset=0}vs.prototype.hasNext=function(){return this.peekLength()<1/0};vs.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=Im.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}else return{retain:1/0}};vs.prototype.peek=function(){return this.ops[this.index]};vs.prototype.peekLength=function(){return this.ops[this.index]?Im.length(this.ops[this.index])-this.offset:1/0};vs.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};vs.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}else return[]};var A6=Im,Tf=kB,Am=kC,P6=AC,pn=A6,j6="\0",Gt=function(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};Gt.prototype.insert=function(t,e){var r={};return t.length===0?this:(r.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))};Gt.prototype.delete=function(t){return t<=0?this:this.push({delete:t})};Gt.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)};Gt.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=P6(!0,{},t),typeof r=="object"){if(typeof t.delete=="number"&&typeof r.delete=="number")return this.ops[e-1]={delete:r.delete+t.delete},this;if(typeof r.delete=="number"&&t.insert!=null&&(e-=1,r=this.ops[e-1],typeof r!="object"))return this.ops.unshift(t),this;if(Am(t.attributes,r.attributes)){if(typeof t.insert=="string"&&typeof r.insert=="string")return this.ops[e-1]={insert:r.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof r.retain=="number")return this.ops[e-1]={retain:r.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this};Gt.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this};Gt.prototype.filter=function(t){return this.ops.filter(t)};Gt.prototype.forEach=function(t){this.ops.forEach(t)};Gt.prototype.map=function(t){return this.ops.map(t)};Gt.prototype.partition=function(t){var e=[],r=[];return this.forEach(function(n){var i=t(n)?e:r;i.push(n)}),[e,r]};Gt.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};Gt.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+pn.length(e):e.delete?t-e.delete:t},0)};Gt.prototype.length=function(){return this.reduce(function(t,e){return t+pn.length(e)},0)};Gt.prototype.slice=function(t,e){t=t||0,typeof e!="number"&&(e=1/0);for(var r=[],n=pn.iterator(this.ops),i=0;i<e&&n.hasNext();){var a;i<t?a=n.next(t-i):(a=n.next(e-i),r.push(a)),i+=pn.length(a)}return new Gt(r)};Gt.prototype.compose=function(t){var e=pn.iterator(this.ops),r=pn.iterator(t.ops),n=[],i=r.peek();if(i!=null&&typeof i.retain=="number"&&i.attributes==null){for(var a=i.retain;e.peekType()==="insert"&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());i.retain-a>0&&r.next(i.retain-a)}for(var o=new Gt(n);e.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(e.peekType()==="delete")o.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),u=r.next(s);if(typeof u.retain=="number"){var c={};typeof l.retain=="number"?c.retain=s:c.insert=l.insert;var f=pn.attributes.compose(l.attributes,u.attributes,typeof l.retain=="number");if(f&&(c.attributes=f),o.push(c),!r.hasNext()&&Am(o.ops[o.ops.length-1],c)){var d=new Gt(e.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&typeof l.retain=="number"&&o.push(u)}return o.chop()};Gt.prototype.concat=function(t){var e=new Gt(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e};Gt.prototype.diff=function(t,e){if(this.ops===t.ops)return new Gt;var r=[this,t].map(function(s){return s.map(function(l){if(l.insert!=null)return typeof l.insert=="string"?l.insert:j6;var u=s===t?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),n=new Gt,i=Tf(r[0],r[1],e),a=pn.iterator(this.ops),o=pn.iterator(t.ops);return i.forEach(function(s){for(var l=s[1].length;l>0;){var u=0;switch(s[0]){case Tf.INSERT:u=Math.min(o.peekLength(),l),n.push(o.next(u));break;case Tf.DELETE:u=Math.min(l,a.peekLength()),a.next(u),n.delete(u);break;case Tf.EQUAL:u=Math.min(a.peekLength(),o.peekLength(),l);var c=a.next(u),f=o.next(u);Am(c.insert,f.insert)?n.retain(u,pn.attributes.diff(c.attributes,f.attributes)):n.push(f).delete(u);break}l-=u}}),n.chop()};Gt.prototype.eachLine=function(t,e){e=e||"\n";for(var r=pn.iterator(this.ops),n=new Gt,i=0;r.hasNext();){if(r.peekType()!=="insert")return;var a=r.peek(),o=pn.length(a)-r.peekLength(),s=typeof a.insert=="string"?a.insert.indexOf(e,o)-o:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(t(n,r.next(1).attributes||{},i)===!1)return;i+=1,n=new Gt}}n.length()>0&&t(n,{},i)};Gt.prototype.transform=function(t,e){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);for(var r=pn.iterator(this.ops),n=pn.iterator(t.ops),i=new Gt;r.hasNext()||n.hasNext();)if(r.peekType()==="insert"&&(e||n.peekType()!=="insert"))i.retain(pn.length(r.next()));else if(n.peekType()==="insert")i.push(n.next());else{var a=Math.min(r.peekLength(),n.peekLength()),o=r.next(a),s=n.next(a);if(o.delete)continue;s.delete?i.push(s):i.retain(a,pn.attributes.transform(o.attributes,s.attributes,e))}return i.chop()};Gt.prototype.transformPosition=function(t,e){e=!!e;for(var r=pn.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var i=r.peekLength(),a=r.peekType();if(r.next(),a==="delete"){t-=Math.min(i,t-n);continue}else a==="insert"&&(n<t||!e)&&(t+=i);n+=i}return t};var L6=Gt;const F6=tn(L6),R6=Op.Quill.import("modules/clipboard");class $6 extends R6{onPaste(e){e.preventDefault();const r=this.quill.getSelection(),n=e.clipboardData.getData("text/plain");n.split("\r\n").filter(function(s){return s});const i=new F6().retain(r.index).delete(r.length).insert(n),a=n.length+r.index,o=0;this.quill.updateContents(i,"silent"),this.quill.setSelection(a,o,"silent")}}const PC=(t,e)=>{let r=[];if(!t)return r;let n=t.find(i=>i.code===e);return n&&(n.parent&&jC(t,n).forEach(a=>{r=r.concat(y_(t,a))}),(Yi(n.code)||us(n.code))&&(r=r.concat(y_(t,n)))),r},jC=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(jC(t,n))),r},y_=(t,e)=>{let r=[];return!Yi(e.code)&&!us(e.code)||t.filter(i=>i.parent===e.parent&&i.maxIndex<e.minIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(i.code)===-1)).forEach(i=>{r=r.concat(i.code),r=r.concat(LC(t,i))}),r},LC=(t,e)=>{let r=[];return Yi(e.code)&&e.children&&e.children.forEach(n=>{let i=t.find(a=>a.code===n);r=r.concat(i.code),r=r.concat(LC(t,i))}),r},N6=(t,e,r,n)=>{let i=PC(t,e),a=[];return i.forEach(o=>{if(us(o)){const s=D6(o,r[o],r,n);s.length&&(a=a.concat(s))}}),a},D6=(t,e,r,n)=>{var s,l;const i=t+". "+ji((l=(s=e.content)==null?void 0:s[n])==null?void 0:l.label);let a="",o=e.type;switch(e.type){case"scq_icon_array":case"scq_array":return e.children.filter(u=>u.type=="row").map(u=>{var c,f;return{value:i+" - "+t+". "+ji((f=(c=r[u.qualifiedCode].content)==null?void 0:c[n])==null?void 0:f.label),id:t+u.code,type:"SCQ Array Row",instruction:t+u.code+".masked_value"}});case"text":o="Short Text",a="".concat(t,".value");break;case"nps":o="NPS",a="".concat(t,".value");break;case"email":o="Email",a="".concat(t,".value");break;case"paragraph":a="".concat(t,".value"),o="Long Text";break;case"number":o="Number",a="".concat(t,".value");break;case"date":o="Date",a="".concat(t,".masked_value");break;case"time":o="time",a="".concat(t,".masked_value");break;case"date_time":o="Date Time",a="".concat(t,".masked_value");break;case"scq":o="SCQ",a="".concat(t,".masked_value");break;case"icon_scq":o="Icon SCQ",a="".concat(t,".masked_value");break;case"image_scq":o="Image SCQ",a="".concat(t,".masked_value");break;case"mcq":o="MCQ",a="".concat(t,".masked_value");break;case"image_mcq":o="Image MCQ",a="".concat(t,".masked_value");break;case"icon_mcq":o="Icon MCQ",a="".concat(t,".masked_value");break;default:return[]}return[{id:t,instruction:a,value:i,type:o}]};Op.Quill.register("modules/mentions",eC);Op.Quill.register("modules/clipboard",$6,!0);function M6({value:t,onBlurListener:e,extended:r,isRtl:n,lang:i,code:a}){console.debug("DraftEditor for: "+a);const o=(b,S)=>S?"<p>"+b.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":b,s=P.createRef(),[l,u]=J.useState(o(t,!r)),[c,f]=J.useState(0);async function d(b){const S=wR.getState().designState,O=N6(S.componentIndex,a,S,S.langInfo.mainLang);if(b.length===0)return O;{const C=[];for(var x=0;x<O.length;x++)O[x].value.toLowerCase().indexOf(b.toLowerCase())>=0&&C.push(O[x]);return C}}J.useEffect(()=>{const b=s.current.getEditor();b.setSelection(b.getLength(),0)},[s.current]);const p=J.useMemo(()=>({mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(b,S){S({...b,value:"{{".concat(b.id,":").concat(b.type,"}}")})},source:async function(b,S){const O=await d(b);S(O)}},toolbar:{container:r?[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}}),[]),v=["size","bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"];let h=null;const g=()=>{f(Date.now()),h&&clearTimeout(h)},y=()=>{h=setTimeout(()=>{e(l,i)},500)},m=b=>{g(),u(o(b,!r))},_=b=>{b.target.tagName==="A"&&b.target.className=="ql-preview"&&(b.preventDefault(),window.open(b.target.href,"_blank"))};return T.jsx("div",{onClick:_,className:"quill-wrapper",onFocus:g,onBlur:y,children:T.jsx(fB,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:s,modules:p,formats:v,value:l,onChange:m})})}const V6=P.memo(M6);function B6({placeholder:t,extended:e,contentKey:r,code:n,editable:i}){var m,_,b;const a=wt(),o=ye(S=>S.designState[n].content),s=ye(S=>S.designState.langInfo);ye(S=>{var O;return n[0]=="G"?((O=S.designState[n].groupType)==null?void 0:O.toLowerCase())||"group":S.designState[n].type});const l=s.lang,u=s.mainLang,c=s.onMainLang,f=((m=o==null?void 0:o[l])==null?void 0:m[r])||"",d=c?t:Wb((_=o==null?void 0:o[u])==null?void 0:_[r])?(b=o==null?void 0:o[u])==null?void 0:b[r]:t,[p,v]=J.useState(!1),h=J.useCallback((S,O)=>{v(!1),l==O&&S!=f&&a(Wa({code:n,key:r,lang:l,value:S}))},[f]),g=S=>{S.preventDefault(),v(!0)},y=So.includes(l);return T.jsx(gt,{className:Fh.fullWidth,onClick:S=>{i&&g(S)},children:p?T.jsx(V6,{lang:l,isRtl:y,code:n,extended:e,onBlurListener:h,value:f}):Wb(f)?T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Fh.noPadding),dangerouslySetInnerHTML:{__html:f}}):T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(Fh.placeholder),dangerouslySetInnerHTML:{__html:d}})})}const Ed=P.memo(B6),q6="_errorDisplay_1joy4_1",H6="_clickable_1joy4_10",b_={errorDisplay:q6,clickable:H6};var Pm={},z6=$r;Object.defineProperty(Pm,"__esModule",{value:!0});var FC=Pm.default=void 0,U6=z6(Nr()),W6=T;FC=Pm.default=(0,U6.default)((0,W6.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");function G6(t){const{t:e}=cs("design"),r=wt(),i=_E([d=>d.designState[t.code]||{}],d=>{var v;const p=(v=d.instructionList)==null?void 0:v.filter(h=>{var g;return((g=h.errors)==null?void 0:g.length)>0});return{errors:d.errors,designErrors:d.designErrors,instructions:p!=null&&p.length?p:void 0}}),{errors:a,designErrors:o,instructions:s}=ye(i),l=(a==null?void 0:a.length)>0||(o==null?void 0:o.length)>0||(s==null?void 0:s.length)>0,u=ye(d=>{var p;return t.code=="Survey"?"":Yi(t.code)?((p=d.designState[t.code].groupType)==null?void 0:p.toLowerCase())||"group":d.designState[t.code].type}),c=d=>(d.code==="conditional_relevance"?r(Fi({code:t.code,rules:Na(u),highlighted:"relevance",expanded:["relevance"]})):d.code==="random_group"||d.code==="priority_groups"?t.code=="Survey"?r(Fi({...ER,highlighted:"random"})):r(Fi({code:t.code,rules:Na(u),highlighted:"random",expanded:["random"]})):d.code.startsWith("skip_to")&&r(Fi({code:t.code,rules:Na(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""),f=d=>d.code==="conditional_relevance"||d.code==="random_group"||d.code==="priority_groups"||d.code.startsWith("skip_to");return l?T.jsxs(gt,{className:b_.errorDisplay,children:[a&&a.map(d=>T.jsxs("div",{children:[T.jsx(Xn,{style:{verticalAlign:"middle"}}),Y6(t.code,d,e)]},d)),o&&o.map(d=>T.jsxs("div",{children:[T.jsx(Xn,{style:{verticalAlign:"middle"}}),d.message]},d.code)),s&&s.map(d=>T.jsxs("div",{className:f(d)?b_.clickable:"",onClick:()=>c(d),children:[T.jsx(FC,{style:{verticalAlign:"middle"}}),K6(d,e)]},d.code))]}):T.jsx(T.Fragment,{})}const Y6=(t,e,r)=>e==="EMPTY_PARENT"?r("err_empty_parent",{component_name:__(t,r),child_name:J6(t,r)}):e==="DUPLICATE_CODE"?(r("err_duplicate_code"),{component_name:__(t,r)}):e==="NO_END_GROUP"?r("err_no_end_group"):e==="MISPLACED_END_GROUP"?r("err_misplaced_end_group"):e==="MISPLACED_WELCOME_GROUP"?r("err_misplaced_welcome_group"):"",K6=(t,e)=>t.code==="value"&&t.errors[0].name=="InvalidInstructionInEndGroup"?e("err_value_in_end_group"):t.code==="conditional_relevance"?e("err_relevance"):t.code==="random_group"?e("err_random"):t.code==="priority_groups"?e("err_priority"):t.code.startsWith("reference")?T.jsx($i,{t:e,values:{codes:t.errors.map(r=>{var n;return(n=r.dependency)==null?void 0:n.componentCode}).join(", "),lang:t.lang},i18nKey:"err_reference"}):t.code.startsWith("skip_to")?e("err_skip"):"",__=(t,e)=>t=="Survey"?e("survey"):us(t)?e("question"):Yi(t)?e("group"):e("option"),J6=(t,e)=>Yi(t)?e("question"):t=="Survey"?e("group"):e("option"),RC=J.memo(G6),Q6="_actionControl_1xa5v_1",X6="_statusIcon_1xa5v_8",Z6="_questionContainer_1xa5v_12",e8="_actionIcon_1xa5v_16",t8="_settingIcon_1xa5v_17",r8="_deleteIcon_1xa5v_25",Fs={actionControl:Q6,statusIcon:X6,questionContainer:Z6,actionIcon:e8,settingIcon:t8,deleteIcon:r8};var jm={},n8=$r;Object.defineProperty(jm,"__esModule",{value:!0});var $C=jm.default=void 0,i8=n8(Nr()),a8=T;$C=jm.default=(0,i8.default)((0,a8.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var Lm={},o8=$r;Object.defineProperty(Lm,"__esModule",{value:!0});var Fm=Lm.default=void 0,s8=o8(Nr()),l8=T;Fm=Lm.default=(0,s8.default)((0,l8.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Rm={},u8=$r;Object.defineProperty(Rm,"__esModule",{value:!0});var Cd=Rm.default=void 0,c8=u8(Nr()),f8=T;Cd=Rm.default=(0,c8.default)((0,f8.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var $m={},d8=$r;Object.defineProperty($m,"__esModule",{value:!0});var NC=$m.default=void 0,p8=d8(Nr()),h8=T;NC=$m.default=(0,p8.default)((0,h8.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");function v8({code:t,isGroup:e,parentCode:r,disableDelete:n,onDelete:i,onClone:a,t:o}){const s=wt(),l=Ua(),u=ye(C=>{var A;return e?((A=C.designState[t].groupType)==null?void 0:A.toLowerCase())||"group":C.designState[t].type}),[c,f]=J.useState(!1),d=()=>f(!1),p=ye(C=>{var w,k;let A=(k=(w=C.designState[t])==null?void 0:w.instructionList)==null?void 0:k.find(E=>E.code=="conditional_relevance");return typeof A<"u"&&!A.errors}),v=ye(C=>{var A,w,k;return!e&&((k=(w=(A=C.designState[t])==null?void 0:A.instructionList)==null?void 0:w.filter(E=>E.code.startsWith("validation_")&&!E.errors))==null?void 0:k.length)>0}),h=()=>{s(Fi({code:t,rules:Na(u)}))},g=()=>{s(Fi({code:t,rules:Na(u),highlighted:"relevance",expanded:["relevance"]}))},y=()=>{s(Fi({code:t,rules:Na(u),highlighted:"validation",expanded:["validation"]}))},m=()=>{s(Fi({code:t,rules:Na(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},_=()=>{s(e?Fi({...surveySetup,highlighted:"random"}):Fi({code:r,rules:Na("group"),highlighted:"random",expanded:["random"]}))},b=l.textStyles.question.color,S=ye(C=>{var w,k,E;let A=(k=(w=C.designState[t])==null?void 0:w.instructionList)==null?void 0:k.filter(I=>I.code.startsWith("skip_to"));return((E=A==null?void 0:A.filter(I=>!I.errors))==null?void 0:E.length)>=1}),O=ye(C=>{var w;let A=(w=C.designState.componentIndex)==null?void 0:w.find(k=>k.code==t);return A&&A.minIndex!=A.maxIndex}),x=ye(C=>{var w,k;let A=(w=C.designState.componentIndex)==null?void 0:w.find(E=>E.code==t);return((k=A==null?void 0:A.prioritisedSiblings)==null?void 0:k.length)>0});return T.jsxs("div",{className:Fs.actionControl,onClick:C=>{C.target!==C.currentTarget&&(C.preventDefault(),C.stopPropagation())},children:[p&&T.jsx(Ou,{title:"Has show/Hide Condition",showIcon:!1,children:T.jsx(St,{className:Fs.statusIcon,onClick:()=>g(),children:T.jsx(a$,{style:{color:b}})})}),v&&T.jsx(Ou,{title:"Has Validation",showIcon:!1,children:T.jsx(St,{className:Fs.statusIcon,onClick:()=>y(),children:T.jsx($C,{style:{color:b}})})}),O&&T.jsx(Ou,{title:"Is part of a valid Random Group (within parent)",showIcon:!1,children:T.jsx(St,{className:Fs.statusIcon,onClick:()=>_(),children:T.jsx(Fm,{style:{color:b}})})}),x&&T.jsx(Ou,{title:"Is part of a valid Priority Group (within parent)",showIcon:!1,children:T.jsx(St,{className:Fs.statusIcon,onClick:()=>_(),children:T.jsx(Cd,{style:{color:b}})})}),S&&T.jsx(Ou,{title:"Has active Skip Logic",showIcon:!1,children:T.jsx(St,{className:Fs.statusIcon,onClick:()=>m(),children:T.jsx(NC,{style:{color:b}})})}),T.jsx(St,{onClick:()=>h(),children:T.jsx(td,{name:"settings",size:".75em",color:"".concat(b)})}),!e&&T.jsx(St,{onClick:()=>a(),children:T.jsx(td,{name:"duplicate",size:".75em",color:"".concat(b)})}),!n&&T.jsx(St,{onClick:()=>f(!0),disabled:n,children:T.jsx(td,{name:"delete",size:".75em",color:b})}),T.jsx(o$,{open:c,description:o("delete_question"),handleClose:d,handleDelete:i})]})}const DC=P.memo(v8),g8="_questionItem_1j3pq_1",m8={questionItem:g8};function y8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:m8.questionItem,children:T.jsx(Yt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o[n])==null?void 0:s.hint)||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size,"&.Mui-disabled":{color:e.textStyles.text.color,borderBottom:"1px solid"}}}})})}const b8=P.memo(y8),_8="_questionItem_15lac_1",S8={questionItem:_8};function O8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:S8.questionItem,children:T.jsx(Yt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o[n])==null?void 0:s.hint)||""),InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:""})})}const x8=P.memo(O8),w8="_questionItem_16yep_1",E8={questionItem:w8};function C8({code:t}){var i,a,o,s;const e=Pr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:E8.questionItem,children:T.jsx(Yt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o[n])==null?void 0:s.hint)||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const T8=P.memo(C8),k8="_questionItem_1t1zk_1",I8="_paragraph_1t1zk_12",A8="_wordCount_1t1zk_16",Hh={questionItem:k8,paragraph:I8,wordCount:A8};function P8({code:t,t:e}){var i,a,o,s;const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs("div",{className:Hh.questionItem,children:[T.jsx(CR,{disabled:!0,className:Hh.paragraph,required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),placeholder:r.showHint&&(((s=(o=r.content)==null?void 0:o[n])==null?void 0:s.hint)||""),minRows:r.minRows||2,value:""}),r.showWordCount?T.jsx("div",{className:Hh.wordCount,children:T.jsx("span",{children:e("word_count",{lng:n,count:0})})}):""]})}const j8=P.memo(P8),L8="_questionItem_5rwqc_1",F8={questionItem:L8};function R8({code:t}){var i,a,o;const e=Pr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:F8.questionItem,children:T.jsx(Yt,{variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o[n])?r.content[n].hint:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:"",type:"file",disabled:!0})})}const $8=P.memo(R8),N8="_questionItem_5rwqc_1",D8={questionItem:N8};function M8({code:t}){var i,a,o;const e=Pr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:D8.questionItem,children:T.jsx(Yt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o[n])?r.content[n].hint:"",value:"",InputProps:{sx:{fontFamily:e.textStyles.text,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},placeholder:r.dateFormat})})}const S_=P.memo(M8),V8="_questionItem_1gf7i_1",B8={questionItem:V8};function q8({code:t}){var i,a,o;const e=Pr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:B8.questionItem,children:T.jsx(Yt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o[n])?r.content[n].hint:"",value:"",type:"time",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const H8=P.memo(q8),z8="_noPadding_1ii70_1",U8="_addRow_1ii70_5",W8="_addColumn_1ii70_9",G8="_addIcon_1ii70_13",Y8="_svgContainer_1ii70_23",K8="_addButton_1ii70_31",Td={noPadding:z8,addRow:U8,addColumn:W8,addIcon:G8,svgContainer:Y8,addButton:K8};var Nm={},J8=$r;Object.defineProperty(Nm,"__esModule",{value:!0});var Io=Nm.default=void 0,Q8=J8(Nr()),X8=T;Io=Nm.default=(0,Q8.default)((0,X8.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");function Z8(t){const e=Pr(),r=t.t,n=ye(s=>s.designState.langInfo);n.lang,n.mainLang;const i=ye(s=>s.designState[t.code].children);ye(s=>{var l;return((l=s.designState.setup)==null?void 0:l.code)==t.code});const a=P.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="row"))||[],[i]),o=P.useMemo(()=>(i==null?void 0:i.filter(s=>s.type=="column"))||[],[i]);return T.jsxs(T.Fragment,{children:[yi(t.designMode)&&T.jsx("div",{className:Td.addColumn,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(OE,{children:T.jsxs(xE,{children:[T.jsx(wE,{children:T.jsxs(cp,{children:[yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),o.map((s,l)=>T.jsx(rH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,designMode:t.designMode,t:t.t,item:s,index:l},s.qualifiedCode)),yi(t.designMode)&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(EE,{children:a.map((s,l)=>T.jsx(tH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,designMode:t.designMode,item:s,colCount:o.length,index:l},s.qualifiedCode))})]})}),t.onMainLang&&T.jsx("div",{className:Td.addRow,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:s=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const eH=P.memo(Z8);function tH({item:t,index:e,colCount:r,designMode:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=wt(),l=Pr(),u=J.useRef(),c=a.lang===a.mainLang,f=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b[a.lang])==null?void 0:S.label}),d=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b[a.mainLang])==null?void 0:S.label}),p="col-".concat(o),[v,h,g]=Ga({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:_=>_.isDragging()},[e]),[{handlerId:y},m]=Ji({accept:p,collect(_){return{handlerId:_.getHandlerId()}},hover(_,b){var k;if(!u.current||!b.isOver({shallow:!0})||!_)return;const S=_.index,O=e;if(S===O)return;const x=(k=u.current)==null?void 0:k.getBoundingClientRect(),C=(x.bottom-x.top)/2,w=b.getClientOffset().y-x.top;S<O&&w<C||S>O&&w>C||(s(Si({type:"reorder_answers_by_type",id:_.qualifiedCode,fromIndex:_.index,toIndex:O})),_.index=O)}});return m(g(u)),T.jsxs(cp,{style:{opacity:v?"0.2":"1"},ref:u,"data-handler-id":y,children:[yi(n)&&T.jsx(gn,{ref:h,sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(Io,{})},"move"),T.jsx(gn,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px",position:"sticky",left:0,zIndex:1,minWidth:"60px"},children:T.jsx(Yt,{variant:"standard",value:f||"",onChange:_=>{s(Wa({code:t.qualifiedCode,key:"label",lang:a.lang,value:_.target.value}))},placeholder:c?i("content_editor_placeholder_option"):d||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),[...Array(r)].map((_,b)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(u$,{sx:{"&.Mui-disabled":{color:l.textStyles.text.color}},disabled:!0})},b)),yi(n)&&T.jsx(gn,{onClick:_=>s(fs(t.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(Xn,{})},"remove")]},t.code)}function rH({item:t,index:e,designMode:r,t:n,langInfo:i,parentQualifiedCode:a}){const o=wt(),s=Pr(),l=J.useRef(),u=i.lang===i.mainLang,c=So.includes(i.lang),f=!c,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S[i.lang])==null?void 0:O.label}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S[i.mainLang])==null?void 0:O.label}),v="row-".concat(a),[h,g,y]=Ga({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:m},_]=Ji({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var E;if(!l.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const C=(E=l.current)==null?void 0:E.getBoundingClientRect(),A=(C.right-C.left)/2,k=S.getClientOffset().x-C.left;f&&O<x&&k<A||f&&O>x&&k>A||c&&O<x&&k>A||c&&O>x&&k<A||(o(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(l)),T.jsxs(gn,{ref:l,"data-handler-id":m,align:"center",sx:{opacity:h?"0.2":"1",fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:[yi(r)&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:g,sx:{padding:"0"},children:T.jsx(Io,{})},"move"),T.jsx("div",{sx:{padding:"0"},onClick:b=>o(fs(t.qualifiedCode)),children:T.jsx(Xn,{})})]}),T.jsx(Yt,{variant:"standard",value:d||"",onChange:b=>{o(Wa({code:t.qualifiedCode,key:"label",lang:i.lang,value:b.target.value}))},placeholder:u?n("content_editor_placeholder_option"):p||n("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})]},t.qualifiedCode)}var Dm={},nH=$r;Object.defineProperty(Dm,"__esModule",{value:!0});var MC=Dm.default=void 0,iH=nH(Nr()),aH=T;MC=Dm.default=(0,iH.default)((0,aH.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const oH="_placeholder_4iqf5_1",sH="_buttonContainer_4iqf5_9",O_={placeholder:oH,buttonContainer:sH};function lH({code:t,t:e,onMainLang:r}){var u,c;const n=Vl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(ts({code:t,key:"videoUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.videoUrl)&&T.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:s.audio_only?"10%":"56%"},children:T.jsx(c$,{url:ds(s.resources.videoUrl),loop:s.loop||!1,light:!0,controls:!0,config:{forceAudio:s.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),a?T.jsxs("div",{className:O_.buttonContainer,children:[T.jsx(Zg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_video")})]}):r?T.jsx("div",{className:O_.buttonContainer,children:T.jsxs(Ut,{component:"label",variant:"outlined",startIcon:T.jsx(MC,{}),children:[(c=s.resources)!=null&&c.videoUrl?e("replace_video"):e("upload_video"),T.jsx("input",{hidden:!0,id:t,accept:"video/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const uH="_signatureCanvas_1uxb1_1",cH={signatureCanvas:uH};function fH(){return T.jsx(gt,{className:cH.signatureCanvas,sx:{backgroundColor:"background.default"},children:T.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}const dH=P.memo(fH);var Mm={},pH=$r;Object.defineProperty(Mm,"__esModule",{value:!0});var Cp=Mm.default=void 0,hH=pH(Nr()),vH=T;Cp=Mm.default=(0,hH.default)((0,vH.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const gH="_placeholder_19jeu_1",mH="_buttonContainer_19jeu_9",yH="_imageContainer_19jeu_14",zh={placeholder:gH,buttonContainer:mH,imageContainer:yH};function bH({code:t,t:e,onMainLang:r}){var u,c,f;const n=Vl("design"),i=wt(),[a,o]=J.useState(!1),s=ye(d=>d.designState[t]),l=d=>{d.preventDefault(),o(!0);let p=d.target.files[0];n.uploadResource(p).then(v=>{o(!1),i(ts({code:t,key:"imageUrl",value:v.name}))}).catch(v=>{console.error(v)})};return T.jsxs("div",{className:zh.imageContainer,children:[!a&&((u=s.resources)==null?void 0:u.imageUrl)&&T.jsx("img",{style:{maxWidth:"100%",width:(c=s.imageWidth)!=null&&c.endsWith("%")?s.imageWidth:void 0},src:ds(s.resources.imageUrl)}),a?T.jsxs("div",{className:zh.buttonContainer,children:[T.jsx(Zg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_image")})]}):r?T.jsx("div",{className:zh.buttonContainer,children:T.jsxs(Ut,{variant:"outlined",component:"label",children:[T.jsx(Cp,{className:"mr-10"}),(f=s.resources)!=null&&f.imageUrl?e("replace_image"):e("upload_image"),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const _H=P.memo(bH),SH="_choicesContainer_k0bnu_1",OH="_choice_k0bnu_1",xH="_choiceLabels_k0bnu_19",Uh={choicesContainer:SH,choice:OH,choiceLabels:xH};function wH({code:t}){var i,a,o,s;Pr();let e=[0,1,2,3,4,5,6,7,8,9,10];const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs(T.Fragment,{children:[T.jsxs(gt,{className:Uh.choiceLabels,children:[T.jsx(gt,{children:(a=(i=r.content)==null?void 0:i.lower_bound_hint)==null?void 0:a[n]}),T.jsx(gt,{children:(s=(o=r.content)==null?void 0:o.higher_bound_hint)==null?void 0:s[n]})]}),T.jsx(gt,{className:Uh.choicesContainer,children:e.map(l=>T.jsx(gt,{className:Uh.choice,children:l},l))})]})}const EH=P.memo(wH),CH="_container_cyg3h_1",TH={container:CH};function kH({code:t}){var n,i;Ua();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(gt,{className:TH.container,children:[T.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n[r])==null?void 0:i.hint)||""})]})}const IH=P.memo(kH),AH="_container_cyg3h_1",PH={container:AH};function jH({code:t}){var n,i;Ua();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(gt,{className:PH.container,children:[T.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n[r])==null?void 0:i.hint)||""})]})}const LH=P.memo(jH),FH="_container_cyg3h_1",RH={container:FH};function $H({code:t}){var n,i;Ua();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(gt,{className:RH.container,children:[T.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n[r])==null?void 0:i.hint)||""})]})}const NH=P.memo($H),DH="_answerAdd_5tmqk_1",MH="_questionItem_5tmqk_9",VH="_choicesContainer_5tmqk_15",kf={answerAdd:DH,questionItem:MH,choicesContainer:VH},BH="_answerItem_shykq_1",qH="_answerIcon_shykq_10",HH="_answerIconOther_shykq_18",zH="_answerNumberOrder_shykq_27",UH="_answerControl_shykq_32",WH="_answerControlRtl_shykq_37",GH="_answerControlOther_shykq_42",YH="_answerControlOtherRtl_shykq_47",KH="_answerOtherControl_shykq_52",ro={answerItem:BH,answerIcon:qH,answerIconOther:HH,answerNumberOrder:zH,answerControl:UH,answerControlRtl:WH,answerControlOther:GH,answerControlOtherRtl:YH,answerOtherControl:KH};var Vm={},JH=$r;Object.defineProperty(Vm,"__esModule",{value:!0});var VC=Vm.default=void 0,QH=JH(Nr()),XH=T;VC=Vm.default=(0,QH.default)((0,XH.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");function ZH(t){const e=wt(),r=Pr(),n=J.useRef(null),i=ye(m=>m.designState.langInfo),a=ye(m=>m.designState[t.qualifiedCode]),o=i.lang===i.mainLang,s=i.lang,l=So.includes(s),u=ye(m=>{var _;return a.type==="other"&&((_=m.designState.setup)==null?void 0:_.code)==t.qualifiedCode+"Atext"}),c=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_[s])==null?void 0:b.label}),f=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_[i.mainLang])==null?void 0:b.label}),d=m=>{const _={transition:"all 500ms"};return m&&(_.opacity=.5),_},[p,v,h]=Ga({type:t.droppableId,item:{index:t.index,draggableId:t.qualifiedCode,type:t.droppableId,code:t.code,itemType:t.type,droppableId:t.droppableId},collect:m=>m.isDragging()},[t]),[{handlerId:g},y]=Ji({accept:t.droppableId,collect(m){return{handlerId:m.getHandlerId()}},hover(m,_){var w;if(!n.current||!_.isOver({shallow:!0})||!m)return;const b=m.index,S=t.index;if(b===S)return;const O=(w=n.current)==null?void 0:w.getBoundingClientRect(),x=(O.bottom-O.top)/2,A=_.getClientOffset().y-O.top;b<S&&A<x||b>S&&A>x||(e(Si({type:"reorder_answers",id:m.draggableId,fromIndex:m.index,toIndex:t.index})),m.index=S)}});return y(h(n)),lp(r.palette.background.paper),T.jsx("div",{ref:n,style:d(p),"data-handler-id":g,children:T.jsxs(gt,{sx:{backgroundColor:u?"beige":"inherit"},className:ro.answerItem,children:[yi(t.designMode)&&T.jsx("div",{ref:v,className:ro.answerIcon,children:T.jsx(Io,{ref:v,sx:{fontSize:18}})}),t.label?T.jsx("b",{children:t.label}):"",T.jsx(Yt,{variant:"standard",disabled:!rm(t.designMode),className:a.type==="other"&&l?ro.answerControlOtherRtl:a.type==="other"?ro.answerControlOther:l?ro.answerControlRtl:ro.answerControl,value:c||"",onChange:m=>e(Wa({code:t.qualifiedCode,key:"label",lang:s,value:m.target.value})),placeholder:o?t.t("content_editor_placeholder_option"):f||t.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),a.type==="other"&&T.jsx(VC,{sx:{fontSize:18},className:ro.answerIconOther,onClick:()=>{e(Fi({code:t.qualifiedCode+"Atext",rules:Na("other_text")}))}},"setup"),yi(t.designMode)&&T.jsx(Xn,{sx:{fontSize:18},className:ro.answerIcon,onClick:m=>e(fs(t.qualifiedCode))},"close")]})})}function ez(t){const e=Pr(),r=t.t,n=ye(o=>o.designState[t.code].children),i=ye(o=>o.designState[t.code].type),a=(i=="mcq"||i=="scq")&&(!n||!n.some(o=>o.code==="Aother"));return T.jsxs("div",{className:kf.questionItem,children:[T.jsx("div",{className:kf.choicesContainer,children:n&&n.length>0&&n.map((o,s)=>T.jsx(ZH,{designMode:t.designMode,code:o.code,t:t.t,label:o.code,qualifiedCode:o.qualifiedCode,index:s,type:t.type,droppableId:"option-".concat(t.code)},o.code))}),yi(t.designMode)&&T.jsxs("div",{className:kf.answerAdd,children:[T.jsx(Ut,{size:"small",style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},onClick:()=>t.addNewAnswer(t.code,i),children:r("add_option")}),a&&T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{color:e.textStyles.question.color},children:r("or")}),T.jsx(Ut,{style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",className:kf.answerIcon,onClick:()=>t.addNewAnswer(t.code,i,"other"),children:r("add_other")})]})]})]})}const Wh=P.memo(ez),tz="_addAnswerIcon_4rcog_1",rz="_questionItem_4rcog_5",nz="_addAnswerButton_4rcog_10",iz={addAnswerIcon:tz,questionItem:rz,addAnswerButton:nz},az="_imageIconButton_chgwf_1",oz="_imageContainer_chgwf_8",sz="_addAnswerIcon_chgwf_16",lz="_loadingContainer_chgwf_20",uz="_addAnswerButton_chgwf_26",cz="_buttonContainers_chgwf_34",no={imageIconButton:az,imageContainer:oz,addAnswerIcon:sz,loadingContainer:lz,addAnswerButton:uz,buttonContainers:cz};var Bm={},fz=$r;Object.defineProperty(Bm,"__esModule",{value:!0});var qm=Bm.default=void 0,dz=fz(Nr()),pz=T;qm=Bm.default=(0,dz.default)((0,pz.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var Hm={},hz=$r;Object.defineProperty(Hm,"__esModule",{value:!0});var Go=Hm.default=void 0,vz=hz(Nr()),gz=T;Go=Hm.default=(0,vz.default)((0,gz.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function mz({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageAspectRatio:a,designMode:o,hideText:s,t:l,addAnswer:u}){var $;const c=Vl("design"),f=wt(),d=Pr(),p=J.useRef(),[v,h]=J.useState(!1),g=ye(F=>F.designState.langInfo),y=ye(F=>n=="add"?void 0:F.designState[r]),m=g.lang===g.mainLang,_=g.lang,b=So.includes(_),S=ye(F=>{var N,B;return n=="add"||(B=(N=F.designState[r].content)==null?void 0:N[_])==null?void 0:B.label}),O=ye(F=>{var N,B;return n=="add"||(B=(N=F.designState[r].content)==null?void 0:N[g.mainLang])==null?void 0:B.label}),x=()=>{window.confirm("Are you sure?")&&f(fs(r))},C=($=y==null?void 0:y.resources)!=null&&$.image?"url('".concat(ds(y.resources.image),"')"):"url('/placeholder-image.jpg')";function A(F){F.preventDefault();let N=F.target.files[0];h(!0),c.uploadResource(N).then(B=>{h(!1),f(ts({code:r,key:"image",value:B.name}))}).catch(B=>{h(!1),console.error(B)})}const w=t+"image-drag",k=F=>Math.round(F/i),I=(F=>F%i)(e),j=k(e),[L,M,R]=Ga({type:w,item:{index:e,colIndex:I,rowIndex:j,draggableId:r,parentCode:t,type:w,itemType:w},collect:F=>F.isDragging()},[e]),[{handlerId:U},V]=Ji({accept:w,collect(F){return{handlerId:F.getHandlerId()}},hover(F,N){var fe;if(!p.current||!N.isOver({shallow:!0})||!F)return;const B=F.index,z=e,H=F.rowIndex,D=j,G=F.colIndex,q=I;if(B===z)return;const Y=(fe=p.current)==null?void 0:fe.getBoundingClientRect(),K=(Y.bottom-Y.top)/2,ie=(Y.right-Y.left)/2,te=N.getClientOffset(),oe=te.y-Y.top,ue=te.x-Y.left;H<D&&oe<K&&G<q&&ue<ie||H>D&&oe>K&&G>q&&ue>ie||(f(Si({type:"reorder_answers",id:F.draggableId,fromIndex:B,toIndex:z})),F.index=z,F.rowIndex=D,F.colIndex=q)}});return V(R(p)),n=="add"?T.jsx(co,{height:"100%",item:!0,xs:12/i,children:T.jsx(gt,{className:no.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:d.palette.background.default,borderRadius:"4px"},children:T.jsx(St,{sx:{color:d.textStyles.text.color},className:no.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Go,{})})})},"add"):T.jsx(T.Fragment,{children:T.jsxs(co,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:[T.jsxs("div",{className:no.imageContainer,style:{paddingTop:100/a+"%",backgroundImage:C},ref:p,"data-handler-id":U,children:[yi(o)&&T.jsxs("div",{className:no.buttonContainers,children:[T.jsx(St,{sx:{color:d.textStyles.text.color},className:no.imageIconButton,onClick:()=>{x()},children:T.jsx(qm,{})}),T.jsxs(St,{sx:{color:d.textStyles.text.color},component:"label",className:no.imageIconButton,children:[T.jsx(Cp,{}),T.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:A})]}),T.jsx(St,{sx:{color:d.textStyles.text.color},ref:M,className:no.imageIconButton,children:T.jsx(Io,{})})]}),v&&T.jsx("div",{className:no.loadingContainer,children:T.jsx(Zg,{})})]}),!s&&T.jsx(Yt,{dir:b?"rtl":"ltr",variant:"standard",value:S||"",disabled:!rm(o),onChange:F=>f(Wa({code:r,key:"label",lang:_,value:F.target.value})),placeholder:m?l("content_editor_placeholder_option"):O||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size}}})]},r)})}const yz="_imageIconButton_lgrld_1",bz="_imageContainer_lgrld_8",_z="_addAnswerIcon_lgrld_12",Sz="_loadingContainer_lgrld_16",Oz="_addAnswerButton_lgrld_23",xz="_svgContainer_lgrld_31",wz="_buttonContainers_lgrld_36",Rs={imageIconButton:yz,imageContainer:bz,addAnswerIcon:_z,loadingContainer:Sz,addAnswerButton:Oz,svgContainer:xz,buttonContainers:wz};class Ez{search(e,r){return new Promise((n,i)=>{vd.get("https://api.iconify.design/search?query=".concat(e,"&limit=250"),{cancelToken:r.token}).then(a=>{n(a.data.icons)}).catch(a=>{vd.isCancel(a)?console.debug("Request canceled:",a.message):i(a)})})}}const Cz=new Ez,Tz="_resultImage_2y7qe_1",kz={resultImage:Tz};function BC({currentIcon:t,onIconSelected:e}){const{t:r}=cs("design"),[n,i]=J.useState(""),[a,o]=J.useState(null),[s,l]=J.useState([]),u=["mdi:alphabet-a","mdi:alphabet-b","mdi:alphabet-c","mdi:numeric-1-circle","mdi:numeric-2-circle","mdi:numeric-3-circle","mdi:thumb-up","mdi:thumb-down","mdi:star","mdi:heart","mdi:check-circle","mdi:alert-circle","mdi:smiley","mdi:smiley-outline","jam:smiley","guidance:smiley","ph:smiley","ph:smiley-bold","ph:smiley-duotone","ph:smiley-fill","ph:smiley-light","ph:smiley-thin","octicon:smiley-16","octicon:smiley-24","f7:smiley","f7:smiley-fill","pajamas:smiley","codicon:smiley","dashicons:smiley","fontisto:smiley","el:smiley","jam:smiley-f","vaadin:smiley-o","mdi:smiley-cry","mdi:smiley-cry-outline","mdi:smiley-sad","mdi:smiley-sad-outline","ph:smiley-meh","ph:smiley-meh-bold","ph:smiley-meh-duotone","ph:smiley-meh-fill","ph:smiley-meh-light","ph:smiley-meh-thin","ph:smiley-sad","ph:smiley-sad-bold","ph:smiley-sad-duotone","ph:smiley-sad-fill","ph:smiley-sad-light","ph:smiley-sad-thin","gis:map-smiley","el:smiley-alt","mdi:smiley-cool","mdi:smiley-cool-outline","mdi:smiley-dead","mdi:smiley-dead-outline","mdi:smiley-kiss","mdi:smiley-kiss-outline","mdi:smiley-poop","mdi:smiley-wink","mdi:smiley-wink-outline","ph:lego-smiley","ph:lego-smiley-bold","ph:lego-smiley-duotone","ph:lego-smiley-fill","ph:lego-smiley-light","ph:lego-smiley-thin","ph:scan-smiley","ph:scan-smiley-bold","ph:scan-smiley-duotone","ph:scan-smiley-fill","ph:scan-smiley-light","ph:scan-smiley-thin","ph:smiley-wink","ph:smiley-wink-bold","ph:smiley-wink-duotone","ph:smiley-wink-fill","ph:smiley-wink-light","ph:smiley-wink-thin","garden:smiley-fill-12","garden:smiley-fill-16","streamline:smiley-cool","streamline:smiley-cool-solid","streamline:smiley-cute","streamline:smiley-cute-solid","streamline:smiley-kiss","streamline:smiley-kiss-solid","streamline:smiley-mask","streamline:smiley-mask-solid"];J.useEffect(()=>{if(a&&a.cancel("Operation canceled by the user."),n){const d=vd.CancelToken.source();o(d),Cz.search(n,d).then(p=>{l(p)}).catch(p=>{console.error(p)})}else l([])},[n]);const c=d=>{i(d.target.value)},f=n?s:u;return T.jsxs(im,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>e(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(tm,{id:"alert-dialog-title-logic-builder",children:r("Select Icon")}),T.jsx(zu,{children:T.jsxs("div",{children:[T.jsx("input",{type:"text",placeholder:"Search for icons",value:n,onChange:c}),T.jsx("div",{className:"search-results",children:f.map((d,p)=>{const v=d.split(":");return T.jsx(Iz,{onClick:e,source:"https://api.iconify.design/".concat(v[0],"/").concat(v[1],".svg")},p)})})]})}),T.jsx(nm,{children:T.jsx(Ut,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function Iz({source:t,onClick:e}){const[r,n]=J.useState("");return J.useEffect(()=>{vd.get(t).then(i=>{Az(i.data)&&n(i.data)})},[t]),T.jsx("div",{onClick:()=>{e(r)},className:kz.resultImage,dangerouslySetInnerHTML:{__html:r}})}function Az(t){return typeof t!="string"?!1:/^<svg[\s\S]*<\/svg>$/.test(t)}function Pz({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,designMode:a,imageHeight:o,hideText:s,t:l,addAnswer:u}){var $,F,N,B,z;const c=Vl("design"),f=wt(),d=J.useRef(null),p=Pr(),[v,h]=J.useState(!1),g=ye(H=>H.designState.langInfo),y=ye(H=>n=="add"?void 0:H.designState[r]),m=g.lang===g.mainLang,_=g.lang,b=($=y==null?void 0:y.resources)==null?void 0:$.icon,S=n=="add"||(N=(F=y.content)==null?void 0:F[_])==null?void 0:N.label;n=="add"||y.icon;const O=So.includes(_),x=n=="add"||(z=(B=y.content)==null?void 0:B[g.mainLang])==null?void 0:z.label,C=()=>{window.confirm("Are you sure?")&&f(fs(r))},A=t+"icon-drag",w=H=>Math.round(H/i),k=H=>H%i,E=H=>{const D=new Blob([H],{type:"image/svg+xml"}),G=new File([D],"file.svg",{type:"image/svg+xml"});c.uploadResource(G).then(q=>{f(ts({code:r,key:"icon",value:q.name}))}).catch(q=>{console.error(q.message)})},I=k(e),j=w(e),[L,M,R]=Ga({type:A,item:{index:e,colIndex:I,rowIndex:j,draggableId:r,parentCode:t,type:A,itemType:A},collect:H=>H.isDragging()},[e]),[{handlerId:U},V]=Ji({accept:A,collect(H){return{handlerId:H.getHandlerId()}},hover(H,D){var re;if(!d.current||!D.isOver({shallow:!0})||!H)return;const G=H.index,q=e,Y=H.rowIndex,K=j,ie=H.colIndex,te=I;if(G===q)return;const oe=(re=d.current)==null?void 0:re.getBoundingClientRect(),ue=(oe.bottom-oe.top)/2,fe=(oe.right-oe.left)/2,pe=D.getClientOffset(),Se=pe.y-oe.top,Q=pe.x-oe.left;Y<K&&Se<ue&&ie<te&&Q<fe||Y>K&&Se>ue&&ie>te&&Q>fe||(f(Si({type:"reorder_answers",id:H.draggableId,fromIndex:G,toIndex:q})),H.index=q,H.rowIndex=K,H.colIndex=te)}});return V(R(d)),n=="add"?T.jsx(co,{item:!0,xs:12/i,height:"100%",children:T.jsx(gt,{className:Rs.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:p.palette.background.default,height:"100%",width:"100%"},children:T.jsx(St,{sx:{color:p.textStyles.text.color},className:Rs.addAnswerIcon,onClick:()=>{u()},children:T.jsx(Go,{})})})},"add"):T.jsxs(T.Fragment,{children:[T.jsx(co,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:T.jsxs("div",{ref:d,"data-handler-id":U,children:[yi(a)&&T.jsxs("div",{className:Rs.buttonContainers,children:[T.jsx(St,{sx:{color:p.textStyles.text.color},className:Rs.imageIconButton,onClick:()=>{C()},children:T.jsx(qm,{})}),T.jsx(St,{sx:{color:p.textStyles.text.color},component:"label",className:Rs.imageIconButton,onClick:()=>h(!0),children:T.jsx(Cp,{})}),T.jsx(St,{sx:{color:p.textStyles.text.color},ref:M,className:Rs.imageIconButton,children:T.jsx(Io,{})})]}),T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:T.jsx(am,{theme:p,imageHeight:o+"px",svgUrl:b?ds(b):void 0})}),!s&&T.jsx(Yt,{dir:O?"rtl":"ltr",variant:"standard",disabled:!rm(a),value:S||"",onChange:H=>f(Wa({code:r,key:"label",lang:_,value:H.target.value})),placeholder:m?l("content_editor_placeholder_option"):x||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size}}})]})},r),v&&T.jsx(BC,{currentIcon:"",onIconSelected:H=>{H&&E(H),h(!1)}})]})}function jz(t){const e=ye(f=>f.designState[t.code]),r=e.children||[],n=ye(f=>f.designState[t.code].imageAspectRatio||1),i=e.type,a=yi(t.designMode)?[...r,{type:"add",code:"add"}]:r,o=e.columns||2,s=e.hideText||!1,l=e.spacing||8,u=e.iconSize?+e.iconSize:64,c="calc(".concat(100/o,"% - ").concat(l,"px)");return T.jsx("div",{className:iz.questionItem,children:u&&T.jsx(gt,{id:"items-"+t.code,sx:{display:"flex",flexWrap:"wrap",gap:"".concat(l,"px")},children:a.map((f,d)=>t.icon?T.jsx(gt,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(Pz,{parentCode:t.code,index:d,columnNumber:o,designMode:t.designMode,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code):T.jsx(gt,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(mz,{parentCode:t.code,index:d,imageAspectRatio:n,columnNumber:o,hideText:s,designMode:t.designMode,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code))})})}const x_=P.memo(jz);function Lz(t){const e=Pr(),r=t.t,n=ye(u=>u.designState.langInfo),i=t.designMode==vn.DESIGN,a=ye(u=>u.designState[t.code].children),o=(a==null?void 0:a.filter(u=>u.type=="row"))||[],s=(a==null?void 0:a.filter(u=>u.type=="column"))||[],l=ye(u=>s.map(c=>{var f;return(f=u.designState[c.qualifiedCode].resources)==null?void 0:f.icon}));return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:Td.addColumn,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(OE,{children:T.jsxs(xE,{children:[T.jsx(wE,{children:T.jsxs(cp,{children:[i&&T.jsx(gn,{sx:{padding:"0"}},"move"),T.jsx(gn,{},"content"),s.map((u,c)=>T.jsx($z,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,icons:l,index:c},u.qualifiedCode)),i&&T.jsx(gn,{sx:{padding:"0"}},"remove")]})}),T.jsx(EE,{children:o.map((u,c)=>T.jsx(Rz,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,inDesgin:i,columns:s,icons:l,index:c},u.qualifiedCode))})]})}),i&&T.jsx("div",{className:Td.addRow,children:T.jsx(Ut,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const Fz=P.memo(Lz);function Rz({item:t,index:e,columns:r,icons:n,inDesgin:i,t:a,langInfo:o,parentQualifiedCode:s}){const l=wt(),u=Pr(),c=J.useRef(),f=o.lang===o.mainLang,d=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S[o.lang])==null?void 0:O.label}),p=ye(b=>{var S,O;return(O=(S=b.designState[t.qualifiedCode].content)==null?void 0:S[o.mainLang])==null?void 0:O.label}),v="col-".concat(s),[h,g,y]=Ga({type:v,item:{qualifiedCode:t.qualifiedCode,index:e},collect:b=>b.isDragging()},[e]),[{handlerId:m},_]=Ji({accept:v,collect(b){return{handlerId:b.getHandlerId()}},hover(b,S){var E;if(!c.current||!S.isOver({shallow:!0})||!b)return;const O=b.index,x=e;if(O===x)return;const C=(E=c.current)==null?void 0:E.getBoundingClientRect(),A=(C.bottom-C.top)/2,k=S.getClientOffset().y-C.top;O<x&&k<A||O>x&&k>A||(l(Si({type:"reorder_answers_by_type",id:b.qualifiedCode,fromIndex:b.index,toIndex:x})),b.index=x)}});return _(y(c)),T.jsxs(cp,{style:{opacity:h?"0.2":"1"},ref:c,"data-handler-id":m,children:[i&&T.jsx(gn,{ref:g,sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(Io,{})},"move"),T.jsx(gn,{sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size,padding:"4px",position:"sticky",left:0,zIndex:1,minWidth:"60px"},children:T.jsx(Yt,{variant:"standard",value:d||"",onChange:b=>{l(Wa({code:t.qualifiedCode,key:"label",lang:o.lang,value:b.target.value}))},placeholder:f?a("content_editor_placeholder_option"):p||a("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size}}})}),r.map((b,S)=>T.jsx(gn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(am,{opacity:.2,iconColor:u.textStyles.text.color,theme:u,onIconClick:()=>{},imageHeight:"64px",svgUrl:n[S]?ds(n[S]):void 0})},S)),i&&T.jsx(gn,{onClick:b=>l(fs(t.qualifiedCode)),sx:{padding:"0",color:u.textStyles.text.color},children:T.jsx(Xn,{})},"remove")]},t.code)}function $z({item:t,index:e,icons:r,inDesgin:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=Vl("design"),l=r[e],[u,c]=J.useState(!1),f=wt(),d=Pr(),p=J.useRef(),v=a.lang===a.mainLang,h=ye(w=>{var k,E;return(E=(k=w.designState[t.qualifiedCode].content)==null?void 0:k[a.lang])==null?void 0:E.label}),g=ye(w=>{var k,E;return(E=(k=w.designState[t.qualifiedCode].content)==null?void 0:k[a.mainLang])==null?void 0:E.label}),y=So.includes(a.lang),m=!y,_="row-".concat(o),[b,S,O]=Ga({type:_,item:{qualifiedCode:t.qualifiedCode,index:e},collect:w=>w.isDragging()},[e]),[{handlerId:x},C]=Ji({accept:_,collect(w){return{handlerId:w.getHandlerId()}},hover(w,k){var U;if(!p.current||!k.isOver({shallow:!0})||!w)return;const E=w.index,I=e;if(E===I)return;const j=(U=p.current)==null?void 0:U.getBoundingClientRect(),L=(j.right-j.left)/2,R=k.getClientOffset().x-j.left;m&&E<I&&R<L||m&&E>I&&R>L||y&&E<I&&R>L||y&&E>I&&R<L||(f(Si({type:"reorder_answers_by_type",id:w.qualifiedCode,fromIndex:w.index,toIndex:I})),w.index=I)}}),A=w=>{const k=new Blob([w],{type:"image/svg+xml"}),E=new File([k],"file.svg",{type:"image/svg+xml"});s.uploadResource(E).then(I=>{f(ts({code:t.qualifiedCode,key:"icon",value:I.name}))}).catch(I=>{console.error(I.message)})};return C(O(p)),T.jsxs(T.Fragment,{children:[T.jsxs(gn,{ref:p,"data-handler-id":x,align:"center",sx:{opacity:b?"0.2":"1",fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size,padding:"4px"},children:[n&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:S,sx:{padding:"0"},children:T.jsx(Io,{})},"move"),T.jsx("div",{sx:{padding:"0",color:d.textStyles.text.color},onClick:w=>f(fs(t.qualifiedCode)),children:T.jsx(Xn,{})})]}),T.jsx(am,{onIconClick:()=>c(!0),theme:d,imageHeight:"64px",svgUrl:l?ds(l):void 0}),T.jsx(Yt,{variant:"standard",value:h||"",onChange:w=>{f(Wa({code:t.qualifiedCode,key:"label",lang:a.lang,value:w.target.value}))},placeholder:v?i("content_editor_placeholder_option"):g||i("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size}}})]},t.qualifiedCode),u&&T.jsx(BC,{currentIcon:"",onIconSelected:w=>{w&&A(w),c(!1)}})]})}function Nz({code:t,type:e,t:r,onMainLang:n,addAnswer:i,designMode:a}){switch(e){case"video_display":return T.jsx(lH,{code:t,t:r,onMainLang:n},t);case"image_display":return T.jsx(_H,{code:t,t:r,onMainLang:n},t);case"signature":return T.jsx(dH,{});case"photo_capture":return T.jsx(IH,{code:t});case"video_capture":return T.jsx(LH,{code:t});case"date_time":return T.jsx(S_,{code:t},t);case"date":return T.jsx(S_,{code:t},t);case"time":return T.jsx(H8,{code:t},t);case"scq":return T.jsx(Wh,{t:r,designMode:a,onMainLang:n,addNewAnswer:i,code:t,type:"radio"},t);case"image_mcq":case"image_scq":case"image_ranking":return T.jsx(x_,{t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"icon_scq":case"icon_mcq":return T.jsx(x_,{icon:!0,t:r,onMainLang:n,designMode:a,addNewAnswer:i,code:t},t);case"scq_icon_array":return T.jsx(Fz,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"scq_array":return T.jsx(eH,{onMainLang:n,type:e,designMode:a,addNewAnswer:i,code:t,t:r},t);case"file_upload":return T.jsx($8,{code:t},t);case"mcq":return T.jsx(Wh,{designMode:a,addNewAnswer:i,code:t,onMainLang:n,t:r,type:"checkbox"},t);case"ranking":return T.jsx(Wh,{designMode:a,onMainLang:n,addNewAnswer:i,code:t,t:r,type:"ranking"},t);case"nps":return T.jsx(EH,{code:t},t);case"number":return T.jsx(T8,{code:t},t);case"text":return T.jsx(b8,{code:t},t);case"paragraph":return T.jsx(j8,{t:r,code:t},t);case"barcode":return T.jsx(NH,{t:r,code:t},t);case"email":return T.jsx(x8,{code:t},t);default:return""}}const Dz=P.memo(Nz);function Mz({code:t,type:e,isLast:r,parentCode:n,index:i,t:a,designMode:o,onMainLang:s,parentIndex:l,lastAddedComponent:u}){console.debug(t+": "+i);const[c,f]=J.useState(!1),d=J.useRef(),p=wt(),v=Pr(),h=ye(I=>{var j;return((j=I.designState.setup)==null?void 0:j.code)==t}),g=ye(I=>I.designState[t]),y=g.children,m=ye(I=>{var j;return((j=I.designState.globalSetup)==null?void 0:j.reorder_setup)==="collapse_questions"});ye(I=>!TR(I.designState.setup));const _=J.useCallback(()=>p(kR(t)),[]),b=J.useCallback(()=>p(IR(t)),[]),[S,O,x]=Ga({type:"questions",item:{index:i,draggableId:t,droppableId:n,parentIndex:l,isLast:r,type:"questions",itemType:e},collect:I=>{var j;return((j=I.getItem())==null?void 0:j.draggableId)===t}}),[C,A]=Ji({accept:"questions",hover(I,j){var V;if(!d.current||!j.isOver({shallow:!0})||!I||!I.droppableId.startsWith("G"))return;const L=I.index,M=i;if(L===M||(I==null?void 0:I.droppableId)!==n)return;const R=(V=d.current)==null?void 0:V.getBoundingClientRect(),U=j.getClientOffset();L<M&&U.y<R.top+20||L>M&&U.y>R.bottom-20||(p(Si({type:"reorder_questions",source:I.droppableId,destination:n,id:I.draggableId,fromIndex:L,toIndex:M+1})),I.index=M,I.isLast=r)}});A(x(d));const w=P.useCallback((I,j,L)=>{const M=y||[];let R=1,U="",V="",$="";switch(L){case"column":R=kh(M.filter(F=>F.type==="column")),$="Col "+R,U="Ac"+R,V=I+U,p(xu({label:$,answer:{code:U,qualifiedCode:V,type:L}}));break;case"row":R=kh(M.filter(F=>F.type==="row")),U="A"+R,$="Row "+R,V=I+U,p(xu({label:$,answer:{code:U,qualifiedCode:V,type:L}}));break;case"other":U="Aother",$="Other",V=I+U,p(xu({label:$,answer:{code:U,qualifiedCode:V,type:L}})),p(xu({answer:{code:"Atext",qualifiedCode:V+"Atext",type:"other_text"}}));break;default:R=kh(M),U="A"+R,$="Option "+R,V=I+U,p(xu({label:$,answer:{code:U,qualifiedCode:V}}));break}},[y]),k=lp(v.palette.background.paper),E=v.textStyles.question.color;return J.useEffect(()=>{const I=d.current;if((u==null?void 0:u.type)==="question"&&u.groupIndex===l&&u.questionIndex===i&&I){const j=setTimeout(()=>{I.classList.add(ta.highlight);const L=()=>{I.classList.remove(ta.highlight)};return I.addEventListener("animationend",L),()=>{I.removeEventListener("animationend",L)}},50);return()=>clearTimeout(j)}},[u,l,i]),(u==null?void 0:u.type)==="question"&&u.groupIndex===l&&u.questionIndex,T.jsxs("div",{ref:d,onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},style:h?{border:"0.5px solid ".concat(E),backgroundColor:k,color:E}:{opacity:S?"0.2":"1",border:S?"dotted 1px "+k:"0"},className:"question ".concat(ta.groupQuestion),"data-code":t,children:[T.jsxs(gt,{className:ta.contentContainer,children:[m&&T.jsx("div",{className:ta.moveBox,ref:O,children:T.jsx(um,{style:{color:E}})}),o==vn.DESIGN&&(h||c)&&T.jsx("div",{className:ta.actionToolbarVisible,children:T.jsx(DC,{t:a,isGroup:!1,isInSetup:h,code:t,parentCode:n,onClone:b,onDelete:_,disableDelete:!1})})]}),T.jsxs(gt,{className:ta.titleContainer,children:[T.jsx(gt,{className:ta.iconBox,children:AR("".concat(e),void 0,E)}),T.jsx("div",{className:ta.titleQuestion,style:{fontFamily:v.textStyles.question.font,color:v.textStyles.question.color,fontSize:v.textStyles.question.size},children:T.jsx(Ed,{code:t,editable:o==vn.DESIGN||o==vn.LANGUAGES,extended:e=="text_display",placeholder:a("content_editor_placeholder_title"),contentKey:"label"})})]}),g.showDescription&&T.jsx(gt,{className:ta.textDescriptionContent,children:T.jsx(Ed,{code:t,editable:o==vn.DESIGN||o==vn.LANGUAGES,extended:!0,placeholder:a("content_editor_placeholder_description"),contentKey:"description"})}),T.jsx(p$,{in:m!==!0,timeout:"auto",unmountOnExit:!0,children:T.jsx(Dz,{code:t,type:e,t:a,addAnswer:w,designMode:o,onMainLang:s,addNewAnswer:w})}),T.jsx(RC,{code:t})]})}const Vz=P.memo(Mz),Bz="_textHeader_nym98_1",qz="_textDescription_nym98_5",Hz="_groupCard_nym98_11",zz="_type_nym98_18",Uz="_groupType_nym98_25",Wz="_questionsOuterContainer_nym98_33",Gz="_questionsInnerContainer_nym98_37",Yz="_groupDesignError_nym98_43",Kz="_groupHeader_nym98_48",Jz="_inputGroupTitle_nym98_52",Qz="_inputGroupDescription_nym98_57",Xz="_moveBox_nym98_62",Zz="_topLevel_nym98_71",e9="_groupText_nym98_82",t9="_actionToolbarVisible_nym98_100",r9="_fadeInMoveRight_nym98_1",n9="_contentContainer_nym98_104",i9="_headerContent_nym98_115",a9="_highlight_nym98_119",o9="_fadeHighlight_nym98_1",$a={textHeader:Bz,textDescription:qz,groupCard:Hz,type:zz,groupType:Uz,questionsOuterContainer:Wz,questionsInnerContainer:Gz,groupDesignError:Yz,groupHeader:Kz,inputGroupTitle:Jz,inputGroupDescription:Qz,moveBox:Xz,topLevel:Zz,groupText:e9,actionToolbarVisible:t9,fadeInMoveRight:r9,contentContainer:n9,headerContent:i9,highlight:a9,fadeHighlight:o9},s9="_groupDropArea_1m6hh_1",l9="_groupDragging_1m6hh_24",u9="_questionDropArea_1m6hh_45",c9="_groupDropAreaWrapper_1m6hh_72",f9="_hide_1m6hh_79",d9="_hidden_1m6hh_83",p9="_isDragging_1m6hh_92",h9="_groupHidden_1m6hh_104",v9="_groupEmptyHint_1m6hh_111",g9="_groupEmptyHintHover_1m6hh_130",m9="_dropText_1m6hh_134",Bn={groupDropArea:s9,groupDragging:l9,questionDropArea:u9,groupDropAreaWrapper:c9,hide:f9,hidden:d9,isDragging:p9,groupHidden:h9,groupEmptyHint:v9,groupEmptyHintHover:g9,dropText:m9};var Jv=new Map,If=new WeakMap,w_=0,y9=void 0;function b9(t){return t?(If.has(t)||(w_+=1,If.set(t,w_.toString())),If.get(t)):"0"}function _9(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>"".concat(e,"_").concat(e==="root"?b9(t.root):t[e])).toString()}function S9(t){const e=_9(t);let r=Jv.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=n.get(s.target))==null||l.forEach(c=>{c(u,s)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},Jv.set(e,r)}return r}function O9(t,e,r={},n=y9){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:o}=S9(r),s=o.get(t)||[];return o.has(t)||o.set(t,s),s.push(e),a.observe(t),function(){s.splice(s.indexOf(e),1),s.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),Jv.delete(i))}}function x9({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=J.useState(null),p=J.useRef(),[v,h]=J.useState({inView:!!s,entry:void 0});p.current=u,J.useEffect(()=>{if(o||!f)return;let _;return _=O9(f,(b,S)=>{h({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&a&&_&&(_(),_=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,i,n,a,o,r,l,e]);const g=(c=v.entry)==null?void 0:c.target,y=J.useRef();!f&&g&&!a&&!o&&y.current!==g&&(y.current=g,h({inView:!!s,entry:void 0}));const m=[d,v.inView,v.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}function w9({index:t,groupsCount:e,t:r,emptySurvey:n}){const i=wt(),[{isOver:a,item:o},s]=Ji(()=>({accept:"groups",drop:d=>{i(Si({type:"new_group",groupType:d.draggableId,toIndex:t}))},collect:d=>({isOver:d.isOver(),item:d.getItem()})}),[t]),l=o!=null&&o.draggableId=="group",u=o&&o.droppableId=="new-groups"&&C9(o,t)&&T9(o,t,e)&&E9(o,t),c=Ua(),f=lp(c.palette.background.paper);return T.jsxs("div",{ref:s,style:{backgroundColor:l&&f,color:c.palette.text.primary},className:""+(n?Bn.groupEmptyHint+(a?" "+Bn.groupEmptyHintHover:""):a&&u?Bn.groupDropArea:l?Bn.groupDragging:Bn.groupHidden),children:[l&&!n&&T.jsx(T.Fragment,{children:T.jsx("span",{className:Bn.dropText,children:r("empty_survey_hint")})}),n&&T.jsx("span",{children:r("empty_survey_hint")})]})}function Gh({index:t,isLast:e=!1,parentCode:r,parentType:n,parentIndex:i,emptyGroup:a=!1,t:o}){const s=Ua(),l=wt(),u=ye(y=>y.designState.reorder_refresh_code),[{isOver:c,isDragging:f},d]=Ji(()=>({accept:["new-questions","questions"],hover(y){y.type!=="questions"||y.droppableId===r||n==="end"&&!Ih(y.itemType)||(l(Si({type:"reparent_question",source:y.droppableId,destination:r,id:y.draggableId})),y.index=t,y.parentIndex=i,y.isLast=e,y.droppableId=r)},drop:y=>{y.type==="new-questions"&&l(Si({type:"new_question",questionType:y.draggableId,destination:r,toIndex:t}))},collect:y=>{var m,_,b,S,O;return{isOver:((m=y.getItem())==null?void 0:m.type)=="new-questions"&&y.isOver()&&(n!=="end"||Ih((_=y.getItem())==null?void 0:_.itemType)),isDragging:n==="end"&&!Ih((b=y.getItem())==null?void 0:b.itemType)?!1:((S=y.getItem())==null?void 0:S.droppableId)==="new-questions"||((O=y.getItem())==null?void 0:O.type)==="questions"&&y.getItem().droppableId!==r&&(t==0&&y.getItem().isLast&&y.getItem().parentIndex+1===i||e&&y.getItem().index==0&&y.getItem().parentIndex-1===i)}}}),[u,t]),{ref:p,inView:v,entry:h}=x9({threshold:0,trackVisibility:f,delay:f?100:0}),g=s.palette.text.primary;return T.jsxs("div",{ref:p,children:[" ",T.jsxs("div",{ref:d,style:{marginTop:!f&&!c?"0rem":"inherit",marginBottom:!f&&!c?"0rem":"inherit"},className:"question-drop-area "+(a?c?Bn.questionDropArea:f&&v?Bn.isDragging:Bn.groupEmptyHint:c?Bn.questionDropArea:f&&v?Bn.isDragging:Bn.hidden)+" ",children:[f&&!a&&T.jsxs(gt,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Gb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:Bn.dropText,style:{color:g},children:o("empty_group_hint")})]}),a&&T.jsxs(gt,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Gb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:Bn.dropText,style:{color:g},children:o("empty_group_hint")})]})]})]})}const E9=(t,e)=>!(((t==null?void 0:t.index)===e||e-1===(t==null?void 0:t.index))&&(t==null?void 0:t.droppableId)!=="new-groups"),C9=(t,e)=>(t==null?void 0:t.draggableId)!=="welcome"?!0:e===0,T9=(t,e,r)=>(t==null?void 0:t.draggableId)!=="end"?!0:e===r;function k9({t,code:e,children:r,designMode:n}){console.debug("Group Header: "+e);const i=wt(),o=ye(f=>f.designState.langInfo).onMainLang,s=ye(f=>f.designState[e]),l=Pr(),u=n==vn.DESIGN,c=J.useCallback(()=>i(PR(e)),[e]);return T.jsx(gt,{className:$a.headerContent,children:T.jsxs(gt,{className:$a.groupHeader,"data-code":e,children:[T.jsx(gt,{className:$a.contentContainer,children:u&&o&&T.jsx("div",{className:$a.actionToolbarVisible,children:T.jsx(DC,{code:e,t,isGroup:!0,onDelete:c,disableDelete:r&&r.length>0})})}),T.jsx("div",{className:$a.textHeader,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:T.jsx(Ed,{editable:n==vn.DESIGN||n==vn.LANGUAGES,code:e,extended:!1,contentKey:"label",placeholder:t("content_editor_placeholder_title")})}),s.showDescription&&T.jsx(gt,{className:$a.textDescription,children:T.jsx(Ed,{editable:n==vn.DESIGN||n==vn.LANGUAGES,code:e,extended:!0,contentKey:"description",placeholder:t("content_editor_placeholder_description")})}),o&&T.jsx(RC,{type:"group",code:e})]})})}const I9=P.memo(k9);function A9({t,code:e,index:r,designMode:n,lastAddedComponent:i}){const a=wt(),o=ye(x=>x.designState[e]),s=n==vn.DESIGN,l=ye(x=>{var C;return((C=x.designState.globalSetup)==null?void 0:C.reorder_setup)==="collapse_groups"});ye(x=>x.designState.langInfo);const u=ye(x=>{var C;return((C=x.designState.setup)==null?void 0:C.code)==e}),c=Ua(),f=J.useRef(),[d,p,v]=Ga({type:"groups",item:()=>({index:r,draggableId:e,droppableId:"groups",type:"groups"}),collect:x=>{var C;return((C=x.getItem())==null?void 0:C.draggableId)===e}}),[h,g]=Ji({accept:"groups",hover(x,C){var I;if(!f.current||y=="welcome"||y=="end"||!C.isOver({shallow:!0})||!x||x.droppableId!="groups")return;const A=x.index,w=r;if(A===w)return;const k=(I=f.current)==null?void 0:I.getBoundingClientRect(),E=C.getClientOffset();A<w&&E.y<k.top+50||A>w&&E.y>k.bottom-50||(a(Si({type:"reorder_groups",id:x.draggableId,fromIndex:A,toIndex:w})),x.index=w)}}),y=o==null?void 0:o.groupType.toLowerCase(),m=o==null?void 0:o.children,_=x=>{const C={transition:"all 500ms"};return x&&(C.opacity=.2),C};g(v(f));const b=lp(c.palette.background.paper),S=c.textStyles.question.color;if(!o)return null;const O=(i==null?void 0:i.type)==="group"&&i.index===r;return T.jsxs(gt,{sx:u?{border:"0.5px solid ".concat(S),color:S,backgroundColor:b}:{backgroundColor:"background.paper"},className:"".concat($a.topLevel," ").concat(O?$a.highlight:""),ref:f,style:_(d),children:[l==!0&&y!=="welcome"&&y!=="end"?T.jsx("div",{className:$a.moveBox,ref:p,children:T.jsx(um,{style:{color:S}})}):T.jsx("br",{}),T.jsx(I9,{t,code:e,index:r,designMode:n,children:m}),l!==!0&&T.jsxs(T.Fragment,{children:[m&&m.length>0&&T.jsx(Gh,{index:0,parentCode:e,parentType:y,parentIndex:r,t}),m==null?void 0:m.map((x,C)=>T.jsxs(P.Fragment,{children:[T.jsx(Vz,{t,parentCode:e,parentIndex:r,index:C,isLast:m.length==C+1,type:x.type,code:x.code,designMode:n,onMainLang:s,lastAddedComponent:i},x.code),T.jsx(Gh,{isLast:m.length==C+1,index:C+1,parentIndex:r,parentCode:e,parentType:y,t})]},x.code)),(!m||!m.length)&&s&&T.jsx(Gh,{t,index:0,parentCode:e,parentType:y,emptyGroup:!0})]})]})}const P9=P.memo(A9),Tp=0,Ao=1,Jl=2,qC=4;function HC(t,e){return r=>t(e(r))}function j9(t,e){return e(t)}function zC(t,e){return r=>t(e,r)}function E_(t,e){return()=>t(e)}function kp(t,e){return e(t),t}function Cr(...t){return t}function L9(t){t()}function C_(t){return()=>t}function F9(...t){return()=>{t.map(L9)}}function zm(t){return t!==void 0}function Ql(){}function Wt(t,e){return t(Ao,e)}function vt(t,e){t(Tp,e)}function Um(t){t(Jl)}function mn(t){return t(qC)}function We(t,e){return Wt(t,zC(e,Tp))}function ya(t,e){const r=t(Ao,n=>{r(),e(n)});return r}function Pt(){const t=[];return(e,r)=>{switch(e){case Jl:t.splice(0,t.length);return;case Ao:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)};case Tp:t.slice().forEach(n=>{n(r)});return;default:throw new Error("unrecognized action ".concat(e))}}}function Ae(t){let e=t;const r=Pt();return(n,i)=>{switch(n){case Ao:i(e);break;case Tp:e=i;break;case qC:return e}return r(n,i)}}function R9(t){let e,r;const n=()=>e&&e();return function(i,a){switch(i){case Ao:return a?r===a?void 0:(n(),r=a,e=Wt(t,a),e):(n(),Ql);case Jl:n(),r=null;return;default:throw new Error("unrecognized action ".concat(i))}}}function Zn(t){return kp(Pt(),e=>We(t,e))}function In(t,e){return kp(Ae(e),r=>We(t,r))}function $9(...t){return e=>t.reduceRight(j9,e)}function xe(t,...e){const r=$9(...e);return(n,i)=>{switch(n){case Ao:return Wt(t,r(i));case Jl:Um(t);return}}}function UC(t,e){return t===e}function Er(t=UC){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function tt(t){return e=>r=>{t(r)&&e(r)}}function Ve(t){return e=>HC(e,t)}function oa(t){return e=>()=>e(t)}function pa(t,e){return r=>n=>r(e=t(e,n))}function Cl(t){return e=>r=>{t>0?t--:e(r)}}function fo(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function T_(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function yt(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Wt(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>a([o].concat(e));r===i?s():n=s}}function k_(...t){return function(e,r){switch(e){case Ao:return F9(...t.map(n=>Wt(n,r)));case Jl:return;default:throw new Error("unrecognized action ".concat(e))}}}function et(t,e=UC){return xe(t,Er(e))}function sn(...t){const e=Pt(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Wt(a,l=>{r[o]=l,n=n|s,n===i&&vt(e,r)})}),function(a,o){switch(a){case Ao:return n===i&&o(r),Wt(e,o);case Jl:return Um(e);default:throw new Error("unrecognized action ".concat(a))}}}function Xt(t,e=[],{singleton:r}={singleton:!0}){return{id:N9(),constructor:t,dependencies:e,singleton:r}}const N9=()=>Symbol();function D9(t){const e=new Map,r=({id:n,constructor:i,dependencies:a,singleton:o})=>{if(o&&e.has(n))return e.get(n);const s=i(a.map(l=>r(l)));return o&&e.set(n,s),s};return r(t)}function M9(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)n.hasOwnProperty(o)||(r[o]=e[o]);return r}const Af=typeof document<"u"?P.useLayoutEffect:P.useEffect;function WC(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=P.createContext({});function l(y,m){y.propsReady&&vt(y.propsReady,!1);for(const _ of n){const b=y[e.required[_]];vt(b,m[_])}for(const _ of i)if(_ in m){const b=y[e.optional[_]];vt(b,m[_])}y.propsReady&&vt(y.propsReady,!0)}function u(y){return a.reduce((m,_)=>(m[_]=b=>{const S=y[e.methods[_]];vt(S,b)},m),{})}function c(y){return o.reduce((m,_)=>(m[_]=R9(y[e.events[_]]),m),{})}const f=P.forwardRef((y,m)=>{const{children:_,...b}=y,[S]=P.useState(()=>kp(D9(t),C=>l(C,b))),[O]=P.useState(E_(c,S));Af(()=>{for(const C of o)C in b&&Wt(O[C],b[C]);return()=>{Object.values(O).map(Um)}},[b,O,S]),Af(()=>{l(S,b)}),P.useImperativeHandle(m,C_(u(S)));const x=r;return T.jsx(s.Provider,{value:S,children:r?T.jsx(x,{...M9([...n,...i,...o],b),children:_}):_})}),d=y=>P.useCallback(zC(vt,P.useContext(s)[y]),[y]),p=y=>{const _=P.useContext(s)[y],b=P.useCallback(S=>Wt(_,S),[_]);return P.useSyncExternalStore(b,()=>mn(_),()=>mn(_))},v=y=>{const _=P.useContext(s)[y],[b,S]=P.useState(E_(mn,_));return Af(()=>Wt(_,O=>{O!==b&&S(C_(O))}),[_,b]),b},h=P.version.startsWith("18")?p:v;return{Component:f,usePublisher:d,useEmitterValue:h,useEmitter:(y,m)=>{const b=P.useContext(s)[y];Af(()=>Wt(b,m),[m,b])}}}const GC=typeof document<"u"?P.useLayoutEffect:P.useEffect;var ei=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(ei||{});const V9={0:"debug",1:"log",2:"warn",3:"error"},B9=()=>typeof globalThis>"u"?window:globalThis,Po=Xt(()=>{const t=Ae(3);return{log:Ae((r,n,i=1)=>{var a;const o=(a=B9().VIRTUOSO_LOG_LEVEL)!=null?a:mn(t);i>=o&&console[V9[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:t}},[],{singleton:!0});function Wm(t,e,r){const n=P.useRef(null);let i=a=>{};if(typeof ResizeObserver<"u"){const a=P.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const l=o[0].target;l.offsetParent!==null&&t(l)};r?s():requestAnimationFrame(s)}),[t]);i=o=>{o&&e?(a.observe(o),n.current=o):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:i}}function gs(t,e,r){return Wm(t,e,r).callbackRef}function q9(t,e,r,n,i,a,o,s,l){const u=P.useCallback(c=>{const f=H9(c.children,e,s?"offsetWidth":"offsetHeight",i);let d=c.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const p=d.lastElementChild.dataset.viewportType==="window",v=o?s?o.scrollLeft:o.scrollTop:p?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?d.scrollLeft:d.scrollTop,h=o?s?o.scrollWidth:o.scrollHeight:p?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?d.scrollWidth:d.scrollHeight,g=o?s?o.offsetWidth:o.offsetHeight:p?s?window.innerWidth:window.innerHeight:s?d.offsetWidth:d.offsetHeight;n({scrollTop:Math.max(v,0),scrollHeight:h,viewportHeight:g}),a==null||a(s?I_("column-gap",getComputedStyle(c).columnGap,i):I_("row-gap",getComputedStyle(c).rowGap,i)),f!==null&&t(f)},[t,e,i,a,o,n]);return Wm(u,r,l)}function H9(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(!s||s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),c=e(s,r);if(c===0&&n("Zero-sized element, this should not happen",{child:s},ei.ERROR),c===u)continue;const f=a[a.length-1];a.length===0||f.size!==c||f.endIndex!==l-1?a.push({startIndex:l,endIndex:l,size:c}):a[a.length-1].endIndex++}return a}function I_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ei.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function Oo(t,e){return Math.round(t.getBoundingClientRect()[e])}function YC(t,e){return Math.abs(t-e)<1.01}function KC(t,e,r,n=Ql,i,a){const o=P.useRef(null),s=P.useRef(null),l=P.useRef(null),u=P.useCallback(d=>{const p=d.target,v=p===window||p===document,h=a?v?window.pageXOffset||document.documentElement.scrollLeft:p.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,g=a?v?document.documentElement.scrollWidth:p.scrollWidth:v?document.documentElement.scrollHeight:p.scrollHeight,y=a?v?window.innerWidth:p.offsetWidth:v?window.innerHeight:p.offsetHeight,m=()=>{t({scrollTop:Math.max(h,0),scrollHeight:g,viewportHeight:y})};d.suppressFlushSync?m():WF.flushSync(m),s.current!==null&&(h===s.current||h<=0||h===g-y)&&(s.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);P.useEffect(()=>{const d=i||o.current;return n(i||o.current),u({target:d,suppressFlushSync:!0}),d.addEventListener("scroll",u,{passive:!0}),()=>{n(null),d.removeEventListener("scroll",u)}},[o,u,r,n,i]);function c(d){const p=o.current;if(!p||(a?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const v=d.behavior==="smooth";let h,g,y;p===window?(g=Math.max(Oo(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),h=a?window.innerWidth:window.innerHeight,y=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(g=p[a?"scrollWidth":"scrollHeight"],h=Oo(p,a?"width":"height"),y=p[a?"scrollLeft":"scrollTop"]);const m=g-h;if(d.top=Math.ceil(Math.max(Math.min(m,d.top),0)),YC(h,g)||d.top===y){t({scrollTop:y,scrollHeight:g,viewportHeight:h}),v&&e(!0);return}v?(s.current=d.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(d={left:d.top,behavior:d.behavior}),p.scrollTo(d)}function f(d){a&&(d={left:d.top,behavior:d.behavior}),o.current.scrollBy(d)}return{scrollerRef:o,scrollByCallback:f,scrollToCallback:c}}const $n=Xt(()=>{const t=Pt(),e=Pt(),r=Ae(0),n=Pt(),i=Ae(0),a=Pt(),o=Pt(),s=Ae(0),l=Ae(0),u=Ae(0),c=Ae(0),f=Pt(),d=Pt(),p=Ae(!1),v=Ae(!1),h=Ae(!1);return We(xe(t,Ve(({scrollTop:g})=>g)),e),We(xe(t,Ve(({scrollHeight:g})=>g)),o),We(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:n,horizontalDirection:v,skipAnimationFrameInResizeObserver:h,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),ac={lvl:0};function JC(t,e,r,n=ac,i=ac){return{k:t,v:e,lvl:r,l:n,r:i}}function nr(t){return t===ac}function bl(){return ac}function Qv(t,e){if(nr(t))return ac;const{k:r,l:n,r:i}=t;if(e===r){if(nr(n))return i;if(nr(i))return n;{const[a,o]=QC(n);return od(Xr(t,{k:a,v:o,l:XC(n)}))}}else return e<r?od(Xr(t,{l:Qv(n,e)})):od(Xr(t,{r:Qv(i,e)}))}function oc(t,e){if(!nr(t))return e===t.k?t.v:e<t.k?oc(t.l,e):oc(t.r,e)}function Vi(t,e,r="k"){if(nr(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=Vi(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Vi(t.l,e,r)}function Jn(t,e,r){return nr(t)?JC(e,r,1):e===t.k?Xr(t,{k:e,v:r}):e<t.k?A_(Xr(t,{l:Jn(t.l,e,r)})):A_(Xr(t,{r:Jn(t.r,e,r)}))}function Xv(t,e,r){if(nr(t))return[];const{k:n,v:i,l:a,r:o}=t;let s=[];return n>e&&(s=s.concat(Xv(a,e,r))),n>=e&&n<=r&&s.push({k:n,v:i}),n<=r&&(s=s.concat(Xv(o,e,r))),s}function Yo(t){return nr(t)?[]:[...Yo(t.l),{k:t.k,v:t.v},...Yo(t.r)]}function QC(t){return nr(t.r)?[t.k,t.v]:QC(t.r)}function XC(t){return nr(t.r)?t.l:od(Xr(t,{r:XC(t.r)}))}function Xr(t,e){return JC(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Yh(t){return nr(t)||t.lvl>t.r.lvl}function A_(t){return Zv(eT(t))}function od(t){const{l:e,r,lvl:n}=t;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if(Yh(e))return eT(Xr(t,{lvl:n-1}));if(!nr(e)&&!nr(e.r))return Xr(e.r,{l:Xr(e,{r:e.r.l}),r:Xr(t,{l:e.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if(Yh(t))return Zv(Xr(t,{lvl:n-1}));if(!nr(r)&&!nr(r.l)){const i=r.l,a=Yh(i)?r.lvl-1:r.lvl;return Xr(i,{l:Xr(t,{r:i.l,lvl:n-1}),r:Zv(Xr(r,{l:i.r,lvl:a})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function Ip(t,e,r){if(nr(t))return[];const n=Vi(t,e)[0];return z9(Xv(t,n,r))}function ZC(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({start:n,end:s-1,value:i}),n=s,i=l}return a.push({start:n,end:1/0,value:i}),a}function z9(t){return ZC(t,({k:e,v:r})=>({index:e,value:r}))}function Zv(t){const{r:e,lvl:r}=t;return!nr(e)&&!nr(e.r)&&e.lvl===r&&e.r.lvl===r?Xr(e,{l:Xr(t,{r:e.l}),lvl:r+1}):t}function eT(t){const{l:e}=t;return!nr(e)&&e.lvl===t.lvl?Xr(e,{r:Xr(t,{l:e.r})}):t}function kd(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error("Failed binary finding record in array - ".concat(t.join(","),", searched for ").concat(e))}function tT(t,e,r){return t[kd(t,e,r)]}function U9(t,e,r,n){const i=kd(t,e,n),a=kd(t,r,n,i);return t.slice(i,a+1)}const Gm=Xt(()=>({recalcInProgress:Ae(!1)}),[],{singleton:!0});function W9(t){const{size:e,startIndex:r,endIndex:n}=t;return i=>i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}function P_(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function G9(t,e){let r=nr(t)?0:1/0;for(const n of e){const{size:i,startIndex:a,endIndex:o}=n;if(r=Math.min(r,a),nr(t)){t=Jn(t,0,i);continue}const s=Ip(t,a-1,o+1);if(s.some(W9(n)))continue;let l=!1,u=!1;for(const{start:c,end:f,value:d}of s)l?(o>=c||i===d)&&(t=Qv(t,c)):(u=d!==i,l=!0),f>o&&o>=c&&d!==i&&(t=Jn(t,o+1,d));u&&(t=Jn(t,a,i))}return[t,r]}function Y9(){return{offsetTree:[],sizeTree:bl(),groupOffsetTree:bl(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Ym({index:t},e){return e===t?0:e<t?-1:1}function K9({offset:t},e){return e===t?0:e<t?-1:1}function J9(t){return{index:t.index,value:t}}function Q9(t,e,r,n=0){return n>0&&(e=Math.max(e,tT(t,n,Ym).offset)),ZC(U9(t,e,r,K9),J9)}function eg(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=kd(i,e-1,Ym),s=i[l].offset;const c=Vi(r,e-1);a=c[0],o=c[1],i.length&&i[l].size===Vi(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:c}of Ip(r,e,1/0)){const f=u-a,d=f*o+s+f*n;i.push({offset:d,size:c,index:u}),a=u,s=d,o=c}return{offsetTree:i,lastIndex:a,lastOffset:s,lastSize:o}}function X9(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,ei.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&nr(a)&&e.length===2){const d=e[0].size,p=e[1].size;o=r.reduce((v,h)=>Jn(Jn(v,h,d),h+1,p),o)}else[o,s]=G9(o,e);if(o===a)return t;const{offsetTree:l,lastIndex:u,lastSize:c,lastOffset:f}=eg(t.offsetTree,s,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((d,p)=>Jn(d,p,sc(p,l,i)),bl()),groupIndices:r}}function sc(t,e,r){if(e.length===0)return 0;const{offset:n,index:i,size:a}=tT(e,t,Ym),o=t-i,s=a*o+(o-1)*r+n;return s>0?s+r:s}function Z9(t){return typeof t.groupIndex<"u"}function rT(t,e,r){if(Z9(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=nT(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function nT(t,e){if(!Ap(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function Ap(t){return!nr(t.groupOffsetTree)}function eU(t){return Yo(t).map(({k:e,v:r},n,i)=>{const a=i[n+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:r}})}const tU={offsetHeight:"height",offsetWidth:"width"},xa=Xt(([{log:t},{recalcInProgress:e}])=>{const r=Pt(),n=Pt(),i=In(n,0),a=Pt(),o=Pt(),s=Ae(0),l=Ae([]),u=Ae(void 0),c=Ae(void 0),f=Ae((S,O)=>Oo(S,tU[O])),d=Ae(void 0),p=Ae(0),v=Y9(),h=In(xe(r,yt(l,t,p),pa(X9,v),Er()),v),g=In(xe(l,Er(),pa((S,O)=>({prev:S.current,current:O}),{prev:[],current:[]}),Ve(({prev:S})=>S)),[]);We(xe(l,tt(S=>S.length>0),yt(h,p),Ve(([S,O,x])=>{const C=S.reduce((A,w,k)=>Jn(A,w,sc(w,O.offsetTree,x)||k),bl());return{...O,groupIndices:S,groupOffsetTree:C}})),h),We(xe(n,yt(h),tt(([S,{lastIndex:O}])=>S<O),Ve(([S,{lastIndex:O,lastSize:x}])=>[{startIndex:S,endIndex:O,size:x}])),r),We(u,c);const y=In(xe(u,Ve(S=>S===void 0)),!0);We(xe(c,tt(S=>S!==void 0&&nr(mn(h).sizeTree)),Ve(S=>[{startIndex:0,endIndex:0,size:S}])),r);const m=Zn(xe(r,yt(h),pa(({sizes:S},[O,x])=>({changed:x!==S,sizes:x}),{changed:!1,sizes:v}),Ve(S=>S.changed)));Wt(xe(s,pa((S,O)=>({diff:S.prev-O,prev:O}),{diff:0,prev:0}),Ve(S=>S.diff)),S=>{const{groupIndices:O}=mn(h);if(S>0)vt(e,!0),vt(a,S+P_(S,O));else if(S<0){const x=mn(g);x.length>0&&(S-=P_(-S,x)),vt(o,S)}}),Wt(xe(s,yt(t)),([S,O])=>{S<0&&O("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},ei.ERROR)});const _=Zn(a);We(xe(a,yt(h),Ve(([S,O])=>{const x=O.groupIndices.length>0,C=[],A=O.lastSize;if(x){const w=oc(O.sizeTree,0);let k=0,E=0;for(;k<S;){const L=O.groupIndices[E],M=O.groupIndices.length===E+1?1/0:O.groupIndices[E+1]-L-1;C.push({startIndex:L,endIndex:L,size:w}),C.push({startIndex:L+1,endIndex:L+1+M-1,size:A}),E++,k+=M+1}const I=Yo(O.sizeTree);return k!==S&&I.shift(),I.reduce((L,{k:M,v:R})=>{let U=L.ranges;return L.prevSize!==0&&(U=[...L.ranges,{startIndex:L.prevIndex,endIndex:M+S-1,size:L.prevSize}]),{ranges:U,prevIndex:M+S,prevSize:R}},{ranges:C,prevIndex:S,prevSize:0}).ranges}return Yo(O.sizeTree).reduce((w,{k,v:E})=>({ranges:[...w.ranges,{startIndex:w.prevIndex,endIndex:k+S-1,size:w.prevSize}],prevIndex:k+S,prevSize:E}),{ranges:[],prevIndex:0,prevSize:A}).ranges})),r);const b=Zn(xe(o,yt(h,p),Ve(([S,{offsetTree:O},x])=>{const C=-S;return sc(C,O,x)})));return We(xe(o,yt(h,p),Ve(([S,O,x])=>{if(O.groupIndices.length>0){if(nr(O.sizeTree))return O;let A=bl();const w=mn(g);let k=0,E=0,I=0;for(;k<-S;){I=w[E];const L=w[E+1]-I-1;E++,k+=L+1}if(A=Yo(O.sizeTree).reduce((L,{k:M,v:R})=>Jn(L,Math.max(0,M+S),R),A),k!==-S){const L=oc(O.sizeTree,I);A=Jn(A,0,L);const M=Vi(O.sizeTree,-S+1)[1];A=Jn(A,1,M)}return{...O,sizeTree:A,...eg(O.offsetTree,0,A,x)}}else{const A=Yo(O.sizeTree).reduce((w,{k,v:E})=>Jn(w,Math.max(0,k+S),E),bl());return{...O,sizeTree:A,...eg(O.offsetTree,0,A,x)}}})),h),{data:d,totalCount:n,sizeRanges:r,groupIndices:l,defaultItemSize:c,fixedItemSize:u,unshiftWith:a,shiftWith:o,shiftWithOffset:b,beforeUnshiftWith:_,firstItemIndex:s,gap:p,sizes:h,listRefresh:m,statefulTotalCount:i,trackItemSizes:y,itemSize:f}},Cr(Po,Gm),{singleton:!0}),rU=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function iT(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!rU)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const jc=Xt(([{sizes:t,totalCount:e,listRefresh:r,gap:n},{scrollingInProgress:i,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:l,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{const p=Pt(),v=Pt(),h=Ae(0);let g=null,y=null,m=null;function _(){g&&(g(),g=null),m&&(m(),m=null),y&&(clearTimeout(y),y=null),vt(i,!1)}return We(xe(p,yt(t,a,e,h,l,u,d),yt(n,c,f),Ve(([[b,S,O,x,C,A,w,k],E,I,j])=>{const L=iT(b),{align:M,behavior:R,offset:U}=L,V=x-1,$=rT(L,S,V);let F=sc($,S.offsetTree,E)+A;M==="end"?(F+=I+Vi(S.sizeTree,$)[1]-O+j,$===V&&(F+=w)):M==="center"?F+=(I+Vi(S.sizeTree,$)[1]-O+j)/2:F-=C,U&&(F+=U);const N=B=>{_(),B?(k("retrying to scroll to",{location:b},ei.DEBUG),vt(p,b)):(vt(v,!0),k("list did not change, scroll successful",{},ei.DEBUG))};if(_(),R==="smooth"){let B=!1;m=Wt(r,z=>{B=B||z}),g=ya(s,()=>{N(B)})}else g=ya(xe(r,nU(150)),N);return y=setTimeout(()=>{_()},1200),vt(i,!0),k("scrolling from index to",{index:$,top:F,behavior:R},ei.DEBUG),{top:F,behavior:R}})),o),{scrollToIndex:p,scrollTargetReached:v,topListHeight:h}},Cr(xa,$n,Po),{singleton:!0});function nU(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}const lc="up",Gu="down",iU="none",aU={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},oU=0,Lc=Xt(([{scrollContainerState:t,scrollTop:e,viewportHeight:r,headerHeight:n,footerHeight:i,scrollBy:a}])=>{const o=Ae(!1),s=Ae(!0),l=Pt(),u=Pt(),c=Ae(4),f=Ae(oU),d=In(xe(k_(xe(et(e),Cl(1),oa(!0)),xe(et(e),Cl(1),oa(!1),T_(100))),Er()),!1),p=In(xe(k_(xe(a,oa(!0)),xe(a,oa(!1),T_(200))),Er()),!1);We(xe(sn(et(e),et(f)),Ve(([m,_])=>m<=_),Er()),s),We(xe(s,fo(50)),u);const v=Zn(xe(sn(t,et(r),et(n),et(i),et(c)),pa((m,[{scrollTop:_,scrollHeight:b},S,O,x,C])=>{const A=_+S-b>-C,w={viewportHeight:S,scrollTop:_,scrollHeight:b};if(A){let E,I;return _>m.state.scrollTop?(E="SCROLLED_DOWN",I=m.state.scrollTop-_):(E="SIZE_DECREASED",I=m.state.scrollTop-_||m.scrollTopDelta),{atBottom:!0,state:w,atBottomBecause:E,scrollTopDelta:I}}let k;return w.scrollHeight>m.state.scrollHeight?k="SIZE_INCREASED":S<m.state.viewportHeight?k="VIEWPORT_HEIGHT_DECREASING":_<m.state.scrollTop?k="SCROLLING_UPWARDS":k="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:k,state:w}},aU),Er((m,_)=>m&&m.atBottom===_.atBottom))),h=In(xe(t,pa((m,{scrollTop:_,scrollHeight:b,viewportHeight:S})=>{if(YC(m.scrollHeight,b))return{scrollTop:_,scrollHeight:b,jump:0,changed:!1};{const O=b-(_+S)<1;return m.scrollTop!==_&&O?{scrollHeight:b,scrollTop:_,jump:m.scrollTop-_,changed:!0}:{scrollHeight:b,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),tt(m=>m.changed),Ve(m=>m.jump)),0);We(xe(v,Ve(m=>m.atBottom)),o),We(xe(o,fo(50)),l);const g=Ae(Gu);We(xe(t,Ve(({scrollTop:m})=>m),Er(),pa((m,_)=>mn(p)?{direction:m.direction,prevScrollTop:_}:{direction:_<m.prevScrollTop?lc:Gu,prevScrollTop:_},{direction:Gu,prevScrollTop:0}),Ve(m=>m.direction)),g),We(xe(t,fo(50),oa(iU)),g);const y=Ae(0);return We(xe(d,tt(m=>!m),oa(0)),y),We(xe(e,fo(100),yt(d),tt(([m,_])=>!!_),pa(([m,_],[b])=>[_,b],[0,0]),Ve(([m,_])=>_-m)),y),{isScrolling:d,isAtTop:s,isAtBottom:o,atBottomState:v,atTopStateChange:u,atBottomStateChange:l,scrollDirection:g,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:h}},Cr($n)),jo=Xt(([{log:t}])=>{const e=Ae(!1),r=Zn(xe(e,tt(n=>n),Er()));return Wt(e,n=>{n&&mn(t)("props updated",{},ei.DEBUG)}),{propsReady:e,didMount:r}},Cr(Po),{singleton:!0});function Km(t,e){t==0?e():requestAnimationFrame(()=>Km(t-1,e))}function Jm(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Fc=Xt(([{sizes:t,listRefresh:e,defaultItemSize:r},{scrollTop:n},{scrollToIndex:i,scrollTargetReached:a},{didMount:o}])=>{const s=Ae(!0),l=Ae(0),u=Ae(!0);return We(xe(o,yt(l),tt(([c,f])=>!!f),oa(!1)),s),We(xe(o,yt(l),tt(([c,f])=>!!f),oa(!1)),u),Wt(xe(sn(e,o),yt(s,t,r,u),tt(([[,c],f,{sizeTree:d},p,v])=>c&&(!nr(d)||zm(p))&&!f&&!v),yt(l)),([,c])=>{ya(a,()=>{vt(u,!0)}),Km(4,()=>{ya(n,()=>{vt(s,!0)}),vt(i,c)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:l,initialItemFinalLocationReached:u}},Cr(xa,$n,jc,jo),{singleton:!0});function j_(t){return t?t==="smooth"?"smooth":"auto":!1}const sU=(t,e)=>typeof t=="function"?j_(t(e)):e&&j_(t),lU=Xt(([{totalCount:t,listRefresh:e},{isAtBottom:r,atBottomState:n},{scrollToIndex:i},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:l},{scrollingInProgress:u}])=>{const c=Ae(!1),f=Pt();let d=null;function p(h){vt(i,{index:"LAST",align:"end",behavior:h})}Wt(xe(sn(xe(et(t),Cl(1)),s),yt(et(c),r,a,u),Ve(([[h,g],y,m,_,b])=>{let S=g&&_,O="auto";return S&&(O=sU(y,m||b),S=S&&!!O),{totalCount:h,shouldFollow:S,followOutputBehavior:O}}),tt(({shouldFollow:h})=>h)),({totalCount:h,followOutputBehavior:g})=>{d&&(d(),d=null),d=ya(e,()=>{mn(l)("following output to ",{totalCount:h},ei.DEBUG),p(g),d=null})});function v(h){const g=ya(n,y=>{h&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!d&&(mn(l)("scrolling to bottom due to increased size",{},ei.DEBUG),p("auto"))});setTimeout(g,100)}return Wt(xe(sn(et(c),t,o),tt(([h,,g])=>h&&g),pa(({value:h},[,g])=>({refreshed:h===g,value:g}),{refreshed:!1,value:0}),tt(({refreshed:h})=>h),yt(c,t)),([,h])=>{mn(a)&&v(h!==!1)}),Wt(f,()=>{v(mn(c)!==!1)}),Wt(sn(et(c),n),([h,g])=>{h&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:c,autoscrollToBottom:f}},Cr(xa,Lc,jc,Fc,jo,Po,$n));function uU(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{totalCount:0,groupIndices:[]})}const aT=Xt(([{totalCount:t,groupIndices:e,sizes:r},{scrollTop:n,headerHeight:i}])=>{const a=Pt(),o=Pt(),s=Zn(xe(a,Ve(uU)));return We(xe(s,Ve(l=>l.totalCount)),t),We(xe(s,Ve(l=>l.groupIndices)),e),We(xe(sn(n,r,i),tt(([l,u])=>Ap(u)),Ve(([l,u,c])=>Vi(u.groupOffsetTree,Math.max(l-c,0),"v")[0]),Er(),Ve(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},Cr(xa,$n));function uc(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function oT(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const Id="top",Ad="bottom",L_="none";function F_(t,e,r){return typeof t=="number"?r===lc&&e===Id||r===Gu&&e===Ad?t:0:r===lc?e===Id?t.main:t.reverse:e===Ad?t.main:t.reverse}function R_(t,e){return typeof t=="number"?t:t[e]||0}const Qm=Xt(([{scrollTop:t,viewportHeight:e,deviation:r,headerHeight:n,fixedHeaderHeight:i}])=>{const a=Pt(),o=Ae(0),s=Ae(0),l=Ae(0),u=In(xe(sn(et(t),et(e),et(n),et(a,uc),et(l),et(o),et(i),et(r),et(s)),Ve(([c,f,d,[p,v],h,g,y,m,_])=>{const b=c-m,S=g+y,O=Math.max(d-b,0);let x=L_;const C=R_(_,Id),A=R_(_,Ad);return p-=m,p+=d+y,v+=d+y,v-=m,p>c+S-C&&(x=lc),v<c-O+f+A&&(x=Gu),x!==L_?[Math.max(b-d-F_(h,Id,x)-C,0),b-O-y+f+F_(h,Ad,x)+A]:null}),tt(c=>c!=null),Er(uc)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:o,increaseViewportBy:s,visibleRange:u}},Cr($n),{singleton:!0});function cU(t,e,r){if(Ap(e)){const n=nT(t,e);return[{index:Vi(e.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:t,size:0,offset:0,data:r&&r[0]}]}const Kh={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function $_(t,e,r){if(t.length===0)return[];if(!Ap(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=Ip(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let c;u.index===s.start?c={type:"group",index:l}:c={index:u.index-(l+1)+r,groupIndex:l},a.push({...c,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return a}function sd(t,e,r,n,i,a){const{lastSize:o,lastOffset:s,lastIndex:l}=i;let u=0,c=0;if(t.length>0){u=t[0].offset;const h=t[t.length-1];c=h.offset+h.size}const f=r-l,d=s+f*o+(f-1)*n,p=u,v=d-c;return{items:$_(t,i,a),topItems:$_(e,i,a),topListHeight:e.reduce((h,g)=>g.size+h,0),offsetTop:u,offsetBottom:v,top:p,bottom:c,totalCount:r,firstItemIndex:a}}function sT(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const c of r.groupIndices){if(c-o>=t)break;o++}const s=t+o,l=Jm(e,s),u=Array.from({length:s}).map((c,f)=>({index:f+l,size:0,offset:0,data:a[f+l]}));return sd(u,[],s,i,r,n)}const ms=Xt(([{sizes:t,totalCount:e,data:r,firstItemIndex:n,gap:i},a,{visibleRange:o,listBoundary:s,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:f},d,{didMount:p},{recalcInProgress:v}])=>{const h=Ae([]),g=Ae(0),y=Pt();We(a.topItemsIndexes,h);const m=In(xe(sn(p,v,et(o,uc),et(e),et(t),et(c),u,et(h),et(n),et(i),r),tt(([O,x,,C,,,,,,,A])=>{const w=A&&A.length!==C;return O&&!x&&!w}),Ve(([,,[O,x],C,A,w,k,E,I,j,L])=>{const M=A,{sizeTree:R,offsetTree:U}=M,V=mn(g);if(C===0)return{...Kh,totalCount:C};if(O===0&&x===0)return V===0?{...Kh,totalCount:C}:sT(V,w,A,I,j,L||[]);if(nr(R))return V>0?null:sd(cU(Jm(w,C),M,L),[],C,j,M,I);const $=[];if(E.length>0){const H=E[0],D=E[E.length-1];let G=0;for(const q of Ip(R,H,D)){const Y=q.value,K=Math.max(q.start,H),ie=Math.min(q.end,D);for(let te=K;te<=ie;te++)$.push({index:te,size:Y,offset:G,data:L&&L[te]}),G+=Y}}if(!k)return sd([],$,C,j,M,I);const F=E.length>0?E[E.length-1]+1:0,N=Q9(U,O,x,F);if(N.length===0)return null;const B=C-1,z=kp([],H=>{for(const D of N){const G=D.value;let q=G.offset,Y=D.start;const K=G.size;if(G.offset<O){Y+=Math.floor((O-G.offset+j)/(K+j));const te=Y-D.start;q+=te*K+te*j}Y<F&&(q+=(F-Y)*K,Y=F);const ie=Math.min(D.end,B);for(let te=Y;te<=ie&&!(q>=x);te++)H.push({index:te,size:K,offset:q,data:L&&L[te]}),q+=K+j}});return sd(z,$,C,j,M,I)}),tt(O=>O!==null),Er()),Kh);We(xe(r,tt(zm),Ve(O=>O==null?void 0:O.length)),e),We(xe(m,Ve(O=>O.topListHeight)),f),We(f,l),We(xe(m,Ve(O=>[O.top,O.bottom])),s),We(xe(m,Ve(O=>O.items)),y);const _=Zn(xe(m,tt(({items:O})=>O.length>0),yt(e,r),tt(([{items:O},x])=>O[O.length-1].originalIndex===x-1),Ve(([,O,x])=>[O-1,x]),Er(uc),Ve(([O])=>O))),b=Zn(xe(m,fo(200),tt(({items:O,topItems:x})=>O.length>0&&O[0].originalIndex===x.length),Ve(({items:O})=>O[0].index),Er())),S=Zn(xe(m,tt(({items:O})=>O.length>0),Ve(({items:O})=>{let x=0,C=O.length-1;for(;O[x].type==="group"&&x<C;)x++;for(;O[C].type==="group"&&C>x;)C--;return{startIndex:O[x].index,endIndex:O[C].index}}),Er(oT)));return{listState:m,topItemsIndexes:h,endReached:_,startReached:b,rangeChanged:S,itemsRendered:y,initialItemCount:g,...d}},Cr(xa,aT,Qm,Fc,jc,Lc,jo,Gm),{singleton:!0}),fU=Xt(([{sizes:t,firstItemIndex:e,data:r,gap:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(We(xe(s,yt(a),tt(([,l])=>l!==0),yt(i,t,e,n,r),Ve(([[,l],u,c,f,d,p=[]])=>sT(l,u,c,f,d,p))),o),{}),Cr(xa,Fc,ms,jo),{singleton:!0}),lT=Xt(([{scrollVelocity:t}])=>{const e=Ae(!1),r=Pt(),n=Ae(!1);return We(xe(t,yt(n,e,r),tt(([i,a])=>!!a),Ve(([i,a,o,s])=>{const{exit:l,enter:u}=a;if(o){if(l(i,s))return!1}else if(u(i,s))return!0;return o}),Er()),e),Wt(xe(sn(e,t,r),yt(n)),([[i,a,o],s])=>i&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:n,scrollVelocity:t,scrollSeekRangeChanged:r}},Cr(Lc),{singleton:!0}),dU=Xt(([{topItemsIndexes:t}])=>{const e=Ae(0);return We(xe(e,tt(r=>r>0),Ve(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Cr(ms)),uT=Xt(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:i}])=>{const a=Pt(),o=In(xe(sn(t,n,e,r,i),Ve(([s,l,u,c,f])=>s+l+u+c+f.offsetBottom+f.bottom)),0);return We(et(o),a),{totalListHeight:o,totalListHeightChanged:a}},Cr($n,ms),{singleton:!0});function cT(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const pU=cT(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),hU=Xt(([{scrollBy:t,scrollTop:e,deviation:r,scrollingInProgress:n},{isScrolling:i,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:f,gap:d},{log:p},{recalcInProgress:v}])=>{const h=Zn(xe(l,yt(s),pa(([,y,m,_],[{items:b,totalCount:S,bottom:O,offsetBottom:x},C])=>{const A=O+x;let w=0;return m===S&&y.length>0&&b.length>0&&(b[0].originalIndex===0&&y[0].originalIndex===0||(w=A-_,w!==0&&(w+=C))),[w,b,S,A]},[0,[],0,0]),tt(([y])=>y!==0),yt(e,o,n,a,p,v),tt(([,y,m,_,,,b])=>!b&&!_&&y!==0&&m===lc),Ve(([[y],,,,,m])=>(m("Upward scrolling compensation",{amount:y},ei.DEBUG),y))));function g(y){y>0?(vt(t,{top:-y,behavior:"auto"}),vt(r,0)):(vt(r,0),vt(t,{top:-y,behavior:"auto"}))}return Wt(xe(h,yt(r,i)),([y,m,_])=>{_&&pU()?vt(r,m-y):g(-y)}),Wt(xe(sn(In(i,!1),r,v),tt(([y,m,_])=>!y&&!_&&m!==0),Ve(([y,m])=>m),fo(1)),g),We(xe(c,Ve(y=>({top:-y}))),t),Wt(xe(u,yt(f,d),Ve(([y,{lastSize:m,groupIndices:_,sizeTree:b},S])=>{function O(x){return x*(m+S)}if(_.length===0)return O(y);{let x=0;const C=oc(b,0);let A=0,w=0;for(;A<y;){A++,x+=C;let k=_.length===w+1?1/0:_[w+1]-_[w]-1;A+k>y&&(x-=C,k=y-A+1),A+=k,x+=O(k),w++}return x}})),y=>{vt(r,y),requestAnimationFrame(()=>{vt(t,{top:y}),requestAnimationFrame(()=>{vt(r,0),vt(v,!1)})})}),{deviation:r}},Cr($n,Lc,ms,xa,Po,Gm)),vU=Xt(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ae(0);return Wt(xe(t,yt(n),tt(([,i])=>i!==0),Ve(([,i])=>({top:i}))),i=>{ya(xe(r,Cl(1),tt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{vt(e,i)})})}),{initialScrollTop:n}},Cr(jo,$n,ms),{singleton:!0}),gU=Xt(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ae(!1),n=In(xe(sn(r,t,e),tt(([i])=>i),Ve(([,i,a])=>Math.max(0,i-a)),fo(0),Er()),0);return{alignToBottom:r,paddingTopAddition:n}},Cr($n,uT),{singleton:!0}),Xm=Xt(([{scrollTo:t,scrollContainerState:e}])=>{const r=Pt(),n=Pt(),i=Pt(),a=Ae(!1),o=Ae(void 0);return We(xe(sn(r,n),Ve(([{viewportHeight:s,scrollTop:l,scrollHeight:u},{offsetTop:c}])=>({scrollTop:Math.max(0,l-c),scrollHeight:u,viewportHeight:s}))),e),We(xe(t,yt(n),Ve(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:i}},Cr($n)),mU=({itemTop:t,itemBottom:e,viewportTop:r,viewportBottom:n,locationParams:{behavior:i,align:a,...o}})=>t<r?{...o,behavior:i,align:a!=null?a:"start"}:e>n?{...o,behavior:i,align:a!=null?a:"end"}:null,yU=Xt(([{sizes:t,totalCount:e,gap:r},{scrollTop:n,viewportHeight:i,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:l},{scrollToIndex:u}])=>{const c=Pt();return We(xe(c,yt(t,i,e,a,o,s,n),yt(r),Ve(([[f,d,p,v,h,g,y,m],_])=>{const{done:b,behavior:S,align:O,calculateViewLocation:x=mU,...C}=f,A=rT(f,d,v-1),w=sc(A,d.offsetTree,_)+h+g,k=w+Vi(d.sizeTree,A)[1],E=m+g,I=m+p-y,j=x({itemTop:w,itemBottom:k,viewportTop:E,viewportBottom:I,locationParams:{behavior:S,align:O,...C}});return j?b&&ya(xe(l,tt(L=>L===!1),Cl(mn(l)?1:2)),b):b&&b(),j}),tt(f=>f!==null)),u),{scrollIntoView:c}},Cr(xa,$n,jc,ms,Po),{singleton:!0}),bU=Xt(([{sizes:t,sizeRanges:e},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=Pt(),c=Ae(void 0),f=Ae(null),d=Ae(null);return We(s,f),We(l,d),Wt(xe(u,yt(t,r,o,f,d,n)),([p,v,h,g,y,m,_])=>{const b=eU(v.sizeTree);g&&y!==null&&m!==null&&(h=y.scrollTop-m.offsetTop),h-=_,p({ranges:b,scrollTop:h})}),We(xe(c,tt(zm),Ve(_U)),i),We(xe(a,yt(c),tt(([,p])=>p!==void 0),Er(),Ve(([,p])=>p.ranges)),e),{getState:u,restoreStateFrom:c}},Cr(xa,$n,Fc,jo,Xm));function _U(t){return{offset:t.scrollTop,index:0,align:"start"}}const SU=Xt(([t,e,r,n,i,a,o,s,l,u])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u}),Cr(Qm,fU,jo,lT,uT,vU,gU,Xm,yU,Po)),OU=Xt(([{totalCount:t,sizeRanges:e,fixedItemSize:r,defaultItemSize:n,trackItemSizes:i,itemSize:a,data:o,firstItemIndex:s,groupIndices:l,statefulTotalCount:u,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v},h,g,y,{listState:m,topItemsIndexes:_,...b},{scrollToIndex:S},O,{topItemCount:x},{groupCounts:C},A])=>(We(b.rangeChanged,A.scrollSeekRangeChanged),We(xe(A.windowViewportRect,Ve(w=>w.visibleHeight)),h.viewportHeight),{totalCount:t,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v,topItemsIndexes:_,topItemCount:x,groupCounts:C,fixedItemHeight:r,defaultItemHeight:n,gap:c,...y,statefulTotalCount:u,listState:m,scrollToIndex:S,trackItemSizes:i,itemSize:a,groupIndices:l,...b,...A,...h,sizes:f,...g}),Cr(xa,Fc,$n,bU,lU,ms,jc,hU,dU,aT,SU)),Jh="-webkit-sticky",N_="sticky",fT=cT(()=>{if(typeof document>"u")return N_;const t=document.createElement("div");return t.style.position=Jh,t.style.position===Jh?Jh:N_});function dT(t,e,r){const n=P.useRef(null),i=P.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),c=u.width;let f,d;if(e){const p=e.getBoundingClientRect(),v=u.top-p.top;f=p.height-Math.max(0,v),d=v+e.scrollTop}else f=window.innerHeight-Math.max(0,u.top),d=u.top+window.pageYOffset;n.current={offsetTop:d,visibleHeight:f,visibleWidth:c},t(n.current)},[t,e]),{callbackRef:a,ref:o}=Wm(i,!0,r),s=P.useCallback(()=>{i(o.current)},[i,o]);return P.useEffect(()=>{if(e){e.addEventListener("scroll",s);const l=new ResizeObserver(()=>{requestAnimationFrame(s)});return l.observe(e),()=>{e.removeEventListener("scroll",s),l.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const pT=P.createContext(void 0),hT=P.createContext(void 0);function vT(t){return t}const xU=Xt(()=>{const t=Ae(l=>"Item ".concat(l)),e=Ae(null),r=Ae(l=>"Group ".concat(l)),n=Ae({}),i=Ae(vT),a=Ae("div"),o=Ae(Ql),s=(l,u=null)=>In(xe(n,Ve(c=>c[l]),Er()),u);return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),wU=Xt(([t,e])=>({...t,...e}),Cr(OU,xU)),EU=({height:t})=>T.jsx("div",{style:{height:t}}),CU={position:fT(),zIndex:1,overflowAnchor:"none"},gT={overflowAnchor:"none"},TU={...gT,display:"inline-block",height:"100%"},D_=P.memo(function({showTopList:e=!1}){const r=ut("listState"),n=hi("sizeRanges"),i=ut("useWindowScroll"),a=ut("customScrollParent"),o=hi("windowScrollContainerState"),s=hi("scrollContainerState"),l=a||i?o:s,u=ut("itemContent"),c=ut("context"),f=ut("groupContent"),d=ut("trackItemSizes"),p=ut("itemSize"),v=ut("log"),h=hi("gap"),g=ut("horizontalDirection"),{callbackRef:y}=q9(n,p,d,e?Ql:l,v,h,a,g,ut("skipAnimationFrameInResizeObserver")),[m,_]=P.useState(0);Zm("deviation",L=>{m!==L&&_(L)});const b=ut("EmptyPlaceholder"),S=ut("ScrollSeekPlaceholder")||EU,O=ut("ListComponent"),x=ut("ItemComponent"),C=ut("GroupComponent"),A=ut("computeItemKey"),w=ut("isSeeking"),k=ut("groupIndices").length>0,E=ut("alignToBottom"),I=ut("initialItemFinalLocationReached"),j=e?{}:{boxSizing:"border-box",...g?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,marginLeft:m!==0?m:E?"auto":0}:{marginTop:m!==0?m:E?"auto":0,paddingTop:r.offsetTop,paddingBottom:r.offsetBottom},...I?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&b?T.jsx(b,{...Tn(b,c)}):T.jsx(O,{...Tn(O,c),ref:y,style:j,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?r.topItems:r.items).map(L=>{const M=L.originalIndex,R=A(M+r.firstItemIndex,L.data,c);return w?J.createElement(S,{...Tn(S,c),key:R,index:L.index,height:L.size,type:L.type||"item",...L.type==="group"?{}:{groupIndex:L.groupIndex}}):L.type==="group"?J.createElement(C,{...Tn(C,c),key:R,"data-index":M,"data-known-size":L.size,"data-item-index":L.index,style:CU},f(L.index,c)):J.createElement(x,{...Tn(x,c),...PU(x,L.data),key:R,"data-index":M,"data-known-size":L.size,"data-item-index":L.index,"data-item-group-index":L.groupIndex,style:g?TU:gT},k?u(L.index,L.groupIndex,L.data,c):u(L.index,L.data,c))})})}),kU={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},IU={outline:"none",overflowX:"auto",position:"relative"},Pp=t=>({width:"100%",height:"100%",position:"absolute",top:0,...t?{display:"flex",flexDirection:"column"}:{}}),AU={width:"100%",position:fT(),top:0,zIndex:1};function Tn(t,e){if(typeof t!="string")return{context:e}}function PU(t,e){return{item:typeof t=="string"?void 0:e}}const jU=P.memo(function(){const e=ut("HeaderComponent"),r=hi("headerHeight"),n=ut("HeaderFooterTag"),i=gs(P.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),LU=P.memo(function(){const e=ut("FooterComponent"),r=hi("footerHeight"),n=ut("HeaderFooterTag"),i=gs(P.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null});function mT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return P.memo(function({style:a,children:o,...s}){const l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("scrollerRef"),d=r("context"),p=r("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:h,scrollToCallback:g}=KC(l,c,u,f,void 0,p);e("scrollTo",g),e("scrollBy",h);const y=p?IU:kU;return T.jsx(u,{ref:v,style:{...y,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...Tn(u,d),children:o})})}function yT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return P.memo(function({style:a,children:o,...s}){const l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("totalListHeight"),d=r("deviation"),p=r("customScrollParent"),v=r("context"),{scrollerRef:h,scrollByCallback:g,scrollToCallback:y}=KC(l,c,u,Ql,p);return GC(()=>(h.current=p||window,()=>{h.current=null}),[h,p]),e("windowScrollTo",y),e("scrollBy",g),T.jsx(u,{style:{position:"relative",...a,...f!==0?{height:f+d}:{}},"data-virtuoso-scroller":!0,...s,...Tn(u,v),children:o})})}const FU=({children:t})=>{const e=P.useContext(pT),r=hi("viewportHeight"),n=hi("fixedItemHeight"),i=ut("alignToBottom"),a=ut("horizontalDirection"),o=P.useMemo(()=>HC(r,l=>Oo(l,a?"width":"height")),[r,a]),s=gs(o,!0,ut("skipAnimationFrameInResizeObserver"));return P.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),T.jsx("div",{style:Pp(i),ref:s,"data-viewport-type":"element",children:t})},RU=({children:t})=>{const e=P.useContext(pT),r=hi("windowViewportRect"),n=hi("fixedItemHeight"),i=ut("customScrollParent"),a=dT(r,i,ut("skipAnimationFrameInResizeObserver")),o=ut("alignToBottom");return P.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),T.jsx("div",{ref:a,style:Pp(o),"data-viewport-type":"window",children:t})},$U=({children:t})=>{const e=ut("TopItemListComponent")||"div",r=ut("headerHeight"),n={...AU,marginTop:"".concat(r,"px")},i=ut("context");return T.jsx(e,{style:n,...Tn(e,i),children:t})},NU=P.memo(function(e){const r=ut("useWindowScroll"),n=ut("topItemsIndexes").length>0,i=ut("customScrollParent"),a=i||r?VU:MU,o=i||r?RU:FU;return T.jsxs(a,{...e,children:[n&&T.jsx($U,{children:T.jsx(D_,{showTopList:!0})}),T.jsxs(o,{children:[T.jsx(jU,{}),T.jsx(D_,{}),T.jsx(LU,{})]})]})}),{Component:DU,usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}=WC(wU,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},NU),MU=mT({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),VU=yT({usePublisher:hi,useEmitterValue:ut,useEmitter:Zm}),BU=DU,M_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},qU={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:V_,ceil:B_,floor:Pd,min:Qh,max:Yu}=Math;function HU(t){return{...qU,items:t}}function q_(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>{const a=r===null?null:r[i+t];return{index:i+t,data:a}})}function zU(t,e){return t&&t.column===e.column&&t.row===e.row}function Pf(t,e){return t&&t.width===e.width&&t.height===e.height}const UU=Xt(([{overscan:t,visibleRange:e,listBoundary:r,increaseViewportBy:n},{scrollTop:i,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:c,headerHeight:f},d,p,{propsReady:v,didMount:h},{windowViewportRect:g,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,windowScrollTo:b},S])=>{const O=Ae(0),x=Ae(0),C=Ae(M_),A=Ae({height:0,width:0}),w=Ae({height:0,width:0}),k=Pt(),E=Pt(),I=Ae(0),j=Ae(null),L=Ae({row:0,column:0}),M=Pt(),R=Pt(),U=Ae(!1),V=Ae(0),$=Ae(!0),F=Ae(!1),N=Ae(!1);Wt(xe(h,yt(V),tt(([q,Y])=>!!Y)),()=>{vt($,!1)}),Wt(xe(sn(h,$,w,A,V,F),tt(([q,Y,K,ie,,te])=>q&&!Y&&K.height!==0&&ie.height!==0&&!te)),([,,,,q])=>{vt(F,!0),Km(1,()=>{vt(k,q)}),ya(xe(i),()=>{vt(r,[0,0]),vt($,!0)})}),We(xe(R,tt(q=>q!=null&&q.scrollTop>0),oa(0)),x),Wt(xe(h,yt(R),tt(([,q])=>q!=null)),([,q])=>{q&&(vt(A,q.viewport),vt(w,q==null?void 0:q.item),vt(L,q.gap),q.scrollTop>0&&(vt(U,!0),ya(xe(i,Cl(1)),Y=>{vt(U,!1)}),vt(s,{top:q.scrollTop})))}),We(xe(A,Ve(({height:q})=>q)),a),We(xe(sn(et(A,Pf),et(w,Pf),et(L,(q,Y)=>q&&q.column===Y.column&&q.row===Y.row),et(i)),Ve(([q,Y,K,ie])=>({viewport:q,item:Y,gap:K,scrollTop:ie}))),M),We(xe(sn(et(O),e,et(L,zU),et(w,Pf),et(A,Pf),et(j),et(x),et(U),et($),et(V)),tt(([,,,,,,,q])=>!q),Ve(([q,[Y,K],ie,te,oe,ue,fe,,pe,Se])=>{const{row:Q,column:re}=ie,{height:de,width:ve}=te,{width:ee}=oe;if(fe===0&&(q===0||ee===0))return M_;if(ve===0){const Be=Jm(Se,q),Ne=Math.max(Be+fe-1,0);return HU(q_(Be,Ne,ue))}const me=bT(ee,ve,re);let Oe,we;pe?Y===0&&K===0&&fe>0?(Oe=0,we=fe-1):(Oe=me*Pd((Y+Q)/(de+Q)),we=me*B_((K+Q)/(de+Q))-1,we=Qh(q-1,Yu(we,me-1)),Oe=Qh(we,Yu(0,Oe))):(Oe=0,we=-1);const Je=q_(Oe,we,ue),{top:at,bottom:ce}=H_(oe,ie,te,Je),ge=B_(q/me),je=ge*de+(ge-1)*Q-ce;return{items:Je,offsetTop:at,offsetBottom:je,top:at,bottom:ce,itemHeight:de,itemWidth:ve}})),C),We(xe(j,tt(q=>q!==null),Ve(q=>q.length)),O),We(xe(sn(A,w,C,L),tt(([q,Y,{items:K}])=>K.length>0&&Y.height!==0&&q.height!==0),Ve(([q,Y,{items:K},ie])=>{const{top:te,bottom:oe}=H_(q,ie,Y,K);return[te,oe]}),Er(uc)),r);const B=Ae(!1);We(xe(i,yt(B),Ve(([q,Y])=>Y||q!==0)),B);const z=Zn(xe(et(C),tt(({items:q})=>q.length>0),yt(O,B),tt(([{items:q},Y,K])=>K&&q[q.length-1].index===Y-1),Ve(([,q])=>q-1),Er())),H=Zn(xe(et(C),tt(({items:q})=>q.length>0&&q[0].index===0),oa(0),Er())),D=Zn(xe(et(C),yt(U),tt(([{items:q},Y])=>q.length>0&&!Y),Ve(([{items:q}])=>({startIndex:q[0].index,endIndex:q[q.length-1].index})),Er(oT),fo(0)));We(D,p.scrollSeekRangeChanged),We(xe(k,yt(A,w,O,L),Ve(([q,Y,K,ie,te])=>{const oe=iT(q),{align:ue,behavior:fe,offset:pe}=oe;let Se=oe.index;Se==="LAST"&&(Se=ie-1),Se=Yu(0,Se,Qh(ie-1,Se));let Q=tg(Y,te,K,Se);return ue==="end"?Q=V_(Q-Y.height+K.height):ue==="center"&&(Q=V_(Q-Y.height/2+K.height/2)),pe&&(Q+=pe),{top:Q,behavior:fe}})),s);const G=In(xe(C,Ve(q=>q.offsetBottom+q.bottom)),0);return We(xe(g,Ve(q=>({width:q.visibleWidth,height:q.visibleHeight}))),A),{data:j,totalCount:O,viewportDimensions:A,itemDimensions:w,scrollTop:i,scrollHeight:E,overscan:t,increaseViewportBy:n,scrollBy:o,scrollTo:s,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:g,windowScrollTo:b,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,deviation:I,scrollContainerState:u,footerHeight:c,headerHeight:f,initialItemCount:x,gap:L,restoreStateFrom:R,...p,initialTopMostItemIndex:V,horizontalDirection:N,gridState:C,totalListHeight:G,...d,startReached:H,endReached:z,rangeChanged:D,stateChanged:M,propsReady:v,stateRestoreInProgress:U,...S}},Cr(Qm,$n,Lc,lT,jo,Xm,Po));function H_(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{top:0,bottom:0};const a=tg(t,e,r,n[0].index),o=tg(t,e,r,n[n.length-1].index)+i;return{top:a,bottom:o}}function tg(t,e,r,n){const i=bT(t.width,r.width,e.column),a=Pd(n/i),o=a*r.height+Yu(0,a-1)*e.row;return o>0?o+e.row:o}function bT(t,e,r){return Yu(1,Pd((t+r)/(Pd(e)+r)))}const WU=Xt(()=>{const t=Ae(f=>"Item ".concat(f)),e=Ae({}),r=Ae(null),n=Ae("virtuoso-grid-item"),i=Ae("virtuoso-grid-list"),a=Ae(vT),o=Ae("div"),s=Ae(Ql),l=(f,d=null)=>In(xe(e,Ve(p=>p[f]),Er()),d),u=Ae(!1),c=Ae(!1);return We(et(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:t,components:e,computeItemKey:a,itemClassName:n,listClassName:i,headerFooterTag:o,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),GU=Xt(([t,e])=>({...t,...e}),Cr(UU,WU)),YU=P.memo(function(){const e=kr("gridState"),r=kr("listClassName"),n=kr("itemClassName"),i=kr("itemContent"),a=kr("computeItemKey"),o=kr("isSeeking"),s=vi("scrollHeight"),l=kr("ItemComponent"),u=kr("ListComponent"),c=kr("ScrollSeekPlaceholder"),f=kr("context"),d=vi("itemDimensions"),p=vi("gap"),v=kr("log"),h=kr("stateRestoreInProgress"),g=vi("reportReadyState"),y=gs(P.useMemo(()=>m=>{const _=m.parentElement.parentElement.scrollHeight;s(_);const b=m.firstChild;if(b){const{width:S,height:O}=b.getBoundingClientRect();d({width:S,height:O})}p({row:z_("row-gap",getComputedStyle(m).rowGap,v),column:z_("column-gap",getComputedStyle(m).columnGap,v)})},[s,d,p,v]),!0,!1);return GC(()=>{e.itemHeight>0&&e.itemWidth>0&&g(!0)},[e]),h?null:T.jsx(u,{ref:y,className:r,...Tn(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(m=>{const _=a(m.index,m.data,f);return o?T.jsx(c,{...Tn(c,f),index:m.index,height:e.itemHeight,width:e.itemWidth},_):J.createElement(l,{...Tn(l,f),className:n,"data-index":m.index,key:_},i(m.index,m.data,f))})})}),KU=P.memo(function(){const e=kr("HeaderComponent"),r=vi("headerHeight"),n=kr("headerFooterTag"),i=gs(P.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=kr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),JU=P.memo(function(){const e=kr("FooterComponent"),r=vi("footerHeight"),n=kr("headerFooterTag"),i=gs(P.useMemo(()=>o=>r(Oo(o,"height")),[r]),!0,!1),a=kr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),QU=({children:t})=>{const e=P.useContext(hT),r=vi("itemDimensions"),n=vi("viewportDimensions"),i=gs(P.useMemo(()=>a=>{n(a.getBoundingClientRect())},[n]),!0,!1);return P.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),T.jsx("div",{style:Pp(!1),ref:i,children:t})},XU=({children:t})=>{const e=P.useContext(hT),r=vi("windowViewportRect"),n=vi("itemDimensions"),i=kr("customScrollParent"),a=dT(r,i,!1);return P.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),T.jsx("div",{ref:a,style:Pp(!1),children:t})},ZU=P.memo(function({...e}){const r=kr("useWindowScroll"),n=kr("customScrollParent"),i=n||r?tW:eW,a=n||r?XU:QU;return T.jsx(i,{...e,children:T.jsxs(a,{children:[T.jsx(KU,{}),T.jsx(YU,{}),T.jsx(JU,{})]})})}),{Component:sxe,usePublisher:vi,useEmitterValue:kr,useEmitter:_T}=WC(GU,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},ZU),eW=mT({usePublisher:vi,useEmitterValue:kr,useEmitter:_T}),tW=yT({usePublisher:vi,useEmitterValue:kr,useEmitter:_T});function z_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ei.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function rW(t){const[e,r]=J.useState(!1),[n,i]=J.useState(!1),a=50,o=(u,c)=>{if(!u||!t.current)return;const f=t.current.getBoundingClientRect(),d=f.left+c,p=f.right+c;if(!(u.x>=d&&u.x<=p&&u.y>=f.top&&u.y<=f.bottom)){r(!1),i(!1);return}const h=u.y-f.top,g=f.bottom-u.y;r(h<=a),i(g<=a)},{isDragging:s,currentOffset:l}=gN(u=>({isDragging:u.isDragging(),currentOffset:u.getClientOffset()}));return J.useEffect(()=>{const u=window.innerWidth;let c;u>=1200?c=450:(u>=768,c=400),s?o(l,c):(r(!1),i(!1))},[s,l]),{isNearTop:e,isNearBottom:n}}function nW({designMode:t},e){const{t:r}=cs(["design","run"]),n=Pr(),i=ye(h=>{var g;return((g=h.designState.Survey)==null?void 0:g.children)||[]}),a=ye(h=>{var g,y;return(y=(g=h.designState.Survey)==null?void 0:g.resources)==null?void 0:y.headerImage}),o=!i.length,s=J.useMemo(()=>{let h=!1;return i==null||i.forEach(g=>{var y;((g==null?void 0:g.type)==="welcome"||((y=g.groupType)==null?void 0:y.toLowerCase())==="welcome")&&(h=!0)}),h},[i]),l=J.useMemo(()=>{var g;const h=[];a&&h.push({name:io.IMAGE}),s||h.push({name:io.DROP_AREA,index:0});for(let y=0;y<i.length;y++)h.push({name:io.GROUP,group:i[y],index:y}),i[y].type!=="end"&&((g=i[y].groupType)==null?void 0:g.toLowerCase())!=="end"&&h.push({name:io.DROP_AREA,group:i[y],index:y+1});return h.push({name:io.FOOTER}),h},[i,r,a]),u=J.useRef(null),c=J.useRef(null),{isNearBottom:f,isNearTop:d}=rW(c),p=ye(h=>h.designState.lastAddedComponent),v=ye(h=>h.designState.skipScroll);return J.useEffect(()=>{let h;const g=()=>{u.current&&(f?u.current.scrollBy({top:6,behavior:"auto"}):d&&u.current.scrollBy({top:-6,behavior:"auto"}),h=requestAnimationFrame(g))};return(d||f)&&(h=requestAnimationFrame(g)),()=>{h&&cancelAnimationFrame(h)}},[d,f]),J.useEffect(()=>{if(p&&u.current&&!v){const g=setTimeout(()=>{if(p.type==="group"){const y=p.index*2;u.current.scrollToIndex({index:y+1,behavior:"smooth",align:"start"})}else if(p.type==="question"){const y=p.groupIndex*2;u.current.scrollToIndex({index:y+2,behavior:"smooth",align:"end"})}},100);return()=>clearTimeout(g)}},[p]),T.jsx(gt,{ref:e,className:"content-panel ".concat(Lh.contentPanel),style:{backgroundColor:n.palette.background.default,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:T.jsx(gt,{ref:c,width:"100%",height:"100%",children:T.jsx(BU,{ref:u,data:l,className:Lh.virtuosoStyle,itemContent:(h,g)=>{switch(g.name){case io.DROP_AREA:return T.jsx(w9,{emptySurvey:o,t:r,index:g.index,groupsCount:i.length});case io.GROUP:return T.jsx(P9,{t:r,designMode:t,code:g.group.code,index:g.index,lastAddedComponent:p});case io.FOOTER:return T.jsx("div",{className:Lh.footer})}}})})})}const iW=P.forwardRef(nW),io={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"};var ey={},aW=$r;Object.defineProperty(ey,"__esModule",{value:!0});var ST=ey.default=void 0,oW=aW(Nr()),sW=T;ST=ey.default=(0,oW.default)((0,sW.jsx)("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"}),"Extension");function lW({label:t,rule:e,t:r,defaultValue:n,code:i,lowerBound:a,upperBound:o}){const s=wt(),l=ye(v=>v.designState[i][e]||n),[u,c]=J.useState(l),f=v=>{const h=v.target.value;c(h),h>=a&&h<=o&&s(qn({code:i,key:e,value:Math.max(a,Math.min(o,h))}))},d=u!=l,p=v=>{d&&(c(l),s(qn({code:i,key:e,value:l})))};return T.jsxs(T.Fragment,{children:[T.jsxs("h4",{children:[t,":"]}),T.jsx(Yt,{label:t,error:d,variant:"outlined",type:"number",helperText:d?T.jsx($i,{t:r,values:{lower_bound:a,upper_bound:o,setup_value:l,label:t},i18nKey:"value_beyond_bounds"}):null,size:"small",style:{maxWidth:"200px"},value:u,onBlur:p,onChange:v=>f(v)})]})}const jf=P.memo(lW),uW="_showHint_9iocv_1",cW="_inputValue_9iocv_9",OT={showHint:uW,inputValue:cW};function fW({code:t,t:e}){const r=wt(),n=ye(a=>a.designState[t].showHint||!1),i=a=>{r(qn({code:t,key:"showHint",value:a}))};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:OT.showHint,children:[T.jsx("h4",{children:e("show_question_hint")}),T.jsx(ls,{checked:n,onChange:a=>i(a.target.checked)})]}),n&&T.jsx(rg,{code:t,objectName:"hint"})]})}function rg({code:t,objectName:e,title:r}){const n=wt(),i=(s,l)=>{n(Wa({code:t,key:e,lang:s,value:l}))},a=ye(s=>s.designState.langInfo.languagesList),o=ye(s=>s.designState[t].content);return console.log(o),console.log(e),T.jsxs(T.Fragment,{children:[r&&T.jsx("h4",{children:r}),a.map(s=>{var l;return T.jsx("div",{className:OT.inputValue,children:T.jsx(Yt,{label:s.name,variant:"standard",type:"text",value:((l=o==null?void 0:o[s.code])==null?void 0:l[e])||"",onChange:u=>i(s.code,u.target.value)})},s.code)})]})}const dW="_boxContainer_182us_1",pW="_mt10_182us_10",hW="_uppercase_182us_14",vW="_title_182us_18",U_={boxContainer:dW,mt10:pW,uppercase:hW,title:vW},gW="_boxContainer_1vhs4_1",mW="_mt10_1vhs4_9",yW="_uppercase_1vhs4_13",bW="_title_1vhs4_18",_W="_titleContent_1vhs4_28",SW="_standardError_1vhs4_33",OW="_errorWrapper_1vhs4_44",xW="_errorLabelWrapper_1vhs4_48",wW="_errorItem_1vhs4_52",EW="_errorItemContainer_1vhs4_58",Wn={boxContainer:gW,mt10:mW,uppercase:yW,title:bW,titleContent:_W,standardError:SW,errorWrapper:OW,errorLabelWrapper:xW,errorItem:wW,errorItemContainer:EW};function CW({validationRule:t,code:e,rule:r,t:n}){const i=wt(),a=t.isCustomErrorActive||!1,o=ye(f=>f.designState.langInfo.languagesList);let s=t.content||{};const l=f=>{i(gd({code:e,rule:r,key:"isCustomErrorActive",value:f}))},u=(f,d)=>{const p={...s,[f]:d};i(gd({code:e,rule:r,key:"content",value:p}))},c={inputProps:{"aria-label":"Switch validation"}};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:n("standard_error")}),T.jsxs("div",{className:Wn.errorWrapper,children:[T.jsx("div",{className:Wn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Wn.errorItem," ").concat(Wn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{children:o.map(f=>T.jsx("div",{className:Wn.errorItem,children:n(r,{ns:"run",lng:f.code,...t})},f.code))})]}),T.jsxs("div",{className:Wn.title,children:[T.jsx("h4",{className:Wn.mt10,children:n("custom_error")}),T.jsx(ls,{...c,checked:a,onChange:f=>l(f.target.checked)})]}),a?T.jsxs("div",{className:Wn.errorWrapper,children:[T.jsx("div",{className:Wn.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Wn.errorItem," ").concat(Wn.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{className:Wn.errorItemContainer,children:o.map(f=>T.jsx("div",{className:Wn.errorItem,children:T.jsx(Yt,{size:"small",variant:"standard",value:s[f.code]||"",onChange:d=>u(f.code,d.target.value)})},f.code))})]}):""]})}const TW="_valueValidationItems_1hupk_1",kW="_valueValidationItemsContainer_1hupk_6",IW="_error_1hupk_11",W_={valueValidationItems:TW,valueValidationItemsContainer:kW,error:IW};function AW({value:t,onValueChanged:e}){const{t:r}=cs("design"),n=i=>{let a=[...t];i.target.checked?a.push(i.target.name):a=t.filter(o=>o!=i.target.name),e(a)};return T.jsxs(Dr,{children:[T.jsx(SE,{id:"file-type-label",children:r("file_type")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),T.jsx(Fa,{control:T.jsx(Li,{checked:t.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}const PW=P.memo(AW);function jW({code:t,validation:e,rule:r,t:n}){const i=ye(f=>{var d;return((d=f.designState[t].children)==null?void 0:d.length)||0}),a=P.useMemo(()=>{switch(r){case"validation_min_char_length":return[1,Number.MAX_VALUE];case"validation_max_file_size":return[1,Number.MAX_VALUE];case"validation_max_char_length":return[1,Number.MAX_VALUE];case"validation_max_word_count":return[1,Number.MAX_VALUE];case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,i];default:return}},[i]),o=wt(),s=(f,d)=>{o(gd({rule:r,code:t,key:f,value:d}))},l=(f,d)=>{s(f,typeof a>"u"?d:Math.max(a[0],Math.min(a[1],d)))};let u=FW(e);const c=r!="validation_required"&&r!="validation_one_response_per_col"&&r!="validation_pattern_email"&&r!="validation_file_types";return T.jsxs("div",{className:W_.valueValidationItemsContainer,children:[u&&c&&T.jsx("div",{children:n(r+"_subtitle")}),T.jsx("div",{className:W_.valueValidationItems,children:r=="validation_file_types"?T.jsx(PW,{value:e.fileTypes,onValueChanged:f=>l("fileTypes",f)}):u.map(f=>(typeof a<"u"&&(e[f]<a[0]||e[f]>a[1]),T.jsx(LW,{t:n,initialValue:e[f],bounds:a,validationType:typeof e[f],onValuesUpdate:d=>l(f,d)},f)))})]})}const LW=({t,initialValue:e,validationType:r,onValuesUpdate:n,bounds:i})=>{const[a,o]=J.useState(e),s=a!=e,l=u=>{const c=r==="number"?parseInt(u.target.value)||"":u.target.value;o(c),typeof i<"u"&&(c<i[0]||c>i[1])?o(c):n(c)};return T.jsx(Yt,{error:s,value:a,variant:"outlined",helperText:s?T.jsx($i,{t,values:{setup_value:e},i18nKey:"value_beyond_bounds_no_label"}):null,size:"small",type:r==="number"?"number":"text",onChange:l,style:{maxWidth:"150px",marginLeft:"8px"}})},FW=t=>Object.keys(t).filter(e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e));function RW({rule:t,t:e,code:r}){console.debug("ValidationSetupItem: "+r);const n=wt(),i=ye(l=>{var u,c;return(c=(u=l.designState[r])==null?void 0:u.validation)==null?void 0:c[t]}),a={inputProps:{"aria-label":"Switch validation"}},o=(i==null?void 0:i.isActive)||!1,s=l=>{n(gd({code:r,rule:t,key:"isActive",value:l}))};return T.jsxs("div",{children:[T.jsxs("div",{className:U_.title,children:[T.jsx("h4",{children:e(t+"_title")}),T.jsx(ls,{...a,checked:o,onChange:l=>s(l.target.checked)})]}),o&&T.jsxs(gt,{className:U_.boxContainer,children:[T.jsx(jW,{code:r,validation:i,rule:t,t:e}),T.jsx(CW,{code:r,validationRule:i,rule:t,t:e})]})]})}const $W=P.memo(RW),NW="_toggleValue_1d9zg_1",DW="_inputValue_1d9zg_8",MW={toggleValue:NW,inputValue:DW};function na({label:t,code:e,rule:r}){const n=wt(),i=ye(s=>s.designState[e][r]||!1),a=s=>{n(qn({code:e,key:r,value:s}))},o={inputProps:{"aria-label":"Switch demo"}};return T.jsxs("div",{className:MW.toggleValue,children:[T.jsx("h4",{children:t}),T.jsx(ls,{...o,checked:i,onChange:s=>{a(s.target.checked)}})]})}const VW="_selectValue_9m4tq_1",BW={selectValue:VW};function Vo({label:t,rule:e,defaultValue:r,code:n,values:i,labels:a}){const o=wt(),s=ye(u=>{var c;return((c=u.designState[n])==null?void 0:c[e])||r}),l=u=>{o(qn({code:n,key:e,value:u}))};return T.jsxs("div",{className:BW.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Ki,{id:"select-value",value:s,label:"Select Value",onChange:u=>{l(u.target.value)},children:i.map((u,c)=>T.jsx(Zr,{value:u,children:a?a[c]:u},u))})})]})}const qW="_selectDate_1qp3e_1",HW="_selectDateField_1qp3e_8",G_={selectDate:qW,selectDateField:HW};function Y_({label:t,rule:e,code:r}){const n=wt(),i=ye(a=>a.designState[r][e]||"");return T.jsxs("div",{className:G_.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Yt,{className:G_.selectDateField,variant:"standard",value:i,type:"date",onChange:a=>{n(qn({code:r,key:e,value:a.target.value}))}})]})}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function zW(t){if(Array.isArray(t))return t}function UW(t,e,r){return(e=KW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oo.apply(null,arguments)}function WW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function GW(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(r),!0).forEach(function(n){UW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ku(t,e){return zW(t)||WW(t,e)||JW(t,e)||GW()}function YW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function JW(t,e){if(t){if(typeof t=="string")return K_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K_(t,e):void 0}}var xT=J.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),QW=function(e){var r=e.open,n=e.options,i=e.onCancel,a=e.onConfirm,o=e.onClose,s=n.title,l=n.description,u=n.content,c=n.confirmationText,f=n.cancellationText,d=n.dialogProps,p=n.dialogActionsProps,v=n.confirmationButtonProps,h=n.cancellationButtonProps,g=n.titleProps,y=n.contentProps,m=n.allowClose,_=n.confirmationKeyword,b=n.confirmationKeywordTextFieldProps,S=n.hideCancelButton,O=n.buttonOrder,x=n.acknowledgement,C=n.acknowledgementFormControlLabelProps,A=n.acknowledgementCheckboxProps,w=P.useState(""),k=Ku(w,2),E=k[0],I=k[1],j=P.useState(!1),L=Ku(j,2),M=L[0],R=L[1],U=!!(_&&E!==_||x&&!M),V=P.createElement(P.Fragment,null,x&&P.createElement(Fa,oo({},C,{control:P.createElement(Li,oo({},A,{value:M,onChange:function(B,z){return R(z)}})),label:x}))),$=P.createElement(P.Fragment,null,_&&P.createElement(Yt,oo({onChange:function(B){return I(B.target.value)},value:E,fullWidth:!0},b))),F=O.map(function(N){if(N==="cancel")return!S&&P.createElement(Ut,oo({key:"cancel"},h,{onClick:i}),f);if(N==="confirm")return P.createElement(Ut,oo({key:"confirm",color:"primary",disabled:U},v,{onClick:a}),c);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(N))});return P.createElement(im,oo({fullWidth:!0},d,{open:r,onClose:m?o:null}),s&&P.createElement(tm,g,s),u?P.createElement(zu,y,u,$,V):l?P.createElement(zu,y,P.createElement(p2,null,l),$,V):(_||V)&&P.createElement(zu,y,$,V),P.createElement(nm,p,F))},ia={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},XW=function(e,r){var n=Fr(Fr({},e.dialogProps||ia.dialogProps),r.dialogProps||{}),i=Fr(Fr({},e.dialogActionsProps||ia.dialogActionsProps),r.dialogActionsProps||{}),a=Fr(Fr({},e.confirmationButtonProps||ia.confirmationButtonProps),r.confirmationButtonProps||{}),o=Fr(Fr({},e.cancellationButtonProps||ia.cancellationButtonProps),r.cancellationButtonProps||{}),s=Fr(Fr({},e.titleProps||ia.titleProps),r.titleProps||{}),l=Fr(Fr({},e.contentProps||ia.contentProps),r.contentProps||{}),u=Fr(Fr({},e.confirmationKeywordTextFieldProps||ia.confirmationKeywordTextFieldProps),r.confirmationKeywordTextFieldProps||{}),c=Fr(Fr({},e.acknowledgementFormControlLabelProps||ia.acknowledgementFormControlLabelProps),r.acknowledgementFormControlLabelProps||{}),f=Fr(Fr({},e.acknowledgementCheckboxProps||ia.acknowledgementCheckboxProps),r.acknowledgementCheckboxProps||{});return Fr(Fr(Fr(Fr({},ia),e),r),{},{dialogProps:n,dialogActionsProps:i,confirmationButtonProps:a,cancellationButtonProps:o,titleProps:s,contentProps:l,confirmationKeywordTextFieldProps:u,acknowledgementFormControlLabelProps:c,acknowledgementCheckboxProps:f})},ZW=function(e){var r=e.children,n=e.defaultOptions,i=n===void 0?{}:n,a=J.useState(null),o=Ku(a,2),s=o[0],l=o[1],u=J.useState({}),c=Ku(u,2),f=c[0],d=c[1],p=J.useState(0),v=Ku(p,2),h=v[0],g=v[1],y=J.useCallback(function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(C,A){g(function(w){return w+1}),d(x),l({resolve:C,reject:A,parentId:O})})},[]),m=J.useCallback(function(O){l(function(x){return x&&x.parentId===O?null:x})},[]),_=J.useCallback(function(){l(null)},[]),b=J.useCallback(function(){l(function(O){return O&&O.reject(),null})},[]),S=J.useCallback(function(){l(function(O){return O&&O.resolve(),null})},[]);return J.useCallback(function(O){return y("global",O)}),P.createElement(J.Fragment,null,P.createElement(xT.Provider,{value:{confirmBase:y,closeOnParentUnmount:m}},r),P.createElement(QW,{key:h,open:s!==null,options:XW(i,f!=null?f:{}),onClose:_,onCancel:b,onConfirm:S}))},eG=0,tG=function(){var e=J.useMemo(function(){return eG++},[]);return"confirm-".concat(e)},rG=function(){var e=tG(),r=J.useContext(xT),n=r.confirmBase,i=r.closeOnParentUnmount,a=J.useCallback(function(o){return n(e,o)},[e]);return J.useEffect(function(){return function(){i(e)}},[e]),a};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var wT;function Pe(){return wT.apply(null,arguments)}function nG(t){wT=t}function Bi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function es(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ty(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Dt(t,e))return!1;return!0}function Dn(t){return t===void 0}function qa(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Rc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function ET(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function po(t,e){for(var r in e)Dt(e,r)&&(t[r]=e[r]);return Dt(e,"toString")&&(t.toString=e.toString),Dt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function wa(t,e,r,n){return YT(t,e,r,n,!0).utc()}function iG(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(t){return t._pf==null&&(t._pf=iG()),t._pf}var ng;Array.prototype.some?ng=Array.prototype.some:ng=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function ry(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ct(t),r=ng.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function jp(t){var e=wa(NaN);return t!=null?po(ct(e),t):ct(e).userInvalidated=!0,e}var Q_=Pe.momentProperties=[],Xh=!1;function ny(t,e){var r,n,i,a=Q_.length;if(Dn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Dn(e._i)||(t._i=e._i),Dn(e._f)||(t._f=e._f),Dn(e._l)||(t._l=e._l),Dn(e._strict)||(t._strict=e._strict),Dn(e._tzm)||(t._tzm=e._tzm),Dn(e._isUTC)||(t._isUTC=e._isUTC),Dn(e._offset)||(t._offset=e._offset),Dn(e._pf)||(t._pf=ct(e)),Dn(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=Q_[r],i=e[n],Dn(i)||(t[n]=i);return t}function $c(t){ny(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Xh===!1&&(Xh=!0,Pe.updateOffset(this),Xh=!1)}function qi(t){return t instanceof $c||t!=null&&t._isAMomentObject!=null}function CT(t){Pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ci(t,e){var r=!0;return po(function(){if(Pe.deprecationHandler!=null&&Pe.deprecationHandler(null,t),r){var n=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(o in arguments[0])Dt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}CT(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var X_={};function TT(t,e){Pe.deprecationHandler!=null&&Pe.deprecationHandler(t,e),X_[t]||(CT(e),X_[t]=!0)}Pe.suppressDeprecationWarnings=!1;Pe.deprecationHandler=null;function Ea(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function aG(t){var e,r;for(r in t)Dt(t,r)&&(e=t[r],Ea(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ig(t,e){var r=po({},t),n;for(n in e)Dt(e,n)&&(es(t[n])&&es(e[n])?(r[n]={},po(r[n],t[n]),po(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Dt(t,n)&&!Dt(e,n)&&es(t[n])&&(r[n]=po({},r[n]));return r}function iy(t){t!=null&&this.set(t)}var ag;Object.keys?ag=Object.keys:ag=function(t){var e,r=[];for(e in t)Dt(t,e)&&r.push(e);return r};var oG={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function sG(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Ea(n)?n.call(e,r):n}function ba(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var ay=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Lf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zh={},_l={};function Ye(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(_l[t]=i),e&&(_l[e[0]]=function(){return ba(i.apply(this,arguments),e[1],e[2])}),r&&(_l[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function lG(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function uG(t){var e=t.match(ay),r,n;for(r=0,n=e.length;r<n;r++)_l[e[r]]?e[r]=_l[e[r]]:e[r]=lG(e[r]);return function(i){var a="",o;for(o=0;o<n;o++)a+=Ea(e[o])?e[o].call(i,t):e[o];return a}}function ld(t,e){return t.isValid()?(e=kT(e,t.localeData()),Zh[e]=Zh[e]||uG(e),Zh[e](t)):t.localeData().invalidDate()}function kT(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(Lf.lastIndex=0;r>=0&&Lf.test(t);)t=t.replace(Lf,n),Lf.lastIndex=0,r-=1;return t}var cG={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fG(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(ay).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var dG="Invalid date";function pG(){return this._invalidDate}var hG="%d",vG=/\d{1,2}/;function gG(t){return this._ordinal.replace("%d",t)}var mG={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yG(t,e,r,n){var i=this._relativeTime[r];return Ea(i)?i(t,e,r,n):i.replace(/%d/i,t)}function bG(t,e){var r=this._relativeTime[t>0?"future":"past"];return Ea(r)?r(e):r.replace(/%s/i,e)}var Z_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ti(t){return typeof t=="string"?Z_[t]||Z_[t.toLowerCase()]:void 0}function oy(t){var e={},r,n;for(n in t)Dt(t,n)&&(r=Ti(n),r&&(e[r]=t[n]));return e}var _G={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function SG(t){var e=[],r;for(r in t)Dt(t,r)&&e.push({unit:r,priority:_G[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var IT=/\d/,ii=/\d\d/,AT=/\d{3}/,sy=/\d{4}/,Lp=/[+-]?\d{6}/,br=/\d\d?/,PT=/\d\d\d\d?/,jT=/\d\d\d\d\d\d?/,Fp=/\d{1,3}/,ly=/\d{1,4}/,Rp=/[+-]?\d{1,6}/,Xl=/\d+/,$p=/[+-]?\d+/,OG=/Z|[+-]\d\d:?\d\d/gi,Np=/Z|[+-]\d\d(?::?\d\d)?/gi,xG=/[+-]?\d+(\.\d{1,3})?/,Nc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zl=/^[1-9]\d?/,uy=/^([1-9]\d|\d)/,jd;jd={};function $e(t,e,r){jd[t]=Ea(e)?e:function(n,i){return n&&r?r:e}}function wG(t,e){return Dt(jd,t)?jd[t](e._strict,e._locale):new RegExp(EG(t))}function EG(t){return Va(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function Va(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ci(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ot(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=ci(e)),r}var og={};function er(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),qa(e)&&(n=function(a,o){o[e]=Ot(a)}),i=t.length,r=0;r<i;r++)og[t[r]]=n}function Dc(t,e){er(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function CG(t,e,r){e!=null&&Dt(og,t)&&og[t](e,r._a,r,t)}function Dp(t){return t%4===0&&t%100!==0||t%400===0}var bn=0,Da=1,ca=2,en=3,Ni=4,Ma=5,Ko=6,TG=7,kG=8;Ye("Y",0,0,function(){var t=this.year();return t<=9999?ba(t,4):"+"+t});Ye(0,["YY",2],0,function(){return this.year()%100});Ye(0,["YYYY",4],0,"year");Ye(0,["YYYYY",5],0,"year");Ye(0,["YYYYYY",6,!0],0,"year");$e("Y",$p);$e("YY",br,ii);$e("YYYY",ly,sy);$e("YYYYY",Rp,Lp);$e("YYYYYY",Rp,Lp);er(["YYYYY","YYYYYY"],bn);er("YYYY",function(t,e){e[bn]=t.length===2?Pe.parseTwoDigitYear(t):Ot(t)});er("YY",function(t,e){e[bn]=Pe.parseTwoDigitYear(t)});er("Y",function(t,e){e[bn]=parseInt(t,10)});function Ju(t){return Dp(t)?366:365}Pe.parseTwoDigitYear=function(t){return Ot(t)+(Ot(t)>68?1900:2e3)};var LT=eu("FullYear",!0);function IG(){return Dp(this.year())}function eu(t,e){return function(r){return r!=null?(FT(this,t,r),Pe.updateOffset(this,e),this):cc(this,t)}}function cc(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function FT(t,e,r){var n,i,a,o,s;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=t.month(),s=t.date(),s=s===29&&o===1&&!Dp(a)?28:s,i?n.setUTCFullYear(a,o,s):n.setFullYear(a,o,s)}}function AG(t){return t=Ti(t),Ea(this[t])?this[t]():this}function PG(t,e){if(typeof t=="object"){t=oy(t);var r=SG(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=Ti(t),Ea(this[t]))return this[t](e);return this}function jG(t,e){return(t%e+e)%e}var Vr;Array.prototype.indexOf?Vr=Array.prototype.indexOf:Vr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function cy(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=jG(e,12);return t+=(e-r)/12,r===1?Dp(t)?29:28:31-r%7%2}Ye("M",["MM",2],"Mo",function(){return this.month()+1});Ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});$e("M",br,Zl);$e("MM",br,ii);$e("MMM",function(t,e){return e.monthsShortRegex(t)});$e("MMMM",function(t,e){return e.monthsRegex(t)});er(["M","MM"],function(t,e){e[Da]=Ot(t)-1});er(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[Da]=i:ct(r).invalidMonth=t});var LG="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),RT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$T=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,FG=Nc,RG=Nc;function $G(t,e){return t?Bi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||$T).test(e)?"format":"standalone"][t.month()]:Bi(this._months)?this._months:this._months.standalone}function NG(t,e){return t?Bi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[$T.test(e)?"format":"standalone"][t.month()]:Bi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function DG(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=wa([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:(i=Vr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Vr.call(this._longMonthsParse,o),i!==-1?i:(i=Vr.call(this._shortMonthsParse,o),i!==-1?i:null))}function MG(t,e,r){var n,i,a;if(this._monthsParseExact)return DG.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=wa([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function NT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ot(e);else if(e=t.localeData().monthsParse(e),!qa(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,cy(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function DT(t){return t!=null?(NT(this,t),Pe.updateOffset(this,!0),this):cc(this,"Month")}function VG(){return cy(this.year(),this.month())}function BG(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||MT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Dt(this,"_monthsShortRegex")||(this._monthsShortRegex=FG),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function qG(t){return this._monthsParseExact?(Dt(this,"_monthsRegex")||MT.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Dt(this,"_monthsRegex")||(this._monthsRegex=RG),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function MT(){function t(l,u){return u.length-l.length}var e=[],r=[],n=[],i,a,o,s;for(i=0;i<12;i++)a=wa([2e3,i]),o=Va(this.monthsShort(a,"")),s=Va(this.months(a,"")),e.push(o),r.push(s),n.push(s),n.push(o);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function HG(t,e,r,n,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,a,o),s}function fc(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ld(t,e,r){var n=7+e-r,i=(7+fc(t,0,n).getUTCDay()-e)%7;return-i+n-1}function VT(t,e,r,n,i){var a=(7+r-n)%7,o=Ld(t,n,i),s=1+7*(e-1)+a+o,l,u;return s<=0?(l=t-1,u=Ju(l)+s):s>Ju(t)?(l=t+1,u=s-Ju(t)):(l=t,u=s),{year:l,dayOfYear:u}}function dc(t,e,r){var n=Ld(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,o;return i<1?(o=t.year()-1,a=i+Ba(o,e,r)):i>Ba(t.year(),e,r)?(a=i-Ba(t.year(),e,r),o=t.year()+1):(o=t.year(),a=i),{week:a,year:o}}function Ba(t,e,r){var n=Ld(t,e,r),i=Ld(t+1,e,r);return(Ju(t)-n+i)/7}Ye("w",["ww",2],"wo","week");Ye("W",["WW",2],"Wo","isoWeek");$e("w",br,Zl);$e("ww",br,ii);$e("W",br,Zl);$e("WW",br,ii);Dc(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=Ot(t)});function zG(t){return dc(t,this._week.dow,this._week.doy).week}var UG={dow:0,doy:6};function WG(){return this._week.dow}function GG(){return this._week.doy}function YG(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function KG(t){var e=dc(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ye("d",0,"do","day");Ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ye("e",0,0,"weekday");Ye("E",0,0,"isoWeekday");$e("d",br);$e("e",br);$e("E",br);$e("dd",function(t,e){return e.weekdaysMinRegex(t)});$e("ddd",function(t,e){return e.weekdaysShortRegex(t)});$e("dddd",function(t,e){return e.weekdaysRegex(t)});Dc(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ct(r).invalidWeekday=t});Dc(["d","e","E"],function(t,e,r,n){e[n]=Ot(t)});function JG(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function QG(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function fy(t,e){return t.slice(e,7).concat(t.slice(0,e))}var XG="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),BT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZG="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),e7=Nc,t7=Nc,r7=Nc;function n7(t,e){var r=Bi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?fy(r,this._week.dow):t?r[t.day()]:r}function i7(t){return t===!0?fy(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function a7(t){return t===!0?fy(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function o7(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=wa([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Vr.call(this._weekdaysParse,o),i!==-1||(i=Vr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Vr.call(this._shortWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Vr.call(this._minWeekdaysParse,o),i!==-1||(i=Vr.call(this._weekdaysParse,o),i!==-1)?i:(i=Vr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function s7(t,e,r){var n,i,a;if(this._weekdaysParseExact)return o7.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=wa([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function l7(t){if(!this.isValid())return t!=null?this:NaN;var e=cc(this,"Day");return t!=null?(t=JG(t,this.localeData()),this.add(t-e,"d")):e}function u7(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function c7(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=QG(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function f7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||dy.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Dt(this,"_weekdaysRegex")||(this._weekdaysRegex=e7),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function d7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||dy.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=t7),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function p7(t){return this._weekdaysParseExact?(Dt(this,"_weekdaysRegex")||dy.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=r7),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dy(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],i=[],a,o,s,l,u;for(a=0;a<7;a++)o=wa([2e3,1]).day(a),s=Va(this.weekdaysMin(o,"")),l=Va(this.weekdaysShort(o,"")),u=Va(this.weekdays(o,"")),e.push(s),r.push(l),n.push(u),i.push(s),i.push(l),i.push(u);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function py(){return this.hours()%12||12}function h7(){return this.hours()||24}Ye("H",["HH",2],0,"hour");Ye("h",["hh",2],0,py);Ye("k",["kk",2],0,h7);Ye("hmm",0,0,function(){return""+py.apply(this)+ba(this.minutes(),2)});Ye("hmmss",0,0,function(){return""+py.apply(this)+ba(this.minutes(),2)+ba(this.seconds(),2)});Ye("Hmm",0,0,function(){return""+this.hours()+ba(this.minutes(),2)});Ye("Hmmss",0,0,function(){return""+this.hours()+ba(this.minutes(),2)+ba(this.seconds(),2)});function qT(t,e){Ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}qT("a",!0);qT("A",!1);function HT(t,e){return e._meridiemParse}$e("a",HT);$e("A",HT);$e("H",br,uy);$e("h",br,Zl);$e("k",br,Zl);$e("HH",br,ii);$e("hh",br,ii);$e("kk",br,ii);$e("hmm",PT);$e("hmmss",jT);$e("Hmm",PT);$e("Hmmss",jT);er(["H","HH"],en);er(["k","kk"],function(t,e,r){var n=Ot(t);e[en]=n===24?0:n});er(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});er(["h","hh"],function(t,e,r){e[en]=Ot(t),ct(r).bigHour=!0});er("hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[Ni]=Ot(t.substr(n)),ct(r).bigHour=!0});er("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[Ni]=Ot(t.substr(n,2)),e[Ma]=Ot(t.substr(i)),ct(r).bigHour=!0});er("Hmm",function(t,e,r){var n=t.length-2;e[en]=Ot(t.substr(0,n)),e[Ni]=Ot(t.substr(n))});er("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[en]=Ot(t.substr(0,n)),e[Ni]=Ot(t.substr(n,2)),e[Ma]=Ot(t.substr(i))});function v7(t){return(t+"").toLowerCase().charAt(0)==="p"}var g7=/[ap]\.?m?\.?/i,m7=eu("Hours",!0);function y7(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var zT={calendar:oG,longDateFormat:cG,invalidDate:dG,ordinal:hG,dayOfMonthOrdinalParse:vG,relativeTime:mG,months:LG,monthsShort:RT,week:UG,weekdays:XG,weekdaysMin:ZG,weekdaysShort:BT,meridiemParse:g7},Or={},Tu={},pc;function b7(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function eS(t){return t&&t.toLowerCase().replace("_","-")}function _7(t){for(var e=0,r,n,i,a;e<t.length;){for(a=eS(t[e]).split("-"),r=a.length,n=eS(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=Mp(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&b7(a,n)>=r-1)break;r--}e++}return pc}function S7(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Mp(t){var e=null,r;if(Or[t]===void 0&&typeof module<"u"&&module&&module.exports&&S7(t))try{e=pc._abbr,r=require,r("./locale/"+t),mo(e)}catch(n){Or[t]=null}return Or[t]}function mo(t,e){var r;return t&&(Dn(e)?r=Ya(t):r=hy(t,e),r?pc=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pc._abbr}function hy(t,e){if(e!==null){var r,n=zT;if(e.abbr=t,Or[t]!=null)TT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Or[t]._config;else if(e.parentLocale!=null)if(Or[e.parentLocale]!=null)n=Or[e.parentLocale]._config;else if(r=Mp(e.parentLocale),r!=null)n=r._config;else return Tu[e.parentLocale]||(Tu[e.parentLocale]=[]),Tu[e.parentLocale].push({name:t,config:e}),null;return Or[t]=new iy(ig(n,e)),Tu[t]&&Tu[t].forEach(function(i){hy(i.name,i.config)}),mo(t),Or[t]}else return delete Or[t],null}function O7(t,e){if(e!=null){var r,n,i=zT;Or[t]!=null&&Or[t].parentLocale!=null?Or[t].set(ig(Or[t]._config,e)):(n=Mp(t),n!=null&&(i=n._config),e=ig(i,e),n==null&&(e.abbr=t),r=new iy(e),r.parentLocale=Or[t],Or[t]=r),mo(t)}else Or[t]!=null&&(Or[t].parentLocale!=null?(Or[t]=Or[t].parentLocale,t===mo()&&mo(t)):Or[t]!=null&&delete Or[t]);return Or[t]}function Ya(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pc;if(!Bi(t)){if(e=Mp(t),e)return e;t=[t]}return _7(t)}function x7(){return ag(Or)}function vy(t){var e,r=t._a;return r&&ct(t).overflow===-2&&(e=r[Da]<0||r[Da]>11?Da:r[ca]<1||r[ca]>cy(r[bn],r[Da])?ca:r[en]<0||r[en]>24||r[en]===24&&(r[Ni]!==0||r[Ma]!==0||r[Ko]!==0)?en:r[Ni]<0||r[Ni]>59?Ni:r[Ma]<0||r[Ma]>59?Ma:r[Ko]<0||r[Ko]>999?Ko:-1,ct(t)._overflowDayOfYear&&(e<bn||e>ca)&&(e=ca),ct(t)._overflowWeeks&&e===-1&&(e=TG),ct(t)._overflowWeekday&&e===-1&&(e=kG),ct(t).overflow=e),t}var w7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,E7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,C7=/Z|[+-]\d\d(?::?\d\d)?/,Ff=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ev=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],T7=/^\/?Date\((-?\d+)/i,k7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,I7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function UT(t){var e,r,n=t._i,i=w7.exec(n)||E7.exec(n),a,o,s,l,u=Ff.length,c=ev.length;if(i){for(ct(t).iso=!0,e=0,r=u;e<r;e++)if(Ff[e][1].exec(i[1])){o=Ff[e][0],a=Ff[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=c;e<r;e++)if(ev[e][1].exec(i[3])){s=(i[2]||" ")+ev[e][0];break}if(s==null){t._isValid=!1;return}}if(!a&&s!=null){t._isValid=!1;return}if(i[4])if(C7.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(s||"")+(l||""),my(t)}else t._isValid=!1}function A7(t,e,r,n,i,a){var o=[P7(t),RT.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function P7(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function j7(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function L7(t,e,r){if(t){var n=BT.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ct(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function F7(t,e,r){if(t)return I7[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function WT(t){var e=k7.exec(j7(t._i)),r;if(e){if(r=A7(e[4],e[3],e[2],e[5],e[6],e[7]),!L7(e[1],r,t))return;t._a=r,t._tzm=F7(e[8],e[9],e[10]),t._d=fc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ct(t).rfc2822=!0}else t._isValid=!1}function R7(t){var e=T7.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(UT(t),t._isValid===!1)delete t._isValid;else return;if(WT(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Pe.createFromInputFallback(t)}Pe.createFromInputFallback=Ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ys(t,e,r){return t!=null?t:e!=null?e:r}function $7(t){var e=new Date(Pe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function gy(t){var e,r,n=[],i,a,o;if(!t._d){for(i=$7(t),t._w&&t._a[ca]==null&&t._a[Da]==null&&N7(t),t._dayOfYear!=null&&(o=Ys(t._a[bn],i[bn]),(t._dayOfYear>Ju(o)||t._dayOfYear===0)&&(ct(t)._overflowDayOfYear=!0),r=fc(o,0,t._dayOfYear),t._a[Da]=r.getUTCMonth(),t._a[ca]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[en]===24&&t._a[Ni]===0&&t._a[Ma]===0&&t._a[Ko]===0&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?fc:HG).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(ct(t).weekdayMismatch=!0)}}function N7(t){var e,r,n,i,a,o,s,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,o=4,r=Ys(e.GG,t._a[bn],dc(mr(),1,4).year),n=Ys(e.W,1),i=Ys(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,u=dc(mr(),a,o),r=Ys(e.gg,t._a[bn],u.year),n=Ys(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>Ba(r,a,o)?ct(t)._overflowWeeks=!0:l!=null?ct(t)._overflowWeekday=!0:(s=VT(r,n,i,a,o),t._a[bn]=s.year,t._dayOfYear=s.dayOfYear)}Pe.ISO_8601=function(){};Pe.RFC_2822=function(){};function my(t){if(t._f===Pe.ISO_8601){UT(t);return}if(t._f===Pe.RFC_2822){WT(t);return}t._a=[],ct(t).empty=!0;var e=""+t._i,r,n,i,a,o,s=e.length,l=0,u,c;for(i=kT(t._f,t._locale).match(ay)||[],c=i.length,r=0;r<c;r++)a=i[r],n=(e.match(wG(a,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ct(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),_l[a]?(n?ct(t).empty=!1:ct(t).unusedTokens.push(a),CG(a,n,t)):t._strict&&!n&&ct(t).unusedTokens.push(a);ct(t).charsLeftOver=s-l,e.length>0&&ct(t).unusedInput.push(e),t._a[en]<=12&&ct(t).bigHour===!0&&t._a[en]>0&&(ct(t).bigHour=void 0),ct(t).parsedDateParts=t._a.slice(0),ct(t).meridiem=t._meridiem,t._a[en]=D7(t._locale,t._a[en],t._meridiem),u=ct(t).era,u!==null&&(t._a[bn]=t._locale.erasConvertYear(u,t._a[bn])),gy(t),vy(t)}function D7(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function M7(t){var e,r,n,i,a,o,s=!1,l=t._f.length;if(l===0){ct(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,e=ny({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],my(e),ry(e)&&(o=!0),a+=ct(e).charsLeftOver,a+=ct(e).unusedTokens.length*10,ct(e).score=a,s?a<n&&(n=a,r=e):(n==null||a<n||o)&&(n=a,r=e,o&&(s=!0));po(t,r||e)}function V7(t){if(!t._d){var e=oy(t._i),r=e.day===void 0?e.date:e.day;t._a=ET([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),gy(t)}}function B7(t){var e=new $c(vy(GT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function GT(t){var e=t._i,r=t._f;return t._locale=t._locale||Ya(t._l),e===null||r===void 0&&e===""?jp({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),qi(e)?new $c(vy(e)):(Rc(e)?t._d=e:Bi(r)?M7(t):r?my(t):q7(t),ry(t)||(t._d=null),t))}function q7(t){var e=t._i;Dn(e)?t._d=new Date(Pe.now()):Rc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?R7(t):Bi(e)?(t._a=ET(e.slice(0),function(r){return parseInt(r,10)}),gy(t)):es(e)?V7(t):qa(e)?t._d=new Date(e):Pe.createFromInputFallback(t)}function YT(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(es(t)&&ty(t)||Bi(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,B7(a)}function mr(t,e,r,n){return YT(t,e,r,n,!1)}var H7=Ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:jp()}),z7=Ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:jp()});function KT(t,e){var r,n;if(e.length===1&&Bi(e[0])&&(e=e[0]),!e.length)return mr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function U7(){var t=[].slice.call(arguments,0);return KT("isBefore",t)}function W7(){var t=[].slice.call(arguments,0);return KT("isAfter",t)}var G7=function(){return Date.now?Date.now():+new Date},ku=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Y7(t){var e,r=!1,n,i=ku.length;for(e in t)if(Dt(t,e)&&!(Vr.call(ku,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[ku[n]]){if(r)return!1;parseFloat(t[ku[n]])!==Ot(t[ku[n]])&&(r=!0)}return!0}function K7(){return this._isValid}function J7(){return Xi(NaN)}function Vp(t){var e=oy(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Y7(e),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ya(),this._bubble()}function ud(t){return t instanceof Vp}function sg(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Q7(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<n;o++)Ot(t[o])!==Ot(e[o])&&a++;return a+i}function JT(t,e){Ye(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ba(~~(r/60),2)+e+ba(~~r%60,2)})}JT("Z",":");JT("ZZ","");$e("Z",Np);$e("ZZ",Np);er(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=yy(Np,t)});var X7=/([\+\-]|\d\d)/gi;function yy(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(X7)||["-",0,0],a=+(i[1]*60)+Ot(i[2]),a===0?0:i[0]==="+"?a:-a)}function by(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(qi(t)||Rc(t)?t.valueOf():mr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Pe.updateOffset(r,!1),r):mr(t).local()}function lg(t){return-Math.round(t._d.getTimezoneOffset())}Pe.updateOffset=function(){};function Z7(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=yy(Np,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=lg(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?ZT(this,Xi(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:lg(this)}function eY(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function tY(t){return this.utcOffset(0,t)}function rY(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(lg(this),"m")),this}function nY(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=yy(OG,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function iY(t){return this.isValid()?(t=t?mr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function aY(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function oY(){if(!Dn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ny(t,this),t=GT(t),t._a?(e=t._isUTC?wa(t._a):mr(t._a),this._isDSTShifted=this.isValid()&&Q7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function sY(){return this.isValid()?!this._isUTC:!1}function lY(){return this.isValid()?this._isUTC:!1}function QT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var uY=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cY=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xi(t,e){var r=t,n=null,i,a,o;return ud(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:qa(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=uY.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:Ot(n[ca])*i,h:Ot(n[en])*i,m:Ot(n[Ni])*i,s:Ot(n[Ma])*i,ms:Ot(sg(n[Ko]*1e3))*i}):(n=cY.exec(t))?(i=n[1]==="-"?-1:1,r={y:Bo(n[2],i),M:Bo(n[3],i),w:Bo(n[4],i),d:Bo(n[5],i),h:Bo(n[6],i),m:Bo(n[7],i),s:Bo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=fY(mr(r.from),mr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new Vp(r),ud(t)&&Dt(t,"_locale")&&(a._locale=t._locale),ud(t)&&Dt(t,"_isValid")&&(a._isValid=t._isValid),a}Xi.fn=Vp.prototype;Xi.invalid=J7;function Bo(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function tS(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function fY(t,e){var r;return t.isValid()&&e.isValid()?(e=by(e,t),t.isBefore(e)?r=tS(t,e):(r=tS(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function XT(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(TT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Xi(r,n),ZT(this,i,t),this}}function ZT(t,e,r,n){var i=e._milliseconds,a=sg(e._days),o=sg(e._months);t.isValid()&&(n=n==null?!0:n,o&&NT(t,cc(t,"Month")+o*r),a&&FT(t,"Date",cc(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&Pe.updateOffset(t,a||o))}var dY=XT(1,"add"),pY=XT(-1,"subtract");function ek(t){return typeof t=="string"||t instanceof String}function hY(t){return qi(t)||Rc(t)||ek(t)||qa(t)||gY(t)||vY(t)||t===null||t===void 0}function vY(t){var e=es(t)&&!ty(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=n.length;for(i=0;i<o;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function gY(t){var e=Bi(t),r=!1;return e&&(r=t.filter(function(n){return!qa(n)&&ek(t)}).length===0),e&&r}function mY(t){var e=es(t)&&!ty(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Dt(t,a);return e&&r}function yY(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function bY(t,e){arguments.length===1&&(arguments[0]?hY(arguments[0])?(t=arguments[0],e=void 0):mY(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||mr(),n=by(r,this).startOf("day"),i=Pe.calendarFormat(this,n)||"sameElse",a=e&&(Ea(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,mr(r)))}function _Y(){return new $c(this)}function SY(t,e){var r=qi(t)?t:mr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function OY(t,e){var r=qi(t)?t:mr(t);return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function xY(t,e,r,n){var i=qi(t)?t:mr(t),a=qi(e)?e:mr(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function wY(t,e){var r=qi(t)?t:mr(t),n;return this.isValid()&&r.isValid()?(e=Ti(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function EY(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function CY(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function TY(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=by(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Ti(e),e){case"year":a=cd(this,n)/12;break;case"month":a=cd(this,n);break;case"quarter":a=cd(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:ci(a)}function cd(t,e){if(t.date()<e.date())return-cd(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}Pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kY(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function IY(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?ld(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ea(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ld(r,"Z")):ld(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function AY(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function PY(t){t||(t=this.isUtc()?Pe.defaultFormatUtc:Pe.defaultFormat);var e=ld(this,t);return this.localeData().postformat(e)}function jY(t,e){return this.isValid()&&(qi(t)&&t.isValid()||mr(t).isValid())?Xi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function LY(t){return this.from(mr(),t)}function FY(t,e){return this.isValid()&&(qi(t)&&t.isValid()||mr(t).isValid())?Xi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function RY(t){return this.to(mr(),t)}function tk(t){var e;return t===void 0?this._locale._abbr:(e=Ya(t),e!=null&&(this._locale=e),this)}var rk=Ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function nk(){return this._locale}var Fd=1e3,Sl=60*Fd,Rd=60*Sl,ik=(365*400+97)*24*Rd;function Ol(t,e){return(t%e+e)%e}function ak(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-ik:new Date(t,e,r).valueOf()}function ok(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-ik:Date.UTC(t,e,r)}function $Y(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ok:ak,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ol(e+(this._isUTC?0:this.utcOffset()*Sl),Rd);break;case"minute":e=this._d.valueOf(),e-=Ol(e,Sl);break;case"second":e=this._d.valueOf(),e-=Ol(e,Fd);break}return this._d.setTime(e),Pe.updateOffset(this,!0),this}function NY(t){var e,r;if(t=Ti(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ok:ak,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Rd-Ol(e+(this._isUTC?0:this.utcOffset()*Sl),Rd)-1;break;case"minute":e=this._d.valueOf(),e+=Sl-Ol(e,Sl)-1;break;case"second":e=this._d.valueOf(),e+=Fd-Ol(e,Fd)-1;break}return this._d.setTime(e),Pe.updateOffset(this,!0),this}function DY(){return this._d.valueOf()-(this._offset||0)*6e4}function MY(){return Math.floor(this.valueOf()/1e3)}function VY(){return new Date(this.valueOf())}function BY(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function qY(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function HY(){return this.isValid()?this.toISOString():null}function zY(){return ry(this)}function UY(){return po({},ct(this))}function WY(){return ct(this).overflow}function GY(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ye("N",0,0,"eraAbbr");Ye("NN",0,0,"eraAbbr");Ye("NNN",0,0,"eraAbbr");Ye("NNNN",0,0,"eraName");Ye("NNNNN",0,0,"eraNarrow");Ye("y",["y",1],"yo","eraYear");Ye("y",["yy",2],0,"eraYear");Ye("y",["yyy",3],0,"eraYear");Ye("y",["yyyy",4],0,"eraYear");$e("N",_y);$e("NN",_y);$e("NNN",_y);$e("NNNN",iK);$e("NNNNN",aK);er(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ct(r).era=i:ct(r).invalidEra=t});$e("y",Xl);$e("yy",Xl);$e("yyy",Xl);$e("yyyy",Xl);$e("yo",oK);er(["y","yy","yyy","yyyy"],bn);er(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[bn]=r._locale.eraYearOrdinalParse(t,i):e[bn]=parseInt(t,10)});function YY(t,e){var r,n,i,a=this._eras||Ya("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=Pe(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=Pe(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function KY(t,e,r){var n,i,a=this.eras(),o,s,l;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(o=a[n].name.toUpperCase(),s=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return a[n];break;case"NNNN":if(o===t)return a[n];break;case"NNNNN":if(l===t)return a[n];break}else if([o,s,l].indexOf(t)>=0)return a[n]}function JY(t,e){var r=t.since<=t.until?1:-1;return e===void 0?Pe(t.since).year():Pe(t.since).year()+(e-t.offset)*r}function QY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function XY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function ZY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function eK(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-Pe(i[t].since).year())*r+i[t].offset;return this.year()}function tK(t){return Dt(this,"_erasNameRegex")||Sy.call(this),t?this._erasNameRegex:this._erasRegex}function rK(t){return Dt(this,"_erasAbbrRegex")||Sy.call(this),t?this._erasAbbrRegex:this._erasRegex}function nK(t){return Dt(this,"_erasNarrowRegex")||Sy.call(this),t?this._erasNarrowRegex:this._erasRegex}function _y(t,e){return e.erasAbbrRegex(t)}function iK(t,e){return e.erasNameRegex(t)}function aK(t,e){return e.erasNarrowRegex(t)}function oK(t,e){return e._eraYearOrdinalRegex||Xl}function Sy(){var t=[],e=[],r=[],n=[],i,a,o,s,l,u=this.eras();for(i=0,a=u.length;i<a;++i)o=Va(u[i].name),s=Va(u[i].abbr),l=Va(u[i].narrow),e.push(o),t.push(s),r.push(l),n.push(o),n.push(s),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Ye(0,["gg",2],0,function(){return this.weekYear()%100});Ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bp(t,e){Ye(0,[t,t.length],0,e)}Bp("gggg","weekYear");Bp("ggggg","weekYear");Bp("GGGG","isoWeekYear");Bp("GGGGG","isoWeekYear");$e("G",$p);$e("g",$p);$e("GG",br,ii);$e("gg",br,ii);$e("GGGG",ly,sy);$e("gggg",ly,sy);$e("GGGGG",Rp,Lp);$e("ggggg",Rp,Lp);Dc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=Ot(t)});Dc(["gg","GG"],function(t,e,r,n){e[n]=Pe.parseTwoDigitYear(t)});function sK(t){return sk.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function lK(t){return sk.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function uK(){return Ba(this.year(),1,4)}function cK(){return Ba(this.isoWeekYear(),1,4)}function fK(){var t=this.localeData()._week;return Ba(this.year(),t.dow,t.doy)}function dK(){var t=this.localeData()._week;return Ba(this.weekYear(),t.dow,t.doy)}function sk(t,e,r,n,i){var a;return t==null?dc(this,n,i).year:(a=Ba(t,n,i),e>a&&(e=a),pK.call(this,t,e,r,n,i))}function pK(t,e,r,n,i){var a=VT(t,e,r,n,i),o=fc(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ye("Q",0,"Qo","quarter");$e("Q",IT);er("Q",function(t,e){e[Da]=(Ot(t)-1)*3});function hK(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ye("D",["DD",2],"Do","date");$e("D",br,Zl);$e("DD",br,ii);$e("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});er(["D","DD"],ca);er("Do",function(t,e){e[ca]=Ot(t.match(br)[0])});var lk=eu("Date",!0);Ye("DDD",["DDDD",3],"DDDo","dayOfYear");$e("DDD",Fp);$e("DDDD",AT);er(["DDD","DDDD"],function(t,e,r){r._dayOfYear=Ot(t)});function vK(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ye("m",["mm",2],0,"minute");$e("m",br,uy);$e("mm",br,ii);er(["m","mm"],Ni);var gK=eu("Minutes",!1);Ye("s",["ss",2],0,"second");$e("s",br,uy);$e("ss",br,ii);er(["s","ss"],Ma);var mK=eu("Seconds",!1);Ye("S",0,0,function(){return~~(this.millisecond()/100)});Ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ye(0,["SSS",3],0,"millisecond");Ye(0,["SSSS",4],0,function(){return this.millisecond()*10});Ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$e("S",Fp,IT);$e("SS",Fp,ii);$e("SSS",Fp,AT);var ho,uk;for(ho="SSSS";ho.length<=9;ho+="S")$e(ho,Xl);function yK(t,e){e[Ko]=Ot(("0."+t)*1e3)}for(ho="S";ho.length<=9;ho+="S")er(ho,yK);uk=eu("Milliseconds",!1);Ye("z",0,0,"zoneAbbr");Ye("zz",0,0,"zoneName");function bK(){return this._isUTC?"UTC":""}function _K(){return this._isUTC?"Coordinated Universal Time":""}var Ee=$c.prototype;Ee.add=dY;Ee.calendar=bY;Ee.clone=_Y;Ee.diff=TY;Ee.endOf=NY;Ee.format=PY;Ee.from=jY;Ee.fromNow=LY;Ee.to=FY;Ee.toNow=RY;Ee.get=AG;Ee.invalidAt=WY;Ee.isAfter=SY;Ee.isBefore=OY;Ee.isBetween=xY;Ee.isSame=wY;Ee.isSameOrAfter=EY;Ee.isSameOrBefore=CY;Ee.isValid=zY;Ee.lang=rk;Ee.locale=tk;Ee.localeData=nk;Ee.max=z7;Ee.min=H7;Ee.parsingFlags=UY;Ee.set=PG;Ee.startOf=$Y;Ee.subtract=pY;Ee.toArray=BY;Ee.toObject=qY;Ee.toDate=VY;Ee.toISOString=IY;Ee.inspect=AY;typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ee.toJSON=HY;Ee.toString=kY;Ee.unix=MY;Ee.valueOf=DY;Ee.creationData=GY;Ee.eraName=QY;Ee.eraNarrow=XY;Ee.eraAbbr=ZY;Ee.eraYear=eK;Ee.year=LT;Ee.isLeapYear=IG;Ee.weekYear=sK;Ee.isoWeekYear=lK;Ee.quarter=Ee.quarters=hK;Ee.month=DT;Ee.daysInMonth=VG;Ee.week=Ee.weeks=YG;Ee.isoWeek=Ee.isoWeeks=KG;Ee.weeksInYear=fK;Ee.weeksInWeekYear=dK;Ee.isoWeeksInYear=uK;Ee.isoWeeksInISOWeekYear=cK;Ee.date=lk;Ee.day=Ee.days=l7;Ee.weekday=u7;Ee.isoWeekday=c7;Ee.dayOfYear=vK;Ee.hour=Ee.hours=m7;Ee.minute=Ee.minutes=gK;Ee.second=Ee.seconds=mK;Ee.millisecond=Ee.milliseconds=uk;Ee.utcOffset=Z7;Ee.utc=tY;Ee.local=rY;Ee.parseZone=nY;Ee.hasAlignedHourOffset=iY;Ee.isDST=aY;Ee.isLocal=sY;Ee.isUtcOffset=lY;Ee.isUtc=QT;Ee.isUTC=QT;Ee.zoneAbbr=bK;Ee.zoneName=_K;Ee.dates=Ci("dates accessor is deprecated. Use date instead.",lk);Ee.months=Ci("months accessor is deprecated. Use month instead",DT);Ee.years=Ci("years accessor is deprecated. Use year instead",LT);Ee.zone=Ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",eY);Ee.isDSTShifted=Ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",oY);function SK(t){return mr(t*1e3)}function OK(){return mr.apply(null,arguments).parseZone()}function ck(t){return t}var Vt=iy.prototype;Vt.calendar=sG;Vt.longDateFormat=fG;Vt.invalidDate=pG;Vt.ordinal=gG;Vt.preparse=ck;Vt.postformat=ck;Vt.relativeTime=yG;Vt.pastFuture=bG;Vt.set=aG;Vt.eras=YY;Vt.erasParse=KY;Vt.erasConvertYear=JY;Vt.erasAbbrRegex=rK;Vt.erasNameRegex=tK;Vt.erasNarrowRegex=nK;Vt.months=$G;Vt.monthsShort=NG;Vt.monthsParse=MG;Vt.monthsRegex=qG;Vt.monthsShortRegex=BG;Vt.week=zG;Vt.firstDayOfYear=GG;Vt.firstDayOfWeek=WG;Vt.weekdays=n7;Vt.weekdaysMin=a7;Vt.weekdaysShort=i7;Vt.weekdaysParse=s7;Vt.weekdaysRegex=f7;Vt.weekdaysShortRegex=d7;Vt.weekdaysMinRegex=p7;Vt.isPM=v7;Vt.meridiem=y7;function $d(t,e,r,n){var i=Ya(),a=wa().set(n,e);return i[r](a,t)}function fk(t,e,r){if(qa(t)&&(e=t,t=void 0),t=t||"",e!=null)return $d(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=$d(t,n,r,"month");return i}function Oy(t,e,r,n){typeof t=="boolean"?(qa(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,qa(e)&&(r=e,e=void 0),e=e||"");var i=Ya(),a=t?i._week.dow:0,o,s=[];if(r!=null)return $d(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=$d(e,(o+a)%7,n,"day");return s}function xK(t,e){return fk(t,e,"months")}function wK(t,e){return fk(t,e,"monthsShort")}function EK(t,e,r){return Oy(t,e,r,"weekdays")}function CK(t,e,r){return Oy(t,e,r,"weekdaysShort")}function TK(t,e,r){return Oy(t,e,r,"weekdaysMin")}mo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=Ot(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});Pe.lang=Ci("moment.lang is deprecated. Use moment.locale instead.",mo);Pe.langData=Ci("moment.langData is deprecated. Use moment.localeData instead.",Ya);var Pa=Math.abs;function kK(){var t=this._data;return this._milliseconds=Pa(this._milliseconds),this._days=Pa(this._days),this._months=Pa(this._months),t.milliseconds=Pa(t.milliseconds),t.seconds=Pa(t.seconds),t.minutes=Pa(t.minutes),t.hours=Pa(t.hours),t.months=Pa(t.months),t.years=Pa(t.years),this}function dk(t,e,r,n){var i=Xi(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function IK(t,e){return dk(this,t,e,1)}function AK(t,e){return dk(this,t,e,-1)}function rS(t){return t<0?Math.floor(t):Math.ceil(t)}function PK(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,o,s,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=rS(ug(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=ci(t/1e3),n.seconds=i%60,a=ci(i/60),n.minutes=a%60,o=ci(a/60),n.hours=o%24,e+=ci(o/24),l=ci(pk(e)),r+=l,e-=rS(ug(l)),s=ci(r/12),r%=12,n.days=e,n.months=r,n.years=s,this}function pk(t){return t*4800/146097}function ug(t){return t*146097/4800}function jK(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=Ti(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+pk(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(ug(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Ka(t){return function(){return this.as(t)}}var hk=Ka("ms"),LK=Ka("s"),FK=Ka("m"),RK=Ka("h"),$K=Ka("d"),NK=Ka("w"),DK=Ka("M"),MK=Ka("Q"),VK=Ka("y"),BK=hk;function qK(){return Xi(this)}function HK(t){return t=Ti(t),this.isValid()?this[t+"s"]():NaN}function ys(t){return function(){return this.isValid()?this._data[t]:NaN}}var zK=ys("milliseconds"),UK=ys("seconds"),WK=ys("minutes"),GK=ys("hours"),YK=ys("days"),KK=ys("months"),JK=ys("years");function QK(){return ci(this.days()/7)}var Ra=Math.round,dl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function XK(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function ZK(t,e,r,n){var i=Xi(t).abs(),a=Ra(i.as("s")),o=Ra(i.as("m")),s=Ra(i.as("h")),l=Ra(i.as("d")),u=Ra(i.as("M")),c=Ra(i.as("w")),f=Ra(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,XK.apply(null,d)}function eJ(t){return t===void 0?Ra:typeof t=="function"?(Ra=t,!0):!1}function tJ(t,e){return dl[t]===void 0?!1:e===void 0?dl[t]:(dl[t]=e,t==="s"&&(dl.ss=e-1),!0)}function rJ(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=dl,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},dl,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=ZK(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var tv=Math.abs;function $s(t){return(t>0)-(t<0)||+t}function qp(){if(!this.isValid())return this.localeData().invalidDate();var t=tv(this._milliseconds)/1e3,e=tv(this._days),r=tv(this._months),n,i,a,o,s=this.asSeconds(),l,u,c,f;return s?(n=ci(t/60),i=ci(n/60),t%=60,n%=60,a=ci(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=$s(this._months)!==$s(s)?"-":"",c=$s(this._days)!==$s(s)?"-":"",f=$s(this._milliseconds)!==$s(s)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(e?c+e+"D":"")+(i||n||t?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(t?f+o+"S":"")):"P0D"}var Lt=Vp.prototype;Lt.isValid=K7;Lt.abs=kK;Lt.add=IK;Lt.subtract=AK;Lt.as=jK;Lt.asMilliseconds=hk;Lt.asSeconds=LK;Lt.asMinutes=FK;Lt.asHours=RK;Lt.asDays=$K;Lt.asWeeks=NK;Lt.asMonths=DK;Lt.asQuarters=MK;Lt.asYears=VK;Lt.valueOf=BK;Lt._bubble=PK;Lt.clone=qK;Lt.get=HK;Lt.milliseconds=zK;Lt.seconds=UK;Lt.minutes=WK;Lt.hours=GK;Lt.days=YK;Lt.weeks=QK;Lt.months=KK;Lt.years=JK;Lt.humanize=rJ;Lt.toISOString=qp;Lt.toString=qp;Lt.toJSON=qp;Lt.locale=tk;Lt.localeData=nk;Lt.toIsoString=Ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qp);Lt.lang=rk;Ye("X",0,0,"unix");Ye("x",0,0,"valueOf");$e("x",$p);$e("X",xG);er("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});er("x",function(t,e,r){r._d=new Date(Ot(t))});//! moment.js
Pe.version="2.30.1";nG(mr);Pe.fn=Ee;Pe.min=U7;Pe.max=W7;Pe.now=G7;Pe.utc=wa;Pe.unix=SK;Pe.months=xK;Pe.isDate=Rc;Pe.locale=mo;Pe.invalid=jp;Pe.duration=Xi;Pe.isMoment=qi;Pe.weekdays=EK;Pe.parseZone=OK;Pe.localeData=Ya;Pe.isDuration=ud;Pe.monthsShort=wK;Pe.weekdaysMin=TK;Pe.defineLocale=hy;Pe.updateLocale=O7;Pe.locales=x7;Pe.weekdaysShort=CK;Pe.normalizeUnits=Ti;Pe.relativeTimeRounding=eJ;Pe.relativeTimeThreshold=tJ;Pe.calendarFormat=yY;Pe.prototype=Ee;Pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const nJ={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class iJ{constructor({locale:e,formats:r,instance:n}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=i=>{var a,o;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return(o=(a=i.match(s))===null||a===void 0?void 0:a.map(l=>{const u=l[0];return u==="L"||u===";"?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(l):l}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:i},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=i=>this.moment(i,!0),this.toISO=i=>i.toISOString(),this.parse=(i,a)=>i===""?null:this.locale?this.moment(i,a,this.locale,!0):this.moment(i,a,!0),this.date=i=>{if(i===null)return null;const a=this.moment(i);return this.locale&&a.locale(this.locale),a},this.toJsDate=i=>i.toDate(),this.isValid=i=>this.moment(i).isValid(),this.isNull=i=>i===null,this.getDiff=(i,a,o)=>this.moment(a).isValid()?i.diff(a,o):0,this.isAfter=(i,a)=>i.isAfter(a),this.isBefore=(i,a)=>i.isBefore(a),this.isAfterDay=(i,a)=>i.isAfter(a,"day"),this.isBeforeDay=(i,a)=>i.isBefore(a,"day"),this.isBeforeMonth=(i,a)=>i.isBefore(a,"month"),this.isAfterMonth=(i,a)=>i.isAfter(a,"month"),this.isBeforeYear=(i,a)=>i.isBefore(a,"year"),this.isAfterYear=(i,a)=>i.isAfter(a,"year"),this.startOfDay=i=>i.clone().startOf("day"),this.endOfDay=i=>i.clone().endOf("day"),this.format=(i,a)=>this.formatByString(i,this.formats[a]),this.formatByString=(i,a)=>{const o=i.clone();return this.locale&&o.locale(this.locale),o.format(a)},this.formatNumber=i=>i,this.getHours=i=>i.get("hours"),this.addSeconds=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"seconds"):i.clone().add(a,"seconds"),this.addMinutes=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"minutes"):i.clone().add(a,"minutes"),this.addHours=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"hours"):i.clone().add(a,"hours"),this.addDays=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"days"):i.clone().add(a,"days"),this.addWeeks=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"weeks"):i.clone().add(a,"weeks"),this.addMonths=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"months"):i.clone().add(a,"months"),this.addYears=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"years"):i.clone().add(a,"years"),this.setHours=(i,a)=>i.clone().hours(a),this.getMinutes=i=>i.get("minutes"),this.setMinutes=(i,a)=>i.clone().minutes(a),this.getSeconds=i=>i.get("seconds"),this.setSeconds=(i,a)=>i.clone().seconds(a),this.getMonth=i=>i.get("month"),this.getDaysInMonth=i=>i.daysInMonth(),this.isSameDay=(i,a)=>i.isSame(a,"day"),this.isSameMonth=(i,a)=>i.isSame(a,"month"),this.isSameYear=(i,a)=>i.isSame(a,"year"),this.isSameHour=(i,a)=>i.isSame(a,"hour"),this.setMonth=(i,a)=>i.clone().month(a),this.getMeridiemText=i=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem(i==="am"?0:13,0,!1):i==="am"?"AM":"PM",this.startOfYear=i=>i.clone().startOf("year"),this.endOfYear=i=>i.clone().endOf("year"),this.startOfMonth=i=>i.clone().startOf("month"),this.endOfMonth=i=>i.clone().endOf("month"),this.startOfWeek=i=>i.clone().startOf("week"),this.endOfWeek=i=>i.clone().endOf("week"),this.getNextMonth=i=>i.clone().add(1,"month"),this.getPreviousMonth=i=>i.clone().subtract(1,"month"),this.getMonthArray=i=>{const o=[i.clone().startOf("year")];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.getYear=i=>i.get("year"),this.setYear=(i,a)=>i.clone().set("year",a),this.getDate=i=>i.get("date"),this.setDate=(i,a)=>i.clone().set("date",a),this.mergeDateAndTime=(i,a)=>i.hour(a.hour()).minute(a.minute()).second(a.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(i,a)=>i===null&&a===null?!0:this.moment(i).isSame(a),this.getWeekArray=i=>{const a=i.clone().startOf("month").startOf("week"),o=i.clone().endOf("month").endOf("week");let s=0,l=a;const u=[];for(;l.isBefore(o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=l.clone().add(1,"day"),s+=1}return u},this.getYearRange=(i,a)=>{const o=this.moment(i).startOf("year"),s=this.moment(a).endOf("year"),l=[];let u=o;for(;u.isBefore(s);)l.push(u),u=u.clone().add(1,"year");return l},this.isWithinRange=(i,[a,o])=>i.isBetween(a,o,null,"[]"),this.moment=n||Pe,this.locale=e,this.formats=Object.assign({},nJ,r)}}const aJ="@mui/x-date-pickers",oJ="5.0.20",sJ="The community edition of the date picker components (MUI X).",lJ="MUI Team",uJ="./node/index.js",cJ="MIT",fJ={url:"https://github.com/mui/mui-x/issues"},dJ="https://mui.com/x/react-date-pickers/getting-started/",pJ={type:"opencollective",url:"https://opencollective.com/mui"},hJ=!1,vJ={access:"public"},gJ=["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],mJ={type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},yJ={"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},bJ={"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},_J={"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},SJ=["<rootDir>/src/setupTests.js"],OJ={node:">=12.0.0"},xJ="./index.js",wJ="./index.d.ts",bi={name:aJ,version:oJ,description:sJ,author:lJ,main:uJ,license:cJ,bugs:fJ,homepage:dJ,funding:pJ,sideEffects:hJ,publishConfig:vJ,keywords:gJ,repository:mJ,dependencies:yJ,peerDependencies:bJ,peerDependenciesMeta:_J,setupFiles:SJ,engines:OJ,private:!1,module:xJ,types:wJ},EJ=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.customProps,o=t.maxLength;t.errorMessage;var s=J.useCallback(function(u){var c=u.target.value;c===""&&(c=void 0),r(c)},[r]),l=e||"";return P.createElement(Dr,null,P.createElement(Yt,ae({variant:"standard",value:l,placeholder:n?"":i,InputProps:{readOnly:n},inputProps:{maxLength:o},disabled:n,onChange:s,size:"small"},a)))},CJ=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.maxRows,u=t.fullWidth,c=n.settings.defaultMaxRows,f=function(v){var h=v.target.value;h===""&&(h=void 0),r(h)},d=e||"";return P.createElement(Dr,{fullWidth:u},P.createElement(Yt,ae({variant:"standard",fullWidth:u,maxRows:l||c,multiline:!0,value:d,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:f,size:"small"},o)))};function TJ(t){if(Array.isArray(t))return GF(t)}function kJ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(t){return TJ(t)||YF(t)||KF(t)||kJ()}var Mc="delete",hr=5,gi=1<<hr,An=gi-1,It={};function cg(){return{value:!1}}function mi(t){t&&(t.value=!0)}function xy(){}function Tl(t){return t.size===void 0&&(t.size=t.__iterate(vk)),t.size}function xo(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Tl(t)+e:e}function vk(){return!0}function Vc(t,e,r){return(t===0&&!mk(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function tu(t,e){return gk(t,e,0)}function Bc(t,e){return gk(t,e,e)}function gk(t,e,r){return t===void 0?r:mk(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function mk(t){return t<0||t===0&&1/t===-1/0}var yk="@@__IMMUTABLE_ITERABLE__@@";function jn(t){return!!(t&&t[yk])}var bk="@@__IMMUTABLE_KEYED__@@";function or(t){return!!(t&&t[bk])}var _k="@@__IMMUTABLE_INDEXED__@@";function _n(t){return!!(t&&t[_k])}function qc(t){return or(t)||_n(t)}var Ar=function(e){return jn(e)?e:Fn(e)},ki=function(t){function e(r){return or(r)?r:Lo(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar),bs=function(t){function e(r){return _n(r)?r:Ai(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar),ru=function(t){function e(r){return jn(r)&&!qc(r)?r:au(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ar);Ar.Keyed=ki;Ar.Indexed=bs;Ar.Set=ru;var Sk="@@__IMMUTABLE_SEQ__@@";function Hp(t){return!!(t&&t[Sk])}var Ok="@@__IMMUTABLE_RECORD__@@";function _s(t){return!!(t&&t[Ok])}function Ii(t){return jn(t)||_s(t)}var nu="@@__IMMUTABLE_ORDERED__@@";function _i(t){return!!(t&&t[nu])}var Hc=0,Hi=1,xi=2,fg=typeof Symbol=="function"&&Symbol.iterator,xk="@@iterator",zp=fg||xk,Mt=function(e){this.next=e};Mt.prototype.toString=function(){return"[Iterator]"};Mt.KEYS=Hc;Mt.VALUES=Hi;Mt.ENTRIES=xi;Mt.prototype.inspect=Mt.prototype.toSource=function(){return this.toString()};Mt.prototype[zp]=function(){return this};function gr(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Ln(){return{value:void 0,done:!0}}function wy(t){return Array.isArray(t)?!0:!!Up(t)}function nS(t){return t&&typeof t.next=="function"}function dg(t){var e=Up(t);return e&&e.call(t)}function Up(t){var e=t&&(fg&&t[fg]||t[xk]);if(typeof e=="function")return e}function IJ(t){var e=Up(t);return e&&e===t.entries}function AJ(t){var e=Up(t);return e&&e===t.keys}var iu=Object.prototype.hasOwnProperty;function Ey(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Fn=function(t){function e(r){return r==null?Ty():Ii(r)?r.toSeq():jJ(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new Mt(function(){if(s===o)return Ln();var l=a[i?o-++s:s++];return gr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},e}(Ar),Lo=function(t){function e(r){return r==null?Ty().toKeyedSeq():jn(r)?or(r)?r.toSeq():r.fromEntrySeq():_s(r)?r.toSeq():ky(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Fn),Ai=function(t){function e(r){return r==null?Ty():jn(r)?or(r)?r.entrySeq():r.toIndexedSeq():_s(r)?r.toSeq().entrySeq():wk(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Fn),au=function(t){function e(r){return(jn(r)&&!qc(r)?r:Ai(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Fn);Fn.isSeq=Hp;Fn.Keyed=Lo;Fn.Set=au;Fn.Indexed=Ai;Fn.prototype[Sk]=!0;var rs=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[xo(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},e.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new Mt(function(){if(s===o)return Ln();var l=i?o-++s:s++;return gr(n,l,a[l])})},e}(Ai),Cy=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return iu.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},e.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new Mt(function(){if(l===s)return Ln();var u=o[i?s-++l:l++];return gr(n,u,a[u])})},e}(Lo);Cy.prototype[nu]=!0;var PJ=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=dg(a),s=0;if(nS(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=dg(a);if(!nS(o))return new Mt(Ln);var s=0;return new Mt(function(){var l=o.next();return l.done?l:gr(n,s++,l.value)})},e}(Ai),iS;function Ty(){return iS||(iS=new rs([]))}function ky(t){var e=Iy(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new Cy(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function wk(t){var e=Iy(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function jJ(t){var e=Iy(t);if(e)return IJ(t)?e.fromEntrySeq():AJ(t)?e.toSetSeq():e;if(typeof t=="object")return new Cy(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Iy(t){return Ey(t)?new rs(t):wy(t)?new PJ(t):void 0}var Ek="@@__IMMUTABLE_MAP__@@";function Wp(t){return!!(t&&t[Ek])}function Ay(t){return Wp(t)&&_i(t)}function pg(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function ln(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(pg(t)&&pg(e)&&t.equals(e))}var Iu=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Gp(t){return t>>>1&1073741824|t&3221225471}var LJ=Object.prototype.valueOf;function Hn(t){if(t==null)return aS(t);if(typeof t.hashCode=="function")return Gp(t.hashCode(t));var e=MJ(t);if(e==null)return aS(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return FJ(e);case"string":return e.length>VJ?RJ(e):hg(e);case"object":case"function":return NJ(e);case"symbol":return $J(e);default:if(typeof e.toString=="function")return hg(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function aS(t){return t===null?1108378658:1108378659}function FJ(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Gp(e)}function RJ(t){var e=iv[t];return e===void 0&&(e=hg(t),nv===BJ&&(nv=0,iv={}),nv++,iv[t]=e),e}function hg(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Gp(e)}function $J(t){var e=lS[t];return e!==void 0||(e=Ck(),lS[t]=e),e}function NJ(t){var e;if(vg&&(e=gg.get(t),e!==void 0)||(e=t[Uo],e!==void 0)||!sS&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Uo],e!==void 0||(e=DJ(t),e!==void 0)))return e;if(e=Ck(),vg)gg.set(t,e);else{if(oS!==void 0&&oS(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(sS)Object.defineProperty(t,Uo,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Uo]=e;else if(t.nodeType!==void 0)t[Uo]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var oS=Object.isExtensible,sS=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function DJ(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function MJ(t){return t.valueOf!==LJ&&typeof t.valueOf=="function"?t.valueOf(t):t}function Ck(){var t=++rv;return rv&1073741824&&(rv=0),t}var vg=typeof WeakMap=="function",gg;vg&&(gg=new WeakMap);var lS=Object.create(null),rv=0,Uo="__immutablehash__";typeof Symbol=="function"&&(Uo=Symbol(Uo));var VJ=16,BJ=255,nv=0,iv={},Yp=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=Py(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,o=Pk(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Lo);Yp.prototype[nu]=!0;var Tk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Tl(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(Hi,i),s=0;return i&&Tl(this),new Mt(function(){var l=o.next();return l.done?l:gr(n,i?a.size-++s:s++,l.value,l)})},e}(Ai),kk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Hi,i);return new Mt(function(){var o=a.next();return o.done?o:gr(n,o.value,o.value,o)})},e}(au),Ik=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){cS(o);var s=jn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Hi,i);return new Mt(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){cS(s);var l=jn(s);return gr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},e}(Lo);Tk.prototype.cacheResult=Yp.prototype.cacheResult=kk.prototype.cacheResult=Ik.prototype.cacheResult=Fy;function Ak(t){var e=Ca(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=Fy,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,o){return r(o,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===xi){var i=t.__iterator(r,n);return new Mt(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return t.__iterator(r===Hi?Hc:Hi,n)},e}function Pk(t,e,r){var n=Ca(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var o=t.get(i,It);return o===It?a:e.call(r,o,i,t)},n.__iterateUncached=function(i,a){var o=this;return t.__iterate(function(s,l,u){return i(e.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=t.__iterator(xi,a);return new Mt(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return gr(i,u,e.call(r,l[1],u,t),s)})},n}function Py(t,e){var r=this,n=Ca(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=Ak(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=Fy,n.__iterate=function(i,a){var o=this,s=0;return a&&Tl(t),t.__iterate(function(l,u){return i(l,e?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Tl(t);var s=t.__iterator(xi,!a);return new Mt(function(){var l=s.next();if(l.done)return l;var u=l.value;return gr(i,e?u[0]:a?r.size-++o:o++,u[1],l)})},n}function jk(t,e,r,n){var i=Ca(t);return n&&(i.has=function(a){var o=t.get(a,It);return o!==It&&!!e.call(r,o,a,t)},i.get=function(a,o){var s=t.get(a,It);return s!==It&&e.call(r,s,a,t)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return t.__iterate(function(u,c,f){if(e.call(r,u,c,f))return l++,a(u,n?c:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=t.__iterator(xi,o),l=0;return new Mt(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];if(e.call(r,d,f,t))return gr(a,n?f:l++,d,u)}})},i}function qJ(t,e,r){var n=lr().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(o){return o+1})}),n.asImmutable()}function HJ(t,e,r){var n=or(t),i=(_i(t)?_a():lr()).asMutable();t.__iterate(function(o,s){i.update(e.call(r,o,s,t),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=Ly(t);return i.map(function(o){return rr(t,a(o))}).asImmutable()}function zJ(t,e,r){var n=or(t),i=[[],[]];t.__iterate(function(o,s){i[e.call(r,o,s,t)?1:0].push(n?[s,o]:o)});var a=Ly(t);return i.map(function(o){return rr(t,a(o))})}function jy(t,e,r,n){var i=t.size;if(Vc(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return jy(t.toSeq().cacheResult(),e,r,n);var a=tu(e,i),o=Bc(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=Ca(t);return u.size=l===0?l:t.size&&l||void 0,!n&&Hp(t)&&l>=0&&(u.get=function(c,f){return c=xo(this,c),c>=0&&c<l?t.get(c+a,f):f}),u.__iterateUncached=function(c,f){var d=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var p=0,v=!0,h=0;return t.__iterate(function(g,y){if(!(v&&(v=p++<a)))return h++,c(g,n?y:h-1,d)!==!1&&h!==l}),h},u.__iteratorUncached=function(c,f){if(l!==0&&f)return this.cacheResult().__iterator(c,f);if(l===0)return new Mt(Ln);var d=t.__iterator(c,f),p=0,v=0;return new Mt(function(){for(;p++<a;)d.next();if(++v>l)return Ln();var h=d.next();return n||c===Hi||h.done?h:c===Hc?gr(c,v-1,void 0,h):gr(c,v-1,h.value[1],h)})},u}function UJ(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return t.__iterate(function(l,u,c){return e.call(r,l,u,c)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(xi,a),l=!0;return new Mt(function(){if(!l)return Ln();var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];return e.call(r,d,f,o)?i===xi?u:gr(i,f,d,u):(l=!1,Ln())})},n}function Lk(t,e,r,n){var i=Ca(t);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return t.__iterate(function(c,f,d){if(!(l&&(l=e.call(r,c,f,d))))return u++,a(c,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=t.__iterator(xi,o),u=!0,c=0;return new Mt(function(){var f,d,p;do{if(f=l.next(),f.done)return n||a===Hi?f:a===Hc?gr(a,c++,void 0,f):gr(a,c++,f.value[1],f);var v=f.value;d=v[0],p=v[1],u&&(u=e.call(r,p,d,s))}while(u);return a===xi?f:gr(a,d,p,f)})},i}function WJ(t,e){var r=or(t),n=[t].concat(e).map(function(o){return jn(o)?r&&(o=ki(o)):o=r?ky(o):wk(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&or(i)||_n(t)&&_n(i))return i}var a=new rs(n);return r?a=a.toKeyedSeq():_n(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function Fk(t,e,r){var n=Ca(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,c){u.__iterate(function(f,d){return(!e||c<e)&&jn(f)?l(f,c+1):(o++,i(f,r?d:o-1,n)===!1&&(s=!0)),!s},a)}return l(t,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(i,a),s=[],l=0;return new Mt(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var c=u.value;if(i===xi&&(c=c[1]),(!e||s.length<e)&&jn(c))s.push(o),o=c.__iterator(i,a);else return r?u:gr(i,l++,c,u)}return Ln()})},n}function GJ(t,e,r){var n=Ly(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function YJ(t,e){var r=Ca(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return t.__iterate(function(s){return(!o||n(e,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=t.__iterator(Hi,i),o=0,s;return new Mt(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?gr(n,o++,e):gr(n,o++,s.value,s)})},r}function kl(t,e,r){e||(e=Rk);var n=or(t),i=0,a=t.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,t):o]}).valueSeq().toArray();return a.sort(function(o,s){return e(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Lo(a):_n(t)?Ai(a):au(a)}function Rf(t,e,r){if(e||(e=Rk),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return uS(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return uS(e,i,a)?a:i})}function uS(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function $f(t,e,r,n){var i=Ca(t),a=new rs(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(Hi,s),u,c=0;!(u=l.next()).done&&o(u.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,s){var l=r.map(function(f){return f=Ar(f),dg(s?f.reverse():f)}),u=0,c=!1;return new Mt(function(){var f;return c||(f=l.map(function(d){return d.next()}),c=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),c?Ln():gr(o,u++,e.apply(null,f.map(function(d){return d.value})))})},i}function rr(t,e){return t===e?t:Hp(t)?e:t.constructor(e)}function cS(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ly(t){return or(t)?ki:_n(t)?bs:ru}function Ca(t){return Object.create((or(t)?Lo:_n(t)?Ai:au).prototype)}function Fy(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Fn.prototype.cacheResult.call(this)}function Rk(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function fa(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function Ry(t,e){if(!t)throw new Error(e)}function Qn(t){Ry(t!==1/0,"Cannot perform this action with an infinite size.")}function $k(t){if(Ey(t)&&typeof t!="string")return t;if(_i(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var KJ=Object.prototype.toString;function $y(t){if(!t||typeof t!="object"||KJ.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function wo(t){return typeof t=="object"&&(Ii(t)||Array.isArray(t)||$y(t))}function hc(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Nk(t,e){return Ii(t)?t.has(e):wo(t)&&iu.call(t,e)}function Ny(t,e,r){return Ii(t)?t.get(e,r):Nk(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Nd(t){if(Array.isArray(t))return fa(t);var e={};for(var r in t)iu.call(t,r)&&(e[r]=t[r]);return e}function Dk(t,e){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!iu.call(t,e))return t;var r=Nd(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Mk(t,e,r){if(!wo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ii(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(iu.call(t,e)&&r===t[e])return t;var n=Nd(t);return n[e]=r,n}function Ss(t,e,r,n){n||(n=r,r=void 0);var i=Vk(Ii(t),t,$k(e),0,r,n);return i===It?r:i}function Vk(t,e,r,n,i,a){var o=e===It;if(n===r.length){var s=o?i:e,l=a(s);return l===s?e:l}if(!o&&!wo(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(hc)+"]: "+e);var u=r[n],c=o?It:Ny(e,u,It),f=Vk(c===It?t:Ii(c),c,r,n+1,i,a);return f===c?e:f===It?Dk(e,u):Mk(o?t?Ri():{}:e,u,f)}function Bk(t,e,r){return Ss(t,e,It,function(){return r})}function Dy(t,e){return Bk(this,t,e)}function qk(t,e){return Ss(t,e,function(){return It})}function My(t){return qk(this,t)}function Vy(t,e,r,n){return Ss(t,[e],r,n)}function By(t,e,r){return arguments.length===1?t(this):Vy(this,t,e,r)}function qy(t,e,r){return Ss(this,t,e,r)}function Hk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Uk(this,t)}function zk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Uk(this,e,t)}function Uk(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=ki(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var s=r?function(u,c){Vy(o,c,It,function(f){return f===It?u:r(f,u,c)})}:function(u,c){o.set(c,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function JJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Uc(t,e)}function QJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Uc(e,r,t)}function XJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return zc(t,e)}function ZJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return zc(e,r,t)}function zc(t,e,r){return Uc(t,e,eQ(r))}function Uc(t,e,r){if(!wo(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Ii(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?bs:ki,o=n?function(l){i===t&&(i=Nd(i)),i.push(l)}:function(l,u){var c=iu.call(i,u),f=c&&r?r(i[u],l,u):l;(!c||f!==i[u])&&(i===t&&(i=Nd(i)),i[u]=f)},s=0;s<e.length;s++)a(e[s]).forEach(o);return i}function eQ(t){function e(r,n,i){return wo(r)&&wo(n)&&tQ(r,n)?Uc(r,[n],e):t?t(r,n,i):n}return e}function tQ(t,e){var r=Fn(t),n=Fn(e);return _n(r)===_n(n)&&or(r)===or(n)}function Wk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return zc(this,t)}function Gk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return zc(this,e,t)}function Hy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ss(this,t,Ri(),function(n){return Uc(n,e)})}function zy(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ss(this,t,Ri(),function(n){return zc(n,e)})}function Wc(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Gc(){return this.__ownerID?this:this.__ensureOwner(new xy)}function Yc(){return this.__ensureOwner()}function Uy(){return this.__altered}var lr=function(t){function e(r){return r==null?Ri():Wp(r)&&!_i(r)?r:Ri().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ri().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return pS(this,n,i)},e.prototype.remove=function(n){return pS(this,n,It)},e.prototype.deleteAll=function(n){var i=Ar(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ri()},e.prototype.sort=function(n){return _a(kl(this,n))},e.prototype.sortBy=function(n,i){return _a(kl(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},e.prototype.__iterator=function(n,i){return new rQ(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Wy(this.size,this._root,n,this.__hash):this.size===0?Ri():(this.__ownerID=n,this.__altered=!1,this)},e}(ki);lr.isMap=Wp;var yr=lr.prototype;yr[Ek]=!0;yr[Mc]=yr.remove;yr.removeAll=yr.deleteAll;yr.setIn=Dy;yr.removeIn=yr.deleteIn=My;yr.update=By;yr.updateIn=qy;yr.merge=yr.concat=Hk;yr.mergeWith=zk;yr.mergeDeep=Wk;yr.mergeDeepWith=Gk;yr.mergeIn=Hy;yr.mergeDeepIn=zy;yr.withMutations=Wc;yr.wasAltered=Uy;yr.asImmutable=Yc;yr["@@transducer/init"]=yr.asMutable=Gc;yr["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};yr["@@transducer/result"]=function(t){return t.asImmutable()};var vc=function(e,r){this.ownerID=e,this.entries=r};vc.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ln(n,a[o][0]))return a[o][1];return i};vc.prototype.update=function(e,r,n,i,a,o,s){for(var l=a===It,u=this.entries,c=0,f=u.length;c<f&&!ln(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),!(l&&u.length===1)){if(!d&&!l&&u.length>=lQ)return nQ(e,u,i,a);var p=e&&e===this.ownerID,v=p?u:fa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new vc(e,v)}};var Il=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Il.prototype.get=function(e,r,n,i){r===void 0&&(r=Hn(n));var a=1<<((e===0?r:r>>>e)&An),o=this.bitmap;return o&a?this.nodes[Yk(o&a-1)].get(e+hr,r,n,i):i};Il.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=(r===0?n:n>>>r)&An,u=1<<l,c=this.bitmap,f=(c&u)!==0;if(!f&&a===It)return this;var d=Yk(c&u-1),p=this.nodes,v=f?p[d]:void 0,h=Gy(v,e,r+hr,n,i,a,o,s);if(h===v)return this;if(!f&&h&&p.length>=uQ)return aQ(e,p,c,l,h);if(f&&!h&&p.length===2&&hS(p[d^1]))return p[d^1];if(f&&h&&p.length===1&&hS(h))return h;var g=e&&e===this.ownerID,y=f?h?c:c^u:c|u,m=f?h?Kk(p,d,h,g):sQ(p,d,g):oQ(p,d,h,g);return g?(this.bitmap=y,this.nodes=m,this):new Il(e,y,m)};var gc=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};gc.prototype.get=function(e,r,n,i){r===void 0&&(r=Hn(n));var a=(e===0?r:r>>>e)&An,o=this.nodes[a];return o?o.get(e+hr,r,n,i):i};gc.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=(r===0?n:n>>>r)&An,u=a===It,c=this.nodes,f=c[l];if(u&&!f)return this;var d=Gy(f,e,r+hr,n,i,a,o,s);if(d===f)return this;var p=this.count;if(!f)p++;else if(!d&&(p--,p<cQ))return iQ(e,c,p,l);var v=e&&e===this.ownerID,h=Kk(c,l,d,v);return v?(this.count=p,this.nodes=h,this):new gc(e,p,h)};var Al=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Al.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ln(n,a[o][0]))return a[o][1];return i};Al.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=Hn(i));var l=a===It;if(n!==this.keyHash)return l?this:(mi(s),mi(o),Yy(this,e,r,n,[i,a]));for(var u=this.entries,c=0,f=u.length;c<f&&!ln(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(mi(s),(l||!d)&&mi(o),l&&f===2)return new Ha(e,this.keyHash,u[c^1]);var p=e&&e===this.ownerID,v=p?u:fa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new Al(e,this.keyHash,v)};var Ha=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Ha.prototype.get=function(e,r,n,i){return ln(n,this.entry[0])?this.entry[1]:i};Ha.prototype.update=function(e,r,n,i,a,o,s){var l=a===It,u=ln(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(mi(s),l){mi(o);return}return u?e&&e===this.ownerID?(this.entry[1]=a,this):new Ha(e,this.keyHash,[i,a]):(mi(o),Yy(this,e,r,Hn(i),[i,a]))};vc.prototype.iterate=Al.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Il.prototype.iterate=gc.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};Ha.prototype.iterate=function(t,e){return t(this.entry)};var rQ=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&fS(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return av(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return av(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return av(n,l.entry);i=this._stack=fS(l,i)}continue}i=this._stack=this._stack.__prev}return Ln()},e}(Mt);function av(t,e){return gr(t,e[0],e[1])}function fS(t,e){return{node:t,index:0,__prev:e}}function Wy(t,e,r,n){var i=Object.create(yr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var dS;function Ri(){return dS||(dS=Wy(0))}function pS(t,e,r){var n,i;if(t._root){var a=cg(),o=cg();if(n=Gy(t._root,t.__ownerID,0,void 0,e,r,a,o),!o.value)return t;i=t.size+(a.value?r===It?-1:1:0)}else{if(r===It)return t;i=1,n=new vc(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Wy(i,n):Ri()}function Gy(t,e,r,n,i,a,o,s){return t?t.update(e,r,n,i,a,o,s):a===It?t:(mi(s),mi(o),new Ha(e,n,[i,a]))}function hS(t){return t.constructor===Ha||t.constructor===Al}function Yy(t,e,r,n,i){if(t.keyHash===n)return new Al(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&An,o=(r===0?n:n>>>r)&An,s,l=a===o?[Yy(t,e,r+hr,n,i)]:(s=new Ha(e,n,i),a<o?[t,s]:[s,t]);return new Il(e,1<<a|1<<o,l)}function nQ(t,e,r,n){t||(t=new xy);for(var i=new Ha(t,Hn(r),[r,n]),a=0;a<e.length;a++){var o=e[a];i=i.update(t,0,void 0,o[0],o[1])}return i}function iQ(t,e,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];c!==void 0&&s!==n&&(i|=l,o[a++]=c)}return new Il(t,i,o)}function aQ(t,e,r,n,i){for(var a=0,o=new Array(gi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?e[a++]:void 0;return o[n]=i,new gc(t,a+1,o)}function Yk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Kk(t,e,r,n){var i=n?t:fa(t);return i[e]=r,i}function oQ(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),o=0,s=0;s<i;s++)s===e?(a[s]=r,o=-1):a[s]=t[s+o];return a}function sQ(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,o=0;o<n;o++)o===e&&(a=1),i[o]=t[o+a];return i}var lQ=gi/4,uQ=gi/2,cQ=gi/4,Jk="@@__IMMUTABLE_LIST__@@";function Ky(t){return!!(t&&t[Jk])}var Zi=function(t){function e(r){var n=fd();if(r==null)return n;if(Ky(r))return r;var i=t(r),a=i.size;return a===0?n:(Qn(a),a>0&&a<gi?mc(0,a,hr,null,new yo(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=xo(this,n),n>=0&&n<this.size){n+=this._origin;var a=Qk(this,n);return a&&a.array[n&An]}return i},e.prototype.set=function(n,i){return fQ(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):fd()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){so(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},e.prototype.pop=function(){return so(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){so(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return so(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=t(typeof o!="string"&&wy(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(n){return so(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},e.prototype.slice=function(n,i){var a=this.size;return Vc(n,i,a)?this:so(this,tu(n,a),Bc(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,o=vS(this,i);return new Mt(function(){var s=o();return s===Qu?Ln():gr(n,i?--a:a++,s)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=vS(this,i),s;(s=o())!==Qu&&n(s,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?mc(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?fd():(this.__ownerID=n,this.__altered=!1,this)},e}(bs);Zi.isList=Ky;var zr=Zi.prototype;zr[Jk]=!0;zr[Mc]=zr.remove;zr.merge=zr.concat;zr.setIn=Dy;zr.deleteIn=zr.removeIn=My;zr.update=By;zr.updateIn=qy;zr.mergeIn=Hy;zr.mergeDeepIn=zy;zr.withMutations=Wc;zr.wasAltered=Uy;zr.asImmutable=Yc;zr["@@transducer/init"]=zr.asMutable=Gc;zr["@@transducer/step"]=function(t,e){return t.push(e)};zr["@@transducer/result"]=function(t){return t.asImmutable()};var yo=function(e,r){this.array=e,this.ownerID=r};yo.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&An;if(i>=this.array.length)return new yo([],e);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(e,r-hr,n),o===s&&a)return this}if(a&&!o)return this;var l=Pl(this,e);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};yo.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&An;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(e,r-hr,n),a===o&&i===this.array.length-1)return this}var s=Pl(this,e);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Qu={};function vS(t,e){var r=t._origin,n=t._capacity,i=yc(n),a=t._tail;return o(t._root,t._level,0);function o(u,c,f){return c===0?s(u,f):l(u,c,f)}function s(u,c){var f=c===i?a&&a.array:u&&u.array,d=c>r?0:r-c,p=n-c;return p>gi&&(p=gi),function(){if(d===p)return Qu;var v=e?--p:d++;return f&&f[v]}}function l(u,c,f){var d,p=u&&u.array,v=f>r?0:r-f>>c,h=(n-f>>c)+1;return h>gi&&(h=gi),function(){for(;;){if(d){var g=d();if(g!==Qu)return g;d=null}if(v===h)return Qu;var y=e?--h:v++;d=o(p&&p[y],c-hr,f+(y<<c))}}}}function mc(t,e,r,n,i,a,o){var s=Object.create(zr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var gS;function fd(){return gS||(gS=mc(0,0,hr))}function fQ(t,e,r){if(e=xo(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?so(o,e).set(0,r):so(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=cg();return e>=yc(t._capacity)?n=mg(n,t.__ownerID,0,e,r,a):i=mg(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):mc(t._origin,t._capacity,t._level,i,n):t}function mg(t,e,r,n,i,a){var o=n>>>r&An,s=t&&o<t.array.length;if(!s&&i===void 0)return t;var l;if(r>0){var u=t&&t.array[o],c=mg(u,e,r-hr,n,i,a);return c===u?t:(l=Pl(t,e),l.array[o]=c,l)}return s&&t.array[o]===i?t:(a&&mi(a),l=Pl(t,e),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function Pl(t,e){return e&&t&&e===t.ownerID?t:new yo(t?t.array.slice():[],e)}function Qk(t,e){if(e>=yc(t._capacity))return t._tail;if(e<1<<t._level+hr){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&An],n-=hr;return r}}function so(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new xy,i=t._origin,a=t._capacity,o=i+e,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return t;if(o>=s)return t.clear();for(var l=t._level,u=t._root,c=0;o+c<0;)u=new yo(u&&u.array.length?[void 0,u]:[],n),l+=hr,c+=1<<l;c&&(o+=c,i+=c,s+=c,a+=c);for(var f=yc(a),d=yc(s);d>=1<<l+hr;)u=new yo(u&&u.array.length?[u]:[],n),l+=hr;var p=t._tail,v=d<f?Qk(t,s-1):d>f?new yo([],n):p;if(p&&d>f&&o<a&&p.array.length){u=Pl(u,n);for(var h=u,g=l;g>hr;g-=hr){var y=f>>>g&An;h=h.array[y]=Pl(h.array[y],n)}h.array[f>>>hr&An]=p}if(s<a&&(v=v&&v.removeAfter(n,0,s)),o>=d)o-=d,s-=d,l=hr,u=null,v=v&&v.removeBefore(n,0,o);else if(o>i||d<f){for(c=0;u;){var m=o>>>l&An;if(m!==d>>>l&An)break;m&&(c+=(1<<l)*m),l-=hr,u=u.array[m]}u&&o>i&&(u=u.removeBefore(n,l,o-c)),u&&d<f&&(u=u.removeAfter(n,l,d-c)),c&&(o-=c,s-=c)}return t.__ownerID?(t.size=s-o,t._origin=o,t._capacity=s,t._level=l,t._root=u,t._tail=v,t.__hash=void 0,t.__altered=!0,t):mc(o,s,l,u,v)}function yc(t){return t<gi?0:t-1>>>hr<<hr}var _a=function(t){function e(r){return r==null?$u():Ay(r)?r:$u().withMutations(function(n){var i=ki(r);Qn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):$u()},e.prototype.set=function(n,i){return yS(this,n,i)},e.prototype.remove=function(n){return yS(this,n,It)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?Jy(i,a,n,this.__hash):this.size===0?$u():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(lr);_a.isOrderedMap=Ay;_a.prototype[nu]=!0;_a.prototype[Mc]=_a.prototype.remove;function Jy(t,e,r,n){var i=Object.create(_a.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var mS;function $u(){return mS||(mS=Jy(Ri(),fd()))}function yS(t,e,r){var n=t._map,i=t._list,a=n.get(e),o=a!==void 0,s,l;if(r===It){if(!o)return t;i.size>=gi&&i.size>=n.size*2?(l=i.filter(function(u,c){return u!==void 0&&a!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=l.__ownerID=t.__ownerID)):(s=n.remove(e),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return t;s=n,l=i.set(a,[e,r])}else s=n.set(e,i.size),l=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=l,t.__hash=void 0,t.__altered=!0,t):Jy(s,l)}var Xk="@@__IMMUTABLE_STACK__@@";function Dd(t){return!!(t&&t[Xk])}var Kp=function(t){function e(r){return r==null?Nf():Dd(r)?r:Nf().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=xo(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Nu(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Dd(n))return n;Qn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Nu(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Nf()},e.prototype.slice=function(n,i){if(Vc(n,i,this.size))return this;var a=tu(n,this.size),o=Bc(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):Nu(s,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Nu(this.size,this._head,n,this.__hash):this.size===0?Nf():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new rs(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},e.prototype.__iterator=function(n,i){if(i)return new rs(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new Mt(function(){if(o){var s=o.value;return o=o.next,gr(n,a++,s)}return Ln()})},e}(bs);Kp.isStack=Dd;var Rn=Kp.prototype;Rn[Xk]=!0;Rn.shift=Rn.pop;Rn.unshift=Rn.push;Rn.unshiftAll=Rn.pushAll;Rn.withMutations=Wc;Rn.wasAltered=Uy;Rn.asImmutable=Yc;Rn["@@transducer/init"]=Rn.asMutable=Gc;Rn["@@transducer/step"]=function(t,e){return t.unshift(e)};Rn["@@transducer/result"]=function(t){return t.asImmutable()};function Nu(t,e,r,n){var i=Object.create(Rn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var bS;function Nf(){return bS||(bS=Nu(0))}var Zk="@@__IMMUTABLE_SET__@@";function Jp(t){return!!(t&&t[Zk])}function Qy(t){return Jp(t)&&_i(t)}function Xy(t,e){if(t===e)return!0;if(!jn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||or(t)!==or(e)||_n(t)!==_n(e)||_i(t)!==_i(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!qc(t);if(_i(t)){var n=t.entries();return e.every(function(l,u){var c=n.next().value;return c&&ln(c[1],l)&&(r||ln(c[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var o=!0,s=e.__iterate(function(l,u){if(r?!t.has(l):i?!ln(l,t.get(u,It)):!ln(t.get(u,It),l))return o=!1,!1});return o&&t.size===s}function Os(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Md(t){if(!t||typeof t!="object")return t;if(!jn(t)){if(!wo(t))return t;t=Fn(t)}if(or(t)){var e={};return t.__iterate(function(n,i){e[i]=Md(n)}),e}var r=[];return t.__iterate(function(n){r.push(Md(n))}),r}var Kc=function(t){function e(r){return r==null?Du():Jp(r)&&!_i(r)?r:Du().withMutations(function(n){var i=t(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.intersect=function(n){return n=Ar(n).toArray(),n.length?hn.intersect.apply(e(n.pop()),n):Du()},e.union=function(n){return n=Ar(n).toArray(),n.length?hn.union.apply(e(n.pop()),n):Du()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Df(this,this._map.set(n,n))},e.prototype.remove=function(n){return Df(this,this._map.remove(n))},e.prototype.clear=function(){return Df(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,o=!1,s=Df(this,this._map.mapEntries(function(l){var u=l[1],c=n.call(i,u,u,a);return c!==u&&(o=!0),[c,c]},i));return o?s:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):t(n[o]).forEach(function(s){return a.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.sort=function(n){return Ll(kl(this,n))},e.prototype.sortBy=function(n,i){return Ll(kl(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(ru);Kc.isSet=Jp;var hn=Kc.prototype;hn[Zk]=!0;hn[Mc]=hn.remove;hn.merge=hn.concat=hn.union;hn.withMutations=Wc;hn.asImmutable=Yc;hn["@@transducer/init"]=hn.asMutable=Gc;hn["@@transducer/step"]=function(t,e){return t.add(e)};hn["@@transducer/result"]=function(t){return t.asImmutable()};hn.__empty=Du;hn.__make=eI;function Df(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function eI(t,e){var r=Object.create(hn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var _S;function Du(){return _S||(_S=eI(Ri()))}var tI=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(Ry(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(ov)return ov;ov=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+xo(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Vc(n,i,this.size)?this:(n=tu(n,this.size),i=Bc(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},e.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new Mt(function(){if(l===a)return Ln();var u=s;return s+=i?-o:o,gr(n,i?a-++l:l++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Xy(this,n)},e}(Ai),ov;function Zy(t,e,r){for(var n=$k(e),i=0;i!==n.length;)if(t=Ny(t,n[i++],It),t===It)return r;return t}function rI(t,e){return Zy(this,t,e)}function nI(t,e){return Zy(t,e,It)!==It}function dQ(t){return nI(this,t)}function iI(){Qn(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ar.isIterable=jn;Ar.isKeyed=or;Ar.isIndexed=_n;Ar.isAssociative=qc;Ar.isOrdered=_i;Ar.Iterator=Mt;Os(Ar,{toArray:function(){Qn(this.size);var e=new Array(this.size||0),r=or(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new Tk(this)},toJS:function(){return Md(this)},toKeyedSeq:function(){return new Yp(this,!0)},toMap:function(){return lr(this.toKeyedSeq())},toObject:iI,toOrderedMap:function(){return _a(this.toKeyedSeq())},toOrderedSet:function(){return Ll(or(this)?this.valueSeq():this)},toSet:function(){return Kc(or(this)?this.valueSeq():this)},toSetSeq:function(){return new kk(this)},toSeq:function(){return _n(this)?this.toIndexedSeq():or(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kp(or(this)?this.valueSeq():this)},toList:function(){return Zi(or(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return rr(this,WJ(this,e))},includes:function(e){return this.some(function(r){return ln(r,e)})},entries:function(){return this.__iterator(xi)},every:function(e,r){Qn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!e.call(r,i,a,o))return n=!1,!1}),n},filter:function(e,r){return rr(this,jk(this,e,r,!0))},partition:function(e,r){return zJ(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Qn(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Qn(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Hc)},map:function(e,r){return rr(this,Pk(this,e,r))},reduce:function(e,r,n){return SS(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return SS(this,e,r,n,arguments.length<2,!0)},reverse:function(){return rr(this,Py(this,!0))},slice:function(e,r){return rr(this,jy(this,e,r,!0))},some:function(e,r){Qn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(e.call(r,i,a,o))return n=!0,!1}),n},sort:function(e){return rr(this,kl(this,e))},values:function(){return this.__iterator(Hi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Tl(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return qJ(this,e,r)},equals:function(e){return Xy(this,e)},entrySeq:function(){var e=this;if(e._cache)return new rs(e._cache);var r=e.toSeq().map(hQ).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(sv(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,o,s){if(e.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(vk,null,e)},flatMap:function(e,r){return rr(this,GJ(this,e,r))},flatten:function(e){return rr(this,Fk(this,e,!0))},fromEntrySeq:function(){return new Ik(this)},get:function(e,r){return this.find(function(n,i){return ln(i,e)},void 0,r)},getIn:rI,groupBy:function(e,r){return HJ(this,e,r)},has:function(e){return this.get(e,It)!==It},hasIn:dQ,isSubset:function(e){return e=typeof e.includes=="function"?e:Ar(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ar(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return ln(r,e)})},keySeq:function(){return this.toSeq().map(pQ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Rf(this,e)},maxBy:function(e,r){return Rf(this,r,e)},min:function(e){return Rf(this,e?OS(e):wS)},minBy:function(e,r){return Rf(this,r?OS(r):wS,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return rr(this,Lk(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(sv(e),r)},sortBy:function(e,r){return rr(this,kl(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return rr(this,UJ(this,e,r))},takeUntil:function(e,r){return this.takeWhile(sv(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=vQ(this))}});var Sn=Ar.prototype;Sn[yk]=!0;Sn[zp]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=hc;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;Os(ki,{flip:function(){return rr(this,Ak(this))},mapEntries:function(e,r){var n=this,i=0;return rr(this,this.toSeq().map(function(a,o){return e.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return rr(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var Jc=ki.prototype;Jc[bk]=!0;Jc[zp]=Sn.entries;Jc.toJSON=iI;Jc.__toStringMapper=function(t,e){return hc(e)+": "+hc(t)};Os(bs,{toKeyedSeq:function(){return new Yp(this,!1)},filter:function(e,r){return rr(this,jk(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return rr(this,Py(this,!1))},slice:function(e,r){return rr(this,jy(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=tu(e,e<0?this.count():this.size);var i=this.slice(0,e);return rr(this,n===1?i:i.concat(fa(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return rr(this,Fk(this,e,!1))},get:function(e,r){return e=xo(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=xo(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return rr(this,YJ(this,e))},interleave:function(){var e=[this].concat(fa(arguments)),r=$f(this.toSeq(),Ai.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),rr(this,n)},keySeq:function(){return tI(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return rr(this,Lk(this,e,r,!1))},zip:function(){var e=[this].concat(fa(arguments));return rr(this,$f(this,xS,e))},zipAll:function(){var e=[this].concat(fa(arguments));return rr(this,$f(this,xS,e,!0))},zipWith:function(e){var r=fa(arguments);return r[0]=this,rr(this,$f(this,e,r))}});var ou=bs.prototype;ou[_k]=!0;ou[nu]=!0;Os(ru,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var jl=ru.prototype;jl.has=Sn.includes;jl.contains=jl.includes;jl.keys=jl.values;Os(Lo,Jc);Os(Ai,ou);Os(au,jl);function SS(t,e,r,n,i,a){return Qn(t.size),t.__iterate(function(o,s,l){i?(i=!1,r=o):r=e.call(n,r,o,s,l)},a),r}function pQ(t,e){return e}function hQ(t,e){return[e,t]}function sv(t){return function(){return!t.apply(this,arguments)}}function OS(t){return function(){return-t.apply(this,arguments)}}function xS(){return fa(arguments)}function wS(t,e){return t<e?1:t>e?-1:0}function vQ(t){if(t.size===1/0)return 0;var e=_i(t),r=or(t),n=e?1:0,i=t.__iterate(r?e?function(a,o){n=31*n+ES(Hn(a),Hn(o))|0}:function(a,o){n=n+ES(Hn(a),Hn(o))|0}:e?function(a){n=31*n+Hn(a)|0}:function(a){n=n+Hn(a)|0});return gQ(i,n)}function gQ(t,e){return e=Iu(e,3432918353),e=Iu(e<<15|e>>>-15,461845907),e=Iu(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Iu(e^e>>>16,2246822507),e=Iu(e^e>>>13,3266489909),e=Gp(e^e>>>16),e}function ES(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Ll=function(t){function e(r){return r==null?yg():Qy(r)?r:yg().withMutations(function(n){var i=ru(r);Qn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ki(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Kc);Ll.isOrderedSet=Qy;var xs=Ll.prototype;xs[nu]=!0;xs.zip=ou.zip;xs.zipWith=ou.zipWith;xs.zipAll=ou.zipAll;xs.__empty=yg;xs.__make=aI;function aI(t,e){var r=Object.create(xs);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var CS;function yg(){return CS||(CS=aI($u()))}var mQ={LeftThenRight:-1,RightThenLeft:1};function yQ(t){if(_s(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ii(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var rn=function(e,r){var n;yQ(e);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),c=a._indices={};a._name=r,a._keys=u,a._defaultValues=e;for(var f=0;f<u.length;f++){var d=u[f];c[d]=f,a[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+t0(this)+' with property "'+d+'" since that property name is part of the Record API.'):bQ(a,d)}}return this.__ownerID=void 0,this._values=Zi().withMutations(function(p){p.setSize(l._keys.length),ki(s).forEach(function(v,h){p.set(l._indices[h],v===l._defaultValues[h]?void 0:v)})}),this},a=i.prototype=Object.create(sr);return a.constructor=i,r&&(i.displayName=r),i};rn.prototype.toString=function(){for(var e=t0(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+hc(this.get(n));return e+" }"};rn.prototype.equals=function(e){return this===e||_s(e)&&Fl(this).equals(Fl(e))};rn.prototype.hashCode=function(){return Fl(this).hashCode()};rn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};rn.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};rn.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return e0(this,n)}return this};rn.prototype.remove=function(e){return this.set(e)};rn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:e0(this,e)};rn.prototype.wasAltered=function(){return this._values.wasAltered()};rn.prototype.toSeq=function(){return Fl(this)};rn.prototype.toJS=function(){return Md(this)};rn.prototype.entries=function(){return this.__iterator(xi)};rn.prototype.__iterator=function(e,r){return Fl(this).__iterator(e,r)};rn.prototype.__iterate=function(e,r){return Fl(this).__iterate(e,r)};rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?e0(this,r,e):(this.__ownerID=e,this._values=r,this)};rn.isRecord=_s;rn.getDescriptiveName=t0;var sr=rn.prototype;sr[Ok]=!0;sr[Mc]=sr.remove;sr.deleteIn=sr.removeIn=My;sr.getIn=rI;sr.hasIn=Sn.hasIn;sr.merge=Hk;sr.mergeWith=zk;sr.mergeIn=Hy;sr.mergeDeep=Wk;sr.mergeDeepWith=Gk;sr.mergeDeepIn=zy;sr.setIn=Dy;sr.update=By;sr.updateIn=qy;sr.withMutations=Wc;sr.asMutable=Gc;sr.asImmutable=Yc;sr[zp]=sr.entries;sr.toJSON=sr.toObject=Sn.toObject;sr.inspect=sr.toSource=function(){return this.toString()};function e0(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function t0(t){return t.constructor.displayName||t.constructor.name||"Record"}function Fl(t){return ky(t._keys.map(function(e){return[e,t.get(e)]}))}function bQ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){Ry(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch(r){}}var _Q=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(lv)return lv;lv=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return ln(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return Vc(n,i,a)?this:new e(this._value,Bc(i,a)-tu(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return ln(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return ln(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new Mt(function(){return s===o?Ln():gr(n,i?o-++s:s++,a._value)})},e.prototype.equals=function(n){return n instanceof e?ln(this._value,n._value):Xy(this,n)},e}(Ai),lv;function Fo(t,e){return oI([],e||SQ,t,"",e&&e.length>2?[]:void 0,{"":t})}function oI(t,e,r,n,i,a){if(typeof r!="string"&&!Ii(r)&&(Ey(r)||wy(r)||$y(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(a,n,Fn(r).map(function(s,l){return oI(t,e,s,l,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function SQ(t,e){return _n(e)?e.toList():or(e)?e.toMap():e.toSet()}var OQ="4.3.7",Ue={version:OQ,Collection:Ar,Iterable:Ar,Seq:Fn,Map:lr,OrderedMap:_a,List:Zi,Stack:Kp,Set:Kc,OrderedSet:Ll,PairSorting:mQ,Record:rn,Range:tI,Repeat:_Q,is:ln,fromJS:Fo,hash:Hn,isImmutable:Ii,isCollection:jn,isKeyed:or,isIndexed:_n,isAssociative:qc,isOrdered:_i,isValueObject:pg,isPlainObject:$y,isSeq:Hp,isList:Ky,isMap:Wp,isOrderedMap:Ay,isStack:Dd,isSet:Jp,isOrderedSet:Qy,isRecord:_s,get:Ny,getIn:Zy,has:Nk,hasIn:nI,merge:JJ,mergeDeep:XJ,mergeWith:QJ,mergeDeepWith:ZJ,remove:Dk,removeIn:qk,set:Mk,setIn:Bk,update:Vy,updateIn:Ss},xQ=0;const Ft=function(){var t=(new Date().getTime().toString(16)+"FF").substr(0,11),e="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(r){var n=r==="s"?Math.floor(Math.random()*16):xQ++&15,i=r==="x"?n:n&3|8;return i.toString(16)});return e+t};var wQ={};function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ws=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],su=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Vd=function(e){return xt(e)==="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"},sI=function(e){if(xt(e)==="object"&&e!==null){if(Array.isArray(e))return Ce(e);if(Vd(e))return EQ({},e)}return e},ai=function(e,r){return Object.fromEntries(Object.entries(e).filter(function(n){var i=ke(n,1),a=i[0];return!r.includes(a)}))},Ur=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},Bd=function(e,r){return e===r?!0:lr.isMap(e)?e.equals(r):JSON.stringify(e)==JSON.stringify(r)},Qc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?CQ(e,r,n):lr.isMap(e)?e.equals(r):xt(e)=="object"?TQ(e,r,n):e===r};function CQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Qc(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function TQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Qc(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var lu=function(e){return xt(e)==="object"&&e!==null&&typeof e.toJS=="function"},Qp=function(e){return lu(e)&&Ue.isList(e)};function Wr(t){return Qp(t)?t:new Ue.List(t)}function r0(t){return lu(t)?t.toJS():t}var lI=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},uI=function(e,r,n,i,a,o){if(Array.isArray(e))return r},n0=function t(e){var r=["$$typeof","_owner","_store","ref","key"],n=function(s){return typeof s=="string"?s:typeof s=="function"?s.name:s};if(e instanceof Array)return e.map(function(o,s){return t(o)});if(xt(e)==="object"&&e!==null&&Xc(e)){var i,a=ai(e,r);return a.type&&(a.type=n(a.type)),a!=null&&(i=a.props)!==null&&i!==void 0&&i.children&&(a.props.children=t(a.props.children)),a}return e},Xc=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},i0=function(e){return xt(e)==="object"&&e!==null&&!Array.isArray(e)&&typeof e.type=="string"&&Object.keys(e).includes("props")},Pn=function(e){var r=xt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1;return r};function cI(t){return new Promise(function(e){setTimeout(e,t)})}function qd(t,e){return t||(t=[]),e||(e=[]),e.map(function(r){return[r,t.indexOf(r)]}).map(function(r,n,i){var a=ke(r,2),o=a[0],s=a[1];if(s==-1){var l=i.slice(n+1),u=i.slice(0,n),c=u.reverse().find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1}),f=l.find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1});return f?[o,"before",f[0]]:c?[o,"after",c[0]]:[o,"append",null]}else return null}).filter(function(r){return r!==null}).reduce(function(r,n){var i=ke(n,3),a=i[0],o=i[1],s=i[2],l=r.indexOf(s);return r.indexOf(a)==-1&&(l>-1?r.splice(l+(o=="after"?1:0),0,a):r.splice(o=="append"?1/0:0,0,a)),r},t.slice())}var fI=function t(e){xt(e)==="object"&&e!==null&&!Xc(e)&&(Object.keys(e).forEach(function(r){r!=="__cache"&&t(e[r])}),Object.freeze(e))},dI=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Vd(e)){if(e.var)return n[e.var]=r,!0;if(!Vd(r))return!1;for(var a in e){var o=e[a],s=r[a];if(!t(o,s,n,[].concat(Ce(i),[a])))return!1}return!0}else if(Array.isArray(e)){if(!Array.isArray(r))return!1;for(var l=0;l<e.length;l++){var u=e[l],c=r[l];if(!t(u,c,n,[].concat(Ce(i),[l])))return!1}return!0}else return e===r},kQ=function(){return typeof process<"u"&&wQ&&!1},pI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:kQ();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},hI=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r,n=0;n<e.length;n++){var i=e[n];if(i!==void 0){r=i;break}}return r},Eo=pI();const IQ=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:r0,cleanJSX:n0,deepEqual:Bd,deepFreeze:fI,escapeRegExp:lI,getFirstDefined:hI,getLogger:pI,getOpCardinality:Ur,isDirtyJSX:Xc,isImmutable:lu,isImmutableList:Qp,isJSX:i0,isJsonCompatible:dI,isJsonLogic:Pn,isObject:Vd,logger:Eo,mergeArraysSmart:qd,mergeCustomizerNoArrays:uI,omit:ai,opDefKeysToOmit:su,shallowCopy:sI,shallowEqual:Qc,sleep:cI,toImmutableList:Wr,uuid:Ft,widgetDefKeysToOmit:ws},Symbol.toStringTag,{value:"Module"}));var vI={exports:{}},gI={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(gI);var AQ=gI.exports;(function(t){var e=AQ.default;function r(){t.exports=r=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var n,i={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(V,$,F){V[$]=F.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(V,$,F){return Object.defineProperty(V,$,{value:F,enumerable:!0,configurable:!0,writable:!0}),V[$]}try{d({},"")}catch(V){d=function(F,N,B){return F[N]=B}}function p(V,$,F,N){var B=$&&$.prototype instanceof b?$:b,z=Object.create(B.prototype),H=new R(N||[]);return s(z,"_invoke",{value:I(V,F,H)}),z}function v(V,$,F){try{return{type:"normal",arg:V.call($,F)}}catch(N){return{type:"throw",arg:N}}}i.wrap=p;var h="suspendedStart",g="suspendedYield",y="executing",m="completed",_={};function b(){}function S(){}function O(){}var x={};d(x,u,function(){return this});var C=Object.getPrototypeOf,A=C&&C(C(U([])));A&&A!==a&&o.call(A,u)&&(x=A);var w=O.prototype=b.prototype=Object.create(x);function k(V){["next","throw","return"].forEach(function($){d(V,$,function(F){return this._invoke($,F)})})}function E(V,$){function F(B,z,H,D){var G=v(V[B],V,z);if(G.type!=="throw"){var q=G.arg,Y=q.value;return Y&&e(Y)=="object"&&o.call(Y,"__await")?$.resolve(Y.__await).then(function(K){F("next",K,H,D)},function(K){F("throw",K,H,D)}):$.resolve(Y).then(function(K){q.value=K,H(q)},function(K){return F("throw",K,H,D)})}D(G.arg)}var N;s(this,"_invoke",{value:function(z,H){function D(){return new $(function(G,q){F(z,H,G,q)})}return N=N?N.then(D,D):D()}})}function I(V,$,F){var N=h;return function(B,z){if(N===y)throw Error("Generator is already running");if(N===m){if(B==="throw")throw z;return{value:n,done:!0}}for(F.method=B,F.arg=z;;){var H=F.delegate;if(H){var D=j(H,F);if(D){if(D===_)continue;return D}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(N===h)throw N=m,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);N=y;var G=v(V,$,F);if(G.type==="normal"){if(N=F.done?m:g,G.arg===_)continue;return{value:G.arg,done:F.done}}G.type==="throw"&&(N=m,F.method="throw",F.arg=G.arg)}}}function j(V,$){var F=$.method,N=V.iterator[F];if(N===n)return $.delegate=null,F==="throw"&&V.iterator.return&&($.method="return",$.arg=n,j(V,$),$.method==="throw")||F!=="return"&&($.method="throw",$.arg=new TypeError("The iterator does not provide a '"+F+"' method")),_;var B=v(N,V.iterator,$.arg);if(B.type==="throw")return $.method="throw",$.arg=B.arg,$.delegate=null,_;var z=B.arg;return z?z.done?($[V.resultName]=z.value,$.next=V.nextLoc,$.method!=="return"&&($.method="next",$.arg=n),$.delegate=null,_):z:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,_)}function L(V){var $={tryLoc:V[0]};1 in V&&($.catchLoc=V[1]),2 in V&&($.finallyLoc=V[2],$.afterLoc=V[3]),this.tryEntries.push($)}function M(V){var $=V.completion||{};$.type="normal",delete $.arg,V.completion=$}function R(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(L,this),this.reset(!0)}function U(V){if(V||V===""){var $=V[u];if($)return $.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var F=-1,N=function B(){for(;++F<V.length;)if(o.call(V,F))return B.value=V[F],B.done=!1,B;return B.value=n,B.done=!0,B};return N.next=N}}throw new TypeError(e(V)+" is not iterable")}return S.prototype=O,s(w,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:S,configurable:!0}),S.displayName=d(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(V){var $=typeof V=="function"&&V.constructor;return!!$&&($===S||($.displayName||$.name)==="GeneratorFunction")},i.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,O):(V.__proto__=O,d(V,f,"GeneratorFunction")),V.prototype=Object.create(w),V},i.awrap=function(V){return{__await:V}},k(E.prototype),d(E.prototype,c,function(){return this}),i.AsyncIterator=E,i.async=function(V,$,F,N,B){B===void 0&&(B=Promise);var z=new E(p(V,$,F,N),B);return i.isGeneratorFunction($)?z:z.next().then(function(H){return H.done?H.value:z.next()})},k(w),d(w,f,"Generator"),d(w,u,function(){return this}),d(w,"toString",function(){return"[object Generator]"}),i.keys=function(V){var $=Object(V),F=[];for(var N in $)F.push(N);return F.reverse(),function B(){for(;F.length;){var z=F.pop();if(z in $)return B.value=z,B.done=!1,B}return B.done=!0,B}},i.values=U,R.prototype={constructor:R,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!$)for(var F in this)F.charAt(0)==="t"&&o.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=n)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var F=this;function N(q,Y){return H.type="throw",H.arg=$,F.next=q,Y&&(F.method="next",F.arg=n),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var z=this.tryEntries[B],H=z.completion;if(z.tryLoc==="root")return N("end");if(z.tryLoc<=this.prev){var D=o.call(z,"catchLoc"),G=o.call(z,"finallyLoc");if(D&&G){if(this.prev<z.catchLoc)return N(z.catchLoc,!0);if(this.prev<z.finallyLoc)return N(z.finallyLoc)}else if(D){if(this.prev<z.catchLoc)return N(z.catchLoc,!0)}else{if(!G)throw Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return N(z.finallyLoc)}}}},abrupt:function($,F){for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N];if(B.tryLoc<=this.prev&&o.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var z=B;break}}z&&($==="break"||$==="continue")&&z.tryLoc<=F&&F<=z.finallyLoc&&(z=null);var H=z?z.completion:{};return H.type=$,H.arg=F,z?(this.method="next",this.next=z.finallyLoc,_):this.complete(H)},complete:function($,F){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&F&&(this.next=F),_},finish:function($){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.finallyLoc===$)return this.complete(N.completion,N.afterLoc),M(N),_}},catch:function($){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.tryLoc===$){var B=N.completion;if(B.type==="throw"){var z=B.arg;M(N)}return z}}throw Error("illegal catch attempt")},delegateYield:function($,F,N){return this.delegate={iterator:U($),resultName:F,nextLoc:N},this.method==="next"&&(this.arg=n),_}},i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(vI);var PQ=vI.exports,dd=PQ(),jQ=dd;try{regeneratorRuntime=dd}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=dd:Function("r","regeneratorRuntime = r")(dd)}const Br=tn(jQ);var LQ=ps,FQ=Oa,RQ="[object Symbol]";function $Q(t){return typeof t=="symbol"||FQ(t)&&LQ(t)==RQ}var Xp=$Q,NQ=ni,DQ=Xp,MQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VQ=/^\w*$/;function BQ(t,e){if(NQ(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||DQ(t)?!0:VQ.test(t)||!MQ.test(t)||e!=null&&t in Object(e)}var a0=BQ,mI=dm,qQ="Expected a function";function o0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qQ);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(o0.Cache||mI),r}o0.Cache=mI;var HQ=o0,zQ=HQ,UQ=500;function WQ(t){var e=zQ(t,function(n){return r.size===UQ&&r.clear(),n}),r=e.cache;return e}var GQ=WQ,YQ=GQ,KQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JQ=/\\(\\)?/g,QQ=YQ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(KQ,function(r,n,i,a){e.push(i?a.replace(JQ,"$1"):n||r)}),e}),XQ=QQ;function ZQ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Zp=ZQ,kS=ql,eX=Zp,tX=ni,rX=Xp,nX=1/0,IS=kS?kS.prototype:void 0,AS=IS?IS.toString:void 0;function yI(t){if(typeof t=="string")return t;if(tX(t))return eX(t,yI)+"";if(rX(t))return AS?AS.call(t):"";var e=t+"";return e=="0"&&1/t==-nX?"-0":e}var bI=yI,iX=bI;function aX(t){return t==null?"":iX(t)}var _I=aX,oX=ni,sX=a0,lX=XQ,uX=_I;function cX(t,e){return oX(t)?t:sX(t,e)?[t]:lX(uX(t))}var uu=cX,fX=Xp,dX=1/0;function pX(t){if(typeof t=="string"||fX(t))return t;var e=t+"";return e=="0"&&1/t==-dX?"-0":e}var cu=pX,hX=uu,vX=cu;function gX(t,e){e=hX(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[vX(e[r++])];return r&&r==n?t:void 0}var eh=gX,mX=hs,yX=function(){try{var t=mX(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),SI=yX,PS=SI;function bX(t,e,r){e=="__proto__"&&PS?PS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var th=bX,_X=th,SX=kc,OX=Object.prototype,xX=OX.hasOwnProperty;function wX(t,e,r){var n=t[e];(!(xX.call(t,e)&&SX(n,r))||r===void 0&&!(e in t))&&_X(t,e,r)}var s0=wX,EX=s0,CX=uu,TX=bp,jS=Ei,kX=cu;function IX(t,e,r,n){if(!jS(t))return t;e=CX(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=kX(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=jS(c)?c:TX(e[i+1])?[]:{})}EX(s,l,u),s=s[l]}return t}var AX=IX,PX=eh,jX=AX,LX=uu;function FX(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=PX(t,o);r(s,o)&&jX(a,LX(o,t),s)}return a}var OI=FX;function RX(t,e){return t!=null&&e in Object(t)}var $X=RX,NX=uu,DX=mp,MX=ni,VX=bp,BX=vm,qX=cu;function HX(t,e,r){e=NX(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=qX(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&BX(i)&&VX(o,i)&&(MX(t)||DX(t)))}var zX=HX,UX=$X,WX=zX;function GX(t,e){return t!=null&&WX(t,e,UX)}var xI=GX,YX=OI,KX=xI;function JX(t,e){return YX(t,e,function(r,n){return KX(t,n)})}var QX=JX,LS=ql,XX=mp,ZX=ni,FS=LS?LS.isConcatSpreadable:void 0;function eZ(t){return ZX(t)||XX(t)||!!(FS&&t&&t[FS])}var tZ=eZ,rZ=pm,nZ=tZ;function wI(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=nZ),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?wI(s,e-1,r,n,i):rZ(i,s):n||(i[i.length]=s)}return i}var iZ=wI,aZ=iZ;function oZ(t){var e=t==null?0:t.length;return e?aZ(t,1):[]}var sZ=oZ;function lZ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var uZ=lZ,cZ=uZ,RS=Math.max;function fZ(t,e,r){return e=RS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=RS(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),cZ(t,this,s)}}var EI=fZ;function dZ(t){return function(){return t}}var pZ=dZ;function hZ(t){return t}var rh=hZ,vZ=pZ,$S=SI,gZ=rh,mZ=$S?function(t,e){return $S(t,"toString",{configurable:!0,enumerable:!1,value:vZ(e),writable:!0})}:gZ,yZ=mZ,bZ=800,_Z=16,SZ=Date.now;function OZ(t){var e=0,r=0;return function(){var n=SZ(),i=_Z-(n-r);if(r=n,i>0){if(++e>=bZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xZ=OZ,wZ=yZ,EZ=xZ,CZ=EZ(wZ),CI=CZ,TZ=sZ,kZ=EI,IZ=CI;function AZ(t){return IZ(kZ(t,void 0,TZ),t+"")}var TI=AZ,PZ=QX,jZ=TI,LZ=jZ(function(t,e){return t==null?{}:PZ(t,e)}),FZ=LZ;const Sa=tn(FZ);function RZ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kI=RZ;const nh=tn(kI);function $Z(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var NZ=$Z,DZ=s0,MZ=th;function VZ(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?MZ(r,s,l):DZ(r,s,l)}return r}var fu=VZ,BZ=fu,qZ=Gl;function HZ(t,e){return t&&BZ(e,qZ(e),t)}var zZ=HZ;function UZ(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var WZ=UZ,GZ=Ei,YZ=bm,KZ=WZ,JZ=Object.prototype,QZ=JZ.hasOwnProperty;function XZ(t){if(!GZ(t))return KZ(t);var e=YZ(t),r=[];for(var n in t)n=="constructor"&&(e||!QZ.call(t,n))||r.push(n);return r}var ZZ=XZ,eee=zE,tee=ZZ,ree=Wl;function nee(t){return ree(t)?eee(t,!0):tee(t)}var Zc=nee,iee=fu,aee=Zc;function oee(t,e){return t&&iee(e,aee(e),t)}var see=oee,Hd={exports:{}};Hd.exports;(function(t,e){var r=Qi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(Hd,Hd.exports);var II=Hd.exports;function lee(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var AI=lee,uee=fu,cee=hm;function fee(t,e){return uee(t,cee(t),e)}var dee=fee,pee=UE,hee=pee(Object.getPrototypeOf,Object),l0=hee,vee=pm,gee=l0,mee=hm,yee=qE,bee=Object.getOwnPropertySymbols,_ee=bee?function(t){for(var e=[];t;)vee(e,mee(t)),t=gee(t);return e}:yee,PI=_ee,See=fu,Oee=PI;function xee(t,e){return See(t,Oee(t),e)}var wee=xee,Eee=BE,Cee=PI,Tee=Zc;function kee(t){return Eee(t,Tee,Cee)}var u0=kee,Iee=Object.prototype,Aee=Iee.hasOwnProperty;function Pee(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Aee.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var jee=Pee,NS=VE;function Lee(t){var e=new t.constructor(t.byteLength);return new NS(e).set(new NS(t)),e}var c0=Lee,Fee=c0;function Ree(t,e){var r=e?Fee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var $ee=Ree,Nee=/\w*$/;function Dee(t){var e=new t.constructor(t.source,Nee.exec(t));return e.lastIndex=t.lastIndex,e}var Mee=Dee,DS=ql,MS=DS?DS.prototype:void 0,VS=MS?MS.valueOf:void 0;function Vee(t){return VS?Object(VS.call(t)):{}}var Bee=Vee,qee=c0;function Hee(t,e){var r=e?qee(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var jI=Hee,zee=c0,Uee=$ee,Wee=Mee,Gee=Bee,Yee=jI,Kee="[object Boolean]",Jee="[object Date]",Qee="[object Map]",Xee="[object Number]",Zee="[object RegExp]",ete="[object Set]",tte="[object String]",rte="[object Symbol]",nte="[object ArrayBuffer]",ite="[object DataView]",ate="[object Float32Array]",ote="[object Float64Array]",ste="[object Int8Array]",lte="[object Int16Array]",ute="[object Int32Array]",cte="[object Uint8Array]",fte="[object Uint8ClampedArray]",dte="[object Uint16Array]",pte="[object Uint32Array]";function hte(t,e,r){var n=t.constructor;switch(e){case nte:return zee(t);case Kee:case Jee:return new n(+t);case ite:return Uee(t,r);case ate:case ote:case ste:case lte:case ute:case cte:case fte:case dte:case pte:return Yee(t,r);case Qee:return new n;case Xee:case tte:return new n(t);case Zee:return Wee(t);case ete:return new n;case rte:return Gee(t)}}var vte=hte,gte=Ei,BS=Object.create,mte=function(){function t(){}return function(e){if(!gte(e))return{};if(BS)return BS(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),yte=mte,bte=yte,_te=l0,Ste=bm;function Ote(t){return typeof t.constructor=="function"&&!Ste(t)?bte(_te(t)):{}}var LI=Ote,xte=_p,wte=Oa,Ete="[object Map]";function Cte(t){return wte(t)&&xte(t)==Ete}var Tte=Cte,kte=Tte,Ite=gm,qS=mm,HS=qS&&qS.isMap,Ate=HS?Ite(HS):kte,Pte=Ate,jte=_p,Lte=Oa,Fte="[object Set]";function Rte(t){return Lte(t)&&jte(t)==Fte}var $te=Rte,Nte=$te,Dte=gm,zS=mm,US=zS&&zS.isSet,Mte=US?Dte(US):Nte,Vte=Mte,Bte=gp,qte=NZ,Hte=s0,zte=zZ,Ute=see,Wte=II,Gte=AI,Yte=dee,Kte=wee,Jte=WE,Qte=u0,Xte=_p,Zte=jee,ere=vte,tre=LI,rre=ni,nre=yp,ire=Pte,are=Ei,ore=Vte,sre=Gl,lre=Zc,ure=1,cre=2,fre=4,FI="[object Arguments]",dre="[object Array]",pre="[object Boolean]",hre="[object Date]",vre="[object Error]",RI="[object Function]",gre="[object GeneratorFunction]",mre="[object Map]",yre="[object Number]",$I="[object Object]",bre="[object RegExp]",_re="[object Set]",Sre="[object String]",Ore="[object Symbol]",xre="[object WeakMap]",wre="[object ArrayBuffer]",Ere="[object DataView]",Cre="[object Float32Array]",Tre="[object Float64Array]",kre="[object Int8Array]",Ire="[object Int16Array]",Are="[object Int32Array]",Pre="[object Uint8Array]",jre="[object Uint8ClampedArray]",Lre="[object Uint16Array]",Fre="[object Uint32Array]",ar={};ar[FI]=ar[dre]=ar[wre]=ar[Ere]=ar[pre]=ar[hre]=ar[Cre]=ar[Tre]=ar[kre]=ar[Ire]=ar[Are]=ar[mre]=ar[yre]=ar[$I]=ar[bre]=ar[_re]=ar[Sre]=ar[Ore]=ar[Pre]=ar[jre]=ar[Lre]=ar[Fre]=!0;ar[vre]=ar[RI]=ar[xre]=!1;function pd(t,e,r,n,i,a){var o,s=e&ure,l=e&cre,u=e&fre;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!are(t))return t;var c=rre(t);if(c){if(o=Zte(t),!s)return Gte(t,o)}else{var f=Xte(t),d=f==RI||f==gre;if(nre(t))return Wte(t,s);if(f==$I||f==FI||d&&!i){if(o=l||d?{}:tre(t),!s)return l?Kte(t,Ute(o,t)):Yte(t,zte(o,t))}else{if(!ar[f])return i?t:{};o=ere(t,f,s)}}a||(a=new Bte);var p=a.get(t);if(p)return p;a.set(t,o),ore(t)?t.forEach(function(g){o.add(pd(g,e,r,g,t,a))}):ire(t)&&t.forEach(function(g,y){o.set(y,pd(g,e,r,y,t,a))});var v=u?l?Qte:Jte:l?lre:sre,h=c?void 0:v(t);return qte(h||t,function(g,y){h&&(y=g,g=t[y]),Hte(o,y,pd(g,e,r,y,t,a))}),o}var NI=pd;function Rre(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var $re=Rre,Nre=eh,Dre=$re;function Mre(t,e){return e.length<2?t:Nre(t,Dre(e,0,-1))}var Vre=Mre,Bre=uu,qre=kI,Hre=Vre,zre=cu;function Ure(t,e){return e=Bre(e,t),t=Hre(t,e),t==null||delete t[zre(qre(e))]}var Wre=Ure,Gre=ps,Yre=l0,Kre=Oa,Jre="[object Object]",Qre=Function.prototype,Xre=Object.prototype,DI=Qre.toString,Zre=Xre.hasOwnProperty,ene=DI.call(Object);function tne(t){if(!Kre(t)||Gre(t)!=Jre)return!1;var e=Yre(t);if(e===null)return!0;var r=Zre.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&DI.call(r)==ene}var f0=tne,rne=f0;function nne(t){return rne(t)?void 0:t}var ine=nne,ane=Zp,one=NI,sne=Wre,lne=uu,une=fu,cne=ine,fne=TI,dne=u0,pne=1,hne=2,vne=4,gne=fne(function(t,e){var r={};if(t==null)return r;var n=!1;e=ane(e,function(a){return a=lne(a,t),n||(n=a.length>1),a}),une(t,dne(t),r),n&&(r=one(r,pne|hne|vne,cne));for(var i=e.length;i--;)sne(r,e[i]);return r}),mne=gne;const Co=tn(mne);function yne(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=bne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function bne(t,e){if(t){if(typeof t=="string")return WS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(t,e)}}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var d0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},za=function(e,r){if(!(e==null||e==""))return d0(e)?zd(zd({},e),{},{title:e.title||e.value}):{value:e,title:r!==void 0?r:""+e}},p0=function(e){var r=za(e);return d0(r)?zd(zd({},za(e)),{},{isCustom:!0}):r},MI=function(e){if(Array.isArray(e))return e.map(function(a){return za(a)});if(!d0(e))return e;var r=[];for(var n in e){var i=e[n];r.push(za(n,i))}return r},bc=function(e,r){if(Array.isArray(e)){var n=e.map(function(i){return za(i)});return n.find(function(i){return""+i.value==""+r})}else return e[r]!==void 0?za(r,e[r]):void 0},VI=function(e,r){if(e==null)return r;var n=bc(e,r);return n!==void 0?n.title:r},_ne=function(e,r){if(e==null)return r;var n=bc(e,r);return n!==void 0?n.value:r},h0=function(e,r){var n=[];if(Array.isArray(e)){var i=yne(e),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=r(za(o));s!=null&&n.push(s)}}catch(c){i.e(c)}finally{i.f()}}else for(var l in e){var u=r(za(l,e[l]));u!=null&&n.push(u)}return n},Sne=function(e,r){return h0(r,function(n){return"".concat(n.value).indexOf(e)!=-1||n.title.indexOf(e)!=-1?n:null}).filter(function(n){return n!==null}).shift()},ih=function(e,r){return h0(r,function(n){return""+n.value==""+e?n:null}).filter(function(n){return n!==null}).shift()};const One=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:bc,getListValue:ih,getTitleInListValues:VI,getValueInListValues:_ne,listValuesToArray:MI,makeCustomListValue:p0,mapListValues:h0,searchListValue:Sne,toListValue:za},Symbol.toStringTag,{value:"Module"}));var Ie=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.skip(1),a.push.apply(a,n),a})},bg=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.push.apply(a,n),a})},pl=function(e,r){var n=new Ue.OrderedMap(le({},e.get("id"),e)),i=e;return r.forEach(function(a){var o;i=n.get(a),n=(o=i)===null||o===void 0?void 0:o.get("children1")}),i},BI=function(e){var r=e;function n(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=a.push(i.get("id")),l=i.getIn(["properties","isLocked"]);o&&l&&(r=r.deleteIn(Ie(s,"properties","isLocked")));var u=i.get("children1");u&&u.map(function(c,f){n(c,s,l||o)})}return n(e,new Ue.List),r},zi=function(e){var r=e;function n(i,a,o,s){if(i){var l=i.get("path"),u=i.get("id"),c=u||s||Ft(),f=a.push(c);(!l||!l.equals(f))&&(r=r.setIn(Ie(f,"path"),f)),u||(r=r.setIn(Ie(f,"id"),c));var d=i.get("children1");d&&(d.constructor.name==="Map"&&(r=r.setIn(Ie(f,"children1"),new Ue.OrderedMap(d))),d.map(function(p,v){n(p,f,o+1,v)}))}}return n(e,new Ue.List,0),r},ah=function(e){var r=e;function n(i,a,o,s){if(!i)return!1;var l=i.get("id")||s,u=a.push(l),c=i.get("children1");if(c){var f=c.map(function(d,p){return n(d,u,o+1,p)}).reduce(function(d,p){return d&&p},!0);if((c.size==0||f)&&o>0)return r=r.deleteIn(Ie(u)),!0}return!1}return n(e,new Ue.List,0),r},_g=function(e){var r=[],n={},i=[],a=0,o=0,s=0,l={};function u(v,h,g,y,m,_,b,S){var O=v===e,x=v.get("type"),C=v.get("collapsed"),A=v.get("id"),w=v.get("children1"),k=v.getIn(["properties","isLocked"]),E=w?w.map(function(oe,ue){return ue}).valueSeq().toArray():null,I=x==="rule_group",j=x==="rule",L=x==="group",M=x==="case_group",R=!m&&(!w||I),U=(E==null?void 0:E.length)>0,V=h.length?h[h.length-1]:null,$=M?A:b;M&&(i.push(A),o=0,s=0,l={});var F=$?i.indexOf($):null,N=r.length,B=a,z;O||(z={},z.caseNo=F,z.globalNoByType=M?F:l[x]||0,z.indexPath=[].concat(Ce(h.slice(1).map(function(oe){return n[oe].childNo})),[S]),j?z.globalLeafNo=o:L&&(z.globalGroupNo=s)),r.push(A),n[A]={node:v,index:N,id:A,type:x,parent:V,parentType:V?n[V].type:null,children:E,childNo:S,caseId:$,caseNo:F,path:h.concat(A),lev:_,isLeaf:!w,isAtomicRule:R,isLocked:k||y,top:g?null:B,isDefaultCase:M?!w:void 0,atomicRulesCountInCase:M?0:void 0,position:z,collapsed:C,_top:N,leaf:!w};var H=0,D=0;g||(a+=1,H+=1,U&&!C&&!I&&(D+=1),!O&&!M&&(L&&s++,j&&o++,l[x]=(l[x]||0)+1)),b&&R&&n[b].atomicRulesCountInCase++;var G=0,q=0;if(U){var Y=0;w.map(function(oe,ue){if(oe){u(oe,h.concat(A),g||C,y||k,m||I,_+1,$,Y);var fe=n[ue];G=Math.max(G,fe.depth||0),q+=fe.height,Y++}})}H+=q,D+=G;var K=r.length,ie=K-N,te=g?null:B+H;Object.assign(n[A],{depth:w?D:void 0,_height:ie,height:H,bottom:te})}u(e,[],!1,!1,!1,0,null,null);for(var c=0;c<r.length;c++){var f=c>0?r[c-1]:null,d=c<r.length-1?r[c+1]:null,p=n[r[c]];p.prev=f,p.next=d}return{flat:r,items:n,cases:i}},xne=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type);var c=u=="rule_group";r++,l&&!c&&l.map(function(f,d){f&&n(f,a.concat(s))})}return n(e,[]),r-1},Sg=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type),u=="rule"||u=="rule_group"?r++:l&&l.map(function(c,f){c&&n(c,a.concat(s))})}return n(e,[]),r},qI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e;function a(o,s){r&&o.path&&delete o.path,r&&!n&&s&&delete o.id;var l=o.properties;l&&l.operatorOptions==null&&delete l.operatorOptions;var u=o.children1;if(u){for(var c in u)u[c]&&a(u[c],c);n&&(o.children1=Object.values(u))}}return a(e,null),i},HI=function(e){var r=[],n=e.get("children1");return n&&n.map(function(i){var a=i.getIn(["properties","value"]),o;a&&a.size==1?(o=a.get(0),Array.isArray(o)&&o.length==0&&(o=null)):o=null,r=[].concat(Ce(r),[o])}),r},v0=function(e){return!e.get("children1")||e.get("children1").size==0},g0=function(e,r){return e.getIn(Ie(r,"children1")).size>0},Og=function(e){if(e!=null&&e.toJS){var r,n=e==null||(r=e.toJS)===null||r===void 0?void 0:r.call(e);return n!=null&&n.func?e.toOrderedMap():n}else return e};const wne=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:Og,expandTreePath:Ie,expandTreeSubpath:bg,fixEmptyGroupsInTree:ah,fixPathsInTree:zi,getFlatTree:_g,getItemByPath:pl,getLightTree:qI,getSwitchValues:HI,getTotalReordableNodesCountInTree:xne,getTotalRulesCountInTree:Sg,hasChildren:g0,immutableToJs:r0,isEmptyTree:v0,isImmutable:lu,jsToImmutable:_c,removeIsLockedInTree:BI,toImmutableList:Wr},Symbol.toStringTag,{value:"Module"}));var Ene=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e;return i=i.toJS(),i=qI(i,r,n),i}},m0=function(e){if(zI(e))return e;if(UI(e))return zi(_c(e));if(typeof e=="string"&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if(typeof e=="string")return zi(_c(JSON.parse(e)));throw new Error("Can't load tree!")},zI=function(e){return lr.isMap(e)},UI=function(e){return xt(e)=="object"&&(e.type=="group"||e.type=="switch_group")};function _c(t){var e=Fo(t,function(r,n,i){var a=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-3]==="args",o=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-2]==="properties",s;if(r=="properties"){s=n.toOrderedMap();for(var l=0;l<2;l++){var u,c,f;((u=s.get("value"))===null||u===void 0||(c=(f=u).get)===null||c===void 0?void 0:c.call(f,l))===null&&(s=s.setIn(["value",l],void 0))}}else a?s=Og(n):(i?o:r=="value")&&Ue.Iterable.isIndexed(n)?s=n.map(Og).toList():r=="asyncListValues"?s=n.toJS():r=="children1"&&Ue.Iterable.isIndexed(n)?s=new Ue.OrderedMap(n.map(function(d){return[(d==null?void 0:d.get("id"))||Ft(),d]})):s=Ue.Iterable.isIndexed(n)?n.toList():n.toOrderedMap();return s});return e}function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WI(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Cne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Cne(t,e){if(t){if(typeof t=="string")return KS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KS(t,e)}}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tne=function(e){return Array.from(new Set(e))},GI="jlField",YI="jlArgs",kne=["==","!="],Ine=["<","<=",">",">="],Ane=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],KI=function(e){return{errors:[],settings:e==null?void 0:e.settings}},Pne=function(e,r){return JI(e,r,!1)},JI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=KI();i.settings={allowUnknownFields:!1,returnErrors:n};var a=oi(r,void 0,!1),o=jne(a),s=e?du(e,o,a,["rule","group","switch"],i):void 0,l=s?m0(s):void 0;return n?[l,i.errors]:(i.errors.length&&console.warn("Errors while importing from JsonLogic:",i.errors),l)},jne=function(e){var r={},n={};for(var i in e.operators){var a=e.operators[i];if(typeof a.jsonLogic=="string"){var o=a.jsonLogic+"/"+Ur(a);r[o]||(r[o]=[]),r[o].push(i)}else if(typeof a.jsonLogic2=="string"){var s=a.jsonLogic2+"/"+Ur(a);r[s]||(r[s]=[]),r[s].push(i),n[i]||(n[i]={}),n[i]={template:a.jsonLogic(GI,i,YI),jsonLogic2:a.jsonLogic2,_jsonLogicIsExclamationOp:!!a._jsonLogicIsExclamationOp}}}var l={};for(var u in e.conjunctions){var c=e.conjunctions[u],f=c.jsonLogicConj||u.toLowerCase();l[f]=u}var d={},p=WI(pu(e)),v;try{for(p.s();!(v=p.n()).done;){var h=ke(v.value,2),g=h[0],y=h[1],m=void 0;y.jsonLogicIsMethod?m="#"+y.jsonLogic:typeof y.jsonLogic=="string"&&(m=y.jsonLogic),m&&(d[m]||(d[m]=[]),d[m].push(g))}}catch(O){p.e(O)}finally{p.f()}var _=e.settings.jsonLogic,b=_.groupVarKey,S=_.altVarKey;return{operators:r,conjunctions:l,funcs:d,varKeys:["var",b,S],combinationOperators:n}},xg=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a;if(r!=null&&r.combinationOperators)for(var o=0,s=Object.entries(r.combinationOperators);o<s.length;o++){var l=ke(s[o],2),u=l[0],c=l[1];if(i==null||i.includes(u)){var f=Lne(c.template,e);f.match&&(a?n.errors.push("Operator matched against 2 templates: ".concat(a.newOp," and ").concat(u)):a=f,a.newOp=c.jsonLogic2)}}return a},Lne=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(e==null||r==null)return n.match=!1,n;var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return n.match=!1,n;for(var o=0;o<i.length;o++){var s=i[o],l=e[s];if(s!==a[o])return n.match=!1,n;if(l===GI&&Pn(r[s]))n.jlField=r[s];else if(l===YI)n.jlArgs.push(r[s]);else if(xt(l)==="object"&&l!==null||Array.isArray(l))n=t(l,r[s],n);else if(l!==r[s])return n.match=!1,n}return n},du=function t(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c,f;Pn(e)&&(c=Object.keys(e)[0],f=e[c],Array.isArray(f)||(f=[f]));var d,p=a.errors.length,v=n.settings.jsonLogic.lockedOp,h=c=="!"&&f.length==1&&f[0]&&Pn(f[0])&&r.varKeys.includes(Object.keys(f[0])[0]),g=xg(e,r,a);g&&(f=[],f[0]=g.jlField,g.jlArgs.forEach(function(O){return f.push(O)}),c=g.newOp);var y=c=="!"&&!h,m=v&&c==v,_=i.includes("switch"),b=_;m?d=t(f[0],r,n,i,a,o,s,l,u,!0):y?d=t(f[0],r,n,i,a,!o,s,l,u):i.includes("val")?d=QI(c,f,r,n,o,a,u)||XI(c,f,r,n,o,s,a,u)||Fne(e,s,l,n,a):(i.includes("switch")&&(d=qne(c,f,r,n,o,a,u)),d==null&&i.includes("group")&&(d=ZI(c,f,r,n,o,a,u,!1)),d==null&&i.includes("rule")&&(d=Bne(c,f,r,n,o,a,u)),d&&b&&!["group","switch_group"].includes(d.type)&&(d=Xu(d,n)));var S=a.errors.length;return c!="!"&&d===void 0&&S==p&&a.errors.push("Can't parse logic ".concat(JSON.stringify(e))),m&&(d.properties.isLocked=!0),d},Fne=function(e,r,n,i,a){var o;if(e===void 0&&(e=r==null?void 0:r.defaultValue),e!==void 0){n=n||(r==null?void 0:r.mainWidget);var s=i.widgets[n],l=r==null?void 0:r.type;if(l&&!s){a.errors.push("No widget for type ".concat(l));return}if(Pn(e)){a.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)));return}if(l==="time"&&typeof e=="number"){var u=Math.floor(e/60/60)%24,c=Math.floor(e/60)%60,f=e%60,d=s.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(u),p.setMinutes(c),p.setSeconds(f),e=Pe(p).format(d)}else e="".concat(u,":").concat(c,":").concat(f)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var v=new Date(e);v instanceof Date&&v.toISOString()===e&&(e=v)}catch(_){a.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&r){var h=s.valueFormat;h&&(e=Pe(e).format(h))}var g;if(e&&r!==null&&r!==void 0&&(o=r.fieldSettings)!==null&&o!==void 0&&o.asyncFetch){var y=Array.isArray(e)?e:[e];g=y}if(s!=null&&s.jsonLogicImport)try{e=s.jsonLogicImport.call(i.ctx,e)}catch(_){var m;a.errors.push("Can't import value ".concat(e," using import func of widget ").concat(n,": ").concat((m=_==null?void 0:_.message)!==null&&m!==void 0?m:_)),e=void 0}return{valueSrc:"value",value:e,valueType:s==null?void 0:s.type,asyncListValues:g}}},QI=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n.varKeys.includes(e)&&typeof r[0]=="string"){var l,u=Xd(i,r[0],s),c=Me(i,u);if(!c&&!((l=o.settings)!==null&&l!==void 0&&l.allowUnknownFields)){o.errors.push("No config for field ".concat(u));return}return{valueSrc:"field",value:u,valueType:c==null?void 0:c.type}}},Rne=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=Object.keys(r)[0],f=Object.values(r)[0],d=function(M,R){return $ne(M,R,i,a,o,l,u)||Nne(M,R,i,a,o,s,l,u)},p=l.errors.length,v,h,g,y,m=d(c,f);if(m&&(v=m.field,h=m.fieldSrc),e&&(y=!0,g=n[0],n=[]),c=="reduce"&&Array.isArray(f)&&f.length==3){var _=f,b=ke(_,3),S=b[0],O=b[1],x=b[2];if(Pn(S)&&x==0&&Pn(O)&&Array.isArray(O["+"])&&O["+"][0]==1&&Pn(O["+"][1])&&O["+"][1].var=="accumulator")if(c=Object.keys(S)[0],f=Object.values(S)[0],c=="filter"){var C=f,A=ke(C,2),w=A[0],k=A[1];if(Pn(w)){c=Object.keys(w)[0],f=Object.values(w)[0];var E=d(c,f);E&&(v=E.field,h=E.fieldSrc,g=k,y=!0)}}else{var I=d(c,f);I&&(v=I.field,h=I.fieldSrc,y=!0)}}var j=l.errors.length;if(!v&&j==p&&l.errors.push("Unknown LHS ".concat(JSON.stringify(r))),!!v)return{field:v,fieldSrc:h,having:g,isGroup:y,args:n}},$ne=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Array.isArray(r)||(r=[r]);var l=QI(e,r,n,i,a,o,s);if(l)return{fieldSrc:"field",field:l.value}},Nne=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=XI(e,r,n,i,a,o,s,l);if(u)return{fieldSrc:"func",field:u.value}},XI=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(e){var u,c,f,d=e=="method";if(d){var p,v,h=cE(r);p=h[0],u=h[1],v=h.slice(2),c=[p].concat(Ce(v))}else u=e,c=r;var g=(d?"#":"")+u,y=(o==null?void 0:o.type)||(o==null?void 0:o.returnType),m=(n.funcs[g]||[]).filter(function(R){return o?Gr(i,R).returnType==y:!0});if(m.length)f=m[0];else{var _=le({},e,r),b=WI(pu(i)),S;try{for(b.s();!(S=b.n()).done;){var O=ke(S.value,2),x=O[0],C=O[1];if(C.jsonLogicImport&&(!y||C.returnType==y)){var A=void 0;try{A=C.jsonLogicImport(_)}catch(R){}A&&(f=x,c=A)}}}catch(R){b.e(R)}finally{b.f()}}if(f&&f){var w=Gr(i,f),k=Object.keys(w.args||{}),E=c.reduce(function(R,U,V){var $=k[V],F=w.args[$],N;return F&&(N=du(U,n,i,["val"],s,!1,F,null,l)),N!==void 0?bo(bo({},R),{},le({},$,N)):R},{});for(var I in w.args){var j=w.args[I],L=E[I];if(L===void 0){if(L=j==null?void 0:j.defaultValue,L!==void 0){var M;L={value:L,valueSrc:(M=L)!==null&&M!==void 0&&M.func?"func":"value",valueType:j.type}}if(L===void 0){if(!(j!=null&&j.isOptional)){s.errors.push("No value for arg ".concat(I," of func ").concat(f));return}}else E[I]=L}}return{valueSrc:"func",value:{func:f,args:E},valueType:w.returnType}}}},ZI=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=n.conjunctions[e],u=i.settings.fieldSeparator;if(l){var c="group",f=r.map(function(m){return du(m,n,i,["rule","group"],o,!1,null,null,s)}).filter(function(m){return m!==void 0}).reduce(function(m,_){return bo(bo({},m),{},le({},_.id,_))},{}),d=Object.values(f).map(function(m){var _,b;return(m==null||(_=m.properties)===null||_===void 0?void 0:_.fieldSrc)=="field"&&(m==null||(b=m.properties)===null||b===void 0?void 0:b.field)}).filter(function(m){var _;return m==null||(_=m.includes)===null||_===void 0?void 0:_.call(m,u)}),p=Object.fromEntries(Tne(d).map(function(m){var _=m.split(u),b=Object.fromEntries(_.slice(0,-1).map(function(S,O,x){return[].concat(Ce(x.slice(0,O)),[S])}).map(function(S){return[S.join(u),Me(i,S)]}).filter(function(S){var O=ke(S,2);O[0];var x=O[1];return(x==null?void 0:x.type)=="!group"}));return[m,Object.keys(b)]})),v={conjunction:l,not:a},h=Ft(),g={},y={};return Object.entries(f).map(function(m){var _=ke(m,2),b=_[0],S=_[1];if((S==null?void 0:S.type)=="group"||(S==null?void 0:S.type)=="rule_group")g[b]=S;else{var O,x=S==null||(O=S.properties)===null||O===void 0?void 0:O.field,C=p[x]||[],A=C[C.length-1];if(!A)S&&(g[b]=S);else{var w=g,k=Rr(s,i),E=Rr(A,i),I=Qc(k,E.slice(0,k.length));I||(k=[]);var j=A.split(u).slice(k.length).map(function(L,M,R){return[].concat(Ce(k),Ce(R.slice(0,M)),[L]).join(u)}).map(function(L){return{f:L,fc:Me(i,L)||{}}}).filter(function(L){var M=L.fc;return M.type!="!struct"});j.map(function(L,M){var R=L.f,U=L.fc,V=y[R];V||(V=Ft(),y[R]=V,w[V]={type:"rule_group",id:V,children1:{},properties:{conjunction:l,not:!1,field:R,fieldSrc:"field",mode:U.mode}}),w=w[V].children1}),w[b]=S}}}),{type:c,id:h,children1:g,properties:v}}},Dne=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e)return{type:"rule_group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:a||xc(i,n),not:o,field:r}}},Xu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n}}},Mne=function(e,r,n,i,a,o,s){var l=KI(s),u=Vne(e,r,n,i,a,o,l);if(!u){s.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(r));return}return u},Vne=function(e,r,n,i,a,o,s){var l,u=Ane.map(function(A){var w;return(w=o.operators[A])===null||w===void 0?void 0:w.jsonLogic2}).includes(e),c=o.settings.groupOperators.includes(e)&&!u,f=c?0:r-1;c?f=0:kne.includes(e)&&f==1&&n[1]===null&&(r=1,f=0,n=[n[0]]);var d=e+"/"+f,p=a.operators[d];if(p){var v,h=[];if(Ine.includes(e)&&r==3)v=n[1],h=[n[0],n[2]];else{var g=n,y=cE(g);v=y[0],h=y.slice(1)}if(!Pn(v)){s.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));return}var m=Rne(c,v,h,a,o,null,null,s,i);if(m){var _=m.field,b=m.fieldSrc,S=m.having;m.isGroup;var O=m.args,x=Me(o,_);if(!x&&!((l=s.settings)!==null&&l!==void 0&&l.allowUnknownFields)){s.errors.push("No config for LHS ".concat(_));return}var C=p[0];if(p.length>1&&x&&x.operators){if(p=p.filter(function(A){return x.operators.includes(A)}),p.length==0){s.errors.push("No corresponding ops for LHS ".concat(_));return}C=p[0]}return{field:_,fieldSrc:b,fieldConfig:x,opKey:C,args:O,having:S}}}},Bne=function t(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(e){var c=Object.values(i.conjunctions).map(function(H){var D=H.jsonLogicConj;return D}),f=r.length,d=Mne(e,f,r,l,n,i,o);if(d){var p=d.field,v=d.fieldSrc,h=d.fieldConfig,g=d.opKey,y=d.args,m=d.having,_=Me(i,l),b=i.operators[g],S=i.operators[(s=b)===null||s===void 0?void 0:s.reversedOp],O=!1,x=!!S,C=h.type=="!group",A=(_==null?void 0:_.type)=="!group",w=x&&(!!i.settings.reverseOperatorsForNot||O||C&&!m||!C&&A&&!u),k=a&&w||O,E,I,j=!1,L=!!i.settings.reverseOperatorsForNot;if((h==null?void 0:h.type)=="!group"&&m){E=Object.keys(m)[0],I=m[E],Array.isArray(I)||(I=[I]);for(var M=xg(m,n,o);E=="!"&&!M;){var R=E=="!"&&I.length==1&&I[0]&&Pn(I[0])&&n.varKeys.includes(Object.keys(I[0])[0]);if(R)break;j=!j,m=m["!"],E=Object.keys(m)[0],I=m[E],L&&c.includes(E)&&I.length==1&&(m=m[E][0],E=Object.keys(m)[0],I=m[E]);var U=xg(m,n,o);M=U||M}Array.isArray(I)||(I=[I]),M&&(I=[],I[0]=M.jlField,M.jlArgs.forEach(function(H){return I.push(H)}),E=M.newOp)}k&&(a=!a,g=b.reversedOp,b=i.operators[g]);var V=vr(i,p,g,null),$=y.map(function(H){return du(H,n,i,["val"],o,!1,h,V,l)});if(!$.filter(function(H){return H===void 0}).length){var F;if(h==null||h.type,(h==null?void 0:h.type)=="!group"&&m){if(n.conjunctions[E]!==void 0)F=ZI(E,I,n,i,j,o,p,!0);else if(F=t(E,I,n,i,j,o,p,!0),F){var N;F.type==="rule_group"&&((N=F.properties)===null||N===void 0?void 0:N.field)!==p&&(F=Dne(F,p,h,i)),Object.assign(F.properties,{conjunction:xc(i,h)})}if(!F)return;F.type="rule_group",Object.assign(F.properties,{field:p,mode:h.mode,operator:g}),h.mode=="array"&&Object.assign(F.properties,{value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})}),a&&(F=Xu(F,i,a))}else if((h==null?void 0:h.type)=="!group"&&!m)F={type:"rule_group",id:Ft(),children1:{},properties:{conjunction:xc(i,h),not:!1,mode:h.mode,field:p,operator:g}},h.mode==="array"&&Object.assign(F.properties,{value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})}),a&&(F=Xu(F,i,a));else{var B=$.map(function(H){return H.asyncListValues}).filter(function(H){return H!=null}),z=B.length?B[0]:void 0;F={type:"rule",id:Ft(),properties:bo({field:p,fieldSrc:v,operator:g,value:$.map(function(H){return H.value}),valueSrc:$.map(function(H){return H.valueSrc}),valueType:$.map(function(H){return H.valueType})},z?{asyncListValues:z}:{})},(a||u)&&(F=Xu(F,i,a))}return F}}}},qne=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if((e==null?void 0:e.toLowerCase())==="if"){var l=Hne(r),u=l.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return[v?du(v,n,i,["rule","group"],o,!1,null,null,s):null,Une(i,o,n,h)]}),c=u.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return zne(v,h,i,o)}),f={type:"switch_group",id:Ft(),children1:c,properties:{}};return f}},Hne=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]);var u=Pn(l)?Object.keys(l)[0]:null;(u==null?void 0:u.toLowerCase())==="if"?n(l[u]):r.push([void 0,l])}return n(e),r},zne=function(e,r,n,i){var a;return e?(a=bo({},e),a.type?(a.type!="group"&&(a=Xu(a,n)),a.type="case_group"):(i.errors.push("Unexpected case: ".concat(JSON.stringify(a))),a=void 0)):a={id:Ft(),type:"case_group",properties:{}},a&&(a.properties=bo(bo({},a.properties),r)),a},Une=function(e,r,n,i){var a=Me(e,"!case_value");if(!a){r.errors.push("Missing caseValueField in settings");return}var o=a.mainWidget,s=e.widgets[o];if(!s){r.errors.push("No widget ".concat(o," for case value"));return}var l=du(i,n,e,["val","case_val"],r,!1,a,o);if(l!=null){var u=l.value,c=l.valueSrc,f=l.valueType,d={value:[u],valueSrc:[c!=null?c:"value"],valueType:[f!=null?f:s==null?void 0:s.type],field:"!case_value"};return d}},eA={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(kn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={},u=o||"Abstract",c=[],f=null,d;if(l._type=u,l.getType=function(){return u},l.setType=function(g){u=g},l.getChildren=function(){return c},l.addChild=function(g){if(g){if(!g.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(g)};g.setParent(l),c.push(g)}},l.getParent=function(){return f},l.setParent=function(g){f=g},l.getContext=function(g){return d||g.activeContext.peek()},l.setContext=function(g){d=g},l.getStartPosition=function(){return s>>16},l.getEndPosition=function(){return s&65535},l.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},l.toString=function(){var g="Kind: "+l.getType();g+=", Children: [";for(var y=0,m=l.getChildren().length;y<m;y+=1)g+="{"+l.getChildren()[y]+"}, ";return g+="]",g},s===0)throw{name:"Error",message:"Position cannot be 0"};for(var p=arguments.length,v=Array(p>2?p-2:0),h=2;h<p;h++)v[h-2]=arguments[h];return v&&v.forEach(function(g){l.addChild(g)}),l}n.SpelNode={create:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=a;function a(o){this.elements=o||[]}a.prototype.push=function(o){return this.elements.push(o),o},a.prototype.pop=function(){return this.elements.pop()},a.prototype.peek=function(){return this.elements[this.elements.length-1]},a.prototype.empty=function(){return this.elements.length>0},a.prototype.search=function(o){return this.elements.length-this.elements.indexOf(o)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(l){this.type=l,this.tokenChars=a[l],this._hasPayload=typeof a[l]!="string",typeof a[l]=="number"&&(this._ordinal=a[l])}for(var s in a)a.hasOwnProperty(s)&&(o[s]=new o(s));o.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(l){for(var u in a)if(a.hasOwnProperty(u)&&a[u]===l)return o[u]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var a=i(4),o=i(50);n.SpelExpressionEvaluator=a.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var a=i(5),o=i(1),s={};function l(u,c,f){var d=new o.Stack,p;return c||(c={}),d.push(c),p={rootContext:c,activeContext:d,locals:f},u.getValue(p)}s.compile=function(u){var c=(0,a.SpelExpressionParser)().parse(u);return{eval:function(d,p){return l(c,d,p)},_compiledExpression:c}},s.eval=function(u,c,f){return s.compile(u).eval(c,f)},n.SpelExpressionEvaluator=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var a=i(2),o=i(6),s=i(8),l=i(9),u=i(10),c=i(11),f=i(12),d=i(13),p=i(14),v=i(15),h=i(16),g=i(17),y=i(18),m=i(19),_=i(20),b=i(21),S=i(22),O=i(23),x=i(24),C=i(25),A=i(26),w=i(27),k=i(28),E=i(29),I=i(30),j=i(31),L=i(32),M=i(33),R=i(34),U=i(35),V=i(36),$=i(37),F=i(38),N=i(39),B=i(40),z=i(41),H=i(42),D=i(43),G=i(44),q=i(45),Y=i(46),K=i(47),ie=i(48),te=i(49);n.SpelExpressionParser=function(){var ue=new RegExp("[\\p{L}\\p{N}_$]+"),fe=[],pe,Se,Q,re;function de(X){}function ve(X,se){try{pe=X,Se=o.Tokenizer.tokenize(X),Q=Se.length,re=0,fe=[];var Te=ee();return ne()&&_e(be().startPos,"MORE_INPUT",Z().toString()),Te}catch(Ze){throw Ze.message}}function ee(){var X=me();if(ne()){var se=be();if(se.getKind()===a.TokenKind.ASSIGN){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var Te=me();return y.Assign.create(Re(se),X,Te)}if(se.getKind()===a.TokenKind.ELVIS){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-2))),Z();var Ze=ee();return Ze===null&&(Ze=c.NullLiteral.create(nn(se.startPos+1,se.endPos+1))),F.Elvis.create(Re(se),X,Ze)}if(se.getKind()===a.TokenKind.QMARK){X===null&&(X=c.NullLiteral.create(nn(se.startPos-1,se.endPos-1))),Z();var wn=ee();mt(a.TokenKind.COLON);var un=ee();return $.Ternary.create(Re(se),X,wn,un)}}return X}function me(){for(var X=Oe();Lr("or")||dt(a.TokenKind.SYMBOLIC_OR);){var se=Z(),Te=Oe();bt(se,X,Te),X=U.OpOr.create(Re(se),X,Te)}return X}function Oe(){for(var X=we();Lr("and")||dt(a.TokenKind.SYMBOLIC_AND);){var se=Z(),Te=we();bt(se,X,Te),X=R.OpAnd.create(Re(se),X,Te)}return X}function we(){var X=Je(),se=Kr();if(se!==null){var Te=Z(),Ze=Je();bt(Te,X,Ze);var wn=se.kind;if(se.isNumericRelationalOperator()){var un=Re(Te);return wn===a.TokenKind.GT?S.OpGT.create(un,X,Ze):wn===a.TokenKind.LT?x.OpLT.create(un,X,Ze):wn===a.TokenKind.LE?O.OpLE.create(un,X,Ze):wn===a.TokenKind.GE?b.OpGE.create(un,X,Ze):wn===a.TokenKind.EQ?m.OpEQ.create(un,X,Ze):_.OpNE.create(un,X,Ze)}return wn===a.TokenKind.INSTANCEOF?D.OpInstanceof.create(Re(Te),X,Ze):wn===a.TokenKind.MATCHES?V.OpMatches.create(Re(Te),X,Ze):G.OpBetween.create(Re(Te),X,Ze)}return X}function Je(){for(var X=at();$t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.INC);){var se=Z(),Te=at();Jr(se,Te),se.getKind()===a.TokenKind.PLUS?X=C.OpPlus.create(Re(se),X,Te):se.getKind()===a.TokenKind.MINUS&&(X=A.OpMinus.create(Re(se),X,Te))}return X}function at(){for(var X=ce();$t(a.TokenKind.STAR,a.TokenKind.DIV,a.TokenKind.MOD);){var se=Z(),Te=ce();bt(se,X,Te),se.getKind()===a.TokenKind.STAR?X=w.OpMultiply.create(Re(se),X,Te):se.getKind()===a.TokenKind.DIV?X=k.OpDivide.create(Re(se),X,Te):X=E.OpModulus.create(Re(se),X,Te)}return X}function ce(){var X=ge(),se;if(dt(a.TokenKind.POWER)){se=Z();var Te=ge();return Jr(se,Te),I.OpPower.create(Re(se),X,Te)}return X!==null&&$t(a.TokenKind.INC,a.TokenKind.DEC)?(se=Z(),se.getKind()===a.TokenKind.INC?j.OpInc.create(Re(se),!0,X):L.OpDec.create(Re(se),!0,X)):X}function ge(){var X,se;return $t(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.NOT)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.NOT?M.OpNot.create(Re(X),se):X.getKind()===a.TokenKind.PLUS?C.OpPlus.create(Re(X),se):A.OpMinus.create(Re(X),se)):$t(a.TokenKind.INC,a.TokenKind.DEC)?(X=Z(),se=ge(),X.getKind()===a.TokenKind.INC?j.OpInc.create(Re(X),!1,se):L.OpDec.create(Re(X),!1,se)):he()}function he(){var X=[],se=jr();for(X.push(se);je();)X.push(lt());return X.length===1?X[0]:h.CompoundExpression.create(nn(se.getStartPosition(),X[X.length-1].getEndPosition()),X)}function je(){var X=null;return $t(a.TokenKind.DOT,a.TokenKind.SAFE_NAVI)?X=Ne():X=Be(),X===null?!1:(qe(X),!0)}function Be(){return dt(a.TokenKind.LSQUARE)&&ft()?lt():null}function Ne(){var X=Z(),se=X.getKind()===a.TokenKind.SAFE_NAVI;return Rt(se)||ot()||Ge(se)||Et(se)?lt():(be()===null?_e(X.startPos,"OOD"):_e(X.startPos,"UNEXPECTED_DATA_AFTER_DOT",ze(be())),null)}function ot(){if(!dt(a.TokenKind.HASH))return!1;var X=Z(),se=mt(a.TokenKind.IDENTIFIER),Te=st();return Te===null?(qe(v.VariableReference.create(se.data,nn(X.startPos,se.endPos))),!0):(qe(f.FunctionReference.create(se.data,nn(X.startPos,se.endPos),Te)),!0)}function st(){if(!dt(a.TokenKind.LPAREN))return null;var X=[];return Bt(X),mt(a.TokenKind.RPAREN),X}function Ke(X){dt(a.TokenKind.LPAREN)||_e(Re(be()),"MISSING_CONSTRUCTOR_ARGS"),Bt(X),mt(a.TokenKind.RPAREN)}function Bt(X){var se=be().startPos,Te;do{Z();var Ze=be();Ze===null&&_e(se,"RUN_OUT_OF_ARGUMENTS"),Ze.getKind()!==a.TokenKind.RPAREN&&X.push(ee()),Te=be()}while(Te!==null&&Te.kind===a.TokenKind.COMMA);Te===null&&_e(se,"RUN_OUT_OF_ARGUMENTS")}function jr(){return ur()||Yr()||Fe()||De()||Mr()||Rt(!1)||ot()||ht()||Ge(!1)||Et(!1)||ft()||Qe()?lt():null}function ht(){if(dt(a.TokenKind.BEAN_REF)){var X=Z(),se=null,Te=null;dt(a.TokenKind.IDENTIFIER)?(se=mt(a.TokenKind.IDENTIFIER),Te=se.data):dt(a.TokenKind.LITERAL_STRING)?(se=mt(a.TokenKind.LITERAL_STRING),Te=se.stringValue(),Te=Te.substring(1,Te.length()-1)):_e(X.startPos,"INVALID_BEAN_REFERENCE");var Ze=Y.BeanReference.create(Re(se),Te);return qe(Ze),!0}return!1}function Fe(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();if(X.stringValue()!=="T")return!1;var se=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(se.stringValue(),Re(se))),!0;mt(a.TokenKind.LPAREN);for(var Te=At(),Ze=0;cr(a.TokenKind.LSQUARE,!0);)mt(a.TokenKind.RSQUARE),Ze++;return mt(a.TokenKind.RPAREN),qe(q.TypeReference.create(Re(X),Te,Ze)),!0}return!1}function De(){if(dt(a.TokenKind.IDENTIFIER)){var X=be();return X.stringValue().toLowerCase()!=="null"?!1:(Z(),qe(c.NullLiteral.create(Re(X))),!0)}return!1}function Ge(X){var se=be();if(!cr(a.TokenKind.PROJECT,!0))return!1;var Te=ee();return mt(a.TokenKind.RSQUARE),qe(H.Projection.create(X,Re(se),Te)),!0}function Qe(){var X=be(),se=[];if(!cr(a.TokenKind.LCURLY,!0))return!1;var Te=null,Ze=be();if(cr(a.TokenKind.RCURLY,!0))Te=N.InlineList.create(nn(X.startPos,Ze.endPos));else if(cr(a.TokenKind.COLON,!0))Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos));else{var wn=ee();if(dt(a.TokenKind.RCURLY))se.push(wn),Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(nn(X.startPos,Ze.endPos),se);else if(cr(a.TokenKind.COMMA,!0)){se.push(wn);do se.push(ee());while(cr(a.TokenKind.COMMA,!0));Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(Re(X.startPos,Ze.endPos),se)}else if(cr(a.TokenKind.COLON,!0)){var un=[];for(un.push(wn),un.push(ee());cr(a.TokenKind.COMMA,!0);)un.push(ee()),mt(a.TokenKind.COLON),un.push(ee());Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(nn(X.startPos,Ze.endPos),un)}else _e(X.startPos,"OOD")}return qe(Te),!0}function ft(){var X=be();if(!cr(a.TokenKind.LSQUARE,!0))return!1;var se=ee();return mt(a.TokenKind.RSQUARE),qe(g.Indexer.create(Re(X),se)),!0}function Et(X){var se=be();if(!tr())return!1;Z();var Te=ee();return Te===null&&_e(Re(se),"MISSING_SELECTION_EXPRESSION"),mt(a.TokenKind.RSQUARE),se.getKind()===a.TokenKind.SELECT_FIRST?qe(z.Selection.create(X,z.Selection.FIRST,Re(se),Te)):se.getKind()===a.TokenKind.SELECT_LAST?qe(z.Selection.create(X,z.Selection.LAST,Re(se),Te)):qe(z.Selection.create(X,z.Selection.ALL,Re(se),Te)),!0}function At(){for(var X=[],se=be();_r(se);)Z(),se.kind!==a.TokenKind.DOT&&X.push(K.Identifier.create(se.stringValue(),Re(se))),se=be();X.length||(se===null&&_e(pe.length(),"OOD"),_e(se.startPos,"NOT_EXPECTED_TOKEN","qualified ID",se.getKind().toString().toLowerCase()));var Te=nn(X[0].getStartPosition(),X[X.length-1].getEndPosition());return ie.QualifiedIdentifier.create(Te,X)}function _r(X){if(X===null||X.kind===a.TokenKind.LITERAL_STRING)return!1;if(X.kind===a.TokenKind.DOT||X.kind===a.TokenKind.IDENTIFIER)return!0;var se=X.stringValue();return se&&se.length&&ue.test(se)}function Rt(X){if(dt(a.TokenKind.IDENTIFIER)){var se=Z(),Te=st();return Te===null?(qe(p.PropertyReference.create(X,se.stringValue(),Re(se))),!0):(qe(d.MethodReference.create(X,se.stringValue(),Re(se),Te)),!0)}return!1}function Mr(){if(Lr("new")){var X=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(X.stringValue(),Re(X))),!0;var se=At(),Te=[];if(Te.push(se),dt(a.TokenKind.LSQUARE)){for(var Ze=[];cr(a.TokenKind.LSQUARE,!0);)dt(a.TokenKind.RSQUARE)?Ze.push(null):Ze.push(ee()),mt(a.TokenKind.RSQUARE);Qe()&&Te.push(lt()),qe(te.ConstructorReference.create(Re(X),Ze,Te))}else Ke(Te),qe(te.ConstructorReference.create(Re(X),Te));return!0}return!1}function qe(X){fe.push(X)}function lt(){return fe.pop()}function ur(){var X=be();if(X===null)return!1;if(X.getKind()===a.TokenKind.LITERAL_INT||X.getKind()===a.TokenKind.LITERAL_LONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),10),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_REAL||X.getKind()===a.TokenKind.LITERAL_REAL_FLOAT)qe(l.NumberLiteral.create(parseFloat(X.stringValue()),Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_HEXINT||X.getKind()===a.TokenKind.LITERAL_HEXLONG)qe(l.NumberLiteral.create(parseInt(X.stringValue(),16),Re(X)));else if(Lr("true"))qe(s.BooleanLiteral.create(!0,Re(X)));else if(Lr("false"))qe(s.BooleanLiteral.create(!1,Re(X)));else if(X.getKind()===a.TokenKind.LITERAL_STRING)qe(u.StringLiteral.create(X.stringValue(),Re(X)));else return!1;return Z(),!0}function Yr(){if(dt(a.TokenKind.LPAREN)){Z();var X=ee();return mt(a.TokenKind.RPAREN),qe(X),!0}else return!1}function Kr(){var X=be();if(X===null)return null;if(X.isNumericRelationalOperator())return X;if(X.isIdentifier()){var se=X.stringValue();if(se.toLowerCase()==="instanceof")return X.asInstanceOfToken();if(se.toLowerCase()==="matches")return X.asMatchesToken();if(se.toLowerCase()==="between")return X.asBetweenToken()}return null}function mt(X){var se=Z();return se===null&&_e(pe.length,"OOD"),se.getKind()!==X&&_e(se.startPos,"NOT_EXPECTED_TOKEN",X.toString().toLowerCase(),se.getKind().toString().toLowerCase()),se}function dt(X){return cr(X,!1)}function cr(X,se){if(!ne())return!1;var Te=be();return Te.getKind()===X?(se&&re++,!0):X===a.TokenKind.IDENTIFIER&&Te.getKind().ordinal()>=a.TokenKind.DIV.ordinal()&&Te.getKind().ordinal()<=a.TokenKind.NOT.ordinal()&&Te.data!==null}function $t(){if(!ne())return!1;for(var X=be(),se=Array.prototype.slice.call(arguments),Te=0,Ze=se.length;Te<Ze;Te+=1)if(X.getKind()===se[Te])return!0;return!1}function Lr(X){if(!ne())return!1;var se=be();return se.getKind()===a.TokenKind.IDENTIFIER&&se.stringValue().toLowerCase()===X.toLowerCase()}function tr(){if(!ne())return!1;var X=be();return X.getKind()===a.TokenKind.SELECT||X.getKind()===a.TokenKind.SELECT_FIRST||X.getKind()===a.TokenKind.SELECT_LAST}function ne(){return re<Se.length}function Z(){return re>=Q?null:Se[re++]}function be(){return re>=Q?null:Se[re]}function _e(X,se,Te,Ze){throw Te&&(se+="\nExpected: "+Te),Ze&&(se+="\nActual: "+Ze),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+pe+"' at position "+X+". Message: "+se}}function ze(X){return X.getKind().hasPayload()?X.stringValue():X.getKind().toString().toLowerCase()}function bt(X,se,Te){qt(X,se),Jr(X,Te)}function qt(X,se){se===null&&_e(X.startPos,"LEFT_OPERAND_PROBLEM")}function Jr(X,se){se===null&&_e(X.startPos,"RIGHT_OPERAND_PROBLEM")}function Re(X){return(X.startPos<<16)+X.endPos}function nn(X,se){return(X<<16)+se}return{setConfiguration:de,parse:ve}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var a=i(7),o=i(2),s=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],l=[],u=1,c=2,f=4;function d(){var v;for(v=48;v<=57;v+=1)l[v]|=u|c;for(v=65;v<=70;v+=1)l[v]|=c;for(v=97;v<=102;v+=1)l[v]|=c;for(v=65;v<=90;v+=1)l[v]|=f;for(v=97;v<=122;v+=1)l[v]|=f}d();function p(v){var h=v,g=v+"\0",y=g.length,m=0,_=[];function b(){for(var D;m<y;)if(D=g[m],z(D))C();else switch(D){case"+":I(o.TokenKind.INC)?L(o.TokenKind.INC):j(o.TokenKind.PLUS);break;case"_":C();break;case"-":I(o.TokenKind.DEC)?L(o.TokenKind.DEC):j(o.TokenKind.MINUS);break;case":":j(o.TokenKind.COLON);break;case".":j(o.TokenKind.DOT);break;case",":j(o.TokenKind.COMMA);break;case"*":j(o.TokenKind.STAR);break;case"/":j(o.TokenKind.DIV);break;case"%":j(o.TokenKind.MOD);break;case"(":j(o.TokenKind.LPAREN);break;case")":j(o.TokenKind.RPAREN);break;case"[":j(o.TokenKind.LSQUARE);break;case"#":j(o.TokenKind.HASH);break;case"]":j(o.TokenKind.RSQUARE);break;case"{":j(o.TokenKind.LCURLY);break;case"}":j(o.TokenKind.RCURLY);break;case"@":j(o.TokenKind.BEAN_REF);break;case"^":I(o.TokenKind.SELECT_FIRST)?L(o.TokenKind.SELECT_FIRST):j(o.TokenKind.POWER);break;case"!":I(o.TokenKind.NE)?L(o.TokenKind.NE):I(o.TokenKind.PROJECT)?L(o.TokenKind.PROJECT):j(o.TokenKind.NOT);break;case"=":I(o.TokenKind.EQ)?L(o.TokenKind.EQ):j(o.TokenKind.ASSIGN);break;case"&":if(!I(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+h+") at position "+m};L(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!I(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+h+") at position "+m};L(o.TokenKind.SYMBOLIC_OR);break;case"?":I(o.TokenKind.SELECT)?L(o.TokenKind.SELECT):I(o.TokenKind.ELVIS)?L(o.TokenKind.ELVIS):I(o.TokenKind.SAFE_NAVI)?L(o.TokenKind.SAFE_NAVI):j(o.TokenKind.QMARK);break;case"$":I(o.TokenKind.SELECT_LAST)?L(o.TokenKind.SELECT_LAST):C();break;case">":I(o.TokenKind.GE)?L(o.TokenKind.GE):j(o.TokenKind.GT);break;case"<":I(o.TokenKind.LE)?L(o.TokenKind.LE):j(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x(D==="0");break;case" ":case"	":case"\r":case"\n":m+=1;break;case"'":S();break;case'"':O();break;case"\0":m+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+h+") at position "+m};default:throw{name:"SpelParseException",message:"Cannot handle character '"+D+"' in expression ("+h+") at position "+m}}}function S(){for(var D=m,G=!1,q;!G;)if(m+=1,q=g[m],q==="'"&&(g[m+1]==="'"?m+=1:G=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,E(D,m),D,m))}function O(){for(var D=m,G=!1,q;!G;)if(m+=1,q=g[m],q==='"'&&(g[m+1]==='"'?m+=1:G=!0),q.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,E(D,m),D,m))}function x(D){var G=!1,q=m,Y=g[m+1],K=Y==="x"||Y==="X",ie,te,oe,ue;if(D&&K){m=m+1;do m+=1;while(H(g[m]));U("L","l")?(w(E(q+2,m),!0,q,m),m+=1):w(E(q+2,m),!1,q,m);return}do m+=1;while(B(g[m]));if(Y=g[m],Y==="."){G=!0,ie=m;do m+=1;while(B(g[m]));if(m===ie+1){m=ie,A(E(q,m),!1,q,m);return}}if(te=m,U("L","l")){if(G)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+h+") at position "+m};A(E(q,te),!0,q,te),m+=1}else if(V(g[m])){G=!0,m+=1,oe=g[m],N(oe)&&(m+=1);do m+=1;while(B(g[m]));ue=!1,$(g[m])?(ue=!0,m+=1,te=m):F(g[m])&&(m+=1,te=m),k(E(q,m),ue,q,m)}else Y=g[m],ue=!1,$(Y)?(G=!0,ue=!0,m+=1,te=m):F(Y)&&(G=!0,m+=1,te=m),G?k(E(q,te),ue,q,te):A(E(q,te),!1,q,te)}function C(){var D=m,G,q,Y;do m+=1;while(R(g[m]));if(G=E(D,m),(m-D===2||m-D===3)&&(q=G.toUpperCase(),Y=s.indexOf(q),Y>=0)){M(o.TokenKind.valueOf(q),D,G);return}_.push(new a.Token(o.TokenKind.IDENTIFIER,G.replace("\0",""),D,m))}function A(D,G,q,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_LONG,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_INT,D,q,Y))}function w(D,G,q,Y){if(D.length===0)throw G?{name:"SpelParseException",message:"Not a long in expression ("+h+") at position "+m}:{name:"SpelParseException",message:"Not an int in expression ("+h+") at position "+m};G?_.push(new a.Token(o.TokenKind.LITERAL_HEXLONG,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_HEXINT,D,q,Y))}function k(D,G,q,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_REAL_FLOAT,D,q,Y)):_.push(new a.Token(o.TokenKind.LITERAL_REAL,D,q,Y))}function E(D,G){return g.substring(D,G)}function I(D){return D.tokenChars.length===2&&g[m]===D.tokenChars[0]?g[m+1]===D.tokenChars[1]:!1}function j(D){_.push(new a.Token(D,null,m,m+1)),m+=1}function L(D){_.push(new a.Token(D,null,m,m+2)),m+=2}function M(D,G,q){_.push(new a.Token(D,q,G,G+D.getLength()))}function R(D){return z(D)||B(D)||D==="_"||D==="$"}function U(D,G){var q=g[m];return q===D||q===G}function V(D){return D==="e"||D==="E"}function $(D){return D==="f"||D==="F"}function F(D){return D==="d"||D==="D"}function N(D){return D==="+"||D==="-"}function B(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&u)!==0}function z(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&f)!==0}function H(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&c)!==0}return b(),_}n.Tokenizer={tokenize:p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var a=i(2);function o(s,l,u,c){this.kind=s,this.startPos=u,this.endPos=c,l&&(this.data=l)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var s="[";return s+=this.kind.toString(),this.kind.hasPayload()&&(s+=":"+this.data),s+="]",s+="("+this.startPos+","+this.endPos+")",s},o.prototype.isIdentifier=function(){return this.kind===a.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===a.TokenKind.GT||this.kind===a.TokenKind.GE||this.kind===a.TokenKind.LT||this.kind===a.TokenKind.LE||this.kind===a.TokenKind.EQ||this.kind===a.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(a.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(a.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(a.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("boolean",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.BooleanLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("number",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.NumberLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("string",l);function c(f){return(f[0]==="'"&&f[f.length-1]==="'"||f[0]==='"'&&f[f.length-1]==='"')&&(f=f.substring(1,f.length-1)),f.replace(/''/g,"'").replace(/""/g,'"')}return s=c(s),u.getValue=function(){return s},u.setValue=function(f){return s=f},u}n.StringLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("null",l);return u.getValue=function(){return null},u}n.NullLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var a=i(0),o=i(1);function s(l,u,c){var f=a.SpelNode.create("function",u);return f.getRaw=function(){return{functionName:l,args:c}},f.getValue=function(d){var p=d.locals||{},v=d.rootContext,h=[];if(c.forEach(function(g){var y=d.activeContext;d.activeContext=new o.Stack,d.activeContext.push(d.rootContext),h.push(g.getValue(d)),d.activeContext=y}),p[l])return p[l].apply(v,h);throw{name:"FunctionDoesNotExistException",message:"Function '"+l+"' does not exist."}},f}n.FunctionReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var a=i(0),o=i(1);function s(l,u,c,f){var d=a.SpelNode.create("method",c);return d.getRaw=function(){return{methodName:u,args:f}},d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(!v)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+u+"' for an undefined context."};function y(m){if(m==null){if(l)return null;throw{name:"NullPointerException",message:"Method "+u+" does not exist."}}return m}if(f.forEach(function(m){var _=p.activeContext;p.activeContext=new o.Stack,p.activeContext.push(p.rootContext),h.push(m.getValue(p)),p.activeContext=_}),u.substr(0,3)==="get"&&!v[u])return y(v[u.charAt(3).toLowerCase()+u.substring(4)]);if(u.substr(0,3)==="set"&&!v[u])return v[u.charAt(3).toLowerCase()+u.substring(4)]=h[0];if(Array.isArray(v)){if(u==="size")return v.length;if(u==="contains")return v.includes(h[0])}return g=y(v[u]),g?g.apply(v,h):null},d}n.MethodReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("property",u);return c.getRaw=function(){return l},c.getValue=function(f){var d=f.activeContext.peek();if(!d){if(s)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+l+"' for an undefined context."}}if(d[l]===void 0||d[l]===null){if(s)return null;if(l==="size"&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+l+"' does not exist."}}return d[l]},c.setValue=function(f,d){var p=d.activeContext.peek();if(!p)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l+"' for an undefined context."};return p[l]=f},c.getName=function(){return l},c}n.PropertyReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("variable",l);return u.getRaw=function(){return s},u.getValue=function(c){var f=c.activeContext.peek(),d=c.locals;if(!f)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+s+"' for an undefined context."};return s==="this"?f:s==="root"?c.rootContext:d[s]},u.setValue=function(c,f){var d=f.locals;return d[s]=c},u}n.VariableReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create.apply(null,["compound",s].concat(l));function c(f){var d=u.getChildren().length,p;for(p=0;p<d;p+=1)u.getChildren()[p].getType()==="indexer"?f.activeContext.push(f.activeContext.peek()[u.getChildren()[p].getValue(f)]):f.activeContext.push(u.getChildren()[p].getValue(f));return function(){for(p=0;p<d;p+=1)f.activeContext.pop()}}return u.getValue=function(f){var d=f.activeContext.peek(),p;if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var v=c(f);return p=f.activeContext.peek(),v(),p},u.setValue=function(f,d){var p=c(d),v=u.getChildren().length;return d.activeContext.pop(),f=u.getChildren()[v-1].setValue(f,d),d.activeContext.push(null),p(),f},u}n.CompoundExpression={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var a=i(0),o=i(1);function s(l,u){var c=a.SpelNode.create.apply(null,["indexer",l].concat(u));return c.getValue=function(f){var d=f.activeContext,p,v=c.getChildren().length,h,g;if(f.activeContext=new o.Stack,f.activeContext.push(f.rootContext),p=f.activeContext.peek(),!p)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(h=0;h<v;h+=1)f.activeContext.push(c.getChildren()[h].getValue(f));for(g=f.activeContext.peek(),h=0;h<v;h+=1)f.activeContext.pop();return f.activeContext=d,g},c}n.Indexer={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("assign",s,l,u);return c.getValue=function(f){var d=f.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l.getValue(f)+"' for an undefined context."};return l.setValue(u.getValue(f),f)},c}n.Assign={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-eq",s,l,u);return c.getValue=function(f){return l.getValue(f)===u.getValue(f)},c}n.OpEQ={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ne",s,l,u);return c.getValue=function(f){return l.getValue(f)!==u.getValue(f)},c}n.OpNE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ge",s,l,u);return c.getValue=function(f){return l.getValue(f)>=u.getValue(f)},c}n.OpGE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-gt",s,l,u);return c.getValue=function(f){return l.getValue(f)>u.getValue(f)},c}n.OpGT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-le",s,l,u);return c.getValue=function(f){return l.getValue(f)<=u.getValue(f)},c}n.OpLE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-lt",s,l,u);return c.getValue=function(f){return l.getValue(f)<u.getValue(f)},c}n.OpLT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-plus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)+u.getValue(f):+l.getValue(f)},c}n.OpPlus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-minus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)-u.getValue(f):-l.getValue(f)},c}n.OpMinus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-multiply",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);if(typeof d=="number"&&typeof p=="number")return d*p;if(typeof d=="string"&&typeof p=="number"){for(var v="",h=0;h<p;h+=1)v+=d;return v}return null},c}n.OpMultiply={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-divide",s,l,u);return c.getValue=function(f){return l.getValue(f)/u.getValue(f)},c}n.OpDivide={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-modulus",s,l,u);return c.getValue=function(f){return l.getValue(f)%u.getValue(f)},c}n.OpModulus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-power",s,l,u);return c.getValue=function(f){return Math.pow(l.getValue(f),u.getValue(f))},c}n.OpPower={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-inc",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d+1,f),l?d:d+1},c}n.OpInc={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-dec",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d-1,f),l?d:d-1},c}n.OpDec={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("op-not",s,l);return u.getValue=function(c){return!l.getValue(c)},u}n.OpNot={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-and",s,l,u);return c.getValue=function(f){return!!l.getValue(f)&&!!u.getValue(f)},c}n.OpAnd={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-or",s,l,u);return c.getValue=function(f){return!!l.getValue(f)||!!u.getValue(f)},c}n.OpOr={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("matches",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);try{var v=new RegExp(p);return!!v.exec(d)}catch(h){throw{name:"EvaluationException",message:h.toString()}}},c}n.OpMatches={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var a=i(0);function o(s,l,u,c){var f=a.SpelNode.create("ternary",s,l,u,c);return f.getValue=function(d){return l.getValue(d)?u.getValue(d):c.getValue(d)},f}n.Ternary={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("elvis",s,l,u);return c.getValue=function(f){return l.getValue(f)!==null?l.getValue(f):u.getValue(f)},c}n.Elvis={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("list",s),c=[].concat(l||[]);return u.getRaw=function(){return c},u.getValue=function(f){return c.map(function(d){return d.getValue(f)})},u}n.InlineList={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("map",s),c=[].concat(l||[]);return u.getValue=function(f){var d=!0,p=null,v={};return c.forEach(function(h){d?h.getType()==="property"?p=h.getName():p=h.getValue(f):v[p]=h.getValue(f),d=!d}),v},u}n.InlineMap={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=i(0);function s(f,d,p){var v=!1;return p.activeContext.push(f),v=d.getValue(p),p.activeContext.pop(),v}function l(f,d,p,v){var h=f.filter(function(g){return s(g,p,v)});switch(d){case"ALL":return h;case"FIRST":return h[0]||null;case"LAST":return h.length?h[h.length-1]:null}}function u(f,d,p,v){var h={},g,y,m=[],_={};for(y in f)f.hasOwnProperty(y)&&(g={key:y,value:f[y]},s(g,p,v)&&m.push(g));switch(d){case"ALL":return m.forEach(function(b){h[b.key]=b.value}),h;case"FIRST":return m.length?(_[m[0].key]=m[0].value,_):null;case"LAST":return m.length?(_[m[m.length-1].key]=m[m.length-1].value,_):null}m.forEach(function(b){h[b.key]=b.value})}function c(f,d,p,v){var h=o.SpelNode.create("selection",p,v);return h.getValue=function(g){var y=g.activeContext.peek();if(y){if(Array.isArray(y))return l(y,d,v,g);if((typeof y>"u"?"undefined":a(y))==="object")return u(y,d,v,g)}return null},h}n.Selection={create:c,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(0);function s(u,c,f){return u.map(function(d){var p;return f.activeContext.push(d),p=c.getValue(f),f.activeContext.pop(),p})}function l(u,c,f){var d=o.SpelNode.create("projection",c,f);return d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(Array.isArray(v))return s(v,f,p);if((typeof v>"u"?"undefined":a(v))==="object"){for(g in v)v.hasOwnProperty(g)&&h.push(v[g]);return s(h,f,p)}return null},d}n.Projection={create:l}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("instanceof",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},c}n.OpInstanceof={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("between",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},c}n.OpBetween={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var a=i(0);function o(s,c,u){var c=a.SpelNode.create("typeref",s,c);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},c}n.TypeReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("beanref",s);return u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},u}n.BeanReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("identifier",l);return u.getRaw=function(){return s},u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},u}n.Identifier={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var a=i(0);function o(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}function s(l,u){var c=a.SpelNode.create.apply(a.SpelNode,["qualifiedidentifier",l].concat(o(u)));return c.getRaw=function(){return u.map(function(f){return f.getRaw()})},c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},c}n.QualifiedIdentifier={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var a=i(0),o=i(1);function s(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function l(c){return Array.isArray(c)?c:Array.from(c)}function u(c,f,d){var p=d!==void 0,v;p?v=f.length&&f[0]&&f[0].getType()==="number"?f[0].getValue():null:(d=f,f=void 0);var h=d,g=l(h);g[0];var y=g.slice(1),m=a.SpelNode.create.apply(a.SpelNode,["constructorref",c].concat(s(d)));return m.getRaw=function(){return v},m.getValue=function(_){if(p&&y.length<=1){var b=[];return y.forEach(function(S){var O=_.activeContext;_.activeContext=new o.Stack,_.activeContext.push(_.rootContext),b.push(S.getValue(_)),_.activeContext=O}),y.length===1?b[0]:v?new Array(v):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},m}n.ConstructorReference={create:u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={};return l.authentication=o||{},l.principal=s||{},l.hasRole=function(u){var c=!1;return!u||!l.authentication&&!Array.isArray(l.authentication.authorities)?!1:(l.authentication.authorities.forEach(function(f){f.authority.toLowerCase()===u.toLowerCase()&&(c=!0)}),c)},l.hasPermission=function(){var u=Array.prototype.slice.call(arguments);if(u.length===1)return l.hasRole(u[0])},l}n.StandardContext={create:a}}])})})(eA);var Wne=eA.exports,tA={};(function(t){var e=t,r=/`/g,n=/\./g,i=/[\0\b\t\n\r\x1a\"\'\\]/g,a={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};e.escapeId=function(c,f){if(Array.isArray(c)){for(var d="",p=0;p<c.length;p++)d+=(p===0?"":", ")+e.escapeId(c[p],f);return d}else return f?"`"+String(c).replace(r,"``")+"`":"`"+String(c).replace(r,"``").replace(n,"`.`")+"`"},e.escape=function(c,f,d){if(c==null)return"NULL";switch(typeof c){case"boolean":return c?"true":"false";case"number":return c+"";case"object":return Object.prototype.toString.call(c)==="[object Date]"?e.dateToString(c,d||"local"):Array.isArray(c)?e.arrayToList(c,d):Buffer.isBuffer(c)?e.bufferToString(c):typeof c.toSqlString=="function"?String(c.toSqlString()):f?o(c.toString()):e.objectToValues(c,d);default:return o(c)}},e.arrayToList=function(c,f){for(var d="",p=0;p<c.length;p++){var v=c[p];Array.isArray(v)?d+=(p===0?"":", ")+"("+e.arrayToList(v,f)+")":d+=(p===0?"":", ")+e.escape(v,!0,f)}return d},e.format=function(c,f,d,p){if(f==null)return c;Array.isArray(f)||(f=[f]);for(var v=0,h=/\?+/g,g="",y=0,m;y<f.length&&(m=h.exec(c));){var _=m[0].length;if(!(_>2)){var b=_===2?e.escapeId(f[y]):e.escape(f[y],d,p);g+=c.slice(v,m.index)+b,v=h.lastIndex,y++}}return v===0?c:v<c.length?g+c.slice(v):g},e.dateToString=function(c,f){var d=new Date(c);if(isNaN(d.getTime()))return"NULL";var p,v,h,g,y,m,_;if(f==="local")p=d.getFullYear(),v=d.getMonth()+1,h=d.getDate(),g=d.getHours(),y=d.getMinutes(),m=d.getSeconds(),_=d.getMilliseconds();else{var b=l(f);b!==!1&&b!==0&&d.setTime(d.getTime()+b*6e4),p=d.getUTCFullYear(),v=d.getUTCMonth()+1,h=d.getUTCDate(),g=d.getUTCHours(),y=d.getUTCMinutes(),m=d.getUTCSeconds(),_=d.getUTCMilliseconds()}var S=s(p,4)+"-"+s(v,2)+"-"+s(h,2)+" "+s(g,2)+":"+s(y,2)+":"+s(m,2)+"."+s(_,3);return o(S)},e.bufferToString=function(c){return"X"+o(c.toString("hex"))},e.objectToValues=function(c,f){var d="";for(var p in c){var v=c[p];typeof v!="function"&&(d+=(d.length===0?"":", ")+e.escapeId(p)+" = "+e.escape(v,!0,f))}return d},e.raw=function(c){if(typeof c!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return c}}};function o(u){for(var c=i.lastIndex=0,f="",d;d=i.exec(u);)f+=u.slice(c,d.index)+a[d[0]],c=i.lastIndex;return c===0?"'"+u+"'":c<u.length?"'"+f+u.slice(c)+"'":"'"+f+"'"}function s(u,c){for(u=u.toString();u.length<c;)u="0"+u;return u}function l(u){if(u==="Z")return 0;var c=u.match(/([\+\-\s])(\d\d):?(\d\d)?/);return c?(c[1]==="-"?-1:1)*(parseInt(c[2],10)+(c[3]?parseInt(c[3],10):0)/60)*60:!1}})(tA);var Gne=tA;const Yne=tn(Gne);var _o=Yne;_o.trim=function(t){return t.charAt(0)=="'"?t.substring(1,t.length-1):t};_o.escapeLike=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=_o.escape(t);return n=_o.trim(n),n=n.replace(/[%_]/g,"\\$&"),n=(e?"%":"")+n+(r?"%":""),n="'"+n+"'",n};var rA=function(e){var r="''",n=e==null?void 0:e.type;return n=="date"?r="'0000-00-00'":n=="datetime"?r="'0000-00-00 00:00'":n=="time"?r="'00:00'":n=="number"&&(r="0"),r},nA=function(e){var r="",n=e==null?void 0:e.type;return n=="number"&&(r=0),r},Kne=function(e){return"'"+e.replace(/'/g,"''")+"'"},Jne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,a=["int","float"];e.map(function(l){if(l!=null){if(typeof l=="string")i="String";else if(typeof l=="number")i=Number.isInteger(l)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(l," in array"));if(!n)n=i;else if(n!=i)if(a.includes(n)&&a.includes(i))n="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(n," and ").concat(i))}}),n||(n="String");var o;n=="float"?o=e.map(function(l){return Rl(l,!0)}):o=e.map(function(l){return Rl(l)});var s;return r?s="new ".concat(n,"[]{").concat(o.join(", "),"}"):s="{".concat(o.join(", "),"}"),s},iA=function(e){return"".concat(e,".?[true]")},Rl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e==null)return"null";switch(xt(e)){case"boolean":return e?"true":"false";case"number":return!Number.isFinite(e)||isNaN(e)?void 0:e+(!Number.isInteger(e)||r?"f":"");case"object":if(Array.isArray(e))return Jne(e,n);throw new Error("spelEscape: Object is not supported");default:return Kne(e)}},Qne=function(e){return e&&Array.isArray(e)&&e.length?e.map(function(r){if(r.type=="const")return Rl(r.value);if(r.type=="property")return""+r.value;if(r.type=="variable")return"#"+r.value}).filter(function(r){return r!=null}).join(" + "):"null"},Xne=function(e){if(e==null)return[void 0,[]];var r=[],n=e.valueType=="case_value"?e.value:e,i=Array.isArray(n)?n:[n],a=i.map(function(o){if(o.valueSrc==="value")return o.value===null?void 0:{type:"const",value:o.value};if(o.valueSrc==="field")return{type:o.isVariable?"variable":"property",value:o.value};r.push("Unsupported valueSrc ".concat(o.valueSrc," in concatenation"))}).filter(function(o){return o!=null});return[a,r]},aA=function(e){return e==null?"NULL":e.toString()},oA=function(e){return e==null||(e==null?void 0:e[0])==="("&&(e==null?void 0:e[(e==null?void 0:e.length)-1])===")"?e:"("+e+")"};const Zne=Object.freeze(Object.defineProperty({__proto__:null,SqlString:_o,mongoEmptyValue:nA,spelEscape:Rl,spelFixList:iA,spelFormatConcat:Qne,spelImportConcat:Xne,sqlEmptyValue:rA,stringifyForDisplay:aA,wrapWithBrackets:oA},Symbol.toStringTag,{value:"Module"}));function JS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=eie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function eie(t,e){if(t){if(typeof t=="string")return QS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(t,e)}}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sA="${0}.compareTo(${1})",tie={datetime:!0,time:!0,date:!0},rie=function(e,r){return lA(e,r,!1)},lA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=uA(e,a,i,null);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SpEL:",i.errors),o)},uA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(a==="group"||a==="rule_group")return fA(e,r,n,i);if(a==="rule")return aie(e,r,n,i);if(a=="switch_group")return nie(e,r,n);if(a=="case_group")return cA(e,r,n,i)}},cA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type");if(a!="case_group"){n.errors.push("Unexpected child of type ".concat(a," inside switch"));return}var o=e.get("properties")||new lr,s=y0(r,o,n,null,i,"!case_value"),l=ke(s,3),u=l[0];l[1],l[2];var c=fA(e,r,n,i);return[c,u]},nie=function(e,r,n){e.get("properties")||new lr;var i=e.get("children1");if(i){var a=i.map(function(v){return cA(v,r,n,null)}).filter(function(v){return typeof v<"u"}).valueSeq().toArray();if(a.length){if(a.length==1&&!a[0][0])return a[0][1];for(var o=[],s=0;s<a.length;s++)s!=a.length-1&&!a[s][0]?n.errors.push("No condition for case ".concat(s)):(o.push(a[s]),s==a.length-1&&a[s][0]&&o.push([void 0,null]));for(var l="",u="",c=0;c<o.length;c++){var f=ke(o[c],2),d=f[0],p=f[1];p==null&&(p="null"),d==null&&(d="true"),c!=o.length-1?(l+="(".concat(d," ? ").concat(p," : "),u+=")"):l+="".concat(p)}return l+u}}},fA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type"),o=e.get("properties")||new lr,s=o.get("mode"),l=e.get("children1")||new Zi,u=o.get("field"),c=o.get("conjunction");c||(c=ka(r));var f=r.conjunctions[c],d=o.get("not"),p=a==="rule_group",v=p&&s!="struct",h=v?u:i,g=Me(r,h)||{},y=g.isSpelArray,m=r.settings.fieldSeparator,_=o.get("operator");!_&&(!s||s=="some")&&(_="some");var b=pA(r,_,u),S=b!=_,O=_&&jt(r,b,u)||null,x=p&&(!b||O.cardinality==0),C=y0(r,o,n,b,i,null),A=ke(C,3),w=A[0],k=A[1],E=A[2],I=l.map(function(B){return uA(B,r,n,h)}).filter(function(B){return typeof B<"u"});if(v&&!x){if(w==null)return}else if(!I.size)return;var j=p,L=I.size?f.spelFormatConj.call(r.ctx,I,c,d,j):null,M;if(v){var R=b0(n,r,u,i),U=m||".",V=U+(y?"length":"size()"),$="".concat(R).concat(V),F=L?"".concat(R,".?[").concat(L,"]").concat(V):$,N=x?$:w;M=dA(n,r,o,F,N,b,k,E,S)}else M=L;return M},iie=function(e,r,n){var i=r.spelOp;if(i){var a=i.includes("${0}"),o=tie[n],s=i,l,u=Ur(r);return o?l=function(f,d,p,v,h,g,y,m){var _=sA.replace(/\${(\w+)}/g,function(b,S){return S==0?f:u>1?p[S-1]:p});return"".concat(_," ").concat(s," 0")}:a?l=function(f,d,p,v,h,g,y,m){return i.replace(/\${(\w+)}/g,function(_,b){return b==0?f:u>1?p[b-1]:p})}:u==0?l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s)}:u==1&&(l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s," ").concat(p)}),l}},dA=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=n.get("field"),f=jt(r,o,c)||{},d=Me(r,c)||{},p=n.get("operatorOptions"),v=f.spelFormatOp||iie(o,f,l);if(!v){e.errors.push("Operator ".concat(o," is not supported"));return}var h=[i,o,a,s,l,ai(f,su),p,d],g;return g=v.call.apply(v,[r.ctx].concat(h)),u&&(g=r.settings.spelFormatReverse.call(r.ctx,g)),g===void 0&&e.errors.push("Operator ".concat(o," is not supported for value source ").concat(s)),g},pA=function(e,r,n){if(r){var i=jt(e,r,n)||{},a=i.reversedOp,o=jt(e,a,n)||{},s=i.spelOp||i.spelFormatOp,l=o.spelOp||o.spelFormatOp;if(!(!s&&!l)){if(!s&&l){var u=[a,r];r=u[0],a=u[1];var c=[o,i];i=c[0],o=c[1]}return r}}},aie=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new lr,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator");if(!(o==null||l==null)){var u=pA(r,l,o);if(!u){n.errors.push("Operator ".concat(l," is not supported"));return}var c=u!=l,f=y0(r,a,n,u,i,null),d=ke(f,3),p=d[0],v=d[1],h=d[2];if(p!==void 0){var g=oie(n,r,o,s,i);if(g!==void 0){var y=dA(n,r,a,g,p,u,v,h,c);return y}}}},oie=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return i==="func"?hA(e,r,n,a):b0(e,r,n,a)},y0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s)||{},f=jt(e,i,s)||{},d=Ur(f),p=r.get("value"),v=r.get("asyncListValues"),h=[],g=[],y;if(p!=null){var m=p.map(function(b,S){var O=l?l.get(S):null,x=u?u.get(S):null,C=Es(b,O,e),A=vr(e,s,i,O),w=On(e,s,i,A,O,{forExport:!0}),k=wg(n,e,C,O,x,w,c,i,f,a,v);return k!==void 0&&(h.push(O),g.push(x)),k}),_=m.filter(function(b){return b===void 0}).size>0;m.size<d||_||(y=d>1?m.toArray():d==1?m.first():null)}return[y,h.length>1?h:h[0],g.length>1?g:g[0]]},wg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i==="field")d=b0(e,r,n,c);else if(i==="func")d=hA(e,r,n,c);else if(typeof(o==null?void 0:o.spelFormatValue)=="function"){var p=o.spelFormatValue,v=[n,ZS(ZS({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ai(o,ws)];if(l&&(v.push(l),v.push(u)),i=="field"){var h=Me(r,n)||{};v.push(h)}d=p.call.apply(p,[r.ctx].concat(v))}else d=Rl(n);return d}},b0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(n){var a=r.settings.fieldSeparator,o=Me(r,n)||{},s=Rr(n,r),l=CP(n,r,i),u=r.settings.formatSpelField,c=Ja(n,r,e,i),f=l.map(function(p){var v=ke(p,3),h=v[0],g=v[1],y=v[2],m;y&&(y.type=="!struct"||y.type=="!group"&&y.mode=="struct"?m=g.isSpelMap?"map":"class":y.type=="!group"?m=g.isSpelItemMap?"[map]":"[class]":m="class");var _=g==null?void 0:g.isSpelVariable;return{key:h,parent:m,isSpelVariable:_,fieldSeparator:a}}),d=u.call(r.ctx,c,i,s,f,o,r);return d}},hA=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Gr(r,s);if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}var c={},f=[],d=[];for(var p in u.args){var v,h,g=u.args[p],y=Me(r,g),m=g.defaultValue,_=g.isOptional,b=m!=null&&m.func?"func":"value",S=l?l.get(p):void 0,O=S?S.get("value"):void 0,x=S?S.get("valueSrc"):void 0;x!=="func"&&(v=O)!==null&&v!==void 0&&v.toJS&&(O=O.toJS());var C=S?S.get("asyncListValues"):void 0,A=(h=g.spelEscapeForFormat)!==null&&h!==void 0?h:!0,w=null,k=vr(r,g,w,x),E=On(r,g,w,k,x,{forExport:!0}),I=wg(e,r,O,x,g.type,E,y,null,null,o,C);if(O!=null&&I===void 0){x!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(s));return}var j=void 0;if(I===void 0&&!_&&m!=null){var L=vr(r,g,w,b),M=On(r,g,w,L,b,{forExport:!0});if(j=wg(e,r,m,b,g.type,M,y,null,null,o,C),j===void 0){b!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(s));return}}var R=I!=null?I:j;if(R!==void 0){var U;if(f.length){var V=JS(f),$;try{for(V.s();!($=V.n()).done;){var F=$.value;c[F]=void 0}}catch(Y){V.e(Y)}finally{V.f()}f=[]}c[p]=A?R:(U=O)!==null&&U!==void 0?U:m}else _||d.push(p),f.push(p)}if(!d.length){var N;if(typeof u.spelFormatFunc=="function"){var B=u.spelFormatFunc,z=[c];N=B.call.apply(B,[r.ctx].concat(z))}else if(u.spelFunc){N=u.spelFunc.replace(/\${(\w+)}/g,function(Y,K){var ie;return(ie=c[K])!==null&&ie!==void 0?ie:Y});var H=Object.keys(u.args||{}).reverse().filter(function(Y){return!!u.args[Y].isOptional}),D=JS(H),G;try{for(D.s();!(G=D.n()).done;){var q=G.value;if(c[q]!=null)break;N=N.replace(new RegExp("(, )?\\${"+q+"}","g"),"")}}catch(Y){D.e(Y)}finally{D.f()}N=N.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(s," is not supported"));return N}};function ga(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function sie(t,e){if(t){if(typeof t=="string")return eO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rO={number:"number",string:"text",boolean:"boolean",null:"null"},nO={String:"text"},lie="multiselect",uie=function(e){return["length"].includes(e)},vA=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},cie=function(e,r){return gA(e,r,!0)},gA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=pie(a),s,l,u=void 0;try{var c=Wne.SpelExpressionEvaluator.compile(e);s=c._compiledExpression}catch(d){i.errors.push(d)}s&&(l=fie(s,i),Eo.debug("convertedObj:",l,i),u=Sc(l,o,a,i),u&&u.type!="group"&&u.type!="switch_group"&&(u=ef(u,a,l.not)),Eo.debug("jsTree:",u));var f=u?m0(u):void 0;return n?[f,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),f)},fie=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.getType(),a=e.getChildren().map(function(E){return t(E,r,e)});if((i=="op-or"||i=="op-and")&&(a=a.reduce(function(E,I){var j=I.type==i&&!I.not,L=j?I.children:[I];return[].concat(Ce(E),Ce(L))},[])),i=="op-not")return a.length!=1&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),xr(xr({},a[0]),{},{not:!a[0].not});if(i=="compound"){a=a.filter(function(E){var I=E.type=="selection"&&E.children.length==1&&E.children[0].type=="boolean"&&E.children[0].val==!0;return!I});var o=a.find(function(E){return E.type=="selection"});o&&o.children.length!=1&&r.errors.push("Selection should have 1 child, but got ".concat(o.children.length));var s=o?o.children[0]:null,l=a[a.length-1],u=l.type=="method"&&l.val.methodName=="size"||l.type=="!func"&&l.methodName=="size",c=l.type=="property"&&l.val=="length",f=a.filter(function(E){return E!==o&&E!==l}),d={type:"compound",children:f},p=(u||c)&&mA(f)!=null;if(p)return{type:"!aggr",filter:s,source:d};if(a=a.filter(function(E){var I=E.type=="variable"&&E.val=="this",j=E.type=="variable"&&E.val=="root";return!(I||j)}),a=a.map(function(E){return E.type=="indexer"&&E.children.length==1?{type:"indexer",val:E.children[0].val,itype:E.children[0].type}:E}),l.type=="!func"){var v={},h=v;do{var g,y;Object.assign(h,l),a=a.filter(function(E){return E!==l}),l=a[a.length-1],((y=l)===null||y===void 0?void 0:y.type)=="!func"?(h.obj={},h=h.obj):a.length>1?h.obj={type:"compound",children:a}:h.obj=l}while(((g=l)===null||g===void 0?void 0:g.type)=="!func");return v}}var m;try{e.getRaw?m=e.getRaw():e.getValue.length==0&&(m=e.getValue())}catch(E){Eo.error("[spel2js] Error in getValue()",E)}if(i=="ternary"&&(m=die(a)),xt(m)==="object"&&m!==null&&(m.methodName||m.functionName)&&(m.args=m.args.map(function(E){return t(E,r,e)})),i=="list"&&(m=m.map(function(E){return t(E,r,e)}),!n&&m.length==1))return m[0];if(i=="constructorref"){var _=a.find(function(E){return E.type=="qualifiedidentifier"}),b=_==null?void 0:_.val;if(!b){r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)));return}var S=a.filter(function(E){return E.type!="qualifiedidentifier"});return{type:"!new",cls:b,args:S}}if(i=="typeref"){var O=a.find(function(E){return E.type=="qualifiedidentifier"}),x=O==null?void 0:O.val;if(!x){r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)));return}return a.filter(function(E){return E.type!="qualifiedidentifier"}),{type:"!type",cls:x}}if(i=="function"||i=="method"){var C=m,A=C.functionName,w=C.methodName,k=C.args;return{type:"!func",methodName:A||w,isVar:i=="function",args:k}}return{type:i,children:a,val:m}},die=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]),(l==null?void 0:l.type)=="ternary"?n(l.children):r.push([void 0,l])}return n(e),r},pie=function(e){var r={},n=function(j){var L=e.operators[j];if(L.spelOps)L.spelOps.forEach(function(R){var U=R;r[U]||(r[U]=[]),r[U].push(j)});else if(L.spelOp){var M=L.spelOp;r[M]||(r[M]=[]),r[M].push(j)}else Eo.log("[spel] No spelOp for operator ".concat(j))};for(var i in e.operators)n(i);var a={};for(var o in e.conjunctions){var s=e.conjunctions[o],l=s.spelConj||o.toLowerCase();a[l]=o}var u={},c=ga(pu(e)),f;try{var d=function(){var j=ke(f.value,2),L=j[0],M=j[1],R=[],U=M.spelFunc;if(typeof U=="string"){var V=Object.keys(M.args||{}).reverse().filter(function(H){return!!M.args[H].isOptional||M.args[H].defaultValue!=null}),$=U.replace(/\${(\w+)}/g,function(H,D){return"?"}),F=V.reduce(function(H,D){return[].concat(Ce(H),[[D].concat(Ce(H[H.length-1]||[]))])},[]).map(function(H){return U.replace(/(?:, )?\${(\w+)}/g,function(D,G){return H.includes(G)?"":D}).replace(/\${(\w+)}/g,function(D,G){return"?"})});R=[$].concat(Ce(F))}var N=ga(R),B;try{for(N.s();!(B=N.n()).done;){var z=B.value;u[z]||(u[z]=[]),u[z].push(L)}}catch(H){N.e(H)}finally{N.f()}};for(c.s();!(f=c.n()).done;)d()}catch(I){c.e(I)}finally{c.f()}var p={};for(var v in e.widgets){var h=e.widgets[v],g=h.spelImportFuncs;if(h.type,g){var y=ga(g),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;if(typeof _=="string"){var b=_.replace(/\${(\w+)}/g,function(I,j){return"?"}),S=Ce(_.matchAll(/\${(\w+)}/g)).map(function(I){var j=ke(I,2),L=j[0],M=j[1];return M});p[b]||(p[b]=[]),p[b].push({w:v,argsOrder:S})}}}catch(I){y.e(I)}finally{y.f()}}}var O={};for(var x in e.operators){var C=e.operators[x],A=C.spelOp;if(A!=null&&A.includes("${0}")){var w=A.replace(/\${(\w+)}/g,function(I,j){return"?"}),k=Ce(A.matchAll(/\${(\w+)}/g)).map(function(I){var j=ke(I,2);j[0];var L=j[1];return L});O[w]||(O[w]=[]),O[w].push({op:x,argsOrder:k})}}var E=sA.replace(/\${(\w+)}/g,function(I,j){return"?"});return O[E]=[{op:"!compare",argsOrder:["0","1"]}],{operators:r,conjunctions:a,funcs:u,valueFuncs:p,opFuncs:O}},Sc=function t(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){e._groupField=(a=e._groupField)!==null&&a!==void 0?a:o==null?void 0:o._groupField;var s,l=!0;if(e.type.indexOf("op-")===0||e.type==="matches")s=hie(e,r,n,i,o);else if(e.type=="!aggr"){var u,c=t(e.source,r,n,i,e);e._groupField=c==null?void 0:c.value;var f=t(e.filter,r,n,i,e);((u=f)===null||u===void 0?void 0:u.type)=="rule"&&(f=ef(f,n,e.filter.not)),s={groupFilter:f,groupFieldValue:c},o||(s=void 0,i.errors.push("Unexpected !aggr in root"),l=!1)}else if(e.type=="ternary"){var d={};e.val.forEach(function(v){var h=ke(v,2),g=h[0],y=h[1],m=bA(g,y,r,n,i,e);m&&(d[m.id]=m)}),s={type:"switch_group",id:Ft(),children1:d,properties:{}}}if(!s&&l&&(s=Oc(e,r,n,i,o)),s&&!s.type&&!o){var p=yA(e,r,n,i);p?s=p:(s=void 0,i.errors.push("Can't convert rule of type ".concat(e.type,", it looks like var/literal")))}return s}},hie=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o,s=e.type.startsWith("op-")?e.type.slice(3):e.type,l=(s=="minus"||s=="plus")&&e.children.length==1;if(l){var u=e.negative;return s=="minus"&&(u=!u),e.children[0].negative=u,Sc(e.children[0],r,n,i,a)}var c=s=="and"&&e.children.length==2&&e.children[0].type=="op-ge"&&e.children[1].type=="op-le",f=s=="or"&&e.children.length==2&&e.children[0].type=="op-lt"&&e.children[1].type=="op-gt",d=c||f;if(d){var p=ke(e.children[0].children,2),v=p[0],h=p[1],g=ke(e.children[1].children,2),y=g[0],m=g[1],_=Sie(v,y,e,r,n,i);if(_){h.val,m.val;var b={type:"op-between",children:[v,h,m],not:f};return b._groupField=a==null?void 0:a._groupField,t(b,r,n,i,a)}}var S=r.operators[s];s=="eq"&&e.children[1].type=="null"?S=["is_null"]:s=="ne"&&e.children[1].type=="null"?S=["is_not_null"]:s=="le"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_empty"]:s=="gt"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_not_empty"]:s=="between"&&(S=["between"]);var O=function(){var oe,ue=e.children.map(function(fe){return Sc(fe,r,n,i,e)});return ue.length>=2&&((oe=ue)===null||oe===void 0||(oe=oe[0])===null||oe===void 0?void 0:oe.type)=="!compare"&&(ue=ue[0].children),ue};if(s=="and"||s=="or"){var x={},C=O();C.forEach(function(te){if(te){var oe=Ft();te.id=oe,te.type!=null?x[oe]=te:i.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(te)))}}),o={type:"group",id:Ft(),children1:x,properties:{conjunction:r.conjunctions[s],not:e.not}}}else if(S){var A,w,k,E=O(),I=E[0],j=E.slice(1),L=I==null||(A=I.groupFieldValue)===null||A===void 0?void 0:A.value,M=(w=j)===null||w===void 0?void 0:w[0],R=S[0];if(S.length>1){var U,V,$=((U=E[0])===null||U===void 0?void 0:U.valueType)||((V=E[1])===null||V===void 0?void 0:V.valueType),F=I==null?void 0:I.value,N=S.map(function(te){return{op:te,widget:vr(n,F,te)}});if(Eo.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(S,"."),"widgets:",N,"vals:",E,"valueType=",$),s=="eq"||s=="ne"){var B=N.find(function(te){te.op;var oe=te.widget;return oe&&oe!="field"});B&&(R=B.op)}}I!=null&&I.groupFieldValue&&(M&&M.groupFieldValue&&M.groupFieldValue.valueSrc=="field"&&M.groupFieldValue.value==L?(R="all",j=[]):R=="equal"&&M.valueSrc=="value"&&M.valueType=="number"&&M.value==0?(R="none",j=[]):R=="greater"&&M.valueSrc=="value"&&M.valueType=="number"&&M.value==0&&(R="some",j=[]));var z=n.operators[R],H=n.operators[(k=z)===null||k===void 0?void 0:k.reversedOp],D=e.not&&["between"].includes(R),G=!!H,q=G&&(!!n.settings.reverseOperatorsForNot||D),Y=e.not&&q||D;Y&&(R=z.reversedOp,z=n.operators[R],e.not=!e.not);var K=!!e.not;if(e.not=!1,I)if(I.groupFieldValue)I.groupFieldValue.valueSrc!="field"&&i.errors.push("Expected group field ".concat(JSON.stringify(I))),o=_ie(I,R,j,n,i);else{I.valueSrc!="field"&&I.valueSrc!="func"&&i.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(I)));var ie=I.value;o=_0(n,i,ie,R,j,e)}K&&(o.type!=="group"?o=ef(o,n,!0):o.properties.not=!o.properties.not)}else a||(o=yA(e,r,n,i));return o},mA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=e.map(function(o){if(o.type=="variable"||o.type=="property"||o.type=="indexer"&&o.itype=="string")return o.val;var s,l;i=!0,n&&(r==null||(s=r.errors)===null||s===void 0||(l=s.push)===null||l===void 0||l.call(s,"Unexpected item in field path compound: ".concat(JSON.stringify(o))))});return i?void 0:a},Oc=function t(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e!=null){var l=n.settings.fieldSeparator;if(e._groupField=(a=e._groupField)!==null&&a!==void 0?a:s==null?void 0:s._groupField,e.type=="variable"||e.type=="property"){var u=Xd(n,e.val,e._groupField),c=Me(n,u),f=e.type=="variable";return{valueSrc:"field",valueType:c==null?void 0:c.type,isVariable:f,value:u}}else if(e.type=="compound"){var d=mA(e.children,i);if(d){var p,v=Xd(n,d.join(l),e._groupField),h=Me(n,v),g=((p=e.children)===null||p===void 0||(p=p[0])===null||p===void 0?void 0:p.type)=="variable";return{valueSrc:"field",valueType:h==null?void 0:h.type,isVariable:g,value:v}}}else if(rO[e.type]){var y=e.val,m=rO[e.type];return e.negative&&(y=-y),{valueSrc:"value",valueType:m,value:y}}else if(e.type=="!new"&&nO[e.cls.at(-1)]){var _=e.args.map(function(k){return t(k,r,n,i,e)}),b=_==null?void 0:_[0],S=nO[e.cls.at(-1)];return xr(xr({},b),{},{valueType:S})}else if(e.type=="list"){var O,x=e.val.map(function(k){return t(k,r,n,i,e)});x.length&&((O=x[0])===null||O===void 0||O.valueType);var C=x.map(function(k){return k==null?void 0:k.value}),A=lie;return{valueSrc:"value",valueType:A,value:C}}else if(e.type==="op-plus"&&(s==null?void 0:s.type)==="ternary"&&((o=n.settings.caseValueField)===null||o===void 0?void 0:o.type)==="case_value")return _A(e,r,n,i);var w=mie(e,r,n,i,s);if(w!==void 0)return w;i.errors.push("Can't convert arg of type ".concat(e.type))}},vie=function(e){var r=[{s:"",params:[],objs:[]}];return gie(e,r),r.map(function(n){var i=n.s,a=n.params;return{s:i,params:a}}).reverse().filter(function(n){var i=n.s;return i!==""&&i!=="?"})},gie=function t(e,r){var n=[],i="",a=e.type,o=e.methodName;e.val;var s=e.obj,l=e.args,u=e.isVar,c=e.cls,f=e.children,d=f==null?void 0:f[f.length-1],p=r[r.length-1];if(a==="!func"){for(var v=s;v;){var h,g=t(xr(xr({},v),{},{obj:null}),[{}]),y=ke(g,2),m=y[0],_=y[1];if(m!=="?"){var b={s:p.s,params:Ce(p.params),objs:Ce(p.objs)};p.objs.unshift("?"),p.params.unshift(v),r.push(b),p=r[r.length-1]}p.objs.unshift(m),(h=p.params).unshift.apply(h,Ce(_)),v=v.type==="!func"?v.obj:null}var S=ga(r),O;try{for(S.s();!(O=S.n()).done;){var x,C=O.value;n=[].concat(Ce((C==null?void 0:C.params)||[]),Ce(l||[])),i="",C!=null&&(x=C.objs)!==null&&x!==void 0&&x.length&&(i+=C.objs.join(".")+"."),i+=(u?"#":"")+o,i+="("+(l||[]).map(function(A){return"?"}).join(", ")+")",C.s=i,C.params=n}}catch(A){S.e(A)}finally{S.f()}}else a==="!new"?(n=l||[],i="new ".concat(c.join("."),"(").concat(n.map(function(A){return"?"}).join(", "),")")):a==="!type"?i="T(".concat(c.join("."),")"):a==="compound"&&d.type==="property"&&uie(d.val)?i=f.map(function(A){var w;if(A===d)return A.val;var k=t(xr(xr({},A),{},{obj:null}),[{}]),E=ke(k,2),I=E[0],j=E[1];return(w=n).push.apply(w,Ce(j)),I}).join("."):(n=[e],i="?");return p&&(p.s=i,p.params=n),[i,n]},mie=function(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=function(M){return Sc(M,r,n,i,e)},l=vie(e),u=l==null||(a=l[0])===null||a===void 0?void 0:a.s;l.length&&Eo.debug("Signatures for ",e,":",u,l);var c=yie(e,r,n,i,o,l,s);if(c!==void 0)return c;var f=bie(e,r,n,i,o,l,s);if(f!==void 0)return f;var d,p,v,h=ga(l),g;try{var y=function(){var M=g.value,R=M.s,U=M.params,V=r.funcs[R];if(V){d=V[0],p=Gr(n,d);var $=p,F=$.spelFunc,N=U.map(s),B=Ce(F.matchAll(/\${(\w+)}/g)).map(function(z){var H=ke(z,2),D=H[0],G=H[1];return G});return v=Object.fromEntries(B.map(function(z,H){return[z,N[H]]})),1}};for(h.s();!(g=h.n()).done&&!y(););}catch(L){h.e(L)}finally{h.f()}if(!d){var m=ga(pu(n)),_;try{for(m.s();!(_=m.n()).done;){var b=ke(_.value,2),S=b[0],O=b[1];if(O.spelImport){var x=void 0;try{x=O.spelImport(e)}catch(L){}if(x){d=S,p=Gr(n,d),v={};for(var C in x)v[C]=s(x[C])}}}}catch(L){m.e(L)}finally{m.f()}}if(d){var A={};for(var w in p.args){var k=p.args[w],E=v[w];if(E===void 0)if(E=k==null?void 0:k.defaultValue,E===void 0){if(!(k!=null&&k.isOptional)){i.errors.push("No value for arg ".concat(w," of func ").concat(d));return}}else{var I;E={value:E,valueSrc:(I=E)!==null&&I!==void 0&&I.func?"func":"value",valueType:k.type}}E&&(A[w]=E)}return{valueSrc:"func",value:{func:d,args:A},valueType:p.returnType}}var j=e.methodName;j&&i.errors.push("Signature ".concat(u," - failed to convert"))},yie=function(e,r,n,i,a,o,s){var l,u,c,f=[];for(var d in n.widgets){var p=n.widgets[d],v=p.spelImportFuncs;if(v)for(var h=0;h<v.length;h++){var g=v[h];if(vA(g)){var y={};if(dI(g,e,y)){for(var m in y)y[m]=s(y[m]);f.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(h,"]"),w:d,argsObj:y})}}}}var _=ga(o),b;try{for(_.s();!(b=_.n()).done;){var S=b.value,O=S.s,x=S.params,C=r.valueFuncs[O]||[],A=ga(C),w;try{var k=function(){var D=w.value,G=D.w,q=D.argsOrder,Y=x.map(s),K=Object.fromEntries(q.map(function(ie,te){return[ie,Y[te]]}));f.push({s:O,w:G,argsObj:K})};for(A.s();!(w=A.n()).done;)k()}catch(H){A.e(H)}finally{A.f()}}}catch(H){_.e(H)}finally{_.f()}for(var E=0,I=f;E<I.length;E++){var j=I[E],L=j.s,M=j.w,R=j.argsObj,U=n.widgets[M],V=U.spelImportValue,$=U.type;c=M,u=L,l=[];for(var F in R)["value"].includes(R[F].valueSrc)||l.push("".concat(F," has unsupported value src ").concat(R[F].valueSrc));var N=R.v.value;if(V&&!l.length){var B=V.call(n.ctx,R.v,U,R),z=ke(B,2);N=z[0],l=z[1],l&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:$,value:N}}c&&l.length&&i.errors.push("Signature ".concat(u," - looks like convertable to ").concat(c,", but: ").concat(l.join("; ")))},bie=function(e,r,n,i,a,o,s){var l,u,c,f=ga(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,v=p.s,h=p.params,g=r.opFuncs[v]||[],y=ga(g),m;try{var _=function(){var O,x=m.value,C=x.op,A=x.argsOrder,w=h.map(s);if(u=C,C==="!compare"){if(a.type.startsWith("op-")&&a.children.length==2&&a.children[1].type=="number"&&a.children[1].val===0)return{v:{type:"!compare",children:w}};l.push("Result of compareTo() should be compared to 0")}c=v,l=[];var k=n.operators[u],E=k.spelOp,I=k.valueTypes,j=Object.fromEntries(A.map(function(U,V){return[U,w[V]]})),L=j[0],M=Object.keys(j).filter(function(U){return parseInt(U)>0}).map(function(U){return j[U]}),R=(O=w.filter(function(U){return!!U}).find(function(U){var V=U.valueSrc;return V==="value"}))===null||O===void 0?void 0:O.valueType;if(I&&R&&!I.includes(R)&&l.push("Op supports types ".concat(I,", but got ").concat(R)),!l.length)return{v:_0(n,i,L,u,M,e)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(S){y.e(S)}finally{y.f()}}}catch(S){f.e(S)}finally{f.f()}u&&l.length&&i.errors.push("Signature ".concat(c," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},_0=function(e,r,n,i,a,o){var s,l;if(!a.filter(function(w){return w===void 0}).length){var u=(s=n)!==null&&s!==void 0&&s.func?"func":"field";vA(n)&&n.valueSrc&&(u=n.valueSrc,n=n.value);var c=Me(e,n);if(!c){r.errors.push("No config for field ".concat(n));return}var f=Me(e,o==null?void 0:o._groupField),d=c.type=="!group";d&&c.mode=="array";var p=(f==null?void 0:f.type)=="!group",v=e.operators[i],h=e.operators[(l=v)===null||l===void 0?void 0:l.reversedOp],g=(o==null?void 0:o.not)&&["between"].includes(i),y=!!h,m=y&&(!!e.settings.reverseOperatorsForNot||g||!d&&p),_=(o==null?void 0:o.not)&&m||g;_&&(i=v.reversedOp,v=e.operators[i],o.not=!o.not);var b=!!(o!=null&&o.not),S=vr(e,n,i),O=e.widgets[S||c.mainWidget],x=a.map(function(w){return w.asyncListValues}).filter(function(w){return w!=null}),C=x.length?x[0]:void 0,A={type:"rule",id:Ft(),properties:xr({field:n,fieldSrc:u,operator:i,value:a.map(function(w){return w.value}),valueSrc:a.map(function(w){return w.valueSrc}),valueType:a.map(function(w){return w.valueSrc=="value"&&((O==null?void 0:O.type)||(c==null?void 0:c.type))||w.valueType})},C?{asyncListValues:C}:{})};return b&&(A=ef(A,e,o.not)),A}},_ie=function(e,r,n,i,a){var o=e.groupFilter,s=e.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var l=s.value,u=_0(i,a,l,r,n);if(u){var c=Me(i,l),f=c==null?void 0:c.mode,d;return(o==null?void 0:o.type)==="group"?d=xr(xr({},o||{}),{},{type:"rule_group",properties:xr(xr(xr({},u.properties),(o==null?void 0:o.properties)||{}),{},{mode:f})}):o?d=xr(xr({},u||{}),{},{type:"rule_group",children1:[o],properties:xr(xr({},u.properties),{},{mode:f})}):d=xr(xr({},u||{}),{},{type:"rule_group",properties:xr(xr({},u.properties),{},{mode:f})}),d.id||(d.id=Ft()),d}},Sie=function(e,r,n,i,a,o){if(e.type==r.type)if(e.type=="!aggr"){var s=[e.source,r.source].map(function(h){return Oc(h,i,a,o,n)}),l=ke(s,2),u=l[0],c=l[1];return u.value==c.value}else{var f=[e,r].map(function(h){return Oc(h,i,a,o,n)}),d=ke(f,2),p=d[0],v=d[1];return p.value==v.value}return!1},yA=function(e,r,n,i){var a={},o=null,s=bA(o,e,r,n,i);s&&(a[s.id]=s);var l={type:"switch_group",id:Ft(),children1:a,properties:{}};return l},bA=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=Oie(i,a,n,r,o),l;return e?(l=Sc(e,n,i,a,o),l&&l.type?(l.type!="group"&&(l=ef(l,i)),l.type="case_group"):(a.errors.push("Unexpected case: ".concat(JSON.stringify(l))),l=void 0)):l={id:Ft(),type:"case_group",properties:{}},l&&(l.properties=xr(xr({},l.properties),s)),l},_A=function(e,r,n,i){var a=[];function o(s){s.map(function(l){if(l.type==="op-plus")o(l.children);else{var u=Oc(l,r,n,i,e);u?a.push(u):i.errors.push("Can't convert ".concat(l.type," in concatenation"))}})}return o(e.children),{valueSrc:"value",valueType:"case_value",value:a}},Oie=function(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l={},u,c,f,d=Me(e,"!case_value");if((i==null?void 0:i.type)==="op-plus"&&((a=e.settings.caseValueField)===null||a===void 0?void 0:a.type)==="case_value")c="case_value",u=_A(i,n,e,r);else if(c=d==null?void 0:d.mainWidget,f=e.widgets[c],u=Oc(i,n,e,r,s),u&&u.valueSrc==="value"){var p;u.valueType=((p=f)===null||p===void 0?void 0:p.type)||(d==null?void 0:d.type)||u.valueType}var v=e.widgets[c];if(c==="case_value"){var h=v==null?void 0:v.spelImportValue;if(h){var g=h.call(e.ctx,u),y=ke(g,2),m=y[0],_=y[1];if(_.map(function(S){return r.errors.push(S)}),m!=null){var b;l={value:[m],valueSrc:["value"],valueType:[(b=v==null?void 0:v.type)!==null&&b!==void 0?b:"case_value"],field:"!case_value"}}}}else u!=null&&((o=u)===null||o===void 0?void 0:o.value)!=null&&(l={value:[u.value],valueSrc:[u.valueSrc],valueType:[u.valueType],field:"!case_value"});return l},ef=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Ft(),children1:le({},e.id,e),properties:{conjunction:ka(r),not:n||!1}}};const iO=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:JI,_loadFromSpel:gA,getTree:Ene,isImmutableTree:zI,isJsonLogic:Pn,isTree:UI,jsToImmutable:_c,loadFromJsonLogic:Pne,loadFromSpel:cie,loadTree:m0},Symbol.toStringTag,{value:"Module"}));function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var SA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.settings.defaultField,a=(n?OA(e,n):i)||r&&tj(e,n)||null;return a!=null&&typeof a!="string"&&!lu(a)&&(a=_c(a)),a},OA=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n)return null;var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".",a=Me(e,n),o=a==null?void 0:a.defaultField;return o&&(o=[].concat(Ce(Rr(n)),[o]).join(i)),o},Eg=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n&&((r=e.settings.fieldSources)===null||r===void 0?void 0:r[0])||"field"},S0=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Me(e,r),a=(i==null?void 0:i.operators)||[],o=e.settings.defaultOperator;o&&!a.includes(o)&&(o=null);var s=i==null?void 0:i.defaultOperator,l=i==null?void 0:i.ownDefaultOperator,u=n?w0(e,r):null,c=l||o||s||u;return c},tf=function(e,r,n){var i=r?jt(e,r,n):null;return i&&i.options?new Ue.Map(i.options&&i.options.defaults||{}):null},Ta=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=null,s=null,l=null,u=e.settings.showErrorMessage;if(n){var c,f,d;l=n==null||(c=n.properties)===null||c===void 0?void 0:c.fieldSrc,o=n==null||(f=n.properties)===null||f===void 0?void 0:f.field,s=n==null||(d=n.properties)===null||d===void 0?void 0:d.operator}else i?(o=SA(e,a,r),o?l=lu(o)?"func":"field":l=Eg(e),s=S0(e,o,!0)):l=Eg(e);var p=new Ue.Map({fieldSrc:l,field:o,operator:s,value:new Ue.List,valueSrc:new Ue.List,operatorOptions:tf(e,s,o)});if(u&&(p=p.set("valueError",new Ue.List)),o&&s){var v=!1,h=ns(e,e,p,o,s,"operator",v),g=h.newValue,y=h.newValueSrc,m=h.newValueType,_=h.newValueError,b=h.newFieldError;p=p.set("value",g).set("valueSrc",y).set("valueType",m),u&&(p=p.set("valueError",_).set("fieldError",b))}return p},xc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r=Me(e,r);var n=r&&r.conjunctions||Object.keys(e.conjunctions);return n.length==1?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},ka=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},Ro=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Ue.Map({conjunction:xc(e,r),not:!1})},xA=function(e,r){var n;return r&&r.type=="group"?Ro(e,r==null||(n=r.properties)===null||n===void 0?void 0:n.field):Ta(e,null,r)},wA=function(e,r){return le({},e,new Ue.Map({type:"rule",id:e,properties:Ta(r)}))},wie=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Ue.Map({type:"group",id:Ft(),children1:new Ue.OrderedMap(r?xie({},wA(Ft(),e)):{}),properties:Ro(e)})},Eie=function(e){return Qp(e)?e:EA([e])},EA=function(e){return Qp(e)?e:new Ue.List(e)},Cie=function(){return new Ue.Map};const Tie=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:EA,createListWithOneElement:Eie,defaultConjunction:ka,defaultGroupConjunction:xc,defaultGroupProperties:Ro,defaultItemProperties:xA,defaultOperatorOptions:tf,defaultRoot:wie,defaultRule:wA,defaultRuleProperties:Ta,emptyProperties:Cie,getDefaultField:SA,getDefaultFieldSrc:Eg,getDefaultOperator:S0,getDefaultSubField:OA},Symbol.toStringTag,{value:"Module"}));function oO(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=kie(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function kie(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var CA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a={errors:[],settings:{isForDisplay:n,isDebugMode:i}},o=oi(r,void 0,!1),s=TA(e,o,a,null);return a.errors.length&&console.warn("Errors while exporting to string:",a.errors),s},TA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(e.get("children1"),a==="group"||a==="rule_group")return Iie(e,r,n,i);if(a==="rule")return kA(e,r,n,i)}},Iie=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=n.settings,l=s.isForDisplay,u=s.isDebugMode,c=e.get("type"),f=e.get("properties")||new lr,d=f.get("mode"),p=e.get("children1")||new Zi,v=c==="rule_group",h=v&&d=="array"?f.get("field"):null,g=c==="rule_group"?f.get("operator"):null,y=g?(i=(a=r.operators[g])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1:void 0,m=v&&d==="array"&&y>=1,_=f.get("not"),b=p.map(function(I){return TA(I,r,n,h)}).filter(function(I){return typeof I<"u"});if(!(!m&&!b.size&&!u)){var S=f.get("conjunction");S||(S=ka(r));var O=r.conjunctions[S],x=b.size?O.formatConj.call(r.ctx,b,S,_,l):null,C;if(h){var A=kA(e,r,n,o,!0);if(A){var w,k=A.pop(),E=[x].concat(Ce(A));C=(w=r.settings.formatAggr).call.apply(w,[r.ctx].concat(Ce(E))),k&&(C=r.settings.formatReverse.call(r.ctx,C,null,null,null,null,l))}}else C=x;return u&&C==null&&(C="?"),C}},Aie=function(e,r,n,i,a){var o=n.settings;o.isForDisplay;var s=o.isDebugMode,l=r.get("field"),u=r.get("valueSrc"),c=r.get("valueType"),f=Me(e,l)||{},d=i||r.get("operator"),p=jt(e,d,l)||{},v=Ur(p),h=r.get("value"),g=r.get("asyncListValues"),y=[],m=[],_,b;if(h!=null){b=h.map(function(x,C){var A=u?u.get(C):null,w=c?c.get(C):null,k=s?x:Es(x,A,e),E=vr(e,l,d,A),I=On(e,l,d,E,A,{forExport:!0}),j=Cg(e,n,k,A,w,I,f,d,p,a,g);return j!==void 0&&(y.push(A),m.push(w)),j});var S=b.filter(function(x){return x===void 0}).size>0,O=!S&&b.size===v;O&&(_=v==1?b.first():b)}return s&&!_&&(_=v>1?new Zi(Array.from({length:v}).map(function(x,C){var A,w;return(A=(w=b)===null||w===void 0?void 0:w.get(C))!==null&&A!==void 0?A:"?"})):"?"),[_,y.length>1?y:y[0],m.length>1?m:m[0]]},Pie=function(e,r,n){var i=n.settings.isDebugMode,a=(r==null?void 0:r.labelForFormat)||e,o=Ur(r),s;return o==0?s=function(u,c,f,d,p,v,h,g){return"".concat(u," ").concat(a)}:o==1?s=function(u,c,f,d,p,v,h,g){return i&&c==="?"&&f==="?"?u&&u!=="?"?"".concat(u," ?"):"?":"".concat(u," ").concat(a," ").concat(f)}:o==2&&(s=function(u,c,f,d,p,v,h,g){var y,m,_=f==null||(y=f.first)===null||y===void 0?void 0:y.call(f),b=f==null||(m=f.get)===null||m===void 0?void 0:m.call(f,1);return"".concat(u," ").concat(a," ").concat(_," AND ").concat(b)}),s},kA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=n.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.get("properties")||new lr,c=u.get("field"),f=u.get("fieldSrc"),d=u.get("operator"),p=u.get("operatorOptions");if(!((c==null||d==null)&&!l)){var v=Me(r,c)||{},h=jt(r,d,c)||{},g=h.reversedOp,y=jt(r,g,c)||{},m=!1,_=h.formatOp;if(!_&&g&&(_=y.formatOp,_)){m=!0;var b=[g,d];d=b[0],g=b[1];var S=[y,h];h=S[0],y=S[1]}if(l&&!d&&(d="?"),_||(_=Pie(d,h,n)),!!_){var O=f==="func"?AA(r,n,c,i):IA(r,n,c,i);if(O!=null){var x=Aie(r,u,n,d,i),C=ke(x,3),A=C[0],w=C[1],k=C[2];if(A!==void 0){var E=[O,d,A,w,k,ai(h,su),p,s,v,m];if(a)return E;var I,j=(I=_).call.apply(I,[r.ctx].concat(E));return m&&(j=r.settings.formatReverse.call(r.ctx,j,d,g,h,y,s)),j}}}}},Cg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0,d=r.settings,p=d.isForDisplay,v=d.isDebugMode;if(n===void 0)return v?(o==null?void 0:o.jsType)==="array"?[]:"?":void 0;var h;if(i=="field")h=IA(e,r,n,c);else if(i=="func")h=AA(e,r,n,c);else if(typeof(o==null?void 0:o.formatValue)=="function"){var g=o.formatValue,y=[n,uO(uO({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ai(o,ws),p];if(l&&(y.push(l),y.push(u)),i=="field"){var m=Me(e,n)||{};y.push(m)}h=g.call.apply(g,[e.ctx].concat(y))}else h=n;return h},IA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=r.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.settings;u.fieldSeparator;var c=u.fieldSeparatorDisplay,f=null;if(n){var d=Me(e,n)||{},p=Rr(n,e),v=nf(n,e,a?i:null),h=v?v.join(c):null,g=d.label2||h,y=e.settings.formatField,m=Ja(n,e,r,a?i:null,{useTableName:!0});f=y(m,p,g,d,e,s)}else l&&(f="?");return f},AA=function(e,r,n){var i,a,o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=r.settings,u=l.isForDisplay,c=l.isDebugMode,f=n==null||(i=n.get)===null||i===void 0?void 0:i.call(n,"func");if(!f)return c?"?()":void 0;var d=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),p=Gr(e,f);if(!p&&!c){r.errors.push("Func ".concat(f," is not defined in config"));return}var v=Rr(f,e),h=v[v.length-1],g=u&&(p==null?void 0:p.label)||h,y={},m=[],_=[],b={},S=p?Object.keys(p.args||{}):(d==null||(o=d.keySeq)===null||o===void 0?void 0:o.call(d).toArray())||[],O=oO(S),x;try{for(O.s();!(x=O.n()).done;){var C,A=x.value,w=p==null?void 0:p.args[A],k=Me(e,w),E=w||{},I=E.defaultValue,j=E.isOptional,L=I!=null&&I.func?"func":"value",M=u&&(w==null?void 0:w.label)||A,R=d?d.get(A):void 0,U=R?R.get("value"):void 0,V=R?R.get("valueSrc"):void 0;V!=="func"&&(C=U)!==null&&C!==void 0&&C.toJS&&(U=U.toJS());var $=R?R.get("asyncListValues"):void 0,F=Cg(e,r,U,V,w==null?void 0:w.type,k,w,null,null,s,$);U!=null&&F===void 0&&V!="func"&&r.errors.push("Can't format value of arg ".concat(A," for func ").concat(f));var N=void 0;if(F===void 0&&!j&&I!=null&&(N=Cg(e,r,I,L,w==null?void 0:w.type,k,w,null,null,s,$),N===void 0)){L!="func"&&r.errors.push("Can't format default value of arg ".concat(A," for func ").concat(f));return}var B=F!=null?F:N;if(B!==void 0){if(m.length){var z=oO(A),H;try{for(z.s();!(H=z.n()).done;){var D=ke(H.value,2),G=D[0],q=D[1];y[G]=void 0}}catch(oe){z.e(oe)}finally{z.f()}m=[]}y[A]=B,b[M]=B}else j||_.push(A),m.push([A,M])}}catch(oe){O.e(oe)}finally{O.f()}if(!(_.length&&!c)){var Y=null;if(typeof(p==null?void 0:p.formatFunc)=="function"){var K=p.formatFunc,ie=[y,u];Y=K.call.apply(K,[e.ctx].concat(ie))}else{var te=Object.entries(u?b:y).map(function(oe){var ue=ke(oe,2),fe=ue[0],pe=ue[1];return u?"".concat(fe,": ").concat(pe):"".concat(pe)}).join(", ");Y="".concat(g,"(").concat(te,")")}return Y}},PA="EMPTY_GROUP",jA="EMPTY_RULE_GROUP",LA="EMPTY_QUERY",FA="EMPTY_CASE",RA="NO_CONFIG_FOR_FIELD",$A="NO_CONFIG_FOR_OPERATOR",jie="FIXED_OPERATOR",NA="NO_CONFIG_FOR_FUNCTION",DA="INVALID_VALUE",MA="INVALID_FUNC_ARG_VALUE",VA="UNSUPPORTED_FIELD_TYPE",BA="UNSUPPORTED_OPERATOR_FOR_FIELD",qA="INVALID_VALUE_SRC",Tg="INCOMPLETE_RULE",HA="INCOMPLETE_LHS",zA="INCOMPLETE_RHS",kg="BAD_MULTISELECT_VALUES",UA="BAD_SELECT_VALUE",WA="INCORRECT_VALUE_TYPE",GA="INCORRECT_VALUE_JS_TYPE",YA="VALUE_LENGTH_CONSTRAINT_FAIL",Ig="VALUE_MIN_CONSTRAINT_FAIL",Ag="VALUE_MAX_CONSTRAINT_FAIL",KA="NO_CONFIG_FOR_FIELD_VALUE",JA="CANT_COMPARE_FIELD_WITH_ITSELF",QA="CANT_COMPARE_FIELD_WITH_FIELD",XA="INCORRECT_FIELD_TYPE",ZA="UNSUPPORTED_FUNCTION_FOR_FIELD",eP="REQUIRED_FUNCTION_ARG",tP="INCORRECT_FUNCTION_RETURN_TYPE",rP="INVALID_RANGE",La="ITEM_POSITION",nP="ITEM_POSITION_ROOT",iP="ITEM_POSITION_WITH_INDEX_PATH",aP="ITEM_POSITION_IN_CASE",Pg="range";const nt=t=>typeof t=="string",Au=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},cO=t=>t==null?"":""+t,Lie=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Fie=/###/g,fO=t=>t&&t.indexOf("###")>-1?t.replace(Fie,"."):t,dO=t=>!t||nt(t),Zu=(t,e,r)=>{const n=nt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(dO(t))return{};const a=fO(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return dO(t)?{}:{obj:t,k:fO(n[i])}},pO=(t,e,r)=>{const{obj:n,k:i}=Zu(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=Zu(t,o,Object);for(;s.obj===void 0&&o.length;)a="".concat(o[o.length-1],".").concat(a),o=o.slice(0,o.length-1),s=Zu(t,o,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(a)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(a)]=r},Rie=(t,e,r,n)=>{const{obj:i,k:a}=Zu(t,e,Object);i[a]=i[a]||[],i[a].push(r)},Ud=(t,e)=>{const{obj:r,k:n}=Zu(t,e);if(r)return r[n]},$ie=(t,e,r)=>{const n=Ud(t,r);return n!==void 0?n:Ud(e,r)},oP=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?nt(t[n])||t[n]instanceof String||nt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):oP(t[n],e[n],r):t[n]=e[n]);return t},Ns=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Nie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Die=t=>nt(t)?t.replace(/[&<>"'\/]/g,e=>Nie[e]):t;class Mie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Vie=[" ",",","?","!",";"],Bie=new Mie(20),qie=(t,e,r)=>{e=e||"",r=r||"";const n=Vie.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Bie.getRegExp("(".concat(n.map(o=>o==="?"?"\\?":o).join("|"),")"));let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},jg=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<n.length;++l)if(l!==a&&(s+=r),s+=n[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=o}return i},Wd=t=>t&&t.replace("_","-"),Hie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Gd{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Hie,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(nt(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[r](e))}create(e){return new Gd(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gd(this.logger,e)}}var ha=new Gd;class oh{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s.apply(s,[e,...n])})}}class hO extends oh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):nt(n)&&a?s.push(...n.split(a)):s.push(n)));const l=Ud(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!o||!nt(n)?l:jg(this.data&&this.data[e]&&this.data[e][r],n,a)}addResource(e,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),pO(this.data,s,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(nt(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=Ud(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?oP(l,n,a):l={...l,...n},pO(this.data,s,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var sP={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,r,n,i))}),e}};const vO={};class Yd extends oh{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Lie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ha.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!qie(e,n,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return nt(a)&&(a=[a]),{key:e,namespaces:a}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const b=r.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(b).concat(o),usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(b).concat(o)}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let d=f&&f.res;const p=f&&f.usedKey||o,v=f&&f.exactUsedKey||o,h=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,_=!nt(d)&&typeof d!="boolean"&&typeof d!="number";if(m&&d&&_&&g.indexOf(h)<0&&!(nt(y)&&Array.isArray(d))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...r,ns:s}):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=b,f.usedParams=this.getUsedParamsDetails(r),f):b}if(a){const b=Array.isArray(d),S=b?[]:{},O=b?v:p;for(const x in d)if(Object.prototype.hasOwnProperty.call(d,x)){const C="".concat(O).concat(a).concat(x);S[x]=this.translate(C,{...r,joinArrays:!1,ns:s}),S[x]===C&&(S[x]=d[x])}d=S}}else if(m&&nt(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,r,n));else{let b=!1,S=!1;const O=r.count!==void 0&&!nt(r.count),x=Yd.hasDefaultValue(r),C=O?this.pluralResolver.getSuffix(u,r.count,r):"",A=r.ordinal&&O?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",w=O&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),k=w&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(C)]||r["defaultValue".concat(A)]||r.defaultValue;!this.isValidLookup(d)&&x&&(b=!0,d=k),this.isValidLookup(d)||(S=!0,d=o);const I=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,j=x&&k!==d&&this.options.updateMissing;if(S||b||j){if(this.logger.log(j?"updateKey":"missingKey",u,l,o,j?k:d),a){const U=this.resolve(o,{...r,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let U=0;U<M.length;U++)L.push(M[U]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(r.lng||this.language):L.push(r.lng||this.language);const R=(U,V,$)=>{const F=x&&$!==d?$:I;this.options.missingKeyHandler?this.options.missingKeyHandler(U,l,V,F,j,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,l,V,F,j,r),this.emit("missingKey",U,l,V,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?L.forEach(U=>{const V=this.pluralResolver.getSuffixes(U,r);w&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&V.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&V.push("".concat(this.options.pluralSeparator,"zero")),V.forEach($=>{R([U],o+$,r["defaultValue".concat($)]||k)})}):R(L,o,k))}d=this.extendTranslation(d,e,r,f,n),S&&d===o&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(o)),(S||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(o):o,b?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=nt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&!nt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return a&&a[0]===p[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(p[0]," in key: ").concat(r[0])),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=nt(s)?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=sP.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,o,s;return nt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!nt(r.count),p=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),v=r.context!==void 0&&(nt(r.context)||typeof r.context=="number")&&r.context!=="",h=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(g=>{this.isValidLookup(n)||(s=g,!vO["".concat(h[0],"-").concat(g)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(vO["".concat(h[0],"-").concat(g)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(y=>{if(this.isValidLookup(n))return;o=y;const m=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,c,y,g,r);else{let b;d&&(b=this.pluralResolver.getSuffix(y,r.count,r));const S="".concat(this.options.pluralSeparator,"zero"),O="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(m.push(c+b),r.ordinal&&b.indexOf(O)===0&&m.push(c+b.replace(O,this.options.pluralSeparator)),p&&m.push(c+S)),v){const x="".concat(c).concat(this.options.contextSeparator).concat(r.context);m.push(x),d&&(m.push(x+b),r.ordinal&&b.indexOf(O)===0&&m.push(x+b.replace(O,this.options.pluralSeparator)),p&&m.push(x+S))}}let _;for(;_=m.pop();)this.isValidLookup(n)||(a=_,n=this.getResource(y,g,_,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!nt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const uv=t=>t.charAt(0).toUpperCase()+t.slice(1);class gO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ha.create("languageUtils")}getScriptPartFromCode(e){if(e=Wd(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Wd(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(nt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=uv(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=uv(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=uv(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),nt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(o)))};return nt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):nt(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let zie=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Uie={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Wie=["v1","v2","v3"],Gie=["v4"],mO={zero:0,one:1,two:2,few:3,many:4,other:5},Yie=()=>{const t={};return zie.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Uie[e.fc]}})}),t};class Kie{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=ha.create("pluralResolver"),(!this.options.compatibilityJSON||Gie.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Yie(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Wd(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[a]=o,o}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>"".concat(r).concat(i))}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>mO[i]-mO[a]).map(i=>"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Wie.includes(this.options.compatibilityJSON)}}const yO=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=$ie(t,e,r);return!a&&i&&nt(r)&&(a=jg(t,r,n),a===void 0&&(a=jg(e,r,n))),a},cv=t=>t.replace(/\$/g,"$$$$");class Jie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ha.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=r!==void 0?r:Die,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Ns(a):o||"{{",this.suffix=s?Ns(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Ns(d):p||Ns("$t("),this.nestingSuffix=v?Ns(v):h||Ns(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,r,n,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=yO(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,n,{...i,...r,interpolationkey:p}):y}const v=p.split(this.formatSeparator),h=v.shift().trim(),g=v.join(this.formatSeparator).trim();return this.format(yO(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...i,...r,interpolationkey:h})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>cv(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?cv(this.escape(p)):cv(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){const v=a[1].trim();if(o=u(v),o===void 0)if(typeof c=="function"){const g=c(e,a,i);o=nt(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=a[0];continue}else this.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(e)),o="";else!nt(o)&&!this.useRawValueToEscape&&(o=cO(o));const h=p.safeValue(o);if(e=e.replace(a[0],h),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const s=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),v=d.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),h),"".concat(l).concat(c).concat(d)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!nt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=r(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!nt(a))return a;nt(a)||(a=cO(a)),a||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Qie=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=s.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Ds=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let s=e[o];return s||(s=t(Wd(n),i),e[o]=s),s(r)}};class Xie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ha.create("formatter"),this.options=e,this.formats={number:Ds((r,n)=>i=>new Intl.NumberFormat(r,{...n}).format(i)),currency:Ds((r,n)=>i=>new Intl.NumberFormat(r,{...n,style:"currency"}).format(i)),datetime:Ds((r,n)=>i=>new Intl.DateTimeFormat(r,{...n}).format(i)),relativetime:Ds((r,n)=>i=>new Intl.RelativeTimeFormat(r,{...n}).format(i,n.range||"day")),list:Ds((r,n)=>i=>new Intl.ListFormat(r,{...n}).format(i))},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ds(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{const{formatName:u,formatOptions:c}=Qie(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](s,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const Zie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class eae extends oh{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ha.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},s={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d="".concat(u,"|").concat(f);!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{Rie(l.loaded,[a],o),Zie(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();nt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nt(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&s&&this.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),s),this.loaded(e,o,s)})}saveMissing(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,r,n,i,s,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const bO=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),nt(t[1])&&(e.defaultValue=t[1]),nt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),_O=t=>(nt(t.ns)&&(t.ns=[t.ns]),nt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),nt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Mf=()=>{},tae=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class wc extends oh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=_O(e),this.services={},this.logger=ha,this.modules={external:[]},tae(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(nt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=bO();this.options={...i,...this.options,..._O(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ha.init(a(this.modules.logger),this.options):ha.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Xie);const f=new gO(this.options);this.store=new hO(this.options.resources,this.options);const d=this.services;d.logger=ha,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Kie(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Jie(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new eae(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Yd(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Mf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Au(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf;const i=nt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=Au();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Mf),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&sP.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=Au();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=nt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(v=>"".concat(l.keyPrefix).concat(d).concat(v)):p=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(o):o,i.t(p,l)};return nt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(r.precheck){const s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=Au();return this.options.ns?(nt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Au();nt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new gO(bO());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new wc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mf;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new wc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new hO(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Yd(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xn=wc.createInstance();xn.createInstance=wc.createInstance;xn.createInstance;xn.dir;xn.init;xn.loadResources;xn.reloadResources;xn.use;xn.changeLanguage;xn.getFixedT;xn.t;xn.exists;xn.setDefaultNamespace;xn.hasLoadedNamespace;xn.loadNamespaces;xn.loadLanguages;var Ms,rae=(Ms={},le(le(le(le(le(le(le(le(le(le(Ms,PA,"Empty group"),jA,"No conditions for group field {{field}}"),LA,"Empty query"),FA,"Empty case"),RA,"No config for field {{field}}"),jie,"Fixed operator {{from}} to {{to}} for field {{field}}"),$A,"No config for operator {{operator}}"),NA,"No config for function {{funcKey}}"),DA,"Invalid value"),MA,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),le(le(le(le(le(le(le(le(le(le(Ms,VA,"Type of field {{field}} is not supported"),BA,"Operator {{operator}} is not supported for field {{field}}"),Tg,"Incomplete rule"),HA,"Incomplete LHS"),zA,"Incomplete RHS"),qA,"Invalid value src {{valueSrcs, list}}"),kg+"_one","Value {{badValues, list}} is not in the list of allowed values"),kg+"_other","Values {{badValues, list}} are not in the list of allowed values"),UA,"Value {{value}} is not in the list of allowed values"),WA,"Value should have type {{wType}}, but got value of type {{valueType}}"),le(le(le(le(le(le(le(le(le(le(Ms,GA,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),YA,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),Ig,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),Ig+"_"+Pg,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),Ag,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),Ag+"_"+Pg,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),KA,"No config for field {{field}}"),JA,"Can't compare field {{field}} with itself"),QA,"Can't compare field {{leftField}} with {{rightField}}"),XA,"Field {{field}} is of type {{type}}, but expected {{expected}}"),le(le(le(le(le(le(le(le(le(le(Ms,ZA,"Unsupported function {{funcKey}} for field {{field}}"),eP,"Value of arg {{argName}} for func {{funcName}} is required"),tP,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),rP,"Invalid range"),nP,"Root"),La+"__rule","Leaf #{{globalLeafNo}}"),La+"__group","Group #{{globalGroupNo}}"),La+"__rule_group","Rule-group #{{globalNoByType}}"),La+"__case_group","Case #{{globalNoByType}}"),La+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),le(le(le(le(le(Ms,La+"__group__deleted","Deleted group #{{globalGroupNo}}"),La+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),La+"__case_group__deleted","Deleted case #{{globalNoByType}}"),aP,"{{str}} in case #{{caseNo}}"),iP,"{{str}} (index path: {{indexPath, list}})")),lP="raqbvalidation",nae="".concat(lP,":"),sh=xn.createInstance();sh.init({fallbackLng:"en"});sh.addResources("en",lP,rae);var Di=function t(e,r){return e!=null&&e.str?e.str:e!=null&&e.key?t(e.key,e.args):r===null?e:sh.t(e.includes(":")?e:nae+e,r)};function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uP=function(e){return xt(e)==="object"&&e!==null&&Array.isArray(e)?"array":xt(e)},iae=function(e,r){return uP(e)===r||r==="number"&&!isNaN(e)},cP=function(e,r){return fP(e,r).length===0},fP=function(e,r){var n=r.settings.showErrorMessage,i=[];function a(o,s,l){var u,c,f=o.get("id"),d=o.get("children1"),p=o.getIn(["properties","valueError"]),v=o.getIn(["properties","fieldError"]),h=o.getIn(["properties","field"]),g=(u=h==null||(c=h.get)===null||c===void 0?void 0:c.call(h,"func"))!==null&&u!==void 0?u:h,y=(p==null?void 0:p.size)>0&&p.filter(function(_){return _!=null}).size>0,m=y||!!v;m&&n&&i.push(g),d&&d.map(function(_,b){_&&a(_,s.concat(f))})}return e&&a(e,[]),Array.from(new Set(i))},dP=function(e,r){var n=oi(r,void 0,!0),i={removeEmptyGroups:r.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:r.settings.removeIncompleteRulesOnLoad,removeEmptyRules:r.settings.removeEmptyRulesOnLoad,forceFix:!1},a=rf(e,null,n,n,i),o=a.fixedTree,s=a.allErrors,l=a.isSanitized;return l&&s.length&&console.warn("Tree check errors: ",s),o},pP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=oi(r,void 0,!0),a=pr(pr({},n),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1}),o=rf(e,null,i,i,a),s=o.allErrors;return s},hP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=oi(r,void 0,!0),a=pr({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},n),o=rf(e,null,i,i,a),s=o.fixedTree,l=o.fixedErrors,u=o.nonFixedErrors,c=o.allErrors;return{fixedTree:s,fixedErrors:l,nonFixedErrors:u,allErrors:c}},vP=function(e,r,n,i,a,o,s){a===void 0&&(a=n.settings.removeEmptyGroupsOnLoad),o===void 0&&(o=n.settings.removeEmptyRulesOnLoad),s===void 0&&(s=n.settings.removeIncompleteRulesOnLoad);var l={removeEmptyGroups:a,removeEmptyRules:o,removeIncompleteRules:s,forceFix:!1},u=rf(e,r,n,i,l),c=u.fixedTree;u.allErrors;var f=u.fixedErrors;u.nonFixedErrors;var d=u.isSanitized;return d&&f.length&&console.warn("Fixed tree errors: ",f),c=zi(c),c},rf=function(e,r,n,i,a){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var o=a||{},s=o.removeEmptyGroups,l=o.removeEmptyRules,u=o.removeIncompleteRules,c=o.forceFix,f=o.translateErrors,d=f===void 0?!0:f,p=o.includeStringifiedItems,v=p===void 0?!0:p,h=o.stringifyFixedItems,g=h===void 0?!1:h,y=o.stringifyItemsUserFriendly,m=y===void 0?!0:y,_=o.includeItemsPositions,b=_===void 0?!0:_,S={config:n,oldConfig:i,removeEmptyGroups:s,removeEmptyRules:l,removeIncompleteRules:u,forceFix:c},O={errors:{}},x=mP(e,[],null,O,S),C=O.sanitized,A=[],w,k;b&&(w=_g(x).items);for(var E in O.errors){var I=O.errors[E],j=I.path,L=I.errors;d&&(L=L.map(function(Q){return pr(pr({},Q),{},{str:Di(Q)})}));var M={path:j,errors:L};if(v){var R=pl(g?x:e,j),U=j.length===1;if(!U&&R.get("type")!=="group"){var V=!0,$=m,F=CA(R,n,$,V);M.itemStr=F}}if(b){var N=w[E],B=!N;if(B&&(k||(k=_g(e).items),N=k[E]),N){var z=pr(pr({},N.position),{},{index:N.index,type:N.type,isDeleted:B});M.itemPosition=z;var H=N.index?La+"__"+N.type+(B?"__deleted":""):nP,D=pr({},z);if(m){for(var G,q=0,Y=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];q<Y.length;q++){var K=Y[q];D[K]!=null&&(D[K]=D[K]+1)}D.indexPath=(G=z.indexPath)===null||G===void 0?void 0:G.map(function(Q){return Q+1})}M.itemPositionStr=Di(H,D),N.index&&(N.caseId&&N.type!=="case_group"&&(M.itemPositionStr=Di(aP,pr(pr({},D),{},{str:M.itemPositionStr}))),N.type!=="case_group"&&(M.itemPositionStr=Di(iP,pr(pr({},D),{},{str:M.itemPositionStr}))))}}A.push(M)}for(var ie=[],te=[],oe=0,ue=A;oe<ue.length;oe++){var fe=ue[oe],pe=fe.errors.filter(function(Q){return!!Q.fixed}),Se=fe.errors.filter(function(Q){return!Q.fixed&&Q.key!=="EMPTY_QUERY"});pe.length&&ie.push(pr(pr({},fe),{},{errors:pe})),Se.length&&te.push(pr(pr({},fe),{},{errors:Se}))}return{fixedTree:x,allErrors:A,fixedErrors:ie,nonFixedErrors:te,isSanitized:C}};function ao(t,e,r,n){var i=e.get("id");t.errors[i]||(t.errors[i]={path:[].concat(Ce(r),[i]),errors:[]}),t.errors[i].errors.push(n)}function gP(t,e){var r=e.get("id");t.errors[r]&&t.errors[r].errors.map(function(n){n.fixed=!0})}function mP(t,e,r,n,i){var a=t==null?void 0:t.get("type");return a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group"?aae(t,e,r,n,i):a==="rule"?yP(t,e,r,n,i):t}function aae(t,e,r,n,i){var a,o,s,l,u,c,f=i.removeEmptyGroups,d=i.removeIncompleteRules;i.forceFix;var p=i.config;p.settings.showErrorMessage;var v=t.get("id"),h=t.get("children1"),g=!e.length,y=h,m=t.get("type"),_=t.get("properties"),b=_==null?void 0:_.get("field"),S=_==null?void 0:_.get("mode"),O=_==null||(a=_.get)===null||a===void 0?void 0:a.call(_,"operator"),x=m==="rule_group"&&S==="array",C=m==="case_group",A=C&&h==null,w=O?(o=(s=p.operators[O])===null||s===void 0?void 0:s.cardinality)!==null&&o!==void 0?o:1:void 0,k=C?!A:x?w==0:f,E=x||C;!v&&r&&(v=r,t=t.set("id",v),n.sanitized=!0),E&&(t=yP(t,e,r,n,i));var I={errors:{}};h=(l=h)===null||l===void 0?void 0:l.map(function(U,V){return mP(U,e.concat(v),V,I,i)});var j=(u=h)===null||u===void 0?void 0:u.filter(function(U){return U!=null});f&&(h=j);var L=I.sanitized||(y==null?void 0:y.size)!=((c=h)===null||c===void 0?void 0:c.size),M=!(j!=null&&j.size),R=f&&!g;return x&&b&&(R=d),M&&k&&(ao(n,t,e,{key:g?LA:C?FA:x?jA:PA,args:{field:b},fixed:R}),R&&(gP(n,t),t=void 0)),L&&(n.sanitized=!0),L&&t&&(t=t.set("children1",h)),n.errors=pr(pr({},n.errors),(I==null?void 0:I.errors)||{}),t}function yP(t,e,r,n,i){var a=i.removeIncompleteRules,o=i.removeEmptyRules,s=i.forceFix,l=i.config,u=i.oldConfig,c=l.settings.showErrorMessage,f=!c||s,d=t.get("id"),p=t.get("type"),v=p==="case_group",h=t.get("properties");if(!h)if(v)h=new Ue.Map;else{var g={key:Tg,args:{},fixed:a||o};ao(n,t,e,g);return}var y=h.get("field")||null;v&&(y="!case_value");var m=h.get("fieldSrc")||null,_=h.get("operator")||null,b=h.get("operatorOptions"),S=h.get("valueSrc"),O=h.get("value"),x=h.get("valueError"),C=h.get("fieldError"),A=function(){var oe,ue;return{field:((oe=y)===null||oe===void 0||(ue=oe.toJS)===null||ue===void 0?void 0:ue.call(oe))||y,fieldSrc:m,operator:_,operatorOptions:b?b.toJS():{},valueSrc:S?S.toJS():null,value:O?O.toJS():null,valueError:x?x.toJS():null,fieldError:C||null}},w=A();!d&&r&&(d=r,t=t.set("id",d),n.sanitized=!0);var k=y?Me(l,y):null;y&&!k&&(ao(n,t,e,{key:RA,args:{field:y},side:"lhs",fixed:a||o}),y=null),y==null&&!v&&(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce(function(te,oe){return te.delete(oe)},h),_=null),!m&&y&&!v&&(m=ej(y),h=h.set("fieldSrc",m)),(_==="range_between"||_==="range_not_between")&&(_=_==="range_between"?"between":"not_between",h=h.set("operator",_));var E=_?jt(l,_,y):null;_&&!E&&(ao(n,t,e,{key:$A,args:{operator:_},side:"op",fixed:a||o}),_=null);var I=y?uh(l,y):[];y&&!v&&(I!=null&&I.length?_&&I.indexOf(_)==-1&&(_==="is_empty"||_==="is_not_empty"?(_=_==="is_empty"?"is_null":"is_not_null",h=h.set("operator",_)):(ao(n,t,e,{key:BA,args:{operator:_,field:y},side:"lhs",fixed:a||o}),_=null)):(ao(n,t,e,{key:VA,args:{field:y},side:"lhs",fixed:a||o}),_=null)),_==null&&!v&&(h=["operatorOptions","valueSrc","value","valueError"].reduce(function(te,oe){return te.delete(oe)},h)),b=h.get("operatorOptions"),!_||b&&!E.options?(b=null,h=h.delete("operatorOptions")):_&&!b&&E.options&&(b=tf(l,_,y),h=h.set("operatorOptions",b)),S=h.get("valueSrc"),O=h.get("value");var j=!0,L=ns(l,u,h,y,_,null,f,j),M=L.newValue,R=L.newValueSrc,U=L.newValueError,V=L.validationErrors,$=L.newFieldError,F=L.fixedField;O=M,S=R,x=U,C=$,y=F,h=h.set("field",y),h=h.set("value",O),h=h.set("valueSrc",S),c?h=h.set("valueError",x).set("fieldError",C):h=h.delete("valueError").delete("fieldError");var N=A(),B=!Bd(w,N),z=I0(h.toObject(),l),H=v?z.parts.value:z.score>=3;if(B&&(n.sanitized=!0,t=t.set("properties",h)),V==null||V.map(function(te){return ao(n,t,e,te)}),!H&&!v){var D=z.score?a:o,G={key:Tg,args:{}};if(!z.parts.field)G.key=HA,G.side="lhs";else if(!z.parts.value){var q,Y,K,ie;G.key=zA,G.side="rhs",(q=N.valueSrc)!==null&&q!==void 0&&q[0]&&((Y=N.valueSrc)===null||Y===void 0?void 0:Y[0])!=((K=w.valueSrc)===null||K===void 0?void 0:K[0])&&((ie=N.value)===null||ie===void 0?void 0:ie[0])!=null&&(G.key=qA,G.args={valueSrcs:N.valueSrc})}G.fixed=D,ao(n,t,e,G),D&&(gP(n,t),t=void 0)}return t}var $l=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,d=[],p=a;if(a!=null){var v,h,g,y;if(s==="field"){var m=lae(r,n,a,s,o,l,e,i,u,c),_=ke(m,2);p=_[0],d=_[1]}else if(s==="func"){var b=uae(r,n,a,s,o,l,e,i,u,c,f),S=ke(b,2);p=S[0],d=S[1]}else if(s==="value"||!s){var O=sae(n,a,s,o,l,e,i,u,c),x=ke(O,2);p=x[0],d=x[1]}var C=!((v=d)!==null&&v!==void 0&&v.find(function(z){return!z.fixed})),A=!!n&&!["field","func"].includes(s)&&(!((h=d)!==null&&h!==void 0&&h.length)||C);if(A){var w=vr(e,n,i,s),k=i?jt(e,i,n):null,E=On(e,n,i,w,s,{forExport:!0}),I=s==="field"?Me(e,a):null,j=E,L=E.validateValue;if(typeof L=="function"){var M=[p,j,i,k];s==="field"&&M.push(I);var R=L.call.apply(L,[e.ctx].concat(M));if(xt(R)==="object"&&R!==null&&!Array.isArray(R)){var U,V;(U=R.error)!==null&&U!==void 0&&U.key?V=pr({},R.error):V={key:R.error,args:null},R.fixedValue!==void 0&&u&&(V.fixed=!0,V.fixedFrom=p,V.fixedTo=R.fixedValue,p=R.fixedValue),d.push(V)}else typeof R=="boolean"?R==!1&&d.push({key:DA,args:{}}):typeof R=="string"&&d.push({key:R,args:null})}}if(C=!((g=d)!==null&&g!==void 0&&g.find(function(z){return!z.fixed})),(y=d)!==null&&y!==void 0&&y.length&&!C&&u){var $=Me(e,n),F=$==null?void 0:$.fieldSettings,N=F==null?void 0:F.defaultValue;if(N!==void 0){var B=d[d.length-1];B.fixed=!0,B.fixedFrom=p,B.fixedTo=N,p=N,d.map(function(z){z.fixed=!0})}}}return[p,d]},oae=function(e,r,n,i,a){var o=Ue.List.isList(e)?e.toJS():e instanceof Array?Ce(e):void 0,s=e,l=[];if(o){var u=o.reduce(function(g,y){var m=ke(g,2),_=m[0],b=m[1],S=bc(r,y);return S==null?[_,[].concat(Ce(b),[y])]:[[].concat(Ce(_),[S.value]),b]},[[],[]]),c=ke(u,2),f=c[0],d=c[1],p=d.length>0;if(n=n||a===!0,s=n&&p?f:e,d.length){var v=n&&p;l.push({key:kg,args:{badValues:d,count:d.length},fixed:v,fixedFrom:v?o:void 0,fixedTo:v?s:void 0})}return[s,l]}else{var h=bc(r,e);return h==null?(s=n?null:e,l.push({key:UA,args:{value:e},fixed:n,fixedFrom:n?e:void 0,fixedTo:n?s:void 0})):s=h.value,[s,l]}},sae=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=[],f=r;if(e){var d=Me(o,e),p=vr(o,e,s,n),v=o.widgets[p],h=v==null?void 0:v.type,g=v==null?void 0:v.jsType,y=d==null?void 0:d.fieldSettings,m=(y==null?void 0:y.treeValues)||(y==null?void 0:y.listValues),_=!!(y!=null&&y.asyncFetch),b=m||_;if(i&&h&&i!=h)return c.push({key:WA,args:{wType:h,valueType:i}}),[r,c];if(g&&!iae(r,g)&&!b)return c.push({key:GA,args:{jsType:g,valueTypeof:uP(r)}}),[r,c];if(y){var S=a||m;if(S&&!y.allowCustomValues&&p!=="case_value"){var O=oae(r,S,l,u,o.settings.removeInvalidMultiSelectValuesOnLoad),x=ke(O,2);f=x[0],c=x[1]}y.maxLength>0&&r!=null&&String(r).length>y.maxLength&&(f=l?String(r).substring(0,y.maxLength):r,c.push({key:YA,args:{value:r,length:String(r).length,fieldSettings:y},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}));var C=y.min!=null&&y.max!=null?Pg:void 0;y.min!=null&&r<y.min&&(f=l?y.min:r,c.push({key:Ig,args:{value:r,fieldSettings:y,context:C},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0})),y.max!=null&&r>y.max&&(f=l?y.max:r,c.push({key:Ag,args:{value:r,fieldSettings:y,context:C},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}))}}return[f,c]},lae=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=[],c=s.settings,f=c.fieldSeparator,d=c.canCompareFieldWithField,p=xt(r)=="object"&&(r==null?void 0:r._isFuncArg),v=Array.isArray(e)?e.join(f):e,h=Me(s,e),g=Array.isArray(n)?n.join(f):n,y=Me(s,n);if(!y)return u.push({key:KA,args:{field:g}}),[n,u];if(e&&g===v&&!p)return u.push({key:JA,args:{field:v}}),[n,u];if(a&&a!=y.type)return u.push({key:XA,args:{field:g,type:y.type,expected:a}}),[n,u];if(e&&!p&&d){var m=d(v,h,g,y,l);if(!m)return u.push({key:QA,args:{leftField:v,rightField:g}}),[n,u]}return[n]},uae=function(e,r,n,i,a,o,s){var l,u,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,v=n,h=[];if(!n)return[n];var g=(l=n.get)===null||l===void 0?void 0:l.call(n,"func");if(!g)return[n];var y=Me(s,r);if(y!=null&&y.funcs&&!y.funcs.includes(g))return h.push({key:ZA,args:{funcKey:g,field:r}}),[n,h];var m=Gr(s,g);if(!m)return h.push({key:NA,args:{funcKey:g}}),[n,h];var _=(u=m.label)!==null&&u!==void 0?u:g;if(a&&m.returnType!=a)return h.push({key:tP,args:{funcKey:g,funcName:_,returnType:m.returnType,valueType:a}}),[n,h];f=f||p;for(var b in m.args){var S,O=m.args[b],x=v.get("args"),C=x?x.get(b):void 0,A=Me(s,O),w=(S=A==null?void 0:A.label)!==null&&S!==void 0?S:b,k=C?C.get("value"):void 0,E=C?C.get("valueSrc"):void 0;if(k!==void 0){var I=$l(s,e,A,c,k,O.type,E,o,f,d,p),j=ke(I,2),L=j[0],M=j[1],R=!(M!=null&&M.length),U=f&&L!==k,V=f&&!R&&!U&&(d||p);if(U&&(v=v.setIn(["args",b,"value"],L)),V&&(v=v.deleteIn(["args",b]),v=Kd(s,v,m,b)),!R){var $,F,N=($=(F=M.find(function(q){return!q.fixed&&!q.ignore}))!==null&&F!==void 0?F:M.find(function(q){return!q.fixed}))!==null&&$!==void 0?$:M[0],B=U||V,z=M.filter(function(q){return!q.ignore}).length===0;if(N){var H=Di(N);h.push({key:MA,args:{funcKey:g,funcName:_,argKey:b,argName:w,argValidationError:H,argErrors:M},ignore:z,fixed:B,fixedFrom:B?k:void 0,fixedTo:B?U?L:O.defaultValue:void 0})}}}else if(!O.isOptional&&(d||p)){var D=f&&O.defaultValue!==void 0&&(d||p),G=d;G&&h.push({key:eP,args:{funcKey:g,funcName:_,argKey:b,argName:w},fixed:D,fixedTo:D?O.defaultValue:void 0,ignore:!D}),D&&(v=v.deleteIn(["args",b]),v=Kd(s,v,m,b))}}return[v,h]},O0=function(e,r,n,i,a){var o=jt(e,n,r),s=n?Ur(o):null,l=a.toJS?a.toJS():a,u=i.toJS?i.toJS():i,c=l.filter(function(y){return y=="value"||y==null}).length==s,f;if(o!=null&&o.validateValues&&c){var d=l[0],p=vr(e,r,n,d),v=On(e,r,n,p,d),h=v!=null&&v.toJS?u.map(function(y){var m=v.toJS.call(e.ctx,y,v);return m instanceof Date&&(m=m.getTime()),m}):u,g=o.validateValues(h);typeof g=="boolean"&&g==!1&&(f={key:rP,args:{jsValues:h,values:u}})}return f},ns=function(e){var r,n,i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;o||(o=e);var v=e.settings,h=v.keepInputOnChangeFieldSrc,g=v.convertableWidgets,y=v.clearValueOnChangeField,m=v.clearValueOnChangeOp,_=l=="!case_value",b=s.get("field");!b&&_&&(b=l);var S=s.get("fieldType"),O=s.get("fieldSrc"),x=s.get("operator"),C=s.get("value"),A=s.get("valueSrc",new Ue.List),w=s.get("valueType",new Ue.List),k=s.get("valueError",new Ue.List),E=s.get("asyncListValues"),I=_,j=jt(o,x),L=jt(e,u,l),M=_?1:x?Ur(j):null,R=_?1:u?Ur(L):null,U=Me(o,b),V=Me(e,l),$=!b&&S&&h,F=(U==null?void 0:U.type)||S,N=(V==null?void 0:V.type)||!l&&$&&F,B=U==null?void 0:U.listValuesType,z=V==null?void 0:V.listValuesType,H=((r=b)===null||r===void 0||(n=r.get)===null||n===void 0?void 0:n.call(r,"func"))||b,D=((i=l)===null||i===void 0||(a=i.get)===null||a===void 0?void 0:a.call(i,"func"))||l,G=D!=H,q=[],Y=(b||$)&&(x&&u||I)&&C!=null;(!(F&&N&&F==N)||c==="field"&&G&&y||c==="operator"&&m)&&(Y=!1),G&&lh.includes(N)&&(z&&z===B||(Y=!1)),!I&&(!(C!=null&&C.size)&&R||C!=null&&C.size&&!R)&&(Y=!1);var K;if(O==="func"&&l){var ie=$l(e,null,null,u,l,N,O,E,f,d,p),te=ke(ie,2),oe=te[0],ue=te[1],fe=!(ue!=null&&ue.length),pe=oe!==l,Se=!fe&&pe&&!ue.find(function(tr){return!tr.fixed}),Q=f&&!fe&&!Se&&!!c&&l!==b,re=!1;if(re?l=null:Q?l=b:pe&&(l=oe),!fe){var de=!fe&&!Se&&!re&&!Q,ve=ue.find(function(tr){return!tr.fixed&&!tr.ignore});de&&ve&&(K=Di(ve)),ue.map(function(tr){return q.push(pr(pr({side:"lhs"},tr),{},{fixed:tr.fixed||Q||re}))})}}for(var ee=0;ee<R;ee++){var me=A.get(ee)||null,Oe=vr(o,b,x,me),we=vr(e,l,u,me),Je=me==="value"?Oe:vr(o,b,x,"value"),at=me==="value"?we:vr(e,l,u,"value"),ce=at==Je||(g[Je]||[]).includes(at)||!Je&&$;ce||(Y=!1)}x!=u&&[x,u].includes("proximity")&&(Y=!1);var ge=A.first(),he=On(e,l,u,null,ge),je=TP(e,l,u,null);!l&&$&&(je=Object.keys(e.settings.valueSourcesInfo));var Be=je[0],Ne;R===1&&he&&he.type!==void 0?Ne=he.type:R===1&&V&&V.type!==void 0&&(Ne=V.type==="!group"?"number":V.type);var ot=Y&&c==="operator"&&M===1&&R===2,st=[],Ke=[],Bt=[],jr=Array.from({length:R},function(){return null});if(Y)for(var ht=function(ne){var Z=C.get(ne),be=w.get(ne)||null,_e=A.get(ne)||null;ot&&ne===1&&(Z=st[0]!==void 0?st[0]:C.get(0),st[ne]=Z,be=w.get(0)||null,_e=A.get(0)||null);var ze=_e?je.find(function(si){return si==_e})!==void 0:!0,bt=$l(e,l,l,u,Z,be,_e,E,f,d,p),qt=ke(bt,2),Jr=qt[0],Re=qt[1],nn=!(Re!=null&&Re.length),X=Jr!==Z,se=!nn&&X&&!(Re!=null&&Re.find(function(si){return!si.fixed})),Te=!(Re!=null&&Re.find(function(si){return!si.fixed&&!si.ignore})),Ze=!ze||f&&!nn&&!se&&(!Te||G);nn||Re==null||Re.map(function(si){return q.push(pr(pr({side:"rhs",delta:ne},si),{},{fixed:si.fixed||Ze}))}),Ze&&(st[ne]=null,ne===0&&delete st[1]);var wn=!nn&&!X,un=Re==null?void 0:Re.find(function(si){return!si.fixed&&!si.ignore});wn&&un&&(jr[ne]=Di(un)),X&&(st[ne]=Jr),ot&&ne===0&&!nn&&!X&&(ot=!1),ot&&ne===0&&["func","field"].includes(_e)&&(ot=!1)},Fe=0;Fe<R;Fe++)ht(Fe);if(!Y){for(var De=0;De<R;De++)if(R===1){var Ge,Qe=hI([V==null?void 0:V.defaultValue,V==null||(Ge=V.fieldSettings)===null||Ge===void 0?void 0:Ge.defaultValue,he==null?void 0:he.defaultValue]);st[De]=Qe,Qe!=null&&Qe.func&&(Ke[De]="func")}}for(var ft=0;ft<R;ft++){var Et=Y&&A.get(ft)||null,At=Y&&w.get(ft)||null;if(Y&&ot&&ft===1){var _r,Rt;Et=(_r=Ke[ft])!==null&&_r!==void 0?_r:A.get(0),At=(Rt=Bt[ft])!==null&&Rt!==void 0?Rt:w.get(0),Ke[ft]=Et,Bt[ft]=At}var Mr=je.includes(Et);Mr||(Ke[ft]=Be),At||(Bt[ft]=Ne)}var qe=C;(st.length>0||!Y)&&(qe=new Ue.List(Array.from({length:R},function(tr,ne){return st[ne]!==void 0?st[ne]:Y?C.get(ne):void 0})));var lt=A;(Ke.length>0||!Y)&&(lt=new Ue.List(Array.from({length:R},function(tr,ne){var Z;return(Z=Ke[ne])!==null&&Z!==void 0?Z:Y&&A.get(ne)||null})));var ur=w;(Bt.length>0||!Y)&&(ur=new Ue.List(Array.from({length:R},function(tr,ne){var Z;return(Z=Bt[ne])!==null&&Z!==void 0?Z:Y&&w.get(ne)||null})));var Yr=O0(e,l,u,qe,lt);if(Yr){var Kr=Di(Yr),mt=f&&R>=2,dt=qe;mt&&(st[1]=qe.get(0),qe=qe.set(1,st[1]),jr[1]=jr[0]);var cr=!mt;cr&&jr.push(Kr),q.push(pr(pr({side:"rhs",delta:-1},Yr),{},{fixed:mt,fixedFrom:mt?[dt.get(0),dt.get(1)]:void 0,fixedTo:mt?[qe.get(0),qe.get(1)]:void 0}))}var $t=k,Lr=(k==null?void 0:k.size)!==jr.length||jr.filter(function(tr,ne){return tr!=k.get(ne)}).length>0;return Lr&&($t=new Ue.List(jr)),{canReuseValue:Y,newValue:qe,newValueSrc:lt,newValueType:ur,operatorCardinality:R,fixedField:l,newValueError:$t,newFieldError:K,validationErrors:q}};const cae=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:rf,checkTree:dP,getNewValueForFieldOp:ns,getTreeBadFields:fP,isValidTree:cP,sanitizeTree:hP,translateValidation:Di,validateAndFixTree:vP,validateRange:O0,validateTree:pP,validateValue:$l},Symbol.toStringTag,{value:"Module"}));var x0=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},bP=function(e,r){if(e){var n=e.get("func"),i=n&&Gr(r,n);if(i){var a=e,o=!1;for(var s in i.args){var l=i.args[s],u=l.valueSources,c=l.isOptional,f=l.defaultValue,d=is(r,u,l),p=a.get("args"),v=d.length==1?d[0]:void 0,h=p?p.get(s):void 0,g=h?h.get("value"):void 0,y=(h?h.get("valueSrc"):void 0)||v;if(g!==void 0){var m=Es(g,y,r);if(m===void 0||(m!==g&&(a=a.setIn(["args",s,"value"],m)),o))return}else if(f!==void 0&&!x0(f))a=a.setIn(["args",s,"value"],SP(l)),a=a.setIn(["args",s,"valueSrc"],"value");else if(c)o=!0;else return}return a}}},_P=function(e,r,n,i){var a=n.settings.fieldSeparator;e=e||new Ue.Map,Array.isArray(r)&&(r=r.join(a));var o=e.get("func"),s=e.get("args");e=e.set("func",r);var l=r&&Gr(n,r),u=r&&Fg(n,r),c=o&&Fg(n,o),f=xP(c,u,s,n,i);if(f.length){var d=Object.keys(u.args),p=d.filter(function(v){return!f.includes(v)});e=p.reduce(function(v,h){return v.deleteIn(["args",h])},e)}else e=e.set("args",new Ue.Map);return e=fae(n,e,l),e},fae=function(e,r,n){if(n)for(var i in n.args)r=Kd(e,r,n,i);return r},Kd=function(e,r,n,i){var a=n.args[i],o=a.valueSources,s=a.defaultValue,l=is(e,o,a),u=l.length?l[0]:void 0,c=s?x0(s)&&s.func?"func":"value":void 0,f=c||u,d=r.getIn(["args",i]);return d||(s!==void 0&&(r=r.setIn(["args",i,"value"],SP(a))),f&&(r=r.setIn(["args",i,"valueSrc"],f))),r},SP=function(e){var r=e.defaultValue;return x0(r)&&!Ue.Map.isMap(r)&&r.func?Ue.fromJS(r,function(n,i){return Ue.Iterable.isIndexed(i)?i.toList():i.toOrderedMap()}):r},Lg=function(e,r,n,i,a){if(e&&e.get("func")){e=e.setIn(["args",r,"value"],n);var o=e.getIn(["args",r,"valueSrc"]),s=i.valueSources,l=is(a,s,i),u=l.length==1?l[0]:void 0;!u&&l.includes("value")&&(u="value"),!o&&u&&(e=e.setIn(["args",r,"valueSrc"],u))}return e},OP=function(e,r,n,i,a){return e&&e.get("func")&&(e=e.setIn(["args",r],new Ue.Map({valueSrc:n}))),e},xP=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if((e==null?void 0:e.returnType)!=(r==null?void 0:r.returnType))return[];var o=Object.keys(r.args),s=o.filter(function(l,u){var c=r.args[l],f=e.args[l];if(Object.keys(e.args).indexOf(l),!f&&(c.defaultValue!==void 0||c.isOptional))return!0;if((f==null?void 0:f.type)!=c.type||lh.includes(c.type)&&(!f.listValuesType||f.listValuesType!==c.listValuesType))return!1;if(n){var d,p=n.get(l),v=p==null?void 0:p.get("value"),h=p==null?void 0:p.get("valueSrc");if(h&&c.valueSources&&!c.valueSources.includes(h))return!1;var g=null,y=null,m=c,_=null,b=!0,S=$l(i,g,m,y,v,m.type,h,_,a,b),O=ke(S,2);O[0];var x=O[1];if(x!=null&&(d=x.filter(function(C){return!C.fixed}))!==null&&d!==void 0&&d.length)return!1}return!0});return s};const dae=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:bP,getCompatibleArgsOnFuncChange:xP,setArgValue:Lg,setArgValueSrc:OP,setFunc:_P,setFuncDefaultArg:Kd},Symbol.toStringTag,{value:"Module"}));var lh=["select","multiselect","treeselect","treemultiselect"],wP=function(e,r){var n;return((n=e.types[r])===null||n===void 0?void 0:n.operators)||null},uh=function(e,r){var n=Me(e,r),i=n?n.operators:[];return i},w0=function(e,r){var n,i=uh(e,r);return(n=i==null?void 0:i[0])!==null&&n!==void 0?n:null},EP=function(e,r,n){var i=null;if(e){if(r==="field"){var a=Me(n,e);a&&(i=a.type)}else if(r==="func"){var o=e.get("func");if(o){var s=Gr(n,o);s&&(i=s.returnType||s.type)}}}return i},pae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return nf(e,r,n,"funcs","subfields")},nf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!e)return null;var o=r.settings.fieldSeparator,s=Rr(e,r),l=Rr(n,r),u=s.slice(l.length).map(function(c,f,d){return d.slice(0,f+1)}).map(function(c){return[].concat(Ce(l),Ce(c)).join(o)}).map(function(c){var f=Ui(r,c,i,a);return f&&f.label||nh(c.split(o))}).filter(function(c){return c!=null});return u},CP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;var i=n&&Ui(r,n)||null,a=r.settings.fieldSeparator,o=Rr(e,r),s=ZP(e,n,r),l=s?Rr(n,r):[];return o.slice(l.length).map(function(u,c,f){return f.slice(0,c+1)}).map(function(u){return{part:[].concat(Ce(l),Ce(u)).join(a),key:u[u.length-1]}}).map(function(u){var c=u.part,f=u.key,d=Ui(r,c);return{key:f,cnf:d}}).map(function(u,c,f){var d=u.key,p=u.cnf,v=c>0?f[c-1].cnf:i;return[d,p,v]})},hae=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=On(e,r,n,null,a)||{},l=jt(e,n,r)||{},u=o?1:l.cardinality,c=null;if(u>1){var f=s.valueLabels||l.valueLabels;f&&(c=f[i]),c&&xt(c)!=="object"&&(c={label:c,placeholder:c}),c||(c={label:e.settings.valueLabel+" "+(i+1),placeholder:e.settings.valuePlaceholder+" "+(i+1)})}else{var d=s.valueLabel,p=s.valuePlaceholder;c={label:d||e.settings.valueLabel,placeholder:p||e.settings.valuePlaceholder}}return c};function E0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=[],a=[];if(!e)return{widgets:i,valueSrcs:a};var o=ch(e),s=o?"".concat(o,"__").concat(r,"__").concat(n):null,l=fh(t,"_getWidgetsAndSrcsForFieldOp",s);if(l)return l;var u=xt(e)==="object"&&(!!e.func&&!!e.arg||e._isFuncArg),c=Me(t,e),f=r?t.operators[r]:null;if(c!=null&&c.widgets){var d=function(){var y=c.widgets[p];if(!t.widgets[p])return 1;var m=t.widgets[p].valueSrc||"value",_=!0;if(p==="field"&&(_=_&&is(t,["field"],c).length>0),p==="func"&&(_=_&&is(t,["func"],c).length>0),n==="value"&&!y.operators&&!u&&e!=="!case_value"&&(_=!1),y.operators&&r&&(_=_&&y.operators.indexOf(r)!=-1),n&&n!=m&&n!=="const"&&(_=!1),f&&f.cardinality==0&&m!=="value"&&(_=!1),_){var b,S;i.push(p);var O=((b=c.valueSources)===null||b===void 0?void 0:b.indexOf(m))!=-1;(f==null||(S=f.valueSources)===null||S===void 0?void 0:S.indexOf(m))==-1&&(O=!1),O&&!a.find(function(x){return x==m})&&a.push(m)}};for(var p in c.widgets)d()}var v=function(y){var m=0;return c.preferWidgets?c.preferWidgets.includes(y)&&(m+=10-c.preferWidgets.indexOf(y)):y==c.mainWidget&&(m+=100),y==="field"&&(m-=1),y==="func"&&(m-=2),m};i.sort(function(g,y){return v(y)-v(g)});var h={widgets:i,valueSrcs:a};return dh(t,"_getWidgetsAndSrcsForFieldOp",s,h),h}var vae=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=E0(e,r,n,i),o=a.widgets;return o},is=function(e,r,n){var i;if(!n)return r;var a=(i=n.type)!==null&&i!==void 0?i:n.returnType;return a==="!group"&&(a="number"),r||(r=Object.keys(e.settings.valueSourcesInfo)),r.filter(function(o){var s=!0;if(o==="field"&&e.__fieldsCntByType){var l=n._isFuncArg?0:1;s=s&&e.__fieldsCntByType[a]>l}return o==="func"&&(n.funcs&&(s=s&&n.funcs.length>0),e.__funcsCntByType&&(s=s&&e.__funcsCntByType[a]>0)),s})},TP=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=E0(e,r,n,null),o=a.valueSrcs,s=is(e,o,i);return s},vr=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=E0(e,r,n,i),o=a.widgets,s=null;return o.length&&(s=o[0]),s},Ja=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(e){var o=Me(r,e)||{},s=r.settings.fieldSeparator,l=Rr(e,r),u=Array.isArray(e)?e.join(s):e;if(a!=null&&a.useTableName&&o.tableName){var c=Ce(l);c[0]=o.tableName,u=c.join(s)}if(o.fieldName&&(u=o.fieldName),i){Me(r,i);var f=i;u.indexOf(f+s)==0?u=u.slice((f+s).length):o.fieldName||n.errors.push("Can't cut group ".concat(f," from field ").concat(u))}return u}},C0=function(e,r){var n=e.get("type"),i=e.getIn(["properties","mode"]);return n=="rule_group"&&i=="array"?gae(e,r):n=="group"||n=="rule_group"?mae(e,r):yae(e,r)},gae=function(e,r){var n=e.get("children1"),i=e.get("properties");return kP(i.toObject(),n,r)},kP=function(e,r,n){var i,a,o=e.operator,s=(i=(a=n.operators[o])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1,l=s==0,u={group:!k0(e,n),children:!T0(r,n)},c=u.group&&(l?u.children:!0);return!c},mae=function(e,r){var n=e.get("children1");return T0(n,r)},T0=function(e,r){var n=(e==null?void 0:e.size)>0&&e.filter(function(i){return!C0(i,r)}).size>0;return!n},yae=function(e,r){var n=e.get("properties");return k0((n==null?void 0:n.toObject())||{},r)},k0=function(e,r){var n=!0,i=3,a=I0(e,r,n),o=a.score>=i;return!o},I0=function(e,r){var n,i,a,o=e.field,s=e.fieldSrc;e.fieldType;var l=e.operator,u=e.value,c=e.valueSrc;e.valueType;var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=(n=(i=r.operators[l])===null||i===void 0?void 0:i.cardinality)!==null&&n!==void 0?n:1,p=c!=null&&c.get?c.toJS():c,v={parts:{},score:0};if(v.parts.field=f?o!=null:Vf(o,s,r),v.parts.operator=!!l,v.parts.value=(u==null||(a=u.filter(function(g,y){return Vf(g,p==null?void 0:p[y],r,f)}))===null||a===void 0?void 0:a.size)>=(f?Math.min(d,1):d),v.score=Object.keys(v.parts).filter(function(g){return!!v.parts[g]}).length,f&&v.score<3){var h=!0;!v.parts.value&&s==="func"&&Vf(o,s,r,!1,h)&&v.score++,v.parts.field||u==null||u.map(function(g,y){(p==null?void 0:p[y])==="func"&&Vf(g,p==null?void 0:p[y],r,!1,h)&&v.score++})}return v},Vf=function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(!i&&r=="func"&&e){var o,s=(o=e.get)===null||o===void 0?void 0:o.call(e,"func"),l=Gr(n,s);if(l){var u=e.get("args");for(var c in l.args){var f=l.args[c],d=u?u.get(c):void 0,p=d?d.get("value"):void 0,v=d?d.get("valueSrc"):void 0;if(p==null&&(f==null?void 0:f.defaultValue)===void 0&&!(f!=null&&f.isOptional)||p!=null&&!t(p,v,n,a?i:!0))return!1}return!0}}return e!=null},Es=function(e,r,n){return r=="func"?bP(e,n):e},A0=function t(e){var r=e.get("children1");if((r==null?void 0:r.size)==1){var n=r.first(),i=n.get("type");return i==="group"?t(n):n}return null};const bae=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:EP,completeValue:Es,filterValueSourcesForField:is,formatFieldName:Ja,getFieldPartsConfigs:CP,getFieldPathLabels:nf,getFirstOperator:w0,getFuncPathLabels:pae,getOneChildOrDescendant:A0,getOperatorsForField:uh,getOperatorsForType:wP,getValueLabel:hae,getValueSourcesForFieldOp:TP,getWidgetForFieldOp:vr,getWidgetsForFieldOp:vae,isEmptyGroupChildren:T0,isEmptyItem:C0,isEmptyRuleGroupExtPropertiesAndChildren:kP,isEmptyRuleProperties:k0,selectTypes:lh,whatRulePropertiesAreCompleted:I0},Symbol.toStringTag,{value:"Module"}));var _ae=th,Sae=kc;function Oae(t,e,r){(r!==void 0&&!Sae(t[e],r)||r===void 0&&!(e in t))&&_ae(t,e,r)}var IP=Oae;function xae(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var wae=xae,Eae=wae,Cae=Eae(),AP=Cae,Tae=Wl,kae=Oa;function Iae(t){return kae(t)&&Tae(t)}var Aae=Iae;function Pae(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var PP=Pae,jae=fu,Lae=Zc;function Fae(t){return jae(t,Lae(t))}var Rae=Fae,OO=IP,$ae=II,Nae=jI,Dae=AI,Mae=LI,xO=mp,wO=ni,Vae=Aae,Bae=yp,qae=cm,Hae=Ei,zae=f0,Uae=ym,EO=PP,Wae=Rae;function Gae(t,e,r,n,i,a,o){var s=EO(t,r),l=EO(e,r),u=o.get(l);if(u){OO(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=wO(l),p=!d&&Bae(l),v=!d&&!p&&Uae(l);c=l,d||p||v?wO(s)?c=s:Vae(s)?c=Dae(s):p?(f=!1,c=$ae(l,!0)):v?(f=!1,c=Nae(l,!0)):c=[]:zae(l)||xO(l)?(c=s,xO(s)?c=Wae(s):(!Hae(s)||qae(s))&&(c=Mae(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),OO(t,r,c)}var Yae=Gae,Kae=gp,Jae=IP,Qae=AP,Xae=Yae,Zae=Ei,eoe=Zc,toe=PP;function jP(t,e,r,n,i){t!==e&&Qae(e,function(a,o){if(i||(i=new Kae),Zae(a))Xae(t,e,o,r,jP,n,i);else{var s=n?n(toe(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Jae(t,o,s)}},eoe)}var LP=jP,roe=rh,noe=EI,ioe=CI;function aoe(t,e){return ioe(noe(t,e,roe),t+"")}var ooe=aoe,soe=kc,loe=Wl,uoe=bp,coe=Ei;function foe(t,e,r){if(!coe(r))return!1;var n=typeof e;return(n=="number"?loe(r)&&uoe(e,r.length):n=="string"&&e in r)?soe(r[e],t):!1}var FP=foe,doe=ooe,poe=FP;function hoe(t){return doe(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&poe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var RP=hoe,voe=LP,goe=RP,moe=goe(function(t,e,r){voe(t,e,r)}),yoe=moe;const boe=tn(yoe);var $P={exports:{}};(function(t){var e=function(){function r(d,p){return p!=null&&d instanceof p}var n;try{n=Map}catch(d){n=function(){}}var i;try{i=Set}catch(d){i=function(){}}var a;try{a=Promise}catch(d){a=function(){}}function o(d,p,v,h,g){typeof p=="object"&&(v=p.depth,h=p.prototype,g=p.includeNonEnumerable,p=p.circular);var y=[],m=[],_=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof v>"u"&&(v=1/0);function b(S,O){if(S===null)return null;if(O===0)return S;var x,C;if(typeof S!="object")return S;if(r(S,n))x=new n;else if(r(S,i))x=new i;else if(r(S,a))x=new a(function(R,U){S.then(function(V){R(b(V,O-1))},function(V){U(b(V,O-1))})});else if(o.__isArray(S))x=[];else if(o.__isRegExp(S))x=new RegExp(S.source,f(S)),S.lastIndex&&(x.lastIndex=S.lastIndex);else if(o.__isDate(S))x=new Date(S.getTime());else{if(_&&Buffer.isBuffer(S))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(S.length):x=new Buffer(S.length),S.copy(x),x;r(S,Error)?x=Object.create(S):typeof h>"u"?(C=Object.getPrototypeOf(S),x=Object.create(C)):(x=Object.create(h),C=h)}if(p){var A=y.indexOf(S);if(A!=-1)return m[A];y.push(S),m.push(x)}r(S,n)&&S.forEach(function(R,U){var V=b(U,O-1),$=b(R,O-1);x.set(V,$)}),r(S,i)&&S.forEach(function(R){var U=b(R,O-1);x.add(U)});for(var w in S){var k;C&&(k=Object.getOwnPropertyDescriptor(C,w)),!(k&&k.set==null)&&(x[w]=b(S[w],O-1))}if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(S),w=0;w<E.length;w++){var I=E[w],j=Object.getOwnPropertyDescriptor(S,I);j&&!j.enumerable&&!g||(x[I]=b(S[I],O-1),j.enumerable||Object.defineProperty(x,I,{enumerable:!1}))}if(g)for(var L=Object.getOwnPropertyNames(S),w=0;w<L.length;w++){var M=L[w],j=Object.getOwnPropertyDescriptor(S,M);j&&j.enumerable||(x[M]=b(S[M],O-1),Object.defineProperty(x,M,{enumerable:!1}))}return x}return b(d,v)}o.clonePrototype=function(p){if(p===null)return null;var v=function(){};return v.prototype=p,new v};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=u;function c(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=c;function f(d){var p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),p}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)})($P);var _oe=$P.exports;const fi=tn(_oe);var NP={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(kn,function(){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});function r(a){for(var o=[],s=0,l=a.length;s<l;s++)o.indexOf(a[s])===-1&&o.push(a[s]);return o}var n={},i={"==":function(a,o){return a==o},"===":function(a,o){return a===o},"!=":function(a,o){return a!=o},"!==":function(a,o){return a!==o},">":function(a,o){return a>o},">=":function(a,o){return a>=o},"<":function(a,o,s){return s===void 0?a<o:a<o&&o<s},"<=":function(a,o,s){return s===void 0?a<=o:a<=o&&o<=s},"!!":function(a){return n.truthy(a)},"!":function(a){return!n.truthy(a)},"%":function(a,o){return a%o},log:function(a){return console.log(a),a},in:function(a,o){return!o||typeof o.indexOf>"u"?!1:o.indexOf(a)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(a,o,s){if(s<0){var l=String(a).substr(o);return l.substr(0,l.length+s)}return String(a).substr(o,s)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)+parseFloat(o,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)*parseFloat(o,10)})},"-":function(a,o){return o===void 0?-a:a-o},"/":function(a,o){return a/o},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,o){return a.concat(o)},[])},var:function(a,o){var s=o===void 0?null:o,l=this;if(typeof a>"u"||a===""||a===null)return l;for(var u=String(a).split("."),c=0;c<u.length;c++)if(l==null||(l=l[u[c]],l===void 0))return s;return l},missing:function(){for(var a=[],o=Array.isArray(arguments[0])?arguments[0]:arguments,s=0;s<o.length;s++){var l=o[s],u=n.apply({var:l},this);(u===null||u==="")&&a.push(l)}return a},missing_some:function(a,o){var s=n.apply({missing:o},this);return o.length-s.length>=a?[]:s}};return n.is_logic=function(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&Object.keys(a).length===1},n.truthy=function(a){return Array.isArray(a)&&a.length===0?!1:!!a},n.get_operator=function(a){return Object.keys(a)[0]},n.get_values=function(a){return a[n.get_operator(a)]},n.apply=function(a,o){if(Array.isArray(a))return a.map(function(g){return n.apply(g,o)});if(!n.is_logic(a))return a;var s=n.get_operator(a),l=a[s],u,c,f,d,p;if(Array.isArray(l)||(l=[l]),s==="if"||s=="?:"){for(u=0;u<l.length-1;u+=2)if(n.truthy(n.apply(l[u],o)))return n.apply(l[u+1],o);return l.length===u+1?n.apply(l[u],o):null}else if(s==="and"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),!n.truthy(c))return c;return c}else if(s==="or"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),n.truthy(c))return c;return c}else{if(s==="filter")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.filter(function(g){return n.truthy(n.apply(f,g))}):[];if(s==="map")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.map(function(g){return n.apply(f,g)}):[];if(s==="reduce")return d=n.apply(l[0],o),f=l[1],p=typeof l[2]<"u"?n.apply(l[2],o):null,Array.isArray(d)?d.reduce(function(g,y){return n.apply(f,{current:y,accumulator:g})},p):p;if(s==="all"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(!n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="none"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!0;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="some"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!0;return!1}}if(l=l.map(function(g){return n.apply(g,o)}),i.hasOwnProperty(s)&&typeof i[s]=="function")return i[s].apply(o,l);if(s.indexOf(".")>0){var v=String(s).split("."),h=i;for(u=0;u<v.length;u++){if(!h.hasOwnProperty(v[u]))throw new Error("Unrecognized operation "+s+" (failed at "+v.slice(0,u+1).join(".")+")");h=h[v[u]]}return h.apply(o,l)}throw new Error("Unrecognized operation "+s)},n.uses_data=function(a){var o=[];if(n.is_logic(a)){var s=n.get_operator(a),l=a[s];Array.isArray(l)||(l=[l]),s==="var"?o.push(l[0]):l.forEach(function(u){o.push.apply(o,n.uses_data(u))})}return r(o)},n.add_operation=function(a,o){i[a]=o},n.rm_operation=function(a){delete i[a]},n.rule_like=function(a,o){if(o===a||o==="@")return!0;if(o==="number")return typeof a=="number";if(o==="string")return typeof a=="string";if(o==="array")return Array.isArray(a)&&!n.is_logic(a);if(n.is_logic(o)){if(n.is_logic(a)){var s=n.get_operator(o),l=n.get_operator(a);if(s==="@"||s===l)return n.rule_like(n.get_values(a,!1),n.get_values(o,!1))}return!1}if(Array.isArray(o))if(Array.isArray(a)){if(o.length!==a.length)return!1;for(var u=0;u<o.length;u+=1)if(!n.rule_like(a[u],o[u]))return!1;return!0}else return!1;return!1},n})})(NP);var Soe=NP.exports;const P0=tn(Soe);function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ooe(t,e){return P0.apply(t,e)}function xoe(t,e){return P0.add_operation(t,e)}var kO={CALL:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e.call.apply(e,[r].concat(i))},JSX:function(e,r){return{type:e,props:r}},mergeObjects:function(e,r){return TO(TO({},e),r)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(e==null?void 0:e.length)||0},regexTest:function(e,r,n){return(e==null?void 0:e.match(new RegExp(r,n)))!=null},now:function(){return new Date},date_add:function(e,r,n){return Pe(e).add(r,n).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function woe(){for(var t in kO)xoe(t,kO[t])}function Eoe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Coe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Coe(t,e){if(t){if(typeof t=="string")return IO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(t,e)}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}woe();function DP(t,e,r){var n;try{n=P0.apply(t,e)}catch(i){throw i.message="".concat(r.join(".")," :: ").concat(i.message),i}return n}function MP(t,e,r,n){var i;try{i=e.call.apply(e,[t].concat(Ce(r)))}catch(a){throw a.message="".concat(n.join(".")," :: ").concat(a.message),a}return i}var sa=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],Ec={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},j0=yn(yn({},Ec),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),VP={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},Toe={formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}},BP={widgetProps:j0,opProps:VP},koe={renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}},PO=yn(yn({},Ec),{},{fieldSettings:Ec}),qP=yn(yn({},Ec),{},{fieldSettings:Ec,widgets:{x:BP},mainWidgetProps:j0}),Ioe={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:qP,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},Aoe={fields:{x:qP},widgets:{x:j0},conjunctions:{x:Toe},operators:{x:VP},types:{x:{widgets:{x:BP}}},funcs:{x:yn(yn(yn({},PO),koe),{},{args:{x:yn({},PO)}})},settings:Ioe},hl=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},HP=function(e,r){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var n=Sa(e,sa);delete n.ctx;for(var i=function u(c,f,d,p){if(hl(c)){if(Xc(c)&&(c=n0(c)),d[0]==="funcs"&&!f){var v=d[d.length-1];f=Ui({funcs:p.BasicFuncs},v,"funcs","subfields")||void 0,f&&(c.$$key=v)}if(f!==void 0&&hl(f))for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(!Object.keys(c).includes(h)||c[h]===void 0&&f[h]!==void 0?c[h]="$$deleted":(c[h]=u(c[h],f[h],[].concat(Ce(d),[h]),p),c[h]===void 0&&delete c[h]));for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)){if(!f||!Object.keys(f).includes(g)){var y;c[g]=u(c[g],(y=f)===null||y===void 0?void 0:y[g],[].concat(Ce(d),[g]),p)}c[g]===void 0&&delete c[g]}Object.keys(c).length===0&&(c=void 0)}else Array.isArray(c)&&c.forEach(function(m,_){c[_]=u(c[_],void 0,[].concat(Ce(d),[_]),p)});if(!(f!==void 0&&Qc(c,f,!0))){if(typeof c=="function")throw new Error("compressConfig: function at ".concat(d.join(".")," should be converted to JsonLogic"));return c}},a=0,o=sa;a<o.length;a++){var s=o[a];if(s!=="ctx")if(s==="fields")n[s]=fi(n[s]),i(n[s],{},[s]);else if(s==="funcs"){n[s]=fi(n[s]||{});for(var l in n[s])i(n[s][l],null,[s,l],{BasicFuncs:TE})}else n[s]=fi(n[s]),i(n[s],r[s],[s])}return n},zP=function(e,r,n){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var i={},a=function c(f,d,p){if(hl(d)){hl(f)||(f={});for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(d[v]==="$$deleted"?delete f[v]:f[v]=c(f[v],d[v],[].concat(Ce(p),[v])))}else Array.isArray(d)?f=fi(d):f=d;return f},o=function c(f,d,p){var v=!1;if(hl(f)&&Object.prototype.hasOwnProperty.call(f,"$$key")&&f.$$key){var h=Ui({funcs:p.BasicFuncs},f.$$key,"funcs","subfields");if(h)delete f.$$key,f=a(fi(h),f,d),v=!0;else throw new Error("decompressConfig: basic function not found by key ".concat(f.$$key," at ").concat(d.join(".")))}if(!v){if(hl(f))for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(f[g]=c(f[g],[].concat(Ce(d),[g]),p));else if(Array.isArray(f)){var y=Eoe(f),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;f[_]=c(f[_],[].concat(Ce(d),[_]),p)}}catch(b){y.e(b)}finally{y.f()}}}return f},s=0,l=sa;s<l.length;s++){var u=l[s];u==="ctx"?i[u]=boe({},r.ctx||{},n||{}):u==="funcs"?(i[u]=fi(e[u]||{}),o(i[u],[u],{BasicFuncs:TE})):u==="fields"?i[u]=fi(e[u]||{}):(i[u]=fi(r[u]||{}),a(i[u],e[u]||{},[u]))}return i},UP=function(e){if(e.__compliled)return e;e=fi(e);var r={ctx:e.ctx},n=[];return hd(e,e,r,Aoe,n),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function hd(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];if(e){a.length;for(var o in n){var s=n[o],l=o==="x"?a:[].concat(Ce(a),[o]);if(s.type==="r"){var u=e,c=u[o];if(s.isArr)for(var f in c){var d=Nl(c[f],r,[].concat(Ce(l),[f]));d!==c[f]&&(i.push("Compiled ".concat(l.join("."),"[").concat(f,"]")),c[f]=d)}else{var p=Nl(c,r,l,void 0);p!==c&&(i.push("Compiled R ".concat(l.join("."))),u[o]=p)}}else if(s.type==="rf"){var v=e,h=v[o],g=Poe(h,r,l,s.ignore);g!==h&&(i.push("Compiled JL-RF ".concat(l.join("."))),v[o]=g)}else if(s.type==="f"){var y=e,m=y[o],_=joe(m,r,l,s.args,s.ignore);if(s.invokeWith&&_&&typeof _=="function"){var b;_=(b=_).call.apply(b,[null].concat(Ce(s.invokeWith)))}_!==m&&(i.push("Compiled JL-F ".concat(l.join("."))),y[o]=_)}else if(o==="x")for(var S in e){l=[].concat(Ce(a),[S]);var O=e[S];hd(t,O,r,s,i,l),O.subfields&&hd(t,O.subfields,r,n,i,l)}else{var x=e[o];hd(t,x,r,s,i,l)}}}}function Poe(t,e,r){return Pn(t)?function(n,i){i=i||(e==null?void 0:e.ctx);var a={props:n,ctx:i},o=DP(t,a,r);typeof o=="string"&&(o={type:o,props:n});var s=Nl(o,{ctx:i},r);return s}:typeof t=="string"?function(n,i){i=i||(e==null?void 0:e.ctx);var a=t.split(".").reduce(function(l,u){return l==null?void 0:l[u]},i);if(a)return MP(this,a,[n,i],r);var o={type:t,props:n},s=Nl(o,{ctx:i},r);return s}:t}function joe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Pn(t)&&i!=="jl"?(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=this||(e==null?void 0:e.ctx),u=(n||[]).reduce(function(f,d,p){return yn(yn({},f),{},le({},d,o[p]))},{args:o,ctx:l}),c=DP(t,u,r);return c}).bind(e==null?void 0:e.ctx):typeof t=="string"&&i!=="string"?(function(){var a=this||(e==null?void 0:e.ctx),o=t.split(".").reduce(function(c,f){return c==null?void 0:c[f]},a);if(o){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return MP(this,o,l,r)}else throw new Error("".concat(r.join(".")," :: Function ").concat(t," is not found in ctx"))}).bind(e==null?void 0:e.ctx):t}function Loe(t,e){var r;return(e==null||(r=e.components)===null||r===void 0?void 0:r[t])||e.W[t]||e.O[t]}function Nl(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;if(i0(t)){var i,a=t.type,o=t.props;if(typeof a!="string")throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var s=Loe(a,e.ctx)||a.toLowerCase(),l;n!==void 0&&(o=yn(yn({},o),{},{key:n})),(i=o)!==null&&i!==void 0&&i.children&&(l=Nl(o.children,e,r),o=yn(yn({},o),{},{children:l}));var u=e.ctx.RCE(s,o);return u}else if(t instanceof Array)return t.map(function(c,f){return Nl(c,e,r,""+f)});return t}var Foe=LP,Roe=RP,$oe=Roe(function(t,e,r,n){Foe(t,e,r,n)}),Noe=$oe;const Doe=tn(Noe);var WP={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,r,n,i,a,o){return o?n:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function fv(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Moe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Moe(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Voe=0,LO=0,xl,Jd={},GP=function(){return xl||(xl=KP({reactIndex:void 0,maxSize:3,canCompile:void 0})),xl},YP=function(e,r){var n;for(var i in Jd){var a=Jd[i].findExtendedConfig(e,r);if(a){n=a;break}}return n},KP=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=e.maxSize||2,i=++Voe,a,o=function(h){return Sa(h,sa)},s=function(h){var g=oi(h,++LO,e.canCompile);return u(h,g),g},l=function(){return r.size},u=function(h,g){r.size+1>n&&r.delete(r.keys().next().value),r.set(h,g)},c=function(h){var g=fv(r.keys()),y;try{var m=function(){var S=y.value,O=r.get(S),x=sa.map(function(C){return O[C]===h[C]}).filter(function(C){return!C}).length===0;if(x)return{v:S}},_;for(g.s();!(y=g.n()).done;)if(_=m(),_)return _.v}catch(b){g.e(b)}finally{g.f()}return h},f=function(h,g){var y=fv(r.keys()),m;try{var _=function(){var w=m.value,k=sa.filter(function(I){return w[I]===h[I]}),E=k.length===sa.length&&(g?w.__compliled:!0);if(E)return{v:r.get(w)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(A){y.e(A)}finally{y.f()}var S=fv(r.values()),O;try{var x=function(){var w=O.value,k=sa.filter(function(I){return w[I]===h[I]}),E=k.length===sa.length&&(g?w.__compliled:!0);if(E)return{v:w}},C;for(S.s();!(O=S.n()).done;)if(C=x(),C)return C.v}catch(A){S.e(A)}finally{S.f()}return null},d=function(h){return f(h)||s(h)},p=function(){r.clear(),delete Jd[i],xl===a&&(xl=void 0)};return a={getExtendedConfig:function(h){return d(o(h))},findExtendedConfig:f,getBasicConfig:c,clearConfigMemo:p,configId:LO,storeConfigPair:u,getSize:l,configStore:r,memoId:i,meta:e},e.reactIndex===void 0&&(xl=a),Jd[i]=a,a};function L0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Boe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Boe(t,e){if(t){if(typeof t=="string")return FO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(t,e)}}function FO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n=n&&e.settings.useConfigCompress,e.__configId)return e;var i=YP(e,n);if(i)return i;var a=e;n?e.__compliled?e=fi(e):e=UP(e):e=fi(e),e.settings=Doe({},WP,e.settings,uI),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},qoe(e.types,e),JP(e.fields,e),QP(e.funcs,e);var o=e.settings.caseValueField;o&&Qd(o,e,[],!1,!0);var s=e.settings.locale.moment;s&&Pe.locale(s),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:r||Ft()}),e.__cache={},fI(e);var l=GP();return l.storeConfigPair(a,e),e};function qoe(t,e){for(var r in t){var n=t[r];Hoe(r,n,e)}}function Hoe(t,e,r){var n=null,i=null;e.mainWidget=e.mainWidget||Object.keys(e.widgets).filter(function(p){return p!="field"&&p!="func"})[0];var a=e.excludeOperators||[];for(var o in e.widgets){var s=e.widgets[o],l=s.defaultOperator;if(s.operators){var u=s.operators.filter(function(p){return!a.includes(p)});n=qd(n,u)}l&&!a.includes(l)&&(!i||o===e.mainWidget)&&(i=l),o==e.mainWidget&&(s.widgetProps=li(li({},e.mainWidgetProps||{}),s.widgetProps||{})),e.widgets[o]=s}e.valueSources||(e.valueSources=Object.keys(r.settings.valueSourcesInfo));var c=L0(e.valueSources),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;d!="value"&&!e.widgets[d]&&(e.widgets[d]={})}}catch(p){c.e(p)}finally{c.f()}!e.operators&&n&&(e.operators=Array.from(new Set(n))),!e.defaultOperator&&i&&(e.defaultOperator=i)}function JP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var n in t){var i=[].concat(Ce(r),[n]);Qd(t[n],e,i),t[n].subfields&&JP(t[n].subfields,e,i)}}function QP(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";for(var a in t){var o=[].concat(Ce(n),[a]),s=o.join(i),l=t[a];if(l.returnType&&(l.type=l.returnType,e.__funcsCntByType[l.returnType]||(e.__funcsCntByType[l.returnType]=0),e.__funcsCntByType[l.returnType]++),Qd(l,e,o,!1),l.args){for(var u in l.args)Qd(l.args[u],e,[].concat(Ce(o),[u]),!0);var c=Object.keys(l.args),f=!0,d=L0(c.reverse()),p;try{for(d.s();!(p=d.n()).done;){var v=p.value,h=l.args[v];!f&&h.isOptional&&(Eo.info("Arg ".concat(v," for func ").concat(s," can't be optional")),delete h.isOptional),h.isOptional||(f=!1)}}catch(g){d.e(g)}finally{d.f()}}l.subfields&&QP(l.subfields,e,[].concat(Ce(n),[a]))}}}function zoe(t,e,r){for(var n,i,a=["listValues","treeValues","allowCustomValues","validateValue"],o=0,s=a;o<s.length;o++){var l=s[o];t[l]&&(t.fieldSettings||(t.fieldSettings={}),t.fieldSettings[l]=t[l],delete t[l])}(n=t.fieldSettings)!==null&&n!==void 0&&n.listValues&&e.settings.normalizeListValues&&(t.fieldSettings.listValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.listValues,r,t.fieldSettings)),(i=t.fieldSettings)!==null&&i!==void 0&&i.treeValues&&e.settings.normalizeListValues&&(t.fieldSettings.treeValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.treeValues,r,t.fieldSettings))}function Qd(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=e.settings,s=o.showLabels,l=o.fieldSeparator;l=(r=l)!==null&&r!==void 0?r:".";var u=n[n.length-1],c=i?n.slice(0,n.length-1).join(l):n.join(l),f=!!t.returnType,d=t.type||t.returnType,p=e.types[d],v=t.excludeOperators||[],h=(t.operators||(p==null?void 0:p.operators)||[]).filter(function(A){return!v.includes(A)}),g=t.defaultOperator||(p==null?void 0:p.defaultOperator);v.includes(g)&&(g=void 0);var y=!!g&&g==t.defaultOperator;if(y&&(t.ownDefaultOperator=t.defaultOperator),!p){t.disabled=!0;return}!i&&!f&&!a&&(e.__fieldsCntByType[d]||(e.__fieldsCntByType[d]=0),e.__fieldsCntByType[d]++),i&&(t._isFuncArg=!0,t._argKey=u,t._funcKey=c),f&&(t._isFunc=!0,t._funcKey=c),a&&(t._isCaseValue=!0),zoe(t,e,d);var m=["widgets","operators","defaultOperator"];Object.keys(p).filter(function(A){return!m.includes(A)}).map(function(A){t[A]||(t[A]=sI(p[A]))});var _=p.excludeOperators||[];t.operators&&(_=_.filter(function(A){return!t.operators.includes(A)})),t.widgets||(t.widgets={});var b=function(){var w=li({},t.widgets[S]||{}),k=p.widgets[S]||{};if(!i){var E=w.defaultOperator,I=[].concat(Ce(v),Ce(_)),j=t.preferWidgets&&(S==="field"||t.preferWidgets.includes(S))||I.length>0;if(w.operators){var L=w.operators.filter(function(G){return!I.includes(G)});w.operators=L,h=qd(h,L)}else if(j&&k.operators){var M=k.operators.filter(function(G){return!I.includes(G)});w.operators=M,h=qd(h,M)}E&&!I.includes(E)&&(!g||!y&&S===t.mainWidget)&&(g=E)}S===t.mainWidget?w.widgetProps=li(li(li({},k.widgetProps||{}),t.mainWidgetProps||{}),w.widgetProps||{}):w.widgetProps=li(li({},k.widgetProps||{}),w.widgetProps||{});var R=Array.from(new Set([].concat(Ce(Object.keys(k.opProps||{})),Ce(Object.keys(w.opProps||{})))));if(R.length){var U={},V=L0(R),$;try{for(V.s();!($=V.n()).done;){var F,N,B=$.value;U[B]=li(li({},((F=k.opProps)===null||F===void 0?void 0:F[B])||{}),((N=w.opProps)===null||N===void 0?void 0:N[B])||{})}}catch(G){V.e(G)}finally{V.f()}w.opProps=U}var z=w,H=z.valueLabel,D=z.valuePlaceholder;i&&(H||(w.valueLabel=t.label||u),!D&&!s&&(w.valuePlaceholder=t.label||u)),w=li(li({},k),w),t.widgets[S]=w};for(var S in p.widgets)b();if(i||(t.operators||(t.operators=Array.from(new Set(h))),t.defaultOperator||(t.defaultOperator=g)),!i&&!f&&!a){var O=Uoe(e,n),x=O.fieldName,C=O.inGroup;x&&(t.fieldName=x,e.__fieldNames[x]||(e.__fieldNames[x]=[]),e.__fieldNames[x].push({fullPath:n,inGroup:C}))}}function Uoe(t,e){if(!e)return{};var r=t.settings.fieldSeparator,n=Ce(e).reduce(function(s,l,u,c){var f=s.computedPath,d=s.computed,p=s.inGroup,v=[].concat(Ce(c.slice(0,u)),[l]),h=Ui(t,v);return(h==null?void 0:h.type)==="!group"&&u<c.length-1?(p=v.join(r),f=[]):h!=null&&h.fieldName?(d=!0,f=[h.fieldName]):f=[].concat(Ce(f),[l]),{computedPath:f,computed:d,inGroup:p}},{computedPath:[],computed:!1,inGroup:void 0}),i=n.computedPath,a=n.computed,o=n.inGroup;return a?{fieldName:i.join(r),inGroup:o}:{}}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Woe=Br.mark(pu),Goe=Br.mark(XP),Yoe=ws;function pu(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(F0(t,t.funcs||{},[]),"t0",1);case 1:case"end":return r.stop()}},Woe)}function XP(t){return Br.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(F0(t,t.fields||{},[]),"t0",1);case 1:case"end":return r.stop()}},Goe)}function F0(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";return Br.mark(function i(a){var o,s,l;return Br.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=(t==null||(a=t.settings)===null||a===void 0?void 0:a.fieldSeparator)||".",c.t0=Br.keys(e);case 2:if((c.t1=c.t0()).done){c.next=13;break}if(s=c.t1.value,l=e[s],!l[n]){c.next=9;break}return c.delegateYield(F0(t,l[n],[].concat(Ce(r),[s]),n),"t2",7);case 7:c.next=11;break;case 9:return c.next=11,[[].concat(Ce(r),[s]).join(o),l];case 11:c.next=2;break;case 13:case"end":return c.stop()}},i)})()}var Ui=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r==="!case_value"){var o;return e==null||(o=e.settings)===null||o===void 0?void 0:o.caseValueField}var s=(e==null||(n=e.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",l=Rr(r,e),u=e[i];if(!u)return null;for(var c=u,f=null,d=[],p=0;p<l.length;p++){var v=l[p];d.push(v);var h=d.join(s);f=c[h],p<l.length-1&&(f&&f[a]?(c=f[a],d=[]):f=null)}return f},Xd=function(e,r){var n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=e.settings.fieldSeparator,s=[a].concat(Ce(r.split(o))).filter(function(c){return c!=null}),l=r,u=(n=e.__fieldNames[l])===null||n===void 0||(i=n.find)===null||i===void 0||(i=i.call(n,function(c){var f=c.inGroup;return f?a==null?void 0:a.startsWith(f):!0}))===null||i===void 0?void 0:i.fullPath;return(u||s).join(o)},Fg=function(e,r){if(!r)return null;var n=Ui(e,r,"funcs","subfields");if(!n)return null;var i=n.returnType,a=n.args,o=Object.fromEntries(Object.entries(a||{}).map(function(l){var u=ke(l,2),c=u[0],f=u[1],d=Sa(f,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"]);return[c,d]})),s={returnType:i,args:o};return s},Gr=function(e,r){if(!r)return null;var n=Ui(e,r,"funcs","subfields");return n||null},Rg=function(e,r,n){var i=Gr(e,r);if(!i)return null;var a=i.args&&i.args[n]||null;return a||null},ZP=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return!1;var a=(i==null||(n=i.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",o=aa(e,i),s=aa(r,i);return o.startsWith(s+a)},aa=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string")return e;var i=(n==null||(r=n.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";return Rr(e,n).join(i)},Rr=function(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var o=(a==null||(r=a.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";if(e!=null&&e.func)return Array.isArray(e.func)?e.func:e.func.split(o);if(e!=null&&(n=e.get)!==null&&n!==void 0&&n.call(e,"func")){var s;return e==null||(s=e.get)===null||s===void 0?void 0:s.call(e,"func").split(o)}return(e==null||(i=e.split)===null||i===void 0?void 0:i.call(e,o))||[]},Koe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)return null;var i=r.settings.fieldSeparator,a=Rr(e,r);return n?a:a.map(function(o,s,l){return l.slice(0,s+1)}).map(function(o){return o.join(i)})},ch=function(e){var r;if(typeof e=="string"||Array.isArray(e))return"field:".concat(aa(e));if(xt(e)==="object"&&e){if(e._funcKey&&e._argKey)return"arg:".concat(aa(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(aa(e._funcKey));if(e.func&&e.arg)return"arg:".concat(aa(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(aa(e.func));if(e.type)return null}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?"arg:".concat(aa(e.get("func")),"__").concat(e.get("arg")):"func:".concat(aa(e.get("func"))):null},fh=function(e,r,n){var i;return(i=e.__cache)===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i[n]},dh=function(e,r,n,i){!e.__cache||!n||(e.__cache[r]||(e.__cache[r]={}),e.__cache[r][n]=i)},ej=function(e){var r;if(!e)return null;if(xt(e)==="object"){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?null:"func":"field"},Me=function(e,r){var n;if(!r)return null;if(xt(r)=="object"){if(!r.func&&r.type)return r;if(r.func)return r.func&&r.arg?Rg(e,r.func,r.arg):Gr(e,r.func)}if(r!=null&&(n=r.get)!==null&&n!==void 0&&n.call(r,"func"))return r!=null&&r.get("arg")?Rg(e,r.get("func"),r.get("arg")):Gr(e,r.get("func"));var i=Ui(e,r);return i||null},jt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var i=e.operators[r];if(n){var a,o,s=ch(n),l=s?"".concat(s,"__").concat(r):null,u=fh(e,"getOperatorConfig",l);if(u)return u;var c=Me(e,n),f=vr(e,n,r,null),d=e.widgets[f]||{},p=(c&&c.widgets?c.widgets[f]:{})||{},v=((a=d.opProps)===null||a===void 0?void 0:a[r])||{},h=((o=p.opProps)===null||o===void 0?void 0:o[r])||{},g=Jo(Jo(Jo({},i),v),h);return dh(e,"getOperatorConfig",l,g),g}else return i},On=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!r)return null;var l=Me(e,r),u=ch(r);a||(a=vr(e,r,i,o));var c=u?"".concat(u,"__").concat(i,"__").concat(a,"__").concat(o):null,f=fh(e,"getFieldWidgetConfig",c);if(f)return f;var d=e.widgets[a]||{},p=(l==null||(n=l.widgets)===null||n===void 0?void 0:n[a])||{},v=p.widgetProps||{},h=o==="value"||!o?l==null?void 0:l.fieldSettings:{},g=Jo(Jo(Jo(Jo({},d),p),v),h);return dh(e,"getFieldWidgetConfig",c,g),s.forExport&&(g=ai(g,"factory")),g},tj=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=e.settings.fieldSeparator,i=Rr(r,e),a=r?Ui(e,r):e,o=a,s=null,l=[];do{var u,c=o===e?e.fields:(u=o)===null||u===void 0?void 0:u.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while(o.type=="!struct"||o.type=="!group");return(i||[]).concat(l).join(n)};const Joe=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:fh,_saveToConfigCache:dh,_widgetDefKeysToOmit:Yoe,applyJsonLogic:Ooe,cleanJSX:n0,compileConfig:UP,compressConfig:HP,configKeys:sa,createConfigMemo:KP,decompressConfig:zP,extendConfig:oi,findExtendedConfigInAllMemos:YP,getCommonMemo:GP,getFieldConfig:Me,getFieldId:ch,getFieldParts:Rr,getFieldPath:aa,getFieldPathParts:Koe,getFieldRawConfig:Ui,getFieldSrc:ej,getFieldWidgetConfig:On,getFirstField:tj,getFuncArgConfig:Rg,getFuncConfig:Gr,getFuncSignature:Fg,getOperatorConfig:jt,isDirtyJSX:Xc,isFieldDescendantOfField:ZP,isJSX:i0,iterateFields:XP,iterateFuncs:pu,normalizeField:Xd},Symbol.toStringTag,{value:"Module"}));function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qoe=function(e,r){var n={usedFields:[]},i=rj(e,r,n);if(i)return DO(DO({},i),n)},rj=function(e,r,n){if(e){var i=e.get("type"),a=e.get("children1");if((i==="group"||i==="rule_group")&&a&&a.size)return Xoe(e,r,n);if(i==="rule")return Zoe(e,r,n)}},Xoe=function(e,r,n){var i=e.get("properties")||new lr,a=e.get("children1"),o=e.get("id"),s=a.map(function(f){return rj(f,r,n)}).filter(function(f){return typeof f<"u"});if(s.size){var l=i.get("conjunction");l||(l=ka(r));var u=i.get("not"),c={id:o,rules:s.toList(),condition:l.toUpperCase(),not:u};return c}},Zoe=function(e,r,n){var i,a=e.get("properties")||new lr,o=e.get("id"),s=a.get("operator"),l=a.get("operatorOptions"),u=a.get("field"),c=a.get("value"),f=a.get("valueSrc"),d=a.get("valueType"),p=c.filter(function(w){return w===void 0}).size>0;if(!(u==null||s==null||p)){var v=Me(r,u)||{},h=jt(r,s,u)||{},g=v.type||"undefined",y=Ur(h),m=r.types[v.type]||{},_=Ja(u,r,n);if(!(c.size<y)){n.usedFields.indexOf(u)==-1&&n.usedFields.push(u),c=c.toArray(),f=f.toArray(),d=((i=d)===null||i===void 0?void 0:i.toArray())||[];for(var b=[],S=0;S<c.length;S++){var O={type:d[S],value:c[S]};if(b.push(O),f[S]=="field"){var x=c[S];n.usedFields.indexOf(x)==-1&&n.usedFields.push(x)}}var C=l?l.toJS():null;C&&!Object.keys(C).length&&(C=null);var A={id:o,fieldName:_,type:g,input:m.mainWidget,operator:s};return C&&(A.operatorOptions=C),A.values=b,A}}};function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nj(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ese(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ese(t,e){if(t){if(typeof t=="string")return BO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(t,e)}}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tse=function(e,r){var n={usedFields:[],errors:[]},i=oi(r,void 0,!1),a=ij(e,i,n,!1,!0),o=n.errors,s=n.usedFields;i.settings.fieldSeparator;var l={},u=nj(s),c;try{for(u.s();!(c=u.n()).done;)for(var f=c.value,d=Rr(f,r),p=Me(i,f)||{},v=l,h=0;h<d.length;h++){var g=d[h],y=Me(i,d.slice(0,h+1))||{};h!=d.length-1?y.type=="!group"&&y.mode!="struct"?(v[g]||(v[g]=[{}]),v=v[g][0]):(v[g]||(v[g]={}),v=v[g]):v[g]||(v[g]=null)}}catch(m){u.e(m)}finally{u.f()}return{errors:o,logic:a,data:l}},ij=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(e){var s=e.get("type"),l=e.get("properties")||new lr,u=l.get("isLocked"),c=r.settings.jsonLogic.lockedOp,f;return s==="group"||s==="rule_group"?f=aj(e,r,n,i,a,o):s==="rule"?f=rse(e,r,n,i,o):s=="switch_group"?f=nse(e,r,n,i):s=="case_group"&&(f=oj(e,r,n,i,o)),u&&f&&c&&(f=le({},c,f)),f}},aj=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,p=e.get("type"),v=e.get("properties")||new lr,h=v.get("mode"),g=e.get("children1")||new Zi,y=v.get("field"),m=Me(r,y),_=v.get("conjunction");_||(_=ka(r));var b=r.conjunctions[_],S=b.jsonLogicConj||_.toLowerCase(),O=!!v.get("not"),x=p==="rule_group"&&!f,C=x&&h!="struct",A=C?y:d,w=v.get("operator"),k=w&&jt(r,w,y)||null,E=R0(r,v,n,w,d),I=x&&(!w||((i=k)===null||i===void 0?void 0:i.cardinality)==0),j=x&&(g==null?void 0:g.size)>0;x&&(g!=null&&g.size);var L=O,M=!1;j?(M=O,L=c):c&&(L=!L);var R=!1,U=(a=k)===null||a===void 0?void 0:a.reversedOp,V=jt(r,U,y),$=!((o=k)!==null&&o!==void 0&&o.jsonLogic)&&!!((s=V)!==null&&s!==void 0&&s.jsonLogic),F=!!((l=V)!==null&&l!==void 0&&l.jsonLogic),N=(u=A0(e))===null||u===void 0?void 0:u.get("type"),B=!!r.settings.reverseOperatorsForNot&&(!x&&L&&N==="rule"||M&&(g==null?void 0:g.size)===1);B&&(j?M=!M:L=!L,R=!0);var z=L&&x&&F&&(!!r.settings.reverseOperatorsForNot||$);if(z){L=!L;var H=[U,w];w=H[0],U=H[1];var D=[V,k];k=D[0],V=D[1]}var G=g.map(function(fe){return ij(fe,r,n,R,!1,A)}).filter(function(fe){return typeof fe<"u"}),q=!!r.settings.exportPreserveGroups;if(C&&!I){if(E==null)return}else if(!G.size&&!q)return;var Y=f||q||G.size!=1;!Y&&O&&!R&&(Y=g.some(function(fe){var pe,Se,Q,re,de=(pe=fe.get("properties"))===null||pe===void 0?void 0:pe.get("operator"),ve=(Se=r.operators)===null||Se===void 0||(Se=Se[de])===null||Se===void 0?void 0:Se.reversedOp;return(Q=(re=r.operators)===null||re===void 0||(re=re[ve])===null||re===void 0?void 0:re._jsonLogicIsExclamationOp)!==null&&Q!==void 0?Q:!1}));var K={};if(Y?K[S]=G.toList().toJS():K=G.first(),M&&(K={"!":K}),C){var ie=$0(n,r,y,d);if(I){var te=w||"some";K=le({},te,[ie,K])}else{var oe=G.size?{filter:[ie,K]}:ie,ue={reduce:[oe,{"+":[1,{var:"accumulator"}]},0]};K=lj(r,v,ue,E,w,null,m)}}return L&&(K={"!":K}),K},rse=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,d=e.get("properties")||new lr,p=d.get("field"),v=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if(g=g?g.toJS():null,g&&!Object.keys(g).length&&(g=null),!(p==null||h==null)){var y=Me(r,p),m=jt(r,h,p),_=(i=m)===null||i===void 0?void 0:i.reversedOp,b=jt(r,_,p);if(!((a=m)!==null&&a!==void 0&&a.jsonLogic)&&!((o=b)!==null&&o!==void 0&&o.jsonLogic)){n.errors.push("Operator ".concat(h," is not supported"));return}var S=c,O=!((s=m)!==null&&s!==void 0&&s.jsonLogic)&&!!((l=b)!==null&&l!==void 0&&l.jsonLogic),x=!!((u=b)!==null&&u!==void 0&&u.jsonLogic),C=x&&(!!r.settings.reverseOperatorsForNot||O),A=S&&C||O;if(A){S=!S;var w=[_,h];h=w[0],_=w[1];var k=[b,m];m=k[0],b=k[1]}var E=R0(r,d,n,h,f);if(E!==void 0){var I=v==="func"?sj(n,r,p,f):$0(n,r,p,f);if(I!==void 0)return lj(r,d,I,E,h,g,y,S)}}},nse=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.get("children1");if(a){for(var o=a.map(function(b){return oj(b,r,n,i,null)}).filter(function(b){return typeof b<"u"}).valueSeq().toArray(),s=[],l=0;l<o.length;l++)l!==o.length-1&&!o[l][0]?n.errors.push("No condition for case ".concat(l)):(s.push(o[l]),l===o.length-1&&o[l][0]&&s.push([void 0,null]));if(s.length){if(s.length===1){var u=ke(s[0],2);u[0];var c=u[1];return c==null&&(c=null),c}var f={if:[]},d=f.if,p=ke(s[s.length-1],2);p[0];for(var v=p[1],h=0;h<s.length-1;h++){var g=h===s.length-2,y=ke(s[h],2),m=y[0],_=y[1];_==null&&(_=null),m==null&&(m=!0),d.push(m),d.push(_),g?d.push(v):(d.push({if:[]}),d=d[d.length-1].if)}return f}}},oj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type");if(o!="case_group"){n.errors.push("Unexpected child of type ".concat(o," inside switch"));return}var s=e.get("properties")||new lr,l=aj(e,r,n,i,a),u=R0(r,s,n,null,a,"!case_value");return[l,u]},R0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s),f=jt(e,i,s),d=Ur(f),p=r.get("value"),v=r.get("asyncListValues");if(p!=null){var h=n.usedFields,g=p.map(function(m,_){var b=l?l.get(_):null,S=u?u.get(_):null,O=Es(m,b,e),x=vr(e,s,i,b),C=On(e,s,i,x,b,{forExport:!0}),A=$g(n,e,O,b,S,C,c,i,f,a,v);return A}),y=g.filter(function(m){return m===void 0}).size>0;if(g.size<d||y){n.usedFields=h;return}return d>1?g.toArray():d==1?g.first():null}},$g=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=$0(e,r,n,c);else if(i=="func")d=sj(e,r,n,c);else if(typeof(o==null?void 0:o.jsonLogic)=="function"){var p=o.jsonLogic,v=[n,VO(VO({},s?Sa(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ai(o,ws)];l&&(v.push(l),v.push(u)),d=p.call.apply(p,[r.ctx].concat(v))}else d=n;return d}},sj=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Gr(r,s),c=Rr(s,r),f=c[c.length-1];if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}if(!(u!=null&&u.jsonLogic)){e.errors.push("Func ".concat(s," is not supported"));return}var d={},p=[],v=[];for(var h in u.args){var g,y=u.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=l?l.get(h):void 0,x=O?O.get("value"):void 0,C=O?O.get("valueSrc"):void 0;C!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var A=null,w=vr(r,y,A,C),k=On(r,y,A,w,C,{forExport:!0}),E=$g(e,r,x,C,y.type,k,m,null,null,o);if(x!=null&&E===void 0){C!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(s));return}var I=void 0;if(E===void 0&&!b&&_!=null){var j=vr(r,y,A,S),L=On(r,y,A,j,S,{forExport:!0});if(I=$g(e,r,_,S,y.type,L,m,null,null,o),I===void 0){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(s));return}}var M=E!=null?E:I;if(M!==void 0){if(p.length){var R=nj(p),U;try{for(R.s();!(U=R.n()).done;){var V=U.value;d[V]=void 0}}catch(q){R.e(q)}finally{R.f()}p=[]}d[h]=M}else b||v.push(h),p.push(h)}if(!v.length){var $=Object.values(d),F;if(typeof u.jsonLogic=="function"){var N=u.jsonLogic,B=[d];F=N.call.apply(N,[r.ctx].concat(B))}else{var z=u.jsonLogic||f,H=!!u.jsonLogicIsMethod;if(H){var D=$[0],G=$.slice(1);G.length?F={method:[D,z,G]}:F={method:[D,z]}}else F=le({},z,$)}return F}},$0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r.settings,o=a.fieldSeparator,s=a.jsonLogic,l;if(n){Array.isArray(n)&&(n=n.join(o));var u=Me(r,n)||{},c=Ja(n,r,e,i),f=u.jsonLogicVar||(u.type=="!group"?s.groupVarKey:"var");l=le({},f,c),e.usedFields.indexOf(n)==-1&&e.usedFields.push(n)}return l},ise=function(e,r,n,i){var a=e,o=Ur(r);typeof r.jsonLogic=="string"&&(a=r.jsonLogic);var s=["<","<=",">",">="],l=["==","!="],u=function(f,d,p,v,h){return o==0&&l.includes(a)?le({},a,[n,null]):o==0?le({},a,n):o==1?le({},a,[n,i]):o==2&&s.includes(a)?le({},a,[i[0],n,i[1]]):le({},a,[n].concat(Ce(i)))};return u},lj=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=r.get("field"),c=jt(e,a,u)||{},f=typeof c.jsonLogic=="function"?c.jsonLogic:ise(a,c,n,i),d=[n,a,i,ai(c,su),o,s],p=f.call.apply(f,[e.ctx].concat(d));return l&&(p={"!":p}),p};function ase(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ose(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ose(t,e){if(t){if(typeof t=="string")return qO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(t,e)}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UO=function(e){return xt(e)=="object"&&e!==null&&!Array.isArray(e)},sse=function(e,r){return uj(e,r,!1)},uj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=Ng([],e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),o)},Ng=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(r){var u=r.get("type");if(u==="group"||u==="rule_group")return lse(e,r,n,i,a,o,s,l);if(u==="rule")return use(e,r,n,i,a,o,s,l)}},lse=function(e,r,n,i){var a,o,s,l,u,c,f,d,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=r.get("type"),h=r.get("properties")||new lr,g=!!h.get("not"),y=r.get("children1")||new Zi,m=n.settings,_=m.canShortMongoQuery,b=m.fieldSeparator,S=b,O=e.filter(function(ee){return ee.get("type")=="rule_group"}).length>0,x=e.filter(function(ee){return ee.get("type")=="rule_group"}).map(function(ee){return ee.get("properties").get("field")}).slice(-1).pop(),C=O&&x,A=v==="rule_group",w=A?h.get("field"):null,k=A?h.get("operator"):null,E=k&&jt(n,k,w)||null,I=k?(a=(o=E)===null||o===void 0?void 0:o.cardinality)!==null&&a!==void 0?a:1:void 0,j=Ja(w,n,i,C),L=Me(n,w)||{},M=L.mode,R=w&&M==="array"&&I>=1,U=A&&(y==null?void 0:y.size)>0;A&&(y!=null&&y.size);var V=!1,$=g,F=!1;U?(F=g,$=p):p&&($=!$);var N=(s=E)===null||s===void 0?void 0:s.reversedOp,B=jt(n,N,w),z=!((l=E)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=B)!==null&&u!==void 0&&u.mongoFormatOp),H=!!((c=B)!==null&&c!==void 0&&c.mongoFormatOp),D=(f=A0(r))===null||f===void 0?void 0:f.get("type"),G=!!n.settings.reverseOperatorsForNot&&(!A&&$&&D==="rule"||F&&(y==null?void 0:y.size)===1);G&&(U?F=!F:$=!$,V=!0);var q=$&&A&&H&&(!!n.settings.reverseOperatorsForNot||z);if(q){$=!$;var Y=[N,k];k=Y[0],N=Y[1];var K=[B,E];E=K[0],B=K[1]}var ie=h.get("conjunction");ie||(ie=ka(n));var te=n.conjunctions[ie];if(te){var oe=te.reversedConj,ue=$&&((d=ie)===null||d===void 0?void 0:d.toLowerCase())==="or"&&oe&&!A&&!!n.settings.canShortMongoQuery&&!!n.settings.reverseOperatorsForNot;ue&&(ie=oe,te=n.conjunctions[ie],$=!$,V=!0);var fe=te.mongoConj,pe=y.map(function(ee){return Ng([].concat(Ce(e),[r]),ee,n,i,V,M!="array",M=="array"?function(me){return"$$el".concat(S).concat(me)}:void 0)}).filter(function(ee){return typeof ee<"u"});if(!(!R&&!pe.size)){var Se;if(pe.size==1)Se=pe.first();else if(pe.size>1){var Q=pe.toList().toJS(),re=_&&fe=="$and";re&&(Se=Q.reduce(function(ee,me){if(ee){for(var Oe in me){if(Oe[0]=="$"){ee=void 0;break}if(ee[Oe]==null)ee[Oe]=me[Oe];else{var we=ee[Oe],Je=me[Oe];UO(we)||(we={$eq:we}),UO(Je)||(Je={$eq:Je});var at=Object.keys(we)[0],ce=Object.keys(Je)[0];if(at==ce){ee=void 0;break}ee[Oe]=Object.assign({},we,Je)}}return ee}},{})),Se||(Se=le({},fe,Q))}if(w)if(M=="array"){var de={$size:{$ifNull:["$"+j,[]]}},ve=Se?{$size:{$ifNull:[{$filter:{input:"$"+j,as:"el",cond:Se}},[]]}}:de;Se=Ng(e,r.set("type","rule"),n,i,F,!1,function(ee){return ve},de),Se={$expr:Se}}else Se=le({},j,{$elemMatch:Se});return $&&(Se={$not:Se}),Se}}},use=function(e,r,n,i){var a,o,s,l,u,c,f,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,g=r.get("properties")||new lr,y=e.filter(function(Se){return Se.get("type")=="rule_group"}).length>0,m=e.filter(function(Se){return Se.get("type")=="rule_group"}).map(function(Se){return Se.get("properties").get("field")}).slice(-1).pop(),_=y&&m,b=g.get("operator"),S=g.get("operatorOptions"),O=g.get("field"),x=g.get("fieldSrc"),C=g.get("value"),A=g.get("valueSrc"),w=g.get("valueType"),k=g.get("asyncListValues");if(!(O==null||b==null||C===void 0)){var E=Me(n,O),I=jt(n,b,O),j=(a=I)===null||a===void 0?void 0:a.reversedOp,L=jt(n,j,O),M=Ur(I);if(!((o=I)!==null&&o!==void 0&&o.mongoFormatOp)&&!((s=L)!==null&&s!==void 0&&s.mongoFormatOp)){i.errors.push("Operator ".concat(b," is not supported"));return}var R=d,U=!((l=I)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=L)!==null&&u!==void 0&&u.mongoFormatOp),V=!!((c=L)!==null&&c!==void 0&&c.mongoFormatOp),$=V&&(!!n.settings.reverseOperatorsForNot||U),F=$&&R||U;if(F){var N=[j,b];b=N[0],j=N[1];var B=[L,I];I=B[0],L=B[1],R=!R}var z,H=!1;if(x=="func"){var D=cj(i,n,O,_),G=ke(D,2);z=G[0],H=G[1]}else z=Ja(O,n,i,_),v&&(H=!0,z=v(z));if(z!=null){var q=[],Y=[],K;if(C!=null){var ie=C.map(function(Se,Q){var re=A?A.get(Q):null,de=w?w.get(Q):null,ve=Es(Se,re,n),ee=vr(n,O,b,re),me=On(n,O,b,ee,re,{forExport:!0}),Oe=Dg(i,n,ve,re,de,me,E,_,b,I,k),we=ke(Oe,2),Je=we[0],at=we[1];return Je!==void 0&&(H=H||at,q.push(re),Y.push(de)),Je}),te=ie.filter(function(Se){return Se===void 0}).size>0;if(ie.size<M||te)return;K=M>1?ie.toArray():M==1?ie.first():null}var oe=H&&p,ue=(f=I)===null||f===void 0?void 0:f.mongoFormatOp,fe=[z,b,h!==void 0&&K==null?h:K,H,q.length>1?q:q[0],Y.length>1?Y:Y[0],ai(I,su),S,E],pe=ue.call.apply(ue,[n.ctx].concat(fe));return oe&&(pe={$expr:pe}),R&&(pe={$not:pe}),pe}}},Dg=function(e,r,n,i,a,o,s,l,u,c,f){if(n===void 0)return[void 0,!1];var d,p=!1;if(i=="field"){var v=cse(e,r,n,l),h=ke(v,2);d=h[0],p=h[1]}else if(i=="func"){var g=cj(e,r,n,l),y=ke(g,2);d=y[0],p=y[1]}else if(typeof(o==null?void 0:o.mongoFormatValue)=="function"){var m=o.mongoFormatValue,_=[n,zO(zO({},s?Sa(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ai(o,ws)];u&&(_.push(u),_.push(c)),d=m.call.apply(m,[r.ctx].concat(_))}else d=n;return[d,p]},cse=function(e,r,n,i){var a=r.settings.fieldSeparator,o,s=!0;if(n){var l=Me(r,n)||{},u=Rr(n,r),c=nf(n,r),f=c?c.join(a):null,d=r.settings.formatField,p=Ja(n,r,e,i),v=d(p,u,f,l,r,!1);o="$"+v}return[o,s]},cj=function(e,r,n,i){var a,o,s=!0,l,u=(a=n.get)===null||a===void 0?void 0:a.call(n,"func"),c=(o=n.get)===null||o===void 0?void 0:o.call(n,"args"),f=Gr(r,u);if(!f)return e.errors.push("Func ".concat(u," is not defined in config")),[void 0,!1];var d=Rr(u,r),p=d[d.length-1],v=f.mongoFunc||p,h=f.mongoArgsAsObject,g={},y=0,m=void 0,_=[],b=[];for(var S in f.args){var O;y++;var x=f.args[S],C=Me(r,x),A=x.defaultValue,w=x.isOptional,k=A!=null&&A.func?"func":"value",E=c?c.get(S):void 0,I=E?E.get("value"):void 0,j=E?E.get("valueSrc"):void 0;j!=="func"&&(O=I)!==null&&O!==void 0&&O.toJS&&(I=I.toJS());var L=E?E.get("asyncListValues"):void 0,M=null,R=vr(r,x,M,j),U=On(r,x,M,R,j,{forExport:!0}),V=Dg(e,r,I,j,x.type,U,C,i,null,null,L),$=ke(V,2),F=$[0];if($[1],I!=null&&F===void 0)return j!="func"&&e.errors.push("Can't format value of arg ".concat(S," for func ").concat(u)),[void 0,!1];var N=void 0;if(F===void 0&&!w&&A!=null){var B=vr(r,x,M,k),z=On(r,x,M,B,k,{forExport:!0}),H=Dg(e,r,A,k,x.type,z,C,i,null,null,L),D=ke(H,2);if(N=D[0],D[1],N===void 0)return k!="func"&&e.errors.push("Can't format default value of arg ".concat(S," for func ").concat(u)),[void 0,!1]}var G=F!=null?F:N;if(G!==void 0){if(_.length){var q=ase(_),Y;try{for(q.s();!(Y=q.n()).done;){var K=Y.value;g[K]=void 0}}catch(oe){q.e(oe)}finally{q.f()}_=[]}g[S]=G,m=G}else w||b.push(S),_.push(S)}if(b.length)return[void 0,!1];if(typeof f.mongoFormatFunc=="function"){var ie=f.mongoFormatFunc,te=[g];l=ie.call.apply(ie,[r.ctx].concat(te))}else{if(f.mongoFormatFunc===null)return e.errors.push("Functon ".concat(v," is not supported")),[void 0,!1];h?l=le({},v,g):y==1&&m!==void 0?l=le({},v,m):l=le({},v,Object.values(g))}return[l,s]};function fse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=dse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function dse(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pse=function(e,r){return fj(e,r,!1)},fj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=oi(r,void 0,!1),o=dj(e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SQL:",i.errors),o)},dj=function(e,r,n){if(e){var i=e.get("type");if(e.get("children1"),i==="group"||i==="rule_group")return hse(e,r,n);if(i==="rule")return gse(e,r,n)}},hse=function(e,r,n){var i=e.get("type"),a=e.get("properties")||new lr,o=e.get("children1")||new Zi,s=i==="rule_group",l=s?a.get("field"):null,u=Me(r,l)||{},c=u.mode;c=="array"&&n.errors.push("Aggregation is not supported for ".concat(l));var f=a.get("not"),d=o.map(function(h){return dj(h,r,n)}).filter(function(h){return typeof h<"u"});if(d.size){var p=a.get("conjunction");p||(p=ka(r));var v=r.conjunctions[p];return v.sqlFormatConj.call(r.ctx,d,p,f)}},vse=function(e,r){var n=r.sqlOp||e,i=Ur(r),a;return i==0?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,v){var h,g,y=u==null||(h=u.first)===null||h===void 0?void 0:h.call(u),m=u==null||(g=u.get)===null||g===void 0?void 0:g.call(u,1);return"".concat(s," ").concat(n," ").concat(y," AND ").concat(m)}),a},gse=function(e,r,n){var i=e.get("properties")||new lr,a=i.get("field"),o=i.get("fieldSrc"),s=i.get("operator"),l=i.get("operatorOptions"),u=i.get("valueSrc"),c=i.get("valueType"),f=i.get("value"),d=i.get("asyncListValues");if(!(a==null||s==null)){var p=Me(r,a)||{},v=jt(r,s,a)||{},h=v.reversedOp,g=jt(r,h,a)||{},y=Ur(v),m=!1,_=v.sqlOp||v.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(!_&&!b){n.errors.push("Operator ".concat(s," is not supported"));return}if(!_&&b){m=!0;var S=[h,s];s=S[0],h=S[1];var O=[g,v];v=O[0],g=O[1]}var x=[],C=[],A;if(f!=null){var w=f.map(function(M,R){var U=u?u.get(R):null,V=c?c.get(R):null,$=Es(M,U,r),F=vr(r,a,s,U),N=On(r,a,s,F,U,{forExport:!0}),B=Mg(n,r,$,U,V,N,p,s,v,d);return B!==void 0&&(x.push(U),C.push(V)),B}),k=w.filter(function(M){return M===void 0}).size>0;if(k||w.size<y)return;A=y==1?w.first():w}var E=v.sqlFormatOp||vse(s,v);if(!E){n.errors.push("Operator ".concat(s," is not supported"));return}var I=o=="func"?hj(n,r,a):pj(n,r,a);if(I!=null){var j=[I,s,A,x.length>1?x:x[0],C.length>1?C:C[0],ai(v,su),l,p],L;if(L=E.call.apply(E,[r.ctx].concat(j)),m&&(L=r.settings.sqlFormatReverse.call(r.ctx,L)),L===void 0){n.errors.push("Operator ".concat(s," is not supported for value source ").concat(x.join(", ")));return}return L}}},Mg=function(e,r,n,i,a,o,s,l,u,c){if(n!==void 0){var f;if(i=="field")f=pj(e,r,n);else if(i=="func")f=hj(e,r,n);else if(typeof(o==null?void 0:o.sqlFormatValue)=="function"){var d=o.sqlFormatValue,p=[n,YO(YO({},Sa(s,["fieldSettings","listValues"])),{},{asyncListValues:c}),ai(o,ws)];if(l&&(p.push(l),p.push(u)),i=="field"){var v=Me(r,n)||{};p.push(v)}f=d.call.apply(d,[r.ctx].concat(p))}else Array.isArray(n)?f=n.map(function(h){return _o.escape(h)}):f=_o.escape(n);return f}},pj=function(e,r,n){if(n){var i=r.settings.fieldSeparator,a=Me(r,n)||{},o=Rr(n,r),s=nf(n,r),l=s?s.join(i):null,u=r.settings.formatField,c=Ja(n,r,e,null,{useTableName:!0}),f=u(c,o,l,a,r);return f}},hj=function(e,r,n){var i,a,o=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),s=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),l=Gr(r,o);if(!l){e.errors.push("Func ".concat(o," is not defined in config"));return}var u=Rr(o,r),c=u[u.length-1],f=l.sqlFunc||c,d={},p=[],v=[];for(var h in l.args){var g,y=l.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=s?s.get(h):void 0,x=O?O.get("value"):void 0,C=O?O.get("valueSrc"):void 0;C!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var A=O?O.get("asyncListValues"):void 0,w=Mg(e,r,x,C,y.type,m,y,null,null,A);if(x!=null&&w===void 0){C!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(o));return}var k=void 0;if(w===void 0&&!b&&_!=null&&(k=Mg(e,r,_,S,y.type,m,y,null,null,A),k===void 0)){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(o));return}var E=w!=null?w:k;if(E!==void 0){if(p.length){var I=fse(h),j;try{for(I.s();!(j=I.n()).done;){var L=j.value;d[L]=void 0}}catch($){I.e($)}finally{I.f()}p=[]}d[h]=E}else b||v.push(h),p.push(h)}if(!v.length){var M;if(typeof l.sqlFormatFunc=="function"){var R=l.sqlFormatFunc,U=[d];M=R.call.apply(R,[r.ctx].concat(U))}else{var V=Object.entries(d).map(function($){var F=ke($,2);F[0];var N=F[1];return N}).join(", ");M="".concat(f,"(").concat(V,")")}return M}};function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mse(t){if(t==null)return null;var e=t.split(",").map(Number);return{top_left:{lat:e[0],lon:e[1]},bottom_right:{lat:e[2],lon:e[3]}}}function yse(t,e){if(t.length>1)return{gte:"".concat(t[0]),lte:"".concat(t[1])};var r=t[0];switch(e){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}function bse(t){return{value:"*"+t+"*"}}function _se(t,e){switch(t){case"AND":return e?"must_not":"must";case"OR":return e?"should_not":"should";case"NOT":return e?"must":"must_not";default:return}}function Sse(t){return{value:t}}function Ose(t,e){return t}function xse(t,e,r,n,i,a){var o=Ose(n);switch(t){case"filter":return{script:i.operators[r].elasticSearchScript(n,e)};case"exists":return{field:n};case"match":return le({},o,e[0]);case"term":return a===Ese?le({},n,{value:e[0]}):le({},n,e[0]);case"geo_bounding_box":return le({},n,mse(e[0]));case"range":return le({},n,yse(e,r));case"wildcard":return le({},n,bse(e[0]));case"regexp":return le({},n,Sse(e[0]));default:return}}function QO(t,e,r,n,i,a){if(!(!t||!r||e==null)){var o=r,s=n.operators[o];if(s){var l=s,u=l.elasticSearchQueryType,c=!1;if(!u&&s.reversedOp){c=!0,o=s.reversedOp,s=n.operators[o];var f=s;u=f.elasticSearchQueryType}var d=vr(n,t,o,i),p=n.widgets[d];if(p){var v=p.elasticSearchFormatValue,h;if(typeof u=="function"?h=u(d):h=u,!!h){var g;return typeof v=="function"?g=v(h,e,o,t,n):g=xse(h,e,o,t,n,a),c?{bool:{must_not:le({},h,JO({},g))}}:le({},h,JO({},g))}}}}}function wse(t,e,r,n,i,a){if(!(!t||!t.size)){var o=t.valueSeq().toArray(),s=_se(e,r),l=o.map(function(c){return n(c,i,a)}).filter(function(c){return c!==void 0});if(l.length){var u=l.flat(1/0);return{bool:le({},s,u)}}}}var Ese="ES_7_SYNTAX",Cse="ES_6_SYNTAX";function vj(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cse,n=oi(e,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if(i==="rule"&&a.get("field")){var o,s,l,u=a.get("operator"),c=a.get("field"),f=a.get("fieldSrc"),d=(o=a.get("value"))===null||o===void 0?void 0:o.toJS();(s=a.get("valueType"))===null||s===void 0||s.get(0);var p=(l=a.get("valueSrc"))===null||l===void 0?void 0:l.get(0);return p==="func"||f=="func"?void 0:d&&Array.isArray(d[0])?d[0].map(function(y){return QO(c,[y],u,n,p,r)}):QO(c,d,u,n,p,r)}if(i==="group"||i==="rule_group"){var v=a.get("not"),h=a.get("conjunction");h||(h=ka(n));var g=t.get("children1");return wse(g,h,v,vj,n,r)}}}const XO=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:uj,_spelFormat:lA,_sqlFormat:fj,elasticSearchFormat:vj,jsonLogicFormat:tse,mongodbFormat:sse,queryBuilderFormat:Qoe,queryString:CA,spelFormat:rie,sqlFormat:pse},Symbol.toStringTag,{value:"Module"}));function ZO(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}function zo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){ZO(a,n,i,o,s,"next",l)}function s(l){ZO(a,n,i,o,s,"throw",l)}o(void 0)})}}var Tse=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function kse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ise(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Ise(t,e){if(t){if(typeof t=="string")return ex(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(t,e)}}function ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ase=function(e,r){if(e.findLastIndex)return e.findLastIndex(r);var n=Ce(e).reverse().findIndex(r);return n==-1?-1:e.length-1-n},Pse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var i=zo(Br.mark(function a(o,s,l){var u,c,f,d,p,v;return Br.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(u=(l==null?void 0:l.pageSize)!=null?l.pageSize:r,c=MI(e).filter(function(y){var m=y.title,_=y.value;return o==null?!0:m.toUpperCase().indexOf(o.toUpperCase())!=-1||"".concat(_).toUpperCase().indexOf(o.toUpperCase())!=-1}),u&&Math.ceil(c.length/u),f=s||0,d=u?c.slice(f,f+u):c,p=u?f+d.length:null,v=u?p<c.length:!1,!n){g.next=11;break}return g.next=11,cI(n);case 11:return g.abrupt("return",{values:d,hasMore:v});case 12:case"end":return g.stop()}},a)}));return function(a,o,s){return i.apply(this,arguments)}}()},jse=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!r)return e;var a=e||[],o=r.filter(function(l){return a.find(function(u){return""+u.value==""+l.value})==null}).map(function(l){return i?vo(vo({},l),{},{isHidden:!0}):l}),s=n?[].concat(Ce(o),Ce(a)):[].concat(Ce(a),Ce(o));return s},Lse=function(e,r,n){var i,a=e==null||e==""?void 0:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:e,o=ih(a,r),s=n&&!o?p0(a):void 0,l=o||s,u=l?[l]:void 0;return[a,u]},Fse=function(e,r,n){var i=e.map(function(o,s){var l,u=o==null||o==""?void 0:(l=o==null?void 0:o.value)!==null&&l!==void 0?l:o,c=ih(u,r),f=n&&!c?p0(u):void 0,d=c||f;return d}).filter(function(o){return o!=null}),a=i.map(function(o){var s;return(s=o==null?void 0:o.value)!==null&&s!==void 0?s:o});return a.length||(a=void 0),[a,i]},Rse=function(e){if(e==null)return null;var r=e.title,n=e.value,i=e.disabled,a=e.groupTitle,o=e.grouplabel,s=e.renderTitle,l=e.children,u=e.label,c=e.isCustom,f=e.isHidden,d=ri(e,Tse),p={value:n,title:r||u||l};return i&&(p.disabled=i),c&&(p.isCustom=c),f&&(p.isHidden=f),(a||o)&&(p.groupTitle=a||o),s&&(p.renderTitle=s),p=vo(vo({},p),d),p},$se=function(e){var r=[],n=[],i=kse(e),a;try{var o=function(){var l=a.value,u=Ase(r,function(c){var f,d;return((f=c.groupTitle)!==null&&f!==void 0?f:"")==((d=l.groupTitle)!==null&&d!==void 0?d:"")});l.groupTitle!=null&&!n.includes(l.groupTitle)&&(n.push(l.groupTitle),n.length===1&&(r=r.map(function(c){return vo(vo({},c),{},{groupTitle:""})}))),l.groupTitle==null&&n.length&&(l=vo(vo({},l),{},{groupTitle:""})),u!=-1?r.splice(u+1,0,l):r.push(l)};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r};const Nse=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:$se,getListValue:ih,listValueToOption:Rse,mergeListValues:jse,optionToListValue:Lse,optionsToListValues:Fse,simulateAsyncFetch:Pse},Symbol.toStringTag,{value:"Module"})),Dse=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:Nse,ConfigUtils:Joe,DefaultUtils:Tie,ExportUtils:Zne,FuncUtils:dae,ListUtils:One,OtherUtils:IQ,RuleUtils:bae,TreeUtils:wne,Validation:cae,checkTree:dP,clone:fi,compressConfig:HP,decompressConfig:zP,getSwitchValues:HI,i18n:sh,isValidTree:cP,moment:Pe,sanitizeTree:hP,uuid:Ft,validateAndFixTree:vP,validateTree:pP},Symbol.toStringTag,{value:"Module"}));var Mse={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},Vse={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim,o=a.charAt(0).toUpperCase()+a.slice(1)+"s",s=n+o;return"".concat(r,".").concat(s,"(").concat(i,")")},spelImport:function(e){var r,n,i,a,o,s=(r=e.methodName)===null||r===void 0?void 0:r.match(/^(minus|plus)(\w+)s$/);if(s&&(o=s[2].toLowerCase(),i=s[1],["minus","plus"].includes(i)&&["day","week","month","year"].includes(o)))return i={type:"string",val:i},o={type:"string",val:o},a=e.args[0],n=e.obj,{date:n,op:i,val:a,dim:o}},jsonLogic:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return{date_add:[r,i*(n=="minus"?-1:1),a]}},jsonLogicImport:function(e){var r=e.date_add[0],n=Math.abs(e.date_add[1]),i=e.date_add[1]>=0?"plus":"minus",a=e.date_add[2];return[r,i,n,a]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return"DATE_ADD(".concat(r,", INTERVAL ").concat(parseInt(i)*(n=="minus"?-1:1)," ").concat(a.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return i?"".concat(r," ").concat(n=="minus"?"-":"+"," ").concat(i," ").concat(a):r},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},Bse={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},qse={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Hse={label:"Linear regression",returnType:"number",formatFunc:function(e,r){var n=e.coef,i=e.bias,a=e.val;return"(".concat(n," * ").concat(a," + ").concat(i,")")},sqlFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelImport:function(e){var r,n,i,a;if(e.type==="op-plus"){var o=ke(e.children,2);if(a=o[0],i=o[1],a.type==="op-multiply"){var s=ke(a.children,2);return r=s[0],n=s[1],{coef:r,val:n,bias:i}}}},mongoFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return{$sum:[{$multiply:[r,i]},n]}},jsonLogic:function(e){var r=e.coef,n=e.bias,i=e.val;return{"+":[{"*":[r,i]},n]}},jsonLogicImport:function(e){var r=e["+"][0]["*"][0],n=e["+"][0]["*"][1],i=e["+"][1];return[r,n,i]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},zse=function(e,r,n,i,a,o,s,l,u,c,f,d){var p=typeof i=="string"&&!i.startsWith("$")?"$"+i:i,v=r(o,d);if(v!==void 0)return n?!s&&(!e||e=="$eq")?le({},i,{$ne:v}):s?{$not:le({},e,[p,v])}:le({},i,{$not:le({},e,v)}):!s&&(!e||e=="$eq")?le({},i,v):s?le({},e,[p,v]):le({},i,le({},e,v))},Use=function(e,r,n,i,a,o,s,l,u,c,f){var d=typeof n=="string"&&!n.startsWith("$")?"$"+n:n;return r?o?{$not:{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}}:le({},n,{$not:le(le({},e[0],a[0]),e[1],a[1])}):o?{$and:[le({},e[0],[d,a[0]]),le({},e[1],[d,a[1]])]}:le({},n,le(le({},e[0],a[0]),e[1],a[1]))},Wse={utils:{SqlString:_o,moment:Pe,mongoFormatOp1:zse,mongoFormatOp2:Use,mongoEmptyValue:nA,escapeRegExp:lI,sqlEmptyValue:rA,stringifyForDisplay:aA,getTitleInListValues:VI,spelEscape:Rl,spelFixList:iA,wrapWithBrackets:oA}};function Gse(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yse(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Yse(t,e){if(t){if(typeof t=="string")return rx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rx(t,e)}}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kse={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,r,n,i){var a=e.size>1?e.join(" "+(i?"AND":"&&")+" "):e.first();return(e.size>1||n)&&(a=this.utils.wrapWithBrackets(a)),n&&(a="NOT "+a),a},sqlFormatConj:function(e,r,n){var i=e.size>1?e.join(" AND "):e.first();return(e.size>1||n)&&(i=this.utils.wrapWithBrackets(i)),n&&(i="NOT "+i),i},spelFormatConj:function(e,r,n,i){n&&(i=!1);var a=e.size>1?e.join(" && "):e.first();return(e.size>1||n)&&!i&&(a=this.utils.wrapWithBrackets(a)),n&&(a="!"+a),a}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" || ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}}},Jse={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,r,n,i,a,o,s,l,u){var c=l?"=":o.label;return a=="boolean"&&l?n=="No"?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,r,n,i,a,o,s,l,u){return a=="boolean"&&l?n=="No"?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(o.label," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(a){return a},!1].concat(n))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(a){return a},!1].concat(n))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return a},!1].concat(n))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(a){return a},!1].concat(n))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:function(e,r,n){return{in:[n,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!0].concat(i))},jsonLogic:function(e,r,n){return{"!":{in:[n,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?"^"+r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o)+"$":void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," BETWEEN ").concat(u," AND ").concat(c):"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return e==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," NOT BETWEEN ").concat(u," AND ").concat(c):"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,r,n){return{"!":{"<=":[Array.isArray(n)?n[0]:n,e,Array.isArray(n)?n[1]:n]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") = ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") <> ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return null},!1].concat(n))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return null},!1].concat(n))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return"".concat(e," ").concat(u," ").concat(n)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != ").concat(n)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," IN (").concat(n.join(", "),")")},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(a){return a},!1].concat(n))},reversedOp:"select_any_in",jsonLogic:function(e,r,n){return{"!":{in:[e,n]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," CONTAINS [").concat(n.join(", "),"]"):"".concat(e," CONTAINS ").concat(n)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,r,n){return{some:[e,{in:[{var:""},n]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT CONTAINS [").concat(n.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(n)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,r,n){return{"!":{some:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return i=="value"?"".concat(e," ").concat(u," [").concat(n.join(", "),"]"):"".concat(e," ").concat(u," ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," = '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,r,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," != '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,r,n){return{"!":{all:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=s==null?void 0:s.get("proximity");return"".concat(e," ").concat(u," NEAR/").concat(f," ").concat(c)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=this.utils.SqlString.trim(u),d=this.utils.SqlString.trim(c),p=s==null?void 0:s.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(f,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return 0},!1].concat(n))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,r,n){return"".concat(e," == ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return 0},!1].concat(n))}}},Qse={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n){var i=n.step&&!Number.isInteger(n.step);return this.utils.spelEscape(e,i)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,r,n,i){var a=this.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,e);return i?this.utils.stringifyForDisplay(a):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,r,n,i){var a=this,o=e.map(function(s){return a.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,s)});return i?o.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,r,n,i,a){var o=this;return e.map(function(s){return o.utils.SqlString.escape(s)})},spelFormatValue:function(e,r,n,i,a){var o=a&&a.spelOp&&a.spelOp.startsWith("${1}"),s=this.utils.spelEscape(e);return o&&(s=this.utils.spelFixList(s)),s},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("YYYY-MM-DD"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD"),l="yyyy-MM-dd";return"T(java.time.LocalDate).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a,o,s;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&(s=o.toLowerCase)!==null&&s!==void 0&&s.call(o).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(n.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("HH:mm:ss"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(s,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,r,n){var i,a,o;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&n.fmt&&(!((i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.toLowerCase)!==null&&a!==void 0&&a.call(i).includes("hh:mm"))||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&o.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(n.fmt))];var s=this.utils.moment(e.value,"HH:mm:ss");return s.isValid()?[s.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.get("hour")*60*60+n.get("minute")*60+n.get("second"):void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},elasticSearchFormatValue:function(e,r,n,i){return{script:{script:{source:"doc[".concat(i,"][0].getHour() >== params.min && doc[").concat(i,"][0].getHour() <== params.max"),params:{min:r[0],max:r[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.toDate())},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD HH:mm:ss"),l="yyyy-MM-dd HH:mm:ss";return"T(java.time.LocalDateTime).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a;if(!r)return[void 0,"No widget def to get value format"];if(!(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")))return[void 0,"Invalid datetime format ".concat(JSON.stringify(n.fmt))];var o=this.utils.moment(e.value,this.utils.moment.ISO_8601);return o.isValid()?[o.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,r,n,i){return i?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},field:{valueSrc:"field",formatValue:function(e,r,n,i,a,o,s){return i&&s.label||e},sqlFormatValue:function(e,r,n,i,a,o){return e},spelFormatValue:function(e,r,n,i,a){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(e===""?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return e===""?null:e}}},Xse={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},Zse=Nt(Nt({},WP),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,r,n,i,a,o){var s=this,l=i.map(function(u,c){var f=u.key,d=u.parent,p=u.fieldSeparator;return c==0?d=="[map]"?"#this[".concat(s.utils.spelEscape(f),"]"):(d=="[class]",f):d=="map"||d=="[map]"?"[".concat(s.utils.spelEscape(f),"]"):(d=="class"||d=="[class]","".concat(p).concat(f))}).join("");return a.fieldName&&(l=e),a.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(e!=null)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(e!=null)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,r,n,i,a,o){if(e!=null)return o?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,r,n,i,a,o,s,l,u,c){var f=s.labelForFormat,d=s.cardinality;if(d==0){var p=e?" HAVE ".concat(e):"";return"".concat(f," OF ").concat(r).concat(p)}else if(d==null||d==1){var v=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(r).concat(v," ").concat(f," ").concat(i)}else if(d==2){var h=e?" WHERE ".concat(e):"",g=i.first(),y=i.get(1);return"COUNT OF ".concat(r).concat(h," ").concat(f," ").concat(g," AND ").concat(y)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,r,n,i){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),gj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={rangeslider:rle,treeselect:nle,treemultiselect:ile,rangeable__date:tle("date","date")},a=Gse(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i[s];if(l)e=l(e,n);else throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(s))}}catch(u){a.e(u)}finally{a.f()}return e},mj=function(e,r){return gj(e,r,!0)},ele=function(e,r){return gj(e,r,!1)},tle=function(e,r){return function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=n.types;return a=Nt(Nt({},a),{},le({},e,Nt(Nt({},a[e]),{},{widgets:Nt({},a[e].widgets)}))),i?a[e].widgets[r]=Nt({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},a[e].widgets[r]):delete a[e].widgets[r],Nt(Nt({},n),{},{types:a})}},rle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.rangeslider=Nt({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(o,s,l,u){return u?this.utils.stringifyForDisplay(o):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},singleWidget:"slider",toJS:function(o,s){return o}},n.rangeslider):delete n.rangeslider,i=Nt(Nt({},i),{},{number:Nt(Nt({},i.number),{},{widgets:Nt({},i.number.widgets)})}),r?i.number.widgets.rangeslider=Nt({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},i.number.widgets.rangeslider):delete i.number.widgets.rangeslider,Nt(Nt({},e),{},{widgets:n,types:i})},nle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treeselect=Nt({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(o,s,l,u){var c=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,f=this.utils.getTitleInListValues(c,o);return u?this.utils.stringifyForDisplay(f):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treeselect):delete n.treeselect,i=Nt({},i),r?i.treeselect=Nt({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},i.treeselect):delete i.treeselect,Nt(Nt({},e),{},{widgets:n,types:i})},ile=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Nt({},n),r?n.treemultiselect=Nt({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(o,s,l,u){var c=this,f=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,d=o.map(function(p){return c.utils.getTitleInListValues(f,p)});return u?d.map(this.utils.stringifyForDisplay):o.map(JSON.stringify)},sqlFormatValue:function(o,s,l,u,c){var f=this;return o.map(function(d){return f.utils.SqlString.escape(d)})},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treemultiselect):delete n.treemultiselect,i=Nt({},i),r?i.treemultiselect=Nt({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},i.treemultiselect):delete i.treemultiselect,Nt(Nt({},e),{},{widgets:n,types:i})},ale={addMixins:mj,removeMixins:ele},Vg={conjunctions:Kse,operators:Jse,widgets:Qse,types:Xse,settings:Zse,ctx:Wse};Vg=mj(Vg,["rangeslider","treeselect","treemultiselect"]);const Tr=Vg;var yj="ADD_GROUP",N0="ADD_CASE_GROUP",bj="REMOVE_GROUP",_j="SET_CONJUNCTION",Sj="SET_NOT",Oj="ADD_RULE",xj="REMOVE_RULE",wj="SET_FIELD",Ej="SET_FIELD_SRC",Cj="SET_OPERATOR",Tj="SET_VALUE",kj="SET_VALUE_SRC",Ij="SET_FUNC_VALUE",Aj="SET_OPERATOR_OPTION",Pj="SET_LOCK",D0="SET_TREE",jj="MOVE_ITEM",ix="after",ax="before",dv="append",pv="prepend",Lj="SET_DRAG_PROGRESS",Fj="SET_DRAG_START",Rj="SET_DRAG_END",ole=AP,sle=Gl;function lle(t,e){return t&&ole(t,e,sle)}var M0=lle,ule=gp,cle=_m,fle=1,dle=2;function ple(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ule;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?cle(c,u,fle|dle,n,f):d))return!1}}return!0}var hle=ple,vle=Ei;function gle(t){return t===t&&!vle(t)}var $j=gle,mle=$j,yle=Gl;function ble(t){for(var e=yle(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,mle(i)]}return e}var _le=ble;function Sle(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Nj=Sle,Ole=hle,xle=_le,wle=Nj;function Ele(t){var e=xle(t);return e.length==1&&e[0][2]?wle(e[0][0],e[0][1]):function(r){return r===t||Ole(r,t,e)}}var Cle=Ele,Tle=eh;function kle(t,e,r){var n=t==null?void 0:Tle(t,e);return n===void 0?r:n}var Ile=kle,Ale=_m,Ple=Ile,jle=xI,Lle=a0,Fle=$j,Rle=Nj,$le=cu,Nle=1,Dle=2;function Mle(t,e){return Lle(t)&&Fle(e)?Rle($le(t),e):function(r){var n=Ple(r,t);return n===void 0&&n===e?jle(r,t):Ale(e,n,Nle|Dle)}}var Vle=Mle;function Ble(t){return function(e){return e==null?void 0:e[t]}}var qle=Ble,Hle=eh;function zle(t){return function(e){return Hle(e,t)}}var Ule=zle,Wle=qle,Gle=Ule,Yle=a0,Kle=cu;function Jle(t){return Yle(t)?Wle(Kle(t)):Gle(t)}var Qle=Jle,Xle=Cle,Zle=Vle,eue=rh,tue=ni,rue=Qle;function nue(t){return typeof t=="function"?t:t==null?eue:typeof t=="object"?tue(t)?Zle(t[0],t[1]):Xle(t):rue(t)}var V0=nue,iue=th,aue=M0,oue=V0;function sue(t,e){var r={};return e=oue(e),aue(t,function(n,i,a){iue(r,i,e(n,i,a))}),r}var lue=sue;const ph=tn(lue);function ox(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=uue(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function uue(t,e){if(t){if(typeof t=="string")return sx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sx(t,e)}}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lx=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=e.getIn(Ie(r));if(!c)return e;var f=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,d=o.settings.shouldCreateEmptyGroup,p=r.push(f),v=!d,h=!!(u!=null&&u.isDefaultCase),g=e;return e=as(e,r,n,f,Ro(o).merge(Fo(a)||{}),o,l),e!==g&&(!l&&!h&&(e=e.setIn(Ie(p,"children1"),new Ue.OrderedMap),v&&(e=as(e,p,"rule",Ft(),Ta(o),o))),e=zi(e)),e},cue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=q0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.slice(0,-1),s=!g0(e,o);if(s&&!a&&(e=ah(e),v0(e)&&!a)){var l=!1,u=!1;e=as(e,new Ue.List,"rule",Ft(),Ta(n,void 0,void 0,l,u),n)}return e=zi(e),e},fue=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=q0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.pop(),s=e.getIn(Ie(o)),l=s.getIn(["properties","field"]),u=s.getIn(["properties","operator"]),c=l?Me(n,l):null,f=u?jt(n,u,l):null,d=l&&u&&f.cardinality!=0,p=s.get("type")=="rule_group",v=!g0(e,o),h=p?d&&c.initialEmptyWhere:a;if(v&&!h&&(p&&(e=e.deleteIn(Ie(o))),e=ah(e),v0(e)&&!a)){var g=!1,y=!1;e=as(e,new Ue.List,"rule",Ft(),Ta(n,void 0,void 0,g,y),n)}return e=zi(e),e},due=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","not"),n)),e},pue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=BI(e.setIn(Ie(r,"properties","isLocked"),n))),e},hue=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","conjunction"),n)),e},as=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n==="switch_group")throw new Error("Can't add switch_group programmatically");var u=e.getIn(Ie(r));if(!u)return e;var c=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,f=o.settings,d=f.maxNumberOfCases,p=f.maxNumberOfRules,v=f.maxNesting,h=e.get("type"),g=h==="switch_group",y=g?e.getIn(Ie(r.take(2))):null,m=Ie(r,"children1"),_=e.getIn(m),b=!!_&&_.size,S=b?_.size:null,O,x;n==="case_group"?(O=S,x=d):n==="group"?(O=r.size,x=v):(u==null?void 0:u.get("type"))==="rule_group"||(O=Sg(g?y:e),x=p);var C=x&&O?O<x:!0,A={type:n,id:c,properties:a};Oue(o,A,l);var w=n==="case_group"&&b&&_.last().get("children1")==null;if(C){var k=new Ue.OrderedMap(le({},c,new Ue.Map(A)));if(!b)e=e.setIn(m,k);else if(w){var E=_.last(),I=new Ue.OrderedMap(le(le({},c,new Ue.Map(A)),E.get("id"),E));e=e.deleteIn(Ie(m,"children1",E.get("id"))),e=e.mergeIn(m,I)}else e=e.mergeIn(m,k);e=zi(e)}return e},q0=function(e,r){return e=e.deleteIn(Ie(r)),e=zi(e),e},vue=function(e,r,n,i,a){var o=pl(e,r),s=r.pop(),l=r.size>1?pl(e,s):null,u=l?l.get("children1"):null,c=pl(e,n),f=i==dv||i==pv?n:n.pop(),d=i==dv||i==pv?c:n.size>1?pl(e,f):null,p=d?d.get("children1"):null;if(!l||!d||!o)return e;var v=l.get("id")==d.get("id"),h=f.size<s.size&&Bd(f.toArray(),s.toArray().slice(0,f.size)),g=f.size>s.size&&Bd(s.toArray(),f.toArray().slice(0,s.size)),y=null,m=null;h?y=Ue.List(s.toArray().slice(f.size)):g&&(m=Ue.List(f.toArray().slice(s.size)));var _=p,b=u;return g||(b=b.delete(o.get("id"))),v?_=b:h&&(_=_.updateIn(bg(y,"children1"),function(S){return b})),i==ax||i==ix?_=Ue.OrderedMap().withMutations(function(S){var O=B0(_.entries()),x;try{for(O.s();!(x=O.n()).done;){var C=ke(x.value,2),A=C[0],w=C[1];A==(c==null?void 0:c.get("id"))&&i==ax&&S.set(o.get("id"),o),S.set(A,w),A==(c==null?void 0:c.get("id"))&&i==ix&&S.set(o.get("id"),o)}}catch(k){O.e(k)}finally{O.f()}}):i==dv?_=_.merge(Ue.OrderedMap(le({},o.get("id"),o))):i==pv&&(_=Ue.OrderedMap(le({},o.get("id"),o)).merge(_)),g&&(b=b.updateIn(bg(m,"children1"),function(S){return _}),b=b.delete(o.get("id"))),!v&&!h&&(e=e.updateIn(Ie(s,"children1"),function(S){return b})),g||(e=e.updateIn(Ie(f,"children1"),function(S){return _})),e=zi(e),e},gue=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.keepInputOnChangeFieldSrc,s=a.get("properties"),l=s==null?void 0:s.get("field"),u=s==null?void 0:s.get("fieldType"),c=Me(i,l),f=(c==null?void 0:c.type)||u;(!f||f==="!group"||f==="!struct")&&(f=null);var d=!lh.includes(f),p=o&&!C0(a,i)&&d;return p?(e=e.setIn(Ie(r,"properties","field"),null),e=e.deleteIn(Ie(r,"properties","fieldError")),e=e.setIn(Ie(r,"properties","fieldType"),f)):e=e.setIn(Ie(r,"properties"),Ta(i,null,null,!1)),e=e.setIn(Ie(r,"properties","fieldSrc"),n),e},mue=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:{},f=r.getIn(Ie(n));if(!f)return r;var d=i===-1,p=f.get("properties"),v=p.get("field"),h=p.get("value"),g=d?v:h.getIn([i]),y=[],m=g,_=B0(a||[]),b;try{for(_.s();!(b=_.n()).done;){var S=ke(b.value,2),O=S[0],x=S[1];if(y.push([O,x,m]),O!==m.get("func")){var C=y.map(function(z){var H=ke(z,2),D=H[0],G=H[1];return"".concat(D,"(").concat(G,")")}).join("/")||"root";throw new Error("In ".concat(d?"LHS":"RHS"," for path ").concat(C," expected func key ").concat(O," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(z){_.e(z)}finally{_.f()}if(o){var k=m.get("func"),E=Gr(e,k),I=E.args,j=I[o];l==="!valueSrc"?m=OP(m,o,s):m=Lg(m,o,s,j,e)}else{var A=s,w=!0;m=_P(m,A,e,w),c.canDropArgs=!0}for(var L=m;y.length;){var M=y.pop(),R=ke(M,3),U=R[0],V=R[1],$=R[2],F=Gr(e,U),N=F.args,B=N[V];L=Lg($,V,L,B,e)}return d?Dj(r,n,L,e,u,c):Mj(r,n,i,L,void 0,e,u,c)},Dj=function(e,r,n,i,a){var o,s,l,u,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=e.getIn(Ie(r));if(!f)return{state:e};var d=c.isEndValue,p=c.canDropArgs;if(!n)return e=q0(e,r),{state:e};var v=i.settings,h=v.fieldSeparator,g=v.setOpOnChangeField,y=v.showErrorMessage;Array.isArray(n)&&(n=n.join(h));var m=f.get("type"),_=f.get("properties"),b=m=="rule_group",S=_==null?void 0:_.get("fieldSrc"),O=Me(i,n);if(!O)return console.warn("No config for LHS ".concat(n)),{state:e};var x=O.type;(x==="!group"||x==="!struct")&&(x=null);var C=_==null?void 0:_.get("operator"),A=_==null?void 0:_.get("operatorOptions"),w=_==null?void 0:_.get("field"),k=O.type=="!group",E=k&&O.mode=="array",I=b!=k,j=O&&((o=O.operators)===null||o===void 0?void 0:o.indexOf(C))!==-1?C:null,L=S==="func"&&(w==null||(s=w.get)===null||s===void 0?void 0:s.call(w,"func"))===((l=n)===null||l===void 0||(u=l.get)===null||u===void 0?void 0:u.call(l,"func")),M=L&&!!j,R=null,U=S==="func"?wP(i,x):uh(i,n);if(U&&U.length==1)R=U[0];else if(M)R=j;else if(U&&U.length>1){var V=B0(g),$;try{for(V.s();!($=V.n()).done;){var F=$.value;if(F=="keep"&&!I?R=j:F=="default"?R=S0(i,n,!1):F=="first"&&(R=w0(i,n)),R)break}}catch(Y){V.e(Y)}finally{V.f()}}if(!k&&!O.operators)return console.warn("Type ".concat(O.type," is not supported")),{state:e};b&&!k&&(e=e.setIn(Ie(r,"type"),"rule"),e=e.deleteIn(Ie(r,"children1")),e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap)),_||(e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap));var N=!y;if(k){e=e.setIn(Ie(r,"type"),"rule_group");var B=ns(i,i,_,n,R,"field",N,d,p);B.canReuseValue;var z=B.newValue,H=B.newValueSrc,D=B.newValueType,G=B.operatorCardinality,q=Ro(i,O).merge({field:n,fieldSrc:"field",mode:O.mode});E&&(q=q.merge({operator:R,value:z,valueSrc:H,valueType:D})),e=e.setIn(Ie(r,"children1"),new Ue.OrderedMap),e=e.setIn(Ie(r,"properties"),q),O.initialEmptyWhere&&G==1||(e=as(e,r,"rule",Ft(),Ta(i,n),i)),e=zi(e)}else e=e.updateIn(Ie(r,"properties"),function(Y){return Y.withMutations(function(K){var ie=ns(i,i,K,n,R,"field",N,d,p),te=ie.canReuseValue,oe=ie.newValue,ue=ie.newValueSrc,fe=ie.newValueType,pe=ie.newValueError,Se=ie.newFieldError,Q=ie.fixedField,re=n,de=Q!==n;de&&(re=Q),y&&(K=K.set("fieldError",Se),K=K.set("valueError",pe));var ve=te?A:tf(i,R,re);return K=K.set("field",re).delete("fieldType").set("fieldSrc",S).set("operator",R).set("operatorOptions",ve).set("value",oe).set("valueSrc",ue).set("valueType",fe),te||(K=K.delete("asyncListValues")),K})});return{state:e}},yue=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.showErrorMessage,s=a.get("properties"),l=a.get("children1"),u=s.get("field");s.get("fieldSrc");var c=Me(i,u),f=(c==null?void 0:c.type)=="!group",d=jt(i,n,u),p=d?Ur(d):null,v=!0;return e=e.updateIn(Ie(r,"properties"),function(h){return h.withMutations(function(g){var y=g.get("field"),m=g.get("operatorOptions");g.get("value",new Ue.List),g.get("valueSrc",new Ue.List),g.get("operator");var _=ns(i,i,g,y,n,"operator",v),b=_.canReuseValue,S=_.newValue,O=_.newValueSrc,x=_.newValueType,C=_.newValueError;o&&(g=g.set("valueError",C));var A=b?m:tf(i,n,y);return b||(g=g.delete("asyncListValues")),g.set("operator",n).set("operatorOptions",A).set("value",S).set("valueSrc",O).set("valueType",x)})}),f&&p==0&&l.size==0&&(e=as(e,r,"rule",Ft(),Ta(i,u),i)),e},Mj=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=e.getIn(Ie(r));if(!u)return{state:e};var c=l.canDropArgs,f=l.isEndValue,d=o.settings,p=d.fieldSeparator,v=d.showErrorMessage,h=e.getIn(Ie(r,"properties","valueSrc",n+""))||null;h==="field"&&Array.isArray(i)&&(i=i.join(p));var g=e.getIn(Ie(r,"properties","field"))||null,y=e.getIn(Ie(r,"properties","operator"))||null,m=jt(o,y,g),_=y?Ur(m):null,b=a||EP(i,h,o),S=!v,O=$l(o,g,g,y,i,b,h,s,S,f,c),x=ke(O,2),C=x[0],A=x[1],w=A==null?void 0:A.find(function($){return!$.fixed&&!$.ignore}),k=w?Di(w):null,E=C!==i;E&&(i=C),e=Vj(e,r,o,_);var I=Array.from({length:_},function($,F){return F==n?i:e.getIn(Ie(r,"properties","value",F+""))||null}),j=Array.from({length:_},function($,F){return e.getIn(Ie(r,"properties","valueSrc",F+""))||null}),L=O0(o,g,y,I,j),M=L?Di(L):null,R=!k&&!M,U=v?!0:R||E;if(U&&(e=e.deleteIn(Ie(r,"properties","asyncListValues")),typeof i>"u"?(e=e.setIn(Ie(r,"properties","value",n),void 0),e=e.setIn(Ie(r,"properties","valueType",n),null)):(s&&(e=e.setIn(Ie(r,"properties","asyncListValues"),s)),e=e.setIn(Ie(r,"properties","value",n),i),e=e.setIn(Ie(r,"properties","valueType",n),b))),v){var V=e.getIn(Ie(r,"properties","valueError"));V||(e=e.setIn(Ie(r,"properties","valueError"),new Ue.List(new Array(_)))),e=e.setIn(Ie(r,"properties","valueError",n),k),_>=2&&(e=e.setIn(Ie(r,"properties","valueError",_),M))}return{state:e}},bue=function(e,r,n,i,a){var o=e.getIn(Ie(r));if(!o)return e;var s=a.settings.showErrorMessage,l=e.getIn(Ie(r,"properties","field"))||null,u=e.getIn(Ie(r,"properties","operator"))||null,c=jt(a,u,l),f=u?Ur(c):null;if(e=Vj(e,r,a,f),e=e.setIn(Ie(r,"properties","value",n+""),void 0),e=e.setIn(Ie(r,"properties","valueType",n+""),null),e=e.deleteIn(Ie(r,"properties","asyncListValues")),s&&(e=e.setIn(Ie(r,"properties","valueError",n),null),c.validateValues&&(e=e.setIn(Ie(r,"properties","valueError",f),null))),typeof i>"u"?e=e.setIn(Ie(r,"properties","valueSrc",n+""),null):e=e.setIn(Ie(r,"properties","valueSrc",n+""),i),i){var d=e.getIn(Ie(r,"properties")),p=!0,v=ns(a,a,d,l,u,"valueSrc",p),h=v.canReuseValue,g=v.newValue,y=v.newValueSrc,m=v.newValueType;v.newValueError,!h&&y.get(n)==i&&(e=e.setIn(Ie(r,"properties","value",n+""),g.get(n)),e=e.setIn(Ie(r,"properties","valueType",n+""),m.get(n)))}return e},_ue=function(e,r,n,i){var a=e.getIn(Ie(r));return a?e.setIn(Ie(r,"properties","operatorOptions",n),i):e},Sue=function(e,r){var n=r.settings.canLeaveEmptyGroup;return n||(e=ah(e)),e},Vj=function(e,r,n,i){if(!i){var a=e.getIn(Ie(r,"properties","field"))||null,o=e.getIn(Ie(r,"properties","operator"))||null,s=jt(n,o,a);i=o?Ur(s):null}for(var l=0,u=["value","valueType","valueError","valueSrc"];l<u.length;l++){var c=u[l];e.getIn(Ie(r,"properties",c))||(e=e.setIn(Ie(r,"properties",c),new Ue.List(i?Array.from({length:i}):[])))}return e},Oue=function t(e,r,n){n&&Array.isArray(n)&&(r.children1=new Ue.OrderedMap(n.reduce(function(i,a){var o,s=(o=a.id)!==null&&o!==void 0?o:Ft(),l=la(la({},a),{},{properties:xA(e,a).merge(Fo(a.properties)||{}),id:s});return t(e,l,l.children1),la(la({},i),{},le({},s,new Ue.Map(l)))},{})))},xue=function(e,r){var n=e.getIn(Ie(r,"properties","field"))||null;return n},ux={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},wue=function(e,r){if(!e||!e.type)return null;var n=["config","asyncListValues"],i=[D0,Fj,Lj,Rj],a=ph(Co(e,n),r0),o=e.path&&xue(r.tree,e.path)||e.field;if(o){var s;(s=o)!==null&&s!==void 0&&s.toJS&&(o=o.toJS()),a.affectedField=o}return(i.includes(e.type)||e.type.indexOf("@@redux")==0)&&(a=null),a};const Eue=function(t,e,r,n,i){var a=e,o=la({tree:a},ux);return function(){var s,l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,c=arguments.length>1?arguments[1]:void 0,f=(s=(l=i==null?void 0:i())!==null&&l!==void 0?l:c==null?void 0:c.config)!==null&&s!==void 0?s:t,d={__lastAction:void 0},p={},v=wue(c,u);switch(c==null?void 0:c.type){case D0:{var h=r(f,c.tree);p.tree=h;break}case N0:{p.tree=lx(u.tree,c.path,"case_group",c.id,c.properties,f,c.children,c.meta);break}case yj:{p.tree=lx(u.tree,c.path,"group",c.id,c.properties,f,c.children,c.meta);break}case bj:{p.tree=cue(u.tree,c.path,f);break}case Oj:{p.tree=as(u.tree,c.path,c.ruleType,c.id,c.properties,f,c.children);break}case xj:{p.tree=fue(u.tree,c.path,f);break}case _j:{p.tree=hue(u.tree,c.path,c.conjunction);break}case Sj:{p.tree=due(u.tree,c.path,c.not);break}case wj:{var g=Dj(u.tree,c.path,c.field,f,c.asyncListValues,c._meta),y=g.state;p.tree=y;break}case Ej:{p.tree=gue(u.tree,c.path,c.srcKey,f);break}case Pj:{p.tree=pue(u.tree,c.path,c.lock);break}case Cj:{p.tree=yue(u.tree,c.path,c.operator,f);break}case Tj:{var m=Mj(u.tree,c.path,c.delta,c.value,c.valueType,f,c.asyncListValues,c._meta),_=m.state;p.tree=_;break}case Ij:{var b=mue(f,u.tree,c.path,c.delta,c.parentFuncs,c.argKey,c.value,c.valueType,c.asyncListValues,c._meta),S=b.state;p.tree=S;break}case kj:{p.tree=bue(u.tree,c.path,c.delta,c.srcKey,f,c._meta);break}case Aj:{p.tree=_ue(u.tree,c.path,c.name,c.value);break}case jj:{p.tree=vue(u.tree,c.fromPath,c.toPath,c.placement);break}case Fj:{p.dragStart=c.dragStart,p.dragging=c.dragging,p.mousePos=c.mousePos;break}case Lj:{p.mousePos=c.mousePos,p.dragging=c.dragging;break}case Rj:{p.tree=Sue(u.tree,f),p=la(la({},p),ux);break}}return v&&(p.__lastAction=v),n&&p.tree&&u.tree&&n(u.tree),la(la(la({},u),d),p)}};var Cue=function(e,r){return{type:D0,tree:r,config:e}},Tue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;return{type:Oj,ruleType:i,children:a,path:Wr(r),id:Ft(),properties:Ta(e,o).merge(Fo(n)||{}),config:e}},kue=function(e,r){return{type:xj,path:Wr(r),config:e}},Iue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:N0,path:Wr(r),children:i,id:Ft(),properties:Ro(e).merge(Fo(n)||{}),config:e,meta:{isDefaultCase:!0}}},Aue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:N0,path:Wr(r),children:i,id:Ft(),properties:Ro(e).merge(Fo(n)||{}),config:e}},Pue=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:yj,path:Wr(r),children:i,id:Ft(),properties:Ro(e).merge(Fo(n)||{}),config:e}},jue=function(e,r){return{type:bj,path:Wr(r),config:e}},Lue=function(e,r,n,i){return{type:jj,fromPath:Wr(r),toPath:Wr(n),placement:i,config:e}};const Fue=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:Aue,addDefaultCaseGroup:Iue,addGroup:Pue,addRule:Tue,moveItem:Lue,removeGroup:jue,removeRule:kue,setTree:Cue},Symbol.toStringTag,{value:"Module"}));var Rue=function(e,r,n){return{type:_j,path:Wr(r),conjunction:n}},$ue=function(e,r,n){return{type:Sj,path:Wr(r),not:n}},Nue=function(e,r,n){return{type:Pj,path:Wr(r),lock:n}};const Due=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:Rue,setLock:Nue,setNot:$ue},Symbol.toStringTag,{value:"Module"}));var Mue=function(e,r,n,i,a){return{type:wj,path:Wr(r),field:n,config:e,asyncListValues:i,_meta:a}},Vue=function(e,r,n){return{type:Ej,path:Wr(r),srcKey:n,config:e}},Bue=function(e,r,n){return{type:Cj,path:Wr(r),operator:n,config:e}},que=function(e,r,n,i,a,o,s){return{type:Tj,path:Wr(r),delta:n,value:i,valueType:a,asyncListValues:o,config:e,_meta:s}},Hue=function(e,r,n,i,a){return{type:kj,path:Wr(r),delta:n,srcKey:i,config:e,_meta:a}},zue=function(e,r,n,i,a,o,s,l,u){return{type:Ij,path:Wr(r),delta:n,parentFuncs:i,argKey:a,value:o,valueType:s,asyncListValues:l,config:e,_meta:u}},Uue=function(e,r,n,i){return{type:Aj,path:Wr(r),name:n,value:i,config:e}};const Wue=Object.freeze(Object.defineProperty({__proto__:null,setField:Mue,setFieldSrc:Vue,setFuncValue:zue,setOperator:Bue,setOperatorOption:Uue,setValue:que,setValueSrc:Hue},Symbol.toStringTag,{value:"Module"}));function cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var it=hv(hv(hv({},Dse),{},{Export:XO,Import:iO,ConfigMixins:ale},XO),iO);const af=P.createContext();var Bf="after",qf="before",qo="append",Vs="prepend",Gue="SET_DRAG_PROGRESS",Yue="SET_DRAG_START",Kue="SET_DRAG_END",Jue=function(e,r){return{type:Gue,mousePos:e,dragging:r}},Que=function(e,r,n){return{type:Yue,dragStart:e,dragging:r,mousePos:n}},Xue=function(){return{type:Kue}},Bj=Fue,Zue=Due,ece=Wue,tce={},rce=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},Zd=function(e,r,n){if(!r||!e||e.length<=r)return e;var i=e.substr(0,r-1);return i+"..."},Qo=function(e,r){return e===r?!0:e==null?void 0:e.equals(r)},os=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?nce(e,r,n):e&&typeof e.equals=="function"?e.equals(r):xt(e)==="object"?ice(e,r,n):e===r};function nce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?os(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function ice(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?os(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var ace=function(){return typeof process<"u"&&tce&&!1},oce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:ace();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},sce=oce(),fx=it.Validation.validateAndFixTree,lce=function(){var e,r,n;return function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return a?(i.__configId===n&&(Qo(a,e)||Qo(a,r))||(n=i.__configId,e=a,s===!1?r=fx(a,null,i,o||i,!1,!1,!1):r=fx(a,null,i,o||i)),r):null}},uce=function(e){if(e._reactRootContainer)return"root";if(Object.getOwnPropertyNames(e).filter(function(r){return r.startsWith("__reactContainer")}).length>0)return"container"},cce=function t(e){if(e){var r=uce(e);return r!==void 0?r:t(e.parentNode)}},qj=function(e){return cce(e)==="root"},hh=function(e,r){return function(n,i){var a=e.props,o=e.state,s=n!=a||i!=o;if(s&&o==i&&a!=n){var l=[];for(var u in n){var c=n[u]!=a[u];c&&(r[u]=="ignore"?c=!1:r[u]=="shallow_deep"?c=!os(n[u],a[u],!0):r[u]=="shallow"?c=!os(n[u],a[u]):typeof r[u]=="function"&&(c=r[u](n[u],a[u],n,a))),c&&l.push(u)}l.length||(s=!1)}return s}},hu=function(e){return function(r,n){return!os(e.props,r)||!os(e.state,n)}},fce=function(){var e=P.version.split(".").map(parseInt.bind(null,10));return e[0]==16&&e[1]<3||e[0]<16},Nn=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=hu(e)),fce())e.componentWillReceiveProps=function(i){e.onPropsChanged(i)};else{var r=e.shouldComponentUpdate,n=function(a,o){var s=!os(e.props,a);s&&e.onPropsChanged(a);var l=r.call(e,a,o);return l};e.shouldComponentUpdate=n.bind(e)}},Hj=function(e,r,n){return ph(e,function(i){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n(i.apply(void 0,[r].concat(o)))}})};const dce=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:Hj,isUsingLegacyReactDomRender:qj,liteShouldComponentUpdate:hh,pureShouldComponentUpdate:hu,useOnPropsChanged:Nn},Symbol.toStringTag,{value:"Module"}));function dx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pce(t,e,r){return e=Le(e),Zt(t,zj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zj=function(){return!!t})()}var Uj=function(t){function e(r){var n;Qt(this,e),n=pce(this,e,[r]),n.shouldComponentUpdate=hh(n,{tree:function(o){return!(o===n.oldValidatedTree&&n.oldValidatedTree===n.validatedTree)}}),Nn(n),n._updateActions(r),n.validatedTree=r.getMemoizedTree(r.config,r.tree,void 0,r.sanitizeTree),n.oldValidatedTree=n.validatedTree;var i=r.getBasicConfig(r.config);return r.onInit&&r.onInit(n.validatedTree,i,void 0,n.actions),n}return Kt(e,t),Jt(e,[{key:"_updateActions",value:function(n){var i=n.config,a=n.dispatch;this.actions=Hj(vv(vv(vv({},Bj),Zue),ece),i,a)}},{key:"onPropsChanged",value:function(n){var i=n.onChange,a=this.props.config,o=n.tree;this.props.tree;var s=n.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=o,a!==s&&(this._updateActions(n),this.validatedTree=n.getMemoizedTree(s,o,a));var l=!Qo(this.validatedTree,this.oldValidatedTree);if(l){var u=n.getBasicConfig(s);i&&i(this.validatedTree,u,n.__lastAction,this.actions)}}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.renderBuilder,o=n.dispatch,s={tree:this.validatedTree,actions:this.actions,config:i,dispatch:o};return a(s)}}])}(J.Component);Uj.propTypes={config:W.object.isRequired,onChange:W.func,onInit:W.func,renderBuilder:W.func,tree:W.any};var Wj=up(function(t){return{tree:t.tree,__lastAction:t.__lastAction}},null,null,{context:af})(Uj);Wj.displayName="ConnectedQuery";function hce(t,e,r){return e=Le(e),Zt(t,Gj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gj=function(){return!!t})()}var px=it.DefaultUtils.defaultRoot,vce=it.ConfigUtils.createConfigMemo,Yj=function(t){function e(r,n){var i,a,o;Qt(this,e),o=hce(this,e,[r,n]),o.setLastTree=function(b){o.prevTree&&(o.prevprevTree=o.prevTree),o.prevTree=b},o.getConfig=function(){return o.config},o.shouldComponentUpdate=hh(o,{value:function(S,O){return!1}}),Nn(o);var s=vce({reactIndex:(i=(a=o._reactInternals)===null||a===void 0?void 0:a.index)!==null&&i!==void 0?i:-1,maxSize:2,canCompile:!0}),l=s.getExtendedConfig,u=s.getBasicConfig,c=s.clearConfigMemo;o.getMemoizedConfig=l,o.getBasicConfig=u,o.clearConfigMemo=c,o.getMemoizedTree=lce();var f=o.getMemoizedConfig(r),d=f.settings.shouldCreateEmptyGroup,p=!d,v=px(f,p),h=!!r.value,g=r.value||v,y=o.getMemoizedTree(f,g,void 0,h),m=Eue(f,y,o.getMemoizedTree,o.setLastTree,o.getConfig),_=LR(m);return o.config=f,o.state={store:_},o.QueryWrapper=function(b){return f.settings.renderProvider(b,f.ctx)},o}return Kt(e,t),Jt(e,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(n){var i=this.props,a=this.config,o=this.getMemoizedConfig(n),s=a!==o,l=this.state.store.getState().tree,u=!Qo(n.value,this.props.value)&&!Qo(n.value,l),c=u?n.value||px(n):l,f=u&&!Qo(n.value,this.prevTree)&&!Qo(n.value,this.prevprevTree);if(this.sanitizeTree=f||s,s&&(i.settings.renderProvider!==n.settings.renderProvider&&(this.QueryWrapper=function(p){return o.settings.renderProvider(p,o.ctx)}),this.config=o),u||s){var d=this.getMemoizedTree(o,c,a,this.sanitizeTree);this.state.store.dispatch(Bj.setTree(o,d))}}},{key:"render",value:function(){var n=this.props,i=n.renderBuilder,a=n.get_children,o=n.onChange,s=n.onInit,l=this.state.store,u=this.config,c=this.QueryWrapper;return P.createElement(c,{config:u},P.createElement(jR,{store:l,context:af},P.createElement(Wj,{config:u,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:o,onInit:s,renderBuilder:i||a})))}}])}(J.Component);Yj.propTypes={conjunctions:W.object.isRequired,fields:W.object.isRequired,types:W.object.isRequired,operators:W.object.isRequired,widgets:W.object.isRequired,settings:W.object.isRequired,ctx:W.object.isRequired,onChange:W.func,onInit:W.func,renderBuilder:W.func,value:W.any};function gce(t,e,r){return e=Le(e),Zt(t,Kj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kj=function(){return!!t})()}var mce=it.ConfigUtils.getFieldConfig,yce=function(e){var r;return r=function(n){function i(a){var o;return Qt(this,i),o=gce(this,i,[a]),o.dummyFn=function(){},o.removeSelf=function(){o.props.actions.removeRule(o.props.path)},o.setLock=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;o.props.actions.setLock(o.props.path,s)},o.setField=function(s,l,u){o.props.actions.setField(o.props.path,s,l,u)},o.setFieldSrc=function(s){o.props.actions.setFieldSrc(o.props.path,s)},o.setOperator=function(s){o.props.actions.setOperator(o.props.path,s)},o.setOperatorOption=function(s,l){o.props.actions.setOperatorOption(o.props.path,s,l)},o.setValue=function(s,l,u,c,f){o.props.actions.setValue(o.props.path,s,l,u,c,f)},o.setValueSrc=function(s,l,u){o.props.actions.setValueSrc(o.props.path,s,l,u)},o.setFuncValue=function(s,l,u,c,f,d,p){o.props.actions.setFuncValue(o.props.path,s,l,u,c,f,d,p)},o.pureShouldComponentUpdate=hu(o),o.dummyFn.isDummyFn=!0,o}return Kt(i,n),Jt(i,[{key:"shouldComponentUpdate",value:function(o,s){var l=this.props,u=this.state,c=this.pureShouldComponentUpdate(o,s);if(c&&u==s&&l!=o){var f=o.dragging.id||l.dragging.id,d=f==o.id,p=[];for(var v in o){var h=o[v]!=l[v];v=="dragging"&&!d&&(h=!1),h&&p.push(v)}p.length||(c=!1)}return c}},{key:"render",value:function(){var o=this.props.dragging.id==this.props.id,s=mce(this.props.config,this.props.field),l=this.props.fieldType||(s==null?void 0:s.type)||null,u=this.props.config.settings.showErrorMessage;s&&s.type=="!struct";var c=!o&&this.props.isDraggingTempo,f=this.props,d=f.valueError,p=f.fieldError,v=[p].concat(Ce((d==null?void 0:d.toArray())||[])).filter(function(g){return!!g}).shift()||null,h=v!=null&&u;return P.createElement("div",{className:Oi("group-or-rule-container","rule-container",h?"rule-with-error":null),"data-id":this.props.id},[o?P.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,P.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:o,isDraggingTempo:c,onDragStart:this.props.onDragStart,setLock:c?this.dummyFn:this.setLock,removeSelf:c?this.dummyFn:this.removeSelf,setField:c?this.dummyFn:this.setField,setFieldSrc:c?this.dummyFn:this.setFieldSrc,setFuncValue:c?this.dummyFn:this.setFuncValue,setOperator:c?this.dummyFn:this.setOperator,setOperatorOption:c?this.dummyFn:this.setOperatorOption,setValue:c?this.dummyFn:this.setValue,setValueSrc:c?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),r.propTypes={id:W.string.isRequired,groupId:W.string,config:W.object.isRequired,path:W.any.isRequired,operator:W.string,field:W.any,fieldSrc:W.string,fieldType:W.string,actions:W.object.isRequired,onDragStart:W.func,value:W.any,valueSrc:W.any,asyncListValues:W.array,valueError:W.any,fieldError:W.string,operatorOptions:W.object,reordableNodesCnt:W.number,parentField:W.string,isLocked:W.bool,isTrueLocked:W.bool,dragging:W.object,isDraggingTempo:W.bool},r};const bce=function(t){var e=up(function(r){return{dragging:r.dragging}},null,null,{context:af})(yce(t));return e.displayName="ConnectedRuleContainer",e};function _ce(t,e,r){return e=Le(e),Zt(t,Jj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function Jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jj=function(){return!!t})()}var hx=it.clone,Sce=it.TreeUtils.getFlatTree,Bg=!1,Oce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r=function(i){function a(o){var s;return Qt(this,a),s=_ce(this,a,[o]),s._getEventTarget=function(l,u){return l&&l.__mocked_window||document.body||window},s.onDragStart=function(l,u,c){var f=u.closest(".query-builder");s._isUsingLegacyReactDomRender===void 0&&(s._isUsingLegacyReactDomRender=qj(f)),document.body.classList.add("qb-dragging"),f.classList.add("qb-dragging");var d=f.closest(".query-builder-container")||f;d=s._getScrollParent(d)||document.body;var p=d.scrollTop;s._getDraggableNodeEl(f),s._getPlaceholderNodeEl(f);var v=f.querySelectorAll(".group--children"),h=v.length?v[0]:null,g;h&&(g=window.getComputedStyle(h,null).getPropertyValue("padding-left"),g=parseInt(g));var y={id:l,x:u.offsetLeft,y:u.offsetTop,w:u.offsetWidth,h:u.offsetHeight,itemInfo:s.tree.items[l],paddingLeft:g},m={id:l,x:u.offsetLeft,y:u.offsetTop,scrollTop:p,clientX:c.clientX,clientY:c.clientY,itemInfo:hx(s.tree.items[l]),treeEl:f,treeElContainer:d},_={clientX:c.clientX,clientY:c.clientY},b=s._getEventTarget(c,m);s.eventTarget=b,b.addEventListener("mousemove",s.onDrag),b.addEventListener("mouseup",s.onDragEnd),s.props.setDragStart(m,y,_)},s.onDrag=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=Object.assign({},s.props.dragging),f=s.props.dragStart,d=c.paddingLeft,p=f.treeElContainer,v=p.scrollTop;if(c.itemInfo=s.tree.items[c.id],!!c.itemInfo){var h={clientX:l.clientX,clientY:l.clientY},g={clientX:f.clientX,clientY:f.clientY};if(l.__mock_dom){var y=f.treeEl,m=s._getDraggableNodeEl(y),_=s._getPlaceholderNodeEl(y);l.__mock_dom({treeEl:y,dragEl:m,plhEl:_})}if(!f.plX){var b=f.treeEl,S=s._getPlaceholderNodeEl(b);S&&(f.plX=S.getBoundingClientRect().left+window.scrollX,f.plY=S.getBoundingClientRect().top+window.scrollY)}var O=f.x,x=f.y,C=f.clientX,A=f.clientY,w=f.scrollTop,k={x:O+(l.clientX-C),y:x+(l.clientY-A)+(v-w)};c.x=k.x,c.y=k.y,c.paddingLeft=d,c.mousePos=h,c.startMousePos=g,s.props.setDragProgress(h,c);var E=u?s.handleDrag(c,l,n):!1;E||l.preventDefault&&l.preventDefault()}},s.onDragEnd=function(){var l=s.props.dragStart.treeEl;s.props.setDragEnd(),l.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),s._cacheEls={};var u=s.eventTarget||s._getEventTarget();u.removeEventListener("mousemove",s.onDrag),u.removeEventListener("mouseup",s.onDragEnd)},s.pureShouldComponentUpdate=hu(s),Nn(s),s.onPropsChanged(o),s}return Kt(a,i),Jt(a,[{key:"onPropsChanged",value:function(s){this.tree=Sce(s.tree)}},{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=[];for(var p in s){var v=s[p]!=u[p];v&&p!="dragging"&&p!="mousePos"&&d.push(p)}d.length||(f=!1)}return f}},{key:"componentDidUpdate",value:function(s,l){var u=this.props.dragging,c=this.props.dragStart;if(Bg=!1,c&&c.id&&(u.itemInfo=this.tree.items[u.id],u.itemInfo&&(u.itemInfo.index!=c.itemInfo.index||u.itemInfo.parent!=c.itemInfo.parent))){var f=c.treeEl,d=c.treeElContainer,p=this._getPlaceholderNodeEl(f,!0);if(p){var v=p.getBoundingClientRect().left+window.scrollX,h=p.getBoundingClientRect().top+window.scrollY,g=c.plX,y=c.plY,m=d.scrollTop;c.plX=v,c.plY=h,c.itemInfo=hx(u.itemInfo),c.y=p.offsetTop,c.x=p.offsetLeft,c.clientY+=h-y,c.clientX+=v-g,d!=document.body&&(c.scrollTop=m),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(l==null)return null;this._cacheEls||(this._cacheEls={});var c=this._cacheEls[l];return c&&document.contains(c)&&!u||(c=s.querySelector('.group-or-rule-container[data-id="'+l+'"]'),this._cacheEls[l]=c),c}},{key:"_getDraggableNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.draggable;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-draggable");return u=c.length?c[0]:null,this._cacheEls.draggable=u,u}},{key:"_getPlaceholderNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.placeholder;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-placeholder");return u=c.length?c[0]:null,this._cacheEls.placeholder=u,u}},{key:"_isScrollable",value:function(s){var l=window.getComputedStyle(s)["overflow-y"];return(l==="scroll"||l==="auto")&&s.scrollHeight>s.offsetHeight}},{key:"_getScrollParent",value:function(s){return s==null?null:s===document.body||this._isScrollable(s)?s:this._getScrollParent(s.parentNode)}},{key:"handleDrag",value:function(s,l,u){var c=this,f=!0,d=s.itemInfo,p=s.paddingLeft,v=null,h=this.props.dragStart.treeEl,g=s.id,y=this._getDraggableNodeEl(h),m=this._getPlaceholderNodeEl(h),_,b,S,O;if(y&&m){if(_=y.getBoundingClientRect(),b=m.getBoundingClientRect(),!b.width)return;var x={hrz:0,vrt:0};_.top<b.top?x.vrt=-1:_.bottom>b.bottom&&(x.vrt=1),_.left>b.left?x.hrz=1:_.left<b.left&&(x.hrz=-1),O=h.getBoundingClientRect();var C={x:O.left+(O.right-O.left)/2,y:x.vrt>=0?_.bottom:_.top},A;if(l.__mocked_hov_container)A=l.__mocked_hov_container;else{var w=document.elementFromPoint(C.x,C.y-1);if(A=w?w.closest(".group-or-rule-container"):null,!A&&w&&w.classList.contains("query-builder-container")){var k,E=w==null||(k=w.firstChild)===null||k===void 0?void 0:k.firstChild;E&&E.classList.contains("group-or-rule-container")&&(A=E)}}if(!A)sce.log("out of tree bounds!");else{var I=A.classList.contains("group-container"),j=A.getAttribute("data-id"),L=A,M=!1,R=!1;if(L){S=L.getBoundingClientRect();var U=S.bottom-S.top,V=this.tree.items[j];if(!V)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var $=null,F=null,N=null,B=null;if(x.vrt==0)N=d,F=m,F&&($=F.getBoundingClientRect());else if(I){if(x.vrt>0){var z=A.getElementsByClassName("group--header"),H=z.length?z[0]:null;if(H){var D=H.getBoundingClientRect(),G=D.bottom-D.top,q=_.bottom-D.top>G*3/4;q&&V.top>s.itemInfo.top&&(N=V,$=D,F=H,R=!0)}}else if(x.vrt<0&&V.lev>=d.lev){var Y=S.bottom-_.top>=2;Y&&V.top<s.itemInfo.top&&(N=V,$=S,F=L,M=!0)}if(!R&&!M||f){var K=x.vrt<0?S.bottom-_.top>U-5:_.bottom-S.top>U-5;K&&(!R&&!M&&(N=V,$=S,F=L),B=V)}}else{var ie=x.vrt<0?S.bottom-_.top>U/2:_.bottom-S.top>U/2;ie&&(N=V,$=S,F=L)}var te=N&&N.id==g;if($){var oe=_.left-O.left;$.left-O.left;var ue=Math.max(0,Math.round(oe/p)),fe=[],pe=[];if(!te){if(I&&(M?fe.push([qo,N,N.lev+1]):R&&fe.push([Vs,N,N.lev+1]),B)){var Se=B.lev==0,Q=B.type=="case_group"&&d.type!="case_group",re=B.prev&&this.tree.items[B.prev].caseId,de=B.next&&this.tree.items[B.next].caseId;d.caseId==re&&(re=null),d.caseId==de&&(de=null);var ve=re&&this.tree.items[re],ee=de&&this.tree.items[de];x.vrt>0?Se?pe.push([qo,B,B.lev+1]):Q&&ee?pe.push([Vs,ee,ee.lev+1]):pe.push([Bf,B,B.lev]):x.vrt<0&&(Se?pe.push([Vs,B,B.lev+1]):Q&&ve?pe.push([qo,ve,ve.lev+1]):pe.push([qf,B,B.lev]))}!M&&!R&&(x.vrt<0?fe.push([qf,N,N.lev]):x.vrt>0&&fe.push([Bf,N,N.lev]))}var me=function(je){var Be=je[1],Ne=d.caseId?c.tree.items[d.caseId]:null,ot=Be.caseId?c.tree.items[Be.caseId]:null;return[].concat(Ce(je),[Ne,ot])};fe=fe.map(me),pe=pe.map(me),fe=fe.filter(function(he){var je=he[0],Be=he[1];if((je==qf||je==Bf)&&Be.parent==null||Be.collapsed&&(je==qo||je==Vs))return!1;var Ne=Be.id==d.id;if(!Ne){for(var ot=Be;ot.parent;)if(ot=c.tree.items[ot.parent],ot.id==d.id){Ne=!0;break}}return!Ne}).map(function(he){var je=he[0],Be=he[1];he[2],he[3],he[4];var Ne=null;return je==qo||je==Vs?Ne=Be:Ne=c.tree.items[Be.parent],Ne&&Ne.parent==null&&(Ne=null),he[5]=Ne,he});var Oe=null,we=fe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)});we.length==0&&pe.length>0&&(we=pe.filter(function(he){return c.canMove(d,he[1],he[0],he[3],he[4],he[5],u)}));var Je=we.map(function(he){return he[2]}),at=d.lev,ce=Je.concat(at),ge=null;ce.indexOf(ue)!=-1?ge=ue:ue>Math.max.apply(Math,Ce(ce))?ge=Math.max.apply(Math,Ce(ce)):ue<Math.min.apply(Math,Ce(ce))&&(ge=Math.min.apply(Math,Ce(ce))),Oe=we.find(function(he){return he[2]==ge}),!te&&!Oe&&we.length&&(Oe=we[0]),v=Oe}}}}return v?(this.move(d,v[1],v[0],v[3]),!0):!1}},{key:"canMove",value:function(s,l,u,c,f,d,p){if(!s||!l||s.id===l.id)return!1;var v=this.props.config.settings,h=v.canRegroup,g=v.canRegroupCases,y=v.maxNesting,m=v.maxNumberOfRules,_=v.canLeaveEmptyCase,b=d?d.lev+1:l.lev,S=b+(s.depth||0),O=u==qf||u==Bf,x=u==Vs||u==qo,C=O&&l.lev==1||x&&l.lev==0,A=s.parent!=l.parent,w=x||A,k=s.type=="case_group"&&!C||s.parentType=="rule_group"||l.type=="rule_group"||l.parentType=="rule_group"||s.type!="case_group"&&l.type=="case_group"&&O||s.type!="case_group"&&l.type=="switch_group"||!g&&s.caseId!=l.caseId,E=l.isLocked||s.isLocked||d&&d.isLocked;if(y&&S>y||w&&(!h||k||E))return!1;if(s.type!="case_group"&&s.caseId!=l.caseId){var I=c?c._height==2:!1,j=f?f.atomicRulesCountInCase+1:0;if(m&&j>m||I&&!_)return!1}if(s.type=="case_group"&&(s.isDefaultCase||l.isDefaultCase||l.type=="switch_group"&&u==qo))return!1;var L=!0;return p&&(L=p(s.node.toJS(),l.node.toJS(),u,d?d.node.toJS():null)),L}},{key:"move",value:function(s,l,u,c){this._isUsingLegacyReactDomRender||(Bg=!0),this.props.actions.moveItem(s.path,l.path,u)}},{key:"render",value:function(){return P.createElement(e,ae({},this.props,{onDragStart:this.onDragStart}))}}])}(J.Component),r.propTypes={tree:W.any.isRequired,actions:W.object.isRequired},r};const xce=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=up(function(n){return{dragging:n.dragging,dragStart:n.dragStart,mousePos:n.mousePos}},{setDragStart:Que,setDragProgress:Jue,setDragEnd:Xue},null,{context:af})(Oce(t,e));return r.displayName="ConnectedSortableContainer",r};var wce=["isDraggingTempo","isDraggingMe","dragging"];function Ece(t,e,r){return e=Le(e),Zt(t,Qj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function Qj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qj=function(){return!!t})()}const vu=function(t){return function(e){var r;return r=function(n){function i(a){var o;return Qt(this,i),o=Ece(this,i,[a]),o.handleDraggerMouseDown=function(s){var l=o.props.id,u=o.wrapper.current;o.props.onDragStart&&o.props.onDragStart(l,u,s)},o.wrapper=P.createRef(),o}return Kt(i,n),Jt(i,[{key:"render",value:function(){var o=this.props,s=o.isDraggingTempo,l=o.isDraggingMe,u=o.dragging,c=ri(o,wce),f=c.isTrueLocked,d={};l&&s&&(Bg||(d={top:u.y,left:u.x,width:u.w}));var p=Oi(t,"group-or-rule",l&&s?"qb-draggable":null,l&&!s?"qb-placeholder":null,f?"locked":null);return P.createElement("div",{className:p,style:d,ref:this.wrapper,"data-id":this.props.id},P.createElement(e,ae({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:l,isDraggingTempo:s},c)))}}])}(J.PureComponent),r.propTypes={isDraggingTempo:W.bool,isDraggingMe:W.bool,onDragStart:W.func,dragging:W.object,isLocked:W.bool,isTrueLocked:W.bool},r}};var Cce=Zp,Tce=V0,kce=OI,Ice=u0;function Ace(t,e){if(t==null)return{};var r=Cce(Ice(t),function(n){return[n]});return e=Tce(e),kce(t,r,function(n,i){return e(n,i[0])})}var Pce=Ace;const jce=tn(Pce);function vx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e,r){return e=Le(e),Zt(t,Xj()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xj=function(){return!!t})()}var Zj=it.ConfigUtils,Rce=Zj.getFieldConfig,$ce=Zj.getOperatorConfig,eL=function(t){function e(r){var n;return Qt(this,e),n=Fce(this,e,[r]),n.shouldComponentUpdate=hh(n,{selectedField:function(a,o){return!1}}),Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.selectedField,s=n.selectedFieldType,l=n.selectedOperator,u=Rce(a,o),c=Ce((u==null?void 0:u.operators)||((i=a.types[s])===null||i===void 0?void 0:i.operators)||[]);!o&&!c.includes(l)&&c.push(l);var f=ph(jce(a.operators,function(b,S){return(c==null?void 0:c.indexOf(S))!==-1}),function(b,S){return $ce(a,S,o)}),d=this.buildOptions(a,f,c),p=f[l]||{},v=this.props.config.settings.operatorPlaceholder,h=l,g=h?[h]:null,y=g,m=p.label,_=p.label2||p.tooltip;return{placeholder:v,items:d,selectedKey:h,selectedKeys:g,selectedPath:y,selectedLabel:m,selectedAltLabel:_,selectedOpts:p,fieldConfig:u}}},{key:"buildOptions",value:function(n,i,a){return!i||!a?null:wl(i).sort(function(o,s){return a.indexOf(o)-a.indexOf(s)}).map(function(o){var s=i[o],l=s.label,u=s.label2,c=s.tooltip;return{key:o,path:o,label:l,altLabel:u,tooltip:c}})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setOperator,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderOperator,f=Lce({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:o},this.meta);return f.items?c(f,i.ctx):null}}])}(J.Component);eL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,selectedField:W.any,selectedFieldId:W.string,selectedFieldType:W.string,selectedFieldSrc:W.string,selectedOperator:W.string,readonly:W.bool,customProps:W.object,setOperator:W.func.isRequired};var Nce=["children"],Hr=function(e){var r=e.children,n=ri(e,Nce);return P.createElement("div",n,r)},En=function(){},tL=function(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},P.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),P.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},gu=function(e){return function(r){var n=r.config.settings.useConfirm,i=n?n.call(r.config.ctx,r.config.ctx):null;return P.createElement(e,ae({},r,{confirmFn:i}))}},rL=function(e){var r=e.id,n=e.isLHS,i=e.delta,a=e.parentFuncs;return[r,n?"L":"R",n?-1:i||0,(a||[]).map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"(").concat(u,")")}).join("/")].join(":")},Cn=function(e,r){var n;return typeof r=="function"?(n=function(a){return r==null?void 0:r(a,e.ctx)},n.displayName=r.name):n=r,n};function Dce(t,e,r){return e=Le(e),Zt(t,nL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nL=function(){return!!t})()}var iL=function(t){function e(){return Qt(this,e),Dce(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.setOperator,c=n.selectedFieldId,f=n.showOperator,d=n.showOperatorLabel,p=n.selectedFieldWidgetConfig,v=n.readonly,h=n.id,g=n.groupId,y=f&&P.createElement(Hr,{key:"operators-for-"+c,className:"rule--operator"},i.settings.showLabels&&P.createElement("label",{className:"rule--label"},i.settings.operatorLabel),P.createElement(eL,{key:"operator",config:i,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,selectedFieldId:c,selectedOperator:l,setOperator:u,customProps:i.settings.customOperatorSelectProps,readonly:v,id:h,groupId:g})),m=d&&P.createElement(Hr,{key:"operators-for-"+c,className:"rule--operator"},P.createElement("div",{className:"rule--operator-wrapper"},i.settings.showLabels?P.createElement("label",{className:"rule--label"}," "):null,P.createElement("div",{className:"rule--operator-text-wrapper"},P.createElement("span",{className:"rule--operator-text"},p.operatorInlineLabel))));return[y,m]}}])}(J.PureComponent);function gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vce(t,e,r){return e=Le(e),Zt(t,aL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(aL=function(){return!!t})()}var mx=it.RuleUtils.getFieldPathLabels,H0=it.ConfigUtils,yx=H0.getFieldConfig,bx=H0.getFieldParts,_x=H0.getFieldPathParts,oL=function(t){function e(r){var n;return Qt(this,e),n=Vce(this,e,[r]),n.setField=function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.props.id;if(!o.widgetId){var l=[s,"L",-1].join(":");o.widgetId=l}n.props.setField(i,a,o)},Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.config,s=n.parentField,l=i,u=o.settings,c=u.maxLabelsLength,f=u.fieldSeparatorDisplay,d=u.fieldPlaceholder;u.fieldSeparator;var p=!!i,v=p?null:Zd(d,c),h=p?yx(o,l):null,g=h||{},y=_x(l,o),m=_x(l,o,!0),_=this.getFieldLabel(h,l,o),b=mx(l,o),S=b?b.join(f):null;(S==_||s)&&(S=null);var O=g.label2||g.tooltip,x=bx(s,o),C=s?yx(o,s):null,A=s?C&&C.subfields:o.fields,w=!p&&a,k=this.buildOptions(x,o,A,w,x),E=w?"Please select field":null;return l&&xt(l)==="object"&&(l=void 0),{placeholder:v,items:k,parentField:s,selectedKey:l,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedAltLabel:O,selectedFullLabel:S,errorText:E}}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=bx(i,a),l=(n==null?void 0:n.label)||nh(s);return l=Zd(l,o),l}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(!a)return null;var c=i.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"",v=function h(g){return Object.keys(g||{}).reduce(function(y,m){var _=g[m];return _.type==="!struct"?y+h(_.subfields):y+(_.type===s?1:0)},0)};return wl(a).map(function(h){var g=[].concat(Ce(l!=null?l:[]),[h]),y=a[h],m=o.getFieldLabel(y,g,i),_=mx(g,i),b=_.join(d);(b==m||n!=null&&n.length)&&(b=null);var S=y.label2,O=y.tooltip,x=y.disabled;if(!y.hideForSelect)if(y.type=="!struct"){var C=o.buildOptions(n,i,y.subfields,s,g,{label:m,tooltip:O}),A=v(y.subfields)>0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,items:C,matchesType:A}}else{var w=s!==void 0?y.type===s:void 0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,grouplabel:u==null?void 0:u.label,group:u,matchesType:w}}}).filter(function(h){return!!h})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setFieldSrc,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Mce({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:this.setField,setFieldSrc:o},this.meta);return c(f,i.ctx)}}])}(J.Component);oL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,selectedField:W.any,selectedFieldSrc:W.string,selectedFieldType:W.string,parentField:W.string,customProps:W.object,readonly:W.bool,setField:W.func.isRequired,setFieldSrc:W.func};function Sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qce(t,e,r){return e=Le(e),Zt(t,sL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sL=function(){return!!t})()}var Hce=it.clone,vh=it.ConfigUtils,zce=vh.getFieldConfig,Ox=vh.getFuncConfig,Uce=vh.getFieldParts,xx=vh.getFieldPathParts,lL=it.RuleUtils,wx=lL.getFuncPathLabels,Wce=lL.getWidgetForFieldOp,Gce=it.OtherUtils.shallowEqual,uL=function(t){function e(r){var n;return Qt(this,e),n=qce(this,e,[r]),Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"],o=["config","field","fieldType","fieldSrc","value","isLHS"],s=!this.items||a.map(function(u){return u==="parentFuncs"?!Gce(n[u],i[u],!0):n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;l&&(this.meta=this.getMeta(n)),s&&(this.items=this.getItems(n,this.meta))}},{key:"getItems",value:function(n,i){var a=n.config,o=n.field,s=n.fieldType,l=n.isLHS,u=n.operator,c=n.parentFuncs,f=n.fieldDefinition,d=n.isFuncArg,p=i.lookingForFieldType,v=a.settings.canUseFuncForField,h=this.filterFuncs(a,a.funcs,o,s,l,u,v,c,d,f),g=this.buildOptions(a,h,p);return g}},{key:"getMeta",value:function(n){var i=n.config;n._field;var a=n.fieldType,o=n.value,s=n.isLHS,l=n.isFuncArg,u=i.settings,c=u.funcPlaceholder,f=u.fieldSeparatorDisplay,d=o,p=!!o,v=p?null:c,h=p?Ox(i,d):null,g=h||{},y=xx(d,i),m=xx(d,i,!0),_=this.getFuncLabel(h,d,i),b=wx(d,i),S=b?b.join(f):null;S==_&&(S=null);var O=s&&!l,x=O&&!p&&a,C=x?"Please select function":null;return{placeholder:v,selectedKey:d,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedFullLabel:S,errorText:C,lookingForFieldType:x}}},{key:"filterFuncs",value:function(n,i,a,o,s,l,u,c,f,d){i=Hce(i);var p=n.settings.fieldSeparator,v=zce(n,a),h,g=v,y=Wce(n,a,l,"value");y&&n.widgets[y],f?(g=d,h=d==null?void 0:d.type):v?h=v.type:s||(h=o);function m(_,b){for(var S in _){var O=_[S].subfields,x=(b||[]).concat(S),C=x.join(p),A=Ox(n,C);if(A.type=="!struct")m(O,x)==0&&delete _[S];else{var w,k=!h||A.returnType==h;(w=g)!==null&&w!==void 0&&w.funcs&&(k=k&&g.funcs.includes(C)),u&&(k=k&&u(a,v,C,A,l)),!A.allowSelfNesting&&c&&c.map(function(E){var I=ke(E,2),j=I[0];return I[1],j}).includes(C)&&(k=!1),k||delete _[S]}}return wl(_).length}return m(i,[]),i}},{key:"buildOptions",value:function(n,i){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!i)return null;var u=n.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"",p=function v(h){return Object.keys(h||{}).reduce(function(g,y){var m=h[y];return m.type==="!struct"?g+v(m.subfields):g+(m.type===o?1:0)},0)};return wl(i).map(function(v){var h=[].concat(Ce(s!=null?s:[]),[v]),g=i[v],y=a.getFuncLabel(g,h,n),m=wx(h,n),_=m.join(f);_==y&&(_=null);var b=g.tooltip;if(g.type=="!struct"){var S=a.buildOptions(n,g.subfields,o,h,{label:y,tooltip:b}),O=p(g.subfields)>0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,items:S,matchesType:O}}else{var x=o!==void 0?g.returnType===o:void 0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l,matchesType:x}}})}},{key:"getFuncLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Uce(i,a),l=(n==null?void 0:n.label)||nh(s);return l=Zd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderFunc,f=Bce({config:i,customProps:a,readonly:s,setField:o,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);uL.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,field:W.any,fieldType:W.string,fieldSrc:W.string,operator:W.string,customProps:W.object,value:W.string,setValue:W.func.isRequired,readonly:W.bool,parentFuncs:W.array,fieldDefinition:W.object,isFuncArg:W.bool,isLHS:W.bool};var Yce=Math.ceil,Kce=Math.max;function Jce(t,e,r,n){for(var i=-1,a=Kce(Yce((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Qce=Jce,Xce=/\s/;function Zce(t){for(var e=t.length;e--&&Xce.test(t.charAt(e)););return e}var efe=Zce,tfe=efe,rfe=/^\s+/;function nfe(t){return t&&t.slice(0,tfe(t)+1).replace(rfe,"")}var ife=nfe,afe=ife,Ex=Ei,ofe=Xp,Cx=NaN,sfe=/^[-+]0x[0-9a-f]+$/i,lfe=/^0b[01]+$/i,ufe=/^0o[0-7]+$/i,cfe=parseInt;function ffe(t){if(typeof t=="number")return t;if(ofe(t))return Cx;if(Ex(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ex(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=afe(t);var r=lfe.test(t);return r||ufe.test(t)?cfe(t.slice(2),r?2:8):sfe.test(t)?Cx:+t}var cL=ffe,dfe=cL,Tx=1/0,pfe=17976931348623157e292;function hfe(t){if(!t)return t===0?t:0;if(t=dfe(t),t===Tx||t===-Tx){var e=t<0?-1:1;return e*pfe}return t===t?t:0}var fL=hfe,vfe=Qce,gfe=FP,gv=fL;function mfe(t){return function(e,r,n){return n&&typeof n!="number"&&gfe(e,r,n)&&(r=n=void 0),e=gv(e),r===void 0?(r=e,e=0):r=gv(r),n=n===void 0?e<r?1:-1:gv(n),vfe(e,r,n,t)}}var yfe=mfe,bfe=yfe,_fe=bfe(),Sfe=_fe;const qg=tn(Sfe);var Ofe=["widgetFactory"],xfe=["factory"];function kx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ix=it.ListUtils.getTitleInListValues,wfe=it.ConfigUtils._widgetDefKeysToOmit,dL=it.TreeUtils,Efe=dL._fixImmutableValue,Cfe=dL.isImmutable,pL=J.memo(function(t){var e=t.widgetFactory,r=ri(t,Ofe),n=r.config,i=r.isFuncArg,a=r.fieldDefinition,o=a||{},s=o.fieldSettings,l=o.defaultValue,u=o.valueSources,c=i&&(u==null?void 0:u.length)==1&&(u==null?void 0:u[0])==="const",f=(s==null?void 0:s.treeValues)||(s==null?void 0:s.listValues);return c&&l?typeof l=="boolean"?l?r.labelYes||"YES":r.labelNo||"NO":f?Array.isArray(l)?l.map(function(d){return Ix(f,d)||d}).join(", "):Ix(f,l)||l:""+l:e?e(r,n.ctx):"?"});pL.displayName="WidgetFactoryMemo";var hL=function(e){var r=e.delta,n=e.isFuncArg,i=e.valueSrc,a=e.value,o=e.valueError,s=e.fieldError,l=e.asyncListValues,u=e.isSpecialRange,c=e.fieldDefinition,f=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,v=e.valueLabels,h=e.textSeparators,g=e.setValue,y=e.setFuncValue,m=e.config,_=e.field,b=e.fieldSrc,S=e.fieldPath,O=e.fieldType,x=e.isLHS,C=e.operator,A=e.readonly,w=e.parentField,k=e.parentFuncs,E=e.id,I=e.groupId,j=e.widgetId,L=d.factory,M=ri(d,xfe),R=a?a.map(function(q){return Efe(q)}):void 0,U=J.useMemo(function(){if(u){var q=[R==null?void 0:R.get(0),R==null?void 0:R.get(1)];return q[0]===void 0&&q[1]===void 0&&(q=void 0),q}return R==null?void 0:R.get(r)},[u,a]),V=J.useMemo(function(){return o?u?[o.get(0),o.get(1),o.get(2)]:o==null?void 0:o.get(r):null},[u,a]),$=x?s:V,F=c||{},N=F.fieldSettings,B=p.label,z=p.placeholder,H=v?v.placeholder:null,D=Cfe(_)?null:_,G=Co(mv(mv(mv({},M),N),{},{config:m,field:D,fieldPath:S,fieldSrc:b,fieldType:O,isLHS:x,parentField:w,parentFuncs:k,fieldDefinition:c,operator:C,delta:r,isSpecialRange:u,isFuncArg:n,value:U,valueSrc:i,valueError:V,fieldError:s,errorMessage:$,label:B,placeholder:z,placeholders:H,textSeparators:h,setValue:g,setFuncValue:y,readonly:A,asyncListValues:l,id:E,groupId:I,widgetId:j,widgetFactory:L,widget:f}),[].concat(Ce(wfe),["toJS"]));return P.createElement(pL,ae({widgetFactory:L},G))};hL.displayName="WidgetFactory";function Tfe(t,e,r){return e=Le(e),Zt(t,vL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function vL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vL=function(){return!!t})()}var z0=it.ConfigUtils,kfe=z0.getFieldConfig,Ife=z0.getOperatorConfig,Ax=z0.getFieldWidgetConfig,U0=it.RuleUtils,Afe=U0.getValueSourcesForFieldOp,Px=U0.getWidgetForFieldOp,Hf=U0.getValueLabel,jx=it.DefaultUtils.createListWithOneElement,Pfe=it.OtherUtils.shallowEqual;it.TreeUtils.isImmutable;var jfe={cardinality:1},of=function(t){function e(r){var n;return Qt(this,e),n=Tfe(this,e,[r]),n._setValue=function(i,a,o,s,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};if(c.widgetId||(c.widgetId=s),i&&Array.isArray(l)){var f=[n.props.value.get(0),n.props.value.get(1)];f[0]!=l[0]&&n.props.setValue(0,l[0],o,u,c),f[1]!=l[1]&&n.props.setValue(1,l[1],o,u,c)}else n.props.setValue(a,l,o,u,c)},n._setValueSrc=function(i,a,o){var s={widgetId:a};n.props.setValueSrc(i,o,s)},n.renderWidget=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.value,d=o.valueError,p=o.fieldError,v=o.readonly,h=o.parentField,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.fieldSrc,b=o.fieldType,S=o.isLHS,O=o.setFuncValue,x=s.settings,C=a.widgets,A=a.iValues,w=a.aField,k=a.valueSources,E=l?A:f,I=l?u:w,j=C[i],L=j.valueSrc,M=j.valueLabel,R=j.widgetId,U=k.length>1&&!v,V=x.showLabels?P.createElement("label",{key:"label-"+R,className:"rule--label"},M.label):null;return P.createElement("div",{key:"wrapper-"+R,className:Oi(L==="func"?"widget--func":"widget--widget",U?"widget--has-valuerscs":"widget--has-no-valuerscs")},L==="func"?null:V,P.createElement(hL,ae({key:R,id:y,groupId:m,widgetId:R,valueSrc:L,delta:i,value:E,valueError:d,fieldError:p,isFuncArg:l,isLHS:S},Sa(a,["isSpecialRange","fieldDefinition","asyncListValues"]),Sa(C[i],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:O,config:s,field:I,fieldSrc:_,fieldType:b,parentField:h,parentFuncs:g,operator:c,readonly:v})))},n.renderValueSources=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.readonly,d=s.settings,p=a.valueSources,v=a.widgets,h=a.aField,g=a.valueSourcesOptions,y=l?u:h,m=v[i],_=m.valueSrc,b=m.setValueSrc,S=n.ValueSources,O=d.showLabels?P.createElement("label",{className:"rule--label"}," "):null;return p.length>1&&!f&&P.createElement("div",{key:"wrapper-valuesrc-"+i,className:"widget--valuesrc"},O,P.createElement(S,{key:"valuesrc-"+i,delta:i,valueSources:g,valueSrc:_,config:s,field:y,operator:c,setValueSrc:b,readonly:f,title:d.valueSourcesPopupTitle}))},n.renderSep=function(i,a,o){var s=o.config,l=a.widgets,u=s.settings,c=l[i].sepText,f=u.showLabels?P.createElement("label",{className:"rule--label"}," "):null;return c&&P.createElement("div",{key:"widget-separators-"+i,className:Oi("widget--sep",i==0&&"widget--sep-first")},f,P.createElement("span",null,c))},n.renderWidgetDelta=function(i){var a=n.renderSep(i,n.meta,n.props),o=n.renderValueSources(i,n.meta,n.props),s=n.renderWidget(i,n.meta,n.props);return[a,o,s]},Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"],s=o.filter(function(f){return f==="parentFuncs"?!Pfe(n[f],i[f],!0):f==="field"?n.fieldId!==i.fieldId:n[f]!==i[f]}),l=!this.meta||s.length>0;if(l&&(this.meta=this.getMeta(n,s)),a){var u=n.config,c=u.settings.renderValueSources;this.ValueSources=Cn(u,c)}}},{key:"getMeta",value:function(n){var i,a,o,s,l=this,u=n.config,c=n.field;n.fieldSrc;var f=n.fieldType,d=n.fieldFunc,p=n.fieldArg,v=n.operator,h=n.valueSrc,g=n.value,y=n.isForRuleGroup,m=n.isCaseValue,_=n.isFuncArg;n.leftField;var b=n.asyncListValues,S=n.parentFuncs,O=n.isLHS,x=n.id,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=u.settings.valueSourcesInfo,w=_?{func:d,arg:p}:c,k=!c&&f,E=h,I=g;(_||y||m)&&(E=jx(h),I=jx(g));var j=kfe(u,w);!j&&k&&(j=u.types[f]);var L=Px(u,w,v);if(!L&&k){var M;L=(M=u.types[f])===null||M===void 0?void 0:M.mainWidget}var R=_?jfe:Ife(u,v,w);if((j==null||R==null)&&!m)return null;var U=R==null?void 0:R.isSpecialRange,V=U&&(((i=E)===null||i===void 0?void 0:i.get(0))==="field"||((a=E)===null||a===void 0?void 0:a.get(1))==="field"),$=U&&!V,F=$?1:rce(R);if(F===0)return null;var N=(o=this.meta)===null||o===void 0?void 0:o.valueSources,B=(s=this.meta)===null||s===void 0?void 0:s.valueSourcesOptions;(!N||["field","operator","config","fieldDefinition","isForRuleGroup"].filter(function(H){return C.includes(H)}).length)&&(N=Afe(u,w,v,j),y&&(N=["value"]),w||(N=Object.keys(A)),B=N.map(function(H){return[H,{label:A[H].label}]}));var z=qg(0,F).map(function(H){var D,G,q,Y,K=(D=l.meta)===null||D===void 0||(D=D.widgets)===null||D===void 0?void 0:D[H],ie=((G=E)===null||G===void 0?void 0:G.get(H))||null,te=Px(u,w,v,ie),oe=Ax(u,w,v,te,ie);V&&(te=oe.singleWidget,oe=Ax(u,w,v,te,ie)),!oe&&k&&(te=["func","field"].includes(ie)?ie:L,oe=u.widgets[te]);var ue=(q=oe)===null||q===void 0?void 0:q.type,fe=Hf(u,w,v,H,ie,$),pe=Hf(u,w,v,H,null,$),Se=R!=null&&R.textSeparators?R==null?void 0:R.textSeparators[H]:null,Q=null,re=null;U&&(Q=[Hf(u,w,v,0),Hf(u,w,v,1)],Q={placeholder:[Q[0].placeholder,Q[1].placeholder],label:[Q[0].label,Q[1].label]},re=R==null?void 0:R.textSeparators);var de=rL({id:x,isLHS:O,delta:H,parentFuncs:S}),ve=de+":VS",ee=K==null?void 0:K.setValueSrc;(!ee||(K==null?void 0:K.widgetId)!==de)&&(ee=l._setValueSrc.bind(l,H,ve));var me=K==null?void 0:K.setValue;return(!me||(K==null?void 0:K.widgetId)!==de||(K==null?void 0:K.widgetType)!==ue||((Y=l.meta)===null||Y===void 0?void 0:Y.isSpecialRange)!==U)&&(me=l._setValue.bind(l,U,H,ue,de)),{valueSrc:ie,valueLabel:fe,widget:te,sepText:Se,widgetDefinition:oe,widgetValueLabel:pe,valueLabels:Q,textSeparators:re,setValueSrc:ee,setValue:me,widgetId:de,widgetType:ue}});return{defaultWidget:L,fieldDefinition:j,operatorDefinition:R,isSpecialRange:$,cardinality:F,valueSources:N,valueSourcesOptions:B,widgets:z,iValues:I,aField:w,asyncListValues:b}}},{key:"render",value:function(){if(!this.meta)return null;var n=this.meta,i=n.defaultWidget,a=n.cardinality;if(!i)return null;var o=i;return P.createElement(Hr,{className:"rule--widget rule--widget--".concat(o.toUpperCase()),key:"widget-col-"+o},qg(0,a).map(this.renderWidgetDelta))}}])}(J.Component);of.propTypes={config:W.object.isRequired,value:W.any,valueSrc:W.any,valueError:W.any,fieldError:W.string,field:W.any,fieldSrc:W.string,fieldType:W.string,fieldId:W.string,operator:W.string,readonly:W.bool,asyncListValues:W.array,id:W.string,groupId:W.string,setValue:W.func,setValueSrc:W.func,setFuncValue:W.func,isFuncArg:W.bool,fieldFunc:W.string,fieldArg:W.string,leftField:W.any,isForRuleGroup:W.bool,parentField:W.string,parentFuncs:W.array,isLHS:W.bool,isCaseValue:W.bool};function gL(t,e,r){return e=Le(e),Zt(t,mL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mL=function(){return!!t})()}var Lfe=it.ConfigUtils.getFuncConfig,yL=it.OtherUtils.shallowEqual,W0=function(t){function e(r){var n;return Qt(this,e),n=gL(this,e,[r]),n.setFunc=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.props,s=o.isLHS,l=o.delta,u=o.parentFuncs,c=o.id;if(!a.widgetId){var f=rL({id:c,isLHS:s,delta:l,parentFuncs:u});a.widgetId=f}n.props.setFuncValue(s?-1:l||0,u,null,i,"!func",void 0,a)},n.setArgValue=function(i,a,o,s,l){var u=n.props;u.config;var c=u.delta,f=u.isLHS,d=u.parentFuncs;n.props.setFuncValue(f?-1:c||0,d,i,a,o,s,l)},n.setArgValueSrc=function(i,a,o){var s=n.props;s.config;var l=s.delta,u=s.isLHS,c=s.parentFuncs;n.props.setFuncValue(u?-1:l||0,c,i,a,"!valueSrc",void 0,o)},n.renderFuncSelect=function(){var i,a,o=n.props,s=o.config,l=o.field,u=o.fieldType,c=o.fieldSrc,f=o.isLHS,d=o.operator,p=o.customProps,v=o.value,h=o.readonly,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.isFuncArg,b=o.fieldDefinition,S=(i=v==null||(a=v.get)===null||a===void 0?void 0:a.call(v,"func"))!==null&&i!==void 0?i:null,O={value:S,setValue:n.setFunc,config:s,field:l,fieldType:u,fieldSrc:c,isLHS:f,operator:d,customProps:p,readonly:h,parentFuncs:g,isFuncArg:_,fieldDefinition:b,id:y,groupId:m},x=s.settings,C=x.showLabels,A=x.funcLabel,w=C?P.createElement("label",{className:"rule--label"},A):null;return P.createElement(Hr,{key:"func",className:"rule--func"},w,P.createElement(uL,O))},n.renderArgLabel=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=a.label,c=n.props.config,f=o&&o.length==1&&o[0]=="const",d=!c.settings.showLabels&&(s=="boolean"||f)&&l;return d?P.createElement(Hr,{className:"rule--func--arg-label"},u||i):null},n.renderArgLabelSep=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=n.props.config,c=o&&o.length==1&&o[0]=="const",f=!u.settings.showLabels&&(s=="boolean"||c)&&l;return f?P.createElement(Hr,{className:"rule--func--arg-label-sep"},":"):null},n.renderArgVal=function(i,a,o){var s=n.props,l=s.config,u=s.field,c=s.fieldType,f=s.fieldSrc,d=s.isLHS;s.operator;var p=s.value,v=s.readonly,h=s.parentFuncs,g=s.id,y=s.groupId,m=s.fieldError,_=s.valueError,b=s.setFuncValue,S=p?p.getIn(["args",a]):null,O=S?S.get("value"):void 0,x=o.valueSources.length==1?o.valueSources[0]:void 0,C=S?S.get("valueSrc")||x||"value":x,A={config:l,fieldFunc:i,fieldArg:a,leftField:u,fieldType:c,fieldSrc:f,fieldError:m,valueError:_,isLHS:d,operator:null,value:O,valueSrc:C,setValue:n.setArgValue,setValueSrc:n.setArgValueSrc,setFuncValue:b,funcKey:i,argKey:a,argDefinition:o,readonly:v,parentFuncs:h,id:g,groupId:y};return P.createElement(Hr,{className:"rule--func--arg-value"},P.createElement(bL,A))},n.renderArgSep=function(i,a,o,s){var l=s.renderSeps;return o?P.createElement(Hr,{className:"rule--func--arg-sep"},l?l[o-1]:", "):null},n.renderBracketBefore=function(i){var a=i.renderBrackets;return P.createElement(Hr,{key:"before_args",className:"rule--func--bracket-before"},a?a[0]:"(")},n.renderBracketAfter=function(i){var a=i.renderBrackets;return P.createElement(Hr,{key:"after_args",className:"rule--func--bracket-after"},a?a[1]:")")},n.renderFuncArgs=function(){var i=n.meta,a=i.funcDefinition,o=i.funcKey;if(!o)return null;var s=a||{},l=s.args;return l?P.createElement(P.Fragment,null,n.renderBracketBefore(a),P.createElement(Hr,{key:"args-".concat(o),className:"rule--func--args rule--func--".concat(o,"--args")},Object.keys(l).map(function(u,c){return P.createElement(Hr,{key:"arg-".concat(u,"-").concat(c),className:"rule--func--arg rule--func--".concat(o,"--arg--").concat(u)},n.renderArgSep(u,l[u],c,a),n.renderArgLabel(u,l[u]),n.renderArgLabelSep(u,l[u]),n.renderArgVal(o,u,l[u]))})),n.renderBracketAfter(a)):null},Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","operator","value","fieldSrc","fieldType","isLHS"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!yL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a,o=n.config;n.field,n.operator;var s=n.value,l=(i=s==null||(a=s.get)===null||a===void 0?void 0:a.call(s,"func"))!==null&&i!==void 0?i:null,u=l?Lfe(o,l):null;return{funcDefinition:u,funcKey:l}}},{key:"render",value:function(){var n=this.props.parentFuncs,i=n?n.map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"_").concat(u)}).join("-"):"root",a=(n==null?void 0:n.length)||0;return P.createElement(Hr,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(i," rule--func--wrapper--lev-").concat(a)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(J.Component);W0.propTypes={id:W.string,groupId:W.string,config:W.object.isRequired,field:W.any,fieldSrc:W.string,fieldType:W.string,fieldError:W.string,operator:W.string,customProps:W.object,value:W.object,setValue:W.func.isRequired,setFuncValue:W.func,readonly:W.bool,parentFuncs:W.array,fieldDefinition:W.object,isFuncArg:W.bool,isLHS:W.bool,valueError:W.string};var bL=function(t){function e(r){var n;return Qt(this,e),n=gL(this,e,[r]),n.setValue=function(i,a,o,s,l){var u=n.props,c=u.setValue,f=u.argKey;c(f,a,o,s,l)},n.setValueSrc=function(i,a,o){var s=n.props,l=s.setValueSrc,u=s.argKey;l(u,a,o)},Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["parentFuncs","funcKey","argKey"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!yL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.parentFuncs,a=n.funcKey,o=n.argKey,s=[].concat(Ce(i||[]),[[a,o]]);return{parentFuncs:s}}},{key:"render",value:function(){var n=this.meta.parentFuncs;return P.createElement(of,ae({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:n}))}}])}(J.Component);bL.propTypes={funcKey:W.string.isRequired,argKey:W.string.isRequired,setValue:W.func.isRequired,setValueSrc:W.func.isRequired,readonly:W.bool,isLHS:W.bool,parentFuncs:W.array,id:W.string,groupId:W.string};function Ffe(t,e,r){return e=Le(e),Zt(t,_L()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_L=function(){return!!t})()}var G0=function(t){function e(r){var n;return Qt(this,e),n=Ffe(this,e,[r]),n.renderField=function(){var i=n.props,a=i.config,o=i.classname,s=i.selectedField,l=i.selectedFieldSrc,u=i.selectedFieldType,c=i.setField,f=i.setFuncValue,d=i.parentField,p=i.readonly,v=i.id,h=i.groupId,g=i.fieldError,y=i.valueError,m=["func","field"];if(!m.includes(l))return"?";var _=l==="func"?P.createElement(W0,{isLHS:!0,config:a,value:s,fieldSrc:l,fieldType:u,fieldError:g,valueError:y,parentField:d,setValue:c,setFuncValue:f,readonly:p,id:v,groupId:h,key:"field-func-"+v}):P.createElement(oL,{config:a,selectedField:s,selectedFieldSrc:l,selectedFieldType:u,parentField:d,setField:c,customProps:a.settings.customFieldSelectProps,readonly:p,id:v,groupId:h,key:"field-"+v}),b=l==="func"?a.settings.funcLabel:a.settings.fieldLabel,S=a.settings.showLabels&&l!=="func"&&P.createElement("label",{className:"rule--label"},b);return P.createElement("div",{key:l,className:o},S,_)},n.renderFieldSources=function(){if(!n.meta)return null;var i=n.props,a=i.config,o=i.readonly,s=i.selectedFieldSrc,l=i.setFieldSrc,u=i.id,c=n.meta.fieldSourcesOptions,f=a.settings,d=n.ValueSources,p=f.showLabels?P.createElement("label",{className:"rule--label"}," "):null;return c.length>1&&!o&&P.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},p,P.createElement(d,{key:"fieldsrc-"+u,valueSources:c,valueSrc:s,config:a,setValueSrc:l,readonly:o,title:f.fieldSourcesPopupTitle}))},Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config"],s=!this.meta||o.map(function(c){return n[c]!==i[c]}).filter(function(c){return c}).length>0;if(s&&(this.meta=this.getMeta(n)),a){var l=n.config,u=l.settings.renderValueSources;this.ValueSources=function(c){return u(c,l.ctx)}}}},{key:"getMeta",value:function(n){var i=n.config,a=i.settings,o=a.valueSourcesInfo,s=a.fieldSources,l=s.map(function(u){return[u,{label:o[u].label}]});return{fieldSourcesOptions:l}}},{key:"render",value:function(){var n=this.props;n.classname;var i=n.canSelectFieldSource,a=i&&this.renderFieldSources(),o=this.renderField();return i?P.createElement(Hr,{className:"rule--field-wrapper"},a,o):o}}])}(J.Component),Rfe=["factory"];function $fe(t,e,r){return e=Le(e),Zt(t,SL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function SL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SL=function(){return!!t})()}var Nfe=it.ConfigUtils.getOperatorConfig,OL=function(t){function e(){return Qt(this,e),$fe(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var n=Nfe(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof n.options>"u")return null;var i=n.options,a=i.factory,o=ri(i,Rfe),s=Object.assign({},o,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),l=a(s,this.props.config.ctx),u=this.props.selectedOperator;return P.createElement("div",{className:"rule--operator rule--operator--".concat(u.toUpperCase())},l)}}])}(J.PureComponent);OL.propTypes={config:W.object.isRequired,operatorOptions:W.any.isRequired,selectedField:W.any,selectedFieldSrc:W.string,selectedOperator:W.string.isRequired,readonly:W.bool,setOperatorOption:W.func.isRequired};function Lx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dfe(t,e,r){return e=Le(e),Zt(t,xL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xL=function(){return!!t})()}var gh=it.ConfigUtils,Mfe=gh.getFieldConfig,Vfe=gh.getOperatorConfig,Bfe=gh.getFieldWidgetConfig,qfe=gh.getFieldId,Hfe=it.RuleUtils.isEmptyRuleProperties,wL=function(t){function e(r){var n;return Qt(this,e),n=Dfe(this,e,[r]),Nn(n),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config),s=["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"],l=!this.meta||s.map(function(m){return n[m]!==a[m]}).filter(function(m){return m}).length>0;if(l&&(this.meta=this.getMeta(n)),o){var u=n.config,c=u.settings,f=c.renderIcon,d=c.renderButton,p=c.renderButtonGroup,v=c.renderSwitch,h=c.renderBeforeWidget,g=c.renderAfterWidget,y=c.renderRuleError;this.Icon=Cn(u,f),this.Btn=Cn(u,d),this.BtnGrp=Cn(u,p),this.Switch=Cn(u,v),this.BeforeWidget=Cn(u,h),this.AfterWidget=Cn(u,g),this.RuleError=Cn(u,y)}this.doRemove=function(){i.props.removeSelf()}}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.selectedOperator,s=n.config,l=n.reordableNodesCnt,u=n.isLocked,c=s.settings.keepInputOnChangeFieldSrc,f=qfe(i,s),d=Mfe(s,i),p=d&&d.type==="!struct",v=c&&a,h=!!i||v,g=h&&o,y=Vfe(s,o,i),m=y&&y.options!=null,_=Bfe(s,i,o,null,null)||{},b=_.hideOperator,S=s.settings.canReorder&&l>1&&!u,O=h&&!b,x=h&&b&&_.operatorInlineLabel,C=g&&!p,A=g&&m;return{selectedFieldId:f,selectedFieldWidgetConfig:_,showDragIcon:S,showOperator:O,showOperatorLabel:x,showWidget:C,showOperatorOptions:A}}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeRuleConfirmOptions;l&&!this.isEmptyCurrentRule()?s.call(a.ctx,Fx(Fx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(n,i){var a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.operatorOptions,c=n.value,f=n.valueType,d=n.valueSrc,p=n.asyncListValues,v=n.valueError,h=n.fieldError,g=n.parentField,y=i.selectedFieldId;return{field:a,fieldSrc:o,fieldType:s,fieldId:y,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:d,asyncListValues:p,valueError:v,fieldError:h,parentField:g}}},{key:"isEmptyCurrentRule",value:function(){var n=this.props.config,i=this._buildWidgetProps(this.props,this.meta);return Hfe(i,n)}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.parentField,s=n.groupId,l=n.id,u=n.selectedFieldSrc,c=n.selectedField,f=n.selectedFieldType,d=n.setField,p=n.setFuncValue,v=n.setFieldSrc,h=n.fieldError,g=i.settings.immutableFieldsMode,y=this.meta.selectedFieldId;return P.createElement(G0,{key:"field",classname:Oi(u=="func"?"rule--field--func":"rule--field"),config:i,canSelectFieldSource:!o,selectedField:c,selectedFieldSrc:u,selectedFieldType:f,selectedFieldId:y,fieldError:h,setField:g?En:d,setFuncValue:g?En:p,setFieldSrc:g?En:v,parentField:o,readonly:g||a,id:l,groupId:s})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta,s=o.selectedFieldId,l=o.selectedFieldWidgetConfig,u=o.showOperator,c=o.showOperatorLabel,f=i.settings.immutableOpsMode;return P.createElement(iL,{key:"operator",config:i,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:s,selectedOperator:this.props.selectedOperator,setOperator:f?En:this.props.setOperator,showOperator:u,showOperatorLabel:c,selectedFieldWidgetConfig:l,readonly:f||a,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta.showWidget,s=i.settings.immutableValuesMode;if(!o)return null;var l=P.createElement(of,ae({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:i,setValue:s?En:this.props.setValue,setValueSrc:s?En:this.props.setValueSrc,setFuncValue:s?En:this.props.setFuncValue,readonly:s||a,id:this.props.id,groupId:this.props.groupId}));return P.createElement(Hr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},l)}},{key:"renderOperatorOptions",value:function(){var n=this.props.config,i=this.meta.showOperatorOptions,a=n.settings,o=a.immutableOpsMode,s=a.immutableValuesMode;if(!i)return null;var l=P.createElement(OL,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:o?En:this.props.setOperatorOption,config:n,readonly:s});return P.createElement(Hr,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},l)}},{key:"renderBeforeWidget",value:function(){var n=this.BeforeWidget;return n?P.createElement(Hr,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},P.createElement(n,this.props)):null}},{key:"renderAfterWidget",value:function(){var n=this.AfterWidget;return n?P.createElement(Hr,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},P.createElement(n,this.props)):null}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=n.fieldError,s=i.settings.showErrorMessage,l=this.RuleError,u=[o].concat(Ce((a==null?void 0:a.toArray())||[])).filter(function(c){return!!c}).shift()||null;return s&&u&&P.createElement("div",{className:"rule--error"},l?P.createElement(l,{error:u}):u)}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.meta.showDragIcon,a=this.Icon,o=P.createElement(a,{type:"drag"});return i&&P.createElement("div",{key:"rule-drag-icon",onMouseDown:n,className:"qb-drag-handler rule--drag-handler"},o)}},{key:"renderDel",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=i.settings,s=o.deleteLabel,l=o.immutableGroupsMode,u=o.canDeleteLocked,c=this.Icon,f=this.Btn;return!l&&(!a||a&&u)&&P.createElement(f,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:s,config:i,renderIcon:c})}},{key:"renderLock",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.isTrueLocked,s=n.id,l=i.settings,u=l.lockLabel,c=l.lockedLabel,f=l.showLock,d=this.Switch;return f&&!(a&&!o)&&P.createElement(d,{key:"rule-lock",type:"lock",id:s,value:a,setValue:this.setLock,label:u,checkedLabel:c,hideLabel:!0,config:i})}},{key:"render",value:function(){var n=this.meta,i=n.showOperatorOptions,a=n.selectedFieldWidgetConfig,o=this.props,s=o.valueSrc,l=o.value,u=o.config,c=(s==null?void 0:s.first())=="value"&&!i&&l.size==1&&a.fullWidth,f=this.BtnGrp,d=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],p=P.createElement("div",{key:"rule-body",className:Oi("rule--body",c&&"can--shrink--value")},d),v=this.renderError(),h=this.renderDrag(),g=this.renderLock(),y=this.renderDel();return P.createElement(P.Fragment,null,h,P.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},p,v),P.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},P.createElement(f,{key:"rule-header-group",config:u},g,y)))}}])}(J.Component);wL.propTypes={id:W.string.isRequired,groupId:W.string,selectedField:W.any,selectedFieldSrc:W.string,selectedFieldType:W.string,selectedOperator:W.string,operatorOptions:W.object,config:W.object.isRequired,value:W.any,valueSrc:W.any,valueType:W.any,asyncListValues:W.array,isDraggingMe:W.bool,isDraggingTempo:W.bool,parentField:W.string,valueError:W.any,fieldError:W.string,isLocked:W.bool,isTrueLocked:W.bool,handleDraggerMouseDown:W.func,setField:W.func,setFieldSrc:W.func,setOperator:W.func,setOperatorOption:W.func,setLock:W.func,removeSelf:W.func,setValue:W.func,setValueSrc:W.func,setFuncValue:W.func,reordableNodesCnt:W.number,totalRulesCnt:W.number,parentReordableNodesCnt:W.number};const zfe=bce(vu("rule")(gu(wL)));function Ufe(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Wfe=Ufe,Gfe=fL;function Yfe(t){var e=Gfe(t),r=e%1;return e===e?r?e-r:e:0}var Kfe=Yfe,Jfe=Wfe,Qfe=bI,Xfe=Kfe,Zfe=_I;function ede(t,e,r){return t=Zfe(t),r=r==null?0:Jfe(Xfe(r),0,t.length),e=Qfe(e),t.slice(r,r+e.length)==e}var tde=ede;const rde=tn(tde);function nde(t,e,r){return e=Le(e),Zt(t,EL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function EL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(EL=function(){return!!t})()}var ide=it.DefaultUtils.defaultGroupConjunction,ade=function(e,r){var n;return n=function(i){function a(o){var s;return Qt(this,a),s=nde(this,a,[o]),s._selectedConjunction=function(l){return l=l||s.props,l.conjunction||ide(l.config,l.field)},s.setConjunction=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setConjunction(s.props.path,l)},s.setNot=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setNot(s.props.path,l)},s.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setLock(s.props.path,l)},s.dummyFn=function(){},s.removeSelf=function(){s.props.actions.removeGroup(s.props.path)},s.addGroup=function(){s.props.actions.addGroup(s.props.path)},s.addCaseGroup=function(){s.props.actions.addCaseGroup(s.props.path)},s.addDefaultCaseGroup=function(){s.props.actions.addDefaultCaseGroup(s.props.path)},s.addRule=function(){var l=r=="rule_group"?s.props.field:null;s.props.actions.addRule(s.props.path,void 0,void 0,void 0,l)},s.setField=function(l,u,c){s.props.actions.setField(s.props.path,l,u,c)},s.setOperator=function(l){s.props.actions.setOperator(s.props.path,l)},s.setValue=function(l,u,c,f,d){s.props.actions.setValue(s.props.path,l,u,c,f,d)},s.setValueSrc=function(l,u,c){s.props.actions.setValueSrc(s.props.path,l,u,c)},s.setFuncValue=function(l,u,c,f,d,p,v){s.props.actions.setFuncValue(s.props.path,l,u,c,f,d,p,v)},s.pureShouldComponentUpdate=hu(s),Nn(s),s.selectedConjunction=s._selectedConjunction(o),s.conjunctionOptions=s._getConjunctionOptions(o),s.dummyFn.isDummyFn=!0,s}return Kt(a,i),Jt(a,[{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=s.dragging.id||u.dragging.id,p=d==s.id,v=[];for(var h in s){var g=s[h]!=u[h];h=="dragging"&&!p&&(g=!1),g&&v.push(h)}v.length||(f=!1)}return f}},{key:"onPropsChanged",value:function(s){var l=s.config;s.id;var u=s.conjunction,c=this.props.config,f=this.props.conjunction;(c!=l||f!=u)&&(this.selectedConjunction=this._selectedConjunction(s),this.conjunctionOptions=this._getConjunctionOptions(s))}},{key:"_getConjunctionOptions",value:function(s){var l=this;return ph(s.config.conjunctions,function(u,c){return{id:"conjunction-".concat(s.id,"-").concat(c),name:"conjunction[".concat(s.id,"]"),key:c,label:u.label,checked:c===l._selectedConjunction(s)}})}},{key:"render",value:function(){var s=this.props.config.settings.showErrorMessage,l=this.props.dragging.id==this.props.id,u=this.props.path.size,c=this.props.config.settings.maxNesting,f=!l&&this.props.isDraggingTempo,d=this.props.fieldType||null,p=this.props.valueError,v=Ce((p==null?void 0:p.toArray())||[]).filter(function(m){return!!m}).shift()||null,h=v!=null&&s,g=typeof c>"u"||u<c,y=u==1;return P.createElement("div",{className:Oi("group-or-rule-container","group-container",h?"group-with-error":null),"data-id":this.props.id},[l?P.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,P.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:f,onDragStart:this.props.onDragStart,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:f?this.dummyFn:this.setConjunction,setNot:f?this.dummyFn:this.setNot,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,addGroup:f?this.dummyFn:this.addGroup,addCaseGroup:f?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:f?this.dummyFn:this.addDefaultCaseGroup,addRule:f?this.dummyFn:this.addRule,setField:f?this.dummyFn:this.setField,setFuncValue:f?this.dummyFn:this.setFuncValue,setOperator:f?this.dummyFn:this.setOperator,setValue:f?this.dummyFn:this.setValue,setValueSrc:f?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(J.Component),n.propTypes={config:W.object.isRequired,actions:W.object.isRequired,path:W.any.isRequired,id:W.string.isRequired,groupId:W.string,not:W.bool,conjunction:W.string,children1:W.any,onDragStart:W.func,reordableNodesCnt:W.number,field:W.any,fieldSrc:W.string,fieldType:W.string,parentField:W.string,value:W.any,valueSrc:W.any,valueError:W.any,isLocked:W.bool,isTrueLocked:W.bool,dragging:W.object,isDraggingTempo:W.bool},n};const sf=function(t,e){var r=up(function(n){return{dragging:n.dragging}},null,null,{context:af})(ade(t,e));return r.displayName="ConnectedGroupContainer",r};function ode(t,e,r){return e=Le(e),Zt(t,CL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(CL=function(){return!!t})()}var sde={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},lde="topRight",TL=function(t){function e(){return Qt(this,e),ode(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.removeSelf,l=n.setLock,u=n.isLocked,c=n.isTrueLocked,f=n.id,d=n.canAddGroup,p=n.canAddRule,v=n.canDeleteGroup,h=i.settings,g=h.immutableGroupsMode,y=h.addRuleLabel,m=h.addGroupLabel,_=h.delGroupLabel,b=h.groupActionsPosition,S=h.renderButton,O=h.renderIcon,x=h.renderSwitch,C=h.renderButtonGroup,A=h.lockLabel,w=h.lockedLabel,k=h.showLock,E=h.canDeleteLocked,I=function(B){return O(B,i.ctx)},j=function(B){return S(B,i.ctx)},L=function(B){return x(B,i.ctx)},M=function(B){return C(B,i.ctx)},R=sde[b||lde],U=k&&!(u&&!c)&&P.createElement(L,{type:"lock",id:f,value:u,setValue:l,label:A,checkedLabel:w,config:i}),V=!g&&p&&!u&&P.createElement(j,{type:"addRule",onClick:a,label:y,readonly:u,config:i,renderIcon:I}),$=!g&&d&&!u&&P.createElement(j,{type:"addGroup",onClick:o,label:m,readonly:u,config:i,renderIcon:I}),F=!g&&v&&(!u||u&&E)&&P.createElement(j,{type:"delGroup",onClick:s,label:_,config:i,renderIcon:I});return P.createElement("div",{className:"group--actions ".concat(R)},P.createElement(M,{config:i},U,V,$,F))}}])}(J.PureComponent);function Rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ude(t,e,r){return e=Le(e),Zt(t,kL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kL=function(){return!!t})()}var cde=it.RuleUtils.isEmptyGroupChildren,fde="topRight",Ia=function(t){function e(r){var n;return Qt(this,e),n=ude(this,e,[r]),n.childrenClassName=function(){return""},n.renderBeforeActions=function(){var i=n.BeforeActions;return i==null?null:P.createElement(i,ae({key:"group-actions-before"},n.props))},n.renderAfterActions=function(){var i=n.AfterActions;return i==null?null:P.createElement(i,ae({key:"group-actions-after"},n.props))},Nn(n),n.onPropsChanged(r),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.renderItem=n.renderItem.bind(n),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config);if(o){var s=n.config,l=s.settings,u=l.renderIcon,c=l.renderConjs,f=l.renderBeforeActions,d=l.renderAfterActions;this.Icon=Cn(s,u),this.Conjs=Cn(s,c),this.BeforeActions=Cn(s,f),this.AfterActions=Cn(s,d)}this.doRemove=function(){i.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return rde(this.props.config.settings.groupActionsPosition||fde,"top")}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeGroupConfirmOptions;l&&!this.isEmptyCurrentGroup()?s.call(a.ctx,$x($x({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config;return cde(i,a)}},{key:"showNot",value:function(){var n=this.props.config;return n.settings.showNot}},{key:"showConjs",value:function(){var n=this.props,i=n.conjunctionOptions;n.children1,n.config;var a=Object.keys(i).length;return a>1||this.showNot()}},{key:"isNoChildren",value:function(){var n=this.props.children1;return n?n.size==0:!0}},{key:"isOneChild",value:function(){var n=this.props.children1;return n?n.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var n=this.props.children1;return n&&P.createElement("div",{key:"group-children",className:Oi("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var n=this.isGroupTopPosition();return P.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),n&&this.renderBeforeActions(),n&&this.renderActions(),n&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var n=this.isGroupTopPosition();return!n&&P.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return P.createElement(TL,{key:"group-actions",config:i,addRule:a,addGroup:o,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var n=this.props.config.settings.maxNumberOfRules,i=this.props.totalRulesCnt;return n?i<n:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var n=this.props.children1;return n?n.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(n){if(n){var i=this.props,a=i.config,o=i.actions,s=i.onDragStart,l=i.isLocked,u=n.get("type")=="group"&&n.getIn(["properties","field"])!=null,c=u?"rule_group":n.get("type");return P.createElement(Y0,ae({},this.extraPropsForItem(n),{key:n.get("id"),id:n.get("id"),groupId:i.id,path:n.get("path"),type:c,properties:n.get("properties"),config:a,actions:o,children1:n.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(n),totalRulesCnt:this.totalRulesCntForItem(n),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:s,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:l}))}}},{key:"extraPropsForItem",value:function(n){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var n=this.props,i=n.config,a=n.isRoot,o=n.isLocked,s=this.reordableNodesCnt();return i.settings.canReorder&&!a&&s>1&&!o}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.Icon,a=P.createElement(i,{type:"drag"});return this.showDragIcon()&&P.createElement("div",{key:"group-drag-icon",onMouseDown:n,className:"qb-drag-handler group--drag-handler"},a)}},{key:"conjunctionOptions",value:function(){var n=this.props.conjunctionOptions;return n}},{key:"renderConjs",value:function(){var n=this.props,i=n.config,a=n.children1,o=n.id,s=n.selectedConjunction,l=n.setConjunction,u=n.not,c=n.setNot,f=n.isLocked,d=i.settings,p=d.immutableGroupsMode;d.renderConjs,d.showNot;var v=d.notLabel,h=this.conjunctionOptions();if(!this.showConjs()||!a||!a.size)return null;var g={disabled:this.isOneChild(),readonly:p||f,selectedConjunction:s,setConjunction:p?En:l,conjunctionOptions:h,config:i,not:u||!1,id:o,setNot:p?En:c,notLabel:v,showNot:this.showNot(),isLocked:f},y=this.Conjs;return P.createElement(y,ae({key:"group-conjs"},g))}},{key:"renderHeader",value:function(){return P.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return P.createElement(P.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(J.Component);Ia.propTypes={reordableNodesCnt:W.number,conjunctionOptions:W.object.isRequired,allowFurtherNesting:W.bool.isRequired,isRoot:W.bool.isRequired,not:W.bool,selectedConjunction:W.string,config:W.object.isRequired,id:W.string.isRequired,groupId:W.string,path:W.any,children1:W.any,isDraggingMe:W.bool,isDraggingTempo:W.bool,isLocked:W.bool,isTrueLocked:W.bool,handleDraggerMouseDown:W.func,onDragStart:W.func,addRule:W.func.isRequired,addGroup:W.func.isRequired,removeSelf:W.func.isRequired,setConjunction:W.func.isRequired,setNot:W.func.isRequired,setLock:W.func.isRequired,actions:W.object.isRequired};const dde=sf(vu("group")(gu(Ia)),"group");function pde(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Le(t))!==null;);return t}function Kn(){return Kn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=pde(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Kn.apply(null,arguments)}function hde(t,e,r){return e=Le(e),Zt(t,IL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IL=function(){return!!t})()}var vde=function(t){function e(){return Qt(this,e),hde(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,C=p.canDeleteLocked,A=function(R){return m(R,i.ctx)},w=function(R){return y(R,i.ctx)},k=function(R){return _(R,i.ctx)},E=function(R){return b(R,i.ctx)},I=x&&!(c&&!f)&&P.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,hideLabel:!0,config:i}),j=!v&&o&&!c&&P.createElement(w,{type:"addRuleGroup",onClick:a,label:h,readonly:c,config:i,renderIcon:A}),L=!v&&s&&(!c||c&&C)&&P.createElement(w,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:A});return P.createElement("div",{className:"group--actions"},P.createElement(E,{config:i},I,j,L))}}])}(J.PureComponent);function Nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gde(t,e,r){return e=Le(e),Zt(t,AL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AL=function(){return!!t})()}var PL=function(t){function e(r){var n;return Qt(this,e),n=gde(this,e,[r]),n.childrenClassName=function(){return"rule_group--children"},n.renderHeaderWrapper=function(){return null},n.renderFooterWrapper=function(){return null},n.renderConjs=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!1},n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"renderChildrenWrapper",value:function(){return P.createElement(P.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),Kn(Le(e.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFuncValue,c=n.setFieldSrc,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return P.createElement(G0,{key:"field",classname:"group--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:u,setFieldSrc:c,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return P.createElement(vde,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);PL.propTypes=Dx(Dx({},Ia.propTypes),{},{selectedField:W.any,selectedFieldSrc:W.string,parentField:W.string,setField:W.func,setFieldSrc:W.func});const mde=sf(vu("group rule_group")(gu(PL)),"rule_group");function yde(t,e,r){return e=Le(e),Zt(t,jL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jL=function(){return!!t})()}var bde=function(t){function e(){return Qt(this,e),yde(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addSubRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,C=p.canDeleteLocked,A=function(R){return m(R,i.ctx)},w=function(R){return y(R,i.ctx)},k=function(R){return _(R,i.ctx)},E=function(R){return b(R,i.ctx)},I=x&&!(c&&!f)&&P.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,config:i}),j=!v&&o&&!c&&P.createElement(w,{type:"addRuleGroupExt",onClick:a,label:h,readonly:c,config:i,renderIcon:A}),L=!v&&s&&(!c||c&&C)&&P.createElement(w,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:A});return P.createElement("div",{className:"group--actions group--actions--tr"},P.createElement(E,{config:i},I,j,L))}}])}(J.PureComponent);function Mx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _de(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Sde(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Sde(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ode(t,e,r){return e=Le(e),Zt(t,LL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(LL=function(){return!!t})()}var FL=it.ConfigUtils,qx=FL.getFieldConfig,xde=FL.getFieldWidgetConfig,wde=it.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,RL=function(t){function e(r){var n;return Qt(this,e),n=Ode(this,e,[r]),n.childrenClassName=function(){return"rule_group_ext--children"},n.renderFooterWrapper=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!0},n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"renderHeaderWrapper",value:function(){return P.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return P.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return P.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings,s=o.renderRuleError,l=o.showErrorMessage,u=Ce((a==null?void 0:a.toArray())||[]).filter(function(c){return!!c}).shift()||null;return l&&u&&P.createElement("div",{className:"rule_group--error"},s?s({error:u},i.ctx):u)}},{key:"showNot",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=qx(i,a)||{};return o.showNot!=null?o.showNot:i.settings.showNot}},{key:"conjunctionOptions",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=qx(i,a)||{},s=Kn(Le(e.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var l={},u=_de(o.conjunctions),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=s[f];d&&(l[f]=d)}}catch(p){u.e(p)}finally{u.f()}s=l}return s}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFieldSrc,c=n.setFuncValue,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return P.createElement(G0,{key:"field",classname:"rule--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:c,setFieldSrc:u,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedOperator;n.setField;var l=n.setOperator,u=n.isLocked,c=i.settings.immutableFieldsMode,f=xde(i,a,s)||{},d=f.hideOperator,p=a&&d&&f.operatorInlineLabel,v=a&&!d;return P.createElement(iL,{key:"operator",classname:"group--operator",config:i,selectedField:a,selectedFieldSrc:o,selectedOperator:s,setOperator:l,showOperator:v,showOperatorLabel:p,selectedFieldWidgetConfig:f,readonly:c||u,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config,o=this._buildWidgetProps(this.props);return wde(o,i,a)}},{key:"_buildWidgetProps",value:function(n){var i=n.selectedField,a=n.selectedFieldSrc,o=n.selectedFieldType,s=n.selectedOperator,l=n.operatorOptions,u=n.value,c=n.valueType;n.valueSrc,n.asyncListValues;var f=n.valueError;n.fieldError;var d=n.parentField;return{field:i,fieldSrc:a,fieldType:o,operator:s,operatorOptions:l,value:u,valueType:c,valueSrc:["value"],valueError:f,fieldError:null,parentField:d}}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedOperator,s=n.isLocked,l=i.settings.immutableValuesMode,u=a&&o,c=u;if(!c)return null;var f=P.createElement(of,ae({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:i,setValue:l?En:this.props.setValue,setValueSrc:En,readonly:l||s,id:this.props.id,groupId:this.props.groupId}));return P.createElement(Hr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},f)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return P.createElement(bde,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ia);RL.propTypes=Vx(Vx({},Ia.propTypes),{},{selectedField:W.any,selectedFieldSrc:W.string,selectedOperator:W.string,value:W.any,parentField:W.string,setField:W.func,setFieldSrc:W.func,setOperator:W.func,setValue:W.func,valueError:W.any});const Ede=sf(vu("group rule_group_ext")(gu(RL)),"rule_group");function Cde(t,e,r){return e=Le(e),Zt(t,$L()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($L=function(){return!!t})()}var Tde={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},kde="topRight",Ide=function(t){function e(){return Qt(this,e),Cde(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.setLock,l=n.isLocked,u=n.isTrueLocked,c=n.id,f=n.canAddGroup,d=n.canAddDefault,p=i.settings,v=p.immutableGroupsMode,h=p.addCaseLabel,g=p.addDefaultCaseLabel,y=p.groupActionsPosition,m=p.renderButton,_=p.renderIcon,b=p.renderSwitch,S=p.renderButtonGroup,O=p.lockLabel,x=p.lockedLabel,C=p.showLock,A=function(U){return _(U,i.ctx)},w=function(U){return m(U,i.ctx)},k=function(U){return b(U,i.ctx)},E=function(U){return S(U,i.ctx)},I=Tde[y||kde],j=C&&!(l&&!u)&&P.createElement(k,{type:"lock",id:c,value:l,setValue:s,label:O,checkedLabel:x,config:i}),L=!v&&f&&!l&&P.createElement(w,{type:"addCaseGroup",onClick:a,label:h,readonly:l,config:i,renderIcon:A}),M=!v&&d&&!l&&P.createElement(w,{type:"addDefaultCaseGroup",onClick:o,label:g,readonly:l,config:i,renderIcon:A});return P.createElement("div",{className:"group--actions ".concat(I)},P.createElement(E,{config:i},j,L,M))}}])}(J.PureComponent);function Hx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ade(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return e=Le(e),Zt(t,NL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NL=function(){return!!t})()}var DL=it.TreeUtils,jde=DL.getTotalReordableNodesCountInTree,Lde=DL.getTotalRulesCountInTree,ML=function(t){function e(r){var n;return Qt(this,e),n=Pde(this,e,[r]),n.childrenClassName=function(){return"switch_group--children"},n.renderFooterWrapper=function(){return null},n.hasDefaultCase=function(){var i;return((i=n.props.children1)===null||i===void 0?void 0:i.size)&&n.props.children1.filter(function(a){return a.get("children1")==null}).size>0},n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){Kn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"canAddGroup",value:function(){var n,i=this.props.config.settings.maxNumberOfCases,a=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0;return i?a<i:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var n,i=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0,a=i;return this.hasDefaultCase()&&a--,a}},{key:"totalRulesCntForItem",value:function(n){return Lde(n)}},{key:"reordableNodesCntForItem",value:function(n){var i;if(this.props.isLocked)return 0;var a=this.props.config.settings,o=a.canLeaveEmptyCase,s=a.canRegroupCases,l=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0,u=l;this.hasDefaultCase()&&u--;var c=jde(n),f=c;return f==1&&s&&o&&u>1&&(f=111),f}},{key:"renderHeaderWrapper",value:function(){return P.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return P.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var n=this.props.config,i=n.settings.renderSwitchPrefix;return i||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return P.createElement(Ide,{config:i,addCaseGroup:a,addDefaultCaseGroup:o,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}}])}(Ia);ML.propTypes=Ade({},Ia.propTypes);const Fde=sf(vu("group switch_group")(gu(ML)),"switch_group");function zx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ux(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rde(t,e,r){return e=Le(e),Zt(t,VL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VL=function(){return!!t})()}var BL=function(t){function e(r){var n;return Qt(this,e),n=Rde(this,e,[r]),n.childrenClassName=function(){return"case_group--children"},n.renderFooterWrapper=function(){return null},n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.renderBeforeCaseValue||(i==null?void 0:i.config)!==(n==null?void 0:n.config);if(Kn(Le(e.prototype),"onPropsChanged",this).call(this,n),a){var o=n.config,s=o.settings,l=s.renderBeforeCaseValue,u=s.renderAfterCaseValue,c=s.renderRuleError;this.BeforeCaseValue=Cn(o,l),this.AfterCaseValue=Cn(o,u),this.RuleError=Cn(o,c)}}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return P.createElement("div",{key:"group-header",className:Oi("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:P.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var n=this.props.config.settings.defaultCaseLabel;return n||""}return P.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:Kn(Le(e.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?P.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:Kn(Le(e.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var n=this.BeforeCaseValue;return n==null?null:P.createElement(n,ae({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var n=this.AfterCaseValue;return n==null?null:P.createElement(n,ae({key:"values-after"},this.props))}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings.showErrorMessage,s=this.RuleError,l=Ce((a==null?void 0:a.toArray())||[]).filter(function(u){return!!u}).shift()||null;return o&&l&&P.createElement("div",{className:"rule--error"},s?P.createElement(s,{error:l}):l)}},{key:"renderValue",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.value,s=n.valueSrc,l=n.valueError,u=n.setValue,c=n.setValueSrc,f=n.setFuncValue,d=n.id,p=i.settings.immutableValuesMode,v=P.createElement(of,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:o,valueSrc:s!=null?s:"value",valueError:l,fieldError:null,config:i,setValue:p?En:u,setValueSrc:p?En:c,setFuncValue:p?En:f,readonly:p||a,id:d,groupId:null});return P.createElement(Hr,{className:"case_group--value"},v)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addGroup,o=n.addRule,s=n.isLocked,l=n.isTrueLocked,u=n.id;return P.createElement(TL,{config:i,addGroup:a,addRule:o,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props.value,i=n&&n.size?n.get(0):null,a=i!=null&&(Array.isArray(i)?i.length>0:!0);return Kn(Le(e.prototype),"isEmptyCurrentGroup",this).call(this)&&!a}}])}(Ia);BL.propTypes=Ux(Ux({},Ia.propTypes),{},{parentReordableNodesCnt:W.number,value:W.any,setValue:W.func});const $de=sf(vu("group case_group")(gu(BL)),"case_group");var Nde=["type"];function Dde(t,e,r){return e=Le(e),Zt(t,qL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qL=function(){return!!t})()}function Wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mde=["rule","group","rule_group","switch_group","case_group"],Bs=function(e){var r,n=((r=e.properties)===null||r===void 0?void 0:r.toObject())||{},i=Hg({},n);return e.isParentLocked&&(i.isLocked=!0),n.isLocked&&(i.isTrueLocked=!0),i},Vde={rule:function(e){return P.createElement(zfe,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return P.createElement(dde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return P.createElement(mde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return P.createElement(Ede,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return P.createElement(Fde,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return P.createElement($de,ae({},Bs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},Y0=function(t){function e(){return Qt(this,e),Dde(this,e,arguments)}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n,i=this.props,a=i.type,o=ri(i,Nde),s=(n=o.properties)===null||n===void 0?void 0:n.get("mode"),l=s=="array"?"_ext":"",u=o.config.settings.renderItem,c=Vde[a+l];return u?u(Hg(Hg({},o),{},{type:a,itemComponent:c}),o.config.ctx):c?c(o):null}}])}(J.PureComponent);Y0.propTypes={config:W.object.isRequired,id:W.string.isRequired,groupId:W.string,type:W.oneOf(Mde).isRequired,path:W.any.isRequired,properties:W.any,children1:W.any,actions:W.object.isRequired,reordableNodesCnt:W.number,onDragStart:W.func,parentField:W.string,isDraggingTempo:W.bool,isParentLocked:W.bool};function Bde(t,e,r){return e=Le(e),Zt(t,HL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HL=function(){return!!t})()}var zL=it.TreeUtils,qde=zL.getTotalReordableNodesCountInTree,Hde=zL.getTotalRulesCountInTree,UL=it.DefaultUtils,zde=UL.createListWithOneElement,Gx=UL.emptyProperties,WL=function(t){function e(r){var n;return Qt(this,e),n=Bde(this,e,[r]),n.pureShouldComponentUpdate=hu(n),n._updPath(r),n}return Kt(e,t),Jt(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=this.pureShouldComponentUpdate(n,i);return a}},{key:"_updPath",value:function(n){var i=n.tree.get("id");this.path=zde(i)}},{key:"render",value:function(){var n=this.props,i=n.tree,a=n.config,o=n.actions,s=n.onDragStart,l=i.get("type"),u=l=="switch_group",c=u?null:qde(i),f=u?null:Hde(i),d=i.get("id");return P.createElement(Y0,{key:d,id:d,path:this.path,type:l,properties:i.get("properties")||Gx(),config:a,actions:o,children1:i.get("children1")||Gx(),reordableNodesCnt:c,totalRulesCnt:f,parentReordableNodesCnt:0,onDragStart:s})}}])}(J.Component);WL.propTypes={tree:W.any.isRequired,config:W.object.isRequired,actions:W.object.isRequired,onDragStart:W.func};const Ude=xce(WL);function Yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gde(t,e,r){return e=Le(e),Zt(t,GL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(GL=function(){return!!t})()}var Yde=it.clone,K0=it.ConfigUtils,Pu=K0.getFieldConfig,Kx=K0.getFieldParts,Jx=K0.getFieldPathParts,YL=it.RuleUtils,Qx=YL.getFieldPathLabels,Kde=YL.getWidgetForFieldOp,KL=function(t){function e(r){var n;return Qt(this,e),n=Gde(this,e,[r]),Nn(n),n.onPropsChanged(r),n}return Kt(e,t),Jt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"],o=["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"],s=!this.items||a.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;s&&(this.items=this.getItems(n)),l&&(this.meta=this.getMeta(n))}},{key:"getItems",value:function(n){var i=n.config,a=n.field,o=n.fieldType,s=n.operator,l=n.parentField,u=n.isFuncArg,c=n.fieldDefinition,f=i.settings.canCompareFieldWithField,d=Kx(l,i),p=l?Pu(i,l):null,v=l?p==null?void 0:p.subfields:i.fields,h=this.filterFields(i,v,a,l,d,s,f,u,c,o),g=this.buildOptions(d,i,h,d);return g}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.field;n.fieldType,n.operator;var s=n.value,l=n.placeholder,u=n.isFuncArg,c=n.parentField,f=a.settings,d=f.fieldPlaceholder,p=f.fieldSeparatorDisplay,v=s,h=!!s,g=o?Pu(a,o):{},y=g==null||(i=g.widgets)===null||i===void 0?void 0:i.field,m=(y==null?void 0:y.widgetProps)||{},_=h?null:u&&l||m.valuePlaceholder||d,b=h?Pu(a,v):null,S=b||{},O=Jx(v,a),x=Jx(v,a,!0),C=this.getFieldLabel(b,v,a),A=Qx(v,a),w=A?A.join(p):null;(w==C||c)&&(w=null);var k=S.label2||S.tooltip;return{placeholder:_,selectedKey:v,selectedKeys:O,selectedPath:x,selectedLabel:C,selectedOpts:S,selectedAltLabel:k,selectedFullLabel:w}}},{key:"filterFields",value:function(n,i,a,o,s,l,u,c,f,d){i=Yde(i);var p=n.settings.fieldSeparator,v=Pu(n,a),h=Kde(n,a,l,"value");n.widgets[h];var g;c?g=f==null?void 0:f.type:v?g=v.type:g=d;function y(m,_){for(var b in m){var S=m[b].subfields,O=(_||[]).concat(b),x=O.join(p),C=Pu(n,x);if(!C)delete m[b];else if(C.type=="!struct"||C.type=="!group")y(S,O)==0&&delete m[b];else{var A=(!g||C.type==g)&&(c?!0:x!=a),w=u||n.settings.canCompareFieldWithField;w&&(A=A&&w(a,v,x,C,l)),A||delete m[b]}}return wl(m).length}return y(i,s||[]),i}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a)return null;var u=i.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"";return wl(a).map(function(p){var v=[].concat(Ce(s!=null?s:[]),[p]),h=a[p],g=o.getFieldLabel(h,v,i),y=Qx(v,i),m=y.join(f);(m==g||n)&&(m=null);var _=h.label2,b=h.tooltip;if(!h.hideForCompare)return h.type=="!struct"||h.type=="!group"?{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,items:o.buildOptions(n,i,h.subfields,v,{label:g,tooltip:b})}:{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l}}).filter(function(p){return!!p})}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Kx(i,a),l=(n==null?void 0:n.label)||nh(s);return l=Zd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Wde({isValueField:!0,config:i,customProps:a,setField:o,readonly:s,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(J.Component);KL.propTypes={id:W.string,groupId:W.string,setValue:W.func.isRequired,config:W.object.isRequired,field:W.any,fieldSrc:W.string,fieldType:W.string,value:W.string,operator:W.string,customProps:W.object,readonly:W.bool,parentField:W.string,fieldDefinition:W.object,isFuncArg:W.bool};const Jde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.labelYes,i=t.labelNo,a=t.readonly;t.widgetId;var o=t.customProps,s=o===void 0?{}:o,l=s.radioYes||{},u=s.radioNo||{},c=function(d){return r(d.target.value=="true")};return P.createElement(P.Fragment,null,P.createElement("input",ae({type:"radio",value:!0,checked:!!e,disabled:a,onChange:c},l))," ",n,P.createElement("input",ae({type:"radio",value:!1,checked:!e,disabled:a,onChange:c},u))," ",i)},Qde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength,o=t.customProps,s=function(c){var f=c.target.value;f===""&&(f=void 0),r(f)},l=e||"";return P.createElement("input",ae({type:"text",value:l,placeholder:i,disabled:n,onChange:s,maxLength:a},o))},Xde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength;t.maxRows;var o=t.fullWidth,s=t.customProps,l=function(f){var d=f.target.value;d===""&&(d=void 0),r(d)},u=e||"";return P.createElement("textarea",ae({value:u,placeholder:i,disabled:n,onChange:l,maxLength:a,style:{width:o?"100%":void 0}},s))};it.moment;const Zde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return P.createElement("input",ae({type:"date",value:e||"",disabled:n,onChange:a},i))},epe=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat,t.use12Hours;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return P.createElement("input",ae({type:"time",value:e||"",disabled:n,onChange:a},i))};var Xx=it.moment;const tpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.valueFormat;t.use12Hours;var i=t.readonly,a=t.customProps,o=function(u){var c=u.target.value;c==""?c=void 0:c=Xx(new Date(c)).format(n),r(c)},s=e;return e?s=Xx(e).format("YYYY-MM-DDTHH:mm"):s="",P.createElement("input",ae({type:"datetime-local",value:s,disabled:i,onChange:o},a))};var rpe=it.ListUtils.mapListValues;const npe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return rpe(e,function(c){var f=c.title,d=c.value;return P.createElement("option",{key:d,value:d},f)})},s=function(c){for(var f=[],d=c.options,p=0;p<d.length;p++){var v=d[p];v.selected&&f.push(v.value)}return f.length||(f=void 0),f},l=function(c){return n(s(c.target))};return P.createElement("select",ae({multiple:!0,onChange:l,value:r,disabled:i},Co(a,["showSearch","input","showCheckboxes"])),o())};var ipe=it.ListUtils.mapListValues;const ape=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return ipe(e,function(c){var f=c.title,d=c.value;return P.createElement("option",{key:d,value:d},f)})},s=function(c){return n(c.target.value)},l=r!=null;return P.createElement("select",ae({onChange:s,value:l?r:"",disabled:i},Co(a,["showSearch","input"])),!l&&P.createElement("option",{disabled:!0,value:""}),o())},ope=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return P.createElement("input",ae({type:"number",value:c,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:u},l))},spe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=l===void 0?{}:l,c=u.input||{},f=u.slider||u,d=function(h){var g=h.target.value;g===""||g===null?g=void 0:g=Number(g),r(g)},p=e==null?"":e;return P.createElement("div",{style:{display:"inline-flex"}},P.createElement("input",ae({key:"number",type:"number",value:p,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:d},c)),P.createElement("input",ae({key:"range",type:"range",value:p,disabled:n,min:i,max:a,step:o,onChange:d},f)))},lpe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.errorText,o=function u(c){return c.map(function(f){var d=f.items,p=f.path,v=f.label,h=f.disabled,g=f.matchesType;if(d)return P.createElement("optgroup",{disabled:h,key:p,label:v},u(d));var y=g?{fontWeight:"bold"}:{};return P.createElement("option",{disabled:h,key:p,value:p,style:y},v)})},s=function(c){return r(c.target.value)},l=n!=null;return P.createElement("select",{onChange:s,value:l?n:"",disabled:i,style:{color:a?"red":null}},!l&&P.createElement("option",{disabled:!0,value:""}),o(e))},upe=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(b){var S=i[b],O=S.id,x=S.name,C=S.label,A=S.checked,w=a.isDummyFn?"__dummy":"";return(s||o)&&!A?null:[P.createElement("input",{key:O+w,type:"radio",id:O+w,name:x+w,checked:A,disabled:s||o,value:b,onChange:y}),P.createElement("label",{key:O+w+"label",htmlFor:O+w},C)]})},g=function(){var b="not";return[P.createElement("input",{key:e+b,type:"checkbox",id:e+b,checked:r,disabled:s,onChange:m}),P.createElement("label",{key:e+b+"label",htmlFor:e+b},c||"NOT")]},y=function(b){return a(b.target.value)},m=function(b){return n(b.target.checked)};return[u&&g(),v&&h()]};var cpe={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const fpe=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=r||cpe[e];return P.createElement("button",{onClick:n,type:"button",disabled:i},a)},dpe=function(t){var e=t.type,r={},n=r[e]||null;return!n&&e==="drag"&&(n=P.createElement(tL,null)),n},ppe=function(t){var e=t.children;return t.config,P.createElement(P.Fragment,null,e)},hpe=function(t){t.config;var e=t.valueSources,r=t.valueSrc;t.title;var n=t.setValueSrc,i=t.readonly,a=function(l){return l.map(function(u){var c=ke(u,2),f=c[0],d=c[1];return P.createElement("option",{key:f,value:f},d.label)})},o=function(l){return n(l.target.value)};return P.createElement("select",{onChange:o,value:r||"",disabled:i},a(e))},vpe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.id;t.config;var a=t.type,o=function(u){return r(u.target.checked)},s=a;return[P.createElement("input",{key:i+s,type:"checkbox",id:i+s,checked:!!e,onChange:o}),P.createElement("label",{key:i+s+"label",htmlFor:i+s},n)]},gpe=function(t){var e=t.onOk;t.okText,t.cancelText;var r=t.title;confirm(r)&&e()};var mpe=function(e){e.config;var r=e.children;return r};const ype=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:W0,ValueFieldWidget:KL,VanillaBooleanWidget:Jde,VanillaButton:fpe,VanillaButtonGroup:ppe,VanillaConjs:upe,VanillaDateTimeWidget:tpe,VanillaDateWidget:Zde,VanillaFieldSelect:lpe,VanillaIcon:dpe,VanillaMultiSelectWidget:npe,VanillaNumberWidget:ope,VanillaProvider:mpe,VanillaSelectWidget:ape,VanillaSliderWidget:spe,VanillaSwitch:vpe,VanillaTextAreaWidget:Xde,VanillaTextWidget:Qde,VanillaTimeWidget:epe,VanillaValueSources:hpe,vanillaConfirm:gpe},Symbol.toStringTag,{value:"Module"}));function bpe(t,e,r){return e=Le(e),Zt(t,JL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JL=function(){return!!t})()}var J0=function(t){function e(){var r;Qt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bpe(this,e,[].concat(i)),r.handleChange=function(o){r.props.setOption("proximity",parseInt(o))},r}return Kt(e,t),Jt(e,[{key:"render",value:function(){var n=this.props,i=n.defaults,a=n.options,o=n.config,s=n.optionLabel,l=n.optionPlaceholder,u=n.customProps,c=n.minProximity,f=n.maxProximity,d=n.optionTextBefore,p=n.readonly,v=o.settings,h=o.widgets,g=o.ctx,y=i?i.proximity:void 0,m=v.showLabels,_=a.get("proximity",y),b=qg(c,f+1).map(function(x){return{title:x,value:x}}),S=h.select.factory,O=function(C){return S(C,g)};return P.createElement("div",{className:"operator--PROXIMITY"},P.createElement("div",{className:"operator--options"},m&&P.createElement("label",{className:"rule--label"},s),!m&&d&&P.createElement("div",{className:"operator--options--sep"},P.createElement("span",null,d)),P.createElement(O,ae({config:o,value:_,listValues:b,setValue:this.handleChange,readonly:p,placeholder:l},u))),P.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(J.PureComponent);J0.propTypes={config:W.object.isRequired,setOption:W.func.isRequired,options:W.any.isRequired,minProximity:W.number,maxProximity:W.number,optionPlaceholder:W.string,optionTextBefore:W.string,optionLabel:W.string,customProps:W.object,readonly:W.bool};J0.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const _pe=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:J0},Symbol.toStringTag,{value:"Module"}));function Zx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zx(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Spe=Xe({},Tr.conjunctions),Ope=Xe(Xe({},Tr.operators),{},{proximity:Xe(Xe({},Tr.operators.proximity),{},{options:Xe(Xe({},Tr.operators.proximity.options),{},{factory:function(e,r){var n=r.RCE,i=r.O.ProximityOperator;return n(i,e)}})})}),xpe={text:Xe(Xe({},Tr.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}}),textarea:Xe(Xe({},Tr.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextAreaWidget;return n(i,e)}}),number:Xe(Xe({},Tr.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaNumberWidget;return n(i,e)}}),slider:Xe(Xe({},Tr.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSliderWidget;return n(i,e)}}),select:Xe(Xe({},Tr.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSelectWidget;return n(i,e)}}),multiselect:Xe(Xe({},Tr.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaMultiSelectWidget;return n(i,e)}}),date:Xe(Xe({},Tr.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateWidget;return n(i,e)}}),time:Xe(Xe({},Tr.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTimeWidget;return n(i,e)}}),datetime:Xe(Xe({},Tr.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateTimeWidget;return n(i,e)}}),boolean:Xe(Xe({},Tr.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaBooleanWidget;return n(i,e)}}),field:Xe(Xe({},Tr.widgets.field),{},{factory:function(e,r){var n=r.RCE,i=r.W.ValueFieldWidget;return n(i,e)},customProps:{showSearch:!0}}),func:Xe(Xe({},Tr.widgets.func),{},{factory:function(e,r){var n=r.RCE,i=r.W.FuncWidget;return n(i,e)},customProps:{}}),case_value:Xe(Xe({},Tr.widgets.case_value),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}})},wpe=Xe(Xe({},Tr.types),{},{select:Xe(Xe({},Tr.types.select),{},{widgets:Xe(Xe({},Tr.types.select.widgets),{},{select:Xe(Xe({},Tr.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),Epe=Xe(Xe({},Tr.settings),{},{renderField:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.VanillaConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.VanillaSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.VanillaButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.VanillaIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.VanillaButtonGroup;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.VanillaProvider;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderConfirm:function(e,r){var n=r.W.vanillaConfirm;return n(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,r){var n=r.RCE;return n("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),Cpe=Xe(Xe({},Tr.ctx),{},{W:Xe({},ype),O:Xe({},_pe),RCE:function(e,r){return P.createElement(e,r)}}),zg={conjunctions:Spe,operators:Ope,widgets:xpe,types:wpe,settings:Epe,ctx:Cpe};zg=it.ConfigMixins.removeMixins(zg,["rangeslider","treeselect","treemultiselect"]);const cn=zg;var Tpe=Qi,kpe=function(){return Tpe.Date.now()},Ipe=kpe,Ape=Ei,yv=Ipe,ew=cL,Ppe="Expected a function",jpe=Math.max,Lpe=Math.min;function Fpe(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Ppe);e=ew(e)||0,Ape(r)&&(c=!!r.leading,f="maxWait"in r,a=f?jpe(ew(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,C=i;return n=i=void 0,u=O,o=t.apply(C,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,C=O-u,A=e-x;return f?Lpe(A,a-C):A}function g(O){var x=O-l,C=O-u;return l===void 0||x>=e||x<0||f&&C>=a}function y(){var O=yv();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(yv())}function S(){var O=yv(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var Rpe=Fpe;const $pe=tn(Rpe);function tw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lf=it.Autocomplete,Uf=lf.mergeListValues,rw=lf.listValueToOption,Npe=lf.optionToListValue,Dpe=lf.optionsToListValues,Mpe=lf.fixListValuesGroupOrder,mu=it.ListUtils,Vpe=mu.mapListValues,Wf=mu.listValuesToArray,Gf=mu.getListValue,Bpe=mu.makeCustomListValue,qpe=mu.searchListValue;mu.getItemInListValues;function nw(t){return new Promise(function(e){setTimeout(e,t)})}var Hpe=function(e,r){var n=e.asyncFetch,i=e.useLoadMore,a=e.useAsyncSearch,o=e.forceAsyncSearch,s=e.asyncListValues,l=e.listValues,u=e.allowCustomValues,c=e.value,f=e.setValue,d=e.placeholder,p=e.config,v=r.debounceTimeout,h=r.multiple,g=r.uif,y=r.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],_="Load more...",b="Loading more...",S=o?"Type to search":d,O=P.useState(!1),x=ke(O,2),C=x[0],A=x[1],w=P.useState(void 0),k=ke(w,2),E=k[0],I=k[1],j=P.useState(0),L=ke(j,2),M=L[0],R=L[1],U=P.useState(!1),V=ke(U,2),$=V[0],F=V[1],N=P.useState(""),B=ke(N,2),z=B[0],H=B[1],D=P.useState(void 0),G=ke(D,2),q=G[0],Y=G[1],K=P.useRef(0),ie=P.useRef(0),te=P.useRef(!1),oe=P.useMemo(function(){return Wf(s)},[s]),ue=P.useMemo(function(){return n?s?Uf(q,oe,!0):q:Wf(l)},[n,s,q,l]),fe=n?q:Wf(l);u&&z&&!qpe(z,q)&&(fe=Uf(fe,[Bpe(z)],!0)),n&&!q&&s&&!z&&!C&&g==="antd"&&(fe=ue),n&&!u&&s&&g==="mui"&&(fe=Uf(fe,oe,!0,!0));var pe=M>0,Se=C&&n&&q===void 0&&(o?z:!0),Q=Se&&pe,re=!Q&&ue&&ue.length>0&&E&&E.hasMore&&(E.filter||"")===z,de=!pe&&re,ve=Vpe(fe,rw),ee=c!=null,me=!h&&ee?Gf(c,ue):null,Oe=function(){var ht=zo(Br.mark(function Fe(){var De,Ge,Qe,ft,Et,At,_r,Rt,Mr,qe,lt,ur,Yr,Kr,mt,dt=arguments;return Br.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return De=dt.length>0&&dt[0]!==void 0?dt[0]:null,Ge=dt.length>1&&dt[1]!==void 0?dt[1]:!1,!Ge&&E&&I(void 0),Qe=Ge&&q?q.length:0,ft=Ge&&E||!i&&{pageSize:0},Et=++K.current,$t.next=8,n.call(p==null?void 0:p.ctx,De,Qe,ft);case 8:if(At=$t.sent,_r=K.current!=Et,!(_r||!ie.current)){$t.next=12;break}return $t.abrupt("return",null);case 12:return Rt=At!=null&&At.values?At:{values:At},Mr=Rt.values,qe=Rt.hasMore,lt=Rt.meta,ur=Wf(Mr),Ge?(Kr=Uf(q,ur,!1),Yr=Kr.length>q.length):(Kr=ur,i&&(Yr=Kr.length>0)),mt=qe!=null||lt!=null||Yr!=null?zf(zf(zf(zf({},Yr!=null?{hasMore:Yr}:{}),qe!=null?{hasMore:qe}:{}),lt!=null?lt:{}),{},{filter:De}):void 0,mt&&I(mt),$t.abrupt("return",Kr);case 18:case"end":return $t.stop()}},Fe)}));return function(){return ht.apply(this,arguments)}}(),we=function(){var ht=zo(Br.mark(function Fe(){var De,Ge,Qe,ft=arguments;return Br.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return De=ft.length>0&&ft[0]!==void 0?ft[0]:null,Ge=ft.length>1&&ft[1]!==void 0?ft[1]:!1,R(function(_r){return _r+1}),F(Ge),At.next=6,Oe(De,Ge);case 6:if(Qe=At.sent,ie.current){At.next=9;break}return At.abrupt("return");case 9:Qe!=null&&Y(Qe),R(function(_r){return _r-1}),F(!1);case 12:case"end":return At.stop()}},Fe)}));return function(){return ht.apply(this,arguments)}}(),Je=P.useCallback($pe(we,v),[]);P.useEffect(function(){return ie.current++,Se&&M==0&&K.current==0&&zo(Br.mark(function ht(){return Br.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,we();case 2:case"end":return De.stop()}},ht)}))(),function(){ie.current--}},[Se]);var at=function(){A(!0)},ce=function(){var ht=zo(Br.mark(function Fe(De){var Ge,Qe;return Br.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(Ge=te.current,Ge?(te.current=!1,h&&A(!1)):A(!1),!(g==="mui"&&!Ge)){Et.next=6;break}return Qe="",Et.next=6,Be(null,Qe,"my-reset");case 6:case"end":return Et.stop()}},Fe)}));return function(De){return ht.apply(this,arguments)}}(),ge=function(Fe){Fe?at():ce()},he=function(Fe){var De=(Fe==null?void 0:Fe.specialValue)||(Fe==null?void 0:Fe.value);return m.includes(De)},je=function(){var ht=zo(Br.mark(function Fe(De,Ge,Qe){var ft,Et,At,_r,Rt,Mr,qe,lt,ur,Yr,Kr,mt,dt,cr,$t,Lr,tr;return Br.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Et=h&&g==="mui"&&Qe==="clear",At=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)==="change",_r=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)!=="change",g==="mui"&&(Qe=Ge,h?Ge=Qe.map(function(be){var _e;return(_e=be==null?void 0:be.value)!==null&&_e!==void 0?_e:be}):Ge=(Rt=(Mr=Qe)===null||Mr===void 0?void 0:Mr.value)!==null&&Rt!==void 0?Rt:Qe),qe=h&&Array.isArray(Qe)&&Qe.map(function(be){return be==null?void 0:be.specialValue}).find(function(be){return!!be})||((ft=Qe)===null||ft===void 0?void 0:ft.specialValue),h&&Ge&&!Array.isArray(Ge)&&(Ge=[].concat(Ce(c||[]),[Ge]),Qe=null),lt=Et&&Ge.length===0&&z&&C||At,!lt){Z.next=9;break}return Z.abrupt("return");case 9:if(ur=h&&Ge.length&&Ge.length>(c||[]).length&&Ge[Ge.length-1]==z&&!Gf(z,q),qe!="LOAD_MORE"){Z.next=17;break}return H(z),te.current=!0,Z.next=15,we(z,!0);case 15:Z.next=37;break;case 17:if(qe!="LOADING_MORE"){Z.next=21;break}te.current=!0,Z.next=37;break;case 21:if(!h){Z.next=31;break}if(Yr=Dpe(Ge,ue,u),Kr=ke(Yr,2),mt=Kr[0],dt=Kr[1],f(mt,n?dt:void 0),!ur){Z.next=29;break}return Z.next=27,nw(0);case 27:return Z.next=29,Be(null,"","my-reset");case 29:Z.next=37;break;case 31:if(cr=Npe(Ge,ue,u),$t=ke(cr,2),Lr=$t[0],tr=$t[1],f(Lr,n?tr:void 0),!(_r&&y)){Z.next=37;break}return Z.next=36,nw(0);case 36:A(!1);case 37:case"end":return Z.stop()}},Fe)}));return function(De,Ge,Qe){return ht.apply(this,arguments)}}(),Be=function(){var ht=zo(Br.mark(function Fe(De,Ge,Qe){var ft,Et,At;return Br.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(ft=g==="mui"&&Qe==="reset",Et=Ge,!(Et===_||Et===b||ft)){Rt.next=4;break}return Rt.abrupt("return");case 4:if(Ge==z){Rt.next=13;break}if(H(Et),At=a&&(o?!!Et:!0),!At){Rt.next=12;break}return Rt.next=10,Je(Et);case 10:Rt.next=13;break;case 12:a&&o&&Y([]);case 13:case"end":return Rt.stop()}},Fe)}));return function(De,Ge,Qe){return ht.apply(this,arguments)}}(),Ne=function(Fe){var De=Ce(Fe);return i&&(de?De.push({specialValue:"LOAD_MORE",title:_}):$&&De.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),De},ot=function(Fe,De){if(De==null)return null;var Ge=De.value!=null?De.value:De;return Fe.value===Ge},st=function(Fe){return Fe&&Fe.disabled},Ke=function(Fe){var De;if(Fe!=null&&Fe.isCustom)return!0;var Ge=(De=Fe==null?void 0:Fe.value)!==null&&De!==void 0?De:Fe,Qe=Gf(Ge,ue);return(Qe==null?void 0:Qe.isCustom)||!1},Bt=function(Fe){if(Fe==null)return null;var De=Fe.value!=null?Fe:rw(Gf(Fe,ue));return!De&&Fe.specialValue?Fe.title:!De&&u||!De?Fe.toString():De.title||De.label||De.value.toString()},jr=g==="mui"?Mpe(ve):ve;return{options:jr,listValues:ue,hasValue:ee,selectedListValue:me,open:C,onOpen:at,onClose:ce,onDropdownVisibleChange:ge,onChange:je,inputValue:z,onInputChange:Be,canShowLoadMore:de,isInitialLoading:Q,isLoading:pe,isLoadingMore:$,isSpecialValue:he,extendOptions:Ne,getOptionSelected:ot,getOptionDisabled:st,getOptionIsCustom:Ke,getOptionLabel:Bt,aPlaceholder:S}};function iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const $o=aw(aw({},it),{},{ReactUtils:dce,DragIcon:tL});var bv,qs,zpe=$o.moment,ow=parseInt((bv=bi==null||(qs=bi.version)===null||qs===void 0||(qs=qs.split("."))===null||qs===void 0?void 0:qs[0])!==null&&bv!==void 0?bv:"0");const Upe=function(t){var e=t.value,r=t.setValue,n=t.readonly,i=t.customProps,a=t.dateFormat,o=t.valueFormat,s=t.placeholder,l=function(h){return h&&h.isValid()?h.format(o):void 0},u=function(h){r(l(h))},c=function(h){return P.createElement(Yt,ae({size:"small",variant:"standard"},h))},f="@media (pointer: fine), (pointer: none)",d=ow>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":s}}}:{inputFormat:a,renderInput:c,toolbarPlaceholder:n?"":s},p=e?ow>=6?zpe(e,o):e:null;return P.createElement(Dr,null,P.createElement(y$,ae({desktopModeMediaQuery:f,readOnly:n,disabled:n,value:p,onChange:u},d,i)))};var _v,Hs,Wpe=$o.moment,sw=parseInt((_v=bi==null||(Hs=bi.version)===null||Hs===void 0||(Hs=Hs.split("."))===null||Hs===void 0?void 0:Hs[0])!==null&&_v!==void 0?_v:"0");const Gpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.dateFormat,s=t.timeFormat,l=t.valueFormat,u=t.customProps,c=function(m){return m&&m.isValid()?m.format(l):void 0},f=function(m){r(c(m))},d=o+" "+s,p=function(m){return P.createElement(Yt,ae({size:"small",variant:"standard"},m))},v="@media (pointer: fine), (pointer: none)",h=sw>=6?{format:d,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:d,renderInput:p,toolbarPlaceholder:i?"":a},g=e?sw>=6?Wpe(e,l):e:null;return P.createElement(Dr,null,P.createElement(f$,ae({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:g,onChange:f},h,u)))};var Sv,zs,Ype=$o.moment,Kpe=parseInt((Sv=bi==null||(zs=bi.version)===null||zs===void 0||(zs=zs.split("."))===null||zs===void 0?void 0:zs[0])!==null&&Sv!==void 0?Sv:"0");const Jpe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.timeFormat,s=t.valueFormat,l=t.customProps,u=function(y){return y&&y.isValid()?y.format(s):void 0},c=function(y){r(u(y))},f=o.indexOf(":ss")!=-1,d=e?Ype(e,o):null,p=function(y){return P.createElement(Yt,ae({size:"small",variant:"standard"},y))},v="@media (pointer: fine), (pointer: none)",h=Kpe>=6?{format:o,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:o,renderInput:p,toolbarPlaceholder:i?"":a};return P.createElement(Dr,null,P.createElement(b$,ae({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:d,onChange:c,views:f?["hours","minutes","seconds"]:["hours","minutes"]},h,l)))};var lw=$o.ListUtils.mapListValues;const Qpe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(){return lw(e,function(p){var v=p.title,h=p.value;return P.createElement(Zr,{key:h,value:h},v)})},l=function(p){p.target.value!==void 0&&n(p.target.value)},u=function(p){return!i&&p==null?a:c(p)},c=function(p){return lw(e,function(v){var h=v.title,g=v.value;return g===p?h:null}).filter(function(v){return v!==null}).shift()},f=r!=null;return P.createElement(Dr,null,P.createElement(Ki,ae({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i?"":a,onChange:l,value:f?r:"",disabled:i,readOnly:i,renderValue:u,size:"small"},Co(o,["showSearch","input"])),s()))},Xpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(v){var h=v.target.value;h===""||h===null?h=void 0:h=Number(h),r(h)},c=e==null?"":e,f=J.useMemo(function(){return{readOnly:n}},[n]),d=J.useMemo(function(){return{min:i,max:a,step:o}},[i,a,o]);return P.createElement(Dr,null,P.createElement(Yt,ae({variant:"standard",type:"number",value:c,placeholder:n?"":s,InputProps:f,inputProps:d,disabled:n,onChange:u,size:"small"},l)))};var Zpe=["width"];const ehe=function(t){var e=t.config,r=t.placeholder,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=e.settings.defaultSliderWidth,d=J.useCallback(function(j,L){a(L)},[a]),p=J.useCallback(function(j){var L=j.target.value;L===""||L===null?L=void 0:L=Number(L),a(L)},[a]),v=J.useCallback(function(j){var L=j.target.value;L===""||L===null?L=void 0:L=Number(L),L<o?a(o):L>s&&a(s)},[a,o,s]),h=n||{},g=h.width,y=ri(h,Zpe),m=y.input||{},_=y.slider||y,b=typeof i=="number"?i:"",S=typeof i=="number"?i:null,O=J.useMemo(function(){return u?Object.keys(u).map(function(j){return{value:Number(j),label:xt(u[j])==="object"||typeof u[j]>"u"?u[j]:P.createElement("p",null,u[j])}}):!1},[u]),x=J.useMemo(function(){return{readOnly:c}},[c]),C=J.useMemo(function(){return{min:o,max:s,step:l}},[o,s,l]),A=P.createElement(Yt,ae({variant:"standard",type:"number",value:b,placeholder:r,InputProps:x,inputProps:C,disabled:c,onChange:p,onBlur:v,size:"small"},m)),w=P.createElement(FE,ae({value:S,onChange:d,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},_)),k={display:"inline-flex",alignItems:"center",flexWrap:"wrap"},E={marginLeft:"5px"},I={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:g||f};return P.createElement(Dr,null,P.createElement("div",{style:k},P.createElement("div",{style:E},A),P.createElement("div",{style:I},w)))};var the=["width"];const rhe=function(t){var e=t.config,r=t.placeholders,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=t.textSeparators,d=e.settings.defaultSliderWidth;J.useEffect(function(){var R=t.value||[void 0,void 0],U=ke(R,2),V=U[0],$=U[1];t.value&&(V==null||$==null)},[]);var p=function(U,V){a(V)},v=function(U){var V=U.target.value;V===""||V==null?V=void 0:V=Number(V);var $=t.value?Ce(t.value):[void 0,void 0];$[0]=V,a($)},h=function(U){var V=U.target.value;V===""||V==null?V=void 0:V=Number(V);var $=t.value?Ce(t.value):[void 0,void 0];$[1]=V,a($)},g=function(){i&&(i[0]<o?a([o,i[1]]):i[1]>s&&a([i[0],s]))},y=n||{},m=y.width,_=ri(y,the),b=_.input||{},S=_.slider||_,O=u?Object.keys(u).map(function(R){return{value:Number(R),label:xt(u[R])==="object"||typeof u[R]>"u"?u[R]:P.createElement("p",null,u[R])}}):!1,x=i?Ce(i):[void 0,void 0],C=ke(x,2),A=C[0],w=C[1];A==null&&(A="",x[0]=0),w==null&&(w="",x[1]=0);var k=P.createElement(Yt,ae({variant:"standard",type:"number",value:A,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:v,onBlur:g,size:"small"},b)),E=P.createElement(Yt,ae({variant:"standard",type:"number",value:w,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:h,onBlur:g,size:"small"},b)),I=P.createElement(FE,ae({value:x,onChange:p,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},S)),j={display:"inline-flex",flexWrap:"wrap"},L={marginLeft:"5px"},M={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:m||d};return P.createElement(Dr,null,P.createElement("div",{style:j},P.createElement("div",{style:L},k),P.createElement("div",{className:"widget--sep"},P.createElement("span",null,f[1])),P.createElement("div",{style:L},E),P.createElement("div",{style:M},I)))},nhe=function(t){var e=t.customProps,r=t.value,n=t.setValue,i=t.labelYes,a=t.labelNo,o=t.readonly,s=function(){n(!r)};return P.createElement(Dr,null,P.createElement(Vn,{component:"div"},P.createElement(co,{component:"label",container:!0,alignItems:"center",spacing:0},P.createElement(co,{item:!0,component:"span"},a),P.createElement(co,{item:!0,component:"span"},P.createElement(ls,ae({checked:!!r,onChange:s,disabled:o},e))),P.createElement(co,{item:!0,component:"span"},i))))};var uw=$o.ListUtils.mapListValues;const ihe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(d){return uw(e,function(p){var v=p.title,h=p.value;return P.createElement(Zr,{key:h,value:h},P.createElement(Li,{checked:d.indexOf(h)>-1}),P.createElement(sm,{primary:v}))})},l=function(d){if(!i&&!d.length)return a;var p=uw(e,function(v){var h=v.title,g=v.value;return d.indexOf(g)>-1?h:null}).filter(function(v){return v!==null});return p.join(", ")},u=r!=null&&r.length>0,c=function(d){d.target.value!==void 0&&n(d.target.value)};return P.createElement(Dr,null,P.createElement(Ki,ae({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:c,value:u?r:[],disabled:i,readOnly:i,renderValue:l,size:"small"},Co(o,["showSearch","input","showCheckboxes"])),s(u?r:[])))};var Q0={},ahe=$r;Object.defineProperty(Q0,"__esModule",{value:!0});var X0=Q0.default=void 0,ohe=ahe(Nr()),she=T;X0=Q0.default=(0,ohe.default)((0,she.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var lhe=["width"];function cw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uhe=Hpe,che=[];const QL=function(t){var e=t.allowCustomValues,r=t.multiple,n=t.disableClearable,i=t.value,a=t.customProps,o=t.readonly,s=t.config,l=t.filterOptionsConfig,u=t.errorText,c=t.tooltipText,f=t.isFieldAutocomplete,d=J.useCallback(function(ve){var ee=s.settings.listKeysForSearch,me=ee.map(function(Oe){return typeof ve[Oe]=="string"?ve[Oe]:""}).join("\0");return me},[s]),p={stringify:d},v=AE(l||p),h=uhe(t,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:f}),g=h.open,y=h.onOpen,m=h.onClose,_=h.onChange,b=h.onInputChange,S=h.inputValue,O=h.options,x=h.isInitialLoading,C=h.isLoading,A=h.aPlaceholder,w=h.extendOptions,k=h.getOptionDisabled,E=h.getOptionIsCustom,I=h.getOptionLabel,j=h.selectedListValue,L=s.settings,M=L.defaultSelectWidth,R=L.defaultSearchWidth,U=a||{},V=U.width,$=ri(U,lhe),F=$.input||{};F.width,F=Co(F,["width"]);var N=Co($,["showSearch","showCheckboxes"]),B=!1,z=V||M,H={width:r?void 0:z,minWidth:z},D=o?"":A,G=D||s.settings.fieldPlaceholder,q=i!=null,Y=q?i:r?che:null,K=function(ee,me){var Oe=v(ee,me),we=w(Oe);return we},ie=function(ee){return ee!=null&&ee.group?JSON.stringify(ee.group):ee==null?void 0:ee.groupTitle},te=Pr(),oe=function(ee){var me,Oe,we,Je=!r&&!g,at=(me=(Oe=j==null?void 0:j.title)!==null&&Oe!==void 0?Oe:Y==null?void 0:Y.toString())!==null&&me!==void 0?me:"",ce=r&&!g,ge=Je?at:ce?"":(we=S!=null?S:Y==null?void 0:Y.toString())!==null&&we!==void 0?we:"";return P.createElement(Yt,ae({variant:"standard"},ee,{inputProps:Yf(Yf({"aria-label":G},ee.inputProps),{},{value:ge}),InputProps:Yf(Yf({},ee.InputProps),{},{readOnly:o,endAdornment:P.createElement(P.Fragment,null,C?P.createElement(nR,{color:"inherit",size:20}):null,ee.InputProps.endAdornment)}),disabled:o,placeholder:D,error:!!u},F))},ue=function(ee){var me=ee.groupMaybeJson;if(!me)return null;var Oe={label:me};if(typeof me=="string"&&me[0]==="{")try{Oe=JSON.parse(me)}catch(at){}var we=Oe.label;we&&Oe.tooltip&&(we=P.createElement(gl,{title:Oe.tooltip,placement:"left-start"},P.createElement("span",null,we)));var Je=P.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:te.palette.primary.main,backgroundColor:te.palette.background.default}},we);return Je},fe=function(ee){var me=ee.children;return P.createElement(P.Fragment,null,me)},pe=function(ee){var me=P.createElement("div",{key:ee.key},P.createElement(ue,{groupMaybeJson:ee.group}),P.createElement(fe,null,ee.children));return me},Se=function(ee,me){return ee.map(function(Oe,we){return P.createElement(em,ae({key:Oe.value,label:I(Oe),size:"small",variant:E(Oe)?"outlined":"filled"},me({index:we})))})},Q=function(ee,me){return(ee==null?void 0:ee.value)==me},re=function(ee,me){var Oe=me.title,we=me.renderTitle,Je=me.value,at=me.isHidden,ce=me.tooltip,ge=me.group,he=me.groupTitle,je=he||ge,Be=r?(i||[]).includes(Je):i==Je,Ne=E(me)?"customSelectOption":void 0,ot=!f&&je?"  ":"",st=we||ot+Oe,Ke=P.createElement("span",{className:Ne},st);if(ce&&(Ke=P.createElement(gl,{title:ce,placement:"left-start"},Ke)),at)return null;if(me.specialValue)return P.createElement("div",ee,st);if(r){var Bt=Be?P.createElement(P.Fragment,null,P.createElement(dE,null,P.createElement(X0,null)),Ke):P.createElement(sm,{inset:!0},Ke);return P.createElement(Zr,ae({},ee,{size:"small",selected:Be}),Bt)}else return P.createElement("div",ee,Ke)},de=P.createElement(n2,ae({disableClearable:n,disableCloseOnSelect:r,fullWidth:B,multiple:r,style:H,freeSolo:e,loading:x,open:g,onOpen:y,onClose:m,inputValue:S,onInputChange:b,label:D,onChange:_,value:Y,disabled:o,readOnly:o,options:O,groupBy:ie,getOptionLabel:I,getOptionDisabled:k,renderInput:oe,renderGroup:pe,renderTags:Se,renderOption:re,filterOptions:K,isOptionEqualToValue:Q,size:"small"},N));return c&&(de=P.createElement(gl,{title:g?null:c,placement:"top-start"},de)),de=P.createElement(Dr,{fullWidth:B},de),de},fhe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.placeholder,o=t.errorText,s=t.selectedLabel;t.selectedOpts;var l=t.selectedAltLabel,u=t.selectedFullLabel,c=J.useState(!1),f=ke(c,2),d=f[0],p=f[1],v=J.useCallback(function(){p(!0)},[p]),h=J.useCallback(function(){p(!1)},[p]),g=function O(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(x).map(function(A){var w=x[A],k=w.items,E=w.path,I=w.label,j=w.disabled,L=w.matchesType,M=w.tooltip,R="  ".repeat(C),U=P.createElement("span",null,R&&P.createElement("span",null,R),L?P.createElement("b",null,I):I);return M&&(U=P.createElement(gl,{title:M,placement:"left-start"},U)),k?[P.createElement(om,{disabled:j,key:E,disableSticky:!0},U),O(k,C+1)]:P.createElement(Zr,{disabled:j,key:E,value:E},U)})},y=J.useCallback(function(O){O.target.value!==void 0&&r(O.target.value)},[r]),m=J.useCallback(function(O){if(!i&&!O)return a;var x=function A(w){return w.map(function(k){return k.items?A(k.items):k.path===O?k.label:null})},C=x(e).filter(function(A){return Array.isArray(A)?A.some(function(w){return w!==null}):A!==null}).pop();return C},[i,a,e]),_=n!=null,b=l||u;b==s&&(b=null);var S=P.createElement(Ki,{error:!!o,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:a,onChange:y,value:_?n:"",disabled:i,renderValue:m,size:"small",open:d,onOpen:v,onClose:h},g(e));return b&&(S=P.createElement(gl,{title:d?null:b},S)),S=P.createElement(Dr,null,S),S};var dhe=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function fw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var phe={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},hhe=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.map(function(n){var i=n.items,a=n.path,o=n.key,s=n.label,l=n.altLabel,u=n.disabled,c=n.grouplabel,f=n.group,d=n.matchesType,p=n.tooltip,v="  ".repeat(r);return i?t(i,r+1):{title:s,renderTitle:d?P.createElement("b",null,v+s):v+s,value:a,disabled:u,groupTitle:r>0?v+c:null,group:r>0?ep(ep({},f),{},{label:v+f.label}):null,tooltip:p,_value2:o,_altLabel:l}}).flat(1/0)},vhe=function(e,r){var n=e.items,i=e.selectedKey,a=e.setField,o=e.isValueField,s=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,u=e.selectedFullLabel,c=ri(e,dhe),f=l||u;f==s&&(f=null);var d=hhe(n),p=i,v=function(y,m){if(!(!y&&!o))return a(y)},h={stringify:J.useCallback(function(g){var y=r.settings.fieldItemKeysForSearch.map(function(_){return phe[_]}),m=y.map(function(_){return typeof g[_]=="string"?g[_]:""}).join("\0");return m},[r])};return ep(ep({},c),{},{tooltipText:f,listValues:d,setValue:v,filterOptionsConfig:h,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:p,isFieldAutocomplete:!0})};const ghe=function(t){return P.createElement(QL,vhe(t,t.config))};var Z0={},mhe=$r;Object.defineProperty(Z0,"__esModule",{value:!0});var XL=Z0.default=void 0,yhe=mhe(Nr()),bhe=T;XL=Z0.default=(0,yhe.default)((0,bhe.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var _he=$o.DragIcon,She={delGroup:P.createElement(Uu,null),delRuleGroup:P.createElement(Uu,null),delRule:P.createElement(Uu,null),addRuleGroup:P.createElement(Go,null),addRuleGroupExt:P.createElement(Go,null),addRule:P.createElement(Go,null),addGroup:P.createElement(Go,null),drag:P.createElement(XL,null)},Ohe={drag:"primary"};const xhe=function(t){var e=t.type,r=t.readonly,n=She[e]||null;return!n&&e==="drag"?P.createElement(_he,null):e==="drag"?P.createElement(jE,{size:"small",disabled:r,color:Ohe[e]},n):n};var whe={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},dw={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const Ehe=J.memo(function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=t.renderIcon,o={type:e,readonly:i},s=a==null?void 0:a(o);return!r||whe[e]?P.createElement(St,{size:"small",disabled:i,onClick:n,color:dw[e],"aria-label":r},s):P.createElement(Ut,{size:"small",disabled:i,onClick:n,color:dw[e],startIcon:s},r)}),Che=function(t){var e=t.children;return t.config,P.createElement(P.Fragment,null,e)};var The=P.memo(function(t){var e=t.conjKey,r=t.id;t.name;var n=t.label,i=t.checked,a=t.setConjunction,o=t.readonly,s=t.disabled,l=J.useCallback(function(){a(e)},[e,a]),u=a.isDummyFn?"__dummy":"";return(o||s)&&!i?null:P.createElement(Ut,{key:r+u,id:r+u,color:i?"primary":"inherit",value:e,onClick:l,disabled:o||s},n)}),khe=P.memo(function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(_){var b=i[_],S=b.id,O=b.name,x=b.label,C=b.checked,A={conjKey:_,id:S,name:O,label:x,checked:C,setConjunction:a,readonly:s,disabled:o};return P.createElement(The,ae({key:S},A))})},g=J.useCallback(function(){n(!r)},[r,n]),y=function(){return s&&!r?null:P.createElement(Ut,{key:e,id:e+"__not",color:r?"error":"inherit",onClick:g,disabled:s},c||"NOT")};return P.createElement(Dr,null,P.createElement(l2,{disableElevation:!0,variant:"contained",size:"small",disabled:s},u&&y(),v&&h()))}),eb={},Ihe=$r;Object.defineProperty(eb,"__esModule",{value:!0});var ZL=eb.default=void 0,Ahe=Ihe(Nr()),Phe=T;ZL=eb.default=(0,Ahe.default)((0,Phe.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var tb={},jhe=$r;Object.defineProperty(tb,"__esModule",{value:!0});var eF=tb.default=void 0,Lhe=jhe(Nr()),Fhe=T;eF=tb.default=(0,Lhe.default)((0,Fhe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const Rhe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.checkedLabel,a=t.hideLabel,o=t.id,s=t.config,l=t.type;s.settings.renderSize;var u=function(h){return r(h.target.checked)},c=function(){return r(!e)},f=l,d=e&&i||n,p=e?P.createElement(eF,null):P.createElement(ZL,null);return l=="lock"?a?P.createElement(St,{key:o+f,onClick:c,size:"small"},p):P.createElement(Ut,{key:o+f,onClick:c,size:"small",startIcon:p},d):P.createElement(Fa,{control:P.createElement(ls,{checked:!!e,size:"small",onChange:u}),label:d})};var rb={},$he=$r;Object.defineProperty(rb,"__esModule",{value:!0});var tF=rb.default=void 0,Nhe=$he(Nr()),Dhe=T;tF=rb.default=(0,Nhe.default)((0,Dhe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var Mhe=P.memo(function(t){var e=t.valueSrc,r=t.srcKey,n=t.handleChange,i=t.info,a=e==r||!e&&r=="value",o=J.useCallback(function(s){return n(s,r)},[n,r]);return P.createElement(Zr,{value:r,selected:a,onClick:o},!a&&P.createElement(sm,{inset:!0},i.label),a&&P.createElement(P.Fragment,null,P.createElement(dE,null,P.createElement(X0,null)),i.label))}),Vhe=P.memo(function(t){var e=t.valueSources,r=t.valueSrc,n=t.title,i=t.setValueSrc;t.readonly;var a=P.useState(null),o=ke(a,2),s=o[0],l=o[1],u=J.useCallback(function(h){l(h.currentTarget)},[l]),c=J.useCallback(function(){l(null)},[l]),f=J.useCallback(function(h){s?c():u(h)},[c,u,s]),d=J.useCallback(function(h,g){i(g),c()},[c,i]),p=function(g){return g.map(function(y){var m=ke(y,2),_=m[0],b=m[1];return P.createElement(Mhe,{key:_,valueSrc:r,srcKey:_,handleChange:d,info:b})})},v=!!s;return P.createElement("div",null,P.createElement(St,{size:"small",onClick:f},P.createElement(tF,null)),P.createElement(FR,{anchorEl:s,open:v,onClose:c},P.createElement(Dr,{component:"fieldset",sx:{p:0}},P.createElement(SE,{component:"legend",sx:{p:2,pt:0,pb:1}},n),p(e))))});const Bhe=function(t){var e=t.onOk,r=t.okText,n=t.cancelText,i=t.title,a=t.confirmFn;a({description:i||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(e).catch(function(){})};var Ov,Us,qhe=parseInt((Ov=bi==null||(Us=bi.version)===null||Us===void 0||(Us=Us.split("."))===null||Us===void 0?void 0:Us[0])!==null&&Ov!==void 0?Ov:"0"),Hhe=function(e){var r=e.config,n=e.children,i=r.settings.theme||{},a=r.settings.locale||{},o=a.moment,s=i.mui,l=a.mui,u=fE(s,l,{palette:{}}),c=qhe>=6?{locale:o}:{adapterLocale:o},f=P.createElement("div",{className:"mui"},n),d=P.createElement(d$,ae({dateAdapter:iJ},c),P.createElement(ZW,null,f)),p=u?P.createElement(mE,{theme:u},d):d;return p};const zhe={MuiTextWidget:EJ,MuiTextAreaWidget:CJ,MuiDateWidget:Upe,MuiDateTimeWidget:Gpe,MuiTimeWidget:Jpe,MuiSelectWidget:Qpe,MuiNumberWidget:Xpe,MuiSliderWidget:ehe,MuiRangeWidget:rhe,MuiBooleanWidget:nhe,MuiMultiSelectWidget:ihe,MuiAutocompleteWidget:QL,MuiFieldSelect:fhe,MuiFieldAutocomplete:ghe,MuiIcon:xhe,MuiButton:Ehe,MuiButtonGroup:Che,MuiConjs:khe,MuiSwitch:Rhe,MuiValueSources:Vhe,MuiConfirm:Bhe,MuiUseConfirm:rG,MuiProvider:Hhe};function pw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(r),!0).forEach(function(n){le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Uhe=Ct(Ct({},cn.settings),{},{renderField:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderOperator:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.MuiConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.MuiSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.MuiButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.MuiIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.MuiButtonGroup;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.MuiProvider;return n(i,e)},renderConfirm:function(e,r){var n=r.W.MuiConfirm;return n(e)},useConfirm:function(e){var r=e.W.MuiUseConfirm;return r()}}),Whe=Ct(Ct({},cn.widgets),{},{text:Ct(Ct({},cn.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextWidget;return n(i,e)}}),textarea:Ct(Ct({},cn.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextAreaWidget;return n(i,e)}}),number:Ct(Ct({},cn.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiNumberWidget;return n(i,e)}}),multiselect:Ct(Ct({},cn.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?n(a,Ct(Ct({},e),{},{multiple:!0})):n(o,e)}}),select:Ct(Ct({},cn.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiSelectWidget;return e.asyncFetch||e.showSearch?n(a,e):n(o,e)}}),slider:Ct(Ct({},cn.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiSliderWidget;return n(i,e)}}),boolean:Ct(Ct({},cn.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiBooleanWidget;return n(i,e)}}),date:Ct(Ct({},cn.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateWidget;return n(i,e)}}),time:Ct(Ct({},cn.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTimeWidget;return n(i,e)}}),datetime:Ct(Ct({},cn.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateTimeWidget;return n(i,e)}}),rangeslider:Ct(Ct({},cn.widgets.rangeslider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiRangeWidget;return n(i,e)}})}),Ghe=Ct({},cn.types),Yhe=Ct(Ct({},cn.ctx),{},{W:Ct(Ct({},cn.ctx.W),zhe)}),Ug=Ct(Ct({},cn),{},{ctx:Yhe,types:Ghe,widgets:Whe,settings:Uhe});Ug=$o.ConfigMixins.addMixins(Ug,["rangeslider"]);const rF=Ug,Ht=rF,Sr=t=>'<span class="logicField">'+t+"</span>",qr=t=>'<span class="logicOp">'+t+"</span>",ir=(t,e)=>'<span class="logicValue">'+(e=="text"?'"'+t+'"':t)+"</span>",Khe={AND:Ht.conjunctions.AND,OR:Ht.conjunctions.OR},Jhe={...Ht.operators,less:{...Ht.operators.less,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Sr(t)," ").concat(qr("<")," ").concat(ir(r,i))},less_or_equal:{...Ht.operators.less_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Sr(t)," ").concat(qr("<=")," ").concat(ir(r,i))},greater:{...Ht.operators.greater,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Sr(t)," ").concat(qr(">")," ").concat(ir(r,i))},greater_or_equal:{...Ht.operators.greater_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Sr(t)," ").concat(qr(">=")," ").concat(ir(r,i))},equal:{...Ht.operators.equal,label:"Equals",jsonLogic:"==",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"equals":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},not_equal:{...Ht.operators.not_equal,label:"Not Equals",jsonLogic:"!=",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"not equals":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},starts_with:{...Ht.operators.starts_with,jsonLogic:"startsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"starts with":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},ends_with:{...Ht.operators.ends_with,jsonLogic:"endsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"ends with":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},between:{...Ht.operators.between,label:"Between",jsonLogic:"between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(Sr(t)," ").concat(qr("between")," ").concat(ir(l,i)," ").concat(qr("and")," ").concat(ir(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},not_between:{...Ht.operators.not_between,label:"Not Between",jsonLogic:"not_between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(Sr(t)," ").concat(qr("not between")," ").concat(ir(l,i)," ").concat(qr("and")," ").concat(ir(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},like:{...Ht.operators.like,label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"contains":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},not_like:{...Ht.operators.not_like,label:"Not Contains",jsonLogic:"not_contains",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"does not contain":a.label;return"".concat(Sr(t)," ").concat(qr(u)," ").concat(ir(r,i))}},select_any_in:{...Ht.operators.select_any_in,label:"is any of",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Sr(t)," ").concat(qr("in")," (").concat(ir(l,""),")")}},select_not_any_in:{...Ht.operators.select_not_any_in,label:"Is none of",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Sr(t)," ").concat(qr("not in")," (").concat(ir(l,""),")")}},multiselect_equals:{...Ht.operators.multiselect_equals,label:"Has Any Selected",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("Any of")," (").concat(ir(l,""),") in ").concat(Sr(t)," ").concat(qr("is selected"))}},multiselect_not_equals:{...Ht.operators.multiselect_not_equals,label:"Has None Selected",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(qr("None of")," (").concat(ir(l,""),") in ").concat(Sr(t)," ").concat(qr("is selected"))}},is_relevant:{label:"Is Displayed",jsonLogic:"is_relevant",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is shown"))},is_not_relevant:{label:"Is Hidden",jsonLogic:"is_not_relevant",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is not shown"))},is_valid:{label:"Is Valid",jsonLogic:"is_valid",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is valid"))},is_not_valid:{label:"Is Not Valid",jsonLogic:"is_not_valid",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is not valid"))},is_empty:{cardinality:0,label:"Is Empty",jsonLogic:"is_empty",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is empty"))},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is online"))},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is Offline"))},is_not_empty:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_empty",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Sr(t)," ").concat(ir("is not empty"))}},Qhe={...Ht.widgets,text:{...Ht.widgets.text},slider:{...Ht.widgets.slider,customProps:{width:"300px"}},rangeslider:{...Ht.widgets.rangeslider,customProps:{width:"300px"}},date:{...Ht.widgets.date,dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"},time:{...Ht.widgets.time,timeFormat:"HH:mm",valueFormat:"HH:mm:ss"},datetime:{...Ht.widgets.datetime,timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"},func:{...Ht.widgets.func,customProps:{showSearch:!0}},treeselect:{...Ht.widgets.treeselect,customProps:{showSearch:!0}}},Xhe={...Ht.types,boolean:iR(Ht.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})},Zhe={valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}},eve={...Ht.settings,...Zhe,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1},tve={},rve={ctx:rF.ctx,conjunctions:Khe,operators:Jhe,widgets:Qhe,types:Xhe,settings:eve,funcs:tve};function nve(t){const{jsonLogicFormat:e,queryString:r,loadTree:n,uuid:i,loadFromJsonLogic:a,checkTree:o}=$o,s={...rve,fields:t.fields},l=t.logic?o(a(t.logic,s),s):n({id:i(),type:"group"}),[u,c]=J.useState(l),[f,d]=J.useState(r(u,s,!0)),p=g=>T.jsx("div",{jey:"builder",className:"query-builder-container",children:T.jsx("div",{className:"query-builder",children:T.jsx(Ude,{...g})})}),v=g=>{c(g)},h=()=>{const{logic:g,errors:y}=e(u,s);d(r(u,s,!0)),t.onChange(g)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"query-builder-result",children:[t.logic&&f?T.jsx("pre",{className:"condition-human-text",children:RR(ji(f),50)}):T.jsx("pre",{className:"condition-human-text",children:t.t("no_condition")}),T.jsx("div",{className:"icon-container",children:T.jsx(St,{onClick:()=>t.onDialogStateChanged(!0),children:T.jsx(yN,{})})})]},"result"),T.jsxs(im,{fullScreen:!0,sx:{margin:"200px"},open:t.dialogOpen,onClose:()=>t.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(tm,{id:"alert-dialog-title-logic-builder",children:t.title}),T.jsx(zu,{children:T.jsx(Yj,{...s,value:u,onChange:v,renderBuilder:p})}),T.jsx(nm,{children:T.jsx(Ut,{onClick:()=>{t.onDialogStateChanged(!1),h()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const ive=(t,e,r,n,i)=>{let a=PC(t,e),o={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:i}}};return a.forEach(s=>{r[s]&&(us(s)||Yi(s))&&(o={...o,...ave(s,r[s],r,n)})}),o},ave=(t,e,r,n)=>{var a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b;const i=t+". "+ji(((o=(a=e.content)==null?void 0:a[n])==null?void 0:o.label)||"");if(Yi(t))return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(e.type){case"text":case"barcode":case"email":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","like","not_like","starts_with","ends_with"]}};case"number":return{[t]:{label:i,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":case"signature":case"photo_capture":case"video_capture":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty"]}};case"date":return{[t]:{label:i,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","greater_or_equal","less_or_equal","between"]}};case"time":return{[t]:{label:i,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[t]:{label:i,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let S={},O={};(s=e.children)==null||s.forEach(L=>{var R,U;const M=ji(((U=(R=r[L.qualifiedCode].content)==null?void 0:R[n])==null?void 0:U.label)||"");O[L.code]=M?L.code+" - "+M:L.code}),S[t]={label:i,fieldSettings:{listValues:O},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","select_any_in","select_not_any_in"]};let x=(l=e.children)==null?void 0:l.find(L=>L.code==="Aother");return x&&((u=r[x.qualifiedCode].children)!=null&&u.find(L=>L.code==="Atext"))&&(S[t+"AotherAtext"]={label:"".concat(i," [").concat(((f=(c=r[x.qualifiedCode].content)==null?void 0:c[n])==null?void 0:f.label)||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","equal","not_equal","like","not_like","starts_with","ends_with"]}),S;case"image_mcq":case"icon_mcq":case"mcq":let C={},A={};(d=e.children)==null||d.forEach(L=>{var R,U;const M=ji(((U=(R=r[L.qualifiedCode].content)==null?void 0:R[n])==null?void 0:U.label)||"");A[L.code]=M?L.code+" - "+M:L.code}),C[t]={label:i,fieldSettings:{listValues:A},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=(p=e.children)==null?void 0:p.find(L=>L.code==="Aother");return w&&((v=r[w.qualifiedCode].children)!=null&&v.find(L=>L.code==="Atext"))&&(C[t+"AotherAtext"]={label:"".concat(i," [").concat(((g=(h=r[w.qualifiedCode].content)==null?void 0:h[n])==null?void 0:g.label)||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_empty","is_not_empty","equal","not_equal","like","not_like","starts_with","ends_with"]}),C;case"nps":let k={};return(y=e.children)==null||y.forEach(L=>{var R,U;const M=ji(((U=(R=r[L.qualifiedCode].content)==null?void 0:R[n])==null?void 0:U.label)||"");A[L.code]=M?L.code+" - "+M:L.code}),k[t]={label:i,fieldSettings:{listValues:["0","1","2","3","4","5","6","7","8","9","10"]},type:"select",valueSources:["value"],operators:["is_empty","is_not_empty","select_any_in","select_not_any_in"]},k;case"scq_icon_array":case"scq_array":let E={},I={};return(m=e.children)==null||m.filter(L=>L.type=="column").forEach(L=>{var R,U;const M=ji(((U=(R=r[L.qualifiedCode].content)==null?void 0:R[n])==null?void 0:U.label)||"");I[L.code]=M?L.code+" - "+M:L.code}),E[t]={label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},(_=e.children)==null||_.filter(L=>L.type=="row").forEach(L=>{var M,R;E[t+L.code]={label:i+" - "+ji(((R=(M=r[L.qualifiedCode].content)==null?void 0:M[n])==null?void 0:R.label)||""),type:"select",valueSources:["value"],fieldSettings:{listValues:I},operators:["select_any_in","select_not_any_in"]}}),E;case"ranking":case"image_ranking":let j={};return(b=e.children)==null||b.forEach(L=>{var M,R;j[t+L.code]={label:i+" - "+ji(((R=(M=r[L.qualifiedCode].content)==null?void 0:M[n])==null?void 0:R.label)||""),type:"number",fieldSettings:{min:1,max:e.children.length},valueSources:["value"],operators:["is_empty","is_not_empty","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}}),j;default:return[]}},ove="_relevance_1j5a5_1",sve="_relevanceError_1j5a5_5",lve="_errorContainer_1j5a5_9",hw={relevance:ove,relevanceError:sve,errorContainer:lve};function uve({code:t,t:e}){var b,S,O;const r=wt(),[n,i]=J.useState(!1),a=ye(x=>x.designState),o=P.useMemo(()=>a.langInfo),s=P.useMemo(()=>a[t]),l=P.useMemo(()=>ive(a.componentIndex,t,a,o.mainLang,o.languagesList.map(x=>x.code)),[a]),u=(b=s.instructionList)==null?void 0:b.find(x=>x.code=="conditional_relevance"),f=((u==null?void 0:u.errors)||[]).length>0,d=(S=s.relevance)==null?void 0:S.logic,p=!f&&Object.keys(l).length>0,[v,h]=J.useState(((O=s.relevance)==null?void 0:O.rule)||"show_always"),g=v=="show_if"||v=="hide_if",y=x=>{switch(h(x),x){case"show_always":m();return;case"hide_always":r(gf({code:t,key:"relevance",value:{logic:void 0,rule:x}}));return;case"show_if":case"hide_if":(d==null?void 0:d.rule)!="show_if"&&(d==null?void 0:d.rule)!="hide_if"&&i(!0),d&&r(gf({code:t,key:"relevance",value:{logic:d,rule:x}}));return}},m=()=>r(gf({code:t,key:"relevance",value:{logic:void 0,rule:"show_always"}})),_=x=>{i(!1),g&&r(gf({code:t,key:"relevance",value:{logic:x,rule:v}}))};return T.jsxs("div",{className:"".concat(f?hw.relevanceError:""),children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Ki,{id:"show-hide-select",value:v,label:"Age",onChange:x=>y(x.target.value),children:[T.jsx(Zr,{disabled:f,value:"show_always",children:e("show_always")},"show_always"),T.jsx(Zr,{disabled:!p,value:"show_if",children:e("show_if")},"show_if"),T.jsx(Zr,{disabled:!p,value:"hide_if",children:e("hide_if")},"hide_if"),T.jsx(Zr,{disabled:f,value:"hide_always",children:e("hide_always")},"hide_always")]})}),!f&&g&&T.jsx(nve,{title:v=="show_if"?e("condition_to_show"):e("condition_to_hide"),onChange:_,onDialogStateChanged:x=>i(x),fields:l,t:e,dialogOpen:n,logic:d}),f?T.jsxs("div",{className:hw.errorContainer,children:[T.jsx($i,{t:e,i18nKey:"wrong_logic_err"}),T.jsx(Ut,{variant:"contained",onClick:()=>m(),children:"OK"})]}):"",g&&!d?T.jsx("div",{children:T.jsx($i,{t:e,i18nKey:"no_logic_err"})}):""]})}const nF=(t,e,r)=>{var a,o;const n=e[t],i=t+". "+ji((o=(a=n.content)==null?void 0:a[r])==null?void 0:o.label);return{code:t,label:i}},cve=(t,e,r,n)=>{let i=[];if(!t)return i;let a=t.find(o=>o.code===e);return a&&(i=i.concat(vw(t,a,r,n)),a.parent&&iF(t,a).filter(o=>us(o.code)||Yi(o.code)).forEach(o=>{i=i.concat(vw(t,o,r,n))})),i},iF=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(iF(t,n))),r},vw=(t,e,r,n)=>{let i=[];return!Yi(e.code)&&!us(e.code)||t.filter(o=>o.parent==e.parent&&o.minIndex>e.maxIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(o.code)===-1)).forEach(o=>{i=i.concat(nF(o.code,r,n)),i=i.concat(aF(t,o,r,n))}),i},aF=(t,e,r,n)=>{let i=[];return Yi(e.code)&&e.children&&e.children.forEach(a=>{let o=t.find(s=>s.code===a);i=i.concat(nF(o.code,r,n)),i=i.concat(aF(t,o,r,n))}),i},fve="_skipItem_1n8m2_1",dve="_toEnd_1n8m2_6",nb={skipItem:fve,toEnd:dve};function pve({code:t,t:e}){const r=wt(),n=ye(u=>u.designState[t].skip_logic||{}),i=ye(u=>{const c=u.designState.langInfo.mainLang;return cve(u.designState.componentIndex,t,u.designState,c)}),a=ye(u=>u.designState[t].instructionList.filter(c=>c.code.startsWith("skip_to"))),o=ye(u=>{var f,d;const c=u.designState.langInfo.lang;return(d=(f=u.designState[t])==null?void 0:f.children)==null?void 0:d.map(p=>{var v,h;return{code:p.code,label:((h=(v=u.designState[p.qualifiedCode].content)==null?void 0:v[c])==null?void 0:h.label)||p.code}})}),s=(u,c)=>{c=="proceed"?r($R({code:t,answerCode:u})):r(NR({code:t,answerCode:u,skipTo:c}))},l=(u,c)=>{r(DR({code:t,answerCode:u,toEnd:c}))};return T.jsx(T.Fragment,{children:o==null?void 0:o.map(u=>{var h,g;const c=u.code,f=n==null?void 0:n[c],d=f==null?void 0:f.skipTo,p=d||"proceed",v=d&&((g=(h=a==null?void 0:a.find(y=>y.code=="skip_to_on_"+c))==null?void 0:h.errors)==null?void 0:g.find(y=>y.name=="InvalidSkipReference"));return T.jsxs("div",{className:nb.skipItem,children:[T.jsx($i,{t:e,values:{code:u.label},i18nKey:"if_answer_is"}),v?hve(c,d,s,e):vve(c,i,p,f==null?void 0:f.toEnd,s,l,e)]},u.code)})})}function hve(t,e,r,n){return T.jsxs(gt,{className:nb.errorDisplay,children:[T.jsx(ZR,{style:{verticalAlign:"middle"}})," ",T.jsx($i,{t:n,values:{code:e},i18nKey:"invalid_skip_destination_err"}),T.jsx(Ut,{variant:"contained",onClick:()=>r(t,"proceed"),children:n("ok")})]})}function vve(t,e,r,n,i,a,o){return T.jsxs(T.Fragment,{children:[T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsxs(Ki,{id:"skip-action",value:r,label:o("skip_to"),onChange:s=>i(t,s.target.value),children:[T.jsx(Zr,{value:"proceed",children:o("proceed_as_usual")},"proceed"),e&&(e==null?void 0:e.map(s=>T.jsx(Zr,{value:s.code,children:s.label},s.code)))]})}),r&&r.startsWith("G")&&T.jsxs("div",{className:nb.toEnd,children:[T.jsx("h4",{children:o("to_group_end")}),T.jsx(ls,{checked:n||!1,onChange:s=>a(t,s.target.checked)})]})]})}const gve="_sectionTitle_nmfqz_1",mve="_rightContent_nmfqz_6",yve="_close_nmfqz_13",bve="_accordionStyle_nmfqz_17",ec={sectionTitle:gve,rightContent:mve,close:yve,accordionStyle:bve},_ve="_errorDisplay_1avr2_1",Sve={errorDisplay:_ve};function oF({errors:t}){const{t:e}=cs("design");return T.jsx(gt,{className:Sve.errorDisplay,children:t.map(r=>{if(r.name=="PriorityGroupItemNotChild")return T.jsx($i,{t:e,i18nKey:"err_priority_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicatePriorityGroupItems")return T.jsx($i,{t:e,i18nKey:"err_duplicate_priority_group_items",values:{items:r.items.join(", ")}},r.name);if(r.name=="PriorityLimitMismatch")return e("err_priority_limit_mismatch");if(r.name=="RandomGroupItemNotChild")return T.jsx($i,{t:e,i18nKey:"err_random_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicateRandomGroupItems")return T.jsx($i,{t:e,i18nKey:"err_duplicate_random_group_items",values:{items:r.items.join(", ")}},r.name)})},"box")}const Ove="_randomHeader_1pjix_1",xve="_title_1pjix_6",wve="_action_1pjix_11",Eve="_settingIcon_1pjix_15",Cve="_randomBody_1pjix_19",Tve="_list_1pjix_19",kve="_weight_1pjix_30",Ive="_randomAction_1pjix_47",Ave="_listItem_1pjix_53",Pve="_label_1pjix_58",jve="_input_1pjix_64",Lve="_listItemError_1pjix_68",Fve="_randomItem_1pjix_84",Rve="_highlighted_1pjix_89",Mn={randomHeader:Ove,title:xve,action:wve,settingIcon:Eve,randomBody:Cve,list:Tve,weight:kve,randomAction:Ive,listItem:Ave,label:Pve,input:jve,listItemError:Lve,randomItem:Fve,highlighted:Rve};var ib={},$ve=$r;Object.defineProperty(ib,"__esModule",{value:!0});var ab=ib.default=void 0,Nve=$ve(Nr()),Dve=T;ab=ib.default=(0,Nve.default)((0,Dve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");function Mve(t){var e;return T.jsxs(fp,{className:"".concat(Mn.randomItem," ").concat(t.isBeingEdited?Mn.highlighted:""),children:[T.jsxs("div",{className:Mn.randomHeader,children:[T.jsx("h4",{className:Mn.title,children:t.t("prioritise")}),T.jsxs("div",{className:Mn.action,children:[T.jsx(St,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ab,{className:Mn.settingIcon})}),T.jsx(St,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Uu,{className:Mn.settingIcon})})]})]}),T.jsxs("div",{className:Mn.randomBody,children:[t.t("priority_show_limit_from_count",{limit:t.data.limit,count:(e=t.data.weights)==null?void 0:e.length}),T.jsx("ul",{className:Mn.list,children:t.data&&t.data.weights&&t.data.weights.map((r,n)=>T.jsx(Vve,{label:t.getChildLabelByCode(r.code),code:r.code,childrenCodes:t.childrenCodes,weight:r.weight},n))})]})]})}function Vve({code:t,label:e,weight:r,childrenCodes:n}){return T.jsxs("li",{className:n.indexOf(t)!==-1?Mn.listItem:Mn.listItemError,children:[T.jsxs("div",{className:"".concat(Mn.content," ").concat(Mn.label),children:[t,": ",e]}),T.jsx("div",{className:Mn.weight,children:T.jsx("span",{children:r})})]})}const Bve="_title_5cg20_1",qve="_randomBody_5cg20_6",Hve="_list_5cg20_6",zve="_weight_5cg20_18",Uve="_label_5cg20_35",Wve="_randomAction_5cg20_39",Gve="_listItem_5cg20_45",Yve="_input_5cg20_50",Kve="_randomItem_5cg20_54",ua={title:Bve,randomBody:qve,list:Hve,weight:zve,label:Uve,randomAction:Wve,listItem:Gve,input:Yve,randomItem:Kve};var ob={},Jve=$r;Object.defineProperty(ob,"__esModule",{value:!0});var sb=ob.default=void 0,Qve=Jve(Nr()),Xve=T;sb=ob.default=(0,Qve.default)((0,Xve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var lb={},Zve=$r;Object.defineProperty(lb,"__esModule",{value:!0});var ub=lb.default=void 0,ege=Zve(Nr()),tge=T;ub=lb.default=(0,ege.default)((0,tge.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");function rge(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.data),o=()=>{const h=r.filter(g=>g).length;return h>=2&&i.limit<=h-1&&i.limit>=1},s=()=>{if(r.filter(m=>m).length<2)return!1;const g={...i},y=r.reduce((m,_,b)=>(_&&m.push(g.weights[b]),m),[]);t.onSubmit({...g,weights:y})},l=(h,g)=>{const y=[...r];y[g]=h,n([...y])},u=h=>{a({...i,limit:h})},c=(h,g)=>{const y={...i};y.weights=[...i.weights],y.weights[g]={...i.weights[g],weight:h},a(y)},f=h=>{if(h===1)return!1;h--,u(h)},d=h=>{if(h===i.weights.length-1)return!1;h++,u(h)},p=(h,g)=>{if(h===1)return!1;h--,c(h,g)},v=(h,g)=>{h++,c(h,g)};return T.jsxs(fp,{className:ua.randomItem,children:[T.jsx("h4",{className:ua.title,children:t.title}),T.jsxs("div",{className:ua.randomBody,children:[T.jsx(ige,{t:e,increaseLimit:d,decreaseLimit:f,limit:i.limit}),T.jsx("ul",{className:"".concat(ua.list," ").concat(ua.active),children:i&&i.weights&&i.weights.map((h,g)=>T.jsx(nge,{code:h.code,weight:h.weight,handleChange:y=>l(y,g),decreaseWeight:y=>p(y,g),increaseWeight:y=>v(y,g),checked:(r==null?void 0:r[g])||!1,label:t.getChildLabelByCode(h.code)},g))})]}),T.jsxs("div",{className:ua.randomAction,children:[T.jsx(Ut,{variant:"text",onClick:h=>t.onCancel(),children:e("cancel")}),T.jsx(Ut,{variant:"contained",onClick:h=>s(),disabled:!o(),children:e("submit")})]})]})}function nge({code:t,checked:e,label:r,weight:n,handleChange:i,increaseWeight:a,decreaseWeight:o}){return T.jsxs("li",{className:ua.listItem,children:[T.jsx(Li,{checked:e,onChange:s=>i(s.target.checked)}),T.jsxs("div",{className:"".concat(ua.content," ").concat(ua.label),children:[t,": ",r]}),T.jsxs("div",{className:ua.weight,children:[T.jsx(St,{size:"small",onClick:s=>o(n),children:T.jsx(sb,{})}),T.jsx("span",{children:n}),T.jsx(St,{size:"small",onClick:s=>a(n),children:T.jsx(ub,{})})]})]})}function ige({limit:t,increaseLimit:e,decreaseLimit:r,t:n}){return T.jsxs(T.Fragment,{children:[n("priority_show"),T.jsx(St,{size:"small",onClick:i=>r(t),children:T.jsx(sb,{})}),t,T.jsx(St,{size:"small",onClick:i=>e(t),children:T.jsx(ub,{})})]})}function xv({t,type:e,code:r,hideErrors:n}){var w,k;const i=wt(),[a,o]=J.useState({}),s=ye(E=>E.designState[r]),l=ye(E=>{var I,j,L,M;return((M=(L=(j=(I=E.designState[r])==null?void 0:I.children)==null?void 0:j.filter(R=>e?R.type==e:!0))==null?void 0:L.filter(R=>{var U,V;return((U=R.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((V=R.groupType)==null?void 0:V.toLowerCase())!="end"}))==null?void 0:M.map(R=>R.code))||[]}),u=ye(E=>E.designState.langInfo.lang),c=ye(E=>{var I,j,L;return((L=(j=(I=E.designState[r])==null?void 0:I.children)==null?void 0:j.filter(M=>e?M.type==e:!0))==null?void 0:L.map(M=>{var R,U;return{code:M.code,label:(U=(R=E.designState[M.qualifiedCode].content)==null?void 0:R[u])==null?void 0:U.label}}))||[]}),f=yE(s,"priority_groups"),d=((w=f==null?void 0:f.priorities)==null?void 0:w.filter(E=>e?E.weights.some(I=>l.includes(I.code)):!0))||[];let p=d.map(E=>E.weights).flat().map(E=>E.code).flat();const v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(E=>E.items.some(I=>p.includes(I))))||[],h=E=>{i(e?MR({code:r,priorities:E,type:e}):VR({code:r,priorities:E}))},g=E=>{var j;const I=(j=c.find(L=>L.code==E))==null?void 0:j.label;return I==null?void 0:I.replace(/<[^>]*>/g,"")},y=()=>l.filter(E=>!p.includes(E)),m=E=>{window.confirm(t("are_you_sure"))&&h(d.filter((I,j)=>j!==E))},_=!a||Object.keys(a).length==0,b=E=>{let I=[],j=[];j.weights=[];const L=y();l.forEach(M=>{if(L.includes(M))j.weights.push({code:M,weight:1}),I.push(!1);else{let R=d[E].weights.findIndex(U=>U.code==M);R>-1&&(j.weights.push(d[E].weights[R]),I.push(!0))}j.limit=d[E].limit}),o({index:E,checked:I,title:t("edit_priority_rule"),data:j})},S=()=>{o({})},O=(E,I)=>{const j=d?[...d]:[];j[I]={...E},h(j),S()},x=()=>{const E=y(),I=E.map(j=>({code:j,weight:1}));o({title:t("add_priority_rule"),checked:E.map(j=>!1),data:{limit:1,weights:I},index:d?d.length:0,icon:T.jsx(Cd,{})})},C=E=>{let I=[...E.weights].sort(function(j,L){return l.findIndex(M=>M===j.code)-l.findIndex(M=>M===L.code)});return{...E,weights:I}},A=(E,I)=>{let j=[...E.weights].filter(L=>I.includes(L.code));return j.length<=1&&S(),{limit:Math.min(E.limit,j.length-1),weights:j}};return T.jsxs(T.Fragment,{children:[d&&d.map((E,I)=>T.jsx(Mve,{t,data:C(E),index:I,childrenCodes:l,isBeingEdited:a.index==I,onDeleteClicked:j=>{o({}),m(j)},onEditClicked:j=>b(j),getChildLabelByCode:g},I)),!n&&v.length>0?T.jsx(oF,{errors:v}):"",_&&T.jsxs(Ut,{variant:"contained",disabled:y().length<2,onClick:x,children:[T.jsx(Cd,{sx:{paddingRight:"8px"}})," ",t("add_priority_rule")]}),a&&a.data&&T.jsx(rge,{t,title:a.title,data:A(a.data,l),index:a.index,getChildLabelByCode:g,checked:a.checked,onSubmit:E=>O(E,a.index),onCancel:S})]})}const age="_selectValue_14l81_1",oge={selectValue:age},sge="_errorDisplay_1vtlj_1",lge="_addNew_1vtlj_10",uge={errorDisplay:sge,addNew:lge},cge="_title_1p7e9_1",fge="_list_1p7e9_6",dge="_randomAction_1p7e9_19",pge="_listItem_1p7e9_25",hge="_input_1p7e9_30",vge="_randomItem_1p7e9_34",Mu={title:cge,list:fge,randomAction:dge,listItem:pge,input:hge,randomItem:vge};function gge(t){const e=t.t,[r,n]=J.useState(t.checked),[i,a]=J.useState(t.randomOption),o=()=>r.filter(f=>f).length>=2,s=[e("random_order"),e("flip_order"),e("sort_by_label")],l=["RANDOM","FLIP","ALPHA"],u=()=>{if(r.filter(p=>p).length<2)return!1;const d=r.reduce((p,v,h)=>(v&&p.push(t.data[h]),p),[]);t.onSubmit(d,i)},c=(f,d)=>{const p=[...r];p[d]=f,n([...p])};return T.jsxs(fp,{className:Mu.randomItem,children:[T.jsx("h4",{className:Mu.title,children:t.title}),T.jsx(Dr,{variant:"standard",fullWidth:!0,children:T.jsx(Ki,{id:"select-value",value:i,label:"Select Value",onChange:f=>{a(f.target.value)},children:s.map((f,d)=>T.jsx(Zr,{value:l[d],children:f},f))})}),T.jsx("ul",{className:Mu.list,children:t.data&&t.data.map((f,d)=>T.jsx(mge,{code:f,handleChange:p=>c(p,d),checked:(r==null?void 0:r[d])||!1,label:t.getChildLabelByCode(f)},d))}),T.jsxs("div",{className:Mu.randomAction,children:[T.jsx(Ut,{variant:"text",onClick:f=>t.onCancel(),children:e("cancel")}),T.jsx(Ut,{variant:"contained",onClick:f=>u(),disabled:!o(),children:e("submit")})]})]})}function mge({code:t,label:e,checked:r,handleChange:n}){return T.jsxs("li",{className:Mu.listItem,children:[T.jsx(Li,{checked:r,onChange:i=>n(i.target.checked)}),t,": ",e]})}const yge="_randomHeader_10d2m_1",bge="_title_10d2m_6",_ge="_action_10d2m_11",Sge="_settingIcon_10d2m_15",Oge="_list_10d2m_19",xge="_randomAction_10d2m_30",wge="_listItem_10d2m_36",Ege="_label_10d2m_41",Cge="_input_10d2m_47",Tge="_listItemError_10d2m_51",kge="_randomItem_10d2m_63",Ige="_highlighted_10d2m_68",ui={randomHeader:yge,title:bge,action:_ge,settingIcon:Sge,list:Oge,randomAction:xge,listItem:wge,label:Ege,input:Cge,listItemError:Tge,randomItem:kge,highlighted:Ige},Age=(t,e)=>{switch(t){case"ALPHA":return e("sort_by_label");case"RANDOM":return e("random_order");case"FLIP":return e("flip_order")}throw"unidentified randomOption: "+t};function Pge(t){const e=t.t;return T.jsxs(fp,{className:"".concat(ui.randomItem," ").concat(t.isBeingEdited?ui.highlighted:""),children:[T.jsxs("div",{className:ui.randomHeader,children:[T.jsx("h4",{className:ui.title,children:Age(t.randomOption,e)}),T.jsxs("div",{className:ui.action,children:[T.jsx(St,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(ab,{className:ui.settingIcon})}),T.jsx(St,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Uu,{className:ui.settingIcon})})]})]}),T.jsx("ul",{className:ui.list,children:t.data&&t.data.map((r,n)=>T.jsx(jge,{label:t.getChildLabelByCode(r),code:r,childrenCodes:t.childrenCodes},n))})]})}function jge({code:t,label:e,childrenCodes:r}){return T.jsx("li",{className:r.indexOf(t)!==-1?ui.listItem:ui.listItemError,children:T.jsxs("div",{className:"".concat(ui.content," ").concat(ui.label),children:[t,": ",e]})})}function wv({t,type:e,code:r,hideErrors:n}){var w,k;const i=wt(),[a,o]=J.useState({}),s=ye(E=>E.designState[r]),l=ye(E=>{var I,j,L,M;return((M=(L=(j=(I=E.designState[r])==null?void 0:I.children)==null?void 0:j.filter(R=>e?R.type==e:!0))==null?void 0:L.filter(R=>{var U,V;return((U=R.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((V=R.groupType)==null?void 0:V.toLowerCase())!="end"}))==null?void 0:M.map(R=>R.code))||[]}),u=ye(E=>E.designState.langInfo.lang),c=ye(E=>{var I,j,L;return((L=(j=(I=E.designState[r])==null?void 0:I.children)==null?void 0:j.filter(M=>e?M.type==e:!0))==null?void 0:L.map(M=>{var R,U;return{code:M.code,label:(U=(R=E.designState[M.qualifiedCode].content)==null?void 0:R[u])==null?void 0:U.label}}))||[]}),f=yE(s,"random_group"),d=((w=f==null?void 0:f.groups)==null?void 0:w.filter(E=>e?E.codes.some(I=>l.includes(I)):!0))||[],p=d.map(E=>E.codes).flat(),v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(E=>E.items.some(I=>p.includes(I))))||[],h=E=>{i(e?BR({code:r,groups:E,type:e}):qR({code:r,groups:E}))},g=E=>{var j;const I=(j=c.find(L=>L.code==E))==null?void 0:j.label;return I==null?void 0:I.replace(/<[^>]*>/g,"")},y=E=>l.filter(I=>!p.includes(I)),m=E=>{window.confirm(t("are_you_sure"))&&h(d.filter((I,j)=>j!==E))},_=E=>[...E.codes].sort(function(I,j){return l.findIndex(L=>L===I)-l.findIndex(L=>L===j)}),b=E=>{let I=[],j=[],L=y();j=l.filter(M=>L.includes(M)||d[E].codes.includes(M)),I=j.map(M=>!!d[E].codes.includes(M)),o({index:E,checked:I,randomOption:d[E].randomOption||"RANDOM",title:t("edit_random_rule"),data:j})},S=()=>{o({})},O=!a||Object.keys(a).length==0,x=(E,I,j)=>{const L=d?[...d]:[];L[j]={codes:E,randomOption:I},h(L),S()},C=()=>{const E=y();o({title:t("add_new_random_rule"),data:E,checked:[],randomOption:"RANDOM",index:d?d.length:0})},A=(E,I)=>{let j=[...E].filter(L=>I.includes(L));return j.length<=1&&S(),j};return T.jsxs(T.Fragment,{children:[d&&d.map((E,I)=>T.jsx(Pge,{t,data:_(E),randomOption:E.randomOption,index:I,isBeingEdited:a.index==I,childrenCodes:l,getChildLabelByCode:g,onDeleteClicked:j=>{o({}),m(j)},onEditClicked:j=>b(j)},I)),!n&&v.length>0?T.jsx(oF,{errors:v}):"",O&&T.jsxs(Ut,{className:uge.addNew,variant:"contained",disabled:y().length<2,onClick:C,children:[T.jsx(Fm,{sx:{paddingRight:"8px"}})," ",t("add_random_rule")]}),a&&a.data&&T.jsx(gge,{t,title:a.title,data:A(a.data,l),randomOption:a.randomOption,getChildLabelByCode:g,checked:a.checked,onSubmit:(E,I)=>x(E,I,a.index),onCancel:S})]})}function Lge({t,rule:e,code:r}){const n=wt(),i=ye(u=>u.designState[r][e]||"NONE");let a="",o=[],s=[];switch(e){case"randomize_questions":a=t("questions_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=t("questions_priority"),o=[t("no_priority"),t("prioritise_questions")],s=["NONE","prioritize"];break;case"randomize_groups":a=t("groups_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=t("groups_priority"),o=[t("no_priority"),t("prioritise_groups")],s=["NONE","prioritize"];break;case"randomize_options":a=t("options_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=t("options_priority"),o=[t("no_priority"),t("prioritise_options")],s=["NONE","prioritize"];break;case"randomize_rows":a=t("rows_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=t("rows_priority"),o=[t("no_priority"),t("prioritise_rows")],s=["NONE","prioritize"];break;case"randomize_columns":a=t("columns_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=t("columns_priority"),o=[t("no_priority"),t("prioritise_columns")],s=["NONE","prioritize"];break}const l=u=>{const c=u=="NONE"?void 0:u;n(qn({code:r,key:e,value:c}))};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:a}),T.jsx(Dr,{className:oge.selectValue,variant:"standard",fullWidth:!0,children:T.jsx(Ki,{id:"select-value",value:i,label:"Select Value",onChange:u=>{l(u.target.value)},children:o.map((u,c)=>T.jsx(Zr,{value:s[c],children:u},u))})}),i=="custom"&&["randomize_questions","randomize_options","randomize_groups"].indexOf(e)!==-1&&T.jsx(wv,{label:"",code:r,t}),i=="custom"&&e=="randomize_rows"&&T.jsx(wv,{label:"",type:"row",code:r,t}),i=="prioritize"&&e=="prioritize_rows"&&T.jsx(xv,{label:"",type:"row",code:r,t}),i=="custom"&&e=="randomize_columns"&&T.jsx(wv,{label:"",type:"column",code:r,t}),i=="prioritize"&&e=="prioritize_columns"&&T.jsx(xv,{label:"",type:"column",code:r,t}),i=="prioritize"&&["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(e)!==-1&&T.jsx(xv,{label:"",code:r,t})]})}const Fge=()=>{const{t}=cs("design"),e=wt(),r=ye(i=>i.designState.Survey.navigationMode||mf.GROUP_BY_GROUP),n=i=>{e(qn({code:"Survey",key:"navigationMode",value:i.target.value}))};return T.jsxs(Dr,{fullWidth:!0,children:[T.jsx(l$,{id:"navigation-mode-label",children:t("navigation_mode")}),T.jsxs(Ki,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:t("label.navigation_mode"),onChange:n,children:[T.jsx(Zr,{value:mf.GROUP_BY_GROUP,children:t("group_by_group")}),T.jsx(Zr,{value:mf.QUESTION_BY_QUESTION,children:t("question_by_question")}),T.jsx(Zr,{value:mf.ALL_IN_ONE,children:t("all_in_one")})]})]})},Rge="_theming_1v217_1",$ge="_chooseImage_1v217_12",Nge="_resetButton_1v217_21",Dge="_fontText_1v217_24",Mge="_selectDropdown_1v217_27",Vge="_colorBox_1v217_33",Bge="_colorPickerContainer_1v217_40",Gn={theming:Rge,chooseImage:$ge,resetButton:Nge,fontText:Dge,selectDropdown:Mge,colorBox:Vge,colorPickerContainer:Bge},qge="_themingItem_11qn9_1",Hge="_themingItemBody_11qn9_6",zge="_selectDropdown_11qn9_13",Ev={themingItem:qge,themingItemBody:Hge,selectDropdown:zge};function Cv(t){const e=Array.from({length:12},(n,i)=>i*2+10);function r(n,i){t.onChange({...t.value,[n]:i})}return T.jsx("div",{className:Ev.themingItem,children:T.jsx("div",{className:Ev.themingItemBody,children:T.jsx(Ki,{size:"small",value:t.value.size||t.default.size,onChange:n=>r("size",n.target.value),IconComponent:pE,className:Ev.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:e&&e.length>0&&e.map((n,i)=>T.jsx(Zr,{value:n,children:n},"fontSize-".concat(i)))},"fontSize")})})}var di={},uf={},Uge=ps,Wge=ni,Gge=Oa,Yge="[object String]";function Kge(t){return typeof t=="string"||!Wge(t)&&Gge(t)&&Uge(t)==Yge}var Jge=Kge,Qge=rh;function Xge(t){return typeof t=="function"?t:Qge}var Zge=Xge,eme=M0,tme=Zge;function rme(t,e){return t&&eme(t,tme(e))}var cb=rme,nme=Wl;function ime(t,e){return function(r,n){if(r==null)return r;if(!nme(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var ame=ime,ome=M0,sme=ame,lme=sme(ome),ume=lme,cme=ume,fme=Wl;function dme(t,e){var r=-1,n=fme(t)?Array(t.length):[];return cme(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var pme=dme,hme=Zp,vme=V0,gme=pme,mme=ni;function yme(t,e){var r=mme(t)?hme:gme;return r(t,vme(e))}var bme=yme;Object.defineProperty(uf,"__esModule",{value:!0});uf.flattenNames=void 0;var _me=Jge,Sme=mh(_me),Ome=cb,xme=mh(Ome),wme=f0,Eme=mh(wme),Cme=bme,Tme=mh(Cme);function mh(t){return t&&t.__esModule?t:{default:t}}var kme=uf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,Tme.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,Eme.default)(n)?(0,xme.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,Sme.default)(n)&&r.push(n)}),r};uf.default=kme;var cf={},Ime=NI,Ame=1,Pme=4;function jme(t){return Ime(t,Ame|Pme)}var Lme=jme;Object.defineProperty(cf,"__esModule",{value:!0});cf.mergeClasses=void 0;var Fme=cb,Rme=sF(Fme),$me=Lme,Nme=sF($me),Dme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function sF(t){return t&&t.__esModule?t:{default:t}}var Mme=cf.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,Nme.default)(e.default)||{};return r.map(function(i){var a=e[i];return a&&(0,Rme.default)(a,function(o,s){n[s]||(n[s]={}),n[s]=Dme({},n[s],a[s])}),i}),n};cf.default=Mme;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.autoprefix=void 0;var Vme=cb,gw=qme(Vme),Bme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function qme(t){return t&&t.__esModule?t:{default:t}}var Hme={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},zme=ff.autoprefix=function(e){var r={};return(0,gw.default)(e,function(n,i){var a={};(0,gw.default)(n,function(o,s){var l=Hme[s];l?a=Bme({},a,l(o)):a[s]=o}),r[i]=a}),r};ff.default=zme;var df={};Object.defineProperty(df,"__esModule",{value:!0});df.hover=void 0;var Ume=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wme=J,Tv=Gme(Wme);function Gme(t){return t&&t.__esModule?t:{default:t}}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jme=df.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Kme(i,n);function i(){var a,o,s,l;Yme(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=mw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return Tv.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},Tv.default.createElement(e,Ume({},s.props,s.state)))},o),mw(s,l)}return i}(Tv.default.Component)};df.default=Jme;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.active=void 0;var Qme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xme=J,kv=Zme(Xme);function Zme(t){return t&&t.__esModule?t:{default:t}}function eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rye=pf.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){tye(i,n);function i(){var a,o,s,l;eye(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=yw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return kv.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},kv.default.createElement(e,Qme({},s.props,s.state)))},o),yw(s,l)}return i}(kv.default.Component)};pf.default=rye;var fb={};Object.defineProperty(fb,"__esModule",{value:!0});var nye=function(e,r){var n={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};fb.default=nye;Object.defineProperty(di,"__esModule",{value:!0});di.ReactCSS=di.loop=di.handleActive=db=di.handleHover=di.hover=void 0;var iye=uf,aye=yu(iye),oye=cf,sye=yu(oye),lye=ff,uye=yu(lye),cye=df,lF=yu(cye),fye=pf,dye=yu(fye),pye=fb,hye=yu(pye);function yu(t){return t&&t.__esModule?t:{default:t}}di.hover=lF.default;var db=di.handleHover=lF.default;di.handleActive=dye.default;di.loop=hye.default;var vye=di.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,aye.default)(n),o=(0,sye.default)(e,a);return(0,uye.default)(o)},rt=di.default=vye,gye=function(e,r,n,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),f=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0?d=0:f>s?d=1:d=Math.round(f*100/s)/100,r.a!==d)return{h:r.h,s:r.s,l:r.l,a:d,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>o?p=1:p=Math.round(c*100/o)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},Iv={},mye=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=r,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null},yye=function(e,r,n,i){var a=e+"-"+r+"-"+n+(i?"-server":"");if(Iv[a])return Iv[a];var o=mye(e,r,n,i);return Iv[a]=o,o},bw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu=function(e){var r=e.white,n=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,u=rt({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+yye(r,n,i,a.canvas)+") center left"}}});return J.isValidElement(l)?P.cloneElement(l,bw({},l.props,{style:bw({},l.props.style,u.grid)})):P.createElement("div",{style:u.grid})};bu.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var bye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_ye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pb=function(t){Oye(e,t);function e(){var r,n,i,a;Sye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=_w(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=gye(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),_w(i,a)}return _ye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=rt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:bye({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:a.alpha},P.createElement("div",{style:a.checkboard},P.createElement(bu,{renderers:this.props.renderers})),P.createElement("div",{style:a.gradient}),P.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:a.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:a.slider}))))}}]),e}(J.PureComponent||J.Component),xye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function wye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kye=1,uF=38,Iye=40,Aye=[uF,Iye],Pye=function(e){return Aye.indexOf(e)>-1},jye=function(e){return Number(String(e).replace(/%/g,""))},Lye=1,Tt=function(t){Tye(e,t);function e(r){Eye(this,e);var n=Cye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=jye(i.target.value);if(!isNaN(a)&&Pye(i.keyCode)){var o=n.getArrowOffset(),s=i.keyCode===uF?a+o:a-o;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Lye++,n}return xye(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return wye({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||kye}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=rt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:i.wrap},P.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return n.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(J.PureComponent||J.Component),Fye=function(e,r,n,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(c<0)f=359;else if(c>o)f=0;else{var d=-(c*100/o)+100;f=360*d/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>a)p=359;else{var v=u*100/a;p=360*v/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Rye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function $ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _u=function(t){Nye(e,t);function e(){var r,n,i,a;$ye(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=Sw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=Fye(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Sw(i,a)}return Rye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,o=rt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+a,style:o.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),e}(J.PureComponent||J.Component);function Dye(){this.__data__=[],this.size=0}function hf(t,e){return t===e||t!==t&&e!==e}function yh(t,e){for(var r=t.length;r--;)if(hf(t[r][0],e))return r;return-1}var Mye=Array.prototype,Vye=Mye.splice;function Bye(t){var e=this.__data__,r=yh(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Vye.call(e,r,1),--this.size,!0}function qye(t){var e=this.__data__,r=yh(e,t);return r<0?void 0:e[r][1]}function Hye(t){return yh(this.__data__,t)>-1}function zye(t,e){var r=this.__data__,n=yh(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Qa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qa.prototype.clear=Dye;Qa.prototype.delete=Bye;Qa.prototype.get=qye;Qa.prototype.has=Hye;Qa.prototype.set=zye;function Uye(){this.__data__=new Qa,this.size=0}function Wye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Gye(t){return this.__data__.get(t)}function Yye(t){return this.__data__.has(t)}var cF=typeof global=="object"&&global&&global.Object===Object&&global,Kye=typeof self=="object"&&self&&self.Object===Object&&self,ea=cF||Kye||Function("return this")(),To=ea.Symbol,fF=Object.prototype,Jye=fF.hasOwnProperty,Qye=fF.toString,ju=To?To.toStringTag:void 0;function Xye(t){var e=Jye.call(t,ju),r=t[ju];try{t[ju]=void 0;var n=!0}catch(a){}var i=Qye.call(t);return n&&(e?t[ju]=r:delete t[ju]),i}var Zye=Object.prototype,e0e=Zye.toString;function t0e(t){return e0e.call(t)}var r0e="[object Null]",n0e="[object Undefined]",Ow=To?To.toStringTag:void 0;function Cs(t){return t==null?t===void 0?n0e:r0e:Ow&&Ow in Object(t)?Xye(t):t0e(t)}function wi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var i0e="[object AsyncFunction]",a0e="[object Function]",o0e="[object GeneratorFunction]",s0e="[object Proxy]";function hb(t){if(!wi(t))return!1;var e=Cs(t);return e==a0e||e==o0e||e==i0e||e==s0e}var Av=ea["__core-js_shared__"],xw=function(){var t=/[^.]+$/.exec(Av&&Av.keys&&Av.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l0e(t){return!!xw&&xw in t}var u0e=Function.prototype,c0e=u0e.toString;function Ts(t){if(t!=null){try{return c0e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var f0e=/[\\^$.*+?()[\]{}|]/g,d0e=/^\[object .+?Constructor\]$/,p0e=Function.prototype,h0e=Object.prototype,v0e=p0e.toString,g0e=h0e.hasOwnProperty,m0e=RegExp("^"+v0e.call(g0e).replace(f0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y0e(t){if(!wi(t)||l0e(t))return!1;var e=hb(t)?m0e:d0e;return e.test(Ts(t))}function b0e(t,e){return t==null?void 0:t[e]}function ks(t,e){var r=b0e(t,e);return y0e(r)?r:void 0}var Cc=ks(ea,"Map"),Tc=ks(Object,"create");function _0e(){this.__data__=Tc?Tc(null):{},this.size=0}function S0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var O0e="__lodash_hash_undefined__",x0e=Object.prototype,w0e=x0e.hasOwnProperty;function E0e(t){var e=this.__data__;if(Tc){var r=e[t];return r===O0e?void 0:r}return w0e.call(e,t)?e[t]:void 0}var C0e=Object.prototype,T0e=C0e.hasOwnProperty;function k0e(t){var e=this.__data__;return Tc?e[t]!==void 0:T0e.call(e,t)}var I0e="__lodash_hash_undefined__";function A0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tc&&e===void 0?I0e:e,this}function ss(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ss.prototype.clear=_0e;ss.prototype.delete=S0e;ss.prototype.get=E0e;ss.prototype.has=k0e;ss.prototype.set=A0e;function P0e(){this.size=0,this.__data__={hash:new ss,map:new(Cc||Qa),string:new ss}}function j0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bh(t,e){var r=t.__data__;return j0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function L0e(t){var e=bh(this,t).delete(t);return this.size-=e?1:0,e}function F0e(t){return bh(this,t).get(t)}function R0e(t){return bh(this,t).has(t)}function $0e(t,e){var r=bh(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Xa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xa.prototype.clear=P0e;Xa.prototype.delete=L0e;Xa.prototype.get=F0e;Xa.prototype.has=R0e;Xa.prototype.set=$0e;var N0e=200;function D0e(t,e){var r=this.__data__;if(r instanceof Qa){var n=r.__data__;if(!Cc||n.length<N0e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Xa(n)}return r.set(t,e),this.size=r.size,this}function ma(t){var e=this.__data__=new Qa(t);this.size=e.size}ma.prototype.clear=Uye;ma.prototype.delete=Wye;ma.prototype.get=Gye;ma.prototype.has=Yye;ma.prototype.set=D0e;var tp=function(){try{var t=ks(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();function vb(t,e,r){e=="__proto__"&&tp?tp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Wg(t,e,r){(r!==void 0&&!hf(t[e],r)||r===void 0&&!(e in t))&&vb(t,e,r)}function M0e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return e}}var dF=M0e(),pF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ww=pF&&typeof module=="object"&&module&&!module.nodeType&&module,V0e=ww&&ww.exports===pF,Ew=V0e?ea.Buffer:void 0;Ew&&Ew.allocUnsafe;function B0e(t,e){return t.slice()}var rp=ea.Uint8Array;function q0e(t){var e=new t.constructor(t.byteLength);return new rp(e).set(new rp(t)),e}function H0e(t,e){var r=q0e(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function z0e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Cw=Object.create,U0e=function(){function t(){}return function(e){if(!wi(e))return{};if(Cw)return Cw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function hF(t,e){return function(r){return t(e(r))}}var vF=hF(Object.getPrototypeOf,Object),W0e=Object.prototype;function gb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||W0e;return t===r}function G0e(t){return typeof t.constructor=="function"&&!gb(t)?U0e(vF(t)):{}}function ko(t){return t!=null&&typeof t=="object"}var Y0e="[object Arguments]";function Tw(t){return ko(t)&&Cs(t)==Y0e}var gF=Object.prototype,K0e=gF.hasOwnProperty,J0e=gF.propertyIsEnumerable,np=Tw(function(){return arguments}())?Tw:function(t){return ko(t)&&K0e.call(t,"callee")&&!J0e.call(t,"callee")},ti=Array.isArray,Q0e=9007199254740991;function mb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Q0e}function Su(t){return t!=null&&mb(t.length)&&!hb(t)}function X0e(t){return ko(t)&&Su(t)}function Z0e(){return!1}var mF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kw=mF&&typeof module=="object"&&module&&!module.nodeType&&module,ebe=kw&&kw.exports===mF,Iw=ebe?ea.Buffer:void 0,tbe=Iw?Iw.isBuffer:void 0,ip=tbe||Z0e,rbe="[object Object]",nbe=Function.prototype,ibe=Object.prototype,yF=nbe.toString,abe=ibe.hasOwnProperty,obe=yF.call(Object);function sbe(t){if(!ko(t)||Cs(t)!=rbe)return!1;var e=vF(t);if(e===null)return!0;var r=abe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&yF.call(r)==obe}var lbe="[object Arguments]",ube="[object Array]",cbe="[object Boolean]",fbe="[object Date]",dbe="[object Error]",pbe="[object Function]",hbe="[object Map]",vbe="[object Number]",gbe="[object Object]",mbe="[object RegExp]",ybe="[object Set]",bbe="[object String]",_be="[object WeakMap]",Sbe="[object ArrayBuffer]",Obe="[object DataView]",xbe="[object Float32Array]",wbe="[object Float64Array]",Ebe="[object Int8Array]",Cbe="[object Int16Array]",Tbe="[object Int32Array]",kbe="[object Uint8Array]",Ibe="[object Uint8ClampedArray]",Abe="[object Uint16Array]",Pbe="[object Uint32Array]",dr={};dr[xbe]=dr[wbe]=dr[Ebe]=dr[Cbe]=dr[Tbe]=dr[kbe]=dr[Ibe]=dr[Abe]=dr[Pbe]=!0;dr[lbe]=dr[ube]=dr[Sbe]=dr[cbe]=dr[Obe]=dr[fbe]=dr[dbe]=dr[pbe]=dr[hbe]=dr[vbe]=dr[gbe]=dr[mbe]=dr[ybe]=dr[bbe]=dr[_be]=!1;function jbe(t){return ko(t)&&mb(t.length)&&!!dr[Cs(t)]}function Lbe(t){return function(e){return t(e)}}var bF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tc=bF&&typeof module=="object"&&module&&!module.nodeType&&module,Fbe=tc&&tc.exports===bF,Pv=Fbe&&cF.process,Aw=function(){try{var t=tc&&tc.require&&tc.require("util").types;return t||Pv&&Pv.binding&&Pv.binding("util")}catch(e){}}(),Pw=Aw&&Aw.isTypedArray,yb=Pw?Lbe(Pw):jbe;function Gg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Rbe=Object.prototype,$be=Rbe.hasOwnProperty;function Nbe(t,e,r){var n=t[e];(!($be.call(t,e)&&hf(n,r))||r===void 0&&!(e in t))&&vb(t,e,r)}function Dbe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=void 0;l===void 0&&(l=t[s]),i?vb(r,s,l):Nbe(r,s,l)}return r}function Mbe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Vbe=9007199254740991,Bbe=/^(?:0|[1-9]\d*)$/;function bb(t,e){var r=typeof t;return e=e==null?Vbe:e,!!e&&(r=="number"||r!="symbol"&&Bbe.test(t))&&t>-1&&t%1==0&&t<e}var qbe=Object.prototype,Hbe=qbe.hasOwnProperty;function _F(t,e){var r=ti(t),n=!r&&np(t),i=!r&&!n&&ip(t),a=!r&&!n&&!i&&yb(t),o=r||n||i||a,s=o?Mbe(t.length,String):[],l=s.length;for(var u in t)(e||Hbe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bb(u,l)))&&s.push(u);return s}function zbe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Ube=Object.prototype,Wbe=Ube.hasOwnProperty;function Gbe(t){if(!wi(t))return zbe(t);var e=gb(t),r=[];for(var n in t)n=="constructor"&&(e||!Wbe.call(t,n))||r.push(n);return r}function SF(t){return Su(t)?_F(t,!0):Gbe(t)}function Ybe(t){return Dbe(t,SF(t))}function Kbe(t,e,r,n,i,a,o){var s=Gg(t,r),l=Gg(e,r),u=o.get(l);if(u){Wg(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=ti(l),p=!d&&ip(l),v=!d&&!p&&yb(l);c=l,d||p||v?ti(s)?c=s:X0e(s)?c=z0e(s):p?(f=!1,c=B0e(l)):v?(f=!1,c=H0e(l)):c=[]:sbe(l)||np(l)?(c=s,np(s)?c=Ybe(s):(!wi(s)||hb(s))&&(c=G0e(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Wg(t,r,c)}function OF(t,e,r,n,i){t!==e&&dF(e,function(a,o){if(i||(i=new ma),wi(a))Kbe(t,e,o,r,OF,n,i);else{var s=n?n(Gg(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Wg(t,o,s)}},SF)}function _h(t){return t}function Jbe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var jw=Math.max;function Qbe(t,e,r){return e=jw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=jw(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Jbe(t,this,s)}}function Xbe(t){return function(){return t}}var Zbe=tp?function(t,e){return tp(t,"toString",{configurable:!0,enumerable:!1,value:Xbe(e),writable:!0})}:_h,e1e=800,t1e=16,r1e=Date.now;function n1e(t){var e=0,r=0;return function(){var n=r1e(),i=t1e-(n-r);if(r=n,i>0){if(++e>=e1e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i1e=n1e(Zbe);function a1e(t,e){return i1e(Qbe(t,e,_h),t+"")}function o1e(t,e,r){if(!wi(r))return!1;var n=typeof e;return(n=="number"?Su(r)&&bb(e,r.length):n=="string"&&e in r)?hf(r[e],t):!1}function s1e(t){return a1e(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&o1e(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var zn=s1e(function(t,e,r){OF(t,e,r)}),vf=function(e){var r=e.zDepth,n=e.radius,i=e.background,a=e.children,o=e.styles,s=o===void 0?{}:o,l=rt(zn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return P.createElement("div",{style:l.wrap},P.createElement("div",{style:l.bg}),P.createElement("div",{style:l.content},a))};vf.propTypes={background:W.string,zDepth:W.oneOf([0,1,2,3,4,5]),radius:W.number,styles:W.object};vf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var jv=function(){return ea.Date.now()},l1e=/\s/;function u1e(t){for(var e=t.length;e--&&l1e.test(t.charAt(e)););return e}var c1e=/^\s+/;function f1e(t){return t&&t.slice(0,u1e(t)+1).replace(c1e,"")}var d1e="[object Symbol]";function Sh(t){return typeof t=="symbol"||ko(t)&&Cs(t)==d1e}var Lw=NaN,p1e=/^[-+]0x[0-9a-f]+$/i,h1e=/^0b[01]+$/i,v1e=/^0o[0-7]+$/i,g1e=parseInt;function Fw(t){if(typeof t=="number")return t;if(Sh(t))return Lw;if(wi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=f1e(t);var r=h1e.test(t);return r||v1e.test(t)?g1e(t.slice(2),r?2:8):p1e.test(t)?Lw:+t}var m1e="Expected a function",y1e=Math.max,b1e=Math.min;function xF(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(m1e);e=Fw(e)||0,wi(r)&&(c=!!r.leading,f="maxWait"in r,a=f?y1e(Fw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,C=i;return n=i=void 0,u=O,o=t.apply(C,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,C=O-u,A=e-x;return f?b1e(A,a-C):A}function g(O){var x=O-l,C=O-u;return l===void 0||x>=e||x<0||f&&C>=a}function y(){var O=jv();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(jv())}function S(){var O=jv(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var _1e="Expected a function";function S1e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_1e);return wi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),xF(t,e,{leading:n,maxWait:e,trailing:i})}var O1e=function(e,r,n){var i=n.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),c=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),c<0?c=0:c>o&&(c=o);var f=u/a,d=1-c/o;return{h:r.h,s:f,v:d,a:r.a,source:"hsv"}},x1e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function w1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function C1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oh=function(t){C1e(e,t);function e(r){w1e(this,e);var n=E1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,O1e(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=S1e(function(i,a,o){i(a,o)},50),n}return x1e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,o=i.white,s=i.black,l=i.pointer,u=i.circle,c=rt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:o,black:s,pointer:l,circle:u}},{custom:!!this.props.style});return P.createElement("div",{style:c.color,ref:function(d){return n.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),P.createElement("div",{style:c.white,className:"saturation-white"},P.createElement("div",{style:c.black,className:"saturation-black"}),P.createElement("div",{style:c.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:c.circle}))))}}]),e}(J.PureComponent||J.Component);function T1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var k1e=hF(Object.keys,Object),I1e=Object.prototype,A1e=I1e.hasOwnProperty;function P1e(t){if(!gb(t))return k1e(t);var e=[];for(var r in Object(t))A1e.call(t,r)&&r!="constructor"&&e.push(r);return e}function _b(t){return Su(t)?_F(t):P1e(t)}function j1e(t,e){return t&&dF(t,e,_b)}function L1e(t,e){return function(r,n){if(r==null)return r;if(!Su(r))return t(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var wF=L1e(j1e);function F1e(t){return typeof t=="function"?t:_h}function R1e(t,e){var r=ti(t)?T1e:wF;return r(t,F1e(e))}function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var $1e=/^\s+/,N1e=/\s+$/;function He(t,e){if(t=t||"",e=e||{},t instanceof He)return t;if(!(this instanceof He))return new He(t,e);var r=D1e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}He.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,a,o,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=EF(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$w(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$w(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Rw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Rw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Nw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return q1e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wr(this._r,255)*100)+"%",g:Math.round(wr(this._g,255)*100)+"%",b:Math.round(wr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%)":"rgba("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:e_e[Nw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Dw(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=He(e);n="#"+Dw(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return He(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(W1e,arguments)},brighten:function(){return this._applyModification(G1e,arguments)},darken:function(){return this._applyModification(Y1e,arguments)},desaturate:function(){return this._applyModification(H1e,arguments)},saturate:function(){return this._applyModification(z1e,arguments)},greyscale:function(){return this._applyModification(U1e,arguments)},spin:function(){return this._applyModification(K1e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(X1e,arguments)},complement:function(){return this._applyCombination(J1e,arguments)},monochromatic:function(){return this._applyCombination(Z1e,arguments)},splitcomplement:function(){return this._applyCombination(Q1e,arguments)},triad:function(){return this._applyCombination(Mw,[3])},tetrad:function(){return this._applyCombination(Mw,[4])}};He.fromRatio=function(t,e){if(ap(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Vu(t[n]));t=r}return He(t,e)};function D1e(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=i_e(t)),ap(t)=="object"&&(ja(t.r)&&ja(t.g)&&ja(t.b)?(e=M1e(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ja(t.h)&&ja(t.s)&&ja(t.v)?(n=Vu(t.s),i=Vu(t.v),e=B1e(t.h,n,i),o=!0,s="hsv"):ja(t.h)&&ja(t.s)&&ja(t.l)&&(n=Vu(t.s),a=Vu(t.l),e=V1e(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=EF(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function M1e(t,e,r){return{r:wr(t,255)*255,g:wr(e,255)*255,b:wr(r,255)*255}}function Rw(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function V1e(t,e,r){var n,i,a;t=wr(t,360),e=wr(e,100),r=wr(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function $w(t,e,r){t=wr(t,255),e=wr(e,255),r=wr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=n,l=n-i;if(o=n===0?0:l/n,n==i)a=0;else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function B1e(t,e,r){t=wr(t,360)*6,e=wr(e,100),r=wr(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,u=[r,o,a,a,s,r][l],c=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function Nw(t,e,r,n){var i=[Mi(Math.round(t).toString(16)),Mi(Math.round(e).toString(16)),Mi(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function q1e(t,e,r,n,i){var a=[Mi(Math.round(t).toString(16)),Mi(Math.round(e).toString(16)),Mi(Math.round(r).toString(16)),Mi(CF(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Dw(t,e,r,n){var i=[Mi(CF(n)),Mi(Math.round(t).toString(16)),Mi(Math.round(e).toString(16)),Mi(Math.round(r).toString(16))];return i.join("")}He.equals=function(t,e){return!t||!e?!1:He(t).toRgbString()==He(e).toRgbString()};He.random=function(){return He.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function H1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s-=e/100,r.s=xh(r.s),He(r)}function z1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s+=e/100,r.s=xh(r.s),He(r)}function U1e(t){return He(t).desaturate(100)}function W1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l+=e/100,r.l=xh(r.l),He(r)}function G1e(t,e){e=e===0?0:e||10;var r=He(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),He(r)}function Y1e(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l-=e/100,r.l=xh(r.l),He(r)}function K1e(t,e){var r=He(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,He(r)}function J1e(t){var e=He(t).toHsl();return e.h=(e.h+180)%360,He(e)}function Mw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=He(t).toHsl(),n=[He(t)],i=360/e,a=1;a<e;a++)n.push(He({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function Q1e(t){var e=He(t).toHsl(),r=e.h;return[He(t),He({h:(r+72)%360,s:e.s,l:e.l}),He({h:(r+216)%360,s:e.s,l:e.l})]}function X1e(t,e,r){e=e||6,r=r||30;var n=He(t).toHsl(),i=360/r,a=[He(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(He(n));return a}function Z1e(t,e){e=e||6;for(var r=He(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(He({h:n,s:i,v:a})),a=(a+s)%1;return o}He.mix=function(t,e,r){r=r===0?0:r||50;var n=He(t).toRgb(),i=He(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return He(o)};He.readability=function(t,e){var r=He(t),n=He(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};He.isReadable=function(t,e,r){var n=He.readability(t,e),i,a;switch(a=!1,i=a_e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};He.mostReadable=function(t,e,r){var n=null,i=0,a,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<e.length;u++)a=He.readability(t,e[u]),a>i&&(i=a,n=He(e[u]));return He.isReadable(t,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,He.mostReadable(t,["#fff","#000"],r))};var Yg=He.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},e_e=He.hexNames=t_e(Yg);function t_e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function EF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function wr(t,e){r_e(t)&&(t="100%");var r=n_e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function xh(t){return Math.min(1,Math.max(0,t))}function Yn(t){return parseInt(t,16)}function r_e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function n_e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Mi(t){return t.length==1?"0"+t:""+t}function Vu(t){return t<=1&&(t=t*100+"%"),t}function CF(t){return Math.round(parseFloat(t)*255).toString(16)}function Vw(t){return Yn(t)/255}var Pi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ja(t){return!!Pi.CSS_UNIT.exec(t)}function i_e(t){t=t.replace($1e,"").replace(N1e,"").toLowerCase();var e=!1;if(Yg[t])t=Yg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Pi.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Pi.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Pi.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Pi.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Pi.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Pi.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Pi.hex8.exec(t))?{r:Yn(r[1]),g:Yn(r[2]),b:Yn(r[3]),a:Vw(r[4]),format:e?"name":"hex8"}:(r=Pi.hex6.exec(t))?{r:Yn(r[1]),g:Yn(r[2]),b:Yn(r[3]),format:e?"name":"hex"}:(r=Pi.hex4.exec(t))?{r:Yn(r[1]+""+r[1]),g:Yn(r[2]+""+r[2]),b:Yn(r[3]+""+r[3]),a:Vw(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Pi.hex3.exec(t))?{r:Yn(r[1]+""+r[1]),g:Yn(r[2]+""+r[2]),b:Yn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function a_e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var Bw=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return R1e(r,function(a){if(e[a]&&(n+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),n===i?e:!1},Bu=function(e,r){var n=e.hex?He(e.hex):He(e),i=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:o,hsv:a,oldHue:e.h||r||i.h,source:e.source}},No=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&He(e).isValid()},Sb=function(e){if(!e)return"#fff";var r=Bu(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Lv=function(e,r){var n=e.replace("°","");return He(r+" ("+n+")")._ok},Lu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function u_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Un=function(e){var r=function(n){u_e(i,n);function i(a){s_e(this,i);var o=l_e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(s,l){var u=Bw(s);if(u){var c=Bu(s,s.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(s,l){var u=Bw(s);if(u){var c=Bu(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Lu({},Bu(a.color,0)),o.debounce=xF(function(s,l,u){s(l,u)},100),o}return o_e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),P.createElement(e,Lu({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return Lu({},Bu(o.color,s.oldHue))}}]),i}(J.PureComponent||J.Component);return r.propTypes=Lu({},e.propTypes),r.defaultProps=Lu({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},c_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function d_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function p_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){p_e(i,n);function i(){var a,o,s,l;d_e(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=qw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),qw(s,l)}return f_e(i,[{key:"render",value:function(){return P.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,c_e({},this.props,this.state)))}}]),i}(P.Component)},Hw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v_e=13,g_e=function(e){var r=e.color,n=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?r:s,u=e.children,c=e.focus,f=e.focusStyle,d=f===void 0?{}:f,p=r==="transparent",v=rt({default:{swatch:Hw({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),h=function(b){return a(r,b)},g=function(b){return b.keyCode===v_e&&a(r,b)},y=function(b){return o(r,b)},m={};return o&&(m.onMouseOver=y),P.createElement("div",Hw({style:v.swatch,onClick:h,title:l,tabIndex:0,onKeyDown:g},m),u,p&&P.createElement(bu,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Is=h_e(g_e);var m_e=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return P.createElement("div",{style:n.picker})},y_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TF=function(e){var r=e.rgb,n=e.hsl,i=e.width,a=e.height,o=e.onChange,s=e.direction,l=e.style,u=e.renderers,c=e.pointer,f=e.className,d=f===void 0?"":f,p=rt({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return P.createElement("div",{style:p.picker,className:"alpha-picker "+d},P.createElement(pb,y_e({},p.alpha,{rgb:r,hsl:n,pointer:c,renderers:u,onChange:o,direction:s})))};TF.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:m_e};Un(TF);function kF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var b_e="__lodash_hash_undefined__";function __e(t){return this.__data__.set(t,b_e),this}function S_e(t){return this.__data__.has(t)}function op(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Xa;++e<r;)this.add(t[e])}op.prototype.add=op.prototype.push=__e;op.prototype.has=S_e;function O_e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function x_e(t,e){return t.has(e)}var w_e=1,E_e=2;function IF(t,e,r,n,i,a){var o=r&w_e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&E_e?new op:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!O_e(e,function(y,m){if(!x_e(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function C_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function T_e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var k_e=1,I_e=2,A_e="[object Boolean]",P_e="[object Date]",j_e="[object Error]",L_e="[object Map]",F_e="[object Number]",R_e="[object RegExp]",$_e="[object Set]",N_e="[object String]",D_e="[object Symbol]",M_e="[object ArrayBuffer]",V_e="[object DataView]",zw=To?To.prototype:void 0,Fv=zw?zw.valueOf:void 0;function B_e(t,e,r,n,i,a,o){switch(r){case V_e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M_e:return!(t.byteLength!=e.byteLength||!a(new rp(t),new rp(e)));case A_e:case P_e:case F_e:return hf(+t,+e);case j_e:return t.name==e.name&&t.message==e.message;case R_e:case N_e:return t==e+"";case L_e:var s=C_e;case $_e:var l=n&k_e;if(s||(s=T_e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=I_e,o.set(t,e);var c=IF(s(t),s(e),n,i,a,o);return o.delete(t),c;case D_e:if(Fv)return Fv.call(t)==Fv.call(e)}return!1}function q_e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function H_e(t,e,r){var n=e(t);return ti(t)?n:q_e(n,r(t))}function z_e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function U_e(){return[]}var W_e=Object.prototype,G_e=W_e.propertyIsEnumerable,Uw=Object.getOwnPropertySymbols,Y_e=Uw?function(t){return t==null?[]:(t=Object(t),z_e(Uw(t),function(e){return G_e.call(t,e)}))}:U_e;function Ww(t){return H_e(t,_b,Y_e)}var K_e=1,J_e=Object.prototype,Q_e=J_e.hasOwnProperty;function X_e(t,e,r,n,i,a){var o=r&K_e,s=Ww(t),l=s.length,u=Ww(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:Q_e.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var Kg=ks(ea,"DataView"),Jg=ks(ea,"Promise"),Qg=ks(ea,"Set"),Xg=ks(ea,"WeakMap"),Gw="[object Map]",Z_e="[object Object]",Yw="[object Promise]",Kw="[object Set]",Jw="[object WeakMap]",Qw="[object DataView]",eSe=Ts(Kg),tSe=Ts(Cc),rSe=Ts(Jg),nSe=Ts(Qg),iSe=Ts(Xg),lo=Cs;(Kg&&lo(new Kg(new ArrayBuffer(1)))!=Qw||Cc&&lo(new Cc)!=Gw||Jg&&lo(Jg.resolve())!=Yw||Qg&&lo(new Qg)!=Kw||Xg&&lo(new Xg)!=Jw)&&(lo=function(t){var e=Cs(t),r=e==Z_e?t.constructor:void 0,n=r?Ts(r):"";if(n)switch(n){case eSe:return Qw;case tSe:return Gw;case rSe:return Yw;case nSe:return Kw;case iSe:return Jw}return e});var aSe=1,Xw="[object Arguments]",Zw="[object Array]",Kf="[object Object]",oSe=Object.prototype,eE=oSe.hasOwnProperty;function sSe(t,e,r,n,i,a){var o=ti(t),s=ti(e),l=o?Zw:lo(t),u=s?Zw:lo(e);l=l==Xw?Kf:l,u=u==Xw?Kf:u;var c=l==Kf,f=u==Kf,d=l==u;if(d&&ip(t)){if(!ip(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new ma),o||yb(t)?IF(t,e,r,n,i,a):B_e(t,e,l,r,n,i,a);if(!(r&aSe)){var p=c&&eE.call(t,"__wrapped__"),v=f&&eE.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new ma),i(h,g,r,n,a)}}return d?(a||(a=new ma),X_e(t,e,r,n,i,a)):!1}function Ob(t,e,r,n,i){return t===e?!0:t==null||e==null||!ko(t)&&!ko(e)?t!==t&&e!==e:sSe(t,e,r,n,Ob,i)}var lSe=1,uSe=2;function cSe(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new ma,f;if(!(f===void 0?Ob(u,l,lSe|uSe,n,c):f))return!1}}return!0}function AF(t){return t===t&&!wi(t)}function fSe(t){for(var e=_b(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,AF(i)]}return e}function PF(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function dSe(t){var e=fSe(t);return e.length==1&&e[0][2]?PF(e[0][0],e[0][1]):function(r){return r===t||cSe(r,t,e)}}var pSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hSe=/^\w*$/;function xb(t,e){if(ti(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Sh(t)?!0:hSe.test(t)||!pSe.test(t)||e!=null&&t in Object(e)}var vSe="Expected a function";function wb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vSe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(wb.Cache||Xa),r}wb.Cache=Xa;var gSe=500;function mSe(t){var e=wb(t,function(n){return r.size===gSe&&r.clear(),n}),r=e.cache;return e}var ySe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bSe=/\\(\\)?/g,_Se=mSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ySe,function(r,n,i,a){e.push(i?a.replace(bSe,"$1"):n||r)}),e}),SSe=1/0,tE=To?To.prototype:void 0,rE=tE?tE.toString:void 0;function jF(t){if(typeof t=="string")return t;if(ti(t))return kF(t,jF)+"";if(Sh(t))return rE?rE.call(t):"";var e=t+"";return e=="0"&&1/t==-SSe?"-0":e}function OSe(t){return t==null?"":jF(t)}function LF(t,e){return ti(t)?t:xb(t,e)?[t]:_Se(OSe(t))}var xSe=1/0;function wh(t){if(typeof t=="string"||Sh(t))return t;var e=t+"";return e=="0"&&1/t==-xSe?"-0":e}function FF(t,e){e=LF(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wh(e[r++])];return r&&r==n?t:void 0}function wSe(t,e,r){var n=t==null?void 0:FF(t,e);return n===void 0?r:n}function ESe(t,e){return t!=null&&e in Object(t)}function CSe(t,e,r){e=LF(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=wh(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&mb(i)&&bb(o,i)&&(ti(t)||np(t)))}function TSe(t,e){return t!=null&&CSe(t,e,ESe)}var kSe=1,ISe=2;function ASe(t,e){return xb(t)&&AF(e)?PF(wh(t),e):function(r){var n=wSe(r,t);return n===void 0&&n===e?TSe(r,t):Ob(e,n,kSe|ISe)}}function PSe(t){return function(e){return e==null?void 0:e[t]}}function jSe(t){return function(e){return FF(e,t)}}function LSe(t){return xb(t)?PSe(wh(t)):jSe(t)}function FSe(t){return typeof t=="function"?t:t==null?_h:typeof t=="object"?ti(t)?ASe(t[0],t[1]):dSe(t):LSe(t)}function RSe(t,e){var r=-1,n=Su(t)?Array(t.length):[];return wF(t,function(i,a,o){n[++r]=e(i,a,o)}),n}function As(t,e){var r=ti(t)?kF:RSe;return r(t,FSe(e))}var $Se=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,a=rt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:a.swatches},As(r,function(o){return P.createElement(Is,{key:o,color:o,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:a.clear}))},Eb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=i==="transparent",p=function(g,y){No(g)&&r({hex:g,source:"hex"},y)},v=rt(zn({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Sb(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":s==="hide"});return P.createElement("div",{style:v.card,className:"block-picker "+f},P.createElement("div",{style:v.triangle}),P.createElement("div",{style:v.head},d&&P.createElement(bu,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:v.label},i)),P.createElement("div",{style:v.body},P.createElement($Se,{colors:a,onClick:p,onSwatchHover:n}),P.createElement(Tt,{style:{input:v.input},value:i,onChange:p})))};Eb.propTypes={width:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.string),triangle:W.oneOf(["top","hide"]),styles:W.object};Eb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Un(Eb);var Ks={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Js={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Qs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Xs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Zs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},el={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},tl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},rl={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},nl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},qu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},il={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},al={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ol={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},sl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},ll={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ul={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},cl={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},fl={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},RF=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,u=rt({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:o});return P.createElement("div",{style:u.swatch},P.createElement(Is,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};RF.defaultProps={circleSize:28,circleSpacing:14};const NSe=db(RF);var Cb=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,f=e.className,d=f===void 0?"":f,p=rt(zn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(g,y){return n({hex:g,source:"hex"},y)};return P.createElement("div",{style:p.card,className:"circle-picker "+d},As(a,function(h){return P.createElement(NSe,{key:h,color:h,onClick:v,onSwatchHover:i,active:o===h.toLowerCase(),circleSize:s,circleSpacing:c})}))};Cb.propTypes={width:W.oneOfType([W.string,W.number]),circleSize:W.number,circleSpacing:W.number,styles:W.object};Cb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ks[500],Js[500],Qs[500],Xs[500],Zs[500],el[500],tl[500],rl[500],nl[500],qu[500],il[500],al[500],ol[500],sl[500],ll[500],ul[500],cl[500],fl[500]],styles:{}};Un(Cb);function nE(t){return t===void 0}var $F={};Object.defineProperty($F,"__esModule",{value:!0});var iE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DSe=J,aE=MSe(DSe);function MSe(t){return t&&t.__esModule?t:{default:t}}function VSe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Jf=24,BSe=$F.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Jf:n,a=t.height,o=a===void 0?Jf:a,s=t.style,l=s===void 0?{}:s,u=VSe(t,["fill","width","height","style"]);return aE.default.createElement("svg",iE({viewBox:"0 0 "+Jf+" "+Jf,style:iE({fill:r,width:i,height:o},l)},u),aE.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},qSe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function HSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function USe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NF=function(t){USe(e,t);function e(r){HSe(this,e);var n=zSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?No(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(nE(i.s)?n.props.hsl.s:i.s),l:Number(nE(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return qSe(e,[{key:"render",value:function(){var n=this,i=rt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,P.createElement("div",{style:i.toggle},P.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},P.createElement(BSe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(P.Component);NF.defaultProps={view:"hex"};var oE=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},WSe=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},Tb=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,a=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,c=e.styles,f=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,v=e.defaultView,h=rt(zn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return P.createElement("div",{style:h.picker,className:"chrome-picker "+p},P.createElement("div",{style:h.saturation},P.createElement(Oh,{style:h.Saturation,hsl:o,hsv:s,pointer:WSe,onChange:n})),P.createElement("div",{style:h.body},P.createElement("div",{style:h.controls,className:"flexbox-fix"},P.createElement("div",{style:h.color},P.createElement("div",{style:h.swatch},P.createElement("div",{style:h.active}),P.createElement(bu,{renderers:u}))),P.createElement("div",{style:h.toggles},P.createElement("div",{style:h.hue},P.createElement(_u,{style:h.Hue,hsl:o,pointer:oE,onChange:n})),P.createElement("div",{style:h.alpha},P.createElement(pb,{style:h.Alpha,rgb:a,hsl:o,pointer:oE,renderers:u,onChange:n})))),P.createElement(NF,{rgb:a,hsl:o,hex:l,view:v,onChange:n,disableAlpha:i})))};Tb.propTypes={width:W.oneOfType([W.string,W.number]),disableAlpha:W.bool,styles:W.object,defaultView:W.oneOf(["hex","rgb","hsl"])};Tb.defaultProps={width:225,disableAlpha:!1,styles:{}};const Qf=Un(Tb);var GSe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.active,s=rt({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Sb(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return P.createElement(Is,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},P.createElement("div",{style:s.dot}))},YSe=function(e){var r=e.hex,n=e.rgb,i=e.onChange,a=rt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.active}),P.createElement(Tt,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:o}),P.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),P.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),P.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))},kb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,a=e.hex,o=e.rgb,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(zn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(v,h){v.hex?No(v.hex)&&r({hex:v.hex,source:"hex"},h):r(v,h)};return P.createElement(vf,{style:f.Compact,styles:l},P.createElement("div",{style:f.compact,className:"compact-picker "+c},P.createElement("div",null,As(i,function(p){return P.createElement(GSe,{key:p,color:p,active:p.toLowerCase()===a,onClick:d,onSwatchHover:n})}),P.createElement("div",{style:f.clear})),P.createElement(YSe,{hex:a,rgb:o,onChange:d})))};kb.propTypes={colors:W.arrayOf(W.string),styles:W.object};kb.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Un(kb);var KSe=function(e){var r=e.hover,n=e.color,i=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=rt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:r});return P.createElement("div",{style:s.swatch},P.createElement(Is,{color:n,onClick:i,onHover:a,focusStyle:o}))};const JSe=db(KSe);var Ib=function(e){var r=e.width,n=e.colors,i=e.onChange,a=e.onSwatchHover,o=e.triangle,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(zn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(v,h){return i({hex:v,source:"hex"},h)};return P.createElement("div",{style:f.card,className:"github-picker "+c},P.createElement("div",{style:f.triangleShadow}),P.createElement("div",{style:f.triangle}),As(n,function(p){return P.createElement(JSe,{color:p,key:p,onClick:d,onSwatchHover:a})}))};Ib.propTypes={width:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.string),triangle:W.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:W.object};Ib.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Un(Ib);var QSe=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return P.createElement("div",{style:n.picker})},XSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ab=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.hsl,o=e.direction,s=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),p=function(h){return i({a:1,h:h.h,l:.5,s:1})};return P.createElement("div",{style:d.picker,className:"hue-picker "+f},P.createElement(_u,XSe({},d.hue,{hsl:a,pointer:s,onChange:p,direction:o})))};Ab.propTypes={styles:W.object};Ab.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:QSe,styles:{}};Un(Ab);var ZSe=function(e){var r=e.onChange,n=e.hex,i=e.rgb,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(zn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,p){d.hex?No(d.hex)&&r({hex:d.hex,source:"hex"},p):(d.r||d.g||d.b)&&r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},p)};return P.createElement(vf,{styles:o},P.createElement("div",{style:u.material,className:"material-picker "+l},P.createElement(Tt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),P.createElement("div",{style:u.split,className:"flexbox-fix"},P.createElement("div",{style:u.third},P.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),P.createElement("div",{style:u.third},P.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),P.createElement("div",{style:u.third},P.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Un(ZSe);var eOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,a=e.hex,o=rt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(u,c){u["#"]?No(u["#"])&&r({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},c):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return P.createElement("div",{style:o.fields},P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),P.createElement("div",{style:o.divider}),P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),P.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),P.createElement("div",{style:o.divider}),P.createElement(Tt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},"°"),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},tOe=function(e){var r=e.hsl,n=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return P.createElement("div",{style:n.picker})},rOe=function(){var e=rt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},sE=function(e){var r=e.onClick,n=e.label,i=e.children,a=e.active,o=rt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return P.createElement("div",{style:o.button,onClick:r},n||i)},nOe=function(e){var r=e.rgb,n=e.currentColor,i=rt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:i.label},"new"),P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.new}),P.createElement("div",{style:i.current})),P.createElement("div",{style:i.label},"current"))},iOe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function aOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oOe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pb=function(t){sOe(e,t);function e(r){aOe(this,e);var n=oOe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return iOe(e,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,o=n.className,s=o===void 0?"":o,l=rt(zn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return P.createElement("div",{style:l.picker,className:"photoshop-picker "+s},P.createElement("div",{style:l.head},this.props.header),P.createElement("div",{style:l.body,className:"flexbox-fix"},P.createElement("div",{style:l.saturation},P.createElement(Oh,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:tOe,onChange:this.props.onChange})),P.createElement("div",{style:l.hue},P.createElement(_u,{direction:"vertical",hsl:this.props.hsl,pointer:rOe,onChange:this.props.onChange})),P.createElement("div",{style:l.controls},P.createElement("div",{style:l.top,className:"flexbox-fix"},P.createElement("div",{style:l.previews},P.createElement(nOe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:l.actions},P.createElement(sE,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(sE,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(eOe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.Component);Pb.propTypes={header:W.string,styles:W.object};Pb.defaultProps={header:"Color Picker",styles:{}};Un(Pb);var lOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=rt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,f){c.hex?No(c.hex)&&r({hex:c.hex,source:"hex"},f):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,a:n.a,source:"rgb"},f):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,r({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},f))};return P.createElement("div",{style:s.fields,className:"flexbox-fix"},P.createElement("div",{style:s.double},P.createElement(Tt,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:l})),P.createElement("div",{style:s.single},P.createElement(Tt,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:s.single},P.createElement(Tt,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:s.single},P.createElement(Tt,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:s.alpha},P.createElement(Tt,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},uOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DF=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=rt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(u,c){i({hex:u,source:"hex"},c)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return P.createElement("div",{key:c,style:o.swatchWrap},P.createElement(Is,uOe({},u,{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};DF.propTypes={colors:W.arrayOf(W.oneOfType([W.string,W.shape({color:W.string,title:W.string})])).isRequired};var cOe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb=function(e){var r=e.width,n=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,f=e.renderers,d=e.styles,p=d===void 0?{}:d,v=e.className,h=v===void 0?"":v,g=rt(zn({default:cOe({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return P.createElement("div",{style:g.picker,className:"sketch-picker "+h},P.createElement("div",{style:g.saturation},P.createElement(Oh,{style:g.Saturation,hsl:o,hsv:a,onChange:s})),P.createElement("div",{style:g.controls,className:"flexbox-fix"},P.createElement("div",{style:g.sliders},P.createElement("div",{style:g.hue},P.createElement(_u,{style:g.Hue,hsl:o,onChange:s})),P.createElement("div",{style:g.alpha},P.createElement(pb,{style:g.Alpha,rgb:n,hsl:o,renderers:f,onChange:s}))),P.createElement("div",{style:g.color},P.createElement(bu,null),P.createElement("div",{style:g.activeColor}))),P.createElement(lOe,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:u}),P.createElement(DF,{colors:c,onClick:s,onSwatchHover:l}))};jb.propTypes={disableAlpha:W.bool,width:W.oneOfType([W.string,W.number]),styles:W.object};jb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Un(jb);var Fu=function(e){var r=e.hsl,n=e.offset,i=e.onClick,a=i===void 0?function(){}:i,o=e.active,s=e.first,l=e.last,u=rt({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l}),c=function(d){return a({h:r.h,s:.5,l:n,source:"hsl"},d)};return P.createElement("div",{style:u.swatch,onClick:c})},fOe=function(e){var r=e.onClick,n=e.hsl,i=rt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.swatch},P.createElement(Fu,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),P.createElement("div",{style:i.swatch},P.createElement(Fu,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),P.createElement("div",{style:i.swatch},P.createElement(Fu,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),P.createElement("div",{style:i.swatch},P.createElement(Fu,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),P.createElement("div",{style:i.swatch},P.createElement(Fu,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),P.createElement("div",{style:i.clear}))},dOe=function(){var e=rt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Lb=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(zn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},P.createElement("div",{style:u.hue},P.createElement(_u,{style:u.Hue,hsl:r,pointer:i,onChange:n})),P.createElement("div",{style:u.swatches},P.createElement(fOe,{hsl:r,onClick:n})))};Lb.propTypes={styles:W.object};Lb.defaultProps={pointer:dOe,styles:{}};Un(Lb);var MF={};Object.defineProperty(MF,"__esModule",{value:!0});var lE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pOe=J,uE=hOe(pOe);function hOe(t){return t&&t.__esModule?t:{default:t}}function vOe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Xf=24,gOe=MF.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Xf:n,a=t.height,o=a===void 0?Xf:a,s=t.style,l=s===void 0?{}:s,u=vOe(t,["fill","width","height","style"]);return uE.default.createElement("svg",lE({viewBox:"0 0 "+Xf+" "+Xf,style:lE({fill:r,width:i,height:o},l)},u),uE.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},mOe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,l=e.active,u=rt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:Sb(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return P.createElement(Is,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},P.createElement("div",{style:u.check},P.createElement(gOe,null)))},yOe=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,a=e.active,o=rt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},As(i,function(s,l){return P.createElement(mOe,{key:s,color:s,active:s.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},Fb=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(h,g){return i({hex:h,source:"hex"},g)};return P.createElement("div",{style:d.picker,className:"swatches-picker "+f},P.createElement(vf,null,P.createElement("div",{style:d.overflow},P.createElement("div",{style:d.body},As(o,function(v){return P.createElement(yOe,{key:v.toString(),group:v,active:s,onClick:p,onSwatchHover:a})}),P.createElement("div",{style:d.clear})))))};Fb.propTypes={width:W.oneOfType([W.string,W.number]),height:W.oneOfType([W.string,W.number]),colors:W.arrayOf(W.arrayOf(W.string)),styles:W.object};Fb.defaultProps={width:320,height:240,colors:[[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],["#194D33",qu[700],qu[500],qu[300],qu[100]],[il[900],il[700],il[500],il[300],il[100]],[al[900],al[700],al[500],al[300],al[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],[ll[900],ll[700],ll[500],ll[300],ll[100]],[ul[900],ul[700],ul[500],ul[300],ul[100]],[cl[900],cl[700],cl[500],cl[300],cl[100]],[fl[900],fl[700],fl[500],fl[300],fl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Un(Fb);var Rb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(zn({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(h,g){No(h)&&r({hex:h,source:"hex"},g)};return P.createElement("div",{style:d.card,className:"twitter-picker "+f},P.createElement("div",{style:d.triangleShadow}),P.createElement("div",{style:d.triangle}),P.createElement("div",{style:d.body},As(a,function(v,h){return P.createElement(Is,{key:h,color:v,hex:v,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+v}})}),P.createElement("div",{style:d.hash},"#"),P.createElement(Tt,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:p}),P.createElement("div",{style:d.clear})))};Rb.propTypes={width:W.oneOfType([W.string,W.number]),triangle:W.oneOf(["hide","top-left","top-right"]),colors:W.arrayOf(W.string),styles:W.object};Rb.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Un(Rb);var $b=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:r.picker})};$b.propTypes={hsl:W.shape({h:W.number,s:W.number,l:W.number,a:W.number})};$b.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Nb=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:r.picker})};Nb.propTypes={hsl:W.shape({h:W.number,s:W.number,l:W.number,a:W.number})};Nb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var bOe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.hsv,s=function(p,v){if(p.hex)No(p.hex)&&r({hex:p.hex,source:"hex"},v);else if(p.rgb){var h=p.rgb.split(",");Lv(p.rgb,"rgb")&&r({r:h[0],g:h[1],b:h[2],a:1,source:"rgb"},v)}else if(p.hsv){var g=p.hsv.split(",");Lv(p.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),r({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},v))}else if(p.hsl){var y=p.hsl.split(",");Lv(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},v))}},l=rt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:l.wrap,className:"flexbox-fix"},P.createElement("div",{style:l.fields},P.createElement("div",{style:l.double},P.createElement(Tt,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:s})),P.createElement("div",{style:l.column},P.createElement("div",{style:l.single},P.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:s})),P.createElement("div",{style:l.single},P.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:s})),P.createElement("div",{style:l.single},P.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:s})))))},Db=function(e){var r=e.width,n=e.onChange,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,f=e.className,d=f===void 0?"":f,p=rt(zn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return P.createElement("div",{style:p.picker,className:"google-picker "+d},P.createElement("div",{style:p.head},l),P.createElement("div",{style:p.swatch}),P.createElement("div",{style:p.saturation},P.createElement(Oh,{hsl:a,hsv:o,pointer:$b,onChange:n})),P.createElement("div",{style:p.body},P.createElement("div",{style:p.controls,className:"flexbox-fix"},P.createElement("div",{style:p.hue},P.createElement(_u,{style:p.Hue,hsl:a,radius:"4px",pointer:Nb,onChange:n}))),P.createElement(bOe,{rgb:i,hsl:a,hex:s,hsv:o,onChange:n})))};Db.propTypes={width:W.oneOfType([W.string,W.number]),styles:W.object,header:W.string};Db.defaultProps={width:652,styles:{},header:"Color picker"};Un(Db);const Rv=["Merriweather","Roboto","Open Sans","Lato","Poppins","Raleway","Rubik","Times New Roman","Arial","Courier New","Georgia"];function _Oe({t}){const e=Vl("design"),r=wt(),n=ye(_=>_.designState.Survey.theme);function i(_,b){if(_==="font"){const S={...n.textStyles};S.group={...S.group,font:b},S.question={...S.question,font:b},S.text={...S.text,font:b},r(qn({code:"Survey",key:"theme",value:{...n,textStyles:S}}))}else if(_==="textColor"){const S={...n.textStyles};S.group={...S.group,color:b},S.question={...S.question,color:b},S.text={...S.text,color:b},r(qn({code:"Survey",key:"theme",value:{...n,textStyles:S}}))}else if(_==="bgColor"){const S=b.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(S){const O=S[1],x=S[2],C=S[3];let A=S[4];(!A||A==="0"||A==="0.0")&&(A="1");const w="rgba(".concat(O,", ").concat(x,", ").concat(C,", ").concat(A,")");r(qn({code:"Survey",key:"theme",value:{...n,bgColor:w}}))}else r(qn({code:"Survey",key:"theme",value:{...n,bgColor:b}}))}else r(qn({code:"Survey",key:"theme",value:{...n,[_]:b}}))}function a(_){_.preventDefault();let b=_.target.files[0];e.uploadResource(b).then(S=>{r(ts({code:"Survey",key:"backgroundImage",value:S.name})),r(qn({code:"Survey",key:"theme",value:{...n,bgColor:"rgba(0, 0, 0, 0)"}}))}).catch(S=>{console.error(S)})}const o=()=>{r(ts({code:"Survey",key:"backgroundImage",value:null}))},s=yf(),l=yf(),u=yf(),c=yf(),f=()=>{s.onFalse(),l.onFalse(),u.onFalse(),c.onFalse()},d=J.useRef(),p=J.useRef(),v=J.useRef(),h=J.useRef();function g(_,b){J.useEffect(()=>{function S(O){_.current&&!_.current.contains(O.target)&&b()}return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[_,b])}g(d,f),g(p,f),g(v,f),g(h,f);const y=_=>{_.value?_.onFalse():(f(),_.onToggle())},m=ye(_=>{var b,S;return(S=(b=_.designState.Survey)==null?void 0:b.resources)==null?void 0:S.backgroundImage});return T.jsxs("div",{className:Gn.theming,children:[T.jsxs("span",{className:Gn.fontText,children:[" ",t("font")]}),T.jsx(Ki,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:pE,size:"small",className:Gn.selectDropdown,value:n.textStyles.group.font,onChange:_=>i("font",_.target.value),children:Rv&&Rv.length>0&&Rv.map((_,b)=>T.jsx(Zr,{sx:{fontFamily:_},value:_,children:_},"fontFamily-".concat(b)))},"fontFamily"),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("group_title")}),T.jsx(Cv,{value:n.textStyles.group,default:Ah.textStyles.group,onChange:_=>{i("textStyles",{...n.textStyles,group:_})}},"group")]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("question_title")}),T.jsx(Cv,{value:n.textStyles.question,default:Ah.textStyles.question,onChange:_=>i("textStyles",{...n.textStyles,question:_})},"question")]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("theme_text")}),T.jsx(Cv,{value:n.textStyles.text,default:Ah.textStyles.text,onChange:_=>i("textStyles",{...n.textStyles,text:_})},"text")]}),T.jsx("hr",{}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("highlight_color")}),T.jsx(Ut,{onClick:()=>y(s),style:{backgroundColor:n.primaryColor},className:Gn.colorBox}),s.value&&T.jsxs(gt,{ref:d,className:Gn.colorPickerContainer,children:[T.jsx(St,{onClick:()=>y(s),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Qf,{color:n.primaryColor,onChange:_=>{i("primaryColor","rgba(".concat(_.rgb.r,", ").concat(_.rgb.g,", ").concat(_.rgb.b,", ").concat(_.rgb.a,")"))}})]})]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("background_color")}),T.jsx(Ut,{onClick:()=>y(l),style:{backgroundColor:n.bgColor},className:Gn.colorBox}),l.value&&T.jsxs(gt,{ref:p,className:Gn.colorPickerContainer,children:[T.jsx(St,{onClick:()=>y(l),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Qf,{color:n.bgColor,onChange:_=>{i("bgColor","rgba(".concat(_.rgb.r,", ").concat(_.rgb.g,", ").concat(_.rgb.b,", ").concat(_.rgb.a,")"))}})]})]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("foreground_color")}),T.jsx(Ut,{onClick:()=>y(u),style:{backgroundColor:n.paperColor},className:Gn.colorBox}),u.value&&T.jsxs(gt,{ref:v,className:Gn.colorPickerContainer,children:[T.jsx(St,{onClick:()=>y(u),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Qf,{color:n.paperColor,onChange:_=>{i("paperColor","rgba(".concat(_.rgb.r,", ").concat(_.rgb.g,", ").concat(_.rgb.b,", ").concat(_.rgb.a,")"))}})]})]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("text_color")}),T.jsx(Ut,{onClick:()=>y(c),style:{backgroundColor:n.textStyles.group.color},className:Gn.colorBox}),c.value&&T.jsxs(gt,{ref:h,className:Gn.colorPickerContainer,children:[T.jsx(St,{onClick:()=>y(c),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(Xn,{})}),T.jsx(Qf,{color:n.textStyles.group.color,onChange:_=>{i("textColor","rgba(".concat(_.rgb.r,", ").concat(_.rgb.g,", ").concat(_.rgb.b,", ").concat(_.rgb.a,")"))}})]})]}),T.jsxs(eo,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[T.jsx(Vn,{variant:"subtitle2",alignSelf:"center",children:t("upload_background")}),T.jsxs(Ut,{component:"label",className:Gn.chooseImage,children:[T.jsx(s$,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:a})]}),m&&T.jsx(St,{className:Gn.resetButton,onClick:o,children:T.jsx(HR,{})})]})]})}function SOe({t}){const e=wt(),r=J.useCallback(f=>{e(zR(f))}),n=Ua(),a=_E([f=>f.designState.setup||{}],f=>{var d;return{code:f.code,expanded:f.expanded,highlighted:f.highlighted,rules:f.rules,isSingleRule:((d=f.rules)==null?void 0:d.length)===1}}),{code:o,expanded:s,highlighted:l,rules:u,isSingleRule:c}=ye(a);return T.jsxs("div",{className:ec.rightContent,style:{left:n.direction=="rtl"?"0px":""},children:[T.jsx("div",{className:ec.close,children:T.jsx(St,{onClick:()=>{e(bE())},children:T.jsx(Xn,{})})}),u==null?void 0:u.map(f=>T.jsx(wOe,{expanded:(s==null?void 0:s.includes(f.key))||c||!1,isSingleRule:c,code:o,t,toggleExpand:r,highlighted:f.key==l,rule:f},o+f.title))]})}const OOe=P.memo(SOe),xOe=P.memo(({code:t,rule:e,t:r})=>{if(e.startsWith("validation_"))return T.jsx($W,{t:r,rule:e,code:t},t+e);switch(e){case"theme":return T.jsx(_Oe,{t:r},t+e);case"language":return T.jsx(aR,{t:r},t+e);case"maxChars":return T.jsx(jf,{label:r("text_field_size"),rule:e,lowerBound:1,t:r,upperBound:500,defaultValue:20,code:t},t+e);case"minRows":return T.jsx(jf,{label:r("textarea_lines"),lowerBound:1,t:r,upperBound:500,code:t,defaultValue:20},t+e);case"hideText":return T.jsx(na,{label:r("hide_text"),rule:e,code:t},t+e);case"showDescription":return T.jsx(na,{label:r("show_description"),rule:e,code:t},t+e);case"showWordCount":return T.jsx(na,{label:r("show_word_count"),rule:e,code:t},t+e);case"navigationMode":return T.jsx(Fge,{},t+e);case"allowPrevious":return T.jsx(na,{label:r("allow_previous"),rule:e,code:t},t+e);case"allowIncomplete":return T.jsx(na,{label:r("allow_incomplete"),rule:e,code:t},t+e);case"allowJump":return T.jsx(na,{label:r("allow_jump"),rule:e,code:t},t+e);case"skipInvalid":return T.jsx(na,{label:r("skip_invalid"),rule:e,code:t},t+e);case"hint":return T.jsx(fW,{t:r,code:t},t+e);case"lower_bound_hint":return T.jsx(rg,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:t},t+e);case"higher_bound_hint":return T.jsx(rg,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:t},t+e);case"loop":return T.jsx(na,{rule:e,code:t,label:r("loop_video")},t+e);case"audio_only":return T.jsx(na,{rule:e,code:t,label:r("audio_only")},t+e);case"fullDayFormat":return T.jsx(na,{rule:e,code:t,label:r("fullday_format")},t+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return T.jsx(Lge,{t:r,rule:e,code:t},t+e);case"maxDate":return T.jsx(Y_,{lowerBound:1,code:t,label:r("max_date"),rule:e},t+e);case"minDate":return T.jsx(Y_,{label:r("min_date"),rule:e,code:t},t+e);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return T.jsx(Vo,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:e,code:t},t+e);case"imageWidth":const i=["unspecified","30%","40%","50%","60%","70%","80%","90%","100%"],a=[r("unspecified"),"30%","40%","50%","60%","70%","80%","90%","100%"];return T.jsx(Vo,{values:i,labels:a,defaultValue:"unspecified",label:r("image_width"),rule:e,code:t},t+e);case"decimal_separator":const o=["",",","."],s=[r("no_decimals_allowed"),",","."];return T.jsx(Vo,{values:o,labels:s,defaultValue:"",label:r("decimal_separator"),rule:e,code:t},t+e);case"imageAspectRatio":const l=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],u=[1,1.7778,1.3333,1.5,.562,.75,.6667];return T.jsx(Vo,{values:u,labels:l,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:e,code:t},t+e);case"reorder_setup":const c=[r("collapse_groups"),r("collapse_questions")],f=["collapse_groups","collapse_questions"];return T.jsx(Vo,{values:f,labels:c,defaultValue:"collapse_none",label:r("order_mode"),rule:e,code:t},t+e);case"iconSize":const d=["50","100","150","200"];return T.jsx(Vo,{values:d,defaultValue:"1:1",label:r("image_icon_size"),rule:e,code:t},t+e);case"columns":const p=["1","2","3","4","6"];return T.jsx(Vo,{values:p,defaultValue:"2",label:r("columns_number"),rule:e,code:t},t+e);case"imageHeight":return T.jsx(jf,{label:r("image_height"),lowerBound:50,upperBound:500,t:r,code:t,defaultValue:250,rule:e},t+e);case"spacing":return T.jsx(jf,{label:r("spacing"),lowerBound:2,upperBound:32,code:t,t:r,defaultValue:8,rule:e},t+e);case"skip_logic":return T.jsx(pve,{t:r,code:t},t+e);case"relevance":return T.jsx(uve,{t:r,code:t},t+e);default:return""}}),wOe=P.memo(({expanded:t,highlighted:e,code:r,rule:n,isSingleRule:i,t:a,toggleExpand:o})=>T.jsxs(h$,{expanded:t,className:ec.accordionStyle,slotProps:{transition:{unmountOnExit:!0}},children:[T.jsx(v$,{onClick:()=>o(n.key),className:ec.setupHeader,expandIcon:i?null:T.jsx(g$,{}),children:T.jsx("span",{className:ec.sectionTitle,children:a(n.title)})}),T.jsx(m$,{sx:{backgroundColor:e?"#fff":"background.paper"},children:n.rules.map(s=>T.jsx(xOe,{code:r,rule:s,t:a},s))})]}));function EOe({t}){const e=ye(i=>{var a;return(((a=i.designState)==null?void 0:a.designMode)||vn.DESIGN)==vn.DESIGN&&(!i.designState.setup||Object.keys(i.designState.setup)==0)}),r=ye(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}}),n=Object.keys(r).length>0;return Ua(),T.jsxs(gt,{sx:{width:"22rem",flex:"0 0 auto"},children:[e&&T.jsx(UR,{t}),n&&T.jsx(OOe,{t})]})}const COe=P.memo(EOe);var Mb={},TOe=$r;Object.defineProperty(Mb,"__esModule",{value:!0});var VF=Mb.default=void 0,kOe=TOe(Nr()),IOe=T;VF=Mb.default=(0,kOe.default)((0,IOe.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");function AOe(){const{t,i18n:e}=cs(["design","run"]),r=J.useMemo(()=>e.cloneInstance(),[]),n=J.useRef(null),[i,a]=P.useState(!1),o=J.useRef(),s=ye(m=>m.designState.langInfo),l=wt(),u=ye(m=>m.designState.designMode),c=()=>{l(bE())},f=s==null?void 0:s.lang,d=ye(m=>{var _;return(_=m.designState.Survey)==null?void 0:_.theme});function p(m){return new Promise((_,b)=>{const S=So.includes(m)?"rtl":"ltr",O=n.current;O.dir!=S&&(O.dir=S),O.scrollTop=0,m&&r&&m!=r.language&&r.changeLanguage(m),_()})}J.useEffect(()=>{n.current&&p(f)},[f,n]);const v=J.useMemo(()=>WR(f),[f]),h=P.useCallback(fE({...GR(d),direction:So.includes(f)?"rtl":"ltr"}),[d]),g=ye(m=>{var _,b;return(b=(_=m.designState.Survey)==null?void 0:_.resources)==null?void 0:b.backgroundImage}),y=g?{backgroundImage:"url(".concat(ds(g),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return T.jsx(gt,{className:i1.mainContainer,ref:o,sx:y,children:T.jsxs(e$,{backend:t$()?r$:n$,children:[T.jsx(COe,{t}),T.jsx(JF,{value:v,children:T.jsx(mE,{theme:h,children:T.jsx(QF,{i18n:r,children:T.jsx(iW,{designMode:u,ref:n,className:i1.contentPanel})})})}),T.jsx(jOe,{onCancel:c,designMode:u,t}),T.jsx(POe,{t,designMode:u,optionsOpen:i,setOptionsOpen:a})]})})}const lxe=P.memo(AOe);function POe({setOptionsOpen:t,optionsOpen:e,designMode:r,t:n}){const i=wt(),a=[{icon:T.jsx(VF,{}),name:n("translation"),onClick:()=>{t(!1),i(YR())}},{icon:T.jsx(bN,{}),name:n("theme"),onClick:()=>{t(!1),i(KR())}},{icon:T.jsx(td,{name:"sort"}),name:n("reorder"),onClick:()=>{t(!1),i(JR())}}];return r==vn.DESIGN&&T.jsxs(T.Fragment,{children:[T.jsx(QR,{style:{zIndex:1},open:e}),T.jsx(rN,{open:e,onClick:()=>t(!e),ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:"16px",right:"16px"},icon:T.jsx(RE,{icon:T.jsx(ST,{}),openIcon:T.jsx(Xn,{})}),children:a.map(o=>T.jsx(cN,{onClick:o.onClick,icon:o.icon,tooltipOpen:!0,tooltipTitle:o.name},o.name))})]})}function jOe({designMode:t,onCancel:e,t:r}){const n=XR();return t!=vn.DESIGN&&T.jsx(em,{sx:{borderRadius:"48px",height:"48px",fontSize:"24px",padding:"8px"},style:n?{position:"absolute",bottom:"16px",left:"16px"}:{position:"absolute",bottom:"16px",right:"16px"},label:r("back_to_design"),icon:T.jsx(mN,{}),color:"primary",onClick:e})}export{lxe as default};
