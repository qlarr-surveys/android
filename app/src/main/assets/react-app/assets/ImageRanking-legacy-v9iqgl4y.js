!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-z8WAiyjY.js","./use-service-legacy-DoYgXERf.js","./common-legacy-B-WyRKJ2.js"],(function(t,n){"use strict";var r,i,o,a,l,c,s,u,d,m,p;return{setters:[e=>{r=e.r,i=e.j,o=e.B,a=e.y},e=>{l=e.H,c=e.aR,s=e.U,u=e.a_,d=e.aS,m=e.ap},e=>{p=e.b}],execute:function(){var n=document.createElement("style");n.textContent="._imageGrid_r4g8r_1{margin-top:16px}._imageContainer_r4g8r_5{background-size:cover;background-position:center;background-repeat:no-repeat;position:relative}._rankContainer_r4g8r_12{position:absolute;top:2px;left:2px;cursor:pointer;padding:.25rem .5rem;border-radius:50%}._rankValue_r4g8r_21{color:#fff;display:table-cell;vertical-align:middle}._imageFlexContainer_r4g8r_27{display:flex;flex-wrap:wrap}\n/*$vite$:1*/",document.head.appendChild(n),t("default",(function(t){const n=l((e=>{let n={};return t.component.answers.forEach((t=>{n[t.qualifiedCode]=e.runState.values[t.qualifiedCode].value})),n}),c),a=s(),p=r.useRef(null),x=e(r.useState(800),2),h=x[0],v=x[1];r.useEffect((()=>{var e;v(null==p||null===(e=p.current)||void 0===e?void 0:e.offsetWidth)}),[p]);const y=(h-t.component.columns*t.component.spacing*2)/t.component.columns,C=y/(t.component.imageAspectRatio||1);r.useEffect((()=>{const e=()=>{var e;v(null==p||null===(e=p.current)||void 0===e?void 0:e.offsetWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const _=l((e=>e.runState.values.Survey.lang)),b=m.includes(_);return i.jsx(o,{sx:{gap:`${t.component.spacing}px`,justifyContent:b?"flex-end":"flex-start"},className:g.imageFlexContainer,children:t.component.answers.map((e=>i.jsx(f,{option:e,spacing:t.component.spacing,columns:t.component.columns,hideText:t.component.hideText,onClick:()=>(e=>{if(a(u(t.component.qualifiedCode)),a(u(t.parentCode)),+n[e]>0)a(d({componentCode:e,undefined:void 0}));else{let t=Object.keys(n),i=t.map((e=>n[e]));for(var r=1;r<=t.length;r++)if(!i.includes(r))return void a(d({componentCode:e,value:r}))}})(e.qualifiedCode),parentCode:t.component.qualifiedCode,imageHeight:C,imageWidth:y},e.qualifiedCode)))})}));const g={imageGrid:"_imageGrid_r4g8r_1",imageContainer:"_imageContainer_r4g8r_5",rankContainer:"_rankContainer_r4g8r_12",rankValue:"_rankValue_r4g8r_21",imageFlexContainer:"_imageFlexContainer_r4g8r_27"};function f(e){var t,n;const r=a(),s=l((t=>{let n=t.runState.values[e.option.qualifiedCode];return{showAnswer:void 0===(null==n?void 0:n.relevance)||n.relevance,value:(null==n?void 0:n.value)||0}}),c),u=null!==(t=e.option.resources)&&void 0!==t&&t.image?`url('${p(e.option.resources.image)}')`:"0";return i.jsxs(o,{sx:{flex:`0 1 calc(${100/e.columns}% - ${e.spacing}px)`,cursor:"pointer"},children:[i.jsx(o,{className:g.imageContainer,onClick:()=>e.onClick(),display:"flex",justifyContent:"center",alignItems:"center",style:{paddingTop:100/e.aspectRatio+"%",backgroundImage:u,backgroundColor:r.palette.background.default,borderRadius:"4px",boxShadow:2,height:e.imageHeight+"px",border:s.checked?`2px solid ${r.palette.primary.main}`:"2px solid transparent"},children:s.value>0&&i.jsx("div",{style:{height:Math.min(e.imageHeight,e.imageWidth)+"px",width:Math.min(e.imageHeight,e.imageWidth)+"px",borderRadius:Math.min(e.imageHeight,e.imageWidth)/2+"px",fontSize:Math.min(e.imageHeight,e.imageWidth)/2+"px",background:r.palette.primary.main},className:g.rankContainer,children:i.jsx("span",{className:g.rankValue,style:{color:r.textStyles.text.color},children:s.value})})}),!e.hideText&&i.jsx(o,{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size},children:null===(n=e.option.content)||void 0===n?void 0:n.label})]},e.option.code)}}}}))}();
