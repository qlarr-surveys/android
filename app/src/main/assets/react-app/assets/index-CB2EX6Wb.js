import{R as y,r as l,s as C,t as S,j as e,B as a,z as B}from"./index-BdaHkdQl.js";import{f as D,s as E}from"./DateUtils-Ce4EpQzP.js";import{A as F,y as N,D as W,I as v,ax as A}from"./use-service-D09swmN7.js";import{A as L}from"./ArrowBack-l2Daik9b.js";import{T as P,a as k,b as c,c as w}from"./TableRow-XbFzsXVn.js";import{P as z}from"./TextField-B66jFwFo.js";import{T as I}from"./TableHead-CYTlZN0Y.js";import{T as t}from"./TableCell-CNVjjGNS.js";import"./tableRowClasses-D2zlaSzG.js";import"./useFormControl-BousA45m.js";const H="_mainContainer_zyait_1",U="_loadingWrapper_zyait_12",m={mainContainer:H,loadingWrapper:U};function V({responseId:d,onResponseSelected:p}){const h=F("survey"),{t:n}=N("manage"),[x,i]=l.useState(!0);W();const j=C(),u=S(),g=s=>{i(!1)},[r,f]=l.useState(null),b=()=>{i(!0),h.eventResponse(d).then(s=>{s&&f(s.data),i(!1)}).catch(s=>{g()})};l.useEffect(()=>{b()},[]);const T=()=>{p(null);const _=u.pathname.split("/")[2],R="/responses/".concat(_);j(R)};return e.jsx(a,{className:m.mainContainer,children:x?e.jsx("div",{className:m.loadingWrapper,children:e.jsx(B,{})}):e.jsxs(e.Fragment,{children:[e.jsx(v,{sx:{position:"absolute",top:8,left:8},onClick:T,children:e.jsx(L,{})}),e.jsx(P,{component:z,children:e.jsxs(k,{sx:{minWidth:650},"aria-label":"simple table",children:[e.jsx(I,{children:r&&e.jsxs(c,{children:[e.jsx(t,{align:"left",children:n("event_response.name")},"name"),e.jsx(t,{align:"left",children:n("event_response.time")},"time"),e.jsx(t,{align:"left",children:n("event_response.details")},"details")]})}),e.jsx(w,{children:r==null?void 0:r.map(s=>{var o;return e.jsxs(c,{sx:{minHeight:"100px"},children:[e.jsx(t,{align:"left",children:s.name},"name"),e.jsx(t,{align:"left",children:D(E(s.time))},"time"),e.jsx(t,{align:"left",children:s.name=="Navigation"?e.jsxs(e.Fragment,{children:[e.jsxs(a,{children:[e.jsx("strong",{children:n("label.from")}),": ",s.from]}),e.jsxs(a,{children:[e.jsx("strong",{children:n("label.to")}),": ",s.to]}),e.jsxs(a,{children:[e.jsx("strong",{children:n("event_response.direction")}),":"," ",(o=s.direction)==null?void 0:o.name]})]}):s.name=="VoiceRecording"?e.jsxs("audio",{controls:!0,children:[e.jsx("source",{src:A(s.fileName),type:"audio/mp4"}),"File not Supported"]}):s.name=="Location"?e.jsxs(e.Fragment,{children:[e.jsxs(a,{children:[e.jsx("strong",{children:n("label.latitude")}),":"," ",s.latitude]}),e.jsxs(a,{children:[e.jsx("strong",{children:n("label.longitude")}),":"," ",s.longitude]})]}):e.jsxs(a,{children:[e.jsx("strong",{children:n("label.code")}),": ",s.code]})},"details")]},s.time)})})]})})]})})}const Z=y.memo(V);export{Z as default};
