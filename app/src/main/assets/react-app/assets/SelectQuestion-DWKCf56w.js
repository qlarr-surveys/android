var W=Object.freeze,ye=Object.defineProperty;var $=(e,n)=>W(ye(e,"raw",{value:W(n||e.slice())}));import{Y as f,r as K,m,ab as xe,a8 as be}from"./index-g2NzBsuM.js";import{Q as q,U as G,W as Q,X as Y,Y as z,Z as o,s as ve,N as _e,K as X,L as Z,M as Ce,R as Fe,O as Ve}from"./Android-BeUiQmgx.js";var Oe=e=>e.type==="checkbox",Se=e=>e instanceof Date,oe=e=>e==null;const je=e=>typeof e=="object";var I=e=>!oe(e)&&!Array.isArray(e)&&je(e)&&!Se(e),Me=e=>I(e)&&e.target?Oe(e.target)?e.target.checked:e.target.value:e,ke=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,we=(e,n)=>e.has(ke(n)),Ae=e=>{const n=e.constructor&&e.constructor.prototype;return I(n)&&n.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function le(e){let n;const t=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Re&&(e instanceof Blob||a))&&(t||I(e)))if(n=t?[]:{},!t&&!Ae(e))n=e;else for(const r in e)e.hasOwnProperty(r)&&(n[r]=le(e[r]));else return e;return n}var ie=e=>/^\w*$/.test(e),L=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],ue=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),C=(e,n,t)=>{if(!n||!I(e))return t;const a=(ie(n)?[n]:ue(n)).reduce((r,c)=>oe(r)?r:r[c],e);return L(a)||a===e?L(e[n])?t:e[n]:a},B=e=>typeof e=="boolean",J=(e,n,t)=>{let a=-1;const r=ie(n)?[n]:ue(n),c=r.length,d=c-1;for(;++a<c;){const l=r[a];let u=t;if(a!==d){const p=e[l];u=I(p)||Array.isArray(p)?p:isNaN(+r[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const ee={BLUR:"blur",CHANGE:"change"},te={all:"all"},ce=f.createContext(null);ce.displayName="HookFormContext";const E=()=>f.useContext(ce);var De=(e,n,t,a=!0)=>{const r={defaultValues:n._defaultValues};for(const c in e)Object.defineProperty(r,c,{get:()=>{const d=c;return n._proxyFormState[d]!==te.all&&(n._proxyFormState[d]=!a||te.all),t&&(t[d]=!0),e[d]}});return r};const de=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Ie(e){const n=E(),{control:t=n.control,disabled:a,name:r,exact:c}=e||{},[d,l]=f.useState(t._formState),u=f.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return de(()=>t._subscribe({name:r,formState:u.current,exact:c,callback:p=>{!a&&l({...t._formState,...p})}}),[r,a,c]),f.useEffect(()=>{u.current.isValid&&t._setValid(!0)},[t]),f.useMemo(()=>De(d,t,u.current,!1),[d,t])}var Ee=e=>typeof e=="string",Pe=(e,n,t,a,r)=>Ee(e)?C(t,e,r):Array.isArray(e)?e.map(c=>C(t,c)):t;function Ne(e){const n=E(),{control:t=n.control,name:a,defaultValue:r,disabled:c,exact:d}=e||{},l=f.useRef(r),[u,p]=f.useState(t._getWatch(a,l.current));return de(()=>t._subscribe({name:a,formState:{values:!0},exact:d,callback:v=>!c&&p(Pe(a,t._names,v.values||t._formValues,!1,l.current))}),[a,t,c,d]),f.useEffect(()=>t._removeUnmounted()),u}function Be(e){const n=E(),{name:t,disabled:a,control:r=n.control,shouldUnregister:c}=e,d=we(r._names.array,t),l=Ne({control:r,name:t,defaultValue:C(r._formValues,t,C(r._defaultValues,t,e.defaultValue)),exact:!0}),u=Ie({control:r,name:t,exact:!0}),p=f.useRef(e),v=f.useRef(r.register(t,{...e.rules,value:l,...B(e.disabled)?{disabled:e.disabled}:{}})),R=f.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!C(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!C(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!C(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!C(u.validatingFields,t)},error:{enumerable:!0,get:()=>C(u.errors,t)}}),[u,t]),O=f.useCallback(x=>v.current.onChange({target:{value:Me(x),name:t},type:ee.CHANGE}),[t]),j=f.useCallback(()=>v.current.onBlur({target:{value:C(r._formValues,t),name:t},type:ee.BLUR}),[t,r._formValues]),V=f.useCallback(x=>{const A=C(r._fields,t);A&&x&&(A._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:M=>x.setCustomValidity(M),reportValidity:()=>x.reportValidity()})},[r._fields,t]),_=f.useMemo(()=>({name:t,value:l,...B(a)||u.disabled?{disabled:u.disabled||a}:{},onChange:O,onBlur:j,ref:V}),[t,a,u.disabled,O,j,V,l]);return f.useEffect(()=>{const x=r._options.shouldUnregister||c;r.register(t,{...p.current.rules,...B(p.current.disabled)?{disabled:p.current.disabled}:{}});const A=(M,P)=>{const b=C(r._fields,M);b&&b._f&&(b._f.mount=P)};if(A(t,!0),x){const M=le(C(r._options.defaultValues,t));J(r._defaultValues,t,M),L(C(r._formValues,t))&&J(r._formValues,t,M)}return!d&&r.register(t),()=>{(d?x&&!r._state.action:x)?r.unregister(t):A(t,!1)}},[t,r,d,c]),f.useEffect(()=>{r._setDisabledField({disabled:a,name:t})},[a,t,r]),f.useMemo(()=>({field:_,formState:u,fieldState:R}),[_,u,R])}const Le=e=>e.render(Be(e));function fe({name:e,native:n,maxHeight:t=220,helperText:a,children:r,PaperPropsSx:c,label:d,onChange:l,value:u,...p}){const v=E();if(!v)return m.jsxs(q,{fullWidth:!0,...p,children:[m.jsx(G,{children:d}),m.jsx(Q,{value:u!=null?u:"",sx:{borderRadius:"12px","& .MuiOutlinedInput-notchedOutline":{border:"1px solid #d7d7d7"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid #181735"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#181735"},"& .MuiOutlinedInput-input":{padding:".5rem"}},onChange:l,label:d,children:f.Children.map(r,(O,j)=>m.jsx(Y,{value:O.props.value,children:O.props.children},j))}),m.jsx(z,{children:a})]});const{control:R}=v;return m.jsx(Le,{name:e,control:R,render:({field:O,fieldState:{error:j}})=>m.jsxs(q,{fullWidth:!0,...O,children:[m.jsx(G,{children:d}),m.jsx(Q,{...O,sx:{borderRadius:"12px","& .MuiOutlinedInput-notchedOutline":{border:"1px solid #d7d7d7"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid #181735"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#181735"},"& .MuiOutlinedInput-input":{padding:".5rem"}},error:!!j,label:d,...p,children:f.Children.map(r,(V,_)=>m.jsx(Y,{value:V.props.value,children:V.props.children},_))}),m.jsx(z,{children:a})]})})}fe.propTypes={PaperPropsSx:o.object,children:o.node,helperText:o.object,maxHeight:o.number,name:o.string,native:o.bool};o.bool,o.bool,o.object,o.string,o.string,o.array,o.string;o.string,o.string;o.string,o.string,o.string,o.array,o.bool,o.number,o.object;o.node,o.object,o.func;var ae;const He=ve(_e)(ae||(ae=$(["\n  input {\n    text-align: center;\n  }\n"]))),Ue={TextFieldStyled:He},We=e=>m.jsx(Ue.TextFieldStyled,{...e}),D={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function $e(e,n){return e<=0?[]:Array.from({length:e},n)}function Ke(e,n,t){return e.map((a,r)=>n===r?t:a)}function re(e){return e.join("")}function ne(e,n){return[...e,n]}function qe(e,n,t){return e.reduce((a,r,c)=>{const{characters:d,restArrayMerged:l}=a;if(c<t)return{restArrayMerged:l,characters:ne(d,r)};const[u,...p]=l;return{restArrayMerged:p,characters:ne(d,u||"")}},{restArrayMerged:n,characters:[]}).characters}function Ge(e){return e.split("")}function se(e){const n=f.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return f.useInsertionEffect(()=>{n.current=e}),f.useCallback((...t)=>{var a;return(a=n.current)==null?void 0:a.call(n,...t)},[])}const Qe=()=>!0;f.forwardRef((e,n)=>{const{value:t="",length:a=4,autoFocus:r=!1,onChange:c,TextFieldsProps:d,onComplete:l,validateChar:u=Qe,className:p,onBlur:v,...R}=e,O=f.useRef(t),j=se(l),V=se(s=>{const i=s.slice(0,a);return{isCompleted:i.length===a,finalValue:i}});f.useEffect(()=>{const{isCompleted:s,finalValue:i}=V(O.current);s&&j(i)},[a,j,V]);const _=$e(a,(s,i)=>({character:t[i]||"",inputRef:f.createRef()})),x=s=>_.findIndex(({inputRef:i})=>i.current===s),A=()=>_.map(({character:s})=>s),M=(s,i)=>{const g=Ke(A(),s,i);return re(g)},P=s=>{var i,g;(g=(i=_[s])==null?void 0:i.inputRef.current)==null||g.focus()},b=s=>{var i,g;(g=(i=_[s])==null?void 0:i.inputRef.current)==null||g.select()},H=s=>{s+1!==a&&(_[s+1].character?b(s+1):P(s+1))},U=(s,i)=>typeof u!="function"?!0:u(s,i),pe=s=>{const i=x(s.target);if(i===0&&s.target.value.length>1){const{finalValue:w,isCompleted:T}=V(s.target.value);c==null||c(w),T&&(l==null||l(w)),b(w.length-1);return}const g=s.target.value[0]||"";let F=g;F&&!U(F,i)&&(F="");const h=M(i,F);c==null||c(h);const{isCompleted:k,finalValue:S}=V(h);k&&(l==null||l(S)),F!==""?h.length-1<i?b(h.length):H(i):g===""&&h.length<=i&&b(i-1)},ge=s=>{const i=s.target,g=i.selectionStart,F=i.selectionEnd,h=x(i),k=g===0&&F===0;if(i.value===s.key)s.preventDefault(),H(h);else if(D.backspace===s.key){if(!i.value)s.preventDefault(),b(h-1);else if(k){s.preventDefault();const S=M(h,"");c==null||c(S),S.length<=h&&b(h-1)}}else D.left===s.key?(s.preventDefault(),b(h-1)):D.right===s.key?(s.preventDefault(),b(h+1)):D.home===s.key?(s.preventDefault(),b(0)):D.end===s.key&&(s.preventDefault(),b(_.length-1))},he=s=>{const i=s.clipboardData.getData("text/plain"),g=s.target,F=_.findIndex(({character:y,inputRef:N})=>y===""||N.current===g),h=A(),k=qe(h,Ge(i),F).map((y,N)=>U(y,N)?y:""),S=re(k);c==null||c(S);const{isCompleted:w,finalValue:T}=V(S);w?(l==null||l(T),b(a-1)):b(S.length)},me=s=>{if(!_.some(({inputRef:i})=>i.current===s.relatedTarget)){const{isCompleted:i,finalValue:g}=V(t);v==null||v(g,i)}};return m.jsx(xe,{display:"flex",gap:"20px",alignItems:"center",ref:n,className:"MuiOtpInput-Box ".concat(p||""),...R,children:_.map(({character:s,inputRef:i},g)=>{const{onPaste:F,onFocus:h,onKeyDown:k,className:S,onBlur:w,...T}=typeof d=="function"?d(g)||{}:d||{};return m.jsx(We,{autoFocus:r?g===0:!1,autoComplete:"one-time-code",value:s,inputRef:i,className:"MuiOtpInput-TextField MuiOtpInput-TextField-".concat(g+1," ").concat(S||""),onPaste:y=>{y.preventDefault(),he(y),F==null||F(y)},onFocus:y=>{y.preventDefault(),y.target.select(),h==null||h(y)},onChange:pe,onKeyDown:y=>{ge(y),k==null||k(y)},onBlur:y=>{w==null||w(y),me(y)},...T},g)})})});o.string;o.string,o.string;o.string,o.string;o.string,o.string,o.string;o.string,o.string,o.string,o.array,o.bool,o.number;o.string,o.string,o.string,o.node,o.bool,o.string;function Ze({lang:e,component:n}){const t=be(),a=X(l=>{let u=l.runState.values[n.qualifiedCode];return{value:(u==null?void 0:u.value)||""}},Z),r=Ce(),c=l=>{r(Ve({componentCode:n.qualifiedCode,value:l.target.value}))},d=X(l=>n.answers.filter(u=>{var p,v;return(v=(p=l.runState.values[u.qualifiedCode])==null?void 0:p.relevance)!=null?v:!0}),Z);return m.jsx(m.Fragment,{children:m.jsx(fe,{sx:{width:"50%"},name:n.qualifiedCode,value:a.value,onChange:c,children:d.map(l=>{var u;return m.jsx("option",{value:l.code,children:m.jsx(Fe,{elementCode:l.code,fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size,name:"label",lang:e,content:(u=l.content)==null?void 0:u.label})},l.code)})})})}export{Ze as default};
