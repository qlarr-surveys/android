import{s as y,j as a}from"./index-DrdL8HT2.js";import{c as S,a as l,L as b,o as R}from"./yup-DIB40AAO.js";import{u as L,F as I,R as d,I as _}from"./Web-f7YbRHTs.js";import{u as F}from"./use-boolean-bW_ayOWI.js";import{R as A,M as E,U as T,Z as c,T as $,aL as k,I as q,aN as z}from"./use-service-0Fq5u1zn.js";import{R as N}from"./router-link-DxmZoiZm.js";import{I as Z}from"./InputAdornment-BRaI75ZV.js";import{L as B}from"./Link-CSiWj_D0.js";import"./Checkbox-DbTDcKnM.js";import"./SwitchBase-9pSiC_Cg.js";import"./Tabs-CzcAv-q5.js";import"./radioClasses-CNZTtMI3.js";import"./tableRowClasses-Dzs-lpCH.js";import"./TextField-DRWs31uB.js";import"./FormControlLabel-DFbM1-QV.js";function aa(){const p=A("auth"),{t:e}=E("manage"),r=F(),n=T(),u=y(),g=S().shape({email:l().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email")),password:l().required(e("password_required"))}),h={email:"",password:""},t=L({resolver:R(g),defaultValues:h}),{setError:i,handleSubmit:m,formState:{isSubmitting:f}}=t,x=o=>{o.name==z.WRONG_CREDENTIALS.name&&(i("email",{type:"manual",message:e("processed_errors.".concat(o.name))}),i("password",{type:"manual",message:e("processed_errors.".concat(o.name))}))},w=m(async o=>{n(c(!0));try{await p.login(o.email,o.password);const{from:s}=location.state||{from:{pathname:"/"}};u(s)}catch(s){x(s)}finally{n(c(!1))}}),v=a.jsx("div",{children:a.jsx($,{variant:"h3",paragraph:!0,children:e("login.login")})}),j=a.jsx(I,{methods:t,onSubmit:m(w),children:a.jsxs(k,{spacing:2.5,alignItems:"flex-end",children:[a.jsx(d,{name:"email",label:e("label.email")}),a.jsx(d,{name:"password",label:e("label.password"),type:r.value?"text":"password",InputProps:{endAdornment:a.jsx(Z,{position:"end",children:a.jsx(q,{onClick:r.onToggle,edge:"end",children:a.jsx(_,{icon:r.value?"carbon:view":"carbon:view-off"})})})}}),a.jsx(B,{component:N,href:"/forgot-password",variant:"body2",underline:"always",color:"text.secondary",children:e("login.forgot_password")}),a.jsx(b,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:f,children:e("login.login")})]})});return a.jsxs(a.Fragment,{children:[v,j]})}export{aa as default};
