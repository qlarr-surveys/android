import{j as l,r as F,B as w}from"./index-BdaHkdQl.js";import{v as m,D as x,l as h,aq as u,av as b}from"./use-service-D09swmN7.js";import{s as C,V as R}from"./index-Djh-vddw.js";import{F as T,T as z}from"./TextField-B66jFwFo.js";import{F as B}from"./RadioGroup-CqdWVjub.js";import{F as f}from"./FormControlLabel-DrGXXvQK.js";import{R as v}from"./Radio-CnmABGZS.js";import"./isTouchDevice-DBnnGyOq.js";import"./common-C_0iAd7K.js";import"./ArrowBack-l2Daik9b.js";import"./useFormControl-BousA45m.js";import"./RadioGroupContext-DPRdtZdW.js";import"./FormGroup-D1wY6CsR.js";import"./SwitchBase-outpB1OY.js";import"./radioClasses-DNdhtY0L.js";function U(e){const a=m(o=>{let c=o.runState.values[e.component.qualifiedCode];return{value:(c==null?void 0:c.value)||""}},C),r=x(),i=o=>{r(u({componentCode:o.target.name,value:o.target.value}))};return l.jsx(T,{component:"fieldset",children:l.jsx(B,{name:e.component.qualifiedCode,value:a.value,onChange:i,children:e.component.answers.map(o=>o.type==="other"?l.jsx(I,{parentCode:e.component.qualifiedCode,Choice:o},o.qualifiedCode):l.jsx(D,{Choice:o},o.qualifiedCode))})})}function D(e){const a=h(),r=()=>{var i;return l.jsx(f,{control:l.jsx(v,{sx:{color:a.textStyles.text.color}}),label:l.jsx(w,{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size},children:(i=e.Choice.content)==null?void 0:i.label}),value:e.Choice.code},e.Choice.qualifiedCode)};return r?r():""}function I(e){const a=h(),r=e.Choice.answers[0],i=m(t=>{let s=t.runState.values[e.Choice.qualifiedCode],n=t.runState.values[r.qualifiedCode],S=t.runState.values.Survey.show_errors,g=t.templateState[r.qualifiedCode];return{showChoice:typeof(s==null?void 0:s.relevance)>"u"||s.relevance,childInvalid:(S||g)&&(n==null?void 0:n.relevance)===!0&&(n==null?void 0:n.validity)===!1,value:(n==null?void 0:n.value)||""}},C),o=x(),c=t=>{o(u({componentCode:t.target.name,value:t.target.value}))},p=t=>{o(u({componentCode:e.parentCode,value:e.Choice.code}))},q=t=>{o(b(t.target.name))},d=F.useRef(),y=t=>{t.target.checked&&d.current.focus()},j=()=>{var t,s,n;return l.jsxs("div",{className:"text-left d-flex",children:[l.jsx(f,{control:l.jsx(v,{sx:{color:a.textStyles.text.color}}),label:l.jsx("div",{className:"w-100",children:l.jsx(z,{variant:"standard",required:((t=i.textChild)==null?void 0:t.relevance)&&((s=r.validation)==null?void 0:s.required),sx:{label:{color:a.textStyles.text.color}},inputRef:d,id:r.qualifiedCode,name:r.qualifiedCode,label:(n=e.Choice.content)==null?void 0:n.label,onChange:c,onFocus:p,onBlur:q,value:i.value,InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}},helperText:i.childInvalid?l.jsx(R,{component:r,limit:1}):""})}),onChange:y,value:e.Choice.code},e.Choice.qualifiedCode),l.jsx("p",{})]})};return i.showChoice?j():""}export{U as default};
