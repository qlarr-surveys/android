import{r as h,j as n,B as b}from"./index-Dk6dJ9ej.js";import{w as v,H as w,aU as p,U as q,aV as x,b1 as u,av as F}from"./use-service-CuOd9RJq.js";import{V as R}from"./index-D8xbzhRJ.js";import{F as A}from"./FormControlLabel-DbQERhmC.js";import{C as y}from"./Checkbox-B5kyj27j.js";import{R as M}from"./RadioGroup-BN-fpmx1.js";import{T}from"./TextField-D9TfNg6R.js";import"./isTouchDevice-BxZW9fIr.js";import"./common-DrzhiyDD.js";import"./Close-Coe7rEfx.js";import"./Card-vFcRbAK1.js";import"./Toolbar-C-_hleNE.js";import"./SwitchBase-vj41ugwS.js";import"./RadioGroupContext-NID61kUr.js";import"./FormGroup-BQ8WmqtL.js";function V(t){var m;const o=v(),l=w(d=>{var f;let a=d.runState.values[(f=t.Answer)==null?void 0:f.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,checked:(a==null?void 0:a.value)||!1}},p),s=q(),i=d=>{s(x({componentCode:d.target.name,value:d.target.checked})),s(u(d.target.name)),s(u(t.parentCode))};return l.showAnswer?n.jsx(A,{control:n.jsx(y,{checked:l.checked,onChange:i,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx(b,{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size},children:(m=t.Answer.content)==null?void 0:m.label})}):""}const z=h.memo(V);function B(t){return n.jsx(F,{component:"fieldset",children:n.jsx(M,{children:t.component.answers.map(o=>o.type==="other"?n.jsx(I,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode):n.jsx(z,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode))})})}function I(t){const o=v(),l=t.Answer.answers[0],s=w(e=>{var C;let r=e.runState.values[t.Answer.qualifiedCode],c=e.runState.values[l.qualifiedCode],S=e.runState.values.Survey.show_errors,k=e.templateState[l.qualifiedCode];return{showAnswer:typeof(r==null?void 0:r.relevance)>"u"||r.relevance,childInvalid:(S||k)&&(c==null?void 0:c.relevance)===!0&&(c==null?void 0:c.validity)===!1,checked:(r==null?void 0:r.value)||!1,textValue:(c==null?void 0:c.value)||"",textRelevance:(C=e.textChild)==null?void 0:C.relevance}},p),i=q(),m=e=>{i(x({componentCode:e.target.name,value:e.target.checked})),i(u(e.target.name)),i(u(t.parentCode)),e.target.checked&&a.current.focus()},d=e=>{i(x({componentCode:e.target.name,value:e.target.value}))},a=h.useRef(),f=e=>{i(x({componentCode:t.Answer.qualifiedCode,value:!0}))},g=e=>{i(u(e.target.name))},j=()=>{var e,r;return n.jsx(A,{control:n.jsx(y,{checked:s.checked,onChange:m,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx("div",{className:"w-100",children:n.jsx(T,{variant:"standard",required:s.textRelevance&&((e=l.validation)==null?void 0:e.required),inputRef:a,id:l.qualifiedCode,name:l.qualifiedCode,label:(r=t.Answer.content)==null?void 0:r.label,onChange:d,onFocus:f,onBlur:g,sx:{label:{color:o.textStyles.text.color}},value:s.textValue,InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},helperText:s.childInvalid?n.jsx(R,{component:l,limit:1}):""})})})};return s.showAnswer?j():""}const Y=h.memo(B);export{Y as default};
