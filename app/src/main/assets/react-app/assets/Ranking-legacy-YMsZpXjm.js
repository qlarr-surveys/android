!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,l,a=[],d=!0,u=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;d=!1}else for(;!(d=(n=i.call(t)).done)&&(a.push(n.value),a.length!==r);d=!0);}catch(e){u=!0,o=e}finally{try{if(!d&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function o(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}System.register(["./index-legacy-DMBe9EAg.js","./use-service-legacy-CgI9X4sP.js","./index-legacy-C-i1VDP4.js","./Box-legacy-B-z0Yl2M.js","./useDrop-legacy-BsplK0sJ.js","./isTouchDevice-legacy-DkWZCMK4.js","./common-legacy-ztB9Cads.js","./ArrowBack-legacy-BOcXtrdD.js"],(function(r,t){"use strict";var o,i,l,a,d,u,s,c,f,p;return{setters:[e=>{o=e.j,i=e.r},e=>{l=e.D,a=e.v,d=e.aG,u=e.aq,s=e.aH},e=>{c=e.s},e=>{f=e.B},e=>{p=e.u},null,null,null],execute:function(){var t=document.createElement("style");t.textContent="._dragContainer_5yuyr_1{border:1px solid transparent;border-radius:4px;height:100%;display:flex;flex-direction:column;margin:auto 8px}._rankingItem_5yuyr_10{margin:0 8px;padding:8px}\n",document.head.appendChild(t),r("default",(function(e){const r=l(),t=a((r=>{let t={};return e.component.answers.forEach((e=>{t[e.qualifiedCode]=r.runState.values[e.qualifiedCode].value})),t}),c),i=e=>isNaN(t[e])?"unsorted":"sorted",d=a((r=>{let t={};return e.component.answers.forEach((e=>{r.runState.order?t[e.qualifiedCode]=r.runState.order[e.qualifiedCode]:t[e.qualifiedCode]=r.runState.values[e.qualifiedCode].order+1})),t}),c),f=e.component.answers.filter((e=>!t[e.qualifiedCode])).sort((function(e,r){return d[e.qualifiedCode]-d[r.qualifiedCode]})),p=e.component.answers.filter((e=>+t[e.qualifiedCode]>0)).sort((function(e,r){return t[e.qualifiedCode]-t[r.qualifiedCode]})),g=(e,o,l)=>{const a=n({},d);if("sorted"==l&&"unsorted"==i(e.qualifiedCode)){const n=o+1;for(let e in t)t.hasOwnProperty(e)&&t[e]>=n&&r(u({componentCode:e,value:t[e]+1}));r(u({componentCode:e.qualifiedCode,value:n})),e.index=o;const i=a[e.qualifiedCode];f.forEach((e=>{a[e.qualifiedCode]>=i&&(a[e.qualifiedCode]=a[e.qualifiedCode]-1)})),r(s(a))}else if("unsorted"==l&&"sorted"==i(e.qualifiedCode)){const n=t[e.qualifiedCode];for(let e in t)t.hasOwnProperty(e)&&t[e]>=n&&r(u({componentCode:e,value:t[e]-1}));r(u({componentCode:e.qualifiedCode,value:void 0})),e.index=o;const i=o+1;f.forEach((e=>{a[e.qualifiedCode]>=i&&(a[e.qualifiedCode]=a[e.qualifiedCode]+1)})),a[e.qualifiedCode]=i,r(s(a))}},C=e=>{"unsorted"==i(e.qualifiedCode)?g(e,p.length,"sorted"):g(e,f.length,"unsorted")},v=(e,o,l,a)=>{const c=n({},d);if("unsorted"==l&&"unsorted"==i(e.qualifiedCode)){const t=c[e.qualifiedCode];c[e.qualifiedCode]=c[o.qualifiedCode],c[o.qualifiedCode]=t,r(s(c)),e.index=a}else"sorted"==l&&"sorted"==i(e.qualifiedCode)&&(r(u({componentCode:e.qualifiedCode,value:t[o.qualifiedCode]})),r(u({componentCode:o.qualifiedCode,value:t[e.qualifiedCode]})),e.index=a)};return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[o.jsx(m,{styles:y,ordererLength:p.length,unordererLength:f.length,onHover:v,order:d,onItemTransfer:g,onDoubleClick:C,itemType:"unsorted",options:f}),o.jsx(m,{styles:y,onHover:v,onItemTransfer:g,onDoubleClick:C,ordererLength:p.length,unordererLength:f.length,order:d,itemType:"sorted",options:p})]})}));const y={dragContainer:"_dragContainer_5yuyr_1",rankingItem:"_rankingItem_5yuyr_10"};function m({styles:e,itemType:r,options:t,onItemTransfer:n,onDoubleClick:l,onHover:a}){const d=i.useRef(null);return o.jsxs(f,{ref:d,className:e.dragContainer,sx:{backgroundColor:"background.default"},children:[t.map(((t,d)=>o.jsxs(i.Fragment,{children:[o.jsx(C,{itemType:r,index:d,onItemTransfer:n},"drop"+t.code),o.jsx(g,{index:d,onHover:a,itemType:r,option:t,rankingItemStyle:e.rankingItem,onDoubleClick:l},t.code)]},t.code))),o.jsx(C,{itemType:r,index:t.length,fillParent:!0,onItemTransfer:n},"last")]})}function g({option:r,onDoubleClick:t,rankingItemStyle:n,index:l,onHover:a,itemType:u}){var s;const c=i.useRef(),y={index:l,qualifiedCode:r.qualifiedCode},m=e(d({type:"rankingOption",item:y,collect:e=>{var t;return(null===(t=e.getItem())||void 0===t?void 0:t.qualifiedCode)===r.qualifiedCode}}),3),g=m[0],C=m[1],v=m[2],h=e(p({accept:"rankingOption",collect:e=>({handlerId:e.getHandlerId()}),hover(e,t){var n;if(!c.current||!t.isOver({shallow:!0})||!e)return;const o=e.index,i=l;if(o===i)return;const d=null===(n=c.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(d.bottom-d.top)/2,f=t.getClientOffset().y-d.top;o<i&&f<s||o>i&&f>s||a(e,r,u,l)}}),2),b=h[0].handlerId;return(0,h[1])(v(c)),o.jsx("div",{ref:C,children:o.jsx(f,{ref:c,"data-handler-id":b,style:{opacity:g?"0.2":"1"},onDoubleClick:()=>t(y),className:n,sx:{backgroundColor:"background.paper"},children:null===(s=r.content)||void 0===s?void 0:s.label})})}function C({index:r,onItemTransfer:t,itemType:n,fillParent:l}){const a=i.useRef(),d=e(p({accept:"rankingOption",collect:e=>({handlerId:e.getHandlerId()}),hover(e,o){a.current&&o.isOver({shallow:!0})&&e&&t(e,r,n)}}),2),u=d[0].handlerId;return(0,d[1])(a),o.jsx("div",{style:{flex:l?1:"inherit",minHeight:"12px"},ref:a,"data-handler-id":u})}}}}))}();
