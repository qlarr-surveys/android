import{m as i}from"./index-g2NzBsuM.js";import{a1 as S,K as s,M as y,a4 as j,a3 as b,a6 as A,a7 as k,O as x}from"./Android-BeUiQmgx.js";import{R as z}from"./index-BUTY5k2i.js";const F="_container_bvkr6_2",M={container:F};function I(r){var d;const _=S("run"),o=r.component,n=s(e=>e.runState.values[o.qualifiedCode]),l=s(e=>e.runState.preview),g=s(e=>e.runState.values.Survey.mode),c=y(),w=()=>{var p,v,f,h;const e=o.qualifiedCode,u=((v=(p=o.validation)==null?void 0:p.validation_max_file_size)==null?void 0:v.isActive)&&((h=(f=o.validation)==null?void 0:f.validation_max_file_size)==null?void 0:h.max_size)||-1,m=10240,C=u>0?Math.min(u,m):m;l&&g=="offline"?A("/dummy_video.mp4").then(t=>{k(_,e,l,t).then(a=>{c(x({componentCode:r.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.captureVideo(e,C),window["onVideoCaptured"+e]=t=>{c(x({componentCode:e,value:t}))}):console.debug("no android device!!")};return i.jsxs(j,{className:M.container,children:[!n.value||!n.value.stored_filename?i.jsx("img",{onClick:w,src:"/video.png",style:{maxHeight:"200px"}}):i.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:"56%"},children:i.jsx(z,{url:b(n.value.stored_filename),loop:!1,light:!0,controls:!0,config:{forceAudio:!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),i.jsx("br",{}),o.showHint&&i.jsx("span",{children:(d=o.content)==null?void 0:d.hint})]})}export{I as default};
