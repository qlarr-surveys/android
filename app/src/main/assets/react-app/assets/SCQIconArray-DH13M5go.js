import{y as j,j as s,R as a}from"./index-BPkE25ts.js";import{H as x,R as b,aS as g}from"./use-service-Bb7LY6Q3.js";import{V as w}from"./index-DrOR_lvT.js";import{D as T}from"./index-DBVE09D9.js";import{b as p}from"./common-D9PPFwWu.js";import{T as R,a as q,b as z,c as u,d as D}from"./TableRow-Beq5cqAM.js";import{T as l}from"./TableCell-BjKLxRk-.js";import"./isTouchDevice-ByQSu3Gj.js";import"./CardMedia-Q0SAzLl_.js";import"./Card-D1gdhD1c.js";import"./Toolbar-DcOb7dJo.js";import"./tableRowClasses-JqPlK2IC.js";function G(r){const n=j();let c=r.component.answers.filter(e=>e.type=="column"),d=r.component.answers.filter(e=>e.type=="row");return s.jsx(R,{children:s.jsxs(q,{children:[s.jsx(z,{children:s.jsxs(u,{children:[s.jsx(l,{},"content"),c.map(e=>{var i;return s.jsx(l,{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,textAlign:"center"},children:(i=e.content)==null?void 0:i.label},e.qualifiedCode)})]})}),s.jsx(D,{children:d.map(e=>s.jsx(a.Fragment,{children:s.jsx(F,{answer:e,choices:c},e.qualifiedCode)},e.qualifiedCode))})]})})}function F(r){var f;const n=j(),c=x(t=>{var o;return(o=t.templateState[r.answer.qualifiedCode])==null?void 0:o.isDirty}),d=x(t=>t.runState.values.Survey.show_errors),e=x(t=>t.runState.values[r.answer.qualifiedCode]),i=a.useMemo(()=>e==null?void 0:e.validity,[e]),S=a.useMemo(()=>e==null?void 0:e.value,[e]),h=a.useMemo(()=>e==null?void 0:e.relevance,[e]),v=b(),C=t=>{v(g({componentCode:r.answer.qualifiedCode,value:t}))},m=(d||c)&&i===!1;return typeof h>"u"||h?s.jsxs(a.Fragment,{children:[s.jsxs(u,{children:[s.jsx(l,{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,borderBottom:m?"0":"",padding:"8px",position:"sticky",left:0,zIndex:1,minWidth:"60px"},children:(f=r.answer.content)==null?void 0:f.label}),r.choices.map(t=>{var o,y;return s.jsx(l,{component:"th",scope:"row",sx:{borderBottom:m?"0":"",padding:"8px"},children:s.jsx(T,{onIconClick:()=>C(t.code),imageHeight:"64px",isSelected:S==t.code,theme:n,svgUrl:(o=t==null?void 0:t.resources)!=null&&o.icon?p((y=t==null?void 0:t.resources)==null?void 0:y.icon):void 0})},t.code)})]},r.answer.code),m?s.jsx(u,{children:s.jsx(l,{sx:{padding:"8px"},colSpan:r.choices?r.choices.length+1:1,children:s.jsx(w,{component:r.answer})})}):""]}):""}export{G as default};
