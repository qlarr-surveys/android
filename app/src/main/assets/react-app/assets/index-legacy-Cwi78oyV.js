!function(){const e=["children"],t=["behavior","align"],r=["done","behavior","align","calculateViewLocation"],n=["listState","topItemsIndexes"],o=["style","children"],i=["style","children"];function a(e){return y(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||g()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,l,"next",e)}function l(e){u(i,n,o,a,l,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return y(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||v(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){if(Array.isArray(e))return e}System.register(["./index-legacy-z8WAiyjY.js","./use-service-legacy-DoYgXERf.js","./common-legacy-B-WyRKJ2.js","./Web-legacy-Dz-SFdTk.js","./isTouchDevice-legacy-BWB3jf16.js","./Image-legacy-DKJdMQpU.js","./TextField-legacy-D6Q451tj.js","./TableRow-legacy-Nu651E_a.js","./TableHead-legacy-7BBQ8TBy.js","./TableCell-legacy-BCalByND.js","./Radio-legacy-CWj9Pfyi.js","./useDrop-legacy-_gU19LvA.js","./index-legacy-BVavFv3a.js","./DateTimePicker-legacy-C9-1je45.js","./Tabs-legacy-NAzkEbva.js","./index-legacy-CuEkeJL0.js","./index-legacy-CAUJ6yf4.js","./Close-legacy-ib1k4FqX.js","./FormControlLabel-legacy-nx1jJyxs.js","./Checkbox-legacy-BaYVgtdy.js","./DatePicker-legacy-DUDb6cAR.js","./Delete-legacy-MzreWGjP.js","./Card-legacy-CChnSgv3.js","./survey-legacy-BBPrODqM.js","./use-boolean-legacy-D44X7XOz.js","./radioClasses-legacy-BlR7uqLF.js","./tableRowClasses-legacy-DaFKeYPP.js","./SwitchBase-legacy-B0lowptr.js","./RadioGroupContext-legacy-BkNJrcw4.js","./InputAdornment-legacy-DY9q8CqN.js"],(function(u,d){"use strict";var f,g,v,m,y,b,_,x,w,O,S,k,j,E,C,T,q,I,A,L,P,N,F,R,M,D,V,z,B,H,U,$,W,K,G,Y,J,Q,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,de,pe,fe,he,ge,ve,me,ye,be,_e,xe,we,Oe,Se,ke,je,Ee,Ce,Te,qe,Ie,Ae,Le,Pe,Ne,Fe,Re,Me,De,Ve,ze,Be,He,Ue,$e,We,Ke,Ge,Ye,Je,Qe,Xe,Ze,et,tt,rt,nt,ot,it,at,lt,st,ut,ct,dt,pt,ft,ht,gt,vt,mt,yt,bt,_t,xt,wt,Ot,St,kt,jt,Et,Ct,Tt,qt,It,At,Lt,Pt,Nt,Ft,Rt,Mt,Dt,Vt,zt,Bt,Ht,Ut,$t,Wt,Kt,Gt,Yt,Jt,Qt,Xt,Zt,er,tr,rr,nr,or,ir,ar,lr,sr,ur,cr,dr,pr,fr,hr,gr,vr,mr,yr,br,_r,xr,wr,Or,Sr,kr,jr,Er,Cr,Tr,qr,Ir,Ar,Lr,Pr,Nr,Fr,Rr,Mr,Dr,Vr,zr,Br,Hr,Ur,$r,Wr,Kr,Gr,Yr,Jr,Qr,Xr,Zr,en,tn,rn,nn,on,an,ln,sn,un,cn,dn,pn,fn,hn,gn,vn;return{setters:[e=>{f=e.b,g=e.w,v=e.r,m=e.J,y=e.M,b=e.O,_=e.an,x=e.P,w=e._,O=e.g,S=e.f,k=e.h,j=e.j,E=e.d,C=e.k,T=e.a1,q=e.l,I=e.i,A=e.o,L=e.q,P=e.B,N=e.p,F=e.ai,R=e.R,M=e.y,D=e.A,V=e.ag,z=e.ao,B=e.ap,H=e.H,U=e.aq,$=e.ar,W=e.as,K=e.at,G=e.au,Y=e.av,J=e.x,Q=e.C,X=e.aw},e=>{Z=e.bZ,ee=e.b_,te=e.C,re=e.A,ne=e.k,oe=e.b$,ie=e.f,ae=e.j,le=e.c,se=e.c0,ue=e.al,ce=e.am,de=e.an,pe=e.I,fe=e.h,he=e.c1,ge=e.b,ve=e.bR,me=e.c2,ye=e.T,be=e.l,_e=e.B,xe=e.c3,we=e.L,Oe=e.c4,Se=e.D,ke=e.n,je=e.o,Ee=e.v,Ce=e.p,Te=e.c5,qe=e.z,Ie=e.x,Ae=e.w,Le=e.be,Pe=e.bf,Ne=e.bg,Fe=e.t,Re=e.i,Me=e.bM,De=e.c6,Ve=e.e,ze=e.K,Be=e.M,He=e.U,Ue=e.H,$e=e.c7,We=e.c8,Ke=e.c9,Ge=e.ca,Ye=e.cb,Je=e.bi,Qe=e.aw,Xe=e.cc,Ze=e.cd,et=e.ap,tt=e.aP,rt=e.ce,nt=e.cf,ot=e.aD,it=e.b8,at=e.cg,lt=e.ch,st=e.R,ut=e.ci,ct=e.ba,dt=e.cj,pt=e.ck,ft=e.cl,ht=e.cm,gt=e.cn,vt=e.co,mt=e.cp,yt=e.cq,bt=e.bl,_t=e.cr,xt=e.cs,wt=e.ct,Ot=e.cu,St=e.ax,kt=e.S,jt=e.N,Et=e.cv,Ct=e.a2,Tt=e.cw,qt=e.P,It=e.bA,At=e.W,Lt=e.ar,Pt=e.bc,Nt=e.cx,Ft=e.cy,Rt=e.cz,Mt=e.cA,Dt=e.cB,Vt=e.cC,zt=e.cD,Bt=e.cE,Ht=e.cF,Ut=e.aL,$t=e.cG,Wt=e.cH,Kt=e.aF,Gt=e.cI,Yt=e.cJ,Jt=e.av,Qt=e.bt,Xt=e.aW,Zt=e.cK,er=e.cL,tr=e.cM},e=>{rr=e.b},e=>{nr=e.G,or=e.H,ir=e.J,ar=e.L,lr=e.M,sr=e.N,ur=e.O,cr=e.P,dr=e.Q,pr=e.T,fr=e.U,hr=e.v,gr=e.C,vr=e.D,mr=e.V,yr=e.m,br=e.W,_r=e.X,xr=e.K,wr=e.Y},e=>{Or=e.c,Sr=e.E,kr=e.D,jr=e.i,Er=e.T,Cr=e.H},e=>{Tr=e.u,qr=e.a,Ir=e.D,Ar=e.d},e=>{Lr=e.T,Pr=e.F,Nr=e.I},e=>{Fr=e.T,Rr=e.a,Mr=e.b,Dr=e.c},e=>{Vr=e.T},e=>{zr=e.T},e=>{Br=e.R},e=>{Hr=e.u},e=>{Ur=e.R},e=>{$r=e.G,Wr=e.q,Kr=e.D,Gr=e.L},e=>{Yr=e.P,Jr=e.a,Qr=e.b},e=>{Xr=e.D},e=>{Zr=e.C,en=e.H,tn=e.c,rn=e.A,nn=e.a,on=e.d,an=e.b},e=>{ln=e.C,sn=e.a},e=>{un=e.F},e=>{cn=e.C},e=>{dn=e.D,pn=e.T},e=>{fn=e.d},e=>{hn=e.C},e=>{gn=e.N},e=>{vn=e.u},null,null,null,null,null],execute:function(){var mn=document.createElement("style");mn.textContent='._noPadding_1ii70_1{padding:0}._addRow_1ii70_5{margin-top:16px}._addColumn_1ii70_9{text-align:right}._addIcon_1ii70_13{width:64px;height:64px}._addIcon_1ii70_13>svg{width:100%;height:100%}._svgContainer_1ii70_23{text-align:center}._svgContainer_1ii70_23>svg{width:100%;height:100%}._addButton_1ii70_31._addButton_1ii70_31{text-transform:none;color:#16205b;font-weight:bolder;background-color:#e0e2ef;border-radius:9999px;padding:.5rem 1rem}._mainContainer_as1f9_1{display:flex}._updateButtons_as1f9_5{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}._save_as1f9_14{margin-left:10px}._header_as1f9_18{max-width:800px}._groupEmptyHint_1pku9_2{text-align:center;font-size:32px;padding:16px;color:gray;margin:16px;border:2px dashed gray;border-radius:4px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1pku9_14{background-color:rgba(0,0,0,.1)}._footer_1pku9_18{height:100px}._contentPanel_1pku9_22{position:relative;overflow-y:auto;flex:1 1 auto;width:100%;height:calc(100vh - 64px)}._cardImage_1pku9_30{max-height:22.5vw;height:160px;width:100%;margin:auto;background-size:cover;background-position:center}._customScrollBar_1pku9_38::-webkit-scrollbar{width:10px}._virtuosoStyle_1pku9_42{width:100%;height:100%}._cardMediaContent_1pku9_47{max-width:800px;min-width:350px;margin:auto}._buttonContainer_1pku9_55{display:flex;align-items:center;gap:0px;position:absolute;top:0;right:22.5rem;z-index:1}._button_1pku9_55._button_1pku9_55{text-transform:none;padding:.2rem 1rem;background-color:#fff;border-radius:0/0px;color:#16205b}._button_1pku9_55._button_1pku9_55:hover{background-color:#16205b;color:#fff}._errorDisplay_1joy4_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._clickable_1joy4_10{cursor:pointer}._textDescriptionContent_o9cn8_1{display:flex;align-items:center;margin-top:12px}._moveBox_o9cn8_7{width:100%;display:flex;justify-content:center}._groupQuestion_o9cn8_13{position:relative;padding:1.5rem 1rem 1rem;word-wrap:break-word;page-break-inside:avoid;transition:all .2s cubic-bezier(0,0,.2,1);cursor:default}._titleContainer_o9cn8_22{display:flex;align-items:center;gap:.5rem;word-break:break-all}._titleQuestion_o9cn8_29{display:flex;align-items:center}._titleQuestion_o9cn8_29 h3{width:auto}._iconBox_o9cn8_39{display:flex;align-items:center;gap:.5rem;color:#16205b;font-weight:700}@keyframes _fadeInMoveRight_o9cn8_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_o9cn8_59{width:100%;animation:_fadeInMoveRight_o9cn8_1 .75s ease-out forwards}._contentContainer_o9cn8_64._contentContainer_o9cn8_64{position:absolute;top:-5px;right:0;width:100%;display:flex;justify-content:space-between;align-items:center}._fullWidth_1dvff_1{width:100%;cursor:text}._toolbarClass_1dvff_6 div ._rdw-editor-toolbar_1dvff_6{border:0!important;margin:0!important;padding:0!important}._noPadding_1dvff_12>:last-child{margin-bottom:0}._noPadding_1dvff_12>:first-child{margin-top:0}p{margin-top:0;margin-bottom:0}._placeholder_1dvff_25{color:#aaa}._placeholder_1dvff_25>:first-child{margin-top:0}._placeholder_1dvff_25>:last-child{margin-bottom:0}.ql-editor{padding:0!important}.ql-container{font-size:inherit!important;font-family:inherit!important}.ql-snow{padding:0!important;border:0!important}.quill{display:flex;flex-direction:column-reverse}.rtl .ql-editor,.rtl{direction:rtl!important;text-align:right!important}/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"•"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"☑"}.ql-editor ul[data-checked=false]>li:before{content:"☐"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}.ql-mention-list-container{width:270px;border:1px solid #f0f0f0;border-radius:4px;background-color:#fff;box-shadow:0 2px 12px rgba(30,30,30,.08);z-index:9001;overflow:auto}.ql-mention-loading{line-height:44px;padding:0 20px;vertical-align:middle;font-size:16px}.ql-mention-list{list-style:none;margin:0;padding:0;overflow:hidden}.ql-mention-list-item{cursor:pointer;line-height:44px;font-size:16px;padding:0 20px;vertical-align:middle}.ql-mention-list-item.disabled{cursor:auto}.ql-mention-list-item.selected{background-color:#d3e1eb;text-decoration:none}.mention{height:24px;width:65px;border-radius:6px;background-color:#d3e1eb;padding:3px 0;margin-right:2px;user-select:all}.mention>span{margin:0 3px}._actionControl_1xa5v_1{display:flex;margin-right:8px;margin-left:8px;justify-content:flex-end}._statusIcon_1xa5v_8{cursor:default}._questionContainer_1xa5v_12{padding:16px}._actionIcon_1xa5v_16,._settingIcon_1xa5v_17{font-size:22px}._settingIcon_1xa5v_17{transform:rotate(90deg)}._deleteIcon_1xa5v_25{font-size:32px}._questionItem_169qj_1{margin-bottom:15px;width:50%}._questionItem_169qj_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_169qj_1{width:100%}}._questionItem_13fbu_1{margin-bottom:15px}._questionItem_13fbu_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_13fbu_1{width:100%}}._paragraph_13fbu_15{width:100%}._wordCount_13fbu_19{text-align:end}._questionItem_1sx0f_1{margin-bottom:15px;width:50%}._questionItem_1sx0f_1:last-child{margin-bottom:0}@media only screen and (max-width: 767px){._questionItem_1sx0f_1{width:100%}}._questionItem_wb37f_1{margin-bottom:15px;width:50%}._questionItem_wb37f_1:last-child{margin-bottom:0}@media screen and (max-width: 768px){._questionItem_wb37f_1{width:100%}}._placeholder_4iqf5_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_4iqf5_9{text-align:center;margin-top:24px}._signatureCanvas_1uxb1_1{border:1px solid transparent;padding:8px;border-radius:4px;text-align:center}._placeholder_xjf3c_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_xjf3c_9{text-align:center;margin-top:24px}._imageContainer_xjf3c_14{background-position:center;background-repeat:no-repeat}._choicesContainer_k0bnu_1{display:flex;width:100%;table-layout:fixed;margin-bottom:16px;justify-content:space-between}._choicesContainer_k0bnu_1 ._choice_k0bnu_1{padding:8px;width:100%;margin:1px;font-weight:700;font-size:larger;border:1px solid;text-align:center}._choiceLabels_k0bnu_19{margin-top:16px;display:flex;justify-content:space-between}._container_cyg3h_1{text-align:center}._answerAdd_5tmqk_1{display:flex;align-items:baseline;padding-left:18px;justify-content:flex-end;gap:.5rem}._questionItem_5tmqk_9{display:flex;flex-direction:column;gap:2rem}._choicesContainer_5tmqk_15{display:flex;flex-direction:column;gap:.5rem}._answerItem_shykq_1{display:flex;flex-flow:row wrap;align-items:center;transition:all .2s;height:auto}._answerIcon_shykq_10{display:flex}._answerItem_shykq_1 ._answerIcon_shykq_10:hover{cursor:pointer}._answerItem_shykq_1 ._answerIconOther_shykq_18{align-self:center;margin-right:10px}._answerItem_shykq_1 ._answerIconOther_shykq_18:hover{cursor:pointer}._answerItem_shykq_1 ._answerNumberOrder_shykq_27{width:30px;text-align:center}._answerItem_shykq_1 ._answerControl_shykq_32{margin-left:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlRtl_shykq_37{margin-right:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlOther_shykq_42{margin-left:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerControlOtherRtl_shykq_47{margin-right:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerOtherControl_shykq_52{margin-left:43px;width:50%}._addAnswerIcon_4rcog_1{scale:2}._questionItem_4rcog_5{overflow:hidden;padding-top:16px}._addAnswerButton_4rcog_10{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._imageIconButton_chgwf_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_chgwf_8{background-size:cover;background-position:center;background-repeat:no-repeat;position:relative;width:100%}._addAnswerIcon_chgwf_16{scale:2}._loadingContainer_chgwf_20{top:50%;left:50%;position:absolute}._addAnswerButton_chgwf_26{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._buttonContainers_chgwf_34{width:100%;top:0;position:absolute}._imageIconButton_lgrld_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_lgrld_8{text-align:center}._addAnswerIcon_lgrld_12{scale:2}._loadingContainer_lgrld_16{text-align:center;float:right;width:100%;margin-top:24px}._addAnswerButton_lgrld_23{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._svgContainer_lgrld_31>svg{width:100%;height:100%}._buttonContainers_lgrld_36{width:100%;display:inline-block}._resultImage_2y7qe_1{display:contents}._resultImage_2y7qe_1>svg{margin:8px;width:48px;height:48px}._textHeader_17ofz_1{word-break:break-all}._textDescription_17ofz_5{display:flex;align-items:flex-start;margin-top:12px}._groupCard_17ofz_11{position:relative;box-shadow:inherit!important;padding-bottom:24px;cursor:default}._type_17ofz_18{display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._groupType_17ofz_25{margin-top:0;display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._questionsOuterContainer_17ofz_33{padding:24px}._questionsInnerContainer_17ofz_37{border-radius:8px;padding-right:24px;padding-left:24px}._groupDesignError_17ofz_43{border-color:red!important;background-color:rgba(255,0,0,.063)!important}._groupHeader_17ofz_48{padding:1.75rem 1rem 1rem}._inputGroupTitle_17ofz_52{width:100%;line-height:135%}._inputGroupDescription_17ofz_57{width:100%;margin-top:4px}._moveBox_17ofz_62{display:flex;margin:auto;justify-content:center;width:50%;cursor:move}._topLevel_17ofz_71{display:flex;flex-direction:column;max-width:800px;max-width:min(800px,calc(100% - 32px));min-width:320px;gap:1rem;padding:.5rem .5rem 2rem;margin:auto;position:relative}._groupText_17ofz_83{font-size:20px;font-weight:700}@keyframes _fadeInMoveRight_17ofz_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_17ofz_101{animation:_fadeInMoveRight_17ofz_1 .75s ease-out forwards}._contentContainer_17ofz_105._contentContainer_17ofz_105{position:absolute;top:0;right:0;width:100%;display:flex;justify-content:space-between;align-items:center;justify-content:end}._headerContent_17ofz_116{position:relative}._groupDropArea_1m6hh_1{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,height .2s ease-in-out,opacity .2s}._groupDragging_1m6hh_24{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:50px;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,opacity .2s}._questionDropArea_1m6hh_45{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;max-width:800px;min-width:350px;padding:0;width:100%;margin:auto;font-size:2rem;color:rgba(0,0,0,.5);background-color:rgba(0,0,0,.1);border:1px dotted #16205b;border-radius:2px;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupDropAreaWrapper_1m6hh_72{padding:1rem 0;max-width:800px;width:100%;min-width:350px}._groupDropAreaWrapper_1m6hh_72._hide_1m6hh_79{padding:0}._hidden_1m6hh_83{height:1px;margin:auto;max-width:800px;width:100%;min-width:350px;transition:height .2s,padding .2s}._isDragging_1m6hh_92{display:flex;justify-content:center;align-items:center;border:1px dotted #16205b;height:50px;margin:0;background-color:#f9f9f9;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupHidden_1m6hh_104{height:6rem;margin:auto;max-width:800px;min-width:350px}._groupEmptyHint_1m6hh_111{display:flex;justify-content:center;align-items:center;text-align:center;height:50px;margin:auto;max-width:800px;width:100%;min-width:350px;color:gray;border:1px dotted #16205b;border-radius:2px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1m6hh_130{background-color:rgba(0,0,0,.1)}._dropText_1m6hh_134{font-size:20px}._showHint_9iocv_1{display:flex;align-items:center;justify-content:space-between;margin-top:20px;width:100%}._inputValue_9iocv_9{max-width:80%}._boxContainer_182us_1{border:1px solid;padding:15px}._boxContainer_182us_1 h4{margin:0}._boxContainer_182us_1 ._mt10_182us_10{margin-top:10px}._boxContainer_182us_1 ._uppercase_182us_14{text-transform:uppercase}._title_182us_18{display:flex;align-items:center;justify-content:space-between;width:100%}._title_182us_18 p{margin:0 30px 0 0}._boxContainer_1vhs4_1{border:1px solid;padding:15px}._boxContainer_1vhs4_1 h4{margin:0}._boxContainer_1vhs4_1 ._mt10_1vhs4_9{margin-top:10px}._boxContainer_1vhs4_1 ._uppercase_1vhs4_13{text-transform:uppercase}._title_1vhs4_18{display:flex;align-items:center;justify-content:space-between}._title_1vhs4_18 p{margin:0 30px 0 0}._titleContent_1vhs4_28{display:flex;align-items:center}._standardError_1vhs4_33{display:flex;align-items:center;margin-bottom:10px}._standardError_1vhs4_33 p{margin:0 30px 0 0}._errorWrapper_1vhs4_44{display:flex}._errorLabelWrapper_1vhs4_48{margin-right:10px}._errorItem_1vhs4_52{display:flex;align-items:center;margin-bottom:5px;min-height:30px}._errorItemContainer_1vhs4_58{width:100%}._valueValidationItems_1hupk_1,._valueValidationItemsContainer_1hupk_6{display:flex;align-items:center}._valueValidationItemsContainer_1hupk_6 ._error_1hupk_11{color:red}._toggleValue_1d9zg_1{display:flex;align-items:center;justify-content:space-between;width:100%}._inputValue_1d9zg_8{max-width:80%}._selectValue_9m4tq_1,._selectDate_1qp3e_1{display:flex;align-items:center;justify-content:space-between;width:100%}._selectDateField_1qp3e_8{max-width:50%}.query-builder .qb-drag-handler,.query-builder .qb-draggable,.query-builder{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.query-builder .rule--header:after{content:"";display:table;clear:both}.query-builder{overflow:hidden;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.25;margin:1rem}.query-builder .group{background:rgba(250,240,210,.5);border:1px solid #DCC896}.query-builder .rule{background-color:#fff;border:1px solid transparent;padding:10px}.query-builder .rule-with-error .rule{border-color:#e0a1a1}.query-builder .group-with-error>.group{border-color:#e0a1a1}.query-builder .rule--body{display:flex;flex-wrap:wrap;text-align:center}.query-builder .rule--body--wrapper{flex:1;display:flex;flex-direction:column}.query-builder .rule--error{color:red;margin-bottom:-5px;margin-top:5px}.query-builder .rule_group--error{color:red;margin-bottom:-5px;margin-top:5px;width:100%}.query-builder .group-or-rule{border-radius:5px;position:relative}.query-builder .rule_group,.query-builder .rule_group_ext{background:rgba(255,252,242,.5);border:1px solid #f9f1dd}.query-builder .locked{border:1px dashed red}.query-builder .qb-placeholder{border:1px dashed gray}.query-builder.qb-dragging{cursor:-webkit-grabbing!important;cursor:grabbing!important}.query-builder.qb-dragging button{pointer-events:none}.query-builder .qb-draggable{pointer-events:none;position:absolute;opacity:.7;z-index:1000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .qb-drag-handler{cursor:-webkit-grabbing;cursor:grabbing}.query-builder .group--header:not(.no--children):not(.hide--conjs){position:relative}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{z-index:0;content:"";position:absolute;border-width:0 0 0 2px;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--header:not(.no--children):not(.hide--conjs).hide--line:before{border-color:rgba(128,128,128,.1)}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{border-width:0 0 2px 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{border-width:0 0 0 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{content:"";position:absolute;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 11px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{left:-14px;width:13px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:before{border-radius:0 0 0 4px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:after{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 13px)}.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:rgba(128,128,128,.1)}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 8px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 6px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{left:-11px;width:10px}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before{top:-2px;height:calc(50% + 3px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 13px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{left:-15px;width:13px}.query-builder .switch_group>.group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .qb-draggable:before,.query-builder .qb-draggable:after{display:none}.query-builder .group--header,.query-builder .group--footer{display:flex;align-items:stretch;padding-left:10px;padding-right:10px;margin-top:10px;margin-bottom:10px}.query-builder .group-or-rule-container{margin-top:10px;margin-bottom:10px;padding-right:10px}.query-builder .group-or-rule-container:first-child{margin-top:0!important}.query-builder .group-or-rule-container:last-child{margin-bottom:0!important}.query-builder .group--drag-handler{margin-right:8px;margin-top:3px;position:relative;align-self:center}.query-builder .group--conjunctions{flex-shrink:0;display:flex}.query-builder .group--conjunctions .group--drag-handler{margin-left:10px}.query-builder .group--children{padding-left:24px;margin-top:10px;margin-bottom:10px}.query-builder .group--children .group--field--count--rule{display:flex;flex-wrap:wrap;flex:1}.query-builder .group--conjunctions.hide--conj{opacity:.3}.query-builder .group--actions{align-self:center;margin-left:10px;flex:1;display:flex}.query-builder .group--actions--tl,.query-builder .group--actions--bl{justify-content:flex-start}.query-builder .group--actions--tl{margin-left:20px}.query-builder .group--actions--tc,.query-builder .group--actions--bc{justify-content:center}.query-builder .group--actions--tr,.query-builder .group--actions--br{justify-content:flex-end}.query-builder .case_group{border-width:2px}.query-builder .case_group .case_group--body{display:flex;flex-direction:row;margin-top:10px;margin-bottom:10px}.query-builder .case_group .case_group--body .case_group--children{flex:auto;margin-top:0!important;margin-bottom:0!important}.query-builder .case_group .case_group--value{margin:0 10px}.query-builder .rule_group{display:flex;flex-wrap:wrap;padding-left:10px}.query-builder .rule_group .group--field{margin-top:10px;margin-bottom:10px;align-self:center}.query-builder .rule_group .group--actions{margin-left:10px;align-self:center;flex:0}.query-builder .rule_group .rule_group--children{flex:1;margin-top:5px;margin-bottom:5px;padding-left:18px}.query-builder .rule_group .rule_group--children .group-or-rule-container{margin-bottom:5px;margin-top:5px;padding-right:5px}.query-builder .rule_group .rule_group--children.one--child{padding-left:9px}.query-builder .rule_group_ext .group--actions{flex:none}.query-builder .group--header.hide--drag.with--conjs>.group--field--count--rule{margin-left:20px}.query-builder .rule{flex:1;display:flex}.query-builder .rule--header{margin-left:auto;display:flex;align-items:center;padding-left:10px}.query-builder .rule--drag-handler{display:flex;align-items:center;margin-right:8px}.query-builder .rule--field,.query-builder .rule--fieldsrc,.query-builder .group--field,.query-builder .rule--operator,.query-builder .rule--value,.query-builder .rule--operator-options,.query-builder .rule--widget,.query-builder .widget--widget,.query-builder .widget--valuesrc,.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--before-widget,.query-builder .rule--after-widget{display:inline-block}.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep{vertical-align:bottom;align-self:flex-end;margin-bottom:8px}.query-builder .rule--func--arg-sep{margin-bottom:3px}.query-builder .widget--sep{margin-left:10px;margin-right:10px}.query-builder .widget--sep.widget--sep-first{margin-right:10px;margin-left:0}.query-builder .rule--operator{margin-left:20px;margin-right:20px}.query-builder .operator--options--sep{margin-right:10px}.query-builder .rule--func--arg-sep{margin-left:3px;margin-right:6px}.query-builder .rule--func--bracket-after{margin-left:5px;margin-right:2px}.query-builder .rule--func--bracket-before{margin-left:5px;margin-right:5px}.query-builder .widget--valuesrc,.query-builder .rule--fieldsrc{vertical-align:top}.query-builder .operator--options{display:flex}.query-builder .rule--operator-wrapper{display:flex;flex-direction:column;height:100%}.query-builder .rule--operator-text-wrapper{flex:1;display:flex;align-items:center}.query-builder div.tooltip-inner{max-width:500px}.query-builder .rule--label{display:block;font-weight:700}.query-builder .rule--func--wrapper,.query-builder .rule--func,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep,.query-builder .rule--func--arg-label,.query-builder .rule--func--arg-label-sep{display:inline-block}.query-builder .rule--func--wrapper,.query-builder .rule--func--args{display:flex;flex-wrap:wrap}.query-builder .rule--func--arg{display:flex}.query-builder .rule--field-wrapper,.query-builder .rule--field--func,.query-builder .rule--func--wrapper,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--arg-value>.rule--widget,.query-builder .widget--func{display:contents}.query-builder .rule--func,.query-builder .widget--widget{margin-bottom:2px}.query-builder .rule--body--wrapper{margin-bottom:-2px}.query-builder .rule--body.can--shrink--value .rule--value{flex:1}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget{width:100%;display:flex}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget .widget--widget{flex:1}.query-builder.qb-lite .group--drag-handler,.query-builder.qb-lite .group--actions{transition:opacity .2s}.query-builder.qb-lite .group--header:hover .group--header .group--drag-handler,.query-builder.qb-lite .group--header:hover .group--header .group--actions,.query-builder.qb-lite .group--header:not(:hover) .group--drag-handler,.query-builder.qb-lite .group--header:not(:hover) .group--actions,.query-builder.qb-lite .rule_group:not(:hover) .group--drag-handler,.query-builder.qb-lite .rule_group:not(:hover) .group--actions{opacity:0}.query-builder.qb-lite .rule--fieldsrc,.query-builder.qb-lite .widget--valuesrc,.query-builder.qb-lite .rule--drag-handler,.query-builder.qb-lite .rule--header{transition:opacity .2s}.query-builder.qb-lite .rule:hover .rule .rule--fieldsrc,.query-builder.qb-lite .rule:hover .rule .widget--valuesrc,.query-builder.qb-lite .rule:hover .rule .rule--drag-handler,.query-builder.qb-lite .rule:hover .rule .rule--header,.query-builder.qb-lite .rule:not(:hover) .rule--fieldsrc,.query-builder.qb-lite .rule:not(:hover) .widget--valuesrc,.query-builder.qb-lite .rule:not(:hover) .rule--drag-handler,.query-builder.qb-lite .rule:not(:hover) .rule--header{opacity:0}.query-builder.qb-lite.qb-dragging .rule--fieldsrc,.query-builder.qb-lite.qb-dragging .widget--valuesrc,.query-builder.qb-lite.qb-dragging .rule--drag-handler,.query-builder.qb-lite.qb-dragging .rule--header,.query-builder.qb-lite.qb-dragging .group--drag-handler,.query-builder.qb-lite.qb-dragging .group--actions{opacity:0!important}.query-builder .MuiIconButton-sizeSmall{padding:3px}.customSelectOption{color:#f08080}.group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:transparent}.MuiAutocomplete-fullWidth{width:320px!important}.query-builder-container{padding:0!important}.query-builder{margin:0!important}.query-builder .group{background-color:transparent;border:0px solid #000}.query-builder .rule--header button{color:#6e6e6e}.logicField{color:#00f}.logicOp{font-weight:700}.logicValue{color:green}.condition-human-text{width:100%;white-space:pre-wrap}.query-builder-result{margin-top:9px;display:flex}.icon-container{display:flex;align-items:center}._relevance_1j5a5_1{display:inline-block}._relevanceError_1j5a5_5{background-color:rgba(255,0,0,.133)}._errorContainer_1j5a5_9{display:flex}._skipItem_1n8m2_1{margin-top:24px;margin-bottom:24px}._toEnd_1n8m2_6{display:flex;justify-content:space-between;width:100%;align-items:center;padding:4dp}._sectionTitle_nmfqz_1{font-size:16px;font-weight:700}._rightContent_nmfqz_6{width:100%;overflow-y:auto;background-color:#fff;height:calc(100vh - 64px)}._close_nmfqz_13{text-align:right}._accordionStyle_nmfqz_17._accordionStyle_nmfqz_17{box-shadow:none;border-bottom:1px solid #d7d7d7}._errorDisplay_1avr2_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._randomHeader_1pjix_1{display:flex;justify-content:space-between}._randomHeader_1pjix_1 ._title_1pjix_6{margin:0;line-height:40px}._randomHeader_1pjix_1 ._action_1pjix_11{float:right}._randomHeader_1pjix_1 ._settingIcon_1pjix_15{font-size:20px}._randomBody_1pjix_19 ._list_1pjix_19{padding-left:7px;margin-top:4px;list-style-type:"-"}._randomBody_1pjix_19 ._list_1pjix_19 li{line-height:24px;margin-bottom:6px}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._randomAction_1pjix_47{margin-top:15px;text-align:right;padding-right:4px}._listItem_1pjix_53{display:flex;align-items:center}._listItem_1pjix_53 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItem_1pjix_53 ._input_1pjix_64{width:50px}._listItemError_1pjix_68{color:red;display:flex;align-items:center}._listItemError_1pjix_68 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItemError_1pjix_68 ._input_1pjix_64{width:50px}._randomItem_1pjix_84{margin-bottom:10px;padding:8px}._highlighted_1pjix_89{border:2px solid;border-radius:4px}._title_5cg20_1{margin:0;line-height:40px}._randomBody_5cg20_6 ._list_5cg20_6{padding-left:0;margin:0 0 10px;list-style-type:"-"}._randomBody_5cg20_6 ._list_5cg20_6 li{padding-left:0;line-height:24px;margin-bottom:6px}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._label_5cg20_35{width:100%}._randomAction_5cg20_39{margin-top:15px;text-align:right;padding-right:4px}._listItem_5cg20_45{display:flex;align-items:center}._listItem_5cg20_45 ._input_5cg20_50{width:50px}._randomItem_5cg20_54{margin-top:10px;margin-bottom:10px;padding:8px}._selectValue_14l81_1{margin-bottom:20px!important}._errorDisplay_1vtlj_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._addNew_1vtlj_10{margin-top:8px}._title_1p7e9_1{margin:0;line-height:40px}._list_1p7e9_6{padding-left:7px;margin:0 0 10px;list-style-type:none}._list_1p7e9_6 li{line-height:24px;margin-bottom:6px;padding-left:0;margin-left:-12px}._randomAction_1p7e9_19{margin-top:15px;text-align:right;padding-right:4px}._listItem_1p7e9_25{display:flex;align-items:center}._listItem_1p7e9_25 ._input_1p7e9_30{width:50px}._randomItem_1p7e9_34{margin-top:10px;margin-bottom:10px;padding:8px}._randomHeader_10d2m_1{display:flex;justify-content:space-between}._randomHeader_10d2m_1 ._title_10d2m_6{margin:0;line-height:40px}._randomHeader_10d2m_1 ._action_10d2m_11{float:right}._randomHeader_10d2m_1 ._settingIcon_10d2m_15{font-size:20px}._list_10d2m_19{padding-left:7px;margin:0 0 10px;list-style-type:"-"}._list_10d2m_19 li{line-height:24px;margin-bottom:6px}._randomAction_10d2m_30{margin-top:15px;text-align:right;padding-right:4px}._listItem_10d2m_36{display:flex;align-items:center}._listItem_10d2m_36 ._label_10d2m_41{display:flex;align-items:center;width:100%}._listItem_10d2m_36 ._input_10d2m_47{width:50px}._listItemError_10d2m_51{color:red;display:flex;align-items:center}._listItemError_10d2m_51 ._label_10d2m_41{display:flex;align-items:center;width:100%}._randomItem_10d2m_63{margin-bottom:10px;padding:8px}._highlighted_10d2m_68{border:2px solid;border-radius:4px}._theming_1v217_1{padding:.25rem 1rem;display:flex;flex-direction:column;gap:1rem}._theming_1v217_1 hr{margin:25px 0 0}._chooseImage_1v217_12._chooseImage_1v217_12{padding:.2rem 10px;border-radius:8px;text-transform:none;color:#16205b;font-weight:500;align-items:center;border:1px solid #16205b}._resetButton_1v217_21._resetButton_1v217_21{padding:0}._fontText_1v217_24{font-size:14px}._selectDropdown_1v217_27._selectDropdown_1v217_27{color:#16205b;font-weight:600;border-radius:11px}._colorBox_1v217_33._colorBox_1v217_33{padding:.875rem;border-radius:8px;width:3rem;border:1px solid #16205b}._colorPickerContainer_1v217_40{position:absolute;z-index:2;right:0;top:30px;user-select:none;display:flex;flex-direction:column;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.08)}._themingItem_11qn9_1 h6{margin-top:15px;margin-bottom:10px}._themingItem_11qn9_1 ._themingItemBody_11qn9_6{display:flex}._themingItem_11qn9_1 ._themingItemBody_11qn9_6 div:nth-child(1){flex-grow:1}._selectDropdown_11qn9_13._selectDropdown_11qn9_13{color:#16205b;font-weight:600;border-radius:15px}\n/*$vite$:1*/',document.head.appendChild(mn);const yn=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return rU},get LOWER(){return eU},get NOW(){return XH},get RELATIVE_DATETIME(){return ZH},get UPPER(){return tU}},Symbol.toStringTag,{value:"Module"}));function bn(e,t){if(null==e)return{};var r,n,o=f(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const _n=g({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var xn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function wn(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(_n[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("--\x3e");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var o=new RegExp(xn),i=null;null!==(i=o.exec(e));)if(i[0].trim())if(i[1]){var a=i[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var On=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Sn=/^\s*$/,kn=Object.create(null);function jn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(jn,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var En={parse:function(e,t){t||(t={}),t.components||(t.components=kn);var r,n=[],o=[],i=-1,a=!1;if(0!==e.indexOf("<")){var l=e.indexOf("<");n.push({type:"text",content:-1===l?e:e.substring(0,l)})}return e.replace(On,(function(l,s){if(a){if(l!=="</"+r.name+">")return;a=!1}var u,c="/"!==l.charAt(1),d=l.startsWith("\x3c!--"),p=s+l.length,f=e.charAt(p);if(d){var h=wn(l);return i<0?(n.push(h),n):((u=o[i]).children.push(h),n)}if(c&&(i++,"tag"===(r=wn(l)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!f||"<"===f||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===i&&n.push(r),(u=o[i-1])&&u.children.push(r),o[i]=r),(!c||r.voidElement)&&(i>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(i--,r=-1===i?n:o[i]),!a&&"<"!==f&&f)){u=-1===i?n:o[i].children;var g=e.indexOf("<",p),v=e.slice(p,-1===g?void 0:g);Sn.test(v)&&(v=" "),(g>-1&&i+u.length>=0||" "!==v)&&u.push({type:"text",content:v})}})),n},stringify:function(e){return e.reduce((function(e,t){return e+jn("",t)}),"")}},Cn=["format"],Tn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function Ln(e){return e?e.props?e.props.children:e.children:[]}function Pn(e){return Array.isArray(e)?e:[e]}function Nn(e,t){if(!e)return"";var r="",n=Pn(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((function(e,n){if("string"==typeof e)r+="".concat(e);else if(v.isValidElement(e)){var i=Object.keys(e.props).length,a=o.indexOf(e.type)>-1,l=e.props.children;if(!l&&a&&0===i)r+="<".concat(e.type,"/>");else if(l||a&&0===i)if(e.props.i18nIsDynamicList)r+="<".concat(n,"></").concat(n,">");else if(a&&1===i&&"string"==typeof l)r+="<".concat(e.type,">").concat(l,"</").concat(e.type,">");else{var s=Nn(l,t);r+="<".concat(n,">").concat(s,"</").concat(n,">")}else r+="<".concat(n,"></").concat(n,">")}else if(null===e)ee("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===_(e)){var u=e.format,c=bn(e,Cn),d=Object.keys(c);if(1===d.length){var p=u?"".concat(d[0],", ").concat(u):d[0];r+="{{".concat(p,"}}")}else ee("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else ee("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}function Fn(e,t,r,n,o,i){if(""===t)return[];var a=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(a.join("|")).test(t);if(!e&&!l)return[t];var s={};!function e(t){Pn(t).forEach((function(t){"string"!=typeof t&&(An(t)?e(Ln(t)):"object"!==_(t)||v.isValidElement(t)||Object.assign(s,t))}))}(e);var u=En.parse("<0>".concat(t,"</0>")),c=In(In({},s),o);function d(e,t,r){var n=Ln(e),o=f(n,t.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return v.isValidElement(e)}))}(n)&&0===o.length?n:o}function p(e,t,r,n,o){e.dummy&&(e.children=t),r.push(v.cloneElement(e,In(In({},e.props),{},{key:n}),o?void 0:t))}function f(t,o,s){var u=Pn(t);return Pn(o).reduce((function(t,o,h){var g,m,y,b=o.children&&o.children[0]&&o.children[0].content&&r.services.interpolator.interpolate(o.children[0].content,c,r.language);if("tag"===o.type){var x=u[parseInt(o.name,10)];!x&&1===s.length&&s[0][o.name]&&(x=s[0][o.name]),x||(x={});var w=0!==Object.keys(o.attrs).length?(g={props:o.attrs},(y=In({},m=x)).props=Object.assign(g.props,m.props),y):x,O=v.isValidElement(w),S=O&&An(o,!0)&&!o.voidElement,k=l&&"object"===_(w)&&w.dummy&&!O,j="object"===_(e)&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof w){var E=r.services.interpolator.interpolate(w,c,r.language);t.push(E)}else if(An(w)||S){p(w,d(w,o,s),t,h)}else if(k){var C=f(u,o.children,s);t.push(v.cloneElement(w,In(In({},w.props),{},{key:h}),C))}else if(Number.isNaN(parseFloat(o.name))){if(j)p(w,d(w,o,s),t,h,o.voidElement);else if(n.transSupportBasicHtmlNodes&&a.indexOf(o.name)>-1)if(o.voidElement)t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)}));else{var T=f(u,o.children,s);t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)},T))}else if(o.voidElement)t.push("<".concat(o.name," />"));else{var q=f(u,o.children,s);t.push("<".concat(o.name,">").concat(q,"</").concat(o.name,">"))}}else if("object"!==_(w)||O)1===o.children.length&&b?t.push(v.cloneElement(w,In(In({},w.props),{},{key:h}),b)):t.push(v.cloneElement(w,In(In({},w.props),{},{key:h})));else{var I=o.children[0]?b:null;I&&t.push(I)}}else if("text"===o.type){var A=n.transWrapTextNodes,L=i?n.unescape(r.services.interpolator.interpolate(o.content,c,r.language)):r.services.interpolator.interpolate(o.content,c,r.language);A?t.push(v.createElement(A,{key:"".concat(o.name,"-").concat(h)},L)):t.push(L)}return t}),[])}return Ln(f([{dummy:!0,children:e||[]}],u,Pn(e||[]))[0])}function Rn(e){var t=e.children,r=e.count,n=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,l=void 0===a?{}:a,s=e.values,u=e.defaults,c=e.components,d=e.ns,p=e.i18n,f=e.t,h=e.shouldUnescape,g=bn(e,Tn),b=v.useContext(m)||{},_=b.i18n,w=b.defaultNS,O=p||_||x();if(!O)return Z("You will need to pass in an i18next instance by using i18nextReactModule"),t;var S=f||O.t.bind(O)||function(e){return e};i&&(l.context=i);var k=In(In({},y()),O.options&&O.options.react),j=d||S.ns||w||O.options&&O.options.defaultNS;j="string"==typeof j?[j]:j||["translation"];var E=u||Nn(t,k)||k.transEmptyNodeValue||o,C=k.hashTransKey,T=o||(C?C(E):E),q=s?l.interpolation:{interpolation:In(In({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},I=In(In(In(In({},l),{},{count:r},s),q),{},{defaultValue:E,ns:j}),A=Fn(c||t,T?S(T,I):E,O,k,I,h),L=void 0!==n?n:k.defaultTransParent;return L?v.createElement(L,g,A):A}const Mn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Dn(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Vn(e={}){const t=e.ignoreAccents,r=void 0===t||t,n=e.ignoreCase,o=void 0===n||n,i=e.limit,a=e.matchFrom,l=void 0===a?"any":a,s=e.stringify,u=e.trim,c=void 0!==u&&u;return(e,{inputValue:t,getOptionLabel:n})=>{let a=c?t.trim():t;o&&(a=a.toLowerCase()),r&&(a=Dn(a));const u=a?e.filter((e=>{let t=(s||n)(e);return o&&(t=t.toLowerCase()),r&&(t=Dn(t)),"start"===l?0===t.indexOf(a):t.indexOf(a)>-1})):e;return"number"==typeof i?u.slice(0,i):u}}function zn(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const Bn=Vn(),Hn=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function Un(e){const t=e.unstable_isActiveElementInListbox,r=void 0===t?Hn:t,n=e.unstable_classNamePrefix,o=void 0===n?"Mui":n,i=e.autoComplete,a=void 0!==i&&i,l=e.autoHighlight,s=void 0!==l&&l,u=e.autoSelect,c=void 0!==u&&u,d=e.blurOnSelect,p=void 0!==d&&d,f=e.clearOnBlur,g=void 0===f?!e.freeSolo:f,m=e.clearOnEscape,y=void 0!==m&&m,b=e.componentName,_=void 0===b?"useAutocomplete":b,x=e.defaultValue,O=void 0===x?e.multiple?[]:null:x,S=e.disableClearable,k=void 0!==S&&S,j=e.disableCloseOnSelect,E=void 0!==j&&j,C=e.disabled,T=e.disabledItemsFocusable,q=void 0!==T&&T,I=e.disableListWrap,A=void 0!==I&&I,L=e.filterOptions,P=void 0===L?Bn:L,N=e.filterSelectedOptions,F=void 0!==N&&N,R=e.freeSolo,M=void 0!==R&&R,D=e.getOptionDisabled,V=e.getOptionKey,z=e.getOptionLabel,B=void 0===z?e=>{var t;return null!=(t=e.label)?t:e}:z,H=e.groupBy,U=e.handleHomeEndKeys,$=void 0===U?!e.freeSolo:U,W=e.id,K=e.includeInputInList,G=void 0!==K&&K,Y=e.inputValue,J=e.isOptionEqualToValue,Q=void 0===J?(e,t)=>e===t:J,X=e.multiple,Z=void 0!==X&&X,ee=e.onChange,ie=e.onClose,ae=e.onHighlightChange,le=e.onInputChange,se=e.onOpen,ue=e.open,ce=e.openOnFocus,de=void 0!==ce&&ce,pe=e.options,fe=e.readOnly,he=void 0!==fe&&fe,ge=e.selectOnFocus,ve=void 0===ge?!e.freeSolo:ge,me=e.value,ye=te(W);let be=B;be=e=>{const t=B(e);return"string"!=typeof t?String(t):t};const _e=v.useRef(!1),xe=v.useRef(!0),we=v.useRef(null),Oe=v.useRef(null),Se=h(v.useState(null),2),ke=Se[0],je=Se[1],Ee=h(v.useState(-1),2),Ce=Ee[0],Te=Ee[1],qe=s?0:-1,Ie=v.useRef(qe),Ae=h(re({controlled:me,default:O,name:_}),2),Le=Ae[0],Pe=Ae[1],Ne=h(re({controlled:Y,default:"",name:_,state:"inputValue"}),2),Fe=Ne[0],Re=Ne[1],Me=h(v.useState(!1),2),De=Me[0],Ve=Me[1],ze=v.useCallback(((e,t)=>{if(!(Z?Le.length<t.length:null!==t)&&!g)return;let r;if(Z)r="";else if(null==t)r="";else{const e=be(t);r="string"==typeof e?e:""}Fe!==r&&(Re(r),le&&le(e,r,"reset"))}),[be,Fe,Z,le,Re,g,Le]),Be=h(re({controlled:ue,default:!1,name:_,state:"open"}),2),He=Be[0],Ue=Be[1],$e=h(v.useState(!0),2),We=$e[0],Ke=$e[1],Ge=!Z&&null!=Le&&Fe===be(Le),Ye=He&&!he,Je=Ye?P(pe.filter((e=>!F||!(Z?Le:[Le]).some((t=>null!==t&&Q(e,t))))),{inputValue:Ge&&We?"":Fe,getOptionLabel:be}):[],Qe=Tr({filteredOptions:Je,value:Le,inputValue:Fe});v.useEffect((()=>{const e=Le!==Qe.value;De&&!e||M&&!e||ze(null,Le)}),[Le,ze,De,Qe.value,M]);const Xe=He&&Je.length>0&&!he,Ze=ne((e=>{-1===e?we.current.focus():ke.querySelector(`[data-tag-index="${e}"]`).focus()}));v.useEffect((()=>{Z&&Ce>Le.length-1&&(Te(-1),Ze(-1))}),[Le,Z,Ce,Ze]);const et=ne((({event:e,index:t,reason:r="auto"})=>{if(Ie.current=t,-1===t?we.current.removeAttribute("aria-activedescendant"):we.current.setAttribute("aria-activedescendant",`${ye}-option-${t}`),ae&&ae(e,-1===t?null:Je[t],r),!Oe.current)return;const n=Oe.current.querySelector(`[role="option"].${o}-focused`);n&&(n.classList.remove(`${o}-focused`),n.classList.remove(`${o}-focusVisible`));let i=Oe.current;if("listbox"!==Oe.current.getAttribute("role")&&(i=Oe.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===t)return void(i.scrollTop=0);const a=Oe.current.querySelector(`[data-option-index="${t}"]`);if(a&&(a.classList.add(`${o}-focused`),"keyboard"===r&&a.classList.add(`${o}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=i.clientHeight+i.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?i.scrollTop=r-i.clientHeight:e.offsetTop-e.offsetHeight*(H?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(H?1.3:0))}})),tt=ne((({event:e,diff:t,direction:r="next",reason:n="auto"})=>{if(!Ye)return;const o=function(e,t){if(!Oe.current||e<0||e>=Je.length)return-1;let r=e;for(;;){const n=Oe.current.querySelector(`[data-option-index="${r}"]`),o=!q&&(!n||n.disabled||"true"===n.getAttribute("aria-disabled"));if(n&&n.hasAttribute("tabindex")&&!o)return r;if(r="next"===t?(r+1)%Je.length:(r-1+Je.length)%Je.length,r===e)return-1}}((()=>{const e=Je.length-1;if("reset"===t)return qe;if("start"===t)return 0;if("end"===t)return e;const r=Ie.current+t;return r<0?-1===r&&G?-1:A&&-1!==Ie.current||Math.abs(t)>1?0:e:r>e?r===e+1&&G?-1:A||Math.abs(t)>1?e:0:r})(),r);if(et({index:o,reason:n,event:e}),a&&"reset"!==t)if(-1===o)we.current.value=Fe;else{const e=be(Je[o]);we.current.value=e;0===e.toLowerCase().indexOf(Fe.toLowerCase())&&Fe.length>0&&we.current.setSelectionRange(Fe.length,e.length)}})),rt=v.useCallback((()=>{if(!Ye)return;const e=(()=>{if(-1!==Ie.current&&Qe.filteredOptions&&Qe.filteredOptions.length!==Je.length&&Qe.inputValue===Fe&&(Z?Le.length===Qe.value.length&&Qe.value.every(((e,t)=>be(Le[t])===be(e))):(e=Qe.value,t=Le,(e?be(e):"")===(t?be(t):"")))){const e=Qe.filteredOptions[Ie.current];if(e)return zn(Je,(t=>be(t)===be(e)))}var e,t;return-1})();if(-1!==e)return void(Ie.current=e);const t=Z?Le[0]:Le;if(0!==Je.length&&null!=t){if(Oe.current)if(null==t)Ie.current>=Je.length-1?et({index:Je.length-1}):et({index:Ie.current});else{const e=Je[Ie.current];if(Z&&e&&-1!==zn(Le,(t=>Q(e,t))))return;const r=zn(Je,(e=>Q(e,t)));-1===r?tt({diff:"reset"}):et({index:r})}}else tt({diff:"reset"})}),[Je.length,!Z&&Le,F,tt,et,Ye,Fe,Z]),nt=ne((e=>{oe(Oe,e),e&&rt()}));v.useEffect((()=>{rt()}),[rt]);const ot=e=>{He||(Ue(!0),Ke(!0),se&&se(e))},it=(e,t)=>{He&&(Ue(!1),ie&&ie(e,t))},at=(e,t,r,n)=>{if(Z){if(Le.length===t.length&&Le.every(((e,r)=>e===t[r])))return}else if(Le===t)return;ee&&ee(e,t,r,n),Pe(t)},lt=v.useRef(!1),st=(e,t,r="selectOption",n="options")=>{let o=r,i=t;if(Z){i=Array.isArray(Le)?Le.slice():[];const e=zn(i,(e=>Q(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),o="removeOption")}ze(e,i),at(e,i,o,{option:t}),E||e&&(e.ctrlKey||e.metaKey)||it(e,o),(!0===p||"touch"===p&&lt.current||"mouse"===p&&!lt.current)&&we.current.blur()};const ut=(e,t)=>{if(!Z)return;""===Fe&&it(e,"toggleInput");let r=Ce;-1===Ce?""===Fe&&"previous"===t&&(r=Le.length-1):(r+="next"===t?1:-1,r<0&&(r=0),r===Le.length&&(r=-1)),r=function(e,t){if(-1===e)return-1;let r=e;for(;;){if("next"===t&&r===Le.length||"previous"===t&&-1===r)return-1;const e=ke.querySelector(`[data-tag-index="${r}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return r;r+="next"===t?1:-1}}(r,t),Te(r),Ze(r)},ct=e=>{_e.current=!0,Re(""),le&&le(e,"","clear"),at(e,Z?[]:null,"clear")},dt=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ce&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Te(-1),Ze(-1)),229!==t.which))switch(t.key){case"Home":Ye&&$&&(t.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ye&&$&&(t.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),tt({diff:-5,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"PageDown":t.preventDefault(),tt({diff:5,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowDown":t.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowUp":t.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"ArrowLeft":ut(t,"previous");break;case"ArrowRight":ut(t,"next");break;case"Enter":if(-1!==Ie.current&&Ye){const e=Je[Ie.current],r=!!D&&D(e);if(t.preventDefault(),r)return;st(t,e,"selectOption"),a&&we.current.setSelectionRange(we.current.value.length,we.current.value.length)}else M&&""!==Fe&&!1===Ge&&(Z&&t.preventDefault(),st(t,Fe,"createOption","freeSolo"));break;case"Escape":Ye?(t.preventDefault(),t.stopPropagation(),it(t,"escape")):y&&(""!==Fe||Z&&Le.length>0)&&(t.preventDefault(),t.stopPropagation(),ct(t));break;case"Backspace":if(Z&&!he&&""===Fe&&Le.length>0){const e=-1===Ce?Le.length-1:Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}break;case"Delete":if(Z&&!he&&""===Fe&&Le.length>0&&-1!==Ce){const e=Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}}},pt=e=>{Ve(!0),de&&!_e.current&&ot(e)},ft=e=>{r(Oe)?we.current.focus():(Ve(!1),xe.current=!0,_e.current=!1,c&&-1!==Ie.current&&Ye?st(e,Je[Ie.current],"blur"):c&&M&&""!==Fe?st(e,Fe,"blur","freeSolo"):g&&ze(e,Le),it(e,"blur"))},ht=e=>{const t=e.target.value;Fe!==t&&(Re(t),Ke(!1),le&&le(e,t,"input")),""===t?k||Z||at(e,null,"clear"):ot(e)},gt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ie.current!==t&&et({event:e,index:t,reason:"mouse"})},vt=e=>{et({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),lt.current=!0},mt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));st(e,Je[t],"selectOption"),lt.current=!1},yt=e=>t=>{const r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})},bt=e=>{He?it(e,"toggleInput"):ot(e)},_t=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==ye&&e.preventDefault()},xt=e=>{e.currentTarget.contains(e.target)&&(we.current.focus(),ve&&xe.current&&we.current.selectionEnd-we.current.selectionStart==0&&we.current.select(),xe.current=!1)},wt=e=>{C||""!==Fe&&He||bt(e)};let Ot=M&&Fe.length>0;Ot=Ot||(Z?Le.length>0:null!==Le);let St=Je;return H&&(St=Je.reduce(((e,t,r)=>{const n=H(t);return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])),C&&De&&ft(),{getRootProps:(e={})=>w({"aria-owns":Xe?`${ye}-listbox`:null},e,{onKeyDown:dt(e),onMouseDown:_t,onClick:xt}),getInputLabelProps:()=>({id:`${ye}-label`,htmlFor:ye}),getInputProps:()=>({id:ye,value:Fe,onBlur:ft,onFocus:pt,onChange:ht,onMouseDown:wt,"aria-activedescendant":Ye?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Xe?`${ye}-listbox`:void 0,"aria-expanded":Xe,autoComplete:"off",ref:we,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ct}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:bt}),getTagProps:({index:e})=>w({key:e,"data-tag-index":e,tabIndex:-1},!he&&{onDelete:yt(e)}),getListboxProps:()=>({role:"listbox",id:`${ye}-listbox`,"aria-labelledby":`${ye}-label`,ref:nt,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var r;const n=(Z?Le:[Le]).some((e=>null!=e&&Q(t,e))),o=!!D&&D(t);return{key:null!=(r=null==V?void 0:V(t))?r:be(t),tabIndex:-1,role:"option",id:`${ye}-option-${e}`,onMouseMove:gt,onClick:mt,onTouchStart:vt,"data-option-index":e,"aria-disabled":o,"aria-selected":n}},id:ye,inputValue:Fe,value:Le,dirty:Ot,expanded:Ye&&ke,popupOpen:Ye,focused:De||-1!==Ce,anchorEl:ke,setAnchorEl:je,focusedTag:Ce,groupedOptions:St}}function $n(e){return O("MuiListSubheader",e)}S("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Wn=["className","color","component","disableGutters","disableSticky","inset"],Kn=ie("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"default"!==r.color&&t[`color${k(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>w({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),Gn=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiListSubheader"}),n=r.className,o=r.color,i=void 0===o?"default":o,a=r.component,l=void 0===a?"li":a,s=r.disableGutters,u=void 0!==s&&s,c=r.disableSticky,d=void 0!==c&&c,p=r.inset,h=void 0!==p&&p,g=f(r,Wn),v=w({},r,{color:i,component:l,disableGutters:u,disableSticky:d,inset:h}),m=(e=>{const t=e.classes,r=e.color,n=e.disableGutters,o=e.inset,i=e.disableSticky,a={root:["root","default"!==r&&`color${k(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return le(a,$n,t)})(v);return j.jsx(Kn,w({as:l,className:E(m.root,n),ref:t,ownerState:v},g))}));var Yn,Jn;Gn.muiSkipListHighlight=!0;const Qn=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Xn=["ref"],Zn=["key"],eo=["key"],to=ie("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState,n=r.fullWidth,o=r.hasClearIcon,i=r.hasPopupIcon,a=r.inputFocused,l=r.size;return[{[`& .${nr.tag}`]:t.tag},{[`& .${nr.tag}`]:t[`tagSize${k(l)}`]},{[`& .${nr.inputRoot}`]:t.inputRoot},{[`& .${nr.input}`]:t.input},{[`& .${nr.input}`]:a&&t.inputFocused},t.root,n&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${nr.focused} .${nr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${nr.clearIndicator}`]:{visibility:"visible"}},[`& .${nr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${nr.inputRoot}`]:{[`.${nr.hasPopupIcon}&, .${nr.hasClearIcon}&`]:{paddingRight:30},[`.${nr.hasPopupIcon}.${nr.hasClearIcon}&`]:{paddingRight:56},[`& .${nr.input}`]:{width:0,minWidth:30}},[`& .${se.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${se.root}.${ue.sizeSmall}`]:{[`& .${se.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ce.root}`]:{padding:9,[`.${nr.hasPopupIcon}&, .${nr.hasClearIcon}&`]:{paddingRight:39},[`.${nr.hasPopupIcon}.${nr.hasClearIcon}&`]:{paddingRight:65},[`& .${nr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${nr.endAdornment}`]:{right:9}},[`& .${ce.root}.${ue.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${nr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${de.root}`]:{paddingTop:19,paddingLeft:8,[`.${nr.hasPopupIcon}&, .${nr.hasClearIcon}&`]:{paddingRight:39},[`.${nr.hasPopupIcon}.${nr.hasClearIcon}&`]:{paddingRight:65},[`& .${de.input}`]:{padding:"7px 4px"},[`& .${nr.endAdornment}`]:{right:9}},[`& .${de.root}.${ue.sizeSmall}`]:{paddingBottom:1,[`& .${de.input}`]:{padding:"2.5px 4px"}},[`& .${ue.hiddenLabel}`]:{paddingTop:8},[`& .${de.root}.${ue.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${nr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${de.root}.${ue.hiddenLabel}.${ue.sizeSmall}`]:{[`& .${nr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${nr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${nr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${nr.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${nr.inputRoot}`]:{flexWrap:"wrap"}}}]}),ro=ie("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),no=ie(pe,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),oo=ie(pe,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>w({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),io=ie(Yr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${nr.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})((({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ao=ie(fe,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>w({},e.typography.body1,{overflow:"auto"}))),lo=ie("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),so=ie("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),uo=ie("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${nr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${nr.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${nr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${nr.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${nr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),co=ie(Gn,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),po=ie("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${nr.option}`]:{paddingLeft:24}}),fo=v.forwardRef((function(e,t){var r,n,o,i;const a=ae({props:e,name:"MuiAutocomplete"}),l=(a.autoComplete,a.autoHighlight,a.autoSelect,a.blurOnSelect,a.ChipProps),s=a.className,u=a.clearIcon,c=void 0===u?Yn||(Yn=j.jsx(or,{fontSize:"small"})):u,d=a.clearOnBlur,p=(void 0===d&&a.freeSolo,a.clearOnEscape,a.clearText),h=void 0===p?"Clear":p,g=a.closeText,m=void 0===g?"Close":g,y=a.componentsProps,b=void 0===y?{}:y,_=a.defaultValue,x=(void 0===_&&a.multiple,a.disableClearable),O=void 0!==x&&x,S=(a.disableCloseOnSelect,a.disabled),C=void 0!==S&&S,T=(a.disabledItemsFocusable,a.disableListWrap,a.disablePortal),q=void 0!==T&&T,I=(a.filterSelectedOptions,a.forcePopupIcon),A=void 0===I?"auto":I,L=a.freeSolo,P=void 0!==L&&L,N=a.fullWidth,F=void 0!==N&&N,R=a.getLimitTagsText,M=void 0===R?e=>`+${e}`:R,D=a.getOptionLabel,V=a.groupBy,z=a.handleHomeEndKeys,B=(void 0===z&&a.freeSolo,a.includeInputInList,a.limitTags),H=void 0===B?-1:B,U=a.ListboxComponent,$=void 0===U?"ul":U,W=a.ListboxProps,K=a.loading,G=void 0!==K&&K,Y=a.loadingText,J=void 0===Y?"Loading…":Y,Q=a.multiple,X=void 0!==Q&&Q,Z=a.noOptionsText,ee=void 0===Z?"No options":Z,te=(a.openOnFocus,a.openText),re=void 0===te?"Open":te,ne=a.PaperComponent,oe=void 0===ne?fe:ne,ie=a.PopperComponent,se=void 0===ie?Yr:ie,ue=a.popupIcon,ce=void 0===ue?Jn||(Jn=j.jsx(he,{})):ue,de=a.readOnly,pe=void 0!==de&&de,ve=a.renderGroup,me=a.renderInput,ye=a.renderOption,be=a.renderTags,_e=a.selectOnFocus,xe=(void 0===_e&&a.freeSolo,a.size),we=void 0===xe?"medium":xe,Oe=a.slotProps,Se=void 0===Oe?{}:Oe,ke=f(a,Qn),je=Un(w({},a,{componentName:"Autocomplete"})),Ee=je.getRootProps,Ce=je.getInputProps,Te=je.getInputLabelProps,qe=je.getPopupIndicatorProps,Ie=je.getClearProps,Ae=je.getTagProps,Le=je.getListboxProps,Pe=je.getOptionProps,Ne=je.value,Fe=je.dirty,Re=je.expanded,Me=je.id,De=je.popupOpen,Ve=je.focused,ze=je.focusedTag,Be=je.anchorEl,He=je.setAnchorEl,Ue=je.inputValue,$e=je.groupedOptions,We=!O&&!C&&Fe&&!pe,Ke=(!P||!0===A)&&!1!==A,Ge=Ce().onMouseDown,Ye=(null!=W?W:{}).ref,Je=Le(),Qe=Je.ref,Xe=f(Je,Xn),Ze=ge(Qe,Ye),et=D||(e=>{var t;return null!=(t=e.label)?t:e}),tt=w({},a,{disablePortal:q,expanded:Re,focused:Ve,fullWidth:F,getOptionLabel:et,hasClearIcon:We,hasPopupIcon:Ke,inputFocused:-1===ze,popupOpen:De,size:we}),rt=(e=>{const t=e.classes,r=e.disablePortal,n=e.expanded,o=e.focused,i=e.fullWidth,a=e.hasClearIcon,l=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,c=e.size,d={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${k(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return le(d,ar,t)})(tt);let nt;if(X&&Ne.length>0){const e=e=>w({className:rt.tag,disabled:C},Ae(e));nt=be?be(Ne,e,tt):Ne.map(((t,r)=>{const n=e({index:r}),o=n.key,i=f(n,Zn);return j.jsx(ir,w({label:et(t),size:we},i,l),o)}))}if(H>-1&&Array.isArray(nt)){const e=nt.length-H;!Ve&&e>0&&(nt=nt.splice(0,H),nt.push(j.jsx("span",{className:rt.tag,children:M(e)},nt.length)))}const ot=ve||(e=>j.jsxs("li",{children:[j.jsx(co,{className:rt.groupLabel,ownerState:tt,component:"div",children:e.group}),j.jsx(po,{className:rt.groupUl,ownerState:tt,children:e.children})]},e.key)),it=ye||((e,t)=>{const r=e.key,n=f(e,eo);return j.jsx("li",w({},n,{children:et(t)}),r)}),at=(e,t)=>{const r=Pe({option:e,index:t});return it(w({},r,{className:rt.option}),e,{selected:r["aria-selected"],index:t,inputValue:Ue},tt)},lt=null!=(r=Se.clearIndicator)?r:b.clearIndicator,st=null!=(n=Se.paper)?n:b.paper,ut=null!=(o=Se.popper)?o:b.popper,ct=null!=(i=Se.popupIndicator)?i:b.popupIndicator,dt=e=>j.jsx(io,w({as:se,disablePortal:q,style:{width:Be?Be.clientWidth:null},ownerState:tt,role:"presentation",anchorEl:Be,open:De},ut,{className:E(rt.popper,null==ut?void 0:ut.className),children:j.jsx(ao,w({ownerState:tt,as:oe},st,{className:E(rt.paper,null==st?void 0:st.className),children:e}))}));let pt=null;return $e.length>0?pt=dt(j.jsx(uo,w({as:$,className:rt.listbox,ownerState:tt},Xe,W,{ref:Ze,children:$e.map(((e,t)=>V?ot({key:e.key,group:e.group,children:e.options.map(((t,r)=>at(t,e.index+r)))}):at(e,t)))}))):G&&0===$e.length?pt=dt(j.jsx(lo,{className:rt.loading,ownerState:tt,children:J})):0!==$e.length||P||G||(pt=dt(j.jsx(so,{className:rt.noOptions,ownerState:tt,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:ee}))),j.jsxs(v.Fragment,{children:[j.jsx(to,w({ref:t,className:E(rt.root,s),ownerState:tt},Ee(ke),{children:me({id:Me,disabled:C,fullWidth:!0,size:"small"===we?"small":void 0,InputLabelProps:Te(),InputProps:w({ref:He,className:rt.inputRoot,startAdornment:nt,onClick:e=>{e.target===e.currentTarget&&Ge(e)}},(We||Ke)&&{endAdornment:j.jsxs(ro,{className:rt.endAdornment,ownerState:tt,children:[We?j.jsx(no,w({},Ie(),{"aria-label":h,title:h,ownerState:tt},lt,{className:E(rt.clearIndicator,null==lt?void 0:lt.className),children:c})):null,Ke?j.jsx(oo,w({},qe(),{disabled:C,"aria-label":De?m:re,title:De?m:re,ownerState:tt},ct,{className:E(rt.popupIndicator,null==ct?void 0:ct.className),children:ce})):null]})}),inputProps:w({className:rt.input,disabled:C,readOnly:pe},Ce())})})),Be?pt:null]})})),ho=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],go=ie("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${lr.grouped}`]:t.grouped},{[`& .${lr.grouped}`]:t[`grouped${k(r.orientation)}`]},{[`& .${lr.grouped}`]:t[`grouped${k(r.variant)}`]},{[`& .${lr.grouped}`]:t[`grouped${k(r.variant)}${k(r.orientation)}`]},{[`& .${lr.grouped}`]:t[`grouped${k(r.variant)}${k(r.color)}`]},{[`& .${lr.firstButton}`]:t.firstButton},{[`& .${lr.lastButton}`]:t.lastButton},{[`& .${lr.middleButton}`]:t.middleButton},t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>w({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${lr.grouped}`]:w({minWidth:40,"&:hover":w({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${lr.firstButton},& .${lr.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${lr.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${lr.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:C(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${lr.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${lr.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":w({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${lr.lastButton},& .${lr.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})}))),vo=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiButtonGroup"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"primary":i,l=r.component,s=void 0===l?"div":l,u=r.disabled,c=void 0!==u&&u,d=r.disableElevation,p=void 0!==d&&d,h=r.disableFocusRipple,g=void 0!==h&&h,m=r.disableRipple,y=void 0!==m&&m,b=r.fullWidth,_=void 0!==b&&b,x=r.orientation,O=void 0===x?"horizontal":x,S=r.size,C=void 0===S?"medium":S,T=r.variant,q=void 0===T?"outlined":T,I=f(r,ho),A=w({},r,{color:a,component:s,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,orientation:O,size:C,variant:q}),L=(e=>{const t=e.classes,r=e.color,n=e.disabled,o=e.disableElevation,i=e.fullWidth,a=e.orientation,l=e.variant,s={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${k(a)}`,`grouped${k(l)}`,`grouped${k(l)}${k(a)}`,`grouped${k(l)}${k(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return le(s,sr,t)})(A),P=v.useMemo((()=>({className:L.grouped,color:a,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,size:C,variant:q})),[a,c,p,g,y,_,C,q,L.grouped]),N=function(e){return v.Children.toArray(e).filter((e=>v.isValidElement(e)))}(n),F=N.length,R=e=>{const t=0===e,r=e===F-1;return t&&r?"":t?L.firstButton:r?L.lastButton:L.middleButton};return j.jsx(go,w({as:s,role:"group",className:E(L.root,o),ref:t,ownerState:A},I,{children:j.jsx(ve.Provider,{value:P,children:N.map(((e,t)=>j.jsx(me.Provider,{value:R(t),children:e},t)))})}))}));function mo(e){return O("MuiDialogContentText",e)}S("MuiDialogContentText",["root"]);const yo=["children","className"],bo=ie(ye,{shouldForwardProp:e=>be(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_o=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiDialogContentText"}),n=r.className,o=f(r,yo),i=(e=>{const t=e.classes,r=le({root:["root"]},mo,t);return w({},t,r)})(o);return j.jsx(bo,w({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:E(i.root,n)},r,{classes:i}))})),xo=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],wo=ie(_e,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>be(e)||"classes"===e,overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[r.variant],t[`size${k(r.size)}`],"inherit"===r.color&&t.colorInherit,t[k(r.size)],t[r.color]]}})((({theme:e,ownerState:t})=>{var r,n;return w({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(n=e.palette).getContrastText)?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${ur.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>w({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${ur.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),Oo=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiFab"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"default":i,l=r.component,s=void 0===l?"button":l,u=r.disabled,c=void 0!==u&&u,d=r.disableFocusRipple,p=void 0!==d&&d,h=r.focusVisibleClassName,g=r.size,v=void 0===g?"large":g,m=r.variant,y=void 0===m?"circular":m,b=f(r,xo),_=w({},r,{color:a,component:s,disabled:c,disableFocusRipple:p,size:v,variant:y}),x=(e=>{const t=e.color,r=e.variant,n=e.classes,o=e.size,i={root:["root",r,`size${k(o)}`,"inherit"===t?"colorInherit":t]},a=le(i,cr,n);return w({},n,a)})(_);return j.jsx(wo,w({className:E(x.root,o),component:s,disabled:c,focusRipple:!p,focusVisibleClassName:E(x.focusVisible,h),ownerState:_,ref:t},b,{classes:x,children:n}))}));function So(e){return O("MuiIcon",e)}S("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ko=["baseClassName","className","color","component","fontSize"],jo=ie("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"inherit"!==r.color&&t[`color${k(r.color)}`],t[`fontSize${k(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]}))),Eo=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiIcon"}),n=r.baseClassName,o=void 0===n?"material-icons":n,i=r.className,a=r.color,l=void 0===a?"inherit":a,s=r.component,u=void 0===s?"span":s,c=r.fontSize,d=void 0===c?"medium":c,p=f(r,ko),h=w({},r,{baseClassName:o,color:l,component:u,fontSize:d}),g=(e=>{const t=e.color,r=e.fontSize,n=e.classes,o={root:["root","inherit"!==t&&`color${k(t)}`,`fontSize${k(r)}`]};return le(o,So,n)})(h);return j.jsx(jo,w({as:u,className:E(o,"notranslate",g.root,i),ownerState:h,"aria-hidden":!0,ref:t},p))}));Eo.muiName="Icon";const Co=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],To=ie("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${xe.primary}`]:t.primary},{[`& .${xe.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((({ownerState:e})=>w({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),qo=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiListItemText"}),n=r.children,o=r.className,i=r.disableTypography,a=void 0!==i&&i,l=r.inset,s=void 0!==l&&l,u=r.primary,c=r.primaryTypographyProps,d=r.secondary,p=r.secondaryTypographyProps,h=f(r,Co),g=v.useContext(we).dense;let m=null!=u?u:n,y=d;const b=w({},r,{disableTypography:a,inset:s,primary:!!m,secondary:!!y,dense:g}),_=(e=>{const t=e.classes,r=e.inset,n=e.primary,o=e.secondary,i=e.dense;return le({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},Oe,t)})(b);return null==m||m.type===ye||a||(m=j.jsx(ye,w({variant:g?"body2":"body1",className:_.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:m}))),null==y||y.type===ye||a||(y=j.jsx(ye,w({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:y}))),j.jsxs(To,w({className:E(_.root,o),ownerState:b,ref:t},h,{children:[m,y]}))}));function Io(e,t){return e-t}function Ao(e,t){var r;const n=null!=(r=e.reduce(((e,r,n)=>{const o=Math.abs(t-r);return null===e||o<e.distance||o===e.distance?{distance:o,index:n}:e}),null))?r:{};return n.index}function Lo(e,t){if(void 0!==t.current&&e.changedTouches){const r=e;for(let e=0;e<r.changedTouches.length;e+=1){const n=r.changedTouches[e];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Po(e,t,r){return 100*(e-t)/(r-t)}function No(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function Fo({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(Io)}function Ro({sliderRef:e,activeIndex:t,setActive:r}){var n,o;const i=je(e.current);var a;null!=(n=e.current)&&n.contains(i.activeElement)&&Number(null==i||null==(o=i.activeElement)?void 0:o.getAttribute("data-index"))===t||(null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus());r&&r(t)}function Mo(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&function(e,t,r=((e,t)=>e===t)){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}(e,t)}const Do={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Vo=e=>e;let zo;function Bo(){return void 0===zo&&(zo="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),zo}function Ho(e){const t=e["aria-labelledby"],r=e.defaultValue,n=e.disabled,o=void 0!==n&&n,i=e.disableSwap,a=void 0!==i&&i,l=e.isRtl,s=void 0!==l&&l,u=e.marks,c=void 0!==u&&u,d=e.max,p=void 0===d?100:d,f=e.min,g=void 0===f?0:f,m=e.name,y=e.onChange,b=e.onChangeCommitted,_=e.orientation,x=void 0===_?"horizontal":_,O=e.rootRef,S=e.scale,k=void 0===S?Vo:S,j=e.step,E=void 0===j?1:j,C=e.shiftStep,q=void 0===C?10:C,I=e.tabIndex,A=e.value,L=v.useRef(),P=h(v.useState(-1),2),N=P[0],F=P[1],R=h(v.useState(-1),2),M=R[0],D=R[1],V=h(v.useState(!1),2),z=V[0],B=V[1],H=v.useRef(0),U=h(re({controlled:A,default:null!=r?r:g,name:"Slider"}),2),$=U[0],W=U[1],K=y&&((e,t,r)=>{const n=e.nativeEvent||e,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:m}}),y(o,t,r)}),G=Array.isArray($);let Y=G?$.slice().sort(Io):[$];Y=Y.map((e=>null==e?g:T(e,g,p)));const J=!0===c&&null!==E?[...Array(Math.floor((p-g)/E)+1)].map(((e,t)=>({value:g+E*t}))):c||[],Q=J.map((e=>e.value)),X=Se(),Z=X.isFocusVisibleRef,ee=X.onBlur,te=X.onFocus,oe=X.ref,ie=h(v.useState(-1),2),ae=ie[0],le=ie[1],se=v.useRef(),ue=ge(oe,se),ce=ge(O,ue),de=e=>t=>{var r;const n=Number(t.currentTarget.getAttribute("data-index"));te(t),!0===Z.current&&le(n),D(n),null==e||null==(r=e.onFocus)||r.call(e,t)},pe=e=>t=>{var r;ee(t),!1===Z.current&&le(-1),D(-1),null==e||null==(r=e.onBlur)||r.call(e,t)},fe=(e,t)=>{const r=Number(e.currentTarget.getAttribute("data-index")),n=Y[r],o=Q.indexOf(n);let i=t;if(J&&null==E){const e=Q[Q.length-1];i=i>e?e:i<Q[0]?Q[0]:i<n?Q[o-1]:Q[o+1]}if(i=T(i,g,p),G){a&&(i=T(i,Y[r-1]||-1/0,Y[r+1]||1/0));const e=i;i=Fo({values:Y,newValue:i,index:r});let t=r;a||(t=i.indexOf(e)),Ro({sliderRef:se,activeIndex:t})}W(i),le(r),K&&!Mo(i,$)&&K(e,i,r),b&&b(e,i)},he=e=>t=>{var r;if(null!==E){const e=Number(t.currentTarget.getAttribute("data-index")),r=Y[e];let n=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?n=Math.max(r-q,g):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(n=Math.min(r+q,p)),null!==n&&(fe(t,n),t.preventDefault())}null==e||null==(r=e.onKeyDown)||r.call(e,t)};ke((()=>{var e;o&&se.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[o]),o&&-1!==N&&F(-1),o&&-1!==ae&&le(-1);const ve=v.useRef();let me=x;s&&"horizontal"===x&&(me+="-reverse");const ye=({finger:e,move:t=!1})=>{const r=se.current.getBoundingClientRect(),n=r.width,o=r.height,i=r.bottom,l=r.left;let s,u;if(s=0===me.indexOf("vertical")?(i-e.y)/o:(e.x-l)/n,-1!==me.indexOf("-reverse")&&(s=1-s),u=function(e,t,r){return(r-t)*e+t}(s,g,p),E)u=No(u,E,g);else{const e=Ao(Q,u);u=Q[e]}u=T(u,g,p);let c=0;if(G){c=t?ve.current:Ao(Y,u),a&&(u=T(u,Y[c-1]||-1/0,Y[c+1]||1/0));const e=u;u=Fo({values:Y,newValue:u,index:c}),a&&t||(c=u.indexOf(e),ve.current=c)}return{newValue:u,activeIndex:c}},be=ne((e=>{const t=Lo(e,L);if(!t)return;if(H.current+=1,"mousemove"===e.type&&0===e.buttons)return void _e(e);const r=ye({finger:t,move:!0}),n=r.newValue,o=r.activeIndex;Ro({sliderRef:se,activeIndex:o,setActive:F}),W(n),!z&&H.current>2&&B(!0),K&&!Mo(n,$)&&K(e,n,o)})),_e=ne((e=>{const t=Lo(e,L);if(B(!1),!t)return;const r=ye({finger:t,move:!0}).newValue;F(-1),"touchend"===e.type&&D(-1),b&&b(e,r),L.current=void 0,we()})),xe=ne((e=>{if(o)return;Bo()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(L.current=t.identifier);const r=Lo(e,L);if(!1!==r){const t=ye({finger:r}),n=t.newValue,o=t.activeIndex;Ro({sliderRef:se,activeIndex:o,setActive:F}),W(n),K&&!Mo(n,$)&&K(e,n,o)}H.current=0;const n=je(se.current);n.addEventListener("touchmove",be,{passive:!0}),n.addEventListener("touchend",_e,{passive:!0})})),we=v.useCallback((()=>{const e=je(se.current);e.removeEventListener("mousemove",be),e.removeEventListener("mouseup",_e),e.removeEventListener("touchmove",be),e.removeEventListener("touchend",_e)}),[_e,be]);v.useEffect((()=>{const e=se.current;return e.addEventListener("touchstart",xe,{passive:Bo()}),()=>{e.removeEventListener("touchstart",xe),we()}}),[we,xe]),v.useEffect((()=>{o&&we()}),[o,we]);const Oe=Po(G?Y[0]:g,g,p),Ce=Po(Y[Y.length-1],g,p)-Oe,Te=e=>t=>{var r;null==(r=e.onMouseLeave)||r.call(e,t),D(-1)};return{active:N,axis:me,axisProps:Do,dragging:z,focusedThumbIndex:ae,getHiddenInputProps:(r={})=>{var n;const i=Ee(r),a={onChange:(l=i||{},e=>{var t;null==(t=l.onChange)||t.call(l,e),fe(e,e.target.valueAsNumber)}),onFocus:de(i||{}),onBlur:pe(i||{}),onKeyDown:he(i||{})};var l;const u=w({},i,a);return w({tabIndex:I,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":k(p),"aria-valuemin":k(g),name:m,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:o},r,u,{style:w({},Mn,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{const t=Ee(e),r={onMouseDown:(n=t||{},e=>{var t;if(null==(t=n.onMouseDown)||t.call(n,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=Lo(e,L);if(!1!==r){const t=ye({finger:r}),n=t.newValue,o=t.activeIndex;Ro({sliderRef:se,activeIndex:o,setActive:F}),W(n),K&&!Mo(n,$)&&K(e,n,o)}H.current=0;const i=je(se.current);i.addEventListener("mousemove",be,{passive:!0}),i.addEventListener("mouseup",_e)})};var n;const i=w({},t,r);return w({},e,{ref:ce},i)},getThumbProps:(e={})=>{const t=Ee(e),r={onMouseOver:(n=t||{},e=>{var t;null==(t=n.onMouseOver)||t.call(n,e);const r=Number(e.currentTarget.getAttribute("data-index"));D(r)}),onMouseLeave:Te(t||{})};var n;return w({},e,t,r)},marks:J,open:M,range:G,rootRef:ce,trackLeap:Ce,trackOffset:Oe,values:Y,getThumbStyle:e=>({pointerEvents:-1!==N&&N!==e?"none":void 0})}}const Uo=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function $o(e){return e}const Wo=ie("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`color${k(r.color)}`],"medium"!==r.size&&t[`size${k(r.size)}`],r.marked&&t.marked,"vertical"===r.orientation&&t.vertical,"inverted"===r.track&&t.trackInverted,!1===r.track&&t.trackFalse]}})((({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${dr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${dr.dragging}`]:{[`& .${dr.thumb}, & .${dr.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),Ko=ie("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Go=ie("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t,track:"inverted"},style:w({},e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:w({backgroundColor:q(e.palette[t].main,.62),borderColor:q(e.palette[t].main,.62)},e.applyStyles("dark",{backgroundColor:I(e.palette[t].main,.5)}),e.applyStyles("dark",{borderColor:I(e.palette[t].main,.5)})))})))]}})),Yo=ie("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.thumb,t[`thumbColor${k(r.color)}`],"medium"!==r.size&&t[`thumbSize${k(r.size)}`]]}})((({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${dr.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{[`&:hover, &.${dr.focusVisible}`]:w({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${C(e.palette[t].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${dr.active}`]:w({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${C(e.palette[t].main,.16)}`})}})))]}})),Jo=ie((function(e){const t=e.children,r=e.className,n=e.value,o=(e=>{const t=e.open;return{offset:E(t&&dr.valueLabelOpen),circle:dr.valueLabelCircle,label:dr.valueLabelLabel}})(e);return t?v.cloneElement(t,{className:E(t.props.className)},j.jsxs(v.Fragment,{children:[t.props.children,j.jsx("span",{className:E(o.offset,r),"aria-hidden":!0,children:j.jsx("span",{className:o.circle,children:j.jsx("span",{className:o.label,children:n})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((({theme:e})=>w({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${dr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${dr.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Qo=ie("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Te(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const r=e.markActive;return[t.mark,r&&t.markActive]}})((({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Xo=ie("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Te(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((({theme:e})=>w({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Zo=({children:e})=>e,ei=v.forwardRef((function(e,t){var r,n,o,i,a,l,s,u,c,d,p,h,g,m,y,b,_,x,O,S,C,T,q,I;const A=ae({props:e,name:"MuiSlider"}),L=qe(),P=A["aria-label"],N=A["aria-valuetext"],F=A["aria-labelledby"],R=A.component,M=void 0===R?"span":R,D=A.components,V=void 0===D?{}:D,z=A.componentsProps,B=void 0===z?{}:z,H=A.color,U=void 0===H?"primary":H,$=A.classes,W=A.className,K=A.disableSwap,G=void 0!==K&&K,Y=A.disabled,J=void 0!==Y&&Y,Q=A.getAriaLabel,X=A.getAriaValueText,Z=A.marks,ee=void 0!==Z&&Z,te=A.max,re=void 0===te?100:te,ne=A.min,oe=void 0===ne?0:ne,ie=A.orientation,se=void 0===ie?"horizontal":ie,ue=A.shiftStep,ce=void 0===ue?10:ue,de=A.size,pe=void 0===de?"medium":de,fe=A.step,he=void 0===fe?1:fe,ge=A.scale,ve=void 0===ge?$o:ge,me=A.slotProps,ye=A.slots,be=A.track,_e=void 0===be?"normal":be,xe=A.valueLabelDisplay,we=void 0===xe?"off":xe,Oe=A.valueLabelFormat,Se=void 0===Oe?$o:Oe,ke=f(A,Uo),je=w({},A,{isRtl:L,max:re,min:oe,classes:$,disabled:J,disableSwap:G,orientation:se,marks:ee,color:U,size:pe,step:he,shiftStep:ce,scale:ve,track:_e,valueLabelDisplay:we,valueLabelFormat:Se}),Ee=Ho(w({},je,{rootRef:t})),Te=Ee.axisProps,Ae=Ee.getRootProps,Le=Ee.getHiddenInputProps,Pe=Ee.getThumbProps,Ne=Ee.open,Fe=Ee.active,Re=Ee.axis,Me=Ee.focusedThumbIndex,De=Ee.range,Ve=Ee.dragging,ze=Ee.marks,Be=Ee.values,He=Ee.trackOffset,Ue=Ee.trackLeap,$e=Ee.getThumbStyle;je.marked=ze.length>0&&ze.some((e=>e.label)),je.dragging=Ve,je.focusedThumbIndex=Me;const We=(e=>{const t=e.disabled,r=e.dragging,n=e.marked,o=e.orientation,i=e.track,a=e.classes,l=e.color,s=e.size,u={root:["root",t&&"disabled",r&&"dragging",n&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",l&&`color${k(l)}`,s&&`size${k(s)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",s&&`thumbSize${k(s)}`,l&&`thumbColor${k(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return le(u,pr,a)})(je),Ke=null!=(r=null!=(n=null==ye?void 0:ye.root)?n:V.Root)?r:Wo,Ge=null!=(o=null!=(i=null==ye?void 0:ye.rail)?i:V.Rail)?o:Ko,Ye=null!=(a=null!=(l=null==ye?void 0:ye.track)?l:V.Track)?a:Go,Je=null!=(s=null!=(u=null==ye?void 0:ye.thumb)?u:V.Thumb)?s:Yo,Qe=null!=(c=null!=(d=null==ye?void 0:ye.valueLabel)?d:V.ValueLabel)?c:Jo,Xe=null!=(p=null!=(h=null==ye?void 0:ye.mark)?h:V.Mark)?p:Qo,Ze=null!=(g=null!=(m=null==ye?void 0:ye.markLabel)?m:V.MarkLabel)?g:Xo,et=null!=(y=null!=(b=null==ye?void 0:ye.input)?b:V.Input)?y:"input",tt=null!=(_=null==me?void 0:me.root)?_:B.root,rt=null!=(x=null==me?void 0:me.rail)?x:B.rail,nt=null!=(O=null==me?void 0:me.track)?O:B.track,ot=null!=(S=null==me?void 0:me.thumb)?S:B.thumb,it=null!=(C=null==me?void 0:me.valueLabel)?C:B.valueLabel,at=null!=(T=null==me?void 0:me.mark)?T:B.mark,lt=null!=(q=null==me?void 0:me.markLabel)?q:B.markLabel,st=null!=(I=null==me?void 0:me.input)?I:B.input,ut=Ie({elementType:Ke,getSlotProps:Ae,externalSlotProps:tt,externalForwardedProps:ke,additionalProps:w({},(ct=Ke,(!ct||!Ce(ct))&&{as:M})),ownerState:w({},je,null==tt?void 0:tt.ownerState),className:[We.root,W]});var ct;const dt=Ie({elementType:Ge,externalSlotProps:rt,ownerState:je,className:We.rail}),pt=Ie({elementType:Ye,externalSlotProps:nt,additionalProps:{style:w({},Te[Re].offset(He),Te[Re].leap(Ue))},ownerState:w({},je,null==nt?void 0:nt.ownerState),className:We.track}),ft=Ie({elementType:Je,getSlotProps:Pe,externalSlotProps:ot,ownerState:w({},je,null==ot?void 0:ot.ownerState),className:We.thumb}),ht=Ie({elementType:Qe,externalSlotProps:it,ownerState:w({},je,null==it?void 0:it.ownerState),className:We.valueLabel}),gt=Ie({elementType:Xe,externalSlotProps:at,ownerState:je,className:We.mark}),vt=Ie({elementType:Ze,externalSlotProps:lt,ownerState:je,className:We.markLabel}),mt=Ie({elementType:et,getSlotProps:Le,externalSlotProps:st,ownerState:je});return j.jsxs(Ke,w({},ut,{children:[j.jsx(Ge,w({},dt)),j.jsx(Ye,w({},pt)),ze.filter((e=>e.value>=oe&&e.value<=re)).map(((e,t)=>{const r=Po(e.value,oe,re),n=Te[Re].offset(r);let o;return o=!1===_e?-1!==Be.indexOf(e.value):"normal"===_e&&(De?e.value>=Be[0]&&e.value<=Be[Be.length-1]:e.value<=Be[0])||"inverted"===_e&&(De?e.value<=Be[0]||e.value>=Be[Be.length-1]:e.value>=Be[0]),j.jsxs(v.Fragment,{children:[j.jsx(Xe,w({"data-index":t},gt,!Ce(Xe)&&{markActive:o},{style:w({},n,gt.style),className:E(gt.className,o&&We.markActive)})),null!=e.label?j.jsx(Ze,w({"aria-hidden":!0,"data-index":t},vt,!Ce(Ze)&&{markLabelActive:o},{style:w({},n,vt.style),className:E(We.markLabel,vt.className,o&&We.markLabelActive),children:e.label})):null]},t)})),Be.map(((e,t)=>{const r=Po(e,oe,re),n=Te[Re].offset(r),o="off"===we?Zo:Qe;return j.jsx(o,w({},!Ce(o)&&{valueLabelFormat:Se,valueLabelDisplay:we,value:"function"==typeof Se?Se(ve(e),t):Se,index:t,open:Ne===t||Fe===t||"on"===we,disabled:J},ht,{children:j.jsx(Je,w({"data-index":t},ft,{className:E(We.thumb,ft.className,Fe===t&&We.active,Me===t&&We.focusVisible),style:w({},n,$e(t),ft.style),children:j.jsx(et,w({"data-index":t,"aria-label":Q?Q(t):P,"aria-valuenow":ve(e),"aria-labelledby":F,"aria-valuetext":X?X(ve(e),t):N,value:Be[t]},mt))}))}),t)}))]}))})),ti=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ri={entering:{transform:"none"},entered:{transform:"none"}},ni=v.forwardRef((function(e,t){const r=Ae(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=e.addEndListener,i=e.appear,a=void 0===i||i,l=e.children,s=e.easing,u=e.in,c=e.onEnter,d=e.onEntered,p=e.onEntering,h=e.onExit,g=e.onExited,m=e.onExiting,y=e.style,b=e.timeout,_=void 0===b?n:b,x=e.TransitionComponent,O=void 0===x?Le:x,S=f(e,ti),k=v.useRef(null),E=ge(k,l.ref,t),C=e=>t=>{if(e){const r=k.current;void 0===t?e(r):e(r,t)}},T=C(p),q=C(((e,t)=>{Pe(e);const n=Ne({style:y,timeout:_,easing:s},{mode:"enter"});e.style.webkitTransition=r.transitions.create("transform",n),e.style.transition=r.transitions.create("transform",n),c&&c(e,t)})),I=C(d),A=C(m),L=C((e=>{const t=Ne({style:y,timeout:_,easing:s},{mode:"exit"});e.style.webkitTransition=r.transitions.create("transform",t),e.style.transition=r.transitions.create("transform",t),h&&h(e)})),P=C(g);return j.jsx(O,w({appear:a,in:u,nodeRef:k,onEnter:q,onEntered:I,onEntering:T,onExit:L,onExited:P,onExiting:A,addEndListener:e=>{o&&o(k.current,e)},timeout:_},S,{children:(e,t)=>v.cloneElement(l,w({style:w({transform:"scale(0)",visibility:"exited"!==e||u?void 0:"hidden"},ri[e],y,l.props.style),ref:E},t))}))}));function oi(e){return O("MuiSpeedDial",e)}const ii=S("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),ai=["ref"],li=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],si=["ref"];function ui(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}const ci=ie("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`direction${k(r.direction)}`]]}})((({theme:e,ownerState:t})=>w({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},"up"===t.direction&&{flexDirection:"column-reverse",[`& .${ii.actions}`]:{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}},"down"===t.direction&&{flexDirection:"column",[`& .${ii.actions}`]:{flexDirection:"column",marginTop:-32,paddingTop:48}},"left"===t.direction&&{flexDirection:"row-reverse",[`& .${ii.actions}`]:{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}},"right"===t.direction&&{flexDirection:"row",[`& .${ii.actions}`]:{flexDirection:"row",marginLeft:-32,paddingLeft:48}}))),di=ie(Oo,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,t)=>t.fab})((()=>({pointerEvents:"auto"}))),pi=ie("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.actions,!r.open&&t.actionsClosed]}})((({ownerState:e})=>w({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"}))),fi=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiSpeedDial"}),n=Ae(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},i=r.ariaLabel,a=r.FabProps,l=(void 0===a?{}:a).ref,s=r.children,u=r.className,c=r.direction,d=void 0===c?"up":c,p=r.hidden,g=void 0!==p&&p,m=r.icon,y=r.onBlur,b=r.onClose,_=r.onFocus,x=r.onKeyDown,O=r.onMouseEnter,S=r.onMouseLeave,C=r.onOpen,q=r.open,I=r.TransitionComponent,A=void 0===I?ni:I,L=r.transitionDuration,P=void 0===L?o:L,N=r.TransitionProps,F=f(r.FabProps,ai),R=f(r,li),M=h(re({controlled:q,default:!1,name:"SpeedDial",state:"open"}),2),D=M[0],V=M[1],z=w({},r,{open:D,direction:d}),B=(e=>{const t=e.classes,r=e.open,n=e.direction,o={root:["root",`direction${k(n)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return le(o,oi,t)})(z),H=Fe(),U=v.useRef(0),$=v.useRef(),W=v.useRef([]);W.current=[W.current[0]];const K=v.useCallback((e=>{W.current[0]=e}),[]),G=ge(l,K),Y=(e,t)=>r=>{W.current[e+1]=r,t&&t(r)};v.useEffect((()=>{D||(U.current=0,$.current=void 0)}),[D]);const J=e=>{"mouseleave"===e.type&&S&&S(e),"blur"===e.type&&y&&y(e),H.clear(),"blur"===e.type?H.start(0,(()=>{V(!1),b&&b(e,"blur")})):(V(!1),b&&b(e,"mouseLeave"))},Q=e=>{"mouseenter"===e.type&&O&&O(e),"focus"===e.type&&_&&_(e),H.clear(),D||H.start(0,(()=>{if(V(!0),C){C(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])}}))},X=i.replace(/^[^a-z]+|[^\w:.-]+/gi,""),Z=v.Children.toArray(s).filter((e=>v.isValidElement(e))),ee=Z.map(((e,t)=>{const r=e.props,n=r.FabProps,o=(void 0===n?{}:n).ref,i=r.tooltipPlacement,a=f(r.FabProps,si),l=i||("vertical"===ui(d)?"left":"top");return v.cloneElement(e,{FabProps:w({},a,{ref:Y(t,o)}),delay:30*(D?t:Z.length-t),open:D,tooltipPlacement:l,id:`${X}-action-${t}`})}));return j.jsxs(ci,w({className:E(B.root,u),ref:t,role:"presentation",onKeyDown:e=>{x&&x(e);const t=e.key.replace("Arrow","").toLowerCase(),r=$.current,n=void 0===r?t:r;if("Escape"===e.key)return V(!1),W.current[0].focus(),void(b&&b(e,"escapeKeyDown"));if(ui(t)===ui(n)&&void 0!==ui(t)){e.preventDefault();const r=t===n?1:-1,o=T(U.current+r,0,W.current.length-1);W.current[o].focus(),U.current=o,$.current=n}},onBlur:J,onFocus:Q,onMouseEnter:Q,onMouseLeave:J,ownerState:z},R,{children:[j.jsx(A,w({in:!g,timeout:P,unmountOnExit:!0},N,{children:j.jsx(di,w({color:"primary","aria-label":i,"aria-haspopup":"true","aria-expanded":D,"aria-controls":`${X}-actions`},F,{onClick:e=>{F.onClick&&F.onClick(e),H.clear(),D?(V(!1),b&&b(e,"toggle")):(V(!0),C&&C(e,"toggle"))},className:E(B.fab,F.className),ref:G,ownerState:z,children:v.isValidElement(m)&&Re(m,["SpeedDialIcon"])?v.cloneElement(m,{open:D}):m}))})),j.jsx(pi,{id:`${X}-actions`,role:"menu","aria-orientation":ui(d),className:E(B.actions,!D&&B.actionsClosed),ownerState:z,children:ee})]}))}));function hi(e){return O("MuiSpeedDialAction",e)}const gi=S("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),vi=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],mi=ie(Oo,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,t)=>{const r=e.ownerState;return[t.fab,!r.open&&t.fabClosed]}})((({theme:e,ownerState:t})=>w({margin:8,color:(e.vars||e).palette.text.secondary,backgroundColor:(e.vars||e).palette.background.paper,"&:hover":{backgroundColor:e.vars?e.vars.palette.SpeedDialAction.fabHoverBg:A(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!t.open&&{opacity:0,transform:"scale(0)"}))),yi=ie("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.staticTooltip,!r.open&&t.staticTooltipClosed,t[`tooltipPlacement${k(r.tooltipPlacement)}`]]}})((({theme:e,ownerState:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${gi.staticTooltipLabel}`]:w({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!t.open&&{opacity:0,transform:"scale(0.5)"},"left"===t.tooltipPlacement&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},"right"===t.tooltipPlacement&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})}))),bi=ie("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,t)=>t.staticTooltipLabel})((({theme:e})=>w({position:"absolute"},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.paper,borderRadius:(e.vars||e).shape.borderRadius,boxShadow:(e.vars||e).shadows[1],color:(e.vars||e).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),_i=v.forwardRef((function(e,t){const r=ae({props:e,name:"MuiSpeedDialAction"}),n=r.className,o=r.delay,i=void 0===o?0:o,a=r.FabProps,l=void 0===a?{}:a,s=r.icon,u=r.id,c=r.open,d=r.TooltipClasses,p=r.tooltipOpen,g=void 0!==p&&p,m=r.tooltipPlacement,y=void 0===m?"left":m,b=r.tooltipTitle,_=f(r,vi),x=w({},r,{tooltipPlacement:y}),O=(e=>{const t=e.open,r=e.tooltipPlacement,n=e.classes,o={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${k(r)}`,!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return le(o,hi,n)})(x),S=h(v.useState(g),2),C=S[0],T=S[1],q={transitionDelay:`${i}ms`},I=j.jsx(mi,w({size:"small",className:E(O.fab,n),tabIndex:-1,role:"menuitem",ownerState:x},l,{style:w({},q,l.style),children:s}));return g?j.jsxs(yi,w({id:u,ref:t,className:O.staticTooltip,ownerState:x},_,{children:[j.jsx(bi,{style:q,id:`${u}-label`,className:O.staticTooltipLabel,ownerState:x,children:b}),v.cloneElement(I,{"aria-labelledby":`${u}-label`})]})):(!c&&C&&T(!1),j.jsx(fr,w({id:u,ref:t,title:b,placement:y,onClose:()=>{T(!1)},onOpen:()=>{T(!0)},open:c&&C,classes:d},_,{children:I})))}));const xi=Ve(j.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),wi=Ve(j.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),Oi=Ve(j.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),Si={noPadding:"_noPadding_1ii70_1",addRow:"_addRow_1ii70_5",addColumn:"_addColumn_1ii70_9",addIcon:"_addIcon_1ii70_13",svgContainer:"_svgContainer_1ii70_23",addButton:"_addButton_1ii70_31"},ki={mainContainer:"_mainContainer_as1f9_1",updateButtons:"_updateButtons_as1f9_5",save:"_save_as1f9_14",header:"_header_as1f9_18"},ji="_footer_1pku9_18",Ei="_contentPanel_1pku9_22",Ci="_cardImage_1pku9_30",Ti="_virtuosoStyle_1pku9_42",qi="_cardMediaContent_1pku9_47",Ii="_errorDisplay_1joy4_1",Ai="_clickable_1joy4_10";var Li={},Pi=L;Object.defineProperty(Li,"__esModule",{value:!0});var Ni=Li.default=void 0,Fi=Pi(ze()),Ri=j;Ni=Li.default=(0,Fi.default)((0,Ri.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");const Mi=(e,t,r)=>"EMPTY_PARENT"===t?r("err_empty_parent",{component_name:Vi(e,r),child_name:zi(e,r)}):"DUPLICATE_CODE"===t?(r("err_duplicate_code"),{component_name:Vi(e,r)}):"NO_END_GROUP"===t?r("err_no_end_group"):"MISPLACED_END_GROUP"===t?r("err_misplaced_end_group"):"MISPLACED_WELCOME_GROUP"===t?r("err_misplaced_welcome_group"):"",Di=(e,t)=>"value"===e.code&&"InvalidInstructionInEndGroup"==e.errors[0].name?t("err_value_in_end_group"):"conditional_relevance"===e.code?t("err_relevance"):"random_group"===e.code?t("err_random"):"priority_groups"===e.code?t("err_priority"):e.code.startsWith("reference")?j.jsx(Rn,{t:t,values:{codes:e.errors.map((e=>{var t;return null===(t=e.dependency)||void 0===t?void 0:t.componentCode})).join(", "),lang:e.lang},i18nKey:"err_reference"}):e.code.startsWith("skip_to")?t("err_skip"):"",Vi=(e,t)=>"Survey"==e?t("survey"):We(e)?t("question"):$e(e)?t("group"):t("option"),zi=(e,t)=>$e(e)?t("question"):t("Survey"==e?"group":"option"),Bi=v.memo((function(e){const t=Be("design").t,r=He(),n=Or([t=>t.designState[e.code]||{}],(e=>{var t;const r=null===(t=e.instructionList)||void 0===t?void 0:t.filter((e=>{var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>0}));return{errors:e.errors,designErrors:e.designErrors,instructions:null!=r&&r.length?r:void 0}})),o=Ue(n),i=o.errors,a=o.designErrors,l=o.instructions,s=(null==i?void 0:i.length)>0||(null==a?void 0:a.length)>0||(null==l?void 0:l.length)>0,u=Ue((t=>{var r;return"Survey"==e.code?"":$e(e.code)?(null===(r=t.designState[e.code].groupType)||void 0===r?void 0:r.toLowerCase())||"group":t.designState[e.code].type}));return s?j.jsxs(P,{className:Ii,children:[i&&i.map((r=>j.jsxs("div",{children:[j.jsx(hr,{style:{verticalAlign:"middle"}}),Mi(e.code,r,t)]},r))),a&&a.map((e=>j.jsxs("div",{children:[j.jsx(hr,{style:{verticalAlign:"middle"}}),e.message]},e.code))),l&&l.map((n=>{return j.jsxs("div",{className:(o=n,"conditional_relevance"===o.code||"random_group"===o.code||"priority_groups"===o.code||o.code.startsWith("skip_to")?Ai:""),onClick:()=>(t=>("conditional_relevance"===t.code?r(Ke({code:e.code,rules:Ge(u),highlighted:"relevance",expanded:["relevance"]})):"random_group"===t.code||"priority_groups"===t.code?"Survey"==e.code?r(Ke(p(p({},Ye),{},{highlighted:"random"}))):r(Ke({code:e.code,rules:Ge(u),highlighted:"random",expanded:["random"]})):t.code.startsWith("skip_to")&&r(Ke({code:e.code,rules:Ge(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""))(n),children:[j.jsx(Ni,{style:{verticalAlign:"middle"}}),Di(n,t)]},n.code);var o}))]}):j.jsx(j.Fragment,{})}));var Hi={},Ui=L;Object.defineProperty(Hi,"__esModule",{value:!0});var $i=Hi.default=void 0,Wi=Ui(ze()),Ki=j;$i=Hi.default=(0,Wi.default)((0,Ki.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const Gi="_textDescriptionContent_o9cn8_1",Yi="_moveBox_o9cn8_7",Ji="_groupQuestion_o9cn8_13",Qi="_titleContainer_o9cn8_22",Xi="_titleQuestion_o9cn8_29",Zi="_iconBox_o9cn8_39",ea="_actionToolbarVisible_o9cn8_59",ta="_contentContainer_o9cn8_64",ra="_fullWidth_1dvff_1",na="_noPadding_1dvff_12",oa="_placeholder_1dvff_25";var ia=function(){this.__data__=[],this.size=0};var aa=function(e,t){return e===t||e!=e&&t!=t},la=aa;var sa=function(e,t){for(var r=e.length;r--;)if(la(e[r][0],t))return r;return-1},ua=sa,ca=Array.prototype.splice;var da=function(e){var t=this.__data__,r=ua(t,e);return!(r<0)&&(r==t.length-1?t.pop():ca.call(t,r,1),--this.size,!0)},pa=sa;var fa=function(e){var t=this.__data__,r=pa(t,e);return r<0?void 0:t[r][1]},ha=sa;var ga=sa;var va=function(e,t){var r=this.__data__,n=ga(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ma=ia,ya=da,ba=fa,_a=function(e){return ha(this.__data__,e)>-1},xa=va;function wa(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wa.prototype.clear=ma,wa.prototype.delete=ya,wa.prototype.get=ba,wa.prototype.has=_a,wa.prototype.set=xa;var Oa=wa,Sa=Oa;var ka=function(){this.__data__=new Sa,this.size=0};var ja=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ea=function(e){return this.__data__.get(e)};var Ca=function(e){return this.__data__.has(e)},Ta="object"==typeof N&&N&&N.Object===Object&&N,qa=Ta,Ia="object"==typeof self&&self&&self.Object===Object&&self,Aa=qa||Ia||Function("return this")(),La=Aa.Symbol,Pa=La,Na=Object.prototype,Fa=Na.hasOwnProperty,Ra=Na.toString,Ma=Pa?Pa.toStringTag:void 0;var Da=function(e){var t=Fa.call(e,Ma),r=e[Ma];try{e[Ma]=void 0;var n=!0}catch(_n){}var o=Ra.call(e);return n&&(t?e[Ma]=r:delete e[Ma]),o},Va=Object.prototype.toString;var za=Da,Ba=function(e){return Va.call(e)},Ha=La?La.toStringTag:void 0;var Ua=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ha&&Ha in Object(e)?za(e):Ba(e)};var $a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Wa=Ua,Ka=$a;var Ga,Ya=function(e){if(!Ka(e))return!1;var t=Wa(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ja=Aa["__core-js_shared__"],Qa=(Ga=/[^.]+$/.exec(Ja&&Ja.keys&&Ja.keys.IE_PROTO||""))?"Symbol(src)_1."+Ga:"";var Xa=function(e){return!!Qa&&Qa in e},Za=Function.prototype.toString;var el=function(e){if(null!=e){try{return Za.call(e)}catch(_n){}try{return e+""}catch(_n){}}return""},tl=Ya,rl=Xa,nl=$a,ol=el,il=/^\[object .+?Constructor\]$/,al=Function.prototype,ll=Object.prototype,sl=al.toString,ul=ll.hasOwnProperty,cl=RegExp("^"+sl.call(ul).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var dl=function(e){return!(!nl(e)||rl(e))&&(tl(e)?cl:il).test(ol(e))},pl=function(e,t){return null==e?void 0:e[t]};var fl=function(e,t){var r=pl(e,t);return dl(r)?r:void 0},hl=fl(Aa,"Map"),gl=fl(Object,"create"),vl=gl;var ml=function(){this.__data__=vl?vl(null):{},this.size=0};var yl=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},bl=gl,_l=Object.prototype.hasOwnProperty;var xl=function(e){var t=this.__data__;if(bl){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return _l.call(t,e)?t[e]:void 0},wl=gl,Ol=Object.prototype.hasOwnProperty;var Sl=gl;var kl=ml,jl=yl,El=xl,Cl=function(e){var t=this.__data__;return wl?void 0!==t[e]:Ol.call(t,e)},Tl=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Sl&&void 0===t?"__lodash_hash_undefined__":t,this};function ql(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ql.prototype.clear=kl,ql.prototype.delete=jl,ql.prototype.get=El,ql.prototype.has=Cl,ql.prototype.set=Tl;var Il=ql,Al=Oa,Ll=hl;var Pl=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Nl=Pl;var Fl=function(e,t){var r=e.__data__;return Nl(t)?r["string"==typeof t?"string":"hash"]:r.map},Rl=Fl;var Ml=Fl;var Dl=Fl;var Vl=Fl;var zl=function(){this.size=0,this.__data__={hash:new Il,map:new(Ll||Al),string:new Il}},Bl=function(e){var t=Rl(this,e).delete(e);return this.size-=t?1:0,t},Hl=function(e){return Ml(this,e).get(e)},Ul=function(e){return Dl(this,e).has(e)},$l=function(e,t){var r=Vl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Wl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wl.prototype.clear=zl,Wl.prototype.delete=Bl,Wl.prototype.get=Hl,Wl.prototype.has=Ul,Wl.prototype.set=$l;var Kl=Wl,Gl=Oa,Yl=hl,Jl=Kl;var Ql=Oa,Xl=ka,Zl=ja,es=Ea,ts=Ca,rs=function(e,t){var r=this.__data__;if(r instanceof Gl){var n=r.__data__;if(!Yl||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jl(n)}return r.set(e,t),this.size=r.size,this};function ns(e){var t=this.__data__=new Ql(e);this.size=t.size}ns.prototype.clear=Xl,ns.prototype.delete=Zl,ns.prototype.get=es,ns.prototype.has=ts,ns.prototype.set=rs;var os=ns;var is=Kl,as=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ls=function(e){return this.__data__.has(e)};function ss(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new is;++t<r;)this.add(e[t])}ss.prototype.add=ss.prototype.push=as,ss.prototype.has=ls;var us=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var cs=ss,ds=us,ps=function(e,t){return e.has(t)};var fs=function(e,t,r,n,o,i){var a=1&r,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=2&r?new cs:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!ds(t,(function(e,t){if(!ps(f,t)&&(h===e||o(h,e,r,n,i)))return f.push(t)}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},hs=Aa.Uint8Array;var gs=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var vs=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},ms=hs,ys=aa,bs=fs,_s=gs,xs=vs,ws=La?La.prototype:void 0,Os=ws?ws.valueOf:void 0;var Ss=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ms(e),new ms(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ys(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=_s;case"[object Set]":var s=1&n;if(l||(l=xs),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=bs(l(e),l(t),n,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Os)return Os.call(e)==Os.call(t)}return!1};var ks=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},js=Array.isArray,Es=ks,Cs=js;var Ts=function(e,t,r){var n=t(e);return Cs(e)?n:Es(n,r(e))};var qs=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Is=function(){return[]},As=qs,Ls=Is,Ps=Object.prototype.propertyIsEnumerable,Ns=Object.getOwnPropertySymbols,Fs=Ns?function(e){return null==e?[]:(e=Object(e),As(Ns(e),(function(t){return Ps.call(e,t)})))}:Ls;var Rs=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Ms=function(e){return null!=e&&"object"==typeof e},Ds=Ua,Vs=Ms;var zs=function(e){return Vs(e)&&"[object Arguments]"==Ds(e)},Bs=Ms,Hs=Object.prototype,Us=Hs.hasOwnProperty,$s=Hs.propertyIsEnumerable,Ws=zs(function(){return arguments}())?zs:function(e){return Bs(e)&&Us.call(e,"callee")&&!$s.call(e,"callee")},Ks=Ws,Gs={exports:{}};var Ys=function(){return!1};!function(e,t){var r=Aa,n=Ys,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;e.exports=l}(Gs,Gs.exports);var Js=Gs.exports,Qs=/^(?:0|[1-9]\d*)$/;var Xs=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Qs.test(e))&&e>-1&&e%1==0&&e<t};var Zs=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},eu=Ua,tu=Zs,ru=Ms,nu={};nu["[object Float32Array]"]=nu["[object Float64Array]"]=nu["[object Int8Array]"]=nu["[object Int16Array]"]=nu["[object Int32Array]"]=nu["[object Uint8Array]"]=nu["[object Uint8ClampedArray]"]=nu["[object Uint16Array]"]=nu["[object Uint32Array]"]=!0,nu["[object Arguments]"]=nu["[object Array]"]=nu["[object ArrayBuffer]"]=nu["[object Boolean]"]=nu["[object DataView]"]=nu["[object Date]"]=nu["[object Error]"]=nu["[object Function]"]=nu["[object Map]"]=nu["[object Number]"]=nu["[object Object]"]=nu["[object RegExp]"]=nu["[object Set]"]=nu["[object String]"]=nu["[object WeakMap]"]=!1;var ou=function(e){return ru(e)&&tu(e.length)&&!!nu[eu(e)]};var iu=function(e){return function(t){return e(t)}},au={exports:{}};!function(e,t){var r=Ta,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(_n){}}();e.exports=a}(au,au.exports);var lu=au.exports,su=ou,uu=iu,cu=lu&&lu.isTypedArray,du=cu?uu(cu):su,pu=Rs,fu=Ks,hu=js,gu=Js,vu=Xs,mu=du,yu=Object.prototype.hasOwnProperty;var bu=function(e,t){var r=hu(e),n=!r&&fu(e),o=!r&&!n&&gu(e),i=!r&&!n&&!o&&mu(e),a=r||n||o||i,l=a?pu(e.length,String):[],s=l.length;for(var u in e)!t&&!yu.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vu(u,s))||l.push(u);return l},_u=Object.prototype;var xu=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_u)};var wu=function(e,t){return function(r){return e(t(r))}},Ou=wu(Object.keys,Object),Su=xu,ku=Ou,ju=Object.prototype.hasOwnProperty;var Eu=Ya,Cu=Zs;var Tu=function(e){return null!=e&&Cu(e.length)&&!Eu(e)},qu=bu,Iu=function(e){if(!Su(e))return ku(e);var t=[];for(var r in Object(e))ju.call(e,r)&&"constructor"!=r&&t.push(r);return t},Au=Tu;var Lu=function(e){return Au(e)?qu(e):Iu(e)};const Pu=g(Lu);var Nu=Ts,Fu=Fs,Ru=Lu;var Mu=function(e){return Nu(e,Ru,Fu)},Du=Mu,Vu=Object.prototype.hasOwnProperty;var zu=function(e,t,r,n,o,i){var a=1&r,l=Du(e),s=l.length;if(s!=Du(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:Vu.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f},Bu=fl(Aa,"DataView"),Hu=hl,Uu=fl(Aa,"Promise"),$u=fl(Aa,"Set"),Wu=fl(Aa,"WeakMap"),Ku=Ua,Gu=el,Yu="[object Map]",Ju="[object Promise]",Qu="[object Set]",Xu="[object WeakMap]",Zu="[object DataView]",ec=Gu(Bu),tc=Gu(Hu),rc=Gu(Uu),nc=Gu($u),oc=Gu(Wu),ic=Ku;(Bu&&ic(new Bu(new ArrayBuffer(1)))!=Zu||Hu&&ic(new Hu)!=Yu||Uu&&ic(Uu.resolve())!=Ju||$u&&ic(new $u)!=Qu||Wu&&ic(new Wu)!=Xu)&&(ic=function(e){var t=Ku(e),r="[object Object]"==t?e.constructor:void 0,n=r?Gu(r):"";if(n)switch(n){case ec:return Zu;case tc:return Yu;case rc:return Ju;case nc:return Qu;case oc:return Xu}return t});var ac=ic,lc=os,sc=fs,uc=Ss,cc=zu,dc=ac,pc=js,fc=Js,hc=du,gc="[object Arguments]",vc="[object Array]",mc="[object Object]",yc=Object.prototype.hasOwnProperty;var bc=function(e,t,r,n,o,i){var a=pc(e),l=pc(t),s=a?vc:dc(e),u=l?vc:dc(t),c=(s=s==gc?mc:s)==mc,d=(u=u==gc?mc:u)==mc,p=s==u;if(p&&fc(e)){if(!fc(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new lc),a||hc(e)?sc(e,t,r,n,o,i):uc(e,t,s,r,n,o,i);if(!(1&r)){var f=c&&yc.call(e,"__wrapped__"),h=d&&yc.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new lc),o(g,v,r,n,i)}}return!!p&&(i||(i=new lc),cc(e,t,r,n,o,i))},_c=Ms;var xc=function e(t,r,n,o,i){return t===r||(null==t||null==r||!_c(t)&&!_c(r)?t!=t&&r!=r:bc(t,r,n,o,e,i))},wc=xc;var Oc=function(e,t){return wc(e,t)},Sc={exports:{}};
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
!function(e,t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),a=r(45),l=r(46),s=r(47),u=r(48),c=r(49),d=r(12),p=r(32),f=r(33),h=r(31),g=r(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=v},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var a,l={},s={},u={},c={};function d(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||u[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=u[e]&&null!=n.className||(u[e]=n)})))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),a=r(20),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=c:f.insert=d.insert;var h=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),u.push(f),!r.hasNext()&&o(u.ops[u.ops.length-1],f)){var g=new s(t.rest());return u.concat(g).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},l=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},s=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,c,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(r in t)n=u(d,r),d!==(o=u(t,r))&&(h&&o&&(l(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&l(n)?n:{},s(d,{name:r,newValue:e(h,c,o)})):void 0!==o&&s(d,{name:r,newValue:o}));return d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=d(r(3)),a=d(r(2)),l=d(r(0)),s=d(r(16)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=l.default.create(v.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(l.default.Embed);g.scope=l.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return h(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(l.default.query(n,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;i.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof s.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(l.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,l.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var a=v(r(2)),l=v(r(14)),s=v(r(8)),u=v(r(9)),c=v(r(0)),d=r(15),p=v(d),f=v(r(3)),h=v(r(10)),g=v(r(34));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,h.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,n),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e){e===s.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;x.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return x.call(this,(function(){var n=r.getSelection(!0),o=new a.default;if(null==n)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,m({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,m({},e,t))}return r.setSelection(n,s.default.sources.SILENT),o}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatLine(e,t,a)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatText(e,t,a)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var a,l=this,s=w(e,0,r,n,i),u=o(s,4);return e=u[0],a=u[2],i=u[3],x.call(this,(function(){return l.editor.insertText(e,t,a)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=w(t,r,n),a=o(i,4);t=a[0],r=a[1],n=a[3],this.selection.setRange(new d.Range(t,r),n),n!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function _(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function x(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===s.default.sources.USER)return new a.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,l=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=O(o,l,t):0!==n&&(o=O(o,r,n,t)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var u,c,d=[s.default.events.TEXT_CHANGE,l,i,t];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return l}function w(e,t,r,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,i=o):"string"==typeof r&&(null!=o?a[r]=o:i=r),[e,t,a,i=i||s.default.sources.API]}function O(e,t,r,n){if(null==e)return null;var i=void 0,l=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==s.default.sources.USER)})),c=o(u,2);i=c[0],l=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===s.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),f=o(p,2);i=f[0],l=f[1]}return new d.Range(i,l-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=s.default.events,b.sources=s.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},t.expandConfig=_,t.overload=w,t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(7)),a=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&a.default.query(n,a.default.Scope.BLOT)){var l=this.isolate(e,r);i&&l.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(a.default.Inline);s.allowedChildren=[s,a.default.Embed,i.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,a(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){l.log.apply(l,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=o(e),p=o(t)}catch(_n){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],r))return!1;return typeof e==typeof t}(e,t,r))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=d(r(2)),l=d(r(0)),s=d(r(4)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);g.blotName="code",g.tagName="CODE";var v=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(c.default,this.length()-1),a=n(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=l.default.query(n,l.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,u=this.isolate(a,s),c=u.next;u.format(n,o),c instanceof t&&c.formatAt(0,e-a+r-s,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(c.default,e),i=n(o,2),a=i[0],l=i[1];a.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(s.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=m(r(2)),l=m(r(20)),s=m(r(0)),u=m(r(13)),c=m(r(24)),d=r(4),p=m(d),f=m(r(16)),h=m(r(21)),g=m(r(11)),v=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,h.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.default)}(e),e.reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var f=a.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),g=o(h,2),m=g[0],y=g[1],b=(0,v.default)({},(0,d.bubbleFormats)(m));if(m instanceof p.default){var _=m.descendant(s.default.Leaf,y),x=o(_,1)[0];b=(0,v.default)(b,(0,d.bubbleFormats)(x))}c=l.default.attributes.diff(b,c)||{}}else if("object"===n(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}i+=u}return Object.keys(c).forEach((function(r){t.scroll.formatAt(e,u,r,c[r])})),e+u}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof u.default){var l=e-t.offset(r.scroll),s=t.newlineIndex(l+a)-l+1;t.formatAt(l,s,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof s.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(s.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=_((0,d.bubbleFormats)(r),t)}return t}));return v.default.apply(v.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),l=i[0],s=i[1],c=0,d=new a.default;null!=l&&(c=l instanceof u.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(r).concat(d)),f=(new a.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&s.default.find(t[0].target)){var o=s.default.find(t[0].target),i=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),f=(new a.default).insert(o.value());e=(new a.default).retain(l).concat(p.diff(f,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(21)),l=u(r(11)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},h=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.TEXT_CHANGE&&t.length()>0&&n.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;n.setNativeRange(o,i,a,l)}})),this.update(s.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(s.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),a=n(i,2),l=a[0],s=a[1];if(null==l)return null;var u=l.position(s,!0),c=n(u,2);o=c[0],s=c[1];var d=document.createRange();if(t>0){d.setStart(o,s);var p=this.scroll.leaf(e+t),f=n(p,2);if(l=f[0],s=f[1],null==l)return null;var h=l.position(s,!0),g=n(h,2);return o=g[0],s=g[1],d.setEnd(o,s),d.getBoundingClientRect()}var v="left",m=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),v="right"),m=d.getBoundingClientRect()):(m=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:m.top+m.height,height:m.height,left:m[v],right:m[v],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map((function(e){var r=n(e,2),o=r[0],a=r[1],l=i.default.find(o,!0),s=l.offset(t.scroll);return 0===a?s:l instanceof i.default.Container?s+l.length():s+l.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(c(o)));return new f(l,a-l)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var a,l=t.scroll.leaf(e),s=n(l,2),u=s[0],c=s[1],d=u.position(c,0!==r),p=n(d,2);a=p[0],c=p[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=n(i,1)[0],l=a;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,o));l=n(s,1)[0]}if(null!=a&&null!=l){var u=e.getBoundingClientRect();r.top<u.top?e.scrollTop-=u.top-r.top:r.bottom>u.bottom&&(e.scrollTop+=r.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,c(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(p)),e!==s.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(_n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(30),l=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=u(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof l.ParchmentError)return;throw n}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var a=null==r?l.create("text",t):l.create(t,r);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var n=u(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(a.default);function u(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(_n){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=r(31),l=r(17),s=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(l.default);t.default=u},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=f(r(0)),l=f(r(8)),s=r(4),u=f(s),c=f(r(16)),d=f(r(13)),p=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof s.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),a=n(o,2),l=a[0],u=a[1],p=this.line(e+r),f=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&l!==f&&u>0){if(l instanceof s.BlockEmbed||f instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var h=l.newlineIndex(l.length(),!0);if(h>-1&&(l=l.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}var v=f.children.head instanceof c.default?null:f.children.head;l.moveChildren(f,v),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==a.default.query(r,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var l=a.default.create(r,n);this.appendChild(l)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var n=a.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){h(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,r,i))),i-=n})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(a.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,s.BlockEmbed,p.default],t.default=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=g(r(21)),l=g(r(11)),s=g(r(3)),u=g(r(2)),c=g(r(20)),d=g(r(0)),p=g(r(5)),f=g(r(10)),h=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},S),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},O),n.addBinding({key:t.keys.DELETE},{collapsed:!1},O),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E(e);if(null==n||null==n.key)return m.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,s.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,a=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=e.quill.getLine(s.index),c=o(u,2),p=c[0],f=c[1],h=e.quill.getLeaf(s.index),g=o(h,2),v=g[0],m=g[1],y=0===s.length?[v,m]:e.quill.getLeaf(s.index+s.length),b=o(y,2),_=b[0],x=b[1],w=v instanceof d.default.Text?v.value().slice(0,m):"",O=_ instanceof d.default.Text?_.value().slice(x):"",S={collapsed:0===s.length,empty:0===s.length&&p.length()<=1,format:e.quill.getFormat(s),offset:f,prefix:w,suffix:O},k=a.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,l.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,s,S))}));k&&r.preventDefault()}}}}))}}]),t}(h.default);function _(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return v(r={key:e,shiftKey:t,altKey:null},n,/^$/),v(r,"handler",(function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))})),r}function x(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=n.formats(),u=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,a=this.quill.getLine(e.index),l=o(a,1)[0];if(t.offset>=l.length()-1){var s=this.quill.getLine(e.index+1),u=o(s,1)[0];if(u){var d=l.formats(),f=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(d,f)||{},i=u.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function O(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=c.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function S(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(r,n),l=o(a,2),s=l[0],u=l[1];if(null!=s){var c=this.quill.getIndex(s),f=s.newlineIndex(u,!0)+1,h=s.newlineIndex(c+u+i),g=s.domNode.textContent.slice(f,h).split("\n");u=0,g.forEach((function(t,o){e?(s.insertAt(f+u,r.TAB),u+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(f+u,r.TAB.length),u-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function j(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(0,s.default)({},n.formats(),{list:"checked"}),l=(new u.default).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],a=n[1],l=(new u.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),a=i[0],l=i[1];if(l>r)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-l).delete(r+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(new u.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(b.keys.LEFT,!1),"embed left shift":_(b.keys.LEFT,!0),"embed right":_(b.keys.RIGHT,!1),"embed right shift":_(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),l=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),o=void 0,i=void 0,s=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var u=[e,r.start.offset,r.end.offset];o=u[0],i=u[1],s=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof l.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,s].map((function(e){return Math.max(0,Math.min(o.data.length,e-1))})),p=n(d,2);return i=p[0],s=p[1],{startNode:o,startOffset:i,endNode:o,endOffset:s}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=r(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):r}}]),t}(l.default.Attributor.Style),u=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),c=new s("color","color",{scope:l.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=u,t.ColorStyle=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);function s(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(23)),a=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(0)),o=m(r(5)),i=r(4),a=m(i),l=m(r(16)),s=m(r(25)),u=m(r(24)),c=m(r(35)),d=m(r(6)),p=m(r(22)),f=m(r(7)),h=m(r(55)),g=m(r(42)),v=m(r(23));function m(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":v.default}),n.default.register(a.default,l.default,u.default,d.default,p.default,f.default),t.default=o.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),a=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);t.concat(r).concat(l).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(s),r.rightGuard=document.createTextNode(s),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=s,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new i.default.Attributor.Attribute("align","align",a),s=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);t.AlignAttribute=l,t.AlignClass=s,t.AlignStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=r(26),l=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),s=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=l,t.BackgroundStyle=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},l=new i.default.Attributor.Attribute("direction","dir",a),s=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=l,t.DirectionClass=s,t.DirectionStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new l.default.Attributor.Class("font","ql-font",s),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(l.default.Attributor.Style),d=new c("font","font-family",s);t.FontStyle=d,t.FontClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=l},function(e,t,r){e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=s(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(r(9)).default);function s(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)})))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=h(r(3)),a=h(r(2)),l=h(r(8)),s=h(r(23)),u=h(r(34)),c=h(r(59)),d=h(r(60)),p=h(r(28)),f=h(r(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],O=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return m(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===r?"#ffffff":"#000000"),new c.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,_):e.classList.contains("ql-header")?k(e,x):e.classList.contains("ql-size")&&k(e,w)),new p.default(e)})),this.quill.on(l.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);O.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(n.index).delete(n.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(n.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return m(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",r,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",r,l.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":r=(t=(e=r).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!r)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),r,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",l.default.sources.USER),this.quill.setSelection(i+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=S,t.default=O},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],l=this.iterator(i);(n=l())&&a<e+t;){var s=n.length();e>a?r(n,e-a,Math.min(t,a+s-e)):r(n,0,Math.min(s,e+t-a)),a+=s}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var l=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&l(e.parent))},s=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(s),e.optimize(r))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);l(t,!1),t instanceof i.default&&t.children.forEach((function(e){l(e,!1)}))}))):"attributes"===e.type&&l(t.prev)),l(t))})),this.children.forEach(s),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=a.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=a.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1,n=1,o=0;function i(e,t,c){if(e==t)return e?[[o,e]]:[];(c<0||e.length<c)&&(c=null);var p=l(e,t),f=e.substring(0,p);p=s(e=e.substring(p),t=t.substring(p));var h=e.substring(e.length-p),g=function(e,t){var u;if(!e)return[[n,t]];if(!t)return[[r,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,p=c.indexOf(d);if(-1!=p)return u=[[n,c.substring(0,p)],[o,d],[n,c.substring(p+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=r),u;if(1==d.length)return[[r,e],[n,t]];var f=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=l(e.substring(r),t.substring(c)),f=s(e.substring(0,r),t.substring(0,c));d.length<f+p&&(d=t.substring(c-f,c)+t.substring(c,c+p),n=e.substring(0,r-f),o=e.substring(r+p),i=t.substring(0,c-f),a=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,a,d]:null}var i,a,u,c,d,p=o(r,n,Math.ceil(r.length/4)),f=o(r,n,Math.ceil(r.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(a=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],a=i[2],u=i[3]);var h=i[4];return[a,u,c,d,h]}(e,t);if(f){var h=f[0],g=f[1],v=f[2],m=f[3],y=f[4],b=i(h,v),_=i(g,m);return b.concat([[o,y]],_)}return function(e,t){for(var o=e.length,i=t.length,l=Math.ceil((o+i)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var f=o-i,h=f%2!=0,g=0,v=0,m=0,y=0,b=0;b<l;b++){for(var _=-b+g;_<=b-v;_+=2){for(var x=s+_,w=(E=_==-b||_!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-_;E<o&&w<i&&e.charAt(E)==t.charAt(w);)E++,w++;if(c[x]=E,E>o)v+=2;else if(w>i)g+=2;else if(h&&(k=s+f-_)>=0&&k<u&&-1!=d[k]&&E>=(S=o-d[k]))return a(e,t,E,w)}for(var O=-b+m;O<=b-y;O+=2){for(var S,k=s+O,j=(S=O==-b||O!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-O;S<o&&j<i&&e.charAt(o-S-1)==t.charAt(i-j-1);)S++,j++;if(d[k]=S,S>o)y+=2;else if(j>i)m+=2;else if(!h){var E;if((x=s+f-O)>=0&&x<u&&-1!=c[x])if(w=s+(E=c[x])-x,E>=(S=o-S))return a(e,t,E,w)}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&g.unshift([o,f]),h&&g.push([o,h]),u(g),null!=c&&(g=function(e,t){var n=function(e,t){if(0===t)return[o,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===r||a[0]===o){var l=n+a[1].length;if(t===l)return[i+1,e];if(t<l){e=e.slice();var s=t-n,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}n=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==o)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),d(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),d(i,a,3)}return e}(g,c)),g=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},l=2;l<e.length;l+=1)e[l-2][0]===o&&a(e[l-2][1])&&e[l-1][0]===r&&i(e[l-1][1])&&e[l][0]===n&&i(e[l][1])&&(t=!0,e[l-1][1]=e[l-2][1].slice(-1)+e[l-1][1],e[l][1]=e[l-2][1].slice(-1)+e[l][1],e[l-2][1]=e[l-2][1].slice(0,-1));if(!t)return e;var s=[];for(l=0;l<e.length;l+=1)e[l][1].length>0&&s.push(e[l]);return s}(g),g}function a(e,t,r,n){var o=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=i(o,a),c=i(l,s);return u.concat(c)}function l(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function u(e){e.push([o,""]);for(var t,i=0,a=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case n:c++,p+=e[i][1],i++;break;case r:a++,d+=e[i][1],i++;break;case o:a+c>1?(0!==a&&0!==c&&(0!==(t=l(p,d))&&(i-a-c>0&&e[i-a-c-1][0]==o?e[i-a-c-1][1]+=p.substring(0,t):(e.splice(0,0,[o,p.substring(0,t)]),i++),p=p.substring(t),d=d.substring(t)),0!==(t=s(p,d))&&(e[i][1]=p.substring(p.length-t)+e[i][1],p=p.substring(0,p.length-t),d=d.substring(0,d.length-t))),0===a?e.splice(i-c,a+c,[n,p]):0===c?e.splice(i-a,a+c,[r,d]):e.splice(i-a-c,a+c,[r,d],[n,p]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,a=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),f=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),f=!0)),i++;f&&u(e)}var c=i;function d(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}c.INSERT=n,c.DELETE=r,c.EQUAL=o,e.exports=c},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},a.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,u=[],c=l.length;s<c;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&u.push(l[s]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=b(r(3)),l=b(r(2)),s=b(r(0)),u=b(r(5)),c=b(r(10)),d=b(r(9)),p=r(36),f=r(37),h=b(r(13)),g=r(26),v=r(38),m=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",O=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,N],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===C(e).fontStyle&&(r.italic=!0),n.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=E(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=s.default.query(e);if(null==r||"list-item"!==r.blotName||!T(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new l.default}]],S=[p.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,f.BackgroundStyle,g.ColorStyle,v.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],O.concat(n.options.matchers).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];(r.matchVisual||a!==F)&&n.addMatcher(i,a)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,_({},h.default.blotName,t[h.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),a=i[0],s=i[1],u=I(this.container,a,s);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new l.default).retain(u.length()-1).delete(1))),x.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new l.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,u.default.sources.USER),t.quill.setSelection(n.length()-r.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=o(n,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(l)}))}})),[t,r]}}]),t}(d.default);function E(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return E(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_({},t,r),n.attributes))}),new l.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function q(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function I(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,o){var i=I(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(o,e)}),i),i=(o[w]||[]).reduce((function(e,t){return t(o,e)}),i)),n.concat(i)}),new l.default):new l.default}function A(e,t,r){return E(r,e,!0)}function L(e,t){var r=s.default.Attributor.Attribute.keys(e),n=s.default.Attributor.Class.keys(e),o=s.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach((function(t){var r=s.default.query(t,s.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=S[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=E(t,i)),t}function P(e,t){var r=s.default.query(e);if(null==r)return t;if(r.prototype instanceof s.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new l.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=E(t,r.blotName,r.formats(e)));return t}function N(e,t){return T(t,"\n")||(q(e)||t.length()>0&&e.nextSibling&&q(e.nextSibling))&&t.insert("\n"),t}function F(e,t){if(q(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var r=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&q(e.parentNode)||null!=e.previousSibling&&q(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&q(e.parentNode)||null!=e.nextSibling&&q(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}j.DEFAULTS={matchers:[],matchVisual:!0},t.default=j,t.matchAttributor=L,t.matchBlot=P,t.matchNewline=N,t.matchSpacing=F,t.matchText=R},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(2)),a=c(r(0)),l=c(r(5)),s=c(r(10)),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var a=document.createElement("div");g(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,(function(o){var s=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];s=!u.hasAttribute("selected")&&(u.value||!1)}else s=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,s);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,s)),l.default.sources.USER)}else t.quill.format(r,s,l.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var o=n(r,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==e)l=null;else if(null==t[i])l=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[i])}))}}]),t}(u.default);function h(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):h(r,t,n)}})),e.appendChild(r)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=f,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=f(r(3)),l=f(r(8)),s=r(43),u=f(s),c=f(r(27)),d=r(15),p=f(r(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return v(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(u.default);y.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){h(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,l.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(l.default.events.SELECTION_CHANGE,(function(t,r,o){if(null!=t){if(0===t.length&&o===l.default.sources.USER){var i=e.quill.scroll.descendant(c.default,t.index),a=n(i,2),s=a[0],u=a[1];if(null!=s){e.linkRange=new d.Range(t.index-u,s.length());var p=c.default.formats(s.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=N(r(29)),o=r(36),i=r(38),a=r(64),l=N(r(65)),s=N(r(66)),u=r(67),c=N(u),d=r(37),p=r(26),f=r(39),h=r(40),g=N(r(56)),v=N(r(68)),m=N(r(27)),y=N(r(69)),b=N(r(70)),_=N(r(71)),x=N(r(72)),w=N(r(73)),O=r(13),S=N(O),k=N(r(74)),j=N(r(75)),E=N(r(57)),C=N(r(41)),T=N(r(28)),q=N(r(59)),I=N(r(60)),A=N(r(61)),L=N(r(108)),P=N(r(62));function N(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":l.default,"formats/code-block":S.default,"formats/header":s.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":O.Code,"formats/italic":v.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":k.default,"modules/syntax":j.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":P.default,"ui/icons":C.default,"ui/picker":T.default,"ui/icon-picker":I.default,"ui/color-picker":q.default,"ui/tooltip":A.default},!0),t.default=n.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(l.default.Attributor.Class),u=new s("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(4)),l=s(r(25));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=r(27),u=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(4),l=r(27),s=(n=l)&&n.__esModule?n:{default:n},u=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(35)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(l.default);t.FormulaBlot=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(r(13)).default);p.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(e){function t(e,r){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){n.highlight(),o=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(f,!0),a.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(l.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),a=d(r(8)),l=r(43),s=d(l),u=r(15),c=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return h(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(s.default);v.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,r){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,r,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var l=i[i.length-1],s=n.quill.getIndex(l),c=Math.min(l.length()-1,t.index+t.length-s),d=n.quill.getBounds(new u.Range(s,c));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return h(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=v},function(e,t,r){e.exports=r(63)}]).default},e.exports=r()}(Sc);var kc=Sc.exports;const jc=g(kc);var Ec,Cc=N&&N.__extends||(Ec=function(e,t){return Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ec(e,t)},function(e,t){function r(){this.constructor=e}Ec(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Tc=N&&N.__assign||function(){return Tc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tc.apply(this,arguments)},qc=N&&N.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n},Ic=N&&N.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ac=Ic(v),Lc=Ic(F),Pc=Ic(Oc),Nc=Ic(kc),Fc=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,o){var i,a,l,s;"text-change"===e?null===(a=(i=r).onEditorChangeText)||void 0===a||a.call(i,r.editor.root.innerHTML,t,o,r.unprivilegedEditor):"selection-change"===e&&(null===(s=(l=r).onEditorChangeSelection)||void 0===s||s.call(l,t,o,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!=n?n:"",r}return Cc(t,e),t.prototype.validateProps=function(e){var t;if(Ac.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ac.default.Children.count(e.children)&&"textarea"===(null===(t=Ac.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(r=e.value)?r:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),qc(this.cleanProps,this.dirtyProps).some((function(t){return!Pc.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(r){return!Pc.default(e[r],t.props[r])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(n),Rc((function(){return r.setEditorSelection(l,a)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new Nc.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?Pc.default(e.ops,t.ops):Pc.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),Rc((function(){return r.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=Lc.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return Ac.default.Children.count(r)?Ac.default.cloneElement(Ac.default.Children.only(r),o):n?Ac.default.createElement("pre",Tc({},o)):Ac.default.createElement("div",Tc({},o))},t.prototype.render=function(){var e;return Ac.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var o,i;if(this.editor){var a=this.isDelta(this.value)?n.getContents():n.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,o,i,a,l,s;if(this.editor){var u=this.getEditorSelection(),c=!u&&e,d=u&&!e;Pc.default(e,u)||(this.selection=e,null===(o=(n=this.props).onChangeSelection)||void 0===o||o.call(n,e,t,r),c?null===(a=(i=this.props).onFocus)||void 0===a||a.call(i,e,t,r):d&&(null===(s=(l=this.props).onBlur)||void 0===s||s.call(l,u,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Nc.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Ac.default.Component);function Rc(e){Promise.resolve().then(e)}var Mc=Fc;const Dc=g(Mc);function Vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vc(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bc(e){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(e)}function Hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,td(n.key),n)}}function $c(e,t,r){return t&&Uc(e.prototype,t),r&&Uc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wc(e,t,r){return(t=td(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}function Yc(e,t){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yc(e,t)}function Jc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(_n){return!1}}();return function(){var r,n=Gc(e);if(t){var o=Gc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jc(e)}(this,r)}}function Xc(){return Xc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xc.apply(this,arguments)}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ed(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zc(e,t):void 0}}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function td(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var rd=9,nd=13,od=27,id=38,ad=40;function ld(e,t,r){var n=e;return Object.keys(t).forEach((function(e){r.indexOf(e)>-1?n.dataset[e]=t[e]:delete n.dataset[e]})),n}function sd(e,t){null!==t&&("object"===Bc(t)?e.appendChild(t):e.innerText=t)}var ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yc(e,t)}(r,e);var t=Qc(r);function r(e,n){var o;return Hc(this,r),Wc(Jc(o=t.call(this,e,n)),"hoverHandler",void 0),Wc(Jc(o),"hoverHandler",void 0),o.clickHandler=null,o.hoverHandler=null,o.mounted=!1,o}return $c(r,[{key:"attach",value:function(){Xc(Gc(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){Xc(Gc(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-clicked",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"getHoverHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-hovered",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"buildEvent",value:function(e,t){var r=new Event(e,{bubbles:!0,cancelable:!0});return r.value=Kc({},this.domNode.dataset),r.event=t,r}}],[{key:"create",value:function(e){var t=Xc(Gc(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerText=e.denotationChar,t.appendChild(n),"function"==typeof this.render?t.appendChild(this.render(e)):t.innerText+=e.value,r.setDataValues(t,e)}},{key:"setDataValues",value:function(e,t){var r=e;return Object.keys(t).forEach((function(e){r.dataset[e]=t[e]})),r}},{key:"value",value:function(e){return e.dataset}}]),r}(jc.import("blots/embed"));ud.blotName="mention",ud.tagName="span",ud.className="mention",jc.register("blots/mention",ud);var cd=function(){function e(t,r){var n=this;for(var o in Hc(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(e){var t=e.value;return"".concat(t)},renderLoading:function(){return null},onSelect:function(e,t){t(e)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[nd]},Kc(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes}),this.options)"function"==typeof this.options[o]&&(this.options[o]=this.options[o].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();n.onSelectionChange(e)}))})),t.keyboard.addBinding({key:rd},this.selectHandler.bind(this)),t.keyboard.bindings[rd].unshift(t.keyboard.bindings[rd].pop());var i,a=ed(this.options.selectKeys);try{for(a.s();!(i=a.n()).done;){var l=i.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(s){a.e(s)}finally{a.f()}t.keyboard.bindings[nd].unshift(t.keyboard.bindings[nd].pop()),t.keyboard.addBinding({key:od},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:id},this.upHandler.bind(this)),t.keyboard.addBinding({key:ad},this.downHandler.bind(this))}return $c(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),e&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var e=this;if(-1!==this.itemIndex){var t=this.mentionList.childNodes[this.itemIndex].dataset;t.disabled||(this.options.onSelect(t,(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertItem(t,r,n)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;if(null!==n){var o,i=zc(zc({},this.options),r);i.showDenotationChar||(n.denotationChar=""),t?o=this.cursorPos:(o=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,jc.sources.USER));var a=this.quill.insertEmbed(o,i.blotName,n,jc.sources.USER);return i.spaceAfterInsert?(this.quill.insertText(o+1," ",jc.sources.USER),this.quill.setSelection(o+2,jc.sources.USER)):this.quill.setSelection(o+1,jc.sources.USER),this.hideMentionList(),a}}},{key:"onItemMouseEnter",value:function(e){if(!this.suspendMouseEnter){var t=Number(e.target.dataset.index);Number.isNaN(t)||t===this.itemIndex||(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(e){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(e){0===e.button&&(e.preventDefault(),e.stopImmediatePropagation(),this.itemIndex=e.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var e=document.createElement("div");e.className="ql-mention-loading",sd(e,this.options.renderLoading()),this.mentionContainer.append(e),this.showMentionList()}}},{key:"removeLoading",value:function(){var e=this.mentionContainer.getElementsByClassName("ql-mention-loading");e.length>0&&e[0].remove()}},{key:"renderList",value:function(e,t,r){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerText="";for(var n=-1,o=0;o<t.length;o+=1){var i=document.createElement("li");i.id="quill-mention-item-"+o,i.className=this.options.listItemClass?this.options.listItemClass:"",t[o].disabled?(i.className+=" disabled",i.setAttribute("aria-hidden","true")):-1===n&&(n=o),i.dataset.index=o,sd(i,this.options.renderItem(t[o],r)),t[o].disabled?i.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(i.onmouseenter=this.onItemMouseEnter.bind(this),i.onmouseup=this.onItemClick.bind(this),i.onmousedown=this.onItemMouseDown.bind(this)),i.dataset.denotationChar=e,this.mentionList.appendChild(ld(i,t[o],this.options.dataAttributes))}this.itemIndex=n,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+this.values.length-t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(e,t){return e+this.mentionContainer.offsetHeight+t.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(e,t){return!this.options.fixMentionsToQuill&&e+this.mentionContainer.offsetWidth+t.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(e){this.isOpen!==e&&(e?this.options.onOpen():this.options.onClose(),this.isOpen=e)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var e=this,t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n=this.mentionContainer.offsetHeight,o=this.options.offsetTop,i=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else i+=r.left;if(this.containerRightIsNotVisible(i,t)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;i=t.width-a}if("top"===this.options.defaultMenuOrientation){if((o=this.options.fixMentionsToQuill?-1*(n+this.options.offsetTop):r.top-(n+this.options.offsetTop))+t.top<=0){var l=this.options.offsetTop;this.options.fixMentionsToQuill?l+=t.height:l+=r.bottom,o=l}}else if(this.options.fixMentionsToQuill?o+=t.height:o+=r.bottom,this.containerBottomIsNotVisible(o,t)){var s=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(s+=r.top),o=s-n}o>=0?this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))})),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(i,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var e=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n={left:t.left+r.left,top:t.top+r.top,width:0,height:r.height},o=this.options.fixMentionsToQuill?t:n,i=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=o.right;this.mentionContainer.style.right="".concat(l,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var s=o.top,u=document.documentElement.clientHeight-(o.top+o.height),c=this.mentionContainer.offsetHeight<=u,d=this.mentionContainer.offsetHeight<=s;"bottom"===("top"===this.options.defaultMenuOrientation&&d?"top":"bottom"===this.options.defaultMenuOrientation&&c||u>s?"bottom":"top")?(i=o.top+o.height,c||(this.mentionContainer.style.height=u-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))}))):(i=o.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=s-3+"px",i=3),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))}))),this.mentionContainer.style.top="".concat(i,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var e=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(e,this.cursorPos-e)}},{key:"onSomethingChange",value:function(){var e=this,t=this.quill.getSelection();if(null!=t){this.cursorPos=t.index;var r,n,o,i,a=this.getTextBeforeCursor(),l=Math.max(0,this.cursorPos-this.options.maxChars),s=l?this.quill.getText(l-1,l):"",u=(r=a,n=this.options.mentionDenotationChars,o=this.options.isolateCharacter,i=this.options.allowInlineMentionChar,n.reduce((function(e,t){var n;if(o&&i){var a=new RegExp("^".concat(t,"|\\s").concat(t),"g"),l=(r.match(a)||[]).pop();if(!l)return{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex};n=l!==t?r.lastIndexOf(l)+l.length-t.length:0}else n=r.lastIndexOf(t);return n>e.mentionCharIndex?{mentionChar:t,mentionCharIndex:n}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),c=u.mentionChar,d=u.mentionCharIndex;if(function(e,t,r,n){if(-1===e)return!1;if(!r)return!0;var o=e?t[e-1]:n;return!o||!!o.match(/\s/)}(d,a,this.options.isolateCharacter,s)){var p=this.cursorPos-(a.length-d);this.mentionCharPos=p;var f=a.substring(d+c.length);if(f.length>=this.options.minChars&&function(e,t){return t.test(e)}(f,this.getAllowedCharsRegex(c))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var h={abandoned:!1};this.existingSourceExecutionToken=h,this.options.source(f,(function(t,r){h.abandoned||(e.existingSourceExecutionToken=null,e.renderList(c,t,r))}),c)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(e){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(e)}},{key:"onTextChange",value:function(e,t,r){"user"===r&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(e){e&&0===e.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(e){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,e),this.quill.blur(),this.quill.focus()}}]),e}();jc.register("modules/mention",cd);var dd=-1,pd=1,fd=0;function hd(e,t,r){if(e==t)return e?[[fd,e]]:[];(r<0||e.length<r)&&(r=null);var n=vd(e,t),o=e.substring(0,n);n=md(e=e.substring(n),t=t.substring(n));var i=e.substring(e.length-n),a=function(e,t){var r;if(!e)return[[pd,t]];if(!t)return[[dd,e]];var n=e.length>t.length?e:t,o=e.length>t.length?t:e,i=n.indexOf(o);if(-1!=i)return r=[[pd,n.substring(0,i)],[fd,o],[pd,n.substring(i+o.length)]],e.length>t.length&&(r[0][0]=r[2][0]=dd),r;if(1==o.length)return[[dd,e],[pd,t]];var a=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,l=e.substring(r,r+Math.floor(e.length/4)),s=-1,u="";-1!=(s=t.indexOf(l,s+1));){var c=vd(e.substring(r),t.substring(s)),d=md(e.substring(0,r),t.substring(0,s));u.length<d+c&&(u=t.substring(s-d,s)+t.substring(s,s+c),n=e.substring(0,r-d),o=e.substring(r+c),i=t.substring(0,s-d),a=t.substring(s+c))}return 2*u.length>=e.length?[n,o,i,a,u]:null}var i,a,l,s,u,c=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));if(!c&&!d)return null;i=d?c&&c[4].length>d[4].length?c:d:c;e.length>t.length?(a=i[0],l=i[1],s=i[2],u=i[3]):(s=i[0],u=i[1],a=i[2],l=i[3]);var p=i[4];return[a,l,s,u,p]}(e,t);if(a){var l=a[0],s=a[1],u=a[2],c=a[3],d=a[4],p=hd(l,u),f=hd(s,c);return p.concat([[fd,d]],f)}return function(e,t){for(var r=e.length,n=t.length,o=Math.ceil((r+n)/2),i=o,a=2*o,l=new Array(a),s=new Array(a),u=0;u<a;u++)l[u]=-1,s[u]=-1;l[i+1]=0,s[i+1]=0;for(var c=r-n,d=c%2!=0,p=0,f=0,h=0,g=0,v=0;v<o;v++){for(var m=-v+p;m<=v-f;m+=2){for(var y=i+m,b=(S=m==-v||m!=v&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-m;S<r&&b<n&&e.charAt(S)==t.charAt(b);)S++,b++;if(l[y]=S,S>r)f+=2;else if(b>n)p+=2;else if(d){if((w=i+c-m)>=0&&w<a&&-1!=s[w])if(S>=(x=r-s[w]))return gd(e,t,S,b)}}for(var _=-v+h;_<=v-g;_+=2){for(var x,w=i+_,O=(x=_==-v||_!=v&&s[w-1]<s[w+1]?s[w+1]:s[w-1]+1)-_;x<r&&O<n&&e.charAt(r-x-1)==t.charAt(n-O-1);)x++,O++;if(s[w]=x,x>r)g+=2;else if(O>n)h+=2;else if(!d){if((y=i+c-_)>=0&&y<a&&-1!=l[y]){var S;b=i+(S=l[y])-y;if(S>=(x=r-x))return gd(e,t,S,b)}}}}return[[dd,e],[pd,t]]}(e,t)}(e=e.substring(0,e.length-n),t=t.substring(0,t.length-n));return o&&a.unshift([fd,o]),i&&a.push([fd,i]),yd(a),null!=r&&(a=function(e,t){var r=function(e,t){if(0===t)return[fd,e];for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o[0]===dd||o[0]===fd){var i=r+o[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var a=t-r,l=[o[0],o[1].slice(0,a)],s=[o[0],o[1].slice(a)];return e.splice(n,1,l,s),[n+1,e]}r=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=r[1],o=r[0],i=n[o],a=n[o+1];if(null==i)return e;if(i[0]!==fd)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return n.splice(o,2,a,i),xd(n,o,2);if(null!=a&&0===a[1].indexOf(i[1])){n.splice(o,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&n.splice(o+2,0,[a[0],l]),xd(n,o,3)}return e}(a,r)),a=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)e[o-2][0]===fd&&n(e[o-2][1])&&e[o-1][0]===dd&&r(e[o-1][1])&&e[o][0]===pd&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var i=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&i.push(e[o]);return i}(a),a}function gd(e,t,r,n){var o=e.substring(0,r),i=t.substring(0,n),a=e.substring(r),l=t.substring(n),s=hd(o,i),u=hd(a,l);return s.concat(u)}function vd(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function md(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function yd(e){e.push([fd,""]);for(var t,r=0,n=0,o=0,i="",a="";r<e.length;)switch(e[r][0]){case pd:o++,a+=e[r][1],r++;break;case dd:n++,i+=e[r][1],r++;break;case fd:n+o>1?(0!==n&&0!==o&&(0!==(t=vd(a,i))&&(r-n-o>0&&e[r-n-o-1][0]==fd?e[r-n-o-1][1]+=a.substring(0,t):(e.splice(0,0,[fd,a.substring(0,t)]),r++),a=a.substring(t),i=i.substring(t)),0!==(t=md(a,i))&&(e[r][1]=a.substring(a.length-t)+e[r][1],a=a.substring(0,a.length-t),i=i.substring(0,i.length-t))),0===n?e.splice(r-o,n+o,[pd,a]):0===o?e.splice(r-n,n+o,[dd,i]):e.splice(r-n-o,n+o,[dd,i],[pd,a]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&e[r-1][0]==fd?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,n=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==fd&&e[r+1][0]==fd&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&yd(e)}var bd=hd;bd.INSERT=pd,bd.DELETE=dd,bd.EQUAL=fd;var _d=bd;function xd(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}var wd,Od,Sd=Object.prototype.toString,kd=function(e){var t=Sd.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Sd.call(e.callee)),r};var jd=Array.prototype.slice,Ed=kd,Cd=Object.keys,Td=Cd?function(e){return Cd(e)}:function(){if(Od)return wd;var e;if(Od=1,!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=kd,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{s(window[e])}catch(_n){return!0}}catch(_n){return!0}return!1}();e=function(e){var o=null!==e&&"object"==typeof e,u="[object Function]"===r.call(e),d=n(e),p=o&&"[object String]"===r.call(e),f=[];if(!o&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var h=a&&u;if(p&&e.length>0&&!t.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(d&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var m in e)h&&"prototype"===m||!t.call(e,m)||f.push(String(m));if(i)for(var y=function(e){if("undefined"==typeof window||!c)return s(e);try{return s(e)}catch(_n){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!t.call(e,l[b])||f.push(l[b]);return f}}return wd=e}(),qd=Object.keys;Td.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Ed(e)?qd(jd.call(e)):qd(e)})}else Object.keys=Td;return Object.keys||Td};var Id,Ad=Td,Ld=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},Pd=Ld,Nd=function(){return Pd()&&!!Symbol.toStringTag},Fd=Error,Rd=EvalError,Md=RangeError,Dd=ReferenceError,Vd=SyntaxError,zd=TypeError,Bd=URIError,Hd="undefined"!=typeof Symbol&&Symbol,Ud=Ld,$d={__proto__:null,foo:{}},Wd=Object,Kd=Object.prototype.toString,Gd=Math.max,Yd=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},Jd=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Kd.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),o=Gd(0,t.length-n.length),i=[],a=0;a<o;a++)i[a]="$"+a;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(i,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var o=t.apply(this,Yd(n,arguments));return Object(o)===o?o:this}return t.apply(e,Yd(n,arguments))})),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},Qd=Function.prototype.bind||Jd,Xd=Function.prototype.call,Zd=Object.prototype.hasOwnProperty,ep=Qd.call(Xd,Zd),tp=Fd,rp=Rd,np=Md,op=Dd,ip=Vd,ap=zd,lp=Bd,sp=Function,up=function(e){try{return sp('"use strict"; return ('+e+").constructor;")()}catch(_n){}},cp=Object.getOwnPropertyDescriptor;if(cp)try{cp({},"")}catch(_n){cp=null}var dp=function(){throw new ap},pp=cp?function(){try{return dp}catch(e){try{return cp(arguments,"callee").get}catch(t){return dp}}}():dp,fp="function"==typeof Hd&&"function"==typeof Symbol&&"symbol"==typeof Hd("foo")&&"symbol"==typeof Symbol("bar")&&Ud(),hp={__proto__:$d}.foo===$d.foo&&!($d instanceof Wd),gp=Object.getPrototypeOf||(hp?function(e){return e.__proto__}:null),vp={},mp="undefined"!=typeof Uint8Array&&gp?gp(Uint8Array):Id,yp={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Id:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Id:ArrayBuffer,"%ArrayIteratorPrototype%":fp&&gp?gp([][Symbol.iterator]()):Id,"%AsyncFromSyncIteratorPrototype%":Id,"%AsyncFunction%":vp,"%AsyncGenerator%":vp,"%AsyncGeneratorFunction%":vp,"%AsyncIteratorPrototype%":vp,"%Atomics%":"undefined"==typeof Atomics?Id:Atomics,"%BigInt%":"undefined"==typeof BigInt?Id:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Id:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Id:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Id:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":tp,"%eval%":eval,"%EvalError%":rp,"%Float32Array%":"undefined"==typeof Float32Array?Id:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Id:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Id:FinalizationRegistry,"%Function%":sp,"%GeneratorFunction%":vp,"%Int8Array%":"undefined"==typeof Int8Array?Id:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Id:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Id:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fp&&gp?gp(gp([][Symbol.iterator]())):Id,"%JSON%":"object"==typeof JSON?JSON:Id,"%Map%":"undefined"==typeof Map?Id:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&fp&&gp?gp((new Map)[Symbol.iterator]()):Id,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Id:Promise,"%Proxy%":"undefined"==typeof Proxy?Id:Proxy,"%RangeError%":np,"%ReferenceError%":op,"%Reflect%":"undefined"==typeof Reflect?Id:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Id:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&fp&&gp?gp((new Set)[Symbol.iterator]()):Id,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Id:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fp&&gp?gp(""[Symbol.iterator]()):Id,"%Symbol%":fp?Symbol:Id,"%SyntaxError%":ip,"%ThrowTypeError%":pp,"%TypedArray%":mp,"%TypeError%":ap,"%Uint8Array%":"undefined"==typeof Uint8Array?Id:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Id:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Id:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Id:Uint32Array,"%URIError%":lp,"%WeakMap%":"undefined"==typeof WeakMap?Id:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Id:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Id:WeakSet};if(gp)try{null.error}catch(_n){var bp=gp(gp(_n));yp["%Error.prototype%"]=bp}var _p=function e(t){var r;if("%AsyncFunction%"===t)r=up("async function () {}");else if("%GeneratorFunction%"===t)r=up("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=up("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&gp&&(r=gp(o.prototype))}return yp[t]=r,r},xp={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wp=Qd,Op=ep,Sp=wp.call(Function.call,Array.prototype.concat),kp=wp.call(Function.apply,Array.prototype.splice),jp=wp.call(Function.call,String.prototype.replace),Ep=wp.call(Function.call,String.prototype.slice),Cp=wp.call(Function.call,RegExp.prototype.exec),Tp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qp=/\\(\\)?/g,Ip=function(e,t){var r,n=e;if(Op(xp,n)&&(n="%"+(r=xp[n])[0]+"%"),Op(yp,n)){var o=yp[n];if(o===vp&&(o=_p(n)),void 0===o&&!t)throw new ap("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new ip("intrinsic "+e+" does not exist!")},Ap=function(e,t){if("string"!=typeof e||0===e.length)throw new ap("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new ap('"allowMissing" argument must be a boolean');if(null===Cp(/^%?[^%]*%?$/,e))throw new ip("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Ep(e,0,1),r=Ep(e,-1);if("%"===t&&"%"!==r)throw new ip("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new ip("invalid intrinsic syntax, expected opening `%`");var n=[];return jp(e,Tp,(function(e,t,r,o){n[n.length]=r?jp(o,qp,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=Ip("%"+n+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(n=s[0],kp(r,Sp([0,1],s)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],p=Ep(d,0,1),f=Ep(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new ip("property names with quotes must have matching quotes");if("constructor"!==d&&c||(l=!0),Op(yp,i="%"+(n+="."+d)+"%"))a=yp[i];else if(null!=a){if(!(d in a)){if(!t)throw new ap("base intrinsic for "+e+" exists, but the property is not available.");return}if(cp&&u+1>=r.length){var h=cp(a,d);a=(c=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else c=Op(a,d),a=a[d];c&&!l&&(yp[i]=a)}}return a},Lp={exports:{}},Pp=Ap("%Object.defineProperty%",!0)||!1;if(Pp)try{Pp({},"a",{value:1})}catch(_n){Pp=!1}var Np=Pp,Fp=Ap("%Object.getOwnPropertyDescriptor%",!0);if(Fp)try{Fp([],"length")}catch(_n){Fp=null}var Rp=Fp,Mp=Np,Dp=Vd,Vp=zd,zp=Rp,Bp=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Vp("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Vp("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Vp("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Vp("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Vp("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Vp("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],l=!!zp&&zp(e,t);if(Mp)Mp(e,t,{configurable:null===i&&l?l.configurable:!i,enumerable:null===n&&l?l.enumerable:!n,value:r,writable:null===o&&l?l.writable:!o});else{if(!a&&(n||o||i))throw new Dp("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},Hp=Np,Up=function(){return!!Hp};Up.hasArrayLengthDefineBug=function(){if(!Hp)return null;try{return 1!==Hp([],"length",{value:1}).length}catch(_n){return!0}};var $p=Up,Wp=Ap,Kp=Bp,Gp=$p(),Yp=Rp,Jp=zd,Qp=Wp("%Math.floor%"),Xp=function(e,t){if("function"!=typeof e)throw new Jp("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||Qp(t)!==t)throw new Jp("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in e&&Yp){var i=Yp(e,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(Gp?Kp(e,"length",t,!0,!0):Kp(e,"length",t)),e};!function(e){var t=Qd,r=Ap,n=Xp,o=zd,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(a,i),s=Np,u=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var r=l(t,a,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return l(t,i,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(Lp);var Zp=Lp.exports,ef=Ap,tf=Zp,rf=tf(ef("String.prototype.indexOf")),nf=function(e,t){var r=ef(e,!!t);return"function"==typeof r&&rf(e,".prototype.")>-1?tf(r):r},of=Nd(),af=nf("Object.prototype.toString"),lf=function(e){return!(of&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===af(e)},sf=function(e){return!!lf(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==af(e)&&"[object Function]"===af(e.callee)},uf=function(){return lf(arguments)}();lf.isLegacyArguments=sf;var cf=uf?lf:sf,df=Ad,pf="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ff=Object.prototype.toString,hf=Array.prototype.concat,gf=Bp,vf=$p(),mf=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==ff.call(o)||!n())return;var o;vf?gf(e,t,r,!0):gf(e,t,r)},yf=function(e,t){var r=arguments.length>2?arguments[2]:{},n=df(t);pf&&(n=hf.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)mf(e,n[o],t[n[o]],r[n[o]])};yf.supportsDescriptors=!!vf;var bf=yf,_f=function(e){return e!=e},xf=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!_f(e)||!_f(t))},wf=xf,Of=function(){return"function"==typeof Object.is?Object.is:wf},Sf=Of,kf=bf,jf=bf,Ef=xf,Cf=Of,Tf=function(){var e=Sf();return kf(Object,{is:e},{is:function(){return Object.is!==e}}),e},qf=Zp(Cf(),Object);jf(qf,{getPolyfill:Cf,implementation:Ef,shim:Tf});var If,Af,Lf,Pf,Nf=qf,Ff=nf,Rf=Nd();if(Rf){If=Ff("Object.prototype.hasOwnProperty"),Af=Ff("RegExp.prototype.exec"),Lf={};var Mf=function(){throw Lf};Pf={toString:Mf,valueOf:Mf},"symbol"==typeof Symbol.toPrimitive&&(Pf[Symbol.toPrimitive]=Mf)}var Df=Ff("Object.prototype.toString"),Vf=Object.getOwnPropertyDescriptor,zf=Rf?function(e){if(!e||"object"!=typeof e)return!1;var t=Vf(e,"lastIndex");if(!(t&&If(t,"value")))return!1;try{Af(e,Pf)}catch(_n){return _n===Lf}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===Df(e)},Bf=function(){return"string"==typeof function(){}.name},Hf=Object.getOwnPropertyDescriptor;if(Hf)try{Hf([],"length")}catch(_n){Hf=null}Bf.functionsHaveConfigurableNames=function(){if(!Bf()||!Hf)return!1;var e=Hf((function(){}),"name");return!!e&&!!e.configurable};var Uf=Function.prototype.bind;Bf.boundFunctionsHaveNames=function(){return Bf()&&"function"==typeof Uf&&""!==function(){}.bind().name};var $f=Bf,Wf=Bp,Kf=$p(),Gf=$f.functionsHaveConfigurableNames(),Yf=zd,Jf=function(e,t){if("function"!=typeof e)throw new Yf("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!Gf||(Kf?Wf(e,"name",t,!0,!0):Wf(e,"name",t)),e},Qf=zd,Xf=Object,Zf=Jf((function(){if(null==this||this!==Xf(this))throw new Qf("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0),eh=Zf,th=bf.supportsDescriptors,rh=Object.getOwnPropertyDescriptor,nh=function(){if(th&&"gim"===/a/gim.flags){var e=rh(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),e.get.call(r),"dy"===t)return e.get}}return eh},oh=bf.supportsDescriptors,ih=nh,ah=Object.getOwnPropertyDescriptor,lh=Object.defineProperty,sh=TypeError,uh=Object.getPrototypeOf,ch=/a/,dh=bf,ph=Zf,fh=nh,hh=function(){if(!oh||!uh)throw new sh("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=ih(),t=uh(ch),r=ah(t,"flags");return r&&r.get===e||lh(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},gh=Zp(fh());dh(gh,{getPolyfill:fh,implementation:ph,shim:hh});var vh=gh,mh=Date.prototype.getDay,yh=Object.prototype.toString,bh=Nd(),_h=Ad,xh=cf,wh=Nf,Oh=zf,Sh=vh,kh=function(e){return"object"==typeof e&&null!==e&&(bh?function(e){try{return mh.call(e),!0}catch(_n){return!1}}(e):"[object Date]"===yh.call(e))},jh=Date.prototype.getTime;function Eh(e,t,r){var n=r||{};return!!(n.strict?wh(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?wh(e,t):e==t:function(e,t,r){var n,o;if(typeof e!=typeof t)return!1;if(Ch(e)||Ch(t))return!1;if(e.prototype!==t.prototype)return!1;if(xh(e)!==xh(t))return!1;var i=Oh(e),a=Oh(t);if(i!==a)return!1;if(i||a)return e.source===t.source&&Sh(e)===Sh(t);if(kh(e)&&kh(t))return jh.call(e)===jh.call(t);var l=Th(e),s=Th(t);if(l!==s)return!1;if(l||s){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=_h(e),c=_h(t)}catch(_n){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(!Eh(e[o=u[n]],t[o],r))return!1;return!0}(e,t,n))}function Ch(e){return null==e}function Th(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}var qh=Eh,Ih=Object.prototype.hasOwnProperty,Ah=Object.prototype.toString,Lh=Object.defineProperty,Ph=Object.getOwnPropertyDescriptor,Nh=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Ah.call(e)},Fh=function(e){if(!e||"[object Object]"!==Ah.call(e))return!1;var t,r=Ih.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Ih.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||Ih.call(e,t)},Rh=function(e,t){Lh&&"__proto__"===t.name?Lh(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Mh=function(e,t){if("__proto__"===t){if(!Ih.call(e,t))return;if(Ph)return Ph(e,t).value}return e[t]},Dh=function e(){var t,r,n,o,i,a,l=arguments[0],s=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},s=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});s<u;++s)if(null!=(t=arguments[s]))for(r in t)n=Mh(l,r),l!==(o=Mh(t,r))&&(c&&o&&(Fh(o)||(i=Nh(o)))?(i?(i=!1,a=n&&Nh(n)?n:[]):a=n&&Fh(n)?n:{},Rh(l,{name:r,newValue:e(c,a,o)})):void 0!==o&&Rh(l,{name:r,newValue:o}));return l},Vh=qh,zh=Dh,Bh={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=zh(!0,{},t);for(var o in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(n[o]=e[o]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return Vh(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new Hh(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function Hh(e){this.ops=e,this.index=0,this.offset=0}Hh.prototype.hasNext=function(){return this.peekLength()<1/0},Hh.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=Bh.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},Hh.prototype.peek=function(){return this.ops[this.index]},Hh.prototype.peekLength=function(){return this.ops[this.index]?Bh.length(this.ops[this.index])-this.offset:1/0},Hh.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},Hh.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]};var Uh=_d,$h=qh,Wh=Dh,Kh=Bh,Gh=String.fromCharCode(0),Yh=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};Yh.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},Yh.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},Yh.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},Yh.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=Wh(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if($h(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},Yh.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},Yh.prototype.filter=function(e){return this.ops.filter(e)},Yh.prototype.forEach=function(e){this.ops.forEach(e)},Yh.prototype.map=function(e){return this.ops.map(e)},Yh.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},Yh.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},Yh.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+Kh.length(t):t.delete?e-t.delete:e}),0)},Yh.prototype.length=function(){return this.reduce((function(e,t){return e+Kh.length(t)}),0)},Yh.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=Kh.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=Kh.length(i)}return new Yh(r)},Yh.prototype.compose=function(e){var t=Kh.iterator(this.ops),r=Kh.iterator(e.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var i=o.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),n.push(t.next());o.retain-i>0&&r.next(o.retain-i)}for(var a=new Yh(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())a.push(r.next());else if("delete"===t.peekType())a.push(t.next());else{var l=Math.min(t.peekLength(),r.peekLength()),s=t.next(l),u=r.next(l);if("number"==typeof u.retain){var c={};"number"==typeof s.retain?c.retain=l:c.insert=s.insert;var d=Kh.attributes.compose(s.attributes,u.attributes,"number"==typeof s.retain);if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&$h(a.ops[a.ops.length-1],c)){var p=new Yh(t.rest());return a.concat(p).chop()}}else"number"==typeof u.delete&&"number"==typeof s.retain&&a.push(u)}return a.chop()},Yh.prototype.concat=function(e){var t=new Yh(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},Yh.prototype.diff=function(e,t){if(this.ops===e.ops)return new Yh;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:Gh;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new Yh,o=Uh(r[0],r[1],t),i=Kh.iterator(this.ops),a=Kh.iterator(e.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case Uh.INSERT:r=Math.min(a.peekLength(),t),n.push(a.next(r));break;case Uh.DELETE:r=Math.min(t,i.peekLength()),i.next(r),n.delete(r);break;case Uh.EQUAL:r=Math.min(i.peekLength(),a.peekLength(),t);var o=i.next(r),l=a.next(r);$h(o.insert,l.insert)?n.retain(r,Kh.attributes.diff(o.attributes,l.attributes)):n.push(l).delete(r)}t-=r}})),n.chop()},Yh.prototype.eachLine=function(e,t){t=t||"\n";for(var r=Kh.iterator(this.ops),n=new Yh,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=Kh.length(i)-r.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new Yh}}n.length()>0&&e(n,{},o)},Yh.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=Kh.iterator(this.ops),n=Kh.iterator(e.ops),o=new Yh;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),l=n.next(i);if(a.delete)continue;l.delete?o.push(l):o.retain(i,Kh.attributes.transform(a.attributes,l.attributes,t))}else o.retain(Kh.length(r.next()));return o.chop()},Yh.prototype.transformPosition=function(e,t){t=!!t;for(var r=Kh.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e};const Jh=g(Yh),Qh=Mc.Quill.import("modules/clipboard");const Xh=(e,t)=>{let r=[];if(!e)return r;let n=e.find((e=>e.code===t));if(!n)return r;if(n.parent){Zh(e,n).forEach((t=>{r=r.concat(eg(e,t))}))}return($e(n.code)||We(n.code))&&(r=r.concat(eg(e,n))),r},Zh=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(Zh(e,n))),r},eg=(e,t)=>{let r=[];return $e(t.code)||We(t.code)?(e.filter((e=>e.parent===t.parent&&e.maxIndex<t.minIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{r=r.concat(t.code),r=r.concat(tg(e,t))})),r):r},tg=(e,t)=>{let r=[];return $e(t.code)?(t.children&&t.children.forEach((t=>{let n=e.find((e=>e.code===t));r=r.concat(n.code),r=r.concat(tg(e,n))})),r):r},rg=(e,t,r,n)=>{var o;const i=e+". "+Je(null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]);let a="",l=t.type;switch(t.type){case"scq_icon_array":case"scq_array":return t.children.filter((e=>"row"==e.type)).map((t=>{var o;return{value:i+" - "+e+". "+Je(null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]),id:e+t.code,type:"SCQ Array Row",instruction:e+t.code+".masked_value"}}));case"text":l="Short Text",a=`${e}.value`;break;case"nps":l="NPS",a=`${e}.value`;break;case"email":l="Email",a=`${e}.value`;break;case"paragraph":a=`${e}.value`,l="Long Text";break;case"number":l="Number",a=`${e}.value`;break;case"date":l="Date",a=`${e}.masked_value`;break;case"time":l="time",a=`${e}.masked_value`;break;case"date_time":l="Date Time",a=`${e}.masked_value`;break;case"scq":l="SCQ",a=`${e}.masked_value`;break;case"icon_scq":l="Icon SCQ",a=`${e}.masked_value`;break;case"image_scq":l="Image SCQ",a=`${e}.masked_value`;break;case"mcq":l="MCQ",a=`${e}.masked_value`;break;case"image_mcq":l="Image MCQ",a=`${e}.masked_value`;break;case"icon_mcq":l="Icon MCQ",a=`${e}.masked_value`;break;default:return[]}return[{id:e,instruction:a,value:i,type:l}]};Mc.Quill.register("modules/mentions",cd),Mc.Quill.register("modules/clipboard",class extends Qh{onPaste(e){e.preventDefault();const t=this.quill.getSelection(),r=e.clipboardData.getData("text/plain");r.split("\r\n").filter((function(e){return e}));const n=(new Jh).retain(t.index).delete(t.length).insert(r),o=r.length+t.index;this.quill.updateContents(n,"silent"),this.quill.setSelection(o,0,"silent")}},!0);const ng=R.memo((function({value:e,onBlurListener:t,extended:r,isRtl:n,lang:o,code:i}){console.debug("DraftEditor for: "+i);const a=(e,t)=>t?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e,l=R.createRef(),s=h(v.useState(a(e,!r)),2),u=s[0],d=s[1],f=h(v.useState(0),2),g=(f[0],f[1]);function m(){return m=c((function*(e){const t=Qe.getState().designState,r=((e,t,r,n)=>{let o=Xh(e,t),i=[];return o.forEach((e=>{if(We(e)){const t=rg(e,r[e],r,n);t.length&&(i=i.concat(t))}})),i})(t.componentIndex,i,t,t.langInfo.mainLang);if(0===e.length)return r;{const t=[];for(var n=0;n<r.length;n++)r[n].value.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(r[n]);return t}})),m.apply(this,arguments)}v.useEffect((()=>{const e=l.current.getEditor();e.setSelection(e.getLength(),0)}),[l.current]);const y=v.useMemo((()=>{return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,t){t(p(p({},e),{},{value:`{{${e.id}:${e.type}}}`}))},source:(e=c((function*(e,t){const r=yield function(e){return m.apply(this,arguments)}(e);t(r)})),function(t,r){return e.apply(this,arguments)})},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}};var e}),[]);let b=null;const _=()=>{g(Date.now()),b&&clearTimeout(b)};return j.jsx("div",{onClick:e=>{"A"===e.target.tagName&&"ql-preview"==e.target.className&&(e.preventDefault(),window.open(e.target.href,"_blank"))},className:"quill-wrapper",onFocus:_,onBlur:()=>{b=setTimeout((()=>{t(u,o)}),500)},children:j.jsx(Dc,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:l,modules:y,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:u,onChange:e=>{_(),d(a(e,!r))}})})}));const og=R.memo((function({placeholder:e,extended:t,contentKey:r,code:n,editable:o}){const i=He(),a=Ue((e=>{var t;return null===(t=e.designState[n].content)||void 0===t?void 0:t[r]})),l=Ue((e=>e.designState.langInfo));Ue((e=>{var t;return"G"==n[0]?(null===(t=e.designState[n].groupType)||void 0===t?void 0:t.toLowerCase())||"group":e.designState[n].type}));const s=l.lang,u=l.mainLang,c=l.onMainLang,d=(null==a?void 0:a[s])||"",p=c?e:Xe(null==a?void 0:a[u])?null==a?void 0:a[u]:e,f=h(v.useState(!1),2),g=f[0],m=f[1],y=v.useCallback(((e,t)=>{m(!1),s==t&&e!=d&&i(Ze({code:n,key:r,lang:s,value:e}))}),[d]),b=et.includes(s);return j.jsx(P,{className:ra,onClick:e=>{o&&(e.preventDefault(),m(!0))},children:g?j.jsx(ng,{lang:s,isRtl:b,code:n,extended:t,onBlurListener:y,value:d}):Xe(d)?j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${na}`,dangerouslySetInnerHTML:{__html:d}}):j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${oa}`,dangerouslySetInnerHTML:{__html:p}})})})),ig="_actionControl_1xa5v_1",ag="_statusIcon_1xa5v_8";var lg={},sg=L;Object.defineProperty(lg,"__esModule",{value:!0});var ug=lg.default=void 0,cg=sg(ze()),dg=j;ug=lg.default=(0,cg.default)((0,dg.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var pg={},fg=L;Object.defineProperty(pg,"__esModule",{value:!0});var hg=pg.default=void 0,gg=fg(ze()),vg=j;hg=pg.default=(0,gg.default)((0,vg.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var mg={},yg=L;Object.defineProperty(mg,"__esModule",{value:!0});var bg=mg.default=void 0,_g=yg(ze()),xg=j;bg=mg.default=(0,_g.default)((0,xg.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var wg={},Og=L;Object.defineProperty(wg,"__esModule",{value:!0});var Sg=wg.default=void 0,kg=Og(ze()),jg=j;Sg=wg.default=(0,kg.default)((0,jg.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");const Eg=R.memo((function({code:e,isGroup:t,parentCode:r,disableDelete:n,onDelete:o,onClone:i,t:a}){const l=He(),s=M(),u=Ue((r=>{var n;return t?(null===(n=r.designState[e].groupType)||void 0===n?void 0:n.toLowerCase())||"group":r.designState[e].type})),c=h(v.useState(!1),2),d=c[0],f=c[1],g=Ue((t=>{var r;let n=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code));return void 0!==n&&!n.errors})),m=Ue((r=>{var n;return!t&&(null===(n=r.designState[e])||void 0===n||null===(n=n.instructionList)||void 0===n||null===(n=n.filter((e=>e.code.startsWith("validation_")&&!e.errors)))||void 0===n?void 0:n.length)>0})),y=()=>{l(Ke(t?p(p({},surveySetup),{},{highlighted:"random"}):{code:r,rules:Ge("group"),highlighted:"random",expanded:["random"]}))},b=s.textStyles.question.color,_=Ue((t=>{var r,n;let o=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.filter((e=>e.code.startsWith("skip_to")));return(null==o||null===(n=o.filter((e=>!e.errors)))||void 0===n?void 0:n.length)>=1})),x=Ue((t=>{var r;let n=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return n&&n.minIndex!=n.maxIndex})),w=Ue((t=>{var r,n;let o=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return(null==o||null===(n=o.prioritisedSiblings)||void 0===n?void 0:n.length)>0}));return j.jsxs("div",{className:ig,onClick:e=>{e.target!==e.currentTarget&&(e.preventDefault(),e.stopPropagation())},children:[g&&j.jsx(gr,{title:"Has show/Hide Condition",showIcon:!1,children:j.jsx(pe,{className:ag,onClick:()=>{l(Ke({code:e,rules:Ge(u),highlighted:"relevance",expanded:["relevance"]}))},children:j.jsx(qr,{style:{color:b}})})}),m&&j.jsx(gr,{title:"Has Validation",showIcon:!1,children:j.jsx(pe,{className:ag,onClick:()=>{l(Ke({code:e,rules:Ge(u),highlighted:"validation",expanded:["validation"]}))},children:j.jsx(ug,{style:{color:b}})})}),x&&j.jsx(gr,{title:"Is part of a valid Random Group (within parent)",showIcon:!1,children:j.jsx(pe,{className:ag,onClick:()=>y(),children:j.jsx(hg,{style:{color:b}})})}),w&&j.jsx(gr,{title:"Is part of a valid Priority Group (within parent)",showIcon:!1,children:j.jsx(pe,{className:ag,onClick:()=>y(),children:j.jsx(bg,{style:{color:b}})})}),_&&j.jsx(gr,{title:"Has active Skip Logic",showIcon:!1,children:j.jsx(pe,{className:ag,onClick:()=>{l(Ke({code:e,rules:Ge(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},children:j.jsx(Sg,{style:{color:b}})})}),j.jsx(pe,{onClick:()=>{l(Ke({code:e,rules:Ge(u)}))},children:j.jsx(tt,{name:"settings",size:".75em",color:`${b}`})}),!t&&j.jsx(pe,{onClick:()=>i(),children:j.jsx(tt,{name:"duplicate",size:".75em",color:`${b}`})}),!n&&j.jsx(pe,{onClick:()=>f(!0),disabled:n,children:j.jsx(tt,{name:"delete",size:".75em",color:b})}),j.jsx(Ir,{open:d,description:a("delete_question"),handleClose:()=>f(!1),handleDelete:o})]})})),Cg="_questionItem_wb37f_1";const Tg=R.memo((function({code:e}){var t,r;const n=Ae(),o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Cg,children:j.jsx(Lr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,"&.Mui-disabled":{color:n.textStyles.text.color,borderBottom:"1px solid"}}}})})})),qg="_questionItem_1sx0f_1";const Ig=R.memo((function({code:e}){var t,r;const n=Ae(),o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:qg,children:j.jsx(Lr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},value:""})})})),Ag="_questionItem_169qj_1";const Lg=R.memo((function({code:e}){var t,r;const n=Ae(),o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Ag,children:j.jsx(Lr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})})),Pg="_questionItem_13fbu_1",Ng="_paragraph_13fbu_15",Fg="_wordCount_13fbu_19";const Rg=R.memo((function({code:e,t:t}){var r,n;const o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsxs("div",{className:Pg,children:[j.jsx(rt,{disabled:!0,className:Ng,required:!(null===(r=o.validation)||void 0===r||null===(r=r.validation_required)||void 0===r||!r.isActive),placeholder:o.showHint&&((null===(n=o.content)||void 0===n||null===(n=n.hint)||void 0===n?void 0:n[i])||""),minRows:o.minRows||2,value:""}),o.showWordCount?j.jsx("div",{className:Fg,children:j.jsx("span",{children:t("word_count",{lng:i,count:0})})}):""]})})),Mg="_questionItem_1sx0f_1";const Dg=R.memo((function({code:e}){var t;const r=Ae(),n=Ue((t=>t.designState[e])),o=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Mg,children:j.jsx(Lr,{variant:"standard",required:!(null===(t=n.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:n.showHint&&n.content.hint?n.content.hint[o]:"",InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}},value:"",type:"file",disabled:!0})})})),Vg="_questionItem_1sx0f_1";const zg=R.memo((function({code:e}){var t,r;const n=Ae(),o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Vg,children:j.jsx(Lr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",InputProps:{sx:{fontFamily:n.textStyles.text,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},placeholder:o.dateFormat})})})),Bg="_questionItem_wb37f_1";const Hg=R.memo((function({code:e}){var t,r;const n=Ae(),o=Ue((t=>t.designState[e])),i=Ue((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Bg,children:j.jsx(Lr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",type:"time",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})}));var Ug={},$g=L;Object.defineProperty(Ug,"__esModule",{value:!0});var Wg=Ug.default=void 0,Kg=$g(ze()),Gg=j;Wg=Ug.default=(0,Kg.default)((0,Gg.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");const Yg=R.memo((function(e){const t=Ae(),r=e.t,n=Ue((e=>e.designState.langInfo));n.lang,n.mainLang;const o=Ue((t=>t.designState[e.code].children));Ue((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.code}));const i=R.useMemo((()=>(null==o?void 0:o.filter((e=>"row"==e.type)))||[]),[o]),a=R.useMemo((()=>(null==o?void 0:o.filter((e=>"column"==e.type)))||[]),[o]);return j.jsxs(j.Fragment,{children:[nt(e.designMode)&&j.jsx("div",{className:Si.addColumn,children:j.jsx(ot,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Fr,{children:j.jsxs(Rr,{children:[j.jsx(Vr,{children:j.jsxs(Mr,{children:[nt(e.designMode)&&j.jsx(zr,{sx:{padding:"0"}},"move"),j.jsx(zr,{},"content"),a.map(((t,r)=>j.jsx(Qg,{parentQualifiedCode:e.qualifiedCode,langInfo:n,designMode:e.designMode,t:e.t,item:t,index:r},t.qualifiedCode))),nt(e.designMode)&&j.jsx(zr,{sx:{padding:"0"}},"remove")]})}),j.jsx(Dr,{children:i.map(((t,r)=>j.jsx(Jg,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,designMode:e.designMode,item:t,colCount:a.length,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:Si.addRow,children:j.jsx(ot,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function Jg({item:e,index:t,colCount:r,designMode:n,t:o,langInfo:i,parentQualifiedCode:a}){const l=He(),s=Ae(),u=v.useRef(),c=i.lang===i.mainLang,d=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.lang]})),p=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.mainLang]})),f=`col-${a}`,g=h(it({type:f,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=g[0],y=g[1],b=g[2],_=h(Hr({accept:f,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!u.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(a.bottom-a.top)/2,c=r.getClientOffset().y-a.top;o<i&&c<s||o>i&&c>s||(l(lt({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),x=_[0].handlerId;return(0,_[1])(b(u)),j.jsxs(Mr,{style:{opacity:m?"0.2":"1"},ref:u,"data-handler-id":x,children:[nt(n)&&j.jsx(zr,{ref:y,sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(Wg,{})},"move"),j.jsx(zr,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:j.jsx(Lr,{variant:"standard",value:d||"",onChange:t=>{l(Ze({code:e.qualifiedCode,key:"label",lang:i.lang,value:t.target.value}))},placeholder:c?o("content_editor_placeholder_option"):p||o("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),[...Array(r)].map(((e,t)=>j.jsx(zr,{scope:"row",align:"center",sx:{padding:"4px"},children:j.jsx(Br,{sx:{"&.Mui-disabled":{color:s.textStyles.text.color}},disabled:!0})},t))),nt(n)&&j.jsx(zr,{onClick:t=>l(at(e.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(hr,{})},"remove")]},e.code)}function Qg({item:e,index:t,designMode:r,t:n,langInfo:o,parentQualifiedCode:i}){const a=He(),l=Ae(),s=v.useRef(),u=o.lang===o.mainLang,c=et.includes(o.lang),d=!c,p=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.lang]})),f=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),g=`row-${i}`,m=h(it({type:g,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),y=m[0],b=m[1],_=m[2],x=h(Hr({accept:g,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!s.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const l=null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect(),u=(l.right-l.left)/2,p=r.getClientOffset().x-l.left;d&&o<i&&p<u||d&&o>i&&p>u||c&&o<i&&p>u||c&&o>i&&p<u||(a(lt({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),w=x[0].handlerId;return(0,x[1])(_(s)),j.jsxs(zr,{ref:s,"data-handler-id":w,align:"center",sx:{opacity:y?"0.2":"1",fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:[nt(r)&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:b,sx:{padding:"0"},children:j.jsx(Wg,{})},"move"),j.jsx("div",{sx:{padding:"0"},onClick:t=>a(at(e.qualifiedCode)),children:j.jsx(hr,{})})]}),j.jsx(Lr,{variant:"standard",value:p||"",onChange:t=>{a(Ze({code:e.qualifiedCode,key:"label",lang:o.lang,value:t.target.value}))},placeholder:u?n("content_editor_placeholder_option"):f||n("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})]},e.qualifiedCode)}var Xg={},Zg=L;Object.defineProperty(Xg,"__esModule",{value:!0});var ev=Xg.default=void 0,tv=Zg(ze()),rv=j;ev=Xg.default=(0,tv.default)((0,rv.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const nv={placeholder:"_placeholder_4iqf5_1",buttonContainer:"_buttonContainer_4iqf5_9"};function ov({code:e,t:t,onMainLang:r}){var n,o;const i=st("design"),a=He(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=Ue((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.videoUrl)&&j.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:c.audio_only?"10%":"56%"},children:j.jsx(Ur,{url:rr(c.resources.videoUrl),loop:c.loop||!1,light:!0,controls:!0,config:{forceAudio:c.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),s?j.jsxs("div",{className:nv.buttonContainer,children:[j.jsx(D,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_video")})]}):r?j.jsx("div",{className:nv.buttonContainer,children:j.jsxs(ot,{component:"label",variant:"outlined",startIcon:j.jsx(ev,{}),children:[null!==(o=c.resources)&&void 0!==o&&o.videoUrl?t("replace_video"):t("upload_video"),j.jsx("input",{hidden:!0,id:e,accept:"video/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(ut({code:e,key:"videoUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})}const iv="_signatureCanvas_1uxb1_1";const av=R.memo((function(){return j.jsx(P,{className:iv,sx:{backgroundColor:"background.default"},children:j.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}));var lv={},sv=L;Object.defineProperty(lv,"__esModule",{value:!0});var uv=lv.default=void 0,cv=sv(ze()),dv=j;uv=lv.default=(0,cv.default)((0,dv.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const pv="_buttonContainer_xjf3c_9";const fv=R.memo((function({code:e,t:t,onMainLang:r}){var n,o;const i=st("design"),a=He(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=Ue((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.imageUrl)&&j.jsx("img",{style:{width:"100%"},src:rr(c.resources.imageUrl)}),s?j.jsxs("div",{className:pv,children:[j.jsx(D,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_image")})]}):r?j.jsx("div",{className:pv,children:j.jsxs(ot,{variant:"outlined",component:"label",children:[j.jsx(uv,{className:"mr-10"}),null!==(o=c.resources)&&void 0!==o&&o.imageUrl?t("replace_image"):t("upload_image"),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(ut({code:e,key:"imageUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})})),hv="_choicesContainer_k0bnu_1",gv="_choice_k0bnu_1",vv="_choiceLabels_k0bnu_19";const mv=R.memo((function({code:e}){var t,r;Ae();const n=Ue((t=>t.designState[e])),o=Ue((e=>e.designState.langInfo.lang));return j.jsxs(j.Fragment,{children:[j.jsxs(P,{className:vv,children:[j.jsx(P,{children:null===(t=n.content)||void 0===t||null===(t=t.lower_bound_hint)||void 0===t?void 0:t[o]}),j.jsx(P,{children:null===(r=n.content)||void 0===r||null===(r=r.higher_bound_hint)||void 0===r?void 0:r[o]})]}),j.jsx(P,{className:hv,children:[0,1,2,3,4,5,6,7,8,9,10].map((e=>j.jsx(P,{className:gv,children:e},e)))})]})})),yv="_container_cyg3h_1";const bv=R.memo((function({code:e}){var t;M();const r=Ue((t=>t.designState[e])),n=Ue((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:yv,children:[j.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),_v="_container_cyg3h_1";const xv=R.memo((function({code:e}){var t;M();const r=Ue((t=>t.designState[e])),n=Ue((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:_v,children:[j.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),wv="_container_cyg3h_1";const Ov=R.memo((function({code:e}){var t;M();const r=Ue((t=>t.designState[e])),n=Ue((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:wv,children:[j.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Sv={answerAdd:"_answerAdd_5tmqk_1",questionItem:"_questionItem_5tmqk_9",choicesContainer:"_choicesContainer_5tmqk_15"},kv={answerItem:"_answerItem_shykq_1",answerIcon:"_answerIcon_shykq_10",answerIconOther:"_answerIconOther_shykq_18",answerNumberOrder:"_answerNumberOrder_shykq_27",answerControl:"_answerControl_shykq_32",answerControlRtl:"_answerControlRtl_shykq_37",answerControlOther:"_answerControlOther_shykq_42",answerControlOtherRtl:"_answerControlOtherRtl_shykq_47",answerOtherControl:"_answerOtherControl_shykq_52"};var jv={},Ev=L;Object.defineProperty(jv,"__esModule",{value:!0});var Cv=jv.default=void 0,Tv=Ev(ze()),qv=j;function Iv(e){const t=He(),r=Ae(),n=v.useRef(null),o=Ue((e=>e.designState.langInfo)),i=Ue((t=>t.designState[e.qualifiedCode])),a=o.lang===o.mainLang,l=o.lang,s=et.includes(l),u=Ue((t=>{var r;return"other"===i.type&&(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.qualifiedCode+"Atext"})),c=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[l]})),d=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=h(it({type:e.droppableId,item:{index:e.index,draggableId:e.qualifiedCode,type:e.droppableId,code:e.code,itemType:e.type,droppableId:e.droppableId},collect:e=>e.isDragging()},[e]),3),f=p[0],g=p[1],m=p[2],y=h(Hr({accept:e.droppableId,collect:e=>({handlerId:e.getHandlerId()}),hover(r,o){var i;if(!n.current||!o.isOver({shallow:!0})||!r)return;const a=r.index,l=e.index;if(a===l)return;const s=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),u=(s.bottom-s.top)/2,c=o.getClientOffset().y-s.top;a<l&&c<u||a>l&&c>u||(t(lt({type:"reorder_answers",id:r.draggableId,fromIndex:r.index,toIndex:e.index})),r.index=l)}}),2),b=y[0].handlerId;return(0,y[1])(m(n)),ct(r.palette.background.paper),j.jsx("div",{ref:n,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.5),t})(f),"data-handler-id":b,children:j.jsxs(P,{sx:{backgroundColor:u?"beige":"inherit"},className:kv.answerItem,children:[nt(e.designMode)&&j.jsx("div",{ref:g,className:kv.answerIcon,children:j.jsx(Wg,{ref:g,sx:{fontSize:18}})}),e.label?j.jsx("b",{children:e.label}):"",j.jsx(Lr,{variant:"standard",disabled:!dt(e.designMode),className:"other"===i.type&&s?kv.answerControlOtherRtl:"other"===i.type?kv.answerControlOther:s?kv.answerControlRtl:kv.answerControl,value:c||"",onChange:r=>t(Ze({code:e.qualifiedCode,key:"label",lang:l,value:r.target.value})),placeholder:a?e.t("content_editor_placeholder_option"):d||e.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),"other"===i.type&&j.jsx(Cv,{sx:{fontSize:18},className:kv.answerIconOther,onClick:()=>{t(Ke({code:e.qualifiedCode+"Atext",rules:Ge("other_text")}))}},"setup"),nt(e.designMode)&&j.jsx(hr,{sx:{fontSize:18},className:kv.answerIcon,onClick:r=>t(at(e.qualifiedCode))},"close")]})})}Cv=jv.default=(0,Tv.default)((0,qv.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");const Av=R.memo((function(e){const t=Ae(),r=e.t,n=Ue((t=>t.designState[e.code].children)),o=Ue((t=>t.designState[e.code].type)),i=!("mcq"!=o&&"scq"!=o||n&&n.some((e=>"Aother"===e.code)));return j.jsxs("div",{className:Sv.questionItem,children:[j.jsx("div",{className:Sv.choicesContainer,children:n&&n.length>0&&n.map(((t,r)=>j.jsx(Iv,{designMode:e.designMode,code:t.code,t:e.t,label:t.code,qualifiedCode:t.qualifiedCode,index:r,type:e.type,droppableId:`option-${e.code}`},t.code)))}),nt(e.designMode)&&j.jsxs("div",{className:Sv.answerAdd,children:[j.jsx(ot,{size:"small",style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},onClick:()=>e.addNewAnswer(e.code,o),children:r("add_option")}),i&&j.jsxs(j.Fragment,{children:[j.jsx("span",{style:{color:t.textStyles.question.color},children:r("or")}),j.jsx(ot,{style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",className:Sv.answerIcon,onClick:()=>e.addNewAnswer(e.code,o,"other"),children:r("add_other")})]})]})]})})),Lv="_questionItem_4rcog_5",Pv={imageIconButton:"_imageIconButton_chgwf_1",imageContainer:"_imageContainer_chgwf_8",addAnswerIcon:"_addAnswerIcon_chgwf_16",loadingContainer:"_loadingContainer_chgwf_20",addAnswerButton:"_addAnswerButton_chgwf_26",buttonContainers:"_buttonContainers_chgwf_34"};var Nv={},Fv=L;Object.defineProperty(Nv,"__esModule",{value:!0});var Rv=Nv.default=void 0,Mv=Fv(ze()),Dv=j;Rv=Nv.default=(0,Mv.default)((0,Dv.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var Vv={},zv=L;Object.defineProperty(Vv,"__esModule",{value:!0});var Bv=Vv.default=void 0,Hv=zv(ze()),Uv=j;function $v({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageAspectRatio:i,designMode:a,hideText:l,t:s,addAnswer:u}){var c;const d=st("design"),p=He(),f=Ae(),g=v.useRef(),m=h(v.useState(!1),2),y=m[0],b=m[1],_=Ue((e=>e.designState.langInfo)),x=Ue((e=>"add"==n?void 0:e.designState[r])),w=_.lang===_.mainLang,O=_.lang,S=et.includes(O),k=Ue((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[O]})),E=Ue((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[_.mainLang]})),C=null!=x&&null!==(c=x.resources)&&void 0!==c&&c.image?`url('${rr(x.resources.image)}')`:"0";const T=e+"image-drag",q=t%o;const I=(e=>Math.round(e/o))(t),A=h(it({type:T,item:{index:t,colIndex:q,rowIndex:I,draggableId:r,parentCode:e,type:T,itemType:T},collect:e=>e.isDragging()},[t]),3),L=A[0],N=A[1],F=A[2],R=h(Hr({accept:T,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!g.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=I,s=e.colIndex,u=q;if(o===i)return;const c=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(c.bottom-c.top)/2,f=(c.right-c.left)/2,h=r.getClientOffset(),v=h.y-c.top,m=h.x-c.left;a<l&&v<d&&s<u&&m<f||a>l&&v>d&&s>u&&m>f||(p(lt({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),M=R[0].handlerId;return(0,R[1])(F(g)),"add"==n?j.jsx($r,{height:"100%",item:!0,xs:12/o,children:j.jsx(P,{className:Pv.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:f.palette.background.default,borderRadius:"4px"},children:j.jsx(pe,{sx:{color:f.textStyles.text.color},className:Pv.addAnswerIcon,onClick:()=>{u()},children:j.jsx(Bv,{})})})},"add"):j.jsx(j.Fragment,{children:j.jsxs($r,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/o,children:[j.jsxs("div",{className:Pv.imageContainer,style:{paddingTop:100/i+"%",backgroundColor:f.palette.background.default,backgroundImage:C},ref:g,"data-handler-id":M,children:[nt(a)&&j.jsxs("div",{className:Pv.buttonContainers,children:[j.jsx(pe,{sx:{color:f.textStyles.text.color},className:Pv.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&p(at(r))},children:j.jsx(Rv,{})}),j.jsxs(pe,{sx:{color:f.textStyles.text.color},component:"label",className:Pv.imageIconButton,children:[j.jsx(uv,{}),j.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();let t=e.target.files[0];b(!0),d.uploadResource(t).then((e=>{b(!1),p(ut({code:r,key:"image",value:e.name}))})).catch((e=>{b(!1),console.error(e)}))}})]}),j.jsx(pe,{sx:{color:f.textStyles.text.color},ref:N,className:Pv.imageIconButton,children:j.jsx(Wg,{})})]}),y&&j.jsx("div",{className:Pv.loadingContainer,children:j.jsx(D,{})})]}),!l&&j.jsx(Lr,{dir:S?"rtl":"ltr",variant:"standard",value:k||"",disabled:!dt(a),onChange:e=>p(Ze({code:r,key:"label",lang:O,value:e.target.value})),placeholder:w?s("content_editor_placeholder_option"):E||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size}}})]},r)})}Bv=Vv.default=(0,Hv.default)((0,Uv.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const Wv={imageIconButton:"_imageIconButton_lgrld_1",imageContainer:"_imageContainer_lgrld_8",addAnswerIcon:"_addAnswerIcon_lgrld_12",loadingContainer:"_loadingContainer_lgrld_16",addAnswerButton:"_addAnswerButton_lgrld_23",svgContainer:"_svgContainer_lgrld_31",buttonContainers:"_buttonContainers_lgrld_36"};const Kv=new class{search(e,t){return new Promise(((r,n)=>{pt.get(`https://api.iconify.design/search?query=${e}&limit=250`,{cancelToken:t.token}).then((e=>{r(e.data.icons)})).catch((e=>{pt.isCancel(e)?console.debug("Request canceled:",e.message):n(e)}))}))}},Gv={resultImage:"_resultImage_2y7qe_1"};function Yv({currentIcon:e,onIconSelected:t}){const r=Be("design").t,n=h(v.useState(""),2),o=n[0],i=n[1],a=h(v.useState(null),2),l=a[0],s=a[1],u=h(v.useState([]),2),c=u[0],d=u[1];v.useEffect((()=>{if(l&&l.cancel("Operation canceled by the user."),o){const e=pt.CancelToken.source();s(e),Kv.search(o,e).then((e=>{d(e)})).catch((e=>{console.error(e)}))}else d([])}),[o]);return j.jsxs(Jr,{fullScreen:!0,sx:{margin:"200px",backgroundColor:"white"},open:!0,onClose:()=>t(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(vr,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),j.jsx(Qr,{children:j.jsxs("div",{children:[j.jsx("input",{type:"text",placeholder:"Search for icons",value:o,onChange:e=>{i(e.target.value)}}),j.jsx("div",{className:"search-results",children:c.map(((e,r)=>{const n=e.split(":");return j.jsx(Jv,{onClick:t,source:`https://api.iconify.design/${n[0]}/${n[1]}.svg`},r)}))})]})}),j.jsx(Wr,{children:j.jsx(ot,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function Jv({source:e,onClick:t}){const r=h(v.useState(""),2),n=r[0],o=r[1];return v.useEffect((()=>{pt.get(e).then((e=>{(function(e){if("string"!=typeof e)return!1;return/^<svg[\s\S]*<\/svg>$/.test(e)})(e.data)&&o(e.data)}))}),[e]),j.jsx("div",{onClick:()=>{t(n)},className:Gv.resultImage,dangerouslySetInnerHTML:{__html:n}})}function Qv({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,designMode:i,imageHeight:a,hideText:l,t:s,addAnswer:u}){var c,d,p;const f=st("design"),g=He(),m=v.useRef(null),y=Ae(),b=h(v.useState(!1),2),_=b[0],x=b[1],w=Ue((e=>e.designState.langInfo)),O=Ue((e=>"add"==n?void 0:e.designState[r])),S=w.lang===w.mainLang,k=w.lang,E=null==O||null===(c=O.resources)||void 0===c?void 0:c.icon,C="add"==n||null===(d=O.content)||void 0===d||null===(d=d.label)||void 0===d?void 0:d[k];"add"==n||O.icon;const T=et.includes(k),q="add"==n||null===(p=O.content)||void 0===p||null===(p=p.label)||void 0===p?void 0:p[w.mainLang],I=e+"icon-drag",A=t%o;const L=(e=>Math.round(e/o))(t),N=h(it({type:I,item:{index:t,colIndex:A,rowIndex:L,draggableId:r,parentCode:e,type:I,itemType:I},collect:e=>e.isDragging()},[t]),3),F=N[0],R=N[1],M=N[2],D=h(Hr({accept:I,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!m.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=L,s=e.colIndex,u=A;if(o===i)return;const c=null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(c.bottom-c.top)/2,p=(c.right-c.left)/2,f=r.getClientOffset(),h=f.y-c.top,v=f.x-c.left;a<l&&h<d&&s<u&&v<p||a>l&&h>d&&s>u&&v>p||(g(lt({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),V=D[0].handlerId;return(0,D[1])(M(m)),"add"==n?j.jsx($r,{item:!0,xs:12/o,height:"100%",children:j.jsx(P,{className:Wv.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:y.palette.background.default,height:"100%",width:"100%"},children:j.jsx(pe,{sx:{color:y.textStyles.text.color},className:Wv.addAnswerIcon,onClick:()=>{u()},children:j.jsx(Bv,{})})})},"add"):j.jsxs(j.Fragment,{children:[j.jsx($r,{style:{opacity:F?"0.2":"1"},item:!0,xs:12/o,children:j.jsxs("div",{ref:m,"data-handler-id":V,children:[nt(i)&&j.jsxs("div",{className:Wv.buttonContainers,children:[j.jsx(pe,{sx:{color:y.textStyles.text.color},className:Wv.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&g(at(r))},children:j.jsx(Rv,{})}),j.jsx(pe,{sx:{color:y.textStyles.text.color},component:"label",className:Wv.imageIconButton,onClick:()=>x(!0),children:j.jsx(uv,{})}),j.jsx(pe,{sx:{color:y.textStyles.text.color},ref:R,className:Wv.imageIconButton,children:j.jsx(Wg,{})})]}),j.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsx(Xr,{imageHeight:a+"px",svgUrl:E?rr(E):void 0})}),!l&&j.jsx(Lr,{dir:T?"rtl":"ltr",variant:"standard",disabled:!dt(i),value:C||"",onChange:e=>g(Ze({code:r,key:"label",lang:k,value:e.target.value})),placeholder:S?s("content_editor_placeholder_option"):q||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:y.textStyles.text.font,color:y.textStyles.text.color,fontSize:y.textStyles.text.size}}})]})},r),_&&j.jsx(Yv,{currentIcon:"",onIconSelected:e=>{(e=>{const t=new Blob([e],{type:"image/svg+xml"}),n=new File([t],"file.svg",{type:"image/svg+xml"});f.uploadResource(n).then((e=>{g(ut({code:r,key:"icon",value:e.name}))})).catch((e=>{console.error(e.message)}))})(e),x(!1)}})]})}const Xv=R.memo((function(e){const t=Ue((t=>t.designState[e.code])),r=t.children||[],n=Ue((t=>t.designState[e.code].imageAspectRatio||1)),o=t.type,i=nt(e.designMode)?[...r,{type:"add",code:"add"}]:r,a=t.columns||2,l=t.hideText||!1,s=t.spacing||8,u=t.iconSize?+t.iconSize:64,c=`calc(${100/a}% - ${s}px)`;return j.jsx("div",{className:Lv,children:u&&j.jsx(P,{id:"items-"+e.code,sx:{display:"flex",flexWrap:"wrap",gap:`${s}px`},children:i.map(((t,r)=>e.icon?j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(Qv,{parentCode:e.code,index:r,columnNumber:a,designMode:e.designMode,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code):j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx($v,{parentCode:e.code,index:r,imageAspectRatio:n,columnNumber:a,hideText:l,designMode:e.designMode,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code)))})})}));var Zv={},em=L;Object.defineProperty(Zv,"__esModule",{value:!0});var tm=Zv.default=void 0,rm=em(ze()),nm=j;tm=Zv.default=(0,rm.default)((0,nm.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");const om=R.memo((function(e){const t=Ae(),r=e.t,n=Ue((e=>e.designState.langInfo)),o=e.designMode==ft.DESIGN,i=Ue((t=>t.designState[e.code].children)),a=(null==i?void 0:i.filter((e=>"row"==e.type)))||[],l=(null==i?void 0:i.filter((e=>"column"==e.type)))||[],s=Ue((e=>l.map((t=>{var r;return null===(r=e.designState[t.qualifiedCode].resources)||void 0===r?void 0:r.icon}))));return j.jsxs(j.Fragment,{children:[o&&j.jsx("div",{className:Si.addColumn,children:j.jsx(ot,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Fr,{children:j.jsxs(Rr,{children:[j.jsx(Vr,{children:j.jsxs(Mr,{children:[o&&j.jsx(zr,{sx:{padding:"0"}},"move"),j.jsx(zr,{},"content"),l.map(((t,r)=>j.jsx(am,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,inDesgin:o,icons:s,styles:Si,index:r},t.qualifiedCode))),o&&j.jsx(zr,{sx:{padding:"0"}},"remove")]})}),j.jsx(Dr,{children:a.map(((t,r)=>j.jsx(im,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,inDesgin:o,columns:l,icons:s,index:r},t.qualifiedCode)))})]})}),e.inDesgin&&j.jsx("div",{className:Si.addRow,children:j.jsx(ot,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function im({item:e,index:t,columns:r,icons:n,inDesgin:o,t:i,langInfo:a,parentQualifiedCode:l}){const s=He(),u=Ae(),c=v.useRef(),d=a.lang===a.mainLang,p=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[a.lang]})),f=Ue((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[a.mainLang]})),g=`col-${l}`,m=h(it({type:g,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),y=m[0],b=m[1],_=m[2],x=h(Hr({accept:g,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!c.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=c.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.bottom-a.top)/2,u=r.getClientOffset().y-a.top;o<i&&u<l||o>i&&u>l||(s(lt({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),w=x[0].handlerId;return(0,x[1])(_(c)),j.jsxs(Mr,{style:{opacity:y?"0.2":"1"},ref:c,"data-handler-id":w,children:[o&&j.jsx(zr,{ref:b,sx:{padding:"0",color:u.textStyles.text.color},children:j.jsx(Wg,{})},"move"),j.jsx(zr,{sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size,padding:"4px"},children:j.jsx(Lr,{variant:"standard",value:p||"",onChange:t=>{s(Ze({code:e.qualifiedCode,key:"label",lang:a.lang,value:t.target.value}))},placeholder:d?i("content_editor_placeholder_option"):f||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size}}})}),r.map(((e,t)=>j.jsx(zr,{scope:"row",align:"center",sx:{padding:"4px"},children:n[t]&&j.jsx(Xr,{opacity:.2,iconColor:u.textStyles.text.color,onIconClick:()=>{},imageHeight:"64px",svgUrl:n[t]?rr(n[t]):void 0})},t))),o&&j.jsx(zr,{onClick:t=>s(at(e.qualifiedCode)),sx:{padding:"0",color:u.textStyles.text.color},children:j.jsx(hr,{})},"remove")]},e.code)}function am({item:e,index:t,icons:r,inDesgin:n,t:o,langInfo:i,parentQualifiedCode:a,styles:l}){const s=st("design"),u=r[t],c=h(v.useState(!1),2),d=c[0],p=c[1],f=He(),g=Ae(),m=v.useRef(),y=et.includes(i.lang),b=!y,_=`row-${a}`,x=h(it({type:_,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),w=x[0],O=x[1],S=x[2],k=h(Hr({accept:_,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!m.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.right-a.left)/2,s=r.getClientOffset().x-a.left;b&&o<i&&s<l||b&&o>i&&s>l||y&&o<i&&s>l||y&&o>i&&s<l||(f(lt({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),E=k[0].handlerId,C=k[1];return C(S(m)),j.jsxs(j.Fragment,{children:[j.jsxs(zr,{ref:m,"data-handler-id":E,align:"center",sx:{opacity:w?"0.2":"1",fontFamily:g.textStyles.text.font,color:g.textStyles.text.color,fontSize:g.textStyles.text.size,padding:"4px"},children:[n&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:O,sx:{padding:"0"},children:j.jsx(Wg,{})},"move"),j.jsx("div",{sx:{padding:"0",color:g.textStyles.text.color},onClick:t=>f(at(e.qualifiedCode)),children:j.jsx(hr,{})})]}),u?j.jsx(Xr,{onIconClick:()=>p(!0),imageHeight:"64px",svgUrl:u?rr(u):void 0}):j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsxs("div",{onClick:()=>p(!0),children:[j.jsx(tm,{sx:{width:"64px",height:"64px"}}),j.jsx("br",{}),j.jsx("span",{children:"Click to add icon"})]})]})]},e.qualifiedCode),d&&j.jsx(Yv,{currentIcon:"",onIconSelected:t=>{(t=>{const r=new Blob([t],{type:"image/svg+xml"}),n=new File([r],"file.svg",{type:"image/svg+xml"});s.uploadResource(n).then((t=>{f(ut({code:e.qualifiedCode,key:"icon",value:t.name}))})).catch((e=>{console.error(e.message)}))})(t),p(!1)}})]})}const lm=R.memo((function({code:e,type:t,t:r,onMainLang:n,addAnswer:o,designMode:i}){switch(t){case"video_display":return j.jsx(ov,{code:e,t:r,onMainLang:n},e);case"image_display":return j.jsx(fv,{code:e,t:r,onMainLang:n},e);case"signature":return j.jsx(av,{});case"photo_capture":return j.jsx(bv,{code:e});case"video_capture":return j.jsx(xv,{code:e});case"date_time":case"date":return j.jsx(zg,{code:e},e);case"time":return j.jsx(Hg,{code:e},e);case"scq":return j.jsx(Av,{t:r,designMode:i,onMainLang:n,addNewAnswer:o,code:e,type:"radio"},e);case"image_mcq":case"image_scq":case"image_ranking":return j.jsx(Xv,{t:r,onMainLang:n,designMode:i,addNewAnswer:o,code:e},e);case"icon_scq":case"icon_mcq":return j.jsx(Xv,{icon:!0,t:r,onMainLang:n,designMode:i,addNewAnswer:o,code:e},e);case"scq_icon_array":return j.jsx(om,{onMainLang:n,type:t,designMode:i,addNewAnswer:o,code:e,t:r},e);case"scq_array":return j.jsx(Yg,{onMainLang:n,type:t,designMode:i,addNewAnswer:o,code:e,t:r},e);case"file_upload":return j.jsx(Dg,{code:e},e);case"mcq":return j.jsx(Av,{designMode:i,addNewAnswer:o,code:e,onMainLang:n,t:r,type:"checkbox"},e);case"ranking":return j.jsx(Av,{designMode:i,onMainLang:n,addNewAnswer:o,code:e,t:r,type:"ranking"},e);case"nps":return j.jsx(mv,{code:e},e);case"number":return j.jsx(Lg,{code:e},e);case"text":return j.jsx(Tg,{code:e},e);case"paragraph":return j.jsx(Rg,{t:r,code:e},e);case"barcode":return j.jsx(Ov,{t:r,code:e},e);case"email":return j.jsx(Ig,{code:e},e);default:return""}}));const sm=R.memo((function({code:e,type:t,isLast:r,parentCode:n,index:o,t:i,designMode:a,onMainLang:l,parentIndex:s}){console.debug(e+": "+o);const u=h(v.useState(!1),2),c=u[0],d=u[1],p=v.useRef(),f=He(),g=Ae(),m=Ue((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e})),y=Ue((t=>t.designState[e])),b=y.children,_=Ue((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)}));Ue((e=>!ht(e.designState.setup)));const x=v.useCallback((()=>f(gt(e))),[]),w=v.useCallback((()=>f(vt(e))),[]),O=h(it({type:"questions",item:{index:o,draggableId:e,droppableId:n,parentIndex:s,isLast:r,type:"questions",itemType:t},collect:t=>{var r;return(null===(r=t.getItem())||void 0===r?void 0:r.draggableId)===e}}),3),S=O[0],k=O[1],E=O[2],C=h(Hr({accept:"questions",hover(e,t){var i;if(!(p.current&&t.isOver({shallow:!0})&&e&&e.droppableId.startsWith("G")))return;const a=e.index,l=o;if(a===l||(null==e?void 0:e.droppableId)!==n)return;const s=null===(i=p.current)||void 0===i?void 0:i.getBoundingClientRect(),u=t.getClientOffset();a<l&&u.y<s.top+20||a>l&&u.y>s.bottom-20||(f(lt({type:"reorder_questions",source:e.droppableId,destination:n,id:e.draggableId,fromIndex:a,toIndex:l+1})),e.index=l,e.isLast=r)}}),2);C[0],(0,C[1])(E(p));const T=R.useCallback(((e,t,r)=>{const n=b||[];let o=1,i="",a="",l="";const s={code:"value",isActive:!1,returnType:{name:"ranking"==t||"nps"==t||"image_ranking"==t?"Int":"scq_array"==t||"scq_icon_array"==t?"String":"Boolean"},text:""};switch(r){case"column":o=mt(n.filter((e=>"column"===e.type))),l="Col"+o,i="Ac"+o,a=e+i,f(yt({label:l,answer:{code:i,qualifiedCode:a,type:r}}));break;case"row":o=mt(n.filter((e=>"row"===e.type))),i="A"+o,l="Row"+o,a=e+i,f(yt({label:l,instructionList:[s],answer:{code:i,qualifiedCode:a,type:r}}));break;case"other":i="Aother",l="Other",a=e+i;const u=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"scq"===t?`${e}.value === 'Aother'`:`${e}Aother.value === true`}];f(yt({label:l,answer:{code:i,qualifiedCode:a,type:r},instructionList:"mcq"==t?[s]:[]})),f(yt({instructionList:u,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:o=mt(n),i="A"+o,l="Option"+o,a=e+i,f(yt({label:l,answer:{code:i,qualifiedCode:a},instructionList:"mcq"==t||"image_mcq"==t||"icon_mcq"==t||"ranking"==t||"image_ranking"==t?[s]:[]}))}}),[b]),q=ct(g.palette.background.paper),I=g.textStyles.question.color;return j.jsxs("div",{ref:p,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},style:m?{border:`0.5px solid ${I}`,backgroundColor:q,color:I}:{opacity:S?"0.2":"1",border:S?"dotted 1px "+q:"0"},className:`question ${Ji}`,"data-code":e,children:[j.jsxs(P,{className:ta,children:[_&&j.jsx("div",{className:Yi,ref:k,children:j.jsx($i,{style:{color:I}})}),a==ft.DESIGN&&(m||c)&&j.jsx("div",{className:ea,children:j.jsx(Eg,{t:i,isGroup:!1,isInSetup:m,code:e,parentCode:n,onClone:w,onDelete:x,disableDelete:!1})})]}),j.jsxs(P,{className:Qi,children:[j.jsx(P,{className:Zi,children:bt(`${t}`,void 0,I)}),j.jsx("div",{className:Xi,style:{fontFamily:g.textStyles.question.font,color:g.textStyles.question.color,fontSize:g.textStyles.question.size},children:j.jsx(og,{code:e,editable:a==ft.DESIGN||a==ft.LANGUAGES,extended:!1,placeholder:i("content_editor_placeholder_title"),contentKey:"label"})})]}),y.showDescription&&j.jsx(P,{className:Gi,children:j.jsx(og,{code:e,editable:a==ft.DESIGN||a==ft.LANGUAGES,extended:!0,placeholder:i("content_editor_placeholder_description"),contentKey:"description"})}),j.jsx(Zr,{in:!0!==_,timeout:"auto",unmountOnExit:!0,children:j.jsx(lm,{code:e,type:t,t:i,addAnswer:T,designMode:a,onMainLang:l,addNewAnswer:T})}),j.jsx(Bi,{code:e})]})})),um="_textHeader_17ofz_1",cm="_textDescription_17ofz_5",dm="_groupHeader_17ofz_48",pm="_moveBox_17ofz_62",fm="_topLevel_17ofz_71",hm="_actionToolbarVisible_17ofz_101",gm="_contentContainer_17ofz_105",vm="_headerContent_17ofz_116",mm={groupDropArea:"_groupDropArea_1m6hh_1",groupDragging:"_groupDragging_1m6hh_24",questionDropArea:"_questionDropArea_1m6hh_45",groupDropAreaWrapper:"_groupDropAreaWrapper_1m6hh_72",hide:"_hide_1m6hh_79",hidden:"_hidden_1m6hh_83",isDragging:"_isDragging_1m6hh_92",groupHidden:"_groupHidden_1m6hh_104",groupEmptyHint:"_groupEmptyHint_1m6hh_111",groupEmptyHintHover:"_groupEmptyHintHover_1m6hh_130",dropText:"_dropText_1m6hh_134"};var ym=new Map,bm=new WeakMap,_m=0,xm=void 0;function wm(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>`${t}_${"root"===t?function(e){return e?(bm.has(e)||(_m+=1,bm.set(e,_m.toString())),bm.get(e)):"0"}(e.root):e[t]}`)).toString()}function Om(e,t,r={},n=xm){if(void 0===window.IntersectionObserver&&void 0!==n){const o=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const o=function(e){const t=wm(e);let r=ym.get(t);if(!r){const n=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=n.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},ym.set(t,r)}return r}(r),i=o.id,a=o.observer,l=o.elements,s=l.get(e)||[];return l.has(e)||l.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),ym.delete(i))}}function Sm({index:e,groupsCount:t,t:r,emptySurvey:n}){const o=He(),i=h(Hr((()=>({accept:"groups",drop:t=>{o(lt({type:"new_group",groupType:t.draggableId,toIndex:e}))},collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[e]),2),a=i[0],l=a.isOver,s=a.item,u=i[1],c=null!=s&&"group"==s.draggableId,d=s&&"new-groups"==s.droppableId&&Em(s,e)&&Cm(s,e,t)&&jm(s,e),p=M(),f=ct(p.palette.background.paper);return j.jsxs("div",{ref:u,style:{backgroundColor:c&&f,color:p.palette.text.primary},className:""+(n?mm.groupEmptyHint+(l?" "+mm.groupEmptyHintHover:""):l&&d?mm.groupDropArea:c?mm.groupDragging:mm.groupHidden),children:[c&&!n&&j.jsx(j.Fragment,{children:j.jsx("span",{className:mm.dropText,children:r("empty_survey_hint")})}),n&&j.jsx("span",{children:r("empty_survey_hint")})]})}function km({index:e,isLast:t=!1,parentCode:r,parentType:n,parentIndex:o,emptyGroup:i=!1,t:a}){const l=M(),s=He(),u=Ue((e=>e.designState.reorder_refresh_code)),c=h(Hr((()=>({accept:["new-questions","questions"],hover(i){"questions"===i.type&&i.droppableId!==r&&("end"!==n||_t(i.itemType))&&(s(lt({type:"reparent_question",source:i.droppableId,destination:r,id:i.draggableId})),i.index=e,i.parentIndex=o,i.isLast=t,i.droppableId=r)},drop:t=>{"new-questions"===t.type&&s(lt({type:"new_question",questionType:t.draggableId,destination:r,toIndex:e}))},collect:i=>{var a,l,s,u,c;return{isOver:"new-questions"==(null===(a=i.getItem())||void 0===a?void 0:a.type)&&i.isOver()&&("end"!==n||_t(null===(l=i.getItem())||void 0===l?void 0:l.itemType)),isDragging:!("end"===n&&!_t(null===(s=i.getItem())||void 0===s?void 0:s.itemType))&&("new-questions"===(null===(u=i.getItem())||void 0===u?void 0:u.droppableId)||"questions"===(null===(c=i.getItem())||void 0===c?void 0:c.type)&&i.getItem().droppableId!==r&&(0==e&&i.getItem().isLast&&i.getItem().parentIndex+1===o||t&&0==i.getItem().index&&i.getItem().parentIndex-1===o))}}})),[u,e]),2),d=c[0],p=d.isOver,f=d.isDragging,g=c[1],m=function({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:a,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const d=h(v.useState(null),2),p=d[0],f=d[1],g=v.useRef(),m=h(v.useState({inView:!!l,entry:void 0}),2),y=m[0],b=m[1];g.current=u,v.useEffect((()=>{if(a||!p)return;let l;return l=Om(p,((e,t)=>{b({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&i&&l&&(l(),l=void 0)}),{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},s),()=>{l&&l()}}),[Array.isArray(e)?e.toString():e,p,o,n,i,a,r,s,t]);const _=null==(c=y.entry)?void 0:c.target,x=v.useRef();p||!_||i||a||x.current===_||(x.current=_,b({inView:!!l,entry:void 0}));const w=[f,y.inView,y.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({threshold:0,trackVisibility:f,delay:f?100:0}),y=m.ref,b=m.inView,_=(m.entry,l.palette.text.primary);return j.jsxs("div",{ref:y,children:[" ",j.jsxs("div",{ref:g,style:{marginTop:f||p?"inherit":"0rem",marginBottom:f||p?"inherit":"0rem"},className:"question-drop-area "+(i?p?mm.questionDropArea:f&&b?mm.isDragging:mm.groupEmptyHint:p?mm.questionDropArea:f&&b?mm.isDragging:mm.hidden)+" ",children:[f&&!i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(en,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:mm.dropText,style:{color:_},children:a("empty_group_hint")})]}),i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(en,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:mm.dropText,style:{color:_},children:a("empty_group_hint")})]})]})]})}const jm=(e,t)=>(null==e?void 0:e.index)!==t&&t-1!==(null==e?void 0:e.index)||"new-groups"===(null==e?void 0:e.droppableId),Em=(e,t)=>"welcome"!==(null==e?void 0:e.draggableId)||0===t,Cm=(e,t,r)=>"end"!==(null==e?void 0:e.draggableId)||t===r;const Tm=R.memo((function({t:e,code:t,children:r,designMode:n}){console.debug("Group Header: "+t);const o=He(),i=Ue((e=>e.designState.langInfo)).onMainLang,a=Ue((e=>e.designState[t])),l=Ae(),s=n==ft.DESIGN,u=v.useCallback((()=>o(xt(t))),[t]);return j.jsx(P,{className:vm,children:j.jsxs(P,{className:dm,"data-code":t,children:[j.jsx(P,{className:gm,children:s&&i&&j.jsx("div",{className:hm,children:j.jsx(Eg,{code:t,t:e,isGroup:!0,onDelete:u,disableDelete:r&&r.length>0})})}),j.jsx("div",{className:um,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:j.jsx(og,{editable:n==ft.DESIGN||n==ft.LANGUAGES,code:t,extended:!1,contentKey:"label",placeholder:e("content_editor_placeholder_title")})}),a.showDescription&&j.jsx(P,{className:cm,children:j.jsx(og,{editable:n==ft.DESIGN||n==ft.LANGUAGES,code:t,extended:!0,contentKey:"description",placeholder:e("content_editor_placeholder_description")})}),i&&j.jsx(Bi,{type:"group",code:t})]})})}));const qm=R.memo((function({t:e,code:t,index:r,designMode:n}){const o=He(),i=Ue((e=>e.designState[t])),a=n==ft.DESIGN,l=Ue((e=>{var t;return"collapse_groups"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),s=Ue((e=>e.designState.langInfo)),u=Ue((e=>{var r;return(null===(r=e.designState.setup)||void 0===r?void 0:r.code)==t})),c=M(),d=v.useRef(),p=h(it({type:"groups",item:()=>({index:r,draggableId:t,droppableId:"groups",type:"groups"}),collect:e=>{var r;return(null===(r=e.getItem())||void 0===r?void 0:r.draggableId)===t}}),3),f=p[0],g=p[1],m=p[2],y=h(Hr({accept:"groups",hover(e,t){var n;if(!d.current||"welcome"==_||"end"==_||!t.isOver({shallow:!0})||!e||"groups"!=e.droppableId)return;const i=e.index,a=r;if(i===a)return;const l=null===(n=d.current)||void 0===n?void 0:n.getBoundingClientRect(),s=t.getClientOffset();i<a&&s.y<l.top+50||i>a&&s.y>l.bottom-50||(o(lt({type:"reorder_groups",id:e.draggableId,fromIndex:i,toIndex:a})),e.index=a)}}),2),b=(y[0],y[1]);s.onMainLang;const _=null==i?void 0:i.groupType.toLowerCase(),x=null==i?void 0:i.children;b(m(d));const w=ct(c.palette.background.paper),O=c.textStyles.question.color;return i?j.jsxs(P,{sx:u?{border:`0.5px solid ${O}`,color:O,backgroundColor:w}:{backgroundColor:"background.paper"},className:fm,ref:d,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.2),t})(f),children:[1==l&&"welcome"!==_&&"end"!==_?j.jsx("div",{className:pm,ref:g,children:j.jsx($i,{style:{color:O}})}):j.jsx("br",{}),j.jsx(Tm,{t:e,code:t,index:r,designMode:n,children:x}),!0!==l&&j.jsxs(j.Fragment,{children:[x&&x.length>0&&j.jsx(km,{index:0,parentCode:t,parentType:_,parentIndex:r,t:e}),null==x?void 0:x.map(((o,i)=>j.jsxs(R.Fragment,{children:[j.jsx(sm,{t:e,parentCode:t,parentIndex:r,index:i,isLast:x.length==i+1,type:o.type,code:o.code,designMode:n,onMainLang:a},o.code),j.jsx(km,{isLast:x.length==i+1,index:i+1,parentIndex:r,parentCode:t,parentType:_,t:e})]},o.code))),(!x||!x.length)&&a&&j.jsx(km,{t:e,index:0,parentCode:t,parentType:_,emptyGroup:!0})]})]}):null})),Im=0,Am=1,Lm=2,Pm=4;function Nm(e,t){return r=>e(t(r))}function Fm(e,t){return t(e)}function Rm(e,t){return r=>e(t,r)}function Mm(e,t){return()=>e(t)}function Dm(e,t){return t(e),e}function Vm(...e){return e}function zm(e){e()}function Bm(e){return()=>e}function Hm(e){return void 0!==e}function Um(){}function $m(e,t){return e(Am,t)}function Wm(e,t){e(Im,t)}function Km(e){e(Lm)}function Gm(e){return e(Pm)}function Ym(e,t){return $m(e,Rm(t,Im))}function Jm(e,t){const r=e(Am,(e=>{r(),t(e)}));return r}function Qm(){const e=[];return(t,r)=>{switch(t){case Lm:return void e.splice(0,e.length);case Am:return e.push(r),()=>{const t=e.indexOf(r);t>-1&&e.splice(t,1)};case Im:return void e.slice().forEach((e=>{e(r)}));default:throw new Error(`unrecognized action ${t}`)}}}function Xm(e){let t=e;const r=Qm();return(e,n)=>{switch(e){case Am:n(t);break;case Im:t=n;break;case Pm:return t}return r(e,n)}}function Zm(e){return Dm(Qm(),(t=>Ym(e,t)))}function ey(e,t){return Dm(Xm(t),(t=>Ym(e,t)))}function ty(e,...t){const r=function(...e){return t=>e.reduceRight(Fm,t)}(...t);return(t,n)=>{switch(t){case Am:return $m(e,r(n));case Lm:return void Km(e)}}}function ry(e,t){return e===t}function ny(e=ry){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function oy(e){return t=>r=>{e(r)&&t(r)}}function iy(e){return t=>Nm(t,e)}function ay(e){return t=>()=>t(e)}function ly(e,t){return r=>n=>r(t=e(t,n))}function sy(e){return t=>r=>{e>0?e--:t(r)}}function uy(e){let t,r=null;return n=>o=>{r=o,t||(t=setTimeout((()=>{t=void 0,n(r)}),e))}}function cy(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout((()=>{n(t)}),e)}}function dy(...e){const t=new Array(e.length);let r=0,n=null;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);$m(e,(e=>{const l=r;r|=a,t[i]=e,l!==o&&r===o&&n&&(n(),n=null)}))})),e=>i=>{const a=()=>e([i].concat(t));r===o?a():n=a}}function py(...e){return function(t,r){switch(t){case Am:return function(...e){return()=>{e.map(zm)}}(...e.map((e=>$m(e,r))));case Lm:return;default:throw new Error(`unrecognized action ${t}`)}}}function fy(e,t=ry){return ty(e,ny(t))}function hy(...e){const t=Qm(),r=new Array(e.length);let n=0;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);$m(e,(e=>{r[i]=e,n|=a,n===o&&Wm(t,r)}))})),function(e,i){switch(e){case Am:return n===o&&i(r),$m(t,i);case Lm:return Km(t);default:throw new Error(`unrecognized action ${e}`)}}}function gy(e,t=[],{singleton:r}={singleton:!0}){return{id:vy(),constructor:e,dependencies:t,singleton:r}}const vy=()=>Symbol();function my(e,t){const r={},n={};let o=0;const i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(const a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r}const yy="undefined"!=typeof document?R.useLayoutEffect:R.useEffect;function by(t,r,n){const o=Object.keys(r.required||{}),i=Object.keys(r.optional||{}),a=Object.keys(r.methods||{}),l=Object.keys(r.events||{}),u=R.createContext({});function c(e,t){e.propsReady&&Wm(e.propsReady,!1);for(var n=0,a=o;n<a.length;n++){const o=a[n];Wm(e[r.required[o]],t[o])}for(var l=0,s=i;l<s.length;l++){const n=s[l];if(n in t){Wm(e[r.optional[n]],t[n])}}e.propsReady&&Wm(e.propsReady,!0)}function d(e){return l.reduce(((t,n)=>(t[n]=function(e){let t,r;const n=()=>t&&t();return function(o,i){switch(o){case Am:if(i){if(r===i)return;return n(),r=i,t=$m(e,i),t}return n(),Um;case Lm:return n(),void(r=null);default:throw new Error(`unrecognized action ${o}`)}}}(e[r.events[n]]),t)),{})}const f=R.forwardRef(((f,g)=>{const v=f.children,m=s(f,e),y=R.useState((()=>Dm(function(e){const t=new Map,r=({id:e,constructor:n,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);const a=n(o.map((e=>r(e))));return i&&t.set(e,a),a};return r(e)}(t),(e=>c(e,m))))),b=h(y,1)[0],_=h(R.useState(Mm(d,b)),1)[0];yy((()=>{for(var e=0,t=l;e<t.length;e++){const r=t[e];r in m&&$m(_[r],m[r])}return()=>{Object.values(_).map(Km)}}),[m,_,b]),yy((()=>{c(b,m)})),R.useImperativeHandle(g,Bm(function(e){return a.reduce(((t,n)=>(t[n]=t=>{Wm(e[r.methods[n]],t)},t)),{})}(b)));const x=n;return j.jsx(u.Provider,{value:b,children:n?j.jsx(x,p(p({},my([...o,...i,...l],m)),{},{children:v})):v})})),g=R.version.startsWith("18")?e=>{const t=R.useContext(u)[e],r=R.useCallback((e=>$m(t,e)),[t]);return R.useSyncExternalStore(r,(()=>Gm(t)),(()=>Gm(t)))}:e=>{const t=R.useContext(u)[e],r=h(R.useState(Mm(Gm,t)),2),n=r[0],o=r[1];return yy((()=>$m(t,(e=>{e!==n&&o(Bm(e))}))),[t,n]),n};return{Component:f,usePublisher:e=>R.useCallback(Rm(Wm,R.useContext(u)[e]),[e]),useEmitterValue:g,useEmitter:(e,t)=>{const r=R.useContext(u)[e];yy((()=>$m(r,t)),[t,r])}}}const _y="undefined"!=typeof document?R.useLayoutEffect:R.useEffect;var xy=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(xy||{});const wy={0:"debug",1:"log",2:"warn",3:"error"},Oy=gy((()=>{const e=Xm(3),t=Xm(((t,r,n=1)=>{var o;n>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Gm(e))&&console[wy[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}));return{log:t,logLevel:e}}),[],{singleton:!0});function Sy(e,t,r){const n=R.useRef(null);let o=e=>{};if("undefined"!=typeof ResizeObserver){const i=R.useMemo((()=>new ResizeObserver((t=>{const n=()=>{const r=t[0].target;null!==r.offsetParent&&e(r)};r?n():requestAnimationFrame(n)}))),[e]);o=e=>{e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function ky(e,t,r){return Sy(e,t,r).callbackRef}function jy(e,t,r,n,o,i,a,l,s){const u=R.useCallback((r=>{const s=function(e,t,r,n){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(!o||void 0===o.dataset.index)continue;const l=parseInt(o.dataset.index),s=parseFloat(o.dataset.knownSize),u=t(o,r);if(0===u&&n("Zero-sized element, this should not happen",{child:o},xy.ERROR),u===s)continue;const c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:u}):i[i.length-1].endIndex++}return i}(r.children,t,l?"offsetWidth":"offsetHeight",o);let u=r.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const c="window"===u.lastElementChild.dataset.viewportType,d=a?l?a.scrollLeft:a.scrollTop:c?l?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:l?u.scrollLeft:u.scrollTop,p=a?l?a.scrollWidth:a.scrollHeight:c?l?document.documentElement.scrollWidth:document.documentElement.scrollHeight:l?u.scrollWidth:u.scrollHeight,f=a?l?a.offsetWidth:a.offsetHeight:c?l?window.innerWidth:window.innerHeight:l?u.offsetWidth:u.offsetHeight;n({scrollTop:Math.max(d,0),scrollHeight:p,viewportHeight:f}),null==i||i(l?Ey("column-gap",getComputedStyle(r).columnGap,o):Ey("row-gap",getComputedStyle(r).rowGap,o)),null!==s&&e(s)}),[e,t,o,i,a,n]);return Sy(u,r,s)}function Ey(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,xy.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Cy(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ty(e,t){return Math.abs(e-t)<1.01}function qy(e,t,r,n=Um,o,i){const a=R.useRef(null),l=R.useRef(null),s=R.useRef(null),u=R.useCallback((r=>{const n=r.target,o=n===window||n===document,a=i?o?window.pageXOffset||document.documentElement.scrollLeft:n.scrollLeft:o?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,u=i?o?document.documentElement.scrollWidth:n.scrollWidth:o?document.documentElement.scrollHeight:n.scrollHeight,c=i?o?window.innerWidth:n.offsetWidth:o?window.innerHeight:n.offsetHeight,d=()=>{e({scrollTop:Math.max(a,0),scrollHeight:u,viewportHeight:c})};r.suppressFlushSync?d():V.flushSync(d),null!==l.current&&(a===l.current||a<=0||a===u-c)&&(l.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))}),[e,t]);return R.useEffect((()=>{const e=o||a.current;return n(o||a.current),u({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",u,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",u)}}),[a,u,r,n,o]),{scrollerRef:a,scrollByCallback:function(e){i&&(e={left:e.top,behavior:e.behavior}),a.current.scrollBy(e)},scrollToCallback:function(r){const n=a.current;if(!n||(i?"offsetWidth"in n&&0===n.offsetWidth:"offsetHeight"in n&&0===n.offsetHeight))return;const o="smooth"===r.behavior;let u,c,d;n===window?(c=Math.max(Cy(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),u=i?window.innerWidth:window.innerHeight,d=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(c=n[i?"scrollWidth":"scrollHeight"],u=Cy(n,i?"width":"height"),d=n[i?"scrollLeft":"scrollTop"]);const p=c-u;if(r.top=Math.ceil(Math.max(Math.min(p,r.top),0)),Ty(u,c)||r.top===d)return e({scrollTop:d,scrollHeight:c,viewportHeight:u}),void(o&&t(!0));o?(l.current=r.top,s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{s.current=null,l.current=null,t(!0)}),1e3)):l.current=null,i&&(r={left:r.top,behavior:r.behavior}),n.scrollTo(r)}}}const Iy=gy((()=>{const e=Qm(),t=Qm(),r=Xm(0),n=Qm(),o=Xm(0),i=Qm(),a=Qm(),l=Xm(0),s=Xm(0),u=Xm(0),c=Xm(0),d=Qm(),p=Qm(),f=Xm(!1),h=Xm(!1),g=Xm(!1);return Ym(ty(e,iy((({scrollTop:e})=>e))),t),Ym(ty(e,iy((({scrollHeight:e})=>e))),a),Ym(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:l,fixedHeaderHeight:s,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:n,horizontalDirection:h,skipAnimationFrameInResizeObserver:g,scrollTo:d,scrollBy:p,statefulScrollTop:o,deviation:r,scrollingInProgress:f}}),[],{singleton:!0}),Ay={lvl:0};function Ly(e,t,r,n=Ay,o=Ay){return{k:e,v:t,lvl:r,l:n,r:o}}function Py(e){return e===Ay}function Ny(){return Ay}function Fy(e,t){if(Py(e))return Ay;const r=e.k,n=e.l,o=e.r;if(t===r){if(Py(n))return o;if(Py(o))return n;{const t=h(By(n),2);return Ky(Uy(e,{k:t[0],v:t[1],l:Hy(n)}))}}return Ky(Uy(e,t<r?{l:Fy(n,t)}:{r:Fy(o,t)}))}function Ry(e,t){if(!Py(e))return t===e.k?e.v:t<e.k?Ry(e.l,t):Ry(e.r,t)}function My(e,t,r="k"){if(Py(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=My(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return My(e.l,t,r)}function Dy(e,t,r){return Py(e)?Ly(t,r,1):t===e.k?Uy(e,{k:t,v:r}):t<e.k?Wy(Uy(e,{l:Dy(e.l,t,r)})):Wy(Uy(e,{r:Dy(e.r,t,r)}))}function Vy(e,t,r){if(Py(e))return[];const n=e.k,o=e.v,i=e.l,a=e.r;let l=[];return n>t&&(l=l.concat(Vy(i,t,r))),n>=t&&n<=r&&l.push({k:n,v:o}),n<=r&&(l=l.concat(Vy(a,t,r))),l}function zy(e){return Py(e)?[]:[...zy(e.l),{k:e.k,v:e.v},...zy(e.r)]}function By(e){return Py(e.r)?[e.k,e.v]:By(e.r)}function Hy(e){return Py(e.r)?e.l:Ky(Uy(e,{r:Hy(e.r)}))}function Uy(e,t){return Ly(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function $y(e){return Py(e)||e.lvl>e.r.lvl}function Wy(e){return Jy(Qy(e))}function Ky(e){const t=e.l,r=e.r,n=e.lvl;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if($y(t))return Qy(Uy(e,{lvl:n-1}));if(Py(t)||Py(t.r))throw new Error("Unexpected empty nodes");return Uy(t.r,{l:Uy(t,{r:t.r.l}),r:Uy(e,{l:t.r.r,lvl:n-1}),lvl:n})}if($y(e))return Jy(Uy(e,{lvl:n-1}));if(Py(r)||Py(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=$y(t)?r.lvl-1:r.lvl;return Uy(t,{l:Uy(e,{r:t.l,lvl:n-1}),r:Jy(Uy(r,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function Gy(e,t,r){if(Py(e))return[];const n=My(e,t)[0];return Yy(Vy(e,n,r),(({k:e,v:t})=>({index:e,value:t})))}function Yy(e,t){const r=e.length;if(0===r)return[];let n=t(e[0]),o=n.index,i=n.value;const a=[];for(let l=1;l<r;l++){const r=t(e[l]),n=r.index,s=r.value;a.push({start:o,end:n-1,value:i}),o=n,i=s}return a.push({start:o,end:1/0,value:i}),a}function Jy(e){const t=e.r,r=e.lvl;return Py(t)||Py(t.r)||t.lvl!==r||t.r.lvl!==r?e:Uy(t,{l:Uy(e,{r:t.l}),lvl:r+1})}function Qy(e){const t=e.l;return Py(t)||t.lvl!==e.lvl?e:Uy(t,{r:Uy(e,{l:t.r})})}function Xy(e,t,r,n=0){let o=e.length-1;for(;n<=o;){const i=Math.floor((n+o)/2),a=r(e[i],t);if(0===a)return i;if(-1===a){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Zy(e,t,r){return e[Xy(e,t,r)]}const eb=gy((()=>({recalcInProgress:Xm(!1)})),[],{singleton:!0});function tb(e){const t=e.size,r=e.startIndex,n=e.endIndex;return e=>e.start===r&&(e.end===n||e.end===1/0)&&e.value===t}function rb(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function nb({index:e},t){return t===e?0:t<e?-1:1}function ob({offset:e},t){return t===e?0:t<e?-1:1}function ib(e){return{index:e.index,value:e}}function ab(e,t,r,n=0){return n>0&&(t=Math.max(t,Zy(e,n,nb).offset)),Yy(function(e,t,r,n){const o=Xy(e,t,n),i=Xy(e,r,n,o);return e.slice(o,i+1)}(e,t,r,ob),ib)}function lb(e,t,r,n){let o=e,i=0,a=0,s=0,u=0;if(0!==t){u=Xy(o,t-1,nb);s=o[u].offset;const e=My(r,t-1);i=e[0],a=e[1],o.length&&o[u].size===My(r,t)[1]&&(u-=1),o=o.slice(0,u+1)}else o=[];var c,d=l(Gy(r,t,1/0));try{for(d.s();!(c=d.n()).done;){const e=c.value,t=e.start,r=e.value,l=t-i,u=l*a+s+l*n;o.push({offset:u,size:r,index:t}),i=t,s=u,a=r}}catch(p){d.e(p)}finally{d.f()}return{offsetTree:o,lastIndex:i,lastOffset:s,lastSize:a}}function sb(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,xy.DEBUG);const i=e.sizeTree;let a=i,s=0;if(r.length>0&&Py(i)&&2===t.length){const e=t[0].size,n=t[1].size;a=r.reduce(((t,r)=>Dy(Dy(t,r,e),r+1,n)),a)}else{var u=function(e,t){let r=Py(e)?0:1/0;var n,o=l(t);try{for(o.s();!(n=o.n()).done;){const t=n.value,o=t.size,u=t.startIndex,c=t.endIndex;if(r=Math.min(r,u),Py(e)){e=Dy(e,0,o);continue}const d=Gy(e,u-1,c+1);if(d.some(tb(t)))continue;let p=!1,f=!1;var i,a=l(d);try{for(a.s();!(i=a.n()).done;){const t=i.value,r=t.start,n=t.end,a=t.value;p?(c>=r||o===a)&&(e=Fy(e,r)):(f=a!==o,p=!0),n>c&&c>=r&&a!==o&&(e=Dy(e,c+1,a))}}catch(s){a.e(s)}finally{a.f()}f&&(e=Dy(e,u,o))}}catch(s){o.e(s)}finally{o.f()}return[e,r]}(a,t),c=h(u,2);a=c[0],s=c[1]}if(a===i)return e;const d=lb(e.offsetTree,s,a,o),p=d.offsetTree,f=d.lastIndex,g=d.lastSize,v=d.lastOffset;return{sizeTree:a,offsetTree:p,lastIndex:f,lastOffset:v,lastSize:g,groupOffsetTree:r.reduce(((e,t)=>Dy(e,t,ub(t,p,o))),Ny()),groupIndices:r}}function ub(e,t,r){if(0===t.length)return 0;const n=Zy(t,e,nb),o=n.offset,i=e-n.index,a=n.size*i+(i-1)*r+o;return a>0?a+r:a}function cb(e,t,r){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=db("LAST"===e.index?r:e.index,t);return n=Math.max(0,n,Math.min(r,n)),n}}function db(e,t){if(!pb(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function pb(e){return!Py(e.groupOffsetTree)}const fb={offsetHeight:"height",offsetWidth:"width"},hb=gy((([{log:e},{recalcInProgress:t}])=>{const r=Qm(),n=Qm(),o=ey(n,0),i=Qm(),a=Qm(),l=Xm(0),s=Xm([]),u=Xm(void 0),c=Xm(void 0),d=Xm(((e,t)=>Cy(e,fb[t]))),f=Xm(void 0),h=Xm(0),g={offsetTree:[],sizeTree:Ny(),groupOffsetTree:Ny(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=ey(ty(r,dy(s,e,h),ly(sb,g),ny()),g),m=ey(ty(s,ny(),ly(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),iy((({prev:e})=>e))),[]);Ym(ty(s,oy((e=>e.length>0)),dy(v,h),iy((([e,t,r])=>{const n=e.reduce(((e,n,o)=>Dy(e,n,ub(n,t.offsetTree,r)||o)),Ny());return p(p({},t),{},{groupIndices:e,groupOffsetTree:n})}))),v),Ym(ty(n,dy(v),oy((([e,{lastIndex:t}])=>e<t)),iy((([e,{lastIndex:t,lastSize:r}])=>[{startIndex:e,endIndex:t,size:r}]))),r),Ym(u,c);const y=ey(ty(u,iy((e=>void 0===e))),!0);Ym(ty(c,oy((e=>void 0!==e&&Py(Gm(v).sizeTree))),iy((e=>[{startIndex:0,endIndex:0,size:e}]))),r);const b=Zm(ty(r,dy(v),ly((({sizes:e},[t,r])=>({changed:r!==e,sizes:r})),{changed:!1,sizes:g}),iy((e=>e.changed))));$m(ty(l,ly(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),iy((e=>e.diff))),(e=>{const r=Gm(v).groupIndices;if(e>0)Wm(t,!0),Wm(i,e+rb(e,r));else if(e<0){const t=Gm(m);t.length>0&&(e-=rb(-e,t)),Wm(a,e)}})),$m(ty(l,dy(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},xy.ERROR)}));const _=Zm(i);Ym(ty(i,dy(v),iy((([e,t])=>{const r=t.groupIndices.length>0,n=[],o=t.lastSize;if(r){const r=Ry(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],l=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;n.push({startIndex:e,endIndex:e,size:r}),n.push({startIndex:e+1,endIndex:e+1+l-1,size:o}),a++,i+=l+1}const l=zy(t.sizeTree);return i!==e&&l.shift(),l.reduce(((t,{k:r,v:n})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}]),{ranges:o,prevIndex:r+e,prevSize:n}}),{ranges:n,prevIndex:e,prevSize:0}).ranges}return zy(t.sizeTree).reduce(((t,{k:r,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}],prevIndex:r+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:o}).ranges}))),r);const x=Zm(ty(a,dy(v,h),iy((([e,{offsetTree:t},r])=>ub(-e,t,r)))));return Ym(ty(a,dy(v,h),iy((([e,t,r])=>{if(t.groupIndices.length>0){if(Py(t.sizeTree))return t;let n=Ny();const o=Gm(m);let i=0,a=0,l=0;for(;i<-e;){l=o[a];const e=o[a+1]-l-1;a++,i+=e+1}n=zy(t.sizeTree).reduce(((t,{k:r,v:n})=>Dy(t,Math.max(0,r+e),n)),n);if(i!==-e){n=Dy(n,0,Ry(t.sizeTree,l));n=Dy(n,1,My(t.sizeTree,1-e)[1])}return p(p({},t),{},{sizeTree:n},lb(t.offsetTree,0,n,r))}{const n=zy(t.sizeTree).reduce(((t,{k:r,v:n})=>Dy(t,Math.max(0,r+e),n)),Ny());return p(p({},t),{},{sizeTree:n},lb(t.offsetTree,0,n,r))}}))),v),{data:f,totalCount:n,sizeRanges:r,groupIndices:s,defaultItemSize:c,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:x,beforeUnshiftWith:_,firstItemIndex:l,gap:h,sizes:v,listRefresh:b,statefulTotalCount:o,trackItemSizes:y,itemSize:d}}),Vm(Oy,eb),{singleton:!0}),gb="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function vb(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&gb||(t.behavior="auto"),t.offset||(t.offset=0),t}const mb=gy((([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:a,smoothScrollTargetReached:l,headerHeight:s,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:d},{log:p}])=>{const f=Qm(),h=Qm(),g=Xm(0);let v=null,m=null,y=null;function b(){v&&(v(),v=null),y&&(y(),y=null),m&&(clearTimeout(m),m=null),Wm(o,!1)}return Ym(ty(f,dy(e,i,t,g,s,u,p),dy(n,c,d),iy((([[e,t,n,i,a,s,u,c],d,p,g])=>{const _=vb(e),x=_.align,w=_.behavior,O=_.offset,S=i-1,k=cb(_,t,S);let j=ub(k,t.offsetTree,d)+s;"end"===x?(j+=p+My(t.sizeTree,k)[1]-n+g,k===S&&(j+=u)):"center"===x?j+=(p+My(t.sizeTree,k)[1]-n+g)/2:j-=a,O&&(j+=O);const E=t=>{b(),t?(c("retrying to scroll to",{location:e},xy.DEBUG),Wm(f,e)):(Wm(h,!0),c("list did not change, scroll successful",{},xy.DEBUG))};if(b(),"smooth"===w){let e=!1;y=$m(r,(t=>{e=e||t})),v=Jm(l,(()=>{E(e)}))}else v=Jm(ty(r,(C=150,e=>{const t=setTimeout((()=>{e(!1)}),C);return r=>{r&&(e(!0),clearTimeout(t))}})),E);var C;return m=setTimeout((()=>{b()}),1200),Wm(o,!0),c("scrolling from index to",{index:k,top:j,behavior:w},xy.DEBUG),{top:j,behavior:w}}))),a),{scrollToIndex:f,scrollTargetReached:h,topListHeight:g}}),Vm(hb,Iy,Oy),{singleton:!0});const yb="up",bb="down",_b={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},xb=gy((([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{const a=Xm(!1),l=Xm(!0),s=Qm(),u=Qm(),c=Xm(4),d=Xm(0),p=ey(ty(py(ty(fy(t),sy(1),ay(!0)),ty(fy(t),sy(1),ay(!1),cy(100))),ny()),!1),f=ey(ty(py(ty(i,ay(!0)),ty(i,ay(!1),cy(200))),ny()),!1);Ym(ty(hy(fy(t),fy(d)),iy((([e,t])=>e<=t)),ny()),l),Ym(ty(l,uy(50)),u);const h=Zm(ty(hy(e,fy(r),fy(n),fy(o),fy(c)),ly(((e,[{scrollTop:t,scrollHeight:r},n,o,i,a])=>{const l={viewportHeight:n,scrollTop:t,scrollHeight:r};if(t+n-r>-a){let r,n;return t>e.state.scrollTop?(r="SCROLLED_DOWN",n=e.state.scrollTop-t):(r="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:l,atBottomBecause:r,scrollTopDelta:n}}let s;return s=l.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:s,state:l}}),_b),ny(((e,t)=>e&&e.atBottom===t.atBottom)))),g=ey(ty(e,ly(((e,{scrollTop:t,scrollHeight:r,viewportHeight:n})=>{if(Ty(e.scrollHeight,r))return{scrollTop:t,scrollHeight:r,jump:0,changed:!1};{const o=r-(t+n)<1;return e.scrollTop!==t&&o?{scrollHeight:r,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:r,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),oy((e=>e.changed)),iy((e=>e.jump))),0);Ym(ty(h,iy((e=>e.atBottom))),a),Ym(ty(a,uy(50)),s);const v=Xm(bb);Ym(ty(e,iy((({scrollTop:e})=>e)),ny(),ly(((e,t)=>Gm(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?yb:bb,prevScrollTop:t}),{direction:bb,prevScrollTop:0}),iy((e=>e.direction))),v),Ym(ty(e,uy(50),ay("none")),v);const m=Xm(0);return Ym(ty(p,oy((e=>!e)),ay(0)),m),Ym(ty(t,uy(100),dy(p),oy((([e,t])=>!!t)),ly((([e,t],[r])=>[t,r]),[0,0]),iy((([e,t])=>t-e))),m),{isScrolling:p,isAtTop:l,isAtBottom:a,atBottomState:h,atTopStateChange:u,atBottomStateChange:s,scrollDirection:v,atBottomThreshold:c,atTopThreshold:d,scrollVelocity:m,lastJumpDueToItemResize:g}}),Vm(Iy)),wb=gy((([{log:e}])=>{const t=Xm(!1),r=Zm(ty(t,oy((e=>e)),ny()));return $m(t,(t=>{t&&Gm(e)("props updated",{},xy.DEBUG)})),{propsReady:t,didMount:r}}),Vm(Oy),{singleton:!0});function Ob(e,t){0==e?t():requestAnimationFrame((()=>Ob(e-1,t)))}function Sb(e,t){const r=t-1;return"number"==typeof e?e:"LAST"===e.index?r:e.index}const kb=gy((([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o,scrollTargetReached:i},{didMount:a}])=>{const l=Xm(!0),s=Xm(0),u=Xm(!0);return Ym(ty(a,dy(s),oy((([e,t])=>!!t)),ay(!1)),l),Ym(ty(a,dy(s),oy((([e,t])=>!!t)),ay(!1)),u),$m(ty(hy(t,a),dy(l,e,r,u),oy((([[,e],t,{sizeTree:r},n,o])=>e&&(!Py(r)||Hm(n))&&!t&&!o)),dy(s)),(([,e])=>{Jm(i,(()=>{Wm(u,!0)})),Ob(4,(()=>{Jm(n,(()=>{Wm(l,!0)})),Wm(o,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s,initialItemFinalLocationReached:u}}),Vm(hb,Iy,mb,wb),{singleton:!0});function jb(e){return!!e&&("smooth"===e?"smooth":"auto")}const Eb=gy((([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:a,didMount:l},{log:s},{scrollingInProgress:u}])=>{const c=Xm(!1),d=Qm();let p=null;function f(e){Wm(o,{index:"LAST",align:"end",behavior:e})}function h(e){const t=Jm(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||p||(Gm(s)("scrolling to bottom due to increased size",{},xy.DEBUG),f("auto"))}));setTimeout(t,100)}return $m(ty(hy(ty(fy(e),sy(1)),l),dy(fy(c),r,i,u),iy((([[e,t],r,n,o,i])=>{let a=t&&o,l="auto";return a&&(l=((e,t)=>"function"==typeof e?jb(e(t)):t&&jb(e))(r,n||i),a=a&&!!l),{totalCount:e,shouldFollow:a,followOutputBehavior:l}})),oy((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:r})=>{p&&(p(),p=null),p=Jm(t,(()=>{Gm(s)("following output to ",{totalCount:e},xy.DEBUG),f(r),p=null}))})),$m(ty(hy(fy(c),e,a),oy((([e,,t])=>e&&t)),ly((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),oy((({refreshed:e})=>e)),dy(c,e)),(([,e])=>{Gm(i)&&h(!1!==e)})),$m(d,(()=>{h(!1!==Gm(c))})),$m(hy(fy(c),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&f("auto")})),{followOutput:c,autoscrollToBottom:d}}),Vm(hb,xb,mb,kb,wb,Oy,Iy));function Cb(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const Tb=gy((([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{const i=Qm(),a=Qm(),l=Zm(ty(i,iy(Cb)));return Ym(ty(l,iy((e=>e.totalCount))),e),Ym(ty(l,iy((e=>e.groupIndices))),t),Ym(ty(hy(n,r,o),oy((([e,t])=>pb(t))),iy((([e,t,r])=>My(t.groupOffsetTree,Math.max(e-r,0),"v")[0])),ny(),iy((e=>[e]))),a),{groupCounts:i,topItemsIndexes:a}}),Vm(hb,Iy));function qb(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Ib(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Ab="top",Lb="bottom",Pb="none";function Nb(e,t,r){return"number"==typeof e?r===yb&&t===Ab||r===bb&&t===Lb?e:0:r===yb?t===Ab?e.main:e.reverse:t===Lb?e.main:e.reverse}function Fb(e,t){return"number"==typeof e?e:e[t]||0}const Rb=gy((([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{const i=Qm(),a=Xm(0),l=Xm(0),s=Xm(0);return{listBoundary:i,overscan:s,topListHeight:a,increaseViewportBy:l,visibleRange:ey(ty(hy(fy(e),fy(t),fy(n),fy(i,qb),fy(s),fy(a),fy(o),fy(r),fy(l)),iy((([e,t,r,[n,o],i,a,l,s,u])=>{const c=e-s,d=a+l,p=Math.max(r-c,0);let f=Pb;const h=Fb(u,Ab),g=Fb(u,Lb);return n-=s,o+=r+l,(n+=r+l)>e+d-h&&(f=yb),(o-=s)<e-p+t+g&&(f=bb),f!==Pb?[Math.max(c-r-Nb(i,Ab,f)-h,0),c-p-l+t+Nb(i,Lb,f)+g]:null})),oy((e=>null!=e)),ny(qb)),[0,0])}}),Vm(Iy),{singleton:!0});const Mb={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Db(e,t,r){if(0===e.length)return[];if(!pb(t))return e.map((e=>p(p({},e),{},{index:e.index+r,originalIndex:e.index})));const n=e[0].index,o=e[e.length-1].index,i=[],a=Gy(t.groupOffsetTree,n,o);let s,u=0;var c,d=l(e);try{for(d.s();!(c=d.n()).done;){const e=c.value;let n;(!s||s.end<e.index)&&(s=a.shift(),u=t.groupIndices.indexOf(s.start)),n=e.index===s.start?{type:"group",index:u}:{index:e.index-(u+1)+r,groupIndex:u},i.push(p(p({},n),{},{size:e.size,offset:e.offset,originalIndex:e.index,data:e.data}))}}catch(f){d.e(f)}finally{d.f()}return i}function Vb(e,t,r,n,o,i){const a=o.lastSize,l=o.lastOffset,s=o.lastIndex;let u=0,c=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];c=t.offset+t.size}const d=r-s,p=u,f=l+d*a+(d-1)*n-c;return{items:Db(e,o,i),topItems:Db(t,o,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:f,top:p,bottom:c,totalCount:r,firstItemIndex:i}}function zb(e,t,r,n,o,i){let a=0;if(r.groupIndices.length>0){var s,u=l(r.groupIndices);try{for(u.s();!(s=u.n()).done;){if(s.value-a>=e)break;a++}}catch(f){u.e(f)}finally{u.f()}}const c=e+a,d=Sb(t,c),p=Array.from({length:c}).map(((e,t)=>({index:t+d,size:0,offset:0,data:i[t+d]})));return Vb(p,[],c,o,r,n)}const Bb=gy((([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:a,listBoundary:s,topListHeight:u},{scrolledToInitialItem:c,initialTopMostItemIndex:d},{topListHeight:f},h,{didMount:g},{recalcInProgress:v}])=>{const m=Xm([]),y=Xm(0),b=Qm();Ym(i.topItemsIndexes,m);const _=ey(ty(hy(g,v,fy(a,qb),fy(t),fy(e),fy(d),c,fy(m),fy(n),fy(o),r),oy((([e,t,,r,,,,,,,n])=>{const o=n&&n.length!==r;return e&&!t&&!o})),iy((([,,[e,t],r,n,o,i,a,s,u,c])=>{const d=n,f=d.sizeTree,h=d.offsetTree,g=Gm(y);if(0===r)return p(p({},Mb),{},{totalCount:r});if(0===e&&0===t)return 0===g?p(p({},Mb),{},{totalCount:r}):zb(g,o,n,s,u,c||[]);if(Py(f)){if(g>0)return null;const e=Vb(function(e,t,r){if(pb(t)){const n=db(e,t);return[{index:My(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}(Sb(o,r),d,c),[],r,u,d,s);return e}const v=[];if(a.length>0){const e=a[0],t=a[a.length-1];let r=0;var m,b=l(Gy(f,e,t));try{for(b.s();!(m=b.n()).done;){const n=m.value,o=n.value,i=Math.max(n.start,e),a=Math.min(n.end,t);for(let e=i;e<=a;e++)v.push({index:e,size:o,offset:r,data:c&&c[e]}),r+=o}}catch(S){b.e(S)}finally{b.f()}}if(!i)return Vb([],v,r,u,d,s);const _=a.length>0?a[a.length-1]+1:0,x=ab(h,e,t,_);if(0===x.length)return null;const w=r-1,O=Dm([],(r=>{var n,o=l(x);try{for(o.s();!(n=o.n()).done;){const o=n.value,i=o.value;let a=i.offset,l=o.start;const s=i.size;if(i.offset<e){l+=Math.floor((e-i.offset+u)/(s+u));const t=l-o.start;a+=t*s+t*u}l<_&&(a+=(_-l)*s,l=_);const d=Math.min(o.end,w);for(let e=l;e<=d&&!(a>=t);e++)r.push({index:e,size:s,offset:a,data:c&&c[e]}),a+=s+u}}catch(S){o.e(S)}finally{o.f()}}));return Vb(O,v,r,u,d,s)})),oy((e=>null!==e)),ny()),Mb);Ym(ty(r,oy(Hm),iy((e=>null==e?void 0:e.length))),t),Ym(ty(_,iy((e=>e.topListHeight))),f),Ym(f,u),Ym(ty(_,iy((e=>[e.top,e.bottom]))),s),Ym(ty(_,iy((e=>e.items))),b);return p({listState:_,topItemsIndexes:m,endReached:Zm(ty(_,oy((({items:e})=>e.length>0)),dy(t,r),oy((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),iy((([,e,t])=>[e-1,t])),ny(qb),iy((([e])=>e)))),startReached:Zm(ty(_,uy(200),oy((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),iy((({items:e})=>e[0].index)),ny())),rangeChanged:Zm(ty(_,oy((({items:e})=>e.length>0)),iy((({items:e})=>{let t=0,r=e.length-1;for(;"group"===e[t].type&&t<r;)t++;for(;"group"===e[r].type&&r>t;)r--;return{startIndex:e[t].index,endIndex:e[r].index}})),ny(Ib))),itemsRendered:b,initialItemCount:y},h)}),Vm(hb,Tb,Rb,kb,mb,xb,wb,eb),{singleton:!0}),Hb=gy((([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:l}])=>(Ym(ty(l,dy(i),oy((([,e])=>0!==e)),dy(o,e,t,n,r),iy((([[,e],t,r,n,o,i=[]])=>zb(e,t,r,n,o,i)))),a),{})),Vm(hb,kb,Bb,wb),{singleton:!0}),Ub=gy((([{scrollVelocity:e}])=>{const t=Xm(!1),r=Qm(),n=Xm(!1);return Ym(ty(e,dy(n,t,r),oy((([e,t])=>!!t)),iy((([e,t,r,n])=>{const o=t.exit,i=t.enter;if(r){if(o(e,n))return!1}else if(i(e,n))return!0;return r})),ny()),t),$m(ty(hy(t,e,r),dy(n)),(([[e,t,r],n])=>e&&n&&n.change&&n.change(t,r))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}}),Vm(xb),{singleton:!0}),$b=gy((([{topItemsIndexes:e}])=>{const t=Xm(0);return Ym(ty(t,oy((e=>e>0)),iy((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),Vm(Bb)),Wb=gy((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{const i=Qm(),a=ey(ty(hy(e,n,t,r,o),iy((([e,t,r,n,o])=>e+t+r+n+o.offsetBottom+o.bottom))),0);return Ym(fy(a),i),{totalListHeight:a,totalListHeightChanged:i}}),Vm(Iy,Bb),{singleton:!0});function Kb(e){let t,r=!1;return()=>(r||(r=!0,t=e()),t)}const Gb=Kb((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),Yb=gy((([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:a,lastJumpDueToItemResize:l},{listState:s},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:d,gap:p},{log:f},{recalcInProgress:h}])=>{const g=Zm(ty(s,dy(l),ly((([,e,t,r],[{items:n,totalCount:o,bottom:i,offsetBottom:a},l])=>{const s=i+a;let u=0;if(t===o&&e.length>0&&n.length>0){0===n[0].originalIndex&&0===e[0].originalIndex||(u=s-r,0!==u&&(u+=l))}return[u,n,o,s]}),[0,[],0,0]),oy((([e])=>0!==e)),dy(t,a,n,i,f,h),oy((([,e,t,r,,,n])=>!n&&!r&&0!==e&&t===yb)),iy((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},xy.DEBUG),e)))));function v(t){t>0?(Wm(e,{top:-t,behavior:"auto"}),Wm(r,0)):(Wm(r,0),Wm(e,{top:-t,behavior:"auto"}))}return $m(ty(g,dy(r,o)),(([e,t,n])=>{n&&Gb()?Wm(r,t-e):v(-e)})),$m(ty(hy(ey(o,!1),r,h),oy((([e,t,r])=>!e&&!r&&0!==t)),iy((([e,t])=>t)),uy(1)),v),Ym(ty(c,iy((e=>({top:-e})))),e),$m(ty(u,dy(d,p),iy((([e,{lastSize:t,groupIndices:r,sizeTree:n},o])=>{function i(e){return e*(t+o)}if(0===r.length)return i(e);{let t=0;const o=Ry(n,0);let a=0,l=0;for(;a<e;){a++,t+=o;let n=r.length===l+1?1/0:r[l+1]-r[l]-1;a+n>e&&(t-=o,n=e-a+1),a+=n,t+=i(n),l++}return t}}))),(t=>{Wm(r,t),requestAnimationFrame((()=>{Wm(e,{top:t}),requestAnimationFrame((()=>{Wm(r,0),Wm(h,!1)}))}))})),{deviation:r}}),Vm(Iy,xb,Bb,hb,Oy,eb)),Jb=gy((([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=Xm(0);return $m(ty(e,dy(n),oy((([,e])=>0!==e)),iy((([,e])=>({top:e})))),(e=>{Jm(ty(r,sy(1),oy((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{Wm(t,e)}))}))})),{initialScrollTop:n}}),Vm(wb,Iy,Bb),{singleton:!0}),Qb=gy((([{viewportHeight:e},{totalListHeight:t}])=>{const r=Xm(!1);return{alignToBottom:r,paddingTopAddition:ey(ty(hy(r,e,t),oy((([e])=>e)),iy((([,e,t])=>Math.max(0,e-t))),uy(0),ny()),0)}}),Vm(Iy,Wb),{singleton:!0}),Xb=gy((([{scrollTo:e,scrollContainerState:t}])=>{const r=Qm(),n=Qm(),o=Qm(),i=Xm(!1),a=Xm(void 0);return Ym(ty(hy(r,n),iy((([{viewportHeight:e,scrollTop:t,scrollHeight:r},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:r,viewportHeight:e})))),t),Ym(ty(e,dy(n),iy((([e,{offsetTop:t}])=>p(p({},e),{},{top:e.top+t})))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}}),Vm(Iy)),Zb=e=>{let r=e.itemTop,n=e.itemBottom,o=e.viewportTop,i=e.viewportBottom,a=e.locationParams,l=a.behavior,u=a.align,c=s(a,t);return r<o?p(p({},c),{},{behavior:l,align:null!=u?u:"start"}):n>i?p(p({},c),{},{behavior:l,align:null!=u?u:"end"}):null},e_=gy((([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:i,headerHeight:a,fixedHeaderHeight:l,fixedFooterHeight:u,scrollingInProgress:c},{scrollToIndex:d}])=>{const f=Qm();return Ym(ty(f,dy(e,i,t,a,l,u,o),dy(n),iy((([[e,t,n,o,i,a,l,u],d])=>{const f=e.done,h=e.behavior,g=e.align,v=e.calculateViewLocation,m=void 0===v?Zb:v,y=s(e,r),b=cb(e,t,o-1),_=ub(b,t.offsetTree,d)+i+a,x=m({itemTop:_,itemBottom:_+My(t.sizeTree,b)[1],viewportTop:u+a,viewportBottom:u+n-l,locationParams:p({behavior:h,align:g},y)});return x?f&&Jm(ty(c,oy((e=>!1===e)),sy(Gm(c)?1:2)),f):f&&f(),x})),oy((e=>null!==e))),d),{scrollIntoView:f}}),Vm(hb,Iy,mb,Bb,Oy),{singleton:!0}),t_=gy((([{sizes:e,sizeRanges:t},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:l,windowViewportRect:s}])=>{const u=Qm(),c=Xm(void 0),d=Xm(null),p=Xm(null);return Ym(l,d),Ym(s,p),$m(ty(u,dy(e,r,a,d,p,n)),(([e,t,r,n,o,i,a])=>{const l=zy(t.sizeTree).map((({k:e,v:t},r,n)=>{const o=n[r+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}}));n&&null!==o&&null!==i&&(r=o.scrollTop-i.offsetTop),e({ranges:l,scrollTop:r-=a})})),Ym(ty(c,oy(Hm),iy(r_)),o),Ym(ty(i,dy(c),oy((([,e])=>void 0!==e)),ny(),iy((([,e])=>e.ranges))),t),{getState:u,restoreStateFrom:c}}),Vm(hb,Iy,kb,wb,Xb));function r_(e){return{offset:e.scrollTop,index:0,align:"start"}}const n_=gy((([e,t,r,n,o,i,a,l,s,u])=>p(p(p(p(p(p(p(p(p(p({},e),t),r),n),o),i),a),l),s),u)),Vm(Rb,Hb,wb,Ub,Wb,Jb,Qb,Xb,e_,Oy)),o_=gy((([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:o,trackItemSizes:i,itemSize:a,data:l,firstItemIndex:u,groupIndices:c,statefulTotalCount:d,gap:f,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m},y,b,_,x,{scrollToIndex:w},O,{topItemCount:S},{groupCounts:k},j])=>{let E=x.listState,C=x.topItemsIndexes,T=s(x,n);return Ym(T.rangeChanged,j.scrollSeekRangeChanged),Ym(ty(j.windowViewportRect,iy((e=>e.visibleHeight))),y.viewportHeight),p(p(p(p(p({totalCount:e,data:l,firstItemIndex:u,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m,topItemsIndexes:C,topItemCount:S,groupCounts:k,fixedItemHeight:r,defaultItemHeight:o,gap:f},_),{},{statefulTotalCount:d,listState:E,scrollToIndex:w,trackItemSizes:i,itemSize:a,groupIndices:c},T),j),y),{},{sizes:h},b)}),Vm(hb,kb,Iy,t_,Eb,Bb,mb,Yb,$b,Tb,n_)),i_="-webkit-sticky",a_="sticky",l_=Kb((()=>{if("undefined"==typeof document)return a_;const e=document.createElement("div");return e.style.position=i_,e.style.position===i_?i_:a_}));function s_(e,t,r){const n=R.useRef(null),o=R.useCallback((r=>{if(null===r||!r.offsetParent)return;const o=r.getBoundingClientRect(),i=o.width;let a,l;if(t){const e=t.getBoundingClientRect(),r=o.top-e.top;a=e.height-Math.max(0,r),l=r+t.scrollTop}else a=window.innerHeight-Math.max(0,o.top),l=o.top+window.pageYOffset;n.current={offsetTop:l,visibleHeight:a,visibleWidth:i},e(n.current)}),[e,t]),i=Sy(o,!0,r),a=i.callbackRef,l=i.ref,s=R.useCallback((()=>{o(l.current)}),[o,l]);return R.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver((()=>{requestAnimationFrame(s)}));return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),a}const u_=R.createContext(void 0),c_=R.createContext(void 0);function d_(e){return e}const p_=gy((()=>{const e=Xm((e=>`Item ${e}`)),t=Xm(null),r=Xm((e=>`Group ${e}`)),n=Xm({}),o=Xm(d_),i=Xm("div"),a=Xm(Um),l=(e,t=null)=>ey(ty(n,iy((t=>t[e])),ny()),t);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,HeaderFooterTag:i,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}})),f_=gy((([e,t])=>p(p({},e),t)),Vm(o_,p_)),h_=({height:e})=>j.jsx("div",{style:{height:e}}),g_={position:l_(),zIndex:1,overflowAnchor:"none"},v_={overflowAnchor:"none"},m_=p(p({},v_),{},{display:"inline-block",height:"100%"}),y_=R.memo((function({showTopList:e=!1}){const t=P_("listState"),r=L_("sizeRanges"),n=P_("useWindowScroll"),o=P_("customScrollParent"),i=L_("windowScrollContainerState"),a=L_("scrollContainerState"),l=o||n?i:a,s=P_("itemContent"),u=P_("context"),c=P_("groupContent"),d=P_("trackItemSizes"),f=P_("itemSize"),g=P_("log"),m=L_("gap"),y=P_("horizontalDirection"),b=jy(r,f,d,e?Um:l,g,m,o,y,P_("skipAnimationFrameInResizeObserver")).callbackRef,_=h(R.useState(0),2),x=_[0],w=_[1];N_("deviation",(e=>{x!==e&&w(e)}));const O=P_("EmptyPlaceholder"),S=P_("ScrollSeekPlaceholder")||h_,k=P_("ListComponent"),E=P_("ItemComponent"),C=P_("GroupComponent"),T=P_("computeItemKey"),q=P_("isSeeking"),I=P_("groupIndices").length>0,A=P_("alignToBottom"),L=P_("initialItemFinalLocationReached"),P=e?{}:p(p({boxSizing:"border-box"},y?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:0!==x?x:A?"auto":0}:{marginTop:0!==x?x:A?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom}),L?{}:{visibility:"hidden"});return!e&&0===t.totalCount&&O?j.jsx(O,p({},O_(O,u))):j.jsx(k,p(p({},O_(k,u)),{},{ref:b,style:P,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map((e=>{const r=e.originalIndex,n=T(r+t.firstItemIndex,e.data,u);return q?v.createElement(S,p(p({},O_(S,u)),{},{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?v.createElement(C,p(p({},O_(C,u)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,style:g_}),c(e.index,u)):v.createElement(E,p(p(p({},O_(E,u)),function(e,t){return{item:"string"==typeof e?void 0:t}}(E,e.data)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:y?m_:v_}),I?s(e.index,e.groupIndex,e.data,u):s(e.index,e.data,u))}))}))})),b_={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},__={outline:"none",overflowX:"auto",position:"relative"},x_=e=>p({width:"100%",height:"100%",position:"absolute",top:0},e?{display:"flex",flexDirection:"column"}:{}),w_={width:"100%",position:l_(),top:0,zIndex:1};function O_(e,t){if("string"!=typeof e)return{context:t}}const S_=R.memo((function(){const e=P_("HeaderComponent"),t=L_("headerHeight"),r=P_("HeaderFooterTag"),n=ky(R.useMemo((()=>e=>t(Cy(e,"height"))),[t]),!0,P_("skipAnimationFrameInResizeObserver")),o=P_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},O_(e,o)))}):null})),k_=R.memo((function(){const e=P_("FooterComponent"),t=L_("footerHeight"),r=P_("HeaderFooterTag"),n=ky(R.useMemo((()=>e=>t(Cy(e,"height"))),[t]),!0,P_("skipAnimationFrameInResizeObserver")),o=P_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},O_(e,o)))}):null}));function j_({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=R.memo((function(n){let i=n.style,a=n.children,l=s(n,o);const u=e("scrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("scrollerRef"),h=r("context"),g=r("horizontalDirection")||!1,v=qy(u,d,c,f,void 0,g),m=v.scrollerRef,y=v.scrollByCallback,b=v.scrollToCallback;t("scrollTo",b),t("scrollBy",y);const _=g?__:b_;return j.jsx(c,p(p(p({ref:m,style:p(p({},_),i),"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},l),O_(c,h)),{},{children:a}))}));return n}function E_({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=R.memo((function(n){let o=n.style,a=n.children,l=s(n,i);const u=e("windowScrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("totalListHeight"),h=r("deviation"),g=r("customScrollParent"),v=r("context"),m=qy(u,d,c,Um,g),y=m.scrollerRef,b=m.scrollByCallback,_=m.scrollToCallback;return _y((()=>(y.current=g||window,()=>{y.current=null})),[y,g]),t("windowScrollTo",_),t("scrollBy",b),j.jsx(c,p(p(p({style:p(p({position:"relative"},o),0!==f?{height:f+h}:{}),"data-virtuoso-scroller":!0},l),O_(c,v)),{},{children:a}))}));return n}const C_=({children:e})=>{const t=R.useContext(u_),r=L_("viewportHeight"),n=L_("fixedItemHeight"),o=P_("alignToBottom"),i=P_("horizontalDirection"),a=ky(R.useMemo((()=>Nm(r,(e=>Cy(e,i?"width":"height")))),[r,i]),!0,P_("skipAnimationFrameInResizeObserver"));return R.useEffect((()=>{t&&(r(t.viewportHeight),n(t.itemHeight))}),[t,r,n]),j.jsx("div",{style:x_(o),ref:a,"data-viewport-type":"element",children:e})},T_=({children:e})=>{const t=R.useContext(u_),r=L_("windowViewportRect"),n=L_("fixedItemHeight"),o=P_("customScrollParent"),i=s_(r,o,P_("skipAnimationFrameInResizeObserver")),a=P_("alignToBottom");return R.useEffect((()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,r,n]),j.jsx("div",{ref:i,style:x_(a),"data-viewport-type":"window",children:e})},q_=({children:e})=>{const t=P_("TopItemListComponent")||"div",r=P_("headerHeight"),n=p(p({},w_),{},{marginTop:`${r}px`}),o=P_("context");return j.jsx(t,p(p({style:n},O_(t,o)),{},{children:e}))},I_=by(f_,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},R.memo((function(e){const t=P_("useWindowScroll"),r=P_("topItemsIndexes").length>0,n=P_("customScrollParent"),o=n||t?R_:F_,i=n||t?T_:C_;return j.jsxs(o,p(p({},e),{},{children:[r&&j.jsx(q_,{children:j.jsx(y_,{showTopList:!0})}),j.jsxs(i,{children:[j.jsx(S_,{}),j.jsx(y_,{}),j.jsx(k_,{})]})]}))}))),A_=I_.Component,L_=I_.usePublisher,P_=I_.useEmitterValue,N_=I_.useEmitter,F_=j_({usePublisher:L_,useEmitterValue:P_,useEmitter:N_}),R_=E_({usePublisher:L_,useEmitterValue:P_,useEmitter:N_}),M_=A_,D_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},V_={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},z_=Math.round,B_=Math.ceil,H_=Math.floor,U_=Math.min,$_=Math.max;function W_(e,t,r){return Array.from({length:t-e+1}).map(((t,n)=>{const o=null===r?null:r[n+e];return{index:n+e,data:o}}))}function K_(e,t){return e&&e.column===t.column&&e.row===t.row}function G_(e,t){return e&&e.width===t.width&&e.height===t.height}const Y_=gy((([{overscan:e,visibleRange:t,listBoundary:r,increaseViewportBy:n},{scrollTop:o,viewportHeight:i,scrollBy:a,scrollTo:l,smoothScrollTargetReached:s,scrollContainerState:u,footerHeight:c,headerHeight:d},f,h,{propsReady:g,didMount:v},{windowViewportRect:m,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,windowScrollTo:x},w])=>{const O=Xm(0),S=Xm(0),k=Xm(D_),j=Xm({height:0,width:0}),E=Xm({height:0,width:0}),C=Qm(),T=Qm(),q=Xm(0),I=Xm(null),A=Xm({row:0,column:0}),L=Qm(),P=Qm(),N=Xm(!1),F=Xm(0),R=Xm(!0),M=Xm(!1),D=Xm(!1);$m(ty(v,dy(F),oy((([e,t])=>!!t))),(()=>{Wm(R,!1)})),$m(ty(hy(v,R,E,j,F,M),oy((([e,t,r,n,,o])=>e&&!t&&0!==r.height&&0!==n.height&&!o))),(([,,,,e])=>{Wm(M,!0),Ob(1,(()=>{Wm(C,e)})),Jm(ty(o),(()=>{Wm(r,[0,0]),Wm(R,!0)}))})),Ym(ty(P,oy((e=>null!=e&&e.scrollTop>0)),ay(0)),S),$m(ty(v,dy(P),oy((([,e])=>null!=e))),(([,e])=>{e&&(Wm(j,e.viewport),Wm(E,null==e?void 0:e.item),Wm(A,e.gap),e.scrollTop>0&&(Wm(N,!0),Jm(ty(o,sy(1)),(e=>{Wm(N,!1)})),Wm(l,{top:e.scrollTop})))})),Ym(ty(j,iy((({height:e})=>e))),i),Ym(ty(hy(fy(j,G_),fy(E,G_),fy(A,((e,t)=>e&&e.column===t.column&&e.row===t.row)),fy(o)),iy((([e,t,r,n])=>({viewport:e,item:t,gap:r,scrollTop:n})))),L),Ym(ty(hy(fy(O),t,fy(A,K_),fy(E,G_),fy(j,G_),fy(I),fy(S),fy(N),fy(R),fy(F)),oy((([,,,,,,,e])=>!e)),iy((([e,[t,r],n,o,i,a,l,,s,u])=>{const c=n.row,d=n.column,f=o.height,h=o.width,g=i.width;if(0===l&&(0===e||0===g))return D_;if(0===h){const t=Sb(u,e);return function(e){return p(p({},V_),{},{items:e})}(W_(t,Math.max(t+l-1,0),a))}const v=X_(g,h,d);let m,y;s?0===t&&0===r&&l>0?(m=0,y=l-1):(m=v*H_((t+c)/(f+c)),y=v*B_((r+c)/(f+c))-1,y=U_(e-1,$_(y,v-1)),m=U_(y,$_(0,m))):(m=0,y=-1);const b=W_(m,y,a),_=J_(i,n,o,b),x=_.top,w=_.bottom,O=B_(e/v);return{items:b,offsetTop:x,offsetBottom:O*f+(O-1)*c-w,top:x,bottom:w,itemHeight:f,itemWidth:h}}))),k),Ym(ty(I,oy((e=>null!==e)),iy((e=>e.length))),O),Ym(ty(hy(j,E,k,A),oy((([e,t,{items:r}])=>r.length>0&&0!==t.height&&0!==e.height)),iy((([e,t,{items:r},n])=>{const o=J_(e,n,t,r);return[o.top,o.bottom]})),ny(qb)),r);const V=Xm(!1);Ym(ty(o,dy(V),iy((([e,t])=>t||0!==e))),V);const z=Zm(ty(fy(k),oy((({items:e})=>e.length>0)),dy(O,V),oy((([{items:e},t,r])=>r&&e[e.length-1].index===t-1)),iy((([,e])=>e-1)),ny())),B=Zm(ty(fy(k),oy((({items:e})=>e.length>0&&0===e[0].index)),ay(0),ny())),H=Zm(ty(fy(k),dy(N),oy((([{items:e},t])=>e.length>0&&!t)),iy((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),ny(Ib),uy(0)));Ym(H,h.scrollSeekRangeChanged),Ym(ty(C,dy(j,E,O,A),iy((([e,t,r,n,o])=>{const i=vb(e),a=i.align,l=i.behavior,s=i.offset;let u=i.index;"LAST"===u&&(u=n-1),u=$_(0,u,U_(n-1,u));let c=Q_(t,o,r,u);return"end"===a?c=z_(c-t.height+r.height):"center"===a&&(c=z_(c-t.height/2+r.height/2)),s&&(c+=s),{top:c,behavior:l}}))),l);const U=ey(ty(k,iy((e=>e.offsetBottom+e.bottom))),0);return Ym(ty(m,iy((e=>({width:e.visibleWidth,height:e.visibleHeight})))),j),p(p(p({data:I,totalCount:O,viewportDimensions:j,itemDimensions:E,scrollTop:o,scrollHeight:T,overscan:e,increaseViewportBy:n,scrollBy:a,scrollTo:l,scrollToIndex:C,smoothScrollTargetReached:s,windowViewportRect:m,windowScrollTo:x,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,deviation:q,scrollContainerState:u,footerHeight:c,headerHeight:d,initialItemCount:S,gap:A,restoreStateFrom:P},h),{},{initialTopMostItemIndex:F,horizontalDirection:D,gridState:k,totalListHeight:U},f),{},{startReached:B,endReached:z,rangeChanged:H,stateChanged:L,propsReady:g,stateRestoreInProgress:N},w)}),Vm(Rb,Iy,xb,Ub,wb,Xb,Oy));function J_(e,t,r,n){const o=r.height;if(void 0===o||0===n.length)return{top:0,bottom:0};return{top:Q_(e,t,r,n[0].index),bottom:Q_(e,t,r,n[n.length-1].index)+o}}function Q_(e,t,r,n){const o=X_(e.width,r.width,t.column),i=H_(n/o),a=i*r.height+$_(0,i-1)*t.row;return a>0?a+t.row:a}function X_(e,t,r){return $_(1,H_((e+r)/(H_(t)+r)))}const Z_=gy((()=>{const e=Xm((e=>`Item ${e}`)),t=Xm({}),r=Xm(null),n=Xm("virtuoso-grid-item"),o=Xm("virtuoso-grid-list"),i=Xm(d_),a=Xm("div"),l=Xm(Um),s=(e,r=null)=>ey(ty(t,iy((t=>t[e])),ny()),r),u=Xm(!1),c=Xm(!1);return Ym(fy(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),ex=gy((([e,t])=>p(p({},e),t)),Vm(Y_,Z_)),tx=R.memo((function(){const e=ux("gridState"),t=ux("listClassName"),r=ux("itemClassName"),n=ux("itemContent"),o=ux("computeItemKey"),i=ux("isSeeking"),a=sx("scrollHeight"),l=ux("ItemComponent"),s=ux("ListComponent"),u=ux("ScrollSeekPlaceholder"),c=ux("context"),d=sx("itemDimensions"),f=sx("gap"),h=ux("log"),g=ux("stateRestoreInProgress"),m=sx("reportReadyState"),y=ky(R.useMemo((()=>e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const r=e.firstChild;if(r){const e=r.getBoundingClientRect(),t=e.width,n=e.height;d({width:t,height:n})}f({row:fx("row-gap",getComputedStyle(e).rowGap,h),column:fx("column-gap",getComputedStyle(e).columnGap,h)})}),[a,d,f,h]),!0,!1);return _y((()=>{e.itemHeight>0&&e.itemWidth>0&&m(!0)}),[e]),g?null:j.jsx(s,p(p({ref:y,className:t},O_(s,c)),{},{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map((t=>{const a=o(t.index,t.data,c);return i?j.jsx(u,p(p({},O_(u,c)),{},{index:t.index,height:e.itemHeight,width:e.itemWidth}),a):v.createElement(l,p(p({},O_(l,c)),{},{className:r,"data-index":t.index,key:a}),n(t.index,t.data,c))}))}))})),rx=R.memo((function(){const e=ux("HeaderComponent"),t=sx("headerHeight"),r=ux("headerFooterTag"),n=ky(R.useMemo((()=>e=>t(Cy(e,"height"))),[t]),!0,!1),o=ux("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},O_(e,o)))}):null})),nx=R.memo((function(){const e=ux("FooterComponent"),t=sx("footerHeight"),r=ux("headerFooterTag"),n=ky(R.useMemo((()=>e=>t(Cy(e,"height"))),[t]),!0,!1),o=ux("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},O_(e,o)))}):null})),ox=({children:e})=>{const t=R.useContext(c_),r=sx("itemDimensions"),n=sx("viewportDimensions"),o=ky(R.useMemo((()=>e=>{n(e.getBoundingClientRect())}),[n]),!0,!1);return R.useEffect((()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))}),[t,n,r]),j.jsx("div",{style:x_(!1),ref:o,children:e})},ix=({children:e})=>{const t=R.useContext(c_),r=sx("windowViewportRect"),n=sx("itemDimensions"),o=ux("customScrollParent"),i=s_(r,o,!1);return R.useEffect((()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,r,n]),j.jsx("div",{ref:i,style:x_(!1),children:e})},ax=R.memo((function(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=ux("useWindowScroll"),n=ux("customScrollParent"),o=n||r?px:dx,i=n||r?ix:ox;return j.jsx(o,p(p({},t),{},{children:j.jsxs(i,{children:[j.jsx(rx,{}),j.jsx(tx,{}),j.jsx(nx,{})]})}))})),lx=by(ex,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},ax),sx=(lx.Component,lx.usePublisher),ux=lx.useEmitterValue,cx=lx.useEmitter,dx=j_({usePublisher:sx,useEmitterValue:ux,useEmitter:cx}),px=E_({usePublisher:sx,useEmitterValue:ux,useEmitter:cx});function fx(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,xy.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function hx(e){const t=h(v.useState(!1),2),r=t[0],n=t[1],o=h(v.useState(!1),2),i=o[0],a=o[1],l=function(e){const t=Me().getMonitor(),r=h(De(t,e),2),n=r[0],o=r[1];return v.useEffect((()=>t.subscribeToOffsetChange(o))),v.useEffect((()=>t.subscribeToStateChange(o))),n}((e=>({isDragging:e.isDragging(),currentOffset:e.getClientOffset()}))),s=l.isDragging,u=l.currentOffset;return v.useEffect((()=>{const t=window.innerWidth;let r;r=t>=1200?450:400,s?((t,r)=>{if(!t||!e.current)return;const o=e.current.getBoundingClientRect(),i=o.left+r,l=o.right+r;if(!(t.x>=i&&t.x<=l&&t.y>=o.top&&t.y<=o.bottom))return n(!1),void a(!1);const s=t.y-o.top,u=o.bottom-t.y;n(s<=50),a(u<=50)})(u,r):(n(!1),a(!1))}),[s,u]),{isNearTop:r,isNearBottom:i}}const gx=R.forwardRef((function({designMode:e},t){const r=Be(["design","run"]).t,n=Ae(),o=e==ft.DESIGN,i=Ue((e=>{var t;return(null===(t=e.designState.Survey)||void 0===t?void 0:t.children)||[]})),a=Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage}));const l=!i.length,s=v.useMemo((()=>{let e=!1;return null==i||i.forEach((t=>{var r;"welcome"!==(null==t?void 0:t.type)&&"welcome"!==(null===(r=t.groupType)||void 0===r?void 0:r.toLowerCase())||(e=!0)})),e}),[i]),u=v.useMemo((()=>{const e=[];a&&e.push({name:vx.IMAGE}),s||e.push({name:vx.DROP_AREA,index:0});for(let r=0;r<i.length;r++){var t;e.push({name:vx.GROUP,group:i[r],index:r}),"end"!==i[r].type&&"end"!==(null===(t=i[r].groupType)||void 0===t?void 0:t.toLowerCase())&&e.push({name:vx.DROP_AREA,group:i[r],index:r+1})}return e.push({name:vx.FOOTER}),e}),[i,r,a]),c=v.useRef(null),d=v.useRef(null),p=hx(d),f=p.isNearBottom,h=p.isNearTop;return v.useEffect((()=>{let e;const t=()=>{c.current&&(f?c.current.scrollBy({top:6,behavior:"auto"}):h&&c.current.scrollBy({top:-6,behavior:"auto"}),e=requestAnimationFrame(t))};return(h||f)&&(e=requestAnimationFrame(t)),()=>{e&&cancelAnimationFrame(e)}}),[h,f]),j.jsx(P,{ref:t,className:`content-panel ${Ei}`,style:{backgroundColor:n.palette.background.default,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:j.jsx(P,{ref:d,width:"100%",height:"100%",children:j.jsx(M_,{ref:c,data:u,className:Ti,itemContent:(t,n)=>{switch(n.name){case vx.IMAGE:return j.jsxs(P,{className:qi,children:[j.jsx(ln,{className:Ci,component:"img",image:rr(a),height:"140"}),o&&j.jsx(Bi,{code:"Survey"})]});case vx.DROP_AREA:return j.jsx(Sm,{emptySurvey:l,t:r,index:n.index,groupsCount:i.length});case vx.GROUP:return j.jsx(qm,{t:r,designMode:e,code:n.group.code,index:n.index});case vx.FOOTER:return j.jsx("div",{className:ji})}}})})})})),vx={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"};const mx=R.memo((function({label:e,rule:t,t:r,defaultValue:n,code:o,lowerBound:i,upperBound:a}){const l=He(),s=Ue((e=>e.designState[o][t]||n)),u=h(v.useState(s),2),c=u[0],d=u[1],p=c!=s;return j.jsxs(j.Fragment,{children:[j.jsxs("h4",{children:[e,":"]}),j.jsx(Lr,{label:e,error:p,variant:"outlined",type:"number",helperText:p?j.jsx(Rn,{t:r,values:{lower_bound:i,upper_bound:a,setup_value:s,label:e},i18nKey:"value_beyond_bounds"}):null,size:"small",style:{maxWidth:"200px"},value:c,onChange:e=>(e=>{d(e.target.value),c>=i&&c<=a&&l(wt({code:o,key:t,value:Math.max(i,Math.min(a,e.target.value))}))})(e)})]})})),yx={showHint:"_showHint_9iocv_1",inputValue:"_inputValue_9iocv_9"};function bx({code:e,t:t}){const r=He(),n=Ue((t=>t.designState[e].showHint||!1));return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:yx.showHint,children:[j.jsx("h4",{children:t("show_question_hint")}),j.jsx(mr,{checked:n,onChange:t=>{return n=t.target.checked,void r(wt({code:e,key:"showHint",value:n}));var n}})]}),n&&j.jsx(_x,{code:e,objectName:"hint"})]})}function _x({code:e,objectName:t,title:r}){const n=He(),o=Ue((e=>e.designState.langInfo.languagesList)),i=Ue((r=>{var n;return null===(n=r.designState[e].content)||void 0===n?void 0:n[t]}));return j.jsxs(j.Fragment,{children:[r&&j.jsx("h4",{children:r}),o.map((r=>j.jsx("div",{className:yx.inputValue,children:j.jsx(Lr,{label:r.name,variant:"standard",type:"text",value:(null==i?void 0:i[r.code])||"",onChange:o=>((r,o)=>{n(Ze({code:e,key:t,lang:r,value:o}))})(r.code,o.target.value)})},r.code)))]})}const xx="_boxContainer_182us_1",wx="_title_182us_18",Ox={boxContainer:"_boxContainer_1vhs4_1",mt10:"_mt10_1vhs4_9",uppercase:"_uppercase_1vhs4_13",title:"_title_1vhs4_18",titleContent:"_titleContent_1vhs4_28",standardError:"_standardError_1vhs4_33",errorWrapper:"_errorWrapper_1vhs4_44",errorLabelWrapper:"_errorLabelWrapper_1vhs4_48",errorItem:"_errorItem_1vhs4_52",errorItemContainer:"_errorItemContainer_1vhs4_58"};function Sx({validationRule:e,code:t,rule:r,t:n}){const o=He(),i=e.isCustomErrorActive||!1,a=Ue((e=>e.designState.langInfo.languagesList));let l=e.content||{};return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:n("standard_error")}),j.jsxs("div",{className:Ox.errorWrapper,children:[j.jsx("div",{className:Ox.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${Ox.errorItem} ${Ox.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{children:a.map((t=>j.jsx("div",{className:Ox.errorItem,children:n(r,p({ns:"run",lng:t.code},e))},t.code)))})]}),j.jsxs("div",{className:Ox.title,children:[j.jsx("h4",{className:Ox.mt10,children:n("custom_error")}),j.jsx(mr,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:e=>{return n=e.target.checked,void o(Ot({code:t,rule:r,key:"isCustomErrorActive",value:n}));var n}}))]}),i?j.jsxs("div",{className:Ox.errorWrapper,children:[j.jsx("div",{className:Ox.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${Ox.errorItem} ${Ox.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{className:Ox.errorItemContainer,children:a.map((e=>j.jsx("div",{className:Ox.errorItem,children:j.jsx(Lr,{size:"small",variant:"standard",value:l[e.code]||"",onChange:n=>((e,n)=>{const i=p(p({},l),{},{[e]:n});o(Ot({code:t,rule:r,key:"content",value:i}))})(e.code,n.target.value)})},e.code)))})]}):""]})}const kx={valueValidationItems:"_valueValidationItems_1hupk_1",valueValidationItemsContainer:"_valueValidationItemsContainer_1hupk_6",error:"_error_1hupk_11"};const jx=R.memo((function({value:e,onValueChanged:t}){const r=Be("design").t,n=r=>{let n=[...e];r.target.checked?n.push(r.target.name):n=e.filter((e=>e!=r.target.name)),t(n)};return j.jsxs(St,{children:[j.jsx(Pr,{id:"file-type-label",children:r("file_type")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}));function Ex({code:e,validation:t,rule:r,t:n}){const o=Ue((t=>{var r;return(null===(r=t.designState[e].children)||void 0===r?void 0:r.length)||0})),i=R.useMemo((()=>{switch(r){case"validation_min_char_length":case"validation_max_file_size":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,o];default:return}}),[o]),a=He(),l=(t,n)=>{((t,n)=>{a(Ot({rule:r,code:e,key:t,value:n}))})(t,void 0===i?n:Math.max(i[0],Math.min(i[1],n)))};let s=Cx(t);const u="validation_required"!=r&&"validation_one_response_per_col"!=r&&"validation_pattern_email"!=r&&"validation_file_types"!=r;return j.jsxs("div",{className:kx.valueValidationItemsContainer,children:[s&&u&&j.jsx("div",{children:n(r+"_subtitle")}),j.jsx("div",{className:kx.valueValidationItems,children:"validation_file_types"==r?j.jsx(jx,{value:t.fileTypes,onValueChanged:e=>l("fileTypes",e)}):s.map((e=>{const r=void 0!==i&&(t[e]<i[0]||t[e]>i[1]);return j.jsx(Lr,{error:r,value:t[e],variant:"outlined",size:"small",type:"number"==typeof t[e]?"number":"text",onChange:r=>l(e,"number"==typeof t[e]?parseInt(r.target.value):r.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},e)}))})]})}const Cx=e=>Object.keys(e).filter((e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e)));const Tx=R.memo((function({rule:e,t:t,code:r}){console.debug("ValidationSetupItem: "+r);const n=He(),o=Ue((t=>{var n;return null===(n=t.designState[r])||void 0===n||null===(n=n.validation)||void 0===n?void 0:n[e]})),i=(null==o?void 0:o.isActive)||!1;return j.jsxs("div",{children:[j.jsxs("div",{className:wx,children:[j.jsx("h4",{children:t(e+"_title")}),j.jsx(mr,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:t=>{return o=t.target.checked,void n(Ot({code:r,rule:e,key:"isActive",value:o}));var o}}))]}),i&&j.jsxs(P,{className:xx,children:[j.jsx(Ex,{code:r,validation:o,rule:e,t:t}),j.jsx(Sx,{code:r,validationRule:o,rule:e,t:t})]})]})})),qx="_toggleValue_1d9zg_1";function Ix({label:e,code:t,rule:r}){const n=He(),o=Ue((e=>e.designState[t][r]||!1));return j.jsxs("div",{className:qx,children:[j.jsx("h4",{children:e}),j.jsx(mr,p(p({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:o,onChange:e=>{var o;o=e.target.checked,n(wt({code:t,key:r,value:o}))}}))]})}const Ax={selectValue:"_selectValue_9m4tq_1"};function Lx({label:e,rule:t,defaultValue:r,code:n,values:o,labels:i}){const a=He(),l=Ue((e=>{var o;return(null===(o=e.designState[n])||void 0===o?void 0:o[t])||r}));return j.jsxs("div",{className:Ax.selectDate,children:[j.jsx("h4",{children:e}),j.jsx(St,{variant:"standard",fullWidth:!0,children:j.jsx(kt,{id:"select-value",value:l,label:"Select Value",onChange:e=>{var r;r=e.target.value,a(wt({code:n,key:t,value:r}))},children:o.map(((e,t)=>j.jsx(jt,{value:e,children:i?i[t]:e},e)))})})]})}const Px="_selectDate_1qp3e_1",Nx="_selectDateField_1qp3e_8";function Fx({label:e,rule:t,code:r}){const n=He(),o=Ue((e=>e.designState[r][t]||""));return j.jsxs("div",{className:Px,children:[j.jsx("h4",{children:e}),j.jsx(Lr,{className:Nx,variant:"standard",value:o,type:"date",onChange:e=>{n(wt({code:r,key:t,value:e.target.value}))}})]})}function Rx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Mx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vx(Object(r),!0).forEach((function(t){Mx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rx(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hx,Ux,$x=v.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),Wx=function(e){var t=e.open,r=e.options,n=e.onCancel,o=e.onConfirm,i=e.onClose,a=r.title,l=r.description,s=r.content,u=r.confirmationText,c=r.cancellationText,d=r.dialogProps,p=r.dialogActionsProps,f=r.confirmationButtonProps,h=r.cancellationButtonProps,g=r.titleProps,v=r.contentProps,m=r.allowClose,y=r.confirmationKeyword,b=r.confirmationKeywordTextFieldProps,_=r.hideCancelButton,x=r.buttonOrder,w=r.acknowledgement,O=r.acknowledgementFormControlLabelProps,S=r.acknowledgementCheckboxProps,k=Bx(R.useState(""),2),j=k[0],E=k[1],C=Bx(R.useState(!1),2),T=C[0],q=C[1],I=Boolean(y&&j!==y||w&&!T),A=R.createElement(R.Fragment,null,w&&R.createElement(un,Dx({},O,{control:R.createElement(cn,Dx({},S,{value:T,onChange:function(e,t){return q(t)}})),label:w}))),L=R.createElement(R.Fragment,null,y&&R.createElement(Lr,Dx({onChange:function(e){return E(e.target.value)},value:j,fullWidth:!0},b))),P=x.map((function(e){if("cancel"===e)return!_&&R.createElement(ot,Dx({key:"cancel"},h,{onClick:n}),c);if("confirm"===e)return R.createElement(ot,Dx({key:"confirm",color:"primary",disabled:I},f,{onClick:o}),u);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(e))}));return R.createElement(Jr,Dx({fullWidth:!0},d,{open:t,onClose:m?i:null}),a&&R.createElement(vr,g,a),s?R.createElement(Qr,v,s,L,A):l?R.createElement(Qr,v,R.createElement(_o,null,l),L,A):(y||A)&&R.createElement(Qr,v,L,A),R.createElement(Wr,p,P))},Kx={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},Gx=function(e,t){var r=zx(zx({},e.dialogProps||Kx.dialogProps),t.dialogProps||{}),n=zx(zx({},e.dialogActionsProps||Kx.dialogActionsProps),t.dialogActionsProps||{}),o=zx(zx({},e.confirmationButtonProps||Kx.confirmationButtonProps),t.confirmationButtonProps||{}),i=zx(zx({},e.cancellationButtonProps||Kx.cancellationButtonProps),t.cancellationButtonProps||{}),a=zx(zx({},e.titleProps||Kx.titleProps),t.titleProps||{}),l=zx(zx({},e.contentProps||Kx.contentProps),t.contentProps||{}),s=zx(zx({},e.confirmationKeywordTextFieldProps||Kx.confirmationKeywordTextFieldProps),t.confirmationKeywordTextFieldProps||{}),u=zx(zx({},e.acknowledgementFormControlLabelProps||Kx.acknowledgementFormControlLabelProps),t.acknowledgementFormControlLabelProps||{}),c=zx(zx({},e.acknowledgementCheckboxProps||Kx.acknowledgementCheckboxProps),t.acknowledgementCheckboxProps||{});return zx(zx(zx(zx({},Kx),e),t),{},{dialogProps:r,dialogActionsProps:n,confirmationButtonProps:o,cancellationButtonProps:i,titleProps:a,contentProps:l,confirmationKeywordTextFieldProps:s,acknowledgementFormControlLabelProps:u,acknowledgementCheckboxProps:c})},Yx=function(e){var t=e.children,r=e.defaultOptions,n=void 0===r?{}:r,o=Bx(v.useState(null),2),i=o[0],a=o[1],l=Bx(v.useState({}),2),s=l[0],u=l[1],c=Bx(v.useState(0),2),d=c[0],p=c[1],f=v.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){p((function(e){return e+1})),u(t),a({resolve:r,reject:n,parentId:e})}))}),[]),h=v.useCallback((function(e){a((function(t){return t&&t.parentId===e?null:t}))}),[]),g=v.useCallback((function(){a(null)}),[]),m=v.useCallback((function(){a((function(e){return e&&e.reject(),null}))}),[]),y=v.useCallback((function(){a((function(e){return e&&e.resolve(),null}))}),[]);return v.useCallback((function(e){return f("global",e)})),R.createElement(v.Fragment,null,R.createElement($x.Provider,{value:{confirmBase:f,closeOnParentUnmount:h}},t),R.createElement(Wx,{key:d,open:null!==i,options:Gx(n,null!=s?s:{}),onClose:g,onCancel:m,onConfirm:y}))},Jx=0;function Qx(){return Hx.apply(null,arguments)}function Xx(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Zx(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function ew(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tw(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(ew(e,t))return!1;return!0}function rw(e){return void 0===e}function nw(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function ow(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function iw(e,t){var r,n=[],o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function aw(e,t){for(var r in t)ew(t,r)&&(e[r]=t[r]);return ew(t,"toString")&&(e.toString=t.toString),ew(t,"valueOf")&&(e.valueOf=t.valueOf),e}function lw(e,t,r,n){return CS(e,t,r,n,!0).utc()}function sw(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function uw(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=sw(e),r=Ux.call(t.parsedDateParts,(function(e){return null!=e})),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function cw(e){var t=lw(NaN);return null!=e?aw(sw(t),e):sw(t).userInvalidated=!0,t}Ux=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var dw=Qx.momentProperties=[],pw=!1;function fw(e,t){var r,n,o,i=dw.length;if(rw(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),rw(t._i)||(e._i=t._i),rw(t._f)||(e._f=t._f),rw(t._l)||(e._l=t._l),rw(t._strict)||(e._strict=t._strict),rw(t._tzm)||(e._tzm=t._tzm),rw(t._isUTC)||(e._isUTC=t._isUTC),rw(t._offset)||(e._offset=t._offset),rw(t._pf)||(e._pf=sw(t)),rw(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)rw(o=t[n=dw[r]])||(e[n]=o);return e}function hw(e){fw(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===pw&&(pw=!0,Qx.updateOffset(this),pw=!1)}function gw(e){return e instanceof hw||null!=e&&null!=e._isAMomentObject}function vw(e){!1===Qx.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function mw(e,t){var r=!0;return aw((function(){if(null!=Qx.deprecationHandler&&Qx.deprecationHandler(null,e),r){var n,o,i,a=[],l=arguments.length;for(o=0;o<l;o++){if(n="","object"==typeof arguments[o]){for(i in n+="\n["+o+"] ",arguments[0])ew(arguments[0],i)&&(n+=i+": "+arguments[0][i]+", ");n=n.slice(0,-2)}else n=arguments[o];a.push(n)}vw(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var yw,bw={};function _w(e,t){null!=Qx.deprecationHandler&&Qx.deprecationHandler(e,t),bw[e]||(vw(t),bw[e]=!0)}function xw(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function ww(e,t){var r,n=aw({},e);for(r in t)ew(t,r)&&(Zx(e[r])&&Zx(t[r])?(n[r]={},aw(n[r],e[r]),aw(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)ew(e,r)&&!ew(t,r)&&Zx(e[r])&&(n[r]=aw({},n[r]));return n}function Ow(e){null!=e&&this.set(e)}Qx.suppressDeprecationWarnings=!1,Qx.deprecationHandler=null,yw=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)ew(e,t)&&r.push(t);return r};function Sw(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var kw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,jw=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ew={},Cw={};function Tw(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Cw[e]=o),t&&(Cw[t[0]]=function(){return Sw(o.apply(this,arguments),t[1],t[2])}),r&&(Cw[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function qw(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Iw(e,t){return e.isValid()?(t=Aw(t,e.localeData()),Ew[t]=Ew[t]||function(e){var t,r,n=e.match(kw);for(t=0,r=n.length;t<r;t++)Cw[n[t]]?n[t]=Cw[n[t]]:n[t]=qw(n[t]);return function(t){var o,i="";for(o=0;o<r;o++)i+=xw(n[o])?n[o].call(t,e):n[o];return i}}(t),Ew[t](e)):e.localeData().invalidDate()}function Aw(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(jw.lastIndex=0;r>=0&&jw.test(e);)e=e.replace(jw,n),jw.lastIndex=0,r-=1;return e}var Lw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Pw(e){return"string"==typeof e?Lw[e]||Lw[e.toLowerCase()]:void 0}function Nw(e){var t,r,n={};for(r in e)ew(e,r)&&(t=Pw(r))&&(n[t]=e[r]);return n}var Fw={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Rw,Mw=/\d/,Dw=/\d\d/,Vw=/\d{3}/,zw=/\d{4}/,Bw=/[+-]?\d{6}/,Hw=/\d\d?/,Uw=/\d\d\d\d?/,$w=/\d\d\d\d\d\d?/,Ww=/\d{1,3}/,Kw=/\d{1,4}/,Gw=/[+-]?\d{1,6}/,Yw=/\d+/,Jw=/[+-]?\d+/,Qw=/Z|[+-]\d\d:?\d\d/gi,Xw=/Z|[+-]\d\d(?::?\d\d)?/gi,Zw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eO=/^[1-9]\d?/,tO=/^([1-9]\d|\d)/;function rO(e,t,r){Rw[e]=xw(t)?t:function(e,n){return e&&r?r:t}}function nO(e,t){return ew(Rw,e)?Rw[e](t._strict,t._locale):new RegExp(function(e){return oO(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o})))}(e))}function oO(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function iO(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function aO(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=iO(t)),r}Rw={};var lO={};function sO(e,t){var r,n,o=t;for("string"==typeof e&&(e=[e]),nw(t)&&(o=function(e,r){r[t]=aO(e)}),n=e.length,r=0;r<n;r++)lO[e[r]]=o}function uO(e,t){sO(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function cO(e,t,r){null!=t&&ew(lO,e)&&lO[e](t,r._a,r,e)}function dO(e){return e%4==0&&e%100!=0||e%400==0}var pO=0,fO=1,hO=2,gO=3,vO=4,mO=5,yO=6,bO=7,_O=8;function xO(e){return dO(e)?366:365}Tw("Y",0,0,(function(){var e=this.year();return e<=9999?Sw(e,4):"+"+e})),Tw(0,["YY",2],0,(function(){return this.year()%100})),Tw(0,["YYYY",4],0,"year"),Tw(0,["YYYYY",5],0,"year"),Tw(0,["YYYYYY",6,!0],0,"year"),rO("Y",Jw),rO("YY",Hw,Dw),rO("YYYY",Kw,zw),rO("YYYYY",Gw,Bw),rO("YYYYYY",Gw,Bw),sO(["YYYYY","YYYYYY"],pO),sO("YYYY",(function(e,t){t[pO]=2===e.length?Qx.parseTwoDigitYear(e):aO(e)})),sO("YY",(function(e,t){t[pO]=Qx.parseTwoDigitYear(e)})),sO("Y",(function(e,t){t[pO]=parseInt(e,10)})),Qx.parseTwoDigitYear=function(e){return aO(e)+(aO(e)>68?1900:2e3)};var wO,OO=SO("FullYear",!0);function SO(e,t){return function(r){return null!=r?(jO(this,e,r),Qx.updateOffset(this,t),this):kO(this,e)}}function kO(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function jO(e,t,r){var n,o,i,a,l;if(e.isValid()&&!isNaN(r)){switch(n=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(o?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(o?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(o?n.setUTCHours(r):n.setHours(r));case"Date":return void(o?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,a=e.month(),l=29!==(l=e.date())||1!==a||dO(i)?l:28,o?n.setUTCFullYear(i,a,l):n.setFullYear(i,a,l)}}function EO(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?dO(e)?29:28:31-r%7%2}wO=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Tw("M",["MM",2],"Mo",(function(){return this.month()+1})),Tw("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Tw("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),rO("M",Hw,eO),rO("MM",Hw,Dw),rO("MMM",(function(e,t){return t.monthsShortRegex(e)})),rO("MMMM",(function(e,t){return t.monthsRegex(e)})),sO(["M","MM"],(function(e,t){t[fO]=aO(e)-1})),sO(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[fO]=o:sw(r).invalidMonth=e}));var CO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),TO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,IO=Zw,AO=Zw;function LO(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=lw([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=wO.call(this._shortMonthsParse,a))?o:null:-1!==(o=wO.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=wO.call(this._shortMonthsParse,a))||-1!==(o=wO.call(this._longMonthsParse,a))?o:null:-1!==(o=wO.call(this._longMonthsParse,a))||-1!==(o=wO.call(this._shortMonthsParse,a))?o:null}function PO(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=aO(t);else if(!nw(t=e.localeData().monthsParse(t)))return e;var r=t,n=e.date();return n=n<29?n:Math.min(n,EO(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function NO(e){return null!=e?(PO(this,e),Qx.updateOffset(this,!0),this):kO(this,"Month")}function FO(){function e(e,t){return t.length-e.length}var t,r,n,o,i=[],a=[],l=[];for(t=0;t<12;t++)r=lw([2e3,t]),n=oO(this.monthsShort(r,"")),o=oO(this.months(r,"")),i.push(n),a.push(o),l.push(o),l.push(n);i.sort(e),a.sort(e),l.sort(e),this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function RO(e,t,r,n,o,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,o,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,o,i,a),l}function MO(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function DO(e,t,r){var n=7+t-r;return-((7+MO(e,0,n).getUTCDay()-t)%7)+n-1}function VO(e,t,r,n,o){var i,a,l=1+7*(t-1)+(7+r-n)%7+DO(e,n,o);return l<=0?a=xO(i=e-1)+l:l>xO(e)?(i=e+1,a=l-xO(e)):(i=e,a=l),{year:i,dayOfYear:a}}function zO(e,t,r){var n,o,i=DO(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+BO(o=e.year()-1,t,r):a>BO(e.year(),t,r)?(n=a-BO(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function BO(e,t,r){var n=DO(e,t,r),o=DO(e+1,t,r);return(xO(e)-n+o)/7}Tw("w",["ww",2],"wo","week"),Tw("W",["WW",2],"Wo","isoWeek"),rO("w",Hw,eO),rO("ww",Hw,Dw),rO("W",Hw,eO),rO("WW",Hw,Dw),uO(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=aO(e)}));function HO(e,t){return e.slice(t,7).concat(e.slice(0,t))}Tw("d",0,"do","day"),Tw("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Tw("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Tw("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Tw("e",0,0,"weekday"),Tw("E",0,0,"isoWeekday"),rO("d",Hw),rO("e",Hw),rO("E",Hw),rO("dd",(function(e,t){return t.weekdaysMinRegex(e)})),rO("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),rO("dddd",(function(e,t){return t.weekdaysRegex(e)})),uO(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:sw(r).invalidWeekday=e})),uO(["d","e","E"],(function(e,t,r,n){t[n]=aO(e)}));var UO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$O="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),WO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KO=Zw,GO=Zw,YO=Zw;function JO(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=lw([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=wO.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=wO.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=wO.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=wO.call(this._weekdaysParse,a))||-1!==(o=wO.call(this._shortWeekdaysParse,a))||-1!==(o=wO.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=wO.call(this._shortWeekdaysParse,a))||-1!==(o=wO.call(this._weekdaysParse,a))||-1!==(o=wO.call(this._minWeekdaysParse,a))?o:null:-1!==(o=wO.call(this._minWeekdaysParse,a))||-1!==(o=wO.call(this._weekdaysParse,a))||-1!==(o=wO.call(this._shortWeekdaysParse,a))?o:null}function QO(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],l=[],s=[],u=[];for(t=0;t<7;t++)r=lw([2e3,1]).day(t),n=oO(this.weekdaysMin(r,"")),o=oO(this.weekdaysShort(r,"")),i=oO(this.weekdays(r,"")),a.push(n),l.push(o),s.push(i),u.push(n),u.push(o),u.push(i);a.sort(e),l.sort(e),s.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function XO(){return this.hours()%12||12}function ZO(e,t){Tw(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function eS(e,t){return t._meridiemParse}Tw("H",["HH",2],0,"hour"),Tw("h",["hh",2],0,XO),Tw("k",["kk",2],0,(function(){return this.hours()||24})),Tw("hmm",0,0,(function(){return""+XO.apply(this)+Sw(this.minutes(),2)})),Tw("hmmss",0,0,(function(){return""+XO.apply(this)+Sw(this.minutes(),2)+Sw(this.seconds(),2)})),Tw("Hmm",0,0,(function(){return""+this.hours()+Sw(this.minutes(),2)})),Tw("Hmmss",0,0,(function(){return""+this.hours()+Sw(this.minutes(),2)+Sw(this.seconds(),2)})),ZO("a",!0),ZO("A",!1),rO("a",eS),rO("A",eS),rO("H",Hw,tO),rO("h",Hw,eO),rO("k",Hw,eO),rO("HH",Hw,Dw),rO("hh",Hw,Dw),rO("kk",Hw,Dw),rO("hmm",Uw),rO("hmmss",$w),rO("Hmm",Uw),rO("Hmmss",$w),sO(["H","HH"],gO),sO(["k","kk"],(function(e,t,r){var n=aO(e);t[gO]=24===n?0:n})),sO(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),sO(["h","hh"],(function(e,t,r){t[gO]=aO(e),sw(r).bigHour=!0})),sO("hmm",(function(e,t,r){var n=e.length-2;t[gO]=aO(e.substr(0,n)),t[vO]=aO(e.substr(n)),sw(r).bigHour=!0})),sO("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[gO]=aO(e.substr(0,n)),t[vO]=aO(e.substr(n,2)),t[mO]=aO(e.substr(o)),sw(r).bigHour=!0})),sO("Hmm",(function(e,t,r){var n=e.length-2;t[gO]=aO(e.substr(0,n)),t[vO]=aO(e.substr(n))})),sO("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[gO]=aO(e.substr(0,n)),t[vO]=aO(e.substr(n,2)),t[mO]=aO(e.substr(o))}));var tS=SO("Hours",!0);var rS,nS={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:CO,monthsShort:TO,week:{dow:0,doy:6},weekdays:UO,weekdaysMin:WO,weekdaysShort:$O,meridiemParse:/[ap]\.?m?\.?/i},oS={},iS={};function aS(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function lS(e){return e?e.toLowerCase().replace("_","-"):e}function sS(e){var t=null;if(void 0===oS[e]&&void 0!==d&&d&&d.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=rS._abbr,require("./locale/"+e),uS(t)}catch(_n){oS[e]=null}return oS[e]}function uS(e,t){var r;return e&&((r=rw(t)?dS(e):cS(e,t))?rS=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rS._abbr}function cS(e,t){if(null!==t){var r,n=nS;if(t.abbr=e,null!=oS[e])_w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=oS[e]._config;else if(null!=t.parentLocale)if(null!=oS[t.parentLocale])n=oS[t.parentLocale]._config;else{if(null==(r=sS(t.parentLocale)))return iS[t.parentLocale]||(iS[t.parentLocale]=[]),iS[t.parentLocale].push({name:e,config:t}),null;n=r._config}return oS[e]=new Ow(ww(n,t)),iS[e]&&iS[e].forEach((function(e){cS(e.name,e.config)})),uS(e),oS[e]}return delete oS[e],null}function dS(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rS;if(!Xx(e)){if(t=sS(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=lS(e[i]).split("-")).length,r=(r=lS(e[i+1]))?r.split("-"):null;t>0;){if(n=sS(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&aS(o,r)>=t-1)break;t--}i++}return rS}(e)}function pS(e){var t,r=e._a;return r&&-2===sw(e).overflow&&(t=r[fO]<0||r[fO]>11?fO:r[hO]<1||r[hO]>EO(r[pO],r[fO])?hO:r[gO]<0||r[gO]>24||24===r[gO]&&(0!==r[vO]||0!==r[mO]||0!==r[yO])?gO:r[vO]<0||r[vO]>59?vO:r[mO]<0||r[mO]>59?mO:r[yO]<0||r[yO]>999?yO:-1,sw(e)._overflowDayOfYear&&(t<pO||t>hO)&&(t=hO),sw(e)._overflowWeeks&&-1===t&&(t=bO),sw(e)._overflowWeekday&&-1===t&&(t=_O),sw(e).overflow=t),e}var fS=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hS=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gS=/Z|[+-]\d\d(?::?\d\d)?/,vS=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yS=/^\/?Date\((-?\d+)/i,bS=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_S={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xS(e){var t,r,n,o,i,a,l=e._i,s=fS.exec(l)||hS.exec(l),u=vS.length,c=mS.length;if(s){for(sw(e).iso=!0,t=0,r=u;t<r;t++)if(vS[t][1].exec(s[1])){o=vS[t][0],n=!1!==vS[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,r=c;t<r;t++)if(mS[t][1].exec(s[3])){i=(s[2]||" ")+mS[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(s[4]){if(!gS.exec(s[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),jS(e)}else e._isValid=!1}function wS(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function OS(e){var t,r,n,o,i,a,l,s,u=bS.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],a=u[6],l=u[7],s=[wS(r),TO.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],l&&s.push(parseInt(l,10)),t=s,!function(e,t,r){return!e||$O.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(sw(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return _S[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),e._d=MO.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),sw(e).rfc2822=!0}else e._isValid=!1}function SS(e,t,r){return null!=e?e:null!=t?t:r}function kS(e){var t,r,n,o,i,a=[];if(!e._d){for(n=function(e){var t=new Date(Qx.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[hO]&&null==e._a[fO]&&function(e){var t,r,n,o,i,a,l,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,r=SS(t.GG,e._a[pO],zO(TS(),1,4).year),n=SS(t.W,1),((o=SS(t.E,1))<1||o>7)&&(s=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=zO(TS(),i,a),r=SS(t.gg,e._a[pO],u.year),n=SS(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(s=!0)):o=i);n<1||n>BO(r,i,a)?sw(e)._overflowWeeks=!0:null!=s?sw(e)._overflowWeekday=!0:(l=VO(r,n,o,i,a),e._a[pO]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(i=SS(e._a[pO],n[pO]),(e._dayOfYear>xO(i)||0===e._dayOfYear)&&(sw(e)._overflowDayOfYear=!0),r=MO(i,0,e._dayOfYear),e._a[fO]=r.getUTCMonth(),e._a[hO]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[gO]&&0===e._a[vO]&&0===e._a[mO]&&0===e._a[yO]&&(e._nextDay=!0,e._a[gO]=0),e._d=(e._useUTC?MO:RO).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gO]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(sw(e).weekdayMismatch=!0)}}function jS(e){if(e._f!==Qx.ISO_8601)if(e._f!==Qx.RFC_2822){e._a=[],sw(e).empty=!0;var t,r,n,o,i,a,l,s=""+e._i,u=s.length,c=0;for(l=(n=Aw(e._f,e._locale).match(kw)||[]).length,t=0;t<l;t++)o=n[t],(r=(s.match(nO(o,e))||[])[0])&&((i=s.substr(0,s.indexOf(r))).length>0&&sw(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Cw[o]?(r?sw(e).empty=!1:sw(e).unusedTokens.push(o),cO(o,r,e)):e._strict&&!r&&sw(e).unusedTokens.push(o);sw(e).charsLeftOver=u-c,s.length>0&&sw(e).unusedInput.push(s),e._a[gO]<=12&&!0===sw(e).bigHour&&e._a[gO]>0&&(sw(e).bigHour=void 0),sw(e).parsedDateParts=e._a.slice(0),sw(e).meridiem=e._meridiem,e._a[gO]=function(e,t,r){var n;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[gO],e._meridiem),null!==(a=sw(e).era)&&(e._a[pO]=e._locale.erasConvertYear(a,e._a[pO])),kS(e),pS(e)}else OS(e);else xS(e)}function ES(e){var t=e._i,r=e._f;return e._locale=e._locale||dS(e._l),null===t||void 0===r&&""===t?cw({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),gw(t)?new hw(pS(t)):(ow(t)?e._d=t:Xx(r)?function(e){var t,r,n,o,i,a,l=!1,s=e._f.length;if(0===s)return sw(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<s;o++)i=0,a=!1,t=fw({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],jS(t),uw(t)&&(a=!0),i+=sw(t).charsLeftOver,i+=10*sw(t).unusedTokens.length,sw(t).score=i,l?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(l=!0));aw(e,r||t)}(e):r?jS(e):function(e){var t=e._i;rw(t)?e._d=new Date(Qx.now()):ow(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=yS.exec(e._i);null===t?(xS(e),!1===e._isValid&&(delete e._isValid,OS(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:Qx.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):Xx(t)?(e._a=iw(t.slice(0),(function(e){return parseInt(e,10)})),kS(e)):Zx(t)?function(e){if(!e._d){var t=Nw(e._i),r=void 0===t.day?t.date:t.day;e._a=iw([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),kS(e)}}(e):nw(t)?e._d=new Date(t):Qx.createFromInputFallback(e)}(e),uw(e)||(e._d=null),e))}function CS(e,t,r,n,o){var i={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(Zx(e)&&tw(e)||Xx(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=r,i._i=e,i._f=t,i._strict=n,function(e){var t=new hw(pS(ES(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(i)}function TS(e,t,r,n){return CS(e,t,r,n,!1)}Qx.createFromInputFallback=mw("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),Qx.ISO_8601=function(){},Qx.RFC_2822=function(){};var qS=mw("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=TS.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:cw()})),IS=mw("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=TS.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:cw()}));function AS(e,t){var r,n;if(1===t.length&&Xx(t[0])&&(t=t[0]),!t.length)return TS();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var LS=["year","quarter","month","week","day","hour","minute","second","millisecond"];function PS(e){var t=Nw(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,s=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,o=LS.length;for(t in e)if(ew(e,t)&&(-1===wO.call(LS,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<o;++r)if(e[LS[r]]){if(n)return!1;parseFloat(e[LS[r]])!==aO(e[LS[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*s+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=dS(),this._bubble()}function NS(e){return e instanceof PS}function FS(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function RS(e,t){Tw(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Sw(~~(e/60),2)+t+Sw(~~e%60,2)}))}RS("Z",":"),RS("ZZ",""),rO("Z",Xw),rO("ZZ",Xw),sO(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=DS(Xw,e)}));var MS=/([\+\-]|\d\d)/gi;function DS(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(MS)||["-",0,0])[1]+aO(r[2]))?0:"+"===r[0]?n:-n}function VS(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(gw(e)||ow(e)?e.valueOf():TS(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Qx.updateOffset(r,!1),r):TS(e).local()}function zS(e){return-Math.round(e._d.getTimezoneOffset())}function BS(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}Qx.updateOffset=function(){};var HS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,US=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $S(e,t){var r,n,o,i=e,a=null;return NS(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:nw(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=HS.exec(e))?(r="-"===a[1]?-1:1,i={y:0,d:aO(a[hO])*r,h:aO(a[gO])*r,m:aO(a[vO])*r,s:aO(a[mO])*r,ms:aO(FS(1e3*a[yO]))*r}):(a=US.exec(e))?(r="-"===a[1]?-1:1,i={y:WS(a[2],r),M:WS(a[3],r),w:WS(a[4],r),d:WS(a[5],r),h:WS(a[6],r),m:WS(a[7],r),s:WS(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=VS(t,e),e.isBefore(t)?r=KS(e,t):((r=KS(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(TS(i.from),TS(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new PS(i),NS(e)&&ew(e,"_locale")&&(n._locale=e._locale),NS(e)&&ew(e,"_isValid")&&(n._isValid=e._isValid),n}function WS(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function KS(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function GS(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(_w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),YS(this,$S(r,n),e),this}}function YS(e,t,r,n){var o=t._milliseconds,i=FS(t._days),a=FS(t._months);e.isValid()&&(n=null==n||n,a&&PO(e,kO(e,"Month")+a*r),i&&jO(e,"Date",kO(e,"Date")+i*r),o&&e._d.setTime(e._d.valueOf()+o*r),n&&Qx.updateOffset(e,i||a))}$S.fn=PS.prototype,$S.invalid=function(){return $S(NaN)};var JS=GS(1,"add"),QS=GS(-1,"subtract");function XS(e){return"string"==typeof e||e instanceof String}function ZS(e){return gw(e)||ow(e)||XS(e)||nw(e)||function(e){var t=Xx(e),r=!1;t&&(r=0===e.filter((function(t){return!nw(t)&&XS(e)})).length);return t&&r}(e)||function(e){var t,r,n=Zx(e)&&!tw(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)r=i[t],o=o||ew(e,r);return n&&o}(e)||null==e}function ek(e,t){if(e.date()<t.date())return-ek(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function tk(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dS(e))&&(this._locale=t),this)}Qx.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Qx.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rk=mw("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function nk(){return this._locale}var ok=1e3,ik=6e4,ak=36e5,lk=126227808e5;function sk(e,t){return(e%t+t)%t}function uk(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-lk:new Date(e,t,r).valueOf()}function ck(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-lk:Date.UTC(e,t,r)}function dk(e,t){return t.erasAbbrRegex(e)}function pk(){var e,t,r,n,o,i=[],a=[],l=[],s=[],u=this.eras();for(e=0,t=u.length;e<t;++e)r=oO(u[e].name),n=oO(u[e].abbr),o=oO(u[e].narrow),a.push(r),i.push(n),l.push(o),s.push(r),s.push(n),s.push(o);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}function fk(e,t){Tw(0,[e,e.length],0,t)}function hk(e,t,r,n,o){var i;return null==e?zO(this,n,o).year:(t>(i=BO(e,n,o))&&(t=i),gk.call(this,e,t,r,n,o))}function gk(e,t,r,n,o){var i=VO(e,t,r,n,o),a=MO(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Tw("N",0,0,"eraAbbr"),Tw("NN",0,0,"eraAbbr"),Tw("NNN",0,0,"eraAbbr"),Tw("NNNN",0,0,"eraName"),Tw("NNNNN",0,0,"eraNarrow"),Tw("y",["y",1],"yo","eraYear"),Tw("y",["yy",2],0,"eraYear"),Tw("y",["yyy",3],0,"eraYear"),Tw("y",["yyyy",4],0,"eraYear"),rO("N",dk),rO("NN",dk),rO("NNN",dk),rO("NNNN",(function(e,t){return t.erasNameRegex(e)})),rO("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),sO(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?sw(r).era=o:sw(r).invalidEra=e})),rO("y",Yw),rO("yy",Yw),rO("yyy",Yw),rO("yyyy",Yw),rO("yo",(function(e,t){return t._eraYearOrdinalRegex||Yw})),sO(["y","yy","yyy","yyyy"],pO),sO(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[pO]=r._locale.eraYearOrdinalParse(e,o):t[pO]=parseInt(e,10)})),Tw(0,["gg",2],0,(function(){return this.weekYear()%100})),Tw(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),fk("gggg","weekYear"),fk("ggggg","weekYear"),fk("GGGG","isoWeekYear"),fk("GGGGG","isoWeekYear"),rO("G",Jw),rO("g",Jw),rO("GG",Hw,Dw),rO("gg",Hw,Dw),rO("GGGG",Kw,zw),rO("gggg",Kw,zw),rO("GGGGG",Gw,Bw),rO("ggggg",Gw,Bw),uO(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=aO(e)})),uO(["gg","GG"],(function(e,t,r,n){t[n]=Qx.parseTwoDigitYear(e)})),Tw("Q",0,"Qo","quarter"),rO("Q",Mw),sO("Q",(function(e,t){t[fO]=3*(aO(e)-1)})),Tw("D",["DD",2],"Do","date"),rO("D",Hw,eO),rO("DD",Hw,Dw),rO("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),sO(["D","DD"],hO),sO("Do",(function(e,t){t[hO]=aO(e.match(Hw)[0])}));var vk=SO("Date",!0);Tw("DDD",["DDDD",3],"DDDo","dayOfYear"),rO("DDD",Ww),rO("DDDD",Vw),sO(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=aO(e)})),Tw("m",["mm",2],0,"minute"),rO("m",Hw,tO),rO("mm",Hw,Dw),sO(["m","mm"],vO);var mk=SO("Minutes",!1);Tw("s",["ss",2],0,"second"),rO("s",Hw,tO),rO("ss",Hw,Dw),sO(["s","ss"],mO);var yk,bk,_k=SO("Seconds",!1);for(Tw("S",0,0,(function(){return~~(this.millisecond()/100)})),Tw(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Tw(0,["SSS",3],0,"millisecond"),Tw(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Tw(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Tw(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Tw(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Tw(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Tw(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),rO("S",Ww,Mw),rO("SS",Ww,Dw),rO("SSS",Ww,Vw),yk="SSSS";yk.length<=9;yk+="S")rO(yk,Yw);function xk(e,t){t[yO]=aO(1e3*("0."+e))}for(yk="S";yk.length<=9;yk+="S")sO(yk,xk);bk=SO("Milliseconds",!1),Tw("z",0,0,"zoneAbbr"),Tw("zz",0,0,"zoneName");var wk=hw.prototype;function Ok(e){return e}wk.add=JS,wk.calendar=function(e,t){1===arguments.length&&(arguments[0]?ZS(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=Zx(e)&&!tw(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||ew(e,o[t]);return r&&n}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||TS(),n=VS(r,this).startOf("day"),o=Qx.calendarFormat(this,n)||"sameElse",i=t&&(xw(t[o])?t[o].call(this,r):t[o]);return this.format(i||this.localeData().calendar(o,this,TS(r)))},wk.clone=function(){return new hw(this)},wk.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=VS(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=Pw(t)){case"year":i=ek(this,n)/12;break;case"month":i=ek(this,n);break;case"quarter":i=ek(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:iO(i)},wk.endOf=function(e){var t,r;if(void 0===(e=Pw(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?ck:uk,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ak-sk(t+(this._isUTC?0:this.utcOffset()*ik),ak)-1;break;case"minute":t=this._d.valueOf(),t+=ik-sk(t,ik)-1;break;case"second":t=this._d.valueOf(),t+=ok-sk(t,ok)-1}return this._d.setTime(t),Qx.updateOffset(this,!0),this},wk.format=function(e){e||(e=this.isUtc()?Qx.defaultFormatUtc:Qx.defaultFormat);var t=Iw(this,e);return this.localeData().postformat(t)},wk.from=function(e,t){return this.isValid()&&(gw(e)&&e.isValid()||TS(e).isValid())?$S({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wk.fromNow=function(e){return this.from(TS(),e)},wk.to=function(e,t){return this.isValid()&&(gw(e)&&e.isValid()||TS(e).isValid())?$S({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wk.toNow=function(e){return this.to(TS(),e)},wk.get=function(e){return xw(this[e=Pw(e)])?this[e]():this},wk.invalidAt=function(){return sw(this).overflow},wk.isAfter=function(e,t){var r=gw(e)?e:TS(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Pw(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},wk.isBefore=function(e,t){var r=gw(e)?e:TS(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Pw(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},wk.isBetween=function(e,t,r,n){var o=gw(e)?e:TS(e),i=gw(t)?t:TS(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},wk.isSame=function(e,t){var r,n=gw(e)?e:TS(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Pw(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},wk.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wk.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wk.isValid=function(){return uw(this)},wk.lang=rk,wk.locale=tk,wk.localeData=nk,wk.max=IS,wk.min=qS,wk.parsingFlags=function(){return aw({},sw(this))},wk.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)ew(e,t)&&r.push({unit:t,priority:Fw[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=Nw(e)),o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(xw(this[e=Pw(e)]))return this[e](t);return this},wk.startOf=function(e){var t,r;if(void 0===(e=Pw(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?ck:uk,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sk(t+(this._isUTC?0:this.utcOffset()*ik),ak);break;case"minute":t=this._d.valueOf(),t-=sk(t,ik);break;case"second":t=this._d.valueOf(),t-=sk(t,ok)}return this._d.setTime(t),Qx.updateOffset(this,!0),this},wk.subtract=QS,wk.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wk.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wk.toDate=function(){return new Date(this.valueOf())},wk.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Iw(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xw(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Iw(r,"Z")):Iw(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wk.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(wk[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),wk.toJSON=function(){return this.isValid()?this.toISOString():null},wk.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wk.unix=function(){return Math.floor(this.valueOf()/1e3)},wk.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wk.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wk.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},wk.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},wk.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},wk.eraYear=function(){var e,t,r,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-Qx(o[e].since).year())*r+o[e].offset;return this.year()},wk.year=OO,wk.isLeapYear=function(){return dO(this.year())},wk.weekYear=function(e){return hk.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},wk.isoWeekYear=function(e){return hk.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wk.quarter=wk.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wk.month=NO,wk.daysInMonth=function(){return EO(this.year(),this.month())},wk.week=wk.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wk.isoWeek=wk.isoWeeks=function(e){var t=zO(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wk.weeksInYear=function(){var e=this.localeData()._week;return BO(this.year(),e.dow,e.doy)},wk.weeksInWeekYear=function(){var e=this.localeData()._week;return BO(this.weekYear(),e.dow,e.doy)},wk.isoWeeksInYear=function(){return BO(this.year(),1,4)},wk.isoWeeksInISOWeekYear=function(){return BO(this.isoWeekYear(),1,4)},wk.date=vk,wk.day=wk.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=kO(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wk.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wk.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wk.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wk.hour=wk.hours=tS,wk.minute=wk.minutes=mk,wk.second=wk.seconds=_k,wk.millisecond=wk.milliseconds=bk,wk.utcOffset=function(e,t,r){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=DS(Xw,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=zS(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?YS(this,$S(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Qx.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:zS(this)},wk.utc=function(e){return this.utcOffset(0,e)},wk.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zS(this),"m")),this},wk.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=DS(Qw,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wk.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?TS(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wk.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wk.isLocal=function(){return!!this.isValid()&&!this._isUTC},wk.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wk.isUtc=BS,wk.isUTC=BS,wk.zoneAbbr=function(){return this._isUTC?"UTC":""},wk.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wk.dates=mw("dates accessor is deprecated. Use date instead.",vk),wk.months=mw("months accessor is deprecated. Use month instead",NO),wk.years=mw("years accessor is deprecated. Use year instead",OO),wk.zone=mw("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),wk.isDSTShifted=mw("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!rw(this._isDSTShifted))return this._isDSTShifted;var e,t={};return fw(t,this),(t=ES(t))._a?(e=t._isUTC?lw(t._a):TS(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)aO(e[n])!==aO(t[n])&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Sk=Ow.prototype;function kk(e,t,r,n){var o=dS(),i=lw().set(n,t);return o[r](i,e)}function jk(e,t,r){if(nw(e)&&(t=e,e=void 0),e=e||"",null!=t)return kk(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=kk(e,n,r,"month");return o}function Ek(e,t,r,n){"boolean"==typeof e?(nw(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,nw(t)&&(r=t,t=void 0),t=t||"");var o,i=dS(),a=e?i._week.dow:0,l=[];if(null!=r)return kk(t,(r+a)%7,n,"day");for(o=0;o<7;o++)l[o]=kk(t,(o+a)%7,n,"day");return l}Sk.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return xw(n)?n.call(t,r):n},Sk.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(kw).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Sk.invalidDate=function(){return this._invalidDate},Sk.ordinal=function(e){return this._ordinal.replace("%d",e)},Sk.preparse=Ok,Sk.postformat=Ok,Sk.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return xw(o)?o(e,t,r,n):o.replace(/%d/i,e)},Sk.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return xw(r)?r(t):r.replace(/%s/i,t)},Sk.set=function(e){var t,r;for(r in e)ew(e,r)&&(xw(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Sk.eras=function(e,t){var r,n,o,i=this._eras||dS("en")._eras;for(r=0,n=i.length;r<n;++r){if("string"==typeof i[r].since)o=Qx(i[r].since).startOf("day"),i[r].since=o.valueOf();switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":o=Qx(i[r].until).startOf("day").valueOf(),i[r].until=o.valueOf()}}return i},Sk.erasParse=function(e,t,r){var n,o,i,a,l,s=this.eras();for(e=e.toUpperCase(),n=0,o=s.length;n<o;++n)if(i=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n]}else if([i,a,l].indexOf(e)>=0)return s[n]},Sk.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?Qx(e.since).year():Qx(e.since).year()+(t-e.offset)*r},Sk.erasAbbrRegex=function(e){return ew(this,"_erasAbbrRegex")||pk.call(this),e?this._erasAbbrRegex:this._erasRegex},Sk.erasNameRegex=function(e){return ew(this,"_erasNameRegex")||pk.call(this),e?this._erasNameRegex:this._erasRegex},Sk.erasNarrowRegex=function(e){return ew(this,"_erasNarrowRegex")||pk.call(this),e?this._erasNarrowRegex:this._erasRegex},Sk.months=function(e,t){return e?Xx(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qO).test(t)?"format":"standalone"][e.month()]:Xx(this._months)?this._months:this._months.standalone},Sk.monthsShort=function(e,t){return e?Xx(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qO.test(t)?"format":"standalone"][e.month()]:Xx(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Sk.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return LO.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=lw([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},Sk.monthsRegex=function(e){return this._monthsParseExact?(ew(this,"_monthsRegex")||FO.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ew(this,"_monthsRegex")||(this._monthsRegex=AO),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Sk.monthsShortRegex=function(e){return this._monthsParseExact?(ew(this,"_monthsRegex")||FO.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ew(this,"_monthsShortRegex")||(this._monthsShortRegex=IO),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Sk.week=function(e){return zO(e,this._week.dow,this._week.doy).week},Sk.firstDayOfYear=function(){return this._week.doy},Sk.firstDayOfWeek=function(){return this._week.dow},Sk.weekdays=function(e,t){var r=Xx(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?HO(r,this._week.dow):e?r[e.day()]:r},Sk.weekdaysMin=function(e){return!0===e?HO(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Sk.weekdaysShort=function(e){return!0===e?HO(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Sk.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return JO.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=lw([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},Sk.weekdaysRegex=function(e){return this._weekdaysParseExact?(ew(this,"_weekdaysRegex")||QO.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ew(this,"_weekdaysRegex")||(this._weekdaysRegex=KO),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Sk.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(ew(this,"_weekdaysRegex")||QO.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ew(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=GO),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Sk.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(ew(this,"_weekdaysRegex")||QO.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ew(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=YO),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Sk.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Sk.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},uS("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===aO(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Qx.lang=mw("moment.lang is deprecated. Use moment.locale instead.",uS),Qx.langData=mw("moment.langData is deprecated. Use moment.localeData instead.",dS);var Ck=Math.abs;function Tk(e,t,r,n){var o=$S(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function qk(e){return e<0?Math.floor(e):Math.ceil(e)}function Ik(e){return 4800*e/146097}function Ak(e){return 146097*e/4800}function Lk(e){return function(){return this.as(e)}}var Pk=Lk("ms"),Nk=Lk("s"),Fk=Lk("m"),Rk=Lk("h"),Mk=Lk("d"),Dk=Lk("w"),Vk=Lk("M"),zk=Lk("Q"),Bk=Lk("y"),Hk=Pk;function Uk(e){return function(){return this.isValid()?this._data[e]:NaN}}var $k=Uk("milliseconds"),Wk=Uk("seconds"),Kk=Uk("minutes"),Gk=Uk("hours"),Yk=Uk("days"),Jk=Uk("months"),Qk=Uk("years");var Xk=Math.round,Zk={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ej(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var tj=Math.abs;function rj(e){return(e>0)-(e<0)||+e}function nj(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,l,s=tj(this._milliseconds)/1e3,u=tj(this._days),c=tj(this._months),d=this.asSeconds();return d?(e=iO(s/60),t=iO(e/60),s%=60,e%=60,r=iO(c/12),c%=12,n=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=rj(this._months)!==rj(d)?"-":"",a=rj(this._days)!==rj(d)?"-":"",l=rj(this._milliseconds)!==rj(d)?"-":"",o+"P"+(r?i+r+"Y":"")+(c?i+c+"M":"")+(u?a+u+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+n+"S":"")):"P0D"}var oj=PS.prototype;oj.isValid=function(){return this._isValid},oj.abs=function(){var e=this._data;return this._milliseconds=Ck(this._milliseconds),this._days=Ck(this._days),this._months=Ck(this._months),e.milliseconds=Ck(e.milliseconds),e.seconds=Ck(e.seconds),e.minutes=Ck(e.minutes),e.hours=Ck(e.hours),e.months=Ck(e.months),e.years=Ck(e.years),this},oj.add=function(e,t){return Tk(this,e,t,1)},oj.subtract=function(e,t){return Tk(this,e,t,-1)},oj.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=Pw(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Ik(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Ak(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},oj.asMilliseconds=Pk,oj.asSeconds=Nk,oj.asMinutes=Fk,oj.asHours=Rk,oj.asDays=Mk,oj.asWeeks=Dk,oj.asMonths=Vk,oj.asQuarters=zk,oj.asYears=Bk,oj.valueOf=Hk,oj._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,l=this._months,s=this._data;return i>=0&&a>=0&&l>=0||i<=0&&a<=0&&l<=0||(i+=864e5*qk(Ak(l)+a),a=0,l=0),s.milliseconds=i%1e3,e=iO(i/1e3),s.seconds=e%60,t=iO(e/60),s.minutes=t%60,r=iO(t/60),s.hours=r%24,a+=iO(r/24),l+=o=iO(Ik(a)),a-=qk(Ak(o)),n=iO(l/12),l%=12,s.days=a,s.months=l,s.years=n,this},oj.clone=function(){return $S(this)},oj.get=function(e){return e=Pw(e),this.isValid()?this[e+"s"]():NaN},oj.milliseconds=$k,oj.seconds=Wk,oj.minutes=Kk,oj.hours=Gk,oj.days=Yk,oj.weeks=function(){return iO(this.days()/7)},oj.months=Jk,oj.years=Qk,oj.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=Zk;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Zk,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=function(e,t,r,n){var o=$S(e).abs(),i=Xk(o.as("s")),a=Xk(o.as("m")),l=Xk(o.as("h")),s=Xk(o.as("d")),u=Xk(o.as("M")),c=Xk(o.as("w")),d=Xk(o.as("y")),p=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||s<=1&&["d"]||s<r.d&&["dd",s];return null!=r.w&&(p=p||c<=1&&["w"]||c<r.w&&["ww",c]),(p=p||u<=1&&["M"]||u<r.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=n,ej.apply(null,p)}(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},oj.toISOString=nj,oj.toString=nj,oj.toJSON=nj,oj.locale=tk,oj.localeData=nk,oj.toIsoString=mw("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nj),oj.lang=rk,Tw("X",0,0,"unix"),Tw("x",0,0,"valueOf"),rO("x",Jw),rO("X",/[+-]?\d+(\.\d{1,3})?/),sO("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),sO("x",(function(e,t,r){r._d=new Date(aO(e))})),//! moment.js
Qx.version="2.30.1",Hx=TS,Qx.fn=wk,Qx.min=function(){return AS("isBefore",[].slice.call(arguments,0))},Qx.max=function(){return AS("isAfter",[].slice.call(arguments,0))},Qx.now=function(){return Date.now?Date.now():+new Date},Qx.utc=lw,Qx.unix=function(e){return TS(1e3*e)},Qx.months=function(e,t){return jk(e,t,"months")},Qx.isDate=ow,Qx.locale=uS,Qx.invalid=cw,Qx.duration=$S,Qx.isMoment=gw,Qx.weekdays=function(e,t,r){return Ek(e,t,r,"weekdays")},Qx.parseZone=function(){return TS.apply(null,arguments).parseZone()},Qx.localeData=dS,Qx.isDuration=NS,Qx.monthsShort=function(e,t){return jk(e,t,"monthsShort")},Qx.weekdaysMin=function(e,t,r){return Ek(e,t,r,"weekdaysMin")},Qx.defineLocale=cS,Qx.updateLocale=function(e,t){if(null!=t){var r,n,o=nS;null!=oS[e]&&null!=oS[e].parentLocale?oS[e].set(ww(oS[e]._config,t)):(null!=(n=sS(e))&&(o=n._config),t=ww(o,t),null==n&&(t.abbr=e),(r=new Ow(t)).parentLocale=oS[e],oS[e]=r),uS(e)}else null!=oS[e]&&(null!=oS[e].parentLocale?(oS[e]=oS[e].parentLocale,e===uS()&&uS(e)):null!=oS[e]&&delete oS[e]);return oS[e]},Qx.locales=function(){return yw(oS)},Qx.weekdaysShort=function(e,t,r){return Ek(e,t,r,"weekdaysShort")},Qx.normalizeUnits=Pw,Qx.relativeTimeRounding=function(e){return void 0===e?Xk:"function"==typeof e&&(Xk=e,!0)},Qx.relativeTimeThreshold=function(e,t){return void 0!==Zk[e]&&(void 0===t?Zk[e]:(Zk[e]=t,"s"===e&&(Zk.ss=t-1),!0))},Qx.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},Qx.prototype=wk,Qx.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const ij={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class aj{constructor({locale:e,formats:t,instance:r}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=e=>{var t,r;return null!==(r=null===(t=e.match(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g))||void 0===t?void 0:t.map((e=>{const t=e[0];return"L"===t||";"===t?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(e):e})).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())&&void 0!==r?r:e},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=e=>this.moment(e,!0),this.toISO=e=>e.toISOString(),this.parse=(e,t)=>""===e?null:this.locale?this.moment(e,t,this.locale,!0):this.moment(e,t,!0),this.date=e=>{if(null===e)return null;const t=this.moment(e);return this.locale&&t.locale(this.locale),t},this.toJsDate=e=>e.toDate(),this.isValid=e=>this.moment(e).isValid(),this.isNull=e=>null===e,this.getDiff=(e,t,r)=>this.moment(t).isValid()?e.diff(t,r):0,this.isAfter=(e,t)=>e.isAfter(t),this.isBefore=(e,t)=>e.isBefore(t),this.isAfterDay=(e,t)=>e.isAfter(t,"day"),this.isBeforeDay=(e,t)=>e.isBefore(t,"day"),this.isBeforeMonth=(e,t)=>e.isBefore(t,"month"),this.isAfterMonth=(e,t)=>e.isAfter(t,"month"),this.isBeforeYear=(e,t)=>e.isBefore(t,"year"),this.isAfterYear=(e,t)=>e.isAfter(t,"year"),this.startOfDay=e=>e.clone().startOf("day"),this.endOfDay=e=>e.clone().endOf("day"),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>{const r=e.clone();return this.locale&&r.locale(this.locale),r.format(t)},this.formatNumber=e=>e,this.getHours=e=>e.get("hours"),this.addSeconds=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"seconds"):e.clone().add(t,"seconds"),this.addMinutes=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"minutes"):e.clone().add(t,"minutes"),this.addHours=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"hours"):e.clone().add(t,"hours"),this.addDays=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"days"):e.clone().add(t,"days"),this.addWeeks=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"weeks"):e.clone().add(t,"weeks"),this.addMonths=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"months"):e.clone().add(t,"months"),this.addYears=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"years"):e.clone().add(t,"years"),this.setHours=(e,t)=>e.clone().hours(t),this.getMinutes=e=>e.get("minutes"),this.setMinutes=(e,t)=>e.clone().minutes(t),this.getSeconds=e=>e.get("seconds"),this.setSeconds=(e,t)=>e.clone().seconds(t),this.getMonth=e=>e.get("month"),this.getDaysInMonth=e=>e.daysInMonth(),this.isSameDay=(e,t)=>e.isSame(t,"day"),this.isSameMonth=(e,t)=>e.isSame(t,"month"),this.isSameYear=(e,t)=>e.isSame(t,"year"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.setMonth=(e,t)=>e.clone().month(t),this.getMeridiemText=e=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem("am"===e?0:13,0,!1):"am"===e?"AM":"PM",this.startOfYear=e=>e.clone().startOf("year"),this.endOfYear=e=>e.clone().endOf("year"),this.startOfMonth=e=>e.clone().startOf("month"),this.endOfMonth=e=>e.clone().endOf("month"),this.startOfWeek=e=>e.clone().startOf("week"),this.endOfWeek=e=>e.clone().endOf("week"),this.getNextMonth=e=>e.clone().add(1,"month"),this.getPreviousMonth=e=>e.clone().subtract(1,"month"),this.getMonthArray=e=>{const t=[e.clone().startOf("year")];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.getYear=e=>e.get("year"),this.setYear=(e,t)=>e.clone().set("year",t),this.getDate=e=>e.get("date"),this.setDate=(e,t)=>e.clone().set("date",t),this.mergeDateAndTime=(e,t)=>e.hour(t.hour()).minute(t.minute()).second(t.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(e,t)=>null===e&&null===t||this.moment(e).isSame(t),this.getWeekArray=e=>{const t=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week");let n=0,o=t;const i=[];for(;o.isBefore(r);){const e=Math.floor(n/7);i[e]=i[e]||[],i[e].push(o),o=o.clone().add(1,"day"),n+=1}return i},this.getYearRange=(e,t)=>{const r=this.moment(e).startOf("year"),n=this.moment(t).endOf("year"),o=[];let i=r;for(;i.isBefore(n);)o.push(i),i=i.clone().add(1,"year");return o},this.isWithinRange=(e,[t,r])=>e.isBetween(t,r,null,"[]"),this.moment=r||Qx,this.locale=e,this.formats=Object.assign({},ij,t)}}const lj={name:"@mui/x-date-pickers",version:"5.0.20",description:"The community edition of the date picker components (MUI X).",author:"MUI Team",main:"./node/index.js",license:"MIT",bugs:{url:"https://github.com/mui/mui-x/issues"},homepage:"https://mui.com/x/react-date-pickers/getting-started/",funding:{type:"opencollective",url:"https://opencollective.com/mui"},sideEffects:!1,publishConfig:{access:"public"},keywords:["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],repository:{type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},dependencies:{"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},peerDependencies:{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},peerDependenciesMeta:{"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},setupFiles:["<rootDir>/src/setupTests.js"],engines:{node:">=12.0.0"},private:!1,module:"./index.js",types:"./index.d.ts"};function sj(e){return function(e){if(Array.isArray(e))return z(e)}(e)||B(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uj="delete",cj=5,dj=1<<cj,pj=dj-1,fj={};function hj(e){e&&(e.value=!0)}function gj(){}function vj(e){return void 0===e.size&&(e.size=e.__iterate(yj)),e.size}function mj(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?vj(e)+t:t}function yj(){return!0}function bj(e,t,r){return(0===e&&!Oj(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function _j(e,t){return wj(e,t,0)}function xj(e,t){return wj(e,t,t)}function wj(e,t,r){return void 0===e?r:Oj(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function Oj(e){return e<0||0===e&&1/e==-1/0}var Sj="@@__IMMUTABLE_ITERABLE__@@";function kj(e){return Boolean(e&&e[Sj])}var jj="@@__IMMUTABLE_KEYED__@@";function Ej(e){return Boolean(e&&e[jj])}var Cj="@@__IMMUTABLE_INDEXED__@@";function Tj(e){return Boolean(e&&e[Cj])}function qj(e){return Ej(e)||Tj(e)}var Ij=function(e){return kj(e)?e:nE(e)},Aj=function(e){function t(e){return Ej(e)?e:oE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ij),Lj=function(e){function t(e){return Tj(e)?e:iE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ij),Pj=function(e){function t(e){return kj(e)&&!qj(e)?e:aE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ij);Ij.Keyed=Aj,Ij.Indexed=Lj,Ij.Set=Pj;var Nj="@@__IMMUTABLE_SEQ__@@";function Fj(e){return Boolean(e&&e[Nj])}var Rj="@@__IMMUTABLE_RECORD__@@";function Mj(e){return Boolean(e&&e[Rj])}function Dj(e){return kj(e)||Mj(e)}var Vj="@@__IMMUTABLE_ORDERED__@@";function zj(e){return Boolean(e&&e[Vj])}var Bj=0,Hj=1,Uj=2,$j="function"==typeof Symbol&&Symbol.iterator,Wj="@@iterator",Kj=$j||Wj,Gj=function(e){this.next=e};function Yj(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function Jj(){return{value:void 0,done:!0}}function Qj(e){return!!Array.isArray(e)||!!eE(e)}function Xj(e){return e&&"function"==typeof e.next}function Zj(e){var t=eE(e);return t&&t.call(e)}function eE(e){var t=e&&($j&&e[$j]||e[Wj]);if("function"==typeof t)return t}Gj.prototype.toString=function(){return"[Iterator]"},Gj.KEYS=Bj,Gj.VALUES=Hj,Gj.ENTRIES=Uj,Gj.prototype.inspect=Gj.prototype.toSource=function(){return this.toString()},Gj.prototype[Kj]=function(){return this};var tE=Object.prototype.hasOwnProperty;function rE(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var nE=function(e){function t(e){return null==e?dE():Dj(e)?e.toSeq():function(e){var t=hE(e);if(t)return(n=eE(r=e))&&n===r.entries?t.fromEntrySeq():function(e){var t=eE(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var r,n;if("object"==typeof e)return new sE(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[t?n-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,o=0;return new Gj((function(){if(o===n)return{value:void 0,done:!0};var i=r[t?n-++o:o++];return Yj(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(Ij),oE=function(e){function t(e){return null==e?dE().toKeyedSeq():kj(e)?Ej(e)?e.toSeq():e.fromEntrySeq():Mj(e)?e.toSeq():pE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(nE),iE=function(e){function t(e){return null==e?dE():kj(e)?Ej(e)?e.entrySeq():e.toIndexedSeq():Mj(e)?e.toSeq().entrySeq():fE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(nE),aE=function(e){function t(e){return(kj(e)&&!qj(e)?e:iE(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(nE);nE.isSeq=Fj,nE.Keyed=oE,nE.Set=aE,nE.Indexed=iE,nE.prototype[Nj]=!0;var lE=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[mj(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,o=0;o!==n;){var i=t?n-++o:o++;if(!1===e(r[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,o=0;return new Gj((function(){if(o===n)return{value:void 0,done:!0};var i=t?n-++o:o++;return Yj(e,i,r[i])}))},t}(iE),sE=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return tE.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var a=n[t?o-++i:i++];if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length,i=0;return new Gj((function(){if(i===o)return{value:void 0,done:!0};var a=n[t?o-++i:i++];return Yj(e,a,r[a])}))},t}(oE);sE.prototype[Vj]=!0;var uE,cE=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=Zj(this._collection),n=0;if(Xj(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=Zj(this._collection);if(!Xj(r))return new Gj(Jj);var n=0;return new Gj((function(){var t=r.next();return t.done?t:Yj(e,n++,t.value)}))},t}(iE);function dE(){return uE||(uE=new lE([]))}function pE(e){var t=hE(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new sE(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function fE(e){var t=hE(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function hE(e){return rE(e)?new lE(e):Qj(e)?new cE(e):void 0}var gE="@@__IMMUTABLE_MAP__@@";function vE(e){return Boolean(e&&e[gE])}function mE(e){return vE(e)&&zj(e)}function yE(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function bE(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(yE(e)&&yE(t)&&e.equals(t))}var _E="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function xE(e){return e>>>1&1073741824|3221225471&e}var wE=Object.prototype.valueOf;function OE(e){if(null==e)return SE(e);if("function"==typeof e.hashCode)return xE(e.hashCode(e));var t,r=(t=e).valueOf!==wE&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==r)return SE(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return xE(t)}(r);case"string":return r.length>PE?function(e){var t=RE[e];void 0===t&&(t=kE(e),FE===NE&&(FE=0,RE={}),FE++,RE[e]=t);return t}(r):kE(r);case"object":case"function":return function(e){var t;if(qE&&void 0!==(t=TE.get(e)))return t;if(t=e[LE],void 0!==t)return t;if(!EE){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[LE]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=CE(),qE)TE.set(e,t);else{if(void 0!==jE&&!1===jE(e))throw new Error("Non-extensible objects are not allowed as keys.");if(EE)Object.defineProperty(e,LE,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[LE]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[LE]=t}}return t}(r);case"symbol":return function(e){var t=IE[e];if(void 0!==t)return t;return t=CE(),IE[e]=t,t}(r);default:if("function"==typeof r.toString)return kE(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function SE(e){return null===e?1108378658:1108378659}function kE(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return xE(t)}var jE=Object.isExtensible,EE=function(){try{return Object.defineProperty({},"@",{}),!0}catch(_n){return!1}}();function CE(){var e=++AE;return 1073741824&AE&&(AE=0),e}var TE,qE="function"==typeof WeakMap;qE&&(TE=new WeakMap);var IE=Object.create(null),AE=0,LE="__immutablehash__";"function"==typeof Symbol&&(LE=Symbol(LE));var PE=16,NE=255,FE=0,RE={},ME=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=UE(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=HE(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(oE);ME.prototype[Vj]=!0;var DE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&vj(this),this._iter.__iterate((function(o){return e(o,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(Hj,t),o=0;return t&&vj(this),new Gj((function(){var i=n.next();return i.done?i:Yj(e,t?r.size-++o:o++,i.value,i)}))},t}(iE),VE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(Hj,t);return new Gj((function(){var t=r.next();return t.done?t:Yj(e,t.value,t.value,t)}))},t}(aE),zE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){eC(t);var n=kj(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(Hj,t);return new Gj((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){eC(n);var o=kj(n);return Yj(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},t}(oE);function BE(e){var t=rC(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=nC,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===Uj){var n=e.__iterator(t,r);return new Gj((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===Hj?Bj:Hj,r)},t}function HE(e,t,r){var n=rC(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,fj);return i===fj?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(Uj,o);return new Gj((function(){var o=i.next();if(o.done)return o;var a=o.value,l=a[0];return Yj(n,l,t.call(r,a[1],l,e),o)}))},n}function UE(e,t){var r=this,n=rC(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=BE(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=nC,n.__iterate=function(r,n){var o=this,i=0;return n&&vj(e),e.__iterate((function(e,a){return r(e,t?a:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&vj(e);var a=e.__iterator(Uj,!o);return new Gj((function(){var e=a.next();if(e.done)return e;var l=e.value;return Yj(n,t?l[0]:o?r.size-++i:i++,l[1],e)}))},n}function $E(e,t,r,n){var o=rC(e);return n&&(o.has=function(n){var o=e.get(n,fj);return o!==fj&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,fj);return i!==fj&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,l=0;return e.__iterate((function(e,i,s){if(t.call(r,e,i,s))return l++,o(e,n?i:l-1,a)}),i),l},o.__iteratorUncached=function(o,i){var a=e.__iterator(Uj,i),l=0;return new Gj((function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,u=s[0],c=s[1];if(t.call(r,c,u,e))return Yj(o,n?u:l++,c,i)}}))},o}function WE(e,t,r,n){var o=e.size;if(bj(t,r,o))return e;if(void 0===o&&(t<0||r<0))return WE(e.toSeq().cacheResult(),t,r,n);var i,a=_j(t,o),l=xj(r,o)-a;l==l&&(i=l<0?0:l);var s=rC(e);return s.size=0===i?i:e.size&&i||void 0,!n&&Fj(e)&&i>=0&&(s.get=function(t,r){return(t=mj(this,t))>=0&&t<i?e.get(t+a,r):r}),s.__iterateUncached=function(t,r){var o=this;if(0===i)return 0;if(r)return this.cacheResult().__iterate(t,r);var l=0,s=!0,u=0;return e.__iterate((function(e,r){if(!s||!(s=l++<a))return u++,!1!==t(e,n?r:u-1,o)&&u!==i})),u},s.__iteratorUncached=function(t,r){if(0!==i&&r)return this.cacheResult().__iterator(t,r);if(0===i)return new Gj(Jj);var o=e.__iterator(t,r),l=0,s=0;return new Gj((function(){for(;l++<a;)o.next();if(++s>i)return{value:void 0,done:!0};var e=o.next();return n||t===Hj||e.done?e:Yj(t,s-1,t===Bj?void 0:e.value[1],e)}))},s}function KE(e,t,r,n){var o=rC(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var l=!0,s=0;return e.__iterate((function(e,i,u){if(!l||!(l=t.call(r,e,i,u)))return s++,o(e,n?i:s-1,a)})),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var l=e.__iterator(Uj,i),s=!0,u=0;return new Gj((function(){var e,i,c;do{if((e=l.next()).done)return n||o===Hj?e:Yj(o,u++,o===Bj?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],s&&(s=t.call(r,c,i,a))}while(s);return o===Uj?e:Yj(o,i,c,e)}))},o}function GE(e,t,r){var n=rC(e);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,l=!1;return function e(s,u){s.__iterate((function(i,s){return(!t||u<t)&&kj(i)?e(i,u+1):(a++,!1===o(i,r?s:a-1,n)&&(l=!0)),!l}),i)}(e,0),a},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(n,o),a=[],l=0;return new Gj((function(){for(;i;){var e=i.next();if(!1===e.done){var s=e.value;if(n===Uj&&(s=s[1]),t&&!(a.length<t)||!kj(s))return r?e:Yj(n,l++,s,e);a.push(i),i=s.__iterator(n,o)}else i=a.pop()}return{value:void 0,done:!0}}))},n}function YE(e,t,r){t||(t=oC);var n=Ej(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).valueSeq().toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?oE(i):Tj(e)?iE(i):aE(i)}function JE(e,t,r){if(t||(t=oC),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return QE(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return QE(t,e,r)?r:e}))}function QE(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function XE(e,t,r,n){var o=rC(e),i=new lE(r).map((function(e){return e.size}));return o.size=n?i.max():i.min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(Hj,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=Ij(e),Zj(o?e.reverse():e)})),a=0,l=!1;return new Gj((function(){var r;return l||(r=i.map((function(e){return e.next()})),l=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),l?{value:void 0,done:!0}:Yj(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function ZE(e,t){return e===t?e:Fj(e)?t:e.constructor(t)}function eC(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function tC(e){return Ej(e)?Aj:Tj(e)?Lj:Pj}function rC(e){return Object.create((Ej(e)?oE:Tj(e)?iE:aE).prototype)}function nC(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):nE.prototype.cacheResult.call(this)}function oC(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function iC(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function aC(e,t){if(!e)throw new Error(t)}function lC(e){aC(e!==1/0,"Cannot perform this action with an infinite size.")}function sC(e){if(rE(e)&&"string"!=typeof e)return e;if(zj(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}DE.prototype.cacheResult=ME.prototype.cacheResult=VE.prototype.cacheResult=zE.prototype.cacheResult=nC;var uC=Object.prototype.toString;function cC(e){if(!e||"object"!=typeof e||"[object Object]"!==uC.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function dC(e){return"object"==typeof e&&(Dj(e)||Array.isArray(e)||cC(e))}function pC(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function fC(e,t){return Dj(e)?e.has(t):dC(e)&&tE.call(e,t)}function hC(e,t,r){return Dj(e)?e.get(t,r):fC(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function gC(e){if(Array.isArray(e))return iC(e);var t={};for(var r in e)tE.call(e,r)&&(t[r]=e[r]);return t}function vC(e,t){if(!dC(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Dj(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!tE.call(e,t))return e;var r=gC(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function mC(e,t,r){if(!dC(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Dj(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(tE.call(e,t)&&r===e[t])return e;var n=gC(e);return n[t]=r,n}function yC(e,t,r,n){n||(n=r,r=void 0);var o=bC(Dj(e),e,sC(t),0,r,n);return o===fj?r:o}function bC(e,t,r,n,o,i){var a=t===fj;if(n===r.length){var l=a?o:t,s=i(l);return s===l?t:s}if(!a&&!dC(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(pC)+"]: "+t);var u=r[n],c=a?fj:hC(t,u,fj),d=bC(c===fj?e:Dj(c),c,r,n+1,o,i);return d===c?t:d===fj?vC(t,u):mC(a?e?XC():{}:t,u,d)}function _C(e,t,r){return yC(e,t,fj,(function(){return r}))}function xC(e,t){return _C(this,e,t)}function wC(e,t){return yC(e,t,(function(){return fj}))}function OC(e){return wC(this,e)}function SC(e,t,r,n){return yC(e,[t],r,n)}function kC(e,t,r){return 1===arguments.length?e(this):SC(this,e,t,r)}function jC(e,t,r){return yC(this,e,t,r)}function EC(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return TC(this,e)}function CC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return TC(this,t,e)}function TC(e,t,r){for(var n=[],o=0;o<t.length;o++){var i=Aj(t[o]);0!==i.size&&n.push(i)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){SC(e,n,fj,(function(e){return e===fj?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},o=0;o<n.length;o++)n[o].forEach(t)})):e.constructor(n[0])}function qC(e,t,r){return IC(e,t,function(e){function t(r,n,o){return dC(r)&&dC(n)&&(i=n,a=nE(r),l=nE(i),Tj(a)===Tj(l)&&Ej(a)===Ej(l))?IC(r,[n],t):e?e(r,n,o):n;var i,a,l}return t}(r))}function IC(e,t,r){if(!dC(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Dj(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),o=e,i=n?Lj:Aj,a=n?function(t){o===e&&(o=gC(o)),o.push(t)}:function(t,n){var i=tE.call(o,n),a=i&&r?r(o[n],t,n):t;i&&a===o[n]||(o===e&&(o=gC(o)),o[n]=a)},l=0;l<t.length;l++)i(t[l]).forEach(a);return o}function AC(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return qC(this,e)}function LC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return qC(this,t,e)}function PC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return yC(this,e,XC(),(function(e){return IC(e,t)}))}function NC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return yC(this,e,XC(),(function(e){return qC(e,t)}))}function FC(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function RC(){return this.__ownerID?this:this.__ensureOwner(new gj)}function MC(){return this.__ensureOwner()}function DC(){return this.__altered}var VC=function(e){function t(t){return null==t?XC():vE(t)&&!zj(t)?t:XC().withMutations((function(r){var n=e(t);lC(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return XC().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return ZC(this,e,t)},t.prototype.remove=function(e){return ZC(this,e,fj)},t.prototype.deleteAll=function(e){var t=Ij(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):XC()},t.prototype.sort=function(e){return ST(YE(this,e))},t.prototype.sortBy=function(e,t){return ST(YE(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,e.call(t,o,i,r))}))}))},t.prototype.__iterator=function(e,t){return new GC(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?QC(this.size,this._root,e,this.__hash):0===this.size?XC():(this.__ownerID=e,this.__altered=!1,this)},t}(Aj);VC.isMap=vE;var zC=VC.prototype;zC[gE]=!0,zC[uj]=zC.remove,zC.removeAll=zC.deleteAll,zC.setIn=xC,zC.removeIn=zC.deleteIn=OC,zC.update=kC,zC.updateIn=jC,zC.merge=zC.concat=EC,zC.mergeWith=CC,zC.mergeDeep=AC,zC.mergeDeepWith=LC,zC.mergeIn=PC,zC.mergeDeepIn=NC,zC.withMutations=FC,zC.wasAltered=DC,zC.asImmutable=MC,zC["@@transducer/init"]=zC.asMutable=RC,zC["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},zC["@@transducer/result"]=function(e){return e.asImmutable()};var BC=function(e,t){this.ownerID=e,this.entries=t};BC.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(bE(r,o[i][0]))return o[i][1];return n},BC.prototype.update=function(e,t,r,n,o,i,a){for(var l=o===fj,s=this.entries,u=0,c=s.length;u<c&&!bE(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(hj(a),(l||!d)&&hj(i),!l||1!==s.length){if(!d&&!l&&s.length>=iT)return function(e,t,r,n){e||(e=new gj);for(var o=new WC(e,OE(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,s,n,o);var p=e&&e===this.ownerID,f=p?s:iC(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new BC(e,f)}};var HC=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};HC.prototype.get=function(e,t,r,n){void 0===t&&(t=OE(r));var o=1<<((0===e?t:t>>>e)&pj),i=this.bitmap;return 0==(i&o)?n:this.nodes[nT(i&o-1)].get(e+cj,t,r,n)},HC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=OE(n));var l=(0===t?r:r>>>t)&pj,s=1<<l,u=this.bitmap,c=0!=(u&s);if(!c&&o===fj)return this;var d=nT(u&s-1),p=this.nodes,f=c?p[d]:void 0,h=eT(f,e,t+cj,r,n,o,i,a);if(h===f)return this;if(!c&&h&&p.length>=aT)return function(e,t,r,n,o){for(var i=0,a=new Array(dj),l=0;0!==r;l++,r>>>=1)a[l]=1&r?t[i++]:void 0;return a[n]=o,new UC(e,i+1,a)}(e,p,u,l,h);if(c&&!h&&2===p.length&&tT(p[1^d]))return p[1^d];if(c&&h&&1===p.length&&tT(h))return h;var g=e&&e===this.ownerID,v=c?h?u:u^s:u|s,m=c?h?oT(p,d,h,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,d,g):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,l=0;l<o;l++)l===t?(i[l]=r,a=-1):i[l]=e[l+a];return i}(p,d,h,g);return g?(this.bitmap=v,this.nodes=m,this):new HC(e,v,m)};var UC=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};UC.prototype.get=function(e,t,r,n){void 0===t&&(t=OE(r));var o=(0===e?t:t>>>e)&pj,i=this.nodes[o];return i?i.get(e+cj,t,r,n):n},UC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=OE(n));var l=(0===t?r:r>>>t)&pj,s=o===fj,u=this.nodes,c=u[l];if(s&&!c)return this;var d=eT(c,e,t+cj,r,n,o,i,a);if(d===c)return this;var p=this.count;if(c){if(!d&&--p<lT)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==n&&(o|=s,a[i++]=c)}return new HC(e,o,a)}(e,u,p,l)}else p++;var f=e&&e===this.ownerID,h=oT(u,l,d,f);return f?(this.count=p,this.nodes=h,this):new UC(e,p,h)};var $C=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};$C.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(bE(r,o[i][0]))return o[i][1];return n},$C.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=OE(n));var l=o===fj;if(r!==this.keyHash)return l?this:(hj(a),hj(i),rT(this,e,t,r,[n,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!bE(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(hj(a),(l||!d)&&hj(i),l&&2===c)return new WC(e,this.keyHash,s[1^u]);var p=e&&e===this.ownerID,f=p?s:iC(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new $C(e,this.keyHash,f)};var WC=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};WC.prototype.get=function(e,t,r,n){return bE(r,this.entry[0])?this.entry[1]:n},WC.prototype.update=function(e,t,r,n,o,i,a){var l=o===fj,s=bE(n,this.entry[0]);return(s?o===this.entry[1]:l)?this:(hj(a),l?void hj(i):s?e&&e===this.ownerID?(this.entry[1]=o,this):new WC(e,this.keyHash,[n,o]):(hj(i),rT(this,e,t,OE(n),[n,o])))},BC.prototype.iterate=$C.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},HC.prototype.iterate=UC.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},WC.prototype.iterate=function(e,t){return e(this.entry)};var KC,GC=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&JC(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,o=void 0;if(r.entry){if(0===n)return YC(e,r.entry)}else if(r.entries){if(n<=(o=r.entries.length-1))return YC(e,r.entries[this._reverse?o-n:n])}else if(n<=(o=r.nodes.length-1)){var i=r.nodes[this._reverse?o-n:n];if(i){if(i.entry)return YC(e,i.entry);t=this._stack=JC(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Gj);function YC(e,t){return Yj(e,t[0],t[1])}function JC(e,t){return{node:e,index:0,__prev:t}}function QC(e,t,r,n){var o=Object.create(zC);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function XC(){return KC||(KC=QC(0))}function ZC(e,t,r){var n,o;if(e._root){var i={value:!1},a={value:!1};if(n=eT(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===fj?-1:1:0)}else{if(r===fj)return e;o=1,n=new BC(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?QC(o,n):XC()}function eT(e,t,r,n,o,i,a,l){return e?e.update(t,r,n,o,i,a,l):i===fj?e:(hj(l),hj(a),new WC(t,n,[o,i]))}function tT(e){return e.constructor===WC||e.constructor===$C}function rT(e,t,r,n,o){if(e.keyHash===n)return new $C(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&pj,l=(0===r?n:n>>>r)&pj,s=a===l?[rT(e,t,r+cj,n,o)]:(i=new WC(t,n,o),a<l?[e,i]:[i,e]);return new HC(t,1<<a|1<<l,s)}function nT(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function oT(e,t,r,n){var o=n?e:iC(e);return o[t]=r,o}var iT=dj/4,aT=dj/2,lT=dj/4,sT="@@__IMMUTABLE_LIST__@@";function uT(e){return Boolean(e&&e[sT])}var cT=function(e){function t(t){var r=mT();if(null==t)return r;if(uT(t))return t;var n=e(t),o=n.size;return 0===o?r:(lC(o),o>0&&o<dj?vT(0,o,cj,null,new pT(n.toArray())):r.withMutations((function(e){e.setSize(o),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=mj(this,e))>=0&&e<this.size){var r=_T(this,e+=this._origin);return r&&r.array[e&pj]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=mj(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?xT(e,t).set(0,r):xT(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i={value:!1};t>=wT(e._capacity)?n=yT(n,e.__ownerID,0,t,r,i):o=yT(o,e.__ownerID,e._level,t,r,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return vT(e._origin,e._capacity,e._level,o,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=cj,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):mT()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){xT(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return xT(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){xT(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return xT(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var o=t[n],i=e("string"!=typeof o&&Qj(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return xT(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,e.call(t,n.get(o),o,r))}))},t.prototype.slice=function(e,t){var r=this.size;return bj(e,t,r)?this:xT(this,_j(e,r),xj(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=gT(this,t);return new Gj((function(){var o=n();return o===hT?{value:void 0,done:!0}:Yj(e,t?--r:r++,o)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,o=gT(this,t);(r=o())!==hT&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vT(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?mT():(this.__ownerID=e,this.__altered=!1,this)},t}(Lj);cT.isList=uT;var dT=cT.prototype;dT[sT]=!0,dT[uj]=dT.remove,dT.merge=dT.concat,dT.setIn=xC,dT.deleteIn=dT.removeIn=OC,dT.update=kC,dT.updateIn=jC,dT.mergeIn=PC,dT.mergeDeepIn=NC,dT.withMutations=FC,dT.wasAltered=DC,dT.asImmutable=MC,dT["@@transducer/init"]=dT.asMutable=RC,dT["@@transducer/step"]=function(e,t){return e.push(t)},dT["@@transducer/result"]=function(e){return e.asImmutable()};var pT=function(e,t){this.array=e,this.ownerID=t};pT.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&pj;if(n>=this.array.length)return new pT([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-cj,r))===a&&i)return this}if(i&&!o)return this;var l=bT(this,e);if(!i)for(var s=0;s<n;s++)l.array[s]=void 0;return o&&(l.array[n]=o),l},pT.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&pj;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-cj,r))===i&&o===this.array.length-1)return this}var a=bT(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var fT,hT={};function gT(e,t){var r=e._origin,n=e._capacity,o=wT(n),i=e._tail;return a(e._root,e._level,0);function a(e,l,s){return 0===l?function(e,a){var l=a===o?i&&i.array:e&&e.array,s=a>r?0:r-a,u=n-a;u>dj&&(u=dj);return function(){if(s===u)return hT;var e=t?--u:s++;return l&&l[e]}}(e,s):function(e,o,i){var l,s=e&&e.array,u=i>r?0:r-i>>o,c=1+(n-i>>o);c>dj&&(c=dj);return function(){for(;;){if(l){var e=l();if(e!==hT)return e;l=null}if(u===c)return hT;var r=t?--c:u++;l=a(s&&s[r],o-cj,i+(r<<o))}}}(e,l,s)}}function vT(e,t,r,n,o,i,a){var l=Object.create(dT);return l.size=t-e,l._origin=e,l._capacity=t,l._level=r,l._root=n,l._tail=o,l.__ownerID=i,l.__hash=a,l.__altered=!1,l}function mT(){return fT||(fT=vT(0,0,cj))}function yT(e,t,r,n,o,i){var a,l=n>>>r&pj,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(r>0){var u=e&&e.array[l],c=yT(u,t,r-cj,n,o,i);return c===u?e:((a=bT(e,t)).array[l]=c,a)}return s&&e.array[l]===o?e:(i&&hj(i),a=bT(e,t),void 0===o&&l===a.array.length-1?a.array.pop():a.array[l]=o,a)}function bT(e,t){return t&&e&&t===e.ownerID?e:new pT(e?e.array.slice():[],t)}function _T(e,t){if(t>=wT(e._capacity))return e._tail;if(t<1<<e._level+cj){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&pj],n-=cj;return r}}function xT(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new gj,o=e._origin,i=e._capacity,a=o+t,l=void 0===r?i:r<0?i+r:o+r;if(a===o&&l===i)return e;if(a>=l)return e.clear();for(var s=e._level,u=e._root,c=0;a+c<0;)u=new pT(u&&u.array.length?[void 0,u]:[],n),c+=1<<(s+=cj);c&&(a+=c,o+=c,l+=c,i+=c);for(var d=wT(i),p=wT(l);p>=1<<s+cj;)u=new pT(u&&u.array.length?[u]:[],n),s+=cj;var f=e._tail,h=p<d?_T(e,l-1):p>d?new pT([],n):f;if(f&&p>d&&a<i&&f.array.length){for(var g=u=bT(u,n),v=s;v>cj;v-=cj){var m=d>>>v&pj;g=g.array[m]=bT(g.array[m],n)}g.array[d>>>cj&pj]=f}if(l<i&&(h=h&&h.removeAfter(n,0,l)),a>=p)a-=p,l-=p,s=cj,u=null,h=h&&h.removeBefore(n,0,a);else if(a>o||p<d){for(c=0;u;){var y=a>>>s&pj;if(y!==p>>>s&pj)break;y&&(c+=(1<<s)*y),s-=cj,u=u.array[y]}u&&a>o&&(u=u.removeBefore(n,s,a-c)),u&&p<d&&(u=u.removeAfter(n,s,p-c)),c&&(a-=c,l-=c)}return e.__ownerID?(e.size=l-a,e._origin=a,e._capacity=l,e._level=s,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):vT(a,l,s,u,h)}function wT(e){return e<dj?0:e-1>>>cj<<cj}var OT,ST=function(e){function t(e){return null==e?jT():mE(e)?e:jT().withMutations((function(t){var r=Aj(e);lC(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):jT()},t.prototype.set=function(e,t){return ET(this,e,t)},t.prototype.remove=function(e){return ET(this,e,fj)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?kT(t,r,e,this.__hash):0===this.size?jT():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(VC);function kT(e,t,r,n){var o=Object.create(ST.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function jT(){return OT||(OT=kT(XC(),mT()))}function ET(e,t,r){var n,o,i=e._map,a=e._list,l=i.get(t),s=void 0!==l;if(r===fj){if(!s)return e;a.size>=dj&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&l!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(r===a.get(l)[1])return e;n=i,o=a.set(l,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e.__altered=!0,e):kT(n,o)}ST.isOrderedMap=mE,ST.prototype[Vj]=!0,ST.prototype[uj]=ST.prototype.remove;var CT="@@__IMMUTABLE_STACK__@@";function TT(e){return Boolean(e&&e[CT])}var qT=function(e){function t(e){return null==e?PT():TT(e)?e:PT().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=mj(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):LT(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&TT(t))return t;lC(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):LT(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):PT()},t.prototype.slice=function(t,r){if(bj(t,r,this.size))return this;var n=_j(t,this.size);if(xj(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):LT(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?LT(this.size,this._head,e,this.__hash):0===this.size?PT():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new lE(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,o=this._head;o&&!1!==e(o.value,n++,this);)o=o.next;return n},t.prototype.__iterator=function(e,t){if(t)return new lE(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new Gj((function(){if(n){var t=n.value;return n=n.next,Yj(e,r++,t)}return{value:void 0,done:!0}}))},t}(Lj);qT.isStack=TT;var IT,AT=qT.prototype;function LT(e,t,r,n){var o=Object.create(AT);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function PT(){return IT||(IT=LT(0))}AT[CT]=!0,AT.shift=AT.pop,AT.unshift=AT.push,AT.unshiftAll=AT.pushAll,AT.withMutations=FC,AT.wasAltered=DC,AT.asImmutable=MC,AT["@@transducer/init"]=AT.asMutable=RC,AT["@@transducer/step"]=function(e,t){return e.unshift(t)},AT["@@transducer/result"]=function(e){return e.asImmutable()};var NT="@@__IMMUTABLE_SET__@@";function FT(e){return Boolean(e&&e[NT])}function RT(e){return FT(e)&&zj(e)}function MT(e,t){if(e===t)return!0;if(!kj(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||Ej(e)!==Ej(t)||Tj(e)!==Tj(t)||zj(e)!==zj(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!qj(e);if(zj(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&bE(o[1],e)&&(r||bE(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,l=t.__iterate((function(t,n){if(r?!e.has(t):o?!bE(t,e.get(n,fj)):!bE(e.get(n,fj),t))return a=!1,!1}));return a&&e.size===l}function DT(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function VT(e){if(!e||"object"!=typeof e)return e;if(!kj(e)){if(!dC(e))return e;e=nE(e)}if(Ej(e)){var t={};return e.__iterate((function(e,r){t[r]=VT(e)})),t}var r=[];return e.__iterate((function(e){r.push(VT(e))})),r}var zT=function(e){function t(t){return null==t?WT():FT(t)&&!zj(t)?t:WT().withMutations((function(r){var n=e(t);lC(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Aj(e).keySeq())},t.intersect=function(e){return(e=Ij(e).toArray()).length?HT.intersect.apply(t(e.pop()),e):WT()},t.union=function(e){return(e=Ij(e).toArray()).length?HT.union.apply(t(e.pop()),e):WT()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return UT(this,this._map.set(e,e))},t.prototype.remove=function(e){return UT(this,this._map.remove(e))},t.prototype.clear=function(){return UT(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,o=UT(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,r);return a!==i&&(n=!0),[a,a]}),t));return n?o:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return dq(YE(this,e))},t.prototype.sortBy=function(e,t){return dq(YE(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Pj);zT.isSet=FT;var BT,HT=zT.prototype;function UT(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function $T(e,t){var r=Object.create(HT);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function WT(){return BT||(BT=$T(XC()))}HT[NT]=!0,HT[uj]=HT.remove,HT.merge=HT.concat=HT.union,HT.withMutations=FC,HT.asImmutable=MC,HT["@@transducer/init"]=HT.asMutable=RC,HT["@@transducer/step"]=function(e,t){return e.add(t)},HT["@@transducer/result"]=function(e){return e.asImmutable()},HT.__empty=WT,HT.__make=$T;var KT,GT=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(aC(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(KT)return KT;KT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+mj(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return bj(e,r,this.size)?this:(e=_j(e,this.size),(r=xj(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==e(o,t?r-++i:i++,this);)o+=t?-n:n;return i},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;return new Gj((function(){if(i===r)return{value:void 0,done:!0};var a=o;return o+=t?-n:n,Yj(e,t?r-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:MT(this,e)},t}(iE);function YT(e,t,r){for(var n=sC(t),o=0;o!==n.length;)if((e=hC(e,n[o++],fj))===fj)return r;return e}function JT(e,t){return YT(this,e,t)}function QT(e,t){return YT(e,t,fj)!==fj}function XT(){lC(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}Ij.isIterable=kj,Ij.isKeyed=Ej,Ij.isIndexed=Tj,Ij.isAssociative=qj,Ij.isOrdered=zj,Ij.Iterator=Gj,DT(Ij,{toArray:function(){lC(this.size);var e=new Array(this.size||0),t=Ej(this),r=0;return this.__iterate((function(n,o){e[r++]=t?[o,n]:n})),e},toIndexedSeq:function(){return new DE(this)},toJS:function(){return VT(this)},toKeyedSeq:function(){return new ME(this,!0)},toMap:function(){return VC(this.toKeyedSeq())},toObject:XT,toOrderedMap:function(){return ST(this.toKeyedSeq())},toOrderedSet:function(){return dq(Ej(this)?this.valueSeq():this)},toSet:function(){return zT(Ej(this)?this.valueSeq():this)},toSetSeq:function(){return new VE(this)},toSeq:function(){return Tj(this)?this.toIndexedSeq():Ej(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qT(Ej(this)?this.valueSeq():this)},toList:function(){return cT(Ej(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ZE(this,function(e,t){var r=Ej(e),n=[e].concat(t).map((function(e){return kj(e)?r&&(e=Aj(e)):e=r?pE(e):fE(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var o=n[0];if(o===e||r&&Ej(o)||Tj(e)&&Tj(o))return o}var i=new lE(n);return r?i=i.toKeyedSeq():Tj(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),i}(this,e))},includes:function(e){return this.some((function(t){return bE(t,e)}))},entries:function(){return this.__iterator(Uj)},every:function(e,t){lC(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return ZE(this,$E(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=Ej(e),o=[[],[]];e.__iterate((function(i,a){o[t.call(r,i,a,e)?1:0].push(n?[a,i]:i)}));var i=tC(e);return o.map((function(t){return ZE(e,i(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return lC(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){lC(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(Bj)},map:function(e,t){return ZE(this,HE(this,e,t))},reduce:function(e,t,r){return nq(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return nq(this,e,t,r,arguments.length<2,!0)},reverse:function(){return ZE(this,UE(this,!0))},slice:function(e,t){return ZE(this,WE(this,e,t,!0))},some:function(e,t){lC(this.size);var r=!1;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=!0,!1})),r},sort:function(e){return ZE(this,YE(this,e))},values:function(){return this.__iterator(Hj)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return vj(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=VC().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return MT(this,e)},entrySeq:function(){var e=this;if(e._cache)return new lE(e._cache);var t=e.toSeq().map(iq).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(aq(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(yj,null,e)},flatMap:function(e,t){return ZE(this,function(e,t,r){var n=tC(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return ZE(this,GE(this,e,!0))},fromEntrySeq:function(){return new zE(this)},get:function(e,t){return this.find((function(t,r){return bE(r,e)}),void 0,t)},getIn:JT,groupBy:function(e,t){return function(e,t,r){var n=Ej(e),o=(zj(e)?ST():VC()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=tC(e);return o.map((function(t){return ZE(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,fj)!==fj},hasIn:function(e){return QT(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:Ij(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Ij(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return bE(t,e)}))},keySeq:function(){return this.toSeq().map(oq).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return JE(this,e)},maxBy:function(e,t){return JE(this,t,e)},min:function(e){return JE(this,e?lq(e):uq)},minBy:function(e,t){return JE(this,t?lq(t):uq,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return ZE(this,KE(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(aq(e),t)},sortBy:function(e,t){return ZE(this,YE(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return ZE(this,function(e,t,r){var n=rC(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,l){return t.call(r,e,o,l)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(Uj,o),l=!0;return new Gj((function(){if(!l)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(r,u,s,i)?n===Uj?e:Yj(n,s,u,e):(l=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(aq(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=zj(e),r=Ej(e),n=t?1:0;return function(e,t){return t=_E(t,3432918353),t=_E(t<<15|t>>>-15,461845907),t=_E(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=_E(t^t>>>16,2246822507),t=_E(t^t>>>13,3266489909),t=xE(t^t>>>16),t}(e.__iterate(r?t?function(e,t){n=31*n+cq(OE(e),OE(t))|0}:function(e,t){n=n+cq(OE(e),OE(t))|0}:t?function(e){n=31*n+OE(e)|0}:function(e){n=n+OE(e)|0}),n)}(this))}});var ZT=Ij.prototype;ZT[Sj]=!0,ZT[Kj]=ZT.values,ZT.toJSON=ZT.toArray,ZT.__toStringMapper=pC,ZT.inspect=ZT.toSource=function(){return this.toString()},ZT.chain=ZT.flatMap,ZT.contains=ZT.includes,DT(Aj,{flip:function(){return ZE(this,BE(this))},mapEntries:function(e,t){var r=this,n=0;return ZE(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return ZE(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var eq=Aj.prototype;eq[jj]=!0,eq[Kj]=ZT.entries,eq.toJSON=XT,eq.__toStringMapper=function(e,t){return pC(t)+": "+pC(e)},DT(Lj,{toKeyedSeq:function(){return new ME(this,!1)},filter:function(e,t){return ZE(this,$E(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return ZE(this,UE(this,!1))},slice:function(e,t){return ZE(this,WE(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=_j(e,e<0?this.count():this.size);var n=this.slice(0,e);return ZE(this,1===r?n:n.concat(iC(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ZE(this,GE(this,e,!1))},get:function(e,t){return(e=mj(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=mj(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return ZE(this,function(e,t){var r=rC(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(Hj,n),a=0;return new Gj((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?Yj(r,a++,t):Yj(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(iC(arguments)),t=XE(this.toSeq(),iE.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),ZE(this,r)},keySeq:function(){return GT(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return ZE(this,KE(this,e,t,!1))},zip:function(){return ZE(this,XE(this,sq,[this].concat(iC(arguments))))},zipAll:function(){return ZE(this,XE(this,sq,[this].concat(iC(arguments)),!0))},zipWith:function(e){var t=iC(arguments);return t[0]=this,ZE(this,XE(this,e,t))}});var tq=Lj.prototype;tq[Cj]=!0,tq[Vj]=!0,DT(Pj,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var rq=Pj.prototype;function nq(e,t,r,n,o,i){return lC(e.size),e.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),i),r}function oq(e,t){return t}function iq(e,t){return[t,e]}function aq(e){return function(){return!e.apply(this,arguments)}}function lq(e){return function(){return-e.apply(this,arguments)}}function sq(){return iC(arguments)}function uq(e,t){return e<t?1:e>t?-1:0}function cq(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}rq.has=ZT.includes,rq.contains=rq.includes,rq.keys=rq.values,DT(oE,eq),DT(iE,tq),DT(aE,rq);var dq=function(e){function t(e){return null==e?gq():RT(e)?e:gq().withMutations((function(t){var r=Pj(e);lC(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Aj(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(zT);dq.isOrderedSet=RT;var pq,fq=dq.prototype;function hq(e,t){var r=Object.create(fq);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function gq(){return pq||(pq=hq(jT()))}fq[Vj]=!0,fq.zip=tq.zip,fq.zipWith=tq.zipWith,fq.zipAll=tq.zipAll,fq.__empty=gq,fq.__make=hq;var vq=function(e,t){var r;!function(e){if(Mj(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Dj(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(i){var a=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var l=Object.keys(e),s=o._indices={};o._name=t,o._keys=l,o._defaultValues=e;for(var u=0;u<l.length;u++){var c=l[u];s[c]=u,o[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+bq(this)+' with property "'+c+'" since that property name is part of the Record API.'):xq(o,c)}}return this.__ownerID=void 0,this._values=cT().withMutations((function(e){e.setSize(a._keys.length),Aj(i).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},o=n.prototype=Object.create(mq);return o.constructor=n,t&&(n.displayName=t),n};vq.prototype.toString=function(){for(var e,t=bq(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)t+=(n?", ":"")+(e=r[n])+": "+pC(this.get(e));return t+" }"},vq.prototype.equals=function(e){return this===e||Mj(e)&&_q(this).equals(_q(e))},vq.prototype.hashCode=function(){return _q(this).hashCode()},vq.prototype.has=function(e){return this._indices.hasOwnProperty(e)},vq.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},vq.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return yq(this,r)}return this},vq.prototype.remove=function(e){return this.set(e)},vq.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:yq(this,e)},vq.prototype.wasAltered=function(){return this._values.wasAltered()},vq.prototype.toSeq=function(){return _q(this)},vq.prototype.toJS=function(){return VT(this)},vq.prototype.entries=function(){return this.__iterator(Uj)},vq.prototype.__iterator=function(e,t){return _q(this).__iterator(e,t)},vq.prototype.__iterate=function(e,t){return _q(this).__iterate(e,t)},vq.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?yq(this,t,e):(this.__ownerID=e,this._values=t,this)},vq.isRecord=Mj,vq.getDescriptiveName=bq;var mq=vq.prototype;function yq(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function bq(e){return e.constructor.displayName||e.constructor.name||"Record"}function _q(e){return pE(e._keys.map((function(t){return[t,e.get(t)]})))}function xq(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){aC(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(r){}}mq[Rj]=!0,mq[uj]=mq.remove,mq.deleteIn=mq.removeIn=OC,mq.getIn=JT,mq.hasIn=ZT.hasIn,mq.merge=EC,mq.mergeWith=CC,mq.mergeIn=PC,mq.mergeDeep=AC,mq.mergeDeepWith=LC,mq.mergeDeepIn=NC,mq.setIn=xC,mq.update=kC,mq.updateIn=jC,mq.withMutations=FC,mq.asMutable=RC,mq.asImmutable=MC,mq[Kj]=mq.entries,mq.toJSON=mq.toObject=ZT.toObject,mq.inspect=mq.toSource=function(){return this.toString()};var wq,Oq=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(wq)return wq;wq=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return bE(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return bj(e,r,n)?this:new t(this._value,xj(r,n)-_j(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return bE(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return bE(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,o=0;return new Gj((function(){return o===n?{value:void 0,done:!0}:Yj(e,t?n-++o:o++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?bE(this._value,e._value):MT(this,e)},t}(iE);function Sq(e,t){return kq([],t||jq,e,"",t&&t.length>2?[]:void 0,{"":e})}function kq(e,t,r,n,o,i){if("string"!=typeof r&&!Dj(r)&&(rE(r)||Qj(r)||cC(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),o&&""!==n&&o.push(n);var a=t.call(i,n,nE(r).map((function(n,i){return kq(e,t,n,i,o,r)})),o&&o.slice());return e.pop(),o&&o.pop(),a}return r}function jq(e,t){return Tj(t)?t.toList():Ej(t)?t.toMap():t.toSet()}var Eq={version:"4.3.7",Collection:Ij,Iterable:Ij,Seq:nE,Map:VC,OrderedMap:ST,List:cT,Stack:qT,Set:zT,OrderedSet:dq,PairSorting:{LeftThenRight:-1,RightThenLeft:1},Record:vq,Range:GT,Repeat:Oq,is:bE,fromJS:Sq,hash:OE,isImmutable:Dj,isCollection:kj,isKeyed:Ej,isIndexed:Tj,isAssociative:qj,isOrdered:zj,isValueObject:yE,isPlainObject:cC,isSeq:Fj,isList:uT,isMap:vE,isOrderedMap:mE,isStack:TT,isSet:FT,isOrderedSet:RT,isRecord:Mj,get:hC,getIn:YT,has:fC,hasIn:QT,merge:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return IC(e,t)},mergeDeep:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return qC(e,t)},mergeWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return IC(t,r,e)},mergeDeepWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return qC(t,r,e)},remove:vC,removeIn:wC,set:mC,setIn:_C,update:SC,updateIn:yC},Cq=0;const Tq=function(){var e=((new Date).getTime().toString(16)+"FF").substr(0,11),t="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,(function(e){var t="s"===e?Math.floor(16*Math.random()):15&Cq++;return("x"===e?t:3&t|8).toString(16)}));return t+e};var qq={};function Iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Aq=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],Lq=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Pq=function(e){return"object"===_(e)&&null!==e&&"[object Object]"===Object.prototype.toString.call(e)},Nq=function(e){if("object"===_(e)&&null!==e){if(Array.isArray(e))return sj(e);if(Pq(e))return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iq(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}return e},Fq=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var r=Et(e,1)[0];return!t.includes(r)})))},Rq=function(e){var t;return null!==(t=null==e?void 0:e.cardinality)&&void 0!==t?t:1},Mq=function(e,t){return e===t||(VC.isMap(e)?e.equals(t):JSON.stringify(e)==JSON.stringify(t))},Dq=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?Dq(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):VC.isMap(e)?e.equals(t):"object"==_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?Dq(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var Vq=function(e){return"object"===_(e)&&null!==e&&"function"==typeof e.toJS},zq=function(e){return Vq(e)&&Eq.isList(e)};function Bq(e){return zq(e)?e:new Eq.List(e)}function Hq(e){return Vq(e)?e.toJS():e}var Uq=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},$q=function(e,t,r,n,o,i){if(Array.isArray(e))return t},Wq=function e(t){var r;if(t instanceof Array)return t.map((function(t,r){return e(t)}));if("object"===_(t)&&null!==t&&Kq(t)){var n,o=Fq(t,["$$typeof","_owner","_store","ref","key"]);return o.type&&(o.type="string"==typeof(r=o.type)?r:"function"==typeof r?r.name:r),null!=o&&null!==(n=o.props)&&void 0!==n&&n.children&&(o.props.children=e(o.props.children)),o}return t},Kq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},Gq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&"string"==typeof e.type&&Object.keys(e).includes("props")},Yq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length};function Jq(e){return new Promise((function(t){setTimeout(t,e)}))}function Qq(e,t){return e||(e=[]),t||(t=[]),t.map((function(t){return[t,e.indexOf(t)]})).map((function(e,t,r){var n=Et(e,2),o=n[0];if(-1==n[1]){var i=r.slice(t+1),a=r.slice(0,t).reverse().find((function(e){var t=Et(e,2);return t[0],-1!=t[1]})),l=i.find((function(e){var t=Et(e,2);return t[0],-1!=t[1]}));return l?[o,"before",l[0]]:a?[o,"after",a[0]]:[o,"append",null]}return null})).filter((function(e){return null!==e})).reduce((function(e,t){var r=Et(t,3),n=r[0],o=r[1],i=r[2],a=e.indexOf(i);return-1==e.indexOf(n)&&(a>-1?e.splice(a+("after"==o?1:0),0,n):e.splice("append"==o?1/0:0,0,n)),e}),e.slice())}var Xq=function e(t){"object"!==_(t)||null===t||Kq(t)||(Object.keys(t).forEach((function(r){"__cache"!==r&&e(t[r])})),Object.freeze(t))},Zq=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(Pq(t)){if(t.var)return n[t.var]=r,!0;if(!Pq(r))return!1;for(var i in t){if(!e(t[i],r[i],n,[].concat(sj(o),[i])))return!1}return!0}if(Array.isArray(t)){if(!Array.isArray(r))return!1;for(var a=0;a<t.length;a++){if(!e(t[a],r[a],n,[].concat(sj(o),[a])))return!1}return!0}return t===r},eI=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&qq&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},tI=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0;r<t.length;r++){var n=t[r];if(void 0!==n){e=n;break}}return e},rI=eI();const nI=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:Hq,cleanJSX:Wq,deepEqual:Mq,deepFreeze:Xq,escapeRegExp:Uq,getFirstDefined:tI,getLogger:eI,getOpCardinality:Rq,isDirtyJSX:Kq,isImmutable:Vq,isImmutableList:zq,isJSX:Gq,isJsonCompatible:Zq,isJsonLogic:Yq,isObject:Pq,logger:rI,mergeArraysSmart:Qq,mergeCustomizerNoArrays:$q,omit:Fq,opDefKeysToOmit:Lq,shallowCopy:Nq,shallowEqual:Dq,sleep:Jq,toImmutableList:Bq,uuid:Tq,widgetDefKeysToOmit:Aq},Symbol.toStringTag,{value:"Module"}));var oI={exports:{}},iI={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(iI);var aI=iI.exports;!function(e){var t=aI.default;function r(){e.exports=r=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(n){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(n||[]);return l(i,"_invoke",{value:T(e,r,a)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=f;var g="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function _(){}function x(){}function w(){}var O={};p(O,u,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(P([])));k&&k!==i&&a.call(k,u)&&(O=k);var j=w.prototype=_.prototype=Object.create(O);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,r){function n(o,i,l,s){var u=h(e[o],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):r.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(u.arg)}var o;l(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,t,r){var o=g;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=q(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=h(e,t,r);if("normal"===u.type){if(o=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function q(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,q(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=w,l(j,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},o.awrap=function(e){return{__await:e}},E(C.prototype),p(C.prototype,c,(function(){return this})),o.AsyncIterator=C,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new C(f(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),p(j,d,"Generator"),p(j,u,(function(){return this})),p(j,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},o.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(oI);var lI=(0,oI.exports)(),sI=lI;try{regeneratorRuntime=lI}catch(x7){"object"==typeof globalThis?globalThis.regeneratorRuntime=lI:Function("r","regeneratorRuntime = r")(lI)}const uI=g(sI);var cI=Ua,dI=Ms;var pI=function(e){return"symbol"==typeof e||dI(e)&&"[object Symbol]"==cI(e)},fI=js,hI=pI,gI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vI=/^\w*$/;var mI=function(e,t){if(fI(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!hI(e))||(vI.test(e)||!gI.test(e)||null!=t&&e in Object(t))},yI=Kl;function bI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(bI.Cache||yI),r}bI.Cache=yI;var _I=bI;var xI=function(e){var t=_I(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},wI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OI=/\\(\\)?/g,SI=xI((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(wI,(function(e,r,n,o){t.push(n?o.replace(OI,"$1"):r||e)})),t}));var kI=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},jI=kI,EI=js,CI=pI,TI=La?La.prototype:void 0,qI=TI?TI.toString:void 0;var II=function e(t){if("string"==typeof t)return t;if(EI(t))return jI(t,e)+"";if(CI(t))return qI?qI.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},AI=II;var LI=function(e){return null==e?"":AI(e)},PI=js,NI=mI,FI=SI,RI=LI;var MI=function(e,t){return PI(e)?e:NI(e,t)?[e]:FI(RI(e))},DI=pI;var VI=function(e){if("string"==typeof e||DI(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},zI=MI,BI=VI;var HI=function(e,t){for(var r=0,n=(t=zI(t,e)).length;null!=e&&r<n;)e=e[BI(t[r++])];return r&&r==n?e:void 0},UI=fl,$I=function(){try{var e=UI(Object,"defineProperty");return e({},"",{}),e}catch(_n){}}(),WI=$I,KI=WI;var GI=function(e,t,r){"__proto__"==t&&KI?KI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},YI=GI,JI=aa,QI=Object.prototype.hasOwnProperty;var XI=function(e,t,r){var n=e[t];QI.call(e,t)&&JI(n,r)&&(void 0!==r||t in e)||YI(e,t,r)},ZI=XI,eA=MI,tA=Xs,rA=$a,nA=VI;var oA=function(e,t,r,n){if(!rA(e))return e;for(var o=-1,i=(t=eA(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=nA(t[o]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=n?n(c,s,l):void 0)&&(u=rA(c)?c:tA(t[o+1])?[]:{})}ZI(l,s,u),l=l[s]}return e},iA=HI,aA=oA,lA=MI;var sA=function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],l=iA(e,a);r(l,a)&&aA(i,lA(a,e),l)}return i};var uA=MI,cA=Ks,dA=js,pA=Xs,fA=Zs,hA=VI;var gA=function(e,t,r){for(var n=-1,o=(t=uA(t,e)).length,i=!1;++n<o;){var a=hA(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&fA(o)&&pA(a,o)&&(dA(e)||cA(e))},vA=function(e,t){return null!=e&&t in Object(e)},mA=gA;var yA=function(e,t){return null!=e&&mA(e,t,vA)},bA=sA,_A=yA;var xA=function(e,t){return bA(e,t,(function(t,r){return _A(e,r)}))},wA=Ks,OA=js,SA=La?La.isConcatSpreadable:void 0;var kA=ks,jA=function(e){return OA(e)||wA(e)||!!(SA&&e&&e[SA])};var EA=function e(t,r,n,o,i){var a=-1,l=t.length;for(n||(n=jA),i||(i=[]);++a<l;){var s=t[a];r>0&&n(s)?r>1?e(s,r-1,n,o,i):kA(i,s):o||(i[i.length]=s)}return i},CA=EA;var TA=function(e){return(null==e?0:e.length)?CA(e,1):[]};var qA=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},IA=qA,AA=Math.max;var LA=function(e,t,r){return t=AA(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=AA(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),IA(e,this,l)}};var PA=function(e){return e},NA=function(e){return function(){return e}},FA=WI,RA=FA?function(e,t){return FA(e,"toString",{configurable:!0,enumerable:!1,value:NA(t),writable:!0})}:PA,MA=RA,DA=Date.now;var VA=function(e){var t=0,r=0;return function(){var n=DA(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},zA=VA(MA),BA=TA,HA=LA,UA=zA;var $A=function(e){return UA(HA(e,void 0,BA),e+"")},WA=xA,KA=$A((function(e,t){return null==e?{}:WA(e,t)}));const GA=g(KA);var YA=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const JA=g(YA);var QA=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},XA=XI,ZA=GI;var eL=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),o?ZA(r,l,s):XA(r,l,s)}return r},tL=eL,rL=Lu;var nL=function(e,t){return e&&tL(t,rL(t),e)};var oL=$a,iL=xu,aL=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},lL=Object.prototype.hasOwnProperty;var sL=bu,uL=function(e){if(!oL(e))return aL(e);var t=iL(e),r=[];for(var n in e)("constructor"!=n||!t&&lL.call(e,n))&&r.push(n);return r},cL=Tu;var dL=function(e){return cL(e)?sL(e,!0):uL(e)},pL=eL,fL=dL;var hL=function(e,t){return e&&pL(t,fL(t),e)},gL={exports:{}};!function(e,t){var r=Aa,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(gL,gL.exports);var vL=gL.exports;var mL=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},yL=eL,bL=Fs;var _L=function(e,t){return yL(e,bL(e),t)},xL=wu(Object.getPrototypeOf,Object),wL=ks,OL=xL,SL=Fs,kL=Is,jL=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)wL(t,SL(e)),e=OL(e);return t}:kL,EL=eL,CL=jL;var TL=function(e,t){return EL(e,CL(e),t)},qL=Ts,IL=jL,AL=dL;var LL=function(e){return qL(e,AL,IL)},PL=Object.prototype.hasOwnProperty;var NL=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&PL.call(e,"index")&&(r.index=e.index,r.input=e.input),r},FL=hs;var RL=function(e){var t=new e.constructor(e.byteLength);return new FL(t).set(new FL(e)),t},ML=RL;var DL=function(e,t){var r=t?ML(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},VL=/\w*$/;var zL=function(e){var t=new e.constructor(e.source,VL.exec(e));return t.lastIndex=e.lastIndex,t},BL=La?La.prototype:void 0,HL=BL?BL.valueOf:void 0;var UL=RL;var $L=function(e,t){var r=t?UL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},WL=RL,KL=DL,GL=zL,YL=function(e){return HL?Object(HL.call(e)):{}},JL=$L;var QL=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return WL(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return KL(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return JL(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return GL(e);case"[object Symbol]":return YL(e)}},XL=$a,ZL=Object.create,eP=function(){function e(){}return function(t){if(!XL(t))return{};if(ZL)return ZL(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),tP=eP,rP=xL,nP=xu;var oP=function(e){return"function"!=typeof e.constructor||nP(e)?{}:tP(rP(e))},iP=ac,aP=Ms;var lP=function(e){return aP(e)&&"[object Map]"==iP(e)},sP=iu,uP=lu&&lu.isMap,cP=uP?sP(uP):lP,dP=ac,pP=Ms;var fP=function(e){return pP(e)&&"[object Set]"==dP(e)},hP=iu,gP=lu&&lu.isSet,vP=gP?hP(gP):fP,mP=os,yP=QA,bP=XI,_P=nL,xP=hL,wP=vL,OP=mL,SP=_L,kP=TL,jP=Mu,EP=LL,CP=ac,TP=NL,qP=QL,IP=oP,AP=js,LP=Js,PP=cP,NP=$a,FP=vP,RP=Lu,MP=dL,DP="[object Arguments]",VP="[object Function]",zP="[object Object]",BP={};BP[DP]=BP["[object Array]"]=BP["[object ArrayBuffer]"]=BP["[object DataView]"]=BP["[object Boolean]"]=BP["[object Date]"]=BP["[object Float32Array]"]=BP["[object Float64Array]"]=BP["[object Int8Array]"]=BP["[object Int16Array]"]=BP["[object Int32Array]"]=BP["[object Map]"]=BP["[object Number]"]=BP[zP]=BP["[object RegExp]"]=BP["[object Set]"]=BP["[object String]"]=BP["[object Symbol]"]=BP["[object Uint8Array]"]=BP["[object Uint8ClampedArray]"]=BP["[object Uint16Array]"]=BP["[object Uint32Array]"]=!0,BP["[object Error]"]=BP[VP]=BP["[object WeakMap]"]=!1;var HP=function e(t,r,n,o,i,a){var l,s=1&r,u=2&r,c=4&r;if(n&&(l=i?n(t,o,i,a):n(t)),void 0!==l)return l;if(!NP(t))return t;var d=AP(t);if(d){if(l=TP(t),!s)return OP(t,l)}else{var p=CP(t),f=p==VP||"[object GeneratorFunction]"==p;if(LP(t))return wP(t,s);if(p==zP||p==DP||f&&!i){if(l=u||f?{}:IP(t),!s)return u?kP(t,xP(l,t)):SP(t,_P(l,t))}else{if(!BP[p])return i?t:{};l=qP(t,p,s)}}a||(a=new mP);var h=a.get(t);if(h)return h;a.set(t,l),FP(t)?t.forEach((function(o){l.add(e(o,r,n,o,t,a))})):PP(t)&&t.forEach((function(o,i){l.set(i,e(o,r,n,i,t,a))}));var g=d?void 0:(c?u?EP:jP:u?MP:RP)(t);return yP(g||t,(function(o,i){g&&(o=t[i=o]),bP(l,i,e(o,r,n,i,t,a))})),l};var UP=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i},$P=HI,WP=UP;var KP=MI,GP=YA,YP=function(e,t){return t.length<2?e:$P(e,WP(t,0,-1))},JP=VI;var QP=function(e,t){return t=KP(t,e),null==(e=YP(e,t))||delete e[JP(GP(t))]},XP=Ua,ZP=xL,eN=Ms,tN=Function.prototype,rN=Object.prototype,nN=tN.toString,oN=rN.hasOwnProperty,iN=nN.call(Object);var aN=function(e){if(!eN(e)||"[object Object]"!=XP(e))return!1;var t=ZP(e);if(null===t)return!0;var r=oN.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&nN.call(r)==iN},lN=aN;var sN=kI,uN=HP,cN=QP,dN=MI,pN=eL,fN=function(e){return lN(e)?void 0:e},hN=LL,gN=$A((function(e,t){var r={};if(null==e)return r;var n=!1;t=sN(t,(function(t){return t=dN(t,e),n||(n=t.length>1),t})),pN(e,hN(e),r),n&&(r=uN(r,7,fN));for(var o=t.length;o--;)cN(r,t[o]);return r}));const vN=g(gN);function mN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return yN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yN(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function yN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bN(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xN=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},wN=function(e,t){return null==e||""==e?void 0:xN(e)?_N(_N({},e),{},{title:e.title||e.value}):{value:e,title:void 0!==t?t:""+e}},ON=function(e){var t=wN(e);return xN(t)?_N(_N({},wN(e)),{},{isCustom:!0}):t},SN=function(e){if(Array.isArray(e))return e.map((function(e){return wN(e)}));if(!xN(e))return e;var t=[];for(var r in e){var n=e[r];t.push(wN(r,n))}return t},kN=function(e,t){return Array.isArray(e)?e.map((function(e){return wN(e)})).find((function(e){return""+e.value==""+t})):void 0!==e[t]?wN(t,e[t]):void 0},jN=function(e,t){if(null==e)return t;var r=kN(e,t);return void 0!==r?r.title:t},EN=function(e,t){var r=[];if(Array.isArray(e)){var n,o=mN(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t(wN(i));null!=a&&r.push(a)}}catch(u){o.e(u)}finally{o.f()}}else for(var l in e){var s=t(wN(l,e[l]));null!=s&&r.push(s)}return r},CN=function(e,t){return EN(t,(function(t){return""+t.value==""+e?t:null})).filter((function(e){return null!==e})).shift()};const TN=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:kN,getListValue:CN,getTitleInListValues:jN,getValueInListValues:function(e,t){if(null==e)return t;var r=kN(e,t);return void 0!==r?r.value:t},listValuesToArray:SN,makeCustomListValue:ON,mapListValues:EN,searchListValue:function(e,t){return EN(t,(function(t){return-1!="".concat(t.value).indexOf(e)||-1!=t.title.indexOf(e)?t:null})).filter((function(e){return null!==e})).shift()},toListValue:wN},Symbol.toStringTag,{value:"Module"}));var qN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.skip(1),e.push.apply(e,r),e}))},IN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.push.apply(e,r),e}))},AN=function(e,t){var r=new Eq.OrderedMap(b({},e.get("id"),e)),n=e;return t.forEach((function(e){var t;n=r.get(e),r=null===(t=n)||void 0===t?void 0:t.get("children1")})),n},LN=function(e){var t=e;return function e(r,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.push(r.get("id")),a=r.getIn(["properties","isLocked"]);o&&a&&(t=t.deleteIn(qN(i,"properties","isLocked")));var l=r.get("children1");l&&l.map((function(t,r){e(t,i,a||o)}))}(e,new Eq.List),t},PN=function(e){var t=e;return function e(r,n,o,i){if(r){var a=r.get("path"),l=r.get("id"),s=l||i||Tq(),u=n.push(s);a&&a.equals(u)||(t=t.setIn(qN(u,"path"),u)),l||(t=t.setIn(qN(u,"id"),s));var c=r.get("children1");c&&("Map"===c.constructor.name&&(t=t.setIn(qN(u,"children1"),new Eq.OrderedMap(c))),c.map((function(t,r){e(t,u,o+1,r)})))}}(e,new Eq.List,0),t},NN=function(e){var t=e;return function e(r,n,o,i){if(!r)return!1;var a=r.get("id")||i,l=n.push(a),s=r.get("children1");if(s){var u=s.map((function(t,r){return e(t,l,o+1,r)})).reduce((function(e,t){return e&&t}),!0);if((0==s.size||u)&&o>0)return t=t.deleteIn(qN(l)),!0}return!1}(e,new Eq.List,0),t},FN=function(e){var t=[],r={},n=[],o=0,i=0,a=0,l={};!function s(u,c,d,p,f,h,g,v){var m=u===e,y=u.get("type"),b=u.get("collapsed"),_=u.get("id"),x=u.get("children1"),w=u.getIn(["properties","isLocked"]),O=x?x.map((function(e,t){return t})).valueSeq().toArray():null,S="rule_group"===y,k="rule"===y,j="group"===y,E="case_group"===y,C=!f&&(!x||S),T=(null==O?void 0:O.length)>0,q=c.length?c[c.length-1]:null,I=E?_:g;E&&(n.push(_),i=0,a=0,l={});var A,L=I?n.indexOf(I):null,P=t.length,N=o;m||((A={}).caseNo=L,A.globalNoByType=E?L:l[y]||0,A.indexPath=[].concat(sj(c.slice(1).map((function(e){return r[e].childNo}))),[v]),k?A.globalLeafNo=i:j&&(A.globalGroupNo=a)),t.push(_),r[_]={node:u,index:P,id:_,type:y,parent:q,parentType:q?r[q].type:null,children:O,childNo:v,caseId:I,caseNo:L,path:c.concat(_),lev:h,isLeaf:!x,isAtomicRule:C,isLocked:w||p,top:d?null:N,isDefaultCase:E?!x:void 0,atomicRulesCountInCase:E?0:void 0,position:A,collapsed:b,_top:P,leaf:!x};var F=0,R=0;d||(o+=1,F+=1,!T||b||S||(R+=1),m||E||(j&&a++,k&&i++,l[y]=(l[y]||0)+1)),g&&C&&r[g].atomicRulesCountInCase++;var M=0,D=0;if(T){var V=0;x.map((function(e,t){if(e){s(e,c.concat(_),d||b,p||w,f||S,h+1,I,V);var n=r[t];M=Math.max(M,n.depth||0),D+=n.height,V++}}))}F+=D,R+=M;var z=t.length-P,B=d?null:N+F;Object.assign(r[_],{depth:x?R:void 0,_height:z,height:F,bottom:B})}(e,[],!1,!1,!1,0,null,null);for(var s=0;s<t.length;s++){var u=s>0?t[s-1]:null,c=s<t.length-1?t[s+1]:null,d=r[t[s]];d.prev=u,d.next=c}return{flat:t,items:r,cases:n}},RN=function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),"rule"==l||"rule_group"==l?t++:a&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t},MN=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e;return function e(n,o){t&&n.path&&delete n.path,t&&!r&&o&&delete n.id;var i=n.properties;i&&null==i.operatorOptions&&delete i.operatorOptions;var a=n.children1;if(a){for(var l in a)a[l]&&e(a[l],l);r&&(n.children1=Object.values(a))}}(e,null),n},DN=function(e){var t=[],r=e.get("children1");return r&&r.map((function(e){var r,n=e.getIn(["properties","value"]);n&&1==n.size?(r=n.get(0),Array.isArray(r)&&0==r.length&&(r=null)):r=null,t=[].concat(sj(t),[r])})),t},VN=function(e){return!e.get("children1")||0==e.get("children1").size},zN=function(e,t){return e.getIn(qN(t,"children1")).size>0},BN=function(e){if(null!=e&&e.toJS){var t,r=null==e||null===(t=e.toJS)||void 0===t?void 0:t.call(e);return null!=r&&r.func?e.toOrderedMap():r}return e};const HN=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:BN,expandTreePath:qN,expandTreeSubpath:IN,fixEmptyGroupsInTree:NN,fixPathsInTree:PN,getFlatTree:FN,getItemByPath:AN,getLightTree:MN,getSwitchValues:DN,getTotalReordableNodesCountInTree:function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),t++,a&&!("rule_group"==l)&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t-1},getTotalRulesCountInTree:RN,hasChildren:zN,immutableToJs:Hq,isEmptyTree:VN,isImmutable:Vq,jsToImmutable:KN,removeIsLockedInTree:LN,toImmutableList:Bq},Symbol.toStringTag,{value:"Module"}));var UN=function(e){if($N(e))return e;if(WN(e))return PN(KN(e));if("string"==typeof e&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if("string"==typeof e)return PN(KN(JSON.parse(e)));throw new Error("Can't load tree!")},$N=function(e){return VC.isMap(e)},WN=function(e){return"object"==_(e)&&("group"==e.type||"switch_group"==e.type)};function KN(e){var t=Sq(e,(function(e,t,r){var n,o=r&&r.length>3&&"value"===r[r.length-1]&&"args"===r[r.length-3],i=r&&r.length>3&&"value"===r[r.length-1]&&"properties"===r[r.length-2];if("properties"==e){n=t.toOrderedMap();for(var a=0;a<2;a++){var l,s,u;null===(null===(l=n.get("value"))||void 0===l||null===(s=(u=l).get)||void 0===s?void 0:s.call(u,a))&&(n=n.setIn(["value",a],void 0))}}else n=o?BN(t):(r?i:"value"==e)&&Eq.Iterable.isIndexed(t)?t.map(BN).toList():"asyncListValues"==e?t.toJS():"children1"==e&&Eq.Iterable.isIndexed(t)?new Eq.OrderedMap(t.map((function(e){return[(null==e?void 0:e.get("id"))||Tq(),e]}))):Eq.Iterable.isIndexed(t)?t.toList():t.toOrderedMap();return n}));return t}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return QN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function QN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XN="jlField",ZN="jlArgs",eF=["==","!="],tF=["<","<=",">",">="],rF=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],nF=function(e){return{errors:[],settings:null==e?void 0:e.settings}},oF=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=nF();n.settings={allowUnknownFields:!1,returnErrors:r};var o=bB(t,void 0,!1),i=iF(o),a=e?sF(e,i,o,["rule","group","switch"],n):void 0,l=a?UN(a):void 0;return r?[l,n.errors]:(n.errors.length&&console.warn("Errors while importing from JsonLogic:",n.errors),l)},iF=function(e){var t={},r={};for(var n in e.operators){var o=e.operators[n];if("string"==typeof o.jsonLogic){var i=o.jsonLogic+"/"+Rq(o);t[i]||(t[i]=[]),t[i].push(n)}else if("string"==typeof o.jsonLogic2){var a=o.jsonLogic2+"/"+Rq(o);t[a]||(t[a]=[]),t[a].push(n),r[n]||(r[n]={}),r[n]={template:o.jsonLogic(XN,n,ZN),jsonLogic2:o.jsonLogic2,_jsonLogicIsExclamationOp:!!o._jsonLogicIsExclamationOp}}}var l={};for(var s in e.conjunctions){l[e.conjunctions[s].jsonLogicConj||s.toLowerCase()]=s}var u,c={},d=JN(TB(e));try{for(d.s();!(u=d.n()).done;){var p=Et(u.value,2),f=p[0],h=p[1],g=void 0;h.jsonLogicIsMethod?g="#"+h.jsonLogic:"string"==typeof h.jsonLogic&&(g=h.jsonLogic),g&&(c[g]||(c[g]=[]),c[g].push(f))}}catch(m){d.e(m)}finally{d.f()}var v=e.settings.jsonLogic;return{operators:t,conjunctions:l,funcs:c,varKeys:["var",v.groupVarKey,v.altVarKey],combinationOperators:r}},aF=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!=t&&t.combinationOperators)for(var i=0,a=Object.entries(t.combinationOperators);i<a.length;i++){var l=Et(a[i],2),s=l[0],u=l[1];if(null==o||o.includes(s)){var c=lF(u.template,e);c.match&&(n?r.errors.push("Operator matched against 2 templates: ".concat(n.newOp," and ").concat(s)):n=c,n.newOp=u.jsonLogic2)}}return n},lF=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(null==t||null==r)return n.match=!1,n;var o=Object.keys(t),i=Object.keys(r);if(o.length!==i.length)return n.match=!1,n;for(var a=0;a<o.length;a++){var l=o[a],s=t[l];if(l!==i[a])return n.match=!1,n;if(s===XN&&Yq(r[l]))n.jlField=r[l];else if(s===ZN)n.jlArgs.push(r[l]);else if("object"===_(s)&&null!==s||Array.isArray(s))n=e(s,r[l],n);else if(s!==r[l])return n.match=!1,n}return n},sF=function e(t,r,n,o,i){var a,l,s,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;Yq(t)&&(a=Object.keys(t)[0],l=t[a],Array.isArray(l)||(l=[l]));var f=i.errors.length,h=n.settings.jsonLogic.lockedOp,g="!"==a&&1==l.length&&l[0]&&Yq(l[0])&&r.varKeys.includes(Object.keys(l[0])[0]),v=aF(t,r,i);v&&((l=[])[0]=v.jlField,v.jlArgs.forEach((function(e){return l.push(e)})),a=v.newOp);var m="!"==a&&!g,y=h&&a==h,b=o.includes("switch");y?s=e(l[0],r,n,o,i,u,c,d,p,!0):m?s=e(l[0],r,n,o,i,!u,c,d,p):o.includes("val")?s=cF(a,l,r,n,u,i,p)||fF(a,l,r,n,u,c,i,p)||uF(t,c,d,n,i):(o.includes("switch")&&(s=yF(a,l,r,n,u,i,p)),null==s&&o.includes("group")&&(s=hF(a,l,r,n,u,i,p,!1)),null==s&&o.includes("rule")&&(s=mF(a,l,r,n,u,i,p)),s&&b&&!["group","switch_group"].includes(s.type)&&(s=gF(s,n)));var _=i.errors.length;return"!"!=a&&void 0===s&&_==f&&i.errors.push("Can't parse logic ".concat(JSON.stringify(t))),y&&(s.properties.isLocked=!0),s},uF=function(e,t,r,n,o){var i;if(void 0===e&&(e=null==t?void 0:t.defaultValue),void 0!==e){r=r||(null==t?void 0:t.mainWidget);var a=n.widgets[r],l=null==t?void 0:t.type;if(!l||a){if(!Yq(e)){if("time"===l&&"number"==typeof e){var s=Math.floor(e/60/60)%24,u=Math.floor(e/60)%60,c=e%60,d=a.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(s),p.setMinutes(u),p.setSeconds(c),e=Qx(p).format(d)}else e="".concat(s,":").concat(u,":").concat(c)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var f=new Date(e);f instanceof Date&&f.toISOString()===e&&(e=f)}catch(_n){o.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&t){var h=a.valueFormat;h&&(e=Qx(e).format(h))}var g;if(e&&null!=t&&null!==(i=t.fieldSettings)&&void 0!==i&&i.asyncFetch)g=Array.isArray(e)?e:[e];if(null!=a&&a.jsonLogicImport)try{e=a.jsonLogicImport.call(n.ctx,e)}catch(_n){var v;o.errors.push("Can't import value ".concat(e," using import func of widget ").concat(r,": ").concat(null!==(v=null==_n?void 0:_n.message)&&void 0!==v?v:_n)),e=void 0}return{valueSrc:"value",value:e,valueType:null==a?void 0:a.type,asyncListValues:g}}o.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)))}else o.errors.push("No widget for type ".concat(l))}},cF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(r.varKeys.includes(e)&&"string"==typeof t[0]){var l,s=LB(n,t[0],a),u=UB(n,s);return u||null!==(l=i.settings)&&void 0!==l&&l.allowUnknownFields?{valueSrc:"field",value:s,valueType:null==u?void 0:u.type}:void i.errors.push("No config for field ".concat(s))}},dF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Array.isArray(t)||(t=[t]);var l=cF(e,t,r,n,o,i,a);if(l)return{fieldSrc:"field",field:l.value}},pF=function(e,t,r,n,o){var i=fF(e,t,r,n,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6?arguments[6]:void 0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null);if(i)return{fieldSrc:"func",field:i.value}},fF=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(e){var s,u,c,d="method"==e;if(d){var p,f,h=U(t);p=h[0],s=h[1],f=h.slice(2),u=[p].concat(sj(f))}else s=e,u=t;var g=(d?"#":"")+s,v=(null==i?void 0:i.type)||(null==i?void 0:i.returnType),m=(r.funcs[g]||[]).filter((function(e){return!i||NB(n,e).returnType==v}));if(m.length)c=m[0];else{var y,_=b({},e,t),x=JN(TB(n));try{for(x.s();!(y=x.n()).done;){var w=Et(y.value,2),O=w[0],S=w[1];if(S.jsonLogicImport&&(!v||S.returnType==v)){var k=void 0;try{k=S.jsonLogicImport(_)}catch(L){}k&&(c=O,u=k)}}}catch(P){x.e(P)}finally{x.f()}}if(c&&c){var j=NB(n,c),E=Object.keys(j.args||{}),C=u.reduce((function(e,t,o){var i,s=E[o],u=j.args[s];return u&&(i=sF(t,r,n,["val"],a,!1,u,null,l)),void 0!==i?YN(YN({},e),{},b({},s,i)):e}),{});for(var T in j.args){var q=j.args[T],I=C[T];if(void 0===I){var A;if(void 0!==(I=null==q?void 0:q.defaultValue))I={value:I,valueSrc:null!==(A=I)&&void 0!==A&&A.func?"func":"value",valueType:q.type};if(void 0===I){if(null==q||!q.isOptional)return void a.errors.push("No value for arg ".concat(T," of func ").concat(c))}else C[T]=I}}return{valueSrc:"func",value:{func:c,args:C},valueType:j.returnType}}}},hF=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=r.conjunctions[e],u=n.settings.fieldSeparator;if(s){var c=t.map((function(e){return sF(e,r,n,["rule","group"],i,!1,null,null,l)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return YN(YN({},e),{},b({},t.id,t))}),{}),d=Object.values(c).map((function(e){var t,r;return"field"==(null==e||null===(t=e.properties)||void 0===t?void 0:t.fieldSrc)&&(null==e||null===(r=e.properties)||void 0===r?void 0:r.field)})).filter((function(e){var t;return null==e||null===(t=e.includes)||void 0===t?void 0:t.call(e,u)})),p=Object.fromEntries((a=d,Array.from(new Set(a))).map((function(e){var t=e.split(u),r=Object.fromEntries(t.slice(0,-1).map((function(e,t,r){return[].concat(sj(r.slice(0,t)),[e])})).map((function(e){return[e.join(u),UB(n,e)]})).filter((function(e){var t=Et(e,2);t[0];var r=t[1];return"!group"==(null==r?void 0:r.type)})));return[e,Object.keys(r)]}))),f={conjunction:s,not:o},h=Tq(),g={},v={};return Object.entries(c).map((function(e){var t=Et(e,2),r=t[0],o=t[1];if("group"==(null==o?void 0:o.type)||"rule_group"==(null==o?void 0:o.type))g[r]=o;else{var i,a=null==o||null===(i=o.properties)||void 0===i?void 0:i.field,c=p[a]||[],d=c[c.length-1];if(d){var f=g,h=DB(l,n),m=DB(d,n);Dq(h,m.slice(0,h.length))||(h=[]);var y=d.split(u).slice(h.length).map((function(e,t,r){return[].concat(sj(h),sj(r.slice(0,t)),[e]).join(u)})).map((function(e){return{f:e,fc:UB(n,e)||{}}})).filter((function(e){return"!struct"!=e.fc.type}));y.map((function(e,t){var r=e.f,n=e.fc,o=v[r];o||(o=Tq(),v[r]=o,f[o]={type:"rule_group",id:o,children1:{},properties:{conjunction:s,not:!1,field:r,fieldSrc:"field",mode:n.mode}}),f=f[o].children1})),f[r]=o}else o&&(g[r]=o)}})),{type:"group",id:h,children1:g,properties:f}}},gF=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Tq(),children1:b({},e.id,e),properties:{conjunction:FR(t),not:r}}},vF=function(e,t,r,n,o,i,a){var l,s=rF.map((function(e){var t;return null===(t=i.operators[e])||void 0===t?void 0:t.jsonLogic2})).includes(e),u=i.settings.groupOperators.includes(e)&&!s,c=u?0:t-1;u?c=0:eF.includes(e)&&1==c&&null===r[1]&&(t=1,c=0,r=[r[0]]);var d=e+"/"+c,p=o.operators[d];if(p){var f,h=[];if(tF.includes(e)&&3==t)f=r[1],h=[r[0],r[2]];else{var g=U(r);f=g[0],h=g.slice(1)}if(Yq(f)){var v=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=Object.keys(t)[0],h=Object.values(t)[0],g=function(e,t){return dF(e,t,n,o,u,d,p)||pF(e,t,n,o,u,c,d,p)},v=d.errors.length,m=g(f,h);if(m&&(i=m.field,a=m.fieldSrc),e&&(s=!0,l=r[0],r=[]),"reduce"==f&&Array.isArray(h)&&3==h.length){var y=Et(h,3),b=y[0],_=y[1],x=y[2];if(Yq(b)&&0==x&&Yq(_)&&Array.isArray(_["+"])&&1==_["+"][0]&&Yq(_["+"][1])&&"accumulator"==_["+"][1].var)if(f=Object.keys(b)[0],h=Object.values(b)[0],"filter"==f){var w=Et(h,2),O=w[0],S=w[1];if(Yq(O)){var k=g(f=Object.keys(O)[0],h=Object.values(O)[0]);k&&(i=k.field,a=k.fieldSrc,l=S,s=!0)}}else{var j=g(f,h);j&&(i=j.field,a=j.fieldSrc,s=!0)}}var E=d.errors.length;if(i||E!=v||d.errors.push("Unknown LHS ".concat(JSON.stringify(t))),i)return{field:i,fieldSrc:a,having:l,isGroup:s,args:r}}(u,f,h,o,i,null,null,a,n);if(v){var m=v.field,y=v.fieldSrc,b=v.having;v.isGroup;var _=v.args,x=UB(i,m);if(x||null!==(l=a.settings)&&void 0!==l&&l.allowUnknownFields){var w=p[0];if(p.length>1&&x&&x.operators){if(0==(p=p.filter((function(e){return x.operators.includes(e)}))).length)return void a.errors.push("No corresponding ops for LHS ".concat(m));w=p[0]}return{field:m,fieldSrc:y,fieldConfig:x,opKey:w,args:_,having:b}}a.errors.push("No config for LHS ".concat(m))}}else a.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(r)))}},mF=function e(t,r,n,o,i,a){var l,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(t){var c=Object.values(o.conjunctions).map((function(e){return e.jsonLogicConj})),d=function(e,t,r,n,o,i,a){var l=nF(a),s=vF(e,t,r,n,o,i,l);if(s)return s;a.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(t))}(t,r.length,r,s,n,o,a);if(d){var p,f,h=d.field,g=d.fieldSrc,v=d.fieldConfig,m=d.opKey,y=d.args,_=d.having,x=UB(o,s),w=o.operators[m],O=!!o.operators[null===(l=w)||void 0===l?void 0:l.reversedOp],S="!group"==v.type,k="!group"==(null==x?void 0:x.type),j=O&&(!!o.settings.reverseOperatorsForNot||S&&!_||!S&&k&&!u),E=i&&j||false,C=!1,T=!!o.settings.reverseOperatorsForNot;if("!group"==(null==v?void 0:v.type)&&_){p=Object.keys(_)[0],f=_[p],Array.isArray(f)||(f=[f]);for(var q=aF(_,n,a);"!"==p&&!q;){if("!"==p&&1==f.length&&f[0]&&Yq(f[0])&&n.varKeys.includes(Object.keys(f[0])[0]))break;C=!C,_=_["!"],p=Object.keys(_)[0],f=_[p],T&&c.includes(p)&&1==f.length&&(_=_[p][0],p=Object.keys(_)[0],f=_[p]);var I=aF(_,n,a);q=I||q}Array.isArray(f)||(f=[f]),q&&((f=[])[0]=q.jlField,q.jlArgs.forEach((function(e){return f.push(e)})),p=q.newOp)}E&&(i=!i,m=w.reversedOp,w=o.operators[m]);var A=mV(o,h,m,null),L=y.map((function(e){return sF(e,n,o,["val"],a,!1,v,A,s)}));if(!L.filter((function(e){return void 0===e})).length){var P;if(null==v||v.type,"!group"==(null==v?void 0:v.type)&&_){var N;if(void 0!==n.conjunctions[p])P=hF(p,f,n,o,C,a,h,!0);else if(P=e(p,f,n,o,C,a,h,!0))"rule_group"===P.type&&(null===(N=P.properties)||void 0===N?void 0:N.field)!==h&&(P=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e)return{type:"rule_group",id:Tq(),children1:b({},e.id,e),properties:{conjunction:o||NR(n,r),not:i,field:t}}}(P,h,v,o)),Object.assign(P.properties,{conjunction:NR(o,v)});if(!P)return;P.type="rule_group",Object.assign(P.properties,{field:h,mode:v.mode,operator:m}),"array"==v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=gF(P,o,i))}else if("!group"!=(null==v?void 0:v.type)||_){var F=L.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),R=F.length?F[0]:void 0;P={type:"rule",id:Tq(),properties:YN({field:h,fieldSrc:g,operator:m,value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))},R?{asyncListValues:R}:{})},(i||u)&&(P=gF(P,o,i))}else P={type:"rule_group",id:Tq(),children1:{},properties:{conjunction:NR(o,v),not:!1,mode:v.mode,field:h,operator:m}},"array"===v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=gF(P,o,i));return P}}}},yF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("if"===(null==e?void 0:e.toLowerCase())){var l=bF(t).map((function(e){var t=Et(e,2),o=t[0],l=t[1];return[o?sF(o,r,n,["rule","group"],i,!1,null,null,a):null,xF(n,i,r,l)]})).map((function(e){var t=Et(e,2),r=t[0],o=t[1];return _F(r,o,n,i)}));return{type:"switch_group",id:Tq(),children1:l,properties:{}}}},bF=function(e){var t=[];return function e(r){var n=Et(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]);var l=Yq(a)?Object.keys(a)[0]:null;"if"===(null==l?void 0:l.toLowerCase())?e(a[l]):t.push([void 0,a])}(e),t},_F=function(e,t,r,n){var o;return e?(o=YN({},e)).type?("group"!=o.type&&(o=gF(o,r)),o.type="case_group"):(n.errors.push("Unexpected case: ".concat(JSON.stringify(o))),o=void 0):o={id:Tq(),type:"case_group",properties:{}},o&&(o.properties=YN(YN({},o.properties),t)),o},xF=function(e,t,r,n){var o=UB(e,"!case_value");if(o){var i=o.mainWidget,a=e.widgets[i];if(a){var l=sF(n,r,e,["val","case_val"],t,!1,o,i);if(null!=l){var s=l.value,u=l.valueSrc,c=l.valueType;return{value:[s],valueSrc:[null!=u?u:"value"],valueType:[null!=c?c:null==a?void 0:a.type],field:"!case_value"}}}else t.errors.push("No widget ".concat(i," for case value"))}else t.errors.push("Missing caseValueField in settings")},wF={exports:{}};!function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelNode={create:function(e,t){var r,n={},o=e||"Abstract",i=[],a=null;if(n._type=o,n.getType=function(){return o},n.setType=function(e){o=e},n.getChildren=function(){return i},n.addChild=function(e){if(e){if(!e.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(e)};e.setParent(n),i.push(e)}},n.getParent=function(){return a},n.setParent=function(e){a=e},n.getContext=function(e){return r||e.activeContext.peek()},n.setContext=function(e){r=e},n.getStartPosition=function(){return t>>16},n.getEndPosition=function(){return 65535&t},n.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},n.toString=function(){var e="Kind: "+n.getType();e+=", Children: [";for(var t=0,r=n.getChildren().length;t<r;t+=1)e+="{"+n.getChildren()[t]+"}, ";return e+="]"},0===t)throw{name:"Error",message:"Position cannot be 0"};for(var l=arguments.length,s=Array(l>2?l-2:0),u=2;u<l;u++)s[u-2]=arguments[u];return s&&s.forEach((function(e){n.addChild(e)})),n}}},function(e,t,r){function n(e){this.elements=e||[]}Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=n,n.prototype.push=function(e){return this.elements.push(e),e},n.prototype.pop=function(){return this.elements.pop()},n.prototype.peek=function(){return this.elements[this.elements.length-1]},n.prototype.empty=function(){return this.elements.length>0},n.prototype.search=function(e){return this.elements.length-this.elements.indexOf(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(e){this.type=e,this.tokenChars=n[e],this._hasPayload="string"!=typeof n[e],"number"==typeof n[e]&&(this._ordinal=n[e])}for(var i in n)n.hasOwnProperty(i)&&(o[i]=new o(i));o.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(e){for(var t in n)if(n.hasOwnProperty(t)&&n[t]===e)return o[t]},o.prototype.ordinal=function(){return this._ordinal},t.TokenKind=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext=t.SpelExpressionEvaluator=void 0;var n=r(4),o=r(50);t.SpelExpressionEvaluator=n.SpelExpressionEvaluator,t.StandardContext=o.StandardContext},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionEvaluator=void 0;var n=r(5),o=r(1),i={compile:function(e){var t=(0,n.SpelExpressionParser)().parse(e);return{eval:function(e,r){return function(e,t,r){var n,i=new o.Stack;return t||(t={}),i.push(t),n={rootContext:t,activeContext:i,locals:r},e.getValue(n)}(t,e,r)},_compiledExpression:t}},eval:function(e,t,r){return i.compile(e).eval(t,r)}};t.SpelExpressionEvaluator=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionParser=void 0;var n=r(2),o=r(6),i=r(8),a=r(9),l=r(10),s=r(11),u=r(12),c=r(13),d=r(14),p=r(15),f=r(16),h=r(17),g=r(18),v=r(19),m=r(20),y=r(21),b=r(22),_=r(23),x=r(24),w=r(25),O=r(26),S=r(27),k=r(28),j=r(29),E=r(30),C=r(31),T=r(32),q=r(33),I=r(34),A=r(35),L=r(36),P=r(37),N=r(38),F=r(39),R=r(40),M=r(41),D=r(42),V=r(43),z=r(44),B=r(45),H=r(46),U=r(47),$=r(48),W=r(49);t.SpelExpressionParser=function(){var e,t,r,K,G=new RegExp("[\\p{L}\\p{N}_$]+"),Y=[];function J(){var e=Q();if(we()){var t=Se();if(t.getKind()===n.TokenKind.ASSIGN){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var r=Q();return g.Assign.create(Ce(t),e,r)}if(t.getKind()===n.TokenKind.ELVIS){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-2))),Oe();var o=J();return null===o&&(o=s.NullLiteral.create(Te(t.startPos+1,t.endPos+1))),N.Elvis.create(Ce(t),e,o)}if(t.getKind()===n.TokenKind.QMARK){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var i=J();me(n.TokenKind.COLON);var a=J();return P.Ternary.create(Ce(t),e,i,a)}}return e}function Q(){for(var e=X();xe("or")||ye(n.TokenKind.SYMBOLIC_OR);){var t=Oe(),r=X();je(t,e,r),e=A.OpOr.create(Ce(t),e,r)}return e}function X(){for(var e=Z();xe("and")||ye(n.TokenKind.SYMBOLIC_AND);){var t=Oe(),r=Z();je(t,e,r),e=I.OpAnd.create(Ce(t),e,r)}return e}function Z(){var e=ee(),t=function(){var e=Se();if(null===e)return null;if(e.isNumericRelationalOperator())return e;if(e.isIdentifier()){var t=e.stringValue();if("instanceof"===t.toLowerCase())return e.asInstanceOfToken();if("matches"===t.toLowerCase())return e.asMatchesToken();if("between"===t.toLowerCase())return e.asBetweenToken()}return null}();if(null!==t){var r=Oe(),o=ee();je(r,e,o);var i=t.kind;if(t.isNumericRelationalOperator()){var a=Ce(r);return i===n.TokenKind.GT?b.OpGT.create(a,e,o):i===n.TokenKind.LT?x.OpLT.create(a,e,o):i===n.TokenKind.LE?_.OpLE.create(a,e,o):i===n.TokenKind.GE?y.OpGE.create(a,e,o):i===n.TokenKind.EQ?v.OpEQ.create(a,e,o):m.OpNE.create(a,e,o)}return i===n.TokenKind.INSTANCEOF?V.OpInstanceof.create(Ce(r),e,o):i===n.TokenKind.MATCHES?L.OpMatches.create(Ce(r),e,o):z.OpBetween.create(Ce(r),e,o)}return e}function ee(){for(var e=te();_e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.INC);){var t=Oe(),r=te();Ee(t,r),t.getKind()===n.TokenKind.PLUS?e=w.OpPlus.create(Ce(t),e,r):t.getKind()===n.TokenKind.MINUS&&(e=O.OpMinus.create(Ce(t),e,r))}return e}function te(){for(var e=re();_e(n.TokenKind.STAR,n.TokenKind.DIV,n.TokenKind.MOD);){var t=Oe(),r=re();je(t,e,r),e=t.getKind()===n.TokenKind.STAR?S.OpMultiply.create(Ce(t),e,r):t.getKind()===n.TokenKind.DIV?k.OpDivide.create(Ce(t),e,r):j.OpModulus.create(Ce(t),e,r)}return e}function re(){var e,t=ne();if(ye(n.TokenKind.POWER)){e=Oe();var r=ne();return Ee(e,r),E.OpPower.create(Ce(e),t,r)}return null!==t&&_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe()).getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!0,t):T.OpDec.create(Ce(e),!0,t):t}function ne(){var e,t;return _e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.NOT)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.NOT?q.OpNot.create(Ce(e),t):e.getKind()===n.TokenKind.PLUS?w.OpPlus.create(Ce(e),t):O.OpMinus.create(Ce(e),t)):_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!1,t):T.OpDec.create(Ce(e),!1,t)):function(){var e=[],t=function(){var e=Se();if(null===e)return!1;if(e.getKind()===n.TokenKind.LITERAL_INT||e.getKind()===n.TokenKind.LITERAL_LONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),10),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_REAL||e.getKind()===n.TokenKind.LITERAL_REAL_FLOAT)ge(a.NumberLiteral.create(parseFloat(e.stringValue()),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_HEXINT||e.getKind()===n.TokenKind.LITERAL_HEXLONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),16),Ce(e)));else if(xe("true"))ge(i.BooleanLiteral.create(!0,Ce(e)));else if(xe("false"))ge(i.BooleanLiteral.create(!1,Ce(e)));else{if(e.getKind()!==n.TokenKind.LITERAL_STRING)return!1;ge(l.StringLiteral.create(e.stringValue(),Ce(e)))}return Oe(),!0}()||function(){if(ye(n.TokenKind.LPAREN)){Oe();var e=J();return me(n.TokenKind.RPAREN),ge(e),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();if("T"!==e.stringValue())return!1;var t=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(t.stringValue(),Ce(t))),!0;me(n.TokenKind.LPAREN);for(var r=pe(),o=0;be(n.TokenKind.LSQUARE,!0);)me(n.TokenKind.RSQUARE),o++;return me(n.TokenKind.RPAREN),ge(B.TypeReference.create(Ce(e),r,o)),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();return"null"===e.stringValue().toLowerCase()&&(Oe(),ge(s.NullLiteral.create(Ce(e))),!0)}return!1}()||function(){if(xe("new")){var e=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(e.stringValue(),Ce(e))),!0;var t=pe(),r=[];if(r.push(t),ye(n.TokenKind.LSQUARE)){for(var o=[];be(n.TokenKind.LSQUARE,!0);)ye(n.TokenKind.RSQUARE)?o.push(null):o.push(J()),me(n.TokenKind.RSQUARE);ue()&&r.push(ve()),ge(W.ConstructorReference.create(Ce(e),o,r))}else i=r,ye(n.TokenKind.LPAREN)||ke(Ce(Se()),"MISSING_CONSTRUCTOR_ARGS"),le(i),me(n.TokenKind.RPAREN),ge(W.ConstructorReference.create(Ce(e),r));return!0}var i;return!1}()||he(!1)||ie()||function(){if(ye(n.TokenKind.BEAN_REF)){var e=Oe(),t=null,r=null;return ye(n.TokenKind.IDENTIFIER)?r=(t=me(n.TokenKind.IDENTIFIER)).data:ye(n.TokenKind.LITERAL_STRING)?r=(r=(t=me(n.TokenKind.LITERAL_STRING)).stringValue()).substring(1,r.length()-1):ke(e.startPos,"INVALID_BEAN_REFERENCE"),ge(H.BeanReference.create(Ce(t),r)),!0}return!1}()||se(!1)||de(!1)||ce()||ue()?ve():null;for(e.push(t);oe();)e.push(ve());return 1===e.length?e[0]:f.CompoundExpression.create(Te(t.getStartPosition(),e[e.length-1].getEndPosition()),e)}()}function oe(){var e=null;return e=_e(n.TokenKind.DOT,n.TokenKind.SAFE_NAVI)?function(){var e=Oe(),t=e.getKind()===n.TokenKind.SAFE_NAVI;return he(t)||ie()||se(t)||de(t)?ve():(null===Se()?ke(e.startPos,"OOD"):ke(e.startPos,"UNEXPECTED_DATA_AFTER_DOT",function(e){return e.getKind().hasPayload()?e.stringValue():e.getKind().toString().toLowerCase()}(Se())),null)}():ye(n.TokenKind.LSQUARE)&&ce()?ve():null,null!==e&&(ge(e),!0)}function ie(){if(!ye(n.TokenKind.HASH))return!1;var e=Oe(),t=me(n.TokenKind.IDENTIFIER),r=ae();return null===r?(ge(p.VariableReference.create(t.data,Te(e.startPos,t.endPos))),!0):(ge(u.FunctionReference.create(t.data,Te(e.startPos,t.endPos),r)),!0)}function ae(){if(!ye(n.TokenKind.LPAREN))return null;var e=[];return le(e),me(n.TokenKind.RPAREN),e}function le(e){var t,r=Se().startPos;do{Oe();var o=Se();null===o&&ke(r,"RUN_OUT_OF_ARGUMENTS"),o.getKind()!==n.TokenKind.RPAREN&&e.push(J()),t=Se()}while(null!==t&&t.kind===n.TokenKind.COMMA);null===t&&ke(r,"RUN_OUT_OF_ARGUMENTS")}function se(e){var t=Se();if(!be(n.TokenKind.PROJECT,!0))return!1;var r=J();return me(n.TokenKind.RSQUARE),ge(D.Projection.create(e,Ce(t),r)),!0}function ue(){var e=Se(),t=[];if(!be(n.TokenKind.LCURLY,!0))return!1;var r=null,o=Se();if(be(n.TokenKind.RCURLY,!0))r=F.InlineList.create(Te(e.startPos,o.endPos));else if(be(n.TokenKind.COLON,!0))o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos));else{var i=J();if(ye(n.TokenKind.RCURLY))t.push(i),o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Te(e.startPos,o.endPos),t);else if(be(n.TokenKind.COMMA,!0)){t.push(i);do{t.push(J())}while(be(n.TokenKind.COMMA,!0));o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Ce(e.startPos,o.endPos),t)}else if(be(n.TokenKind.COLON,!0)){var a=[];for(a.push(i),a.push(J());be(n.TokenKind.COMMA,!0);)a.push(J()),me(n.TokenKind.COLON),a.push(J());o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos),a)}else ke(e.startPos,"OOD")}return ge(r),!0}function ce(){var e=Se();if(!be(n.TokenKind.LSQUARE,!0))return!1;var t=J();return me(n.TokenKind.RSQUARE),ge(h.Indexer.create(Ce(e),t)),!0}function de(e){var t=Se();if(!function(){if(!we())return!1;var e=Se();return e.getKind()===n.TokenKind.SELECT||e.getKind()===n.TokenKind.SELECT_FIRST||e.getKind()===n.TokenKind.SELECT_LAST}())return!1;Oe();var r=J();return null===r&&ke(Ce(t),"MISSING_SELECTION_EXPRESSION"),me(n.TokenKind.RSQUARE),t.getKind()===n.TokenKind.SELECT_FIRST?ge(M.Selection.create(e,M.Selection.FIRST,Ce(t),r)):t.getKind()===n.TokenKind.SELECT_LAST?ge(M.Selection.create(e,M.Selection.LAST,Ce(t),r)):ge(M.Selection.create(e,M.Selection.ALL,Ce(t),r)),!0}function pe(){for(var t=[],r=Se();fe(r);)Oe(),r.kind!==n.TokenKind.DOT&&t.push(U.Identifier.create(r.stringValue(),Ce(r))),r=Se();t.length||(null===r&&ke(e.length(),"OOD"),ke(r.startPos,"NOT_EXPECTED_TOKEN","qualified ID",r.getKind().toString().toLowerCase()));var o=Te(t[0].getStartPosition(),t[t.length-1].getEndPosition());return $.QualifiedIdentifier.create(o,t)}function fe(e){if(null===e||e.kind===n.TokenKind.LITERAL_STRING)return!1;if(e.kind===n.TokenKind.DOT||e.kind===n.TokenKind.IDENTIFIER)return!0;var t=e.stringValue();return t&&t.length&&G.test(t)}function he(e){if(ye(n.TokenKind.IDENTIFIER)){var t=Oe(),r=ae();return null===r?(ge(d.PropertyReference.create(e,t.stringValue(),Ce(t))),!0):(ge(c.MethodReference.create(e,t.stringValue(),Ce(t),r)),!0)}return!1}function ge(e){Y.push(e)}function ve(){return Y.pop()}function me(t){var r=Oe();return null===r&&ke(e.length,"OOD"),r.getKind()!==t&&ke(r.startPos,"NOT_EXPECTED_TOKEN",t.toString().toLowerCase(),r.getKind().toString().toLowerCase()),r}function ye(e){return be(e,!1)}function be(e,t){if(!we())return!1;var r=Se();return r.getKind()===e?(t&&K++,!0):e===n.TokenKind.IDENTIFIER&&r.getKind().ordinal()>=n.TokenKind.DIV.ordinal()&&r.getKind().ordinal()<=n.TokenKind.NOT.ordinal()&&null!==r.data}function _e(){if(!we())return!1;for(var e=Se(),t=Array.prototype.slice.call(arguments),r=0,n=t.length;r<n;r+=1)if(e.getKind()===t[r])return!0;return!1}function xe(e){if(!we())return!1;var t=Se();return t.getKind()===n.TokenKind.IDENTIFIER&&t.stringValue().toLowerCase()===e.toLowerCase()}function we(){return K<t.length}function Oe(){return K>=r?null:t[K++]}function Se(){return K>=r?null:t[K]}function ke(t,r,n,o){throw n&&(r+="\nExpected: "+n),o&&(r+="\nActual: "+o),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+e+"' at position "+t+". Message: "+r}}function je(e,t,r){!function(e,t){null===t&&ke(e.startPos,"LEFT_OPERAND_PROBLEM")}(e,t),Ee(e,r)}function Ee(e,t){null===t&&ke(e.startPos,"RIGHT_OPERAND_PROBLEM")}function Ce(e){return(e.startPos<<16)+e.endPos}function Te(e,t){return(e<<16)+t}return{setConfiguration:function(e){},parse:function(n,i){try{e=n,t=o.Tokenizer.tokenize(n),r=t.length,K=0,Y=[];var a=J();return we()&&ke(Se().startPos,"MORE_INPUT",Oe().toString()),a}catch(_n){throw _n.message}}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var n=r(7),o=r(2),i=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],a=[];!function(){var e;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e+=1)a[e]|=3;for(e="A".charCodeAt(0);e<="F".charCodeAt(0);e+=1)a[e]|=2;for(e="a".charCodeAt(0);e<="f".charCodeAt(0);e+=1)a[e]|=2;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e+=1)a[e]|=4;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e+=1)a[e]|=4}(),t.Tokenizer={tokenize:function(e){var t=e,r=e+"\0",l=r.length,s=0,u=[];function c(){for(var e,i=s,a=!1;!a;)if("'"===(e=r[s+=1])&&("'"===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function d(){for(var e,i=s,a=!1;!a;)if('"'===(e=r[s+=1])&&('"'===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function p(e){var n,o,i,a=!1,l=s,u=r[s+1];if(!e||"x"!==u&&"X"!==u){do{s+=1}while(S(r[s]));if("."===(u=r[s])){a=!0,n=s;do{s+=1}while(S(r[s]));if(s===n+1)return void h(m(l,s=n),!1,l,s)}if(o=s,x("L","l")){if(a)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+t+") at position "+s};h(m(l,o),!0,l,o),s+=1}else if(function(e){return"e"===e||"E"===e}(r[s])){a=!0,function(e){return"+"===e||"-"===e}(r[s+=1])&&(s+=1);do{s+=1}while(S(r[s]));i=!1,w(r[s])?(i=!0,o=s+=1):O(r[s])&&(o=s+=1),v(m(l,s),i,l,s)}else i=!1,w(u=r[s])?(a=!0,i=!0,o=s+=1):O(u)&&(a=!0,o=s+=1),a?v(m(l,o),i,l,o):h(m(l,o),!1,l,o)}else{s+=1;do{s+=1}while(j(r[s]));x("L","l")?(g(m(l+2,s),!0,l,s),s+=1):g(m(l+2,s),!1,l,s)}}function f(){var e,t,a,l=s;do{s+=1}while(k(a=r[s])||S(a)||"_"===a||"$"===a);e=m(l,s),(s-l==2||s-l==3)&&(t=e.toUpperCase(),i.indexOf(t)>=0)?function(e,t,r){u.push(new n.Token(e,r,t,t+e.getLength()))}(o.TokenKind.valueOf(t),l,e):u.push(new n.Token(o.TokenKind.IDENTIFIER,e.replace("\0",""),l,s))}function h(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_LONG,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_INT,e,r,i))}function g(e,r,i,a){if(0===e.length)throw r?{name:"SpelParseException",message:"Not a long in expression ("+t+") at position "+s}:{name:"SpelParseException",message:"Not an int in expression ("+t+") at position "+s};r?u.push(new n.Token(o.TokenKind.LITERAL_HEXLONG,e,i,a)):u.push(new n.Token(o.TokenKind.LITERAL_HEXINT,e,i,a))}function v(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_REAL_FLOAT,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_REAL,e,r,i))}function m(e,t){return r.substring(e,t)}function y(e){return 2===e.tokenChars.length&&r[s]===e.tokenChars[0]&&r[s+1]===e.tokenChars[1]}function b(e){u.push(new n.Token(e,null,s,s+1)),s+=1}function _(e){u.push(new n.Token(e,null,s,s+2)),s+=2}function x(e,t){var n=r[s];return n===e||n===t}function w(e){return"f"===e||"F"===e}function O(e){return"d"===e||"D"===e}function S(e){return!(e.charCodeAt(0)>255)&&0!=(1&a[e.charCodeAt(0)])}function k(e){return!(e.charCodeAt(0)>255)&&0!=(4&a[e.charCodeAt(0)])}function j(e){return!(e.charCodeAt(0)>255)&&0!=(2&a[e.charCodeAt(0)])}return function(){for(var e;s<l;)if(k(e=r[s]))f();else switch(e){case"+":y(o.TokenKind.INC)?_(o.TokenKind.INC):b(o.TokenKind.PLUS);break;case"_":f();break;case"-":y(o.TokenKind.DEC)?_(o.TokenKind.DEC):b(o.TokenKind.MINUS);break;case":":b(o.TokenKind.COLON);break;case".":b(o.TokenKind.DOT);break;case",":b(o.TokenKind.COMMA);break;case"*":b(o.TokenKind.STAR);break;case"/":b(o.TokenKind.DIV);break;case"%":b(o.TokenKind.MOD);break;case"(":b(o.TokenKind.LPAREN);break;case")":b(o.TokenKind.RPAREN);break;case"[":b(o.TokenKind.LSQUARE);break;case"#":b(o.TokenKind.HASH);break;case"]":b(o.TokenKind.RSQUARE);break;case"{":b(o.TokenKind.LCURLY);break;case"}":b(o.TokenKind.RCURLY);break;case"@":b(o.TokenKind.BEAN_REF);break;case"^":y(o.TokenKind.SELECT_FIRST)?_(o.TokenKind.SELECT_FIRST):b(o.TokenKind.POWER);break;case"!":y(o.TokenKind.NE)?_(o.TokenKind.NE):y(o.TokenKind.PROJECT)?_(o.TokenKind.PROJECT):b(o.TokenKind.NOT);break;case"=":y(o.TokenKind.EQ)?_(o.TokenKind.EQ):b(o.TokenKind.ASSIGN);break;case"&":if(!y(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!y(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_OR);break;case"?":y(o.TokenKind.SELECT)?_(o.TokenKind.SELECT):y(o.TokenKind.ELVIS)?_(o.TokenKind.ELVIS):y(o.TokenKind.SAFE_NAVI)?_(o.TokenKind.SAFE_NAVI):b(o.TokenKind.QMARK);break;case"$":y(o.TokenKind.SELECT_LAST)?_(o.TokenKind.SELECT_LAST):f();break;case">":y(o.TokenKind.GE)?_(o.TokenKind.GE):b(o.TokenKind.GT);break;case"<":y(o.TokenKind.LE)?_(o.TokenKind.LE):b(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p("0"===e);break;case" ":case"\t":case"\r":case"\n":case"\0":s+=1;break;case"'":c();break;case'"':d();break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+t+") at position "+s};default:throw{name:"SpelParseException",message:"Cannot handle character '"+e+"' in expression ("+t+") at position "+s}}}(),u}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var n=r(2);function o(e,t,r,n){this.kind=e,this.startPos=r,this.endPos=n,t&&(this.data=t)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var e="[";return e+=this.kind.toString(),this.kind.hasPayload()&&(e+=":"+this.data),e+="]",e+="("+this.startPos+","+this.endPos+")"},o.prototype.isIdentifier=function(){return this.kind===n.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===n.TokenKind.GT||this.kind===n.TokenKind.GE||this.kind===n.TokenKind.LT||this.kind===n.TokenKind.LE||this.kind===n.TokenKind.EQ||this.kind===n.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(n.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(n.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(n.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},t.Token=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;var n=r(0);t.BooleanLiteral={create:function(e,t){var r=n.SpelNode.create("boolean",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberLiteral=void 0;var n=r(0);t.NumberLiteral={create:function(e,t){var r=n.SpelNode.create("number",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;var n=r(0);t.StringLiteral={create:function(e,t){var r=n.SpelNode.create("string",t);return e=function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.substring(1,e.length-1)),e.replace(/''/g,"'").replace(/""/g,'"')}(e),r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;var n=r(0);t.NullLiteral={create:function(e,t){var r=n.SpelNode.create("null",t);return r.getValue=function(){return null},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionReference=void 0;var n=r(0),o=r(1);t.FunctionReference={create:function(e,t,r){var i=n.SpelNode.create("function",t);return i.getRaw=function(){return{functionName:e,args:r}},i.getValue=function(t){var n=t.locals||{},i=t.rootContext,a=[];if(r.forEach((function(e){var r=t.activeContext;t.activeContext=new o.Stack,t.activeContext.push(t.rootContext),a.push(e.getValue(t)),t.activeContext=r})),n[e])return n[e].apply(i,a);throw{name:"FunctionDoesNotExistException",message:"Function '"+e+"' does not exist."}},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MethodReference=void 0;var n=r(0),o=r(1);t.MethodReference={create:function(e,t,r,i){var a=n.SpelNode.create("method",r);return a.getRaw=function(){return{methodName:t,args:i}},a.getValue=function(r){var n,a=r.activeContext.peek(),l=[];if(!a)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."};function s(r){if(null==r){if(e)return null;throw{name:"NullPointerException",message:"Method "+t+" does not exist."}}return r}if(i.forEach((function(e){var t=r.activeContext;r.activeContext=new o.Stack,r.activeContext.push(r.rootContext),l.push(e.getValue(r)),r.activeContext=t})),"get"===t.substr(0,3)&&!a[t])return s(a[t.charAt(3).toLowerCase()+t.substring(4)]);if("set"===t.substr(0,3)&&!a[t])return a[t.charAt(3).toLowerCase()+t.substring(4)]=l[0];if(Array.isArray(a)){if("size"===t)return a.length;if("contains"===t)return a.includes(l[0])}return(n=s(a[t]))?n.apply(a,l):null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyReference=void 0;var n=r(0);t.PropertyReference={create:function(e,t,r){var o=n.SpelNode.create("property",r);return o.getRaw=function(){return t},o.getValue=function(r){var n=r.activeContext.peek();if(!n){if(e)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."}}if(void 0===n[t]||null===n[t]){if(e)return null;if("size"===t&&Array.isArray(n))return n.length;throw{name:"NullPointerException",message:"Property '"+t+"' does not exist."}}return n[t]},o.setValue=function(e,r){var n=r.activeContext.peek();if(!n)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t+"' for an undefined context."};return n[t]=e},o.getName=function(){return t},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReference=void 0;var n=r(0);t.VariableReference={create:function(e,t){var r=n.SpelNode.create("variable",t);return r.getRaw=function(){return e},r.getValue=function(t){var r=t.activeContext.peek(),n=t.locals;if(!r)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+e+"' for an undefined context."};return"this"===e?r:"root"===e?t.rootContext:n[e]},r.setValue=function(t,r){return r.locals[e]=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundExpression=void 0;var n=r(0);t.CompoundExpression={create:function(e,t){var r=n.SpelNode.create.apply(null,["compound",e].concat(t));function o(e){var t,n=r.getChildren().length;for(t=0;t<n;t+=1)"indexer"===r.getChildren()[t].getType()?e.activeContext.push(e.activeContext.peek()[r.getChildren()[t].getValue(e)]):e.activeContext.push(r.getChildren()[t].getValue(e));return function(){for(t=0;t<n;t+=1)e.activeContext.pop()}}return r.getValue=function(e){var t;if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var r=o(e);return t=e.activeContext.peek(),r(),t},r.setValue=function(e,t){var n=o(t),i=r.getChildren().length;return t.activeContext.pop(),e=r.getChildren()[i-1].setValue(e,t),t.activeContext.push(null),n(),e},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Indexer=void 0;var n=r(0),o=r(1);t.Indexer={create:function(e,t){var r=n.SpelNode.create.apply(null,["indexer",e].concat(t));return r.getValue=function(e){var t,n,i=e.activeContext,a=r.getChildren().length;if(e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(t=0;t<a;t+=1)e.activeContext.push(r.getChildren()[t].getValue(e));for(n=e.activeContext.peek(),t=0;t<a;t+=1)e.activeContext.pop();return e.activeContext=i,n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Assign=void 0;var n=r(0);t.Assign={create:function(e,t,r){var o=n.SpelNode.create("assign",e,t,r);return o.getValue=function(e){if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t.getValue(e)+"' for an undefined context."};return t.setValue(r.getValue(e),e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpEQ=void 0;var n=r(0);t.OpEQ={create:function(e,t,r){var o=n.SpelNode.create("op-eq",e,t,r);return o.getValue=function(e){return t.getValue(e)===r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNE=void 0;var n=r(0);t.OpNE={create:function(e,t,r){var o=n.SpelNode.create("op-ne",e,t,r);return o.getValue=function(e){return t.getValue(e)!==r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGE=void 0;var n=r(0);t.OpGE={create:function(e,t,r){var o=n.SpelNode.create("op-ge",e,t,r);return o.getValue=function(e){return t.getValue(e)>=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGT=void 0;var n=r(0);t.OpGT={create:function(e,t,r){var o=n.SpelNode.create("op-gt",e,t,r);return o.getValue=function(e){return t.getValue(e)>r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLE=void 0;var n=r(0);t.OpLE={create:function(e,t,r){var o=n.SpelNode.create("op-le",e,t,r);return o.getValue=function(e){return t.getValue(e)<=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLT=void 0;var n=r(0);t.OpLT={create:function(e,t,r){var o=n.SpelNode.create("op-lt",e,t,r);return o.getValue=function(e){return t.getValue(e)<r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPlus=void 0;var n=r(0);t.OpPlus={create:function(e,t,r){var o=n.SpelNode.create("op-plus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)+r.getValue(e):+t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMinus=void 0;var n=r(0);t.OpMinus={create:function(e,t,r){var o=n.SpelNode.create("op-minus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)-r.getValue(e):-t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMultiply=void 0;var n=r(0);t.OpMultiply={create:function(e,t,r){var o=n.SpelNode.create("op-multiply",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);if("number"==typeof n&&"number"==typeof o)return n*o;if("string"==typeof n&&"number"==typeof o){for(var i="",a=0;a<o;a+=1)i+=n;return i}return null},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDivide=void 0;var n=r(0);t.OpDivide={create:function(e,t,r){var o=n.SpelNode.create("op-divide",e,t,r);return o.getValue=function(e){return t.getValue(e)/r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpModulus=void 0;var n=r(0);t.OpModulus={create:function(e,t,r){var o=n.SpelNode.create("op-modulus",e,t,r);return o.getValue=function(e){return t.getValue(e)%r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPower=void 0;var n=r(0);t.OpPower={create:function(e,t,r){var o=n.SpelNode.create("op-power",e,t,r);return o.getValue=function(e){return Math.pow(t.getValue(e),r.getValue(e))},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInc=void 0;var n=r(0);t.OpInc={create:function(e,t,r){var o=n.SpelNode.create("op-inc",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n+1,e),t?n:n+1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDec=void 0;var n=r(0);t.OpDec={create:function(e,t,r){var o=n.SpelNode.create("op-dec",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n-1,e),t?n:n-1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNot=void 0;var n=r(0);t.OpNot={create:function(e,t){var r=n.SpelNode.create("op-not",e,t);return r.getValue=function(e){return!t.getValue(e)},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpAnd=void 0;var n=r(0);t.OpAnd={create:function(e,t,r){var o=n.SpelNode.create("op-and",e,t,r);return o.getValue=function(e){return!!t.getValue(e)&&!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpOr=void 0;var n=r(0);t.OpOr={create:function(e,t,r){var o=n.SpelNode.create("op-or",e,t,r);return o.getValue=function(e){return!!t.getValue(e)||!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMatches=void 0;var n=r(0);t.OpMatches={create:function(e,t,r){var o=n.SpelNode.create("matches",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);try{return!!new RegExp(o).exec(n)}catch(i){throw{name:"EvaluationException",message:i.toString()}}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Ternary=void 0;var n=r(0);t.Ternary={create:function(e,t,r,o){var i=n.SpelNode.create("ternary",e,t,r,o);return i.getValue=function(e){return t.getValue(e)?r.getValue(e):o.getValue(e)},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Elvis=void 0;var n=r(0);t.Elvis={create:function(e,t,r){var o=n.SpelNode.create("elvis",e,t,r);return o.getValue=function(e){return null!==t.getValue(e)?t.getValue(e):r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineList=void 0;var n=r(0);t.InlineList={create:function(e,t){var r=n.SpelNode.create("list",e),o=[].concat(t||[]);return r.getRaw=function(){return o},r.getValue=function(e){return o.map((function(t){return t.getValue(e)}))},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineMap=void 0;var n=r(0);t.InlineMap={create:function(e,t){var r=n.SpelNode.create("map",e),o=[].concat(t||[]);return r.getValue=function(e){var t=!0,r=null,n={};return o.forEach((function(o){t?r="property"===o.getType()?o.getName():o.getValue(e):n[r]=o.getValue(e),t=!t})),n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}t.Selection={create:function(e,t,r,a){var l=o.SpelNode.create("selection",r,a);return l.getValue=function(e){var r=e.activeContext.peek();if(r){if(Array.isArray(r))return function(e,t,r,n){var o=e.filter((function(e){return i(e,r,n)}));switch(t){case"ALL":return o;case"FIRST":return o[0]||null;case"LAST":return o.length?o[o.length-1]:null}}(r,t,a,e);if("object"===(void 0===r?"undefined":n(r)))return function(e,t,r,n){var o,a,l={},s=[],u={};for(a in e)e.hasOwnProperty(a)&&i(o={key:a,value:e[a]},r,n)&&s.push(o);switch(t){case"ALL":return s.forEach((function(e){l[e.key]=e.value})),l;case"FIRST":return s.length?(u[s[0].key]=s[0].value,u):null;case"LAST":return s.length?(u[s[s.length-1].key]=s[s.length-1].value,u):null}s.forEach((function(e){l[e.key]=e.value}))}(r,t,a,e)}return null},l},FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){return e.map((function(e){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}))}t.Projection={create:function(e,t,r){var a=o.SpelNode.create("projection",t,r);return a.getValue=function(e){var t,o=e.activeContext.peek(),a=[];if(Array.isArray(o))return i(o,r,e);if("object"===(void 0===o?"undefined":n(o))){for(t in o)o.hasOwnProperty(t)&&a.push(o[t]);return i(a,r,e)}return null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInstanceof=void 0;var n=r(0);t.OpInstanceof={create:function(e,t,r){var o=n.SpelNode.create("instanceof",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpBetween=void 0;var n=r(0);t.OpBetween={create:function(e,t,r){var o=n.SpelNode.create("between",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeReference=void 0;var n=r(0);t.TypeReference={create:function(e,t,r){return(t=n.SpelNode.create("typeref",e,t)).getValue=function(e){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},t}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BeanReference=void 0;var n=r(0);t.BeanReference={create:function(e,t){var r=n.SpelNode.create("beanref",e);return r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Identifier=void 0;var n=r(0);t.Identifier={create:function(e,t){var r=n.SpelNode.create("identifier",t);return r.getRaw=function(){return e},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedIdentifier=void 0;var n=r(0);t.QualifiedIdentifier={create:function(e,t){var r=n.SpelNode.create.apply(n.SpelNode,["qualifiedidentifier",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));return r.getRaw=function(){return t.map((function(e){return e.getRaw()}))},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorReference=void 0;var n=r(0),o=r(1);t.ConstructorReference={create:function(e,t,r){var i,a=void 0!==r;a?i=t.length&&t[0]&&"number"===t[0].getType()?t[0].getValue():null:(r=t,t=void 0);var l,s=(l=r,Array.isArray(l)?l:Array.from(l));s[0];var u=s.slice(1),c=n.SpelNode.create.apply(n.SpelNode,["constructorref",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)));return c.getRaw=function(){return i},c.getValue=function(e){if(a&&u.length<=1){var t=[];return u.forEach((function(r){var n=e.activeContext;e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),t.push(r.getValue(e)),e.activeContext=n})),1===u.length?t[0]:i?new Array(i):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},c}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext={create:function(e,t){var r={};return r.authentication=e||{},r.principal=t||{},r.hasRole=function(e){var t=!1;return!!e&&!(!r.authentication&&!Array.isArray(r.authentication.authorities))&&(r.authentication.authorities.forEach((function(r){r.authority.toLowerCase()===e.toLowerCase()&&(t=!0)})),t)},r.hasPermission=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length)return r.hasRole(e[0])},r}}}])},e.exports=r()}(wF);var OF=wF.exports,SF={};!function(e){var t=e,r=/`/g,n=/\./g,o=/[\0\b\t\n\r\x1a\"\'\\]/g,i={"\0":"\\0","\b":"\\b","\t":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};function a(e){for(var t,r=o.lastIndex=0,n="";t=o.exec(e);)n+=e.slice(r,t.index)+i[t[0]],r=o.lastIndex;return 0===r?"'"+e+"'":r<e.length?"'"+n+e.slice(r)+"'":"'"+n+"'"}function l(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}t.escapeId=function(e,o){if(Array.isArray(e)){for(var i="",a=0;a<e.length;a++)i+=(0===a?"":", ")+t.escapeId(e[a],o);return i}return o?"`"+String(e).replace(r,"``")+"`":"`"+String(e).replace(r,"``").replace(n,"`.`")+"`"},t.escape=function(e,r,n){if(null==e)return"NULL";switch(typeof e){case"boolean":return e?"true":"false";case"number":return e+"";case"object":return"[object Date]"===Object.prototype.toString.call(e)?t.dateToString(e,n||"local"):Array.isArray(e)?t.arrayToList(e,n):Buffer.isBuffer(e)?t.bufferToString(e):"function"==typeof e.toSqlString?String(e.toSqlString()):r?a(e.toString()):t.objectToValues(e,n);default:return a(e)}},t.arrayToList=function(e,r){for(var n="",o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?n+=(0===o?"":", ")+"("+t.arrayToList(i,r)+")":n+=(0===o?"":", ")+t.escape(i,!0,r)}return n},t.format=function(e,r,n,o){if(null==r)return e;Array.isArray(r)||(r=[r]);for(var i,a=0,l=/\?+/g,s="",u=0;u<r.length&&(i=l.exec(e));){var c=i[0].length;if(!(c>2)){var d=2===c?t.escapeId(r[u]):t.escape(r[u],n,o);s+=e.slice(a,i.index)+d,a=l.lastIndex,u++}}return 0===a?e:a<e.length?s+e.slice(a):s},t.dateToString=function(e,t){var r,n,o,i,s,u,c,d=new Date(e);if(isNaN(d.getTime()))return"NULL";if("local"===t)r=d.getFullYear(),n=d.getMonth()+1,o=d.getDate(),i=d.getHours(),s=d.getMinutes(),u=d.getSeconds(),c=d.getMilliseconds();else{var p=function(e){if("Z"===e)return 0;var t=e.match(/([\+\-\s])(\d\d):?(\d\d)?/);if(t)return("-"===t[1]?-1:1)*(parseInt(t[2],10)+(t[3]?parseInt(t[3],10):0)/60)*60;return!1}(t);!1!==p&&0!==p&&d.setTime(d.getTime()+6e4*p),r=d.getUTCFullYear(),n=d.getUTCMonth()+1,o=d.getUTCDate(),i=d.getUTCHours(),s=d.getUTCMinutes(),u=d.getUTCSeconds(),c=d.getUTCMilliseconds()}return a(l(r,4)+"-"+l(n,2)+"-"+l(o,2)+" "+l(i,2)+":"+l(s,2)+":"+l(u,2)+"."+l(c,3))},t.bufferToString=function(e){return"X"+a(e.toString("hex"))},t.objectToValues=function(e,r){var n="";for(var o in e){var i=e[o];"function"!=typeof i&&(n+=(0===n.length?"":", ")+t.escapeId(o)+" = "+t.escape(i,!0,r))}return n},t.raw=function(e){if("string"!=typeof e)throw new TypeError("argument sql must be a string");return{toSqlString:function(){return e}}}}(SF);var kF=g(SF);kF.trim=function(e){return"'"==e.charAt(0)?e.substring(1,e.length-1):e},kF.escapeLike=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=kF.escape(e);return n="'"+(n=(t?"%":"")+(n=(n=kF.trim(n)).replace(/[%_]/g,"\\$&"))+(r?"%":""))+"'"};var jF=function(e){var t="''",r=null==e?void 0:e.type;return"date"==r?t="'0000-00-00'":"datetime"==r?t="'0000-00-00 00:00'":"time"==r?t="'00:00'":"number"==r&&(t="0"),t},EF=function(e){var t="";return"number"==(null==e?void 0:e.type)&&(t=0),t},CF=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=["int","float"];return e.map((function(e){if(null!=e){if("string"==typeof e)r="String";else{if("number"!=typeof e)throw new Error("spelEscape: Can't use value ".concat(e," in array"));r=Number.isInteger(e)?"int":"float"}if(t){if(t!=r){if(!i.includes(t)||!i.includes(r))throw new Error("spelEscape: Can't use different types in array: found ".concat(t," and ").concat(r));t="float"}}else t=r}})),t||(t="String"),n="float"==t?e.map((function(e){return qF(e,!0)})):e.map((function(e){return qF(e)})),o?"new ".concat(t,"[]{").concat(n.join(", "),"}"):"{".concat(n.join(", "),"}")},TF=function(e){return"".concat(e,".?[true]")},qF=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return"null";switch(_(e)){case"boolean":return e?"true":"false";case"number":if(!Number.isFinite(e)||isNaN(e))return;return e+(!Number.isInteger(e)||t?"f":"");case"object":if(Array.isArray(e))return CF(e,r);throw new Error("spelEscape: Object is not supported");default:return function(e){return"'"+e.replace(/'/g,"''")+"'"}(e)}},IF=function(e){return null==e?"NULL":e.toString()},AF=function(e){return null==e||"("===(null==e?void 0:e[0])&&")"===(null==e?void 0:e[(null==e?void 0:e.length)-1])?e:"("+e+")"};const LF=Object.freeze(Object.defineProperty({__proto__:null,SqlString:kF,mongoEmptyValue:EF,spelEscape:qF,spelFixList:TF,spelFormatConcat:function(e){return e&&Array.isArray(e)&&e.length?e.map((function(e){return"const"==e.type?qF(e.value):"property"==e.type?""+e.value:"variable"==e.type?"#"+e.value:void 0})).filter((function(e){return null!=e})).join(" + "):"null"},spelImportConcat:function(e){if(null==e)return[void 0,[]];var t=[],r="case_value"==e.valueType?e.value:e;return[(Array.isArray(r)?r:[r]).map((function(e){return"value"===e.valueSrc?null===e.value?void 0:{type:"const",value:e.value}:"field"===e.valueSrc?{type:e.isVariable?"variable":"property",value:e.value}:void t.push("Unsupported valueSrc ".concat(e.valueSrc," in concatenation"))})).filter((function(e){return null!=e})),t]},sqlEmptyValue:jF,stringifyForDisplay:IF,wrapWithBrackets:AF},Symbol.toStringTag,{value:"Module"}));function PF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return NF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NF(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function NF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FF(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var MF="${0}.compareTo(${1})",DF={datetime:!0,time:!0,date:!0},VF=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bB(t,void 0,!1),i=zF(e,o,n,null);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SpEL:",n.errors),i)},zF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return"group"===o||"rule_group"===o?UF(e,t,r,n):"rule"===o?KF(e,t,r,n):"switch_group"==o?HF(e,t,r):"case_group"==o?BF(e,t,r,n):void 0}},BF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type");if("case_group"==o){var i=e.get("properties")||new VC,a=YF(t,i,r,null,n,"!case_value"),l=Et(a,3),s=l[0];return l[1],l[2],[UF(e,t,r,n),s]}r.errors.push("Unexpected child of type ".concat(o," inside switch"))},HF=function(e,t,r){e.get("properties")||new VC;var n=e.get("children1");if(n){var o=n.map((function(e){return BF(e,t,r,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray();if(o.length){if(1==o.length&&!o[0][0])return o[0][1];for(var i=[],a=0;a<o.length;a++)a==o.length-1||o[a][0]?(i.push(o[a]),a==o.length-1&&o[a][0]&&i.push([void 0,null])):r.errors.push("No condition for case ".concat(a));for(var l="",s="",u=0;u<i.length;u++){var c=Et(i[u],2),d=c[0],p=c[1];null==p&&(p="null"),null==d&&(d="true"),u!=i.length-1?(l+="(".concat(d," ? ").concat(p," : "),s+=")"):l+="".concat(p)}return l+s}}},UF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type"),i=e.get("properties")||new VC,a=i.get("mode"),l=e.get("children1")||new cT,s=i.get("field"),u=i.get("conjunction");u||(u=FR(t));var c=t.conjunctions[u],d=i.get("not"),p="rule_group"===o,f=p&&"struct"!=a,h=f?s:n,g=(UB(t,h)||{}).isSpelArray,v=t.settings.fieldSeparator,m=i.get("operator");m||a&&"some"!=a||(m="some");var y=WF(t,m,s),b=y!=m,_=m&&$B(t,y,s)||null,x=p&&(!y||0==_.cardinality),w=YF(t,i,r,y,n,null),O=Et(w,3),S=O[0],k=O[1],j=O[2],E=l.map((function(e){return zF(e,t,r,h)})).filter((function(e){return void 0!==e}));if(f&&!x){if(null==S)return}else if(!E.size)return;var C,T=p,q=E.size?c.spelFormatConj.call(t.ctx,E,u,d,T):null;if(f){var I=QF(r,t,s,n),A=(v||".")+(g?"length":"size()"),L="".concat(I).concat(A),P=q?"".concat(I,".?[").concat(q,"]").concat(A):L;C=$F(r,t,i,P,x?L:S,y,k,j,b)}else C=q;return C},$F=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=r.get("field"),c=$B(t,i,u)||{},d=UB(t,u)||{},p=r.get("operatorOptions"),f=c.spelFormatOp||function(e,t,r){var n=t.spelOp;if(n){var o,i=n.includes("${0}"),a=DF[r],l=n,s=Rq(t);return a?o=function(e,t,r,n,o,i,a,u){var c=MF.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}));return"".concat(c," ").concat(l," 0")}:i?o=function(e,t,r,o,i,a,l,u){return n.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}))}:0==s?o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l)}:1==s&&(o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l," ").concat(r)}),o}}(0,c,l);if(f){var h,g=[n,i,o,a,l,Fq(c,Lq),p,d];return h=f.call.apply(f,[t.ctx].concat(g)),s&&(h=t.settings.spelFormatReverse.call(t.ctx,h)),void 0===h&&e.errors.push("Operator ".concat(i," is not supported for value source ").concat(a)),h}e.errors.push("Operator ".concat(i," is not supported"))},WF=function(e,t,r){if(t){var n=$B(e,t,r)||{},o=n.reversedOp,i=$B(e,o,r)||{},a=n.spelOp||n.spelFormatOp,l=i.spelOp||i.spelFormatOp;if(a||l){if(!a&&l){var s=[o,t];t=s[0],o=s[1];var u=[i,n];n=u[0],i=u[1]}return t}}},KF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("properties")||new VC,i=o.get("field"),a=o.get("fieldSrc"),l=o.get("operator");if(null!=i&&null!=l){var s=WF(t,l,i);if(s){var u=s!=l,c=YF(t,o,r,s,n,null),d=Et(c,3),p=d[0],f=d[1],h=d[2];if(void 0!==p){var g=GF(r,t,i,a,n);if(void 0!==g)return $F(r,t,o,g,p,s,f,h,u)}}else r.errors.push("Operator ".concat(l," is not supported"))}},GF=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return"func"===n?XF(e,t,r,o):QF(e,t,r,o)},YF=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u,c=UB(e,a)||{},d=$B(e,n,a)||{},p=Rq(d),f=t.get("value"),h=t.get("asyncListValues"),g=[],v=[];if(null!=f){var m=f.map((function(t,i){var u=l?l.get(i):null,p=s?s.get(i):null,f=CV(t,u,e),m=mV(e,a,n,u),y=WB(e,a,n,m,u,{forExport:!0}),b=JF(r,e,f,u,p,y,c,n,d,o,h);return void 0!==b&&(g.push(u),v.push(p)),b})),y=m.filter((function(e){return void 0===e})).size>0;m.size<p||y||(u=p>1?m.toArray():1==p?m.first():null)}return[u,g.length>1?g:g[0],v.length>1?v:v[0]]},JF=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"===n)d=QF(e,t,r,u);else if("func"===n)d=XF(e,t,r,u);else if("function"==typeof(null==i?void 0:i.spelFormatValue)){var p=i.spelFormatValue,f=[r,RF(RF({},GA(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),Fq(i,Aq)];if(l&&(f.push(l),f.push(s)),"field"==n){var h=UB(t,r)||{};f.push(h)}d=p.call.apply(p,[t.ctx].concat(f))}else d=qF(r);return d}},QF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r){var o=t.settings.fieldSeparator,i=UB(t,r)||{},a=DB(r,t),l=fV(r,t,n),s=t.settings.formatSpelField,u=yV(r,t,e,n),c=l.map((function(e){var t,r=Et(e,3),n=r[0],i=r[1],a=r[2];return a&&(t="!struct"==a.type||"!group"==a.type&&"struct"==a.mode?i.isSpelMap?"map":"class":"!group"==a.type?i.isSpelItemMap?"[map]":"[class]":"class"),{key:n,parent:t,isSpelVariable:null==i?void 0:i.isSpelVariable,fieldSeparator:o}}));return s.call(t.ctx,u,n,a,c,i,t)}},XF=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=NB(t,a);if(s){var u={},c=[],d=[];for(var p in s.args){var f,h,g=s.args[p],v=UB(t,g),m=g.defaultValue,y=g.isOptional,b=null!=m&&m.func?"func":"value",_=l?l.get(p):void 0,x=_?_.get("value"):void 0,w=_?_.get("valueSrc"):void 0;"func"!==w&&null!==(f=x)&&void 0!==f&&f.toJS&&(x=x.toJS());var O=_?_.get("asyncListValues"):void 0,S=null===(h=g.spelEscapeForFormat)||void 0===h||h,k=null,j=mV(t,g,k,w),E=WB(t,g,k,j,w,{forExport:!0}),C=JF(e,t,x,w,g.type,E,v,null,null,i,O);if(null!=x&&void 0===C)return void("func"!=w&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(a)));var T=void 0;if(void 0===C&&!y&&null!=m){var q=mV(t,g,k,b),I=WB(t,g,k,q,b,{forExport:!0});if(void 0===(T=JF(e,t,m,b,g.type,I,v,null,null,i,O)))return void("func"!=b&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){var L;if(c.length){var P,N=PF(c);try{for(N.s();!(P=N.n()).done;){var F=P.value;u[F]=void 0}}catch(U){N.e(U)}finally{N.f()}c=[]}u[p]=S?A:null!==(L=x)&&void 0!==L?L:m}else y||d.push(p),c.push(p)}if(!d.length){var R;if("function"==typeof s.spelFormatFunc){var M=s.spelFormatFunc,D=[u];R=M.call.apply(M,[t.ctx].concat(D))}else if(s.spelFunc){R=s.spelFunc.replace(/\${(\w+)}/g,(function(e,t){var r;return null!==(r=u[t])&&void 0!==r?r:e}));var V,z=Object.keys(s.args||{}).reverse().filter((function(e){return!!s.args[e].isOptional})),B=PF(z);try{for(B.s();!(V=B.n()).done;){var H=V.value;if(null!=u[H])break;R=R.replace(new RegExp("(, )?\\${"+H+"}","g"),"")}}catch(U){B.e(U)}finally{B.f()}R=R.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(a," is not supported"));return R}}else e.errors.push("Func ".concat(a," is not defined in config"))};function ZF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return eR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eR(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nR={number:"number",string:"text",boolean:"boolean",null:"null"},oR={String:"text"},iR=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},aR=function(e,t){var r,n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={errors:[]},a=bB(t,void 0,!1),l=uR(a),s=void 0;try{r=OF.SpelExpressionEvaluator.compile(e)._compiledExpression}catch(_n){i.errors.push(_n)}r&&(n=lR(r,i),rI.debug("convertedObj:",n,i),(s=cR(n,l,a,i))&&"group"!=s.type&&"switch_group"!=s.type&&(s=kR(s,a,n.not)),rI.debug("jsTree:",s));var u=s?UN(s):void 0;return o?[u,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),u)},lR=function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.getType(),a=t.getChildren().map((function(n){return e(n,r,t)}));if("op-or"!=i&&"op-and"!=i||(a=a.reduce((function(e,t){var r=t.type==i&&!t.not?t.children:[t];return[].concat(sj(e),sj(r))}),[])),"op-not"==i)return 1!=a.length&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),rR(rR({},a[0]),{},{not:!a[0].not});if("compound"==i){var l=(a=a.filter((function(e){return!("selection"==e.type&&1==e.children.length&&"boolean"==e.children[0].type&&1==e.children[0].val)}))).find((function(e){return"selection"==e.type}));l&&1!=l.children.length&&r.errors.push("Selection should have 1 child, but got ".concat(l.children.length));var s=l?l.children[0]:null,u=a[a.length-1],c="method"==u.type&&"size"==u.val.methodName||"!func"==u.type&&"size"==u.methodName,d="property"==u.type&&"length"==u.val,p=a.filter((function(e){return e!==l&&e!==u})),f={type:"compound",children:p};if((c||d)&&null!=pR(p))return{type:"!aggr",filter:s,source:f};if(a=(a=a.filter((function(e){var t="variable"==e.type&&"this"==e.val,r="variable"==e.type&&"root"==e.val;return!(t||r)}))).map((function(e){return"indexer"==e.type&&1==e.children.length?{type:"indexer",val:e.children[0].val,itype:e.children[0].type}:e})),"!func"==u.type){var h={},g=h;do{var v,m;Object.assign(g,u),a=a.filter((function(e){return e!==u})),"!func"==(null===(m=u=a[a.length-1])||void 0===m?void 0:m.type)?(g.obj={},g=g.obj):a.length>1?g.obj={type:"compound",children:a}:g.obj=u}while("!func"==(null===(v=u)||void 0===v?void 0:v.type));return h}}try{t.getRaw?n=t.getRaw():0==t.getValue.length&&(n=t.getValue())}catch(_n){rI.error("[spel2js] Error in getValue()",_n)}if("ternary"==i&&(n=sR(a)),"object"===_(n)&&null!==n&&(n.methodName||n.functionName)&&(n.args=n.args.map((function(n){return e(n,r,t)}))),"list"==i&&(n=n.map((function(n){return e(n,r,t)})),!o&&1==n.length))return n[0];if("constructorref"==i){var y=a.find((function(e){return"qualifiedidentifier"==e.type})),b=null==y?void 0:y.val;return b?{type:"!new",cls:b,args:a.filter((function(e){return"qualifiedidentifier"!=e.type}))}:void r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)))}if("typeref"==i){var x=a.find((function(e){return"qualifiedidentifier"==e.type})),w=null==x?void 0:x.val;return w?(a.filter((function(e){return"qualifiedidentifier"!=e.type})),{type:"!type",cls:w}):void r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)))}if("function"==i||"method"==i){var O=n,S=O.functionName,k=O.methodName,j=O.args;return{type:"!func",methodName:S||k,isVar:"function"==i,args:j}}return{type:i,children:a,val:n}},sR=function(e){var t=[];return function e(r){var n=Et(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]),"ternary"==(null==a?void 0:a.type)?e(a.children):t.push([void 0,a])}(e),t},uR=function(e){var t={},r=function(r){var n=e.operators[r];if(n.spelOps)n.spelOps.forEach((function(e){var n=e;t[n]||(t[n]=[]),t[n].push(r)}));else if(n.spelOp){var o=n.spelOp;t[o]||(t[o]=[]),t[o].push(r)}else rI.log("[spel] No spelOp for operator ".concat(r))};for(var n in e.operators)r(n);var o={};for(var i in e.conjunctions){o[e.conjunctions[i].spelConj||i.toLowerCase()]=i}var a,l={},s=ZF(TB(e));try{var u=function(){var e=Et(a.value,2),t=e[0],r=e[1],n=[],o=r.spelFunc;if("string"==typeof o){var i=Object.keys(r.args||{}).reverse().filter((function(e){return!!r.args[e].isOptional||null!=r.args[e].defaultValue})),s=o.replace(/\${(\w+)}/g,(function(e,t){return"?"})),u=i.reduce((function(e,t){return[].concat(sj(e),[[t].concat(sj(e[e.length-1]||[]))])}),[]).map((function(e){return o.replace(/(?:, )?\${(\w+)}/g,(function(t,r){return e.includes(r)?"":t})).replace(/\${(\w+)}/g,(function(e,t){return"?"}))}));n=[s].concat(sj(u))}var c,d=ZF(n);try{for(d.s();!(c=d.n()).done;){var p=c.value;l[p]||(l[p]=[]),l[p].push(t)}}catch(f){d.e(f)}finally{d.f()}};for(s.s();!(a=s.n()).done;)u()}catch(S){s.e(S)}finally{s.f()}var c={};for(var d in e.widgets){var p=e.widgets[d],f=p.spelImportFuncs;if(p.type,f){var h,g=ZF(f);try{for(g.s();!(h=g.n()).done;){var v=h.value;if("string"==typeof v){var m=v.replace(/\${(\w+)}/g,(function(e,t){return"?"})),y=sj(v.matchAll(/\${(\w+)}/g)).map((function(e){var t=Et(e,2);t[0];return t[1]}));c[m]||(c[m]=[]),c[m].push({w:d,argsOrder:y})}}}catch(S){g.e(S)}finally{g.f()}}}var b={};for(var _ in e.operators){var x=e.operators[_].spelOp;if(null!=x&&x.includes("${0}")){var w=x.replace(/\${(\w+)}/g,(function(e,t){return"?"})),O=sj(x.matchAll(/\${(\w+)}/g)).map((function(e){var t=Et(e,2);return t[0],t[1]}));b[w]||(b[w]=[]),b[w].push({op:_,argsOrder:O})}}return b[MF.replace(/\${(\w+)}/g,(function(e,t){return"?"}))]=[{op:"!compare",argsOrder:["0","1"]}],{operators:t,conjunctions:o,funcs:l,valueFuncs:c,opFuncs:b}},cR=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t){t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==a?void 0:a._groupField;var l,s=!0;if(0===t.type.indexOf("op-")||"matches"===t.type)l=dR(t,r,n,o,a);else if("!aggr"==t.type){var u,c=e(t.source,r,n,o,t);t._groupField=null==c?void 0:c.value;var d=e(t.filter,r,n,o,t);"rule"==(null===(u=d)||void 0===u?void 0:u.type)&&(d=kR(d,n,t.filter.not)),l={groupFilter:d,groupFieldValue:c},a||(l=void 0,o.errors.push("Unexpected !aggr in root"),s=!1)}else if("ternary"==t.type){var p={};t.val.forEach((function(e){var i=Et(e,2),a=i[0],l=i[1],s=wR(a,l,r,n,o,t);s&&(p[s.id]=s)})),l={type:"switch_group",id:Tq(),children1:p,properties:{}}}if(!l&&s&&(l=fR(t,r,n,o,a)),l&&!l.type&&!a){var f=xR(t,r,n,o);f?l=f:(l=void 0,o.errors.push("Can't convert rule of type ".concat(t.type,", it looks like var/literal")))}return l}},dR=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=t.type.startsWith("op-")?t.type.slice(3):t.type;if(("minus"==l||"plus"==l)&&1==t.children.length){var s=t.negative;return"minus"==l&&(s=!s),t.children[0].negative=s,cR(t.children[0],r,n,o,a)}var u="and"==l&&2==t.children.length&&"op-ge"==t.children[0].type&&"op-le"==t.children[1].type,c="or"==l&&2==t.children.length&&"op-lt"==t.children[0].type&&"op-gt"==t.children[1].type;if(u||c){var d=Et(t.children[0].children,2),p=d[0],f=d[1],h=Et(t.children[1].children,2),g=h[0],v=h[1];if(_R(p,g,t,r,n,o)){f.val,v.val;var m={type:"op-between",children:[p,f,v],not:c};return m._groupField=null==a?void 0:a._groupField,e(m,r,n,o,a)}}var y=r.operators[l];"eq"==l&&"null"==t.children[1].type?y=["is_null"]:"ne"==l&&"null"==t.children[1].type?y=["is_not_null"]:"le"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_empty"]:"gt"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_not_empty"]:"between"==l&&(y=["between"]);var b=function(){var e,i=t.children.map((function(e){return cR(e,r,n,o,t)}));return i.length>=2&&"!compare"==(null===(e=i)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)&&(i=i[0].children),i};if("and"==l||"or"==l){var _={};b().forEach((function(e){if(e){var t=Tq();e.id=t,null!=e.type?_[t]=e:o.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(e)))}})),i={type:"group",id:Tq(),children1:_,properties:{conjunction:r.conjunctions[l],not:t.not}}}else if(y){var x,w,O,S=b(),k=S[0],j=S.slice(1),E=null==k||null===(x=k.groupFieldValue)||void 0===x?void 0:x.value,C=null===(w=j)||void 0===w?void 0:w[0],T=y[0];if(y.length>1){var q,I,A=(null===(q=S[0])||void 0===q?void 0:q.valueType)||(null===(I=S[1])||void 0===I?void 0:I.valueType),L=null==k?void 0:k.value,P=y.map((function(e){return{op:e,widget:mV(n,L,e)}}));if(rI.warn("[spel] Spel operator ".concat(l," can be mapped to ").concat(y,"."),"widgets:",P,"vals:",S,"valueType=",A),"eq"==l||"ne"==l){var N=P.find((function(e){e.op;var t=e.widget;return t&&"field"!=t}));N&&(T=N.op)}}null!=k&&k.groupFieldValue&&(C&&C.groupFieldValue&&"field"==C.groupFieldValue.valueSrc&&C.groupFieldValue.value==E?(T="all",j=[]):"equal"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value?(T="none",j=[]):"greater"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value&&(T="some",j=[]));var F=n.operators[T],R=n.operators[null===(O=F)||void 0===O?void 0:O.reversedOp],M=t.not&&["between"].includes(T),D=!!R&&(!!n.settings.reverseOperatorsForNot||M);(t.not&&D||M)&&(T=F.reversedOp,F=n.operators[T],t.not=!t.not);var V=!!t.not;if(t.not=!1,k)if(k.groupFieldValue)"field"!=k.groupFieldValue.valueSrc&&o.errors.push("Expected group field ".concat(JSON.stringify(k))),i=bR(k,T,j,n,o);else{"field"!=k.valueSrc&&"func"!=k.valueSrc&&o.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(k)));var z=k.value;i=yR(n,o,z,T,j,t)}else;V&&("group"!==i.type?i=kR(i,n,!0):i.properties.not=!i.properties.not)}else a||(i=xR(t,r,n,o));return i},pR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=e.map((function(e){if("variable"==e.type||"property"==e.type||"indexer"==e.type&&"string"==e.itype)return e.val;var o,i;n=!0,r&&(null==t||null===(o=t.errors)||void 0===o||null===(i=o.push)||void 0===i||i.call(o,"Unexpected item in field path compound: ".concat(JSON.stringify(e))))}));return n?void 0:o},fR=function e(t,r,n,o){var i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!=t){var s=n.settings.fieldSeparator;if(t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==l?void 0:l._groupField,"variable"==t.type||"property"==t.type){var u=LB(n,t.val,t._groupField),c=UB(n,u),d="variable"==t.type;return{valueSrc:"field",valueType:null==c?void 0:c.type,isVariable:d,value:u}}if("compound"==t.type){var p=pR(t.children,o);if(p){var f,h=LB(n,p.join(s),t._groupField),g=UB(n,h),v="variable"==(null===(f=t.children)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.type);return{valueSrc:"field",valueType:null==g?void 0:g.type,isVariable:v,value:h}}}else{if(nR[t.type]){var m=t.val,y=nR[t.type];return t.negative&&(m=-m),{valueSrc:"value",valueType:y,value:m}}if("!new"==t.type&&oR[t.cls.at(-1)]){var b=t.args.map((function(i){return e(i,r,n,o,t)})),_=null==b?void 0:b[0],x=oR[t.cls.at(-1)];return rR(rR({},_),{},{valueType:x})}if("list"==t.type){var w,O=t.val.map((function(i){return e(i,r,n,o,t)}));O.length&&(null===(w=O[0])||void 0===w||w.valueType);return{valueSrc:"value",valueType:"multiselect",value:O.map((function(e){return null==e?void 0:e.value}))}}if("op-plus"===t.type&&"ternary"===(null==l?void 0:l.type)&&"case_value"===(null===(a=n.settings.caseValueField)||void 0===a?void 0:a.type))return OR(t,r,n,o)}var S=gR(t,r,n,o,l);if(void 0!==S)return S;o.errors.push("Can't convert arg of type ".concat(t.type))}},hR=function e(t,r){var n=[],o="",i=t.type,a=t.methodName;t.val;var l,s=t.obj,u=t.args,c=t.isVar,d=t.cls,p=t.children,f=null==p?void 0:p[p.length-1],h=r[r.length-1];if("!func"===i){for(var g=s;g;){var v,m=e(rR(rR({},g),{},{obj:null}),[{}]),y=Et(m,2),b=y[0],_=y[1];if("?"!==b){var x={s:h.s,params:sj(h.params),objs:sj(h.objs)};h.objs.unshift("?"),h.params.unshift(g),r.push(x),h=r[r.length-1]}h.objs.unshift(b),(v=h.params).unshift.apply(v,sj(_)),g="!func"===g.type?g.obj:null}var w,O=ZF(r);try{for(O.s();!(w=O.n()).done;){var S,k=w.value;n=[].concat(sj((null==k?void 0:k.params)||[]),sj(u||[])),o="",null!=k&&null!==(S=k.objs)&&void 0!==S&&S.length&&(o+=k.objs.join(".")+"."),o+=(c?"#":"")+a,o+="("+(u||[]).map((function(e){return"?"})).join(", ")+")",k.s=o,k.params=n}}catch(j){O.e(j)}finally{O.f()}}else"!new"===i?(n=u||[],o="new ".concat(d.join("."),"(").concat(n.map((function(e){return"?"})).join(", "),")")):"!type"===i?o="T(".concat(d.join("."),")"):"compound"===i&&"property"===f.type&&(l=f.val,["length"].includes(l))?o=p.map((function(t){var r;if(t===f)return t.val;var o=e(rR(rR({},t),{},{obj:null}),[{}]),i=Et(o,2),a=i[0],l=i[1];return(r=n).push.apply(r,sj(l)),a})).join("."):(n=[t],o="?");return h&&(h.s=o,h.params=n),[o,n]},gR=function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=function(o){return cR(o,t,r,n,e)},l=function(e){var t=[{s:"",params:[],objs:[]}];return hR(e,t),t.map((function(e){return{s:e.s,params:e.params}})).reverse().filter((function(e){var t=e.s;return""!==t&&"?"!==t}))}(e),s=null==l||null===(o=l[0])||void 0===o?void 0:o.s;l.length&&rI.debug("Signatures for ",e,":",s,l);var u=vR(e,t,r,n,i,l,a);if(void 0!==u)return u;var c,d,p,f=mR(e,t,r,n,i,l,a);if(void 0!==f)return f;var h,g=ZF(l);try{var v=function(){var e=h.value,n=e.s,o=e.params,i=t.funcs[n];if(i){c=i[0];var l=(d=NB(r,c)).spelFunc,s=o.map(a),u=sj(l.matchAll(/\${(\w+)}/g)).map((function(e){var t=Et(e,2);t[0];return t[1]}));return p=Object.fromEntries(u.map((function(e,t){return[e,s[t]]}))),1}};for(g.s();!(h=g.n()).done&&!v(););}catch(T){g.e(T)}finally{g.f()}if(!c){var m,y=ZF(TB(r));try{for(y.s();!(m=y.n()).done;){var b=Et(m.value,2),_=b[0],x=b[1];if(x.spelImport){var w=void 0;try{w=x.spelImport(e)}catch(q){}if(w)for(var O in d=NB(r,c=_),p={},w)p[O]=a(w[O])}}}catch(T){y.e(T)}finally{y.f()}}if(c){var S={};for(var k in d.args){var j,E=d.args[k],C=p[k];if(void 0===C)if(void 0===(C=null==E?void 0:E.defaultValue)){if(null==E||!E.isOptional)return void n.errors.push("No value for arg ".concat(k," of func ").concat(c))}else C={value:C,valueSrc:null!==(j=C)&&void 0!==j&&j.func?"func":"value",valueType:E.type};C&&(S[k]=C)}return{valueSrc:"func",value:{func:c,args:S},valueType:d.returnType}}e.methodName&&n.errors.push("Signature ".concat(s," - failed to convert"))},vR=function(e,t,r,n,o,i,a){var l,s,u,c=[];for(var d in r.widgets){var p=r.widgets[d].spelImportFuncs;if(p)for(var f=0;f<p.length;f++){var h=p[f];if(iR(h)){var g={};if(Zq(h,e,g)){for(var v in g)g[v]=a(g[v]);c.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(f,"]"),w:d,argsObj:g})}}}}var m,y=ZF(i);try{for(y.s();!(m=y.n()).done;){var b,_=m.value,x=_.s,w=_.params,O=ZF(t.valueFuncs[x]||[]);try{var S=function(){var e=b.value,t=e.w,r=e.argsOrder,n=w.map(a),o=Object.fromEntries(r.map((function(e,t){return[e,n[t]]})));c.push({s:x,w:t,argsObj:o})};for(O.s();!(b=O.n()).done;)S()}catch(M){O.e(M)}finally{O.f()}}}catch(M){y.e(M)}finally{y.f()}for(var k=0,j=c;k<j.length;k++){var E=j[k],C=E.s,T=E.w,q=E.argsObj,I=r.widgets[T],A=I.spelImportValue,L=I.type;for(var P in u=T,s=C,l=[],q)["value"].includes(q[P].valueSrc)||l.push("".concat(P," has unsupported value src ").concat(q[P].valueSrc));var N=q.v.value;if(A&&!l.length){var F=A.call(r.ctx,q.v,I,q),R=Et(F,2);N=R[0],(l=R[1])&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:L,value:N}}u&&l.length&&n.errors.push("Signature ".concat(s," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},mR=function(e,t,r,n,o,i,a){var l,s,u,c,d=ZF(i);try{for(d.s();!(c=d.n()).done;){var p,f=c.value,h=f.s,g=f.params,v=ZF(t.opFuncs[h]||[]);try{var m,y=function(){var t,i=p.value,c=i.op,d=i.argsOrder,f=g.map(a);if(s=c,"!compare"===c){if(o.type.startsWith("op-")&&2==o.children.length&&"number"==o.children[1].type&&0===o.children[1].val)return{v:{type:"!compare",children:f}};l.push("Result of compareTo() should be compared to 0")}u=h,l=[];var v=r.operators[s],m=(v.spelOp,v.valueTypes),y=Object.fromEntries(d.map((function(e,t){return[e,f[t]]}))),b=y[0],_=Object.keys(y).filter((function(e){return parseInt(e)>0})).map((function(e){return y[e]})),x=null===(t=f.filter((function(e){return!!e})).find((function(e){return"value"===e.valueSrc})))||void 0===t?void 0:t.valueType;if(m&&x&&!m.includes(x)&&l.push("Op supports types ".concat(m,", but got ").concat(x)),!l.length)return{v:yR(r,n,b,s,_,e)}};for(v.s();!(p=v.n()).done;)if(m=y())return m.v}catch(b){v.e(b)}finally{v.f()}}}catch(b){d.e(b)}finally{d.f()}s&&l.length&&n.errors.push("Signature ".concat(u," - looks like convertable to ").concat(s,", but: ").concat(l.join("; ")))},yR=function(e,t,r,n,o,i){var a,l;if(!o.filter((function(e){return void 0===e})).length){var s=null!==(a=r)&&void 0!==a&&a.func?"func":"field";iR(r)&&r.valueSrc&&(s=r.valueSrc,r=r.value);var u=UB(e,r);if(u){var c=UB(e,null==i?void 0:i._groupField),d="!group"==u.type;d&&u.mode;var p="!group"==(null==c?void 0:c.type),f=e.operators[n],h=e.operators[null===(l=f)||void 0===l?void 0:l.reversedOp],g=(null==i?void 0:i.not)&&["between"].includes(n),v=!!h&&(!!e.settings.reverseOperatorsForNot||g||!d&&p);((null==i?void 0:i.not)&&v||g)&&(n=f.reversedOp,f=e.operators[n],i.not=!i.not);var m=!(null==i||!i.not),y=mV(e,r,n),b=e.widgets[y||u.mainWidget],_=o.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),x=_.length?_[0]:void 0,w={type:"rule",id:Tq(),properties:rR({field:r,fieldSrc:s,operator:n,value:o.map((function(e){return e.value})),valueSrc:o.map((function(e){return e.valueSrc})),valueType:o.map((function(e){return"value"==e.valueSrc&&((null==b?void 0:b.type)||(null==u?void 0:u.type))||e.valueType}))},x?{asyncListValues:x}:{})};return m&&(w=kR(w,e,i.not)),w}t.errors.push("No config for field ".concat(r))}},bR=function(e,t,r,n,o){var i=e.groupFilter,a=e.groupFieldValue;if("field"!=a.valueSrc)throw"Bad groupFieldValue: ".concat(JSON.stringify(a));var l=a.value,s=yR(n,o,l,t,r);if(s){var u,c=UB(n,l),d=null==c?void 0:c.mode;return(u="group"===(null==i?void 0:i.type)?rR(rR({},i||{}),{},{type:"rule_group",properties:rR(rR(rR({},s.properties),(null==i?void 0:i.properties)||{}),{},{mode:d})}):rR(rR({},s||{}),{},i?{type:"rule_group",children1:[i],properties:rR(rR({},s.properties),{},{mode:d})}:{type:"rule_group",properties:rR(rR({},s.properties),{},{mode:d})})).id||(u.id=Tq()),u}},_R=function(e,t,r,n,o,i){if(e.type==t.type){if("!aggr"==e.type){var a=[e.source,t.source].map((function(e){return fR(e,n,o,i,r)})),l=Et(a,2),s=l[0],u=l[1];return s.value==u.value}var c=[e,t].map((function(e){return fR(e,n,o,i,r)})),d=Et(c,2),p=d[0],f=d[1];return p.value==f.value}return!1},xR=function(e,t,r,n){var o={},i=wR(null,e,t,r,n);return i&&(o[i.id]=i),{type:"switch_group",id:Tq(),children1:o,properties:{}}},wR=function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=SR(n,o,r,t,a);return e?(i=cR(e,r,n,o,a))&&i.type?("group"!=i.type&&(i=kR(i,n)),i.type="case_group"):(o.errors.push("Unexpected case: ".concat(JSON.stringify(i))),i=void 0):i={id:Tq(),type:"case_group",properties:{}},i&&(i.properties=rR(rR({},i.properties),l)),i},OR=function(e,t,r,n){var o=[];return function i(a){a.map((function(a){if("op-plus"===a.type)i(a.children);else{var l=fR(a,t,r,n,e);l?o.push(l):n.errors.push("Can't convert ".concat(a.type," in concatenation"))}}))}(e.children),{valueSrc:"value",valueType:"case_value",value:o}},SR=function(e,t,r,n){var o,i,a,l,s,u,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d={},p=UB(e,"!case_value");"op-plus"===(null==n?void 0:n.type)&&"case_value"===(null===(o=e.settings.caseValueField)||void 0===o?void 0:o.type)?(l="case_value",a=OR(n,r,e,t)):(l=null==p?void 0:p.mainWidget,s=e.widgets[l],(a=fR(n,r,e,t,c))&&"value"===a.valueSrc&&(a.valueType=(null===(u=s)||void 0===u?void 0:u.type)||(null==p?void 0:p.type)||a.valueType));var f=e.widgets[l];if("case_value"===l){var h=null==f?void 0:f.spelImportValue;if(h){var g,v=h.call(e.ctx,a),m=Et(v,2),y=m[0];if(m[1].map((function(e){return t.errors.push(e)})),null!=y)d={value:[y],valueSrc:["value"],valueType:[null!==(g=null==f?void 0:f.type)&&void 0!==g?g:"case_value"],field:"!case_value"}}}else null!=a&&null!=(null===(i=a)||void 0===i?void 0:i.value)&&(d={value:[a.value],valueSrc:[a.valueSrc],valueType:[a.valueType],field:"!case_value"});return d},kR=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Tq(),children1:b({},e.id,e),properties:{conjunction:FR(t),not:r||!1}}};const jR=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:oF,_loadFromSpel:aR,getTree:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var n=e;return n=n.toJS(),n=MN(n,t,r)}},isImmutableTree:$N,isJsonLogic:Yq,isTree:WN,jsToImmutable:KN,loadFromJsonLogic:function(e,t){return oF(e,t,!1)},loadFromSpel:function(e,t){return aR(e,t,!0)},loadTree:UN},Symbol.toStringTag,{value:"Module"}));function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ER(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var TR=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.settings.defaultField,o=(r?qR(e,r):n)||t&&KB(e,r)||null;return null==o||"string"==typeof o||Vq(o)||(o=KN(o)),o},qR=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return null;var n=(null==e||null===(t=e.settings)||void 0===t?void 0:t.fieldSeparator)||".",o=UB(e,r),i=null==o?void 0:o.defaultField;return i&&(i=[].concat(sj(DB(r)),[i]).join(n)),i},IR=function(e){var t;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null===(t=e.settings.fieldSources)||void 0===t?void 0:t[0])||"field"},AR=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=UB(e,t),o=(null==n?void 0:n.operators)||[],i=e.settings.defaultOperator;i&&!o.includes(i)&&(i=null);var a=null==n?void 0:n.defaultOperator,l=null==n?void 0:n.ownDefaultOperator,s=r?cV(e,t):null;return l||i||a||s},LR=function(e,t,r){var n=t?$B(e,t,r):null;return n&&n.options?new Eq.Map(n.options&&n.options.defaults||{}):null},PR=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null,u=null,c=null,d=e.settings.showErrorMessage;i?(c=null==i||null===(t=i.properties)||void 0===t?void 0:t.fieldSrc,s=null==i||null===(r=i.properties)||void 0===r?void 0:r.field,u=null==i||null===(n=i.properties)||void 0===n?void 0:n.operator):a?(c=(s=TR(e,l,o))?Vq(s)?"func":"field":IR(e),u=AR(e,s,!0)):c=IR(e);var p=new Eq.Map({fieldSrc:c,field:s,operator:u,value:new Eq.List,valueSrc:new Eq.List,operatorOptions:LR(e,u,s)});if(d&&(p=p.set("valueError",new Eq.List)),s&&u){var f=YD(e,e,p,s,u,"operator",!1),h=f.newValue,g=f.newValueSrc,v=f.newValueType,m=f.newValueError,y=f.newFieldError;p=p.set("value",h).set("valueSrc",g).set("valueType",v),d&&(p=p.set("valueError",m).set("fieldError",y))}return p},NR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(t=UB(e,t))&&t.conjunctions||Object.keys(e.conjunctions);return 1==r.length?r[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||r[0]},FR=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},RR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Eq.Map({conjunction:NR(e,t),not:!1})},MR=function(e,t){var r;return t&&"group"==t.type?RR(e,null==t||null===(r=t.properties)||void 0===r?void 0:r.field):PR(e,null,t)},DR=function(e,t){return b({},e,new Eq.Map({type:"rule",id:e,properties:PR(t)}))},VR=function(e){return zq(e)?e:new Eq.List(e)};const zR=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:VR,createListWithOneElement:function(e){return zq(e)?e:VR([e])},defaultConjunction:FR,defaultGroupConjunction:NR,defaultGroupProperties:RR,defaultItemProperties:MR,defaultOperatorOptions:LR,defaultRoot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Eq.Map({type:"group",id:Tq(),children1:new Eq.OrderedMap(t?CR({},DR(Tq(),e)):{}),properties:RR(e)})},defaultRule:DR,defaultRuleProperties:PR,emptyProperties:function(){return new Eq.Map},getDefaultField:TR,getDefaultFieldSrc:IR,getDefaultOperator:AR,getDefaultSubField:qR},Symbol.toStringTag,{value:"Module"}));function BR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return HR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function HR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var WR=function(e,t){var r={errors:[],settings:{isForDisplay:arguments.length>2&&void 0!==arguments[2]&&arguments[2],isDebugMode:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},n=bB(t,void 0,!1),o=KR(e,n,r,null);return r.errors.length&&console.warn("Errors while exporting to string:",r.errors),o},KR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return e.get("children1"),"group"===o||"rule_group"===o?GR(e,t,r,n):"rule"===o?YR(e,t,r,n):void 0}},GR=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=r.settings,l=a.isForDisplay,s=a.isDebugMode,u=e.get("type"),c=e.get("properties")||new VC,d=c.get("mode"),p=e.get("children1")||new cT,f="rule_group"===u,h=f&&"array"==d?c.get("field"):null,g="rule_group"===u?c.get("operator"):null,v=g?null!==(n=null===(o=t.operators[g])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1:void 0,m=f&&"array"===d&&v>=1,y=c.get("not"),b=p.map((function(e){return KR(e,t,r,h)})).filter((function(e){return void 0!==e}));if(m||b.size||s){var _=c.get("conjunction");_||(_=FR(t));var x,w=t.conjunctions[_],O=b.size?w.formatConj.call(t.ctx,b,_,y,l):null;if(h){var S=YR(e,t,r,i,!0);if(S){var k,j=S.pop(),E=[O].concat(sj(S));x=(k=t.settings.formatAggr).call.apply(k,[t.ctx].concat(sj(E))),j&&(x=t.settings.formatReverse.call(t.ctx,x,null,null,null,null,l))}}else x=O;return s&&null==x&&(x="?"),x}},YR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.get("properties")||new VC,u=s.get("field"),c=s.get("fieldSrc"),d=s.get("operator"),p=s.get("operatorOptions");if(null!=u&&null!=d||l){var f=UB(t,u)||{},h=$B(t,d,u)||{},g=h.reversedOp,v=$B(t,g,u)||{},m=!1,y=h.formatOp;if(!y&&g&&(y=v.formatOp)){m=!0;var b=[g,d];d=b[0],g=b[1];var _=[v,h];h=_[0],v=_[1]}if(l&&!d&&(d="?"),y||(y=function(e,t,r){var n,o=r.settings.isDebugMode,i=(null==t?void 0:t.labelForFormat)||e,a=Rq(t);return 0==a?n=function(e,t,r,n,o,a,l,s){return"".concat(e," ").concat(i)}:1==a?n=function(e,t,r,n,a,l,s,u){return o&&"?"===t&&"?"===r?e&&"?"!==e?"".concat(e," ?"):"?":"".concat(e," ").concat(i," ").concat(r)}:2==a&&(n=function(e,t,r,n,o,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(i," ").concat(d," AND ").concat(p)}),n}(d,h,r)),y){var x="func"===c?XR(t,r,u,n):QR(t,r,u,n);if(null!=x){var w=function(e,t,r,n,o){var i=r.settings;i.isForDisplay;var a,l,s=i.isDebugMode,u=t.get("field"),c=t.get("valueSrc"),d=t.get("valueType"),p=UB(e,u)||{},f=n||t.get("operator"),h=$B(e,f,u)||{},g=Rq(h),v=t.get("value"),m=t.get("asyncListValues"),y=[],b=[];return null!=v&&!((l=v.map((function(t,n){var i=c?c.get(n):null,a=d?d.get(n):null,l=s?t:CV(t,i,e),g=mV(e,u,f,i),v=WB(e,u,f,g,i,{forExport:!0}),_=JR(e,r,l,i,a,v,p,f,h,o,m);return void 0!==_&&(y.push(i),b.push(a)),_}))).filter((function(e){return void 0===e})).size>0)&&l.size===g&&(a=1==g?l.first():l),s&&!a&&(a=g>1?new cT(Array.from({length:g}).map((function(e,t){var r,n;return null!==(r=null===(n=l)||void 0===n?void 0:n.get(t))&&void 0!==r?r:"?"}))):"?"),[a,y.length>1?y:y[0],b.length>1?b:b[0]]}(t,s,r,d,n),O=Et(w,3),S=O[0],k=O[1],j=O[2];if(void 0!==S){var E=[x,d,S,k,j,Fq(h,Lq),p,a,f,m];if(o)return E;var C,T=(C=y).call.apply(C,[t.ctx].concat(E));return m&&(T=t.settings.formatReverse.call(t.ctx,T,d,g,h,v,a)),T}}}}},JR=function(e,t,r,n,o,i,a,l,s){var u,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10?arguments[10]:void 0,p=t.settings,f=p.isForDisplay,h=p.isDebugMode;if(void 0===r)return h?"array"===(null==i?void 0:i.jsType)?[]:"?":void 0;if("field"==n)u=QR(e,t,r,c);else if("func"==n)u=XR(e,t,r,c);else if("function"==typeof(null==i?void 0:i.formatValue)){var g=i.formatValue,v=[r,$R($R({},GA(a,["fieldSettings","listValues"])),{},{asyncListValues:d}),Fq(i,Aq),f];if(l&&(v.push(l),v.push(s)),"field"==n){var m=UB(e,r)||{};v.push(m)}u=g.call.apply(g,[e.ctx].concat(v))}else u=r;return u},QR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.settings;s.fieldSeparator;var u=s.fieldSeparatorDisplay,c=null;if(r){var d=UB(e,r)||{},p=DB(r,e),f=pV(r,e,o?n:null),h=f?f.join(u):null,g=d.label2||h;c=(0,e.settings.formatField)(yV(r,e,t,o?n:null,{useTableName:!0}),p,g,d,e,a)}else l&&(c="?");return c},XR=function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.settings,s=l.isForDisplay,u=l.isDebugMode,c=null==r||null===(n=r.get)||void 0===n?void 0:n.call(r,"func");if(!c)return u?"?()":void 0;var d=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),p=NB(e,c);if(p||u){var f,h=DB(c,e),g=h[h.length-1],v=s&&(null==p?void 0:p.label)||g,m={},y=[],b=[],_={},x=BR(p?Object.keys(p.args||{}):(null==d||null===(i=d.keySeq)||void 0===i?void 0:i.call(d).toArray())||[]);try{for(x.s();!(f=x.n()).done;){var w,O=f.value,S=null==p?void 0:p.args[O],k=UB(e,S),j=S||{},E=j.defaultValue,C=j.isOptional,T=null!=E&&E.func?"func":"value",q=s&&(null==S?void 0:S.label)||O,I=d?d.get(O):void 0,A=I?I.get("value"):void 0,L=I?I.get("valueSrc"):void 0;"func"!==L&&null!==(w=A)&&void 0!==w&&w.toJS&&(A=A.toJS());var P=I?I.get("asyncListValues"):void 0,N=JR(e,t,A,L,null==S?void 0:S.type,k,S,null,null,a,P);null!=A&&void 0===N&&"func"!=L&&t.errors.push("Can't format value of arg ".concat(O," for func ").concat(c));var F=void 0;if(void 0===N&&!C&&null!=E&&void 0===(F=JR(e,t,E,T,null==S?void 0:S.type,k,S,null,null,a,P)))return void("func"!=T&&t.errors.push("Can't format default value of arg ".concat(O," for func ").concat(c)));var R=null!=N?N:F;if(void 0!==R){if(y.length){var M,D=BR(O);try{for(D.s();!(M=D.n()).done;){var V=Et(M.value,2),z=V[0];V[1];m[z]=void 0}}catch(W){D.e(W)}finally{D.f()}y=[]}m[O]=R,_[q]=R}else C||b.push(O),y.push([O,q])}}catch(W){x.e(W)}finally{x.f()}if(!b.length||u){var B=null;if("function"==typeof(null==p?void 0:p.formatFunc)){var H=p.formatFunc,U=[m,s];B=H.call.apply(H,[e.ctx].concat(U))}else{var $=Object.entries(s?_:m).map((function(e){var t=Et(e,2),r=t[0],n=t[1];return s?"".concat(r,": ").concat(n):"".concat(n)})).join(", ");B="".concat(v,"(").concat($,")")}return B}}else t.errors.push("Func ".concat(c," is not defined in config"))},ZR="EMPTY_GROUP",eM="EMPTY_RULE_GROUP",tM="EMPTY_QUERY",rM="EMPTY_CASE",nM="NO_CONFIG_FOR_FIELD",oM="NO_CONFIG_FOR_OPERATOR",iM="NO_CONFIG_FOR_FUNCTION",aM="INVALID_VALUE",lM="INVALID_FUNC_ARG_VALUE",sM="UNSUPPORTED_FIELD_TYPE",uM="UNSUPPORTED_OPERATOR_FOR_FIELD",cM="INVALID_VALUE_SRC",dM="INCOMPLETE_RULE",pM="INCOMPLETE_LHS",fM="INCOMPLETE_RHS",hM="BAD_MULTISELECT_VALUES",gM="BAD_SELECT_VALUE",vM="INCORRECT_VALUE_TYPE",mM="INCORRECT_VALUE_JS_TYPE",yM="VALUE_LENGTH_CONSTRAINT_FAIL",bM="VALUE_MIN_CONSTRAINT_FAIL",_M="VALUE_MAX_CONSTRAINT_FAIL",xM="NO_CONFIG_FOR_FIELD_VALUE",wM="CANT_COMPARE_FIELD_WITH_ITSELF",OM="CANT_COMPARE_FIELD_WITH_FIELD",SM="INCORRECT_FIELD_TYPE",kM="UNSUPPORTED_FUNCTION_FOR_FIELD",jM="REQUIRED_FUNCTION_ARG",EM="INCORRECT_FUNCTION_RETURN_TYPE",CM="INVALID_RANGE",TM="ITEM_POSITION",qM="ITEM_POSITION_ROOT",IM="ITEM_POSITION_WITH_INDEX_PATH",AM="ITEM_POSITION_IN_CASE",LM="range";const PM=e=>"string"==typeof e,NM=()=>{let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r},FM=e=>null==e?"":""+e,RM=/###/g,MM=e=>e&&e.indexOf("###")>-1?e.replace(RM,"."):e,DM=e=>!e||PM(e),VM=(e,t,r)=>{const n=PM(t)?t.split("."):t;let o=0;for(;o<n.length-1;){if(DM(e))return{};const t=MM(n[o]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return DM(e)?{}:{obj:e,k:MM(n[o])}},zM=(e,t,r)=>{const n=VM(e,t,Object),o=n.obj,i=n.k;if(void 0!==o||1===t.length)return void(o[i]=r);let a=t[t.length-1],l=t.slice(0,t.length-1),s=VM(e,l,Object);for(;void 0===s.obj&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),s=VM(e,l,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${a}`]&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=r},BM=(e,t)=>{const r=VM(e,t),n=r.obj,o=r.k;if(n)return n[o]},HM=(e,t,r)=>{for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?PM(e[n])||e[n]instanceof String||PM(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):HM(e[n],t[n],r):e[n]=t[n]);return e},UM=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const WM=e=>PM(e)?e.replace(/[&<>"'\/]/g,(e=>$M[e])):e;const KM=[" ",",","?","!",";"],GM=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),YM=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let o=e;for(let i=0;i<n.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let a=i;a<n.length;++a)if(a!==i&&(t+=r),t+=n[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<n.length-1)continue;i+=a-i+1;break}o=e}return o},JM=e=>e&&e.replace("_","-"),QM={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class XM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||QM,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(PM(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new XM(this.logger,p(p({},{prefix:`${this.prefix}:${e}:`}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new XM(this.logger,e)}}var ZM=new XM;class eD{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let t=h(e,2),n=t[0],o=t[1];for(let i=0;i<o;i++)n(...r)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let n=h(t,2),o=n[0],i=n[1];for(let a=0;a<i;a++)o.apply(o,[e,...r])}))}}}class tD extends eD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):PM(r)&&o?a.push(...r.split(o)):a.push(r)));const l=BM(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),!l&&i&&PM(r)?YM(this.data&&this.data[e]&&this.data[e][t],r,o):l}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),zM(this.data,a,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in r)(PM(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let l=BM(this.data,a)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?HM(l,r,o):l=p(p({},l),r),zM(this.data,a,l),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?p(p({},{}),this.getResource(e,t)):this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var rD={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,r,n,o))})),t}};const nD={};class oD extends eD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach((e=>{t[e]&&(r[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ZM.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const n=KM.filter((e=>t.indexOf(e)<0&&r.indexOf(e)<0));if(0===n.length)return!0;const o=GM.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,r,n));if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(n)}return PM(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t=p({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=this.extractFromKey(e[e.length-1],t),a=i.key,l=i.namespaces,s=l[l.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${s}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let f=d&&d.res;const h=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,v=Object.prototype.toString.apply(f),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!PM(f)&&"boolean"!=typeof f&&"number"!=typeof f;if(!(y&&f&&b&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0)||PM(m)&&Array.isArray(f))if(y&&PM(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,e,t,r));else{let n=!1,i=!1;const l=void 0!==t.count&&!PM(t.count),c=oD.hasDefaultValue(t),h=l?this.pluralResolver.getSuffix(u,t.count,t):"",g=t.ordinal&&l?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",v=l&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=v&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(f)&&c&&(n=!0,f=m),this.isValidLookup(f)||(i=!0,f=a);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:f,b=c&&m!==f&&this.options.updateMissing;if(i||n||b){if(this.logger.log(b?"updateKey":"missingKey",u,s,a,b?m:f),o){const e=this.resolve(a,p(p({},t),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const n=(e,r,n)=>{const o=c&&n!==f?n:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,r,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,r,o,b,t),this.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach((e=>{const r=this.pluralResolver.getSuffixes(e,t);v&&t[`defaultValue${this.options.pluralSeparator}zero`]&&r.indexOf(`${this.options.pluralSeparator}zero`)<0&&r.push(`${this.options.pluralSeparator}zero`),r.forEach((r=>{n([e],a+r,t[`defaultValue${r}`]||m)}))})):n(e,a,m))}f=this.extendTranslation(f,e,t,d,r),i&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${s}:${a}`),(i||n)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,n?f:void 0):this.options.parseMissingKeyHandler(f))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,p(p({},t),{},{ns:l})):`key '${a} (${this.language})' returned an object instead of string.`;return n?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e=Array.isArray(f),r=e?[]:{},n=e?g:h;for(const i in f)if(Object.prototype.hasOwnProperty.call(f,i)){const e=`${n}${o}${i}`;r[i]=this.translate(e,p(p({},t),{joinArrays:!1,ns:l})),r[i]===e&&(r[i]=f[i])}f=r}}return n?(d.res=f,d.usedParams=this.getUsedParamsDetails(t),d):f}extendTranslation(e,t,r,n,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,p(p({},this.options.interpolation.defaultVariables),r),r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(p(p({},r),{interpolation:p(p({},this.options.interpolation),r.interpolation)}));const a=PM(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let s=r.replace&&!PM(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(s=p(p({},this.options.interpolation.defaultVariables),s)),e=this.interpolator.interpolate(e,s,r.lng||this.language||n.usedLng,r),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return o&&o[0]===n[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):i.translate(...n,t)}),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=PM(a)?[a]:a;return null!=e&&l&&l.length&&!1!==r.applyPostProcessor&&(e=rD.handle(l,e,t,this.options&&this.options.postProcessPassResolved?p({i18nResolved:p(p({},n),{},{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let t,r,n,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return PM(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const l=this.extractFromKey(e,a),s=l.key;r=s;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==a.count&&!PM(a.count),d=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&(PM(a.context)||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(i=e,!nD[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(nD[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${f.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((r=>{if(this.isValidLookup(t))return;o=r;const i=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,s,r,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(r,a.count,a));const t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(s+e),a.ordinal&&0===e.indexOf(n)&&i.push(s+e.replace(n,this.options.pluralSeparator)),d&&i.push(s+t)),p){const r=`${s}${this.options.contextSeparator}${a.context}`;i.push(r),c&&(i.push(r+e),a.ordinal&&0===e.indexOf(n)&&i.push(r+e.replace(n,this.options.pluralSeparator)),d&&i.push(r+t))}}let l;for(;l=i.pop();)this.isValidLookup(t)||(n=l,t=this.getResource(r,e,l,a))})))}))})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!PM(e.replace);let n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=p(p({},this.options.interpolation.defaultVariables),n)),!r){n=p({},n);var o,i=l(t);try{for(i.s();!(o=i.n()).done;){delete n[o.value]}}catch(a){i.e(a)}finally{i.f()}}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}const iD=e=>e.charAt(0).toUpperCase()+e.slice(1);class aD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ZM.create("languageUtils")}getScriptPartFromCode(e){if(!(e=JM(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=JM(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(PM(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(_n){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=iD(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=iD(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=iD(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),PM(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],o=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return PM(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):PM(e)&&o(this.formatLanguageCode(e)),r.forEach((e=>{n.indexOf(e)<0&&o(this.formatLanguageCode(e))})),n}}let lD=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sD={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const uD=["v1","v2","v3"],cD=["v4"],dD={zero:0,one:1,two:2,few:3,many:4,other:5};class pD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ZM.create("pluralResolver"),this.options.compatibilityJSON&&!cD.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return lD.forEach((t=>{t.lngs.forEach((r=>{e[r]={numbers:t.nr,plurals:sD[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=JM("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const i=new Intl.PluralRules(r,{type:n});return this.pluralRulesCache[o]=i,i}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(((e,t)=>dD[e]-dD[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):r.numbers.map((r=>this.getSuffix(e,r,t))):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const o=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!uD.includes(this.options.compatibilityJSON)}}const fD=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,r)=>{const n=BM(e,r);return void 0!==n?n:BM(t,r)})(e,t,r);return!i&&o&&PM(r)&&(i=YM(e,r,n),void 0===i&&(i=YM(t,r,n))),i},hD=e=>e.replace(/\$/g,"$$$$");class gD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ZM.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation,r=t.escape,n=t.escapeValue,o=t.useRawValueToEscape,i=t.prefix,a=t.prefixEscaped,l=t.suffix,s=t.suffixEscaped,u=t.formatSeparator,c=t.unescapeSuffix,d=t.unescapePrefix,p=t.nestingPrefix,f=t.nestingPrefixEscaped,h=t.nestingSuffix,g=t.nestingSuffixEscaped,v=t.nestingOptionsSeparator,m=t.maxReplaces,y=t.alwaysFormat;this.escape=void 0!==r?r:WM,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==o&&o,this.prefix=i?UM(i):a||"{{",this.suffix=l?UM(l):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=p?UM(p):f||UM("$t("),this.nestingSuffix=h?UM(h):g||UM(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let o,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=e=>{if(e.indexOf(this.formatSeparator)<0){const o=fD(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,r,p(p(p({},n),t),{},{interpolationkey:e})):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(fD(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,p(p(p({},n),t),{},{interpolationkey:i}))};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>hD(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?hD(this.escape(e)):hD(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const r=o[1].trim();if(i=s(r),void 0===i)if("function"==typeof u){const t=u(e,o,n);i=PM(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))i="";else{if(c){i=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),i=""}else PM(i)||this.useRawValueToEscape||(i=FM(i));const l=t.safeValue(i);if(e=e.replace(o[0],l),c?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let i=`{${n[1]}`;e=n[0],i=this.interpolate(i,o);const a=i.match(/'/g),l=i.match(/"/g);(a&&a.length%2==0&&!l||l.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=p(p({},t),o))}catch(_n){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,_n),`${e}${r}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let l=[];o=p({},i),o=o.replace&&!PM(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let s=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map((e=>e.trim()));r[1]=e.shift(),l=e,s=!0}if(n=t(a.call(this,r[1].trim(),o),o),n&&r[0]===e&&!PM(n))return n;PM(n)||(n=FM(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),s&&(n=l.reduce(((e,t)=>this.format(e,t,i.lng,p(p({},i),{},{interpolationkey:r[1].trim()}))),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}const vD=e=>{const t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=p(p({},i),{},{[o.interpolationkey]:void 0}));const a=n+JSON.stringify(i);let l=t[a];return l||(l=e(JM(n),o),t[a]=l),l(r)}};class mD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ZM.create("formatter"),this.options=e,this.formats={number:vD(((e,t)=>r=>new Intl.NumberFormat(e,p({},t)).format(r))),currency:vD(((e,t)=>r=>new Intl.NumberFormat(e,p(p({},t),{},{style:"currency"})).format(r))),datetime:vD(((e,t)=>r=>new Intl.DateTimeFormat(e,p({},t)).format(r))),relativetime:vD(((e,t)=>r=>new Intl.RelativeTimeFormat(e,p({},t)).format(r,t.range||"day"))),list:vD(((e,t)=>r=>new Intl.ListFormat(e,p({},t)).format(r)))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=vD(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}const i=o.reduce(((e,t)=>{const o=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach((e=>{if(e){const t=a(e.split(":")),n=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,""),i=n.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}}))}return{formatName:t,formatOptions:r}})(t),i=o.formatName,l=o.formatOptions;if(this.formats[i]){let t=e;try{const o=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},a=o.locale||o.lng||n.locale||n.lng||r;t=this.formats[i](e,a,p(p(p({},l),n),o))}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return i}}class yD extends eD{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=ZM.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,t,r,n){const o={},i={},a={},l={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,n=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===l[t]&&(l[t]=!0)))})),n||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach((r=>{((e,t,r,n)=>{const o=VM(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],i[a].push(r)})(r.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((e=>{a[e]||(a[e]={});const t=r.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;const a=(a,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&l&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,r,n+1,2*o,i)}),o):i(a,l)},l=this.backend[r].bind(this.backend);if(2!==l.length)return l(e,t,a);try{const r=l(e,t);r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(s){a(s)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();PM(e)&&(e=this.languageUtils.toResolveHierarchy(e)),PM(t)&&(t=[t]);const o=this.queueLoad(e,t,r,n);if(!o.toLoad.length)return o.pending.length||n(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,((r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)}))}saveMissing(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){const s=p(p({},i),{},{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let o;o=5===u.length?u(e,t,r,n,s):u(e,t,r,n),o&&"function"==typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(l){a(l)}else u(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}const bD=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),PM(e[1])&&(t.defaultValue=e[1]),PM(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach((e=>{t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),_D=e=>(PM(e.ns)&&(e.ns=[e.ns]),PM(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),PM(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),xD=()=>{};class wD extends eD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=_D(e),this.services={},this.logger=ZM,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(PM(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=bD();this.options=p(p(p({},n),this.options),_D(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=p(p({},n.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?ZM.init(o(this.modules.logger),this.options):ZM.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=mD);const r=new aD(this.options);this.store=new tD(this.options.resources,this.options);const i=this.services;i.logger=ZM,i.resourceStore=this.store,i.languageUtils=r,i.pluralResolver=new pD(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new gD(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new yD(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new oD(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,r||(r=xD),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=NM(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xD;const r=PM(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],n=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(r)n(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>n(e)))}this.options.preload&&this.options.preload.forEach((e=>n(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,r){const n=NM();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=xD),this.services.backendConnector.reload(e,t,(e=>{n.resolve(),r(e)})),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&rD.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const n=NM();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((function(){return r.t(...arguments)})),t&&t(e,(function(){return r.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const r=PM(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||o(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,(e=>{i(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;const o=function(e,t){let i;if("object"!=typeof t){for(var a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];i=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else i=p({},t);i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||r||o.keyPrefix);const u=n.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${u}${e}`)):i.keyPrefix?`${i.keyPrefix}${u}${e}`:e,n.t(c,i)};return PM(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const i=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||n&&!i(o,e)))}loadNamespaces(e,t){const r=NM();return this.options.ns?(PM(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=NM();PM(e)&&(e=[e]);const n=this.options.preload||[],o=e.filter((e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=n.concat(o),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new aD(bD());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new wD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xD;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n=p(p(p({},this.options),e),{isClone:!0}),o=new wD(n);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services=p({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new tD(this.store.data,n),o.services.resourceStore=o.store),o.translator=new oD(o.services,n),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)})),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const OD=wD.createInstance();var SD;OD.createInstance=wD.createInstance,OD.createInstance,OD.dir,OD.init,OD.loadResources,OD.reloadResources,OD.use,OD.changeLanguage,OD.getFixedT,OD.t,OD.exists,OD.setDefaultNamespace,OD.hasLoadedNamespace,OD.loadNamespaces,OD.loadLanguages;var kD=(b(b(b(b(b(b(b(b(b(b(SD={},ZR,"Empty group"),eM,"No conditions for group field {{field}}"),tM,"Empty query"),rM,"Empty case"),nM,"No config for field {{field}}"),"FIXED_OPERATOR","Fixed operator {{from}} to {{to}} for field {{field}}"),oM,"No config for operator {{operator}}"),iM,"No config for function {{funcKey}}"),aM,"Invalid value"),lM,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),b(b(b(b(b(b(b(b(b(b(SD,sM,"Type of field {{field}} is not supported"),uM,"Operator {{operator}} is not supported for field {{field}}"),dM,"Incomplete rule"),pM,"Incomplete LHS"),fM,"Incomplete RHS"),cM,"Invalid value src {{valueSrcs, list}}"),hM+"_one","Value {{badValues, list}} is not in the list of allowed values"),hM+"_other","Values {{badValues, list}} are not in the list of allowed values"),gM,"Value {{value}} is not in the list of allowed values"),vM,"Value should have type {{wType}}, but got value of type {{valueType}}"),b(b(b(b(b(b(b(b(b(b(SD,mM,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),yM,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),bM,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),bM+"_"+LM,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),_M,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),_M+"_"+LM,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),xM,"No config for field {{field}}"),wM,"Can't compare field {{field}} with itself"),OM,"Can't compare field {{leftField}} with {{rightField}}"),SM,"Field {{field}} is of type {{type}}, but expected {{expected}}"),b(b(b(b(b(b(b(b(b(b(SD,kM,"Unsupported function {{funcKey}} for field {{field}}"),jM,"Value of arg {{argName}} for func {{funcName}} is required"),EM,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),CM,"Invalid range"),qM,"Root"),TM+"__rule","Leaf #{{globalLeafNo}}"),TM+"__group","Group #{{globalGroupNo}}"),TM+"__rule_group","Rule-group #{{globalNoByType}}"),TM+"__case_group","Case #{{globalNoByType}}"),TM+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),b(b(b(b(b(SD,TM+"__group__deleted","Deleted group #{{globalGroupNo}}"),TM+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),TM+"__case_group__deleted","Deleted case #{{globalNoByType}}"),AM,"{{str}} in case #{{caseNo}}"),IM,"{{str}} (index path: {{indexPath, list}})")),jD="raqbvalidation",ED="".concat(jD,":"),CD=OD.createInstance();CD.init({fallbackLng:"en"}),CD.addResources("en",jD,kD);var TD=function e(t,r){return null!=t&&t.str?t.str:null!=t&&t.key?e(t.key,t.args):null===r?t:CD.t(t.includes(":")?t:ED+t,r)};function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ID(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qD(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var AD=function(e){return"object"===_(e)&&null!==e&&Array.isArray(e)?"array":_(e)},LD=function(e,t){return 0===PD(e,t).length},PD=function(e,t){var r=t.settings.showErrorMessage,n=[];return e&&function e(t,o,i){var a,l,s=t.get("id"),u=t.get("children1"),c=t.getIn(["properties","valueError"]),d=t.getIn(["properties","fieldError"]),p=t.getIn(["properties","field"]),f=null!==(a=null==p||null===(l=p.get)||void 0===l?void 0:l.call(p,"func"))&&void 0!==a?a:p;((null==c?void 0:c.size)>0&&c.filter((function(e){return null!=e})).size>0||!!d)&&r&&n.push(f),u&&u.map((function(t,r){t&&e(t,o.concat(s))}))}(e,[]),Array.from(new Set(n))},ND=function(e,t){var r=bB(t,void 0,!0),n={removeEmptyGroups:t.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:t.settings.removeIncompleteRulesOnLoad,removeEmptyRules:t.settings.removeEmptyRulesOnLoad,forceFix:!1},o=DD(e,null,r,r,n),i=o.fixedTree,a=o.allErrors;return o.isSanitized&&a.length&&console.warn("Tree check errors: ",a),i},FD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=bB(t,void 0,!0),o=ID(ID({},r),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1});return DD(e,null,n,n,o).allErrors},RD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=bB(t,void 0,!0),o=ID({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},r),i=DD(e,null,n,n,o);return{fixedTree:i.fixedTree,fixedErrors:i.fixedErrors,nonFixedErrors:i.nonFixedErrors,allErrors:i.allErrors}},MD=function(e,t,r,n,o,i,a){void 0===o&&(o=r.settings.removeEmptyGroupsOnLoad),void 0===i&&(i=r.settings.removeEmptyRulesOnLoad),void 0===a&&(a=r.settings.removeIncompleteRulesOnLoad);var l=DD(e,t,r,n,{removeEmptyGroups:o,removeEmptyRules:i,removeIncompleteRules:a,forceFix:!1}),s=l.fixedTree;l.allErrors;var u=l.fixedErrors;return l.nonFixedErrors,l.isSanitized&&u.length&&console.warn("Fixed tree errors: ",u),s=PN(s)},DD=function(e,t,r,n,o){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var i,a,l=o||{},s=l.removeEmptyGroups,u=l.removeEmptyRules,c=l.removeIncompleteRules,d=l.forceFix,p=l.translateErrors,f=void 0===p||p,h=l.includeStringifiedItems,g=void 0===h||h,v=l.stringifyFixedItems,m=void 0!==v&&v,y=l.stringifyItemsUserFriendly,b=void 0===y||y,_=l.includeItemsPositions,x=void 0===_||_,w={errors:{}},O=BD(e,[],null,w,{config:r,oldConfig:n,removeEmptyGroups:s,removeEmptyRules:u,removeIncompleteRules:c,forceFix:d}),S=w.sanitized,k=[];for(var j in x&&(i=FN(O).items),w.errors){var E=w.errors[j],C=E.path,T=E.errors;f&&(T=T.map((function(e){return ID(ID({},e),{},{str:TD(e)})})));var q={path:C,errors:T};if(g){var I=AN(m?O:e,C);if(!(1===C.length)&&"group"!==I.get("type")){var A=WR(I,r,b,!0);q.itemStr=A}}if(x){var L=i[j],P=!L;if(P&&(a||(a=FN(e).items),L=a[j]),L){var N=ID(ID({},L.position),{},{index:L.index,type:L.type,isDeleted:P});q.itemPosition=N;var F=L.index?TM+"__"+L.type+(P?"__deleted":""):qM,R=ID({},N);if(b){for(var M,D=0,V=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];D<V.length;D++){var z=V[D];null!=R[z]&&(R[z]=R[z]+1)}R.indexPath=null===(M=N.indexPath)||void 0===M?void 0:M.map((function(e){return e+1}))}q.itemPositionStr=TD(F,R),L.index&&(L.caseId&&"case_group"!==L.type&&(q.itemPositionStr=TD(AM,ID(ID({},R),{},{str:q.itemPositionStr}))),"case_group"!==L.type&&(q.itemPositionStr=TD(IM,ID(ID({},R),{},{str:q.itemPositionStr}))))}}k.push(q)}for(var B=[],H=[],U=0,$=k;U<$.length;U++){var W=$[U],K=W.errors.filter((function(e){return!!e.fixed})),G=W.errors.filter((function(e){return!e.fixed&&"EMPTY_QUERY"!==e.key}));K.length&&B.push(ID(ID({},W),{},{errors:K})),G.length&&H.push(ID(ID({},W),{},{errors:G}))}return{fixedTree:O,allErrors:k,fixedErrors:B,nonFixedErrors:H,isSanitized:S}};function VD(e,t,r,n){var o=t.get("id");e.errors[o]||(e.errors[o]={path:[].concat(sj(r),[o]),errors:[]}),e.errors[o].errors.push(n)}function zD(e,t){var r=t.get("id");e.errors[r]&&e.errors[r].errors.map((function(e){e.fixed=!0}))}function BD(e,t,r,n,o){var i=null==e?void 0:e.get("type");return"group"===i||"rule_group"===i||"case_group"==i||"switch_group"==i?function(e,t,r,n,o){var i,a,l,s,u,c,d=o.removeEmptyGroups,p=o.removeIncompleteRules;o.forceFix;var f=o.config;f.settings.showErrorMessage;var h=e.get("id"),g=e.get("children1"),v=!t.length,m=g,y=e.get("type"),b=e.get("properties"),_=null==b?void 0:b.get("field"),x=null==b?void 0:b.get("mode"),w=null==b||null===(i=b.get)||void 0===i?void 0:i.call(b,"operator"),O="rule_group"===y&&"array"===x,S="case_group"===y,k=S&&null==g,j=w?null!==(a=null===(l=f.operators[w])||void 0===l?void 0:l.cardinality)&&void 0!==a?a:1:void 0,E=S?!k:O?0==j:d,C=O||S;!h&&r&&(h=r,e=e.set("id",h),n.sanitized=!0);C&&(e=HD(e,t,r,n,o));var T={errors:{}};g=null===(s=g)||void 0===s?void 0:s.map((function(e,r){return BD(e,t.concat(h),r,T,o)}));var q=null===(u=g)||void 0===u?void 0:u.filter((function(e){return null!=e}));d&&(g=q);var I=T.sanitized||(null==m?void 0:m.size)!=(null===(c=g)||void 0===c?void 0:c.size),A=!(null!=q&&q.size),L=d&&!v;O&&_&&(L=p);A&&E&&(VD(n,e,t,{key:v?tM:S?rM:O?eM:ZR,args:{field:_},fixed:L}),L&&(zD(n,e),e=void 0));I&&(n.sanitized=!0);I&&e&&(e=e.set("children1",g));return n.errors=ID(ID({},n.errors),(null==T?void 0:T.errors)||{}),e}(e,t,r,n,o):"rule"===i?HD(e,t,r,n,o):e}function HD(e,t,r,n,o){var i=o.removeIncompleteRules,a=o.removeEmptyRules,l=o.forceFix,s=o.config,u=o.oldConfig,c=s.settings.showErrorMessage,d=!c||l,p=e.get("id"),f="case_group"===e.get("type"),h=e.get("properties");if(!h){if(!f)return void VD(n,e,t,{key:dM,args:{},fixed:i||a});h=new Eq.Map}var g=h.get("field")||null;f&&(g="!case_value");var v=h.get("fieldSrc")||null,m=h.get("operator")||null,y=h.get("operatorOptions"),b=h.get("valueSrc"),_=h.get("value"),x=h.get("valueError"),w=h.get("fieldError"),O=function(){var e,t;return{field:(null===(e=g)||void 0===e||null===(t=e.toJS)||void 0===t?void 0:t.call(e))||g,fieldSrc:v,operator:m,operatorOptions:y?y.toJS():{},valueSrc:b?b.toJS():null,value:_?_.toJS():null,valueError:x?x.toJS():null,fieldError:w||null}},S=O();!p&&r&&(p=r,e=e.set("id",p),n.sanitized=!0);var k=g?UB(s,g):null;g&&!k&&(VD(n,e,t,{key:nM,args:{field:g},side:"lhs",fixed:i||a}),g=null),null!=g||f||(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce((function(e,t){return e.delete(t)}),h),m=null),v||!g||f||(v=HB(g),h=h.set("fieldSrc",v)),"range_between"!==m&&"range_not_between"!==m||(m="range_between"===m?"between":"not_between",h=h.set("operator",m));var j=m?$B(s,m,g):null;m&&!j&&(VD(n,e,t,{key:oM,args:{operator:m},side:"op",fixed:i||a}),m=null);var E=g?uV(s,g):[];g&&!f&&(null!=E&&E.length?m&&-1==E.indexOf(m)&&("is_empty"===m||"is_not_empty"===m?(m="is_empty"===m?"is_null":"is_not_null",h=h.set("operator",m)):(VD(n,e,t,{key:uM,args:{operator:m,field:g},side:"lhs",fixed:i||a}),m=null)):(VD(n,e,t,{key:sM,args:{field:g},side:"lhs",fixed:i||a}),m=null)),null!=m||f||(h=["operatorOptions","valueSrc","value","valueError"].reduce((function(e,t){return e.delete(t)}),h)),y=h.get("operatorOptions"),!m||y&&!j.options?(y=null,h=h.delete("operatorOptions")):m&&!y&&j.options&&(y=LR(s,m,g),h=h.set("operatorOptions",y)),b=h.get("valueSrc"),_=h.get("value");var C=YD(s,u,h,g,m,null,d,!0),T=C.newValue,q=C.newValueSrc,I=C.newValueError,A=C.validationErrors,L=C.newFieldError,P=C.fixedField;_=T,b=q,x=I,w=L,g=P,h=(h=(h=h.set("field",g)).set("value",_)).set("valueSrc",b),h=c?h.set("valueError",x).set("fieldError",w):h.delete("valueError").delete("fieldError");var N=O(),F=!Mq(S,N),R=jV(h.toObject(),s),M=f?R.parts.value:R.score>=3;if(F&&(n.sanitized=!0,e=e.set("properties",h)),null==A||A.map((function(r){return VD(n,e,t,r)})),!M)if(f);else{var D=R.score?i:a,V={key:dM,args:{}};if(R.parts.field){if(!R.parts.value){var z,B,H,U;V.key=fM,V.side="rhs",null!==(z=N.valueSrc)&&void 0!==z&&z[0]&&(null===(B=N.valueSrc)||void 0===B?void 0:B[0])!=(null===(H=S.valueSrc)||void 0===H?void 0:H[0])&&null!=(null===(U=N.value)||void 0===U?void 0:U[0])&&(V.key=cM,V.args={valueSrcs:N.valueSrc})}}else V.key=pM,V.side="lhs";V.fixed=D,VD(n,e,t,V),D&&(zD(n,e),e=void 0)}return e}var UD=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=arguments.length>10&&void 0!==arguments[10]&&arguments[10],d=[],p=o;if(null!=o){var f,h,g,v;if("field"===a){var m=WD(t,r,o,a,i,l,e,n,s,u),y=Et(m,2);p=y[0],d=y[1]}else if("func"===a){var b=KD(t,r,o,a,i,l,e,n,s,u,c),x=Et(b,2);p=x[0],d=x[1]}else if("value"===a||!a){var w=$D(r,o,a,i,l,e,n,s,u),O=Et(w,2);p=O[0],d=O[1]}var S=!(null!==(f=d)&&void 0!==f&&f.find((function(e){return!e.fixed})));if(!!r&&!["field","func"].includes(a)&&(!(null!==(h=d)&&void 0!==h&&h.length)||S)){var k=mV(e,r,n,a),j=n?$B(e,n,r):null,E=WB(e,r,n,k,a,{forExport:!0}),C="field"===a?UB(e,o):null,T=E,q=E.validateValue;if("function"==typeof q){var I=[p,T,n,j];"field"===a&&I.push(C);var A,L,P=q.call.apply(q,[e.ctx].concat(I));if("object"!==_(P)||null===P||Array.isArray(P))"boolean"==typeof P?0==P&&d.push({key:aM,args:{}}):"string"==typeof P&&d.push({key:P,args:null});else L=null!==(A=P.error)&&void 0!==A&&A.key?ID({},P.error):{key:P.error,args:null},void 0!==P.fixedValue&&s&&(L.fixed=!0,L.fixedFrom=p,L.fixedTo=P.fixedValue,p=P.fixedValue),d.push(L)}}if(S=!(null!==(g=d)&&void 0!==g&&g.find((function(e){return!e.fixed}))),null!==(v=d)&&void 0!==v&&v.length&&!S&&s){var N=UB(e,r),F=null==N?void 0:N.fieldSettings,R=null==F?void 0:F.defaultValue;if(void 0!==R){var M=d[d.length-1];M.fixed=!0,M.fixedFrom=p,M.fixedTo=R,p=R,d.map((function(e){e.fixed=!0}))}}}return[p,d]},$D=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=[],u=t;if(e){var c=UB(i,e),d=mV(i,e,a,r),p=i.widgets[d],f=null==p?void 0:p.type,h=null==p?void 0:p.jsType,g=null==c?void 0:c.fieldSettings,v=(null==g?void 0:g.treeValues)||(null==g?void 0:g.listValues),m=!(null==g||!g.asyncFetch),y=v||m;if(n&&f&&n!=f)return s.push({key:vM,args:{wType:f,valueType:n}}),[t,s];if(h&&!function(e,t){return AD(e)===t||"number"===t&&!isNaN(e)}(t,h)&&!y)return s.push({key:mM,args:{jsType:h,valueTypeof:AD(t)}}),[t,s];if(g){var b=o||v;if(b&&!g.allowCustomValues&&"case_value"!==d){var _=function(e,t,r,n,o){var i=Eq.List.isList(e)?e.toJS():e instanceof Array?sj(e):void 0,a=e,l=[];if(i){var s=i.reduce((function(e,r){var n=Et(e,2),o=n[0],i=n[1],a=kN(t,r);return null==a?[o,[].concat(sj(i),[r])]:[[].concat(sj(o),[a.value]),i]}),[[],[]]),u=Et(s,2),c=u[0],d=u[1],p=d.length>0;if(a=(r=r||!0===o)&&p?c:e,d.length){var f=r&&p;l.push({key:hM,args:{badValues:d,count:d.length},fixed:f,fixedFrom:f?i:void 0,fixedTo:f?a:void 0})}return[a,l]}var h=kN(t,e);return null==h?(a=r?null:e,l.push({key:gM,args:{value:e},fixed:r,fixedFrom:r?e:void 0,fixedTo:r?a:void 0})):a=h.value,[a,l]}(t,b,l,0,i.settings.removeInvalidMultiSelectValuesOnLoad),x=Et(_,2);u=x[0],s=x[1]}g.maxLength>0&&null!=t&&String(t).length>g.maxLength&&(u=l?String(t).substring(0,g.maxLength):t,s.push({key:yM,args:{value:t,length:String(t).length,fieldSettings:g},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}));var w=null!=g.min&&null!=g.max?LM:void 0;null!=g.min&&t<g.min&&(u=l?g.min:t,s.push({key:bM,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0})),null!=g.max&&t>g.max&&(u=l?g.max:t,s.push({key:_M,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}))}}return[u,s]},WD=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=[],u=a.settings,c=u.fieldSeparator,d=u.canCompareFieldWithField,p="object"==_(t)&&(null==t?void 0:t._isFuncArg),f=Array.isArray(e)?e.join(c):e,h=UB(a,e),g=Array.isArray(r)?r.join(c):r,v=UB(a,r);if(!v)return s.push({key:xM,args:{field:g}}),[r,s];if(e&&g===f&&!p)return s.push({key:wM,args:{field:f}}),[r,s];if(o&&o!=v.type)return s.push({key:SM,args:{field:g,type:v.type,expected:o}}),[r,s];if(e&&!p&&d&&!d(f,h,g,v,l))return s.push({key:OM,args:{leftField:f,rightField:g}}),[r,s];return[r]},KD=function(e,t,r,n,o,i,a){var l,s,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=r,h=[];if(!r)return[r];var g=null===(l=r.get)||void 0===l?void 0:l.call(r,"func");if(!g)return[r];var v=UB(a,t);if(null!=v&&v.funcs&&!v.funcs.includes(g))return h.push({key:kM,args:{funcKey:g,field:t}}),[r,h];var m=NB(a,g);if(!m)return h.push({key:iM,args:{funcKey:g}}),[r,h];var y=null!==(s=m.label)&&void 0!==s?s:g;if(o&&m.returnType!=o)return h.push({key:EM,args:{funcKey:g,funcName:y,returnType:m.returnType,valueType:o}}),[r,h];for(var b in c=c||p,m.args){var _,x=m.args[b],w=f.get("args"),O=w?w.get(b):void 0,S=UB(a,x),k=null!==(_=null==S?void 0:S.label)&&void 0!==_?_:b,j=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;if(void 0!==j){var C=UD(a,e,S,u,j,x.type,E,i,c,d,p),T=Et(C,2),q=T[0],I=T[1],A=!(null!=I&&I.length),L=c&&q!==j,P=c&&!A&&!L&&(d||p);if(L&&(f=f.setIn(["args",b,"value"],q)),P&&(f=f.deleteIn(["args",b]),f=tV(a,f,m,b)),!A){var N,F,R=null!==(N=null!==(F=I.find((function(e){return!e.fixed&&!e.ignore})))&&void 0!==F?F:I.find((function(e){return!e.fixed})))&&void 0!==N?N:I[0],M=L||P,D=0===I.filter((function(e){return!e.ignore})).length;if(R){var V=TD(R);h.push({key:lM,args:{funcKey:g,funcName:y,argKey:b,argName:k,argValidationError:V,argErrors:I},ignore:D,fixed:M,fixedFrom:M?j:void 0,fixedTo:M?L?q:x.defaultValue:void 0})}}}else if(!x.isOptional&&(d||p)){var z=c&&void 0!==x.defaultValue&&(d||p);d&&h.push({key:jM,args:{funcKey:g,funcName:y,argKey:b,argName:k},fixed:z,fixedTo:z?x.defaultValue:void 0,ignore:!z}),z&&(f=f.deleteIn(["args",b]),f=tV(a,f,m,b))}}return[f,h]},GD=function(e,t,r,n,o){var i,a=$B(e,r,t),l=r?Rq(a):null,s=o.toJS?o.toJS():o,u=n.toJS?n.toJS():n,c=s.filter((function(e){return"value"==e||null==e})).length==l;if(null!=a&&a.validateValues&&c){var d=s[0],p=mV(e,t,r,d),f=WB(e,t,r,p,d),h=null!=f&&f.toJS?u.map((function(t){var r=f.toJS.call(e.ctx,t,f);return r instanceof Date&&(r=r.getTime()),r})):u,g=a.validateValues(h);"boolean"==typeof g&&0==g&&(i={key:CM,args:{jsValues:h,values:u}})}return i},YD=function(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];i||(i=e);var f=e.settings,h=f.keepInputOnChangeFieldSrc,g=f.convertableWidgets,v=f.clearValueOnChangeField,m=f.clearValueOnChangeOp,y="!case_value"==l,b=a.get("field");!b&&y&&(b=l);var _,x=a.get("fieldType"),w=a.get("fieldSrc"),O=a.get("operator"),S=a.get("value"),k=a.get("valueSrc",new Eq.List),j=a.get("valueType",new Eq.List),E=a.get("valueError",new Eq.List),C=a.get("asyncListValues"),T=y,q=$B(i,O),I=$B(e,s,l),A=y?1:O?Rq(q):null,L=y?1:s?Rq(I):null,P=UB(i,b),N=UB(e,l),F=!b&&x&&h,R=(null==P?void 0:P.type)||x,M=(null==N?void 0:N.type)||!l&&F&&R,D=null==P?void 0:P.listValuesType,V=null==N?void 0:N.listValuesType,z=(null===(t=b)||void 0===t||null===(r=t.get)||void 0===r?void 0:r.call(t,"func"))||b,B=((null===(n=l)||void 0===n||null===(o=n.get)||void 0===o?void 0:o.call(n,"func"))||l)!=z,H=[],U=(b||F)&&(O&&s||T)&&null!=S;if((!R||!M||R!=M||"field"===u&&B&&v||"operator"===u&&m)&&(U=!1),B&&lV.includes(M)&&(V&&V===D||(U=!1)),T||(null!=S&&S.size||!L)&&(null==S||!S.size||L)||(U=!1),"func"===w&&l){var $=UD(e,null,null,s,l,M,w,C,c,d,p),W=Et($,2),K=W[0],G=W[1],Y=!(null!=G&&G.length),J=K!==l,Q=!Y&&J&&!G.find((function(e){return!e.fixed})),X=c&&!Y&&!Q&&!!u&&l!==b,Z=!1;if(X?l=b:J&&(l=K),!Y){var ee=!Y&&!Q&&!X,te=G.find((function(e){return!e.fixed&&!e.ignore}));ee&&te&&(_=TD(te)),G.map((function(e){return H.push(ID(ID({side:"lhs"},e),{},{fixed:e.fixed||X||Z}))}))}}for(var re=0;re<L;re++){var ne=k.get(re)||null,oe=mV(i,b,O,ne),ie=mV(e,l,s,ne),ae="value"===ne?oe:mV(i,b,O,"value"),le="value"===ne?ie:mV(e,l,s,"value");le==ae||(g[ae]||[]).includes(le)||!ae&&F||(U=!1)}O!=s&&[O,s].includes("proximity")&&(U=!1);var se=k.first(),ue=WB(e,l,s,null,se),ce=vV(e,l,s,null);!l&&F&&(ce=Object.keys(e.settings.valueSourcesInfo));var de,pe=ce[0];1===L&&ue&&void 0!==ue.type?de=ue.type:1===L&&N&&void 0!==N.type&&(de="!group"===N.type?"number":N.type);var fe=U&&"operator"===u&&1===A&&2===L,he=[],ge=[],ve=[],me=Array.from({length:L},(function(){return null}));if(U)for(var ye=function(t){var r=S.get(t),n=j.get(t)||null,o=k.get(t)||null;fe&&1===t&&(r=void 0!==he[0]?he[0]:S.get(0),he[t]=r,n=j.get(0)||null,o=k.get(0)||null);var i=!o||void 0!==ce.find((function(e){return e==o})),a=UD(e,l,l,s,r,n,o,C,c,d,p),u=Et(a,2),f=u[0],h=u[1],g=!(null!=h&&h.length),v=f!==r,m=!g&&v&&!(null!=h&&h.find((function(e){return!e.fixed}))),y=!(null!=h&&h.find((function(e){return!e.fixed&&!e.ignore}))),b=!i||c&&!g&&!m&&(!y||B);g||null==h||h.map((function(e){return H.push(ID(ID({side:"rhs",delta:t},e),{},{fixed:e.fixed||b}))})),b&&(he[t]=null,0===t&&delete he[1]);var _=!g&&!v,x=null==h?void 0:h.find((function(e){return!e.fixed&&!e.ignore}));_&&x&&(me[t]=TD(x)),v&&(he[t]=f),!fe||0!==t||g||v||(fe=!1),fe&&0===t&&["func","field"].includes(o)&&(fe=!1)},be=0;be<L;be++)ye(be);if(!U)for(var _e=0;_e<L;_e++)if(1===L){var xe,we=tI([null==N?void 0:N.defaultValue,null==N||null===(xe=N.fieldSettings)||void 0===xe?void 0:xe.defaultValue,null==ue?void 0:ue.defaultValue]);he[_e]=we,null!=we&&we.func&&(ge[_e]="func")}for(var Oe=0;Oe<L;Oe++){var Se,ke,je=U&&k.get(Oe)||null,Ee=U&&j.get(Oe)||null;if(U&&fe&&1===Oe)je=null!==(Se=ge[Oe])&&void 0!==Se?Se:k.get(0),Ee=null!==(ke=ve[Oe])&&void 0!==ke?ke:j.get(0),ge[Oe]=je,ve[Oe]=Ee;ce.includes(je)||(ge[Oe]=pe),Ee||(ve[Oe]=de)}var Ce=S;(he.length>0||!U)&&(Ce=new Eq.List(Array.from({length:L},(function(e,t){return void 0!==he[t]?he[t]:U?S.get(t):void 0}))));var Te=k;(ge.length>0||!U)&&(Te=new Eq.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ge[t])&&void 0!==r?r:U&&k.get(t)||null}))));var qe=j;(ve.length>0||!U)&&(qe=new Eq.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ve[t])&&void 0!==r?r:U&&j.get(t)||null}))));var Ie=GD(e,l,s,Ce,Te);if(Ie){var Ae=TD(Ie),Le=c&&L>=2,Pe=Ce;Le&&(he[1]=Ce.get(0),Ce=Ce.set(1,he[1]),me[1]=me[0]),!Le&&me.push(Ae),H.push(ID(ID({side:"rhs",delta:-1},Ie),{},{fixed:Le,fixedFrom:Le?[Pe.get(0),Pe.get(1)]:void 0,fixedTo:Le?[Ce.get(0),Ce.get(1)]:void 0}))}var Ne=E,Fe=(null==E?void 0:E.size)!==me.length||me.filter((function(e,t){return e!=E.get(t)})).length>0;return Fe&&(Ne=new Eq.List(me)),{canReuseValue:U,newValue:Ce,newValueSrc:Te,newValueType:qe,operatorCardinality:L,fixedField:l,newValueError:Ne,newFieldError:_,validationErrors:H}};const JD=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:DD,checkTree:ND,getNewValueForFieldOp:YD,getTreeBadFields:PD,isValidTree:LD,sanitizeTree:RD,translateValidation:TD,validateAndFixTree:MD,validateRange:GD,validateTree:FD,validateValue:UD},Symbol.toStringTag,{value:"Module"}));var QD=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},XD=function(e,t){if(e){var r=e.get("func"),n=r&&NB(t,r);if(n){var o=e,i=!1;for(var a in n.args){var l=n.args[a],s=l.valueSources,u=l.isOptional,c=l.defaultValue,d=gV(t,s,l),p=o.get("args"),f=1==d.length?d[0]:void 0,h=p?p.get(a):void 0,g=h?h.get("value"):void 0,v=(h?h.get("valueSrc"):void 0)||f;if(void 0!==g){var m=CV(g,v,t);if(void 0===m)return;if(m!==g&&(o=o.setIn(["args",a,"value"],m)),i)return}else if(void 0===c||QD(c)){if(!u)return;i=!0}else o=(o=o.setIn(["args",a,"value"],rV(l))).setIn(["args",a,"valueSrc"],"value")}return o}}},ZD=function(e,t,r,n){var o=r.settings.fieldSeparator;e=e||new Eq.Map,Array.isArray(t)&&(t=t.join(o));var i=e.get("func"),a=e.get("args");e=e.set("func",t);var l=t&&NB(r,t),s=t&&PB(r,t),u=i&&PB(r,i),c=iV(u,s,a,r,n);c.length?e=Object.keys(s.args).filter((function(e){return!c.includes(e)})).reduce((function(e,t){return e.deleteIn(["args",t])}),e):e=e.set("args",new Eq.Map);return e=eV(r,e,l)},eV=function(e,t,r){if(r)for(var n in r.args)t=tV(e,t,r,n);return t},tV=function(e,t,r,n){var o=r.args[n],i=o.valueSources,a=o.defaultValue,l=gV(e,i,o),s=l.length?l[0]:void 0,u=(a?QD(a)&&a.func?"func":"value":void 0)||s;return t.getIn(["args",n])||(void 0!==a&&(t=t.setIn(["args",n,"value"],rV(o))),u&&(t=t.setIn(["args",n,"valueSrc"],u))),t},rV=function(e){var t=e.defaultValue;return QD(t)&&!Eq.Map.isMap(t)&&t.func?Eq.fromJS(t,(function(e,t){return Eq.Iterable.isIndexed(t)?t.toList():t.toOrderedMap()})):t},nV=function(e,t,r,n,o){if(e&&e.get("func")){var i=(e=e.setIn(["args",t,"value"],r)).getIn(["args",t,"valueSrc"]),a=n.valueSources,l=gV(o,a,n),s=1==l.length?l[0]:void 0;!s&&l.includes("value")&&(s="value"),!i&&s&&(e=e.setIn(["args",t,"valueSrc"],s))}return e},oV=function(e,t,r,n,o){return e&&e.get("func")&&(e=e.setIn(["args",t],new Eq.Map({valueSrc:r}))),e},iV=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((null==e?void 0:e.returnType)!=(null==t?void 0:t.returnType))return[];var i=Object.keys(t.args).filter((function(i,a){var l=t.args[i],s=e.args[i];if(Object.keys(e.args).indexOf(i),!s&&(void 0!==l.defaultValue||l.isOptional))return!0;if((null==s?void 0:s.type)!=l.type)return!1;if(lV.includes(l.type)&&(!s.listValuesType||s.listValuesType!==l.listValuesType))return!1;if(r){var u,c=r.get(i),d=null==c?void 0:c.get("value"),p=null==c?void 0:c.get("valueSrc");if(p&&l.valueSources&&!l.valueSources.includes(p))return!1;var f=UD(n,null,l,null,d,l.type,p,null,o,!0),h=Et(f,2);h[0];var g=h[1];if(null!=g&&null!==(u=g.filter((function(e){return!e.fixed})))&&void 0!==u&&u.length)return!1}return!0}));return i};const aV=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:XD,getCompatibleArgsOnFuncChange:iV,setArgValue:nV,setArgValueSrc:oV,setFunc:ZD,setFuncDefaultArg:tV},Symbol.toStringTag,{value:"Module"}));var lV=["select","multiselect","treeselect","treemultiselect"],sV=function(e,t){var r;return(null===(r=e.types[t])||void 0===r?void 0:r.operators)||null},uV=function(e,t){var r=UB(e,t);return r?r.operators:[]},cV=function(e,t){var r,n=uV(e,t);return null!==(r=null==n?void 0:n[0])&&void 0!==r?r:null},dV=function(e,t,r){var n=null;if(e)if("field"===t){var o=UB(r,e);o&&(n=o.type)}else if("func"===t){var i=e.get("func");if(i){var a=NB(r,i);a&&(n=a.returnType||a.type)}}return n},pV=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fields",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"subfields";if(!e)return null;var i=t.settings.fieldSeparator,a=DB(e,t),l=DB(r,t),s=a.slice(l.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return[].concat(sj(l),sj(e)).join(i)})).map((function(e){var r=AB(t,e,n,o);return r&&r.label||JA(e.split(i))})).filter((function(e){return null!=e}));return s},fV=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;var n=r&&AB(t,r)||null,o=t.settings.fieldSeparator,i=DB(e,t),a=RB(e,r,t)?DB(r,t):[];return i.slice(a.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return{part:[].concat(sj(a),sj(e)).join(o),key:e[e.length-1]}})).map((function(e){var r=e.part;return{key:e.key,cnf:AB(t,r)}})).map((function(e,t,r){return[e.key,e.cnf,t>0?r[t-1].cnf:n]}))};function hV(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[],i=[];if(!t)return{widgets:o,valueSrcs:i};var a=VB(t),l=a?"".concat(a,"__").concat(r,"__").concat(n):null,s=zB(e,"_getWidgetsAndSrcsForFieldOp",l);if(s)return s;var u="object"===_(t)&&(!!t.func&&!!t.arg||t._isFuncArg),c=UB(e,t),d=r?e.operators[r]:null;if(null!=c&&c.widgets){var p=function(){var a=c.widgets[f];if(!e.widgets[f])return 1;var l=e.widgets[f].valueSrc||"value",s=!0;if("field"===f&&(s=s&&gV(e,["field"],c).length>0),"func"===f&&(s=s&&gV(e,["func"],c).length>0),"value"!==n||a.operators||u||"!case_value"===t||(s=!1),a.operators&&r&&(s=s&&-1!=a.operators.indexOf(r)),n&&n!=l&&"const"!==n&&(s=!1),d&&0==d.cardinality&&"value"!==l&&(s=!1),s){var p,h;o.push(f);var g=-1!=(null===(p=c.valueSources)||void 0===p?void 0:p.indexOf(l));-1==(null==d||null===(h=d.valueSources)||void 0===h?void 0:h.indexOf(l))&&(g=!1),g&&!i.find((function(e){return e==l}))&&i.push(l)}};for(var f in c.widgets)p()}var h=function(e){var t=0;return c.preferWidgets?c.preferWidgets.includes(e)&&(t+=10-c.preferWidgets.indexOf(e)):e==c.mainWidget&&(t+=100),"field"===e&&(t-=1),"func"===e&&(t-=2),t};o.sort((function(e,t){return h(t)-h(e)}));var g={widgets:o,valueSrcs:i};return BB(e,"_getWidgetsAndSrcsForFieldOp",l,g),g}var gV=function(e,t,r){var n;if(!r)return t;var o=null!==(n=r.type)&&void 0!==n?n:r.returnType;return"!group"===o&&(o="number"),t||(t=Object.keys(e.settings.valueSourcesInfo)),t.filter((function(t){var n=!0;if("field"===t&&e.__fieldsCntByType){var i=r._isFuncArg?0:1;n=n&&e.__fieldsCntByType[o]>i}return"func"===t&&(r.funcs&&(n=n&&r.funcs.length>0),e.__funcsCntByType&&(n=n&&e.__funcsCntByType[o]>0)),n}))},vV=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=hV(e,t,r,null).valueSrcs;return gV(e,o,n)},mV=function(e,t,r){var n=hV(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets,o=null;return n.length&&(o=n[0]),o},yV=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e){var i=UB(t,e)||{},a=t.settings.fieldSeparator,l=DB(e,t),s=Array.isArray(e)?e.join(a):e;if(null!=o&&o.useTableName&&i.tableName){var u=sj(l);u[0]=i.tableName,s=u.join(a)}if(i.fieldName&&(s=i.fieldName),n){UB(t,n);var c=n;0==s.indexOf(c+a)?s=s.slice((c+a).length):i.fieldName||r.errors.push("Can't cut group ".concat(c," from field ").concat(s))}return s}},bV=function(e,t){var r=e.get("type"),n=e.getIn(["properties","mode"]);return"rule_group"==r&&"array"==n?_V(e,t):"group"==r||"rule_group"==r?wV(e,t):SV(e,t)},_V=function(e,t){var r=e.get("children1"),n=e.get("properties");return xV(n.toObject(),r,t)},xV=function(e,t,r){var n,o,i=e.operator,a=0==(null!==(n=null===(o=r.operators[i])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1),l={group:!kV(e,r),children:!OV(t,r)};return!(l.group&&(!a||l.children))},wV=function(e,t){var r=e.get("children1");return OV(r,t)},OV=function(e,t){return!((null==e?void 0:e.size)>0&&e.filter((function(e){return!bV(e,t)})).size>0)},SV=function(e,t){var r=e.get("properties");return kV((null==r?void 0:r.toObject())||{},t)},kV=function(e,t){return!(jV(e,t,!0).score>=3)},jV=function(e,t){var r,n,o,i=e.field,a=e.fieldSrc;e.fieldType;var l=e.operator,s=e.value,u=e.valueSrc;e.valueType;var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=null!==(r=null===(n=t.operators[l])||void 0===n?void 0:n.cardinality)&&void 0!==r?r:1,p=null!=u&&u.get?u.toJS():u,f={parts:{},score:0};if(f.parts.field=c?null!=i:EV(i,a,t),f.parts.operator=!!l,f.parts.value=(null==s||null===(o=s.filter((function(e,r){return EV(e,null==p?void 0:p[r],t,c)})))||void 0===o?void 0:o.size)>=(c?Math.min(d,1):d),f.score=Object.keys(f.parts).filter((function(e){return!!f.parts[e]})).length,c&&f.score<3){!f.parts.value&&"func"===a&&EV(i,a,t,!1,true)&&f.score++,f.parts.field||null==s||s.map((function(e,r){"func"===(null==p?void 0:p[r])&&EV(e,null==p?void 0:p[r],t,!1,true)&&f.score++}))}return f},EV=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!o&&"func"==r&&t){var a,l=null===(a=t.get)||void 0===a?void 0:a.call(t,"func"),s=NB(n,l);if(s){var u=t.get("args");for(var c in s.args){var d=s.args[c],p=u?u.get(c):void 0,f=p?p.get("value"):void 0,h=p?p.get("valueSrc"):void 0;if(null==f&&void 0===(null==d?void 0:d.defaultValue)&&(null==d||!d.isOptional))return!1;if(null!=f&&!e(f,h,n,!i||o))return!1}return!0}}return null!=t},CV=function(e,t,r){return"func"==t?XD(e,r):e},TV=function e(t){var r=t.get("children1");if(1==(null==r?void 0:r.size)){var n=r.first();return"group"===n.get("type")?e(n):n}return null};const qV=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:dV,completeValue:CV,filterValueSourcesForField:gV,formatFieldName:yV,getFieldPartsConfigs:fV,getFieldPathLabels:pV,getFirstOperator:cV,getFuncPathLabels:function(e,t){return pV(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,"funcs","subfields")},getOneChildOrDescendant:TV,getOperatorsForField:uV,getOperatorsForType:sV,getValueLabel:function(e,t,r,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=WB(e,t,r,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)||{},a=$B(e,r,t)||{},l=null;if((o?1:a.cardinality)>1){var s=i.valueLabels||a.valueLabels;s&&(l=s[n]),l&&"object"!==_(l)&&(l={label:l,placeholder:l}),l||(l={label:e.settings.valueLabel+" "+(n+1),placeholder:e.settings.valuePlaceholder+" "+(n+1)})}else{var u=i.valueLabel,c=i.valuePlaceholder;l={label:u||e.settings.valueLabel,placeholder:c||e.settings.valuePlaceholder}}return l},getValueSourcesForFieldOp:vV,getWidgetForFieldOp:mV,getWidgetsForFieldOp:function(e,t,r){return hV(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets},isEmptyGroupChildren:OV,isEmptyItem:bV,isEmptyRuleGroupExtPropertiesAndChildren:xV,isEmptyRuleProperties:kV,selectTypes:lV,whatRulePropertiesAreCompleted:jV},Symbol.toStringTag,{value:"Module"}));var IV=GI,AV=aa;var LV=function(e,t,r){(void 0!==r&&!AV(e[t],r)||void 0===r&&!(t in e))&&IV(e,t,r)};var PV=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}},NV=PV(),FV=Tu,RV=Ms;var MV=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},DV=eL,VV=dL;var zV=LV,BV=vL,HV=$L,UV=mL,$V=oP,WV=Ks,KV=js,GV=function(e){return RV(e)&&FV(e)},YV=Js,JV=Ya,QV=$a,XV=aN,ZV=du,ez=MV,tz=function(e){return DV(e,VV(e))};var rz=os,nz=LV,oz=NV,iz=function(e,t,r,n,o,i,a){var l=ez(e,r),s=ez(t,r),u=a.get(s);if(u)zV(e,r,u);else{var c=i?i(l,s,r+"",e,t,a):void 0,d=void 0===c;if(d){var p=KV(s),f=!p&&YV(s),h=!p&&!f&&ZV(s);c=s,p||f||h?KV(l)?c=l:GV(l)?c=UV(l):f?(d=!1,c=BV(s,!0)):h?(d=!1,c=HV(s,!0)):c=[]:XV(s)||WV(s)?(c=l,WV(l)?c=tz(l):QV(l)&&!JV(l)||(c=$V(s))):d=!1}d&&(a.set(s,c),o(c,s,n,i,a),a.delete(s)),zV(e,r,c)}},az=$a,lz=dL,sz=MV;var uz=function e(t,r,n,o,i){t!==r&&oz(r,(function(a,l){if(i||(i=new rz),az(a))iz(t,r,l,n,e,o,i);else{var s=o?o(sz(t,l),a,l+"",t,r,i):void 0;void 0===s&&(s=a),nz(t,l,s)}}),lz)},cz=PA,dz=LA,pz=zA;var fz=function(e,t){return pz(dz(e,t,cz),e+"")},hz=aa,gz=Tu,vz=Xs,mz=$a;var yz=function(e,t,r){if(!mz(r))return!1;var n=typeof t;return!!("number"==n?gz(r)&&vz(t,r.length):"string"==n&&t in r)&&hz(r[t],e)},bz=fz,_z=yz;var xz=function(e){return bz((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&_z(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,i)}return t}))},wz=uz,Oz=xz((function(e,t,r){wz(e,t,r)}));const Sz=g(Oz);var kz={exports:{}};!function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=t)}(kz);const jz=g(kz.exports);var Ez={exports:{}};!function(e,t){e.exports=function(){function e(e){for(var t=[],r=0,n=e.length;r<n;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t={},r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(e){return t.truthy(e)},"!":function(e){return!t.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var n=String(e).substr(t);return n.substr(0,n.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var r=void 0===t?null:t,n=this;if(void 0===e||""===e||null===e)return n;for(var o=String(e).split("."),i=0;i<o.length;i++){if(null==n)return r;if(void 0===(n=n[o[i]]))return r}return n},missing:function(){for(var e=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,n=0;n<r.length;n++){var o=r[n],i=t.apply({var:o},this);null!==i&&""!==i||e.push(o)}return e},missing_some:function(e,r){var n=t.apply({missing:r},this);return r.length-n.length>=e?[]:n}};return t.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},t.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},t.get_operator=function(e){return Object.keys(e)[0]},t.get_values=function(e){return e[t.get_operator(e)]},t.apply=function(e,n){if(Array.isArray(e))return e.map((function(e){return t.apply(e,n)}));if(!t.is_logic(e))return e;var o,i,a,l,s,u=t.get_operator(e),c=e[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(o=0;o<c.length-1;o+=2)if(t.truthy(t.apply(c[o],n)))return t.apply(c[o+1],n);return c.length===o+1?t.apply(c[o],n):null}if("and"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),!t.truthy(i))return i;return i}if("or"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),t.truthy(i))return i;return i}if("filter"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.filter((function(e){return t.truthy(t.apply(a,e))})):[];if("map"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.map((function(e){return t.apply(a,e)})):[];if("reduce"===u)return l=t.apply(c[0],n),a=c[1],s=void 0!==c[2]?t.apply(c[2],n):null,Array.isArray(l)?l.reduce((function(e,r){return t.apply(a,{current:r,accumulator:e})}),s):s;if("all"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(!t.truthy(t.apply(a,l[o])))return!1;return!0}if("none"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!0;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!1;return!0}if("some"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!0;return!1}if(c=c.map((function(e){return t.apply(e,n)})),r.hasOwnProperty(u)&&"function"==typeof r[u])return r[u].apply(n,c);if(u.indexOf(".")>0){var d=String(u).split("."),p=r;for(o=0;o<d.length;o++){if(!p.hasOwnProperty(d[o]))throw new Error("Unrecognized operation "+u+" (failed at "+d.slice(0,o+1).join(".")+")");p=p[d[o]]}return p.apply(n,c)}throw new Error("Unrecognized operation "+u)},t.uses_data=function(r){var n=[];if(t.is_logic(r)){var o=t.get_operator(r),i=r[o];Array.isArray(i)||(i=[i]),"var"===o?n.push(i[0]):i.forEach((function(e){n.push.apply(n,t.uses_data(e))}))}return e(n)},t.add_operation=function(e,t){r[e]=t},t.rm_operation=function(e){delete r[e]},t.rule_like=function(e,r){if(r===e)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof e;if("string"===r)return"string"==typeof e;if("array"===r)return Array.isArray(e)&&!t.is_logic(e);if(t.is_logic(r)){if(t.is_logic(e)){var n=t.get_operator(r),o=t.get_operator(e);if("@"===n||n===o)return t.rule_like(t.get_values(e,!1),t.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(e)){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i+=1)if(!t.rule_like(e[i],r[i]))return!1;return!0}return!1}return!1},t}()}(Ez);const Cz=g(Ez.exports);function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iz(e,t){return Cz.add_operation(e,t)}var Az={CALL:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.call.apply(e,[t].concat(n))},JSX:function(e,t){return{type:e,props:t}},mergeObjects:function(e,t){return qz(qz({},e),t)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(null==e?void 0:e.length)||0},regexTest:function(e,t,r){return null!=(null==e?void 0:e.match(new RegExp(t,r)))},now:function(){return new Date},date_add:function(e,t,r){return Qx(e).add(t,r).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function Lz(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Pz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pz(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Pz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rz(e,t,r){var n;try{n=Cz.apply(e,t)}catch(_n){throw _n.message="".concat(r.join(".")," :: ").concat(_n.message),_n}return n}function Mz(e,t,r,n){var o;try{o=t.call.apply(t,[e].concat(sj(r)))}catch(_n){throw _n.message="".concat(n.join(".")," :: ").concat(_n.message),_n}return o}!function(){for(var e in Az)Iz(e,Az[e])}();var Dz=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],Vz={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},zz=Fz(Fz({},Vz),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),Bz={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},Hz={widgetProps:zz,opProps:Bz},Uz=Fz(Fz({},Vz),{},{fieldSettings:Vz}),$z=Fz(Fz({},Vz),{},{fieldSettings:Vz,widgets:{x:Hz},mainWidgetProps:zz}),Wz={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:$z,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},Kz={fields:{x:$z},widgets:{x:zz},conjunctions:{x:{formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}}},operators:{x:Bz},types:{x:{widgets:{x:Hz}}},funcs:{x:Fz(Fz(Fz({},Uz),{renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}}),{},{args:{x:Fz({},Uz)}})},settings:Wz},Gz=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},Yz=function(e,t){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var r=GA(e,Dz);delete r.ctx;for(var n=function e(t,r,n,o){if(Gz(t)){if(Kq(t)&&(t=Wq(t)),"funcs"===n[0]&&!r){var i=n[n.length-1];(r=AB({funcs:o.BasicFuncs},i,"funcs","subfields")||void 0)&&(t.$$key=i)}if(void 0!==r&&Gz(r))for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(!Object.keys(t).includes(a)||void 0===t[a]&&void 0!==r[a]?t[a]="$$deleted":(t[a]=e(t[a],r[a],[].concat(sj(n),[a]),o),void 0===t[a]&&delete t[a]));for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var s;if(!r||!Object.keys(r).includes(l))t[l]=e(t[l],null===(s=r)||void 0===s?void 0:s[l],[].concat(sj(n),[l]),o);void 0===t[l]&&delete t[l]}0===Object.keys(t).length&&(t=void 0)}else Array.isArray(t)&&t.forEach((function(r,i){t[i]=e(t[i],void 0,[].concat(sj(n),[i]),o)}));if(void 0===r||!Dq(t,r,!0)){if("function"==typeof t)throw new Error("compressConfig: function at ".concat(n.join(".")," should be converted to JsonLogic"));return t}},o=0,i=Dz;o<i.length;o++){var a=i[o];if("ctx"===a);else if("fields"===a)r[a]=jz(r[a]),n(r[a],{},[a]);else if("funcs"===a)for(var l in r[a]=jz(r[a]||{}),r[a])n(r[a][l],null,[a,l],{BasicFuncs:yn});else r[a]=jz(r[a]),n(r[a],t[a],[a])}return r},Jz=function(e,t,r){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var n={},o=function e(t,r,n){if(Gz(r))for(var o in Gz(t)||(t={}),r)Object.prototype.hasOwnProperty.call(r,o)&&("$$deleted"===r[o]?delete t[o]:t[o]=e(t[o],r[o],[].concat(sj(n),[o])));else t=Array.isArray(r)?jz(r):r;return t},i=function e(t,r,n){var i=!1;if(Gz(t)&&Object.prototype.hasOwnProperty.call(t,"$$key")&&t.$$key){var a=AB({funcs:n.BasicFuncs},t.$$key,"funcs","subfields");if(!a)throw new Error("decompressConfig: basic function not found by key ".concat(t.$$key," at ").concat(r.join(".")));delete t.$$key,t=o(jz(a),t,r),i=!0}if(!i)if(Gz(t))for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=e(t[l],[].concat(sj(r),[l]),n));else if(Array.isArray(t)){var s,u=Lz(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;t[c]=e(t[c],[].concat(sj(r),[c]),n)}}catch(d){u.e(d)}finally{u.f()}}return t},a=0,l=Dz;a<l.length;a++){var s=l[a];"ctx"===s?n[s]=Sz({},t.ctx||{},r||{}):"funcs"===s?(n[s]=jz(e[s]||{}),i(n[s],[s],{BasicFuncs:yn})):"fields"===s?n[s]=jz(e[s]||{}):(n[s]=jz(t[s]||{}),o(n[s],e[s]||{},[s]))}return n},Qz=function(e){if(e.__compliled)return e;return Xz(e=jz(e),e,{ctx:e.ctx},Kz,[]),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function Xz(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(t)for(var a in i.length,n){var l=n[a],s="x"===a?i:[].concat(sj(i),[a]);if("r"===l.type){var u=t,c=u[a];if(l.isArr)for(var d in c){var p=tB(c[d],r,[].concat(sj(s),[d]));p!==c[d]&&(o.push("Compiled ".concat(s.join("."),"[").concat(d,"]")),c[d]=p)}else{var f=tB(c,r,s,void 0);f!==c&&(o.push("Compiled R ".concat(s.join("."))),u[a]=f)}}else if("rf"===l.type){var h=t,g=h[a],v=Zz(g,r,s,l.ignore);v!==g&&(o.push("Compiled JL-RF ".concat(s.join("."))),h[a]=v)}else if("f"===l.type){var m,y=t,b=y[a],_=eB(b,r,s,l.args,l.ignore);if(l.invokeWith&&_&&"function"==typeof _)_=(m=_).call.apply(m,[null].concat(sj(l.invokeWith)));_!==b&&(o.push("Compiled JL-F ".concat(s.join("."))),y[a]=_)}else if("x"===a)for(var x in t){s=[].concat(sj(i),[x]);var w=t[x];Xz(e,w,r,l,o,s),w.subfields&&Xz(e,w.subfields,r,n,o,s)}else{Xz(e,t[a],r,l,o,s)}}}function Zz(e,t,r){return Yq(e)?function(n,o){o=o||(null==t?void 0:t.ctx);var i=Rz(e,{props:n,ctx:o},r);return"string"==typeof i&&(i={type:i,props:n}),tB(i,{ctx:o},r)}:"string"==typeof e?function(n,o){o=o||(null==t?void 0:t.ctx);var i=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),o);return i?Mz(this,i,[n,o],r):tB({type:e,props:n},{ctx:o},r)}:e}function eB(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return Yq(e)&&"jl"!==o?function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=this||(null==t?void 0:t.ctx),s=(n||[]).reduce((function(e,t,r){return Fz(Fz({},e),{},b({},t,i[r]))}),{args:i,ctx:l});return Rz(e,s,r)}.bind(null==t?void 0:t.ctx):"string"==typeof e&&"string"!==o?function(){var n=this||(null==t?void 0:t.ctx),o=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),n);if(o){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return Mz(this,o,a,r)}throw new Error("".concat(r.join(".")," :: Function ").concat(e," is not found in ctx"))}.bind(null==t?void 0:t.ctx):e}function tB(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Gq(e)){var o,i=e.type,a=e.props;if("string"!=typeof i)throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var l,s=function(e,t){var r;return(null==t||null===(r=t.components)||void 0===r?void 0:r[e])||t.W[e]||t.O[e]}(i,t.ctx)||i.toLowerCase();return void 0!==n&&(a=Fz(Fz({},a),{},{key:n})),null!==(o=a)&&void 0!==o&&o.children&&(l=tB(a.children,t,r),a=Fz(Fz({},a),{},{children:l})),t.ctx.RCE(s,a)}return e instanceof Array?e.map((function(e,n){return tB(e,t,r,""+n)})):e}var rB=uz,nB=xz((function(e,t,r,n){rB(e,t,r,n)}));const oB=g(nB);var iB={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,t,r,n,o,i){return i?r:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function aB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return lB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function lB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sB,uB=0,cB=0,dB={},pB=function(){return sB||(sB=hB({reactIndex:void 0,maxSize:3,canCompile:void 0})),sB},fB=function(e,t){var r;for(var n in dB){var o=dB[n].findExtendedConfig(e,t);if(o){r=o;break}}return r},hB=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=t.maxSize||2,o=++uB,i=function(e,t){r.size+1>n&&r.delete(r.keys().next().value),r.set(e,t)},a=function(e,t){var n,o=aB(r.keys());try{var i,a=function(){var o=n.value;if(Dz.filter((function(t){return o[t]===e[t]})).length===Dz.length&&(!t||o.__compliled))return{v:r.get(o)}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(d){o.e(d)}finally{o.f()}var l,s=aB(r.values());try{var u,c=function(){var r=l.value;if(Dz.filter((function(t){return r[t]===e[t]})).length===Dz.length&&(!t||r.__compliled))return{v:r}};for(s.s();!(l=s.n()).done;)if(u=c())return u.v}catch(d){s.e(d)}finally{s.f()}return null},l=function(e){return a(e)||function(e){var r=bB(e,++cB,t.canCompile);return i(e,r),r}(e)};return e={getExtendedConfig:function(e){return l(function(e){return GA(e,Dz)}(e))},findExtendedConfig:a,getBasicConfig:function(e){var t,n=aB(r.keys());try{var o,i=function(){var n=t.value,o=r.get(n);if(0===Dz.map((function(t){return o[t]===e[t]})).filter((function(e){return!e})).length)return{v:n}};for(n.s();!(t=n.n()).done;)if(o=i())return o.v}catch(a){n.e(a)}finally{n.f()}return e},clearConfigMemo:function(){r.clear(),delete dB[o],sB===e&&(sB=void 0)},configId:cB,storeConfigPair:i,getSize:function(){return r.size},configStore:r,memoId:o,meta:t},void 0===t.reactIndex&&(sB=e),dB[o]=e,e};function gB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function vB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bB=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=r&&e.settings.useConfigCompress,e.__configId)return e;var n=fB(e,r);if(n)return n;var o=e;(e=r?e.__compliled?jz(e):Qz(e):jz(e)).settings=oB({},iB,e.settings,$q),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},function(e,t){for(var r in e){_B(r,e[r],t)}}(e.types,e),xB(e.fields,e),wB(e.funcs,e);var i=e.settings.caseValueField;i&&OB(i,e,[],!1,!0);var a=e.settings.locale.moment;return a&&Qx.locale(a),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:t||Tq()}),e.__cache={},Xq(e),pB().storeConfigPair(o,e),e};function _B(e,t,r){var n=null,o=null;t.mainWidget=t.mainWidget||Object.keys(t.widgets).filter((function(e){return"field"!=e&&"func"!=e}))[0];var i=t.excludeOperators||[];for(var a in t.widgets){var l=t.widgets[a],s=l.defaultOperator;if(l.operators){var u=l.operators.filter((function(e){return!i.includes(e)}));n=Qq(n,u)}s&&!i.includes(s)&&(o&&a!==t.mainWidget||(o=s)),a==t.mainWidget&&(l.widgetProps=yB(yB({},t.mainWidgetProps||{}),l.widgetProps||{})),t.widgets[a]=l}t.valueSources||(t.valueSources=Object.keys(r.settings.valueSourcesInfo));var c,d=gB(t.valueSources);try{for(d.s();!(c=d.n()).done;){var p=c.value;"value"==p||t.widgets[p]||(t.widgets[p]={})}}catch(f){d.e(f)}finally{d.f()}!t.operators&&n&&(t.operators=Array.from(new Set(n))),!t.defaultOperator&&o&&(t.defaultOperator=o)}function xB(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var n in e){var o=[].concat(sj(r),[n]);OB(e[n],t,o),e[n].subfields&&xB(e[n].subfields,t,o)}}function wB(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var o=(null==t||null===(r=t.settings)||void 0===r?void 0:r.fieldSeparator)||".";for(var i in e){var a=[].concat(sj(n),[i]),l=a.join(o),s=e[i];if(s.returnType&&(s.type=s.returnType,t.__funcsCntByType[s.returnType]||(t.__funcsCntByType[s.returnType]=0),t.__funcsCntByType[s.returnType]++),OB(s,t,a,!1),s.args){for(var u in s.args)OB(s.args[u],t,[].concat(sj(a),[u]),!0);var c,d=!0,p=gB(Object.keys(s.args).reverse());try{for(p.s();!(c=p.n()).done;){var f=c.value,h=s.args[f];!d&&h.isOptional&&(rI.info("Arg ".concat(f," for func ").concat(l," can't be optional")),delete h.isOptional),h.isOptional||(d=!1)}}catch(g){p.e(g)}finally{p.f()}}s.subfields&&wB(s.subfields,t,[].concat(sj(n),[i]))}}}function OB(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.settings,l=a.showLabels,s=a.fieldSeparator;s=null!==(r=s)&&void 0!==r?r:".";var u=n[n.length-1],c=o?n.slice(0,n.length-1).join(s):n.join(s),d=!!e.returnType,p=e.type||e.returnType,f=t.types[p],h=e.excludeOperators||[],g=(e.operators||(null==f?void 0:f.operators)||[]).filter((function(e){return!h.includes(e)})),v=e.defaultOperator||(null==f?void 0:f.defaultOperator);h.includes(v)&&(v=void 0);var m=!!v&&v==e.defaultOperator;if(m&&(e.ownDefaultOperator=e.defaultOperator),f){o||d||i||(t.__fieldsCntByType[p]||(t.__fieldsCntByType[p]=0),t.__fieldsCntByType[p]++),o&&(e._isFuncArg=!0,e._argKey=u,e._funcKey=c),d&&(e._isFunc=!0,e._funcKey=c),i&&(e._isCaseValue=!0),function(e,t,r){for(var n,o,i=0,a=["listValues","treeValues","allowCustomValues","validateValue"];i<a.length;i++){var l=a[i];e[l]&&(e.fieldSettings||(e.fieldSettings={}),e.fieldSettings[l]=e[l],delete e[l])}null!==(n=e.fieldSettings)&&void 0!==n&&n.listValues&&t.settings.normalizeListValues&&(e.fieldSettings.listValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.listValues,r,e.fieldSettings)),null!==(o=e.fieldSettings)&&void 0!==o&&o.treeValues&&t.settings.normalizeListValues&&(e.fieldSettings.treeValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.treeValues,r,e.fieldSettings))}(e,t,p);var y=["widgets","operators","defaultOperator"];Object.keys(f).filter((function(e){return!y.includes(e)})).map((function(t){e[t]||(e[t]=Nq(f[t]))}));var b=f.excludeOperators||[];e.operators&&(b=b.filter((function(t){return!e.operators.includes(t)}))),e.widgets||(e.widgets={});var _=function(){var t=yB({},e.widgets[x]||{}),r=f.widgets[x]||{};if(!o){var n=t.defaultOperator,i=[].concat(sj(h),sj(b)),a=e.preferWidgets&&("field"===x||e.preferWidgets.includes(x))||i.length>0;if(t.operators){var s=t.operators.filter((function(e){return!i.includes(e)}));t.operators=s,g=Qq(g,s)}else if(a&&r.operators){var c=r.operators.filter((function(e){return!i.includes(e)}));t.operators=c,g=Qq(g,c)}n&&!i.includes(n)&&(v&&(m||x!==e.mainWidget)||(v=n))}x===e.mainWidget?t.widgetProps=yB(yB(yB({},r.widgetProps||{}),e.mainWidgetProps||{}),t.widgetProps||{}):t.widgetProps=yB(yB({},r.widgetProps||{}),t.widgetProps||{});var d=Array.from(new Set([].concat(sj(Object.keys(r.opProps||{})),sj(Object.keys(t.opProps||{})))));if(d.length){var p,y={},_=gB(d);try{for(_.s();!(p=_.n()).done;){var w,O,S=p.value;y[S]=yB(yB({},(null===(w=r.opProps)||void 0===w?void 0:w[S])||{}),(null===(O=t.opProps)||void 0===O?void 0:O[S])||{})}}catch(C){_.e(C)}finally{_.f()}t.opProps=y}var k=t,j=k.valueLabel,E=k.valuePlaceholder;o&&(j||(t.valueLabel=e.label||u),E||l||(t.valuePlaceholder=e.label||u)),t=yB(yB({},r),t),e.widgets[x]=t};for(var x in f.widgets)_();if(o||(e.operators||(e.operators=Array.from(new Set(g))),e.defaultOperator||(e.defaultOperator=v)),!o&&!d&&!i){var w=function(e,t){if(!t)return{};var r=e.settings.fieldSeparator,n=sj(t).reduce((function(t,n,o,i){var a=t.computedPath,l=t.computed,s=t.inGroup,u=[].concat(sj(i.slice(0,o)),[n]),c=AB(e,u);return"!group"===(null==c?void 0:c.type)&&o<i.length-1?(s=u.join(r),a=[]):null!=c&&c.fieldName?(l=!0,a=[c.fieldName]):a=[].concat(sj(a),[n]),{computedPath:a,computed:l,inGroup:s}}),{computedPath:[],computed:!1,inGroup:void 0}),o=n.computedPath,i=n.computed,a=n.inGroup;return i?{fieldName:o.join(r),inGroup:a}:{}}(t,n),O=w.fieldName,S=w.inGroup;O&&(e.fieldName=O,t.__fieldNames[O]||(t.__fieldNames[O]=[]),t.__fieldNames[O].push({fullPath:n,inGroup:S}))}}else e.disabled=!0}function SB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jB=uI.mark(TB),EB=uI.mark(qB),CB=Aq;function TB(e){return uI.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(IB(e,e.funcs||{},[]),"t0",1);case 1:case"end":return t.stop()}}),jB)}function qB(e){return uI.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(IB(e,e.fields||{},[]),"t0",1);case 1:case"end":return t.stop()}}),EB)}function IB(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";return uI.mark((function o(i){var a,l,s;return uI.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=(null==e||null===(i=e.settings)||void 0===i?void 0:i.fieldSeparator)||".",o.t0=uI.keys(t);case 2:if((o.t1=o.t0()).done){o.next=13;break}if(l=o.t1.value,!(s=t[l])[n]){o.next=9;break}return o.delegateYield(IB(e,s[n],[].concat(sj(r),[l]),n),"t2",7);case 7:o.next=11;break;case 9:return o.next=11,[[].concat(sj(r),[l]).join(a),s];case 11:o.next=2;break;case 13:case"end":return o.stop()}}),o)}))()}var AB=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";if(!t)return null;if("!case_value"===t)return null==e||null===(n=e.settings)||void 0===n?void 0:n.caseValueField;var a=(null==e||null===(r=e.settings)||void 0===r?void 0:r.fieldSeparator)||".",l=DB(t,e),s=e[o];if(!s)return null;for(var u=s,c=null,d=[],p=0;p<l.length;p++){var f=l[p];d.push(f),c=u[d.join(a)],p<l.length-1&&(c&&c[i]?(u=c[i],d=[]):c=null)}return c},LB=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.settings.fieldSeparator,a=[o].concat(sj(t.split(i))).filter((function(e){return null!=e})),l=t;return((null===(r=e.__fieldNames[l])||void 0===r||null===(n=r.find)||void 0===n||null===(n=n.call(r,(function(e){var t=e.inGroup;return!t||(null==o?void 0:o.startsWith(t))})))||void 0===n?void 0:n.fullPath)||a).join(i)},PB=function(e,t){if(!t)return null;var r=AB(e,t,"funcs","subfields");if(!r)return null;var n=r.returnType,o=r.args;return{returnType:n,args:Object.fromEntries(Object.entries(o||{}).map((function(e){var t=Et(e,2),r=t[0],n=t[1];return[r,GA(n,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"])]})))}},NB=function(e,t){if(!t)return null;var r=AB(e,t,"funcs","subfields");return r||null},FB=function(e,t,r){var n=NB(e,t);if(!n)return null;var o=n.args&&n.args[r]||null;return o||null},RB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;var o=(null==n||null===(r=n.settings)||void 0===r?void 0:r.fieldSeparator)||".",i=MB(e,n),a=MB(t,n);return i.startsWith(a+o)},MB=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e)return e;var n=(null==r||null===(t=r.settings)||void 0===t?void 0:t.fieldSeparator)||".";return DB(e,r).join(n)},DB=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var i,a=(null==o||null===(t=o.settings)||void 0===t?void 0:t.fieldSeparator)||".";return null!=e&&e.func?Array.isArray(e.func)?e.func:e.func.split(a):null!=e&&null!==(r=e.get)&&void 0!==r&&r.call(e,"func")?null==e||null===(i=e.get)||void 0===i?void 0:i.call(e,"func").split(a):(null==e||null===(n=e.split)||void 0===n?void 0:n.call(e,a))||[]},VB=function(e){var t;if("string"==typeof e||Array.isArray(e))return"field:".concat(MB(e));if("object"===_(e)&&e){if(e._funcKey&&e._argKey)return"arg:".concat(MB(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(MB(e._funcKey));if(e.func&&e.arg)return"arg:".concat(MB(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(MB(e.func));if(e.type)return null}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?"arg:".concat(MB(e.get("func")),"__").concat(e.get("arg")):"func:".concat(MB(e.get("func"))):null},zB=function(e,t,r){var n;return null===(n=e.__cache)||void 0===n||null===(n=n[t])||void 0===n?void 0:n[r]},BB=function(e,t,r,n){e.__cache&&r&&(e.__cache[t]||(e.__cache[t]={}),e.__cache[t][r]=n)},HB=function(e){var t;if(!e)return null;if("object"===_(e)){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?null:"func":"field"},UB=function(e,t){var r;if(!t)return null;if("object"==_(t)){if(!t.func&&t.type)return t;if(t.func)return t.func&&t.arg?FB(e,t.func,t.arg):NB(e,t.func)}if(null!=t&&null!==(r=t.get)&&void 0!==r&&r.call(t,"func"))return null!=t&&t.get("arg")?FB(e,t.get("func"),t.get("arg")):NB(e,t.get("func"));var n=AB(e,t);return n||null},$B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var n=e.operators[t];if(r){var o,i,a=VB(r),l=a?"".concat(a,"__").concat(t):null,s=zB(e,"getOperatorConfig",l);if(s)return s;var u=UB(e,r),c=mV(e,r,t,null),d=e.widgets[c]||{},p=(u&&u.widgets?u.widgets[c]:{})||{},f=(null===(o=d.opProps)||void 0===o?void 0:o[t])||{},h=(null===(i=p.opProps)||void 0===i?void 0:i[t])||{},g=kB(kB(kB({},n),f),h);return BB(e,"getOperatorConfig",l,g),g}return n},WB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return null;var l=UB(e,t),s=VB(t);o||(o=mV(e,t,n,i));var u=s?"".concat(s,"__").concat(n,"__").concat(o,"__").concat(i):null,c=zB(e,"getFieldWidgetConfig",u);if(c)return c;var d=e.widgets[o]||{},p=(null==l||null===(r=l.widgets)||void 0===r?void 0:r[o])||{},f=p.widgetProps||{},h="value"!==i&&i?{}:null==l?void 0:l.fieldSettings,g=kB(kB(kB(kB({},d),p),f),h);return BB(e,"getFieldWidgetConfig",u,g),a.forExport&&(g=Fq(g,"factory")),g},KB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.settings.fieldSeparator,n=DB(t,e),o=t?AB(e,t):e,i=null,a=[];do{var l,s=o===e?e.fields:null===(l=o)||void 0===l?void 0:l.subfields;if(!s||!Object.keys(s).length){o=i=null;break}i=Object.keys(s)[0],a.push(i),o=s[i]}while("!struct"==o.type||"!group"==o.type);return(n||[]).concat(a).join(r)};const GB=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:zB,_saveToConfigCache:BB,_widgetDefKeysToOmit:CB,applyJsonLogic:function(e,t){return Cz.apply(e,t)},cleanJSX:Wq,compileConfig:Qz,compressConfig:Yz,configKeys:Dz,createConfigMemo:hB,decompressConfig:Jz,extendConfig:bB,findExtendedConfigInAllMemos:fB,getCommonMemo:pB,getFieldConfig:UB,getFieldId:VB,getFieldParts:DB,getFieldPath:MB,getFieldPathParts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var n=t.settings.fieldSeparator,o=DB(e,t);return r?o:o.map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return e.join(n)}))},getFieldRawConfig:AB,getFieldSrc:HB,getFieldWidgetConfig:WB,getFirstField:KB,getFuncArgConfig:FB,getFuncConfig:NB,getFuncSignature:PB,getOperatorConfig:$B,isDirtyJSX:Kq,isFieldDescendantOfField:RB,isJSX:Gq,iterateFields:qB,iterateFuncs:TB,normalizeField:LB},Symbol.toStringTag,{value:"Module"}));function YB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var QB=function(e,t,r){if(e){var n=e.get("type"),o=e.get("children1");return("group"===n||"rule_group"===n)&&o&&o.size?XB(e,t,r):"rule"===n?ZB(e,t,r):void 0}},XB=function(e,t,r){var n=e.get("properties")||new VC,o=e.get("children1"),i=e.get("id"),a=o.map((function(e){return QB(e,t,r)})).filter((function(e){return void 0!==e}));if(a.size){var l=n.get("conjunction");l||(l=FR(t));var s=n.get("not");return{id:i,rules:a.toList(),condition:l.toUpperCase(),not:s}}},ZB=function(e,t,r){var n,o=e.get("properties")||new VC,i=e.get("id"),a=o.get("operator"),l=o.get("operatorOptions"),s=o.get("field"),u=o.get("value"),c=o.get("valueSrc"),d=o.get("valueType"),p=u.filter((function(e){return void 0===e})).size>0;if(null!=s&&null!=a&&!p){var f=UB(t,s)||{},h=$B(t,a,s)||{},g=f.type||"undefined",v=Rq(h),m=t.types[f.type]||{},y=yV(s,t,r);if(!(u.size<v)){-1==r.usedFields.indexOf(s)&&r.usedFields.push(s),u=u.toArray(),c=c.toArray(),d=(null===(n=d)||void 0===n?void 0:n.toArray())||[];for(var b=[],_=0;_<u.length;_++){var x={type:d[_],value:u[_]};if(b.push(x),"field"==c[_]){var w=u[_];-1==r.usedFields.indexOf(w)&&r.usedFields.push(w)}}var O=l?l.toJS():null;O&&!Object.keys(O).length&&(O=null);var S={id:i,fieldName:y,type:g,input:m.mainWidget,operator:a};return O&&(S.operatorOptions=O),S.values=b,S}}};function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return nH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function nH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(e){var a,l=e.get("type"),s=(e.get("properties")||new VC).get("isLocked"),u=t.settings.jsonLogic.lockedOp;return"group"===l||"rule_group"===l?a=iH(e,t,r,n,o,i):"rule"===l?a=aH(e,t,r,n,i):"switch_group"==l?a=lH(e,t,r,n):"case_group"==l&&(a=sH(e,t,r,n,i)),s&&a&&u&&(a=b({},u,a)),a}},iH=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,p=e.get("type"),f=e.get("properties")||new VC,h=f.get("mode"),g=e.get("children1")||new cT,v=f.get("field"),m=UB(t,v),y=f.get("conjunction");y||(y=FR(t));var _=t.conjunctions[y].jsonLogicConj||y.toLowerCase(),x=!!f.get("not"),w="rule_group"===p&&!c,O=w&&"struct"!=h,S=O?v:d,k=f.get("operator"),j=k&&$B(t,k,v)||null,E=uH(t,f,r,k,d),C=w&&(!k||0==(null===(n=j)||void 0===n?void 0:n.cardinality)),T=w&&(null==g?void 0:g.size)>0;w&&(null==g||g.size);var q=x,I=!1;T?(I=x,q=u):u&&(q=!q);var A=!1,L=null===(o=j)||void 0===o?void 0:o.reversedOp,P=$B(t,L,v),N=!(null!==(i=j)&&void 0!==i&&i.jsonLogic||null===(a=P)||void 0===a||!a.jsonLogic),F=!(null===(l=P)||void 0===l||!l.jsonLogic),R=null===(s=TV(e))||void 0===s?void 0:s.get("type");if(!!t.settings.reverseOperatorsForNot&&(!w&&q&&"rule"===R||I&&1===(null==g?void 0:g.size))&&(T?I=!I:q=!q,A=!0),q&&w&&F&&(!!t.settings.reverseOperatorsForNot||N)){q=!q;var M=[L,k];k=M[0],L=M[1];var D=[P,j];j=D[0],P=D[1]}var V=g.map((function(e){return oH(e,t,r,A,!1,S)})).filter((function(e){return void 0!==e})),z=!!t.settings.exportPreserveGroups;if(O&&!C){if(null==E)return}else if(!V.size&&!z)return;var B=c||z||1!=V.size;B||!x||A||(B=g.some((function(e){var r,n,o,i,a=null===(r=e.get("properties"))||void 0===r?void 0:r.get("operator"),l=null===(n=t.operators)||void 0===n||null===(n=n[a])||void 0===n?void 0:n.reversedOp;return null!==(o=null===(i=t.operators)||void 0===i||null===(i=i[l])||void 0===i?void 0:i._jsonLogicIsExclamationOp)&&void 0!==o&&o})));var H={};if(B?H[_]=V.toList().toJS():H=V.first(),I&&(H={"!":H}),O){var U=pH(r,t,v,d);if(C){H=b({},k||"some",[U,H])}else{var $=V.size?{filter:[U,H]}:U;H=fH(t,f,{reduce:[$,{"+":[1,{var:"accumulator"}]},0]},E,k,null,m)}}return q&&(H={"!":H}),H},aH=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=e.get("properties")||new VC,p=d.get("field"),f=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if((g=g?g.toJS():null)&&!Object.keys(g).length&&(g=null),null!=p&&null!=h){var v=UB(t,p),m=$B(t,h,p),y=null===(n=m)||void 0===n?void 0:n.reversedOp,b=$B(t,y,p);if(null!==(o=m)&&void 0!==o&&o.jsonLogic||null!==(i=b)&&void 0!==i&&i.jsonLogic){var _=u,x=!(null!==(a=m)&&void 0!==a&&a.jsonLogic||null===(l=b)||void 0===l||!l.jsonLogic),w=!(null===(s=b)||void 0===s||!s.jsonLogic)&&(!!t.settings.reverseOperatorsForNot||x);if(_&&w||x){_=!_;var O=[y,h];h=O[0],y=O[1];var S=[b,m];m=S[0],b=S[1]}var k=uH(t,d,r,h,c);if(void 0!==k){var j="func"===f?dH(r,t,p,c):pH(r,t,p,c);if(void 0!==j)return fH(t,d,j,k,h,g,v,_)}}else r.errors.push("Operator ".concat(h," is not supported"))}},lH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.get("children1");if(o){for(var i=o.map((function(e){return sH(e,t,r,n,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray(),a=[],l=0;l<i.length;l++)l===i.length-1||i[l][0]?(a.push(i[l]),l===i.length-1&&i[l][0]&&a.push([void 0,null])):r.errors.push("No condition for case ".concat(l));if(a.length){if(1===a.length){var s=Et(a[0],2);s[0];var u=s[1];return null==u&&(u=null),u}var c={if:[]},d=c.if,p=Et(a[a.length-1],2);p[0];for(var f=p[1],h=0;h<a.length-1;h++){var g=h===a.length-2,v=Et(a[h],2),m=v[0],y=v[1];null==y&&(y=null),null==m&&(m=!0),d.push(m),d.push(y),g?d.push(f):(d.push({if:[]}),d=d[d.length-1].if)}return c}}},sH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.get("type");if("case_group"==i){var a=e.get("properties")||new VC;return[iH(e,t,r,n,o),uH(t,a,r,null,o,"!case_value")]}r.errors.push("Unexpected child of type ".concat(i," inside switch"))},uH=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u=UB(e,a),c=$B(e,n,a),d=Rq(c),p=t.get("value"),f=t.get("asyncListValues");if(null!=p){var h=r.usedFields,g=p.map((function(t,i){var d=l?l.get(i):null,p=s?s.get(i):null,h=CV(t,d,e),g=mV(e,a,n,d),v=WB(e,a,n,g,d,{forExport:!0});return cH(r,e,h,d,p,v,u,n,c,o,f)})),v=g.filter((function(e){return void 0===e})).size>0;if(!(g.size<d||v))return d>1?g.toArray():1==d?g.first():null;r.usedFields=h}},cH=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"==n)d=pH(e,t,r,u);else if("func"==n)d=dH(e,t,r,u);else if("function"==typeof(null==i?void 0:i.jsonLogic)){var p=i.jsonLogic,f=[r,tH(tH({},a?GA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),Fq(i,Aq)];l&&(f.push(l),f.push(s)),d=p.call.apply(p,[t.ctx].concat(f))}else d=r;return d}},dH=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=NB(t,a),u=DB(a,t),c=u[u.length-1];if(s)if(null!=s&&s.jsonLogic){var d={},p=[],f=[];for(var h in s.args){var g,v=s.args[h],m=UB(t,v),y=v.defaultValue,_=v.isOptional,x=null!=y&&y.func?"func":"value",w=l?l.get(h):void 0,O=w?w.get("value"):void 0,S=w?w.get("valueSrc"):void 0;"func"!==S&&null!==(g=O)&&void 0!==g&&g.toJS&&(O=O.toJS());var k=null,j=mV(t,v,k,S),E=WB(t,v,k,j,S,{forExport:!0}),C=cH(e,t,O,S,v.type,E,m,null,null,i);if(null!=O&&void 0===C)return void("func"!=S&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(a)));var T=void 0;if(void 0===C&&!_&&null!=y){var q=mV(t,v,k,x),I=WB(t,v,k,q,x,{forExport:!0});if(void 0===(T=cH(e,t,y,x,v.type,I,m,null,null,i)))return void("func"!=x&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){if(p.length){var L,P=rH(p);try{for(P.s();!(L=P.n()).done;){d[L.value]=void 0}}catch(B){P.e(B)}finally{P.f()}p=[]}d[h]=A}else _||f.push(h),p.push(h)}if(!f.length){var N,F=Object.values(d);if("function"==typeof s.jsonLogic){var R=s.jsonLogic,M=[d];N=R.call.apply(R,[t.ctx].concat(M))}else{var D=s.jsonLogic||c;if(!!s.jsonLogicIsMethod){var V=F[0],z=F.slice(1);N=z.length?{method:[V,D,z]}:{method:[V,D]}}else N=b({},D,F)}return N}}else e.errors.push("Func ".concat(a," is not supported"));else e.errors.push("Func ".concat(a," is not defined in config"))},pH=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.settings,a=i.fieldSeparator,l=i.jsonLogic;if(r){Array.isArray(r)&&(r=r.join(a));var s=UB(t,r)||{},u=yV(r,t,e,o),c=s.jsonLogicVar||("!group"==s.type?l.groupVarKey:"var");n=b({},c,u),-1==e.usedFields.indexOf(r)&&e.usedFields.push(r)}return n},fH=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=t.get("field"),u=$B(e,o,s)||{},c="function"==typeof u.jsonLogic?u.jsonLogic:function(e,t,r,n){var o=e,i=Rq(t);"string"==typeof t.jsonLogic&&(o=t.jsonLogic);var a=["<","<=",">",">="],l=["==","!="];return function(e,t,s,u,c){return 0==i&&l.includes(o)?b({},o,[r,null]):0==i?b({},o,r):1==i?b({},o,[r,n]):2==i&&a.includes(o)?b({},o,[n[0],r,n[1]]):b({},o,[r].concat(sj(n)))}}(o,u,r,n),d=[r,o,n,Fq(u,Lq),i,a],p=c.call.apply(c,[e.ctx].concat(d));return l&&(p={"!":p}),p};function hH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return gH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function gH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yH=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},bH=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bB(t,void 0,!1),i=_H([],e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to MongoDb:",n.errors),i)},_H=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;if(t){var s=t.get("type");return"group"===s||"rule_group"===s?xH(e,t,r,n,o,i,a,l):"rule"===s?wH(e,t,r,n,o,i,a,l):void 0}},xH=function(e,t,r,n){var o,i,a,l,s,u,c,d,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=t.get("type"),h=t.get("properties")||new VC,g=!!h.get("not"),v=t.get("children1")||new cT,m=r.settings,y=m.canShortMongoQuery,_=m.fieldSeparator,x=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,w=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),O=x&&w,S="rule_group"===f,k=S?h.get("field"):null,j=S?h.get("operator"):null,E=j&&$B(r,j,k)||null,C=j?null!==(o=null===(i=E)||void 0===i?void 0:i.cardinality)&&void 0!==o?o:1:void 0,T=yV(k,r,n,O),q=(UB(r,k)||{}).mode,I=k&&"array"===q&&C>=1,A=S&&(null==v?void 0:v.size)>0;S&&(null==v||v.size);var L=!1,P=g,N=!1;A?(N=g,P=p):p&&(P=!P);var F=null===(a=E)||void 0===a?void 0:a.reversedOp,R=$B(r,F,k),M=!(null!==(l=E)&&void 0!==l&&l.mongoFormatOp||null===(s=R)||void 0===s||!s.mongoFormatOp),D=!(null===(u=R)||void 0===u||!u.mongoFormatOp),V=null===(c=TV(t))||void 0===c?void 0:c.get("type");if(!!r.settings.reverseOperatorsForNot&&(!S&&P&&"rule"===V||N&&1===(null==v?void 0:v.size))&&(A?N=!N:P=!P,L=!0),P&&S&&D&&(!!r.settings.reverseOperatorsForNot||M)){P=!P;var z=[F,j];j=z[0],F=z[1];var B=[R,E];E=B[0],R=B[1]}var H=h.get("conjunction");H||(H=FR(r));var U=r.conjunctions[H];if(U){var $=U.reversedConj;P&&"or"===(null===(d=H)||void 0===d?void 0:d.toLowerCase())&&$&&!S&&!!r.settings.canShortMongoQuery&&!!r.settings.reverseOperatorsForNot&&(H=$,U=r.conjunctions[H],P=!P,L=!0);var W=U.mongoConj,K=v.map((function(o){return _H([].concat(sj(e),[t]),o,r,n,L,"array"!=q,"array"==q?function(e){return"$$el".concat(_).concat(e)}:void 0)})).filter((function(e){return void 0!==e}));if(I||K.size){var G;if(1==K.size)G=K.first();else if(K.size>1){var Y=K.toList().toJS();y&&"$and"==W&&(G=Y.reduce((function(e,t){if(e){for(var r in t){if("$"==r[0]){e=void 0;break}if(null==e[r])e[r]=t[r];else{var n=e[r],o=t[r];if(yH(n)||(n={$eq:n}),yH(o)||(o={$eq:o}),Object.keys(n)[0]==Object.keys(o)[0]){e=void 0;break}e[r]=Object.assign({},n,o)}}return e}}),{})),G||(G=b({},W,Y))}if(k)if("array"==q){var J={$size:{$ifNull:["$"+T,[]]}},Q=G?{$size:{$ifNull:[{$filter:{input:"$"+T,as:"el",cond:G}},[]]}}:J;G={$expr:G=_H(e,t.set("type","rule"),r,n,N,!1,(function(e){return Q}),J)}}else G=b({},T,{$elemMatch:G});return P&&(G={$not:G}),G}}},wH=function(e,t,r,n){var o,i,a,l,s,u,c,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,g=t.get("properties")||new VC,v=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,m=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),y=v&&m,b=g.get("operator"),_=g.get("operatorOptions"),x=g.get("field"),w=g.get("fieldSrc"),O=g.get("value"),S=g.get("valueSrc"),k=g.get("valueType"),j=g.get("asyncListValues");if(null!=x&&null!=b&&void 0!==O){var E=UB(r,x),C=$B(r,b,x),T=null===(o=C)||void 0===o?void 0:o.reversedOp,q=$B(r,T,x),I=Rq(C);if(null!==(i=C)&&void 0!==i&&i.mongoFormatOp||null!==(a=q)&&void 0!==a&&a.mongoFormatOp){var A,L=d,P=!(null!==(l=C)&&void 0!==l&&l.mongoFormatOp||null===(s=q)||void 0===s||!s.mongoFormatOp);if(!(null===(u=q)||void 0===u||!u.mongoFormatOp)&&(!!r.settings.reverseOperatorsForNot||P)&&L||P){var N=[T,b];b=N[0],T=N[1];var F=[q,C];C=F[0],q=F[1],L=!L}var R=!1;if("func"==w){var M=kH(n,r,x,y),D=Et(M,2);A=D[0],R=D[1]}else A=yV(x,r,n,y),f&&(R=!0,A=f(A));if(null!=A){var V,z=[],B=[];if(null!=O){var H=O.map((function(e,t){var o=S?S.get(t):null,i=k?k.get(t):null,a=CV(e,o,r),l=mV(r,x,b,o),s=WB(r,x,b,l,o,{forExport:!0}),u=OH(n,r,a,o,i,s,E,y,b,C,j),c=Et(u,2),d=c[0],p=c[1];return void 0!==d&&(R=R||p,z.push(o),B.push(i)),d})),U=H.filter((function(e){return void 0===e})).size>0;if(H.size<I||U)return;V=I>1?H.toArray():1==I?H.first():null}var $=R&&p,W=null===(c=C)||void 0===c?void 0:c.mongoFormatOp,K=[A,b,void 0!==h&&null==V?h:V,R,z.length>1?z:z[0],B.length>1?B:B[0],Fq(C,Lq),_,E],G=W.call.apply(W,[r.ctx].concat(K));return $&&(G={$expr:G}),L&&(G={$not:G}),G}}else n.errors.push("Operator ".concat(b," is not supported"))}},OH=function(e,t,r,n,o,i,a,l,s,u,c){if(void 0===r)return[void 0,!1];var d,p=!1;if("field"==n){var f=SH(e,t,r,l),h=Et(f,2);d=h[0],p=h[1]}else if("func"==n){var g=kH(e,t,r,l),v=Et(g,2);d=v[0],p=v[1]}else if("function"==typeof(null==i?void 0:i.mongoFormatValue)){var m=i.mongoFormatValue,y=[r,mH(mH({},a?GA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),Fq(i,Aq)];s&&(y.push(s),y.push(u)),d=m.call.apply(m,[t.ctx].concat(y))}else d=r;return[d,p]},SH=function(e,t,r,n){var o,i=t.settings.fieldSeparator;if(r){var a=UB(t,r)||{},l=DB(r,t),s=pV(r,t),u=s?s.join(i):null;o="$"+(0,t.settings.formatField)(yV(r,t,e,n),l,u,a,t,!1)}return[o,!0]},kH=function(e,t,r,n){var o,i,a,l=null===(o=r.get)||void 0===o?void 0:o.call(r,"func"),s=null===(i=r.get)||void 0===i?void 0:i.call(r,"args"),u=NB(t,l);if(!u)return e.errors.push("Func ".concat(l," is not defined in config")),[void 0,!1];var c=DB(l,t),d=c[c.length-1],p=u.mongoFunc||d,f=u.mongoArgsAsObject,h={},g=0,v=void 0,m=[],y=[];for(var _ in u.args){var x;g++;var w=u.args[_],O=UB(t,w),S=w.defaultValue,k=w.isOptional,j=null!=S&&S.func?"func":"value",E=s?s.get(_):void 0,C=E?E.get("value"):void 0,T=E?E.get("valueSrc"):void 0;"func"!==T&&null!==(x=C)&&void 0!==x&&x.toJS&&(C=C.toJS());var q=E?E.get("asyncListValues"):void 0,I=null,A=mV(t,w,I,T),L=WB(t,w,I,A,T,{forExport:!0}),P=OH(e,t,C,T,w.type,L,O,n,null,null,q),N=Et(P,2),F=N[0];if(N[1],null!=C&&void 0===F)return"func"!=T&&e.errors.push("Can't format value of arg ".concat(_," for func ").concat(l)),[void 0,!1];var R=void 0;if(void 0===F&&!k&&null!=S){var M=mV(t,w,I,j),D=WB(t,w,I,M,j,{forExport:!0}),V=OH(e,t,S,j,w.type,D,O,n,null,null,q),z=Et(V,2);if(R=z[0],z[1],void 0===R)return"func"!=j&&e.errors.push("Can't format default value of arg ".concat(_," for func ").concat(l)),[void 0,!1]}var B=null!=F?F:R;if(void 0!==B){if(m.length){var H,U=hH(m);try{for(U.s();!(H=U.n()).done;){h[H.value]=void 0}}catch(K){U.e(K)}finally{U.f()}m=[]}h[_]=B,v=B}else k||y.push(_),m.push(_)}if(y.length)return[void 0,!1];if("function"==typeof u.mongoFormatFunc){var $=u.mongoFormatFunc,W=[h];a=$.call.apply($,[t.ctx].concat(W))}else{if(null===u.mongoFormatFunc)return e.errors.push("Functon ".concat(p," is not supported")),[void 0,!1];a=b({},p,f?h:1==g&&void 0!==v?v:Object.values(h))}return[a,!0]};function jH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return EH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function EH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qH=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bB(t,void 0,!1),i=IH(e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SQL:",n.errors),i)},IH=function(e,t,r){if(e){var n=e.get("type");return e.get("children1"),"group"===n||"rule_group"===n?AH(e,t,r):"rule"===n?LH(e,t,r):void 0}},AH=function(e,t,r){var n=e.get("type"),o=e.get("properties")||new VC,i=e.get("children1")||new cT,a="rule_group"===n?o.get("field"):null;"array"==(UB(t,a)||{}).mode&&r.errors.push("Aggregation is not supported for ".concat(a));var l=o.get("not"),s=i.map((function(e){return IH(e,t,r)})).filter((function(e){return void 0!==e}));if(s.size){var u=o.get("conjunction");return u||(u=FR(t)),t.conjunctions[u].sqlFormatConj.call(t.ctx,s,u,l)}},LH=function(e,t,r){var n=e.get("properties")||new VC,o=n.get("field"),i=n.get("fieldSrc"),a=n.get("operator"),l=n.get("operatorOptions"),s=n.get("valueSrc"),u=n.get("valueType"),c=n.get("value"),d=n.get("asyncListValues");if(null!=o&&null!=a){var p=UB(t,o)||{},f=$B(t,a,o)||{},h=f.reversedOp,g=$B(t,h,o)||{},v=Rq(f),m=!1,y=f.sqlOp||f.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(y||b){if(!y&&b){m=!0;var _=[h,a];a=_[0],h=_[1];var x=[g,f];f=x[0],g=x[1]}var w,O=[],S=[];if(null!=c){var k=c.map((function(e,n){var i=s?s.get(n):null,l=u?u.get(n):null,c=CV(e,i,t),h=mV(t,o,a,i),g=WB(t,o,a,h,i,{forExport:!0}),v=PH(r,t,c,i,l,g,p,a,f,d);return void 0!==v&&(O.push(i),S.push(l)),v}));if(k.filter((function(e){return void 0===e})).size>0||k.size<v)return;w=1==v?k.first():k}var j=f.sqlFormatOp||function(e,t){var r,n=t.sqlOp||e,o=Rq(t);return 0==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n)}:1==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n," ").concat(r)}:2==o&&(r=function(e,t,r,o,i,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(n," ").concat(d," AND ").concat(p)}),r}(a,f);if(j){var E="func"==i?FH(r,t,o):NH(r,t,o);if(null!=E){var C,T=[E,a,w,O.length>1?O:O[0],S.length>1?S:S[0],Fq(f,Lq),l,p];if(C=j.call.apply(j,[t.ctx].concat(T)),m&&(C=t.settings.sqlFormatReverse.call(t.ctx,C)),void 0!==C)return C;r.errors.push("Operator ".concat(a," is not supported for value source ").concat(O.join(", ")))}}else r.errors.push("Operator ".concat(a," is not supported"))}else r.errors.push("Operator ".concat(a," is not supported"))}},PH=function(e,t,r,n,o,i,a,l,s,u){if(void 0!==r){var c;if("field"==n)c=NH(e,t,r);else if("func"==n)c=FH(e,t,r);else if("function"==typeof(null==i?void 0:i.sqlFormatValue)){var d=i.sqlFormatValue,p=[r,TH(TH({},GA(a,["fieldSettings","listValues"])),{},{asyncListValues:u}),Fq(i,Aq)];if(l&&(p.push(l),p.push(s)),"field"==n){var f=UB(t,r)||{};p.push(f)}c=d.call.apply(d,[t.ctx].concat(p))}else c=Array.isArray(r)?r.map((function(e){return kF.escape(e)})):kF.escape(r);return c}},NH=function(e,t,r){if(r){var n=t.settings.fieldSeparator,o=UB(t,r)||{},i=DB(r,t),a=pV(r,t),l=a?a.join(n):null;return(0,t.settings.formatField)(yV(r,t,e,null,{useTableName:!0}),i,l,o,t)}},FH=function(e,t,r){var n,o,i=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),a=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),l=NB(t,i);if(l){var s=DB(i,t),u=s[s.length-1],c=l.sqlFunc||u,d={},p=[],f=[];for(var h in l.args){var g,v=l.args[h],m=UB(t,v),y=v.defaultValue,b=v.isOptional,_=null!=y&&y.func?"func":"value",x=a?a.get(h):void 0,w=x?x.get("value"):void 0,O=x?x.get("valueSrc"):void 0;"func"!==O&&null!==(g=w)&&void 0!==g&&g.toJS&&(w=w.toJS());var S=x?x.get("asyncListValues"):void 0,k=PH(e,t,w,O,v.type,m,v,null,null,S);if(null!=w&&void 0===k)return void("func"!=O&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(i)));var j=void 0;if(void 0===k&&!b&&null!=y&&void 0===(j=PH(e,t,y,_,v.type,m,v,null,null,S)))return void("func"!=_&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(i)));var E=null!=k?k:j;if(void 0!==E){if(p.length){var C,T=jH(h);try{for(T.s();!(C=T.n()).done;){d[C.value]=void 0}}catch(P){T.e(P)}finally{T.f()}p=[]}d[h]=E}else b||f.push(h),p.push(h)}if(!f.length){var q;if("function"==typeof l.sqlFormatFunc){var I=l.sqlFormatFunc,A=[d];q=I.call.apply(I,[t.ctx].concat(A))}else{var L=Object.entries(d).map((function(e){var t=Et(e,2);return t[0],t[1]})).join(", ");q="".concat(c,"(").concat(L,")")}return q}}else e.errors.push("Func ".concat(i," is not defined in config"))};function RH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DH(e,t,r,n,o,i){var a=function(e,t){return e}(n);switch(e){case"filter":return{script:o.operators[r].elasticSearchScript(n,t)};case"exists":return{field:n};case"match":return b({},a,t[0]);case"term":return b({},n,i===zH?{value:t[0]}:t[0]);case"geo_bounding_box":return b({},n,function(e){if(null==e)return null;var t=e.split(",").map(Number);return{top_left:{lat:t[0],lon:t[1]},bottom_right:{lat:t[2],lon:t[3]}}}(t[0]));case"range":return b({},n,function(e,t){if(e.length>1)return{gte:"".concat(e[0]),lte:"".concat(e[1])};var r=e[0];switch(t){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}(t,r));case"wildcard":return b({},n,function(e){return{value:"*"+e+"*"}}(t[0]));case"regexp":return b({},n,function(e){return{value:e}}(t[0]));default:return}}function VH(e,t,r,n,o,i){if(e&&r&&null!=t){var a=r,l=n.operators[a];if(l){var s=l.elasticSearchQueryType,u=!1;if(!s&&l.reversedOp)u=!0,a=l.reversedOp,s=(l=n.operators[a]).elasticSearchQueryType;var c=mV(n,e,a,o),d=n.widgets[c];if(d){var p,f,h=d.elasticSearchFormatValue;if(p="function"==typeof s?s(c):s)return f="function"==typeof h?h(p,t,a,e,n):DH(p,t,a,e,n,i),u?{bool:{must_not:b({},p,MH({},f))}}:b({},p,MH({},f))}}}}var zH="ES_7_SYNTAX";const BH=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:bH,_spelFormat:VF,_sqlFormat:qH,elasticSearchFormat:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ES_6_SYNTAX",o=bB(r,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if("rule"===i&&a.get("field")){var l,s,u,c=a.get("operator"),d=a.get("field"),p=a.get("fieldSrc"),f=null===(l=a.get("value"))||void 0===l?void 0:l.toJS();null===(s=a.get("valueType"))||void 0===s||s.get(0);var h=null===(u=a.get("valueSrc"))||void 0===u?void 0:u.get(0);if("func"===h||"func"==p)return;return f&&Array.isArray(f[0])?f[0].map((function(e){return VH(d,[e],c,o,h,n)})):VH(d,f,c,o,h,n)}if("group"===i||"rule_group"===i){var g=a.get("not"),v=a.get("conjunction");return v||(v=FR(o)),function(e,t,r,n,o,i){if(e&&e.size){var a=e.valueSeq().toArray(),l=function(e,t){switch(e){case"AND":return t?"must_not":"must";case"OR":return t?"should_not":"should";case"NOT":return t?"must":"must_not";default:return}}(t,r),s=a.map((function(e){return n(e,o,i)})).filter((function(e){return void 0!==e}));if(s.length){var u=s.flat(1/0);return{bool:b({},l,u)}}}}(t.get("children1"),v,g,e,o,n)}}},jsonLogicFormat:function(e,t){var r={usedFields:[],errors:[]},n=bB(t,void 0,!1),o=oH(e,n,r,!1,!0),i=r.errors,a=r.usedFields;n.settings.fieldSeparator;var l,s={},u=rH(a);try{for(u.s();!(l=u.n()).done;)for(var c=l.value,d=DB(c,t),p=(UB(n,c),s),f=0;f<d.length;f++){var h=d[f],g=UB(n,d.slice(0,f+1))||{};f!=d.length-1?"!group"==g.type&&"struct"!=g.mode?(p[h]||(p[h]=[{}]),p=p[h][0]):(p[h]||(p[h]={}),p=p[h]):p[h]||(p[h]=null)}}catch(v){u.e(v)}finally{u.f()}return{errors:i,logic:o,data:s}},mongodbFormat:function(e,t){return bH(e,t,!1)},queryBuilderFormat:function(e,t){var r={usedFields:[]},n=QB(e,t,r);if(n)return JB(JB({},n),r)},queryString:WR,spelFormat:function(e,t){return VF(e,t,!1)},sqlFormat:function(e,t){return qH(e,t,!1)}},Symbol.toStringTag,{value:"Module"}));function HH(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function UH(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){HH(i,n,o,a,l,"next",e)}function l(e){HH(i,n,o,a,l,"throw",e)}a(void 0)}))}}var $H=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function WH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return KH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function KH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const JH=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:function(e){var t,r=[],n=[],o=WH(e);try{var i=function(){var e=t.value,o=function(e,t){if(e.findLastIndex)return e.findLastIndex(t);var r=sj(e).reverse().findIndex(t);return-1==r?-1:e.length-1-r}(r,(function(t){var r,n;return(null!==(r=t.groupTitle)&&void 0!==r?r:"")==(null!==(n=e.groupTitle)&&void 0!==n?n:"")}));null==e.groupTitle||n.includes(e.groupTitle)||(n.push(e.groupTitle),1===n.length&&(r=r.map((function(e){return YH(YH({},e),{},{groupTitle:""})})))),null==e.groupTitle&&n.length&&(e=YH(YH({},e),{},{groupTitle:""})),-1!=o?r.splice(o+1,0,e):r.push(e)};for(o.s();!(t=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},getListValue:CN,listValueToOption:function(e){if(null==e)return null;var t=e.title,r=e.value,n=e.disabled,o=e.groupTitle,i=e.grouplabel,a=e.renderTitle,l=e.children,s=e.label,u=e.isCustom,c=e.isHidden,d=bn(e,$H),p={value:r,title:t||s||l};return n&&(p.disabled=n),u&&(p.isCustom=u),c&&(p.isHidden=c),(o||i)&&(p.groupTitle=o||i),a&&(p.renderTitle=a),p=YH(YH({},p),d)},mergeListValues:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return e;var o=e||[],i=t.filter((function(e){return null==o.find((function(t){return""+t.value==""+e.value}))})).map((function(e){return n?YH(YH({},e),{},{isHidden:!0}):e}));return r?[].concat(sj(i),sj(o)):[].concat(sj(o),sj(i))},optionToListValue:function(e,t,r){var n,o=null==e||""==e?void 0:null!==(n=null==e?void 0:e.value)&&void 0!==n?n:e,i=CN(o,t),a=r&&!i?ON(o):void 0,l=i||a;return[o,l?[l]:void 0]},optionsToListValues:function(e,t,r){var n=e.map((function(e,n){var o,i=null==e||""==e?void 0:null!==(o=null==e?void 0:e.value)&&void 0!==o?o:e,a=CN(i,t),l=r&&!a?ON(i):void 0;return a||l})).filter((function(e){return null!=e})),o=n.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e}));return o.length||(o=void 0),[o,n]},simulateAsyncFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(){var n=UH(uI.mark((function n(o,i,a){var l,s,u,c,d,p;return uI.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=null!=(null==a?void 0:a.pageSize)?a.pageSize:t,s=SN(e).filter((function(e){var t=e.title,r=e.value;return null==o||(-1!=t.toUpperCase().indexOf(o.toUpperCase())||-1!="".concat(r).toUpperCase().indexOf(o.toUpperCase()))})),l&&Math.ceil(s.length/l),u=i||0,c=l?s.slice(u,u+l):s,d=l?u+c.length:null,p=!!l&&d<s.length,!r){n.next=11;break}return n.next=11,Jq(r);case 11:return n.abrupt("return",{values:c,hasMore:p});case 12:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}},Symbol.toStringTag,{value:"Module"})),QH=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:JH,ConfigUtils:GB,DefaultUtils:zR,ExportUtils:LF,FuncUtils:aV,ListUtils:TN,OtherUtils:nI,RuleUtils:qV,TreeUtils:HN,Validation:JD,checkTree:ND,clone:jz,compressConfig:Yz,decompressConfig:Jz,getSwitchValues:DN,i18n:CD,isValidTree:LD,moment:Qx,sanitizeTree:RD,uuid:Tq,validateAndFixTree:MD,validateTree:FD},Symbol.toStringTag,{value:"Module"}));var XH={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},ZH={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim,i=r+(o.charAt(0).toUpperCase()+o.slice(1)+"s");return"".concat(t,".").concat(i,"(").concat(n,")")},spelImport:function(e){var t,r,n,o,i=null===(t=e.methodName)||void 0===t?void 0:t.match(/^(minus|plus)(\w+)s$/);if(i&&(o=i[2].toLowerCase(),r=i[1],["minus","plus"].includes(r)&&["day","week","month","year"].includes(o)))return r={type:"string",val:r},o={type:"string",val:o},n=e.args[0],{date:e.obj,op:r,val:n,dim:o}},jsonLogic:function(e){var t=e.date,r=e.op;return{date_add:[t,e.val*("minus"==r?-1:1),e.dim]}},jsonLogicImport:function(e){var t=e.date_add[0],r=Math.abs(e.date_add[1]);return[t,e.date_add[1]>=0?"plus":"minus",r,e.date_add[2]]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return"DATE_ADD(".concat(t,", INTERVAL ").concat(parseInt(n)*("minus"==r?-1:1)," ").concat(o.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return n?"".concat(t," ").concat("minus"==r?"-":"+"," ").concat(n," ").concat(o):t},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},eU={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},tU={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},rU={label:"Linear regression",returnType:"number",formatFunc:function(e,t){var r=e.coef,n=e.bias,o=e.val;return"(".concat(r," * ").concat(o," + ").concat(n,")")},sqlFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelImport:function(e){var t,r;if("op-plus"===e.type){var n=Et(e.children,2);if(r=n[0],t=n[1],"op-multiply"===r.type){var o=Et(r.children,2);return{coef:o[0],val:o[1],bias:t}}}},mongoFormatFunc:function(e){var t=e.coef,r=e.bias;return{$sum:[{$multiply:[t,e.val]},r]}},jsonLogic:function(e){var t=e.coef,r=e.bias;return{"+":[{"*":[t,e.val]},r]}},jsonLogicImport:function(e){return[e["+"][0]["*"][0],e["+"][0]["*"][1],e["+"][1]]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},nU={utils:{SqlString:kF,moment:Qx,mongoFormatOp1:function(e,t,r,n,o,i,a,l,s,u,c,d){var p="string"!=typeof n||n.startsWith("$")?n:"$"+n,f=t(i,d);if(void 0!==f)return r?a||e&&"$eq"!=e?a?{$not:b({},e,[p,f])}:b({},n,{$not:b({},e,f)}):b({},n,{$ne:f}):a||e&&"$eq"!=e?a?b({},e,[p,f]):b({},n,b({},e,f)):b({},n,f)},mongoFormatOp2:function(e,t,r,n,o,i,a,l,s,u,c){var d="string"!=typeof r||r.startsWith("$")?r:"$"+r;return t?i?{$not:{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}}:b({},r,{$not:b(b({},e[0],o[0]),e[1],o[1])}):i?{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}:b({},r,b(b({},e[0],o[0]),e[1],o[1]))},mongoEmptyValue:EF,escapeRegExp:Uq,sqlEmptyValue:jF,stringifyForDisplay:IF,getTitleInListValues:jN,spelEscape:qF,spelFixList:TF,wrapWithBrackets:AF}};function oU(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return iU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iU(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function iU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aU(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sU={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,t,r,n,o,i,a,l,s){var u=l?"=":i.label;return"boolean"==o&&l?"No"==r?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(u," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,t,r,n,o,i,a,l,s){return"boolean"==o&&l?"No"==r?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(i.label," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(e){return e},!1].concat(r))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(e){return e},!1].concat(r))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return e},!1].concat(r))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(e){return e},!1].concat(r))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:function(e,t,r){return{in:[r,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!0].concat(n))},jsonLogic:function(e,t,r){return{"!":{in:[r,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?"^"+t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e)+"$":void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," BETWEEN ").concat(s," AND ").concat(u):"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return"time"===e?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," NOT BETWEEN ").concat(s," AND ").concat(u):"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,t,r){return{"!":{"<=":[Array.isArray(r)?r[0]:r,e,Array.isArray(r)?r[1]:r]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") = ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") <> ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return null},!1].concat(r))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return null},!1].concat(r))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"".concat(e," ").concat(s," ").concat(r)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != ").concat(r)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):"".concat(e," IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):void 0},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):"".concat(e," NOT IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e){return e},!1].concat(r))},reversedOp:"select_any_in",jsonLogic:function(e,t,r){return{"!":{in:[e,r]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," CONTAINS [").concat(r.join(", "),"]"):"".concat(e," CONTAINS ").concat(r)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,t,r){return{some:[e,{in:[{var:""},r]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT CONTAINS [").concat(r.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(r)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,t,r){return{"!":{some:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"value"==n?"".concat(e," ").concat(s," [").concat(r.join(", "),"]"):"".concat(e," ").concat(s," ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," = '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,t,r){return{all:[e,{in:[{var:""},r]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," != [").concat(r.join(", "),"]"):"".concat(e," != ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," != '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,t,r){return{"!":{all:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=null==a?void 0:a.get("proximity");return"".concat(e," ").concat(s," NEAR/").concat(c," ").concat(u)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=this.utils.SqlString.trim(s),d=this.utils.SqlString.trim(u),p=null==a?void 0:a.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(c,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return 0},!1].concat(r))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,t,r){return"".concat(e," == ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return 0},!1].concat(r))}}},uU={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r){var n=r.step&&!Number.isInteger(r.step);return this.utils.spelEscape(e,n)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=this.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e);return n?this.utils.stringifyForDisplay(o):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=e.map((function(e){return o.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e)}));return n?i.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e,t,r,n,o){var i=o&&o.spelOp&&o.spelOp.startsWith("${1}"),a=this.utils.spelEscape(e);return i&&(a=this.utils.spelFixList(a)),a},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("YYYY-MM-DD"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD");return"T(java.time.LocalDate).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o,i,a;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&null!==(n=r.fmt)&&void 0!==n&&null!==(n=n.value)&&void 0!==n&&null!==(o=n.includes)&&void 0!==o&&o.call(n," ")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&null!==(a=i.toLowerCase)&&void 0!==a&&a.call(i).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(r.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("HH:mm:ss"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(i,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,t,r){var n,o,i;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&r.fmt&&(null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.toLowerCase)||void 0===o||!o.call(n).includes("hh:mm")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&i.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(r.fmt))];var a=this.utils.moment(e.value,"HH:mm:ss");return a.isValid()?[a.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?60*r.get("hour")*60+60*r.get("minute")+r.get("second"):void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},elasticSearchFormatValue:function(e,t,r,n){return{script:{script:{source:"doc[".concat(n,"][0].getHour() >== params.min && doc[").concat(n,"][0].getHour() <== params.max"),params:{min:t[0],max:t[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat+" "+r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.toDate())},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD HH:mm:ss");return"T(java.time.LocalDateTime).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd HH:mm:ss","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o;if(!t)return[void 0,"No widget def to get value format"];if(null==r||null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.includes)||void 0===o||!o.call(n," "))return[void 0,"Invalid datetime format ".concat(JSON.stringify(r.fmt))];var i=this.utils.moment(e.value,this.utils.moment.ISO_8601);return i.isValid()?[i.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,t,r,n){return n?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},field:{valueSrc:"field",formatValue:function(e,t,r,n,o,i,a){return n&&a.label||e},sqlFormatValue:function(e,t,r,n,o,i){return e},spelFormatValue:function(e,t,r,n,o){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(""===e?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return""===e?null:e}}},cU=lU(lU({},iB),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,t,r,n,o,i){var a=this,l=n.map((function(e,t){var r=e.key,n=e.parent,o=e.fieldSeparator;return 0==t?"[map]"==n?"#this[".concat(a.utils.spelEscape(r),"]"):r:"map"==n||"[map]"==n?"[".concat(a.utils.spelEscape(r),"]"):"".concat(o).concat(r)})).join("");return o.fieldName&&(l=e),o.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(null!=e)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(null!=e)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,t,r,n,o,i){if(null!=e)return i?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,t,r,n,o,i,a,l,s,u){var c=a.labelForFormat,d=a.cardinality;if(0==d){var p=e?" HAVE ".concat(e):"";return"".concat(c," OF ").concat(t).concat(p)}if(null==d||1==d){var f=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(t).concat(f," ").concat(c," ").concat(n)}if(2==d){var h=e?" WHERE ".concat(e):"",g=n.first(),v=n.get(1);return"COUNT OF ".concat(t).concat(h," ").concat(c," ").concat(g," AND ").concat(v)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,t,r,n){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),dU=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={rangeslider:hU,treeselect:gU,treemultiselect:vU,rangeable__date:fU("date","date")},i=oU(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=o[a];if(!l)throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(a));e=l(e,n)}}catch(s){i.e(s)}finally{i.f()}return e},pU=function(e,t){return dU(e,t,!0)},fU=function(e,t){return function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.types;return o=lU(lU({},o),{},b({},e,lU(lU({},o[e]),{},{widgets:lU({},o[e].widgets)}))),n?o[e].widgets[t]=lU({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},o[e].widgets[t]):delete o[e].widgets[t],lU(lU({},r),{},{types:o})}},hU=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=lU({},r),t?r.rangeslider=lU({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},singleWidget:"slider",toJS:function(e,t){return e}},r.rangeslider):delete r.rangeslider,n=lU(lU({},n),{},{number:lU(lU({},n.number),{},{widgets:lU({},n.number.widgets)})}),t?n.number.widgets.rangeslider=lU({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},n.number.widgets.rangeslider):delete n.number.widgets.rangeslider,lU(lU({},e),{},{widgets:r,types:n})},gU=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=lU({},r),t?r.treeselect=lU({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,i=this.utils.getTitleInListValues(o,e);return n?this.utils.stringifyForDisplay(i):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treeselect):delete r.treeselect,n=lU({},n),t?n.treeselect=lU({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},n.treeselect):delete n.treeselect,lU(lU({},e),{},{widgets:r,types:n})},vU=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=lU({},r),t?r.treemultiselect=lU({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,a=e.map((function(e){return o.utils.getTitleInListValues(i,e)}));return n?a.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treemultiselect):delete r.treemultiselect,n=lU({},n),t?n.treemultiselect=lU({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},n.treemultiselect):delete n.treemultiselect,lU(lU({},e),{},{widgets:r,types:n})},mU={addMixins:pU,removeMixins:function(e,t){return dU(e,t,!1)}},yU={conjunctions:{AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,t,r,n){var o=e.size>1?e.join(" "+(n?"AND":"&&")+" "):e.first();return(e.size>1||r)&&(o=this.utils.wrapWithBrackets(o)),r&&(o="NOT "+o),o},sqlFormatConj:function(e,t,r){var n=e.size>1?e.join(" AND "):e.first();return(e.size>1||r)&&(n=this.utils.wrapWithBrackets(n)),r&&(n="NOT "+n),n},spelFormatConj:function(e,t,r,n){r&&(n=!1);var o=e.size>1?e.join(" && "):e.first();return(e.size>1||r)&&!n&&(o=this.utils.wrapWithBrackets(o)),r&&(o="!"+o),o}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,t,r,n){return e.size>1?(r?"NOT ":"")+"("+e.join(" "+(n?"OR":"||")+" ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},sqlFormatConj:function(e,t,r){return e.size>1?(r?"NOT ":"")+"("+e.join(" OR ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},spelFormatConj:function(e,t,r,n){return r&&(n=!1),e.size>1?(r?"!":"")+(n?"":"(")+e.join(" || ")+(n?"":")"):(r?"!(":"")+e.first()+(r?")":"")}}},operators:sU,widgets:uU,types:{text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},settings:cU,ctx:nU};const bU=yU=pU(yU,["rangeslider","treeselect","treemultiselect"]);var _U="ADD_GROUP",xU="ADD_CASE_GROUP",wU="REMOVE_GROUP",OU="SET_CONJUNCTION",SU="SET_NOT",kU="ADD_RULE",jU="REMOVE_RULE",EU="SET_FIELD",CU="SET_FIELD_SRC",TU="SET_OPERATOR",qU="SET_VALUE",IU="SET_VALUE_SRC",AU="SET_FUNC_VALUE",LU="SET_OPERATOR_OPTION",PU="SET_LOCK",NU="SET_TREE",FU="MOVE_ITEM",RU="after",MU="before",DU="append",VU="prepend",zU="SET_DRAG_PROGRESS",BU="SET_DRAG_START",HU="SET_DRAG_END",UU=NV,$U=Lu;var WU=function(e,t){return e&&UU(e,t,$U)},KU=os,GU=xc;var YU=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=r[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new KU;if(n)var p=n(u,c,s,e,t,d);if(!(void 0===p?GU(c,u,3,n,d):p))return!1}}return!0},JU=$a;var QU=function(e){return e==e&&!JU(e)},XU=QU,ZU=Lu;var e$=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},t$=YU,r$=function(e){for(var t=ZU(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,XU(o)]}return t},n$=e$;var o$=HI;var i$=xc,a$=function(e,t,r){var n=null==e?void 0:o$(e,t);return void 0===n?r:n},l$=yA,s$=mI,u$=QU,c$=e$,d$=VI;var p$=HI;var f$=function(e){return function(t){return null==t?void 0:t[e]}},h$=function(e){return function(t){return p$(t,e)}},g$=mI,v$=VI;var m$=function(e){var t=r$(e);return 1==t.length&&t[0][2]?n$(t[0][0],t[0][1]):function(r){return r===e||t$(r,e,t)}},y$=function(e,t){return s$(e)&&u$(t)?c$(d$(e),t):function(r){var n=a$(r,e);return void 0===n&&n===t?l$(r,e):i$(t,n,3)}},b$=PA,_$=js,x$=function(e){return g$(e)?f$(v$(e)):h$(e)};var w$=function(e){return"function"==typeof e?e:null==e?b$:"object"==typeof e?_$(e)?y$(e[0],e[1]):m$(e):x$(e)},O$=GI,S$=WU,k$=w$;const j$=g((function(e,t){var r={};return t=k$(t),S$(e,(function(e,n,o){O$(r,n,t(e,n,o))})),r}));function E$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E$(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T$(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return q$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q$(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function q$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I$=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(qN(t)))return e;var u=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,c=i.settings.shouldCreateEmptyGroup,d=t.push(u),p=!c,f=!(null==s||!s.isDefaultCase),h=e;return(e=A$(e,t,r,u,RR(i).merge(Sq(o)||{}),i,l))!==h&&(l||f||(e=e.setIn(qN(d,"children1"),new Eq.OrderedMap),p&&(e=A$(e,d,"rule",Tq(),PR(i),i))),e=PN(e)),e},A$=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("switch_group"===r)throw new Error("Can't add switch_group programmatically");var s=e.getIn(qN(t));if(!s)return e;var u,c,d=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,p=i.settings,f=p.maxNumberOfCases,h=p.maxNumberOfRules,g=p.maxNesting,v="switch_group"===e.get("type"),m=v?e.getIn(qN(t.take(2))):null,y=qN(t,"children1"),_=e.getIn(y),x=!!_&&_.size,w=x?_.size:null;"case_group"===r?(u=w,c=f):"group"===r?(u=t.size,c=g):"rule_group"===(null==s?void 0:s.get("type"))||(u=RN(v?m:e),c=h);var O=!c||!u||u<c,S={type:r,id:d,properties:o};R$(i,S,l);var k="case_group"===r&&x&&null==_.last().get("children1");if(O){var j=new Eq.OrderedMap(b({},d,new Eq.Map(S)));if(x)if(k){var E=_.last(),C=new Eq.OrderedMap(b(b({},d,new Eq.Map(S)),E.get("id"),E));e=(e=e.deleteIn(qN(y,"children1",E.get("id")))).mergeIn(y,C)}else e=e.mergeIn(y,j);else e=e.setIn(y,j);e=PN(e)}return e},L$=function(e,t){return e=e.deleteIn(qN(t)),e=PN(e)},P$=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=e.getIn(qN(t));if(!c)return{state:e};var d=u.isEndValue,p=u.canDropArgs;if(!r)return{state:e=L$(e,t)};var f=n.settings,h=f.fieldSeparator,g=f.setOpOnChangeField,v=f.showErrorMessage;Array.isArray(r)&&(r=r.join(h));var m=c.get("type"),y=c.get("properties"),b="rule_group"==m,_=null==y?void 0:y.get("fieldSrc"),x=UB(n,r);if(!x)return console.warn("No config for LHS ".concat(r)),{state:e};var w=x.type;"!group"!==w&&"!struct"!==w||(w=null);var O=null==y?void 0:y.get("operator"),S=null==y?void 0:y.get("operatorOptions"),k=null==y?void 0:y.get("field"),j="!group"==x.type,E=j&&"array"==x.mode,C=b!=j,T=x&&-1!==(null===(i=x.operators)||void 0===i?void 0:i.indexOf(O))?O:null,q="func"===_&&(null==k||null===(a=k.get)||void 0===a?void 0:a.call(k,"func"))===(null===(l=r)||void 0===l||null===(s=l.get)||void 0===s?void 0:s.call(l,"func"))&&!!T,I=null,A="func"===_?sV(n,w):uV(n,r);if(A&&1==A.length)I=A[0];else if(q)I=T;else if(A&&A.length>1){var L,P=T$(g);try{for(P.s();!(L=P.n()).done;){var N=L.value;if("keep"!=N||C?"default"==N?I=AR(n,r,!1):"first"==N&&(I=cV(n,r)):I=T,I)break}}catch(H){P.e(H)}finally{P.f()}}if(!j&&!x.operators)return console.warn("Type ".concat(x.type," is not supported")),{state:e};b&&!j&&(e=(e=(e=e.setIn(qN(t,"type"),"rule")).deleteIn(qN(t,"children1"))).setIn(qN(t,"properties"),new Eq.OrderedMap)),y||(e=e.setIn(qN(t,"properties"),new Eq.OrderedMap));var F=!v;if(j){e=e.setIn(qN(t,"type"),"rule_group");var R=YD(n,n,y,r,I,"field",F,d,p);R.canReuseValue;var M=R.newValue,D=R.newValueSrc,V=R.newValueType,z=R.operatorCardinality,B=RR(n,x).merge({field:r,fieldSrc:"field",mode:x.mode});E&&(B=B.merge({operator:I,value:M,valueSrc:D,valueType:V})),e=(e=e.setIn(qN(t,"children1"),new Eq.OrderedMap)).setIn(qN(t,"properties"),B),x.initialEmptyWhere&&1==z||(e=A$(e,t,"rule",Tq(),PR(n,r),n)),e=PN(e)}else e=e.updateIn(qN(t,"properties"),(function(e){return e.withMutations((function(e){var t=YD(n,n,e,r,I,"field",F,d,p),o=t.canReuseValue,i=t.newValue,a=t.newValueSrc,l=t.newValueType,s=t.newValueError,u=t.newFieldError,c=t.fixedField,f=r;c!==r&&(f=c),v&&(e=(e=e.set("fieldError",u)).set("valueError",s));var h=o?S:LR(n,I,f);return e=e.set("field",f).delete("fieldType").set("fieldSrc",_).set("operator",I).set("operatorOptions",h).set("value",i).set("valueSrc",a).set("valueType",l),o||(e=e.delete("asyncListValues")),e}))}));return{state:e}},N$=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(qN(t)))return{state:e};var s=l.canDropArgs,u=l.isEndValue,c=i.settings,d=c.fieldSeparator,p=c.showErrorMessage,f=e.getIn(qN(t,"properties","valueSrc",r+""))||null;"field"===f&&Array.isArray(n)&&(n=n.join(d));var h=e.getIn(qN(t,"properties","field"))||null,g=e.getIn(qN(t,"properties","operator"))||null,v=$B(i,g,h),m=g?Rq(v):null,y=o||dV(n,f,i),b=UD(i,h,h,g,n,y,f,a,!p,u,s),_=Et(b,2),x=_[0],w=_[1],O=null==w?void 0:w.find((function(e){return!e.fixed&&!e.ignore})),S=O?TD(O):null,k=x!==n;k&&(n=x),e=F$(e,t,i,m);var j=Array.from({length:m},(function(o,i){return i==r?n:e.getIn(qN(t,"properties","value",i+""))||null})),E=Array.from({length:m},(function(r,n){return e.getIn(qN(t,"properties","valueSrc",n+""))||null})),C=GD(i,h,g,j,E),T=C?TD(C):null;((!!p||(!S&&!T||k))&&(e=e.deleteIn(qN(t,"properties","asyncListValues")),void 0===n?e=(e=e.setIn(qN(t,"properties","value",r),void 0)).setIn(qN(t,"properties","valueType",r),null):(a&&(e=e.setIn(qN(t,"properties","asyncListValues"),a)),e=(e=e.setIn(qN(t,"properties","value",r),n)).setIn(qN(t,"properties","valueType",r),y))),p)&&(e.getIn(qN(t,"properties","valueError"))||(e=e.setIn(qN(t,"properties","valueError"),new Eq.List(new Array(m)))),e=e.setIn(qN(t,"properties","valueError",r),S),m>=2&&(e=e.setIn(qN(t,"properties","valueError",m),T)));return{state:e}},F$=function(e,t,r,n){if(!n){var o=e.getIn(qN(t,"properties","field"))||null,i=e.getIn(qN(t,"properties","operator"))||null,a=$B(r,i,o);n=i?Rq(a):null}for(var l=0,s=["value","valueType","valueError","valueSrc"];l<s.length;l++){var u=s[l];e.getIn(qN(t,"properties",u))||(e=e.setIn(qN(t,"properties",u),new Eq.List(n?Array.from({length:n}):[])))}return e},R$=function e(t,r,n){n&&Array.isArray(n)&&(r.children1=new Eq.OrderedMap(n.reduce((function(r,n){var o,i=null!==(o=n.id)&&void 0!==o?o:Tq(),a=C$(C$({},n),{},{properties:MR(t,n).merge(Sq(n.properties)||{}),id:i});return e(t,a,a.children1),C$(C$({},r),{},b({},i,new Eq.Map(a)))}),{})))},M$={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},D$=function(e,t){if(!e||!e.type)return null;var r,n=[NU,BU,zU,HU],o=j$(vN(e,["config","asyncListValues"]),Hq),i=e.path&&function(e,t){return e.getIn(qN(t,"properties","field"))||null}(t.tree,e.path)||e.field;i&&(null!==(r=i)&&void 0!==r&&r.toJS&&(i=i.toJS()),o.affectedField=i);return(n.includes(e.type)||0==e.type.indexOf("@@redux"))&&(o=null),o};const V$=function(e,t,r,n,o){var i=C$({tree:t},M$);return function(){var t,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s=arguments.length>1?arguments[1]:void 0,u=null!==(t=null!==(a=null==o?void 0:o())&&void 0!==a?a:null==s?void 0:s.config)&&void 0!==t?t:e,c={__lastAction:void 0},d={},p=D$(s,l);switch(null==s?void 0:s.type){case NU:var f=r(u,s.tree);d.tree=f;break;case xU:d.tree=I$(l.tree,s.path,"case_group",s.id,s.properties,u,s.children,s.meta);break;case _U:d.tree=I$(l.tree,s.path,"group",s.id,s.properties,u,s.children,s.meta);break;case wU:d.tree=function(e,t,r){if(!e.getIn(qN(t)))return e;e=L$(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.slice(0,-1);zN(e,o)||n||(e=NN(e),!VN(e)||n)||(e=A$(e,new Eq.List,"rule",Tq(),PR(r,void 0,void 0,!1,!1),r));return PN(e)}(l.tree,s.path,u);break;case kU:d.tree=A$(l.tree,s.path,s.ruleType,s.id,s.properties,u,s.children);break;case jU:d.tree=function(e,t,r){if(!e.getIn(qN(t)))return e;e=L$(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.pop(),i=e.getIn(qN(o)),a=i.getIn(["properties","field"]),l=i.getIn(["properties","operator"]),s=a?UB(r,a):null,u=l?$B(r,l,a):null,c=a&&l&&0!=u.cardinality,d="rule_group"==i.get("type"),p=!zN(e,o),f=d?c&&s.initialEmptyWhere:n;p&&!f&&(d&&(e=e.deleteIn(qN(o))),e=NN(e),VN(e)&&!n)&&(e=A$(e,new Eq.List,"rule",Tq(),PR(r,void 0,void 0,!1,!1),r));return PN(e)}(l.tree,s.path,u);break;case OU:d.tree=function(e,t,r){return e.getIn(qN(t))?e=e.setIn(qN(t,"properties","conjunction"),r):e}(l.tree,s.path,s.conjunction);break;case SU:d.tree=function(e,t,r){return e.getIn(qN(t))?e=e.setIn(qN(t,"properties","not"),r):e}(l.tree,s.path,s.not);break;case EU:var h=P$(l.tree,s.path,s.field,u,s.asyncListValues,s._meta).state;d.tree=h;break;case CU:d.tree=function(e,t,r,n){var o=e.getIn(qN(t));if(!o)return e;var i=n.settings.keepInputOnChangeFieldSrc,a=o.get("properties"),l=null==a?void 0:a.get("field"),s=null==a?void 0:a.get("fieldType"),u=UB(n,l),c=(null==u?void 0:u.type)||s;c&&"!group"!==c&&"!struct"!==c||(c=null);var d=!lV.includes(c);return(e=i&&!bV(o,n)&&d?(e=(e=e.setIn(qN(t,"properties","field"),null)).deleteIn(qN(t,"properties","fieldError"))).setIn(qN(t,"properties","fieldType"),c):e.setIn(qN(t,"properties"),PR(n,null,null,!1))).setIn(qN(t,"properties","fieldSrc"),r)}(l.tree,s.path,s.srcKey,u);break;case PU:d.tree=function(e,t,r){return e.getIn(qN(t))?e=LN(e.setIn(qN(t,"properties","isLocked"),r)):e}(l.tree,s.path,s.lock);break;case TU:d.tree=function(e,t,r,n){var o=e.getIn(qN(t));if(!o)return e;var i=n.settings.showErrorMessage,a=o.get("properties"),l=o.get("children1"),s=a.get("field");a.get("fieldSrc");var u=UB(n,s),c="!group"==(null==u?void 0:u.type),d=$B(n,r,s),p=d?Rq(d):null;return e=e.updateIn(qN(t,"properties"),(function(e){return e.withMutations((function(e){var t=e.get("field"),o=e.get("operatorOptions");e.get("value",new Eq.List),e.get("valueSrc",new Eq.List),e.get("operator");var a=YD(n,n,e,t,r,"operator",!0),l=a.canReuseValue,s=a.newValue,u=a.newValueSrc,c=a.newValueType,d=a.newValueError;i&&(e=e.set("valueError",d));var p=l?o:LR(n,r,t);return l||(e=e.delete("asyncListValues")),e.set("operator",r).set("operatorOptions",p).set("value",s).set("valueSrc",u).set("valueType",c)}))})),c&&0==p&&0==l.size&&(e=A$(e,t,"rule",Tq(),PR(n,s),n)),e}(l.tree,s.path,s.operator,u);break;case qU:var g=N$(l.tree,s.path,s.delta,s.value,s.valueType,u,s.asyncListValues,s._meta).state;d.tree=g;break;case AU:var v=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},c=t.getIn(qN(r));if(!c)return t;var d,p=-1===n,f=c.get("properties"),h=f.get("field"),g=f.get("value"),v=[],m=p?h:g.getIn([n]),y=T$(o||[]);try{for(y.s();!(d=y.n()).done;){var b=Et(d.value,2),_=b[0],x=b[1];if(v.push([_,x,m]),_!==m.get("func")){var w=v.map((function(e){var t=Et(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")||"root";throw new Error("In ".concat(p?"LHS":"RHS"," for path ").concat(w," expected func key ").concat(_," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(A){y.e(A)}finally{y.f()}if(i){var O=m.get("func"),S=NB(e,O).args[i];m="!valueSrc"===l?oV(m,i,a):nV(m,i,a,S,e)}else m=ZD(m,a,e,!0),u.canDropArgs=!0;for(var k=m;v.length;){var j=v.pop(),E=Et(j,3),C=E[0],T=E[1],q=E[2],I=NB(e,C).args[T];k=nV(q,T,k,I,e)}return p?P$(t,r,k,e,s,u):N$(t,r,n,k,void 0,e,s,u)}(u,l.tree,s.path,s.delta,s.parentFuncs,s.argKey,s.value,s.valueType,s.asyncListValues,s._meta),m=v.state;d.tree=m;break;case IU:d.tree=function(e,t,r,n,o){if(!e.getIn(qN(t)))return e;var i=o.settings.showErrorMessage,a=e.getIn(qN(t,"properties","field"))||null,l=e.getIn(qN(t,"properties","operator"))||null,s=$B(o,l,a),u=l?Rq(s):null;if(e=(e=(e=(e=F$(e,t,o,u)).setIn(qN(t,"properties","value",r+""),void 0)).setIn(qN(t,"properties","valueType",r+""),null)).deleteIn(qN(t,"properties","asyncListValues")),i&&(e=e.setIn(qN(t,"properties","valueError",r),null),s.validateValues&&(e=e.setIn(qN(t,"properties","valueError",u),null))),e=void 0===n?e.setIn(qN(t,"properties","valueSrc",r+""),null):e.setIn(qN(t,"properties","valueSrc",r+""),n),n){var c=e.getIn(qN(t,"properties")),d=YD(o,o,c,a,l,"valueSrc",!0),p=d.canReuseValue,f=d.newValue,h=d.newValueSrc,g=d.newValueType;d.newValueError,p||h.get(r)!=n||(e=(e=e.setIn(qN(t,"properties","value",r+""),f.get(r))).setIn(qN(t,"properties","valueType",r+""),g.get(r)))}return e}(l.tree,s.path,s.delta,s.srcKey,u,s._meta);break;case LU:d.tree=function(e,t,r,n){return e.getIn(qN(t))?e.setIn(qN(t,"properties","operatorOptions",r),n):e}(l.tree,s.path,s.name,s.value);break;case FU:d.tree=function(e,t,r,n,o){var i=AN(e,t),a=t.pop(),l=t.size>1?AN(e,a):null,s=l?l.get("children1"):null,u=AN(e,r),c=n==DU||n==VU?r:r.pop(),d=n==DU||n==VU?u:r.size>1?AN(e,c):null,p=d?d.get("children1"):null;if(!l||!d||!i)return e;var f=l.get("id")==d.get("id"),h=c.size<a.size&&Mq(c.toArray(),a.toArray().slice(0,c.size)),g=c.size>a.size&&Mq(a.toArray(),c.toArray().slice(0,a.size)),v=null,m=null;h?v=Eq.List(a.toArray().slice(c.size)):g&&(m=Eq.List(c.toArray().slice(a.size)));var y=p,_=s;return g||(_=_.delete(i.get("id"))),f?y=_:h&&(y=y.updateIn(IN(v,"children1"),(function(e){return _}))),n==MU||n==RU?y=Eq.OrderedMap().withMutations((function(e){var t,r=T$(y.entries());try{for(r.s();!(t=r.n()).done;){var o=Et(t.value,2),a=o[0],l=o[1];a==(null==u?void 0:u.get("id"))&&n==MU&&e.set(i.get("id"),i),e.set(a,l),a==(null==u?void 0:u.get("id"))&&n==RU&&e.set(i.get("id"),i)}}catch(s){r.e(s)}finally{r.f()}})):n==DU?y=y.merge(Eq.OrderedMap(b({},i.get("id"),i))):n==VU&&(y=Eq.OrderedMap(b({},i.get("id"),i)).merge(y)),g&&(_=(_=_.updateIn(IN(m,"children1"),(function(e){return y}))).delete(i.get("id"))),f||h||(e=e.updateIn(qN(a,"children1"),(function(e){return _}))),g||(e=e.updateIn(qN(c,"children1"),(function(e){return y}))),PN(e)}(l.tree,s.fromPath,s.toPath,s.placement);break;case BU:d.dragStart=s.dragStart,d.dragging=s.dragging,d.mousePos=s.mousePos;break;case zU:d.mousePos=s.mousePos,d.dragging=s.dragging;break;case HU:d.tree=function(e,t){return t.settings.canLeaveEmptyGroup||(e=NN(e)),e}(l.tree,u),d=C$(C$({},d),M$)}return p&&(d.__lastAction=p),n&&d.tree&&l.tree&&n(l.tree),C$(C$(C$({},l),c),d)}};const z$=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:xU,path:Bq(t),children:n,id:Tq(),properties:RR(e).merge(Sq(r)||{}),config:e}},addDefaultCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:xU,path:Bq(t),children:n,id:Tq(),properties:RR(e).merge(Sq(r)||{}),config:e,meta:{isDefaultCase:!0}}},addGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:_U,path:Bq(t),children:n,id:Tq(),properties:RR(e).merge(Sq(r)||{}),config:e}},addRule:function(e,t,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{type:kU,ruleType:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rule",children:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,path:Bq(t),id:Tq(),properties:PR(e,n).merge(Sq(r)||{}),config:e}},moveItem:function(e,t,r,n){return{type:FU,fromPath:Bq(t),toPath:Bq(r),placement:n,config:e}},removeGroup:function(e,t){return{type:wU,path:Bq(t),config:e}},removeRule:function(e,t){return{type:jU,path:Bq(t),config:e}},setTree:function(e,t){return{type:NU,tree:t,config:e}}},Symbol.toStringTag,{value:"Module"}));const B$=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:function(e,t,r){return{type:OU,path:Bq(t),conjunction:r}},setLock:function(e,t,r){return{type:PU,path:Bq(t),lock:r}},setNot:function(e,t,r){return{type:SU,path:Bq(t),not:r}}},Symbol.toStringTag,{value:"Module"}));const H$=Object.freeze(Object.defineProperty({__proto__:null,setField:function(e,t,r,n,o){return{type:EU,path:Bq(t),field:r,config:e,asyncListValues:n,_meta:o}},setFieldSrc:function(e,t,r){return{type:CU,path:Bq(t),srcKey:r,config:e}},setFuncValue:function(e,t,r,n,o,i,a,l,s){return{type:AU,path:Bq(t),delta:r,parentFuncs:n,argKey:o,value:i,valueType:a,asyncListValues:l,config:e,_meta:s}},setOperator:function(e,t,r){return{type:TU,path:Bq(t),operator:r,config:e}},setOperatorOption:function(e,t,r,n){return{type:LU,path:Bq(t),name:r,value:n,config:e}},setValue:function(e,t,r,n,o,i,a){return{type:qU,path:Bq(t),delta:r,value:n,valueType:o,asyncListValues:i,config:e,_meta:a}},setValueSrc:function(e,t,r,n,o){return{type:IU,path:Bq(t),delta:r,srcKey:n,config:e,_meta:o}}},Symbol.toStringTag,{value:"Module"}));function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U$(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W$=$$($$($$({},QH),{},{Export:BH,Import:jR,ConfigMixins:mU},BH),jR);const K$=R.createContext();var G$="after",Y$="before",J$="append",Q$="prepend",X$=function(e,t){return{type:"SET_DRAG_PROGRESS",mousePos:e,dragging:t}},Z$=function(e,t,r){return{type:"SET_DRAG_START",dragStart:e,dragging:t,mousePos:r}},eW=function(){return{type:"SET_DRAG_END"}},tW=z$,rW=B$,nW=H$,oW={},iW=function(e,t,r){return!t||!e||e.length<=t?e:e.substr(0,t-1)+"..."},aW=function(e,t){return e===t||(null==e?void 0:e.equals(t))},lW=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?lW(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):e&&"function"==typeof e.equals?e.equals(t):"object"===_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?lW(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var sW=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&oW&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}}(),uW=W$.Validation.validateAndFixTree,cW=function e(t){if(t){var r,n=(r=t)._reactRootContainer?"root":Object.getOwnPropertyNames(r).filter((function(e){return e.startsWith("__reactContainer")})).length>0?"container":void 0;return void 0!==n?n:e(t.parentNode)}},dW=function(e){return"root"===cW(e)},pW=function(e,t){return function(r,n){var o=e.props,i=e.state,a=r!=o||n!=i;if(a&&i==n&&o!=r){var l=[];for(var s in r){var u=r[s]!=o[s];u&&("ignore"==t[s]?u=!1:"shallow_deep"==t[s]?u=!lW(r[s],o[s],!0):"shallow"==t[s]?u=!lW(r[s],o[s]):"function"==typeof t[s]&&(u=t[s](r[s],o[s],r,o))),u&&l.push(s)}l.length||(a=!1)}return a}},fW=function(e){return function(t,r){return!lW(e.props,t)||!lW(e.state,r)}},hW=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=fW(e)),16==(r=R.version.split(".").map(parseInt.bind(null,10)))[0]&&r[1]<3||r[0]<16)e.componentWillReceiveProps=function(t){e.onPropsChanged(t)};else{var t=e.shouldComponentUpdate;e.shouldComponentUpdate=function(r,n){return!lW(e.props,r)&&e.onPropsChanged(r),t.call(e,r,n)}.bind(e)}var r},gW=function(e,t,r){return j$(e,(function(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r(e.apply(void 0,[t].concat(o)))}}))};const vW=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:gW,isUsingLegacyReactDomRender:dW,liteShouldComponentUpdate:pW,pureShouldComponentUpdate:fW,useOnPropsChanged:hW},Symbol.toStringTag,{value:"Module"}));function mW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bW(e,t,r){return t=G(t),Y(e,_W()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_W=function(){return!!e})()}var xW=function(e){function t(e){var r;K(this,t),(r=bW(this,t,[e])).shouldComponentUpdate=pW(r,{tree:function(e){return e!==r.oldValidatedTree||r.oldValidatedTree!==r.validatedTree}}),hW(r),r._updateActions(e),r.validatedTree=e.getMemoizedTree(e.config,e.tree,void 0,e.sanitizeTree),r.oldValidatedTree=r.validatedTree;var n=e.getBasicConfig(e.config);return e.onInit&&e.onInit(r.validatedTree,n,void 0,r.actions),r}return $(t,e),W(t,[{key:"_updateActions",value:function(e){var t=e.config,r=e.dispatch;this.actions=gW(yW(yW(yW({},tW),rW),nW),t,r)}},{key:"onPropsChanged",value:function(e){var t=e.onChange,r=this.props.config,n=e.tree;this.props.tree;var o=e.config;if(this.oldValidatedTree=this.validatedTree,this.validatedTree=n,r!==o&&(this._updateActions(e),this.validatedTree=e.getMemoizedTree(o,n,r)),!aW(this.validatedTree,this.oldValidatedTree)){var i=e.getBasicConfig(o);t&&t(this.validatedTree,i,e.__lastAction,this.actions)}}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.renderBuilder,n=e.dispatch;return r({tree:this.validatedTree,actions:this.actions,config:t,dispatch:n})}}])}(v.Component);xW.propTypes={config:Ct.object.isRequired,onChange:Ct.func,onInit:Ct.func,renderBuilder:Ct.func,tree:Ct.any};var wW=Tt((function(e){return{tree:e.tree,__lastAction:e.__lastAction}}),null,null,{context:K$})(xW);function OW(e,t,r){return t=G(t),Y(e,SW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SW=function(){return!!e})()}wW.displayName="ConnectedQuery";var kW=W$.DefaultUtils.defaultRoot,jW=W$.ConfigUtils.createConfigMemo,EW=function(e){function t(e,r){var n,o,i;K(this,t),(i=OW(this,t,[e,r])).setLastTree=function(e){i.prevTree&&(i.prevprevTree=i.prevTree),i.prevTree=e},i.getConfig=function(){return i.config},i.shouldComponentUpdate=pW(i,{value:function(e,t){return!1}}),hW(i);var a=jW({reactIndex:null!==(n=null===(o=i._reactInternals)||void 0===o?void 0:o.index)&&void 0!==n?n:-1,maxSize:2,canCompile:!0}),l=a.getExtendedConfig,s=a.getBasicConfig,u=a.clearConfigMemo;i.getMemoizedConfig=l,i.getBasicConfig=s,i.clearConfigMemo=u,i.getMemoizedTree=function(){var e,t,r;return function(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return o?n.__configId===r&&(aW(o,e)||aW(o,t))?t:(r=n.__configId,e=o,t=!1===a?uW(o,null,n,i||n,!1,!1,!1):uW(o,null,n,i||n)):null}}();var c=i.getMemoizedConfig(e),d=c.settings.shouldCreateEmptyGroup,p=kW(c,!d),f=!!e.value,h=e.value||p,g=i.getMemoizedTree(c,h,void 0,f),v=V$(c,g,i.getMemoizedTree,i.setLastTree,i.getConfig),m=It(v);return i.config=c,i.state={store:m},i.QueryWrapper=function(e){return c.settings.renderProvider(e,c.ctx)},i}return $(t,e),W(t,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(e){var t=this.props,r=this.config,n=this.getMemoizedConfig(e),o=r!==n,i=this.state.store.getState().tree,a=!aW(e.value,this.props.value)&&!aW(e.value,i),l=a?e.value||kW(e):i,s=a&&!aW(e.value,this.prevTree)&&!aW(e.value,this.prevprevTree);if(this.sanitizeTree=s||o,o&&(t.settings.renderProvider!==e.settings.renderProvider&&(this.QueryWrapper=function(e){return n.settings.renderProvider(e,n.ctx)}),this.config=n),a||o){var u=this.getMemoizedTree(n,l,r,this.sanitizeTree);this.state.store.dispatch(tW.setTree(n,u))}}},{key:"render",value:function(){var e=this.props,t=e.renderBuilder,r=e.get_children,n=e.onChange,o=e.onInit,i=this.state.store,a=this.config,l=this.QueryWrapper;return R.createElement(l,{config:a},R.createElement(qt,{store:i,context:K$},R.createElement(wW,{config:a,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:n,onInit:o,renderBuilder:t||r})))}}])}(v.Component);function CW(e,t,r){return t=G(t),Y(e,TW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TW=function(){return!!e})()}EW.propTypes={conjunctions:Ct.object.isRequired,fields:Ct.object.isRequired,types:Ct.object.isRequired,operators:Ct.object.isRequired,widgets:Ct.object.isRequired,settings:Ct.object.isRequired,ctx:Ct.object.isRequired,onChange:Ct.func,onInit:Ct.func,renderBuilder:Ct.func,value:Ct.any};var qW=W$.ConfigUtils.getFieldConfig;function IW(e,t,r){return t=G(t),Y(e,AW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AW=function(){return!!e})()}var LW=W$.clone,PW=W$.TreeUtils.getFlatTree,NW=!1;var FW=["isDraggingTempo","isDraggingMe","dragging"];function RW(e,t,r){return t=G(t),Y(e,MW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MW=function(){return!!e})()}const DW=function(e){return function(t){var r;return r=function(r){function n(e){var t;return K(this,n),(t=RW(this,n,[e])).handleDraggerMouseDown=function(e){var r=t.props.id,n=t.wrapper.current;t.props.onDragStart&&t.props.onDragStart(r,n,e)},t.wrapper=R.createRef(),t}return $(n,r),W(n,[{key:"render",value:function(){var r=this.props,n=r.isDraggingTempo,o=r.isDraggingMe,i=r.dragging,a=bn(r,FW),l=a.isTrueLocked,s={};o&&n&&(NW||(s={top:i.y,left:i.x,width:i.w}));var u=tn(e,"group-or-rule",o&&n?"qb-draggable":null,o&&!n?"qb-placeholder":null,l?"locked":null);return R.createElement("div",{className:u,style:s,ref:this.wrapper,"data-id":this.props.id},R.createElement(t,w({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:o,isDraggingTempo:n},a)))}}])}(v.PureComponent),r.propTypes={isDraggingTempo:Ct.bool,isDraggingMe:Ct.bool,onDragStart:Ct.func,dragging:Ct.object,isLocked:Ct.bool,isTrueLocked:Ct.bool},r}};var VW=kI,zW=w$,BW=sA,HW=LL;const UW=g((function(e,t){if(null==e)return{};var r=VW(HW(e),(function(e){return[e]}));return t=zW(t),BW(e,r,(function(e,r){return t(e,r[0])}))}));function $W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WW(e,t,r){return t=G(t),Y(e,KW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function KW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KW=function(){return!!e})()}var GW=W$.ConfigUtils,YW=GW.getFieldConfig,JW=GW.getOperatorConfig,QW=function(e){function t(e){var r;return K(this,t),(r=WW(this,t,[e])).shouldComponentUpdate=pW(r,{selectedField:function(e,t){return!1}}),hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.selectedField,o=e.selectedFieldType,i=e.selectedOperator,a=YW(r,n),l=sj((null==a?void 0:a.operators)||(null===(t=r.types[o])||void 0===t?void 0:t.operators)||[]);n||l.includes(i)||l.push(i);var s=j$(UW(r.operators,(function(e,t){return-1!==(null==l?void 0:l.indexOf(t))})),(function(e,t){return JW(r,t,n)})),u=this.buildOptions(r,s,l),c=s[i]||{},d=i?[i]:null;return{placeholder:this.props.config.settings.operatorPlaceholder,items:u,selectedKey:i,selectedKeys:d,selectedPath:d,selectedLabel:c.label,selectedAltLabel:c.label2||c.tooltip,selectedOpts:c,fieldConfig:a}}},{key:"buildOptions",value:function(e,t,r){return t&&r?Pu(t).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)})).map((function(e){var r=t[e];return{key:e,path:e,label:r.label,altLabel:r.label2,tooltip:r.tooltip}})):null}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setOperator,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderOperator,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$W(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:n},this.meta);return s.items?l(s,t.ctx):null}}])}(v.Component);QW.propTypes={id:Ct.string,groupId:Ct.string,config:Ct.object.isRequired,selectedField:Ct.any,selectedFieldId:Ct.string,selectedFieldType:Ct.string,selectedFieldSrc:Ct.string,selectedOperator:Ct.string,readonly:Ct.bool,customProps:Ct.object,setOperator:Ct.func.isRequired};var XW=["children"],ZW=function(e){var t=e.children,r=bn(e,XW);return R.createElement("div",r,t)},eK=function(){},tK=function(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},R.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),R.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},rK=function(e){return function(t){var r=t.config.settings.useConfirm,n=r?r.call(t.config.ctx,t.config.ctx):null;return R.createElement(e,w({},t,{confirmFn:n}))}},nK=function(e){var t=e.id,r=e.isLHS,n=e.delta;return[t,r?"L":"R",r?-1:n||0,(e.parentFuncs||[]).map((function(e){var t=Et(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")].join(":")},oK=function(e,t){var r;return"function"==typeof t?(r=function(r){return null==t?void 0:t(r,e.ctx)}).displayName=t.name:r=t,r};function iK(e,t,r){return t=G(t),Y(e,aK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function aK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aK=function(){return!!e})()}var lK=function(e){function t(){return K(this,t),iK(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.setOperator,l=e.selectedFieldId,s=e.showOperator,u=e.showOperatorLabel,c=e.selectedFieldWidgetConfig,d=e.readonly,p=e.id,f=e.groupId;return[s&&R.createElement(ZW,{key:"operators-for-"+l,className:"rule--operator"},t.settings.showLabels&&R.createElement("label",{className:"rule--label"},t.settings.operatorLabel),R.createElement(QW,{key:"operator",config:t,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,selectedFieldId:l,selectedOperator:i,setOperator:a,customProps:t.settings.customOperatorSelectProps,readonly:d,id:p,groupId:f})),u&&R.createElement(ZW,{key:"operators-for-"+l,className:"rule--operator"},R.createElement("div",{className:"rule--operator-wrapper"},t.settings.showLabels?R.createElement("label",{className:"rule--label"}," "):null,R.createElement("div",{className:"rule--operator-text-wrapper"},R.createElement("span",{className:"rule--operator-text"},c.operatorInlineLabel))))]}}])}(v.PureComponent);function sK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uK(e,t,r){return t=G(t),Y(e,cK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cK=function(){return!!e})()}var dK=W$.RuleUtils.getFieldPathLabels,pK=W$.ConfigUtils,fK=pK.getFieldConfig,hK=pK.getFieldParts,gK=pK.getFieldPathParts,vK=function(e){function t(e){var r;return K(this,t),(r=uK(this,t,[e])).setField=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.props.id;if(!n.widgetId){var i=[o,"L",-1].join(":");n.widgetId=i}r.props.setField(e,t,n)},hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.config,o=e.parentField,i=t,a=n.settings,l=a.maxLabelsLength,s=a.fieldSeparatorDisplay,u=a.fieldPlaceholder;a.fieldSeparator;var c=!!t,d=c?null:iW(u,l),p=c?fK(n,i):null,f=p||{},h=gK(i,n),g=gK(i,n,!0),v=this.getFieldLabel(p,i,n),m=dK(i,n),y=m?m.join(s):null;(y==v||o)&&(y=null);var b=f.label2||f.tooltip,x=hK(o,n),w=o?fK(n,o):null,O=o?w&&w.subfields:n.fields,S=!c&&r,k=this.buildOptions(x,n,O,S,x),j=S?"Please select field":null;return i&&"object"===_(i)&&(i=void 0),{placeholder:d,items:k,parentField:o,selectedKey:i,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedAltLabel:b,selectedFullLabel:y,errorText:j}}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=hK(t,r),i=(null==e?void 0:e.label)||JA(o);return i=iW(i,n)}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r)return null;var l=t.settings,s=l.fieldSeparator,u=l.fieldSeparatorDisplay,c=null!=i&&i.length?i.join(s)+s:"",d=function e(t){return Object.keys(t||{}).reduce((function(r,n){var i=t[n];return"!struct"===i.type?r+e(i.subfields):r+(i.type===o?1:0)}),0)};return Pu(r).map((function(l){var s=[].concat(sj(null!=i?i:[]),[l]),p=r[l],f=n.getFieldLabel(p,s,t),h=dK(s,t).join(u);(h==f||null!=e&&e.length)&&(h=null);var g=p.label2,v=p.tooltip,m=p.disabled;if(!p.hideForSelect){if("!struct"==p.type){var y=n.buildOptions(e,t,p.subfields,o,s,{label:f,tooltip:v}),b=d(p.subfields)>0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,items:y,matchesType:b}}var _=void 0!==o?p.type===o:void 0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,grouplabel:null==a?void 0:a.label,group:a,matchesType:_}}})).filter((function(e){return!!e}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setFieldSrc,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sK(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:this.setField,setFieldSrc:n},this.meta);return l(s,t.ctx)}}])}(v.Component);function mK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yK(e,t,r){return t=G(t),Y(e,bK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function bK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bK=function(){return!!e})()}vK.propTypes={id:Ct.string,groupId:Ct.string,config:Ct.object.isRequired,selectedField:Ct.any,selectedFieldSrc:Ct.string,selectedFieldType:Ct.string,parentField:Ct.string,customProps:Ct.object,readonly:Ct.bool,setField:Ct.func.isRequired,setFieldSrc:Ct.func};var _K=W$.clone,xK=W$.ConfigUtils,wK=xK.getFieldConfig,OK=xK.getFuncConfig,SK=xK.getFieldParts,kK=xK.getFieldPathParts,jK=W$.RuleUtils,EK=jK.getFuncPathLabels,CK=jK.getWidgetForFieldOp,TK=W$.OtherUtils.shallowEqual,qK=function(e){function t(e){var r;return K(this,t),r=yK(this,t,[e]),hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"].map((function(r){return"parentFuncs"===r?!TK(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0;(!this.meta||["config","field","fieldType","fieldSrc","value","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r&&(this.items=this.getItems(e,this.meta))}},{key:"getItems",value:function(e,t){var r=e.config,n=e.field,o=e.fieldType,i=e.isLHS,a=e.operator,l=e.parentFuncs,s=e.fieldDefinition,u=e.isFuncArg,c=t.lookingForFieldType,d=r.settings.canUseFuncForField,p=this.filterFuncs(r,r.funcs,n,o,i,a,d,l,u,s);return this.buildOptions(r,p,c)}},{key:"getMeta",value:function(e){var t=e.config;e._field;var r=e.fieldType,n=e.value,o=e.isLHS,i=e.isFuncArg,a=t.settings,l=a.funcPlaceholder,s=a.fieldSeparatorDisplay,u=n,c=!!n,d=c?null:l,p=c?OK(t,u):null,f=p||{},h=kK(u,t),g=kK(u,t,!0),v=this.getFuncLabel(p,u,t),m=EK(u,t),y=m?m.join(s):null;y==v&&(y=null);var b=o&&!i&&!c&&r;return{placeholder:d,selectedKey:u,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedFullLabel:y,errorText:b?"Please select function":null,lookingForFieldType:b}}},{key:"filterFuncs",value:function(e,t,r,n,o,i,a,l,s,u){t=_K(t);var c,d=e.settings.fieldSeparator,p=wK(e,r),f=p,h=CK(e,r,i,"value");return h&&e.widgets[h],s?(f=u,c=null==u?void 0:u.type):p?c=p.type:o||(c=n),function t(n,o){for(var s in n){var u=n[s].subfields,h=(o||[]).concat(s),g=h.join(d),v=OK(e,g);if("!struct"==v.type)0==t(u,h)&&delete n[s];else{var m,y=!c||v.returnType==c;null!==(m=f)&&void 0!==m&&m.funcs&&(y=y&&f.funcs.includes(g)),a&&(y=y&&a(r,p,g,v,i)),!v.allowSelfNesting&&l&&l.map((function(e){var t=Et(e,2),r=t[0];return t[1],r})).includes(g)&&(y=!1),y||delete n[s]}}return Pu(n).length}(t,[]),t}},{key:"buildOptions",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;var a=e.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"",c=function e(t){return Object.keys(t||{}).reduce((function(r,o){var i=t[o];return"!struct"===i.type?r+e(i.subfields):r+(i.type===n?1:0)}),0)};return Pu(t).map((function(a){var l=[].concat(sj(null!=o?o:[]),[a]),d=t[a],p=r.getFuncLabel(d,l,e),f=EK(l,e).join(s);f==p&&(f=null);var h=d.tooltip;if("!struct"==d.type){var g=r.buildOptions(e,d.subfields,n,l,{label:p,tooltip:h}),v=c(d.subfields)>0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,items:g,matchesType:v}}var m=void 0!==n?d.returnType===n:void 0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i,matchesType:m}}))}},{key:"getFuncLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=SK(t,r),i=(null==e?void 0:e.label)||JA(o);return i=iW(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderFunc,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mK(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({config:t,customProps:r,readonly:o,setField:n,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);qK.propTypes={id:Ct.string,groupId:Ct.string,config:Ct.object.isRequired,field:Ct.any,fieldType:Ct.string,fieldSrc:Ct.string,operator:Ct.string,customProps:Ct.object,value:Ct.string,setValue:Ct.func.isRequired,readonly:Ct.bool,parentFuncs:Ct.array,fieldDefinition:Ct.object,isFuncArg:Ct.bool,isLHS:Ct.bool};var IK=Math.ceil,AK=Math.max;var LK=function(e,t,r,n){for(var o=-1,i=AK(IK((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a},PK=/\s/;var NK=function(e){for(var t=e.length;t--&&PK.test(e.charAt(t)););return t},FK=NK,RK=/^\s+/;var MK=function(e){return e?e.slice(0,FK(e)+1).replace(RK,""):e},DK=$a,VK=pI,zK=/^[-+]0x[0-9a-f]+$/i,BK=/^0b[01]+$/i,HK=/^0o[0-7]+$/i,UK=parseInt;var $K=function(e){if("number"==typeof e)return e;if(VK(e))return NaN;if(DK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=DK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=MK(e);var r=BK.test(e);return r||HK.test(e)?UK(e.slice(2),r?2:8):zK.test(e)?NaN:+e},WK=$K,KK=1/0;var GK=function(e){return e?(e=WK(e))===KK||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},YK=LK,JK=yz,QK=GK;var XK=function(e){return function(t,r,n){return n&&"number"!=typeof n&&JK(t,r,n)&&(r=n=void 0),t=QK(t),void 0===r?(r=t,t=0):r=QK(r),n=void 0===n?t<r?1:-1:QK(n),YK(t,r,n,e)}}();const ZK=g(XK);var eG=["widgetFactory"],tG=["factory"];function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oG=W$.ListUtils.getTitleInListValues,iG=W$.ConfigUtils._widgetDefKeysToOmit,aG=W$.TreeUtils,lG=aG._fixImmutableValue,sG=aG.isImmutable,uG=v.memo((function(e){var t=e.widgetFactory,r=bn(e,eG),n=r.config,o=r.isFuncArg,i=r.fieldDefinition||{},a=i.fieldSettings,l=i.defaultValue,s=i.valueSources,u=o&&1==(null==s?void 0:s.length)&&"const"===(null==s?void 0:s[0]),c=(null==a?void 0:a.treeValues)||(null==a?void 0:a.listValues);return u&&l?"boolean"==typeof l?l?r.labelYes||"YES":r.labelNo||"NO":c?Array.isArray(l)?l.map((function(e){return oG(c,e)||e})).join(", "):oG(c,l)||l:""+l:t?t(r,n.ctx):"?"}));uG.displayName="WidgetFactoryMemo";var cG=function(e){var t=e.delta,r=e.isFuncArg,n=e.valueSrc,o=e.value,i=e.valueError,a=e.fieldError,l=e.asyncListValues,s=e.isSpecialRange,u=e.fieldDefinition,c=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,f=e.valueLabels,h=e.textSeparators,g=e.setValue,m=e.setFuncValue,y=e.config,b=e.field,_=e.fieldSrc,x=e.fieldPath,O=e.fieldType,S=e.isLHS,k=e.operator,j=e.readonly,E=e.parentField,C=e.parentFuncs,T=e.id,q=e.groupId,I=e.widgetId,A=d.factory,L=bn(d,tG),P=o?o.map((function(e){return lG(e)})):void 0,N=v.useMemo((function(){if(s){var e=[null==P?void 0:P.get(0),null==P?void 0:P.get(1)];return void 0===e[0]&&void 0===e[1]&&(e=void 0),e}return null==P?void 0:P.get(t)}),[s,o]),F=v.useMemo((function(){return i?s?[i.get(0),i.get(1),i.get(2)]:null==i?void 0:i.get(t):null}),[s,o]),M=S?a:F,D=(u||{}).fieldSettings,V=p.label,z=p.placeholder,B=f?f.placeholder:null,H=sG(b)?null:b,U=vN(nG(nG(nG({},L),D),{},{config:y,field:H,fieldPath:x,fieldSrc:_,fieldType:O,isLHS:S,parentField:E,parentFuncs:C,fieldDefinition:u,operator:k,delta:t,isSpecialRange:s,isFuncArg:r,value:N,valueSrc:n,valueError:F,fieldError:a,errorMessage:M,label:V,placeholder:z,placeholders:B,textSeparators:h,setValue:g,setFuncValue:m,readonly:j,asyncListValues:l,id:T,groupId:q,widgetId:I,widgetFactory:A,widget:c}),[].concat(sj(iG),["toJS"]));return R.createElement(uG,w({widgetFactory:A},U))};function dG(e,t,r){return t=G(t),Y(e,pG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function pG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pG=function(){return!!e})()}cG.displayName="WidgetFactory";var fG=W$.ConfigUtils,hG=fG.getFieldConfig,gG=fG.getOperatorConfig,vG=fG.getFieldWidgetConfig,mG=W$.RuleUtils,yG=mG.getValueSourcesForFieldOp,bG=mG.getWidgetForFieldOp,_G=mG.getValueLabel,xG=W$.DefaultUtils.createListWithOneElement,wG=W$.OtherUtils.shallowEqual;W$.TreeUtils.isImmutable;var OG={cardinality:1},SG=function(e){function t(e){var r;return K(this,t),(r=dG(this,t,[e]))._setValue=function(e,t,n,o,i,a){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(l.widgetId||(l.widgetId=o),e&&Array.isArray(i)){var s=[r.props.value.get(0),r.props.value.get(1)];s[0]!=i[0]&&r.props.setValue(0,i[0],n,a,l),s[1]!=i[1]&&r.props.setValue(1,i[1],n,a,l)}else r.props.setValue(t,i,n,a,l)},r._setValueSrc=function(e,t,n){var o={widgetId:t};r.props.setValueSrc(e,n,o)},r.renderWidget=function(e,t,r){var n=r.config,o=r.isFuncArg,i=r.leftField,a=r.operator,l=r.value,s=r.valueError,u=r.fieldError,c=r.readonly,d=r.parentField,p=r.parentFuncs,f=r.id,h=r.groupId,g=r.fieldSrc,v=r.fieldType,m=r.isLHS,y=r.setFuncValue,b=n.settings,_=t.widgets,x=t.iValues,O=t.aField,S=t.valueSources,k=o?x:l,j=o?i:O,E=_[e],C=E.valueSrc,T=E.valueLabel,q=E.widgetId,I=S.length>1&&!c,A=b.showLabels?R.createElement("label",{key:"label-"+q,className:"rule--label"},T.label):null;return R.createElement("div",{key:"wrapper-"+q,className:tn("func"===C?"widget--func":"widget--widget",I?"widget--has-valuerscs":"widget--has-no-valuerscs")},"func"===C?null:A,R.createElement(cG,w({key:q,id:f,groupId:h,widgetId:q,valueSrc:C,delta:e,value:k,valueError:s,fieldError:u,isFuncArg:o,isLHS:m},GA(t,["isSpecialRange","fieldDefinition","asyncListValues"]),GA(_[e],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:y,config:n,field:j,fieldSrc:g,fieldType:v,parentField:d,parentFuncs:p,operator:a,readonly:c})))},r.renderValueSources=function(e,t,n){var o=n.config,i=n.isFuncArg,a=n.leftField,l=n.operator,s=n.readonly,u=o.settings,c=t.valueSources,d=t.widgets,p=t.aField,f=t.valueSourcesOptions,h=i?a:p,g=d[e],v=g.valueSrc,m=g.setValueSrc,y=r.ValueSources,b=u.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return c.length>1&&!s&&R.createElement("div",{key:"wrapper-valuesrc-"+e,className:"widget--valuesrc"},b,R.createElement(y,{key:"valuesrc-"+e,delta:e,valueSources:f,valueSrc:v,config:o,field:h,operator:l,setValueSrc:m,readonly:s,title:u.valueSourcesPopupTitle}))},r.renderSep=function(e,t,r){var n=r.config,o=t.widgets,i=n.settings,a=o[e].sepText,l=i.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return a&&R.createElement("div",{key:"widget-separators-"+e,className:tn("widget--sep",0==e&&"widget--sep-first")},l,R.createElement("span",null,a))},r.renderWidgetDelta=function(e){return[r.renderSep(e,r.meta,r.props),r.renderValueSources(e,r.meta,r.props),r.renderWidget(e,r.meta,r.props)]},hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config),n=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"].filter((function(r){return"parentFuncs"===r?!wG(e[r],t[r],!0):"field"===r?e.fieldId!==t.fieldId:e[r]!==t[r]}));if((!this.meta||n.length>0)&&(this.meta=this.getMeta(e,n)),r){var o=e.config,i=o.settings.renderValueSources;this.ValueSources=oK(o,i)}}},{key:"getMeta",value:function(e){var t,r,n,o,i=this,a=e.config,l=e.field;e.fieldSrc;var s=e.fieldType,u=e.fieldFunc,c=e.fieldArg,d=e.operator,p=e.valueSrc,f=e.value,h=e.isForRuleGroup,g=e.isCaseValue,v=e.isFuncArg;e.leftField;var m=e.asyncListValues,y=e.parentFuncs,b=e.isLHS,_=e.id,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=a.settings.valueSourcesInfo,O=v?{func:u,arg:c}:l,S=!l&&s,k=p,j=f;(v||h||g)&&(k=xG(p),j=xG(f));var E=hG(a,O);!E&&S&&(E=a.types[s]);var C,T=bG(a,O,d);!T&&S&&(T=null===(C=a.types[s])||void 0===C?void 0:C.mainWidget);var q=v?OG:gG(a,d,O);if((null==E||null==q)&&!g)return null;var I,A,L=null==q?void 0:q.isSpecialRange,P=L&&("field"===(null===(t=k)||void 0===t?void 0:t.get(0))||"field"===(null===(r=k)||void 0===r?void 0:r.get(1))),N=L&&!P,F=N?1:null!==(A=null==(I=q)?void 0:I.cardinality)&&void 0!==A?A:1;if(0===F)return null;var R=null===(n=this.meta)||void 0===n?void 0:n.valueSources,M=null===(o=this.meta)||void 0===o?void 0:o.valueSourcesOptions;R&&!["field","operator","config","fieldDefinition","isForRuleGroup"].filter((function(e){return x.includes(e)})).length||(R=yG(a,O,d,E),h&&(R=["value"]),O||(R=Object.keys(w)),M=R.map((function(e){return[e,{label:w[e].label}]})));var D=ZK(0,F).map((function(e){var t,r,n,o,l=null===(t=i.meta)||void 0===t||null===(t=t.widgets)||void 0===t?void 0:t[e],s=(null===(r=k)||void 0===r?void 0:r.get(e))||null,u=bG(a,O,d,s),c=vG(a,O,d,u,s);P&&(u=c.singleWidget,c=vG(a,O,d,u,s)),!c&&S&&(u=["func","field"].includes(s)?s:T,c=a.widgets[u]);var p=null===(n=c)||void 0===n?void 0:n.type,f=_G(a,O,d,e,s,N),h=_G(a,O,d,e,null,N),g=null!=q&&q.textSeparators?null==q?void 0:q.textSeparators[e]:null,v=null,m=null;L&&(v={placeholder:[(v=[_G(a,O,d,0),_G(a,O,d,1)])[0].placeholder,v[1].placeholder],label:[v[0].label,v[1].label]},m=null==q?void 0:q.textSeparators);var x=nK({id:_,isLHS:b,delta:e,parentFuncs:y}),w=x+":VS",j=null==l?void 0:l.setValueSrc;j&&(null==l?void 0:l.widgetId)===x||(j=i._setValueSrc.bind(i,e,w));var E=null==l?void 0:l.setValue;return E&&(null==l?void 0:l.widgetId)===x&&(null==l?void 0:l.widgetType)===p&&(null===(o=i.meta)||void 0===o?void 0:o.isSpecialRange)===L||(E=i._setValue.bind(i,L,e,p,x)),{valueSrc:s,valueLabel:f,widget:u,sepText:g,widgetDefinition:c,widgetValueLabel:h,valueLabels:v,textSeparators:m,setValueSrc:j,setValue:E,widgetId:x,widgetType:p}}));return{defaultWidget:T,fieldDefinition:E,operatorDefinition:q,isSpecialRange:N,cardinality:F,valueSources:R,valueSourcesOptions:M,widgets:D,iValues:j,aField:O,asyncListValues:m}}},{key:"render",value:function(){if(!this.meta)return null;var e=this.meta,t=e.defaultWidget,r=e.cardinality;if(!t)return null;var n=t;return R.createElement(ZW,{className:"rule--widget rule--widget--".concat(n.toUpperCase()),key:"widget-col-"+n},ZK(0,r).map(this.renderWidgetDelta))}}])}(v.Component);function kG(e,t,r){return t=G(t),Y(e,jG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jG=function(){return!!e})()}SG.propTypes={config:Ct.object.isRequired,value:Ct.any,valueSrc:Ct.any,valueError:Ct.any,fieldError:Ct.string,field:Ct.any,fieldSrc:Ct.string,fieldType:Ct.string,fieldId:Ct.string,operator:Ct.string,readonly:Ct.bool,asyncListValues:Ct.array,id:Ct.string,groupId:Ct.string,setValue:Ct.func,setValueSrc:Ct.func,setFuncValue:Ct.func,isFuncArg:Ct.bool,fieldFunc:Ct.string,fieldArg:Ct.string,leftField:Ct.any,isForRuleGroup:Ct.bool,parentField:Ct.string,parentFuncs:Ct.array,isLHS:Ct.bool,isCaseValue:Ct.bool};var EG=W$.ConfigUtils.getFuncConfig,CG=W$.OtherUtils.shallowEqual,TG=function(e){function t(e){var r;return K(this,t),(r=kG(this,t,[e])).setFunc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.props,o=n.isLHS,i=n.delta,a=n.parentFuncs,l=n.id;if(!t.widgetId){var s=nK({id:l,isLHS:o,delta:i,parentFuncs:a});t.widgetId=s}r.props.setFuncValue(o?-1:i||0,a,null,e,"!func",void 0,t)},r.setArgValue=function(e,t,n,o,i){var a=r.props;a.config;var l=a.delta,s=a.isLHS,u=a.parentFuncs;r.props.setFuncValue(s?-1:l||0,u,e,t,n,o,i)},r.setArgValueSrc=function(e,t,n){var o=r.props;o.config;var i=o.delta,a=o.isLHS,l=o.parentFuncs;r.props.setFuncValue(a?-1:i||0,l,e,t,"!valueSrc",void 0,n)},r.renderFuncSelect=function(){var e,t,n=r.props,o=n.config,i=n.field,a=n.fieldType,l=n.fieldSrc,s=n.isLHS,u=n.operator,c=n.customProps,d=n.value,p=n.readonly,f=n.parentFuncs,h=n.id,g=n.groupId,v=n.isFuncArg,m=n.fieldDefinition,y={value:null!==(e=null==d||null===(t=d.get)||void 0===t?void 0:t.call(d,"func"))&&void 0!==e?e:null,setValue:r.setFunc,config:o,field:i,fieldType:a,fieldSrc:l,isLHS:s,operator:u,customProps:c,readonly:p,parentFuncs:f,isFuncArg:v,fieldDefinition:m,id:h,groupId:g},b=o.settings,_=b.showLabels,x=b.funcLabel,w=_?R.createElement("label",{className:"rule--label"},x):null;return R.createElement(ZW,{key:"func",className:"rule--func"},w,R.createElement(qK,y))},r.renderArgLabel=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=t.label,l=r.props.config,s=n&&1==n.length&&"const"==n[0];return!l.settings.showLabels&&("boolean"==o||s)&&i?R.createElement(ZW,{className:"rule--func--arg-label"},a||e):null},r.renderArgLabelSep=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=r.props.config,l=n&&1==n.length&&"const"==n[0];return!a.settings.showLabels&&("boolean"==o||l)&&i?R.createElement(ZW,{className:"rule--func--arg-label-sep"},":"):null},r.renderArgVal=function(e,t,n){var o=r.props,i=o.config,a=o.field,l=o.fieldType,s=o.fieldSrc,u=o.isLHS;o.operator;var c=o.value,d=o.readonly,p=o.parentFuncs,f=o.id,h=o.groupId,g=o.fieldError,v=o.valueError,m=o.setFuncValue,y=c?c.getIn(["args",t]):null,b=y?y.get("value"):void 0,_=1==n.valueSources.length?n.valueSources[0]:void 0,x={config:i,fieldFunc:e,fieldArg:t,leftField:a,fieldType:l,fieldSrc:s,fieldError:g,valueError:v,isLHS:u,operator:null,value:b,valueSrc:y?y.get("valueSrc")||_||"value":_,setValue:r.setArgValue,setValueSrc:r.setArgValueSrc,setFuncValue:m,funcKey:e,argKey:t,argDefinition:n,readonly:d,parentFuncs:p,id:f,groupId:h};return R.createElement(ZW,{className:"rule--func--arg-value"},R.createElement(qG,x))},r.renderArgSep=function(e,t,r,n){var o=n.renderSeps;return r?R.createElement(ZW,{className:"rule--func--arg-sep"},o?o[r-1]:", "):null},r.renderBracketBefore=function(e){var t=e.renderBrackets;return R.createElement(ZW,{key:"before_args",className:"rule--func--bracket-before"},t?t[0]:"(")},r.renderBracketAfter=function(e){var t=e.renderBrackets;return R.createElement(ZW,{key:"after_args",className:"rule--func--bracket-after"},t?t[1]:")")},r.renderFuncArgs=function(){var e=r.meta,t=e.funcDefinition,n=e.funcKey;if(!n)return null;var o=(t||{}).args;return o?R.createElement(R.Fragment,null,r.renderBracketBefore(t),R.createElement(ZW,{key:"args-".concat(n),className:"rule--func--args rule--func--".concat(n,"--args")},Object.keys(o).map((function(e,i){return R.createElement(ZW,{key:"arg-".concat(e,"-").concat(i),className:"rule--func--arg rule--func--".concat(n,"--arg--").concat(e)},r.renderArgSep(e,o[e],i,t),r.renderArgLabel(e,o[e]),r.renderArgLabelSep(e,o[e]),r.renderArgVal(n,e,o[e]))}))),r.renderBracketAfter(t)):null},hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","field","operator","value","fieldSrc","fieldType","isLHS"].map((function(r){return"parentFuncs"===r?!CG(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r,n=e.config;e.field,e.operator;var o=e.value,i=null!==(t=null==o||null===(r=o.get)||void 0===r?void 0:r.call(o,"func"))&&void 0!==t?t:null;return{funcDefinition:i?EG(n,i):null,funcKey:i}}},{key:"render",value:function(){var e=this.props.parentFuncs,t=e?e.map((function(e){var t=Et(e,2),r=t[0],n=t[1];return"".concat(r,"_").concat(n)})).join("-"):"root",r=(null==e?void 0:e.length)||0;return R.createElement(ZW,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(t," rule--func--wrapper--lev-").concat(r)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(v.Component);TG.propTypes={id:Ct.string,groupId:Ct.string,config:Ct.object.isRequired,field:Ct.any,fieldSrc:Ct.string,fieldType:Ct.string,fieldError:Ct.string,operator:Ct.string,customProps:Ct.object,value:Ct.object,setValue:Ct.func.isRequired,setFuncValue:Ct.func,readonly:Ct.bool,parentFuncs:Ct.array,fieldDefinition:Ct.object,isFuncArg:Ct.bool,isLHS:Ct.bool,valueError:Ct.string};var qG=function(e){function t(e){var r;return K(this,t),(r=kG(this,t,[e])).setValue=function(e,t,n,o,i){var a=r.props;(0,a.setValue)(a.argKey,t,n,o,i)},r.setValueSrc=function(e,t,n){var o=r.props;(0,o.setValueSrc)(o.argKey,t,n)},hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["parentFuncs","funcKey","argKey"].map((function(r){return"parentFuncs"===r?!CG(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.parentFuncs,r=e.funcKey,n=e.argKey;return{parentFuncs:[].concat(sj(t||[]),[[r,n]])}}},{key:"render",value:function(){var e=this.meta.parentFuncs;return R.createElement(SG,w({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:e}))}}])}(v.Component);function IG(e,t,r){return t=G(t),Y(e,AG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AG=function(){return!!e})()}qG.propTypes={funcKey:Ct.string.isRequired,argKey:Ct.string.isRequired,setValue:Ct.func.isRequired,setValueSrc:Ct.func.isRequired,readonly:Ct.bool,isLHS:Ct.bool,parentFuncs:Ct.array,id:Ct.string,groupId:Ct.string};var LG=function(e){function t(e){var r;return K(this,t),(r=IG(this,t,[e])).renderField=function(){var e=r.props,t=e.config,n=e.classname,o=e.selectedField,i=e.selectedFieldSrc,a=e.selectedFieldType,l=e.setField,s=e.setFuncValue,u=e.parentField,c=e.readonly,d=e.id,p=e.groupId,f=e.fieldError,h=e.valueError;if(!["func","field"].includes(i))return"?";var g="func"===i?R.createElement(TG,{isLHS:!0,config:t,value:o,fieldSrc:i,fieldType:a,fieldError:f,valueError:h,parentField:u,setValue:l,setFuncValue:s,readonly:c,id:d,groupId:p,key:"field-func-"+d}):R.createElement(vK,{config:t,selectedField:o,selectedFieldSrc:i,selectedFieldType:a,parentField:u,setField:l,customProps:t.settings.customFieldSelectProps,readonly:c,id:d,groupId:p,key:"field-"+d}),v="func"===i?t.settings.funcLabel:t.settings.fieldLabel,m=t.settings.showLabels&&"func"!==i&&R.createElement("label",{className:"rule--label"},v);return R.createElement("div",{key:i,className:n},m,g)},r.renderFieldSources=function(){if(!r.meta)return null;var e=r.props,t=e.config,n=e.readonly,o=e.selectedFieldSrc,i=e.setFieldSrc,a=e.id,l=r.meta.fieldSourcesOptions,s=t.settings,u=r.ValueSources,c=s.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return l.length>1&&!n&&R.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},c,R.createElement(u,{key:"fieldsrc-"+a,valueSources:l,valueSrc:o,config:t,setValueSrc:i,readonly:n,title:s.fieldSourcesPopupTitle}))},hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config);if((!this.meta||["config"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r){var n=e.config,o=n.settings.renderValueSources;this.ValueSources=function(e){return o(e,n.ctx)}}}},{key:"getMeta",value:function(e){var t=e.config.settings,r=t.valueSourcesInfo;return{fieldSourcesOptions:t.fieldSources.map((function(e){return[e,{label:r[e].label}]}))}}},{key:"render",value:function(){var e=this.props;e.classname;var t=e.canSelectFieldSource,r=t&&this.renderFieldSources(),n=this.renderField();return t?R.createElement(ZW,{className:"rule--field-wrapper"},r,n):n}}])}(v.Component),PG=["factory"];function NG(e,t,r){return t=G(t),Y(e,FG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FG=function(){return!!e})()}var RG=W$.ConfigUtils.getOperatorConfig,MG=function(e){function t(){return K(this,t),NG(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var e=RG(this.props.config,this.props.selectedOperator,this.props.selectedField);if(void 0===e.options)return null;var t=e.options,r=t.factory,n=bn(t,PG),o=r(Object.assign({},n,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),this.props.config.ctx),i=this.props.selectedOperator;return R.createElement("div",{className:"rule--operator rule--operator--".concat(i.toUpperCase())},o)}}])}(v.PureComponent);function DG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zG(e,t,r){return t=G(t),Y(e,BG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BG=function(){return!!e})()}MG.propTypes={config:Ct.object.isRequired,operatorOptions:Ct.any.isRequired,selectedField:Ct.any,selectedFieldSrc:Ct.string,selectedOperator:Ct.string.isRequired,readonly:Ct.bool,setOperatorOption:Ct.func.isRequired};var HG=W$.ConfigUtils,UG=HG.getFieldConfig,$G=HG.getOperatorConfig,WG=HG.getFieldWidgetConfig,KG=HG.getFieldId,GG=W$.RuleUtils.isEmptyRuleProperties,YG=function(e){function t(e){var r;return K(this,t),r=zG(this,t,[e]),hW(r),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props,n=!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if((!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"].map((function(t){return e[t]!==r[t]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),n){var o=e.config,i=o.settings,a=i.renderIcon,l=i.renderButton,s=i.renderButtonGroup,u=i.renderSwitch,c=i.renderBeforeWidget,d=i.renderAfterWidget,p=i.renderRuleError;this.Icon=oK(o,a),this.Btn=oK(o,l),this.BtnGrp=oK(o,s),this.Switch=oK(o,u),this.BeforeWidget=oK(o,c),this.AfterWidget=oK(o,d),this.RuleError=oK(o,p)}this.doRemove=function(){t.props.removeSelf()}}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.selectedOperator,o=e.config,i=e.reordableNodesCnt,a=e.isLocked,l=o.settings.keepInputOnChangeFieldSrc,s=KG(t,o),u=UG(o,t),c=u&&"!struct"===u.type,d=!!t||l&&r,p=d&&n,f=$G(o,n,t),h=f&&null!=f.options,g=WG(o,t,n,null,null)||{},v=g.hideOperator;return{selectedFieldId:s,selectedFieldWidgetConfig:g,showDragIcon:o.settings.canReorder&&i>1&&!a,showOperator:d&&!v,showOperatorLabel:d&&v&&g.operatorInlineLabel,showWidget:p&&!c,showOperatorOptions:p&&h}}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeRuleConfirmOptions;i&&!this.isEmptyCurrentRule()?o.call(r.ctx,VG(VG({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(e,t){var r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.operatorOptions,l=e.value,s=e.valueType,u=e.valueSrc,c=e.asyncListValues,d=e.valueError,p=e.fieldError,f=e.parentField;return{field:r,fieldSrc:n,fieldType:o,fieldId:t.selectedFieldId,operator:i,operatorOptions:a,value:l,valueType:s,valueSrc:u,asyncListValues:c,valueError:d,fieldError:p,parentField:f}}},{key:"isEmptyCurrentRule",value:function(){var e=this.props.config,t=this._buildWidgetProps(this.props,this.meta);return GG(t,e)}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.parentField,o=e.groupId,i=e.id,a=e.selectedFieldSrc,l=e.selectedField,s=e.selectedFieldType,u=e.setField,c=e.setFuncValue,d=e.setFieldSrc,p=e.fieldError,f=t.settings.immutableFieldsMode,h=this.meta.selectedFieldId;return R.createElement(LG,{key:"field",classname:tn("func"==a?"rule--field--func":"rule--field"),config:t,canSelectFieldSource:!n,selectedField:l,selectedFieldSrc:a,selectedFieldType:s,selectedFieldId:h,fieldError:p,setField:f?eK:u,setFuncValue:f?eK:c,setFieldSrc:f?eK:d,parentField:n,readonly:f||r,id:i,groupId:o})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta,o=n.selectedFieldId,i=n.selectedFieldWidgetConfig,a=n.showOperator,l=n.showOperatorLabel,s=t.settings.immutableOpsMode;return R.createElement(lK,{key:"operator",config:t,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:o,selectedOperator:this.props.selectedOperator,setOperator:s?eK:this.props.setOperator,showOperator:a,showOperatorLabel:l,selectedFieldWidgetConfig:i,readonly:s||r,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta.showWidget,o=t.settings.immutableValuesMode;if(!n)return null;var i=R.createElement(SG,w({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:t,setValue:o?eK:this.props.setValue,setValueSrc:o?eK:this.props.setValueSrc,setFuncValue:o?eK:this.props.setFuncValue,readonly:o||r,id:this.props.id,groupId:this.props.groupId}));return R.createElement(ZW,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},i)}},{key:"renderOperatorOptions",value:function(){var e=this.props.config,t=this.meta.showOperatorOptions,r=e.settings,n=r.immutableOpsMode,o=r.immutableValuesMode;if(!t)return null;var i=R.createElement(MG,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:n?eK:this.props.setOperatorOption,config:e,readonly:o});return R.createElement(ZW,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},i)}},{key:"renderBeforeWidget",value:function(){var e=this.BeforeWidget;return e?R.createElement(ZW,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},R.createElement(e,this.props)):null}},{key:"renderAfterWidget",value:function(){var e=this.AfterWidget;return e?R.createElement(ZW,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},R.createElement(e,this.props)):null}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=e.fieldError,o=t.settings.showErrorMessage,i=this.RuleError,a=[n].concat(sj((null==r?void 0:r.toArray())||[])).filter((function(e){return!!e})).shift()||null;return o&&a&&R.createElement("div",{className:"rule--error"},i?R.createElement(i,{error:a}):a)}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.meta.showDragIcon,r=this.Icon,n=R.createElement(r,{type:"drag"});return t&&R.createElement("div",{key:"rule-drag-icon",onMouseDown:e,className:"qb-drag-handler rule--drag-handler"},n)}},{key:"renderDel",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=t.settings,o=n.deleteLabel,i=n.immutableGroupsMode,a=n.canDeleteLocked,l=this.Icon,s=this.Btn;return!i&&(!r||r&&a)&&R.createElement(s,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:o,config:t,renderIcon:l})}},{key:"renderLock",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.isTrueLocked,o=e.id,i=t.settings,a=i.lockLabel,l=i.lockedLabel,s=i.showLock,u=this.Switch;return s&&!(r&&!n)&&R.createElement(u,{key:"rule-lock",type:"lock",id:o,value:r,setValue:this.setLock,label:a,checkedLabel:l,hideLabel:!0,config:t})}},{key:"render",value:function(){var e=this.meta,t=e.showOperatorOptions,r=e.selectedFieldWidgetConfig,n=this.props,o=n.valueSrc,i=n.value,a=n.config,l="value"==(null==o?void 0:o.first())&&!t&&1==i.size&&r.fullWidth,s=this.BtnGrp,u=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],c=R.createElement("div",{key:"rule-body",className:tn("rule--body",l&&"can--shrink--value")},u),d=this.renderError(),p=this.renderDrag(),f=this.renderLock(),h=this.renderDel();return R.createElement(R.Fragment,null,p,R.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},c,d),R.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},R.createElement(s,{key:"rule-header-group",config:a},f,h)))}}])}(v.Component);YG.propTypes={id:Ct.string.isRequired,groupId:Ct.string,selectedField:Ct.any,selectedFieldSrc:Ct.string,selectedFieldType:Ct.string,selectedOperator:Ct.string,operatorOptions:Ct.object,config:Ct.object.isRequired,value:Ct.any,valueSrc:Ct.any,valueType:Ct.any,asyncListValues:Ct.array,isDraggingMe:Ct.bool,isDraggingTempo:Ct.bool,parentField:Ct.string,valueError:Ct.any,fieldError:Ct.string,isLocked:Ct.bool,isTrueLocked:Ct.bool,handleDraggerMouseDown:Ct.func,setField:Ct.func,setFieldSrc:Ct.func,setOperator:Ct.func,setOperatorOption:Ct.func,setLock:Ct.func,removeSelf:Ct.func,setValue:Ct.func,setValueSrc:Ct.func,setFuncValue:Ct.func,reordableNodesCnt:Ct.number,totalRulesCnt:Ct.number,parentReordableNodesCnt:Ct.number};const JG=function(e){var t=Tt((function(e){return{dragging:e.dragging}}),null,null,{context:K$})(function(e){var t;return t=function(t){function r(e){var t;return K(this,r),(t=CW(this,r,[e])).dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeRule(t.props.path)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.setField=function(e,r,n){t.props.actions.setField(t.props.path,e,r,n)},t.setFieldSrc=function(e){t.props.actions.setFieldSrc(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setOperatorOption=function(e,r){t.props.actions.setOperatorOption(t.props.path,e,r)},t.setValue=function(e,r,n,o,i){t.props.actions.setValue(t.props.path,e,r,n,o,i)},t.setValueSrc=function(e,r,n){t.props.actions.setValueSrc(t.props.path,e,r,n)},t.setFuncValue=function(e,r,n,o,i,a,l){t.props.actions.setFuncValue(t.props.path,e,r,n,o,i,a,l)},t.pureShouldComponentUpdate=fW(t),t.dummyFn.isDummyFn=!0,t}return $(r,t),W(r,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,r=qW(this.props.config,this.props.field),n=this.props.fieldType||(null==r?void 0:r.type)||null,o=this.props.config.settings.showErrorMessage;r&&r.type;var i=!t&&this.props.isDraggingTempo,a=this.props,l=a.valueError,s=[a.fieldError].concat(sj((null==l?void 0:l.toArray())||[])).filter((function(e){return!!e})).shift()||null,u=null!=s&&o;return R.createElement("div",{className:tn("group-or-rule-container","rule-container",u?"rule-with-error":null),"data-id":this.props.id},[t?R.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,R.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,setField:i?this.dummyFn:this.setField,setFieldSrc:i?this.dummyFn:this.setFieldSrc,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setOperatorOption:i?this.dummyFn:this.setOperatorOption,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),t.propTypes={id:Ct.string.isRequired,groupId:Ct.string,config:Ct.object.isRequired,path:Ct.any.isRequired,operator:Ct.string,field:Ct.any,fieldSrc:Ct.string,fieldType:Ct.string,actions:Ct.object.isRequired,onDragStart:Ct.func,value:Ct.any,valueSrc:Ct.any,asyncListValues:Ct.array,valueError:Ct.any,fieldError:Ct.string,operatorOptions:Ct.object,reordableNodesCnt:Ct.number,parentField:Ct.string,isLocked:Ct.bool,isTrueLocked:Ct.bool,dragging:Ct.object,isDraggingTempo:Ct.bool},t}(e));return t.displayName="ConnectedRuleContainer",t}(DW("rule")(rK(YG)));var QG=GK;var XG=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e},ZG=II,eY=function(e){var t=QG(e),r=t%1;return t==t?r?t-r:t:0},tY=LI;const rY=g((function(e,t,r){return e=tY(e),r=null==r?0:XG(eY(r),0,e.length),t=ZG(t),e.slice(r,r+t.length)==t}));function nY(e,t,r){return t=G(t),Y(e,oY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function oY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oY=function(){return!!e})()}var iY=W$.DefaultUtils.defaultGroupConjunction;const aY=function(e,t){var r=Tt((function(e){return{dragging:e.dragging}}),null,null,{context:K$})(function(e,t){var r;return r=function(r){function n(e){var r;return K(this,n),(r=nY(this,n,[e]))._selectedConjunction=function(e){return(e=e||r.props).conjunction||iY(e.config,e.field)},r.setConjunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setConjunction(r.props.path,e)},r.setNot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setNot(r.props.path,e)},r.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setLock(r.props.path,e)},r.dummyFn=function(){},r.removeSelf=function(){r.props.actions.removeGroup(r.props.path)},r.addGroup=function(){r.props.actions.addGroup(r.props.path)},r.addCaseGroup=function(){r.props.actions.addCaseGroup(r.props.path)},r.addDefaultCaseGroup=function(){r.props.actions.addDefaultCaseGroup(r.props.path)},r.addRule=function(){var e="rule_group"==t?r.props.field:null;r.props.actions.addRule(r.props.path,void 0,void 0,void 0,e)},r.setField=function(e,t,n){r.props.actions.setField(r.props.path,e,t,n)},r.setOperator=function(e){r.props.actions.setOperator(r.props.path,e)},r.setValue=function(e,t,n,o,i){r.props.actions.setValue(r.props.path,e,t,n,o,i)},r.setValueSrc=function(e,t,n){r.props.actions.setValueSrc(r.props.path,e,t,n)},r.setFuncValue=function(e,t,n,o,i,a,l){r.props.actions.setFuncValue(r.props.path,e,t,n,o,i,a,l)},r.pureShouldComponentUpdate=fW(r),hW(r),r.selectedConjunction=r._selectedConjunction(e),r.conjunctionOptions=r._getConjunctionOptions(e),r.dummyFn.isDummyFn=!0,r}return $(n,r),W(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"onPropsChanged",value:function(e){var t=e.config;e.id;var r=e.conjunction,n=this.props.config,o=this.props.conjunction;n==t&&o==r||(this.selectedConjunction=this._selectedConjunction(e),this.conjunctionOptions=this._getConjunctionOptions(e))}},{key:"_getConjunctionOptions",value:function(e){var t=this;return j$(e.config.conjunctions,(function(r,n){return{id:"conjunction-".concat(e.id,"-").concat(n),name:"conjunction[".concat(e.id,"]"),key:n,label:r.label,checked:n===t._selectedConjunction(e)}}))}},{key:"render",value:function(){var t=this.props.config.settings.showErrorMessage,r=this.props.dragging.id==this.props.id,n=this.props.path.size,o=this.props.config.settings.maxNesting,i=!r&&this.props.isDraggingTempo,a=this.props.fieldType||null,l=this.props.valueError,s=sj((null==l?void 0:l.toArray())||[]).filter((function(e){return!!e})).shift()||null,u=null!=s&&t,c=void 0===o||n<o,d=1==n;return R.createElement("div",{className:tn("group-or-rule-container","group-container",u?"group-with-error":null),"data-id":this.props.id},[r?R.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,R.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:r,isDraggingTempo:i,onDragStart:this.props.onDragStart,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:i?this.dummyFn:this.setConjunction,setNot:i?this.dummyFn:this.setNot,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,addGroup:i?this.dummyFn:this.addGroup,addCaseGroup:i?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:i?this.dummyFn:this.addDefaultCaseGroup,addRule:i?this.dummyFn:this.addRule,setField:i?this.dummyFn:this.setField,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),r.propTypes={config:Ct.object.isRequired,actions:Ct.object.isRequired,path:Ct.any.isRequired,id:Ct.string.isRequired,groupId:Ct.string,not:Ct.bool,conjunction:Ct.string,children1:Ct.any,onDragStart:Ct.func,reordableNodesCnt:Ct.number,field:Ct.any,fieldSrc:Ct.string,fieldType:Ct.string,parentField:Ct.string,value:Ct.any,valueSrc:Ct.any,valueError:Ct.any,isLocked:Ct.bool,isTrueLocked:Ct.bool,dragging:Ct.object,isDraggingTempo:Ct.bool},r}(e,t));return r.displayName="ConnectedGroupContainer",r};function lY(e,t,r){return t=G(t),Y(e,sY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function sY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sY=function(){return!!e})()}var uY={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},cY=function(e){function t(){return K(this,t),lY(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.removeSelf,i=e.setLock,a=e.isLocked,l=e.isTrueLocked,s=e.id,u=e.canAddGroup,c=e.canAddRule,d=e.canDeleteGroup,p=t.settings,f=p.immutableGroupsMode,h=p.addRuleLabel,g=p.addGroupLabel,v=p.delGroupLabel,m=p.groupActionsPosition,y=p.renderButton,b=p.renderIcon,_=p.renderSwitch,x=p.renderButtonGroup,w=p.lockLabel,O=p.lockedLabel,S=p.showLock,k=p.canDeleteLocked,j=function(e){return b(e,t.ctx)},E=function(e){return y(e,t.ctx)},C=function(e){return _(e,t.ctx)},T=function(e){return x(e,t.ctx)},q=uY[m||"topRight"],I=S&&!(a&&!l)&&R.createElement(C,{type:"lock",id:s,value:a,setValue:i,label:w,checkedLabel:O,config:t}),A=!f&&c&&!a&&R.createElement(E,{type:"addRule",onClick:r,label:h,readonly:a,config:t,renderIcon:j}),L=!f&&u&&!a&&R.createElement(E,{type:"addGroup",onClick:n,label:g,readonly:a,config:t,renderIcon:j}),P=!f&&d&&(!a||a&&k)&&R.createElement(E,{type:"delGroup",onClick:o,label:v,config:t,renderIcon:j});return R.createElement("div",{className:"group--actions ".concat(q)},R.createElement(T,{config:t},I,A,L,P))}}])}(v.PureComponent);function dY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fY(e,t,r){return t=G(t),Y(e,hY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function hY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hY=function(){return!!e})()}var gY=W$.RuleUtils.isEmptyGroupChildren,vY=function(e){function t(e){var r;return K(this,t),(r=fY(this,t,[e])).childrenClassName=function(){return""},r.renderBeforeActions=function(){var e=r.BeforeActions;return null==e?null:R.createElement(e,w({key:"group-actions-before"},r.props))},r.renderAfterActions=function(){var e=r.AfterActions;return null==e?null:R.createElement(e,w({key:"group-actions-after"},r.props))},hW(r),r.onPropsChanged(e),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.renderItem=r.renderItem.bind(r),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props;if(!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config)){var n=e.config,o=n.settings,i=o.renderIcon,a=o.renderConjs,l=o.renderBeforeActions,s=o.renderAfterActions;this.Icon=oK(n,i),this.Conjs=oK(n,a),this.BeforeActions=oK(n,l),this.AfterActions=oK(n,s)}this.doRemove=function(){t.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return rY(this.props.config.settings.groupActionsPosition||"topRight","top")}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeGroupConfirmOptions;i&&!this.isEmptyCurrentGroup()?o.call(r.ctx,pY(pY({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config;return gY(t,r)}},{key:"showNot",value:function(){return this.props.config.settings.showNot}},{key:"showConjs",value:function(){var e=this.props,t=e.conjunctionOptions;return e.children1,e.config,Object.keys(t).length>1||this.showNot()}},{key:"isNoChildren",value:function(){var e=this.props.children1;return!e||0==e.size}},{key:"isOneChild",value:function(){var e=this.props.children1;return!e||e.size<2}},{key:"renderChildrenWrapper",value:function(){return this.props.children1&&R.createElement("div",{key:"group-children",className:tn("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var e=this.isGroupTopPosition();return R.createElement("div",{key:"group-header",className:tn("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),e&&this.renderBeforeActions(),e&&this.renderActions(),e&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){return!this.isGroupTopPosition()&&R.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(cY,{key:"group-actions",config:t,addRule:r,addGroup:n,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var e=this.props.config.settings.maxNumberOfRules,t=this.props.totalRulesCnt;return!e||t<e}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var e=this.props.children1;return e?e.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(e){if(e){var t=this.props,r=t.config,n=t.actions,o=t.onDragStart,i=t.isLocked,a="group"==e.get("type")&&null!=e.getIn(["properties","field"])?"rule_group":e.get("type");return R.createElement(hJ,w({},this.extraPropsForItem(e),{key:e.get("id"),id:e.get("id"),groupId:t.id,path:e.get("path"),type:a,properties:e.get("properties"),config:r,actions:n,children1:e.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(e),totalRulesCnt:this.totalRulesCntForItem(e),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:o,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:i}))}}},{key:"extraPropsForItem",value:function(e){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var e=this.props,t=e.config,r=e.isRoot,n=e.isLocked,o=this.reordableNodesCnt();return t.settings.canReorder&&!r&&o>1&&!n}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.Icon,r=R.createElement(t,{type:"drag"});return this.showDragIcon()&&R.createElement("div",{key:"group-drag-icon",onMouseDown:e,className:"qb-drag-handler group--drag-handler"},r)}},{key:"conjunctionOptions",value:function(){var e=this.props.conjunctionOptions;return e}},{key:"renderConjs",value:function(){var e=this.props,t=e.config,r=e.children1,n=e.id,o=e.selectedConjunction,i=e.setConjunction,a=e.not,l=e.setNot,s=e.isLocked,u=t.settings,c=u.immutableGroupsMode;u.renderConjs,u.showNot;var d=u.notLabel,p=this.conjunctionOptions();if(!this.showConjs())return null;if(!r||!r.size)return null;var f={disabled:this.isOneChild(),readonly:c||s,selectedConjunction:o,setConjunction:c?eK:i,conjunctionOptions:p,config:t,not:a||!1,id:n,setNot:c?eK:l,notLabel:d,showNot:this.showNot(),isLocked:s},h=this.Conjs;return R.createElement(h,w({key:"group-conjs"},f))}},{key:"renderHeader",value:function(){return R.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return R.createElement(R.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(v.Component);vY.propTypes={reordableNodesCnt:Ct.number,conjunctionOptions:Ct.object.isRequired,allowFurtherNesting:Ct.bool.isRequired,isRoot:Ct.bool.isRequired,not:Ct.bool,selectedConjunction:Ct.string,config:Ct.object.isRequired,id:Ct.string.isRequired,groupId:Ct.string,path:Ct.any,children1:Ct.any,isDraggingMe:Ct.bool,isDraggingTempo:Ct.bool,isLocked:Ct.bool,isTrueLocked:Ct.bool,handleDraggerMouseDown:Ct.func,onDragStart:Ct.func,addRule:Ct.func.isRequired,addGroup:Ct.func.isRequired,removeSelf:Ct.func.isRequired,setConjunction:Ct.func.isRequired,setNot:Ct.func.isRequired,setLock:Ct.func.isRequired,actions:Ct.object.isRequired};const mY=aY(DW("group")(rK(vY)),"group");function yY(){return yY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yY.apply(null,arguments)}function bY(e,t,r){return t=G(t),Y(e,_Y()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function _Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_Y=function(){return!!e})()}var xY=function(e){function t(){return K(this,t),bY(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&R.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,hideLabel:!0,config:t}),E=!d&&n&&!l&&R.createElement(O,{type:"addRuleGroup",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&R.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions"},R.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function wY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function OY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SY(e,t,r){return t=G(t),Y(e,kY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function kY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kY=function(){return!!e})()}var jY=function(e){function t(e){var r;return K(this,t),(r=SY(this,t,[e])).childrenClassName=function(){return"rule_group--children"},r.renderHeaderWrapper=function(){return null},r.renderFooterWrapper=function(){return null},r.renderConjs=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!1},r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){yY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"renderChildrenWrapper",value:function(){return R.createElement(R.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),yY(G(t.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFuncValue,l=e.setFieldSrc,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return R.createElement(LG,{key:"field",classname:"group--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:a,setFieldSrc:l,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return R.createElement(xY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(vY);jY.propTypes=OY(OY({},vY.propTypes),{},{selectedField:Ct.any,selectedFieldSrc:Ct.string,parentField:Ct.string,setField:Ct.func,setFieldSrc:Ct.func});const EY=aY(DW("group rule_group")(rK(jY)),"rule_group");function CY(e,t,r){return t=G(t),Y(e,TY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function TY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TY=function(){return!!e})()}var qY=function(e){function t(){return K(this,t),CY(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addSubRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&R.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,config:t}),E=!d&&n&&!l&&R.createElement(O,{type:"addRuleGroupExt",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&R.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions group--actions--tr"},R.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function IY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LY(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return PY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PY(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function PY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NY(e,t,r){return t=G(t),Y(e,FY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function FY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FY=function(){return!!e})()}var RY=W$.ConfigUtils,MY=RY.getFieldConfig,DY=RY.getFieldWidgetConfig,VY=W$.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,zY=function(e){function t(e){var r;return K(this,t),(r=NY(this,t,[e])).childrenClassName=function(){return"rule_group_ext--children"},r.renderFooterWrapper=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!0},r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){yY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:tn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return R.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings,o=n.renderRuleError,i=n.showErrorMessage,a=sj((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return i&&a&&R.createElement("div",{className:"rule_group--error"},o?o({error:a},t.ctx):a)}},{key:"showNot",value:function(){var e=this.props,t=e.config,r=e.selectedField;e.selectedOperator;var n=MY(t,r)||{};return null!=n.showNot?n.showNot:t.settings.showNot}},{key:"conjunctionOptions",value:function(){var e=this.props,r=e.config,n=e.selectedField;e.selectedOperator;var o=MY(r,n)||{},i=yY(G(t.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var a,l={},s=LY(o.conjunctions);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=i[u];c&&(l[u]=c)}}catch(d){s.e(d)}finally{s.f()}i=l}return i}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFieldSrc,l=e.setFuncValue,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return R.createElement(LG,{key:"field",classname:"rule--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:l,setFieldSrc:a,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedOperator;e.setField;var i=e.setOperator,a=e.isLocked,l=t.settings.immutableFieldsMode,s=DY(t,r,o)||{},u=s.hideOperator,c=r&&u&&s.operatorInlineLabel,d=r&&!u;return R.createElement(lK,{key:"operator",classname:"group--operator",config:t,selectedField:r,selectedFieldSrc:n,selectedOperator:o,setOperator:i,showOperator:d,showOperatorLabel:c,selectedFieldWidgetConfig:s,readonly:l||a,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config,n=this._buildWidgetProps(this.props);return VY(n,t,r)}},{key:"_buildWidgetProps",value:function(e){var t=e.selectedField,r=e.selectedFieldSrc,n=e.selectedFieldType,o=e.selectedOperator,i=e.operatorOptions,a=e.value,l=e.valueType;e.valueSrc,e.asyncListValues;var s=e.valueError;return e.fieldError,{field:t,fieldSrc:r,fieldType:n,operator:o,operatorOptions:i,value:a,valueType:l,valueSrc:["value"],valueError:s,fieldError:null,parentField:e.parentField}}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedOperator,o=e.isLocked,i=t.settings.immutableValuesMode;if(!(r&&n))return null;var a=R.createElement(SG,w({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:t,setValue:i?eK:this.props.setValue,setValueSrc:eK,readonly:i||o,id:this.props.id,groupId:this.props.groupId}));return R.createElement(ZW,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},a)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return R.createElement(qY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(vY);zY.propTypes=AY(AY({},vY.propTypes),{},{selectedField:Ct.any,selectedFieldSrc:Ct.string,selectedOperator:Ct.string,value:Ct.any,parentField:Ct.string,setField:Ct.func,setFieldSrc:Ct.func,setOperator:Ct.func,setValue:Ct.func,valueError:Ct.any});const BY=aY(DW("group rule_group_ext")(rK(zY)),"rule_group");function HY(e,t,r){return t=G(t),Y(e,UY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function UY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UY=function(){return!!e})()}var $Y={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},WY=function(e){function t(){return K(this,t),HY(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.setLock,i=e.isLocked,a=e.isTrueLocked,l=e.id,s=e.canAddGroup,u=e.canAddDefault,c=t.settings,d=c.immutableGroupsMode,p=c.addCaseLabel,f=c.addDefaultCaseLabel,h=c.groupActionsPosition,g=c.renderButton,v=c.renderIcon,m=c.renderSwitch,y=c.renderButtonGroup,b=c.lockLabel,_=c.lockedLabel,x=c.showLock,w=function(e){return v(e,t.ctx)},O=function(e){return g(e,t.ctx)},S=function(e){return m(e,t.ctx)},k=function(e){return y(e,t.ctx)},j=$Y[h||"topRight"],E=x&&!(i&&!a)&&R.createElement(S,{type:"lock",id:l,value:i,setValue:o,label:b,checkedLabel:_,config:t}),C=!d&&s&&!i&&R.createElement(O,{type:"addCaseGroup",onClick:r,label:p,readonly:i,config:t,renderIcon:w}),T=!d&&u&&!i&&R.createElement(O,{type:"addDefaultCaseGroup",onClick:n,label:f,readonly:i,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions ".concat(j)},R.createElement(k,{config:t},E,C,T))}}])}(v.PureComponent);function KY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GY(e,t,r){return t=G(t),Y(e,YY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function YY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YY=function(){return!!e})()}var JY=W$.TreeUtils,QY=JY.getTotalReordableNodesCountInTree,XY=JY.getTotalRulesCountInTree,ZY=function(e){function t(e){var r;return K(this,t),(r=GY(this,t,[e])).childrenClassName=function(){return"switch_group--children"},r.renderFooterWrapper=function(){return null},r.hasDefaultCase=function(){var e;return(null===(e=r.props.children1)||void 0===e?void 0:e.size)&&r.props.children1.filter((function(e){return null==e.get("children1")})).size>0},r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){yY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"canAddGroup",value:function(){var e,t=this.props.config.settings.maxNumberOfCases,r=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return!t||r<t}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var e,t=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return this.hasDefaultCase()&&t--,t}},{key:"totalRulesCntForItem",value:function(e){return XY(e)}},{key:"reordableNodesCntForItem",value:function(e){var t;if(this.props.isLocked)return 0;var r=this.props.config.settings,n=r.canLeaveEmptyCase,o=r.canRegroupCases,i=(null===(t=this.props.children1)||void 0===t?void 0:t.size)||0;this.hasDefaultCase()&&i--;var a=QY(e);return 1==a&&o&&n&&i>1&&(a=111),a}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:tn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){return this.props.config.settings.renderSwitchPrefix||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(WY,{config:t,addCaseGroup:r,addDefaultCaseGroup:n,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}}])}(vY);ZY.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},vY.propTypes);const eJ=aY(DW("group switch_group")(rK(ZY)),"switch_group");function tJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nJ(e,t,r){return t=G(t),Y(e,oJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function oJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oJ=function(){return!!e})()}var iJ=function(e){function t(e){var r;return K(this,t),(r=nJ(this,t,[e])).childrenClassName=function(){return"case_group--children"},r.renderFooterWrapper=function(){return null},r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var r=this.props,n=!this.renderBeforeCaseValue||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if(yY(G(t.prototype),"onPropsChanged",this).call(this,e),n){var o=e.config,i=o.settings,a=i.renderBeforeCaseValue,l=i.renderAfterCaseValue,s=i.renderRuleError;this.BeforeCaseValue=oK(o,a),this.AfterCaseValue=oK(o,l),this.RuleError=oK(o,s)}}},{key:"isDefaultCase",value:function(){return null==this.props.children1}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return!this.isDefaultCase()&&yY(G(t.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:tn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:R.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){return this.isDefaultCase()?this.props.config.settings.defaultCaseLabel||"":R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:yY(G(t.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?R.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return!this.isDefaultCase()&&yY(G(t.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return!this.isDefaultCase()&&yY(G(t.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var e=this.BeforeCaseValue;return null==e?null:R.createElement(e,w({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var e=this.AfterCaseValue;return null==e?null:R.createElement(e,w({key:"values-after"},this.props))}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings.showErrorMessage,o=this.RuleError,i=sj((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return n&&i&&R.createElement("div",{className:"rule--error"},o?R.createElement(o,{error:i}):i)}},{key:"renderValue",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.value,o=e.valueSrc,i=e.valueError,a=e.setValue,l=e.setValueSrc,s=e.setFuncValue,u=e.id,c=t.settings.immutableValuesMode,d=R.createElement(SG,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:n,valueSrc:null!=o?o:"value",valueError:i,fieldError:null,config:t,setValue:c?eK:a,setValueSrc:c?eK:l,setFuncValue:c?eK:s,readonly:c||r,id:u,groupId:null});return R.createElement(ZW,{className:"case_group--value"},d)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addGroup,n=e.addRule,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(cY,{config:t,addGroup:r,addRule:n,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props.value,r=e&&e.size?e.get(0):null,n=null!=r&&(!Array.isArray(r)||r.length>0);return yY(G(t.prototype),"isEmptyCurrentGroup",this).call(this)&&!n}}])}(vY);iJ.propTypes=rJ(rJ({},vY.propTypes),{},{parentReordableNodesCnt:Ct.number,value:Ct.any,setValue:Ct.func});const aJ=aY(DW("group case_group")(rK(iJ)),"case_group");var lJ=["type"];function sJ(e,t,r){return t=G(t),Y(e,uJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function uJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uJ=function(){return!!e})()}function cJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pJ=function(e){var t,r=(null===(t=e.properties)||void 0===t?void 0:t.toObject())||{},n=dJ({},r);return e.isParentLocked&&(n.isLocked=!0),r.isLocked&&(n.isTrueLocked=!0),n},fJ={rule:function(e){return R.createElement(JG,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return R.createElement(mY,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return R.createElement(EY,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return R.createElement(BY,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return R.createElement(eJ,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return R.createElement(aJ,w({},pJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},hJ=function(e){function t(){return K(this,t),sJ(this,t,arguments)}return $(t,e),W(t,[{key:"render",value:function(){var e,t=this.props,r=t.type,n=bn(t,lJ),o="array"==(null===(e=n.properties)||void 0===e?void 0:e.get("mode"))?"_ext":"",i=n.config.settings.renderItem,a=fJ[r+o];return i?i(dJ(dJ({},n),{},{type:r,itemComponent:a}),n.config.ctx):a?a(n):null}}])}(v.PureComponent);function gJ(e,t,r){return t=G(t),Y(e,vJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function vJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vJ=function(){return!!e})()}hJ.propTypes={config:Ct.object.isRequired,id:Ct.string.isRequired,groupId:Ct.string,type:Ct.oneOf(["rule","group","rule_group","switch_group","case_group"]).isRequired,path:Ct.any.isRequired,properties:Ct.any,children1:Ct.any,actions:Ct.object.isRequired,reordableNodesCnt:Ct.number,onDragStart:Ct.func,parentField:Ct.string,isDraggingTempo:Ct.bool,isParentLocked:Ct.bool};var mJ=W$.TreeUtils,yJ=mJ.getTotalReordableNodesCountInTree,bJ=mJ.getTotalRulesCountInTree,_J=W$.DefaultUtils,xJ=_J.createListWithOneElement,wJ=_J.emptyProperties,OJ=function(e){function t(e){var r;return K(this,t),(r=gJ(this,t,[e])).pureShouldComponentUpdate=fW(r),r._updPath(e),r}return $(t,e),W(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.pureShouldComponentUpdate(e,t)}},{key:"_updPath",value:function(e){var t=e.tree.get("id");this.path=xJ(t)}},{key:"render",value:function(){var e=this.props,t=e.tree,r=e.config,n=e.actions,o=e.onDragStart,i=t.get("type"),a="switch_group"==i,l=a?null:yJ(t),s=a?null:bJ(t),u=t.get("id");return R.createElement(hJ,{key:u,id:u,path:this.path,type:i,properties:t.get("properties")||wJ(),config:r,actions:n,children1:t.get("children1")||wJ(),reordableNodesCnt:l,totalRulesCnt:s,parentReordableNodesCnt:0,onDragStart:o})}}])}(v.Component);OJ.propTypes={tree:Ct.any.isRequired,config:Ct.object.isRequired,actions:Ct.object.isRequired,onDragStart:Ct.func};const SJ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Tt((function(e){return{dragging:e.dragging,dragStart:e.dragStart,mousePos:e.mousePos}}),{setDragStart:Z$,setDragProgress:X$,setDragEnd:eW},null,{context:K$})(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=function(t){function n(e){var t;return K(this,n),(t=IW(this,n,[e]))._getEventTarget=function(e,t){return e&&e.__mocked_window||document.body||window},t.onDragStart=function(e,r,n){var o=r.closest(".query-builder");void 0===t._isUsingLegacyReactDomRender&&(t._isUsingLegacyReactDomRender=dW(o)),document.body.classList.add("qb-dragging"),o.classList.add("qb-dragging");var i=o.closest(".query-builder-container")||o,a=(i=t._getScrollParent(i)||document.body).scrollTop;t._getDraggableNodeEl(o),t._getPlaceholderNodeEl(o);var l,s=o.querySelectorAll(".group--children"),u=s.length?s[0]:null;u&&(l=window.getComputedStyle(u,null).getPropertyValue("padding-left"),l=parseInt(l));var c={id:e,x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight,itemInfo:t.tree.items[e],paddingLeft:l},d={id:e,x:r.offsetLeft,y:r.offsetTop,scrollTop:a,clientX:n.clientX,clientY:n.clientY,itemInfo:LW(t.tree.items[e]),treeEl:o,treeElContainer:i},p={clientX:n.clientX,clientY:n.clientY},f=t._getEventTarget(n,d);t.eventTarget=f,f.addEventListener("mousemove",t.onDrag),f.addEventListener("mouseup",t.onDragEnd),t.props.setDragStart(d,c,p)},t.onDrag=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Object.assign({},t.props.dragging),i=t.props.dragStart,a=o.paddingLeft,l=i.treeElContainer.scrollTop;if(o.itemInfo=t.tree.items[o.id],o.itemInfo){var s={clientX:e.clientX,clientY:e.clientY},u={clientX:i.clientX,clientY:i.clientY};if(e.__mock_dom){var c=i.treeEl,d=t._getDraggableNodeEl(c),p=t._getPlaceholderNodeEl(c);e.__mock_dom({treeEl:c,dragEl:d,plhEl:p})}if(!i.plX){var f=i.treeEl,h=t._getPlaceholderNodeEl(f);h&&(i.plX=h.getBoundingClientRect().left+window.scrollX,i.plY=h.getBoundingClientRect().top+window.scrollY)}var g=i.x,v=i.y,m=i.clientX,y=i.clientY,b=i.scrollTop,_={x:g+(e.clientX-m),y:v+(e.clientY-y)+(l-b)};o.x=_.x,o.y=_.y,o.paddingLeft=a,o.mousePos=s,o.startMousePos=u,t.props.setDragProgress(s,o),n&&t.handleDrag(o,e,r)||e.preventDefault&&e.preventDefault()}},t.onDragEnd=function(){var e=t.props.dragStart.treeEl;t.props.setDragEnd(),e.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),t._cacheEls={};var r=t.eventTarget||t._getEventTarget();r.removeEventListener("mousemove",t.onDrag),r.removeEventListener("mouseup",t.onDragEnd)},t.pureShouldComponentUpdate=fW(t),hW(t),t.onPropsChanged(e),t}return $(n,t),W(n,[{key:"onPropsChanged",value:function(e){this.tree=PW(e.tree)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=[];for(var a in e)e[a]!=r[a]&&"dragging"!=a&&"mousePos"!=a&&i.push(a);i.length||(o=!1)}return o}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.dragging,n=this.props.dragStart;if(NW=!1,n&&n.id&&(r.itemInfo=this.tree.items[r.id],r.itemInfo&&(r.itemInfo.index!=n.itemInfo.index||r.itemInfo.parent!=n.itemInfo.parent))){var o=n.treeEl,i=n.treeElContainer,a=this._getPlaceholderNodeEl(o,!0);if(a){var l=a.getBoundingClientRect().left+window.scrollX,s=a.getBoundingClientRect().top+window.scrollY,u=n.plX,c=n.plY,d=i.scrollTop;n.plX=l,n.plY=s,n.itemInfo=LW(r.itemInfo),n.y=a.offsetTop,n.x=a.offsetLeft,n.clientY+=s-c,n.clientX+=l-u,i!=document.body&&(n.scrollTop=d),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return null;this._cacheEls||(this._cacheEls={});var n=this._cacheEls[t];return n&&document.contains(n)&&!r||(n=e.querySelector('.group-or-rule-container[data-id="'+t+'"]'),this._cacheEls[t]=n),n}},{key:"_getDraggableNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.draggable;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-draggable");return r=n.length?n[0]:null,this._cacheEls.draggable=r,r}},{key:"_getPlaceholderNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.placeholder;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-placeholder");return r=n.length?n[0]:null,this._cacheEls.placeholder=r,r}},{key:"_isScrollable",value:function(e){var t=window.getComputedStyle(e)["overflow-y"];return("scroll"===t||"auto"===t)&&e.scrollHeight>e.offsetHeight}},{key:"_getScrollParent",value:function(e){return null==e?null:e===document.body||this._isScrollable(e)?e:this._getScrollParent(e.parentNode)}},{key:"handleDrag",value:function(e,t,r){var n,o,i,a,l=this,s=e.itemInfo,u=e.paddingLeft,c=null,d=this.props.dragStart.treeEl,p=e.id,f=this._getDraggableNodeEl(d),h=this._getPlaceholderNodeEl(d);if(f&&h){if(n=f.getBoundingClientRect(),!(o=h.getBoundingClientRect()).width)return;var g={hrz:0,vrt:0};n.top<o.top?g.vrt=-1:n.bottom>o.bottom&&(g.vrt=1),n.left>o.left?g.hrz=1:n.left<o.left&&(g.hrz=-1);var v,m={x:(a=d.getBoundingClientRect()).left+(a.right-a.left)/2,y:g.vrt>=0?n.bottom:n.top};if(t.__mocked_hov_container)v=t.__mocked_hov_container;else{var y=document.elementFromPoint(m.x,m.y-1);if(!(v=y?y.closest(".group-or-rule-container"):null)&&y&&y.classList.contains("query-builder-container")){var b,_=null==y||null===(b=y.firstChild)||void 0===b?void 0:b.firstChild;_&&_.classList.contains("group-or-rule-container")&&(v=_)}}if(v){var x=v.classList.contains("group-container"),w=v.getAttribute("data-id"),O=v,S=!1,k=!1;if(O){var j=(i=O.getBoundingClientRect()).bottom-i.top,E=this.tree.items[w];if(!E)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var C=null,T=null,q=null,I=null;if(0==g.vrt)q=s,(T=h)&&(C=T.getBoundingClientRect());else if(x){if(g.vrt>0){var A=v.getElementsByClassName("group--header"),L=A.length?A[0]:null;if(L){var P=L.getBoundingClientRect(),N=P.bottom-P.top;n.bottom-P.top>3*N/4&&E.top>e.itemInfo.top&&(q=E,C=P,T=L,k=!0)}}else g.vrt<0&&E.lev>=s.lev&&i.bottom-n.top>=2&&E.top<e.itemInfo.top&&(q=E,C=i,T=O,S=!0);(g.vrt<0?i.bottom-n.top>j-5:n.bottom-i.top>j-5)&&(k||S||(q=E,C=i,T=O),I=E)}else(g.vrt<0?i.bottom-n.top>j/2:n.bottom-i.top>j/2)&&(q=E,C=i,T=O);var F=q&&q.id==p;if(C){var R=n.left-a.left;C.left,a.left;var M=Math.max(0,Math.round(R/u)),D=[],V=[];if(F);else{if(x&&(S?D.push([J$,q,q.lev+1]):k&&D.push([Q$,q,q.lev+1]),I)){var z=0==I.lev,B="case_group"==I.type&&"case_group"!=s.type,H=I.prev&&this.tree.items[I.prev].caseId,U=I.next&&this.tree.items[I.next].caseId;s.caseId==H&&(H=null),s.caseId==U&&(U=null);var $=H&&this.tree.items[H],W=U&&this.tree.items[U];g.vrt>0?z?V.push([J$,I,I.lev+1]):B&&W?V.push([Q$,W,W.lev+1]):V.push([G$,I,I.lev]):g.vrt<0&&(z?V.push([Q$,I,I.lev+1]):B&&$?V.push([J$,$,$.lev+1]):V.push([Y$,I,I.lev]))}S||k||(g.vrt<0?D.push([Y$,q,q.lev]):g.vrt>0&&D.push([G$,q,q.lev]))}var K=function(e){var t=e[1],r=s.caseId?l.tree.items[s.caseId]:null,n=t.caseId?l.tree.items[t.caseId]:null;return[].concat(sj(e),[r,n])};D=D.map(K),V=V.map(K);var G=null,Y=(D=D.filter((function(e){var t=e[0],r=e[1];if((t==Y$||t==G$)&&null==r.parent)return!1;if(r.collapsed&&(t==J$||t==Q$))return!1;var n=r.id==s.id;if(!n)for(var o=r;o.parent;)if((o=l.tree.items[o.parent]).id==s.id){n=!0;break}return!n})).map((function(e){var t=e[0],r=e[1];e[2],e[3],e[4];var n=null;return(n=t==J$||t==Q$?r:l.tree.items[r.parent])&&null==n.parent&&(n=null),e[5]=n,e}))).filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)}));0==Y.length&&V.length>0&&(Y=V.filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)})));var J=Y.map((function(e){return e[2]})),Q=s.lev,X=J.concat(Q),Z=null;-1!=X.indexOf(M)?Z=M:M>Math.max.apply(Math,sj(X))?Z=Math.max.apply(Math,sj(X)):M<Math.min.apply(Math,sj(X))&&(Z=Math.min.apply(Math,sj(X))),G=Y.find((function(e){return e[2]==Z})),F||G||!Y.length||(G=Y[0]),c=G}}}else sW.log("out of tree bounds!")}return!!c&&(this.move(s,c[1],c[0],c[3]),!0)}},{key:"canMove",value:function(e,t,r,n,o,i,a){if(!e||!t)return!1;if(e.id===t.id)return!1;var l=this.props.config.settings,s=l.canRegroup,u=l.canRegroupCases,c=l.maxNesting,d=l.maxNumberOfRules,p=l.canLeaveEmptyCase,f=(i?i.lev+1:t.lev)+(e.depth||0),h=r==Y$||r==G$,g=r==Q$||r==J$,v=h&&1==t.lev||g&&0==t.lev,m=e.parent!=t.parent,y=g||m,b="case_group"==e.type&&!v||"rule_group"==e.parentType||"rule_group"==t.type||"rule_group"==t.parentType||"case_group"!=e.type&&"case_group"==t.type&&h||"case_group"!=e.type&&"switch_group"==t.type||!u&&e.caseId!=t.caseId,_=t.isLocked||e.isLocked||i&&i.isLocked;if(c&&f>c)return!1;if(y&&(!s||b||_))return!1;if("case_group"!=e.type&&e.caseId!=t.caseId){var x=!!n&&2==n._height,w=o?o.atomicRulesCountInCase+1:0;if(d&&w>d)return!1;if(x&&!p)return!1}if("case_group"==e.type&&(e.isDefaultCase||t.isDefaultCase||"switch_group"==t.type&&r==J$))return!1;var O=!0;return a&&(O=a(e.node.toJS(),t.node.toJS(),r,i?i.node.toJS():null)),O}},{key:"move",value:function(e,t,r,n){this._isUsingLegacyReactDomRender||(NW=!0),this.props.actions.moveItem(e.path,t.path,r)}},{key:"render",value:function(){return R.createElement(e,w({},this.props,{onDragStart:this.onDragStart}))}}])}(v.Component),t.propTypes={tree:Ct.any.isRequired,actions:Ct.object.isRequired},t}(e,t));return r.displayName="ConnectedSortableContainer",r}(OJ);function kJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jJ(e,t,r){return t=G(t),Y(e,EJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function EJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(EJ=function(){return!!e})()}var CJ=W$.clone,TJ=W$.ConfigUtils,qJ=TJ.getFieldConfig,IJ=TJ.getFieldParts,AJ=TJ.getFieldPathParts,LJ=W$.RuleUtils,PJ=LJ.getFieldPathLabels,NJ=LJ.getWidgetForFieldOp,FJ=function(e){function t(e){var r;return K(this,t),r=jJ(this,t,[e]),hW(r),r.onPropsChanged(e),r}return $(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0,n=!this.meta||["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.items=this.getItems(e)),n&&(this.meta=this.getMeta(e))}},{key:"getItems",value:function(e){var t=e.config,r=e.field,n=e.fieldType,o=e.operator,i=e.parentField,a=e.isFuncArg,l=e.fieldDefinition,s=t.settings.canCompareFieldWithField,u=IJ(i,t),c=i?qJ(t,i):null,d=i?null==c?void 0:c.subfields:t.fields,p=this.filterFields(t,d,r,i,u,o,s,a,l,n);return this.buildOptions(u,t,p,u)}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.field;e.fieldType,e.operator;var o=e.value,i=e.placeholder,a=e.isFuncArg,l=e.parentField,s=r.settings,u=s.fieldPlaceholder,c=s.fieldSeparatorDisplay,d=o,p=!!o,f=n?qJ(r,n):{},h=null==f||null===(t=f.widgets)||void 0===t?void 0:t.field,g=(null==h?void 0:h.widgetProps)||{},v=p?null:a&&i||g.valuePlaceholder||u,m=p?qJ(r,d):null,y=m||{},b=AJ(d,r),_=AJ(d,r,!0),x=this.getFieldLabel(m,d,r),w=PJ(d,r),O=w?w.join(c):null;return(O==x||l)&&(O=null),{placeholder:v,selectedKey:d,selectedKeys:b,selectedPath:_,selectedLabel:x,selectedOpts:y,selectedAltLabel:y.label2||y.tooltip,selectedFullLabel:O}}},{key:"filterFields",value:function(e,t,r,n,o,i,a,l,s,u){t=CJ(t);var c,d=e.settings.fieldSeparator,p=qJ(e,r),f=NJ(e,r,i,"value");return e.widgets[f],c=l?null==s?void 0:s.type:p?p.type:u,function t(n,o){for(var s in n){var u=n[s].subfields,f=(o||[]).concat(s),h=f.join(d),g=qJ(e,h);if(g)if("!struct"==g.type||"!group"==g.type)0==t(u,f)&&delete n[s];else{var v=!(c&&g.type!=c||!l&&h==r),m=a||e.settings.canCompareFieldWithField;m&&(v=v&&m(r,p,h,g,i)),v||delete n[s]}else delete n[s]}return Pu(n).length}(t,o||[]),t}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)return null;var a=t.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"";return Pu(r).map((function(a){var l=[].concat(sj(null!=o?o:[]),[a]),c=r[a],d=n.getFieldLabel(c,l,t),p=PJ(l,t).join(s);(p==d||e)&&(p=null);var f=c.label2,h=c.tooltip;if(!c.hideForCompare)return"!struct"==c.type||"!group"==c.type?{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,items:n.buildOptions(e,t,c.subfields,l,{label:d,tooltip:h})}:{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i}})).filter((function(e){return!!e}))}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=IJ(t,r),i=(null==e?void 0:e.label)||JA(o);return i=iW(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isValueField:!0,config:t,customProps:r,setField:n,readonly:o,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);FJ.propTypes={id:Ct.string,groupId:Ct.string,setValue:Ct.func.isRequired,config:Ct.object.isRequired,field:Ct.any,fieldSrc:Ct.string,fieldType:Ct.string,value:Ct.string,operator:Ct.string,customProps:Ct.object,readonly:Ct.bool,parentField:Ct.string,fieldDefinition:Ct.object,isFuncArg:Ct.bool};W$.moment;var RJ=W$.moment;var MJ=W$.ListUtils.mapListValues;var DJ=W$.ListUtils.mapListValues;var VJ={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const zJ=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:TG,ValueFieldWidget:FJ,VanillaBooleanWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.labelYes,o=e.labelNo,i=e.readonly;e.widgetId;var a=e.customProps,l=void 0===a?{}:a,s=l.radioYes||{},u=l.radioNo||{},c=function(e){return r("true"==e.target.value)};return R.createElement(R.Fragment,null,R.createElement("input",w({type:"radio",value:!0,checked:!!t,disabled:i,onChange:c},s))," ",n,R.createElement("input",w({type:"radio",value:!1,checked:!t,disabled:i,onChange:c},u))," ",o)},VanillaButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=r||VJ[t];return R.createElement("button",{onClick:n,type:"button",disabled:o},i)},VanillaButtonGroup:function(e){var t=e.children;return e.config,R.createElement(R.Fragment,null,t)},VanillaConjs:function(e){var t,r=e.id,n=e.not,o=e.setNot,i=e.conjunctionOptions,a=e.setConjunction,l=e.disabled,s=e.readonly,u=e.config,c=e.showNot,d=e.notLabel,p=Object.keys(i).length,f=l,h=u.settings.forceShowConj||p>1&&!f,g=function(e){return a(e.target.value)},v=function(e){return o(e.target.checked)};return[c&&(t="not",[R.createElement("input",{key:r+t,type:"checkbox",id:r+t,checked:n,disabled:s,onChange:v}),R.createElement("label",{key:r+t+"label",htmlFor:r+t},d||"NOT")]),h&&Object.keys(i).map((function(e){var t=i[e],r=t.id,n=t.name,o=t.label,u=t.checked,c=a.isDummyFn?"__dummy":"";return!s&&!l||u?[R.createElement("input",{key:r+c,type:"radio",id:r+c,name:n+c,checked:u,disabled:s||l,value:e,onChange:g}),R.createElement("label",{key:r+c+"label",htmlFor:r+c},o)]:null}))]},VanillaDateTimeWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.valueFormat;e.use12Hours;var o=e.readonly,i=e.customProps,a=t;return a=t?RJ(t).format("YYYY-MM-DDTHH:mm"):"",R.createElement("input",w({type:"datetime-local",value:a,disabled:o,onChange:function(e){var t=e.target.value;t=""==t?void 0:RJ(new Date(t)).format(n),r(t)}},i))},VanillaDateWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat;var n=e.readonly,o=e.customProps;return R.createElement("input",w({type:"date",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.errorText,a=null!=n;return R.createElement("select",{onChange:function(e){return r(e.target.value)},value:a?n:"",disabled:o,style:{color:i?"red":null}},!a&&R.createElement("option",{disabled:!0,value:""}),function e(t){return t.map((function(t){var r=t.items,n=t.path,o=t.label,i=t.disabled,a=t.matchesType;if(r)return R.createElement("optgroup",{disabled:i,key:n,label:o},e(r));var l=a?{fontWeight:"bold"}:{};return R.createElement("option",{disabled:i,key:n,value:n,style:l},o)}))}(t))},VanillaIcon:function(e){var t=e.type,r={}[t]||null;return r||"drag"!==t||(r=R.createElement(tK,null)),r},VanillaMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps;return R.createElement("select",w({multiple:!0,onChange:function(e){return n(function(e){for(var t=[],r=e.options,n=0;n<r.length;n++){var o=r[n];o.selected&&t.push(o.value)}return t.length||(t=void 0),t}(e.target))},value:r,disabled:o},vN(i,["showSearch","input","showCheckboxes"])),MJ(t,(function(e){var t=e.title,r=e.value;return R.createElement("option",{key:r,value:r},t)})))},VanillaNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t;return R.createElement("input",w({type:"number",value:u,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s))},VanillaProvider:function(e){return e.config,e.children},VanillaSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps,a=null!=r;return R.createElement("select",w({onChange:function(e){return n(e.target.value)},value:a?r:"",disabled:o},vN(i,["showSearch","input"])),!a&&R.createElement("option",{disabled:!0,value:""}),DJ(t,(function(e){var t=e.title,r=e.value;return R.createElement("option",{key:r,value:r},t)})))},VanillaSliderWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=void 0===s?{}:s,c=u.input||{},d=u.slider||u,p=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},f=null==t?"":t;return R.createElement("div",{style:{display:"inline-flex"}},R.createElement("input",w({key:"number",type:"number",value:f,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:p},c)),R.createElement("input",w({key:"range",type:"range",value:f,disabled:n,min:o,max:i,step:a,onChange:p},d)))},VanillaSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.id;e.config;var i=e.type;return[R.createElement("input",{key:o+i,type:"checkbox",id:o+i,checked:!!t,onChange:function(e){return r(e.target.checked)}}),R.createElement("label",{key:o+i+"label",htmlFor:o+i},n)]},VanillaTextAreaWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength;e.maxRows;var a=e.fullWidth,l=e.customProps,s=t||"";return R.createElement("textarea",w({value:s,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i,style:{width:a?"100%":void 0}},l))},VanillaTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength,a=e.customProps,l=t||"";return R.createElement("input",w({type:"text",value:l,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i},a))},VanillaTimeWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat,e.use12Hours;var n=e.readonly,o=e.customProps;return R.createElement("input",w({type:"time",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc;e.title;var n=e.setValueSrc,o=e.readonly;return R.createElement("select",{onChange:function(e){return n(e.target.value)},value:r||"",disabled:o},function(e){return e.map((function(e){var t=Et(e,2),r=t[0],n=t[1];return R.createElement("option",{key:r,value:r},n.label)}))}(t))},vanillaConfirm:function(e){var t=e.onOk;e.okText,e.cancelText;var r=e.title;confirm(r)&&t()}},Symbol.toStringTag,{value:"Module"}));function BJ(e,t,r){return t=G(t),Y(e,HJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function HJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HJ=function(){return!!e})()}var UJ=function(e){function t(){var e;K(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=BJ(this,t,[].concat(n))).handleChange=function(t){e.props.setOption("proximity",parseInt(t))},e}return $(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.defaults,r=e.options,n=e.config,o=e.optionLabel,i=e.optionPlaceholder,a=e.customProps,l=e.minProximity,s=e.maxProximity,u=e.optionTextBefore,c=e.readonly,d=n.settings,p=n.widgets,f=n.ctx,h=t?t.proximity:void 0,g=d.showLabels,v=r.get("proximity",h),m=ZK(l,s+1).map((function(e){return{title:e,value:e}})),y=p.select.factory,b=function(e){return y(e,f)};return R.createElement("div",{className:"operator--PROXIMITY"},R.createElement("div",{className:"operator--options"},g&&R.createElement("label",{className:"rule--label"},o),!g&&u&&R.createElement("div",{className:"operator--options--sep"},R.createElement("span",null,u)),R.createElement(b,w({config:n,value:v,listValues:m,setValue:this.handleChange,readonly:c,placeholder:i},a))),R.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(v.PureComponent);UJ.propTypes={config:Ct.object.isRequired,setOption:Ct.func.isRequired,options:Ct.any.isRequired,minProximity:Ct.number,maxProximity:Ct.number,optionPlaceholder:Ct.string,optionTextBefore:Ct.string,optionLabel:Ct.string,customProps:Ct.object,readonly:Ct.bool},UJ.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const $J=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:UJ},Symbol.toStringTag,{value:"Module"}));function WJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var GJ={conjunctions:KJ({},bU.conjunctions),operators:KJ(KJ({},bU.operators),{},{proximity:KJ(KJ({},bU.operators.proximity),{},{options:KJ(KJ({},bU.operators.proximity.options),{},{factory:function(e,t){return(0,t.RCE)(t.O.ProximityOperator,e)}})})}),widgets:{text:KJ(KJ({},bU.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}}),textarea:KJ(KJ({},bU.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextAreaWidget,e)}}),number:KJ(KJ({},bU.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaNumberWidget,e)}}),slider:KJ(KJ({},bU.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSliderWidget,e)}}),select:KJ(KJ({},bU.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSelectWidget,e)}}),multiselect:KJ(KJ({},bU.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaMultiSelectWidget,e)}}),date:KJ(KJ({},bU.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateWidget,e)}}),time:KJ(KJ({},bU.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTimeWidget,e)}}),datetime:KJ(KJ({},bU.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateTimeWidget,e)}}),boolean:KJ(KJ({},bU.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaBooleanWidget,e)}}),field:KJ(KJ({},bU.widgets.field),{},{factory:function(e,t){return(0,t.RCE)(t.W.ValueFieldWidget,e)},customProps:{showSearch:!0}}),func:KJ(KJ({},bU.widgets.func),{},{factory:function(e,t){return(0,t.RCE)(t.W.FuncWidget,e)},customProps:{}}),case_value:KJ(KJ({},bU.widgets.case_value),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}})},types:KJ(KJ({},bU.types),{},{select:KJ(KJ({},bU.types.select),{},{widgets:KJ(KJ({},bU.types.select.widgets),{},{select:KJ(KJ({},bU.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),settings:KJ(KJ({},bU.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.VanillaConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.VanillaSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.VanillaButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.VanillaIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.VanillaButtonGroup,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.VanillaProvider,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderConfirm:function(e,t){return(0,t.W.vanillaConfirm)(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,t){return(0,t.RCE)("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),ctx:KJ(KJ({},bU.ctx),{},{W:KJ({},zJ),O:KJ({},$J),RCE:function(e,t){return R.createElement(e,t)}})};const YJ=GJ=W$.ConfigMixins.removeMixins(GJ,["rangeslider","treeselect","treemultiselect"]);var JJ=Aa,QJ=$a,XJ=function(){return JJ.Date.now()},ZJ=$K,eQ=Math.max,tQ=Math.min;var rQ=function(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=XJ();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?tQ(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=XJ(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=ZJ(t)||0,QJ(r)&&(c=!!r.leading,i=(d="maxWait"in r)?eQ(ZJ(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(XJ())},m};const nQ=g(rQ);function oQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var aQ=W$.Autocomplete,lQ=aQ.mergeListValues,sQ=aQ.listValueToOption,uQ=aQ.optionToListValue,cQ=aQ.optionsToListValues,dQ=aQ.fixListValuesGroupOrder,pQ=W$.ListUtils,fQ=pQ.mapListValues,hQ=pQ.listValuesToArray,gQ=pQ.getListValue,vQ=pQ.makeCustomListValue,mQ=pQ.searchListValue;function yQ(e){return new Promise((function(t){setTimeout(t,e)}))}pQ.getItemInListValues;function bQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xQ=_Q(_Q({},W$),{},{ReactUtils:vW,DragIcon:tK});var wQ,OQ,SQ=xQ.moment,kQ=parseInt(null!==(wQ=null==lj||null===(OQ=lj.version)||void 0===OQ||null===(OQ=OQ.split("."))||void 0===OQ?void 0:OQ[0])&&void 0!==wQ?wQ:"0");var jQ,EQ,CQ=xQ.moment,TQ=parseInt(null!==(jQ=null==lj||null===(EQ=lj.version)||void 0===EQ||null===(EQ=EQ.split("."))||void 0===EQ?void 0:EQ[0])&&void 0!==jQ?jQ:"0");var qQ,IQ,AQ=xQ.moment,LQ=parseInt(null!==(qQ=null==lj||null===(IQ=lj.version)||void 0===IQ||null===(IQ=IQ.split("."))||void 0===IQ?void 0:IQ[0])&&void 0!==qQ?qQ:"0");var PQ=xQ.ListUtils.mapListValues;var NQ=["width"];var FQ=["width"];var RQ=xQ.ListUtils.mapListValues;var MQ={},DQ=L;Object.defineProperty(MQ,"__esModule",{value:!0});var VQ=MQ.default=void 0,zQ=DQ(ze()),BQ=j;VQ=MQ.default=(0,zQ.default)((0,BQ.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var HQ=["width"];function UQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var WQ=function(e,t){var r=e.asyncFetch,n=e.useLoadMore,o=e.useAsyncSearch,i=e.forceAsyncSearch,a=e.asyncListValues,l=e.listValues,s=e.allowCustomValues,u=e.value,c=e.setValue,d=e.placeholder,p=e.config,f=t.debounceTimeout,h=t.multiple,g=t.uif,v=t.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],y="Load more...",b="Loading more...",_=i?"Type to search":d,x=R.useState(!1),w=Et(x,2),O=w[0],S=w[1],k=R.useState(void 0),j=Et(k,2),E=j[0],C=j[1],T=R.useState(0),q=Et(T,2),I=q[0],A=q[1],L=R.useState(!1),P=Et(L,2),N=P[0],F=P[1],M=R.useState(""),D=Et(M,2),V=D[0],z=D[1],B=R.useState(void 0),H=Et(B,2),U=H[0],$=H[1],W=R.useRef(0),K=R.useRef(0),G=R.useRef(!1),Y=R.useMemo((function(){return hQ(a)}),[a]),J=R.useMemo((function(){return r?a?lQ(U,Y,!0):U:hQ(l)}),[r,a,U,l]),Q=r?U:hQ(l);s&&V&&!mQ(V,U)&&(Q=lQ(Q,[vQ(V)],!0)),!r||U||!a||V||O||"antd"!==g||(Q=J),r&&!s&&a&&"mui"===g&&(Q=lQ(Q,Y,!0,!0));var X=I>0,Z=O&&r&&void 0===U&&(!i||V),ee=Z&&X,te=!ee&&J&&J.length>0&&E&&E.hasMore&&(E.filter||"")===V,re=!X&&te,ne=fQ(Q,sQ),oe=null!=u,ie=!h&&oe?gQ(u,J):null,ae=function(){var e=UH(uI.mark((function e(){var t,o,i,a,l,s,u,c,d,f,h,g,v,m,y=arguments;return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:null,!(o=y.length>1&&void 0!==y[1]&&y[1])&&E&&C(void 0),i=o&&U?U.length:0,a=o&&E||!n&&{pageSize:0},l=++W.current,e.next=8,r.call(null==p?void 0:p.ctx,t,i,a);case 8:if(s=e.sent,!(W.current!=l)&&K.current){e.next=12;break}return e.abrupt("return",null);case 12:return u=null!=s&&s.values?s:{values:s},c=u.values,d=u.hasMore,f=u.meta,h=hQ(c),o?(v=lQ(U,h,!1),g=v.length>U.length):(v=h,n&&(g=v.length>0)),(m=null!=d||null!=f||null!=g?iQ(iQ(iQ(iQ({},null!=g?{hasMore:g}:{}),null!=d?{hasMore:d}:{}),null!=f?f:{}),{},{filter:t}):void 0)&&C(m),e.abrupt("return",v);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=UH(uI.mark((function e(){var t,r,n,o=arguments;return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]&&o[1],A((function(e){return e+1})),F(r),e.next=6,ae(t,r);case 6:if(n=e.sent,K.current){e.next=9;break}return e.abrupt("return");case 9:null!=n&&$(n),A((function(e){return e-1})),F(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=R.useCallback(nQ(le,f),[]);R.useEffect((function(){return K.current++,Z&&0==I&&0==W.current&&UH(uI.mark((function e(){return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:case"end":return e.stop()}}),e)})))(),function(){K.current--}}),[Z]);var ue=function(){S(!0)},ce=function(){var e=UH(uI.mark((function e(t){var r;return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=G.current)?(G.current=!1,h&&S(!1)):S(!1),"mui"!==g||r){e.next=6;break}return"",e.next=6,pe(null,"","my-reset");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=UH(uI.mark((function e(t,n,o){var i,a,l,d,p,f,m,y,b,_,x,w,k,j,E,C;return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h&&"mui"===g&&"clear"===o,l=!h&&"mui"===g&&"clear"===o&&"change"===(null==t?void 0:t.type),d=!h&&"mui"===g&&"clear"===o&&"change"!==(null==t?void 0:t.type),"mui"===g&&(o=n,n=h?o.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e})):null!==(p=null===(f=o)||void 0===f?void 0:f.value)&&void 0!==p?p:o),m=h&&Array.isArray(o)&&o.map((function(e){return null==e?void 0:e.specialValue})).find((function(e){return!!e}))||(null===(i=o)||void 0===i?void 0:i.specialValue),h&&n&&!Array.isArray(n)&&(n=[].concat(sj(u||[]),[n]),o=null),!(a&&0===n.length&&V&&O||l)){e.next=9;break}return e.abrupt("return");case 9:if(y=h&&n.length&&n.length>(u||[]).length&&n[n.length-1]==V&&!gQ(V,U),"LOAD_MORE"!=m){e.next=17;break}return z(V),G.current=!0,e.next=15,le(V,!0);case 15:e.next=37;break;case 17:if("LOADING_MORE"!=m){e.next=21;break}G.current=!0,e.next=37;break;case 21:if(!h){e.next=31;break}if(b=cQ(n,J,s),_=Et(b,2),x=_[0],w=_[1],c(x,r?w:void 0),!y){e.next=29;break}return e.next=27,yQ(0);case 27:return e.next=29,pe(null,"","my-reset");case 29:e.next=37;break;case 31:if(k=uQ(n,J,s),j=Et(k,2),E=j[0],C=j[1],c(E,r?C:void 0),!d||!v){e.next=37;break}return e.next=36,yQ(0);case 36:S(!1);case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),pe=function(){var e=UH(uI.mark((function e(t,r,n){var a,l;return uI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="mui"===g&&"reset"===n,(l=r)!==y&&l!==b&&!a){e.next=4;break}return e.abrupt("return");case 4:if(r==V){e.next=13;break}if(z(l),!(o&&(!i||!!l))){e.next=12;break}return e.next=10,se(l);case 10:e.next=13;break;case 12:o&&i&&$([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return{options:"mui"===g?dQ(ne):ne,listValues:J,hasValue:oe,selectedListValue:ie,open:O,onOpen:ue,onClose:ce,onDropdownVisibleChange:function(e){e?ue():ce()},onChange:de,inputValue:V,onInputChange:pe,canShowLoadMore:re,isInitialLoading:ee,isLoading:X,isLoadingMore:N,isSpecialValue:function(e){var t=(null==e?void 0:e.specialValue)||(null==e?void 0:e.value);return m.includes(t)},extendOptions:function(e){var t=sj(e);return n&&(re?t.push({specialValue:"LOAD_MORE",title:y}):N&&t.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),t},getOptionSelected:function(e,t){if(null==t)return null;var r=null!=t.value?t.value:t;return e.value===r},getOptionDisabled:function(e){return e&&e.disabled},getOptionIsCustom:function(e){var t;if(null!=e&&e.isCustom)return!0;var r=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e,n=gQ(r,J);return(null==n?void 0:n.isCustom)||!1},getOptionLabel:function(e){if(null==e)return null;var t=null!=e.value?e:sQ(gQ(e,J));return!t&&e.specialValue?e.title:!t&&s?e.toString():t?t.title||t.label||t.value.toString():e.toString()},aPlaceholder:_}},KQ=[];const GQ=function(e){var t=e.allowCustomValues,r=e.multiple,n=e.disableClearable,o=e.value,i=e.customProps,a=e.readonly,l=e.config,s=e.filterOptionsConfig,u=e.errorText,c=e.tooltipText,d=e.isFieldAutocomplete,p=v.useCallback((function(e){return l.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[l]),f=Vn(s||{stringify:p}),h=WQ(e,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:d}),g=h.open,m=h.onOpen,y=h.onClose,b=h.onChange,_=h.onInputChange,x=h.inputValue,O=h.options,S=h.isInitialLoading,k=h.isLoading,j=h.aPlaceholder,E=h.extendOptions,C=h.getOptionDisabled,T=h.getOptionIsCustom,q=h.getOptionLabel,I=h.selectedListValue,A=l.settings,L=A.defaultSelectWidth,P=(A.defaultSearchWidth,i||{}),N=P.width,F=bn(P,HQ),M=F.input||{};M.width,M=vN(M,["width"]);var D=vN(F,["showSearch","showCheckboxes"]),V=N||L,z={width:r?void 0:V,minWidth:V},B=a?"":j,H=B||l.settings.fieldPlaceholder,U=null!=o?o:r?KQ:null,$=Ae(),W=function(e){var t=e.groupMaybeJson;if(!t)return null;var r={label:t};if("string"==typeof t&&"{"===t[0])try{r=JSON.parse(t)}catch(o){}var n=r.label;return n&&r.tooltip&&(n=R.createElement(fr,{title:r.tooltip,placement:"left-start"},R.createElement("span",null,n))),R.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:$.palette.primary.main,backgroundColor:$.palette.background.default}},n)},K=function(e){var t=e.children;return R.createElement(R.Fragment,null,t)},G=R.createElement(fo,w({disableClearable:n,disableCloseOnSelect:r,fullWidth:false,multiple:r,style:z,freeSolo:t,loading:S,open:g,onOpen:m,onClose:y,inputValue:x,onInputChange:_,label:B,onChange:b,value:U,disabled:a,readOnly:a,options:O,groupBy:function(e){return null!=e&&e.group?JSON.stringify(e.group):null==e?void 0:e.groupTitle},getOptionLabel:q,getOptionDisabled:C,renderInput:function(e){var t,n,o,i=!r&&!g,l=null!==(t=null!==(n=null==I?void 0:I.title)&&void 0!==n?n:null==U?void 0:U.toString())&&void 0!==t?t:"",s=i?l:r&&!g?"":null!==(o=null!=x?x:null==U?void 0:U.toString())&&void 0!==o?o:"";return R.createElement(Lr,w({variant:"standard"},e,{inputProps:$Q($Q({"aria-label":H},e.inputProps),{},{value:s}),InputProps:$Q($Q({},e.InputProps),{},{readOnly:a,endAdornment:R.createElement(R.Fragment,null,k?R.createElement(yr,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:a,placeholder:B,error:!!u},M))},renderGroup:function(e){return R.createElement("div",{key:e.key},R.createElement(W,{groupMaybeJson:e.group}),R.createElement(K,null,e.children))},renderTags:function(e,t){return e.map((function(e,r){return R.createElement(ir,w({key:e.value,label:q(e),size:"small",variant:T(e)?"outlined":"filled"},t({index:r})))}))},renderOption:function(e,t){var n=t.title,i=t.renderTitle,a=t.value,l=t.isHidden,s=t.tooltip,u=t.group,c=t.groupTitle||u,p=r?(o||[]).includes(a):o==a,f=T(t)?"customSelectOption":void 0,h=i||(!d&&c?"  ":"")+n,g=R.createElement("span",{className:f},h);if(s&&(g=R.createElement(fr,{title:s,placement:"left-start"},g)),l)return null;if(t.specialValue)return R.createElement("div",e,h);if(r){var v=p?R.createElement(R.Fragment,null,R.createElement(br,null,R.createElement(VQ,null)),g):R.createElement(qo,{inset:!0},g);return R.createElement(jt,w({},e,{size:"small",selected:p}),v)}return R.createElement("div",e,g)},filterOptions:function(e,t){var r=f(e,t);return E(r)},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.value)==t},size:"small"},D));return c&&(G=R.createElement(fr,{title:g?null:c,placement:"top-start"},G)),G=R.createElement(St,{fullWidth:false},G)};var YQ=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function JQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var XQ={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},ZQ=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,o=t.path,i=t.key,a=t.label,l=t.altLabel,s=t.disabled,u=t.grouplabel,c=t.group,d=t.matchesType,p=t.tooltip,f="  ".repeat(r);return n?e(n,r+1):{title:a,renderTitle:d?R.createElement("b",null,f+a):f+a,value:o,disabled:s,groupTitle:r>0?f+u:null,group:r>0?QQ(QQ({},c),{},{label:f+c.label}):null,tooltip:p,_value2:i,_altLabel:l}})).flat(1/0)},eX=function(e,t){var r=e.items,n=e.selectedKey,o=e.setField,i=e.isValueField,a=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,s=e.selectedFullLabel,u=bn(e,YQ),c=l||s;c==a&&(c=null);var d=ZQ(r),p=n,f={stringify:v.useCallback((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return XQ[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return QQ(QQ({},u),{},{tooltipText:c,listValues:d,setValue:function(e,t){if(e||i)return o(e)},filterOptionsConfig:f,allowCustomValues:!1,multiple:!1,disableClearable:!i,value:p,isFieldAutocomplete:!0})};var tX={},rX=L;Object.defineProperty(tX,"__esModule",{value:!0});var nX=tX.default=void 0,oX=rX(ze()),iX=j;nX=tX.default=(0,oX.default)((0,iX.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var aX=xQ.DragIcon,lX={delGroup:R.createElement(fn,null),delRuleGroup:R.createElement(fn,null),delRule:R.createElement(fn,null),addRuleGroup:R.createElement(Bv,null),addRuleGroupExt:R.createElement(Bv,null),addRule:R.createElement(Bv,null),addGroup:R.createElement(Bv,null),drag:R.createElement(nX,null)},sX={drag:"primary"};var uX={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},cX={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const dX=v.memo((function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=e.renderIcon,a=null==i?void 0:i({type:t,readonly:o});return!r||uX[t]?R.createElement(pe,{size:"small",disabled:o,onClick:n,color:cX[t],"aria-label":r},a):R.createElement(ot,{size:"small",disabled:o,onClick:n,color:cX[t],startIcon:a},r)}));var pX=R.memo((function(e){var t=e.conjKey,r=e.id;e.name;var n=e.label,o=e.checked,i=e.setConjunction,a=e.readonly,l=e.disabled,s=v.useCallback((function(){i(t)}),[t,i]),u=i.isDummyFn?"__dummy":"";return!a&&!l||o?R.createElement(ot,{key:r+u,id:r+u,color:o?"primary":"inherit",value:t,onClick:s,disabled:a||l},n):null})),fX=R.memo((function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,i=e.setConjunction,a=e.disabled,l=e.readonly,s=e.config,u=e.showNot,c=e.notLabel,d=Object.keys(o).length,p=a,f=s.settings.forceShowConj||d>1&&!p,h=v.useCallback((function(){n(!r)}),[r,n]);return R.createElement(St,null,R.createElement(vo,{disableElevation:!0,variant:"contained",size:"small",disabled:l},u&&(l&&!r?null:R.createElement(ot,{key:t,id:t+"__not",color:r?"error":"inherit",onClick:h,disabled:l},c||"NOT")),f&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n={conjKey:e,id:r,name:t.name,label:t.label,checked:t.checked,setConjunction:i,readonly:l,disabled:a};return R.createElement(pX,w({key:r},n))}))))})),hX={},gX=L;Object.defineProperty(hX,"__esModule",{value:!0});var vX=hX.default=void 0,mX=gX(ze()),yX=j;vX=hX.default=(0,mX.default)((0,yX.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var bX={},_X=L;Object.defineProperty(bX,"__esModule",{value:!0});var xX=bX.default=void 0,wX=_X(ze()),OX=j;xX=bX.default=(0,wX.default)((0,OX.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var SX={},kX=L;Object.defineProperty(SX,"__esModule",{value:!0});var jX=SX.default=void 0,EX=kX(ze()),CX=j;jX=SX.default=(0,EX.default)((0,CX.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var TX=R.memo((function(e){var t=e.valueSrc,r=e.srcKey,n=e.handleChange,o=e.info,i=t==r||!t&&"value"==r,a=v.useCallback((function(e){return n(e,r)}),[n,r]);return R.createElement(jt,{value:r,selected:i,onClick:a},!i&&R.createElement(qo,{inset:!0},o.label),i&&R.createElement(R.Fragment,null,R.createElement(br,null,R.createElement(VQ,null)),o.label))})),qX=R.memo((function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,o=e.setValueSrc;e.readonly;var i=R.useState(null),a=Et(i,2),l=a[0],s=a[1],u=v.useCallback((function(e){s(e.currentTarget)}),[s]),c=v.useCallback((function(){s(null)}),[s]),d=v.useCallback((function(e){l?c():u(e)}),[c,u,l]),p=v.useCallback((function(e,t){o(t),c()}),[c,o]),f=Boolean(l);return R.createElement("div",null,R.createElement(pe,{size:"small",onClick:d},R.createElement(jX,null)),R.createElement(At,{anchorEl:l,open:f,onClose:c},R.createElement(St,{component:"fieldset",sx:{p:0}},R.createElement(Pr,{component:"legend",sx:{p:2,pt:0,pb:1}},n),function(e){return e.map((function(e){var t=Et(e,2),n=t[0],o=t[1];return R.createElement(TX,{key:n,valueSrc:r,srcKey:n,handleChange:p,info:o})}))}(t))))}));var IX,AX,LX=parseInt(null!==(IX=null==lj||null===(AX=lj.version)||void 0===AX||null===(AX=AX.split("."))||void 0===AX?void 0:AX[0])&&void 0!==IX?IX:"0");const PX={MuiTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.customProps,a=e.maxLength;e.errorMessage;var l=v.useCallback((function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}),[r]),s=t||"";return R.createElement(St,null,R.createElement(Lr,w({variant:"standard",value:s,placeholder:n?"":o,InputProps:{readOnly:n},inputProps:{maxLength:a},disabled:n,onChange:l,size:"small"},i)))},MuiTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,i=e.placeholder,a=e.customProps,l=e.maxLength,s=e.maxRows,u=e.fullWidth,c=n.settings.defaultMaxRows,d=t||"";return R.createElement(St,{fullWidth:u},R.createElement(Lr,w({variant:"standard",fullWidth:u,maxRows:s||c,multiline:!0,value:d,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:l},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},size:"small"},a)))},MuiDateWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,o=e.customProps,i=e.dateFormat,a=e.valueFormat,l=e.placeholder,s=kQ>=6?{format:i,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":l}}}:{inputFormat:i,renderInput:function(e){return R.createElement(Lr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:n?"":l},u=t?kQ>=6?SQ(t,a):t:null;return R.createElement(St,null,R.createElement(dn,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:n,disabled:n,value:u,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(a):void 0}(e))}},s,o)))},MuiDateTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.dateFormat,l=e.timeFormat,s=e.valueFormat,u=e.customProps,c=a+" "+l,d=TQ>=6?{format:c,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:c,renderInput:function(e){return R.createElement(Lr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i},p=t?TQ>=6?CQ(t,s):t:null;return R.createElement(St,null,R.createElement(Kr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:p,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(s):void 0}(e))}},d,u)))},MuiTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.timeFormat,l=e.valueFormat,s=e.customProps,u=-1!=a.indexOf(":ss"),c=t?AQ(t,a):null,d=LQ>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:a,renderInput:function(e){return R.createElement(Lr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i};return R.createElement(St,null,R.createElement(pn,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:c,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(l):void 0}(e))},views:u?["hours","minutes","seconds"]:["hours","minutes"]},d,s)))},MuiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.placeholder,a=e.customProps,l=function(e){return PQ(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()},s=null!=r;return R.createElement(St,null,R.createElement(kt,w({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:o?"":i,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:"",disabled:o,readOnly:o,renderValue:function(e){return o||null!=e?l(e):i},size:"small"},vN(a,["showSearch","input"])),PQ(t,(function(e){var t=e.title,r=e.value;return R.createElement(jt,{key:r,value:r},t)}))))},MuiNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t,c=v.useMemo((function(){return{readOnly:n}}),[n]),d=v.useMemo((function(){return{min:o,max:i,step:a}}),[o,i,a]);return R.createElement(St,null,R.createElement(Lr,w({variant:"standard",type:"number",value:u,placeholder:n?"":l,InputProps:c,inputProps:d,disabled:n,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},size:"small"},s)))},MuiSliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=t.settings.defaultSliderWidth,p=v.useCallback((function(e,t){i(t)}),[i]),f=v.useCallback((function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)}),[i]),h=v.useCallback((function(e){var t=e.target.value;(t=""===t||null===t?void 0:Number(t))<a?i(a):t>l&&i(l)}),[i,a,l]),g=n||{},m=g.width,y=bn(g,NQ),b=y.input||{},x=y.slider||y,O="number"==typeof o?o:"",S="number"==typeof o?o:null,k=v.useMemo((function(){return!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:R.createElement("p",null,u[e])}}))}),[u]),j=v.useMemo((function(){return{readOnly:c}}),[c]),E=v.useMemo((function(){return{min:a,max:l,step:s}}),[a,l,s]),C=R.createElement(Lr,w({variant:"standard",type:"number",value:O,placeholder:r,InputProps:j,inputProps:E,disabled:c,onChange:f,onBlur:h,size:"small"},b)),T=R.createElement(ei,w({value:S,onChange:p,disabled:c,min:a,max:l,step:s,marks:k,valueLabelDisplay:"auto",size:"small"},x)),q={marginLeft:"5px",paddingLeft:"12px",marginBottom:k&&"-16px",width:m||d};return R.createElement(St,null,R.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},R.createElement("div",{style:{marginLeft:"5px"}},C),R.createElement("div",{style:q},T)))},MuiRangeWidget:function(e){var t=e.config,r=e.placeholders,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=e.textSeparators,p=t.settings.defaultSliderWidth;v.useEffect((function(){var t=e.value||[void 0,void 0],r=Et(t,2);r[0],r[1];e.value}),[]);var f=function(){o&&(o[0]<a?i([a,o[1]]):o[1]>l&&i([o[0],l]))},h=n||{},g=h.width,m=bn(h,FQ),y=m.input||{},b=m.slider||m,x=!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:R.createElement("p",null,u[e])}})),O=o?sj(o):[void 0,void 0],S=Et(O,2),k=S[0],j=S[1];null==k&&(k="",O[0]=0),null==j&&(j="",O[1]=0);var E=R.createElement(Lr,w({variant:"standard",type:"number",value:k,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?sj(e.value):[void 0,void 0];n[0]=r,i(n)},onBlur:f,size:"small"},y)),C=R.createElement(Lr,w({variant:"standard",type:"number",value:j,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?sj(e.value):[void 0,void 0];n[1]=r,i(n)},onBlur:f,size:"small"},y)),T=R.createElement(ei,w({value:O,onChange:function(e,t){i(t)},disabled:c,min:a,max:l,step:s,marks:x,valueLabelDisplay:"auto",size:"small"},b)),q={marginLeft:"5px"},I={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:g||p};return R.createElement(St,null,R.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},R.createElement("div",{style:q},E),R.createElement("div",{className:"widget--sep"},R.createElement("span",null,d[1])),R.createElement("div",{style:q},C),R.createElement("div",{style:I},T)))},MuiBooleanWidget:function(e){var t=e.customProps,r=e.value,n=e.setValue,o=e.labelYes,i=e.labelNo,a=e.readonly;return R.createElement(St,null,R.createElement(ye,{component:"div"},R.createElement($r,{component:"label",container:!0,alignItems:"center",spacing:0},R.createElement($r,{item:!0,component:"span"},i),R.createElement($r,{item:!0,component:"span"},R.createElement(mr,w({checked:!!r,onChange:function(){n(!r)},disabled:a},t))),R.createElement($r,{item:!0,component:"span"},o))))},MuiMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o,i=e.readonly,a=e.placeholder,l=e.customProps,s=null!=r&&r.length>0;return R.createElement(St,null,R.createElement(kt,w({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return a;var r=RQ(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")},size:"small"},vN(l,["showSearch","input","showCheckboxes"])),(o=s?r:[],RQ(t,(function(e){var t=e.title,r=e.value;return R.createElement(jt,{key:r,value:r},R.createElement(cn,{checked:o.indexOf(r)>-1}),R.createElement(qo,{primary:t}))})))))},MuiAutocompleteWidget:GQ,MuiFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.placeholder,a=e.errorText,l=e.selectedLabel;e.selectedOpts;var s=e.selectedAltLabel,u=e.selectedFullLabel,c=v.useState(!1),d=Et(c,2),p=d[0],f=d[1],h=v.useCallback((function(){f(!0)}),[f]),g=v.useCallback((function(){f(!1)}),[f]),m=v.useCallback((function(e){void 0!==e.target.value&&r(e.target.value)}),[r]),y=v.useCallback((function(e){if(!o&&!e)return i;var r=function t(r){return r.map((function(r){return r.items?t(r.items):r.path===e?r.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop();return r}),[o,i,t]),b=null!=n,_=s||u;_==l&&(_=null);var x=R.createElement(kt,{error:!!a,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i,onChange:m,value:b?n:"",disabled:o,renderValue:y,size:"small",open:p,onOpen:h,onClose:g},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(t).map((function(n){var o=t[n],i=o.items,a=o.path,l=o.label,s=o.disabled,u=o.matchesType,c=o.tooltip,d="  ".repeat(r),p=R.createElement("span",null,d&&R.createElement("span",null,d),u?R.createElement("b",null,l):l);return c&&(p=R.createElement(fr,{title:c,placement:"left-start"},p)),i?[R.createElement(Gn,{disabled:s,key:a,disableSticky:!0},p),e(i,r+1)]:R.createElement(jt,{disabled:s,key:a,value:a},p)}))}(t));return _&&(x=R.createElement(fr,{title:p?null:_},x)),x=R.createElement(St,null,x)},MuiFieldAutocomplete:function(e){return R.createElement(GQ,eX(e,e.config))},MuiIcon:function(e){var t=e.type,r=e.readonly,n=lX[t]||null;return n||"drag"!==t?"drag"===t?R.createElement(Eo,{size:"small",disabled:r,color:sX[t]},n):n:R.createElement(aX,null)},MuiButton:dX,MuiButtonGroup:function(e){var t=e.children;return e.config,R.createElement(R.Fragment,null,t)},MuiConjs:fX,MuiSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,i=e.hideLabel,a=e.id,l=e.config,s=e.type;l.settings.renderSize;var u=function(){return r(!t)},c=s,d=t&&o||n,p=t?R.createElement(xX,null):R.createElement(vX,null);return"lock"==s?i?R.createElement(pe,{key:a+c,onClick:u,size:"small"},p):R.createElement(ot,{key:a+c,onClick:u,size:"small",startIcon:p},d):R.createElement(un,{control:R.createElement(mr,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:d})},MuiValueSources:qX,MuiConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,o=e.title;(0,e.confirmFn)({description:o||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MuiUseConfirm:function(){var e=function(){var e=v.useMemo((function(){return Jx++}),[]);return"confirm-".concat(e)}(),t=v.useContext($x),r=t.confirmBase,n=t.closeOnParentUnmount,o=v.useCallback((function(t){return r(e,t)}),[e]);return v.useEffect((function(){return function(){n(e)}}),[e]),o},MuiProvider:function(e){var t=e.config,r=e.children,n=t.settings.theme||{},o=t.settings.locale||{},i=o.moment,a=n.mui,l=o.mui,s=J(a,l,{palette:{}}),u=LX>=6?{locale:i}:{adapterLocale:i},c=R.createElement("div",{className:"mui"},r),d=R.createElement(Gr,w({dateAdapter:aj},u),R.createElement(Yx,null,c));return s?R.createElement(Lt,{theme:s},d):d}};function NX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NX(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var RX=FX(FX({},YJ.settings),{},{renderField:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderOperator:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MuiFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MuiConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MuiSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MuiButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MuiIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MuiButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MuiProvider,e)},renderConfirm:function(e,t){return(0,t.W.MuiConfirm)(e)},useConfirm:function(e){return(0,e.W.MuiUseConfirm)()}}),MX=FX(FX({},YJ.widgets),{},{text:FX(FX({},YJ.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextWidget,e)}}),textarea:FX(FX({},YJ.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextAreaWidget,e)}}),number:FX(FX({},YJ.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiNumberWidget,e)}}),multiselect:FX(FX({},YJ.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?r(o,FX(FX({},e),{},{multiple:!0})):r(i,e)}}),select:FX(FX({},YJ.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiSelectWidget;return e.asyncFetch||e.showSearch?r(o,e):r(i,e)}}),slider:FX(FX({},YJ.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiSliderWidget,e)}}),boolean:FX(FX({},YJ.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiBooleanWidget,e)}}),date:FX(FX({},YJ.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateWidget,e)}}),time:FX(FX({},YJ.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTimeWidget,e)}}),datetime:FX(FX({},YJ.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateTimeWidget,e)}}),rangeslider:FX(FX({},YJ.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiRangeWidget,e)}})}),DX=FX({},YJ.types),VX=FX(FX({},YJ.ctx),{},{W:FX(FX({},YJ.ctx.W),PX)}),zX=FX(FX({},YJ),{},{ctx:VX,types:DX,widgets:MX,settings:RX});const BX=zX=xQ.ConfigMixins.addMixins(zX,["rangeslider"]),HX=BX,UX=e=>'<span class="logicField">'+e+"</span>",$X=e=>'<span class="logicOp">'+e+"</span>",WX=(e,t)=>'<span class="logicValue">'+("text"==t?'"'+e+'"':e)+"</span>",KX={AND:HX.conjunctions.AND,OR:HX.conjunctions.OR},GX=p(p({},HX.operators),{},{less:p(p({},HX.operators.less),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${UX(e)} ${$X("<")} ${WX(r,o)}`}),less_or_equal:p(p({},HX.operators.less_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${UX(e)} ${$X("<=")} ${WX(r,o)}`}),greater:p(p({},HX.operators.greater),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${UX(e)} ${$X(">")} ${WX(r,o)}`}),greater_or_equal:p(p({},HX.operators.greater_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${UX(e)} ${$X(">=")} ${WX(r,o)}`}),equal:p(p({},HX.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"equals":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),not_equal:p(p({},HX.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"not equals":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),starts_with:p(p({},HX.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"starts with":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),ends_with:p(p({},HX.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"ends with":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),between:p(p({},HX.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${UX(e)} ${$X("between")} ${WX(s,o)} ${$X("and")} ${WX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),not_between:p(p({},HX.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${UX(e)} ${$X("not between")} ${WX(s,o)} ${$X("and")} ${WX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),like:p(p({},HX.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"contains":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),not_like:p(p({},HX.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"does not containends with":i.label;return`${UX(e)} ${$X(u)} ${WX(r,o)}`}}),select_any_in:p(p({},HX.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${UX(e)} ${$X("in")} (${WX(s,"")})`}}),select_not_any_in:p(p({},HX.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${UX(e)} ${$X("not in")} (${WX(s,"")})`}}),multiselect_equals:p(p({},HX.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${$X("Any of")} (${WX(s,"")}) in ${UX(e)} ${$X("is selected")}`}}),multiselect_not_equals:p(p({},HX.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${$X("None of")} (${WX(s,"")}) in ${UX(e)} ${$X("is selected")}`}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is shown")}`},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is not shown")}`},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is valid")}`},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is not valid")}`},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is empty")}`},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is online")}`},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is Offline")}`},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is not empty")}`},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is empty")}`},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${UX(e)} ${WX("is not empty")}`}}),YX=p(p({},HX.widgets),{},{text:p({},HX.widgets.text),slider:p(p({},HX.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:p(p({},HX.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:p(p({},HX.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:p(p({},HX.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:p(p({},HX.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:p(p({},HX.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:p(p({},HX.widgets.treeselect),{},{customProps:{showSearch:!0}})}),JX=p(p({},HX.types),{},{boolean:_r(HX.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),QX=p(p(p({},HX.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),XX={ctx:BX.ctx,conjunctions:KX,operators:GX,widgets:YX,types:JX,settings:QX,funcs:{}};function ZX(e){const t=xQ.jsonLogicFormat,r=xQ.queryString,n=xQ.loadTree,o=xQ.uuid,i=xQ.loadFromJsonLogic,a=xQ.checkTree,l=p(p({},XX),{},{fields:e.fields}),s=e.logic?a(i(e.logic,l),l):n({id:o(),type:"group"}),u=h(v.useState(s),2),c=u[0],d=u[1],f=h(v.useState(r(c,l,!0)),2),g=f[0],m=f[1];return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"query-builder-result",children:[e.logic&&g?j.jsx("pre",{className:"condition-human-text",children:Pt(Je(g),50)}):j.jsx("pre",{className:"condition-human-text",children:e.t("no_condition")}),j.jsx("div",{className:"icon-container",children:j.jsx(pe,{onClick:()=>e.onDialogStateChanged(!0),children:j.jsx(wi,{})})})]},"result"),j.jsxs(Jr,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:()=>e.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(vr,{id:"alert-dialog-title-logic-builder",children:e.title}),j.jsx(Qr,{children:j.jsx(EW,p(p({},l),{},{value:c,onChange:e=>{d(e)},renderBuilder:e=>j.jsx("div",{jey:"builder",className:"query-builder-container",children:j.jsx("div",{className:"query-builder",children:j.jsx(SJ,p({},e))})})}))}),j.jsx(Wr,{children:j.jsx(ot,{onClick:()=>{e.onDialogStateChanged(!1),(()=>{const n=t(c,l),o=n.logic;n.errors,m(r(c,l,!0)),e.onChange(o)})()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const eZ=(e,t,r,n)=>{var o,i,a,l,s,u,c,d,p,f,h;const g=e+". "+Je((null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||"");if($e(e))return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(t.type){case"text":case"barcode":case"email":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[e]:{label:g,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[e]:{label:g,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[e]:{label:g,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[e]:{label:g,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let o={},y={};null===(i=t.children)||void 0===i||i.forEach((e=>{var t;const o=Je((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");y[e.code]=o?e.code+" - "+o:e.code})),o[e]={label:g,fieldSettings:{listValues:y},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let b=null===(a=t.children)||void 0===a?void 0:a.find((e=>"Aother"===e.code));var v;if(b&&null!==(l=r[b.qualifiedCode].children)&&void 0!==l&&l.find((e=>"Atext"===e.code)))o[e+"AotherAtext"]={label:`${g} [${(null===(v=r[b.qualifiedCode].content)||void 0===v||null===(v=v.label)||void 0===v?void 0:v[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return o;case"image_mcq":case"icon_mcq":case"mcq":let _={},x={};null===(s=t.children)||void 0===s||s.forEach((e=>{var t;const o=Je((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),_[e]={label:g,fieldSettings:{listValues:x},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=null===(u=t.children)||void 0===u?void 0:u.find((e=>"Aother"===e.code));var m;if(w&&null!==(c=r[w.qualifiedCode].children)&&void 0!==c&&c.find((e=>"Atext"===e.code)))_[e+"AotherAtext"]={label:`${g} [${(null===(m=r[w.qualifiedCode].content)||void 0===m||null===(m=m.label)||void 0===m?void 0:m[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return _;case"nps":let O={};return null===(d=t.children)||void 0===d||d.forEach((e=>{var t;const o=Je((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),O[e]={label:g,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},O;case"scq_icon_array":case"scq_array":let S={},k={};return null===(p=t.children)||void 0===p||p.filter((e=>"column"==e.type)).forEach((e=>{var t;const o=Je((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");k[e.code]=o?e.code+" - "+o:e.code})),S[e]={label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=t.children)||void 0===f||f.filter((e=>"row"==e.type)).forEach((t=>{var o;S[e+t.code]={label:g+" - "+Je((null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:k},operators:["select_any_in","select_not_any_in"]}})),S;case"ranking":case"image_ranking":let j={};return null===(h=t.children)||void 0===h||h.forEach((o=>{var i;j[e+o.code]={label:g+" - "+Je((null===(i=r[o.qualifiedCode].content)||void 0===i||null===(i=i.label)||void 0===i?void 0:i[n])||""),type:"number",fieldSettings:{min:1,max:t.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),j;default:return[]}},tZ="_relevanceError_1j5a5_5",rZ="_errorContainer_1j5a5_9";function nZ({code:e,t:t}){var r,n,o;const i=He(),a=h(v.useState(!1),2),l=a[0],s=a[1],u=Ue((e=>e.designState)),c=R.useMemo((()=>u.langInfo)),d=R.useMemo((()=>u[e])),f=R.useMemo((()=>((e,t,r,n,o)=>{let i=Xh(e,t),a={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:o}}};return i.forEach((e=>{r[e]&&(We(e)||$e(e))&&(a=p(p({},a),eZ(e,r[e],r,n)))})),a})(u.componentIndex,e,u,c.mainLang,c.languagesList.map((e=>e.code)))),[u]),g=null===(r=d.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code)),m=((null==g?void 0:g.errors)||[]).length>0,y=null===(n=d.relevance)||void 0===n?void 0:n.logic,b=!m&&Object.keys(f).length>0,_=h(v.useState((null===(o=d.relevance)||void 0===o?void 0:o.rule)||"show_always"),2),x=_[0],w=_[1],O="show_if"==x||"hide_if"==x,S=()=>i(Nt({code:e,key:"relevance",value:{logic:void 0,rule:"show_always"}}));return j.jsxs("div",{className:`${m?tZ:""}`,children:[j.jsx(St,{variant:"standard",fullWidth:!0,children:j.jsxs(kt,{id:"show-hide-select",value:x,label:"Age",onChange:t=>(t=>{switch(w(t),t){case"show_always":return void S();case"hide_always":return void i(Nt({code:e,key:"relevance",value:{logic:void 0,rule:t}}));case"show_if":case"hide_if":return"show_if"!=(null==y?void 0:y.rule)&&"hide_if"!=(null==y?void 0:y.rule)&&s(!0),void(y&&i(Nt({code:e,key:"relevance",value:{logic:y,rule:t}})))}})(t.target.value),children:[j.jsx(jt,{disabled:m,value:"show_always",children:t("show_always")},"show_always"),j.jsx(jt,{disabled:!b,value:"show_if",children:t("show_if")},"show_if"),j.jsx(jt,{disabled:!b,value:"hide_if",children:t("hide_if")},"hide_if"),j.jsx(jt,{disabled:m,value:"hide_always",children:t("hide_always")},"hide_always")]})}),!m&&O&&j.jsx(ZX,{title:t("show_if"==x?"condition_to_show":"condition_to_hide"),onChange:t=>{s(!1),O&&i(Nt({code:e,key:"relevance",value:{logic:t,rule:x}}))},onDialogStateChanged:e=>s(e),fields:f,t:t,dialogOpen:l,logic:y}),m?j.jsxs("div",{className:rZ,children:[j.jsx(Rn,{t:t,i18nKey:"wrong_logic_err"}),j.jsx(ot,{variant:"contained",onClick:()=>S(),children:"OK"})]}):"",O&&!y?j.jsx("div",{children:j.jsx(Rn,{t:t,i18nKey:"no_logic_err"})}):""]})}const oZ=(e,t,r)=>{var n;const o=t[e];return{code:e,label:e+". "+Je(null===(n=o.content)||void 0===n||null===(n=n.label)||void 0===n?void 0:n[r])}},iZ=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(iZ(e,n))),r},aZ=(e,t,r,n)=>{let o=[];return $e(t.code)||We(t.code)?(e.filter((e=>e.parent==t.parent&&e.minIndex>t.maxIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{o=o.concat(oZ(t.code,r,n)),o=o.concat(lZ(e,t,r,n))})),o):o},lZ=(e,t,r,n)=>{let o=[];return $e(t.code)?(t.children&&t.children.forEach((t=>{let i=e.find((e=>e.code===t));o=o.concat(oZ(i.code,r,n)),o=o.concat(lZ(e,i,r,n))})),o):o},sZ={skipItem:"_skipItem_1n8m2_1",toEnd:"_toEnd_1n8m2_6"};function uZ({code:e,t:t}){const r=He(),n=Ue((t=>t.designState[e].skip_logic||{})),o=Ue((t=>{const r=t.designState.langInfo.mainLang;return((e,t,r,n)=>{let o=[];if(!e)return o;let i=e.find((e=>e.code===t));return i?(o=o.concat(aZ(e,i,r,n)),i.parent&&iZ(e,i).filter((e=>We(e.code)||$e(e.code))).forEach((t=>{o=o.concat(aZ(e,t,r,n))})),o):o})(t.designState.componentIndex,e,t.designState,r)})),i=Ue((t=>t.designState[e].instructionList.filter((e=>e.code.startsWith("skip_to"))))),a=Ue((t=>{var r;const n=t.designState.langInfo.lang;return null===(r=t.designState[e])||void 0===r||null===(r=r.children)||void 0===r?void 0:r.map((e=>{var r;return{code:e.code,label:(null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n])||e.code}}))})),l=(t,n)=>{r("proceed"==n?Ft({code:e,answerCode:t}):Rt({code:e,answerCode:t,skipTo:n}))},s=(t,n)=>{r(Mt({code:e,answerCode:t,toEnd:n}))};return j.jsx(j.Fragment,{children:null==a?void 0:a.map((e=>{var r;const a=e.code,u=null==n?void 0:n[a],c=null==u?void 0:u.skipTo,d=c||"proceed",p=c&&(null==i||null===(r=i.find((e=>e.code=="skip_to_on_"+a)))||void 0===r||null===(r=r.errors)||void 0===r?void 0:r.find((e=>"InvalidSkipReference"==e.name)));return j.jsxs("div",{className:sZ.skipItem,children:[j.jsx(Rn,{t:t,values:{code:e.label},i18nKey:"if_answer_is"}),p?cZ(a,c,l,t):dZ(a,o,d,null==u?void 0:u.toEnd,l,s,t)]},e.code)}))})}function cZ(e,t,r,n){return j.jsxs(P,{className:sZ.errorDisplay,children:[j.jsx(Sr,{style:{verticalAlign:"middle"}})," ",j.jsx(Rn,{t:n,values:{code:t},i18nKey:"invalid_skip_destination_err"}),j.jsx(ot,{variant:"contained",onClick:()=>r(e,"proceed"),children:n("ok")})]})}function dZ(e,t,r,n,o,i,a){return j.jsxs(j.Fragment,{children:[j.jsx(St,{variant:"standard",fullWidth:!0,children:j.jsxs(kt,{id:"skip-action",value:r,label:a("skip_to"),onChange:t=>o(e,t.target.value),children:[j.jsx(jt,{value:"proceed",children:a("proceed_as_usual")},"proceed"),t&&(null==t?void 0:t.map((e=>j.jsx(jt,{value:e.code,children:e.label},e.code))))]})}),r&&r.startsWith("G")&&j.jsxs("div",{className:sZ.toEnd,children:[j.jsx("h4",{children:a("to_group_end")}),j.jsx(mr,{checked:n||!1,onChange:t=>i(e,t.target.checked)})]})]})}const pZ={sectionTitle:"_sectionTitle_nmfqz_1",rightContent:"_rightContent_nmfqz_6",close:"_close_nmfqz_13",accordionStyle:"_accordionStyle_nmfqz_17"},fZ={errorDisplay:"_errorDisplay_1avr2_1"};function hZ({errors:e}){const t=Be("design").t;return j.jsx(P,{className:fZ.errorDisplay,children:e.map((e=>"PriorityGroupItemNotChild"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_priority_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicatePriorityGroupItems"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_duplicate_priority_group_items",values:{items:e.items.join(", ")}},e.name):"PriorityLimitMismatch"==e.name?t("err_priority_limit_mismatch"):"RandomGroupItemNotChild"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_random_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicateRandomGroupItems"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_duplicate_random_group_items",values:{items:e.items.join(", ")}},e.name):void 0))},"box")}const gZ={randomHeader:"_randomHeader_1pjix_1",title:"_title_1pjix_6",action:"_action_1pjix_11",settingIcon:"_settingIcon_1pjix_15",randomBody:"_randomBody_1pjix_19",list:"_list_1pjix_19",weight:"_weight_1pjix_30",randomAction:"_randomAction_1pjix_47",listItem:"_listItem_1pjix_53",label:"_label_1pjix_58",input:"_input_1pjix_64",listItemError:"_listItemError_1pjix_68",randomItem:"_randomItem_1pjix_84",highlighted:"_highlighted_1pjix_89"};var vZ={},mZ=L;Object.defineProperty(vZ,"__esModule",{value:!0});var yZ=vZ.default=void 0,bZ=mZ(ze()),_Z=j;function xZ(e){var t;return j.jsxs(hn,{className:`${gZ.randomItem} ${e.isBeingEdited?gZ.highlighted:""}`,children:[j.jsxs("div",{className:gZ.randomHeader,children:[j.jsx("h4",{className:gZ.title,children:e.t("prioritise")}),j.jsxs("div",{className:gZ.action,children:[j.jsx(pe,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(yZ,{className:gZ.settingIcon})}),j.jsx(pe,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(fn,{className:gZ.settingIcon})})]})]}),j.jsxs("div",{className:gZ.randomBody,children:[e.t("priority_show_limit_from_count",{limit:e.data.limit,count:null===(t=e.data.weights)||void 0===t?void 0:t.length}),j.jsx("ul",{className:gZ.list,children:e.data&&e.data.weights&&e.data.weights.map(((t,r)=>j.jsx(wZ,{label:e.getChildLabelByCode(t.code),code:t.code,childrenCodes:e.childrenCodes,weight:t.weight},r)))})]})]})}function wZ({code:e,label:t,weight:r,childrenCodes:n}){return j.jsxs("li",{className:-1!==n.indexOf(e)?gZ.listItem:gZ.listItemError,children:[j.jsxs("div",{className:`${gZ.content} ${gZ.label}`,children:[e,": ",t]}),j.jsx("div",{className:gZ.weight,children:j.jsx("span",{children:r})})]})}yZ=vZ.default=(0,bZ.default)((0,_Z.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");const OZ={title:"_title_5cg20_1",randomBody:"_randomBody_5cg20_6",list:"_list_5cg20_6",weight:"_weight_5cg20_18",label:"_label_5cg20_35",randomAction:"_randomAction_5cg20_39",listItem:"_listItem_5cg20_45",input:"_input_5cg20_50",randomItem:"_randomItem_5cg20_54"};var SZ={},kZ=L;Object.defineProperty(SZ,"__esModule",{value:!0});var jZ=SZ.default=void 0,EZ=kZ(ze()),CZ=j;jZ=SZ.default=(0,EZ.default)((0,CZ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var TZ={},qZ=L;Object.defineProperty(TZ,"__esModule",{value:!0});var IZ=TZ.default=void 0,AZ=qZ(ze()),LZ=j;function PZ(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.data),2),a=i[0],l=i[1],s=e=>{l(p(p({},a),{},{limit:e}))},u=(e,t)=>{const r=p({},a);r.weights=[...a.weights],r.weights[t]=p(p({},a.weights[t]),{},{weight:e}),l(r)};return j.jsxs(hn,{className:OZ.randomItem,children:[j.jsx("h4",{className:OZ.title,children:e.title}),j.jsxs("div",{className:OZ.randomBody,children:[j.jsx(FZ,{t:t,increaseLimit:e=>{if(e===a.weights.length-1)return!1;e++,s(e)},decreaseLimit:e=>{if(1===e)return!1;e--,s(e)},limit:a.limit}),j.jsx("ul",{className:`${OZ.list} ${OZ.active}`,children:a&&a.weights&&a.weights.map(((t,r)=>j.jsx(NZ,{code:t.code,weight:t.weight,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),decreaseWeight:e=>((e,t)=>{if(1===e)return!1;e--,u(e,t)})(e,r),increaseWeight:e=>((e,t)=>{e++,u(e,t)})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t.code)},r)))})]}),j.jsxs("div",{className:OZ.randomAction,children:[j.jsx(ot,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(ot,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=p({},a),r=n.reduce(((e,r,n)=>(r&&e.push(t.weights[n]),e)),[]);e.onSubmit(p(p({},t),{},{weights:r}))})(),disabled:!(()=>{const e=n.filter((e=>e)).length;return e>=2&&a.limit<=e-1&&a.limit>=1})(),children:t("submit")})]})]})}function NZ({code:e,checked:t,label:r,weight:n,handleChange:o,increaseWeight:i,decreaseWeight:a}){return j.jsxs("li",{className:OZ.listItem,children:[j.jsx(cn,{checked:t,onChange:e=>o(e.target.checked)}),j.jsxs("div",{className:`${OZ.content} ${OZ.label}`,children:[e,": ",r]}),j.jsxs("div",{className:OZ.weight,children:[j.jsx(pe,{size:"small",onClick:e=>a(n),children:j.jsx(jZ,{})}),j.jsx("span",{children:n}),j.jsx(pe,{size:"small",onClick:e=>i(n),children:j.jsx(IZ,{})})]})]})}function FZ({limit:e,increaseLimit:t,decreaseLimit:r,t:n}){return j.jsxs(j.Fragment,{children:[n("priority_show"),j.jsx(pe,{size:"small",onClick:t=>r(e),children:j.jsx(jZ,{})}),e,j.jsx(pe,{size:"small",onClick:r=>t(e),children:j.jsx(IZ,{})})]})}function RZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=He(),l=h(v.useState({}),2),s=l[0],u=l[1],c=Ue((e=>e.designState[r])),d=Ue((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),f=Ue((e=>e.designState.langInfo.lang)),g=Ue((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[f]}})))||[]})),m=Dt(c,"priority_groups"),y=(null==m||null===(o=m.priorities)||void 0===o?void 0:o.filter((e=>!t||e.weights.some((e=>d.includes(e.code))))))||[];let b=y.map((e=>e.weights)).flat().map((e=>e.code)).flat();const _=(null==m||null===(i=m.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>b.includes(e))))))||[],x=e=>{a(t?Vt({code:r,priorities:e,type:t}):zt({code:r,priorities:e}))},w=e=>{var t;const r=null===(t=g.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},O=()=>d.filter((e=>!b.includes(e))),S=!s||0==Object.keys(s).length,k=()=>{u({})},E=e=>{let t=[...e.weights].sort((function(e,t){return d.findIndex((t=>t===e.code))-d.findIndex((e=>e===t.code))}));return p(p({},e),{},{weights:t})};return j.jsxs(j.Fragment,{children:[y&&y.map(((t,r)=>j.jsx(xZ,{t:e,data:E(t),index:r,childrenCodes:d,isBeingEdited:s.index==r,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&x(y.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[];n.weights=[];const o=O();d.forEach((e=>{if(o.includes(e))n.weights.push({code:e,weight:1}),r.push(!1);else{let o=y[t].weights.findIndex((t=>t.code==e));o>-1&&(n.weights.push(y[t].weights[o]),r.push(!0))}n.limit=y[t].limit})),u({index:t,checked:r,title:e("edit_priority_rule"),data:n})})(t),getChildLabelByCode:w},r))),!n&&_.length>0?j.jsx(hZ,{errors:_}):"",S&&j.jsxs(ot,{variant:"contained",disabled:O().length<2,onClick:()=>{const t=O(),r=t.map((e=>({code:e,weight:1})));u({title:e("add_priority_rule"),checked:t.map((e=>!1)),data:{limit:1,weights:r},index:y?y.length:0,icon:j.jsx(bg,{})})},children:[j.jsx(bg,{sx:{paddingRight:"8px"}})," ",e("add_priority_rule")]}),s&&s.data&&j.jsx(PZ,{t:e,title:s.title,data:((e,t)=>{let r=[...e.weights].filter((e=>t.includes(e.code)));return r.length<=1&&k(),{limit:Math.min(e.limit,r.length-1),weights:r}})(s.data,d),index:s.index,getChildLabelByCode:w,checked:s.checked,onSubmit:e=>((e,t)=>{const r=y?[...y]:[];r[t]=p({},e),x(r),k()})(e,s.index),onCancel:k})]})}IZ=TZ.default=(0,AZ.default)((0,LZ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");const MZ="_selectValue_14l81_1",DZ={errorDisplay:"_errorDisplay_1vtlj_1",addNew:"_addNew_1vtlj_10"},VZ={title:"_title_1p7e9_1",list:"_list_1p7e9_6",randomAction:"_randomAction_1p7e9_19",listItem:"_listItem_1p7e9_25",input:"_input_1p7e9_30",randomItem:"_randomItem_1p7e9_34"};function zZ(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.randomOption),2),a=i[0],l=i[1],s=[t("random_order"),t("flip_order"),t("sort_by_label")],u=["RANDOM","FLIP","ALPHA"];return j.jsxs(hn,{className:VZ.randomItem,children:[j.jsx("h4",{className:VZ.title,children:e.title}),j.jsx(St,{variant:"standard",fullWidth:!0,children:j.jsx(kt,{id:"select-value",value:a,label:"Select Value",onChange:e=>{l(e.target.value)},children:s.map(((e,t)=>j.jsx(jt,{value:u[t],children:e},e)))})}),j.jsx("ul",{className:VZ.list,children:e.data&&e.data.map(((t,r)=>j.jsx(BZ,{code:t,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t)},r)))}),j.jsxs("div",{className:VZ.randomAction,children:[j.jsx(ot,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(ot,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=n.reduce(((t,r,n)=>(r&&t.push(e.data[n]),t)),[]);e.onSubmit(t,a)})(),disabled:!(n.filter((e=>e)).length>=2),children:t("submit")})]})]})}function BZ({code:e,label:t,checked:r,handleChange:n}){return j.jsxs("li",{className:VZ.listItem,children:[j.jsx(cn,{checked:r,onChange:e=>n(e.target.checked)}),e,": ",t]})}const HZ={randomHeader:"_randomHeader_10d2m_1",title:"_title_10d2m_6",action:"_action_10d2m_11",settingIcon:"_settingIcon_10d2m_15",list:"_list_10d2m_19",randomAction:"_randomAction_10d2m_30",listItem:"_listItem_10d2m_36",label:"_label_10d2m_41",input:"_input_10d2m_47",listItemError:"_listItemError_10d2m_51",randomItem:"_randomItem_10d2m_63",highlighted:"_highlighted_10d2m_68"},UZ=(e,t)=>{switch(e){case"ALPHA":return t("sort_by_label");case"RANDOM":return t("random_order");case"FLIP":return t("flip_order")}throw"unidentified randomOption: "+e};function $Z(e){const t=e.t;return j.jsxs(hn,{className:`${HZ.randomItem} ${e.isBeingEdited?HZ.highlighted:""}`,children:[j.jsxs("div",{className:HZ.randomHeader,children:[j.jsx("h4",{className:HZ.title,children:UZ(e.randomOption,t)}),j.jsxs("div",{className:HZ.action,children:[j.jsx(pe,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(yZ,{className:HZ.settingIcon})}),j.jsx(pe,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(fn,{className:HZ.settingIcon})})]})]}),j.jsx("ul",{className:HZ.list,children:e.data&&e.data.map(((t,r)=>j.jsx(WZ,{label:e.getChildLabelByCode(t),code:t,childrenCodes:e.childrenCodes},r)))})]})}function WZ({code:e,label:t,childrenCodes:r}){return j.jsx("li",{className:-1!==r.indexOf(e)?HZ.listItem:HZ.listItemError,children:j.jsxs("div",{className:`${HZ.content} ${HZ.label}`,children:[e,": ",t]})})}function KZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=He(),l=h(v.useState({}),2),s=l[0],u=l[1],c=Ue((e=>e.designState[r])),d=Ue((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),p=Ue((e=>e.designState.langInfo.lang)),f=Ue((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[p]}})))||[]})),g=Dt(c,"random_group"),m=(null==g||null===(o=g.groups)||void 0===o?void 0:o.filter((e=>!t||e.codes.some((e=>d.includes(e))))))||[],y=m.map((e=>e.codes)).flat(),b=(null==g||null===(i=g.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>y.includes(e))))))||[],_=e=>{a(t?Bt({code:r,groups:e,type:t}):Ht({code:r,groups:e}))},x=e=>{var t;const r=null===(t=f.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},w=e=>d.filter((e=>!y.includes(e))),O=e=>[...e.codes].sort((function(e,t){return d.findIndex((t=>t===e))-d.findIndex((e=>e===t))})),S=()=>{u({})},k=!s||0==Object.keys(s).length;return j.jsxs(j.Fragment,{children:[m&&m.map(((t,r)=>j.jsx($Z,{t:e,data:O(t),randomOption:t.randomOption,index:r,isBeingEdited:s.index==r,childrenCodes:d,getChildLabelByCode:x,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&_(m.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[],o=w();n=d.filter((e=>o.includes(e)||m[t].codes.includes(e))),r=n.map((e=>!!m[t].codes.includes(e))),u({index:t,checked:r,randomOption:m[t].randomOption||"RANDOM",title:e("edit_random_rule"),data:n})})(t)},r))),!n&&b.length>0?j.jsx(hZ,{errors:b}):"",k&&j.jsxs(ot,{className:DZ.addNew,variant:"contained",disabled:w().length<2,onClick:()=>{const t=w();u({title:e("add_new_random_rule"),data:t,checked:[],randomOption:"RANDOM",index:m?m.length:0})},children:[j.jsx(hg,{sx:{paddingRight:"8px"}})," ",e("add_random_rule")]}),s&&s.data&&j.jsx(zZ,{t:e,title:s.title,data:((e,t)=>{let r=[...e].filter((e=>t.includes(e)));return r.length<=1&&S(),r})(s.data,d),randomOption:s.randomOption,getChildLabelByCode:x,checked:s.checked,onSubmit:(e,t)=>((e,t,r)=>{const n=m?[...m]:[];n[r]={codes:e,randomOption:t},_(n),S()})(e,t,s.index),onCancel:S})]})}function GZ({t:e,rule:t,code:r}){const n=He(),o=Ue((e=>e.designState[r][t]||"NONE"));let i="",a=[],l=[];switch(t){case"randomize_questions":i=e("questions_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":i=e("questions_priority"),a=[e("no_priority"),e("prioritise_questions")],l=["NONE","prioritize"];break;case"randomize_groups":i=e("groups_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":i=e("groups_priority"),a=[e("no_priority"),e("prioritise_groups")],l=["NONE","prioritize"];break;case"randomize_options":i=e("options_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":i=e("options_priority"),a=[e("no_priority"),e("prioritise_options")],l=["NONE","prioritize"];break;case"randomize_rows":i=e("rows_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":i=e("rows_priority"),a=[e("no_priority"),e("prioritise_rows")],l=["NONE","prioritize"];break;case"randomize_columns":i=e("columns_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":i=e("columns_priority"),a=[e("no_priority"),e("prioritise_columns")],l=["NONE","prioritize"]}return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:i}),j.jsx(St,{className:MZ,variant:"standard",fullWidth:!0,children:j.jsx(kt,{id:"select-value",value:o,label:"Select Value",onChange:e=>{var o;o=e.target.value,n(wt({code:r,key:t,value:"NONE"==o?void 0:o}))},children:a.map(((e,t)=>j.jsx(jt,{value:l[t],children:e},e)))})}),"custom"==o&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(t)&&j.jsx(KZ,{label:"",code:r,t:e}),"custom"==o&&"randomize_rows"==t&&j.jsx(KZ,{label:"",type:"row",code:r,t:e}),"prioritize"==o&&"prioritize_rows"==t&&j.jsx(RZ,{label:"",type:"row",code:r,t:e}),"custom"==o&&"randomize_columns"==t&&j.jsx(KZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&"prioritize_columns"==t&&j.jsx(RZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(t)&&j.jsx(RZ,{label:"",code:r,t:e})]})}const YZ=()=>{const e=Be("design").t,t=He(),r=Ue((e=>e.designState.Survey.navigationMode||gn.GROUP_BY_GROUP));return j.jsxs(St,{fullWidth:!0,children:[j.jsx(Nr,{id:"navigation-mode-label",children:e("navigation_mode")}),j.jsxs(kt,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:e("label.navigation_mode"),onChange:e=>{t(wt({code:"Survey",key:"navigationMode",value:e.target.value}))},children:[j.jsx(jt,{value:gn.GROUP_BY_GROUP,children:e("group_by_group")}),j.jsx(jt,{value:gn.QUESTION_BY_QUESTION,children:e("question_by_question")}),j.jsx(jt,{value:gn.ALL_IN_ONE,children:e("all_in_one")})]})]})},JZ="_theming_1v217_1",QZ="_chooseImage_1v217_12",XZ="_resetButton_1v217_21",ZZ="_fontText_1v217_24",e0="_selectDropdown_1v217_27",t0="_colorBox_1v217_33",r0="_colorPickerContainer_1v217_40",n0={themingItem:"_themingItem_11qn9_1",themingItemBody:"_themingItemBody_11qn9_6",selectDropdown:"_selectDropdown_11qn9_13"};function o0(e){const t=Array.from({length:12},((e,t)=>2*t+10));return j.jsx("div",{className:n0.themingItem,children:j.jsx("div",{className:n0.themingItemBody,children:j.jsx(kt,{size:"small",value:e.value.size||e.default.size,onChange:t=>{return r="size",n=t.target.value,void e.onChange(p(p({},e.value),{},{[r]:n}));var r,n},IconComponent:xr,className:n0.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:t&&t.length>0&&t.map(((e,t)=>j.jsx(jt,{value:e,children:e},`fontSize-${t}`)))},"fontSize")})})}var i0={},a0={},l0=Ua,s0=js,u0=Ms;var c0=function(e){return"string"==typeof e||!s0(e)&&u0(e)&&"[object String]"==l0(e)},d0=PA;var p0=WU,f0=function(e){return"function"==typeof e?e:d0};var h0=function(e,t){return e&&p0(e,f0(t))},g0=Tu;var v0=function(e,t){return function(r,n){if(null==r)return r;if(!g0(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}},m0=v0(WU),y0=Tu;var b0=function(e,t){var r=-1,n=y0(e)?Array(e.length):[];return m0(e,(function(e,o,i){n[++r]=t(e,o,i)})),n},_0=kI,x0=w$,w0=b0,O0=js;var S0=function(e,t){return(O0(e)?_0:w0)(e,x0(t))};Object.defineProperty(a0,"__esModule",{value:!0}),a0.flattenNames=void 0;var k0=T0(c0),j0=T0(h0),E0=T0(aN),C0=T0(S0);function T0(e){return e&&e.__esModule?e:{default:e}}var q0=a0.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,C0.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,E0.default)(t)?(0,j0.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,k0.default)(t)&&r.push(t)})),r};a0.default=q0;var I0={},A0=HP;var L0=function(e){return A0(e,5)};Object.defineProperty(I0,"__esModule",{value:!0}),I0.mergeClasses=void 0;var P0=R0(h0),N0=R0(L0),F0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function R0(e){return e&&e.__esModule?e:{default:e}}var M0=I0.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,N0.default)(e.default)||{};return t.map((function(t){var n=e[t];return n&&(0,P0.default)(n,(function(e,t){r[t]||(r[t]={}),r[t]=F0({},r[t],n[t])})),t})),r};I0.default=M0;var D0={};Object.defineProperty(D0,"__esModule",{value:!0}),D0.autoprefix=void 0;var V0,z0=(V0=h0)&&V0.__esModule?V0:{default:V0},B0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var H0={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},U0=D0.autoprefix=function(e){var t={};return(0,z0.default)(e,(function(e,r){var n={};(0,z0.default)(e,(function(e,t){var r=H0[t];r?n=B0({},n,r(e)):n[t]=e})),t[r]=n})),t};D0.default=U0;var $0={};Object.defineProperty($0,"__esModule",{value:!0}),$0.hover=void 0;var W0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0=function(e){return e&&e.__esModule?e:{default:e}}(v);function G0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y0=$0.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=G0(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={hover:!1},i.handleMouseOver=function(){return i.setState({hover:!0})},i.handleMouseOut=function(){return i.setState({hover:!1})},i.render=function(){return K0.default.createElement(t,{onMouseOver:i.handleMouseOver,onMouseOut:i.handleMouseOut},K0.default.createElement(e,W0({},i.props,i.state)))},G0(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(K0.default.Component)};$0.default=Y0;var J0={};Object.defineProperty(J0,"__esModule",{value:!0}),J0.active=void 0;var Q0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0=function(e){return e&&e.__esModule?e:{default:e}}(v);function Z0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var e1=J0.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=Z0(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={active:!1},i.handleMouseDown=function(){return i.setState({active:!0})},i.handleMouseUp=function(){return i.setState({active:!1})},i.render=function(){return X0.default.createElement(t,{onMouseDown:i.handleMouseDown,onMouseUp:i.handleMouseUp},X0.default.createElement(e,Q0({},i.props,i.state)))},Z0(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(X0.default.Component)};J0.default=e1;var t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r},Object.defineProperty(i0,"__esModule",{value:!0}),i0.ReactCSS=i0.loop=i0.handleActive=u1=i0.handleHover=i0.hover=void 0;var r1=s1(a0),n1=s1(I0),o1=s1(D0),i1=s1($0),a1=s1(J0),l1=s1(t1);function s1(e){return e&&e.__esModule?e:{default:e}}i0.hover=i1.default;var u1=i0.handleHover=i1.default;i0.handleActive=a1.default,i0.loop=l1.default;var c1=i0.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=(0,r1.default)(r),i=(0,n1.default)(e,o);return(0,o1.default)(i)},d1=i0.default=c1,p1={},f1=function(e,t,r,n){var o=e+"-"+t+"-"+r+(n?"-server":"");if(p1[o])return p1[o];var i=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var o=n?new n:document.createElement("canvas");o.width=2*r,o.height=2*r;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,r,r),i.translate(r,r),i.fillRect(0,0,r,r),o.toDataURL()):null}(e,t,r,n);return p1[o]=i,i},h1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1=function(e){var t=e.white,r=e.grey,n=e.size,o=e.renderers,i=e.borderRadius,a=e.boxShadow,l=e.children,s=d1({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+f1(t,r,n,o.canvas)+") center left"}}});return v.isValidElement(l)?R.cloneElement(l,h1({},l.props,{style:h1({},l.props.style,s.grid)})):R.createElement("div",{style:s.grid})};g1.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var v1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function y1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b1=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=y1(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n,o){var i=o.clientWidth,a=o.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),c=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(n!==(p=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},y1(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m1(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=d1({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:v1({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return R.createElement("div",{style:r.alpha},R.createElement("div",{style:r.checkboard},R.createElement(g1,{renderers:this.props.renderers})),R.createElement("div",{style:r.gradient}),R.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("div",{style:r.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:r.slider}))))}}]),t}(v.PureComponent||v.Component),_1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var x1=[38,40],w1=1,O1=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,x1.indexOf(t)>-1)){var o=r.getArrowOffset(),i=38===e.keyCode?n+o:n-o;r.setUpdatedValue(i,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+w1++,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_1(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=d1({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return R.createElement("div",{style:t.wrap},R.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?R.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(v.PureComponent||v.Component),S1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function k1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j1=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=k1(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n){var o=n.clientWidth,i=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(c=u<0?359:u>i?0:360*(-100*u/i+100)/100,r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var d=void 0;if(d=s<0?0:s>o?359:100*s/o*360/100,r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},k1(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S1(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=d1({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return R.createElement("div",{style:n.hue},R.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),R.createElement("div",{style:n.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:n.slider}))))}}]),t}(v.PureComponent||v.Component);function E1(e,t){return e===t||e!=e&&t!=t}function C1(e,t){for(var r=e.length;r--;)if(E1(e[r][0],t))return r;return-1}var T1=Array.prototype.splice;function q1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}q1.prototype.clear=function(){this.__data__=[],this.size=0},q1.prototype.delete=function(e){var t=this.__data__,r=C1(t,e);return!(r<0)&&(r==t.length-1?t.pop():T1.call(t,r,1),--this.size,!0)},q1.prototype.get=function(e){var t=this.__data__,r=C1(t,e);return r<0?void 0:t[r][1]},q1.prototype.has=function(e){return C1(this.__data__,e)>-1},q1.prototype.set=function(e,t){var r=this.__data__,n=C1(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var I1="object"==typeof global&&global&&global.Object===Object&&global,A1="object"==typeof self&&self&&self.Object===Object&&self,L1=I1||A1||Function("return this")(),P1=L1.Symbol,N1=Object.prototype,F1=N1.hasOwnProperty,R1=N1.toString,M1=P1?P1.toStringTag:void 0;var D1=Object.prototype.toString;var V1="[object Null]",z1="[object Undefined]",B1=P1?P1.toStringTag:void 0;function H1(e){return null==e?void 0===e?z1:V1:B1&&B1 in Object(e)?function(e){var t=F1.call(e,M1),r=e[M1];try{e[M1]=void 0;var n=!0}catch(_n){}var o=R1.call(e);return n&&(t?e[M1]=r:delete e[M1]),o}(e):function(e){return D1.call(e)}(e)}function U1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var $1="[object AsyncFunction]",W1="[object Function]",K1="[object GeneratorFunction]",G1="[object Proxy]";function Y1(e){if(!U1(e))return!1;var t=H1(e);return t==W1||t==K1||t==$1||t==G1}var J1=L1["__core-js_shared__"],Q1=function(){var e=/[^.]+$/.exec(J1&&J1.keys&&J1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var X1=Function.prototype.toString;function Z1(e){if(null!=e){try{return X1.call(e)}catch(_n){}try{return e+""}catch(_n){}}return""}var e2=/^\[object .+?Constructor\]$/,t2=Function.prototype,r2=Object.prototype,n2=t2.toString,o2=r2.hasOwnProperty,i2=RegExp("^"+n2.call(o2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function a2(e){return!(!U1(e)||(t=e,Q1&&Q1 in t))&&(Y1(e)?i2:e2).test(Z1(e));var t}function l2(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return a2(r)?r:void 0}var s2=l2(L1,"Map"),u2=l2(Object,"create");var c2=Object.prototype.hasOwnProperty;var d2=Object.prototype.hasOwnProperty;function p2(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function f2(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function h2(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}p2.prototype.clear=function(){this.__data__=u2?u2(null):{},this.size=0},p2.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},p2.prototype.get=function(e){var t=this.__data__;if(u2){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return c2.call(t,e)?t[e]:void 0},p2.prototype.has=function(e){var t=this.__data__;return u2?void 0!==t[e]:d2.call(t,e)},p2.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=u2&&void 0===t?"__lodash_hash_undefined__":t,this},h2.prototype.clear=function(){this.size=0,this.__data__={hash:new p2,map:new(s2||q1),string:new p2}},h2.prototype.delete=function(e){var t=f2(this,e).delete(e);return this.size-=t?1:0,t},h2.prototype.get=function(e){return f2(this,e).get(e)},h2.prototype.has=function(e){return f2(this,e).has(e)},h2.prototype.set=function(e,t){var r=f2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function g2(e){var t=this.__data__=new q1(e);this.size=t.size}g2.prototype.clear=function(){this.__data__=new q1,this.size=0},g2.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},g2.prototype.get=function(e){return this.__data__.get(e)},g2.prototype.has=function(e){return this.__data__.has(e)},g2.prototype.set=function(e,t){var r=this.__data__;if(r instanceof q1){var n=r.__data__;if(!s2||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new h2(n)}return r.set(e,t),this.size=r.size,this};var v2=function(){try{var e=l2(Object,"defineProperty");return e({},"",{}),e}catch(_n){}}();function m2(e,t,r){"__proto__"==t&&v2?v2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function y2(e,t,r){(void 0!==r&&!E1(e[t],r)||void 0===r&&!(t in e))&&m2(e,t,r)}var b2=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var l=i[++n];if(!1===t(o[l],l,o))break}return e},_2="object"==typeof u&&u&&!u.nodeType&&u,x2=_2&&"object"==typeof d&&d&&!d.nodeType&&d,w2=x2&&x2.exports===_2?L1.Buffer:void 0;w2&&w2.allocUnsafe;var O2=L1.Uint8Array;function S2(e,t){var r,n,o=(r=e.buffer,n=new r.constructor(r.byteLength),new O2(n).set(new O2(r)),n);return new e.constructor(o,e.byteOffset,e.length)}var k2=Object.create,j2=function(){function e(){}return function(t){if(!U1(t))return{};if(k2)return k2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function E2(e,t){return function(r){return e(t(r))}}var C2=E2(Object.getPrototypeOf,Object),T2=Object.prototype;function q2(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||T2)}function I2(e){return null!=e&&"object"==typeof e}function A2(e){return I2(e)&&"[object Arguments]"==H1(e)}var L2=Object.prototype,P2=L2.hasOwnProperty,N2=L2.propertyIsEnumerable,F2=A2(function(){return arguments}())?A2:function(e){return I2(e)&&P2.call(e,"callee")&&!N2.call(e,"callee")},R2=Array.isArray,M2=9007199254740991;function D2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M2}function V2(e){return null!=e&&D2(e.length)&&!Y1(e)}var z2="object"==typeof u&&u&&!u.nodeType&&u,B2=z2&&"object"==typeof d&&d&&!d.nodeType&&d,H2=B2&&B2.exports===z2?L1.Buffer:void 0,U2=(H2?H2.isBuffer:void 0)||function(){return!1},$2="[object Object]",W2=Function.prototype,K2=Object.prototype,G2=W2.toString,Y2=K2.hasOwnProperty,J2=G2.call(Object);var Q2={};Q2["[object Float32Array]"]=Q2["[object Float64Array]"]=Q2["[object Int8Array]"]=Q2["[object Int16Array]"]=Q2["[object Int32Array]"]=Q2["[object Uint8Array]"]=Q2["[object Uint8ClampedArray]"]=Q2["[object Uint16Array]"]=Q2["[object Uint32Array]"]=!0,Q2["[object Arguments]"]=Q2["[object Array]"]=Q2["[object ArrayBuffer]"]=Q2["[object Boolean]"]=Q2["[object DataView]"]=Q2["[object Date]"]=Q2["[object Error]"]=Q2["[object Function]"]=Q2["[object Map]"]=Q2["[object Number]"]=Q2["[object Object]"]=Q2["[object RegExp]"]=Q2["[object Set]"]=Q2["[object String]"]=Q2["[object WeakMap]"]=!1;var X2,Z2="object"==typeof u&&u&&!u.nodeType&&u,e5=Z2&&"object"==typeof d&&d&&!d.nodeType&&d,t5=e5&&e5.exports===Z2&&I1.process,r5=function(){try{var e=e5&&e5.require&&e5.require("util").types;return e||t5&&t5.binding&&t5.binding("util")}catch(_n){}}(),n5=r5&&r5.isTypedArray,o5=n5?(X2=n5,function(e){return X2(e)}):function(e){return I2(e)&&D2(e.length)&&!!Q2[H1(e)]};function i5(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var a5=Object.prototype.hasOwnProperty;function l5(e,t,r){var n=e[t];a5.call(e,t)&&E1(n,r)&&(void 0!==r||t in e)||m2(e,t,r)}var s5=9007199254740991,u5=/^(?:0|[1-9]\d*)$/;function c5(e,t){var r=typeof e;return!!(t=null==t?s5:t)&&("number"==r||"symbol"!=r&&u5.test(e))&&e>-1&&e%1==0&&e<t}var d5=Object.prototype.hasOwnProperty;function p5(e,t){var r=R2(e),n=!r&&F2(e),o=!r&&!n&&U2(e),i=!r&&!n&&!o&&o5(e),a=r||n||o||i,l=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=l.length;for(var u in e)!t&&!d5.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||c5(u,s))||l.push(u);return l}var f5=Object.prototype.hasOwnProperty;function h5(e){if(!U1(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=q2(e),r=[];for(var n in e)("constructor"!=n||!t&&f5.call(e,n))&&r.push(n);return r}function g5(e){return V2(e)?p5(e,!0):h5(e)}function v5(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=void 0;void 0===s&&(s=e[l]),o?m2(r,l,s):l5(r,l,s)}return r}(e,g5(e))}function m5(e,t,r,n,o,i,a){var l=i5(e,r),s=i5(t,r),u=a.get(s);if(u)y2(e,r,u);else{var c,d=i?i(l,s,r+"",e,t,a):void 0,p=void 0===d;if(p){var f=R2(s),h=!f&&U2(s),g=!f&&!h&&o5(s);d=s,f||h||g?R2(l)?d=l:I2(c=l)&&V2(c)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(l):h?(p=!1,d=s.slice()):g?(p=!1,d=S2(s)):d=[]:function(e){if(!I2(e)||H1(e)!=$2)return!1;var t=C2(e);if(null===t)return!0;var r=Y2.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&G2.call(r)==J2}(s)||F2(s)?(d=l,F2(l)?d=v5(l):U1(l)&&!Y1(l)||(d=function(e){return"function"!=typeof e.constructor||q2(e)?{}:j2(C2(e))}(s))):p=!1}p&&(a.set(s,d),o(d,s,n,i,a),a.delete(s)),y2(e,r,d)}}function y5(e,t,r,n,o){e!==t&&b2(t,(function(i,a){if(o||(o=new g2),U1(i))m5(e,t,a,r,y5,n,o);else{var l=n?n(i5(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),y2(e,a,l)}}),g5)}function b5(e){return e}var _5=Math.max;var x5=v2?function(e,t){return v2(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:b5,w5=Date.now;var O5=function(e){var t=0,r=0;return function(){var n=w5(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(x5);function S5(e,t){return O5(function(e,t,r){return t=_5(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=_5(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,l)}}(e,t,b5),e+"")}var k5,j5=(k5=function(e,t,r){y5(e,t,r)},S5((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=k5.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!U1(r))return!1;var n=typeof t;return!!("number"==n?V2(r)&&c5(t,r.length):"string"==n&&t in r)&&E1(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&k5(e,a,r,o)}return e}))),E5=function(e){var t=e.zDepth,r=e.radius,n=e.background,o=e.children,i=e.styles,a=d1(j5({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===i?{}:i),{"zDepth-1":1===t});return R.createElement("div",{style:a.wrap},R.createElement("div",{style:a.bg}),R.createElement("div",{style:a.content},o))};E5.propTypes={background:Ct.string,zDepth:Ct.oneOf([0,1,2,3,4,5]),radius:Ct.number,styles:Ct.object},E5.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var C5=function(){return L1.Date.now()},T5=/\s/;var q5=/^\s+/;function I5(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&T5.test(e.charAt(t)););return t}(e)+1).replace(q5,""):e}var A5="[object Symbol]";function L5(e){return"symbol"==typeof e||I2(e)&&H1(e)==A5}var P5=NaN,N5=/^[-+]0x[0-9a-f]+$/i,F5=/^0b[01]+$/i,R5=/^0o[0-7]+$/i,M5=parseInt;function D5(e){if("number"==typeof e)return e;if(L5(e))return P5;if(U1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=U1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=I5(e);var r=F5.test(e);return r||R5.test(e)?M5(e.slice(2),r?2:8):N5.test(e)?P5:+e}var V5="Expected a function",z5=Math.max,B5=Math.min;function H5(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(V5);function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=C5();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?B5(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=C5(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=D5(t)||0,U1(r)&&(c=!!r.leading,i=(d="maxWait"in r)?z5(D5(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(C5())},m}var U5=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var $5=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,function(e,t,r){var n=r.getBoundingClientRect(),o=n.width,i=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),u<0?u=0:u>i&&(u=i);var c=s/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}}(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e);var t=r.getContainerRenderWindow();t.addEventListener("mousemove",r.handleChange),t.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return U1(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),H5(e,t,{leading:n,maxWait:t,trailing:o})}((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),U5(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,o=t.black,i=t.pointer,a=t.circle,l=d1({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return R.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),R.createElement("div",{style:l.white,className:"saturation-white"},R.createElement("div",{style:l.black,className:"saturation-black"}),R.createElement("div",{style:l.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:l.circle}))))}}]),t}(v.PureComponent||v.Component);function W5(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var K5=E2(Object.keys,Object),G5=Object.prototype.hasOwnProperty;function Y5(e){return V2(e)?p5(e):function(e){if(!q2(e))return K5(e);var t=[];for(var r in Object(e))G5.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var J5,Q5=(J5=function(e,t){return e&&b2(e,t,Y5)},function(e,t){if(null==e)return e;if(!V2(e))return J5(e,t);for(var r=e.length,n=-1,o=Object(e);++n<r&&!1!==t(o[n],n,o););return e});function X5(e,t){var r;return(R2(e)?W5:Q5)(e,"function"==typeof(r=t)?r:b5)}function Z5(e){return Z5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z5(e)}var e3=/^\s+/,t3=/\s+$/;function r3(e,t){if(t=t||{},(e=e||"")instanceof r3)return e;if(!(this instanceof r3))return new r3(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,i=null,a=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(e3,"").replace(t3,"").toLowerCase();var t,r=!1;if(b3[e])e=b3[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=A3.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=A3.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=A3.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=A3.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=A3.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=A3.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=A3.hex8.exec(e))return{r:S3(t[1]),g:S3(t[2]),b:S3(t[3]),a:C3(t[4]),format:r?"name":"hex8"};if(t=A3.hex6.exec(e))return{r:S3(t[1]),g:S3(t[2]),b:S3(t[3]),format:r?"name":"hex"};if(t=A3.hex4.exec(e))return{r:S3(t[1]+""+t[1]),g:S3(t[2]+""+t[2]),b:S3(t[3]+""+t[3]),a:C3(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=A3.hex3.exec(e))return{r:S3(t[1]+""+t[1]),g:S3(t[2]+""+t[2]),b:S3(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==Z5(e)&&(L3(e.r)&&L3(e.g)&&L3(e.b)?(t=function(e,t,r){return{r:255*w3(e,255),g:255*w3(t,255),b:255*w3(r,255)}}(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):L3(e.h)&&L3(e.s)&&L3(e.v)?(n=j3(e.s),o=j3(e.v),t=function(e,t,r){e=6*w3(e,360),t=w3(t,100),r=w3(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),l=r*(1-(1-o)*t),s=n%6,u=[r,a,i,i,l,r][s],c=[l,r,r,a,i,i][s],d=[i,i,l,r,r,a][s];return{r:255*u,g:255*c,b:255*d}}(e.h,n,o),a=!0,l="hsv"):L3(e.h)&&L3(e.s)&&L3(e.l)&&(n=j3(e.s),i=j3(e.l),t=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=w3(e,360),t=w3(t,100),r=w3(r,100),0===t)n=o=i=r;else{var l=r<.5?r*(1+t):r+t-r*t,s=2*r-l;n=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,n,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a));return r=x3(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function n3(e,t,r){e=w3(e,255),t=w3(t,255),r=w3(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:l}}function o3(e,t,r){e=w3(e,255),t=w3(t,255),r=w3(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:l}}function i3(e,t,r,n){var o=[k3(Math.round(e).toString(16)),k3(Math.round(t).toString(16)),k3(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function a3(e,t,r,n){return[k3(E3(n)),k3(Math.round(e).toString(16)),k3(Math.round(t).toString(16)),k3(Math.round(r).toString(16))].join("")}function l3(e,t){t=0===t?0:t||10;var r=r3(e).toHsl();return r.s-=t/100,r.s=O3(r.s),r3(r)}function s3(e,t){t=0===t?0:t||10;var r=r3(e).toHsl();return r.s+=t/100,r.s=O3(r.s),r3(r)}function u3(e){return r3(e).desaturate(100)}function c3(e,t){t=0===t?0:t||10;var r=r3(e).toHsl();return r.l+=t/100,r.l=O3(r.l),r3(r)}function d3(e,t){t=0===t?0:t||10;var r=r3(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),r3(r)}function p3(e,t){t=0===t?0:t||10;var r=r3(e).toHsl();return r.l-=t/100,r.l=O3(r.l),r3(r)}function f3(e,t){var r=r3(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,r3(r)}function h3(e){var t=r3(e).toHsl();return t.h=(t.h+180)%360,r3(t)}function g3(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=r3(e).toHsl(),n=[r3(e)],o=360/t,i=1;i<t;i++)n.push(r3({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function v3(e){var t=r3(e).toHsl(),r=t.h;return[r3(e),r3({h:(r+72)%360,s:t.s,l:t.l}),r3({h:(r+216)%360,s:t.s,l:t.l})]}function m3(e,t,r){t=t||6,r=r||30;var n=r3(e).toHsl(),o=360/r,i=[r3(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(r3(n));return i}function y3(e,t){t=t||6;for(var r=r3(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],l=1/t;t--;)a.push(r3({h:n,s:o,v:i})),i=(i+l)%1;return a}r3.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=x3(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=o3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o3(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=n3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n3(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i3(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[k3(Math.round(e).toString(16)),k3(Math.round(t).toString(16)),k3(Math.round(r).toString(16)),k3(E3(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*w3(this._r,255))+"%",g:Math.round(100*w3(this._g,255))+"%",b:Math.round(100*w3(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*w3(this._r,255))+"%, "+Math.round(100*w3(this._g,255))+"%, "+Math.round(100*w3(this._b,255))+"%)":"rgba("+Math.round(100*w3(this._r,255))+"%, "+Math.round(100*w3(this._g,255))+"%, "+Math.round(100*w3(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_3[i3(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a3(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=r3(e);r="#"+a3(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r3(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(c3,arguments)},brighten:function(){return this._applyModification(d3,arguments)},darken:function(){return this._applyModification(p3,arguments)},desaturate:function(){return this._applyModification(l3,arguments)},saturate:function(){return this._applyModification(s3,arguments)},greyscale:function(){return this._applyModification(u3,arguments)},spin:function(){return this._applyModification(f3,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(m3,arguments)},complement:function(){return this._applyCombination(h3,arguments)},monochromatic:function(){return this._applyCombination(y3,arguments)},splitcomplement:function(){return this._applyCombination(v3,arguments)},triad:function(){return this._applyCombination(g3,[3])},tetrad:function(){return this._applyCombination(g3,[4])}},r3.fromRatio=function(e,t){if("object"==Z5(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:j3(e[n]));e=r}return r3(e,t)},r3.equals=function(e,t){return!(!e||!t)&&r3(e).toRgbString()==r3(t).toRgbString()},r3.random=function(){return r3.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r3.mix=function(e,t,r){r=0===r?0:r||50;var n=r3(e).toRgb(),o=r3(t).toRgb(),i=r/100;return r3({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},r3.readability=function(e,t){var r=r3(e),n=r3(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},r3.isReadable=function(e,t,r){var n,o,i=r3.readability(e,t);switch(o=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},r3.mostReadable=function(e,t,r){var n,o,i,a,l=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var u=0;u<t.length;u++)(n=r3.readability(e,t[u]))>s&&(s=n,l=r3(t[u]));return r3.isReadable(e,l,{level:i,size:a})||!o?l:(r.includeFallbackColors=!1,r3.mostReadable(e,["#fff","#000"],r))};var b3=r3.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_3=r3.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(b3);function x3(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function w3(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O3(e){return Math.min(1,Math.max(0,e))}function S3(e){return parseInt(e,16)}function k3(e){return 1==e.length?"0"+e:""+e}function j3(e){return e<=1&&(e=100*e+"%"),e}function E3(e){return Math.round(255*parseFloat(e)).toString(16)}function C3(e){return S3(e)/255}var T3,q3,I3,A3=(q3="[\\s|\\(]+("+(T3="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+T3+")[,|\\s]+("+T3+")\\s*\\)?",I3="[\\s|\\(]+("+T3+")[,|\\s]+("+T3+")[,|\\s]+("+T3+")[,|\\s]+("+T3+")\\s*\\)?",{CSS_UNIT:new RegExp(T3),rgb:new RegExp("rgb"+q3),rgba:new RegExp("rgba"+I3),hsl:new RegExp("hsl"+q3),hsla:new RegExp("hsla"+I3),hsv:new RegExp("hsv"+q3),hsva:new RegExp("hsva"+I3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function L3(e){return!!A3.CSS_UNIT.exec(e)}var P3=function(e){var t=0,r=0;return X5(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(r+=1)}})),t===r&&e},N3=function(e,t){var r=e.hex?r3(e.hex):r3(e),n=r.toHsl(),o=r.toHsv(),i=r.toRgb(),a=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||n.h,source:e.source}},F3=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&r3(e).isValid()},R3=function(e){if(!e)return"#fff";var t=N3(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},M3=function(e,t){return r3(t+" ("+e.replace("°","")+")")._ok},D3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var z3=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(P3(e)){var n=N3(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(P3(e)){var n=N3(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=D3({},N3(e.color,0)),t.debounce=H5((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),V3(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),R.createElement(e,D3({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return D3({},N3(e.color,t.oldHue))}}]),r}(v.PureComponent||v.Component);return t.propTypes=D3({},e.propTypes),t.defaultProps=D3({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},B3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function U3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const W3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=U3(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},U3(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),H3(n,[{key:"render",value:function(){return R.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},R.createElement(e,B3({},this.props,this.state)))}}]),n}(R.Component)}((function(e){var t=e.color,r=e.style,n=e.onClick,o=void 0===n?function(){}:n,i=e.onHover,a=e.title,l=void 0===a?t:a,s=e.children,u=e.focus,c=e.focusStyle,d="transparent"===t,p=d1({default:{swatch:$3({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?void 0===c?{}:c:{})}}),f={};return i&&(f.onMouseOver=function(e){return i(t,e)}),R.createElement("div",$3({style:p.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},f),s,d&&R.createElement(g1,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var K3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G3=function(e){var t=e.rgb,r=e.hsl,n=e.width,o=e.height,i=e.onChange,a=e.direction,l=e.style,s=e.renderers,u=e.pointer,c=e.className,d=void 0===c?"":c,p=d1({default:{picker:{position:"relative",width:n,height:o},alpha:{radius:"2px",style:l}}});return R.createElement("div",{style:p.picker,className:"alpha-picker "+d},R.createElement(b1,K3({},p.alpha,{rgb:t,hsl:r,pointer:u,renderers:s,onChange:i,direction:a})))};function Y3(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}G3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=d1({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return R.createElement("div",{style:r.picker})}},z3(G3);function J3(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new h2;++t<r;)this.add(e[t])}function Q3(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}J3.prototype.add=J3.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},J3.prototype.has=function(e){return this.__data__.has(e)};var X3=1,Z3=2;function e4(e,t,r,n,o,i){var a=r&X3,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=r&Z3?new J3:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!Q3(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||o(h,e,r,n,i)))return f.push(t);var a}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function t4(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function r4(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var n4=1,o4=2,i4="[object Boolean]",a4="[object Date]",l4="[object Error]",s4="[object Map]",u4="[object Number]",c4="[object RegExp]",d4="[object Set]",p4="[object String]",f4="[object Symbol]",h4="[object ArrayBuffer]",g4="[object DataView]",v4=P1?P1.prototype:void 0,m4=v4?v4.valueOf:void 0;var y4=Object.prototype.propertyIsEnumerable,b4=Object.getOwnPropertySymbols,_4=b4?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(b4(e),(function(t){return y4.call(e,t)})))}:function(){return[]};function x4(e){return function(e,t,r){var n=t(e);return R2(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Y5,_4)}var w4=1,O4=Object.prototype.hasOwnProperty;var S4=l2(L1,"DataView"),k4=l2(L1,"Promise"),j4=l2(L1,"Set"),E4=l2(L1,"WeakMap"),C4="[object Map]",T4="[object Promise]",q4="[object Set]",I4="[object WeakMap]",A4="[object DataView]",L4=Z1(S4),P4=Z1(s2),N4=Z1(k4),F4=Z1(j4),R4=Z1(E4),M4=H1;(S4&&M4(new S4(new ArrayBuffer(1)))!=A4||s2&&M4(new s2)!=C4||k4&&M4(k4.resolve())!=T4||j4&&M4(new j4)!=q4||E4&&M4(new E4)!=I4)&&(M4=function(e){var t=H1(e),r="[object Object]"==t?e.constructor:void 0,n=r?Z1(r):"";if(n)switch(n){case L4:return A4;case P4:return C4;case N4:return T4;case F4:return q4;case R4:return I4}return t});var D4=1,V4="[object Arguments]",z4="[object Array]",B4="[object Object]",H4=Object.prototype.hasOwnProperty;function U4(e,t,r,n,o,i){var a=R2(e),l=R2(t),s=a?z4:M4(e),u=l?z4:M4(t),c=(s=s==V4?B4:s)==B4,d=(u=u==V4?B4:u)==B4,p=s==u;if(p&&U2(e)){if(!U2(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new g2),a||o5(e)?e4(e,t,r,n,o,i):function(e,t,r,n,o,i,a){switch(r){case g4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case h4:return!(e.byteLength!=t.byteLength||!i(new O2(e),new O2(t)));case i4:case a4:case u4:return E1(+e,+t);case l4:return e.name==t.name&&e.message==t.message;case c4:case p4:return e==t+"";case s4:var l=t4;case d4:var s=n&n4;if(l||(l=r4),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=o4,a.set(e,t);var c=e4(l(e),l(t),n,o,i,a);return a.delete(e),c;case f4:if(m4)return m4.call(e)==m4.call(t)}return!1}(e,t,s,r,n,o,i);if(!(r&D4)){var f=c&&H4.call(e,"__wrapped__"),h=d&&H4.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new g2),o(g,v,r,n,i)}}return!!p&&(i||(i=new g2),function(e,t,r,n,o,i){var a=r&w4,l=x4(e),s=l.length;if(s!=x4(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:O4.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,i))}function $4(e,t,r,n,o){return e===t||(null==e||null==t||!I2(e)&&!I2(t)?e!=e&&t!=t:U4(e,t,r,n,$4,o))}var W4=1,K4=2;function G4(e){return e==e&&!U1(e)}function Y4(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function J4(e){var t=function(e){for(var t=Y5(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,G4(o)]}return t}(e);return 1==t.length&&t[0][2]?Y4(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var o=r.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=r[o])[0],s=e[l],u=a[1];if(a[2]){if(void 0===s&&!(l in e))return!1}else{var c=new g2;if(!$4(u,s,W4|K4,n,c))return!1}}return!0}(r,0,t)}}var Q4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X4=/^\w*$/;function Z4(e,t){if(R2(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!L5(e))||(X4.test(e)||!Q4.test(e)||null!=t&&e in Object(t))}var e6="Expected a function";function t6(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(e6);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(t6.Cache||h2),r}t6.Cache=h2;var r6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n6=/\\(\\)?/g,o6=function(e){var t=t6(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r6,(function(e,r,n,o){t.push(n?o.replace(n6,"$1"):r||e)})),t})),i6=1/0,a6=P1?P1.prototype:void 0,l6=a6?a6.toString:void 0;function s6(e){if("string"==typeof e)return e;if(R2(e))return Y3(e,s6)+"";if(L5(e))return l6?l6.call(e):"";var t=e+"";return"0"==t&&1/e==-i6?"-0":t}function u6(e,t){return R2(e)?e:Z4(e,t)?[e]:o6(function(e){return null==e?"":s6(e)}(e))}var c6=1/0;function d6(e){if("string"==typeof e||L5(e))return e;var t=e+"";return"0"==t&&1/e==-c6?"-0":t}function p6(e,t){for(var r=0,n=(t=u6(t,e)).length;null!=e&&r<n;)e=e[d6(t[r++])];return r&&r==n?e:void 0}function f6(e,t){return null!=e&&t in Object(e)}function h6(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=u6(t,e)).length,i=!1;++n<o;){var a=d6(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&D2(o)&&c5(a,o)&&(R2(e)||F2(e))}(e,t,f6)}var g6=1,v6=2;function m6(e,t){return Z4(e)&&G4(t)?Y4(d6(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:p6(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?h6(r,e):$4(t,n,g6|v6)}}function y6(e){return Z4(e)?(t=d6(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return p6(t,e)}}(e);var t}function b6(e,t){var r=-1,n=V2(e)?Array(e.length):[];return Q5(e,(function(e,o,i){n[++r]=t(e,o,i)})),n}function _6(e,t){var r;return(R2(e)?Y3:b6)(e,"function"==typeof(r=t)?r:null==r?b5:"object"==typeof r?R2(r)?m6(r[0],r[1]):J4(r):y6(r))}var x6=function(e){var t=e.colors,r=e.onClick,n=e.onSwatchHover,o=d1({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return R.createElement("div",{style:o.swatches},_6(t,(function(e){return R.createElement(W3,{key:e,color:e,style:o.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),R.createElement("div",{style:o.clear}))},w6=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d="transparent"===n,p=function(e,r){F3(e)&&t({hex:e,source:"hex"},r)},f=d1(j5({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:R3(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},s),{"hide-triangle":"hide"===a});return R.createElement("div",{style:f.card,className:"block-picker "+c},R.createElement("div",{style:f.triangle}),R.createElement("div",{style:f.head},d&&R.createElement(g1,{borderRadius:"6px 6px 0 0"}),R.createElement("div",{style:f.label},n)),R.createElement("div",{style:f.body},R.createElement(x6,{colors:o,onClick:p,onSwatchHover:r}),R.createElement(O1,{style:{input:f.input},value:n,onChange:p})))};w6.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),colors:Ct.arrayOf(Ct.string),triangle:Ct.oneOf(["top","hide"]),styles:Ct.object},w6.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},z3(w6);var O6="#ffcdd2",S6="#e57373",k6="#f44336",j6="#d32f2f",E6="#b71c1c",C6="#f8bbd0",T6="#f06292",q6="#e91e63",I6="#c2185b",A6="#880e4f",L6="#e1bee7",P6="#ba68c8",N6="#9c27b0",F6="#7b1fa2",R6="#4a148c",M6="#d1c4e9",D6="#9575cd",V6="#673ab7",z6="#512da8",B6="#311b92",H6="#c5cae9",U6="#7986cb",$6="#3f51b5",W6="#303f9f",K6="#1a237e",G6="#bbdefb",Y6="#64b5f6",J6="#2196f3",Q6="#1976d2",X6="#0d47a1",Z6="#b3e5fc",e8="#4fc3f7",t8="#03a9f4",r8="#0288d1",n8="#01579b",o8="#b2ebf2",i8="#4dd0e1",a8="#00bcd4",l8="#0097a7",s8="#006064",u8="#b2dfdb",c8="#4db6ac",d8="#009688",p8="#00796b",f8="#004d40",h8="#c8e6c9",g8="#81c784",v8="#4caf50",m8="#388e3c",y8="#dcedc8",b8="#aed581",_8="#8bc34a",x8="#689f38",w8="#33691e",O8="#f0f4c3",S8="#dce775",k8="#cddc39",j8="#afb42b",E8="#827717",C8="#fff9c4",T8="#fff176",q8="#ffeb3b",I8="#fbc02d",A8="#f57f17",L8="#ffecb3",P8="#ffd54f",N8="#ffc107",F8="#ffa000",R8="#ff6f00",M8="#ffe0b2",D8="#ffb74d",V8="#ff9800",z8="#f57c00",B8="#e65100",H8="#ffccbc",U8="#ff8a65",$8="#ff5722",W8="#e64a19",K8="#bf360c",G8="#d7ccc8",Y8="#a1887f",J8="#795548",Q8="#5d4037",X8="#3e2723",Z8="#cfd8dc",e9="#90a4ae",t9="#607d8b",r9="#455a64",n9="#263238",o9=function(e){var t=e.color,r=e.onClick,n=e.onSwatchHover,o=e.hover,i=e.active,a=e.circleSize,l=e.circleSpacing,s=d1({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:i});return R.createElement("div",{style:s.swatch},R.createElement(W3,{style:s.Swatch,color:t,onClick:r,onHover:n,focusStyle:{boxShadow:s.Swatch.boxShadow+", 0 0 5px "+t}}))};o9.defaultProps={circleSize:28,circleSpacing:14};const i9=u1(o9);var a9=function(e){var t=e.width,r=e.onChange,n=e.onSwatchHover,o=e.colors,i=e.hex,a=e.circleSize,l=e.styles,s=void 0===l?{}:l,u=e.circleSpacing,c=e.className,d=void 0===c?"":c,p=d1(j5({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},s)),f=function(e,t){return r({hex:e,source:"hex"},t)};return R.createElement("div",{style:p.card,className:"circle-picker "+d},_6(o,(function(e){return R.createElement(i9,{key:e,color:e,onClick:f,onSwatchHover:n,active:i===e.toLowerCase(),circleSize:a,circleSpacing:u})})))};function l9(e){return void 0===e}a9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),circleSize:Ct.number,circleSpacing:Ct.number,styles:Ct.object},a9.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[k6,q6,N6,V6,$6,J6,t8,a8,d8,v8,_8,k8,q8,N8,V8,$8,J8,t9],styles:{}},z3(a9);var s9={};Object.defineProperty(s9,"__esModule",{value:!0});var u9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c9=function(e){return e&&e.__esModule?e:{default:e}}(v);var d9=s9.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return c9.default.createElement("svg",u9({viewBox:"0 0 24 24",style:u9({fill:r,width:o,height:a},s)},u),c9.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},p9=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f9=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?F3(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(l9(e.s)?r.props.hsl.s:e.s),l:Number(l9(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p9(t,[{key:"render",value:function(){var e=this,t=d1({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),R.createElement("div",{style:t.alpha},R.createElement(O1,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(O1,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),R.createElement("div",{style:t.alpha},R.createElement(O1,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),R.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,R.createElement("div",{style:t.toggle},R.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},R.createElement(d9,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(R.Component);f9.defaultProps={view:"hex"};var h9=function(){var e=d1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return R.createElement("div",{style:e.picker})},g9=function(){var e=d1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return R.createElement("div",{style:e.picker})},v9=function(e){var t=e.width,r=e.onChange,n=e.disableAlpha,o=e.rgb,i=e.hsl,a=e.hsv,l=e.hex,s=e.renderers,u=e.styles,c=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,f=e.defaultView,h=d1(j5({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:n});return R.createElement("div",{style:h.picker,className:"chrome-picker "+p},R.createElement("div",{style:h.saturation},R.createElement($5,{style:h.Saturation,hsl:i,hsv:a,pointer:g9,onChange:r})),R.createElement("div",{style:h.body},R.createElement("div",{style:h.controls,className:"flexbox-fix"},R.createElement("div",{style:h.color},R.createElement("div",{style:h.swatch},R.createElement("div",{style:h.active}),R.createElement(g1,{renderers:s}))),R.createElement("div",{style:h.toggles},R.createElement("div",{style:h.hue},R.createElement(j1,{style:h.Hue,hsl:i,pointer:h9,onChange:r})),R.createElement("div",{style:h.alpha},R.createElement(b1,{style:h.Alpha,rgb:o,hsl:i,pointer:h9,renderers:s,onChange:r})))),R.createElement(f9,{rgb:o,hsl:i,hex:l,view:f,onChange:r,disableAlpha:n})))};v9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),disableAlpha:Ct.bool,styles:Ct.object,defaultView:Ct.oneOf(["hex","rgb","hsl"])},v9.defaultProps={width:225,disableAlpha:!1,styles:{}};const m9=z3(v9);var y9=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.active,a=d1({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:R3(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return R.createElement(W3,{style:a.color,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},R.createElement("div",{style:a.dot}))},b9=function(e){var t=e.hex,r=e.rgb,n=e.onChange,o=d1({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(e,t){e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return R.createElement("div",{style:o.fields,className:"flexbox-fix"},R.createElement("div",{style:o.active}),R.createElement(O1,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:i}),R.createElement(O1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:i}),R.createElement(O1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:i}),R.createElement(O1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:i}))},_9=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.colors,o=e.hex,i=e.rgb,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=d1(j5({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(e,r){e.hex?F3(e.hex)&&t({hex:e.hex,source:"hex"},r):t(e,r)};return R.createElement(E5,{style:c.Compact,styles:l},R.createElement("div",{style:c.compact,className:"compact-picker "+u},R.createElement("div",null,_6(n,(function(e){return R.createElement(y9,{key:e,color:e,active:e.toLowerCase()===o,onClick:d,onSwatchHover:r})})),R.createElement("div",{style:c.clear})),R.createElement(b9,{hex:o,rgb:i,onChange:d})))};_9.propTypes={colors:Ct.arrayOf(Ct.string),styles:Ct.object},_9.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},z3(_9);const x9=u1((function(e){var t=e.hover,r=e.color,n=e.onClick,o=e.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=d1({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:t});return R.createElement("div",{style:a.swatch},R.createElement(W3,{color:r,onClick:n,onHover:o,focusStyle:i}))}));var w9=function(e){var t=e.width,r=e.colors,n=e.onChange,o=e.onSwatchHover,i=e.triangle,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=d1(j5({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),d=function(e,t){return n({hex:e,source:"hex"},t)};return R.createElement("div",{style:c.card,className:"github-picker "+u},R.createElement("div",{style:c.triangleShadow}),R.createElement("div",{style:c.triangle}),_6(r,(function(e){return R.createElement(x9,{color:e,key:e,onClick:d,onSwatchHover:o})})))};w9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),colors:Ct.arrayOf(Ct.string),triangle:Ct.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Ct.object},w9.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},z3(w9);var O9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S9=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.hsl,i=e.direction,a=e.pointer,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=d1(j5({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},s));return R.createElement("div",{style:d.picker,className:"hue-picker "+c},R.createElement(j1,O9({},d.hue,{hsl:o,pointer:a,onChange:function(e){return n({a:1,h:e.h,l:.5,s:1})},direction:i})))};S9.propTypes={styles:Ct.object},S9.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=d1({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return R.createElement("div",{style:r.picker})},styles:{}},z3(S9);z3((function(e){var t=e.onChange,r=e.hex,n=e.rgb,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=d1(j5({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),u=function(e,r){e.hex?F3(e.hex)&&t({hex:e.hex,source:"hex"},r):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r)};return R.createElement(E5,{styles:i},R.createElement("div",{style:s.material,className:"material-picker "+l},R.createElement(O1,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),R.createElement("div",{style:s.split,className:"flexbox-fix"},R.createElement("div",{style:s.third},R.createElement(O1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u})),R.createElement("div",{style:s.third},R.createElement(O1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u})),R.createElement("div",{style:s.third},R.createElement(O1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u})))))}));var k9=function(e){var t=e.onChange,r=e.rgb,n=e.hsv,o=e.hex,i=d1({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,o){e["#"]?F3(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},o)};return R.createElement("div",{style:i.fields},R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(n.h),onChange:a}),R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:a}),R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:a}),R.createElement("div",{style:i.divider}),R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:a}),R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:a}),R.createElement(O1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:a}),R.createElement("div",{style:i.divider}),R.createElement(O1,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),R.createElement("div",{style:i.fieldSymbols},R.createElement("div",{style:i.symbol},"°"),R.createElement("div",{style:i.symbol},"%"),R.createElement("div",{style:i.symbol},"%")))},j9=function(e){var t=e.hsl,r=d1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return R.createElement("div",{style:r.picker})},E9=function(){var e=d1({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return R.createElement("div",{style:e.pointer},R.createElement("div",{style:e.left},R.createElement("div",{style:e.leftInside})),R.createElement("div",{style:e.right},R.createElement("div",{style:e.rightInside})))},C9=function(e){var t=e.onClick,r=e.label,n=e.children,o=e.active,i=d1({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return R.createElement("div",{style:i.button,onClick:t},r||n)},T9=function(e){var t=e.rgb,r=e.currentColor,n=d1({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return R.createElement("div",null,R.createElement("div",{style:n.label},"new"),R.createElement("div",{style:n.swatches},R.createElement("div",{style:n.new}),R.createElement("div",{style:n.current})),R.createElement("div",{style:n.label},"current"))},q9=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var I9=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:e.hex},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),q9(t,[{key:"render",value:function(){var e=this.props,t=e.styles,r=void 0===t?{}:t,n=e.className,o=void 0===n?"":n,i=d1(j5({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return R.createElement("div",{style:i.picker,className:"photoshop-picker "+o},R.createElement("div",{style:i.head},this.props.header),R.createElement("div",{style:i.body,className:"flexbox-fix"},R.createElement("div",{style:i.saturation},R.createElement($5,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:j9,onChange:this.props.onChange})),R.createElement("div",{style:i.hue},R.createElement(j1,{direction:"vertical",hsl:this.props.hsl,pointer:E9,onChange:this.props.onChange})),R.createElement("div",{style:i.controls},R.createElement("div",{style:i.top,className:"flexbox-fix"},R.createElement("div",{style:i.previews},R.createElement(T9,{rgb:this.props.rgb,currentColor:this.state.currentColor})),R.createElement("div",{style:i.actions},R.createElement(C9,{label:"OK",onClick:this.props.onAccept,active:!0}),R.createElement(C9,{label:"Cancel",onClick:this.props.onCancel}),R.createElement(k9,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(R.Component);I9.propTypes={header:Ct.string,styles:Ct.object},I9.defaultProps={header:"Color Picker",styles:{}},z3(I9);var A9=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.disableAlpha,a=d1({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),l=function(e,o){e.hex?F3(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},o))};return R.createElement("div",{style:a.fields,className:"flexbox-fix"},R.createElement("div",{style:a.double},R.createElement(O1,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),R.createElement("div",{style:a.single},R.createElement(O1,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.single},R.createElement(O1,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.single},R.createElement(O1,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.alpha},R.createElement(O1,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*r.a),onChange:l,dragLabel:"true",dragMax:"100"})))},L9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P9=function(e){var t=e.colors,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=d1({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){n({hex:e,source:"hex"},t)};return R.createElement("div",{style:i.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,r=""+t.color+(t.title||"");return R.createElement("div",{key:r,style:i.swatchWrap},R.createElement(W3,L9({},t,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};P9.propTypes={colors:Ct.arrayOf(Ct.oneOfType([Ct.string,Ct.shape({color:Ct.string,title:Ct.string})])).isRequired};var N9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F9=function(e){var t=e.width,r=e.rgb,n=e.hex,o=e.hsv,i=e.hsl,a=e.onChange,l=e.onSwatchHover,s=e.disableAlpha,u=e.presetColors,c=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,h=void 0===f?"":f,g=d1(j5({default:N9({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:s});return R.createElement("div",{style:g.picker,className:"sketch-picker "+h},R.createElement("div",{style:g.saturation},R.createElement($5,{style:g.Saturation,hsl:i,hsv:o,onChange:a})),R.createElement("div",{style:g.controls,className:"flexbox-fix"},R.createElement("div",{style:g.sliders},R.createElement("div",{style:g.hue},R.createElement(j1,{style:g.Hue,hsl:i,onChange:a})),R.createElement("div",{style:g.alpha},R.createElement(b1,{style:g.Alpha,rgb:r,hsl:i,renderers:c,onChange:a}))),R.createElement("div",{style:g.color},R.createElement(g1,null),R.createElement("div",{style:g.activeColor}))),R.createElement(A9,{rgb:r,hsl:i,hex:n,onChange:a,disableAlpha:s}),R.createElement(P9,{colors:u,onClick:a,onSwatchHover:l}))};F9.propTypes={disableAlpha:Ct.bool,width:Ct.oneOfType([Ct.string,Ct.number]),styles:Ct.object},F9.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},z3(F9);var R9=function(e){var t=e.hsl,r=e.offset,n=e.onClick,o=void 0===n?function(){}:n,i=e.active,a=e.first,l=e.last,s=d1({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:l});return R.createElement("div",{style:s.swatch,onClick:function(e){return o({h:t.h,s:.5,l:r,source:"hsl"},e)}})},M9=function(e){var t=e.onClick,r=e.hsl,n=d1({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return R.createElement("div",{style:n.swatches},R.createElement("div",{style:n.swatch},R.createElement(R9,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),R.createElement("div",{style:n.swatch},R.createElement(R9,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(R9,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(R9,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(R9,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),R.createElement("div",{style:n.clear}))},D9=function(e){var t=e.hsl,r=e.onChange,n=e.pointer,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=d1(j5({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return R.createElement("div",{style:s.wrap||{},className:"slider-picker "+l},R.createElement("div",{style:s.hue},R.createElement(j1,{style:s.Hue,hsl:t,pointer:n,onChange:r})),R.createElement("div",{style:s.swatches},R.createElement(M9,{hsl:t,onClick:r})))};D9.propTypes={styles:Ct.object},D9.defaultProps={pointer:function(){var e=d1({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return R.createElement("div",{style:e.picker})},styles:{}},z3(D9);var V9={};Object.defineProperty(V9,"__esModule",{value:!0});var z9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B9=function(e){return e&&e.__esModule?e:{default:e}}(v);var H9=V9.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return B9.default.createElement("svg",z9({viewBox:"0 0 24 24",style:z9({fill:r,width:o,height:a},s)},u),B9.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},U9=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.first,a=e.last,l=e.active,s=d1({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:R3(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return R.createElement(W3,{color:t,style:s.color,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},R.createElement("div",{style:s.check},R.createElement(H9,null)))},$9=function(e){var t=e.onClick,r=e.onSwatchHover,n=e.group,o=e.active,i=d1({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return R.createElement("div",{style:i.group},_6(n,(function(e,i){return R.createElement(U9,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===n.length-1,onClick:t,onSwatchHover:r})})))},W9=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=d1(j5({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},s)),p=function(e,t){return n({hex:e,source:"hex"},t)};return R.createElement("div",{style:d.picker,className:"swatches-picker "+c},R.createElement(E5,null,R.createElement("div",{style:d.overflow},R.createElement("div",{style:d.body},_6(i,(function(e){return R.createElement($9,{key:e.toString(),group:e,active:a,onClick:p,onSwatchHover:o})})),R.createElement("div",{style:d.clear})))))};W9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),height:Ct.oneOfType([Ct.string,Ct.number]),colors:Ct.arrayOf(Ct.arrayOf(Ct.string)),styles:Ct.object},W9.defaultProps={width:320,height:240,colors:[[E6,j6,k6,S6,O6],[A6,I6,q6,T6,C6],[R6,F6,N6,P6,L6],[B6,z6,V6,D6,M6],[K6,W6,$6,U6,H6],[X6,Q6,J6,Y6,G6],[n8,r8,t8,e8,Z6],[s8,l8,a8,i8,o8],[f8,p8,d8,c8,u8],["#194D33",m8,v8,g8,h8],[w8,x8,_8,b8,y8],[E8,j8,k8,S8,O8],[A8,I8,q8,T8,C8],[R8,F8,N8,P8,L8],[B8,z8,V8,D8,M8],[K8,W8,$8,U8,H8],[X8,Q8,J8,Y8,G8],[n9,r9,t9,e9,Z8],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},z3(W9);var K9=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=d1(j5({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},s),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),p=function(e,r){F3(e)&&t({hex:e,source:"hex"},r)};return R.createElement("div",{style:d.card,className:"twitter-picker "+c},R.createElement("div",{style:d.triangleShadow}),R.createElement("div",{style:d.triangle}),R.createElement("div",{style:d.body},_6(o,(function(e,t){return R.createElement(W3,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),R.createElement("div",{style:d.hash},"#"),R.createElement(O1,{label:null,style:{input:d.input},value:n.replace("#",""),onChange:p}),R.createElement("div",{style:d.clear})))};K9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),triangle:Ct.oneOf(["hide","top-left","top-right"]),colors:Ct.arrayOf(Ct.string),styles:Ct.object},K9.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},z3(K9);var G9=function(e){var t=d1({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return R.createElement("div",{style:t.picker})};G9.propTypes={hsl:Ct.shape({h:Ct.number,s:Ct.number,l:Ct.number,a:Ct.number})},G9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Y9=function(e){var t=d1({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return R.createElement("div",{style:t.picker})};Y9.propTypes={hsl:Ct.shape({h:Ct.number,s:Ct.number,l:Ct.number,a:Ct.number})},Y9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var J9=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.hsv,a=function(e,r){if(e.hex)F3(e.hex)&&t({hex:e.hex,source:"hex"},r);else if(e.rgb){var n=e.rgb.split(",");M3(e.rgb,"rgb")&&t({r:n[0],g:n[1],b:n[2],a:1,source:"rgb"},r)}else if(e.hsv){var o=e.hsv.split(",");M3(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},r))}else if(e.hsl){var i=e.hsl.split(",");M3(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==c[1]?c[1]=.01:1==c[2]&&(c[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},r))}},l=d1({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),s=r.r+", "+r.g+", "+r.b,u=Math.round(n.h)+"°, "+Math.round(100*n.s)+"%, "+Math.round(100*n.l)+"%",c=Math.round(i.h)+"°, "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return R.createElement("div",{style:l.wrap,className:"flexbox-fix"},R.createElement("div",{style:l.fields},R.createElement("div",{style:l.double},R.createElement(O1,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),R.createElement("div",{style:l.column},R.createElement("div",{style:l.single},R.createElement(O1,{style:{input:l.input2,label:l.label2},label:"rgb",value:s,onChange:a})),R.createElement("div",{style:l.single},R.createElement(O1,{style:{input:l.input2,label:l.label2},label:"hsv",value:c,onChange:a})),R.createElement("div",{style:l.single},R.createElement(O1,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},Q9=function(e){var t=e.width,r=e.onChange,n=e.rgb,o=e.hsl,i=e.hsv,a=e.hex,l=e.header,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=d1(j5({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return R.createElement("div",{style:p.picker,className:"google-picker "+d},R.createElement("div",{style:p.head},l),R.createElement("div",{style:p.swatch}),R.createElement("div",{style:p.saturation},R.createElement($5,{hsl:o,hsv:i,pointer:G9,onChange:r})),R.createElement("div",{style:p.body},R.createElement("div",{style:p.controls,className:"flexbox-fix"},R.createElement("div",{style:p.hue},R.createElement(j1,{style:p.Hue,hsl:o,radius:"4px",pointer:Y9,onChange:r}))),R.createElement(J9,{rgb:n,hsl:o,hex:a,hsv:i,onChange:r})))};Q9.propTypes={width:Ct.oneOfType([Ct.string,Ct.number]),styles:Ct.object,header:Ct.string},Q9.defaultProps={width:652,styles:{},header:"Color picker"},z3(Q9);const X9=["Merriweather","Roboto","Open Sans","Lato","Poppins","Raleway","Rubik","Times New Roman","Arial","Courier New","Georgia"];function Z9({t:e}){const t=st("design"),r=He(),n=Ue((e=>e.designState.Survey.theme));function o(e,t){if("font"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{font:t}),e.question=p(p({},e.question),{},{font:t}),e.text=p(p({},e.text),{},{font:t}),r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("textColor"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{color:t}),e.question=p(p({},e.question),{},{color:t}),e.text=p(p({},e.text),{},{color:t}),r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("bgColor"===e){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(e){const t=e[1],o=e[2],i=e[3];let a=e[4];a&&"0"!==a&&"0.0"!==a||(a="1");const l=`rgba(${t}, ${o}, ${i}, ${a})`;r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:l})}))}else r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:t})}))}else r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{[e]:t})}))}const i=vn(),a=vn(),l=vn(),s=vn(),u=()=>{i.onFalse(),a.onFalse(),l.onFalse(),s.onFalse()},c=v.useRef(),d=v.useRef(),f=v.useRef(),h=v.useRef();function g(e,t){v.useEffect((()=>{function r(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t])}g(c,u),g(d,u),g(f,u),g(h,u);const m=e=>{e.value?e.onFalse():(u(),e.onToggle())},y=Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),b=Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));return j.jsxs("div",{className:JZ,children:[j.jsxs("span",{className:ZZ,children:[" ",e("font")]}),j.jsx(kt,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:xr,size:"small",className:e0,value:n.textStyles.group.font,onChange:e=>o("font",e.target.value),children:X9&&X9.length>0&&X9.map(((e,t)=>j.jsx(jt,{sx:{fontFamily:e},value:e,children:e},`fontFamily-${t}`)))},"fontFamily"),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("group_title")}),j.jsx(o0,{value:n.textStyles.group,default:$t.textStyles.group,onChange:e=>{o("textStyles",p(p({},n.textStyles),{},{group:e}))}},"group")]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("question_title")}),j.jsx(o0,{value:n.textStyles.question,default:$t.textStyles.question,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{question:e}))},"question")]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("theme_text")}),j.jsx(o0,{value:n.textStyles.text,default:$t.textStyles.text,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{text:e}))},"text")]}),j.jsx("hr",{}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("highlight_color")}),j.jsx(ot,{onClick:()=>m(i),style:{backgroundColor:n.primaryColor},className:t0}),i.value&&j.jsxs(P,{ref:c,className:r0,children:[j.jsx(pe,{onClick:()=>m(i),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(hr,{})}),j.jsx(m9,{color:n.primaryColor,onChange:e=>{o("primaryColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("background_color")}),j.jsx(ot,{onClick:()=>m(a),style:{backgroundColor:n.bgColor},className:t0}),a.value&&j.jsxs(P,{ref:d,className:r0,children:[j.jsx(pe,{onClick:()=>m(a),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(hr,{})}),j.jsx(m9,{color:n.bgColor,onChange:e=>{o("bgColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("foreground_color")}),j.jsx(ot,{onClick:()=>m(l),style:{backgroundColor:n.paperColor},className:t0}),l.value&&j.jsxs(P,{ref:f,className:r0,children:[j.jsx(pe,{onClick:()=>m(l),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(hr,{})}),j.jsx(m9,{color:n.paperColor,onChange:e=>{o("paperColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("text_color")}),j.jsx(ot,{onClick:()=>m(s),style:{backgroundColor:n.textStyles.group.color},className:t0}),s.value&&j.jsxs(P,{ref:h,className:r0,children:[j.jsx(pe,{onClick:()=>m(s),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(hr,{})}),j.jsx(m9,{color:n.textStyles.group.color,onChange:e=>{o("textColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("upload_banner")}),j.jsxs(ot,{component:"label",className:QZ,children:[j.jsx(Ar,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let n=e.target.files[0];t.uploadResource(n).then((e=>{r(ut({code:"Survey",key:"headerImage",value:e.name}))})).catch((e=>{console.error(e)}))}})]}),b&&j.jsx(pe,{className:XZ,onClick:()=>{r(ut({code:"Survey",key:"headerImage",value:null}))},children:j.jsx(sn,{})})]}),j.jsxs(Ut,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[j.jsx(ye,{variant:"subtitle2",alignSelf:"center",children:e("upload_background")}),j.jsxs(ot,{component:"label",className:QZ,children:[j.jsx(Ar,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let o=e.target.files[0];t.uploadResource(o).then((e=>{r(ut({code:"Survey",key:"backgroundImage",value:e.name})),r(wt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:"rgba(0, 0, 0, 0)"})}))})).catch((e=>{console.error(e)}))}})]}),y&&j.jsx(pe,{className:XZ,onClick:()=>{r(ut({code:"Survey",key:"backgroundImage",value:null}))},children:j.jsx(sn,{})})]})]})}const e7=R.memo((function({t:e}){const t=He(),r=v.useCallback((e=>{t(Wt(e))})),n=M(),o=Or([e=>e.designState.setup||{}],(e=>{var t;return{code:e.code,expanded:e.expanded,highlighted:e.highlighted,rules:e.rules,isSingleRule:1===(null===(t=e.rules)||void 0===t?void 0:t.length)}})),i=Ue(o),a=i.code,l=i.expanded,s=i.highlighted,u=i.rules,c=i.isSingleRule;return j.jsxs("div",{className:pZ.rightContent,style:{left:"rtl"==n.direction?"0px":""},children:[j.jsx("div",{className:pZ.close,children:j.jsx(pe,{onClick:()=>{t(Kt())},children:j.jsx(hr,{})})}),null==u?void 0:u.map((t=>j.jsx(r7,{expanded:(null==l?void 0:l.includes(t.key))||c||!1,isSingleRule:c,code:a,t:e,toggleExpand:r,highlighted:t.key==s,rule:t},a+t.title)))]})})),t7=R.memo((({code:e,rule:t,t:r})=>{if(t.startsWith("validation_"))return j.jsx(Tx,{t:r,rule:t,code:e},e+t);switch(t){case"theme":return j.jsx(Z9,{t:r},e+t);case"language":return j.jsx(wr,{t:r},e+t);case"maxChars":return j.jsx(mx,{label:r("text_field_size"),rule:t,lowerBound:1,t:r,upperBound:500,defaultValue:20,code:e},e+t);case"minRows":return j.jsx(mx,{label:r("textarea_lines"),lowerBound:1,t:r,upperBound:500,code:e,defaultValue:20},e+t);case"hideText":return j.jsx(Ix,{label:r("hide_text"),rule:t,code:e},e+t);case"showDescription":return j.jsx(Ix,{label:r("show_description"),rule:t,code:e},e+t);case"showWordCount":return j.jsx(Ix,{label:r("show_word_count"),rule:t,code:e},e+t);case"navigationMode":return j.jsx(YZ,{},e+t);case"allowPrevious":return j.jsx(Ix,{label:r("allow_previous"),rule:t,code:e},e+t);case"allowIncomplete":return j.jsx(Ix,{label:r("allow_incomplete"),rule:t,code:e},e+t);case"allowJump":return j.jsx(Ix,{label:r("allow_jump"),rule:t,code:e},e+t);case"skipInvalid":return j.jsx(Ix,{label:r("skip_invalid"),rule:t,code:e},e+t);case"hint":return j.jsx(bx,{t:r,code:e},e+t);case"lower_bound_hint":return j.jsx(_x,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:e},e+t);case"higher_bound_hint":return j.jsx(_x,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:e},e+t);case"loop":return j.jsx(Ix,{rule:t,code:e,label:r("loop_video")},e+t);case"audio_only":return j.jsx(Ix,{rule:t,code:e,label:r("audio_only")},e+t);case"fullDayFormat":return j.jsx(Ix,{rule:t,code:e,label:r("fullday_format")},e+t);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return j.jsx(GZ,{t:r,rule:t,code:e},e+t);case"maxDate":return j.jsx(Fx,{lowerBound:1,code:e,label:r("max_date"),rule:t},e+t);case"minDate":return j.jsx(Fx,{label:r("min_date"),rule:t,code:e},e+t);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return j.jsx(Lx,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:t,code:e},e+t);case"decimal_separator":const o=["",",","."],i=[r("no_decimals_allowed"),",","."];return j.jsx(Lx,{values:o,labels:i,defaultValue:"",label:r("decimal_separator"),rule:t,code:e},e+t);case"imageAspectRatio":const a=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],l=[1,1.7778,1.3333,1.5,.562,.75,.6667];return j.jsx(Lx,{values:l,labels:a,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:t,code:e},e+t);case"reorder_setup":const s=[r("collapse_groups"),r("collapse_questions")],u=["collapse_groups","collapse_questions"];return j.jsx(Lx,{values:u,labels:s,defaultValue:"collapse_none",label:r("order_mode"),rule:t,code:e},e+t);case"iconSize":const c=["50","100","150","200"];return j.jsx(Lx,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:t,code:e},e+t);case"columns":const d=["1","2","3","4","6"];return j.jsx(Lx,{values:d,defaultValue:"2",label:r("columns_number"),rule:t,code:e},e+t);case"imageHeight":return j.jsx(mx,{label:r("image_height"),lowerBound:50,upperBound:500,t:r,code:e,defaultValue:250,rule:t},e+t);case"spacing":return j.jsx(mx,{label:r("spacing"),lowerBound:2,upperBound:32,code:e,t:r,defaultValue:8,rule:t},e+t);case"skip_logic":return j.jsx(uZ,{t:r,code:e},e+t);case"relevance":return j.jsx(nZ,{t:r,code:e},e+t);default:return""}})),r7=R.memo((({expanded:e,highlighted:t,code:r,rule:n,isSingleRule:o,t:i,toggleExpand:a})=>j.jsxs(rn,{expanded:e,className:pZ.accordionStyle,slotProps:{transition:{unmountOnExit:!0}},children:[j.jsx(nn,{onClick:()=>a(n.key),className:pZ.setupHeader,expandIcon:o?null:j.jsx(on,{}),children:j.jsx("span",{className:pZ.sectionTitle,children:i(n.title)})}),j.jsx(an,{sx:{backgroundColor:t?"#fff":"background.paper"},children:n.rules.map((e=>j.jsx(t7,{code:r,rule:e,t:i},e)))})]})));const n7=R.memo((function({t:e}){const t=Ue((e=>{var t;return((null===(t=e.designState)||void 0===t?void 0:t.designMode)||ft.DESIGN)==ft.DESIGN&&(!e.designState.setup||0==Object.keys(e.designState.setup))})),r=Ue((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}})),n=Object.keys(r).length>0;return M(),j.jsxs(P,{sx:{width:"22rem",flex:"0 0 auto"},children:[t&&j.jsx(Gt,{t:e}),n&&j.jsx(e7,{t:e})]})}));var o7={},i7=L;Object.defineProperty(o7,"__esModule",{value:!0});var a7=o7.default=void 0,l7=i7(ze()),s7=j;a7=o7.default=(0,l7.default)((0,s7.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");var u7={},c7=L;Object.defineProperty(u7,"__esModule",{value:!0});var d7=u7.default=void 0,p7=c7(ze()),f7=j;d7=u7.default=(0,p7.default)((0,f7.jsx)("path",{d:"M3 15h18v-2H3zm0 4h18v-2H3zm0-8h18V9H3zm0-6v2h18V5z"}),"Reorder");var h7={},g7=L;Object.defineProperty(h7,"__esModule",{value:!0});var v7=h7.default=void 0,m7=g7(ze()),y7=j;v7=h7.default=(0,m7.default)((0,y7.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),R.memo((function({t:e}){const t=Ue((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}}));M();const r=Object.keys(t).length>0;return j.jsx(Zr,{in:r,sx:{flex:"0 0 auto"},orientation:"horizontal",timeout:200,easing:{enter:"linear",exit:"linear"},unmountOnExit:!0,children:j.jsx(e7,{t:e})})}));u("default",R.memo((function(){const e=Be(["design","run"]),t=e.t,r=e.i18n.cloneInstance(),n=v.useRef(null),o=h(R.useState(!1),2),i=o[0],a=o[1],l=v.useRef(),s=Ue((e=>e.designState.langInfo)),u=He(),c=Ue((e=>e.designState.designMode)),d=null==s?void 0:s.lang,f=Yt();console.log(f);const g=Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t?void 0:t.theme}));v.useEffect((()=>{var e;n.current&&(e=d,new Promise(((t,o)=>{const i=et.includes(e)?"rtl":"ltr",a=n.current;a.dir!=i&&(a.dir=i),a.scrollTop=0,e&&r&&e!=r.language&&r.changeLanguage(e),t()})))}),[d,n]);const m=v.useMemo((()=>Jt(d)),[d]),y=R.useCallback(J(p(p({},Qt(g)),{},{direction:et.includes(d)?"rtl":"ltr"})),[g]),b=Ue((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),_=b?{backgroundImage:`url(${rr(b)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return j.jsx(P,{className:ki.mainContainer,ref:l,sx:_,children:j.jsx(kr,{backend:jr()?Er:Cr,children:j.jsxs(Q,{value:m,children:[j.jsx(n7,{t:t}),j.jsx(Lt,{theme:y,children:j.jsx(X,{i18n:r,children:j.jsx(gx,{designMode:c,ref:n,className:ki.contentPanel})})}),j.jsx(_7,{onCancel:()=>{u(Kt())},designMode:c,isRtl:f}),j.jsx(b7,{designMode:c,isRtl:f,optionsOpen:i,setOptionsOpen:a})]})})})})));function b7({setOptionsOpen:e,optionsOpen:t,designMode:r,isRtl:n}){const o=He(),i=[{icon:j.jsx(a7,{}),name:"Language",onClick:()=>{e(!1),o(Zt())}},{icon:j.jsx(Oi,{}),name:"Theme",onClick:()=>{e(!1),o(er())}},{icon:j.jsx(d7,{}),name:"Reorder",onClick:()=>{e(!1),o(tr())}}];return r==ft.DESIGN&&j.jsxs(j.Fragment,{children:[j.jsx(Xt,{style:{zIndex:1},open:t}),j.jsx(fi,{open:t,dir:"rtl",onClick:()=>e(!t),ariaLabel:"SpeedDial basic example",sx:n?{position:"absolute",bottom:16,left:16}:{position:"absolute",bottom:16,right:16},icon:j.jsx(v7,{}),children:i.map((e=>j.jsx(_i,{onClick:e.onClick,dir:"rtl",icon:e.icon,tooltipOpen:!0,tooltipTitle:e.name},e.name)))})]})}function _7({designMode:e,onCancel:t,isRtl:r}){return e!=ft.DESIGN&&j.jsx(ir,{sx:{borderRadius:"48px",height:"48px",fontSize:"24px",padding:"8px"},style:r?{position:"absolute",bottom:16,left:16}:{position:"absolute",bottom:16,right:16},label:"Back to Design",icon:j.jsx(xi,{}),color:"primary",onClick:t})}}}}))}();
