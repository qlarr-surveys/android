import{j as a,r as w,B as F}from"./index-vqe_o6H9.js";import{H as m,aR as x,U as h,ax as R,w as C,aS as u,a_ as b}from"./use-service-d2kt1S5h.js";import{V as T}from"./index-D63KqE_g.js";import{R as z}from"./RadioGroup-GTeMcffe.js";import{F as f}from"./FormControlLabel-BRqqeCMk.js";import{R as v}from"./Radio-BKywy7gT.js";import{T as B}from"./TextField-C6oYyR3a.js";import"./isTouchDevice-rwiiBbR0.js";import"./common-BD7EYaWJ.js";import"./Close-CWD1l4TR.js";import"./Card-CpAAQw08.js";import"./Toolbar-ZGLOM2Zn.js";import"./RadioGroupContext-BMdzVcGd.js";import"./FormGroup-D0awRfnu.js";import"./SwitchBase-Dz0Guboj.js";import"./radioClasses-CQtWv4A0.js";function W(e){const l=m(o=>{let c=o.runState.values[e.component.qualifiedCode];return{value:(c==null?void 0:c.value)||""}},x),r=h(),i=o=>{r(u({componentCode:o.target.name,value:o.target.value}))};return a.jsx(R,{component:"fieldset",children:a.jsx(z,{name:e.component.qualifiedCode,value:l.value,onChange:i,children:e.component.answers.map(o=>o.type==="other"?a.jsx(D,{parentCode:e.component.qualifiedCode,Choice:o},o.qualifiedCode):a.jsx(I,{Choice:o},o.qualifiedCode))})})}function I(e){const l=C(),r=()=>{var i;return a.jsx(f,{control:a.jsx(v,{sx:{color:l.textStyles.text.color}}),label:a.jsx(F,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size},children:(i=e.Choice.content)==null?void 0:i.label}),value:e.Choice.code},e.Choice.qualifiedCode)};return r?r():""}function D(e){const l=C(),r=e.Choice.answers[0],i=m(t=>{let s=t.runState.values[e.Choice.qualifiedCode],n=t.runState.values[r.qualifiedCode],S=t.runState.values.Survey.show_errors,g=t.templateState[r.qualifiedCode];return{showChoice:typeof(s==null?void 0:s.relevance)>"u"||s.relevance,childInvalid:(S||g)&&(n==null?void 0:n.relevance)===!0&&(n==null?void 0:n.validity)===!1,value:(n==null?void 0:n.value)||""}},x),o=h(),c=t=>{o(u({componentCode:t.target.name,value:t.target.value}))},p=t=>{o(u({componentCode:e.parentCode,value:e.Choice.code}))},y=t=>{o(b(t.target.name))},d=w.useRef(),j=t=>{t.target.checked&&d.current.focus()},q=()=>{var t,s,n;return a.jsxs("div",{className:"text-left d-flex",children:[a.jsx(f,{control:a.jsx(v,{sx:{color:l.textStyles.text.color}}),label:a.jsx("div",{className:"w-100",children:a.jsx(B,{variant:"standard",required:((t=i.textChild)==null?void 0:t.relevance)&&((s=r.validation)==null?void 0:s.required),sx:{label:{color:l.textStyles.text.color}},inputRef:d,id:r.qualifiedCode,name:r.qualifiedCode,label:(n=e.Choice.content)==null?void 0:n.label,onChange:c,onFocus:p,onBlur:y,value:i.value,InputProps:{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}},helperText:i.childInvalid?a.jsx(T,{component:r,limit:1}):""})}),onChange:j,value:e.Choice.code},e.Choice.qualifiedCode),a.jsx("p",{})]})};return i.showChoice?q():""}export{W as default};
