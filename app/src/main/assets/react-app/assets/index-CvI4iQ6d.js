import{b as ni,w as rn,r as ae,I as Ok,K as xk,M as ke,an as $t,O as wk,$ as Pl,_ as ge,g as NO,f as DO,h as $r,j as k,d as Cn,k as Ds,l as Ek,i as Ck,q as zr,B as _t,p as Tn,af as MO,R as j,ah as oa,z as lv,aj as Tk,ao as Pk,ap as Ak,G as kk,aq as VO,ar as e0,as as sr,at as lr,ae as _r,au as ur,av as Qe,aw as gr,x as BO,C as Ik,ax as jk}from"./index-BdaHkdQl.js";import{be as Rk,bf as np,m as Dc,p as Fk,a as ih,k as Lk,f as Oo,o as Mc,n as $k,aC as Nk,e as Br,b as No,c as Do,I as Ft,bg as Dk,bh as Mk,T as $n,j as Vk,aF as qO,l as Qr,b6 as Bk,bi as qk,d as uv,x as Wr,y as Mo,D as Vt,v as Te,bj as Fi,bk as Vo,af as Nn,bl as Qi,bm as Hk,aL as wi,a6 as zk,bn as t0,bo as so,$ as no,ap as ip,an as Yt,aG as ka,bp as Bo,bq as vi,A as Rf,br as xo,aI as Ff,bs as Zc,bt as Dn,bu as Wk,bv as Gk,bw as ap,bx as Al,aP as Uk,by as op,bz as Yk,ag as Kk,bA as Qk,bB as Jk,bC as Xk,bD as ef,bE as Ge,M as Y,b0 as Zk,a1 as HO,aK as eI,bF as lc,bG as tI,bH as rI,bI as nI,bJ as zO,bK as iI,bL as aI,bM as oI,bN as sI,am as ha,bO as sp,bP as lI,ad as uI,a5 as cI,aW as fI}from"./use-service-D09swmN7.js";import{b as eu}from"./common-C_0iAd7K.js";import{B as Rt,E as dI,G as WO,H as pI,J as _n,L as hI,N as vI,O as r0,P as gI,Q as Ei,U as mI,t as pi,T as kl,D as cv,V as qo,M as on,C as yI,W as bI,K as GO,X as _I}from"./Web-Xt-AHKsA.js";import{c as UO,E as SI,D as OI,i as xI,T as wI,H as EI}from"./isTouchDevice-DBnnGyOq.js";import{D as CI,C as TI,d as n0}from"./Image-CSM5aGrs.js";import{e as lp,A as up,c as vo,o as i0,d as us,P as YO,C as PI,L as KO,x as Vc,u as Va,T as hr,D as AI,F as Gr,g as QO,S as Li,M as kI,I as II}from"./TextField-B66jFwFo.js";import{s as Ms}from"./SCQArrayDesign.module-DzPJ62J5.js";import{T as JO,a as XO,b as Lf,c as ZO}from"./TableRow-XbFzsXVn.js";import{T as ex}from"./TableHead-CYTlZN0Y.js";import{T as Pn}from"./TableCell-CNVjjGNS.js";import{R as jI}from"./Radio-CnmABGZS.js";import{u as $i}from"./useDrop-DJ-jQUqd.js";import{R as RI}from"./index-XB5QbMEB.js";import{G as Ya,o as fv,D as uc,L as FI}from"./DateTimePicker-DiuyYDe1.js";import{P as tx,b as dv,c as Wl}from"./Tabs-CXy611xA.js";import{e as LI,H as a0,c as Ai,C as o0,A as $I,a as NI,d as DI,b as MI}from"./index-BtMwp5H2.js";import{F as Wa}from"./FormControlLabel-DrGXXvQK.js";import{C as Ui}from"./Checkbox-0qy6A3Vu.js";import{D as wo,T as cc}from"./DatePicker-CCFeOqNk.js";import{d as Gl}from"./Delete-Dife5L9n.js";import{C as $f}from"./Card-DaS3BkKI.js";import{N as fc}from"./survey-x3hUDjhT.js";import{u as dc}from"./use-boolean-Bxf0TRXb.js";import"./radioClasses-DNdhtY0L.js";import"./tableRowClasses-D2zlaSzG.js";import"./SwitchBase-outpB1OY.js";import"./useFormControl-BousA45m.js";import"./RadioGroupContext-DPRdtZdW.js";import"./InputAdornment-CMc9n4GQ.js";const rx=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return Lee},get LOWER(){return Ree},get NOW(){return Iee},get RELATIVE_DATETIME(){return jee},get UPPER(){return Fee}},Symbol.toStringTag,{value:"Module"}));function mi(t,e){if(t==null)return{};var r=ni(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var VI={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const BI=rn(VI);var qI=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function s0(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(BI[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(qI),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var HI=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,zI=/^\s*$/,WI=Object.create(null);function nx(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(nx,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var GI={parse:function(t,e){e||(e={}),e.components||(e.components=WI);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(HI,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,h=t.charAt(p);if(d){var v=s0(l);return a<0?(n.push(v),n):((c=i[a]).children.push(v),n)}if(f&&(a++,(r=s0(l)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!h||h==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&h!=="<"&&h)){c=a===-1?n:i[a].children;var g=t.indexOf("<",p),y=t.slice(p,g===-1?void 0:g);zI.test(y)&&(y=" "),(g>-1&&a+c.length>=0||y!==" ")&&c.push({type:"text",content:y})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+nx("",r)},"")}},UI=["format"],YI=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function l0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l0(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cp(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function fp(t){return t?t.props?t.props.children:t.children:[]}function KI(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return ae.isValidElement(e)})}function Ml(t){return Array.isArray(t)?t:[t]}function QI(t,e){var r=nn({},e);return r.props=Object.assign(t.props,e.props),r}function ix(t,e){if(!t)return"";var r="",n=Ml(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(ae.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=ix(u,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)np("Trans: the passed in value is invalid - seems you passed in a null child.");else if($t(a)==="object"){var f=a.format,d=mi(a,UI),p=Object.keys(d);if(p.length===1){var h=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(h,"}}")}else np("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else np("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function JI(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var l={};function u(g){var y=Ml(g);y.forEach(function(m){typeof m!="string"&&(cp(m)?u(fp(m)):$t(m)==="object"&&!ae.isValidElement(m)&&Object.assign(l,m))})}u(t);var c=GI.parse("<0>".concat(e,"</0>")),f=nn(nn({},l),i);function d(g,y,m){var S=fp(g),_=h(S,y.children,m);return KI(S)&&_.length===0?S:_}function p(g,y,m,S,_){g.dummy&&(g.children=y),m.push(ae.cloneElement(g,nn(nn({},g.props),{},{key:S}),_?void 0:y))}function h(g,y,m){var S=Ml(g),_=Ml(y);return _.reduce(function(O,x,w){var C=x.children&&x.children[0]&&x.children[0].content&&r.services.interpolator.interpolate(x.children[0].content,f,r.language);if(x.type==="tag"){var I=S[parseInt(x.name,10)];!I&&m.length===1&&m[0][x.name]&&(I=m[0][x.name]),I||(I={});var A=Object.keys(x.attrs).length!==0?QI({props:x.attrs},I):I,P=ae.isValidElement(A),E=P&&cp(x,!0)&&!x.voidElement,R=s&&$t(A)==="object"&&A.dummy&&!P,F=$t(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,x.name);if(typeof A=="string"){var N=r.services.interpolator.interpolate(A,f,r.language);O.push(N)}else if(cp(A)||E){var V=d(A,x,m);p(A,V,O,w)}else if(R){var z=h(S,x.children,m);O.push(ae.cloneElement(A,nn(nn({},A.props),{},{key:w}),z))}else if(Number.isNaN(parseFloat(x.name)))if(F){var J=d(A,x,m);p(A,J,O,w,x.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(x.name)>-1)if(x.voidElement)O.push(ae.createElement(x.name,{key:"".concat(x.name,"-").concat(w)}));else{var H=h(S,x.children,m);O.push(ae.createElement(x.name,{key:"".concat(x.name,"-").concat(w)},H))}else if(x.voidElement)O.push("<".concat(x.name," />"));else{var M=h(S,x.children,m);O.push("<".concat(x.name,">").concat(M,"</").concat(x.name,">"))}else if($t(A)==="object"&&!P){var L=x.children[0]?C:null;L&&O.push(L)}else x.children.length===1&&C?O.push(ae.cloneElement(A,nn(nn({},A.props),{},{key:w}),C)):O.push(ae.cloneElement(A,nn(nn({},A.props),{},{key:w})))}else if(x.type==="text"){var q=n.transWrapTextNodes,W=a?n.unescape(r.services.interpolator.interpolate(x.content,f,r.language)):r.services.interpolator.interpolate(x.content,f,r.language);q?O.push(ae.createElement(q,{key:"".concat(x.name,"-").concat(w)},W)):O.push(W)}return O},[])}var v=h([{dummy:!0,children:t||[]}],c,Ml(t||[]));return fp(v[0])}function Oa(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,l=t.values,u=t.defaults,c=t.components,f=t.ns,d=t.i18n,p=t.t,h=t.shouldUnescape,v=mi(t,YI),g=ae.useContext(Ok)||{},y=g.i18n,m=g.defaultNS,S=d||y||wk();if(!S)return Rk("You will need to pass in an i18next instance by using i18nextReactModule"),e;var _=p||S.t.bind(S)||function(N){return N};a&&(s.context=a);var O=nn(nn({},xk()),S.options&&S.options.react),x=f||_.ns||m||S.options&&S.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var w=u||ix(e,O)||O.transEmptyNodeValue||i,C=O.hashTransKey,I=i||(C?C(w):w),A=l?s.interpolation:{interpolation:nn(nn({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},P=nn(nn(nn(nn({},s),{},{count:r},l),A),{},{defaultValue:w,ns:x}),E=I?_(I,P):w,R=JI(c||e,E,S,O,P,h),F=n!==void 0?n:O.defaultTransParent;return F?ae.createElement(F,v,R):R}const XI=t=>{const e=ae.useRef({});return ae.useEffect(()=>{e.current=t}),e.current};function ZI(t){return ae.Children.toArray(t).filter(e=>ae.isValidElement(e))}const ej={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},tj=ej;function rj(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const nj=2;function ax(t,e){return t-e}function u0(t,e){var r;const{index:n}=(r=t.reduce((i,a,o)=>{const s=Math.abs(e-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:o}:i},null))!=null?r:{};return n}function pc(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function tf(t,e,r){return(t-e)*100/(r-e)}function ij(t,e,r){return(r-e)*t+e}function aj(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function oj(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(aj(e)))}function c0({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(ax)}function hc({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const a=Mc(t.current);if(!((n=t.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector('[type="range"][data-index="'.concat(e,'"]')).focus()}r&&r(e)}function vc(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?rj(t,e):!1}const sj={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},lj=t=>t;let gc;function f0(){return gc===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?gc=CSS.supports("touch-action","none"):gc=!0),gc}function uj(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:f,orientation:d="horizontal",rootRef:p,scale:h=lj,step:v=1,shiftStep:g=10,tabIndex:y,value:m}=t,S=ae.useRef(),[_,O]=ae.useState(-1),[x,w]=ae.useState(-1),[C,I]=ae.useState(!1),A=ae.useRef(0),[P,E]=Dc({controlled:m,default:r!=null?r:l,name:"Slider"}),R=c&&((ve,we,Ae)=>{const Fe=ve.nativeEvent||ve,ct=new Fe.constructor(Fe.type,Fe);Object.defineProperty(ct,"target",{writable:!0,value:{value:we,name:u}}),c(ct,we,Ae)}),F=Array.isArray(P);let N=F?P.slice().sort(ax):[P];N=N.map(ve=>ve==null?l:Pl(ve,l,s));const V=o===!0&&v!==null?[...Array(Math.floor((s-l)/v)+1)].map((ve,we)=>({value:l+v*we})):o||[],z=V.map(ve=>ve.value),{isFocusVisibleRef:J,onBlur:H,onFocus:M,ref:L}=Fk(),[q,W]=ae.useState(-1),Q=ae.useRef(),K=ih(L,Q),$=ih(p,K),U=ve=>we=>{var Ae;const Fe=Number(we.currentTarget.getAttribute("data-index"));M(we),J.current===!0&&W(Fe),w(Fe),ve==null||(Ae=ve.onFocus)==null||Ae.call(ve,we)},X=ve=>we=>{var Ae;H(we),J.current===!1&&W(-1),w(-1),ve==null||(Ae=ve.onBlur)==null||Ae.call(ve,we)},ee=(ve,we)=>{const Ae=Number(ve.currentTarget.getAttribute("data-index")),Fe=N[Ae],ct=z.indexOf(Fe);let ze=we;if(V&&v==null){const mt=z[z.length-1];ze>mt?ze=mt:ze<z[0]?ze=z[0]:ze=ze<Fe?z[ct-1]:z[ct+1]}if(ze=Pl(ze,l,s),F){i&&(ze=Pl(ze,N[Ae-1]||-1/0,N[Ae+1]||1/0));const mt=ze;ze=c0({values:N,newValue:ze,index:Ae});let it=Ae;i||(it=ze.indexOf(mt)),hc({sliderRef:Q,activeIndex:it})}E(ze),W(Ae),R&&!vc(ze,P)&&R(ve,ze,Ae),f&&f(ve,ze)},se=ve=>we=>{var Ae;if(v!==null){const Fe=Number(we.currentTarget.getAttribute("data-index")),ct=N[Fe];let ze=null;(we.key==="ArrowLeft"||we.key==="ArrowDown")&&we.shiftKey||we.key==="PageDown"?ze=Math.max(ct-g,l):((we.key==="ArrowRight"||we.key==="ArrowUp")&&we.shiftKey||we.key==="PageUp")&&(ze=Math.min(ct+g,s)),ze!==null&&(ee(we,ze),we.preventDefault())}ve==null||(Ae=ve.onKeyDown)==null||Ae.call(ve,we)};Lk(()=>{if(n&&Q.current.contains(document.activeElement)){var ve;(ve=document.activeElement)==null||ve.blur()}},[n]),n&&_!==-1&&O(-1),n&&q!==-1&&W(-1);const Oe=ve=>we=>{var Ae;(Ae=ve.onChange)==null||Ae.call(ve,we),ee(we,we.target.valueAsNumber)},be=ae.useRef();let Se=d;a&&d==="horizontal"&&(Se+="-reverse");const _e=({finger:ve,move:we=!1})=>{const{current:Ae}=Q,{width:Fe,height:ct,bottom:ze,left:mt}=Ae.getBoundingClientRect();let it;Se.indexOf("vertical")===0?it=(ze-ve.y)/ct:it=(ve.x-mt)/Fe,Se.indexOf("-reverse")!==-1&&(it=1-it);let Kt;if(Kt=ij(it,l,s),v)Kt=oj(Kt,v,l);else{const It=u0(z,Kt);Kt=z[It]}Kt=Pl(Kt,l,s);let lt=0;if(F){we?lt=be.current:lt=u0(N,Kt),i&&(Kt=Pl(Kt,N[lt-1]||-1/0,N[lt+1]||1/0));const It=Kt;Kt=c0({values:N,newValue:Kt,index:lt}),i&&we||(lt=Kt.indexOf(It),be.current=lt)}return{newValue:Kt,activeIndex:lt}},pe=Oo(ve=>{const we=pc(ve,S);if(!we)return;if(A.current+=1,ve.type==="mousemove"&&ve.buttons===0){ue(ve);return}const{newValue:Ae,activeIndex:Fe}=_e({finger:we,move:!0});hc({sliderRef:Q,activeIndex:Fe,setActive:O}),E(Ae),!C&&A.current>nj&&I(!0),R&&!vc(Ae,P)&&R(ve,Ae,Fe)}),ue=Oo(ve=>{const we=pc(ve,S);if(I(!1),!we)return;const{newValue:Ae}=_e({finger:we,move:!0});O(-1),ve.type==="touchend"&&w(-1),f&&f(ve,Ae),S.current=void 0,ie()}),Le=Oo(ve=>{if(n)return;f0()||ve.preventDefault();const we=ve.changedTouches[0];we!=null&&(S.current=we.identifier);const Ae=pc(ve,S);if(Ae!==!1){const{newValue:ct,activeIndex:ze}=_e({finger:Ae});hc({sliderRef:Q,activeIndex:ze,setActive:O}),E(ct),R&&!vc(ct,P)&&R(ve,ct,ze)}A.current=0;const Fe=Mc(Q.current);Fe.addEventListener("touchmove",pe,{passive:!0}),Fe.addEventListener("touchend",ue,{passive:!0})}),ie=ae.useCallback(()=>{const ve=Mc(Q.current);ve.removeEventListener("mousemove",pe),ve.removeEventListener("mouseup",ue),ve.removeEventListener("touchmove",pe),ve.removeEventListener("touchend",ue)},[ue,pe]);ae.useEffect(()=>{const{current:ve}=Q;return ve.addEventListener("touchstart",Le,{passive:f0()}),()=>{ve.removeEventListener("touchstart",Le),ie()}},[ie,Le]),ae.useEffect(()=>{n&&ie()},[n,ie]);const le=ve=>we=>{var Ae;if((Ae=ve.onMouseDown)==null||Ae.call(ve,we),n||we.defaultPrevented||we.button!==0)return;we.preventDefault();const Fe=pc(we,S);if(Fe!==!1){const{newValue:ze,activeIndex:mt}=_e({finger:Fe});hc({sliderRef:Q,activeIndex:mt,setActive:O}),E(ze),R&&!vc(ze,P)&&R(we,ze,mt)}A.current=0;const ct=Mc(Q.current);ct.addEventListener("mousemove",pe,{passive:!0}),ct.addEventListener("mouseup",ue)},xe=tf(F?N[0]:l,l,s),Ee=tf(N[N.length-1],l,s)-xe,fe=(ve={})=>{const we=lp(ve),Ae={onMouseDown:le(we||{})},Fe=ge({},we,Ae);return ge({},ve,{ref:$},Fe)},De=ve=>we=>{var Ae;(Ae=ve.onMouseOver)==null||Ae.call(ve,we);const Fe=Number(we.currentTarget.getAttribute("data-index"));w(Fe)},We=ve=>we=>{var Ae;(Ae=ve.onMouseLeave)==null||Ae.call(ve,we),w(-1)};return{active:_,axis:Se,axisProps:sj,dragging:C,focusedThumbIndex:q,getHiddenInputProps:(ve={})=>{var we;const Ae=lp(ve),Fe={onChange:Oe(Ae||{}),onFocus:U(Ae||{}),onBlur:X(Ae||{}),onKeyDown:se(Ae||{})},ct=ge({},Ae,Fe);return ge({tabIndex:y,"aria-labelledby":e,"aria-orientation":d,"aria-valuemax":h(s),"aria-valuemin":h(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(we=t.step)!=null?we:void 0,disabled:n},ve,ct,{style:ge({},tj,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:fe,getThumbProps:(ve={})=>{const we=lp(ve),Ae={onMouseOver:De(we||{}),onMouseLeave:We(we||{})};return ge({},ve,we,Ae)},marks:V,open:x,range:F,rootRef:$,trackLeap:Ee,trackOffset:xe,values:N,getThumbStyle:ve=>({pointerEvents:_!==-1&&_!==ve?"none":void 0})}}function d0(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function ox(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:o=!1}=t;return(s,{inputValue:l,getOptionLabel:u})=>{let c=o?l.trim():l;r&&(c=c.toLowerCase()),e&&(c=d0(c));const f=c?s.filter(d=>{let p=(a||u)(d);return r&&(p=p.toLowerCase()),e&&(p=d0(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?f.slice(0,n):f}}function dp(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const cj=ox(),p0=5,fj=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function dj(t){const{unstable_isActiveElementInListbox:e=fj,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:h=!1,disableListWrap:v=!1,filterOptions:g=cj,filterSelectedOptions:y=!1,freeSolo:m=!1,getOptionDisabled:S,getOptionKey:_,getOptionLabel:O=de=>{var re;return(re=de.label)!=null?re:de},groupBy:x,handleHomeEndKeys:w=!t.freeSolo,id:C,includeInputInList:I=!1,inputValue:A,isOptionEqualToValue:P=(de,re)=>de===re,multiple:E=!1,onChange:R,onClose:F,onHighlightChange:N,onInputChange:V,onOpen:z,open:J,openOnFocus:H=!1,options:M,readOnly:L=!1,selectOnFocus:q=!t.freeSolo,value:W}=t,Q=$k(C);let K=O;K=de=>{const re=O(de);return typeof re!="string"?String(re):re};const $=ae.useRef(!1),U=ae.useRef(!0),X=ae.useRef(null),ee=ae.useRef(null),[se,Oe]=ae.useState(null),[be,Se]=ae.useState(-1),_e=i?0:-1,pe=ae.useRef(_e),[ue,Le]=Dc({controlled:W,default:c,name:u}),[ie,le]=Dc({controlled:A,default:"",name:u,state:"inputValue"}),[xe,Ee]=ae.useState(!1),fe=ae.useCallback((de,re)=>{if(!(E?ue.length<re.length:re!==null)&&!s)return;let Pe;if(E)Pe="";else if(re==null)Pe="";else{const Ot=K(re);Pe=typeof Ot=="string"?Ot:""}ie!==Pe&&(le(Pe),V&&V(de,Pe,"reset"))},[K,ie,E,V,le,s,ue]),[De,We]=Dc({controlled:J,default:!1,name:u,state:"open"}),[Je,yt]=ae.useState(!0),Bt=!E&&ue!=null&&ie===K(ue),ve=De&&!L,we=ve?g(M.filter(de=>!(y&&(E?ue:[ue]).some(re=>re!==null&&P(de,re)))),{inputValue:Bt&&Je?"":ie,getOptionLabel:K}):[],Ae=XI({filteredOptions:we,value:ue,inputValue:ie});ae.useEffect(()=>{const de=ue!==Ae.value;xe&&!de||m&&!de||fe(null,ue)},[ue,fe,xe,Ae.value,m]);const Fe=De&&we.length>0&&!L,ct=Oo(de=>{de===-1?X.current.focus():se.querySelector('[data-tag-index="'.concat(de,'"]')).focus()});ae.useEffect(()=>{E&&be>ue.length-1&&(Se(-1),ct(-1))},[ue,E,be,ct]);function ze(de,re){if(!ee.current||de<0||de>=we.length)return-1;let me=de;for(;;){const Pe=ee.current.querySelector('[data-option-index="'.concat(me,'"]')),Ot=h?!1:!Pe||Pe.disabled||Pe.getAttribute("aria-disabled")==="true";if(Pe&&Pe.hasAttribute("tabindex")&&!Ot)return me;if(re==="next"?me=(me+1)%we.length:me=(me-1+we.length)%we.length,me===de)return-1}}const mt=Oo(({event:de,index:re,reason:me="auto"})=>{if(pe.current=re,re===-1?X.current.removeAttribute("aria-activedescendant"):X.current.setAttribute("aria-activedescendant","".concat(Q,"-option-").concat(re)),N&&N(de,re===-1?null:we[re],me),!ee.current)return;const Pe=ee.current.querySelector('[role="option"].'.concat(r,"-focused"));Pe&&(Pe.classList.remove("".concat(r,"-focused")),Pe.classList.remove("".concat(r,"-focusVisible")));let Ot=ee.current;if(ee.current.getAttribute("role")!=="listbox"&&(Ot=ee.current.parentElement.querySelector('[role="listbox"]')),!Ot)return;if(re===-1){Ot.scrollTop=0;return}const Pt=ee.current.querySelector('[data-option-index="'.concat(re,'"]'));if(Pt&&(Pt.classList.add("".concat(r,"-focused")),me==="keyboard"&&Pt.classList.add("".concat(r,"-focusVisible")),Ot.scrollHeight>Ot.clientHeight&&me!=="mouse"&&me!=="touch")){const tt=Pt,Xr=Ot.clientHeight+Ot.scrollTop,nt=tt.offsetTop+tt.offsetHeight;nt>Xr?Ot.scrollTop=nt-Ot.clientHeight:tt.offsetTop-tt.offsetHeight*(x?1.3:0)<Ot.scrollTop&&(Ot.scrollTop=tt.offsetTop-tt.offsetHeight*(x?1.3:0))}}),it=Oo(({event:de,diff:re,direction:me="next",reason:Pe="auto"})=>{if(!ve)return;const Pt=ze((()=>{const tt=we.length-1;if(re==="reset")return _e;if(re==="start")return 0;if(re==="end")return tt;const Xr=pe.current+re;return Xr<0?Xr===-1&&I?-1:v&&pe.current!==-1||Math.abs(re)>1?0:tt:Xr>tt?Xr===tt+1&&I?-1:v||Math.abs(re)>1?tt:0:Xr})(),me);if(mt({index:Pt,reason:Pe,event:de}),n&&re!=="reset")if(Pt===-1)X.current.value=ie;else{const tt=K(we[Pt]);X.current.value=tt,tt.toLowerCase().indexOf(ie.toLowerCase())===0&&ie.length>0&&X.current.setSelectionRange(ie.length,tt.length)}}),Kt=()=>{const de=(re,me)=>{const Pe=re?K(re):"",Ot=me?K(me):"";return Pe===Ot};if(pe.current!==-1&&Ae.filteredOptions&&Ae.filteredOptions.length!==we.length&&Ae.inputValue===ie&&(E?ue.length===Ae.value.length&&Ae.value.every((re,me)=>K(ue[me])===K(re)):de(Ae.value,ue))){const re=Ae.filteredOptions[pe.current];if(re&&we.some(Pe=>K(Pe)===K(re)))return!0}return!1},lt=ae.useCallback(()=>{if(!ve||Kt())return;const de=E?ue[0]:ue;if(we.length===0||de==null){it({diff:"reset"});return}if(ee.current){if(de!=null){const re=we[pe.current];if(E&&re&&dp(ue,Pe=>P(re,Pe))!==-1)return;const me=dp(we,Pe=>P(Pe,de));me===-1?it({diff:"reset"}):mt({index:me});return}if(pe.current>=we.length-1){mt({index:we.length-1});return}mt({index:pe.current})}},[we.length,E?!1:ue,y,it,mt,ve,ie,E]),It=Oo(de=>{Nk(ee,de),de&&lt()});ae.useEffect(()=>{lt()},[lt]);const qe=de=>{De||(We(!0),yt(!0),z&&z(de))},Me=(de,re)=>{De&&(We(!1),F&&F(de,re))},rt=(de,re,me,Pe)=>{if(E){if(ue.length===re.length&&ue.every((Ot,Pt)=>Ot===re[Pt]))return}else if(ue===re)return;R&&R(de,re,me,Pe),Le(re)},ut=ae.useRef(!1),Ct=(de,re,me="selectOption",Pe="options")=>{let Ot=me,Pt=re;if(E){Pt=Array.isArray(ue)?ue.slice():[];const tt=dp(Pt,Xr=>P(re,Xr));tt===-1?Pt.push(re):Pe!=="freeSolo"&&(Pt.splice(tt,1),Ot="removeOption")}fe(de,Pt),rt(de,Pt,Ot,{option:re}),!d&&(!de||!de.ctrlKey&&!de.metaKey)&&Me(de,Ot),(o===!0||o==="touch"&&ut.current||o==="mouse"&&!ut.current)&&X.current.blur()};function Tt(de,re){if(de===-1)return-1;let me=de;for(;;){if(re==="next"&&me===ue.length||re==="previous"&&me===-1)return-1;const Pe=se.querySelector('[data-tag-index="'.concat(me,'"]'));if(!Pe||!Pe.hasAttribute("tabindex")||Pe.disabled||Pe.getAttribute("aria-disabled")==="true")me+=re==="next"?1:-1;else return me}}const Nt=(de,re)=>{if(!E)return;ie===""&&Me(de,"toggleInput");let me=be;be===-1?ie===""&&re==="previous"&&(me=ue.length-1):(me+=re==="next"?1:-1,me<0&&(me=0),me===ue.length&&(me=-1)),me=Tt(me,re),Se(me),ct(me)},ir=de=>{$.current=!0,le(""),V&&V(de,"","clear"),rt(de,E?[]:null,"clear")},tr=de=>re=>{if(de.onKeyDown&&de.onKeyDown(re),!re.defaultMuiPrevented&&(be!==-1&&["ArrowLeft","ArrowRight"].indexOf(re.key)===-1&&(Se(-1),ct(-1)),re.which!==229))switch(re.key){case"Home":ve&&w&&(re.preventDefault(),it({diff:"start",direction:"next",reason:"keyboard",event:re}));break;case"End":ve&&w&&(re.preventDefault(),it({diff:"end",direction:"previous",reason:"keyboard",event:re}));break;case"PageUp":re.preventDefault(),it({diff:-p0,direction:"previous",reason:"keyboard",event:re}),qe(re);break;case"PageDown":re.preventDefault(),it({diff:p0,direction:"next",reason:"keyboard",event:re}),qe(re);break;case"ArrowDown":re.preventDefault(),it({diff:1,direction:"next",reason:"keyboard",event:re}),qe(re);break;case"ArrowUp":re.preventDefault(),it({diff:-1,direction:"previous",reason:"keyboard",event:re}),qe(re);break;case"ArrowLeft":Nt(re,"previous");break;case"ArrowRight":Nt(re,"next");break;case"Enter":if(pe.current!==-1&&ve){const me=we[pe.current],Pe=S?S(me):!1;if(re.preventDefault(),Pe)return;Ct(re,me,"selectOption"),n&&X.current.setSelectionRange(X.current.value.length,X.current.value.length)}else m&&ie!==""&&Bt===!1&&(E&&re.preventDefault(),Ct(re,ie,"createOption","freeSolo"));break;case"Escape":ve?(re.preventDefault(),re.stopPropagation(),Me(re,"escape")):l&&(ie!==""||E&&ue.length>0)&&(re.preventDefault(),re.stopPropagation(),ir(re));break;case"Backspace":if(E&&!L&&ie===""&&ue.length>0){const me=be===-1?ue.length-1:be,Pe=ue.slice();Pe.splice(me,1),rt(re,Pe,"removeOption",{option:ue[me]})}break;case"Delete":if(E&&!L&&ie===""&&ue.length>0&&be!==-1){const me=be,Pe=ue.slice();Pe.splice(me,1),rt(re,Pe,"removeOption",{option:ue[me]})}break}},rr=de=>{Ee(!0),H&&!$.current&&qe(de)},qr=de=>{if(e(ee)){X.current.focus();return}Ee(!1),U.current=!0,$.current=!1,a&&pe.current!==-1&&ve?Ct(de,we[pe.current],"blur"):a&&m&&ie!==""?Ct(de,ie,"blur","freeSolo"):s&&fe(de,ue),Me(de,"blur")},et=de=>{const re=de.target.value;ie!==re&&(le(re),yt(!1),V&&V(de,re,"input")),re===""?!f&&!E&&rt(de,null,"clear"):qe(de)},St=de=>{const re=Number(de.currentTarget.getAttribute("data-option-index"));pe.current!==re&&mt({event:de,index:re,reason:"mouse"})},fr=de=>{mt({event:de,index:Number(de.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ut.current=!0},cn=de=>{const re=Number(de.currentTarget.getAttribute("data-option-index"));Ct(de,we[re],"selectOption"),ut.current=!1},wn=de=>re=>{const me=ue.slice();me.splice(de,1),rt(re,me,"removeOption",{option:ue[de]})},wt=de=>{De?Me(de,"toggleInput"):qe(de)},zt=de=>{de.currentTarget.contains(de.target)&&de.target.getAttribute("id")!==Q&&de.preventDefault()},jt=de=>{de.currentTarget.contains(de.target)&&(X.current.focus(),q&&U.current&&X.current.selectionEnd-X.current.selectionStart===0&&X.current.select(),U.current=!1)},Er=de=>{!p&&(ie===""||!De)&&wt(de)};let Jr=m&&ie.length>0;Jr=Jr||(E?ue.length>0:ue!==null);let nr=we;return x&&(nr=we.reduce((de,re,me)=>{const Pe=x(re);return de.length>0&&de[de.length-1].group===Pe?de[de.length-1].options.push(re):de.push({key:me,index:me,group:Pe,options:[re]}),de},[])),p&&xe&&qr(),{getRootProps:(de={})=>ge({"aria-owns":Fe?"".concat(Q,"-listbox"):null},de,{onKeyDown:tr(de),onMouseDown:zt,onClick:jt}),getInputLabelProps:()=>({id:"".concat(Q,"-label"),htmlFor:Q}),getInputProps:()=>({id:Q,value:ie,onBlur:qr,onFocus:rr,onChange:et,onMouseDown:Er,"aria-activedescendant":ve?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Fe?"".concat(Q,"-listbox"):void 0,"aria-expanded":Fe,autoComplete:"off",ref:X,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ir}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:wt}),getTagProps:({index:de})=>ge({key:de,"data-tag-index":de,tabIndex:-1},!L&&{onDelete:wn(de)}),getListboxProps:()=>({role:"listbox",id:"".concat(Q,"-listbox"),"aria-labelledby":"".concat(Q,"-label"),ref:It,onMouseDown:de=>{de.preventDefault()}}),getOptionProps:({index:de,option:re})=>{var me;const Pe=(E?ue:[ue]).some(Pt=>Pt!=null&&P(re,Pt)),Ot=S?S(re):!1;return{key:(me=_==null?void 0:_(re))!=null?me:K(re),tabIndex:-1,role:"option",id:"".concat(Q,"-option-").concat(de),onMouseMove:St,onClick:cn,onTouchStart:fr,"data-option-index":de,"aria-disabled":Ot,"aria-selected":Pe}},id:Q,inputValue:ie,value:ue,dirty:Jr,expanded:ve&&se,popupOpen:ve,focused:xe||be!==-1,anchorEl:se,setAnchorEl:Oe,focusedTag:be,groupedOptions:nr}}function pj(t){return NO("MuiListSubheader",t)}DO("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const hj=["className","color","component","disableGutters","disableSticky","inset"],vj=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,o={root:["root",r!=="default"&&"color".concat($r(r)),!n&&"gutters",i&&"inset",!a&&"sticky"]};return Do(o,pj,e)},gj=Br("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e["color".concat($r(r.color))],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>ge({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),sx=ae.forwardRef(function(e,r){const n=No({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=ni(n,hj),f=ge({},n,{color:a,component:o,disableGutters:s,disableSticky:l,inset:u}),d=vj(f);return k.jsx(gj,ge({as:o,className:Cn(d.root,i),ref:r,ownerState:f},c))});sx.muiSkipListHighlight=!0;const lx=sx;var h0,v0;const mj=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],yj=["ref"],bj=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=t,f={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat($r(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Do(f,pI,e)},_j=Br("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:o,size:s}=r;return[{["& .".concat(Rt.tag)]:e.tag},{["& .".concat(Rt.tag)]:e["tagSize".concat($r(s))]},{["& .".concat(Rt.inputRoot)]:e.inputRoot},{["& .".concat(Rt.input)]:e.input},{["& .".concat(Rt.input)]:o&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})(({ownerState:t})=>ge({["&.".concat(Rt.focused," .").concat(Rt.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(Rt.clearIndicator)]:{visibility:"visible"}}},t.fullWidth&&{width:"100%"},{["& .".concat(Rt.tag)]:ge({margin:3,maxWidth:"calc(100% - 6px)"},t.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),["& .".concat(Rt.inputRoot)]:{flexWrap:"wrap",[".".concat(Rt.hasPopupIcon,"&, .").concat(Rt.hasClearIcon,"&")]:{paddingRight:30},[".".concat(Rt.hasPopupIcon,".").concat(Rt.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(Rt.input)]:{width:0,minWidth:30}},["& .".concat(up.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(up.root,".").concat(vo.sizeSmall)]:{["& .".concat(up.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(i0.root)]:{padding:9,[".".concat(Rt.hasPopupIcon,"&, .").concat(Rt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(Rt.hasPopupIcon,".").concat(Rt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(Rt.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(Rt.endAdornment)]:{right:9}},["& .".concat(i0.root,".").concat(vo.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(Rt.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(us.root)]:{paddingTop:19,paddingLeft:8,[".".concat(Rt.hasPopupIcon,"&, .").concat(Rt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(Rt.hasPopupIcon,".").concat(Rt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(us.input)]:{padding:"7px 4px"},["& .".concat(Rt.endAdornment)]:{right:9}},["& .".concat(us.root,".").concat(vo.sizeSmall)]:{paddingBottom:1,["& .".concat(us.input)]:{padding:"2.5px 4px"}},["& .".concat(vo.hiddenLabel)]:{paddingTop:8},["& .".concat(us.root,".").concat(vo.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(Rt.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(us.root,".").concat(vo.hiddenLabel,".").concat(vo.sizeSmall)]:{["& .".concat(Rt.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(Rt.input)]:ge({flexGrow:1,textOverflow:"ellipsis",opacity:0},t.inputFocused&&{opacity:1})})),Sj=Br("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Oj=Br(Ft,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),xj=Br(Ft,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>ge({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})(({ownerState:t})=>ge({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})),wj=Br(tx,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(Rt.option)]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(({theme:t,ownerState:e})=>ge({zIndex:(t.vars||t).zIndex.modal},e.disablePortal&&{position:"absolute"})),Ej=Br(YO,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>ge({},t.typography.body1,{overflow:"auto"})),Cj=Br("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),Tj=Br("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),Pj=Br("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(Rt.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(Rt.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(Rt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):Ds(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(Rt.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):Ds(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(Rt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):Ds(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),Aj=Br(lx,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),kj=Br("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(Rt.option)]:{paddingLeft:24}}),Ij=ae.forwardRef(function(e,r){var n,i,a,o;const s=No({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:f=!1,ChipProps:d,className:p,clearIcon:h=h0||(h0=k.jsx(dI,{fontSize:"small"})),clearOnBlur:v=!s.freeSolo,clearOnEscape:g=!1,clearText:y="Clear",closeText:m="Close",componentsProps:S={},defaultValue:_=s.multiple?[]:null,disableClearable:O=!1,disableCloseOnSelect:x=!1,disabled:w=!1,disabledItemsFocusable:C=!1,disableListWrap:I=!1,disablePortal:A=!1,filterSelectedOptions:P=!1,forcePopupIcon:E="auto",freeSolo:R=!1,fullWidth:F=!1,getLimitTagsText:N=re=>"+".concat(re),getOptionLabel:V,groupBy:z,handleHomeEndKeys:J=!s.freeSolo,includeInputInList:H=!1,limitTags:M=-1,ListboxComponent:L="ul",ListboxProps:q,loading:W=!1,loadingText:Q="Loading…",multiple:K=!1,noOptionsText:$="No options",openOnFocus:U=!1,openText:X="Open",PaperComponent:ee=YO,PopperComponent:se=tx,popupIcon:Oe=v0||(v0=k.jsx(PI,{})),readOnly:be=!1,renderGroup:Se,renderInput:_e,renderOption:pe,renderTags:ue,selectOnFocus:Le=!s.freeSolo,size:ie="medium",slotProps:le={}}=s,xe=ni(s,mj),{getRootProps:Ee,getInputProps:fe,getInputLabelProps:De,getPopupIndicatorProps:We,getClearProps:Je,getTagProps:yt,getListboxProps:Bt,getOptionProps:ve,value:we,dirty:Ae,expanded:Fe,id:ct,popupOpen:ze,focused:mt,focusedTag:it,anchorEl:Kt,setAnchorEl:lt,inputValue:It,groupedOptions:qe}=dj(ge({},s,{componentName:"Autocomplete"})),Me=!O&&!w&&Ae&&!be,rt=(!R||E===!0)&&E!==!1,{onMouseDown:ut}=fe(),{ref:Ct}=q!=null?q:{},Tt=Bt(),{ref:Nt}=Tt,ir=ni(Tt,yj),tr=ih(Nt,Ct),qr=V||(re=>{var me;return(me=re.label)!=null?me:re}),et=ge({},s,{disablePortal:A,expanded:Fe,focused:mt,fullWidth:F,getOptionLabel:qr,hasClearIcon:Me,hasPopupIcon:rt,inputFocused:it===-1,popupOpen:ze,size:ie}),St=bj(et);let fr;if(K&&we.length>0){const re=me=>ge({className:St.tag,disabled:w},yt(me));ue?fr=ue(we,re,et):fr=we.map((me,Pe)=>k.jsx(WO,ge({label:qr(me),size:ie},re({index:Pe}),d)))}if(M>-1&&Array.isArray(fr)){const re=fr.length-M;!mt&&re>0&&(fr=fr.splice(0,M),fr.push(k.jsx("span",{className:St.tag,children:N(re)},fr.length)))}const wn=Se||(re=>k.jsxs("li",{children:[k.jsx(Aj,{className:St.groupLabel,ownerState:et,component:"div",children:re.group}),k.jsx(kj,{className:St.groupUl,ownerState:et,children:re.children})]},re.key)),zt=pe||((re,me)=>ae.createElement("li",ge({},re,{key:re.key}),qr(me))),jt=(re,me)=>{const Pe=ve({option:re,index:me});return zt(ge({},Pe,{className:St.option}),re,{selected:Pe["aria-selected"],index:me,inputValue:It},et)},Er=(n=le.clearIndicator)!=null?n:S.clearIndicator,Jr=(i=le.paper)!=null?i:S.paper,nr=(a=le.popper)!=null?a:S.popper,de=(o=le.popupIndicator)!=null?o:S.popupIndicator;return k.jsxs(ae.Fragment,{children:[k.jsx(_j,ge({ref:r,className:Cn(St.root,p),ownerState:et},Ee(xe),{children:_e({id:ct,disabled:w,fullWidth:!0,size:ie==="small"?"small":void 0,InputLabelProps:De(),InputProps:ge({ref:lt,className:St.inputRoot,startAdornment:fr,onClick:re=>{re.target===re.currentTarget&&ut(re)}},(Me||rt)&&{endAdornment:k.jsxs(Sj,{className:St.endAdornment,ownerState:et,children:[Me?k.jsx(Oj,ge({},Je(),{"aria-label":y,title:y,ownerState:et},Er,{className:Cn(St.clearIndicator,Er==null?void 0:Er.className),children:h})):null,rt?k.jsx(xj,ge({},We(),{disabled:w,"aria-label":ze?m:X,title:ze?m:X,ownerState:et},de,{className:Cn(St.popupIndicator,de==null?void 0:de.className),children:Oe})):null]})}),inputProps:ge({className:St.input,disabled:w,readOnly:be},fe())})})),Kt?k.jsx(wj,ge({as:se,disablePortal:A,style:{width:Kt?Kt.clientWidth:null},ownerState:et,role:"presentation",anchorEl:Kt,open:ze},nr,{className:Cn(St.popper,nr==null?void 0:nr.className),children:k.jsxs(Ej,ge({ownerState:et,as:ee},Jr,{className:Cn(St.paper,Jr==null?void 0:Jr.className),children:[W&&qe.length===0?k.jsx(Cj,{className:St.loading,ownerState:et,children:Q}):null,qe.length===0&&!R&&!W?k.jsx(Tj,{className:St.noOptions,ownerState:et,role:"presentation",onMouseDown:re=>{re.preventDefault()},children:$}):null,qe.length>0?k.jsx(Pj,ge({as:L,className:St.listbox,ownerState:et},ir,q,{ref:tr,children:qe.map((re,me)=>z?wn({key:re.key,group:re.group,children:re.options.map((Pe,Ot)=>jt(Pe,re.index+Ot))}):jt(re,me))})):null]}))})):null]})}),jj=Ij,Rj=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Fj=(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(_n.grouped)]:e.grouped},{["& .".concat(_n.grouped)]:e["grouped".concat($r(r.orientation))]},{["& .".concat(_n.grouped)]:e["grouped".concat($r(r.variant))]},{["& .".concat(_n.grouped)]:e["grouped".concat($r(r.variant)).concat($r(r.orientation))]},{["& .".concat(_n.grouped)]:e["grouped".concat($r(r.variant)).concat($r(r.color))]},{["& .".concat(_n.firstButton)]:e.firstButton},{["& .".concat(_n.lastButton)]:e.lastButton},{["& .".concat(_n.middleButton)]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},Lj=t=>{const{classes:e,color:r,disabled:n,disableElevation:i,fullWidth:a,orientation:o,variant:s}=t,l={root:["root",s,o==="vertical"&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat($r(o)),"grouped".concat($r(s)),"grouped".concat($r(s)).concat($r(o)),"grouped".concat($r(s)).concat($r(r)),n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Do(l,hI,e)},$j=Br("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Fj})(({theme:t,ownerState:e})=>ge({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{["& .".concat(_n.grouped)]:ge({minWidth:40,"&:hover":ge({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),["& .".concat(_n.firstButton,",& .").concat(_n.middleButton)]:ge({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(_n.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(_n.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.5)"):Ds(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(_n.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(_n.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":ge({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),["& .".concat(_n.lastButton,",& .").concat(_n.middleButton)]:ge({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),Nj=ae.forwardRef(function(e,r){const n=No({props:e,name:"MuiButtonGroup"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:f=!1,fullWidth:d=!1,orientation:p="horizontal",size:h="medium",variant:v="outlined"}=n,g=ni(n,Rj),y=ge({},n,{color:o,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,orientation:p,size:h,variant:v}),m=Lj(y),S=ae.useMemo(()=>({className:m.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,size:h,variant:v}),[o,l,u,c,f,d,h,v,m.grouped]),_=ZI(i),O=_.length,x=w=>{const C=w===0,I=w===O-1;return C&&I?"":C?m.firstButton:I?m.lastButton:m.middleButton};return k.jsx($j,ge({as:s,role:"group",className:Cn(m.root,a),ref:r,ownerState:y},g,{children:k.jsx(Dk.Provider,{value:S,children:_.map((w,C)=>k.jsx(Mk.Provider,{value:x(C),children:w},C))})}))}),Dj=Nj;function Mj(t){return NO("MuiDialogContentText",t)}DO("MuiDialogContentText",["root"]);const Vj=["children","className"],Bj=t=>{const{classes:e}=t,n=Do({root:["root"]},Mj,e);return ge({},e,n)},qj=Br($n,{shouldForwardProp:t=>Vk(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Hj=ae.forwardRef(function(e,r){const n=No({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=ni(n,Vj),o=Bj(a);return k.jsx(qj,ge({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:Cn(o.root,i)},n,{classes:o}))}),zj=Hj,Wj=["className"],Gj=t=>{const{alignItems:e,classes:r}=t;return Do({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},vI,r)},Uj=Br("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>ge({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Yj=ae.forwardRef(function(e,r){const n=No({props:e,name:"MuiListItemIcon"}),{className:i}=n,a=ni(n,Wj),o=ae.useContext(KO),s=ge({},n,{alignItems:o.alignItems}),l=Gj(s);return k.jsx(Uj,ge({className:Cn(l.root,i),ownerState:s,ref:r},a))}),ux=Yj,Kj=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Qj=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return Do({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gI,e)},Jj=Br("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(r0.primary)]:e.primary},{["& .".concat(r0.secondary)]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>ge({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Xj=ae.forwardRef(function(e,r){const n=No({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,d=ni(n,Kj),{dense:p}=ae.useContext(KO);let h=l!=null?l:i,v=c;const g=ge({},n,{disableTypography:o,inset:s,primary:!!h,secondary:!!v,dense:p}),y=Qj(g);return h!=null&&h.type!==$n&&!o&&(h=k.jsx($n,ge({variant:p?"body2":"body1",className:y.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:h}))),v!=null&&v.type!==$n&&!o&&(v=k.jsx($n,ge({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},f,{children:v}))),k.jsxs(Jj,ge({className:Cn(y.root,a),ownerState:g,ref:r},d,{children:[h,v]}))}),pv=Xj,Zj=t=>!t||!Vc(t),eR=t=>{const{open:e}=t;return{offset:Cn(e&&Ei.valueLabelOpen),circle:Ei.valueLabelCircle,label:Ei.valueLabelLabel}};function tR(t){const{children:e,className:r,value:n}=t,i=eR(t);return e?ae.cloneElement(e,{className:Cn(e.props.className)},k.jsxs(ae.Fragment,{children:[e.props.children,k.jsx("span",{className:Cn(i.offset,r),"aria-hidden":!0,children:k.jsx("span",{className:i.circle,children:k.jsx("span",{className:i.label,children:n})})})]})):null}const rR=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function g0(t){return t}const nR=Br("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["color".concat($r(r.color))],r.size!=="medium"&&e["size".concat($r(r.size))],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>ge({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&ge({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&ge({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},["&.".concat(Ei.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(Ei.dragging)]:{["& .".concat(Ei.thumb,", & .").concat(Ei.track)]:{transition:"none"}}})),iR=Br("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>ge({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),aR=Br("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?Ek(t.palette[e.color].main,.62):Ck(t.palette[e.color].main,.5);return ge({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider["".concat(e.color,"Track")]:r,borderColor:t.vars?t.vars.palette.Slider["".concat(e.color,"Track")]:r})}),oR=Br("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e["thumbColor".concat($r(r.color))],r.size!=="medium"&&e["thumbSize".concat($r(r.size))]]}})(({theme:t,ownerState:e})=>ge({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&::before":ge({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&:hover, &.".concat(Ei.focusVisible)]:{boxShadow:"0px 0px 0px 8px ".concat(t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.16)"):Ds(t.palette[e.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}},["&.".concat(Ei.active)]:{boxShadow:"0px 0px 0px 14px ".concat(t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.16)"):Ds(t.palette[e.color].main,.16))},["&.".concat(Ei.disabled)]:{"&:hover":{boxShadow:"none"}}})),sR=Br(tR,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>ge({["&.".concat(Ei.valueLabelOpen)]:{transform:"".concat(e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"," scale(1)")},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:"".concat(e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"," scale(0)"),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:e.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),lR=Br("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>qO(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t,ownerState:e,markActive:r})=>ge({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),uR=Br("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>qO(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:r})=>ge({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(t.vars||t).palette.text.primary})),cR=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:o,color:s,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&"color".concat($r(s)),l&&"size".concat($r(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat($r(l)),s&&"thumbColor".concat($r(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Do(u,mI,o)},fR=({children:t})=>t,dR=ae.forwardRef(function(e,r){var n,i,a,o,s,l,u,c,f,d,p,h,v,g,y,m,S,_,O,x,w,C,I,A;const P=No({props:e,name:"MuiSlider"}),R=Qr().direction==="rtl",{"aria-label":F,"aria-valuetext":N,"aria-labelledby":V,component:z="span",components:J={},componentsProps:H={},color:M="primary",classes:L,className:q,disableSwap:W=!1,disabled:Q=!1,getAriaLabel:K,getAriaValueText:$,marks:U=!1,max:X=100,min:ee=0,orientation:se="horizontal",shiftStep:Oe=10,size:be="medium",step:Se=1,scale:_e=g0,slotProps:pe,slots:ue,track:Le="normal",valueLabelDisplay:ie="off",valueLabelFormat:le=g0}=P,xe=ni(P,rR),Ee=ge({},P,{isRtl:R,max:X,min:ee,classes:L,disabled:Q,disableSwap:W,orientation:se,marks:U,color:M,size:be,step:Se,shiftStep:Oe,scale:_e,track:Le,valueLabelDisplay:ie,valueLabelFormat:le}),{axisProps:fe,getRootProps:De,getHiddenInputProps:We,getThumbProps:Je,open:yt,active:Bt,axis:ve,focusedThumbIndex:we,range:Ae,dragging:Fe,marks:ct,values:ze,trackOffset:mt,trackLeap:it,getThumbStyle:Kt}=uj(ge({},Ee,{rootRef:r}));Ee.marked=ct.length>0&&ct.some(re=>re.label),Ee.dragging=Fe,Ee.focusedThumbIndex=we;const lt=cR(Ee),It=(n=(i=ue==null?void 0:ue.root)!=null?i:J.Root)!=null?n:nR,qe=(a=(o=ue==null?void 0:ue.rail)!=null?o:J.Rail)!=null?a:iR,Me=(s=(l=ue==null?void 0:ue.track)!=null?l:J.Track)!=null?s:aR,rt=(u=(c=ue==null?void 0:ue.thumb)!=null?c:J.Thumb)!=null?u:oR,ut=(f=(d=ue==null?void 0:ue.valueLabel)!=null?d:J.ValueLabel)!=null?f:sR,Ct=(p=(h=ue==null?void 0:ue.mark)!=null?h:J.Mark)!=null?p:lR,Tt=(v=(g=ue==null?void 0:ue.markLabel)!=null?g:J.MarkLabel)!=null?v:uR,Nt=(y=(m=ue==null?void 0:ue.input)!=null?m:J.Input)!=null?y:"input",ir=(S=pe==null?void 0:pe.root)!=null?S:H.root,tr=(_=pe==null?void 0:pe.rail)!=null?_:H.rail,rr=(O=pe==null?void 0:pe.track)!=null?O:H.track,qr=(x=pe==null?void 0:pe.thumb)!=null?x:H.thumb,et=(w=pe==null?void 0:pe.valueLabel)!=null?w:H.valueLabel,St=(C=pe==null?void 0:pe.mark)!=null?C:H.mark,fr=(I=pe==null?void 0:pe.markLabel)!=null?I:H.markLabel,cn=(A=pe==null?void 0:pe.input)!=null?A:H.input,wn=Va({elementType:It,getSlotProps:De,externalSlotProps:ir,externalForwardedProps:xe,additionalProps:ge({},Zj(It)&&{as:z}),ownerState:ge({},Ee,ir==null?void 0:ir.ownerState),className:[lt.root,q]}),wt=Va({elementType:qe,externalSlotProps:tr,ownerState:Ee,className:lt.rail}),zt=Va({elementType:Me,externalSlotProps:rr,additionalProps:{style:ge({},fe[ve].offset(mt),fe[ve].leap(it))},ownerState:ge({},Ee,rr==null?void 0:rr.ownerState),className:lt.track}),jt=Va({elementType:rt,getSlotProps:Je,externalSlotProps:qr,ownerState:ge({},Ee,qr==null?void 0:qr.ownerState),className:lt.thumb}),Er=Va({elementType:ut,externalSlotProps:et,ownerState:ge({},Ee,et==null?void 0:et.ownerState),className:lt.valueLabel}),Jr=Va({elementType:Ct,externalSlotProps:St,ownerState:Ee,className:lt.mark}),nr=Va({elementType:Tt,externalSlotProps:fr,ownerState:Ee,className:lt.markLabel}),de=Va({elementType:Nt,getSlotProps:We,externalSlotProps:cn,ownerState:Ee});return k.jsxs(It,ge({},wn,{children:[k.jsx(qe,ge({},wt)),k.jsx(Me,ge({},zt)),ct.filter(re=>re.value>=ee&&re.value<=X).map((re,me)=>{const Pe=tf(re.value,ee,X),Ot=fe[ve].offset(Pe);let Pt;return Le===!1?Pt=ze.indexOf(re.value)!==-1:Pt=Le==="normal"&&(Ae?re.value>=ze[0]&&re.value<=ze[ze.length-1]:re.value<=ze[0])||Le==="inverted"&&(Ae?re.value<=ze[0]||re.value>=ze[ze.length-1]:re.value>=ze[0]),k.jsxs(ae.Fragment,{children:[k.jsx(Ct,ge({"data-index":me},Jr,!Vc(Ct)&&{markActive:Pt},{style:ge({},Ot,Jr.style),className:Cn(Jr.className,Pt&&lt.markActive)})),re.label!=null?k.jsx(Tt,ge({"aria-hidden":!0,"data-index":me},nr,!Vc(Tt)&&{markLabelActive:Pt},{style:ge({},Ot,nr.style),className:Cn(lt.markLabel,nr.className,Pt&&lt.markLabelActive),children:re.label})):null]},me)}),ze.map((re,me)=>{const Pe=tf(re,ee,X),Ot=fe[ve].offset(Pe),Pt=ie==="off"?fR:ut;return k.jsx(Pt,ge({},!Vc(Pt)&&{valueLabelFormat:le,valueLabelDisplay:ie,value:typeof le=="function"?le(_e(re),me):le,index:me,open:yt===me||Bt===me||ie==="on",disabled:Q},Er,{children:k.jsx(rt,ge({"data-index":me},jt,{className:Cn(lt.thumb,jt.className,Bt===me&&lt.active,we===me&&lt.focusVisible),style:ge({},Ot,Kt(me),jt.style),children:k.jsx(Nt,ge({"data-index":me,"aria-label":K?K(me):F,"aria-valuenow":_e(re),"aria-labelledby":V,"aria-valuetext":$?$(_e(re),me):N,value:ze[me]},de))}))}),me)})]}))}),cx=dR;function pR(t){const r=Bk().getMonitor(),[n,i]=qk(r,t);return ae.useEffect(()=>r.subscribeToOffsetChange(i)),ae.useEffect(()=>r.subscribeToStateChange(i)),n}const hR=uv(k.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined"),vR=uv(k.jsx("path",{d:"M21 4H11l-1-3H3c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8l1 3h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 16c-2.76 0-5-2.24-5-5s2.24-5 5-5c1.35 0 2.48.5 3.35 1.3L9.03 8.57c-.38-.36-1.04-.78-2.03-.78-1.74 0-3.15 1.44-3.15 3.21S5.26 14.21 7 14.21c2.01 0 2.84-1.44 2.92-2.41H7v-1.71h4.68c.07.31.12.61.12 1.02C11.8 13.97 9.89 16 7 16zm6.17-5.42h3.7c-.43 1.25-1.11 2.43-2.05 3.47-.31-.35-.6-.72-.86-1.1l-.79-2.37zm8.33 9.92c0 .55-.45 1-1 1H14l2-2.5-1.04-3.1 3.1 3.1.92-.92-3.3-3.25.02-.02c1.13-1.25 1.93-2.69 2.4-4.22H20v-1.3h-4.53V8h-1.29v1.29h-1.44L11.46 5.5h9.04c.55 0 1 .45 1 1v14z"}),"GTranslate"),gR=uv(k.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9zM5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5zm6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5z"}),"Palette"),mR="_mainContainer_as1f9_1",yR="_updateButtons_as1f9_5",bR="_save_as1f9_14",_R="_header_as1f9_18",m0={mainContainer:mR,updateButtons:yR,save:bR,header:_R},SR="_groupEmptyHint_11fy7_2",OR="_groupEmptyHintHover_11fy7_14",xR="_footer_11fy7_18",wR="_contentPanel_11fy7_22",ER="_cardImage_11fy7_29",CR="_customScrollBar_11fy7_37",TR="_virtuosoStyle_11fy7_41",PR="_cardMediaContent_11fy7_46",AR="_buttonContainer_11fy7_54",kR="_button_11fy7_54",va={groupEmptyHint:SR,groupEmptyHintHover:OR,footer:xR,contentPanel:wR,cardImage:ER,customScrollBar:CR,virtuosoStyle:TR,cardMediaContent:PR,buttonContainer:AR,button:kR};var hv={},IR=zr;Object.defineProperty(hv,"__esModule",{value:!0});var fx=hv.default=void 0,jR=IR(Wr()),RR=k,FR=(0,jR.default)((0,RR.jsx)("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"Reorder");fx=hv.default=FR;const LR="_errorDisplay_1joy4_1",$R="_clickable_1joy4_10",y0={errorDisplay:LR,clickable:$R};var vv={},NR=zr;Object.defineProperty(vv,"__esModule",{value:!0});var dx=vv.default=void 0,DR=NR(Wr()),MR=k,VR=(0,DR.default)((0,MR.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");dx=vv.default=VR;function BR(t){const{t:e}=Mo("design"),r=Vt(),i=UO([d=>d.designState[t.code]||{}],d=>{var h;const p=(h=d.instructionList)==null?void 0:h.filter(v=>{var g;return((g=v.errors)==null?void 0:g.length)>0});return{errors:d.errors,designErrors:d.designErrors,instructions:p!=null&&p.length?p:void 0}}),{errors:a,designErrors:o,instructions:s}=Te(i),l=(a==null?void 0:a.length)>0||(o==null?void 0:o.length)>0||(s==null?void 0:s.length)>0,u=Te(d=>{var p;return t.code=="Survey"?"":Fi(t.code)?((p=d.designState[t.code].groupType)==null?void 0:p.toLowerCase())||"group":d.designState[t.code].type}),c=d=>(d.code==="conditional_relevance"?r(Nn({code:t.code,rules:Qi(u),highlighted:"relevance",expanded:["relevance"]})):d.code==="random_group"||d.code==="priority_groups"?t.code=="Survey"?r(Nn({...Hk,highlighted:"random"})):r(Nn({code:t.code,rules:Qi(u),highlighted:"random",expanded:["random"]})):d.code.startsWith("skip_to")&&r(Nn({code:t.code,rules:Qi(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""),f=d=>d.code==="conditional_relevance"||d.code==="random_group"||d.code==="priority_groups"||d.code.startsWith("skip_to");return l?k.jsxs(_t,{className:y0.errorDisplay,children:[a&&a.map(d=>k.jsxs("div",{children:[k.jsx(pi,{style:{verticalAlign:"middle"}}),qR(t.code,d,e)]},d)),o&&o.map(d=>k.jsxs("div",{children:[k.jsx(pi,{style:{verticalAlign:"middle"}}),d.message]},d.code)),s&&s.map(d=>k.jsxs("div",{className:f(d)?y0.clickable:"",onClick:()=>c(d),children:[k.jsx(dx,{style:{verticalAlign:"middle"}}),HR(d,e)]},d.code))]}):k.jsx(k.Fragment,{})}const qR=(t,e,r)=>e==="EMPTY_PARENT"?r("err_empty_parent",{component_name:b0(t,r),child_name:zR(t,r)}):e==="DUPLICATE_CODE"?(r("err_duplicate_code"),{component_name:b0(t,r)}):e==="NO_END_GROUP"?r("err_no_end_group"):e==="MISPLACED_END_GROUP"?r("err_misplaced_end_group"):e==="MISPLACED_WELCOME_GROUP"?r("err_misplaced_welcome_group"):"",HR=(t,e)=>t.code==="value"&&t.errors[0].name=="InvalidInstructionInEndGroup"?e("err_value_in_end_group"):t.code==="conditional_relevance"?e("err_relevance"):t.code==="random_group"?e("err_random"):t.code==="priority_groups"?e("err_priority"):t.code.startsWith("reference")?k.jsx(Oa,{t:e,values:{codes:t.errors.map(r=>{var n;return(n=r.dependency)==null?void 0:n.componentCode}).join(", "),lang:t.lang},i18nKey:"err_reference"}):t.code.startsWith("skip_to")?e("err_skip"):"",b0=(t,e)=>t=="Survey"?e("survey"):Vo(t)?e("question"):Fi(t)?e("group"):e("option"),zR=(t,e)=>Fi(t)?e("question"):t=="Survey"?e("group"):e("option"),gv=ae.memo(BR);var mv={},WR=zr;Object.defineProperty(mv,"__esModule",{value:!0});var yv=mv.default=void 0,GR=WR(Wr()),UR=k,YR=(0,GR.default)((0,UR.jsx)("path",{d:"M4 18h2.5v-2.5H4V18zm0-4.75h2.5v-2.5H4v2.5zM4 8.5h2.5V6H4v2.5zM17.5 6v2.5H20V6h-2.5zM13 8.5h2.5V6H13v2.5zm4.5 9.5H20v-2.5h-2.5V18zm0-4.75H20v-2.5h-2.5v2.5zM8.5 18H11v-2.5H8.5V18zm4.5 0h2.5v-2.5H13V18zM8.5 8.5H11V6H8.5v2.5zm4.5 4.75h2.5v-2.5H13v2.5zm-4.5 0H11v-2.5H8.5v2.5z"}),"ViewCompact");yv=mv.default=YR;const KR="_textDescriptionContent_o9cn8_1",QR="_moveBox_o9cn8_7",JR="_groupQuestion_o9cn8_13",XR="_titleContainer_o9cn8_22",ZR="_titleQuestion_o9cn8_29",eF="_iconBox_o9cn8_39",tF="_actionToolbarVisible_o9cn8_59",rF="_fadeInMoveRight_o9cn8_1",nF="_contentContainer_o9cn8_64",Ba={textDescriptionContent:KR,moveBox:QR,groupQuestion:JR,titleContainer:XR,titleQuestion:ZR,iconBox:eF,actionToolbarVisible:tF,fadeInMoveRight:rF,contentContainer:nF},iF="_fullWidth_1dvff_1",aF="_toolbarClass_1dvff_6",oF="_noPadding_1dvff_12",sF="_placeholder_1dvff_25",pp={fullWidth:iF,toolbarClass:aF,"rdw-editor-toolbar":"_rdw-editor-toolbar_1dvff_6",noPadding:oF,placeholder:sF};function lF(){this.__data__=[],this.size=0}var uF=lF;function cF(t,e){return t===e||t!==t&&e!==e}var mu=cF,fF=mu;function dF(t,e){for(var r=t.length;r--;)if(fF(t[r][0],e))return r;return-1}var Nf=dF,pF=Nf,hF=Array.prototype,vF=hF.splice;function gF(t){var e=this.__data__,r=pF(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vF.call(e,r,1),--this.size,!0}var mF=gF,yF=Nf;function bF(t){var e=this.__data__,r=yF(e,t);return r<0?void 0:e[r][1]}var _F=bF,SF=Nf;function OF(t){return SF(this.__data__,t)>-1}var xF=OF,wF=Nf;function EF(t,e){var r=this.__data__,n=wF(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var CF=EF,TF=uF,PF=mF,AF=_F,kF=xF,IF=CF;function Xs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xs.prototype.clear=TF;Xs.prototype.delete=PF;Xs.prototype.get=AF;Xs.prototype.has=kF;Xs.prototype.set=IF;var Df=Xs,jF=Df;function RF(){this.__data__=new jF,this.size=0}var FF=RF;function LF(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var $F=LF;function NF(t){return this.__data__.get(t)}var DF=NF;function MF(t){return this.__data__.has(t)}var VF=MF,BF=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn,px=BF,qF=px,HF=typeof self=="object"&&self&&self.Object===Object&&self,zF=qF||HF||Function("return this")(),Ni=zF,WF=Ni,GF=WF.Symbol,Zs=GF,_0=Zs,hx=Object.prototype,UF=hx.hasOwnProperty,YF=hx.toString,Il=_0?_0.toStringTag:void 0;function KF(t){var e=UF.call(t,Il),r=t[Il];try{t[Il]=void 0;var n=!0}catch(a){}var i=YF.call(t);return n&&(e?t[Il]=r:delete t[Il]),i}var QF=KF,JF=Object.prototype,XF=JF.toString;function ZF(t){return XF.call(t)}var eL=ZF,S0=Zs,tL=QF,rL=eL,nL="[object Null]",iL="[object Undefined]",O0=S0?S0.toStringTag:void 0;function aL(t){return t==null?t===void 0?iL:nL:O0&&O0 in Object(t)?tL(t):rL(t)}var Ho=aL;function oL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yi=oL,sL=Ho,lL=yi,uL="[object AsyncFunction]",cL="[object Function]",fL="[object GeneratorFunction]",dL="[object Proxy]";function pL(t){if(!lL(t))return!1;var e=sL(t);return e==cL||e==fL||e==uL||e==dL}var bv=pL,hL=Ni,vL=hL["__core-js_shared__"],gL=vL,hp=gL,x0=function(){var t=/[^.]+$/.exec(hp&&hp.keys&&hp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mL(t){return!!x0&&x0 in t}var yL=mL,bL=Function.prototype,_L=bL.toString;function SL(t){if(t!=null){try{return _L.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vx=SL,OL=bv,xL=yL,wL=yi,EL=vx,CL=/[\\^$.*+?()[\]{}|]/g,TL=/^\[object .+?Constructor\]$/,PL=Function.prototype,AL=Object.prototype,kL=PL.toString,IL=AL.hasOwnProperty,jL=RegExp("^"+kL.call(IL).replace(CL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RL(t){if(!wL(t)||xL(t))return!1;var e=OL(t)?jL:TL;return e.test(EL(t))}var FL=RL;function LL(t,e){return t==null?void 0:t[e]}var $L=LL,NL=FL,DL=$L;function ML(t,e){var r=DL(t,e);return NL(r)?r:void 0}var zo=ML,VL=zo,BL=Ni,qL=VL(BL,"Map"),_v=qL,HL=zo,zL=HL(Object,"create"),Mf=zL,w0=Mf;function WL(){this.__data__=w0?w0(null):{},this.size=0}var GL=WL;function UL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YL=UL,KL=Mf,QL="__lodash_hash_undefined__",JL=Object.prototype,XL=JL.hasOwnProperty;function ZL(t){var e=this.__data__;if(KL){var r=e[t];return r===QL?void 0:r}return XL.call(e,t)?e[t]:void 0}var e$=ZL,t$=Mf,r$=Object.prototype,n$=r$.hasOwnProperty;function i$(t){var e=this.__data__;return t$?e[t]!==void 0:n$.call(e,t)}var a$=i$,o$=Mf,s$="__lodash_hash_undefined__";function l$(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=o$&&e===void 0?s$:e,this}var u$=l$,c$=GL,f$=YL,d$=e$,p$=a$,h$=u$;function el(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}el.prototype.clear=c$;el.prototype.delete=f$;el.prototype.get=d$;el.prototype.has=p$;el.prototype.set=h$;var v$=el,E0=v$,g$=Df,m$=_v;function y$(){this.size=0,this.__data__={hash:new E0,map:new(m$||g$),string:new E0}}var b$=y$;function _$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var S$=_$,O$=S$;function x$(t,e){var r=t.__data__;return O$(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Vf=x$,w$=Vf;function E$(t){var e=w$(this,t).delete(t);return this.size-=e?1:0,e}var C$=E$,T$=Vf;function P$(t){return T$(this,t).get(t)}var A$=P$,k$=Vf;function I$(t){return k$(this,t).has(t)}var j$=I$,R$=Vf;function F$(t,e){var r=R$(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var L$=F$,$$=b$,N$=C$,D$=A$,M$=j$,V$=L$;function tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tl.prototype.clear=$$;tl.prototype.delete=N$;tl.prototype.get=D$;tl.prototype.has=M$;tl.prototype.set=V$;var Sv=tl,B$=Df,q$=_v,H$=Sv,z$=200;function W$(t,e){var r=this.__data__;if(r instanceof B$){var n=r.__data__;if(!q$||n.length<z$-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new H$(n)}return r.set(t,e),this.size=r.size,this}var G$=W$,U$=Df,Y$=FF,K$=$F,Q$=DF,J$=VF,X$=G$;function rl(t){var e=this.__data__=new U$(t);this.size=e.size}rl.prototype.clear=Y$;rl.prototype.delete=K$;rl.prototype.get=Q$;rl.prototype.has=J$;rl.prototype.set=X$;var Bf=rl,Z$="__lodash_hash_undefined__";function e2(t){return this.__data__.set(t,Z$),this}var t2=e2;function r2(t){return this.__data__.has(t)}var n2=r2,i2=Sv,a2=t2,o2=n2;function rf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new i2;++e<r;)this.add(t[e])}rf.prototype.add=rf.prototype.push=a2;rf.prototype.has=o2;var s2=rf;function l2(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var u2=l2;function c2(t,e){return t.has(e)}var f2=c2,d2=s2,p2=u2,h2=f2,v2=1,g2=2;function m2(t,e,r,n,i,a){var o=r&v2,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&g2?new d2:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var h=t[f],v=e[f];if(n)var g=o?n(v,h,f,e,t,a):n(h,v,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!p2(e,function(y,m){if(!h2(p,m)&&(h===y||i(h,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(h===v||i(h,v,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var gx=m2,y2=Ni,b2=y2.Uint8Array,mx=b2;function _2(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var S2=_2;function O2(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var x2=O2,C0=Zs,T0=mx,w2=mu,E2=gx,C2=S2,T2=x2,P2=1,A2=2,k2="[object Boolean]",I2="[object Date]",j2="[object Error]",R2="[object Map]",F2="[object Number]",L2="[object RegExp]",$2="[object Set]",N2="[object String]",D2="[object Symbol]",M2="[object ArrayBuffer]",V2="[object DataView]",P0=C0?C0.prototype:void 0,vp=P0?P0.valueOf:void 0;function B2(t,e,r,n,i,a,o){switch(r){case V2:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M2:return!(t.byteLength!=e.byteLength||!a(new T0(t),new T0(e)));case k2:case I2:case F2:return w2(+t,+e);case j2:return t.name==e.name&&t.message==e.message;case L2:case N2:return t==e+"";case R2:var s=C2;case $2:var l=n&P2;if(s||(s=T2),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=A2,o.set(t,e);var c=E2(s(t),s(e),n,i,a,o);return o.delete(t),c;case D2:if(vp)return vp.call(t)==vp.call(e)}return!1}var q2=B2;function H2(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Ov=H2,z2=Array.isArray,ai=z2,W2=Ov,G2=ai;function U2(t,e,r){var n=e(t);return G2(t)?n:W2(n,r(t))}var yx=U2;function Y2(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var K2=Y2;function Q2(){return[]}var bx=Q2,J2=K2,X2=bx,Z2=Object.prototype,eN=Z2.propertyIsEnumerable,A0=Object.getOwnPropertySymbols,tN=A0?function(t){return t==null?[]:(t=Object(t),J2(A0(t),function(e){return eN.call(t,e)}))}:X2,xv=tN;function rN(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var nN=rN;function iN(t){return t!=null&&typeof t=="object"}var sa=iN,aN=Ho,oN=sa,sN="[object Arguments]";function lN(t){return oN(t)&&aN(t)==sN}var uN=lN,k0=uN,cN=sa,_x=Object.prototype,fN=_x.hasOwnProperty,dN=_x.propertyIsEnumerable,pN=k0(function(){return arguments}())?k0:function(t){return cN(t)&&fN.call(t,"callee")&&!dN.call(t,"callee")},qf=pN,nf={exports:{}};function hN(){return!1}var vN=hN;nf.exports;(function(t,e){var r=Ni,n=vN,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(nf,nf.exports);var Hf=nf.exports,gN=9007199254740991,mN=/^(?:0|[1-9]\d*)$/;function yN(t,e){var r=typeof t;return e=e==null?gN:e,!!e&&(r=="number"||r!="symbol"&&mN.test(t))&&t>-1&&t%1==0&&t<e}var zf=yN,bN=9007199254740991;function _N(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bN}var wv=_N,SN=Ho,ON=wv,xN=sa,wN="[object Arguments]",EN="[object Array]",CN="[object Boolean]",TN="[object Date]",PN="[object Error]",AN="[object Function]",kN="[object Map]",IN="[object Number]",jN="[object Object]",RN="[object RegExp]",FN="[object Set]",LN="[object String]",$N="[object WeakMap]",NN="[object ArrayBuffer]",DN="[object DataView]",MN="[object Float32Array]",VN="[object Float64Array]",BN="[object Int8Array]",qN="[object Int16Array]",HN="[object Int32Array]",zN="[object Uint8Array]",WN="[object Uint8ClampedArray]",GN="[object Uint16Array]",UN="[object Uint32Array]",Tr={};Tr[MN]=Tr[VN]=Tr[BN]=Tr[qN]=Tr[HN]=Tr[zN]=Tr[WN]=Tr[GN]=Tr[UN]=!0;Tr[wN]=Tr[EN]=Tr[NN]=Tr[CN]=Tr[DN]=Tr[TN]=Tr[PN]=Tr[AN]=Tr[kN]=Tr[IN]=Tr[jN]=Tr[RN]=Tr[FN]=Tr[LN]=Tr[$N]=!1;function YN(t){return xN(t)&&ON(t.length)&&!!Tr[SN(t)]}var KN=YN;function QN(t){return function(e){return t(e)}}var Ev=QN,af={exports:{}};af.exports;(function(t,e){var r=px,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();t.exports=s})(af,af.exports);var Cv=af.exports,JN=KN,XN=Ev,I0=Cv,j0=I0&&I0.isTypedArray,ZN=j0?XN(j0):JN,Tv=ZN,eD=nN,tD=qf,rD=ai,nD=Hf,iD=zf,aD=Tv,oD=Object.prototype,sD=oD.hasOwnProperty;function lD(t,e){var r=rD(t),n=!r&&tD(t),i=!r&&!n&&nD(t),a=!r&&!n&&!i&&aD(t),o=r||n||i||a,s=o?eD(t.length,String):[],l=s.length;for(var u in t)(e||sD.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iD(u,l)))&&s.push(u);return s}var Sx=lD,uD=Object.prototype;function cD(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uD;return t===r}var Pv=cD;function fD(t,e){return function(r){return t(e(r))}}var Ox=fD,dD=Ox,pD=dD(Object.keys,Object),hD=pD,vD=Pv,gD=hD,mD=Object.prototype,yD=mD.hasOwnProperty;function bD(t){if(!vD(t))return gD(t);var e=[];for(var r in Object(t))yD.call(t,r)&&r!="constructor"&&e.push(r);return e}var _D=bD,SD=bv,OD=wv;function xD(t){return t!=null&&OD(t.length)&&!SD(t)}var nl=xD,wD=Sx,ED=_D,CD=nl;function TD(t){return CD(t)?wD(t):ED(t)}var il=TD;const Gs=rn(il);var PD=yx,AD=xv,kD=il;function ID(t){return PD(t,kD,AD)}var xx=ID,R0=xx,jD=1,RD=Object.prototype,FD=RD.hasOwnProperty;function LD(t,e,r,n,i,a){var o=r&jD,s=R0(t),l=s.length,u=R0(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:FD.call(e,d)))return!1}var p=a.get(t),h=a.get(e);if(p&&h)return p==e&&h==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var S=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(S===void 0?y===m||i(y,m,r,n,a):S)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof O=="function"&&O instanceof O)&&(v=!1)}return a.delete(t),a.delete(e),v}var $D=LD,ND=zo,DD=Ni,MD=ND(DD,"DataView"),VD=MD,BD=zo,qD=Ni,HD=BD(qD,"Promise"),zD=HD,WD=zo,GD=Ni,UD=WD(GD,"Set"),YD=UD,KD=zo,QD=Ni,JD=KD(QD,"WeakMap"),XD=JD,ah=VD,oh=_v,sh=zD,lh=YD,uh=XD,wx=Ho,al=vx,F0="[object Map]",ZD="[object Object]",L0="[object Promise]",$0="[object Set]",N0="[object WeakMap]",D0="[object DataView]",eM=al(ah),tM=al(oh),rM=al(sh),nM=al(lh),iM=al(uh),bo=wx;(ah&&bo(new ah(new ArrayBuffer(1)))!=D0||oh&&bo(new oh)!=F0||sh&&bo(sh.resolve())!=L0||lh&&bo(new lh)!=$0||uh&&bo(new uh)!=N0)&&(bo=function(t){var e=wx(t),r=e==ZD?t.constructor:void 0,n=r?al(r):"";if(n)switch(n){case eM:return D0;case tM:return F0;case rM:return L0;case nM:return $0;case iM:return N0}return e});var Wf=bo,gp=Bf,aM=gx,oM=q2,sM=$D,M0=Wf,V0=ai,B0=Hf,lM=Tv,uM=1,q0="[object Arguments]",H0="[object Array]",mc="[object Object]",cM=Object.prototype,z0=cM.hasOwnProperty;function fM(t,e,r,n,i,a){var o=V0(t),s=V0(e),l=o?H0:M0(t),u=s?H0:M0(e);l=l==q0?mc:l,u=u==q0?mc:u;var c=l==mc,f=u==mc,d=l==u;if(d&&B0(t)){if(!B0(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new gp),o||lM(t)?aM(t,e,r,n,i,a):oM(t,e,l,r,n,i,a);if(!(r&uM)){var p=c&&z0.call(t,"__wrapped__"),h=f&&z0.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,g=h?e.value():e;return a||(a=new gp),i(v,g,r,n,a)}}return d?(a||(a=new gp),sM(t,e,r,n,i,a)):!1}var dM=fM,pM=dM,W0=sa;function Ex(t,e,r,n,i){return t===e?!0:t==null||e==null||!W0(t)&&!W0(e)?t!==t&&e!==e:pM(t,e,r,n,Ex,i)}var Av=Ex,hM=Av;function vM(t,e){return hM(t,e)}var gM=vM,Cx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:Tn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),p=i(12),h=i(32),v=i(33),g=i(31),y=i(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:h.default,Style:v.default,Store:g.default}};n.default=m},function(r,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var S in m)m.hasOwnProperty(S)&&(y[S]=m[S])};return function(y,m){g(y,m);function S(){this.constructor=y}y.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){a(y,g);function y(m){var S=this;return m="[Parchment] "+m,S=g.call(this,m)||this,S.message=m,S.name=S.constructor.name,S}return y}(Error);n.ParchmentError=o;var s={},l={},u={},c={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(g,y){var m=h(g);if(m==null)throw new o("Unable to create "+g+" blot");var S=m,_=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:S.create(y);return new S(_,y)}n.create=d;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function h(g,y){y===void 0&&(y=f.ANY);var m;if(typeof g=="string")m=c[g]||s[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?m=c.block:g&f.LEVEL&f.INLINE&&(m=c.inline);else if(g instanceof HTMLElement){var S=(g.getAttribute("class")||"").split(/\s+/);for(var _ in S)if(m=l[S[_]],m)break;m=m||u[g.tagName]}return m==null?null:y&f.LEVEL&m.scope&&y&f.TYPE&m.scope?m:null}n.query=h;function v(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(_){return v(_)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(_){return _.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var S=Array.isArray(m.tagName)?m.tagName:[m.tagName];S.forEach(function(_){(u[_]==null||m.className==null)&&(u[_]=m)})}return m}n.register=v},function(r,n,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},c.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=s(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(h){var v=f(h)?d:p;v.push(h)}),[d,p]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],h=l.iterator(this.ops),v=0;v<d&&h.hasNext();){var g;v<f?g=h.next(f-v):(g=h.next(d-v),p.push(g)),v+=l.length(g)}return new c(p)},c.prototype.compose=function(f){var d=l.iterator(this.ops),p=l.iterator(f.ops),h=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;d.peekType()==="insert"&&d.peekLength()<=g;)g-=d.peekLength(),h.push(d.next());v.retain-g>0&&p.next(v.retain-g)}for(var y=new c(h);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(d.peekType()==="delete")y.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),S=d.next(m),_=p.next(m);if(typeof _.retain=="number"){var O={};typeof S.retain=="number"?O.retain=m:O.insert=S.insert;var x=l.attributes.compose(S.attributes,_.attributes,typeof S.retain=="number");if(x&&(O.attributes=x),y.push(O),!p.hasNext()&&o(y.ops[y.ops.length-1],O)){var w=new c(d.rest());return y.concat(w).chop()}}else typeof _.delete=="number"&&typeof S.retain=="number"&&y.push(_)}return y.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var p=[this,f].map(function(m){return m.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:u;var _=m===f?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),h=new c,v=a(p[0],p[1],d),g=l.iterator(this.ops),y=l.iterator(f.ops);return v.forEach(function(m){for(var S=m[1].length;S>0;){var _=0;switch(m[0]){case a.INSERT:_=Math.min(y.peekLength(),S),h.push(y.next(_));break;case a.DELETE:_=Math.min(S,g.peekLength()),g.next(_),h.delete(_);break;case a.EQUAL:_=Math.min(g.peekLength(),y.peekLength(),S);var O=g.next(_),x=y.next(_);o(O.insert,x.insert)?h.retain(_,l.attributes.diff(O.attributes,x.attributes)):h.push(x).delete(_);break}S-=_}}),h.chop()},c.prototype.eachLine=function(f,d){d=d||"\n";for(var p=l.iterator(this.ops),h=new c,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=l.length(g)-p.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(d,y)-y:-1;if(m<0)h.push(p.next());else if(m>0)h.push(p.next(m));else{if(f(h,p.next(1).attributes||{},v)===!1)return;v+=1,h=new c}}h.length()>0&&f(h,{},v)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=l.iterator(this.ops),h=l.iterator(f.ops),v=new c;p.hasNext()||h.hasNext();)if(p.peekType()==="insert"&&(d||h.peekType()!=="insert"))v.retain(l.length(p.next()));else if(h.peekType()==="insert")v.push(h.next());else{var g=Math.min(p.peekLength(),h.peekLength()),y=p.next(g),m=h.next(g);if(y.delete)continue;m.delete?v.push(m):v.retain(g,l.attributes.transform(y.attributes,m.attributes,d))}return v.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var p=l.iterator(this.ops),h=0;p.hasNext()&&h<=f;){var v=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(v,f-h);continue}else g==="insert"&&(h<f||!d)&&(f+=v);h+=v}return f},r.exports=c},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var h=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!h&&!v)return!1;var g;for(g in p);return typeof g>"u"||i.call(p,g)},c=function(p,h){o&&h.name==="__proto__"?o(p,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):p[h.name]=h.newValue},f=function(p,h){if(h==="__proto__")if(i.call(p,h)){if(s)return s(p,h).value}else return;return p[h]};r.exports=function d(){var p,h,v,g,y,m,S=arguments[0],_=1,O=arguments.length,x=!1;for(typeof S=="boolean"&&(x=S,S=arguments[1]||{},_=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});_<O;++_)if(p=arguments[_],p!=null)for(h in p)v=f(S,h),g=f(p,h),S!==g&&(x&&g&&(u(g)||(y=l(g)))?(y?(y=!1,m=v&&l(v)?v:[]):m=v&&u(v)?v:{},c(S,{name:h,newValue:d(x,m,g)})):typeof g<"u"&&c(S,{name:h,newValue:g}));return S}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function P(E,R){for(var F=0;F<R.length;F++){var N=R[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,R,F){return R&&P(E.prototype,R),F&&P(E,F),E}}(),o=function P(E,R,F){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,R);if(N===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:P(V,R,F)}else{if("value"in N)return N.value;var z=N.get;return z===void 0?void 0:z.call(F)}},s=i(3),l=S(s),u=i(2),c=S(u),f=i(0),d=S(f),p=i(16),h=S(p),v=i(6),g=S(v),y=i(7),m=S(y);function S(P){return P&&P.__esModule?P:{default:P}}function _(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}function O(P,E){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:P}function x(P,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);P.prototype=Object.create(E&&E.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(P,E):P.__proto__=E)}var w=1,C=function(P){x(E,P);function E(){return _(this,E),O(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,N){var V=d.default.query(F,d.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,N)}},{key:"formatAt",value:function(F,N,V,z){this.format(V,z)}},{key:"insertAt",value:function(F,N,V){if(typeof N=="string"&&N.endsWith("\n")){var z=d.default.create(I.blotName);this.parent.insertBefore(z,F===0?this:this.next),z.insertAt(0,N.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,F,N,V)}}]),E}(d.default.Embed);C.scope=d.default.Scope.BLOCK_BLOT;var I=function(P){x(E,P);function E(R){_(this,E);var F=O(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R));return F.cache={},F}return a(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(F,N){return N.length()===0?F:F.insert(N.value(),A(N))},new c.default).insert("\n",A(this))),this.cache.delta}},{key:"deleteAt",value:function(F,N){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,F,N),this.cache={}}},{key:"formatAt",value:function(F,N,V,z){N<=0||(d.default.query(V,d.default.Scope.BLOCK)?F+N===this.length()&&this.format(V,z):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,F,Math.min(N,this.length()-F-1),V,z),this.cache={})}},{key:"insertAt",value:function(F,N,V){if(V!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,F,N,V);if(N.length!==0){var z=N.split("\n"),J=z.shift();J.length>0&&(F<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),J):this.children.tail.insertAt(this.children.tail.length(),J),this.cache={});var H=this;z.reduce(function(M,L){return H=H.split(M,!0),H.insertAt(0,L),L.length},F+J.length)}}},{key:"insertBefore",value:function(F,N){var V=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,F,N),V instanceof h.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+w),this.cache.length}},{key:"moveChildren",value:function(F,N){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,F,N),this.cache={}}},{key:"optimize",value:function(F){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N&&(F===0||F>=this.length()-w)){var V=this.clone();return F===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var z=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,F,N);return this.cache={},z}}}]),E}(d.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[g.default,d.default.Embed,m.default];function A(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(E=(0,l.default)(E,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?E:A(P.parent,E)}n.bubbleFormats=A,n.BlockEmbed=C,n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(M,L){var q=[],W=!0,Q=!1,K=void 0;try{for(var $=M[Symbol.iterator](),U;!(W=(U=$.next()).done)&&(q.push(U.value),!(L&&q.length===L));W=!0);}catch(X){Q=!0,K=X}finally{try{!W&&$.return&&$.return()}finally{if(Q)throw K}}return q}return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return H(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function H(M,L){for(var q=0;q<L.length;q++){var W=L[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,L,q){return L&&H(M.prototype,L),q&&H(M,q),M}}();i(50);var l=i(2),u=A(l),c=i(14),f=A(c),d=i(8),p=A(d),h=i(9),v=A(h),g=i(0),y=A(g),m=i(15),S=A(m),_=i(3),O=A(_),x=i(10),w=A(x),C=i(34),I=A(C);function A(H){return H&&H.__esModule?H:{default:H}}function P(H,M,L){return M in H?Object.defineProperty(H,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):H[M]=L,H}function E(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")}var R=(0,w.default)("quill"),F=function(){s(H,null,[{key:"debug",value:function(L){L===!0&&(L="log"),w.default.level(L)}},{key:"find",value:function(L){return L.__quill||y.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&R.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,q){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var K=L.attrName||L.blotName;typeof K=="string"?this.register("formats/"+K,L,q):Object.keys(L).forEach(function($){W.register($,L[$],q)})}else this.imports[L]!=null&&!Q&&R.warn("Overwriting "+L+" with",q),this.imports[L]=q,(L.startsWith("blots/")||L.startsWith("formats/"))&&q.blotName!=="abstract"?y.default.register(q):L.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function H(M){var L=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,H),this.options=N(M,q),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",M);this.options.debug&&H.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(K){K===p.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(K,$){var U=L.selection.lastRange,X=U&&U.length===0?U.index:void 0;V.call(L,function(){return L.editor.update(null,$,X)},K)});var Q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+W+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(H,[{key:"addContainer",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var W=L;L=document.createElement("div"),L.classList.add(W)}return this.container.insertBefore(L,q),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,q,W){var Q=this,K=z(L,q,W),$=o(K,4);return L=$[0],q=$[1],W=$[3],V.call(this,function(){return Q.editor.deleteText(L,q)},W,L,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,q){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return V.call(this,function(){var K=W.getSelection(!0),$=new u.default;if(K==null)return $;if(y.default.query(L,y.default.Scope.BLOCK))$=W.editor.formatLine(K.index,K.length,P({},L,q));else{if(K.length===0)return W.selection.format(L,q),$;$=W.editor.formatText(K.index,K.length,P({},L,q))}return W.setSelection(K,p.default.sources.SILENT),$},Q)}},{key:"formatLine",value:function(L,q,W,Q,K){var $=this,U=void 0,X=z(L,q,W,Q,K),ee=o(X,4);return L=ee[0],q=ee[1],U=ee[2],K=ee[3],V.call(this,function(){return $.editor.formatLine(L,q,U)},K,L,0)}},{key:"formatText",value:function(L,q,W,Q,K){var $=this,U=void 0,X=z(L,q,W,Q,K),ee=o(X,4);return L=ee[0],q=ee[1],U=ee[2],K=ee[3],V.call(this,function(){return $.editor.formatText(L,q,U)},K,L,0)}},{key:"getBounds",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof L=="number"?W=this.selection.getBounds(L,q):W=this.selection.getBounds(L.index,L.length);var Q=this.container.getBoundingClientRect();return{bottom:W.bottom-Q.top,height:W.height,left:W.left-Q.left,right:W.right-Q.left,top:W.top-Q.top,width:W.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,W=z(L,q),Q=o(W,2);return L=Q[0],q=Q[1],this.editor.getContents(L,q)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,q):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,q)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,W=z(L,q),Q=o(W,2);return L=Q[0],q=Q[1],this.editor.getText(L,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,q,W){var Q=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return V.call(this,function(){return Q.editor.insertEmbed(L,q,W)},K,L)}},{key:"insertText",value:function(L,q,W,Q,K){var $=this,U=void 0,X=z(L,0,W,Q,K),ee=o(X,4);return L=ee[0],U=ee[2],K=ee[3],V.call(this,function(){return $.editor.insertText(L,q,U)},K,L,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,q,W){this.clipboard.dangerouslyPasteHTML(L,q,W)}},{key:"removeFormat",value:function(L,q,W){var Q=this,K=z(L,q,W),$=o(K,4);return L=$[0],q=$[1],W=$[3],V.call(this,function(){return Q.editor.removeFormat(L,q)},W,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){L=new u.default(L);var Q=q.getLength(),K=q.editor.deleteText(0,Q),$=q.editor.applyDelta(L),U=$.ops[$.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]==="\n"&&(q.editor.deleteText(q.getLength()-1,1),$.delete(1));var X=K.compose($);return X},W)}},{key:"setSelection",value:function(L,q,W){if(L==null)this.selection.setRange(null,q||H.sources.API);else{var Q=z(L,q,W),K=o(Q,4);L=K[0],q=K[1],W=K[3],this.selection.setRange(new m.Range(L,q),W),W!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,W=new u.default().insert(L);return this.setContents(W,q)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,q=this.scroll.update(L);return this.selection.update(L),q}},{key:"updateContents",value:function(L){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){return L=new u.default(L),q.editor.applyDelta(L,W)},W,!0)}}]),H}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=p.default.events,F.sources=p.default.sources,F.version="1.3.7",F.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":I.default};function N(H,M){if(M=(0,O.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===F.DEFAULTS.theme)M.theme=I.default;else if(M.theme=F.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var L=(0,O.default)(!0,{},M.theme.DEFAULTS);[L,M].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(K){Q.modules[K]===!0&&(Q.modules[K]={})})});var q=Object.keys(L.modules).concat(Object.keys(M.modules)),W=q.reduce(function(Q,K){var $=F.import("modules/"+K);return $==null?R.error("Cannot load "+K+" module. Are you sure you registered it?"):Q[K]=$.DEFAULTS||{},Q},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,O.default)(!0,{},F.DEFAULTS,{modules:W},L,M),["bounds","container","scrollingContainer"].forEach(function(Q){typeof M[Q]=="string"&&(M[Q]=document.querySelector(M[Q]))}),M.modules=Object.keys(M.modules).reduce(function(Q,K){return M.modules[K]&&(Q[K]=M.modules[K]),Q},{}),M}function V(H,M,L,q){if(this.options.strict&&!this.isEnabled()&&M===p.default.sources.USER)return new u.default;var W=L==null?null:this.getSelection(),Q=this.editor.delta,K=H();if(W!=null&&(L===!0&&(L=W.index),q==null?W=J(W,K,M):q!==0&&(W=J(W,L,q,M)),this.setSelection(W,p.default.sources.SILENT)),K.length()>0){var $,U=[p.default.events.TEXT_CHANGE,K,Q,M];if(($=this.emitter).emit.apply($,[p.default.events.EDITOR_CHANGE].concat(U)),M!==p.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,U)}}return K}function z(H,M,L,q,W){var Q={};return typeof H.index=="number"&&typeof H.length=="number"?typeof M!="number"?(W=q,q=L,L=M,M=H.length,H=H.index):(M=H.length,H=H.index):typeof M!="number"&&(W=q,q=L,L=M,M=0),(typeof L>"u"?"undefined":a(L))==="object"?(Q=L,W=q):typeof L=="string"&&(q!=null?Q[L]=q:W=L),W=W||p.default.sources.API,[H,M,Q,W]}function J(H,M,L,q){if(H==null)return null;var W=void 0,Q=void 0;if(M instanceof u.default){var K=[H.index,H.index+H.length].map(function(ee){return M.transformPosition(ee,q!==p.default.sources.USER)}),$=o(K,2);W=$[0],Q=$[1]}else{var U=[H.index,H.index+H.length].map(function(ee){return ee<M||ee===M&&q===p.default.sources.USER?ee:L>=0?ee+L:Math.max(M,ee+L)}),X=o(U,2);W=X[0],Q=X[1]}return new m.Range(W,Q-W)}n.expandConfig=N,n.overload=z,n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var S=0;S<m.length;S++){var _=m[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,S){return m&&g(y.prototype,m),S&&g(y,S),y}}(),o=function g(y,m,S){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,m);if(_===void 0){var O=Object.getPrototypeOf(y);return O===null?void 0:g(O,m,S)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(S)}},s=i(7),l=f(s),u=i(0),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=function(g){h(y,g);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(S,_,O,x){if(y.compare(this.statics.blotName,O)<0&&c.default.query(O,c.default.Scope.BLOT)){var w=this.isolate(S,_);x&&w.wrap(O,x)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,S,_,O,x)}},{key:"optimize",value:function(S){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,S),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(S,_){var O=y.order.indexOf(S),x=y.order.indexOf(_);return O>=0||x>=0?O-x:S===_?0:S<_?-1:1}}]),y}(c.default.Inline);v.allowedChildren=[v,c.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(S,_){for(var O=0;O<_.length;O++){var x=_[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,_,O){return _&&m(S.prototype,_),O&&m(S,O),S}}(),o=function m(S,_,O){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,_);if(x===void 0){var w=Object.getPrototypeOf(S);return w===null?void 0:m(w,_,O)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(O)}},s=i(54),l=f(s),u=i(10),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,S){if(!(m instanceof S))throw new TypeError("Cannot call a class as a function")}function p(m,S){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:m}function h(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);m.prototype=Object.create(S&&S.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(m,S):m.__proto__=S)}var v=(0,c.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var S=arguments.length,_=Array(S),O=0;O<S;O++)_[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var w;(w=x.__quill.emitter).handleDOM.apply(w,_)}})})});var y=function(m){h(S,m);function S(){d(this,S);var _=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return _.listeners={},_.on("error",v.error),_}return a(S,[{key:"emit",value:function(){v.log.apply(v,arguments),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var x=arguments.length,w=Array(x>1?x-1:0),C=1;C<x;C++)w[C-1]=arguments[C];(this.listeners[O.type]||[]).forEach(function(I){var A=I.node,P=I.handler;(O.target===A||A.contains(O.target))&&P.apply(void 0,[O].concat(w))})}},{key:"listenDOM",value:function(O,x,w){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:x,handler:w})}}]),S}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(c=console)[u].apply(c,d)}}function l(u){return a.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=l.level=function(u){o=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=r.exports=function(d,p,h){return h||(h={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?h.strict?d===p:d==p:f(d,p,h)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,h){var v,g;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(s(d))return s(p)?(d=a.call(d),p=a.call(p),l(d,p,h)):!1;if(c(d)){if(!c(p)||d.length!==p.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==p[v])return!1;return!0}try{var y=o(d),m=o(p)}catch(S){return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),v=y.length-1;v>=0;v--)if(y[v]!=m[v])return!1;for(v=y.length-1;v>=0;v--)if(g=y[v],!l(d[g],p[g],h))return!1;return typeof d==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function C(I,A){var P=[],E=!0,R=!1,F=void 0;try{for(var N=I[Symbol.iterator](),V;!(E=(V=N.next()).done)&&(P.push(V.value),!(A&&P.length===A));E=!0);}catch(z){R=!0,F=z}finally{try{!E&&N.return&&N.return()}finally{if(R)throw F}}return P}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,A){for(var P=0;P<A.length;P++){var E=A[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,A,P){return A&&C(I.prototype,A),P&&C(I,P),I}}(),s=function C(I,A,P){I===null&&(I=Function.prototype);var E=Object.getOwnPropertyDescriptor(I,A);if(E===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:C(R,A,P)}else{if("value"in E)return E.value;var F=E.get;return F===void 0?void 0:F.call(P)}},l=i(2),u=m(l),c=i(0),f=m(c),d=i(4),p=m(d),h=i(6),v=m(h),g=i(7),y=m(g);function m(C){return C&&C.__esModule?C:{default:C}}function S(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function _(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function O(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var x=function(C){O(I,C);function I(){return S(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(v.default);x.blotName="code",x.tagName="CODE";var w=function(C){O(I,C);function I(){return S(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"delta",value:function(){var P=this,E=this.domNode.textContent;return E.endsWith("\n")&&(E=E.slice(0,-1)),E.split("\n").reduce(function(R,F){return R.insert(F).insert("\n",P.formats())},new u.default)}},{key:"format",value:function(P,E){if(!(P===this.statics.blotName&&E)){var R=this.descendant(y.default,this.length()-1),F=a(R,1),N=F[0];N!=null&&N.deleteAt(N.length()-1,1),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,E)}}},{key:"formatAt",value:function(P,E,R,F){if(E!==0&&!(f.default.query(R,f.default.Scope.BLOCK)==null||R===this.statics.blotName&&F===this.statics.formats(this.domNode))){var N=this.newlineIndex(P);if(!(N<0||N>=P+E)){var V=this.newlineIndex(P,!0)+1,z=N-V+1,J=this.isolate(V,z),H=J.next;J.format(R,F),H instanceof I&&H.formatAt(0,P-V+E-z,R,F)}}}},{key:"insertAt",value:function(P,E,R){if(R==null){var F=this.descendant(y.default,P),N=a(F,2),V=N[0],z=N[1];V.insertAt(z,E)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?P:P+1}},{key:"newlineIndex",value:function(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,P).lastIndexOf("\n");var R=this.domNode.textContent.slice(P).indexOf("\n");return R>-1?P+R:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(P),E.moveChildren(this),E.remove())}},{key:"replace",value:function(P){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var R=f.default.find(E);R==null?E.parentNode.removeChild(E):R instanceof f.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(P){var E=s(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),I}(p.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",n.Code=x,n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(M,L){var q=[],W=!0,Q=!1,K=void 0;try{for(var $=M[Symbol.iterator](),U;!(W=(U=$.next()).done)&&(q.push(U.value),!(L&&q.length===L));W=!0);}catch(X){Q=!0,K=X}finally{try{!W&&$.return&&$.return()}finally{if(Q)throw K}}return q}return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return H(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function H(M,L){for(var q=0;q<L.length;q++){var W=L[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,L,q){return L&&H(M.prototype,L),q&&H(M,q),M}}(),l=i(2),u=E(l),c=i(20),f=E(c),d=i(0),p=E(d),h=i(13),v=E(h),g=i(24),y=E(g),m=i(4),S=E(m),_=i(16),O=E(_),x=i(21),w=E(x),C=i(11),I=E(C),A=i(3),P=E(A);function E(H){return H&&H.__esModule?H:{default:H}}function R(H,M,L){return M in H?Object.defineProperty(H,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):H[M]=L,H}function F(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")}var N=/^[ -~]*$/,V=function(){function H(M){F(this,H),this.scroll=M,this.delta=this.getDelta()}return s(H,[{key:"applyDelta",value:function(L){var q=this,W=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),L=J(L),L.reduce(function(K,$){var U=$.retain||$.delete||$.insert.length||1,X=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var ee=$.insert;ee.endsWith("\n")&&W&&(W=!1,ee=ee.slice(0,-1)),K>=Q&&!ee.endsWith("\n")&&(W=!0),q.scroll.insertAt(K,ee);var se=q.scroll.line(K),Oe=o(se,2),be=Oe[0],Se=Oe[1],_e=(0,P.default)({},(0,m.bubbleFormats)(be));if(be instanceof S.default){var pe=be.descendant(p.default.Leaf,Se),ue=o(pe,1),Le=ue[0];_e=(0,P.default)(_e,(0,m.bubbleFormats)(Le))}X=f.default.attributes.diff(_e,X)||{}}else if(a($.insert)==="object"){var ie=Object.keys($.insert)[0];if(ie==null)return K;q.scroll.insertAt(K,ie,$.insert[ie])}Q+=U}return Object.keys(X).forEach(function(le){q.scroll.formatAt(K,U,le,X[le])}),K+U},0),L.reduce(function(K,$){return typeof $.delete=="number"?(q.scroll.deleteAt(K,$.delete),K):K+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,q){return this.scroll.deleteAt(L,q),this.update(new u.default().retain(L).delete(q))}},{key:"formatLine",value:function(L,q){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(K){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[K])){var $=W.scroll.lines(L,Math.max(q,1)),U=q;$.forEach(function(X){var ee=X.length();if(!(X instanceof v.default))X.format(K,Q[K]);else{var se=L-X.offset(W.scroll),Oe=X.newlineIndex(se+U)-se+1;X.formatAt(se,Oe,K,Q[K])}U-=ee})}}),this.scroll.optimize(),this.update(new u.default().retain(L).retain(q,(0,w.default)(Q)))}},{key:"formatText",value:function(L,q){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(K){W.scroll.formatAt(L,q,K,Q[K])}),this.update(new u.default().retain(L).retain(q,(0,w.default)(Q)))}},{key:"getContents",value:function(L,q){return this.delta.slice(L,L+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,q){return L.concat(q.delta())},new u.default)}},{key:"getFormat",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],Q=[];q===0?this.scroll.path(L).forEach(function($){var U=o($,1),X=U[0];X instanceof S.default?W.push(X):X instanceof p.default.Leaf&&Q.push(X)}):(W=this.scroll.lines(L,q),Q=this.scroll.descendants(p.default.Leaf,L,q));var K=[W,Q].map(function($){if($.length===0)return{};for(var U=(0,m.bubbleFormats)($.shift());Object.keys(U).length>0;){var X=$.shift();if(X==null)return U;U=z((0,m.bubbleFormats)(X),U)}return U});return P.default.apply(P.default,K)}},{key:"getText",value:function(L,q){return this.getContents(L,q).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(L,q,W){return this.scroll.insertAt(L,q,W),this.update(new u.default().retain(L).insert(R({},q,W)))}},{key:"insertText",value:function(L,q){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(L,q),Object.keys(Q).forEach(function(K){W.scroll.formatAt(L,q.length,K,Q[K])}),this.update(new u.default().retain(L).insert(q,(0,w.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==S.default.blotName||L.children.length>1?!1:L.children.head instanceof O.default}},{key:"removeFormat",value:function(L,q){var W=this.getText(L,q),Q=this.scroll.line(L+q),K=o(Q,2),$=K[0],U=K[1],X=0,ee=new u.default;$!=null&&($ instanceof v.default?X=$.newlineIndex(U)-U+1:X=$.length()-U,ee=$.delta().slice(U,U+X-1).insert("\n"));var se=this.getContents(L,q+X),Oe=se.diff(new u.default().insert(W).concat(ee)),be=new u.default().retain(L).concat(Oe);return this.applyDelta(be)}},{key:"update",value:function(L){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(N)&&p.default.find(q[0].target)){var K=p.default.find(q[0].target),$=(0,m.bubbleFormats)(K),U=K.offset(this.scroll),X=q[0].oldValue.replace(y.default.CONTENTS,""),ee=new u.default().insert(X),se=new u.default().insert(K.value()),Oe=new u.default().retain(U).concat(ee.diff(se,W));L=Oe.reduce(function(be,Se){return Se.insert?be.insert(Se.insert,$):be.push(Se)},new u.default),this.delta=Q.compose(L)}else this.delta=this.getDelta(),(!L||!(0,I.default)(Q.compose(L),this.delta))&&(L=Q.diff(this.delta,W));return L}}]),H}();function z(H,M){return Object.keys(M).reduce(function(L,q){return H[q]==null||(M[q]===H[q]?L[q]=M[q]:Array.isArray(M[q])?M[q].indexOf(H[q])<0&&(L[q]=M[q].concat([H[q]])):L[q]=[M[q],H[q]]),L},{})}function J(H){return H.reduce(function(M,L){if(L.insert===1){var q=(0,w.default)(L.attributes);return delete q.image,M.insert({image:L.attributes.image},q)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,w.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var W=L.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return M.insert(W,L.attributes)}return M.push(L)},new u.default)}n.default=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function C(I,A){var P=[],E=!0,R=!1,F=void 0;try{for(var N=I[Symbol.iterator](),V;!(E=(V=N.next()).done)&&(P.push(V.value),!(A&&P.length===A));E=!0);}catch(z){R=!0,F=z}finally{try{!E&&N.return&&N.return()}finally{if(R)throw F}}return P}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(I,A){for(var P=0;P<A.length;P++){var E=A[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,A,P){return A&&C(I.prototype,A),P&&C(I,P),I}}(),s=i(0),l=y(s),u=i(21),c=y(u),f=i(11),d=y(f),p=i(8),h=y(p),v=i(10),g=y(v);function y(C){return C&&C.__esModule?C:{default:C}}function m(C){if(Array.isArray(C)){for(var I=0,A=Array(C.length);I<C.length;I++)A[I]=C[I];return A}else return Array.from(C)}function S(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var _=(0,g.default)("quill:selection"),O=function C(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;S(this,C),this.index=I,this.length=A},x=function(){function C(I,A){var P=this;S(this,C),this.emitter=A,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,h.default.sources.USER),1)}),this.emitter.on(h.default.events.EDITOR_CHANGE,function(E,R){E===h.default.events.TEXT_CHANGE&&R.length()>0&&P.update(h.default.sources.SILENT)}),this.emitter.on(h.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var E=P.getNativeRange();E!=null&&E.start.node!==P.cursor.textNode&&P.emitter.once(h.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch(R){}})}}),this.emitter.on(h.default.events.SCROLL_OPTIMIZE,function(E,R){if(R.range){var F=R.range,N=F.startNode,V=F.startOffset,z=F.endNode,J=F.endOffset;P.setNativeRange(N,V,z,J)}}),this.update(h.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var P=A.cursor.restore();if(!P)return;setTimeout(function(){A.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(h.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var R=l.default.find(E.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var F=R.split(E.start.offset);R.parent.insertBefore(this.cursor,F)}else R.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(A,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();A=Math.min(A,E-1),P=Math.min(A+P,E-1)-A;var R=void 0,F=this.scroll.leaf(A),N=a(F,2),V=N[0],z=N[1];if(V==null)return null;var J=V.position(z,!0),H=a(J,2);R=H[0],z=H[1];var M=document.createRange();if(P>0){M.setStart(R,z);var L=this.scroll.leaf(A+P),q=a(L,2);if(V=q[0],z=q[1],V==null)return null;var W=V.position(z,!0),Q=a(W,2);return R=Q[0],z=Q[1],M.setEnd(R,z),M.getBoundingClientRect()}else{var K="left",$=void 0;return R instanceof Text?(z<R.data.length?(M.setStart(R,z),M.setEnd(R,z+1)):(M.setStart(R,z-1),M.setEnd(R,z),K="right"),$=M.getBoundingClientRect()):($=V.domNode.getBoundingClientRect(),z>0&&(K="right")),{bottom:$.top+$.height,height:$.height,left:$[K],right:$[K],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var P=A.getRangeAt(0);if(P==null)return null;var E=this.normalizeNative(P);return _.info("getNativeRange",E),E}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var P=this.normalizedToRange(A);return[P,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var P=this,E=[[A.start.node,A.start.offset]];A.native.collapsed||E.push([A.end.node,A.end.offset]);var R=E.map(function(V){var z=a(V,2),J=z[0],H=z[1],M=l.default.find(J,!0),L=M.offset(P.scroll);return H===0?L:M instanceof l.default.Container?L+M.length():L+M.index(J,H)}),F=Math.min(Math.max.apply(Math,m(R)),this.scroll.length()-1),N=Math.min.apply(Math,[F].concat(m(R)));return new O(N,F-N)}},{key:"normalizeNative",value:function(A){if(!w(this.root,A.startContainer)||!A.collapsed&&!w(this.root,A.endContainer))return null;var P={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[P.start,P.end].forEach(function(E){for(var R=E.node,F=E.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>F)R=R.childNodes[F],F=0;else if(R.childNodes.length===F)R=R.lastChild,F=R instanceof Text?R.data.length:R.childNodes.length+1;else break;E.node=R,E.offset=F}),P}},{key:"rangeToNative",value:function(A){var P=this,E=A.collapsed?[A.index]:[A.index,A.index+A.length],R=[],F=this.scroll.length();return E.forEach(function(N,V){N=Math.min(F-1,N);var z=void 0,J=P.scroll.leaf(N),H=a(J,2),M=H[0],L=H[1],q=M.position(L,V!==0),W=a(q,2);z=W[0],L=W[1],R.push(z,L)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(A){var P=this.lastRange;if(P!=null){var E=this.getBounds(P.index,P.length);if(E!=null){var R=this.scroll.length()-1,F=this.scroll.line(Math.min(P.index,R)),N=a(F,1),V=N[0],z=V;if(P.length>0){var J=this.scroll.line(Math.min(P.index+P.length,R)),H=a(J,1);z=H[0]}if(!(V==null||z==null)){var M=A.getBoundingClientRect();E.top<M.top?A.scrollTop-=M.top-E.top:E.bottom>M.bottom&&(A.scrollTop+=E.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(A,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",A,P,E,R),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||E.parentNode==null))){var N=document.getSelection();if(N!=null)if(A!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||F||A!==V.startContainer||P!==V.startOffset||E!==V.endContainer||R!==V.endOffset){A.tagName=="BR"&&(P=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),E.tagName=="BR"&&(R=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var z=document.createRange();z.setStart(A,P),z.setEnd(E,R),N.removeAllRanges(),N.addRange(z)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof P=="string"&&(E=P,P=!1),_.info("setRange",A),A!=null){var R=this.rangeToNative(A);this.setNativeRange.apply(this,m(R).concat([P]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,P=this.lastRange,E=this.getRange(),R=a(E,2),F=R[0],N=R[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(P,this.lastRange)){var V;!this.composing&&N!=null&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[h.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(P),A];if((V=this.emitter).emit.apply(V,[h.default.events.EDITOR_CHANGE].concat(z)),A!==h.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,z)}}}}]),C}();function w(C,I){try{I.parentNode}catch(A){return!1}return I instanceof Text&&(I=I.parentNode),C.contains(I)}n.Range=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&h(v.prototype,g),y&&h(v,y),v}}(),o=function h(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,y)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(y)}},s=i(0),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(y,m){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])};return function(d,p){f(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(f){a(d,f);function d(p){var h=f.call(this,p)||this;return h.build(),h}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(h){try{var v=c(h);p.insertBefore(v,p.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},d.prototype.deleteAt=function(p,h){if(p===0&&h===this.length())return this.remove();this.children.forEachAt(p,h,function(v,g,y){v.deleteAt(g,y)})},d.prototype.descendant=function(p,h){var v=this.children.find(h),g=v[0],y=v[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof d?g.descendant(p,y):[null,-1]},d.prototype.descendants=function(p,h,v){h===void 0&&(h=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],y=v;return this.children.forEachAt(h,v,function(m,S,_){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&g.push(m),m instanceof d&&(g=g.concat(m.descendants(p,S,y))),y-=_}),g},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,h,v,g){this.children.forEachAt(p,h,function(y,m,S){y.formatAt(m,S,v,g)})},d.prototype.insertAt=function(p,h,v){var g=this.children.find(p),y=g[0],m=g[1];if(y)y.insertAt(m,h,v);else{var S=v==null?l.create("text",h):l.create(h,v);this.appendChild(S)}},d.prototype.insertBefore=function(p,h){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,h)},d.prototype.length=function(){return this.children.reduce(function(p,h){return p+h.length()},0)},d.prototype.moveChildren=function(p,h){this.children.forEach(function(v){p.insertBefore(v,h)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var h=l.create(this.statics.defaultChild);this.appendChild(h),h.optimize(p)}else this.remove()},d.prototype.path=function(p,h){h===void 0&&(h=!1);var v=this.children.find(p,h),g=v[0],y=v[1],m=[[this,p]];return g instanceof d?m.concat(g.path(y,h)):(g!=null&&m.push([g,y]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,h){if(h===void 0&&(h=!1),!h){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(g,y,m){g=g.split(y,h),v.appendChild(g)}),v},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,h){var v=this,g=[],y=[];p.forEach(function(m){m.target===v.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=l.find(m);S!=null&&(S.domNode.parentNode==null||S.domNode.parentNode===v.domNode)&&S.detach()}}),g.filter(function(m){return m.parentNode==v.domNode}).sort(function(m,S){return m===S?0:m.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var S=null;m.nextSibling!=null&&(S=l.find(m.nextSibling));var _=c(m);(_.next!=S||_.next==null)&&(_.parent!=null&&_.parent.removeChild(v),v.insertBefore(_,S||void 0))})},d}(s.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch(p){d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(h){d.domNode.appendChild(h)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])};return function(d,p){f(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(f){a(d,f);function d(p){var h=f.call(this,p)||this;return h.attributes=new s.default(h.domNode),h}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,h){var v=u.query(p);v instanceof o.default?this.attributes.attribute(v,h):h&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==h)&&this.replaceWith(p,h)},d.prototype.formats=function(){var p=this.attributes.values(),h=this.statics.formats(this.domNode);return h!=null&&(p[this.statics.blotName]=h),p},d.prototype.replaceWith=function(p,h){var v=f.prototype.replaceWith.call(this,p,h);return this.attributes.copy(v),v},d.prototype.update=function(p,h){var v=this;f.prototype.update.call(this,p,h),p.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,h){var v=f.prototype.wrap.call(this,p,h);return v instanceof d&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},d}(l.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=o(!0,{},c);f||(d=Object.keys(d).reduce(function(h,v){return d[v]!=null&&(h[v]=d[v]),h},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,p){return a(u[p],c[p])||(d[p]=c[p]===void 0?null:c[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(p,h){return u[h]===void 0&&(p[h]=c[h]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},r.exports=s},function(r,n){var i=function(){function a(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch(v){o=function(){}}var s;try{s=Set}catch(v){s=function(){}}var l;try{l=Promise}catch(v){l=function(){}}function u(v,g,y,m,S){typeof g=="object"&&(y=g.depth,m=g.prototype,S=g.includeNonEnumerable,g=g.circular);var _=[],O=[],x=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function w(C,I){if(C===null)return null;if(I===0)return C;var A,P;if(typeof C!="object")return C;if(a(C,o))A=new o;else if(a(C,s))A=new s;else if(a(C,l))A=new l(function(M,L){C.then(function(q){M(w(q,I-1))},function(q){L(w(q,I-1))})});else if(u.__isArray(C))A=[];else if(u.__isRegExp(C))A=new RegExp(C.source,h(C)),C.lastIndex&&(A.lastIndex=C.lastIndex);else if(u.__isDate(C))A=new Date(C.getTime());else{if(x&&Buffer.isBuffer(C))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(C.length):A=new Buffer(C.length),C.copy(A),A;a(C,Error)?A=Object.create(C):typeof m>"u"?(P=Object.getPrototypeOf(C),A=Object.create(P)):(A=Object.create(m),P=m)}if(g){var E=_.indexOf(C);if(E!=-1)return O[E];_.push(C),O.push(A)}a(C,o)&&C.forEach(function(M,L){var q=w(L,I-1),W=w(M,I-1);A.set(q,W)}),a(C,s)&&C.forEach(function(M){var L=w(M,I-1);A.add(L)});for(var R in C){var F;P&&(F=Object.getOwnPropertyDescriptor(P,R)),!(F&&F.set==null)&&(A[R]=w(C[R],I-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(C),R=0;R<N.length;R++){var V=N[R],z=Object.getOwnPropertyDescriptor(C,V);z&&!z.enumerable&&!S||(A[V]=w(C[V],I-1),z.enumerable||Object.defineProperty(A,V,{enumerable:!1}))}if(S)for(var J=Object.getOwnPropertyNames(C),R=0;R<J.length;R++){var H=J[R],z=Object.getOwnPropertyDescriptor(C,H);z&&z.enumerable||(A[H]=w(C[H],I-1),Object.defineProperty(A,H,{enumerable:!1}))}return A}return w(v,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function c(v){return Object.prototype.toString.call(v)}u.__objToStr=c;function f(v){return typeof v=="object"&&c(v)==="[object Date]"}u.__isDate=f;function d(v){return typeof v=="object"&&c(v)==="[object Array]"}u.__isArray=d;function p(v){return typeof v=="object"&&c(v)==="[object RegExp]"}u.__isRegExp=p;function h(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return u.__getRegExpFlags=h,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(P,E){var R=[],F=!0,N=!1,V=void 0;try{for(var z=P[Symbol.iterator](),J;!(F=(J=z.next()).done)&&(R.push(J.value),!(E&&R.length===E));F=!0);}catch(H){N=!0,V=H}finally{try{!F&&z.return&&z.return()}finally{if(N)throw V}}return R}return function(P,E){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(P,E){for(var R=0;R<E.length;R++){var F=E[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,E,R){return E&&A(P.prototype,E),R&&A(P,R),P}}(),s=function A(P,E,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,E);if(F===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:A(N,E,R)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(R)}},l=i(0),u=_(l),c=i(8),f=_(c),d=i(4),p=_(d),h=i(16),v=_(h),g=i(13),y=_(g),m=i(25),S=_(m);function _(A){return A&&A.__esModule?A:{default:A}}function O(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function x(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function w(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}function C(A){return A instanceof p.default||A instanceof d.BlockEmbed}var I=function(A){w(P,A);function P(E,R){O(this,P);var F=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E));return F.emitter=R.emitter,Array.isArray(R.whitelist)&&(F.whitelist=R.whitelist.reduce(function(N,V){return N[V]=!0,N},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return o(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,F){var N=this.line(R),V=a(N,2),z=V[0],J=V[1],H=this.line(R+F),M=a(H,1),L=M[0];if(s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,R,F),L!=null&&z!==L&&J>0){if(z instanceof d.BlockEmbed||L instanceof d.BlockEmbed){this.optimize();return}if(z instanceof y.default){var q=z.newlineIndex(z.length(),!0);if(q>-1&&(z=z.split(q+1),z===L)){this.optimize();return}}else if(L instanceof y.default){var W=L.newlineIndex(0);W>-1&&L.split(W+1)}var Q=L.children.head instanceof v.default?null:L.children.head;z.moveChildren(L,Q),z.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,F,N,V){this.whitelist!=null&&!this.whitelist[N]||(s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,R,F,N,V),this.optimize())}},{key:"insertAt",value:function(R,F,N){if(!(N!=null&&this.whitelist!=null&&!this.whitelist[F])){if(R>=this.length())if(N==null||u.default.query(F,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),N==null&&F.endsWith("\n")&&(F=F.slice(0,-1)),V.insertAt(0,F,N)}else{var z=u.default.create(F,N);this.appendChild(z)}else s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,R,F,N);this.optimize()}}},{key:"insertBefore",value:function(R,F){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var N=u.default.create(this.statics.defaultChild);N.appendChild(R),R=N}s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,R,F)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(C,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,N=function V(z,J,H){var M=[],L=H;return z.children.forEachAt(J,H,function(q,W,Q){C(q)?M.push(q):q instanceof u.default.Container&&(M=M.concat(V(q,W,L))),L-=Q}),M};return N(this,R,F)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,R,F),R.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,R,F))}},{key:"path",value:function(R){return s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var F=f.default.sources.USER;typeof R=="string"&&(F=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,F,R),s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,F,R)}}}]),P}(u.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[p.default,d.BlockEmbed,S.default],n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(U,X){var ee=[],se=!0,Oe=!1,be=void 0;try{for(var Se=U[Symbol.iterator](),_e;!(se=(_e=Se.next()).done)&&(ee.push(_e.value),!(X&&ee.length===X));se=!0);}catch(pe){Oe=!0,be=pe}finally{try{!se&&Se.return&&Se.return()}finally{if(Oe)throw be}}return ee}return function(U,X){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return $(U,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function $(U,X){for(var ee=0;ee<X.length;ee++){var se=X[ee];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(U,se.key,se)}}return function(U,X,ee){return X&&$(U.prototype,X),ee&&$(U,ee),U}}(),l=i(21),u=A(l),c=i(11),f=A(c),d=i(3),p=A(d),h=i(2),v=A(h),g=i(20),y=A(g),m=i(0),S=A(m),_=i(5),O=A(_),x=i(10),w=A(x),C=i(9),I=A(C);function A($){return $&&$.__esModule?$:{default:$}}function P($,U,X){return U in $?Object.defineProperty($,U,{value:X,enumerable:!0,configurable:!0,writable:!0}):$[U]=X,$}function E($,U){if(!($ instanceof U))throw new TypeError("Cannot call a class as a function")}function R($,U){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:$}function F($,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);$.prototype=Object.create(U&&U.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf($,U):$.__proto__=U)}var N=(0,w.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function($){F(U,$),s(U,null,[{key:"match",value:function(ee,se){return se=K(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Oe){return!!se[Oe]!==ee[Oe]&&se[Oe]!==null})?!1:se.key===(ee.which||ee.keyCode)}}]);function U(X,ee){E(this,U);var se=R(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,X,ee));return se.bindings={},Object.keys(se.options.bindings).forEach(function(Oe){Oe==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||se.options.bindings[Oe]&&se.addBinding(se.options.bindings[Oe])}),se.addBinding({key:U.keys.ENTER,shiftKey:null},q),se.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},H),se.addBinding({key:U.keys.DELETE},{collapsed:!0},M)):(se.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),se.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),se.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},L),se.addBinding({key:U.keys.DELETE},{collapsed:!1},L),se.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),se.listen(),se}return s(U,[{key:"addBinding",value:function(ee){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be=K(ee);if(be==null||be.key==null)return N.warn("Attempted to add invalid keyboard binding",be);typeof se=="function"&&(se={handler:se}),typeof Oe=="function"&&(Oe={handler:Oe}),be=(0,p.default)(be,se,Oe),this.bindings[be.key]=this.bindings[be.key]||[],this.bindings[be.key].push(be)}},{key:"listen",value:function(){var ee=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var Oe=se.which||se.keyCode,be=(ee.bindings[Oe]||[]).filter(function(Ae){return U.match(se,Ae)});if(be.length!==0){var Se=ee.quill.getSelection();if(!(Se==null||!ee.quill.hasFocus())){var _e=ee.quill.getLine(Se.index),pe=o(_e,2),ue=pe[0],Le=pe[1],ie=ee.quill.getLeaf(Se.index),le=o(ie,2),xe=le[0],Ee=le[1],fe=Se.length===0?[xe,Ee]:ee.quill.getLeaf(Se.index+Se.length),De=o(fe,2),We=De[0],Je=De[1],yt=xe instanceof S.default.Text?xe.value().slice(0,Ee):"",Bt=We instanceof S.default.Text?We.value().slice(Je):"",ve={collapsed:Se.length===0,empty:Se.length===0&&ue.length()<=1,format:ee.quill.getFormat(Se),offset:Le,prefix:yt,suffix:Bt},we=be.some(function(Ae){if(Ae.collapsed!=null&&Ae.collapsed!==ve.collapsed||Ae.empty!=null&&Ae.empty!==ve.empty||Ae.offset!=null&&Ae.offset!==ve.offset)return!1;if(Array.isArray(Ae.format)){if(Ae.format.every(function(Fe){return ve.format[Fe]==null}))return!1}else if(a(Ae.format)==="object"&&!Object.keys(Ae.format).every(function(Fe){return Ae.format[Fe]===!0?ve.format[Fe]!=null:Ae.format[Fe]===!1?ve.format[Fe]==null:(0,f.default)(Ae.format[Fe],ve.format[Fe])}))return!1;return Ae.prefix!=null&&!Ae.prefix.test(ve.prefix)||Ae.suffix!=null&&!Ae.suffix.test(ve.suffix)?!1:Ae.handler.call(ee,Se,ve)!==!0});we&&se.preventDefault()}}}})}}]),U}(I.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(U,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,X){X.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,O.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(U){this.quill.history.cutoff();var X=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(X,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,O.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,X){this.quill.format("list",!1,O.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var X=this.quill.getLine(U.index),ee=o(X,2),se=ee[0],Oe=ee[1],be=(0,p.default)({},se.formats(),{list:"checked"}),Se=new v.default().retain(U.index).insert("\n",be).retain(se.length()-Oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Se,O.default.sources.USER),this.quill.setSelection(U.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,X){var ee=this.quill.getLine(U.index),se=o(ee,2),Oe=se[0],be=se[1],Se=new v.default().retain(U.index).insert("\n",X.format).retain(Oe.length()-be-1).retain(1,{header:null});this.quill.updateContents(Se,O.default.sources.USER),this.quill.setSelection(U.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,X){var ee=X.prefix.length,se=this.quill.getLine(U.index),Oe=o(se,2),be=Oe[0],Se=Oe[1];if(Se>ee)return!0;var _e=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":_e="unchecked";break;case"[x]":_e="checked";break;case"-":case"*":_e="bullet";break;default:_e="ordered"}this.quill.insertText(U.index," ",O.default.sources.USER),this.quill.history.cutoff();var pe=new v.default().retain(U.index-Se).delete(ee+1).retain(be.length()-2-Se).retain(1,{list:_e});this.quill.updateContents(pe,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-ee,O.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var X=this.quill.getLine(U.index),ee=o(X,2),se=ee[0],Oe=ee[1],be=new v.default().retain(U.index+se.length()-Oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(be,O.default.sources.USER)}},"embed left":J(z.keys.LEFT,!1),"embed left shift":J(z.keys.LEFT,!0),"embed right":J(z.keys.RIGHT,!1),"embed right shift":J(z.keys.RIGHT,!0)}};function J($,U){var X,ee=$===z.keys.LEFT?"prefix":"suffix";return X={key:$,shiftKey:U,altKey:null},P(X,ee,/^$/),P(X,"handler",function(Oe){var be=Oe.index;$===z.keys.RIGHT&&(be+=Oe.length+1);var Se=this.quill.getLeaf(be),_e=o(Se,1),pe=_e[0];return pe instanceof S.default.Embed?($===z.keys.LEFT?U?this.quill.setSelection(Oe.index-1,Oe.length+1,O.default.sources.USER):this.quill.setSelection(Oe.index-1,O.default.sources.USER):U?this.quill.setSelection(Oe.index,Oe.length+1,O.default.sources.USER):this.quill.setSelection(Oe.index+Oe.length+1,O.default.sources.USER),!1):!0}),X}function H($,U){if(!($.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine($.index),ee=o(X,1),se=ee[0],Oe={};if(U.offset===0){var be=this.quill.getLine($.index-1),Se=o(be,1),_e=Se[0];if(_e!=null&&_e.length()>1){var pe=se.formats(),ue=this.quill.getFormat($.index-1,1);Oe=y.default.attributes.diff(pe,ue)||{}}}var Le=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText($.index-Le,Le,O.default.sources.USER),Object.keys(Oe).length>0&&this.quill.formatLine($.index-Le,Le,Oe,O.default.sources.USER),this.quill.focus()}}function M($,U){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!($.index>=this.quill.getLength()-X)){var ee={},se=0,Oe=this.quill.getLine($.index),be=o(Oe,1),Se=be[0];if(U.offset>=Se.length()-1){var _e=this.quill.getLine($.index+1),pe=o(_e,1),ue=pe[0];if(ue){var Le=Se.formats(),ie=this.quill.getFormat($.index,1);ee=y.default.attributes.diff(Le,ie)||{},se=ue.length()}}this.quill.deleteText($.index,X,O.default.sources.USER),Object.keys(ee).length>0&&this.quill.formatLine($.index+se-1,X,ee,O.default.sources.USER)}}function L($){var U=this.quill.getLines($),X={};if(U.length>1){var ee=U[0].formats(),se=U[U.length-1].formats();X=y.default.attributes.diff(se,ee)||{}}this.quill.deleteText($,O.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine($.index,1,X,O.default.sources.USER),this.quill.setSelection($.index,O.default.sources.SILENT),this.quill.focus()}function q($,U){var X=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var ee=Object.keys(U.format).reduce(function(se,Oe){return S.default.query(Oe,S.default.Scope.BLOCK)&&!Array.isArray(U.format[Oe])&&(se[Oe]=U.format[Oe]),se},{});this.quill.insertText($.index,"\n",ee,O.default.sources.USER),this.quill.setSelection($.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(se){ee[se]==null&&(Array.isArray(U.format[se])||se!=="link"&&X.quill.format(se,U.format[se],O.default.sources.USER))})}function W($){return{key:z.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(X){var ee=S.default.query("code-block"),se=X.index,Oe=X.length,be=this.quill.scroll.descendant(ee,se),Se=o(be,2),_e=Se[0],pe=Se[1];if(_e!=null){var ue=this.quill.getIndex(_e),Le=_e.newlineIndex(pe,!0)+1,ie=_e.newlineIndex(ue+pe+Oe),le=_e.domNode.textContent.slice(Le,ie).split("\n");pe=0,le.forEach(function(xe,Ee){$?(_e.insertAt(Le+pe,ee.TAB),pe+=ee.TAB.length,Ee===0?se+=ee.TAB.length:Oe+=ee.TAB.length):xe.startsWith(ee.TAB)&&(_e.deleteAt(Le+pe,ee.TAB.length),pe-=ee.TAB.length,Ee===0?se-=ee.TAB.length:Oe-=ee.TAB.length),pe+=xe.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(se,Oe,O.default.sources.SILENT)}}}}function Q($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(X,ee){this.quill.format($,!ee.format[$],O.default.sources.USER)}}}function K($){if(typeof $=="string"||typeof $=="number")return K({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,u.default)($,!1)),typeof $.key=="string")if(z.keys[$.key.toUpperCase()]!=null)$.key=z.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[V]=$.shortKey,delete $.shortKey),$}n.default=z,n.SHORTKEY=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,S){var _=[],O=!0,x=!1,w=void 0;try{for(var C=m[Symbol.iterator](),I;!(O=(I=C.next()).done)&&(_.push(I.value),!(S&&_.length===S));O=!0);}catch(A){x=!0,w=A}finally{try{!O&&C.return&&C.return()}finally{if(x)throw w}}return _}return function(m,S){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,S,_){m===null&&(m=Function.prototype);var O=Object.getOwnPropertyDescriptor(m,S);if(O===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:y(x,S,_)}else{if("value"in O)return O.value;var w=O.get;return w===void 0?void 0:w.call(_)}},s=function(){function y(m,S){for(var _=0;_<S.length;_++){var O=S[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,S,_){return S&&y(m.prototype,S),_&&y(m,_),m}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){v(m,y),s(m,null,[{key:"value",value:function(){}}]);function m(S,_){p(this,m);var O=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S));return O.selection=_,O.textNode=document.createTextNode(m.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,O){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,_,O);for(var x=this,w=0;x!=null&&x.statics.scope!==u.default.Scope.BLOCK_BLOT;)w+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=m.CONTENTS.length,x.optimize(),x.formatAt(w,m.CONTENTS.length,_,O),this._length=0)}},{key:"index",value:function(_,O){return _===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,_,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,O=this.selection.getNativeRange(),x=void 0,w=void 0,C=void 0;if(O!=null&&O.start.node===_&&O.end.node===_){var I=[_,O.start.offset,O.end.offset];x=I[0],w=I[1],C=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var A=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(x=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=m.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),w!=null){var P=[w,C].map(function(R){return Math.max(0,Math.min(x.data.length,R-1))}),E=a(P,2);return w=E[0],C=E[1],{startNode:x,startOffset:w,endNode:x,endOffset:C}}}}},{key:"update",value:function(_,O){var x=this;if(_.some(function(C){return C.type==="characterData"&&C.target===x.textNode})){var w=this.restore();w&&(O.range=w)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[l.default,s.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function g(y,m){for(var S=0;S<m.length;S++){var _=m[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,S){return m&&g(y.prototype,m),S&&g(y,S),y}}(),o=function g(y,m,S){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,m);if(_===void 0){var O=Object.getPrototypeOf(y);return O===null?void 0:g(O,m,S)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(S)}},s=i(0),l=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){d(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(S){var _=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,S);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):_}}]),y}(l.default.Attributor.Style),h=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=h,n.ColorStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function v(g,y){for(var m=0;m<y.length;m++){var S=y[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:v(_,y,m)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(m)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(m,S){if(m!==this.statics.blotName||!S)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,S);S=this.constructor.sanitize(S),this.domNode.setAttribute("href",S)}}],[{key:"create",value:function(m){var S=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),S.setAttribute("href",m),S.setAttribute("rel","noopener noreferrer"),S.setAttribute("target","_blank"),S}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return h(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function h(v,g){var y=document.createElement("a");y.href=v;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=p,n.sanitize=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var S=0;S<m.length;S++){var _=m[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,S){return m&&g(y.prototype,m),S&&g(y,S),y}}(),s=i(23),l=f(s),u=i(107),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function h(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var v=function(){function g(y){var m=this;d(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),S.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),h(this.label,"aria-expanded"),h(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var S=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),m.hasAttribute("value")&&_.setAttribute("data-value",m.getAttribute("value")),m.textContent&&_.setAttribute("data-label",m.textContent),_.addEventListener("click",function(){S.selectItem(_,!0)}),_.addEventListener("keydown",function(O){switch(O.keyCode){case l.default.keys.ENTER:S.selectItem(_,!0),O.preventDefault();break;case l.default.keys.ESCAPE:S.escape(),O.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,S=document.createElement("span");S.classList.add("ql-picker-options"),S.setAttribute("aria-hidden","true"),S.tabIndex="-1",S.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",S.id),this.options=S,[].slice.call(this.select.options).forEach(function(_){var O=m.buildItem(_);S.appendChild(O),_.selected===!0&&m.selectItem(O)}),this.container.appendChild(S)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(S){m.container.setAttribute(S.name,S.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(m!==_&&(_!=null&&_.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),S))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var S=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(S)}else this.selectItem(null);var _=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),g}();n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=N(a),s=i(5),l=N(s),u=i(4),c=N(u),f=i(16),d=N(f),p=i(25),h=N(p),v=i(24),g=N(v),y=i(35),m=N(y),S=i(6),_=N(S),O=i(22),x=N(O),w=i(7),C=N(w),I=i(55),A=N(I),P=i(42),E=N(P),R=i(23),F=N(R);function N(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":h.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":_.default,"blots/scroll":x.default,"blots/text":C.default,"modules/clipboard":A.default,"modules/history":E.default,"modules/keyboard":F.default}),o.default.register(c.default,d.default,g.default,_.default,x.default,C.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);d.wrap(p),p.format(c,f)}},s.prototype.insertAt=function(l,u,c){var f=c==null?a.create("text",u):a.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=a.default.keys(this.domNode),p=o.default.keys(this.domNode),h=s.default.keys(this.domNode);d.concat(p).concat(h).forEach(function(v){var g=l.query(v,l.Scope.ATTRIBUTE);g instanceof a.default&&(f.attributes[g.attrName]=g)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var h=d.attributes[p].value(d.domNode);f.format(p,h)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},c}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,S){for(var _=0;_<S.length;_++){var O=S[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,S,_){return S&&y(m.prototype,S),_&&y(m,_),m}}(),o=function y(m,S,_){m===null&&(m=Function.prototype);var O=Object.getOwnPropertyDescriptor(m,S);if(O===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:y(x,S,_)}else{if("value"in O)return O.value;var w=O.get;return w===void 0?void 0:w.call(_)}},s=i(0),l=f(s),u=i(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var v="\uFEFF",g=function(y){h(m,y);function m(S){d(this,m);var _=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(O){_.contentNode.appendChild(O)}),_.leftGuard=document.createTextNode(v),_.rightGuard=document.createTextNode(v),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return a(m,[{key:"index",value:function(_,O){return _===this.leftGuard?0:_===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,_,O)}},{key:"restore",value:function(_){var O=void 0,x=void 0,w=_.data.split(v).join("");if(_===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,w),O={startNode:this.prev.domNode,startOffset:C+w.length}}else x=document.createTextNode(w),this.parent.insertBefore(l.default.create(x),this),O={startNode:x,startOffset:w.length};else _===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,w),O={startNode:this.next.domNode,startOffset:w.length}):(x=document.createTextNode(w),this.parent.insertBefore(l.default.create(x),this.next),O={startNode:x,startOffset:w.length}));return _.data=v,O}},{key:"update",value:function(_,O){var x=this;_.forEach(function(w){if(w.type==="characterData"&&(w.target===x.leftGuard||w.target===x.rightGuard)){var C=x.restore(w.target);C&&(O.range=C)}})}}]),m}(l.default.Embed);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(m,S){for(var _=0;_<S.length;_++){var O=S[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,S,_){return S&&y(m.prototype,S),_&&y(m,_),m}}(),o=function y(m,S,_){m===null&&(m=Function.prototype);var O=Object.getOwnPropertyDescriptor(m,S);if(O===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:y(x,S,_)}else{if("value"in O)return O.value;var w=O.get;return w===void 0?void 0:w.call(_)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},h=new l.default.Attributor.Class("font","ql-font",p),v=function(y){d(m,y);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(_){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),g=new v("font","font-family",p);n.FontStyle=g,n.FontClass=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function S(_,O){for(var x=0;x<O.length;x++){var w=O[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,O,x){return O&&S(_.prototype,O),x&&S(_,x),_}}(),o=i(0),s=d(o),l=i(5),u=d(l),c=i(9),f=d(c);function d(S){return S&&S.__esModule?S:{default:S}}function p(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function h(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function v(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var g=function(S){v(_,S);function _(O,x){p(this,_);var w=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,x));return w.lastRecorded=0,w.ignoreChange=!1,w.clear(),w.quill.on(u.default.events.EDITOR_CHANGE,function(C,I,A,P){C!==u.default.events.TEXT_CHANGE||w.ignoreChange||(!w.options.userOnly||P===u.default.sources.USER?w.record(I,A):w.transform(I))}),w.quill.keyboard.addBinding({key:"Z",shortKey:!0},w.undo.bind(w)),w.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},w.redo.bind(w)),/Win/i.test(navigator.platform)&&w.quill.keyboard.addBinding({key:"Y",shortKey:!0},w.redo.bind(w)),w}return a(_,[{key:"change",value:function(x,w){if(this.stack[x].length!==0){var C=this.stack[x].pop();this.stack[w].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[x],u.default.sources.USER),this.ignoreChange=!1;var I=m(C[x]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,w){if(x.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(w),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var A=this.stack.undo.pop();C=C.compose(A.undo),x=A.redo.compose(x)}else this.lastRecorded=I;this.stack.undo.push({redo:x,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(w){w.undo=x.transform(w.undo,!0),w.redo=x.transform(w.redo,!0)}),this.stack.redo.forEach(function(w){w.undo=x.transform(w.undo,!0),w.redo=x.transform(w.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(S){var _=S.ops[S.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith("\n"):_.attributes!=null?Object.keys(_.attributes).some(function(O){return s.default.query(O,s.default.Scope.BLOCK)!=null}):!1}function m(S){var _=S.reduce(function(x,w){return x+=w.delete||0,x},0),O=S.length()-_;return y(S)&&(O-=1),O}n.default=g,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function q(W,Q){for(var K=0;K<Q.length;K++){var $=Q[K];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,$.key,$)}}return function(W,Q,K){return Q&&q(W.prototype,Q),K&&q(W,K),W}}(),o=function q(W,Q,K){W===null&&(W=Function.prototype);var $=Object.getOwnPropertyDescriptor(W,Q);if($===void 0){var U=Object.getPrototypeOf(W);return U===null?void 0:q(U,Q,K)}else{if("value"in $)return $.value;var X=$.get;return X===void 0?void 0:X.call(K)}},s=i(3),l=I(s),u=i(2),c=I(u),f=i(8),d=I(f),p=i(23),h=I(p),v=i(34),g=I(v),y=i(59),m=I(y),S=i(60),_=I(S),O=i(28),x=I(O),w=i(61),C=I(w);function I(q){return q&&q.__esModule?q:{default:q}}function A(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}function P(q,W){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:q}function E(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}var R=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],V=["1","2","3",!1],z=["small",!1,"large","huge"],J=function(q){E(W,q);function W(Q,K){A(this,W);var $=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,K)),U=function X(ee){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",X);$.tooltip!=null&&!$.tooltip.root.contains(ee.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(se){se.container.contains(ee.target)||se.close()})};return Q.emitter.listenDOM("click",document.body,U),$}return a(W,[{key:"addModule",value:function(K){var $=o(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(K,$){K.forEach(function(U){var X=U.getAttribute("class")||"";X.split(/\s+/).forEach(function(ee){if(ee.startsWith("ql-")&&(ee=ee.slice(3),$[ee]!=null))if(ee==="direction")U.innerHTML=$[ee][""]+$[ee].rtl;else if(typeof $[ee]=="string")U.innerHTML=$[ee];else{var se=U.value||"";se!=null&&$[ee][se]&&(U.innerHTML=$[ee][se])}})})}},{key:"buildPickers",value:function(K,$){var U=this;this.pickers=K.map(function(ee){if(ee.classList.contains("ql-align"))return ee.querySelector("option")==null&&L(ee,R),new _.default(ee,$.align);if(ee.classList.contains("ql-background")||ee.classList.contains("ql-color")){var se=ee.classList.contains("ql-background")?"background":"color";return ee.querySelector("option")==null&&L(ee,F,se==="background"?"#ffffff":"#000000"),new m.default(ee,$[se])}else return ee.querySelector("option")==null&&(ee.classList.contains("ql-font")?L(ee,N):ee.classList.contains("ql-header")?L(ee,V):ee.classList.contains("ql-size")&&L(ee,z)),new x.default(ee)});var X=function(){U.pickers.forEach(function(se){se.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,X)}}]),W}(g.default);J.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var K=new FileReader;K.onload=function($){var U=W.quill.getSelection(!0);W.quill.updateContents(new c.default().retain(U.index).delete(U.length).insert({image:$.target.result}),d.default.sources.USER),W.quill.setSelection(U.index+1,d.default.sources.SILENT),Q.value=""},K.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(q){E(W,q);function W(Q,K){A(this,W);var $=P(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,K));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(W,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function($){h.default.match($,"enter")?(K.save(),$.preventDefault()):h.default.match($,"escape")&&(K.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":K=M(K);case"formula":{if(!K)break;var U=this.quill.getSelection(!0);if(U!=null){var X=U.index+U.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),K,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",d.default.sources.USER),this.quill.setSelection(X+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(C.default);function M(q){var W=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":q}function L(q,W){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(K){var $=document.createElement("option");K===Q?$.setAttribute("selected","selected"):$.setAttribute("value",K),q.appendChild($)})}n.BaseTooltip=H,n.default=J},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||l&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),f=c[0],d=c[1],p,h=s-d,v=this.iterator(f);(p=v())&&h<s+l;){var g=p.length();s>h?u(p,s-h,Math.min(l,h+g-s)):u(p,0,Math.min(g,s+l-h)),h+=g}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])};return function(d,p){f(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){a(d,f);function d(p){var h=f.call(this,p)||this;return h.scroll=h,h.observer=new MutationObserver(function(v){h.update(v)}),h.observer.observe(h.domNode,l),h.attach(),h}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,h){this.update(),p===0&&h===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,p,h)},d.prototype.formatAt=function(p,h,v,g){this.update(),f.prototype.formatAt.call(this,p,h,v,g)},d.prototype.insertAt=function(p,h,v){this.update(),f.prototype.insertAt.call(this,p,h,v)},d.prototype.optimize=function(p,h){var v=this;p===void 0&&(p=[]),h===void 0&&(h={}),f.prototype.optimize.call(this,h);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(O,x){x===void 0&&(x=!0),!(O==null||O===v)&&O.domNode.parentNode!=null&&(O.domNode[s.DATA_KEY].mutations==null&&(O.domNode[s.DATA_KEY].mutations=[]),x&&y(O.parent))},m=function(O){O.domNode[s.DATA_KEY]==null||O.domNode[s.DATA_KEY].mutations==null||(O instanceof o.default&&O.children.forEach(m),O.optimize(h))},S=p,_=0;S.length>0;_+=1){if(_>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(O){var x=s.find(O.target,!0);x!=null&&(x.domNode===O.target&&(O.type==="childList"?(y(s.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(w){var C=s.find(w,!1);y(C,!1),C instanceof o.default&&C.children.forEach(function(I){y(I,!1)})})):O.type==="attributes"&&y(x.prev)),y(x))}),this.children.forEach(m),S=[].slice.call(this.observer.takeRecords()),g=S.slice();g.length>0;)p.push(g.pop())}},d.prototype.update=function(p,h){var v=this;h===void 0&&(h={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=s.find(g.target,!0);return y==null?null:y.domNode[s.DATA_KEY].mutations==null?(y.domNode[s.DATA_KEY].mutations=[g],y):(y.domNode[s.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[s.DATA_KEY]==null||g.update(g.domNode[s.DATA_KEY].mutations||[],h)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,h),this.optimize(p,h)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){c(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){a(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,p){var h=this;d===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(f.blotName,!0)),h.attributes.copy(v)}),this.unwrap()):c.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,h,v){if(this.formats()[h]!=null||s.query(h,s.Scope.ATTRIBUTE)){var g=this.isolate(d,p);g.format(h,v)}else c.prototype.formatAt.call(this,d,p,h,v)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var h=this.next;h instanceof f&&h.prev===this&&l(p,h.formats())&&(h.moveChildren(this),h.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,p,h){s.query(p,s.Scope.BLOCK)!=null?this.format(p,h):u.prototype.formatAt.call(this,f,d,p,h)},c.prototype.insertAt=function(f,d,p){if(p==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,p);else{var h=this.split(f),v=s.create(d,p);h.parent.insertBefore(v,h)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,p){c===0&&f===this.length()?this.format(d,p):l.prototype.formatAt.call(this,c,f,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=s},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=s.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,d){var p=this;f.some(function(h){return h.type==="characterData"&&h.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,p=0;p<c;p++)if(d=u[p],l.call(f,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function s(_,O,x){if(_==O)return _?[[o,_]]:[];(x<0||_.length<x)&&(x=null);var w=f(_,O),C=_.substring(0,w);_=_.substring(w),O=O.substring(w),w=d(_,O);var I=_.substring(_.length-w);_=_.substring(0,_.length-w),O=O.substring(0,O.length-w);var A=l(_,O);return C&&A.unshift([o,C]),I&&A.push([o,I]),h(A),x!=null&&(A=y(A,x)),A=m(A),A}function l(_,O){var x;if(!_)return[[a,O]];if(!O)return[[i,_]];var w=_.length>O.length?_:O,C=_.length>O.length?O:_,I=w.indexOf(C);if(I!=-1)return x=[[a,w.substring(0,I)],[o,C],[a,w.substring(I+C.length)]],_.length>O.length&&(x[0][0]=x[2][0]=i),x;if(C.length==1)return[[i,_],[a,O]];var A=p(_,O);if(A){var P=A[0],E=A[1],R=A[2],F=A[3],N=A[4],V=s(P,R),z=s(E,F);return V.concat([[o,N]],z)}return u(_,O)}function u(_,O){for(var x=_.length,w=O.length,C=Math.ceil((x+w)/2),I=C,A=2*C,P=new Array(A),E=new Array(A),R=0;R<A;R++)P[R]=-1,E[R]=-1;P[I+1]=0,E[I+1]=0;for(var F=x-w,N=F%2!=0,V=0,z=0,J=0,H=0,M=0;M<C;M++){for(var L=-M+V;L<=M-z;L+=2){var q=I+L,W;L==-M||L!=M&&P[q-1]<P[q+1]?W=P[q+1]:W=P[q-1]+1;for(var Q=W-L;W<x&&Q<w&&_.charAt(W)==O.charAt(Q);)W++,Q++;if(P[q]=W,W>x)z+=2;else if(Q>w)V+=2;else if(N){var K=I+F-L;if(K>=0&&K<A&&E[K]!=-1){var $=x-E[K];if(W>=$)return c(_,O,W,Q)}}}for(var U=-M+J;U<=M-H;U+=2){var K=I+U,$;U==-M||U!=M&&E[K-1]<E[K+1]?$=E[K+1]:$=E[K-1]+1;for(var X=$-U;$<x&&X<w&&_.charAt(x-$-1)==O.charAt(w-X-1);)$++,X++;if(E[K]=$,$>x)H+=2;else if(X>w)J+=2;else if(!N){var q=I+F-U;if(q>=0&&q<A&&P[q]!=-1){var W=P[q],Q=I+W-q;if($=x-$,W>=$)return c(_,O,W,Q)}}}}return[[i,_],[a,O]]}function c(_,O,x,w){var C=_.substring(0,x),I=O.substring(0,w),A=_.substring(x),P=O.substring(w),E=s(C,I),R=s(A,P);return E.concat(R)}function f(_,O){if(!_||!O||_.charAt(0)!=O.charAt(0))return 0;for(var x=0,w=Math.min(_.length,O.length),C=w,I=0;x<C;)_.substring(I,C)==O.substring(I,C)?(x=C,I=x):w=C,C=Math.floor((w-x)/2+x);return C}function d(_,O){if(!_||!O||_.charAt(_.length-1)!=O.charAt(O.length-1))return 0;for(var x=0,w=Math.min(_.length,O.length),C=w,I=0;x<C;)_.substring(_.length-C,_.length-I)==O.substring(O.length-C,O.length-I)?(x=C,I=x):w=C,C=Math.floor((w-x)/2+x);return C}function p(_,O){var x=_.length>O.length?_:O,w=_.length>O.length?O:_;if(x.length<4||w.length*2<x.length)return null;function C(z,J,H){for(var M=z.substring(H,H+Math.floor(z.length/4)),L=-1,q="",W,Q,K,$;(L=J.indexOf(M,L+1))!=-1;){var U=f(z.substring(H),J.substring(L)),X=d(z.substring(0,H),J.substring(0,L));q.length<X+U&&(q=J.substring(L-X,L)+J.substring(L,L+U),W=z.substring(0,H-X),Q=z.substring(H+U),K=J.substring(0,L-X),$=J.substring(L+U))}return q.length*2>=z.length?[W,Q,K,$,q]:null}var I=C(x,w,Math.ceil(x.length/4)),A=C(x,w,Math.ceil(x.length/2)),P;if(!I&&!A)return null;A?I?P=I[4].length>A[4].length?I:A:P=A:P=I;var E,R,F,N;_.length>O.length?(E=P[0],R=P[1],F=P[2],N=P[3]):(F=P[0],N=P[1],E=P[2],R=P[3]);var V=P[4];return[E,R,F,N,V]}function h(_){_.push([o,""]);for(var O=0,x=0,w=0,C="",I="",A;O<_.length;)switch(_[O][0]){case a:w++,I+=_[O][1],O++;break;case i:x++,C+=_[O][1],O++;break;case o:x+w>1?(x!==0&&w!==0&&(A=f(I,C),A!==0&&(O-x-w>0&&_[O-x-w-1][0]==o?_[O-x-w-1][1]+=I.substring(0,A):(_.splice(0,0,[o,I.substring(0,A)]),O++),I=I.substring(A),C=C.substring(A)),A=d(I,C),A!==0&&(_[O][1]=I.substring(I.length-A)+_[O][1],I=I.substring(0,I.length-A),C=C.substring(0,C.length-A))),x===0?_.splice(O-w,x+w,[a,I]):w===0?_.splice(O-x,x+w,[i,C]):_.splice(O-x-w,x+w,[i,C],[a,I]),O=O-x-w+(x?1:0)+(w?1:0)+1):O!==0&&_[O-1][0]==o?(_[O-1][1]+=_[O][1],_.splice(O,1)):O++,w=0,x=0,C="",I="";break}_[_.length-1][1]===""&&_.pop();var P=!1;for(O=1;O<_.length-1;)_[O-1][0]==o&&_[O+1][0]==o&&(_[O][1].substring(_[O][1].length-_[O-1][1].length)==_[O-1][1]?(_[O][1]=_[O-1][1]+_[O][1].substring(0,_[O][1].length-_[O-1][1].length),_[O+1][1]=_[O-1][1]+_[O+1][1],_.splice(O-1,1),P=!0):_[O][1].substring(0,_[O+1][1].length)==_[O+1][1]&&(_[O-1][1]+=_[O+1][1],_[O][1]=_[O][1].substring(_[O+1][1].length)+_[O+1][1],_.splice(O+1,1),P=!0)),O++;P&&h(_)}var v=s;v.INSERT=a,v.DELETE=i,v.EQUAL=o,r.exports=v;function g(_,O){if(O===0)return[o,_];for(var x=0,w=0;w<_.length;w++){var C=_[w];if(C[0]===i||C[0]===o){var I=x+C[1].length;if(O===I)return[w+1,_];if(O<I){_=_.slice();var A=O-x,P=[C[0],C[1].slice(0,A)],E=[C[0],C[1].slice(A)];return _.splice(w,1,P,E),[w+1,_]}else x=I}}throw new Error("cursor_pos is out of bounds!")}function y(_,O){var x=g(_,O),w=x[1],C=x[0],I=w[C],A=w[C+1];if(I==null)return _;if(I[0]!==o)return _;if(A!=null&&I[1]+A[1]===A[1]+I[1])return w.splice(C,2,A,I),S(w,C,2);if(A!=null&&A[1].indexOf(I[1])===0){w.splice(C,2,[A[0],I[1]],[0,I[1]]);var P=A[1].slice(I[1].length);return P.length>0&&w.splice(C+2,0,[A[0],P]),S(w,C,3)}else return _}function m(_){for(var O=!1,x=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},w=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},C=2;C<_.length;C+=1)_[C-2][0]===o&&w(_[C-2][1])&&_[C-1][0]===i&&x(_[C-1][1])&&_[C][0]===a&&x(_[C][1])&&(O=!0,_[C-1][1]=_[C-2][1].slice(-1)+_[C-1][1],_[C][1]=_[C-2][1].slice(-1)+_[C][1],_[C-2][1]=_[C-2][1].slice(0,-1));if(!O)return _;for(var I=[],C=0;C<_.length;C+=1)_[C][1].length>0&&I.push(_[C]);return I}function S(_,O,x){for(var w=O+x-1;w>=0&&w>=O-1;w--)if(w+1<_.length){var C=_[w],I=_[w+1];C[0]===I[1]&&_.splice(w,2,[C[0],C[1]+I[1]])}return _}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=a?a+c:c,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var h=0,v=p.length,g=new Array(v);h<v;h++)g[h]=p[h].fn;return g},l.prototype.emit=function(c,f,d,p,h,v){var g=a?a+c:c;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,S,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,h),!0;case 6:return y.fn.call(y.context,f,d,p,h,v),!0}for(_=1,S=new Array(m-1);_<m;_++)S[_-1]=arguments[_];y.fn.apply(y.context,S)}else{var O=y.length,x;for(_=0;_<O;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),m){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,f);break;case 3:y[_].fn.call(y[_].context,f,d);break;case 4:y[_].fn.call(y[_].context,f,d,p);break;default:if(!S)for(x=1,S=new Array(m-1);x<m;x++)S[x-1]=arguments[x];y[_].fn.apply(y[_].context,S)}}return!0},l.prototype.on=function(c,f,d){var p=new s(f,d||this),h=a?a+c:c;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],p]:this._events[h].push(p):(this._events[h]=p,this._eventsCount++),this},l.prototype.once=function(c,f,d){var p=new s(f,d||this,!0),h=a?a+c:c;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],p]:this._events[h].push(p):(this._events[h]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,p){var h=a?a+c:c;if(!this._events[h])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[h],this;var v=this._events[h];if(v.fn)v.fn===f&&(!p||v.once)&&(!d||v.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[h]);else{for(var g=0,y=[],m=v.length;g<m;g++)(v[g].fn!==f||p&&!v[g].once||d&&v[g].context!==d)&&y.push(v[g]);y.length?this._events[h]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[h]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},o=function(){function ie(le,xe){var Ee=[],fe=!0,De=!1,We=void 0;try{for(var Je=le[Symbol.iterator](),yt;!(fe=(yt=Je.next()).done)&&(Ee.push(yt.value),!(xe&&Ee.length===xe));fe=!0);}catch(Bt){De=!0,We=Bt}finally{try{!fe&&Je.return&&Je.return()}finally{if(De)throw We}}return Ee}return function(le,xe){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return ie(le,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function ie(le,xe){for(var Ee=0;Ee<xe.length;Ee++){var fe=xe[Ee];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(le,fe.key,fe)}}return function(le,xe,Ee){return xe&&ie(le.prototype,xe),Ee&&ie(le,Ee),le}}(),l=i(3),u=E(l),c=i(2),f=E(c),d=i(0),p=E(d),h=i(5),v=E(h),g=i(10),y=E(g),m=i(9),S=E(m),_=i(36),O=i(37),x=i(13),w=E(x),C=i(26),I=i(38),A=i(39),P=i(40);function E(ie){return ie&&ie.__esModule?ie:{default:ie}}function R(ie,le,xe){return le in ie?Object.defineProperty(ie,le,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ie[le]=xe,ie}function F(ie,le){if(!(ie instanceof le))throw new TypeError("Cannot call a class as a function")}function N(ie,le){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:ie}function V(ie,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);ie.prototype=Object.create(le&&le.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,le):ie.__proto__=le)}var z=(0,y.default)("quill:clipboard"),J="__ql-matcher",H=[[Node.TEXT_NODE,Le],[Node.TEXT_NODE,_e],["br",Oe],[Node.ELEMENT_NODE,_e],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,ue],["li",Se],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",be]],M=[_.AlignAttribute,I.DirectionAttribute].reduce(function(ie,le){return ie[le.keyName]=le,ie},{}),L=[_.AlignStyle,O.BackgroundStyle,C.ColorStyle,I.DirectionStyle,A.FontStyle,P.SizeStyle].reduce(function(ie,le){return ie[le.keyName]=le,ie},{}),q=function(ie){V(le,ie);function le(xe,Ee){F(this,le);var fe=N(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,xe,Ee));return fe.quill.root.addEventListener("paste",fe.onPaste.bind(fe)),fe.container=fe.quill.addContainer("ql-clipboard"),fe.container.setAttribute("contenteditable",!0),fe.container.setAttribute("tabindex",-1),fe.matchers=[],H.concat(fe.options.matchers).forEach(function(De){var We=o(De,2),Je=We[0],yt=We[1];!Ee.matchVisual&&yt===pe||fe.addMatcher(Je,yt)}),fe}return s(le,[{key:"addMatcher",value:function(Ee,fe){this.matchers.push([Ee,fe])}},{key:"convert",value:function(Ee){if(typeof Ee=="string")return this.container.innerHTML=Ee.replace(/\>\r?\n +\</g,"><"),this.convert();var fe=this.quill.getFormat(this.quill.selection.savedRange.index);if(fe[w.default.blotName]){var De=this.container.innerText;return this.container.innerHTML="",new f.default().insert(De,R({},w.default.blotName,fe[w.default.blotName]))}var We=this.prepareMatching(),Je=o(We,2),yt=Je[0],Bt=Je[1],ve=U(this.container,yt,Bt);return K(ve,"\n")&&ve.ops[ve.ops.length-1].attributes==null&&(ve=ve.compose(new f.default().retain(ve.length()-1).delete(1))),z.log("convert",this.container.innerHTML,ve),this.container.innerHTML="",ve}},{key:"dangerouslyPasteHTML",value:function(Ee,fe){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof Ee=="string")this.quill.setContents(this.convert(Ee),fe),this.quill.setSelection(0,v.default.sources.SILENT);else{var We=this.convert(fe);this.quill.updateContents(new f.default().retain(Ee).concat(We),De),this.quill.setSelection(Ee+We.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(Ee){var fe=this;if(!(Ee.defaultPrevented||!this.quill.isEnabled())){var De=this.quill.getSelection(),We=new f.default().retain(De.index),Je=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){We=We.concat(fe.convert()).delete(De.length),fe.quill.updateContents(We,v.default.sources.USER),fe.quill.setSelection(We.length()-De.length,v.default.sources.SILENT),fe.quill.scrollingContainer.scrollTop=Je,fe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ee=this,fe=[],De=[];return this.matchers.forEach(function(We){var Je=o(We,2),yt=Je[0],Bt=Je[1];switch(yt){case Node.TEXT_NODE:De.push(Bt);break;case Node.ELEMENT_NODE:fe.push(Bt);break;default:[].forEach.call(Ee.container.querySelectorAll(yt),function(ve){ve[J]=ve[J]||[],ve[J].push(Bt)});break}}),[fe,De]}}]),le}(S.default);q.DEFAULTS={matchers:[],matchVisual:!0};function W(ie,le,xe){return(typeof le>"u"?"undefined":a(le))==="object"?Object.keys(le).reduce(function(Ee,fe){return W(Ee,fe,le[fe])},ie):ie.reduce(function(Ee,fe){return fe.attributes&&fe.attributes[le]?Ee.push(fe):Ee.insert(fe.insert,(0,u.default)({},R({},le,xe),fe.attributes))},new f.default)}function Q(ie){if(ie.nodeType!==Node.ELEMENT_NODE)return{};var le="__ql-computed-style";return ie[le]||(ie[le]=window.getComputedStyle(ie))}function K(ie,le){for(var xe="",Ee=ie.ops.length-1;Ee>=0&&xe.length<le.length;--Ee){var fe=ie.ops[Ee];if(typeof fe.insert!="string")break;xe=fe.insert+xe}return xe.slice(-1*le.length)===le}function $(ie){if(ie.childNodes.length===0)return!1;var le=Q(ie);return["block","list-item"].indexOf(le.display)>-1}function U(ie,le,xe){return ie.nodeType===ie.TEXT_NODE?xe.reduce(function(Ee,fe){return fe(ie,Ee)},new f.default):ie.nodeType===ie.ELEMENT_NODE?[].reduce.call(ie.childNodes||[],function(Ee,fe){var De=U(fe,le,xe);return fe.nodeType===ie.ELEMENT_NODE&&(De=le.reduce(function(We,Je){return Je(fe,We)},De),De=(fe[J]||[]).reduce(function(We,Je){return Je(fe,We)},De)),Ee.concat(De)},new f.default):new f.default}function X(ie,le,xe){return W(xe,ie,!0)}function ee(ie,le){var xe=p.default.Attributor.Attribute.keys(ie),Ee=p.default.Attributor.Class.keys(ie),fe=p.default.Attributor.Style.keys(ie),De={};return xe.concat(Ee).concat(fe).forEach(function(We){var Je=p.default.query(We,p.default.Scope.ATTRIBUTE);Je!=null&&(De[Je.attrName]=Je.value(ie),De[Je.attrName])||(Je=M[We],Je!=null&&(Je.attrName===We||Je.keyName===We)&&(De[Je.attrName]=Je.value(ie)||void 0),Je=L[We],Je!=null&&(Je.attrName===We||Je.keyName===We)&&(Je=L[We],De[Je.attrName]=Je.value(ie)||void 0))}),Object.keys(De).length>0&&(le=W(le,De)),le}function se(ie,le){var xe=p.default.query(ie);if(xe==null)return le;if(xe.prototype instanceof p.default.Embed){var Ee={},fe=xe.value(ie);fe!=null&&(Ee[xe.blotName]=fe,le=new f.default().insert(Ee,xe.formats(ie)))}else typeof xe.formats=="function"&&(le=W(le,xe.blotName,xe.formats(ie)));return le}function Oe(ie,le){return K(le,"\n")||le.insert("\n"),le}function be(){return new f.default}function Se(ie,le){var xe=p.default.query(ie);if(xe==null||xe.blotName!=="list-item"||!K(le,"\n"))return le;for(var Ee=-1,fe=ie.parentNode;!fe.classList.contains("ql-clipboard");)(p.default.query(fe)||{}).blotName==="list"&&(Ee+=1),fe=fe.parentNode;return Ee<=0?le:le.compose(new f.default().retain(le.length()-1).retain(1,{indent:Ee}))}function _e(ie,le){return K(le,"\n")||($(ie)||le.length()>0&&ie.nextSibling&&$(ie.nextSibling))&&le.insert("\n"),le}function pe(ie,le){if($(ie)&&ie.nextElementSibling!=null&&!K(le,"\n\n")){var xe=ie.offsetHeight+parseFloat(Q(ie).marginTop)+parseFloat(Q(ie).marginBottom);ie.nextElementSibling.offsetTop>ie.offsetTop+xe*1.5&&le.insert("\n")}return le}function ue(ie,le){var xe={},Ee=ie.style||{};return Ee.fontStyle&&Q(ie).fontStyle==="italic"&&(xe.italic=!0),Ee.fontWeight&&(Q(ie).fontWeight.startsWith("bold")||parseInt(Q(ie).fontWeight)>=700)&&(xe.bold=!0),Object.keys(xe).length>0&&(le=W(le,xe)),parseFloat(Ee.textIndent||0)>0&&(le=new f.default().insert("	").concat(le)),le}function Le(ie,le){var xe=ie.data;if(ie.parentNode.tagName==="O:P")return le.insert(xe.trim());if(xe.trim().length===0&&ie.parentNode.classList.contains("ql-clipboard"))return le;if(!Q(ie.parentNode).whiteSpace.startsWith("pre")){var Ee=function(De,We){return We=We.replace(/[^\u00a0]/g,""),We.length<1&&De?" ":We};xe=xe.replace(/\r\n/g," ").replace(/\n/g," "),xe=xe.replace(/\s\s+/g,Ee.bind(Ee,!0)),(ie.previousSibling==null&&$(ie.parentNode)||ie.previousSibling!=null&&$(ie.previousSibling))&&(xe=xe.replace(/^\s+/,Ee.bind(Ee,!1))),(ie.nextSibling==null&&$(ie.parentNode)||ie.nextSibling!=null&&$(ie.nextSibling))&&(xe=xe.replace(/\s+$/,Ee.bind(Ee,!1)))}return le.insert(xe)}n.default=q,n.matchAttributor=ee,n.matchBlot=se,n.matchNewline=_e,n.matchSpacing=pe,n.matchText=Le},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&h(v.prototype,g),y&&h(v,y),v}}(),o=function h(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,y)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(y)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function P(E,R){var F=[],N=!0,V=!1,z=void 0;try{for(var J=E[Symbol.iterator](),H;!(N=(H=J.next()).done)&&(F.push(H.value),!(R&&F.length===R));N=!0);}catch(M){V=!0,z=M}finally{try{!N&&J.return&&J.return()}finally{if(V)throw z}}return F}return function(E,R){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return P(E,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(E,R){for(var F=0;F<R.length;F++){var N=R[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,R,F){return R&&P(E.prototype,R),F&&P(E,F),E}}(),s=i(2),l=y(s),u=i(0),c=y(u),f=i(5),d=y(f),p=i(10),h=y(p),v=i(9),g=y(v);function y(P){return P&&P.__esModule?P:{default:P}}function m(P,E,R){return E in P?Object.defineProperty(P,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):P[E]=R,P}function S(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}function _(P,E){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:P}function O(P,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);P.prototype=Object.create(E&&E.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(P,E):P.__proto__=E)}var x=(0,h.default)("quill:toolbar"),w=function(P){O(E,P);function E(R,F){S(this,E);var N=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,R,F));if(Array.isArray(N.options.container)){var V=document.createElement("div");I(V,N.options.container),R.container.parentNode.insertBefore(V,R.container),N.container=V}else typeof N.options.container=="string"?N.container=document.querySelector(N.options.container):N.container=N.options.container;if(!(N.container instanceof HTMLElement)){var z;return z=x.error("Container required for toolbar",N.options),_(N,z)}return N.container.classList.add("ql-toolbar"),N.controls=[],N.handlers={},Object.keys(N.options.handlers).forEach(function(J){N.addHandler(J,N.options.handlers[J])}),[].forEach.call(N.container.querySelectorAll("button, select"),function(J){N.attach(J)}),N.quill.on(d.default.events.EDITOR_CHANGE,function(J,H){J===d.default.events.SELECTION_CHANGE&&N.update(H)}),N.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var J=N.quill.selection.getRange(),H=a(J,1),M=H[0];N.update(M)}),N}return o(E,[{key:"addHandler",value:function(F,N){this.handlers[F]=N}},{key:"attach",value:function(F){var N=this,V=[].find.call(F.classList,function(J){return J.indexOf("ql-")===0});if(V){if(V=V.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){x.warn("ignoring attaching to disabled format",V,F);return}if(c.default.query(V)==null){x.warn("ignoring attaching to nonexistent format",V,F);return}}var z=F.tagName==="SELECT"?"change":"click";F.addEventListener(z,function(J){var H=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var M=F.options[F.selectedIndex];M.hasAttribute("selected")?H=!1:H=M.value||!1}else F.classList.contains("ql-active")?H=!1:H=F.value||!F.hasAttribute("value"),J.preventDefault();N.quill.focus();var L=N.quill.selection.getRange(),q=a(L,1),W=q[0];if(N.handlers[V]!=null)N.handlers[V].call(N,H);else if(c.default.query(V).prototype instanceof c.default.Embed){if(H=prompt("Enter "+V),!H)return;N.quill.updateContents(new l.default().retain(W.index).delete(W.length).insert(m({},V,H)),d.default.sources.USER)}else N.quill.format(V,H,d.default.sources.USER);N.update(W)}),this.controls.push([V,F])}}},{key:"update",value:function(F){var N=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(V){var z=a(V,2),J=z[0],H=z[1];if(H.tagName==="SELECT"){var M=void 0;if(F==null)M=null;else if(N[J]==null)M=H.querySelector("option[selected]");else if(!Array.isArray(N[J])){var L=N[J];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),M=H.querySelector('option[value="'+L+'"]')}M==null?(H.value="",H.selectedIndex=-1):M.selected=!0}else if(F==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var q=N[J]===H.getAttribute("value")||N[J]!=null&&N[J].toString()===H.getAttribute("value")||N[J]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",q)}else H.classList.toggle("ql-active",N[J]!=null)})}}]),E}(g.default);w.DEFAULTS={};function C(P,E,R){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+E),R!=null&&(F.value=R),P.appendChild(F)}function I(P,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(R){var F=document.createElement("span");F.classList.add("ql-formats"),R.forEach(function(N){if(typeof N=="string")C(F,N);else{var V=Object.keys(N)[0],z=N[V];Array.isArray(z)?A(F,V,z):C(F,V,z)}}),P.appendChild(F)})}function A(P,E,R){var F=document.createElement("select");F.classList.add("ql-"+E),R.forEach(function(N){var V=document.createElement("option");N!==!1?V.setAttribute("value",N):V.setAttribute("selected","selected"),F.appendChild(V)}),P.appendChild(F)}w.DEFAULTS={container:null,handlers:{clean:function(){var E=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(N){c.default.query(N,c.default.Scope.INLINE)!=null&&E.quill.format(N,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(E){var R=this.quill.getFormat().align;E==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!E&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",E,d.default.sources.USER)},indent:function(E){var R=this.quill.getSelection(),F=this.quill.getFormat(R),N=parseInt(F.indent||0);if(E==="+1"||E==="-1"){var V=E==="+1"?1:-1;F.direction==="rtl"&&(V*=-1),this.quill.format("indent",N+V,d.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,d.default.sources.USER)},list:function(E){var R=this.quill.getSelection(),F=this.quill.getFormat(R);E==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",E,d.default.sources.USER)}}},n.default=w,n.addControls=I},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&h(v.prototype,g),y&&h(v,y),v}}(),o=function h(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,y)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(y)}},s=i(28),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(g,y){c(this,v);var m=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(S){S.classList.add("ql-primary")}),m}return a(v,[{key:"buildItem",value:function(y){var m=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m);var S=this.label.querySelector(".ql-color-label"),_=y&&y.getAttribute("data-value")||"";S&&(S.tagName==="line"?S.style.stroke=_:S.style.fill=_)}}]),v}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&h(v.prototype,g),y&&h(v,y),v}}(),o=function h(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,y)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(y)}},s=i(28),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(g,y){c(this,v);var m=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(S){S.innerHTML=y[S.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return a(v,[{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var f=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),h=this.root.getBoundingClientRect(),v=0;if(h.right>p.right&&(v=p.right-h.right,this.root.style.left=f+v+"px"),h.left<p.left&&(v=p.left-h.left,this.root.style.left=f+v+"px"),h.bottom>p.bottom){var g=h.bottom-h.top,y=c.bottom-c.top+g;this.root.style.top=d-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(P,E){var R=[],F=!0,N=!1,V=void 0;try{for(var z=P[Symbol.iterator](),J;!(F=(J=z.next()).done)&&(R.push(J.value),!(E&&R.length===E));F=!0);}catch(H){N=!0,V=H}finally{try{!F&&z.return&&z.return()}finally{if(N)throw V}}return R}return function(P,E){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function A(P,E,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,E);if(F===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:A(N,E,R)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(R)}},s=function(){function A(P,E){for(var R=0;R<E.length;R++){var F=E[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,E,R){return E&&A(P.prototype,E),R&&A(P,R),P}}(),l=i(3),u=S(l),c=i(8),f=S(c),d=i(43),p=S(d),h=i(27),v=S(h),g=i(15),y=i(41),m=S(y);function S(A){return A&&A.__esModule?A:{default:A}}function _(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function O(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function x(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(A){x(P,A);function P(E,R){_(this,P),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=w);var F=O(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E,R));return F.quill.container.classList.add("ql-snow"),F}return s(P,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),m.default),this.tooltip=new I(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,N){R.handlers.link.call(R,!N.format.link)})}}]),P}(p.default);C.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var E=this.quill.getSelection();if(E==null||E.length==0)return;var R=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var F=this.quill.theme.tooltip;F.edit("link",R)}else this.quill.format("link",!1)}}}}});var I=function(A){x(P,A);function P(E,R){_(this,P);var F=O(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E,R));return F.preview=F.root.querySelector("a.ql-preview"),F}return s(P,[{key:"listen",value:function(){var R=this;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(R.linkRange!=null){var N=R.linkRange;R.restoreFocus(),R.quill.formatText(N,"link",!1,f.default.sources.USER),delete R.linkRange}F.preventDefault(),R.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(F,N,V){if(F!=null){if(F.length===0&&V===f.default.sources.USER){var z=R.quill.scroll.descendant(v.default,F.index),J=a(z,2),H=J[0],M=J[1];if(H!=null){R.linkRange=new g.Range(F.index-M,H.length());var L=v.default.formats(H.domNode);R.preview.textContent=L,R.preview.setAttribute("href",L),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(d.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=fe(a),s=i(36),l=i(38),u=i(64),c=i(65),f=fe(c),d=i(66),p=fe(d),h=i(67),v=fe(h),g=i(37),y=i(26),m=i(39),S=i(40),_=i(56),O=fe(_),x=i(68),w=fe(x),C=i(27),I=fe(C),A=i(69),P=fe(A),E=i(70),R=fe(E),F=i(71),N=fe(F),V=i(72),z=fe(V),J=i(73),H=fe(J),M=i(13),L=fe(M),q=i(74),W=fe(q),Q=i(75),K=fe(Q),$=i(57),U=fe($),X=i(41),ee=fe(X),se=i(28),Oe=fe(se),be=i(59),Se=fe(be),_e=i(60),pe=fe(_e),ue=i(61),Le=fe(ue),ie=i(108),le=fe(ie),xe=i(62),Ee=fe(xe);function fe(De){return De&&De.__esModule?De:{default:De}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":S.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":S.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":S.SizeClass,"formats/blockquote":f.default,"formats/code-block":L.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":O.default,"formats/code":M.Code,"formats/italic":w.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":R.default,"formats/underline":N.default,"formats/image":z.default,"formats/video":H.default,"formats/list/item":h.ListItem,"modules/formula":W.default,"modules/syntax":K.default,"modules/toolbar":U.default,"themes/bubble":le.default,"themes/snow":Ee.default,"ui/icons":ee.default,"ui/picker":Oe.default,"ui/icon-picker":pe.default,"ui/color-picker":Se.default,"ui/tooltip":Le.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function v(g,y){for(var m=0;m<y.length;m++){var S=y[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:v(_,y,m)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(m)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){d(g,v);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"add",value:function(m,S){if(S==="+1"||S==="-1"){var _=this.value(m)||0;S=S==="+1"?_+1:_-1}return S===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,S)}},{key:"canAdd",value:function(m,S){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,S)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(S))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(l.default.Attributor.Class),h=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(h,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,v,g){return v&&p(h.prototype,v),g&&p(h,g),h}}(),o=i(4),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:p}function f(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var d=function(p){f(h,p);function h(){return u(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),h}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function _(O,x){for(var w=0;w<x.length;w++){var C=x[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,x,w){return x&&_(O.prototype,x),w&&_(O,w),O}}(),o=function _(O,x,w){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,x);if(C===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:_(I,x,w)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(w)}},s=i(0),l=p(s),u=i(4),c=p(u),f=i(25),d=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function h(_,O,x){return O in _?Object.defineProperty(_,O,{value:x,enumerable:!0,configurable:!0,writable:!0}):_[O]=x,_}function v(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function g(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function y(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var m=function(_){y(O,_);function O(){return v(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"format",value:function(w,C){w===S.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,w,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(w,C){return this.parent.isolate(this.offset(this.parent),this.length()),w===this.parent.statics.blotName?(this.parent.replaceWith(w,C),this):(this.parent.unwrap(),o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,w,C))}}],[{key:"formats",value:function(w){return w.tagName===this.tagName?void 0:o(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,w)}}]),O}(c.default);m.blotName="list-item",m.tagName="LI";var S=function(_){y(O,_),a(O,null,[{key:"create",value:function(w){var C=w==="ordered"?"OL":"UL",I=o(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,C);return(w==="checked"||w==="unchecked")&&I.setAttribute("data-checked",w==="checked"),I}},{key:"formats",value:function(w){if(w.tagName==="OL")return"ordered";if(w.tagName==="UL")return w.hasAttribute("data-checked")?w.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(x){v(this,O);var w=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,x)),C=function(A){if(A.target.parentNode===x){var P=w.statics.formats(x),E=l.default.find(A.target);P==="checked"?E.format("list","unchecked"):P==="unchecked"&&E.format("list","checked")}};return x.addEventListener("touchstart",C),x.addEventListener("mousedown",C),w}return a(O,[{key:"format",value:function(w,C){this.children.length>0&&this.children.tail.format(w,C)}},{key:"formats",value:function(){return h({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(w,C){if(w instanceof m)o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,w,C);else{var I=C==null?this.length():C.offset(this),A=this.split(I);A.parent.insertBefore(w,A)}}},{key:"optimize",value:function(w){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,w);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(w){if(w.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);w.moveChildren(C),this.appendChild(C)}o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,w)}}]),O}(d.default);S.blotName="list",S.scope=l.default.Scope.BLOCK_BLOT,S.tagName=["OL","UL"],S.defaultChild="list-item",S.allowedChildren=[m],n.ListItem=m,n.default=S},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&h(v.prototype,g),y&&h(v,y),v}}(),o=function h(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:h(S,g,y)}else{if("value"in m)return m.value;var _=m.get;return _===void 0?void 0:_.call(y)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function f(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function d(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var p=function(h){d(v,h);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var S=0;S<m.length;S++){var _=m[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,S){return m&&g(y.prototype,m),S&&g(y,S),y}}(),o=function g(y,m,S){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,m);if(_===void 0){var O=Object.getPrototypeOf(y);return O===null?void 0:g(O,m,S)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(S)}},s=i(0),l=c(s),u=i(27);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=["alt","height","width"],v=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(S,_){h.indexOf(S)>-1?_?this.domNode.setAttribute(S,_):this.domNode.removeAttribute(S):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,S,_)}}],[{key:"create",value:function(S){var _=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,S);return typeof S=="string"&&_.setAttribute("src",this.sanitize(S)),_}},{key:"formats",value:function(S){return h.reduce(function(_,O){return S.hasAttribute(O)&&(_[O]=S.getAttribute(O)),_},{})}},{key:"match",value:function(S){return/\.(jpe?g|gif|png)$/.test(S)||/^data:image\/.+;base64/.test(S)}},{key:"sanitize",value:function(S){return(0,u.sanitize)(S,["http","https","data"])?S:"//:0"}},{key:"value",value:function(S){return S.getAttribute("src")}}]),y}(l.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var S=0;S<m.length;S++){var _=m[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,S){return m&&g(y.prototype,m),S&&g(y,S),y}}(),o=function g(y,m,S){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,m);if(_===void 0){var O=Object.getPrototypeOf(y);return O===null?void 0:g(O,m,S)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(S)}},s=i(4),l=i(27),u=c(l);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=["height","width"],v=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(S,_){h.indexOf(S)>-1?_?this.domNode.setAttribute(S,_):this.domNode.removeAttribute(S):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,S,_)}}],[{key:"create",value:function(S){var _=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,S);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(S)),_}},{key:"formats",value:function(S){return h.reduce(function(_,O){return S.hasAttribute(O)&&(_[O]=S.getAttribute(O)),_},{})}},{key:"sanitize",value:function(S){return u.default.sanitize(S)}},{key:"value",value:function(S){return S.getAttribute("src")}}]),y}(s.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function S(_,O){for(var x=0;x<O.length;x++){var w=O[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,O,x){return O&&S(_.prototype,O),x&&S(_,x),_}}(),o=function S(_,O,x){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,O);if(w===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:S(C,O,x)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(x)}},s=i(35),l=p(s),u=i(5),c=p(u),f=i(9),d=p(f);function p(S){return S&&S.__esModule?S:{default:S}}function h(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function v(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function g(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=function(S){g(_,S);function _(){return h(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,null,[{key:"create",value:function(x){var w=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,w,{throwOnError:!1,errorColor:"#f00"}),w.setAttribute("data-value",x)),w}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),_}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(S){g(_,S),a(_,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function _(){h(this,_);var O=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return _}(d.default);n.FormulaBlot=y,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function x(w,C){for(var I=0;I<C.length;I++){var A=C[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,C,I){return C&&x(w.prototype,C),I&&x(w,I),w}}(),o=function x(w,C,I){w===null&&(w=Function.prototype);var A=Object.getOwnPropertyDescriptor(w,C);if(A===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:x(P,C,I)}else{if("value"in A)return A.value;var E=A.get;return E===void 0?void 0:E.call(I)}},s=i(0),l=v(s),u=i(5),c=v(u),f=i(9),d=v(f),p=i(13),h=v(p);function v(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function y(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function m(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var S=function(x){m(w,x);function w(){return g(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),w}(h.default);S.className="ql-syntax";var _=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),O=function(x){m(w,x),a(w,null,[{key:"register",value:function(){c.default.register(_,!0),c.default.register(S,!0)}}]);function w(C,I){g(this,w);var A=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,C,I));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return A.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){A.highlight(),P=null},A.options.interval)}),A.highlight(),A}return a(w,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(S).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),A!=null&&this.quill.setSelection(A,c.default.sources.SILENT)}}}]),w}(d.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(x){var w=window.hljs.highlightAuto(x);return w.value}}(),interval:1e3},n.CodeBlock=S,n.CodeToken=_,n.default=O},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function w(C,I,A){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,I);if(P===void 0){var E=Object.getPrototypeOf(C);return E===null?void 0:w(E,I,A)}else{if("value"in P)return P.value;var R=P.get;return R===void 0?void 0:R.call(A)}},o=function(){function w(C,I){for(var A=0;A<I.length;A++){var P=I[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,I,A){return I&&w(C.prototype,I),A&&w(C,A),C}}(),s=i(3),l=g(s),u=i(8),c=g(u),f=i(43),d=g(f),p=i(15),h=i(41),v=g(h);function g(w){return w&&w.__esModule?w:{default:w}}function y(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function m(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function S(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(w){S(C,w);function C(I,A){y(this,C),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=_);var P=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,A));return P.quill.container.classList.add("ql-bubble"),P}return o(C,[{key:"extendToolbar",value:function(A){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),v.default)}}]),C}(d.default);O.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(w){S(C,w);function C(I,A){y(this,C);var P=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,A));return P.quill.on(c.default.events.EDITOR_CHANGE,function(E,R,F,N){if(E===c.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&N===c.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var V=P.quill.getLines(R.index,R.length);if(V.length===1)P.position(P.quill.getBounds(R));else{var z=V[V.length-1],J=P.quill.getIndex(z),H=Math.min(z.length()-1,R.index+R.length-J),M=P.quill.getBounds(new p.Range(J,H));P.position(M)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return o(C,[{key:"listen",value:function(){var A=this;a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var P=A.quill.getSelection();P!=null&&A.position(A.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var P=a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,A),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",P===0)return P;E.style.marginLeft=-1*P-E.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=x,n.default=O},function(r,n,i){r.exports=i(63)}]).default})})(Cx);var Tx=Cx.exports;const Ua=rn(Tx);var mM=Tn&&Tn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),of=Tn&&Tn.__assign||function(){return of=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},of.apply(this,arguments)},yM=Tn&&Tn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},Gf=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Wi=Gf(ae),bM=Gf(MO),jl=Gf(gM),G0=Gf(Tx),_M=function(t){mM(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,s,l){var u,c,f,d;a==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((d=(f=n).onEditorChangeSelection)===null||d===void 0||d.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(Wi.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Wi.default.Children.count(r.children)){var i=Wi.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),s=(a=r.value,a!=null?a:"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),yM(this.cleanProps,this.dirtyProps).some(function(l){return!jl.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!jl.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),U0(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new G0.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?jl.default(r.ops,n.ops):jl.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),U0(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=bM.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){r.editingArea=l}};return Wi.default.Children.count(i)?Wi.default.cloneElement(Wi.default.Children.only(i),s):a?Wi.default.createElement("pre",of({},s)):Wi.default.createElement("div",of({},s))},e.prototype.render=function(){var r;return Wi.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,s,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&r,p=f&&!r;jl.default(r,f)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),d?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=G0.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Wi.default.Component);function U0(t){Promise.resolve().then(t)}var Uf=_M;const SM=rn(Uf);function Y0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(r),!0).forEach(function(n){fh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Px(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q0(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kx(n.key),n)}}function Ax(t,e,r){return e&&Q0(t.prototype,e),r&&Q0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fh(t,e,r){return e=kx(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sf.apply(this,arguments)}function OM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dh(t,e)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eo(t)}function dh(t,e){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dh(t,e)}function xM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ph(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ph(t)}function EM(t){var e=xM();return function(){var n=eo(t),i;if(e){var a=eo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wM(this,i)}}function CM(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=eo(t),t!==null););return t}function Vs(){return typeof Reflect<"u"&&Reflect.get?Vs=Reflect.get.bind():Vs=function(e,r,n){var i=CM(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Vs.apply(this,arguments)}function TM(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PM(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=TM(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function AM(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kx(t){var e=AM(t,"string");return typeof e=="symbol"?e:String(e)}var ga={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function kM(t,e,r){var n=t;return Object.keys(e).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=e[i]:delete n.dataset[i]}),n}function X0(t,e){e!==null&&(ch(e)==="object"?t.appendChild(e):t.innerText=e)}function IM(t,e,r,n){return e.reduce(function(i,a){var o;if(r&&n){var s=new RegExp("^".concat(a,"|\\s").concat(a),"g"),l=(t.match(s)||[]).pop();if(!l)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};o=l!==a?t.lastIndexOf(l)+l.length-a.length:0}else o=t.lastIndexOf(a);return o>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:o}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function jM(t,e){return e.test(t)}function RM(t,e,r,n){if(t===-1)return!1;if(!r)return!0;var i=t?e[t-1]:n;return!i||!!i.match(/\s/)}var FM=Ua.import("blots/embed"),Yf=function(t){OM(r,t);var e=EM(r);function r(n,i){var a;return Px(this,r),a=e.call(this,n,i),fh(ph(a),"hoverHandler",void 0),fh(ph(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return Ax(r,[{key:"attach",value:function(){Vs(eo(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){Vs(eo(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-clicked",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-hovered",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var o=new Event(i,{bubbles:!0,cancelable:!0});return o.value=sf({},this.domNode.dataset),o.event=a,o}}],[{key:"create",value:function(i){var a=Vs(eo(r),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=i.denotationChar,a.appendChild(o),typeof this.render=="function"?a.appendChild(this.render(i)):a.innerText+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var o=i;return Object.keys(a).forEach(function(s){o.dataset[s]=a[s]}),o}},{key:"value",value:function(i){return i.dataset}}]),r}(FM);Yf.blotName="mention";Yf.tagName="span";Yf.className="mention";Ua.register("blots/mention",Yf);var Ix=function(){function t(e,r){var n=this;Px(this,t),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=e,this.options={source:null,renderItem:function(u){var c=u.value;return"".concat(c)},renderLoading:function(){return null},onSelect:function(u,c){c(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[ga.ENTER]},sf(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",e.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),e.on("text-change",this.onTextChange.bind(this)),e.on("selection-change",this.onSelectionChange.bind(this)),e.container.addEventListener("paste",function(){setTimeout(function(){var l=e.getSelection();n.onSelectionChange(l)})}),e.keyboard.addBinding({key:ga.TAB},this.selectHandler.bind(this)),e.keyboard.bindings[ga.TAB].unshift(e.keyboard.bindings[ga.TAB].pop());var a=PM(this.options.selectKeys),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;e.keyboard.addBinding({key:s},this.selectHandler.bind(this))}}catch(l){a.e(l)}finally{a.f()}e.keyboard.bindings[ga.ENTER].unshift(e.keyboard.bindings[ga.ENTER].pop()),e.keyboard.addBinding({key:ga.ESCAPE},this.escapeHandler.bind(this)),e.keyboard.addBinding({key:ga.UP},this.upHandler.bind(this)),e.keyboard.addBinding({key:ga.DOWN},this.downHandler.bind(this))}return Ax(t,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.mentionList.childNodes[this.itemIndex].dataset;n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var o=K0(K0({},this.options),i);o.showDenotationChar||(a.denotationChar="");var s;n?s=this.cursorPos:(s=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Ua.sources.USER));var l=this.quill.insertEmbed(s,o.blotName,a,Ua.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(s+1," ",Ua.sources.USER),this.quill.setSelection(s+2,Ua.sources.USER)):this.quill.setSelection(s+1,Ua.sources.USER),this.hideMentionList(),l}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",X0(n,this.options.renderLoading()),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerText="";for(var a=-1,o=0;o<n.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",n[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):a===-1&&(a=o),s.dataset.index=o;var l=this.options.renderItem(n[o],i);X0(s,l),n[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=r,this.mentionList.appendChild(kM(s,n[o],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=0;this.mentionContainer.style.right="".concat(l,"px")}else s+=i.left;if(this.containerRightIsNotVisible(s,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,c=n.width;s=c-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(a+this.options.offsetTop):o=i.top-(a+this.options.offsetTop),o+n.top<=0){var f=this.options.offsetTop;this.options.fixMentionsToQuill?f+=n.height:f+=i.bottom,o=f}}else if(this.options.fixMentionsToQuill?o+=n.height:o+=i.bottom,this.containerBottomIsNotVisible(o,n)){var d=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(d+=i.top),o=d-a}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},o=this.options.fixMentionsToQuill?n:a,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=o.right;this.mentionContainer.style.right="".concat(u,"px")}else l+=o.left,l+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(l-=l+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var c=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,p=this.mentionContainer.offsetHeight<=c,h;this.options.defaultMenuOrientation==="top"&&p?h="top":this.options.defaultMenuOrientation==="bottom"&&d?h="bottom":h=f>c?"bottom":"top",h==="bottom"?(s=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(v){r.mentionContainer.classList.add("".concat(v,"-bottom")),r.mentionContainer.classList.remove("".concat(v,"-top"))})):(s=o.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=c-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach(function(v){r.mentionContainer.classList.add("".concat(v,"-top")),r.mentionContainer.classList.remove("".concat(v,"-bottom"))})),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),o=a?this.quill.getText(a-1,a):"",s=IM(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),l=s.mentionChar,u=s.mentionCharIndex;if(RM(u,i,this.options.isolateCharacter,o)){var c=this.cursorPos-(i.length-u);this.mentionCharPos=c;var f=i.substring(u+l.length);if(f.length>=this.options.minChars&&jM(f,this.getAllowedCharsRegex(l))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var d={abandoned:!1};this.existingSourceExecutionToken=d,this.options.source(f,function(p,h){d.abandoned||(r.existingSourceExecutionToken=null,r.renderList(l,p,h))},l)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),t}();Ua.register("modules/mention",Ix);var ta=-1,Zi=1,Sn=0;function tu(t,e,r){if(t==e)return t?[[Sn,t]]:[];(r<0||t.length<r)&&(r=null);var n=kv(t,e),i=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=Iv(t,e);var a=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var o=LM(t,e);return i&&o.unshift([Sn,i]),a&&o.push([Sn,a]),jx(o),r!=null&&(o=VM(o,r)),o=BM(o),o}function LM(t,e){var r;if(!t)return[[Zi,e]];if(!e)return[[ta,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,a=n.indexOf(i);if(a!=-1)return r=[[Zi,n.substring(0,a)],[Sn,i],[Zi,n.substring(a+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=ta),r;if(i.length==1)return[[ta,t],[Zi,e]];var o=NM(t,e);if(o){var s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=tu(s,u),p=tu(l,c);return d.concat([[Sn,f]],p)}return $M(t,e)}function $M(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),a=i,o=2*i,s=new Array(o),l=new Array(o),u=0;u<o;u++)s[u]=-1,l[u]=-1;s[a+1]=0,l[a+1]=0;for(var c=r-n,f=c%2!=0,d=0,p=0,h=0,v=0,g=0;g<i;g++){for(var y=-g+d;y<=g-p;y+=2){var m=a+y,S;y==-g||y!=g&&s[m-1]<s[m+1]?S=s[m+1]:S=s[m-1]+1;for(var _=S-y;S<r&&_<n&&t.charAt(S)==e.charAt(_);)S++,_++;if(s[m]=S,S>r)p+=2;else if(_>n)d+=2;else if(f){var O=a+c-y;if(O>=0&&O<o&&l[O]!=-1){var x=r-l[O];if(S>=x)return Z0(t,e,S,_)}}}for(var w=-g+h;w<=g-v;w+=2){var O=a+w,x;w==-g||w!=g&&l[O-1]<l[O+1]?x=l[O+1]:x=l[O-1]+1;for(var C=x-w;x<r&&C<n&&t.charAt(r-x-1)==e.charAt(n-C-1);)x++,C++;if(l[O]=x,x>r)v+=2;else if(C>n)h+=2;else if(!f){var m=a+c-w;if(m>=0&&m<o&&s[m]!=-1){var S=s[m],_=a+S-m;if(x=r-x,S>=x)return Z0(t,e,S,_)}}}}return[[ta,t],[Zi,e]]}function Z0(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),o=t.substring(r),s=e.substring(n),l=tu(i,a),u=tu(o,s);return l.concat(u)}function kv(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function Iv(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function NM(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,h,v){for(var g=p.substring(v,v+Math.floor(p.length/4)),y=-1,m="",S,_,O,x;(y=h.indexOf(g,y+1))!=-1;){var w=kv(p.substring(v),h.substring(y)),C=Iv(p.substring(0,v),h.substring(0,y));m.length<C+w&&(m=h.substring(y-C,y)+h.substring(y,y+w),S=p.substring(0,v-C),_=p.substring(v+w),O=h.substring(0,y-C),x=h.substring(y+w))}return m.length*2>=p.length?[S,_,O,x,m]:null}var a=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var l,u,c,f;t.length>e.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var d=s[4];return[l,u,c,f,d]}function jx(t){t.push([Sn,""]);for(var e=0,r=0,n=0,i="",a="",o;e<t.length;)switch(t[e][0]){case Zi:n++,a+=t[e][1],e++;break;case ta:r++,i+=t[e][1],e++;break;case Sn:r+n>1?(r!==0&&n!==0&&(o=kv(a,i),o!==0&&(e-r-n>0&&t[e-r-n-1][0]==Sn?t[e-r-n-1][1]+=a.substring(0,o):(t.splice(0,0,[Sn,a.substring(0,o)]),e++),a=a.substring(o),i=i.substring(o)),o=Iv(a,i),o!==0&&(t[e][1]=a.substring(a.length-o)+t[e][1],a=a.substring(0,a.length-o),i=i.substring(0,i.length-o))),r===0?t.splice(e-n,r+n,[Zi,a]):n===0?t.splice(e-r,r+n,[ta,i]):t.splice(e-r-n,r+n,[ta,i],[Zi,a]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==Sn?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(e=1;e<t.length-1;)t[e-1][0]==Sn&&t[e+1][0]==Sn&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&jx(t)}var Kf=tu;Kf.INSERT=Zi;Kf.DELETE=ta;Kf.EQUAL=Sn;var DM=Kf;function MM(t,e){if(e===0)return[Sn,t];for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i[0]===ta||i[0]===Sn){var a=r+i[1].length;if(e===a)return[n+1,t];if(e<a){t=t.slice();var o=e-r,s=[i[0],i[1].slice(0,o)],l=[i[0],i[1].slice(o)];return t.splice(n,1,s,l),[n+1,t]}else r=a}}throw new Error("cursor_pos is out of bounds!")}function VM(t,e){var r=MM(t,e),n=r[1],i=r[0],a=n[i],o=n[i+1];if(a==null)return t;if(a[0]!==Sn)return t;if(o!=null&&a[1]+o[1]===o[1]+a[1])return n.splice(i,2,o,a),eb(n,i,2);if(o!=null&&o[1].indexOf(a[1])===0){n.splice(i,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(i+2,0,[o[0],s]),eb(n,i,3)}else return t}function BM(t){for(var e=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},n=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},i=2;i<t.length;i+=1)t[i-2][0]===Sn&&n(t[i-2][1])&&t[i-1][0]===ta&&r(t[i-1][1])&&t[i][0]===Zi&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;for(var a=[],i=0;i<t.length;i+=1)t[i][1].length>0&&a.push(t[i]);return a}function eb(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var i=t[n],a=t[n+1];i[0]===a[1]&&t.splice(n,2,[i[0],i[1]+a[1]])}return t}var tb=Object.prototype.toString,Rx=function(e){var r=tb.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&tb.call(e.callee)==="[object Function]"),n},mp,rb;function qM(){if(rb)return mp;rb=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Rx,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch(p){return!1}};t=function(p){var h=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",g=n(p),y=h&&r.call(p)==="[object String]",m=[];if(!h&&!v&&!g)throw new TypeError("Object.keys called on a non-object");var S=o&&v;if(y&&p.length>0&&!e.call(p,0))for(var _=0;_<p.length;++_)m.push(String(_));if(g&&p.length>0)for(var O=0;O<p.length;++O)m.push(String(O));else for(var x in p)!(S&&x==="prototype")&&e.call(p,x)&&m.push(String(x));if(a)for(var w=f(p),C=0;C<s.length;++C)!(w&&s[C]==="constructor")&&e.call(p,s[C])&&m.push(s[C]);return m}}return mp=t,mp}var HM=Array.prototype.slice,zM=Rx,nb=Object.keys,Bc=nb?function(e){return nb(e)}:qM(),ib=Object.keys;Bc.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return zM(n)?ib(HM.call(n)):ib(n)})}else Object.keys=Bc;return Object.keys||Bc};var Fx=Bc,Lx=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},WM=Lx,jv=function(){return WM()&&!!Symbol.toStringTag},ab=typeof Symbol<"u"&&Symbol,GM=Lx,UM=function(){return typeof ab!="function"||typeof Symbol!="function"||typeof ab("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:GM()},ob={foo:{}},YM=Object,KM=function(){return{__proto__:ob}.foo===ob.foo&&!({__proto__:null}instanceof YM)},QM="Function.prototype.bind called on incompatible ",yp=Array.prototype.slice,JM=Object.prototype.toString,XM="[object Function]",ZM=function(e){var r=this;if(typeof r!="function"||JM.call(r)!==XM)throw new TypeError(QM+r);for(var n=yp.call(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,n.concat(yp.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(yp.call(arguments)))},o=Math.max(0,r.length-n.length),s=[],l=0;l<o;l++)s.push("$"+l);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},e5=ZM,Rv=Function.prototype.bind||e5,t5=Rv,r5=t5.call(Function.call,Object.prototype.hasOwnProperty),Dt,Us=SyntaxError,$x=Function,Bs=TypeError,bp=function(t){try{return $x('"use strict"; return ('+t+").constructor;")()}catch(e){}},Ao=Object.getOwnPropertyDescriptor;if(Ao)try{Ao({},"")}catch(t){Ao=null}var _p=function(){throw new Bs},n5=Ao?function(){try{return arguments.callee,_p}catch(t){try{return Ao(arguments,"callee").get}catch(e){return _p}}}():_p,cs=UM(),i5=KM(),hn=Object.getPrototypeOf||(i5?function(t){return t.__proto__}:null),gs={},a5=typeof Uint8Array>"u"||!hn?Dt:hn(Uint8Array),ko={"%AggregateError%":typeof AggregateError>"u"?Dt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Dt:ArrayBuffer,"%ArrayIteratorPrototype%":cs&&hn?hn([][Symbol.iterator]()):Dt,"%AsyncFromSyncIteratorPrototype%":Dt,"%AsyncFunction%":gs,"%AsyncGenerator%":gs,"%AsyncGeneratorFunction%":gs,"%AsyncIteratorPrototype%":gs,"%Atomics%":typeof Atomics>"u"?Dt:Atomics,"%BigInt%":typeof BigInt>"u"?Dt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Dt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Dt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Dt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Dt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Dt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Dt:FinalizationRegistry,"%Function%":$x,"%GeneratorFunction%":gs,"%Int8Array%":typeof Int8Array>"u"?Dt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Dt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Dt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":cs&&hn?hn(hn([][Symbol.iterator]())):Dt,"%JSON%":typeof JSON=="object"?JSON:Dt,"%Map%":typeof Map>"u"?Dt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!cs||!hn?Dt:hn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Dt:Promise,"%Proxy%":typeof Proxy>"u"?Dt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Dt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Dt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!cs||!hn?Dt:hn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Dt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":cs&&hn?hn(""[Symbol.iterator]()):Dt,"%Symbol%":cs?Symbol:Dt,"%SyntaxError%":Us,"%ThrowTypeError%":n5,"%TypedArray%":a5,"%TypeError%":Bs,"%Uint8Array%":typeof Uint8Array>"u"?Dt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Dt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Dt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Dt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Dt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Dt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Dt:WeakSet};if(hn)try{null.error}catch(t){var o5=hn(hn(t));ko["%Error.prototype%"]=o5}var s5=function t(e){var r;if(e==="%AsyncFunction%")r=bp("async function () {}");else if(e==="%GeneratorFunction%")r=bp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&hn&&(r=hn(i.prototype))}return ko[e]=r,r},sb={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yu=Rv,lf=r5,l5=yu.call(Function.call,Array.prototype.concat),u5=yu.call(Function.apply,Array.prototype.splice),lb=yu.call(Function.call,String.prototype.replace),uf=yu.call(Function.call,String.prototype.slice),c5=yu.call(Function.call,RegExp.prototype.exec),f5=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d5=/\\(\\)?/g,p5=function(e){var r=uf(e,0,1),n=uf(e,-1);if(r==="%"&&n!=="%")throw new Us("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Us("invalid intrinsic syntax, expected opening `%`");var i=[];return lb(e,f5,function(a,o,s,l){i[i.length]=s?lb(l,d5,"$1"):o||a}),i},h5=function(e,r){var n=e,i;if(lf(sb,n)&&(i=sb[n],n="%"+i[0]+"%"),lf(ko,n)){var a=ko[n];if(a===gs&&(a=s5(n)),typeof a>"u"&&!r)throw new Bs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Us("intrinsic "+e+" does not exist!")},Fv=function(e,r){if(typeof e!="string"||e.length===0)throw new Bs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Bs('"allowMissing" argument must be a boolean');if(c5(/^%?[^%]*%?$/,e)===null)throw new Us("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=p5(e),i=n.length>0?n[0]:"",a=h5("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],u5(n,l5([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var d=n[c],p=uf(d,0,1),h=uf(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new Us("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,o="%"+i+"%",lf(ko,o))s=ko[o];else if(s!=null){if(!(d in s)){if(!r)throw new Bs("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ao&&c+1>=n.length){var v=Ao(s,d);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[d]}else f=lf(s,d),s=s[d];f&&!l&&(ko[o]=s)}}return s},Nx={exports:{}};(function(t){var e=Rv,r=Fv,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch(c){s=null}t.exports=function(f){var d=a(e,i,arguments);if(o&&s){var p=o(d,"length");p.configurable&&s(d,"length",{value:1+l(0,f.length-(arguments.length-1))})}return d};var u=function(){return a(e,n,arguments)};s?s(t.exports,"apply",{value:u}):t.exports.apply=u})(Nx);var Lv=Nx.exports,Dx=Fv,Mx=Lv,v5=Mx(Dx("String.prototype.indexOf")),Vx=function(e,r){var n=Dx(e,!!r);return typeof n=="function"&&v5(e,".prototype.")>-1?Mx(n):n},g5=jv(),m5=Vx,hh=m5("Object.prototype.toString"),Qf=function(e){return g5&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:hh(e)==="[object Arguments]"},Bx=function(e){return Qf(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&hh(e)!=="[object Array]"&&hh(e.callee)==="[object Function]"},y5=function(){return Qf(arguments)}();Qf.isLegacyArguments=Bx;var b5=y5?Qf:Bx,_5=Fv,vh=_5("%Object.defineProperty%",!0),gh=function(){if(vh)try{return vh({},"a",{value:1}),!0}catch(e){return!1}return!1};gh.hasArrayLengthDefineBug=function(){if(!gh())return null;try{return vh([],"length",{value:1}).length!==1}catch(e){return!0}};var S5=gh,O5=Fx,x5=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",w5=Object.prototype.toString,E5=Array.prototype.concat,qx=Object.defineProperty,C5=function(t){return typeof t=="function"&&w5.call(t)==="[object Function]"},T5=S5(),Hx=qx&&T5,P5=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!C5(n)||!n())return}Hx?qx(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},zx=function(t,e){var r=arguments.length>2?arguments[2]:{},n=O5(e);x5&&(n=E5.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)P5(t,n[i],e[n[i]],r[n[i]])};zx.supportsDescriptors=!!Hx;var bu=zx,ub=function(t){return t!==t},Wx=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||ub(e)&&ub(r))},A5=Wx,Gx=function(){return typeof Object.is=="function"?Object.is:A5},k5=Gx,I5=bu,j5=function(){var e=k5();return I5(Object,{is:e},{is:function(){return Object.is!==e}}),e},R5=bu,F5=Lv,L5=Wx,Ux=Gx,$5=j5,Yx=F5(Ux(),Object);R5(Yx,{getPolyfill:Ux,implementation:L5,shim:$5});var N5=Yx,mh=Vx,Kx=jv(),Qx,Jx,yh,bh;if(Kx){Qx=mh("Object.prototype.hasOwnProperty"),Jx=mh("RegExp.prototype.exec"),yh={};var Sp=function(){throw yh};bh={toString:Sp,valueOf:Sp},typeof Symbol.toPrimitive=="symbol"&&(bh[Symbol.toPrimitive]=Sp)}var D5=mh("Object.prototype.toString"),M5=Object.getOwnPropertyDescriptor,V5="[object RegExp]",B5=Kx?function(e){if(!e||typeof e!="object")return!1;var r=M5(e,"lastIndex"),n=r&&Qx(r,"value");if(!n)return!1;try{Jx(e,bh)}catch(i){return i===yh}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:D5(e)===V5},Xx={exports:{}},ru=function(){return typeof(function(){}).name=="string"},Ul=Object.getOwnPropertyDescriptor;if(Ul)try{Ul([],"length")}catch(t){Ul=null}ru.functionsHaveConfigurableNames=function(){if(!ru()||!Ul)return!1;var e=Ul(function(){},"name");return!!e&&!!e.configurable};var q5=Function.prototype.bind;ru.boundFunctionsHaveNames=function(){return ru()&&typeof q5=="function"&&(function(){}).bind().name!==""};var H5=ru;(function(t){var e=H5.functionsHaveConfigurableNames(),r=Object,n=TypeError;t.exports=function(){if(this!=null&&this!==r(this))throw new n("RegExp.prototype.flags getter called on non-object");var a="";return this.hasIndices&&(a+="d"),this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.dotAll&&(a+="s"),this.unicode&&(a+="u"),this.unicodeSets&&(a+="v"),this.sticky&&(a+="y"),a},e&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})})(Xx);var Zx=Xx.exports,z5=Zx,W5=bu.supportsDescriptors,G5=Object.getOwnPropertyDescriptor,ew=function(){if(W5&&/a/mig.flags==="gim"){var e=G5(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return z5},U5=bu.supportsDescriptors,Y5=ew,K5=Object.getOwnPropertyDescriptor,Q5=Object.defineProperty,J5=TypeError,cb=Object.getPrototypeOf,X5=/a/,Z5=function(){if(!U5||!cb)throw new J5("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=Y5(),r=cb(X5),n=K5(r,"flags");return(!n||n.get!==e)&&Q5(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},e3=bu,t3=Lv,r3=Zx,tw=ew,n3=Z5,rw=t3(tw());e3(rw,{getPolyfill:tw,implementation:r3,shim:n3});var i3=rw,a3=Date.prototype.getDay,o3=function(e){try{return a3.call(e),!0}catch(r){return!1}},s3=Object.prototype.toString,l3="[object Date]",u3=jv(),c3=function(e){return typeof e!="object"||e===null?!1:u3?o3(e):s3.call(e)===l3},fb=Fx,db=b5,pb=N5,hb=B5,vb=i3,gb=c3,mb=Date.prototype.getTime;function nw(t,e,r){var n=r||{};return(n.strict?pb(t,e):t===e)?!0:!t||!e||typeof t!="object"&&typeof e!="object"?n.strict?pb(t,e):t==e:f3(t,e,n)}function yb(t){return t==null}function bb(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function f3(t,e,r){var n,i;if(typeof t!=typeof e||yb(t)||yb(e)||t.prototype!==e.prototype||db(t)!==db(e))return!1;var a=hb(t),o=hb(e);if(a!==o)return!1;if(a||o)return t.source===e.source&&vb(t)===vb(e);if(gb(t)&&gb(e))return mb.call(t)===mb.call(e);var s=bb(t),l=bb(e);if(s!==l)return!1;if(s||l){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(typeof t!=typeof e)return!1;try{var u=fb(t),c=fb(e)}catch(f){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!nw(t[i],e[i],r))return!1;return!0}var iw=nw,qc=Object.prototype.hasOwnProperty,aw=Object.prototype.toString,_b=Object.defineProperty,Sb=Object.getOwnPropertyDescriptor,Ob=function(e){return typeof Array.isArray=="function"?Array.isArray(e):aw.call(e)==="[object Array]"},xb=function(e){if(!e||aw.call(e)!=="[object Object]")return!1;var r=qc.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&qc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||qc.call(e,i)},wb=function(e,r){_b&&r.name==="__proto__"?_b(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},Eb=function(e,r){if(r==="__proto__")if(qc.call(e,r)){if(Sb)return Sb(e,r).value}else return;return e[r]},ow=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=Eb(s,r),i=Eb(e,r),s!==i&&(c&&i&&(xb(i)||(a=Ob(i)))?(a?(a=!1,o=n&&Ob(n)?n:[]):o=n&&xb(n)?n:{},wb(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&wb(s,{name:r,newValue:i}));return s},d3=iw,p3=ow,$v={attributes:{compose:function(t,e,r){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var n=p3(!0,{},e);r||(n=Object.keys(n).reduce(function(a,o){return n[o]!=null&&(a[o]=n[o]),a},{}));for(var i in t)t[i]!==void 0&&e[i]===void 0&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return d3(t[i],e[i])||(n[i]=e[i]===void 0?null:e[i]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(typeof t!="object")return e;if(typeof e=="object"){if(!r)return e;var n=Object.keys(e).reduce(function(i,a){return t[a]===void 0&&(i[a]=e[a]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new Wo(t)},length:function(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.insert=="string"?t.insert.length:1}};function Wo(t){this.ops=t,this.index=0,this.offset=0}Wo.prototype.hasNext=function(){return this.peekLength()<1/0};Wo.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=$v.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}else return{retain:1/0}};Wo.prototype.peek=function(){return this.ops[this.index]};Wo.prototype.peekLength=function(){return this.ops[this.index]?$v.length(this.ops[this.index])-this.offset:1/0};Wo.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};Wo.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}else return[]};var h3=$v,yc=DM,Nv=iw,v3=ow,On=h3,g3="\0",ar=function(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};ar.prototype.insert=function(t,e){var r={};return t.length===0?this:(r.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))};ar.prototype.delete=function(t){return t<=0?this:this.push({delete:t})};ar.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)};ar.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=v3(!0,{},t),typeof r=="object"){if(typeof t.delete=="number"&&typeof r.delete=="number")return this.ops[e-1]={delete:r.delete+t.delete},this;if(typeof r.delete=="number"&&t.insert!=null&&(e-=1,r=this.ops[e-1],typeof r!="object"))return this.ops.unshift(t),this;if(Nv(t.attributes,r.attributes)){if(typeof t.insert=="string"&&typeof r.insert=="string")return this.ops[e-1]={insert:r.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof r.retain=="number")return this.ops[e-1]={retain:r.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this};ar.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this};ar.prototype.filter=function(t){return this.ops.filter(t)};ar.prototype.forEach=function(t){this.ops.forEach(t)};ar.prototype.map=function(t){return this.ops.map(t)};ar.prototype.partition=function(t){var e=[],r=[];return this.forEach(function(n){var i=t(n)?e:r;i.push(n)}),[e,r]};ar.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};ar.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+On.length(e):e.delete?t-e.delete:t},0)};ar.prototype.length=function(){return this.reduce(function(t,e){return t+On.length(e)},0)};ar.prototype.slice=function(t,e){t=t||0,typeof e!="number"&&(e=1/0);for(var r=[],n=On.iterator(this.ops),i=0;i<e&&n.hasNext();){var a;i<t?a=n.next(t-i):(a=n.next(e-i),r.push(a)),i+=On.length(a)}return new ar(r)};ar.prototype.compose=function(t){var e=On.iterator(this.ops),r=On.iterator(t.ops),n=[],i=r.peek();if(i!=null&&typeof i.retain=="number"&&i.attributes==null){for(var a=i.retain;e.peekType()==="insert"&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());i.retain-a>0&&r.next(i.retain-a)}for(var o=new ar(n);e.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(e.peekType()==="delete")o.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),u=r.next(s);if(typeof u.retain=="number"){var c={};typeof l.retain=="number"?c.retain=s:c.insert=l.insert;var f=On.attributes.compose(l.attributes,u.attributes,typeof l.retain=="number");if(f&&(c.attributes=f),o.push(c),!r.hasNext()&&Nv(o.ops[o.ops.length-1],c)){var d=new ar(e.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&typeof l.retain=="number"&&o.push(u)}return o.chop()};ar.prototype.concat=function(t){var e=new ar(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e};ar.prototype.diff=function(t,e){if(this.ops===t.ops)return new ar;var r=[this,t].map(function(s){return s.map(function(l){if(l.insert!=null)return typeof l.insert=="string"?l.insert:g3;var u=s===t?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),n=new ar,i=yc(r[0],r[1],e),a=On.iterator(this.ops),o=On.iterator(t.ops);return i.forEach(function(s){for(var l=s[1].length;l>0;){var u=0;switch(s[0]){case yc.INSERT:u=Math.min(o.peekLength(),l),n.push(o.next(u));break;case yc.DELETE:u=Math.min(l,a.peekLength()),a.next(u),n.delete(u);break;case yc.EQUAL:u=Math.min(a.peekLength(),o.peekLength(),l);var c=a.next(u),f=o.next(u);Nv(c.insert,f.insert)?n.retain(u,On.attributes.diff(c.attributes,f.attributes)):n.push(f).delete(u);break}l-=u}}),n.chop()};ar.prototype.eachLine=function(t,e){e=e||"\n";for(var r=On.iterator(this.ops),n=new ar,i=0;r.hasNext();){if(r.peekType()!=="insert")return;var a=r.peek(),o=On.length(a)-r.peekLength(),s=typeof a.insert=="string"?a.insert.indexOf(e,o)-o:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(t(n,r.next(1).attributes||{},i)===!1)return;i+=1,n=new ar}}n.length()>0&&t(n,{},i)};ar.prototype.transform=function(t,e){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);for(var r=On.iterator(this.ops),n=On.iterator(t.ops),i=new ar;r.hasNext()||n.hasNext();)if(r.peekType()==="insert"&&(e||n.peekType()!=="insert"))i.retain(On.length(r.next()));else if(n.peekType()==="insert")i.push(n.next());else{var a=Math.min(r.peekLength(),n.peekLength()),o=r.next(a),s=n.next(a);if(o.delete)continue;s.delete?i.push(s):i.retain(a,On.attributes.transform(o.attributes,s.attributes,e))}return i.chop()};ar.prototype.transformPosition=function(t,e){e=!!e;for(var r=On.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var i=r.peekLength(),a=r.peekType();if(r.next(),a==="delete"){t-=Math.min(i,t-n);continue}else a==="insert"&&(n<t||!e)&&(t+=i);n+=i}return t};var m3=ar;const y3=rn(m3),b3=Uf.Quill.import("modules/clipboard");class _3 extends b3{onPaste(e){e.preventDefault();const r=this.quill.getSelection(),n=e.clipboardData.getData("text/plain");n.split("\r\n").filter(function(s){return s});const i=new y3().retain(r.index).delete(r.length).insert(n),a=n.length+r.index,o=0;this.quill.updateContents(i,"silent"),this.quill.setSelection(a,o,"silent")}}const sw=(t,e)=>{let r=[];if(!t)return r;let n=t.find(i=>i.code===e);return n&&(n.parent&&lw(t,n).forEach(a=>{r=r.concat(Cb(t,a))}),(Fi(n.code)||Vo(n.code))&&(r=r.concat(Cb(t,n)))),r},lw=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(lw(t,n))),r},Cb=(t,e)=>{let r=[];return!Fi(e.code)&&!Vo(e.code)||t.filter(i=>i.parent===e.parent&&i.maxIndex<e.minIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(i.code)===-1)).forEach(i=>{r=r.concat(i.code),r=r.concat(uw(t,i))}),r},uw=(t,e)=>{let r=[];return Fi(e.code)&&e.children&&e.children.forEach(n=>{let i=t.find(a=>a.code===n);r=r.concat(i.code),r=r.concat(uw(t,i))}),r},S3=(t,e,r,n)=>{let i=sw(t,e),a=[];return i.forEach(o=>{if(Vo(o)){const s=O3(o,r[o],r,n);s.length&&(a=a.concat(s))}}),a},O3=(t,e,r,n)=>{var s,l;const i=t+". "+wi((l=(s=e.content)==null?void 0:s.label)==null?void 0:l[n]);let a="",o=e.type;switch(e.type){case"scq_icon_array":case"scq_array":return e.children.filter(u=>u.type=="row").map(u=>{var c,f;return{value:i+" - "+t+". "+wi((f=(c=r[u.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n]),id:t+u.code,type:"SCQ Array Row",instruction:t+u.code+".masked_value"}});case"text":o="Short Text",a="".concat(t,".value");break;case"nps":o="NPS",a="".concat(t,".value");break;case"email":o="Email",a="".concat(t,".value");break;case"paragraph":a="".concat(t,".value"),o="Long Text";break;case"number":o="Number",a="".concat(t,".value");break;case"date":o="Date",a="".concat(t,".masked_value");break;case"time":o="time",a="".concat(t,".masked_value");break;case"date_time":o="Date Time",a="".concat(t,".masked_value");break;case"scq":o="SCQ",a="".concat(t,".masked_value");break;case"icon_scq":o="Icon SCQ",a="".concat(t,".masked_value");break;case"image_scq":o="Image SCQ",a="".concat(t,".masked_value");break;case"mcq":o="MCQ",a="".concat(t,".masked_value");break;case"image_mcq":o="Image MCQ",a="".concat(t,".masked_value");break;case"icon_mcq":o="Icon MCQ",a="".concat(t,".masked_value");break;default:return[]}return[{id:t,instruction:a,value:i,type:o}]};Uf.Quill.register("modules/mentions",Ix);Uf.Quill.register("modules/clipboard",_3,!0);function x3({value:t,onBlurListener:e,extended:r,isRtl:n,lang:i,code:a}){console.log("DraftEditor for: "+a);const o=(_,O)=>O?"<p>"+_.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":_,s=j.createRef(),[l,u]=ae.useState(o(t,!r)),[c,f]=ae.useState(0);async function d(_){const O=zk.getState().designState,x=S3(O.componentIndex,a,O,O.langInfo.mainLang);if(_.length===0)return x;{const C=[];for(var w=0;w<x.length;w++)x[w].value.toLowerCase().indexOf(_.toLowerCase())>=0&&C.push(x[w]);return C}}ae.useEffect(()=>{const _=s.current.getEditor();_.setSelection(_.getLength(),0)},[s.current]);const p=ae.useMemo(()=>({mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(_,O){O({..._,value:"{{".concat(_.id,":").concat(_.type,"}}")})},source:async function(_,O){const x=await d(_);O(x)}},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}}),[]),h=["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"];let v=null;const g=()=>{f(Date.now()),v&&clearTimeout(v)},y=()=>{v=setTimeout(()=>{e(l,i)},500)},m=_=>{g(),u(o(_,!r))},S=_=>{_.target.tagName==="A"&&_.target.className=="ql-preview"&&(_.preventDefault(),window.open(_.target.href,"_blank"))};return k.jsx("div",{onClick:S,className:"quill-wrapper",onFocus:g,onBlur:y,children:k.jsx(SM,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:s,modules:p,formats:h,value:l,onChange:m})})}const w3=j.memo(x3);function E3({placeholder:t,extended:e,contentKey:r,code:n}){const i=Vt(),a=Te(_=>{var O;return(O=_.designState[n].content)==null?void 0:O[r]}),o=Te(_=>{var O;return((O=_.designState.globalSetup)==null?void 0:O.reorder_setup)==="collapse_none"}),s=Te(_=>_.designState.langInfo),l=Te(_=>{var O;return n[0]=="G"?((O=_.designState[n].groupType)==null?void 0:O.toLowerCase())||"group":_.designState[n].type}),u=s.lang,c=s.mainLang,f=s.onMainLang,d=()=>{f&&i(Nn({code:n,rules:Qi(l)}))},p=(a==null?void 0:a[u])||"",h=f?t:t0(a==null?void 0:a[c])?a==null?void 0:a[c]:t,[v,g]=ae.useState(!1),y=ae.useCallback((_,O)=>{g(!1),u==O&&_!=p&&i(so({code:n,key:r,lang:u,value:_}))},[p]),m=_=>{_.preventDefault(),g(!0),d()},S=no.includes(u);return k.jsx(_t,{className:pp.fullWidth,onClick:_=>{o&&m(_)},children:v?k.jsx(w3,{lang:u,isRtl:S,code:n,extended:e,onBlurListener:y,value:p}):t0(p)?k.jsx("div",{className:"".concat(S?"rtl":"ltr"," ql-editor ").concat(pp.noPadding),dangerouslySetInnerHTML:{__html:p}}):k.jsx("div",{className:"".concat(S?"rtl":"ltr"," ql-editor ").concat(pp.placeholder),dangerouslySetInnerHTML:{__html:h}})})}const cf=j.memo(E3),C3="_actionControl_1xa5v_1",T3="_statusIcon_1xa5v_8",P3="_questionContainer_1xa5v_12",A3="_actionIcon_1xa5v_16",k3="_settingIcon_1xa5v_17",I3="_deleteIcon_1xa5v_25",fs={actionControl:C3,statusIcon:T3,questionContainer:P3,actionIcon:A3,settingIcon:k3,deleteIcon:I3};var Dv={},j3=zr;Object.defineProperty(Dv,"__esModule",{value:!0});var cw=Dv.default=void 0,R3=j3(Wr()),F3=k,L3=(0,R3.default)((0,F3.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");cw=Dv.default=L3;var Mv={},$3=zr;Object.defineProperty(Mv,"__esModule",{value:!0});var fw=Mv.default=void 0,N3=$3(Wr()),D3=k,M3=(0,N3.default)((0,D3.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified");fw=Mv.default=M3;var Vv={},V3=zr;Object.defineProperty(Vv,"__esModule",{value:!0});var Bv=Vv.default=void 0,B3=V3(Wr()),q3=k,H3=(0,B3.default)((0,q3.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");Bv=Vv.default=H3;var qv={},z3=zr;Object.defineProperty(qv,"__esModule",{value:!0});var ff=qv.default=void 0,W3=z3(Wr()),G3=k,U3=(0,W3.default)((0,G3.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"}),"LowPriority");ff=qv.default=U3;var Hv={},Y3=zr;Object.defineProperty(Hv,"__esModule",{value:!0});var dw=Hv.default=void 0,K3=Y3(Wr()),Q3=k,J3=(0,K3.default)((0,Q3.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5zm19 0V4h-9v7h9zm-2-2h-5V6h5v3zm-7 4h9v7h-9z"}),"MoveDown");dw=Hv.default=J3;function X3({code:t,isGroup:e,parentCode:r,disableDelete:n,onDelete:i,onClone:a,t:o}){const s=Vt(),l=oa(),u=Te(C=>{var I;return e?((I=C.designState[t].groupType)==null?void 0:I.toLowerCase())||"group":C.designState[t].type}),[c,f]=ae.useState(!1),d=()=>f(!1),p=Te(C=>{var A,P;let I=(P=(A=C.designState[t])==null?void 0:A.instructionList)==null?void 0:P.find(E=>E.code=="conditional_relevance");return typeof I<"u"&&!I.errors}),h=Te(C=>{var I,A,P;return!e&&((P=(A=(I=C.designState[t])==null?void 0:I.instructionList)==null?void 0:A.filter(E=>E.code.startsWith("validation_")&&!E.errors))==null?void 0:P.length)>0}),v=()=>{s(Nn({code:t,rules:Qi(u)}))},g=()=>{s(Nn({code:t,rules:Qi(u),highlighted:"relevance",expanded:["relevance"]}))},y=()=>{s(Nn({code:t,rules:Qi(u),highlighted:"validation",expanded:["validation"]}))},m=()=>{s(Nn({code:t,rules:Qi(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},S=()=>{s(e?Nn({...surveySetup,highlighted:"random"}):Nn({code:r,rules:Qi("group"),highlighted:"random",expanded:["random"]}))},_=l.textStyles.question.color,O=Te(C=>{var A,P,E;let I=(P=(A=C.designState[t])==null?void 0:A.instructionList)==null?void 0:P.filter(R=>R.code.startsWith("skip_to"));return((E=I==null?void 0:I.filter(R=>!R.errors))==null?void 0:E.length)>=1}),x=Te(C=>{var A;let I=(A=C.designState.componentIndex)==null?void 0:A.find(P=>P.code==t);return I&&I.minIndex!=I.maxIndex}),w=Te(C=>{var A,P;let I=(A=C.designState.componentIndex)==null?void 0:A.find(E=>E.code==t);return((P=I==null?void 0:I.prioritisedSiblings)==null?void 0:P.length)>0});return k.jsxs("div",{className:fs.actionControl,onClick:C=>{C.target!==C.currentTarget&&(C.preventDefault(),C.stopPropagation())},children:[p&&k.jsx(kl,{title:"Has show/Hide Condition",children:k.jsx(Ft,{className:fs.statusIcon,onClick:()=>g(),children:k.jsx(cw,{style:{color:_}})})}),h&&k.jsx(kl,{title:"Has Validation",children:k.jsx(Ft,{className:fs.statusIcon,onClick:()=>y(),children:k.jsx(fw,{style:{color:_}})})}),x&&k.jsx(kl,{title:"Is part of a valid Random Group (within parent)",children:k.jsx(Ft,{className:fs.statusIcon,onClick:()=>S(),children:k.jsx(Bv,{style:{color:_}})})}),w&&k.jsx(kl,{title:"Is part of a valid Priority Group (within parent)",children:k.jsx(Ft,{className:fs.statusIcon,onClick:()=>S(),children:k.jsx(ff,{style:{color:_}})})}),O&&k.jsx(kl,{title:"Has active Skip Logic",children:k.jsx(Ft,{className:fs.statusIcon,onClick:()=>m(),children:k.jsx(dw,{style:{color:_}})})}),k.jsx(Ft,{onClick:()=>v(),children:k.jsx(ip,{name:"settings",size:".75em",color:"".concat(_)})}),!e&&k.jsx(Ft,{onClick:()=>a(),children:k.jsx(ip,{name:"duplicate",size:".75em",color:"".concat(_)})}),!n&&k.jsx(Ft,{onClick:()=>f(!0),disabled:n,children:k.jsx(ip,{name:"delete",size:".75em",color:_})}),k.jsx(CI,{open:c,description:o("delete_question"),handleClose:d,handleDelete:i})]})}const pw=j.memo(X3),Z3="_questionItem_wb37f_1",eV={questionItem:Z3};function tV({code:t}){var i,a,o,s;const e=Qr(),r=Te(l=>l.designState[t]),n=Te(l=>l.designState.langInfo.lang);return k.jsx("div",{className:eV.questionItem,children:k.jsx(hr,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size,"&.Mui-disabled":{color:e.textStyles.text.color,borderBottom:"1px solid"}}}})})}const rV=j.memo(tV),nV="_questionItem_1sx0f_1",iV={questionItem:nV};function aV({code:t}){var i,a,o,s;const e=Qr(),r=Te(l=>l.designState[t]),n=Te(l=>l.designState.langInfo.lang);return k.jsx("div",{className:iV.questionItem,children:k.jsx(hr,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:""})})}const oV=j.memo(aV),sV="_questionItem_169qj_1",lV={questionItem:sV};function uV({code:t}){var i,a,o,s;const e=Qr(),r=Te(l=>l.designState[t]),n=Te(l=>l.designState.langInfo.lang);return k.jsx("div",{className:lV.questionItem,children:k.jsx(hr,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const cV=j.memo(uV),fV="_questionItem_13fbu_1",dV="_paragraph_13fbu_15",pV="_wordCount_13fbu_19",Op={questionItem:fV,paragraph:dV,wordCount:pV};function hV({code:t,t:e}){var i,a,o,s;const r=Te(l=>l.designState[t]),n=Te(l=>l.designState.langInfo.lang);return k.jsxs("div",{className:Op.questionItem,children:[k.jsx(AI,{disabled:!0,className:Op.paragraph,required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),placeholder:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),minRows:r.minRows||2,value:""}),r.showWordCount?k.jsx("div",{className:Op.wordCount,children:k.jsx("span",{children:e("word_count",{lng:n,count:0})})}):""]})}const vV=j.memo(hV),gV="_questionItem_1sx0f_1",mV={questionItem:gV};function yV({code:t}){var i,a;const e=Qr(),r=Te(o=>o.designState[t]),n=Te(o=>o.designState.langInfo.lang);return k.jsx("div",{className:mV.questionItem,children:k.jsx(hr,{variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&r.content.hint?r.content.hint[n]:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:"",type:"file",disabled:!0})})}const bV=j.memo(yV),_V="_questionItem_1sx0f_1",SV={questionItem:_V};function OV({code:t}){var i,a,o;const e=Qr(),r=Te(s=>s.designState[t]),n=Te(s=>s.designState.langInfo.lang);return k.jsx("div",{className:SV.questionItem,children:k.jsx(hr,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",InputProps:{sx:{fontFamily:e.textStyles.text,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},placeholder:r.dateFormat})})}const Tb=j.memo(OV),xV="_questionItem_wb37f_1",wV={questionItem:xV};function EV({code:t}){var i,a,o;const e=Qr(),r=Te(s=>s.designState[t]),n=Te(s=>s.designState.langInfo.lang);return k.jsx("div",{className:wV.questionItem,children:k.jsx(hr,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",type:"time",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const CV=j.memo(EV);var zv={},TV=zr;Object.defineProperty(zv,"__esModule",{value:!0});var lo=zv.default=void 0,PV=TV(Wr()),AV=k,kV=(0,PV.default)((0,AV.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicator");lo=zv.default=kV;function IV(t){const e=Qr(),r=t.t,n=Te(l=>l.designState.langInfo),i=n.lang===n.mainLang,a=Te(l=>l.designState[t.code].children);Te(l=>{var u;return((u=l.designState.setup)==null?void 0:u.code)==t.code});const o=j.useMemo(()=>(a==null?void 0:a.filter(l=>l.type=="row"))||[],[a]),s=j.useMemo(()=>(a==null?void 0:a.filter(l=>l.type=="column"))||[],[a]);return k.jsxs(k.Fragment,{children:[t.onMainLang&&k.jsx("div",{className:Ms.addColumn,children:k.jsx(Yt,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:l=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),k.jsx(JO,{children:k.jsxs(XO,{children:[k.jsx(ex,{children:k.jsxs(Lf,{children:[i&&k.jsx(Pn,{sx:{padding:"0"}},"move"),k.jsx(Pn,{},"content"),s.map((l,u)=>k.jsx(FV,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:l,index:u},l.qualifiedCode)),i&&k.jsx(Pn,{sx:{padding:"0"}},"remove")]})}),k.jsx(ZO,{children:o.map((l,u)=>k.jsx(RV,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:l,colCount:s.length,index:u},l.qualifiedCode))})]})}),t.onMainLang&&k.jsx("div",{className:Ms.addRow,children:k.jsx(Yt,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:l=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const jV=j.memo(IV);function RV({item:t,index:e,colCount:r,t:n,langInfo:i,parentQualifiedCode:a}){const o=Vt(),s=Qr(),l=ae.useRef(),u=i.lang===i.mainLang,c=Te(m=>{var S,_;return(_=(S=m.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:_[i.lang]}),f=Te(m=>{var S,_;return(_=(S=m.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:_[i.mainLang]}),d="col-".concat(a),[p,h,v]=ka({type:d,item:{qualifiedCode:t.qualifiedCode,index:e},collect:m=>m.isDragging()},[e]),[{handlerId:g},y]=$i({accept:d,collect(m){return{handlerId:m.getHandlerId()}},hover(m,S){var A;if(!l.current||!S.isOver({shallow:!0})||!m)return;const _=m.index,O=e;if(_===O)return;const x=(A=l.current)==null?void 0:A.getBoundingClientRect(),w=(x.bottom-x.top)/2,I=S.getClientOffset().y-x.top;_<O&&I<w||_>O&&I>w||(o(vi({type:"reorder_answers_by_type",id:m.qualifiedCode,fromIndex:m.index,toIndex:O})),m.index=O)}});return y(v(l)),k.jsxs(Lf,{style:{opacity:p?"0.2":"1"},ref:l,"data-handler-id":g,children:[u&&k.jsx(Pn,{ref:h,sx:{padding:"0",color:s.textStyles.text.color},children:k.jsx(lo,{})},"move"),k.jsx(Pn,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:k.jsx(hr,{variant:"standard",value:c||"",onChange:m=>{console.log(m.target.value),o(so({code:t.qualifiedCode,key:"label",lang:i.lang,value:m.target.value}))},placeholder:u?n("content_editor_placeholder_option"):f||n("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),[...Array(r)].map((m,S)=>k.jsx(Pn,{scope:"row",align:"center",sx:{padding:"4px"},children:k.jsx(jI,{sx:{"&.Mui-disabled":{color:s.textStyles.text.color}},disabled:!0})},S)),u&&k.jsx(Pn,{onClick:m=>o(Bo(t.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:k.jsx(pi,{})},"remove")]},t.code)}function FV({item:t,index:e,t:r,langInfo:n,parentQualifiedCode:i}){const a=Vt(),o=Qr(),s=ae.useRef(),l=n.lang===n.mainLang,u=no.includes(n.lang),c=!u,f=Te(S=>{var _,O;return(O=(_=S.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:O[n.lang]}),d=Te(S=>{var _,O;return(O=(_=S.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:O[n.mainLang]}),p="row-".concat(i),[h,v,g]=ka({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:S=>S.isDragging()},[e]),[{handlerId:y},m]=$i({accept:p,collect(S){return{handlerId:S.getHandlerId()}},hover(S,_){var P;if(!s.current||!_.isOver({shallow:!0})||!S)return;const O=S.index,x=e;if(O===x)return;const w=(P=s.current)==null?void 0:P.getBoundingClientRect(),C=(w.right-w.left)/2,A=_.getClientOffset().x-w.left;c&&O<x&&A<C||c&&O>x&&A>C||u&&O<x&&A>C||u&&O>x&&A<C||(a(vi({type:"reorder_answers_by_type",id:S.qualifiedCode,fromIndex:S.index,toIndex:x})),S.index=x)}});return m(g(s)),k.jsxs(Pn,{ref:s,"data-handler-id":y,align:"center",sx:{opacity:h?"0.2":"1",fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size,padding:"4px"},children:[l&&k.jsxs("div",{style:{display:"inline-flex"},children:[k.jsx("div",{ref:v,sx:{padding:"0"},children:k.jsx(lo,{})},"move"),k.jsx("div",{sx:{padding:"0"},onClick:S=>a(Bo(t.qualifiedCode)),children:k.jsx(pi,{})})]}),k.jsx(hr,{variant:"standard",value:f||"",onChange:S=>{console.log(S.target.value),a(so({code:t.qualifiedCode,key:"label",lang:n.lang,value:S.target.value}))},placeholder:l?r("content_editor_placeholder_option"):d||r("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}}})]},t.qualifiedCode)}var Wv={},LV=zr;Object.defineProperty(Wv,"__esModule",{value:!0});var hw=Wv.default=void 0,$V=LV(Wr()),NV=k,DV=(0,$V.default)((0,NV.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");hw=Wv.default=DV;const MV="_placeholder_4iqf5_1",VV="_buttonContainer_4iqf5_9",Pb={placeholder:MV,buttonContainer:VV};function BV({code:t,t:e,onMainLang:r}){var u,c;const n=Rf("design"),i=Vt(),[a,o]=ae.useState(!1),s=Te(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(xo({code:t,key:"videoUrl",value:d.name}))}).catch(p=>{console.error(p)})};return k.jsxs(k.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.videoUrl)&&k.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:s.audio_only?"10%":"56%"},children:k.jsx(RI,{url:eu(s.resources.videoUrl),loop:s.loop||!1,light:!0,controls:!0,config:{forceAudio:s.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),a?k.jsxs("div",{className:Pb.buttonContainer,children:[k.jsx(lv,{}),k.jsx("br",{}),k.jsx("span",{children:e("uploading_video")})]}):r?k.jsx("div",{className:Pb.buttonContainer,children:k.jsxs(Yt,{component:"label",variant:"outlined",startIcon:k.jsx(hw,{}),children:[(c=s.resources)!=null&&c.videoUrl?e("replace_video"):e("upload_video"),k.jsx("input",{hidden:!0,id:t,accept:"video/*",type:"file",onChange:l})]})}):k.jsx(k.Fragment,{})]})}const qV="_signatureCanvas_1uxb1_1",HV={signatureCanvas:qV};function zV(){return k.jsx(_t,{className:HV.signatureCanvas,sx:{backgroundColor:"background.default"},children:k.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}const WV=j.memo(zV);var Gv={},GV=zr;Object.defineProperty(Gv,"__esModule",{value:!0});var Jf=Gv.default=void 0,UV=GV(Wr()),YV=k,KV=(0,UV.default)((0,YV.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Photo");Jf=Gv.default=KV;const QV="_placeholder_xjf3c_1",JV="_buttonContainer_xjf3c_9",XV="_imageContainer_xjf3c_14",Ab={placeholder:QV,buttonContainer:JV,imageContainer:XV};function ZV({code:t,t:e,onMainLang:r}){var u,c;const n=Rf("design"),i=Vt(),[a,o]=ae.useState(!1),s=Te(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(xo({code:t,key:"imageUrl",value:d.name}))}).catch(p=>{console.error(p)})};return k.jsxs(k.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.imageUrl)&&k.jsx("img",{style:{width:"100%"},src:eu(s.resources.imageUrl)}),a?k.jsxs("div",{className:Ab.buttonContainer,children:[k.jsx(lv,{}),k.jsx("br",{}),k.jsx("span",{children:e("uploading_image")})]}):r?k.jsx("div",{className:Ab.buttonContainer,children:k.jsxs(Yt,{variant:"outlined",component:"label",children:[k.jsx(Jf,{className:"mr-10"}),(c=s.resources)!=null&&c.imageUrl?e("replace_image"):e("upload_image"),k.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:l})]})}):k.jsx(k.Fragment,{})]})}const e4=j.memo(ZV),t4="_choicesContainer_k0bnu_1",r4="_choice_k0bnu_1",n4="_choiceLabels_k0bnu_19",xp={choicesContainer:t4,choice:r4,choiceLabels:n4};function i4({code:t}){var i,a,o,s;Qr();let e=[0,1,2,3,4,5,6,7,8,9,10];const r=Te(l=>l.designState[t]),n=Te(l=>l.designState.langInfo.lang);return k.jsxs(k.Fragment,{children:[k.jsxs(_t,{className:xp.choiceLabels,children:[k.jsx(_t,{children:(a=(i=r.content)==null?void 0:i.lower_bound_hint)==null?void 0:a[n]}),k.jsx(_t,{children:(s=(o=r.content)==null?void 0:o.higher_bound_hint)==null?void 0:s[n]})]}),k.jsx(_t,{className:xp.choicesContainer,children:e.map(l=>k.jsx(_t,{className:xp.choice,children:l},l))})]})}const a4=j.memo(i4),o4="_container_cyg3h_1",s4={container:o4};function l4({code:t}){var n,i;oa();const e=Te(a=>a.designState[t]),r=Te(a=>a.designState.langInfo.lang);return k.jsxs(_t,{className:s4.container,children:[k.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),k.jsx("br",{}),e.showHint&&k.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const u4=j.memo(l4),c4="_container_cyg3h_1",f4={container:c4};function d4({code:t}){var n,i;oa();const e=Te(a=>a.designState[t]),r=Te(a=>a.designState.langInfo.lang);return k.jsxs(_t,{className:f4.container,children:[k.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),k.jsx("br",{}),e.showHint&&k.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const p4=j.memo(d4),h4="_container_cyg3h_1",v4={container:h4};function g4({code:t}){var n,i;oa();const e=Te(a=>a.designState[t]),r=Te(a=>a.designState.langInfo.lang);return k.jsxs(_t,{className:v4.container,children:[k.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),k.jsx("br",{}),e.showHint&&k.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const m4=j.memo(g4),y4="_answerAdd_5tmqk_1",b4="_questionItem_5tmqk_9",_4="_choicesContainer_5tmqk_15",bc={answerAdd:y4,questionItem:b4,choicesContainer:_4},S4="_answerItem_shykq_1",O4="_answerIcon_shykq_10",x4="_answerIconOther_shykq_18",w4="_answerNumberOrder_shykq_27",E4="_answerControl_shykq_32",C4="_answerControlRtl_shykq_37",T4="_answerControlOther_shykq_42",P4="_answerControlOtherRtl_shykq_47",A4="_answerOtherControl_shykq_52",qa={answerItem:S4,answerIcon:O4,answerIconOther:x4,answerNumberOrder:w4,answerControl:E4,answerControlRtl:C4,answerControlOther:T4,answerControlOtherRtl:P4,answerOtherControl:A4};var Uv={},k4=zr;Object.defineProperty(Uv,"__esModule",{value:!0});var vw=Uv.default=void 0,I4=k4(Wr()),j4=k,R4=(0,I4.default)((0,j4.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),"Build");vw=Uv.default=R4;function F4(t){const e=Vt(),r=Qr(),n=ae.useRef(null),i=Te(m=>m.designState.langInfo),a=Te(m=>m.designState[t.qualifiedCode]),o=i.lang===i.mainLang,s=i.lang,l=no.includes(s),u=Te(m=>{var S;return a.type==="other"&&((S=m.designState.setup)==null?void 0:S.code)==t.qualifiedCode+"Atext"}),c=Te(m=>{var S,_;return(_=(S=m.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:_[s]}),f=Te(m=>{var S,_;return(_=(S=m.designState[t.qualifiedCode].content)==null?void 0:S.label)==null?void 0:_[i.mainLang]}),d=m=>{const S={transition:"all 500ms"};return m&&(S.opacity=.5),S},[p,h,v]=ka({type:t.droppableId,item:{index:t.index,draggableId:t.qualifiedCode,type:t.droppableId,code:t.code,itemType:t.type,droppableId:t.droppableId},collect:m=>m.isDragging()},[t]),[{handlerId:g},y]=$i({accept:t.droppableId,collect(m){return{handlerId:m.getHandlerId()}},hover(m,S){var A;if(!n.current||!S.isOver({shallow:!0})||!m)return;const _=m.index,O=t.index;if(_===O)return;const x=(A=n.current)==null?void 0:A.getBoundingClientRect(),w=(x.bottom-x.top)/2,I=S.getClientOffset().y-x.top;_<O&&I<w||_>O&&I>w||(e(vi({type:"reorder_answers",id:m.draggableId,fromIndex:m.index,toIndex:t.index})),m.index=O)}});return y(v(n)),Ff(r.palette.background.paper),k.jsx("div",{ref:n,style:d(p),"data-handler-id":g,children:k.jsxs(_t,{sx:{backgroundColor:u?"beige":"inherit"},className:qa.answerItem,children:[o&&k.jsx("div",{ref:h,className:qa.answerIcon,children:k.jsx(lo,{ref:h,sx:{fontSize:18}})}),t.label?k.jsx("b",{children:t.label}):"",k.jsx(hr,{variant:"standard",className:a.type==="other"&&l?qa.answerControlOtherRtl:a.type==="other"?qa.answerControlOther:l?qa.answerControlRtl:qa.answerControl,value:c||"",onChange:m=>e(so({code:t.qualifiedCode,key:"label",lang:s,value:m.target.value})),placeholder:o?t.t("content_editor_placeholder_option"):f||t.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),a.type==="other"&&k.jsx(vw,{sx:{fontSize:18},className:qa.answerIconOther,onClick:()=>{e(Nn({code:t.qualifiedCode+"Atext",rules:Qi("other_text")}))}},"setup"),o&&k.jsx(pi,{sx:{fontSize:18},className:qa.answerIcon,onClick:m=>e(Bo(t.qualifiedCode))},"close")]})})}function L4(t){const e=Qr(),r=t.t,n=Te(o=>o.designState[t.code].children),i=Te(o=>o.designState[t.code].type),a=(i=="mcq"||i=="scq")&&(!n||!n.some(o=>o.code==="Aother"));return k.jsxs("div",{className:bc.questionItem,children:[k.jsx("div",{className:bc.choicesContainer,children:n&&n.length>0&&n.map((o,s)=>k.jsx(F4,{code:o.code,t:t.t,label:o.code,qualifiedCode:o.qualifiedCode,index:s,type:t.type,droppableId:"option-".concat(t.code)},o.code))}),t.onMainLang&&k.jsxs("div",{className:bc.answerAdd,children:[k.jsx(Yt,{size:"small",style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},onClick:()=>t.addNewAnswer(t.code,i),children:r("add_option")}),a&&k.jsxs(k.Fragment,{children:[k.jsx("span",{style:{color:e.textStyles.question.color},children:r("or")}),k.jsx(Yt,{style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",className:bc.answerIcon,onClick:()=>t.addNewAnswer(t.code,i,"other"),children:r("add_other")})]})]})]})}const wp=j.memo(L4),$4="_addAnswerIcon_4rcog_1",N4="_questionItem_4rcog_5",D4="_addAnswerButton_4rcog_10",M4={addAnswerIcon:$4,questionItem:N4,addAnswerButton:D4},V4="_imageIconButton_z1as0_1",B4="_imageContainer_z1as0_8",q4="_addAnswerIcon_z1as0_16",H4="_loadingContainer_z1as0_20",z4="_addAnswerButton_z1as0_26",W4="_buttonContainers_z1as0_34",Ha={imageIconButton:V4,imageContainer:B4,addAnswerIcon:q4,loadingContainer:H4,addAnswerButton:z4,buttonContainers:W4};var Yv={},G4=zr;Object.defineProperty(Yv,"__esModule",{value:!0});var Kv=Yv.default=void 0,U4=G4(Wr()),Y4=k,K4=(0,U4.default)((0,Y4.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");Kv=Yv.default=K4;var Qv={},Q4=zr;Object.defineProperty(Qv,"__esModule",{value:!0});var Eo=Qv.default=void 0,J4=Q4(Wr()),X4=k,Z4=(0,J4.default)((0,X4.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Eo=Qv.default=Z4;function eB({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageAspectRatio:a,hideText:o,t:s,addAnswer:l}){var H;const u=Rf("design"),c=Vt(),f=Qr(),d=ae.useRef(),[p,h]=ae.useState(!1),v=Te(M=>M.designState.langInfo),g=Te(M=>n=="add"?void 0:M.designState[r]),y=v.lang===v.mainLang,m=v.lang,S=no.includes(m),_=Te(M=>{var L,q;return n=="add"||(q=(L=M.designState[r].content)==null?void 0:L.label)==null?void 0:q[m]}),O=Te(M=>{var L,q;return n=="add"||(q=(L=M.designState[r].content)==null?void 0:L.label)==null?void 0:q[v.mainLang]}),x=()=>{window.confirm("Are you sure?")&&c(Bo(r))},w=(H=g==null?void 0:g.resources)!=null&&H.image?"url('".concat(eu(g.resources.image),"')"):"0";function C(M){M.preventDefault();let L=M.target.files[0];h(!0),u.uploadResource(L).then(q=>{h(!1),c(xo({code:r,key:"image",value:L.name}))}).catch(q=>{h(!1),console.error(q)})}const I=t+"image-drag",A=M=>Math.round(M/i),E=(M=>M%i)(e),R=A(e),[F,N,V]=ka({type:I,item:{index:e,colIndex:E,rowIndex:R,draggableId:r,parentCode:t,type:I,itemType:I},collect:M=>M.isDragging()},[e]),[{handlerId:z},J]=$i({accept:I,collect(M){return{handlerId:M.getHandlerId()}},hover(M,L){var _e;if(!d.current||!L.isOver({shallow:!0})||!M)return;const q=M.index,W=e,Q=M.rowIndex,K=R,$=M.colIndex,U=E;if(q===W)return;const X=(_e=d.current)==null?void 0:_e.getBoundingClientRect(),ee=(X.bottom-X.top)/2,se=(X.right-X.left)/2,Oe=L.getClientOffset(),be=Oe.y-X.top,Se=Oe.x-X.left;Q<K&&be<ee&&$<U&&Se<se||Q>K&&be>ee&&$>U&&Se>se||(c(vi({type:"reorder_answers",id:M.draggableId,fromIndex:q,toIndex:W})),M.index=W,M.rowIndex=K,M.colIndex=U)}});return J(V(d)),n=="add"?k.jsx(Ya,{height:"100%",item:!0,xs:12/i,children:k.jsx(_t,{className:Ha.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:f.palette.background.default,borderRadius:"4px"},children:k.jsx(Ft,{sx:{color:f.textStyles.text.color},className:Ha.addAnswerIcon,onClick:()=>{l()},children:k.jsx(Eo,{})})})},"add"):k.jsx(k.Fragment,{children:k.jsxs(Ya,{style:{opacity:F?"0.2":"1"},item:!0,xs:12/i,children:[k.jsxs("div",{className:Ha.imageContainer,style:{paddingTop:100/a+"%",backgroundColor:f.palette.background.default,backgroundImage:w},ref:d,"data-handler-id":z,children:[y&&k.jsxs("div",{className:Ha.buttonContainers,children:[k.jsx(Ft,{sx:{color:f.textStyles.text.color},className:Ha.imageIconButton,onClick:()=>{x()},children:k.jsx(Kv,{})}),k.jsxs(Ft,{sx:{color:f.textStyles.text.color},component:"label",className:Ha.imageIconButton,children:[k.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:C}),k.jsx(Jf,{})]}),k.jsx(Ft,{sx:{color:f.textStyles.text.color},ref:N,className:Ha.imageIconButton,children:k.jsx(lo,{})})]}),p&&k.jsx("div",{className:Ha.loadingContainer,children:k.jsx(lv,{})})]}),!o&&k.jsx(hr,{dir:S?"rtl":"ltr",variant:"standard",value:_||"",onChange:M=>c(so({code:r,key:"label",lang:m,value:M.target.value})),placeholder:y?s("content_editor_placeholder_option"):O||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size}}})]},r)})}const tB="_imageIconButton_lgrld_1",rB="_imageContainer_lgrld_8",nB="_addAnswerIcon_lgrld_12",iB="_loadingContainer_lgrld_16",aB="_addAnswerButton_lgrld_23",oB="_svgContainer_lgrld_31",sB="_buttonContainers_lgrld_36",go={imageIconButton:tB,imageContainer:rB,addAnswerIcon:nB,loadingContainer:iB,addAnswerButton:aB,svgContainer:oB,buttonContainers:sB};class lB{search(e,r){return new Promise((n,i)=>{Zc.get("https://api.iconify.design/search?query=".concat(e,"&prefixes=mdi,fluent,ri&limit=100"),{cancelToken:r.token}).then(a=>{n(a.data.icons)}).catch(a=>{Zc.isCancel(a)?console.log("Request canceled:",a.message):i(a)})})}}const uB=new lB,cB="_resultImage_2y7qe_1",fB={resultImage:cB};function gw({currentIcon:t,onIconSelected:e}){const{t:r}=Mo("design"),[n,i]=ae.useState(""),[a,o]=ae.useState(null),[s,l]=ae.useState([]);ae.useEffect(()=>{if(a&&a.cancel("Operation canceled by the user."),n){const c=Zc.CancelToken.source();o(c),uB.search(n,c).then(f=>{l(f)}).catch(f=>{console.error(f)})}else l([])},[n]);const u=c=>{i(c.target.value)};return k.jsxs(dv,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>e(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[k.jsx(cv,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),k.jsx(Wl,{children:k.jsxs("div",{children:[k.jsx("input",{type:"text",placeholder:"Search for icons",value:n,onChange:u}),k.jsx("div",{className:"search-results",children:s.map((c,f)=>{const d=c.split(":");return k.jsx(dB,{onClick:e,source:"https://api.iconify.design/".concat(d[0],"/").concat(d[1],".svg")},f)})})]})}),k.jsx(fv,{children:k.jsx(Yt,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function dB({source:t,onClick:e}){const[r,n]=ae.useState("");return ae.useEffect(()=>{Zc.get(t).then(i=>{pB(i.data)&&n(i.data)})},[t]),k.jsx("div",{onClick:()=>{e(r)},className:fB.resultImage,dangerouslySetInnerHTML:{__html:r}})}function pB(t){return typeof t!="string"?!1:/^<svg[\s\S]*<\/svg>$/.test(t)}function hB({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageHeight:a,hideText:o,t:s,addAnswer:l}){var z,J,H,M;const u=Vt(),c=ae.useRef(null),f=Qr(),[d,p]=ae.useState(!1),h=Te(L=>L.designState.langInfo),v=Te(L=>n=="add"?void 0:L.designState[r]),g=h.lang===h.mainLang,y=h.lang,m=n=="add"||(J=(z=v.content)==null?void 0:z.label)==null?void 0:J[y],S=n=="add"?void 0:v.icon,_=no.includes(y),O=n=="add"||(M=(H=v.content)==null?void 0:H.label)==null?void 0:M[h.mainLang],x=()=>{window.confirm("Are you sure?")&&u(Bo(r))},w=t+"icon-drag",C=L=>Math.round(L/i),A=(L=>L%i)(e),P=C(e),[E,R,F]=ka({type:w,item:{index:e,colIndex:A,rowIndex:P,draggableId:r,parentCode:t,type:w,itemType:w},collect:L=>L.isDragging()},[e]),[{handlerId:N},V]=$i({accept:w,collect(L){return{handlerId:L.getHandlerId()}},hover(L,q){var pe;if(!c.current||!q.isOver({shallow:!0})||!L)return;const W=L.index,Q=e,K=L.rowIndex,$=P,U=L.colIndex,X=A;if(W===Q)return;const ee=(pe=c.current)==null?void 0:pe.getBoundingClientRect(),se=(ee.bottom-ee.top)/2,Oe=(ee.right-ee.left)/2,be=q.getClientOffset(),Se=be.y-ee.top,_e=be.x-ee.left;K<$&&Se<se&&U<X&&_e<Oe||K>$&&Se>se&&U>X&&_e>Oe||(u(vi({type:"reorder_answers",id:L.draggableId,fromIndex:W,toIndex:Q})),L.index=Q,L.rowIndex=$,L.colIndex=X)}});return V(F(c)),n=="add"?k.jsx(Ya,{item:!0,xs:12/i,height:"100%",children:k.jsx(_t,{className:go.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:f.palette.background.default,height:"100%",width:"100%"},children:k.jsx(Ft,{sx:{color:f.textStyles.text.color},className:go.addAnswerIcon,onClick:()=>{l()},children:k.jsx(Eo,{})})})},"add"):k.jsxs(k.Fragment,{children:[k.jsx(Ya,{style:{opacity:E?"0.2":"1"},item:!0,xs:12/i,children:k.jsxs("div",{ref:c,"data-handler-id":N,children:[g&&k.jsxs("div",{className:go.buttonContainers,children:[k.jsx(Ft,{sx:{color:f.textStyles.text.color},className:go.imageIconButton,onClick:()=>{x()},children:k.jsx(Kv,{})}),k.jsx(Ft,{sx:{color:f.textStyles.text.color},component:"label",className:go.imageIconButton,onClick:()=>p(!0),children:k.jsx(Jf,{})}),k.jsx(Ft,{sx:{color:f.textStyles.text.color},ref:R,className:go.imageIconButton,children:k.jsx(lo,{})})]}),k.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:k.jsx("div",{style:{height:a+"px",width:a+"px",borderRadius:"8px"},className:go.svgContainer,dangerouslySetInnerHTML:{__html:S||""}})}),!o&&k.jsx(hr,{dir:_?"rtl":"ltr",variant:"standard",value:m||"",onChange:L=>u(so({code:r,key:"label",lang:y,value:L.target.value})),placeholder:g?s("content_editor_placeholder_option"):O||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size}}})]})},r),d&&k.jsx(gw,{currentIcon:"",onIconSelected:L=>{u(Dn({code:r,key:"icon",value:L})),p(!1)}})]})}function vB(t){const e=Te(f=>f.designState[t.code]),r=e.children||[],n=Te(f=>f.designState[t.code].imageAspectRatio||1),i=e.type,a=t.onMainLang?[...r,{type:"add",code:"add"}]:r,o=e.columns||2,s=e.hideText||!1,l=e.spacing||8,u=e.iconSize?+e.iconSize:64,c="calc(".concat(100/o,"% - ").concat(l,"px)");return k.jsx("div",{className:M4.questionItem,children:u&&k.jsx(_t,{id:"items-"+t.code,sx:{display:"flex",flexWrap:"wrap",gap:"".concat(l,"px")},children:a.map((f,d)=>t.icon?k.jsx(_t,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:k.jsx(hB,{parentCode:t.code,index:d,columnNumber:o,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code):k.jsx(_t,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:k.jsx(eB,{parentCode:t.code,index:d,imageAspectRatio:n,columnNumber:o,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code))})})}const kb=j.memo(vB);var Jv={},gB=zr;Object.defineProperty(Jv,"__esModule",{value:!0});var mw=Jv.default=void 0,mB=gB(Wr()),yB=k,bB=(0,mB.default)((0,yB.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox");mw=Jv.default=bB;function _B(t){const e=Qr(),r=t.t,n=Te(u=>u.designState.langInfo),i=n.lang===n.mainLang,a=Te(u=>u.designState[t.code].children),o=(a==null?void 0:a.filter(u=>u.type=="row"))||[],s=(a==null?void 0:a.filter(u=>u.type=="column"))||[],l=Te(u=>s.map(c=>u.designState[c.qualifiedCode].icon));return k.jsxs(k.Fragment,{children:[t.onMainLang&&k.jsx("div",{className:Ms.addColumn,children:k.jsx(Yt,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),k.jsx(JO,{children:k.jsxs(XO,{children:[k.jsx(ex,{children:k.jsxs(Lf,{children:[i&&k.jsx(Pn,{sx:{padding:"0"}},"move"),k.jsx(Pn,{},"content"),s.map((u,c)=>k.jsx(xB,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,icons:l,styles:Ms,index:c},u.qualifiedCode)),i&&k.jsx(Pn,{sx:{padding:"0"}},"remove")]})}),k.jsx(ZO,{children:o.map((u,c)=>k.jsx(OB,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,columns:s,icons:l,index:c},u.qualifiedCode))})]})}),t.onMainLang&&k.jsx("div",{className:Ms.addRow,children:k.jsx(Yt,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const SB=j.memo(_B);function OB({item:t,index:e,columns:r,icons:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=Vt(),l=Qr(),u=ae.useRef(),c=a.lang===a.mainLang,f=Te(S=>{var _,O;return(O=(_=S.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:O[a.lang]}),d=Te(S=>{var _,O;return(O=(_=S.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:O[a.mainLang]}),p="col-".concat(o),[h,v,g]=ka({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:S=>S.isDragging()},[e]),[{handlerId:y},m]=$i({accept:p,collect(S){return{handlerId:S.getHandlerId()}},hover(S,_){var P;if(!u.current||!_.isOver({shallow:!0})||!S)return;const O=S.index,x=e;if(O===x)return;const w=(P=u.current)==null?void 0:P.getBoundingClientRect(),C=(w.bottom-w.top)/2,A=_.getClientOffset().y-w.top;O<x&&A<C||O>x&&A>C||(s(vi({type:"reorder_answers_by_type",id:S.qualifiedCode,fromIndex:S.index,toIndex:x})),S.index=x)}});return m(g(u)),k.jsxs(Lf,{style:{opacity:h?"0.2":"1"},ref:u,"data-handler-id":y,children:[c&&k.jsx(Pn,{ref:v,sx:{padding:"0",color:l.textStyles.text.color},children:k.jsx(lo,{})},"move"),k.jsx(Pn,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:k.jsx(hr,{variant:"standard",value:f||"",onChange:S=>{s(so({code:t.qualifiedCode,key:"label",lang:a.lang,value:S.target.value}))},placeholder:c?i("content_editor_placeholder_option"):d||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),r.map((S,_)=>k.jsx(Pn,{scope:"row",align:"center",sx:{padding:"4px"},children:n[_]&&k.jsx("div",{style:{opacity:.2,height:"64px",width:"px",borderRadius:"8px",color:l.textStyles.text.color},className:Ms.svgContainer,dangerouslySetInnerHTML:{__html:n[_]}})},_)),c&&k.jsx(Pn,{onClick:S=>s(Bo(t.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:k.jsx(pi,{})},"remove")]},t.code)}function xB({item:t,index:e,icons:r,t:n,langInfo:i,parentQualifiedCode:a,styles:o}){const s=r[e],[l,u]=ae.useState(!1),c=Vt(),f=Qr(),d=ae.useRef(),p=i.lang===i.mainLang,h=no.includes(i.lang),v=!h,g="row-".concat(a),[y,m,S]=ka({type:g,item:{qualifiedCode:t.qualifiedCode,index:e},collect:x=>x.isDragging()},[e]),[{handlerId:_},O]=$i({accept:g,collect(x){return{handlerId:x.getHandlerId()}},hover(x,w){var F;if(!d.current||!w.isOver({shallow:!0})||!x)return;const C=x.index,I=e;if(C===I)return;const A=(F=d.current)==null?void 0:F.getBoundingClientRect(),P=(A.right-A.left)/2,R=w.getClientOffset().x-A.left;v&&C<I&&R<P||v&&C>I&&R>P||h&&C<I&&R>P||h&&C>I&&R<P||(c(vi({type:"reorder_answers_by_type",id:x.qualifiedCode,fromIndex:x.index,toIndex:I})),x.index=I)}});return O(S(d)),k.jsxs(k.Fragment,{children:[k.jsxs(Pn,{ref:d,"data-handler-id":_,align:"center",sx:{opacity:y?"0.2":"1",fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size,padding:"4px"},children:[p&&k.jsxs("div",{style:{display:"inline-flex"},children:[k.jsx("div",{ref:m,sx:{padding:"0"},children:k.jsx(lo,{})},"move"),k.jsx("div",{sx:{padding:"0",color:f.textStyles.text.color},onClick:x=>c(Bo(t.qualifiedCode)),children:k.jsx(pi,{})})]}),s?k.jsx("div",{onClick:()=>u(!0),style:{height:"64px",width:"px",borderRadius:"8px"},className:o.svgContainer,dangerouslySetInnerHTML:{__html:s}}):k.jsxs(k.Fragment,{children:[k.jsx("br",{}),k.jsxs("div",{onClick:()=>u(!0),children:[k.jsx(mw,{sx:{width:"64px",height:"64px"}}),k.jsx("br",{}),k.jsx("span",{children:"Click to add icon"})]})]})]},t.qualifiedCode),l&&k.jsx(gw,{currentIcon:"",onIconSelected:x=>{c(Dn({code:t.qualifiedCode,key:"icon",value:x})),u(!1)}})]})}function wB({code:t,type:e,t:r,onMainLang:n,addAnswer:i}){switch(e){case"video_display":return k.jsx(BV,{code:t,t:r,onMainLang:n},t);case"image_display":return k.jsx(e4,{code:t,t:r,onMainLang:n},t);case"signature":return k.jsx(WV,{});case"photo_capture":return k.jsx(u4,{code:t});case"video_capture":return k.jsx(p4,{code:t});case"date_time":return k.jsx(Tb,{code:t},t);case"date":return k.jsx(Tb,{code:t},t);case"time":return k.jsx(CV,{code:t},t);case"scq":return k.jsx(wp,{t:r,onMainLang:n,addNewAnswer:i,code:t,type:"radio"},t);case"image_mcq":case"image_scq":case"image_ranking":return k.jsx(kb,{t:r,onMainLang:n,addNewAnswer:i,code:t},t);case"icon_scq":case"icon_mcq":return k.jsx(kb,{icon:!0,t:r,onMainLang:n,addNewAnswer:i,code:t},t);case"scq_icon_array":return k.jsx(SB,{onMainLang:n,type:e,addNewAnswer:i,code:t,t:r},t);case"scq_array":return k.jsx(jV,{onMainLang:n,type:e,addNewAnswer:i,code:t,t:r},t);case"file_upload":return k.jsx(bV,{code:t},t);case"mcq":return k.jsx(wp,{addNewAnswer:i,code:t,onMainLang:n,t:r,type:"checkbox"},t);case"ranking":return k.jsx(wp,{onMainLang:n,addNewAnswer:i,code:t,t:r,type:"ranking"},t);case"nps":return k.jsx(a4,{code:t},t);case"number":return k.jsx(cV,{code:t},t);case"text":return k.jsx(rV,{code:t},t);case"paragraph":return k.jsx(vV,{t:r,code:t},t);case"barcode":return k.jsx(m4,{t:r,code:t},t);case"email":return k.jsx(oV,{code:t},t);default:return""}}const EB=j.memo(wB);function CB({code:t,type:e,isLast:r,parentCode:n,index:i,t:a,onMainLang:o,parentIndex:s}){console.log(t+": "+i);const[l,u]=ae.useState(!1),c=ae.useRef(),f=Vt(),d=Qr(),p=Te(P=>{var E;return((E=P.designState.setup)==null?void 0:E.code)==t}),h=Te(P=>P.designState[t]),v=h.children,g=Te(P=>{var E;return((E=P.designState.globalSetup)==null?void 0:E.reorder_setup)==="collapse_questions"}),y=ae.useCallback(()=>f(Wk(t)),[]),m=ae.useCallback(()=>f(Gk(t)),[]),[S,_,O]=ka({type:"questions",item:{index:i,draggableId:t,droppableId:n,parentIndex:s,isLast:r,type:"questions",itemType:e},collect:P=>{var E;return((E=P.getItem())==null?void 0:E.draggableId)===t}}),[x,w]=$i({accept:"questions",hover(P,E){var z;if(!c.current||!E.isOver({shallow:!0})||!P||!P.droppableId.startsWith("G"))return;const R=P.index,F=i;if(R===F||(P==null?void 0:P.droppableId)!==n)return;const N=(z=c.current)==null?void 0:z.getBoundingClientRect(),V=E.getClientOffset();R<F&&V.y<N.top+20||R>F&&V.y>N.bottom-20||(f(vi({type:"reorder_questions",source:P.droppableId,destination:n,id:P.draggableId,fromIndex:R,toIndex:F+1})),P.index=F,P.isLast=r)}});w(O(c));const C=j.useCallback((P,E,R)=>{const F=v||[];let N=1,V="",z="",J="";const H={code:"value",isActive:!1,returnType:{name:E=="ranking"||E=="nps"||E=="image_ranking"?"Int":E=="scq_array"||E=="scq_icon_array"?"String":"Boolean"},text:""};switch(R){case"column":N=ap(F.filter(L=>L.type==="column")),J="Col"+N,V="Ac"+N,z=P+V,f(Al({label:J,answer:{code:V,qualifiedCode:z,type:R}}));break;case"row":N=ap(F.filter(L=>L.type==="row")),V="A"+N,J="Row"+N,z=P+V,f(Al({label:J,instructionList:[H],answer:{code:V,qualifiedCode:z,type:R}}));break;case"other":V="Aother",J="Other",z=P+V;const M=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:E==="scq"?"".concat(P,".value === 'Aother'"):"".concat(P,"Aother.value === true")}];f(Al({label:J,answer:{code:V,qualifiedCode:z,type:R},instructionList:E=="mcq"?[H]:[]})),f(Al({instructionList:M,answer:{code:"Atext",qualifiedCode:z+"Atext",type:"other_text"}}));break;default:N=ap(F),V="A"+N,J="Option"+N,z=P+V,f(Al({label:J,answer:{code:V,qualifiedCode:z},instructionList:E=="mcq"||E=="image_mcq"||E=="icon_mcq"||E=="ranking"||E=="image_ranking"?[H]:[]}));break}},[v]),I=Ff(d.palette.background.paper),A=d.textStyles.question.color;return k.jsxs("div",{ref:c,onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},style:p?{border:"0.5px solid ".concat(A),paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:I,color:A}:{opacity:S?"0.2":"1",border:S?"dotted 1px "+I:"0"},className:"question ".concat(Ba.groupQuestion),"data-code":t,children:[k.jsxs(_t,{className:Ba.contentContainer,children:[g&&o&&k.jsx("div",{className:Ba.moveBox,ref:_,children:k.jsx(yv,{style:{color:A}})}),!g&&(p||l)&&o&&k.jsx("div",{className:Ba.actionToolbarVisible,children:k.jsx(pw,{t:a,isGroup:!1,isInSetup:p,code:t,parentCode:n,onClone:m,onDelete:y,disableDelete:!1})})]}),k.jsxs(_t,{className:Ba.titleContainer,children:[k.jsx(_t,{className:Ba.iconBox,children:Uk("".concat(e),void 0,A)}),k.jsx("div",{className:Ba.titleQuestion,style:{fontFamily:d.textStyles.question.font,color:d.textStyles.question.color,fontSize:d.textStyles.question.size},children:k.jsx(cf,{code:t,extended:!1,placeholder:a("content_editor_placeholder_title"),contentKey:"label"})})]}),h.showDescription&&k.jsx(_t,{className:Ba.textDescriptionContent,children:k.jsx(cf,{code:t,extended:!0,placeholder:a("content_editor_placeholder_description"),contentKey:"description"})}),k.jsx(LI,{in:g!==!0,timeout:"auto",unmountOnExit:!0,children:k.jsx(EB,{code:t,type:e,t:a,addAnswer:C,onMainLang:o,addNewAnswer:C})}),k.jsx(gv,{code:t})]})}const TB=j.memo(CB),PB="_textHeader_s7yev_1",AB="_textDescription_s7yev_5",kB="_groupCard_s7yev_11",IB="_type_s7yev_18",jB="_groupType_s7yev_25",RB="_questionsOuterContainer_s7yev_33",FB="_questionsInnerContainer_s7yev_37",LB="_groupDesignError_s7yev_43",$B="_groupHeader_s7yev_48",NB="_inputGroupTitle_s7yev_52",DB="_inputGroupDescription_s7yev_57",MB="_moveBox_s7yev_62",VB="_topLevel_s7yev_71",BB="_groupText_s7yev_85",qB="_actionToolbarVisible_s7yev_103",HB="_fadeInMoveRight_s7yev_1",zB="_contentContainer_s7yev_107",WB="_headerContent_s7yev_118",Ga={textHeader:PB,textDescription:AB,groupCard:kB,type:IB,groupType:jB,questionsOuterContainer:RB,questionsInnerContainer:FB,groupDesignError:LB,groupHeader:$B,inputGroupTitle:NB,inputGroupDescription:DB,moveBox:MB,topLevel:VB,groupText:BB,actionToolbarVisible:qB,fadeInMoveRight:HB,contentContainer:zB,headerContent:WB},GB="_groupDropArea_1m6hh_1",UB="_groupDragging_1m6hh_24",YB="_questionDropArea_1m6hh_45",KB="_groupDropAreaWrapper_1m6hh_72",QB="_hide_1m6hh_79",JB="_hidden_1m6hh_83",XB="_isDragging_1m6hh_92",ZB="_groupHidden_1m6hh_104",eq="_groupEmptyHint_1m6hh_111",tq="_groupEmptyHintHover_1m6hh_130",rq="_dropText_1m6hh_134",Wn={groupDropArea:GB,groupDragging:UB,questionDropArea:YB,groupDropAreaWrapper:KB,hide:QB,hidden:JB,isDragging:XB,groupHidden:ZB,groupEmptyHint:eq,groupEmptyHintHover:tq,dropText:rq};var _h=new Map,_c=new WeakMap,Ib=0,nq=void 0;function iq(t){return t?(_c.has(t)||(Ib+=1,_c.set(t,Ib.toString())),_c.get(t)):"0"}function aq(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>"".concat(e,"_").concat(e==="root"?iq(t.root):t[e])).toString()}function oq(t){const e=aq(t);let r=_h.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=n.get(s.target))==null||l.forEach(c=>{c(u,s)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},_h.set(e,r)}return r}function sq(t,e,r={},n=nq){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:o}=oq(r),s=o.get(t)||[];return o.has(t)||o.set(t,s),s.push(e),a.observe(t),function(){s.splice(s.indexOf(e),1),s.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),_h.delete(i))}}function lq({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=ae.useState(null),p=ae.useRef(),[h,v]=ae.useState({inView:!!s,entry:void 0});p.current=u,ae.useEffect(()=>{if(o||!f)return;let S;return S=sq(f,(_,O)=>{v({inView:_,entry:O}),p.current&&p.current(_,O),O.isIntersecting&&a&&S&&(S(),S=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{S&&S()}},[Array.isArray(t)?t.toString():t,f,i,n,a,o,r,l,e]);const g=(c=h.entry)==null?void 0:c.target,y=ae.useRef();!f&&g&&!a&&!o&&y.current!==g&&(y.current=g,v({inView:!!s,entry:void 0}));const m=[d,h.inView,h.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}function uq({index:t,groupsCount:e,t:r,emptySurvey:n}){const i=Vt(),[{isOver:a,item:o},s]=$i(()=>({accept:"groups",drop:d=>{i(vi({type:"new_group",groupType:d.draggableId,toIndex:t}))},collect:d=>({isOver:d.isOver(),item:d.getItem()})}),[t]),l=o!=null&&o.draggableId=="group",u=o&&o.droppableId=="new-groups"&&fq(o,t)&&dq(o,t,e)&&cq(o,t),c=oa(),f=Ff(c.palette.background.paper);return k.jsxs("div",{ref:s,style:{backgroundColor:l&&f,color:c.palette.text.primary},className:""+(n?Wn.groupEmptyHint+(a?" "+Wn.groupEmptyHintHover:""):a&&u?Wn.groupDropArea:l?Wn.groupDragging:Wn.groupHidden),children:[l&&!n&&k.jsx(k.Fragment,{children:k.jsx("span",{className:Wn.dropText,children:r("empty_survey_hint")})}),n&&k.jsx("span",{children:r("empty_survey_hint")})]})}function Ep({index:t,isLast:e=!1,parentCode:r,parentType:n,parentIndex:i,emptyGroup:a=!1,t:o}){const s=oa(),l=Vt();Te(y=>{var m;return((m=y.designState.globalSetup)==null?void 0:m.reorder_setup)==="collapse_questions"});const u=Te(y=>y.designState.reorder_refresh_code),[{isOver:c,isDragging:f},d]=$i(()=>({accept:["new-questions","questions"],hover(y){y.type!=="questions"||y.droppableId===r||n==="end"&&!op(y.itemType)||(l(vi({type:"reparent_question",source:y.droppableId,destination:r,id:y.draggableId})),y.index=t,y.parentIndex=i,y.isLast=e,y.droppableId=r)},drop:y=>{y.type==="new-questions"&&l(vi({type:"new_question",questionType:y.draggableId,destination:r,toIndex:t}))},collect:y=>{var m,S,_,O,x;return{isOver:((m=y.getItem())==null?void 0:m.type)=="new-questions"&&y.isOver()&&(n!=="end"||op((S=y.getItem())==null?void 0:S.itemType)),isDragging:n==="end"&&!op((_=y.getItem())==null?void 0:_.itemType)?!1:((O=y.getItem())==null?void 0:O.droppableId)==="new-questions"||((x=y.getItem())==null?void 0:x.type)==="questions"&&y.getItem().droppableId!==r&&(t==0&&y.getItem().isLast&&y.getItem().parentIndex+1===i||e&&y.getItem().index==0&&y.getItem().parentIndex-1===i)}}}),[u,t]),{ref:p,inView:h,entry:v}=lq({threshold:0,trackVisibility:f,delay:f?100:0}),g=s.palette.text.primary;return k.jsxs("div",{ref:p,children:[" ",k.jsxs("div",{ref:d,style:{marginTop:!f&&!c?"-0.5rem":"inherit",marginBottom:!f&&!c?"-0.5rem":"inherit"},className:"question-drop-area "+(a?c?Wn.questionDropArea:f&&h?Wn.isDragging:Wn.groupEmptyHint:c?Wn.questionDropArea:f&&h?Wn.isDragging:Wn.hidden)+" ",children:[f&&!a&&k.jsxs(_t,{display:"flex",justifyContent:"center",alignItems:"center",children:[k.jsx(a0,{sx:{marginRight:"8px",color:g}}),k.jsx("span",{className:Wn.dropText,style:{color:g},children:o("empty_group_hint")})]}),a&&k.jsxs(_t,{display:"flex",justifyContent:"center",alignItems:"center",children:[k.jsx(a0,{sx:{marginRight:"8px",color:g}}),k.jsx("span",{className:Wn.dropText,style:{color:g},children:o("empty_group_hint")})]})]})]})}const cq=(t,e)=>!(((t==null?void 0:t.index)===e||e-1===(t==null?void 0:t.index))&&(t==null?void 0:t.droppableId)!=="new-groups"),fq=(t,e)=>(t==null?void 0:t.draggableId)!=="welcome"?!0:e===0,dq=(t,e,r)=>(t==null?void 0:t.draggableId)!=="end"?!0:e===r;function pq({t,code:e,collapsed:r,children:n}){console.log("Group Header: "+e);const i=Vt(),o=Te(f=>f.designState.langInfo).onMainLang,s=Te(f=>f.designState[e]),l=Qr(),u=Te(f=>{var d;return((d=f.designState.globalSetup)==null?void 0:d.reorder_setup)==="collapse_none"}),c=ae.useCallback(()=>i(Yk(e)),[e]);return k.jsx(_t,{className:Ga.headerContent,children:k.jsxs(_t,{className:Ga.groupHeader,"data-code":e,children:[k.jsx(_t,{className:Ga.contentContainer,children:u&&o&&k.jsx("div",{className:Ga.actionToolbarVisible,children:k.jsx(pw,{code:e,t,isGroup:!0,onDelete:c,disableDelete:n&&n.length>0})})}),k.jsx("div",{className:Ga.textHeader,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:k.jsx(cf,{code:e,extended:!1,contentKey:"label",placeholder:t("content_editor_placeholder_title")})}),s.showDescription&&k.jsx(_t,{className:Ga.textDescription,children:k.jsx(cf,{code:e,extended:!0,contentKey:"description",placeholder:t("content_editor_placeholder_description")})}),o&&k.jsx(gv,{type:"group",code:e})]})})}const hq=j.memo(pq);function vq({t,code:e,index:r}){const n=Vt(),i=Te(O=>O.designState[e]),a=Te(O=>{var x;return((x=O.designState.globalSetup)==null?void 0:x.reorder_setup)==="collapse_groups"}),o=Te(O=>O.designState.langInfo),s=Te(O=>{var x;return((x=O.designState.setup)==null?void 0:x.code)==e}),l=oa(),u=ae.useRef(),[c,f,d]=ka({type:"groups",item:()=>({index:r,draggableId:e,droppableId:"groups",type:"groups"}),collect:O=>{var x;return((x=O.getItem())==null?void 0:x.draggableId)===e}}),[p,h]=$i({accept:"groups",hover(O,x){var P;if(!u.current||g=="welcome"||g=="end"||!x.isOver({shallow:!0})||!O||O.droppableId!="groups")return;const w=O.index,C=r;if(w===C)return;const I=(P=u.current)==null?void 0:P.getBoundingClientRect(),A=x.getClientOffset();w<C&&A.y<I.top+50||w>C&&A.y>I.bottom-50||(n(vi({type:"reorder_groups",id:O.draggableId,fromIndex:w,toIndex:C})),O.index=C)}}),v=o.onMainLang,g=i==null?void 0:i.groupType.toLowerCase(),y=i==null?void 0:i.children,m=O=>{const x={transition:"all 500ms"};return O&&(x.opacity=.2),x};h(d(u));const S=Ff(l.palette.background.paper),_=l.textStyles.question.color;return i?k.jsxs(_t,{sx:s?{border:"0.5px solid ".concat(_),color:_,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:S}:{backgroundColor:"background.paper"},className:Ga.topLevel,ref:u,style:m(c),children:[a==!0&&v&&g!=="welcome"&&g!=="end"?k.jsx("div",{className:Ga.moveBox,ref:f,children:k.jsx(yv,{style:{color:_}})}):k.jsx("br",{}),k.jsx(hq,{t,code:e,index:r,collapsed:a,children:y}),(a!==!0||!v)&&k.jsxs(k.Fragment,{children:[y&&y.length>0&&k.jsx(Ep,{index:0,parentCode:e,parentType:g,parentIndex:r,t}),y==null?void 0:y.map((O,x)=>k.jsxs(j.Fragment,{children:[k.jsx(TB,{t,parentCode:e,parentIndex:r,index:x,isLast:y.length==x+1,type:O.type,code:O.code,onMainLang:v},O.code),k.jsx(Ep,{isLast:y.length==x+1,index:x+1,parentIndex:r,parentCode:e,parentType:g,t})]},O.code)),(!y||!y.length)&&v&&k.jsx(Ep,{t,index:0,parentCode:e,parentType:g,emptyGroup:!0})]})]}):null}const gq=j.memo(vq),Xf=0,uo=1,ol=2,yw=4;function bw(t,e){return r=>t(e(r))}function mq(t,e){return e(t)}function _w(t,e){return r=>t(e,r)}function jb(t,e){return()=>t(e)}function Zf(t,e){return e(t),t}function Dr(...t){return t}function yq(t){t()}function Rb(t){return()=>t}function bq(...t){return()=>{t.map(yq)}}function Xv(t){return t!==void 0}function sl(){}function pr(t,e){return t(uo,e)}function Et(t,e){t(Xf,e)}function Zv(t){t(ol)}function ei(t){return t(yw)}function st(t,e){return pr(t,_w(e,Xf))}function Ca(t,e){const r=t(uo,n=>{r(),e(n)});return r}function Ut(){const t=[];return(e,r)=>{switch(e){case ol:t.splice(0,t.length);return;case uo:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)};case Xf:t.slice().forEach(n=>{n(r)});return;default:throw new Error("unrecognized action ".concat(e))}}}function Ve(t){let e=t;const r=Ut();return(n,i)=>{switch(n){case uo:i(e);break;case Xf:e=i;break;case yw:return e}return r(n,i)}}function _q(t){let e,r;const n=()=>e&&e();return function(i,a){switch(i){case uo:return a?r===a?void 0:(n(),r=a,e=pr(t,a),e):(n(),sl);case ol:n(),r=null;return;default:throw new Error("unrecognized action ".concat(i))}}}function ti(t){return Zf(Ut(),e=>st(t,e))}function Vn(t,e){return Zf(Ve(e),r=>st(t,r))}function Sq(...t){return e=>t.reduceRight(mq,e)}function Ie(t,...e){const r=Sq(...e);return(n,i)=>{switch(n){case uo:return pr(t,r(i));case ol:Zv(t);return}}}function Sw(t,e){return t===e}function Nr(t=Sw){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function vt(t){return e=>r=>{t(r)&&e(r)}}function Ke(t){return e=>bw(e,t)}function Sa(t){return e=>()=>e(t)}function ea(t,e){return r=>n=>r(e=t(e,n))}function Ys(t){return e=>r=>{t>0?t--:e(r)}}function Ka(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function Fb(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function Lt(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);pr(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>a([o].concat(e));r===i?s():n=s}}function Lb(...t){return function(e,r){switch(e){case uo:return bq(...t.map(n=>pr(n,r)));case ol:return;default:throw new Error("unrecognized action ".concat(e))}}}function ht(t,e=Sw){return Ie(t,Nr(e))}function vn(...t){const e=Ut(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);pr(a,l=>{r[o]=l,n=n|s,n===i&&Et(e,r)})}),function(a,o){switch(a){case uo:return n===i&&o(r),pr(e,o);case ol:return Zv(e);default:throw new Error("unrecognized action ".concat(a))}}}function cr(t,e=[],{singleton:r}={singleton:!0}){return{id:Oq(),constructor:t,dependencies:e,singleton:r}}const Oq=()=>Symbol();function xq(t){const e=new Map,r=({id:n,constructor:i,dependencies:a,singleton:o})=>{if(o&&e.has(n))return e.get(n);const s=i(a.map(l=>r(l)));return o&&e.set(n,s),s};return r(t)}function wq(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)n.hasOwnProperty(o)||(r[o]=e[o]);return r}const Sc=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Ow(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=j.createContext({});function l(v,g){v.propsReady&&Et(v.propsReady,!1);for(const y of n){const m=v[e.required[y]];Et(m,g[y])}for(const y of i)if(y in g){const m=v[e.optional[y]];Et(m,g[y])}v.propsReady&&Et(v.propsReady,!0)}function u(v){return a.reduce((g,y)=>(g[y]=m=>{const S=v[e.methods[y]];Et(S,m)},g),{})}function c(v){return o.reduce((g,y)=>(g[y]=_q(v[e.events[y]]),g),{})}return{Component:j.forwardRef((v,g)=>{const{children:y,...m}=v,[S]=j.useState(()=>Zf(xq(t),O=>l(O,m))),[_]=j.useState(jb(c,S));return Sc(()=>{for(const O of o)O in m&&pr(_[O],m[O]);return()=>{Object.values(_).map(Zv)}},[m,_,S]),Sc(()=>{l(S,m)}),j.useImperativeHandle(g,Rb(u(S))),j.createElement(s.Provider,{value:S},r?j.createElement(r,wq([...n,...i,...o],m),y):y)}),usePublisher:v=>j.useCallback(_w(Et,j.useContext(s)[v]),[v]),useEmitterValue:v=>{const y=j.useContext(s)[v],[m,S]=j.useState(jb(ei,y));return Sc(()=>pr(y,_=>{_!==m&&S(Rb(_))}),[y,m]),m},useEmitter:(v,g)=>{const m=j.useContext(s)[v];Sc(()=>pr(m,g),[g,m])}}}const Eq=typeof document<"u"?j.useLayoutEffect:j.useEffect,Cq=Eq;var ri=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(ri||{});const Tq={0:"debug",1:"log",2:"warn",3:"error"},Pq=()=>typeof globalThis>"u"?window:globalThis,co=cr(()=>{const t=Ve(3);return{log:Ve((r,n,i=1)=>{var a;const o=(a=Pq().VIRTUOSO_LOG_LEVEL)!=null?a:ei(t);i>=o&&console[Tq[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:t}},[],{singleton:!0});function eg(t,e=!0){const r=j.useRef(null);let n=i=>{};if(typeof ResizeObserver<"u"){const i=j.useMemo(()=>new ResizeObserver(a=>{const o=a[0].target;o.offsetParent!==null&&t(o)}),[t]);n=a=>{a&&e?(i.observe(a),r.current=a):(r.current&&i.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:n}}function Go(t,e=!0){return eg(t,e).callbackRef}function Aq(t,e,r,n,i,a,o){const s=j.useCallback(l=>{const u=kq(l.children,e,"offsetHeight",i);let c=l.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const f=c.lastElementChild.dataset.viewportType==="window",d=o?o.scrollTop:f?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,p=o?o.scrollHeight:f?document.documentElement.scrollHeight:c.scrollHeight,h=o?o.offsetHeight:f?window.innerHeight:c.offsetHeight;n({scrollTop:Math.max(d,0),scrollHeight:p,viewportHeight:h}),a==null||a(Iq("row-gap",getComputedStyle(l).rowGap,i)),u!==null&&t(u)},[t,e,i,a,o,n]);return eg(s,r)}function kq(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(!s||s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),c=e(s,r);if(c===0&&n("Zero-sized element, this should not happen",{child:s},ri.ERROR),c===u)continue;const f=a[a.length-1];a.length===0||f.size!==c||f.endIndex!==l-1?a.push({startIndex:l,endIndex:l,size:c}):a[a.length-1].endIndex++}return a}function Iq(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ri.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function io(t,e){return Math.round(t.getBoundingClientRect()[e])}function xw(t,e){return Math.abs(t-e)<1.01}function ww(t,e,r,n=sl,i){const a=j.useRef(null),o=j.useRef(null),s=j.useRef(null),l=j.useCallback(f=>{const d=f.target,p=d===window||d===document,h=p?window.pageYOffset||document.documentElement.scrollTop:d.scrollTop,v=p?document.documentElement.scrollHeight:d.scrollHeight,g=p?window.innerHeight:d.offsetHeight,y=()=>{t({scrollTop:Math.max(h,0),scrollHeight:v,viewportHeight:g})};f.suppressFlushSync?y():Tk.flushSync(y),o.current!==null&&(h===o.current||h<=0||h===v-g)&&(o.current=null,e(!0),s.current&&(clearTimeout(s.current),s.current=null))},[t,e]);j.useEffect(()=>{const f=i||a.current;return n(i||a.current),l({target:f,suppressFlushSync:!0}),f.addEventListener("scroll",l,{passive:!0}),()=>{n(null),f.removeEventListener("scroll",l)}},[a,l,r,n,i]);function u(f){const d=a.current;if(!d||"offsetHeight"in d&&d.offsetHeight===0)return;const p=f.behavior==="smooth";let h,v,g;d===window?(v=Math.max(io(document.documentElement,"height"),document.documentElement.scrollHeight),h=window.innerHeight,g=document.documentElement.scrollTop):(v=d.scrollHeight,h=io(d,"height"),g=d.scrollTop);const y=v-h;if(f.top=Math.ceil(Math.max(Math.min(y,f.top),0)),xw(h,v)||f.top===g){t({scrollTop:g,scrollHeight:v,viewportHeight:h}),p&&e(!0);return}p?(o.current=f.top,s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{s.current=null,o.current=null,e(!0)},1e3)):o.current=null,d.scrollTo(f)}function c(f){a.current.scrollBy(f)}return{scrollerRef:a,scrollByCallback:c,scrollToCallback:u}}const qn=cr(()=>{const t=Ut(),e=Ut(),r=Ve(0),n=Ut(),i=Ve(0),a=Ut(),o=Ut(),s=Ve(0),l=Ve(0),u=Ve(0),c=Ve(0),f=Ut(),d=Ut(),p=Ve(!1);return st(Ie(t,Ke(({scrollTop:h})=>h)),e),st(Ie(t,Ke(({scrollHeight:h})=>h)),o),st(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:n,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),nu={lvl:0};function Ew(t,e,r,n=nu,i=nu){return{k:t,v:e,lvl:r,l:n,r:i}}function br(t){return t===nu}function qs(){return nu}function Sh(t,e){if(br(t))return nu;const{k:r,l:n,r:i}=t;if(e===r){if(br(n))return i;if(br(i))return n;{const[a,o]=Cw(n);return Hc(an(t,{k:a,v:o,l:Tw(n)}))}}else return e<r?Hc(an(t,{l:Sh(n,e)})):Hc(an(t,{r:Sh(i,e)}))}function iu(t,e){if(!br(t))return e===t.k?t.v:e<t.k?iu(t.l,e):iu(t.r,e)}function ki(t,e,r="k"){if(br(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=ki(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return ki(t.l,e,r)}function Zn(t,e,r){return br(t)?Ew(e,r,1):e===t.k?an(t,{k:e,v:r}):e<t.k?$b(an(t,{l:Zn(t.l,e,r)})):$b(an(t,{r:Zn(t.r,e,r)}))}function Oh(t,e,r){if(br(t))return[];const{k:n,v:i,l:a,r:o}=t;let s=[];return n>e&&(s=s.concat(Oh(a,e,r))),n>=e&&n<=r&&s.push({k:n,v:i}),n<=r&&(s=s.concat(Oh(o,e,r))),s}function Co(t){return br(t)?[]:[...Co(t.l),{k:t.k,v:t.v},...Co(t.r)]}function Cw(t){return br(t.r)?[t.k,t.v]:Cw(t.r)}function Tw(t){return br(t.r)?t.l:Hc(an(t,{r:Tw(t.r)}))}function an(t,e){return Ew(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Cp(t){return br(t)||t.lvl>t.r.lvl}function $b(t){return xh(Aw(t))}function Hc(t){const{l:e,r,lvl:n}=t;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if(Cp(e))return Aw(an(t,{lvl:n-1}));if(!br(e)&&!br(e.r))return an(e.r,{l:an(e,{r:e.r.l}),r:an(t,{l:e.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if(Cp(t))return xh(an(t,{lvl:n-1}));if(!br(r)&&!br(r.l)){const i=r.l,a=Cp(i)?r.lvl-1:r.lvl;return an(i,{l:an(t,{r:i.l,lvl:n-1}),r:xh(an(r,{l:i.r,lvl:a})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function ed(t,e,r){if(br(t))return[];const n=ki(t,e)[0];return jq(Oh(t,n,r))}function Pw(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({start:n,end:s-1,value:i}),n=s,i=l}return a.push({start:n,end:1/0,value:i}),a}function jq(t){return Pw(t,({k:e,v:r})=>({index:e,value:r}))}function xh(t){const{r:e,lvl:r}=t;return!br(e)&&!br(e.r)&&e.lvl===r&&e.r.lvl===r?an(e,{l:an(t,{r:e.l}),lvl:r+1}):t}function Aw(t){const{l:e}=t;return!br(e)&&e.lvl===t.lvl?an(e,{r:an(t,{l:e.r})}):t}function df(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error("Failed binary finding record in array - ".concat(t.join(","),", searched for ").concat(e))}function kw(t,e,r){return t[df(t,e,r)]}function Rq(t,e,r,n){const i=df(t,e,n),a=df(t,r,n,i);return t.slice(i,a+1)}const tg=cr(()=>({recalcInProgress:Ve(!1)}),[],{singleton:!0});function Fq(t){const{size:e,startIndex:r,endIndex:n}=t;return i=>i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}function Nb(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function Lq(t,e){let r=br(t)?0:1/0;for(const n of e){const{size:i,startIndex:a,endIndex:o}=n;if(r=Math.min(r,a),br(t)){t=Zn(t,0,i);continue}const s=ed(t,a-1,o+1);if(s.some(Fq(n)))continue;let l=!1,u=!1;for(const{start:c,end:f,value:d}of s)l?(o>=c||i===d)&&(t=Sh(t,c)):(u=d!==i,l=!0),f>o&&o>=c&&d!==i&&(t=Zn(t,o+1,d));u&&(t=Zn(t,a,i))}return[t,r]}function $q(){return{offsetTree:[],sizeTree:qs(),groupOffsetTree:qs(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function rg({index:t},e){return e===t?0:e<t?-1:1}function Nq({offset:t},e){return e===t?0:e<t?-1:1}function Dq(t){return{index:t.index,value:t}}function Mq(t,e,r,n=0){return n>0&&(e=Math.max(e,kw(t,n,rg).offset)),Pw(Rq(t,e,r,Nq),Dq)}function wh(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=df(i,e-1,rg),s=i[l].offset;const c=ki(r,e-1);a=c[0],o=c[1],i.length&&i[l].size===ki(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:c}of ed(r,e,1/0)){const f=u-a,d=f*o+s+f*n;i.push({offset:d,size:c,index:u}),a=u,s=d,o=c}return{offsetTree:i,lastIndex:a,lastOffset:s,lastSize:o}}function Vq(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,ri.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&br(a)&&e.length===2){const d=e[0].size,p=e[1].size;o=r.reduce((h,v)=>Zn(Zn(h,v,d),v+1,p),o)}else[o,s]=Lq(o,e);if(o===a)return t;const{offsetTree:l,lastIndex:u,lastSize:c,lastOffset:f}=wh(t.offsetTree,s,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((d,p)=>Zn(d,p,au(p,l,i)),qs()),groupIndices:r}}function au(t,e,r){if(e.length===0)return 0;const{offset:n,index:i,size:a}=kw(e,t,rg),o=t-i,s=a*o+(o-1)*r+n;return s>0?s+r:s}function Bq(t){return typeof t.groupIndex<"u"}function Iw(t,e,r){if(Bq(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=jw(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function jw(t,e){if(!td(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function td(t){return!br(t.groupOffsetTree)}function qq(t){return Co(t).map(({k:e,v:r},n,i)=>{const a=i[n+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:r}})}const Hq={offsetHeight:"height",offsetWidth:"width"},la=cr(([{log:t},{recalcInProgress:e}])=>{const r=Ut(),n=Ut(),i=Vn(n,0),a=Ut(),o=Ut(),s=Ve(0),l=Ve([]),u=Ve(void 0),c=Ve(void 0),f=Ve((O,x)=>io(O,Hq[x])),d=Ve(void 0),p=Ve(0),h=$q(),v=Vn(Ie(r,Lt(l,t,p),ea(Vq,h),Nr()),h),g=Vn(Ie(l,Nr(),ea((O,x)=>({prev:O.current,current:x}),{prev:[],current:[]}),Ke(({prev:O})=>O)),[]);st(Ie(l,vt(O=>O.length>0),Lt(v,p),Ke(([O,x,w])=>{const C=O.reduce((I,A,P)=>Zn(I,A,au(A,x.offsetTree,w)||P),qs());return{...x,groupIndices:O,groupOffsetTree:C}})),v),st(Ie(n,Lt(v),vt(([O,{lastIndex:x}])=>O<x),Ke(([O,{lastIndex:x,lastSize:w}])=>[{startIndex:O,endIndex:x,size:w}])),r),st(u,c);const y=Vn(Ie(u,Ke(O=>O===void 0)),!0);st(Ie(c,vt(O=>O!==void 0&&br(ei(v).sizeTree)),Ke(O=>[{startIndex:0,endIndex:0,size:O}])),r);const m=ti(Ie(r,Lt(v),ea(({sizes:O},[x,w])=>({changed:w!==O,sizes:w}),{changed:!1,sizes:h}),Ke(O=>O.changed)));pr(Ie(s,ea((O,x)=>({diff:O.prev-x,prev:x}),{diff:0,prev:0}),Ke(O=>O.diff)),O=>{const{groupIndices:x}=ei(v);if(O>0)Et(e,!0),Et(a,O+Nb(O,x));else if(O<0){const w=ei(g);w.length>0&&(O-=Nb(-O,w)),Et(o,O)}}),pr(Ie(s,Lt(t)),([O,x])=>{O<0&&x("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},ri.ERROR)});const S=ti(a);st(Ie(a,Lt(v),Ke(([O,x])=>{const w=x.groupIndices.length>0,C=[],I=x.lastSize;if(w){const A=iu(x.sizeTree,0);let P=0,E=0;for(;P<O;){const N=x.groupIndices[E],V=x.groupIndices.length===E+1?1/0:x.groupIndices[E+1]-N-1;C.push({startIndex:N,endIndex:N,size:A}),C.push({startIndex:N+1,endIndex:N+1+V-1,size:I}),E++,P+=V+1}const R=Co(x.sizeTree);return P!==O&&R.shift(),R.reduce((N,{k:V,v:z})=>{let J=N.ranges;return N.prevSize!==0&&(J=[...N.ranges,{startIndex:N.prevIndex,endIndex:V+O-1,size:N.prevSize}]),{ranges:J,prevIndex:V+O,prevSize:z}},{ranges:C,prevIndex:O,prevSize:0}).ranges}return Co(x.sizeTree).reduce((A,{k:P,v:E})=>({ranges:[...A.ranges,{startIndex:A.prevIndex,endIndex:P+O-1,size:A.prevSize}],prevIndex:P+O,prevSize:E}),{ranges:[],prevIndex:0,prevSize:I}).ranges})),r);const _=ti(Ie(o,Lt(v,p),Ke(([O,{offsetTree:x},w])=>{const C=-O;return au(C,x,w)})));return st(Ie(o,Lt(v,p),Ke(([O,x,w])=>{if(x.groupIndices.length>0){if(br(x.sizeTree))return x;let I=qs();const A=ei(g);let P=0,E=0,R=0;for(;P<-O;){R=A[E];const N=A[E+1]-R-1;E++,P+=N+1}if(I=Co(x.sizeTree).reduce((N,{k:V,v:z})=>Zn(N,Math.max(0,V+O),z),I),P!==-O){const N=iu(x.sizeTree,R);I=Zn(I,0,N);const V=ki(x.sizeTree,-O+1)[1];I=Zn(I,1,V)}return{...x,sizeTree:I,...wh(x.offsetTree,0,I,w)}}else{const I=Co(x.sizeTree).reduce((A,{k:P,v:E})=>Zn(A,Math.max(0,P+O),E),qs());return{...x,sizeTree:I,...wh(x.offsetTree,0,I,w)}}})),v),{data:d,totalCount:n,sizeRanges:r,groupIndices:l,defaultItemSize:c,fixedItemSize:u,unshiftWith:a,shiftWith:o,shiftWithOffset:_,beforeUnshiftWith:S,firstItemIndex:s,gap:p,sizes:v,listRefresh:m,statefulTotalCount:i,trackItemSizes:y,itemSize:f}},Dr(co,tg),{singleton:!0}),zq=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Rw(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!zq)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const _u=cr(([{sizes:t,totalCount:e,listRefresh:r,gap:n},{scrollingInProgress:i,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:l,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{const p=Ut(),h=Ve(0);let v=null,g=null,y=null;function m(){v&&(v(),v=null),y&&(y(),y=null),g&&(clearTimeout(g),g=null),Et(i,!1)}return st(Ie(p,Lt(t,a,e,h,l,u,d),Lt(n,c,f),Ke(([[S,_,O,x,w,C,I,A],P,E,R])=>{const F=Rw(S),{align:N,behavior:V,offset:z}=F,J=x-1,H=Iw(F,_,J);let M=au(H,_.offsetTree,P)+C;N==="end"?(M+=E+ki(_.sizeTree,H)[1]-O+R,H===J&&(M+=I)):N==="center"?M+=(E+ki(_.sizeTree,H)[1]-O+R)/2:M-=w,z&&(M+=z);const L=q=>{m(),q?(A("retrying to scroll to",{location:S},ri.DEBUG),Et(p,S)):A("list did not change, scroll successful",{},ri.DEBUG)};if(m(),V==="smooth"){let q=!1;y=pr(r,W=>{q=q||W}),v=Ca(s,()=>{L(q)})}else v=Ca(Ie(r,Wq(150)),L);return g=setTimeout(()=>{m()},1200),Et(i,!0),A("scrolling from index to",{index:H,top:M,behavior:V},ri.DEBUG),{top:M,behavior:V}})),o),{scrollToIndex:p,topListHeight:h}},Dr(la,qn,co),{singleton:!0});function Wq(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}const ou="up",Yl="down",Gq="none",Uq={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Yq=0,Su=cr(([{scrollContainerState:t,scrollTop:e,viewportHeight:r,headerHeight:n,footerHeight:i,scrollBy:a}])=>{const o=Ve(!1),s=Ve(!0),l=Ut(),u=Ut(),c=Ve(4),f=Ve(Yq),d=Vn(Ie(Lb(Ie(ht(e),Ys(1),Sa(!0)),Ie(ht(e),Ys(1),Sa(!1),Fb(100))),Nr()),!1),p=Vn(Ie(Lb(Ie(a,Sa(!0)),Ie(a,Sa(!1),Fb(200))),Nr()),!1);st(Ie(vn(ht(e),ht(f)),Ke(([m,S])=>m<=S),Nr()),s),st(Ie(s,Ka(50)),u);const h=ti(Ie(vn(t,ht(r),ht(n),ht(i),ht(c)),ea((m,[{scrollTop:S,scrollHeight:_},O,x,w,C])=>{const I=S+O-_>-C,A={viewportHeight:O,scrollTop:S,scrollHeight:_};if(I){let E,R;return S>m.state.scrollTop?(E="SCROLLED_DOWN",R=m.state.scrollTop-S):(E="SIZE_DECREASED",R=m.state.scrollTop-S||m.scrollTopDelta),{atBottom:!0,state:A,atBottomBecause:E,scrollTopDelta:R}}let P;return A.scrollHeight>m.state.scrollHeight?P="SIZE_INCREASED":O<m.state.viewportHeight?P="VIEWPORT_HEIGHT_DECREASING":S<m.state.scrollTop?P="SCROLLING_UPWARDS":P="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:P,state:A}},Uq),Nr((m,S)=>m&&m.atBottom===S.atBottom))),v=Vn(Ie(t,ea((m,{scrollTop:S,scrollHeight:_,viewportHeight:O})=>{if(xw(m.scrollHeight,_))return{scrollTop:S,scrollHeight:_,jump:0,changed:!1};{const x=_-(S+O)<1;return m.scrollTop!==S&&x?{scrollHeight:_,scrollTop:S,jump:m.scrollTop-S,changed:!0}:{scrollHeight:_,scrollTop:S,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),vt(m=>m.changed),Ke(m=>m.jump)),0);st(Ie(h,Ke(m=>m.atBottom)),o),st(Ie(o,Ka(50)),l);const g=Ve(Yl);st(Ie(t,Ke(({scrollTop:m})=>m),Nr(),ea((m,S)=>ei(p)?{direction:m.direction,prevScrollTop:S}:{direction:S<m.prevScrollTop?ou:Yl,prevScrollTop:S},{direction:Yl,prevScrollTop:0}),Ke(m=>m.direction)),g),st(Ie(t,Ka(50),Sa(Gq)),g);const y=Ve(0);return st(Ie(d,vt(m=>!m),Sa(0)),y),st(Ie(e,Ka(100),Lt(d),vt(([m,S])=>!!S),ea(([m,S],[_])=>[S,_],[0,0]),Ke(([m,S])=>S-m)),y),{isScrolling:d,isAtTop:s,isAtBottom:o,atBottomState:h,atTopStateChange:u,atBottomStateChange:l,scrollDirection:g,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:v}},Dr(qn)),fo=cr(([{log:t}])=>{const e=Ve(!1),r=ti(Ie(e,vt(n=>n),Nr()));return pr(e,n=>{n&&ei(t)("props updated",{},ri.DEBUG)}),{propsReady:e,didMount:r}},Dr(co),{singleton:!0});function ng(t,e){t==0?e():requestAnimationFrame(()=>ng(t-1,e))}function ig(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Ou=cr(([{sizes:t,listRefresh:e,defaultItemSize:r},{scrollTop:n},{scrollToIndex:i},{didMount:a}])=>{const o=Ve(!0),s=Ve(0),l=Ve(!1);return st(Ie(a,Lt(s),vt(([u,c])=>!!c),Sa(!1)),o),pr(Ie(vn(e,a),Lt(o,t,r,l),vt(([[,u],c,{sizeTree:f},d,p])=>u&&(!br(f)||Xv(d))&&!c&&!p),Lt(s)),([,u])=>{Et(l,!0),ng(3,()=>{Ca(n,()=>Et(o,!0)),Et(i,u)})}),{scrolledToInitialItem:o,initialTopMostItemIndex:s}},Dr(la,qn,_u,fo),{singleton:!0});function Db(t){return t?t==="smooth"?"smooth":"auto":!1}const Kq=(t,e)=>typeof t=="function"?Db(t(e)):e&&Db(t),Qq=cr(([{totalCount:t,listRefresh:e},{isAtBottom:r,atBottomState:n},{scrollToIndex:i},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:l},{scrollingInProgress:u}])=>{const c=Ve(!1),f=Ut();let d=null;function p(v){Et(i,{index:"LAST",align:"end",behavior:v})}pr(Ie(vn(Ie(ht(t),Ys(1)),s),Lt(ht(c),r,a,u),Ke(([[v,g],y,m,S,_])=>{let O=g&&S,x="auto";return O&&(x=Kq(y,m||_),O=O&&!!x),{totalCount:v,shouldFollow:O,followOutputBehavior:x}}),vt(({shouldFollow:v})=>v)),({totalCount:v,followOutputBehavior:g})=>{d&&(d(),d=null),d=Ca(e,()=>{ei(l)("following output to ",{totalCount:v},ri.DEBUG),p(g),d=null})});function h(v){const g=Ca(n,y=>{v&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!d&&(ei(l)("scrolling to bottom due to increased size",{},ri.DEBUG),p("auto"))});setTimeout(g,100)}return pr(Ie(vn(ht(c),t,o),vt(([v,,g])=>v&&g),ea(({value:v},[,g])=>({refreshed:v===g,value:g}),{refreshed:!1,value:0}),vt(({refreshed:v})=>v),Lt(c,t)),([,v])=>{h(v!==!1)}),pr(f,()=>{h(ei(c)!==!1)}),pr(vn(ht(c),n),([v,g])=>{v&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:c,autoscrollToBottom:f}},Dr(la,Su,_u,Ou,fo,co,qn));function Jq(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{totalCount:0,groupIndices:[]})}const Fw=cr(([{totalCount:t,groupIndices:e,sizes:r},{scrollTop:n,headerHeight:i}])=>{const a=Ut(),o=Ut(),s=ti(Ie(a,Ke(Jq)));return st(Ie(s,Ke(l=>l.totalCount)),t),st(Ie(s,Ke(l=>l.groupIndices)),e),st(Ie(vn(n,r,i),vt(([l,u])=>td(u)),Ke(([l,u,c])=>ki(u.groupOffsetTree,Math.max(l-c,0),"v")[0]),Nr(),Ke(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},Dr(la,qn));function su(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function Lw(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const pf="top",hf="bottom",Mb="none";function Vb(t,e,r){return typeof t=="number"?r===ou&&e===pf||r===Yl&&e===hf?t:0:r===ou?e===pf?t.main:t.reverse:e===hf?t.main:t.reverse}function Bb(t,e){return typeof t=="number"?t:t[e]||0}const ag=cr(([{scrollTop:t,viewportHeight:e,deviation:r,headerHeight:n,fixedHeaderHeight:i}])=>{const a=Ut(),o=Ve(0),s=Ve(0),l=Ve(0),u=Vn(Ie(vn(ht(t),ht(e),ht(n),ht(a,su),ht(l),ht(o),ht(i),ht(r),ht(s)),Ke(([c,f,d,[p,h],v,g,y,m,S])=>{const _=c-m,O=g+y,x=Math.max(d-_,0);let w=Mb;const C=Bb(S,pf),I=Bb(S,hf);return p-=m,p+=d+y,h+=d+y,h-=m,p>c+O-C&&(w=ou),h<c-x+f+I&&(w=Yl),w!==Mb?[Math.max(_-d-Vb(v,pf,w)-C,0),_-x-y+f+Vb(v,hf,w)+I]:null}),vt(c=>c!=null),Nr(su)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:o,increaseViewportBy:s,visibleRange:u}},Dr(qn),{singleton:!0});function Xq(t,e,r){if(td(e)){const n=jw(t,e);return[{index:ki(e.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:t,size:0,offset:0,data:r&&r[0]}]}const Tp={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function qb(t,e,r){if(t.length===0)return[];if(!td(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=ed(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let c;u.index===s.start?c={type:"group",index:l}:c={index:u.index-(l+1)+r,groupIndex:l},a.push({...c,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return a}function zc(t,e,r,n,i,a){const{lastSize:o,lastOffset:s,lastIndex:l}=i;let u=0,c=0;if(t.length>0){u=t[0].offset;const v=t[t.length-1];c=v.offset+v.size}const f=r-l,d=s+f*o+(f-1)*n,p=u,h=d-c;return{items:qb(t,i,a),topItems:qb(e,i,a),topListHeight:e.reduce((v,g)=>g.size+v,0),offsetTop:u,offsetBottom:h,top:p,bottom:c,totalCount:r,firstItemIndex:a}}function $w(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const c of r.groupIndices){if(c-o>=t)break;o++}const s=t+o,l=ig(e,s),u=Array.from({length:s}).map((c,f)=>({index:f+l,size:0,offset:0,data:a[f+l]}));return zc(u,[],s,i,r,n)}const Uo=cr(([{sizes:t,totalCount:e,data:r,firstItemIndex:n,gap:i},a,{visibleRange:o,listBoundary:s,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:f},d,{didMount:p},{recalcInProgress:h}])=>{const v=Ve([]),g=Ve(0),y=Ut();st(a.topItemsIndexes,v);const m=Vn(Ie(vn(p,h,ht(o,su),ht(e),ht(t),ht(c),u,ht(v),ht(n),ht(i),r),vt(([x,w,,C,,,,,,,I])=>{const A=I&&I.length!==C;return x&&!w&&!A}),Ke(([,,[x,w],C,I,A,P,E,R,F,N])=>{const V=I,{sizeTree:z,offsetTree:J}=V,H=ei(g);if(C===0)return{...Tp,totalCount:C};if(x===0&&w===0)return H===0?{...Tp,totalCount:C}:$w(H,A,I,R,F,N||[]);if(br(z))return H>0?null:zc(Xq(ig(A,C),V,N),[],C,F,V,R);const M=[];if(E.length>0){const K=E[0],$=E[E.length-1];let U=0;for(const X of ed(z,K,$)){const ee=X.value,se=Math.max(X.start,K),Oe=Math.min(X.end,$);for(let be=se;be<=Oe;be++)M.push({index:be,size:ee,offset:U,data:N&&N[be]}),U+=ee}}if(!P)return zc([],M,C,F,V,R);const L=E.length>0?E[E.length-1]+1:0,q=Mq(J,x,w,L);if(q.length===0)return null;const W=C-1,Q=Zf([],K=>{for(const $ of q){const U=$.value;let X=U.offset,ee=$.start;const se=U.size;if(U.offset<x){ee+=Math.floor((x-U.offset+F)/(se+F));const be=ee-$.start;X+=be*se+be*F}ee<L&&(X+=(L-ee)*se,ee=L);const Oe=Math.min($.end,W);for(let be=ee;be<=Oe&&!(X>=w);be++)K.push({index:be,size:se,offset:X,data:N&&N[be]}),X+=se+F}});return zc(Q,M,C,F,V,R)}),vt(x=>x!==null),Nr()),Tp);st(Ie(r,vt(Xv),Ke(x=>x==null?void 0:x.length)),e),st(Ie(m,Ke(x=>x.topListHeight)),f),st(f,l),st(Ie(m,Ke(x=>[x.top,x.bottom])),s),st(Ie(m,Ke(x=>x.items)),y);const S=ti(Ie(m,vt(({items:x})=>x.length>0),Lt(e,r),vt(([{items:x},w])=>x[x.length-1].originalIndex===w-1),Ke(([,x,w])=>[x-1,w]),Nr(su),Ke(([x])=>x))),_=ti(Ie(m,Ka(200),vt(({items:x,topItems:w})=>x.length>0&&x[0].originalIndex===w.length),Ke(({items:x})=>x[0].index),Nr())),O=ti(Ie(m,vt(({items:x})=>x.length>0),Ke(({items:x})=>{let w=0,C=x.length-1;for(;x[w].type==="group"&&w<C;)w++;for(;x[C].type==="group"&&C>w;)C--;return{startIndex:x[w].index,endIndex:x[C].index}}),Nr(Lw)));return{listState:m,topItemsIndexes:v,endReached:S,startReached:_,rangeChanged:O,itemsRendered:y,initialItemCount:g,...d}},Dr(la,Fw,ag,Ou,_u,Su,fo,tg),{singleton:!0}),Zq=cr(([{sizes:t,firstItemIndex:e,data:r,gap:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(st(Ie(s,Lt(a),vt(([,l])=>l!==0),Lt(i,t,e,n,r),Ke(([[,l],u,c,f,d,p=[]])=>$w(l,u,c,f,d,p))),o),{}),Dr(la,Ou,Uo,fo),{singleton:!0}),Nw=cr(([{scrollVelocity:t}])=>{const e=Ve(!1),r=Ut(),n=Ve(!1);return st(Ie(t,Lt(n,e,r),vt(([i,a])=>!!a),Ke(([i,a,o,s])=>{const{exit:l,enter:u}=a;if(o){if(l(i,s))return!1}else if(u(i,s))return!0;return o}),Nr()),e),pr(Ie(vn(e,t,r),Lt(n)),([[i,a,o],s])=>i&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:n,scrollVelocity:t,scrollSeekRangeChanged:r}},Dr(Su),{singleton:!0}),e6=cr(([{topItemsIndexes:t}])=>{const e=Ve(0);return st(Ie(e,vt(r=>r>0),Ke(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Dr(Uo)),Dw=cr(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:i}])=>{const a=Ut(),o=Vn(Ie(vn(t,n,e,r,i),Ke(([s,l,u,c,f])=>s+l+u+c+f.offsetBottom+f.bottom)),0);return st(ht(o),a),{totalListHeight:o,totalListHeightChanged:a}},Dr(qn,Uo),{singleton:!0});function Mw(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const t6=Mw(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),r6=cr(([{scrollBy:t,scrollTop:e,deviation:r,scrollingInProgress:n},{isScrolling:i,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:f,gap:d},{log:p},{recalcInProgress:h}])=>{const v=ti(Ie(l,Lt(s),ea(([,y,m,S],[{items:_,totalCount:O,bottom:x,offsetBottom:w},C])=>{const I=x+w;let A=0;return m===O&&y.length>0&&_.length>0&&(_[0].originalIndex===0&&y[0].originalIndex===0||(A=I-S,A!==0&&(A+=C))),[A,_,O,I]},[0,[],0,0]),vt(([y])=>y!==0),Lt(e,o,n,a,p,h),vt(([,y,m,S,,,_])=>!_&&!S&&y!==0&&m===ou),Ke(([[y],,,,,m])=>(m("Upward scrolling compensation",{amount:y},ri.DEBUG),y))));function g(y){y>0?(Et(t,{top:-y,behavior:"auto"}),Et(r,0)):(Et(r,0),Et(t,{top:-y,behavior:"auto"}))}return pr(Ie(v,Lt(r,i)),([y,m,S])=>{S&&t6()?Et(r,m-y):g(-y)}),pr(Ie(vn(Vn(i,!1),r,h),vt(([y,m,S])=>!y&&!S&&m!==0),Ke(([y,m])=>m),Ka(1)),g),st(Ie(c,Ke(y=>({top:-y}))),t),pr(Ie(u,Lt(f,d),Ke(([y,{lastSize:m,groupIndices:S,sizeTree:_},O])=>{function x(w){return w*(m+O)}if(S.length===0)return x(y);{let w=0;const C=iu(_,0);let I=0,A=0;for(;I<y;){I++,w+=C;let P=S.length===A+1?1/0:S[A+1]-S[A]-1;I+P>y&&(w-=C,P=y-I+1),I+=P,w+=x(P),A++}return w}})),y=>{Et(r,y),requestAnimationFrame(()=>{Et(t,{top:y}),requestAnimationFrame(()=>{Et(r,0),Et(h,!1)})})}),{deviation:r}},Dr(qn,Su,Uo,la,co,tg)),n6=cr(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ve(0);return pr(Ie(t,Lt(n),vt(([,i])=>i!==0),Ke(([,i])=>({top:i}))),i=>{Ca(Ie(r,Ys(1),vt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{Et(e,i)})})}),{initialScrollTop:n}},Dr(fo,qn,Uo),{singleton:!0}),i6=cr(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ve(!1),n=Vn(Ie(vn(r,t,e),vt(([i])=>i),Ke(([,i,a])=>Math.max(0,i-a)),Ka(0),Nr()),0);return{alignToBottom:r,paddingTopAddition:n}},Dr(qn,Dw),{singleton:!0}),og=cr(([{scrollTo:t,scrollContainerState:e}])=>{const r=Ut(),n=Ut(),i=Ut(),a=Ve(!1),o=Ve(void 0);return st(Ie(vn(r,n),Ke(([{viewportHeight:s,scrollTop:l,scrollHeight:u},{offsetTop:c}])=>({scrollTop:Math.max(0,l-c),scrollHeight:u,viewportHeight:s}))),e),st(Ie(t,Lt(n),Ke(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:i}},Dr(qn)),a6=({itemTop:t,itemBottom:e,viewportTop:r,viewportBottom:n,locationParams:{behavior:i,align:a,...o}})=>t<r?{...o,behavior:i,align:a!=null?a:"start"}:e>n?{...o,behavior:i,align:a!=null?a:"end"}:null,o6=cr(([{sizes:t,totalCount:e,gap:r},{scrollTop:n,viewportHeight:i,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:l},{scrollToIndex:u}])=>{const c=Ut();return st(Ie(c,Lt(t,i,e,a,o,s,n),Lt(r),Ke(([[f,d,p,h,v,g,y,m],S])=>{const{done:_,behavior:O,align:x,calculateViewLocation:w=a6,...C}=f,I=Iw(f,d,h-1),A=au(I,d.offsetTree,S)+v+g,P=A+ki(d.sizeTree,I)[1],E=m+g,R=m+p-y,F=w({itemTop:A,itemBottom:P,viewportTop:E,viewportBottom:R,locationParams:{behavior:O,align:x,...C}});return F?_&&Ca(Ie(l,vt(N=>N===!1),Ys(ei(l)?1:2)),_):_&&_(),F}),vt(f=>f!==null)),u),{scrollIntoView:c}},Dr(la,qn,_u,Uo,co),{singleton:!0}),s6=cr(([{sizes:t,sizeRanges:e},{scrollTop:r},{initialTopMostItemIndex:n},{didMount:i},{useWindowScroll:a,windowScrollContainerState:o,windowViewportRect:s}])=>{const l=Ut(),u=Ve(void 0),c=Ve(null),f=Ve(null);return st(o,c),st(s,f),pr(Ie(l,Lt(t,r,a,c,f)),([d,p,h,v,g,y])=>{const m=qq(p.sizeTree);v&&g!==null&&y!==null&&(h=g.scrollTop-y.offsetTop),d({ranges:m,scrollTop:h})}),st(Ie(u,vt(Xv),Ke(l6)),n),st(Ie(i,Lt(u),vt(([,d])=>d!==void 0),Nr(),Ke(([,d])=>d.ranges)),e),{getState:l,restoreStateFrom:u}},Dr(la,qn,Ou,fo,og));function l6(t){return{offset:t.scrollTop,index:0,align:"start"}}const u6=cr(([t,e,r,n,i,a,o,s,l,u])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u}),Dr(ag,Zq,fo,Nw,Dw,n6,i6,og,o6,co)),c6=cr(([{totalCount:t,sizeRanges:e,fixedItemSize:r,defaultItemSize:n,trackItemSizes:i,itemSize:a,data:o,firstItemIndex:s,groupIndices:l,statefulTotalCount:u,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:p},h,v,g,{listState:y,topItemsIndexes:m,...S},{scrollToIndex:_},O,{topItemCount:x},{groupCounts:w},C])=>(st(S.rangeChanged,C.scrollSeekRangeChanged),st(Ie(C.windowViewportRect,Ke(I=>I.visibleHeight)),h.viewportHeight),{totalCount:t,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:d,scrolledToInitialItem:p,topItemsIndexes:m,topItemCount:x,groupCounts:w,fixedItemHeight:r,defaultItemHeight:n,gap:c,...g,statefulTotalCount:u,listState:y,scrollToIndex:_,trackItemSizes:i,itemSize:a,groupIndices:l,...S,...C,...h,sizes:f,...v}),Dr(la,Ou,qn,s6,Qq,Uo,_u,r6,e6,Fw,u6)),Pp="-webkit-sticky",Hb="sticky",Vw=Mw(()=>{if(typeof document>"u")return Hb;const t=document.createElement("div");return t.style.position=Pp,t.style.position===Pp?Pp:Hb});function Bw(t,e){const r=j.useRef(null),n=j.useCallback(s=>{if(s===null||!s.offsetParent)return;const l=s.getBoundingClientRect(),u=l.width;let c,f;if(e){const d=e.getBoundingClientRect(),p=l.top-d.top;c=d.height-Math.max(0,p),f=p+e.scrollTop}else c=window.innerHeight-Math.max(0,l.top),f=l.top+window.pageYOffset;r.current={offsetTop:f,visibleHeight:c,visibleWidth:u},t(r.current)},[t,e]),{callbackRef:i,ref:a}=eg(n),o=j.useCallback(()=>{n(a.current)},[n,a]);return j.useEffect(()=>{if(e){e.addEventListener("scroll",o);const s=new ResizeObserver(o);return s.observe(e),()=>{e.removeEventListener("scroll",o),s.unobserve(e)}}else return window.addEventListener("scroll",o),window.addEventListener("resize",o),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[o,e]),i}const qw=j.createContext(void 0),Hw=j.createContext(void 0);function zw(t){return t}const f6=cr(()=>{const t=Ve(l=>"Item ".concat(l)),e=Ve(null),r=Ve(l=>"Group ".concat(l)),n=Ve({}),i=Ve(zw),a=Ve("div"),o=Ve(sl),s=(l,u=null)=>Vn(Ie(n,Ke(c=>c[l]),Nr()),u);return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,headerFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),d6=cr(([t,e])=>({...t,...e}),Dr(c6,f6)),p6=({height:t})=>j.createElement("div",{style:{height:t}}),h6={position:Vw(),zIndex:1,overflowAnchor:"none"},v6={overflowAnchor:"none"},zb=j.memo(function({showTopList:e=!1}){const r=Wt("listState"),n=hi("sizeRanges"),i=Wt("useWindowScroll"),a=Wt("customScrollParent"),o=hi("windowScrollContainerState"),s=hi("scrollContainerState"),l=a||i?o:s,u=Wt("itemContent"),c=Wt("context"),f=Wt("groupContent"),d=Wt("trackItemSizes"),p=Wt("itemSize"),h=Wt("log"),v=hi("gap"),{callbackRef:g}=Aq(n,p,d,e?sl:l,h,v,a),[y,m]=j.useState(0);sg("deviation",F=>{y!==F&&m(F)});const S=Wt("EmptyPlaceholder"),_=Wt("ScrollSeekPlaceholder")||p6,O=Wt("ListComponent"),x=Wt("ItemComponent"),w=Wt("GroupComponent"),C=Wt("computeItemKey"),I=Wt("isSeeking"),A=Wt("groupIndices").length>0,P=Wt("paddingTopAddition"),E=Wt("scrolledToInitialItem"),R=e?{}:{boxSizing:"border-box",paddingTop:r.offsetTop+P,paddingBottom:r.offsetBottom,marginTop:y,...E?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&S?j.createElement(S,Mn(S,c)):j.createElement(O,{...Mn(O,c),ref:g,style:R,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?r.topItems:r.items).map(F=>{const N=F.originalIndex,V=C(N+r.firstItemIndex,F.data,c);return I?j.createElement(_,{...Mn(_,c),key:V,index:F.index,height:F.size,type:F.type||"item",...F.type==="group"?{}:{groupIndex:F.groupIndex}}):F.type==="group"?j.createElement(w,{...Mn(w,c),key:V,"data-index":N,"data-known-size":F.size,"data-item-index":F.index,style:h6},f(F.index,c)):j.createElement(x,{...Mn(x,c),...y6(x,F.data),key:V,"data-index":N,"data-known-size":F.size,"data-item-index":F.index,"data-item-group-index":F.groupIndex,style:v6},A?u(F.index,F.groupIndex,F.data,c):u(F.index,F.data,c))}))}),g6={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},rd={width:"100%",height:"100%",position:"absolute",top:0},m6={width:"100%",position:Vw(),top:0,zIndex:1};function Mn(t,e){if(typeof t!="string")return{context:e}}function y6(t,e){return{item:typeof t=="string"?void 0:e}}const b6=j.memo(function(){const e=Wt("HeaderComponent"),r=hi("headerHeight"),n=Wt("headerFooterTag"),i=Go(o=>r(io(o,"height"))),a=Wt("context");return e?j.createElement(n,{ref:i},j.createElement(e,Mn(e,a))):null}),_6=j.memo(function(){const e=Wt("FooterComponent"),r=hi("footerHeight"),n=Wt("headerFooterTag"),i=Go(o=>r(io(o,"height"))),a=Wt("context");return e?j.createElement(n,{ref:i},j.createElement(e,Mn(e,a))):null});function Ww({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("scrollerRef"),d=r("context"),{scrollerRef:p,scrollByCallback:h,scrollToCallback:v}=ww(l,c,u,f);return e("scrollTo",v),e("scrollBy",h),j.createElement(u,{ref:p,style:{...g6,...a},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...Mn(u,d)},o)})}function Gw({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("totalListHeight"),d=r("deviation"),p=r("customScrollParent"),h=r("context"),{scrollerRef:v,scrollByCallback:g,scrollToCallback:y}=ww(l,c,u,sl,p);return Cq(()=>(v.current=p||window,()=>{v.current=null}),[v,p]),e("windowScrollTo",y),e("scrollBy",g),j.createElement(u,{style:{position:"relative",...a,...f!==0?{height:f+d}:{}},"data-virtuoso-scroller":!0,...s,...Mn(u,h)},o)})}const S6=({children:t})=>{const e=j.useContext(qw),r=hi("viewportHeight"),n=hi("fixedItemHeight"),i=Go(bw(r,a=>io(a,"height")));return j.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),j.createElement("div",{style:rd,ref:i,"data-viewport-type":"element"},t)},O6=({children:t})=>{const e=j.useContext(qw),r=hi("windowViewportRect"),n=hi("fixedItemHeight"),i=Wt("customScrollParent"),a=Bw(r,i);return j.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),j.createElement("div",{ref:a,style:rd,"data-viewport-type":"window"},t)},x6=({children:t})=>{const e=Wt("TopItemListComponent")||"div",r=Wt("headerHeight"),n={...m6,marginTop:"".concat(r,"px")},i=Wt("context");return j.createElement(e,{style:n,...Mn(e,i)},t)},w6=j.memo(function(e){const r=Wt("useWindowScroll"),n=Wt("topItemsIndexes").length>0,i=Wt("customScrollParent"),a=i||r?T6:C6,o=i||r?O6:S6;return j.createElement(a,{...e},n&&j.createElement(x6,null,j.createElement(zb,{showTopList:!0})),j.createElement(o,null,j.createElement(b6,null),j.createElement(zb,null),j.createElement(_6,null)))}),{Component:E6,usePublisher:hi,useEmitterValue:Wt,useEmitter:sg}=Ow(d6,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},w6),C6=Ww({usePublisher:hi,useEmitterValue:Wt,useEmitter:sg}),T6=Gw({usePublisher:hi,useEmitterValue:Wt,useEmitter:sg}),P6=E6,Wb={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},A6={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Gb,ceil:Ub,floor:vf,min:Ap,max:Kl}=Math;function k6(t){return{...A6,items:t}}function Yb(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>{const a=r===null?null:r[i+t];return{index:i+t,data:a}})}function I6(t,e){return t&&t.column===e.column&&t.row===e.row}function Oc(t,e){return t&&t.width===e.width&&t.height===e.height}const j6=cr(([{overscan:t,visibleRange:e,listBoundary:r},{scrollTop:n,viewportHeight:i,scrollBy:a,scrollTo:o,smoothScrollTargetReached:s,scrollContainerState:l,footerHeight:u,headerHeight:c},f,d,{propsReady:p,didMount:h},{windowViewportRect:v,useWindowScroll:g,customScrollParent:y,windowScrollContainerState:m,windowScrollTo:S},_])=>{const O=Ve(0),x=Ve(0),w=Ve(Wb),C=Ve({height:0,width:0}),I=Ve({height:0,width:0}),A=Ut(),P=Ut(),E=Ve(0),R=Ve(null),F=Ve({row:0,column:0}),N=Ut(),V=Ut(),z=Ve(!1),J=Ve(0),H=Ve(!0),M=Ve(!1);pr(Ie(h,Lt(J),vt(([$,U])=>!!U)),()=>{Et(H,!1),Et(x,0)}),pr(Ie(vn(h,H,I,C,J,M),vt(([$,U,X,ee,,se])=>$&&!U&&X.height!==0&&ee.height!==0&&!se)),([,,,,$])=>{Et(M,!0),ng(1,()=>{Et(A,$)}),Ca(Ie(n),()=>{Et(r,[0,0]),Et(H,!0)})}),st(Ie(V,vt($=>$!=null&&$.scrollTop>0),Sa(0)),x),pr(Ie(h,Lt(V),vt(([,$])=>$!=null)),([,$])=>{$&&(Et(C,$.viewport),Et(I,$==null?void 0:$.item),Et(F,$.gap),$.scrollTop>0&&(Et(z,!0),Ca(Ie(n,Ys(1)),U=>{Et(z,!1)}),Et(o,{top:$.scrollTop})))}),st(Ie(C,Ke(({height:$})=>$)),i),st(Ie(vn(ht(C,Oc),ht(I,Oc),ht(F,($,U)=>$&&$.column===U.column&&$.row===U.row),ht(n)),Ke(([$,U,X,ee])=>({viewport:$,item:U,gap:X,scrollTop:ee}))),N),st(Ie(vn(ht(O),e,ht(F,I6),ht(I,Oc),ht(C,Oc),ht(R),ht(x),ht(z),ht(H),ht(J)),vt(([,,,,,,,$])=>!$),Ke(([$,[U,X],ee,se,Oe,be,Se,,_e,pe])=>{const{row:ue,column:Le}=ee,{height:ie,width:le}=se,{width:xe}=Oe;if(Se===0&&($===0||xe===0))return Wb;if(le===0){const Ae=ig(pe,$),Fe=Ae===0?Math.max(Se-1,0):Ae;return k6(Yb(Ae,Fe,be))}const Ee=Uw(xe,le,Le);let fe,De;_e?U===0&&X===0&&Se>0?(fe=0,De=Se-1):(fe=Ee*vf((U+ue)/(ie+ue)),De=Ee*Ub((X+ue)/(ie+ue))-1,De=Ap($-1,Kl(De,Ee-1)),fe=Ap(De,Kl(0,fe))):(fe=0,De=-1);const We=Yb(fe,De,be),{top:Je,bottom:yt}=Kb(Oe,ee,se,We),Bt=Ub($/Ee),we=Bt*ie+(Bt-1)*ue-yt;return{items:We,offsetTop:Je,offsetBottom:we,top:Je,bottom:yt,itemHeight:ie,itemWidth:le}})),w),st(Ie(R,vt($=>$!==null),Ke($=>$.length)),O),st(Ie(vn(C,I,w,F),vt(([$,U,{items:X}])=>X.length>0&&U.height!==0&&$.height!==0),Ke(([$,U,{items:X},ee])=>{const{top:se,bottom:Oe}=Kb($,ee,U,X);return[se,Oe]}),Nr(su)),r);const L=Ve(!1);st(Ie(n,Lt(L),Ke(([$,U])=>U||$!==0)),L);const q=ti(Ie(ht(w),vt(({items:$})=>$.length>0),Lt(O,L),vt(([{items:$},U,X])=>X&&$[$.length-1].index===U-1),Ke(([,$])=>$-1),Nr())),W=ti(Ie(ht(w),vt(({items:$})=>$.length>0&&$[0].index===0),Sa(0),Nr())),Q=ti(Ie(ht(w),Lt(z),vt(([{items:$},U])=>$.length>0&&!U),Ke(([{items:$}])=>({startIndex:$[0].index,endIndex:$[$.length-1].index})),Nr(Lw),Ka(0)));st(Q,d.scrollSeekRangeChanged),st(Ie(A,Lt(C,I,O,F),Ke(([$,U,X,ee,se])=>{const Oe=Rw($),{align:be,behavior:Se,offset:_e}=Oe;let pe=Oe.index;pe==="LAST"&&(pe=ee-1),pe=Kl(0,pe,Ap(ee-1,pe));let ue=Eh(U,se,X,pe);return be==="end"?ue=Gb(ue-U.height+X.height):be==="center"&&(ue=Gb(ue-U.height/2+X.height/2)),_e&&(ue+=_e),{top:ue,behavior:Se}})),o);const K=Vn(Ie(w,Ke($=>$.offsetBottom+$.bottom)),0);return st(Ie(v,Ke($=>({width:$.visibleWidth,height:$.visibleHeight}))),C),{data:R,totalCount:O,viewportDimensions:C,itemDimensions:I,scrollTop:n,scrollHeight:P,overscan:t,scrollBy:a,scrollTo:o,scrollToIndex:A,smoothScrollTargetReached:s,windowViewportRect:v,windowScrollTo:S,useWindowScroll:g,customScrollParent:y,windowScrollContainerState:m,deviation:E,scrollContainerState:l,footerHeight:u,headerHeight:c,initialItemCount:x,gap:F,restoreStateFrom:V,...d,initialTopMostItemIndex:J,gridState:w,totalListHeight:K,...f,startReached:W,endReached:q,rangeChanged:Q,stateChanged:N,propsReady:p,stateRestoreInProgress:z,..._}},Dr(ag,qn,Su,Nw,fo,og,co));function Kb(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{top:0,bottom:0};const a=Eh(t,e,r,n[0].index),o=Eh(t,e,r,n[n.length-1].index)+i;return{top:a,bottom:o}}function Eh(t,e,r,n){const i=Uw(t.width,r.width,e.column),a=vf(n/i),o=a*r.height+Kl(0,a-1)*e.row;return o>0?o+e.row:o}function Uw(t,e,r){return Kl(1,vf((t+r)/(vf(e)+r)))}const R6=cr(()=>{const t=Ve(u=>"Item ".concat(u)),e=Ve({}),r=Ve(null),n=Ve("virtuoso-grid-item"),i=Ve("virtuoso-grid-list"),a=Ve(zw),o=Ve("div"),s=Ve(sl),l=(u,c=null)=>Vn(Ie(e,Ke(f=>f[u]),Nr()),c);return{context:r,itemContent:t,components:e,computeItemKey:a,itemClassName:n,listClassName:i,headerFooterTag:o,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),F6=cr(([t,e])=>({...t,...e}),Dr(j6,R6)),L6=j.memo(function(){const e=Vr("gridState"),r=Vr("listClassName"),n=Vr("itemClassName"),i=Vr("itemContent"),a=Vr("computeItemKey"),o=Vr("isSeeking"),s=Pi("scrollHeight"),l=Vr("ItemComponent"),u=Vr("ListComponent"),c=Vr("ScrollSeekPlaceholder"),f=Vr("context"),d=Pi("itemDimensions"),p=Pi("gap"),h=Vr("log"),v=Vr("stateRestoreInProgress"),g=Go(y=>{const m=y.parentElement.parentElement.scrollHeight;s(m);const S=y.firstChild;if(S){const{width:_,height:O}=S.getBoundingClientRect();d({width:_,height:O})}p({row:Qb("row-gap",getComputedStyle(y).rowGap,h),column:Qb("column-gap",getComputedStyle(y).columnGap,h)})});return v?null:j.createElement(u,{ref:g,className:r,...Mn(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(y=>{const m=a(y.index,y.data,f);return o?j.createElement(c,{key:m,...Mn(c,f),index:y.index,height:e.itemHeight,width:e.itemWidth}):j.createElement(l,{...Mn(l,f),className:n,"data-index":y.index,key:m},i(y.index,y.data,f))}))}),$6=j.memo(function(){const e=Vr("HeaderComponent"),r=Pi("headerHeight"),n=Vr("headerFooterTag"),i=Go(o=>r(io(o,"height"))),a=Vr("context");return e?j.createElement(n,{ref:i},j.createElement(e,Mn(e,a))):null}),N6=j.memo(function(){const e=Vr("FooterComponent"),r=Pi("footerHeight"),n=Vr("headerFooterTag"),i=Go(o=>r(io(o,"height"))),a=Vr("context");return e?j.createElement(n,{ref:i},j.createElement(e,Mn(e,a))):null}),D6=({children:t})=>{const e=j.useContext(Hw),r=Pi("itemDimensions"),n=Pi("viewportDimensions"),i=Go(a=>{n(a.getBoundingClientRect())});return j.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),j.createElement("div",{style:rd,ref:i},t)},M6=({children:t})=>{const e=j.useContext(Hw),r=Pi("windowViewportRect"),n=Pi("itemDimensions"),i=Vr("customScrollParent"),a=Bw(r,i);return j.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),j.createElement("div",{ref:a,style:rd},t)},V6=j.memo(function({...e}){const r=Vr("useWindowScroll"),n=Vr("customScrollParent"),i=n||r?q6:B6,a=n||r?M6:D6;return j.createElement(i,{...e},j.createElement(a,null,j.createElement($6,null),j.createElement(L6,null),j.createElement(N6,null)))}),{Component:b0e,usePublisher:Pi,useEmitterValue:Vr,useEmitter:Yw}=Ow(F6,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},V6),B6=Ww({usePublisher:Pi,useEmitterValue:Vr,useEmitter:Yw}),q6=Gw({usePublisher:Pi,useEmitterValue:Vr,useEmitter:Yw});function Qb(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,ri.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function H6(t){const[e,r]=ae.useState(!1),[n,i]=ae.useState(!1),a=50,o=(u,c)=>{if(!u||!t.current)return;const f=t.current.getBoundingClientRect(),d=f.left+c,p=f.right+c;if(!(u.x>=d&&u.x<=p&&u.y>=f.top&&u.y<=f.bottom)){r(!1),i(!1);return}const v=u.y-f.top,g=f.bottom-u.y;r(v<=a),i(g<=a)},{isDragging:s,currentOffset:l}=pR(u=>({isDragging:u.isDragging(),currentOffset:u.getClientOffset()}));return ae.useEffect(()=>{const u=window.innerWidth;let c;u>=1200?c=450:(u>=768,c=400),s?o(l,c):(r(!1),i(!1))},[s,l]),{isNearTop:e,isNearBottom:n}}function z6({onMainLang:t},e){const{t:r}=Mo(["design","run"]),n=Qr(),i=Vt(),a=Te(_=>{var O;return((O=_.designState.Survey)==null?void 0:O.children)||[]}),o=Te(_=>{var O,x;return(x=(O=_.designState.Survey)==null?void 0:O.resources)==null?void 0:x.headerImage}),s=Te(_=>{var O,x;return(x=(O=_.designState.Survey)==null?void 0:O.resources)==null?void 0:x.backgroundImage}),l=Te(_=>{var O,x;return((O=_.designState.globalSetup)==null?void 0:O.reorder_setup)==="collapse_groups"||((x=_.designState.globalSetup)==null?void 0:x.reorder_setup)==="collapse_questions"}),u=!a.length,c=ae.useMemo(()=>{let _=!1;return a==null||a.forEach(O=>{var x;((O==null?void 0:O.type)==="welcome"||((x=O.groupType)==null?void 0:x.toLowerCase())==="welcome")&&(_=!0)}),_},[a]),f=ae.useMemo(()=>{var O;const _=[];o&&_.push({name:ma.IMAGE}),c||_.push({name:ma.DROP_AREA,index:0});for(let x=0;x<a.length;x++)_.push({name:ma.GROUP,group:a[x],index:x}),a[x].type!=="end"&&((O=a[x].groupType)==null?void 0:O.toLowerCase())!=="end"&&_.push({name:ma.DROP_AREA,group:a[x],index:x+1});return _.push({name:ma.FOOTER}),_},[a,r,o]),d=()=>{i(Nn(Kk))},p=()=>{i(Nn(Qk))},h=()=>{i(Nn(Jk))},v=ae.useRef(null),g=ae.useRef(null),{isNearBottom:y,isNearTop:m}=H6(g);ae.useEffect(()=>{let _;const O=()=>{v.current&&(y?v.current.scrollBy({top:6,behavior:"auto"}):m&&v.current.scrollBy({top:-6,behavior:"auto"}),_=requestAnimationFrame(O))};return(m||y)&&(_=requestAnimationFrame(O)),()=>{_&&cancelAnimationFrame(_)}},[m,y]);const S=s?{backgroundImage:"url(".concat(eu(s),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return k.jsxs(_t,{ref:e,className:"content-panel ".concat(va.contentPanel),sx:{backgroundColor:"background.default",color:"text.primary"},style:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:[t&&!l&&k.jsxs(_t,{className:va.buttonContainer,children:[k.jsx(Yt,{onClick:p,color:"primary",variant:"contained",className:va.button,children:k.jsx(vR,{})}),k.jsx(Yt,{color:"primary",onClick:d,variant:"contained",className:va.button,children:k.jsx(gR,{})}),k.jsx(Yt,{color:"primary",onClick:h,variant:"contained",className:va.button,children:k.jsx(fx,{})})]}),k.jsx(_t,{ref:g,width:"100%",height:"100%",children:k.jsx(P6,{ref:v,data:f,style:S,className:va.virtuosoStyle,itemContent:(_,O)=>{switch(O.name){case ma.IMAGE:return k.jsxs(_t,{className:va.cardMediaContent,children:[k.jsx(TI,{className:va.cardImage,component:"img",image:eu(o),height:"140"}),t&&k.jsx(gv,{code:"Survey"})]});case ma.DROP_AREA:return k.jsx(uq,{emptySurvey:u,t:r,index:O.index,groupsCount:a.length});case ma.GROUP:return k.jsx(gq,{t:r,code:O.group.code,index:O.index});case ma.FOOTER:return k.jsx("div",{className:va.footer})}}})})]})}const W6=j.forwardRef(z6),ma={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"},G6="_box_yj2jt_1",U6="_boxHasSetup_yj2jt_7",Jb={box:G6,boxHasSetup:U6};function Y6({t}){const e=Te(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}}),r=oa(),n=Object.keys(e).length>0;return k.jsx(_t,{className:"".concat(Jb.box," ").concat(n?"":Jb.boxHasSetup),style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.sharp,duration:300}),transform:n?"translateX(-100%)":"translateX(0)"},timeout:300,children:!n&&k.jsx(Xk,{t})})}const K6=j.memo(Y6);function Q6({label:t,rule:e,defaultValue:r,code:n,lowerBound:i,upperBound:a}){const o=Vt(),s=Te(c=>c.designState[n][e]||r),l=c=>{o(Dn({code:n,key:e,value:Math.max(i,Math.min(a,c.target.value))}))},u=s<i||s>a;return k.jsxs(k.Fragment,{children:[k.jsxs("h4",{children:[t,":"]}),k.jsx(hr,{label:t,error:u,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:s,onChange:c=>l(c)})]})}const xc=j.memo(Q6),J6="_showHint_9iocv_1",X6="_inputValue_9iocv_9",Kw={showHint:J6,inputValue:X6};function Z6({code:t,t:e}){const r=Vt(),n=Te(a=>a.designState[t].showHint||!1),i=a=>{r(Dn({code:t,key:"showHint",value:a}))};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:Kw.showHint,children:[k.jsx("h4",{children:e("show_question_hint")}),k.jsx(qo,{checked:n,onChange:a=>i(a.target.checked)})]}),n&&k.jsx(Ch,{code:t,objectName:"hint"})]})}function Ch({code:t,objectName:e,title:r}){const n=Vt(),i=(s,l)=>{n(so({code:t,key:e,lang:s,value:l}))},a=Te(s=>s.designState.langInfo.languagesList),o=Te(s=>{var l;return(l=s.designState[t].content)==null?void 0:l[e]});return k.jsxs(k.Fragment,{children:[r&&k.jsx("h4",{children:r}),a.map(s=>k.jsx("div",{className:Kw.inputValue,children:k.jsx(hr,{label:s.name,variant:"standard",type:"text",value:(o==null?void 0:o[s.code])||"",onChange:l=>i(s.code,l.target.value)})},s.code))]})}const e8="_boxContainer_182us_1",t8="_mt10_182us_10",r8="_uppercase_182us_14",n8="_title_182us_18",Xb={boxContainer:e8,mt10:t8,uppercase:r8,title:n8},i8="_boxContainer_1vhs4_1",a8="_mt10_1vhs4_9",o8="_uppercase_1vhs4_13",s8="_title_1vhs4_18",l8="_titleContent_1vhs4_28",u8="_standardError_1vhs4_33",c8="_errorWrapper_1vhs4_44",f8="_errorLabelWrapper_1vhs4_48",d8="_errorItem_1vhs4_52",p8="_errorItemContainer_1vhs4_58",Qn={boxContainer:i8,mt10:a8,uppercase:o8,title:s8,titleContent:l8,standardError:u8,errorWrapper:c8,errorLabelWrapper:f8,errorItem:d8,errorItemContainer:p8};function h8({validationRule:t,code:e,rule:r,t:n}){const i=Vt(),a=t.isCustomErrorActive||!1,o=Te(f=>f.designState.langInfo.languagesList);let s=t.content||{};const l=f=>{i(ef({code:e,rule:r,key:"isCustomErrorActive",value:f}))},u=(f,d)=>{const p={...s,[f]:d};i(ef({code:e,rule:r,key:"content",value:p}))},c={inputProps:{"aria-label":"Switch validation"}};return k.jsxs(k.Fragment,{children:[k.jsx("h4",{children:n("standard_error")}),k.jsxs("div",{className:Qn.errorWrapper,children:[k.jsx("div",{className:Qn.errorLabelWrapper,children:o.map(f=>k.jsxs("div",{className:"".concat(Qn.errorItem," ").concat(Qn.uppercase),children:[f.code,":"]},f.code))}),k.jsx("div",{children:o.map(f=>k.jsx("div",{className:Qn.errorItem,children:n(r,{ns:"run",lng:f.code,...t})},f.code))})]}),k.jsxs("div",{className:Qn.title,children:[k.jsx("h4",{className:Qn.mt10,children:n("custom_error")}),k.jsx(qo,{...c,checked:a,onChange:f=>l(f.target.checked)})]}),a?k.jsxs("div",{className:Qn.errorWrapper,children:[k.jsx("div",{className:Qn.errorLabelWrapper,children:o.map(f=>k.jsxs("div",{className:"".concat(Qn.errorItem," ").concat(Qn.uppercase),children:[f.code,":"]},f.code))}),k.jsx("div",{className:Qn.errorItemContainer,children:o.map(f=>k.jsx("div",{className:Qn.errorItem,children:k.jsx(hr,{size:"small",variant:"standard",value:s[f.code]||"",onChange:d=>u(f.code,d.target.value)})},f.code))})]}):""]})}const v8="_valueValidationItems_1hupk_1",g8="_valueValidationItemsContainer_1hupk_6",m8="_error_1hupk_11",Zb={valueValidationItems:v8,valueValidationItemsContainer:g8,error:m8};function y8({value:t,onValueChanged:e}){const{t:r}=Mo("design"),n=i=>{let a=[...t];i.target.checked?a.push(i.target.name):a=t.filter(o=>o!=i.target.name),e(a)};return k.jsxs(Gr,{children:[k.jsx(QO,{id:"file-type-label",children:r("file_type")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),k.jsx(Wa,{control:k.jsx(Ui,{checked:t.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}const b8=j.memo(y8);function _8({code:t,validation:e,rule:r,t:n}){const i=Te(f=>{var d;return((d=f.designState[t].children)==null?void 0:d.length)||0}),a=j.useMemo(()=>{switch(r){case"validation_min_char_length":return[1,Number.MAX_VALUE];case"validation_max_file_size":return[1,Number.MAX_VALUE];case"validation_max_char_length":return[1,Number.MAX_VALUE];case"validation_max_word_count":return[1,Number.MAX_VALUE];case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,i];default:return}},[i]),o=Vt(),s=(f,d)=>{o(ef({rule:r,code:t,key:f,value:d}))},l=(f,d)=>{s(f,typeof a>"u"?d:Math.max(a[0],Math.min(a[1],d)))};let u=S8(e);const c=r!="validation_required"&&r!="validation_one_response_per_col"&&r!="validation_pattern_email"&&r!="validation_file_types";return k.jsxs("div",{className:Zb.valueValidationItemsContainer,children:[u&&c&&k.jsx("div",{children:n(r+"_subtitle")}),k.jsx("div",{className:Zb.valueValidationItems,children:r=="validation_file_types"?k.jsx(b8,{value:e.fileTypes,onValueChanged:f=>l("fileTypes",f)}):u.map(f=>{const d=typeof a<"u"&&(e[f]<a[0]||e[f]>a[1]);return k.jsx(hr,{error:d,value:e[f],variant:"outlined",size:"small",type:typeof e[f]=="number"?"number":"text",onChange:p=>l(f,typeof e[f]=="number"?parseInt(p.target.value):p.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},f)})})]})}const S8=t=>Object.keys(t).filter(e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e));function O8({rule:t,t:e,code:r}){console.log("ValidationSetupItem: "+r);const n=Vt(),i=Te(l=>{var u,c;return(c=(u=l.designState[r])==null?void 0:u.validation)==null?void 0:c[t]}),a={inputProps:{"aria-label":"Switch validation"}},o=(i==null?void 0:i.isActive)||!1,s=l=>{n(ef({code:r,rule:t,key:"isActive",value:l}))};return k.jsxs("div",{children:[k.jsxs("div",{className:Xb.title,children:[k.jsx("h4",{children:e(t+"_title")}),k.jsx(qo,{...a,checked:o,onChange:l=>s(l.target.checked)})]}),o&&k.jsxs(_t,{className:Xb.boxContainer,children:[k.jsx(_8,{code:r,validation:i,rule:t,t:e}),k.jsx(h8,{code:r,validationRule:i,rule:t,t:e})]})]})}const x8=j.memo(O8),w8="_toggleValue_1d9zg_1",E8="_inputValue_1d9zg_8",C8={toggleValue:w8,inputValue:E8};function Gi({label:t,code:e,rule:r}){const n=Vt(),i=Te(s=>s.designState[e][r]||!1),a=s=>{n(Dn({code:e,key:r,value:s}))},o={inputProps:{"aria-label":"Switch demo"}};return k.jsxs("div",{className:C8.toggleValue,children:[k.jsx("h4",{children:t}),k.jsx(qo,{...o,checked:i,onChange:s=>{a(s.target.checked)}})]})}const T8="_selectValue_9m4tq_1",P8={selectValue:T8};function ds({label:t,rule:e,defaultValue:r,code:n,values:i,labels:a}){const o=Vt(),s=Te(u=>{var c;return((c=u.designState[n])==null?void 0:c[e])||r}),l=u=>{o(Dn({code:n,key:e,value:u}))};return k.jsxs("div",{className:P8.selectDate,children:[k.jsx("h4",{children:t}),k.jsx(Gr,{variant:"standard",fullWidth:!0,children:k.jsx(Li,{id:"select-value",value:s,label:"Select Value",onChange:u=>{l(u.target.value)},children:i.map((u,c)=>k.jsx(on,{value:u,children:a?a[c]:u},u))})})]})}const A8="_selectDate_1qp3e_1",k8="_selectDateField_1qp3e_8",e1={selectDate:A8,selectDateField:k8};function t1({label:t,rule:e,code:r}){const n=Vt(),i=Te(a=>a.designState[r][e]||"");return k.jsxs("div",{className:e1.selectDate,children:[k.jsx("h4",{children:t}),k.jsx(hr,{className:e1.selectDateField,variant:"standard",value:i,type:"date",onChange:a=>{n(Dn({code:r,key:e,value:a.target.value}))}})]})}function r1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(r),!0).forEach(function(n){I8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I8(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ls(){return Ls=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ls.apply(this,arguments)}function Wc(t,e){return j8(t)||R8(t,e)||F8(t,e)||L8()}function j8(t){if(Array.isArray(t))return t}function R8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,s;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}function F8(t,e){if(t){if(typeof t=="string")return n1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(t,e)}}function n1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L8(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Qw=ae.createContext(),$8=function(e){var r=e.open,n=e.options,i=e.onCancel,a=e.onConfirm,o=e.onClose,s=n.title,l=n.description,u=n.content,c=n.confirmationText,f=n.cancellationText,d=n.dialogProps,p=n.dialogActionsProps,h=n.confirmationButtonProps,v=n.cancellationButtonProps,g=n.titleProps,y=n.contentProps,m=n.allowClose,S=n.confirmationKeyword,_=n.confirmationKeywordTextFieldProps,O=n.hideCancelButton,x=n.buttonOrder,w=j.useState(""),C=Wc(w,2),I=C[0],A=C[1],P=S&&I!==S,E=j.createElement(j.Fragment,null,S&&j.createElement(hr,Ls({onChange:function(N){return A(N.target.value)},value:I,fullWidth:!0},_))),R=x.map(function(F){if(F==="cancel")return!O&&j.createElement(Yt,Ls({key:"cancel"},v,{onClick:i}),f);if(F==="confirm")return j.createElement(Yt,Ls({key:"confirm",color:"primary",disabled:P},h,{onClick:a}),c);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(F))});return j.createElement(dv,Ls({fullWidth:!0},d,{open:r,onClose:m?o:null}),s&&j.createElement(cv,g,s),u?j.createElement(Wl,y,u,E):l?j.createElement(Wl,y,j.createElement(zj,null,l),E):S&&j.createElement(Wl,y,E),j.createElement(fv,p,R))},za={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"]},N8=function(e,r){var n=pn(pn({},e.dialogProps||za.dialogProps),r.dialogProps||{}),i=pn(pn({},e.dialogActionsProps||za.dialogActionsProps),r.dialogActionsProps||{}),a=pn(pn({},e.confirmationButtonProps||za.confirmationButtonProps),r.confirmationButtonProps||{}),o=pn(pn({},e.cancellationButtonProps||za.cancellationButtonProps),r.cancellationButtonProps||{}),s=pn(pn({},e.titleProps||za.titleProps),r.titleProps||{}),l=pn(pn({},e.contentProps||za.contentProps),r.contentProps||{}),u=pn(pn({},e.confirmationKeywordTextFieldProps||za.confirmationKeywordTextFieldProps),r.confirmationKeywordTextFieldProps||{});return pn(pn(pn(pn({},za),e),r),{},{dialogProps:n,dialogActionsProps:i,confirmationButtonProps:a,cancellationButtonProps:o,titleProps:s,contentProps:l,confirmationKeywordTextFieldProps:u})},D8=function(e){var r=e.children,n=e.defaultOptions,i=n===void 0?{}:n,a=ae.useState({}),o=Wc(a,2),s=o[0],l=o[1],u=ae.useState([]),c=Wc(u,2),f=c[0],d=c[1],p=Wc(f,2),h=p[0],v=p[1],g=ae.useCallback(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(O,x){l(_),d([O,x])})},[]),y=ae.useCallback(function(){d([])},[]),m=ae.useCallback(function(){v&&(v(),y())},[v,y]),S=ae.useCallback(function(){h&&(h(),y())},[h,y]);return j.createElement(ae.Fragment,null,j.createElement(Qw.Provider,{value:g},r),j.createElement($8,{open:f.length===2,options:N8(i,s),onClose:y,onCancel:m,onConfirm:S}))},M8=function(){var e=ae.useContext(Qw);return e};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Jw;function Ne(){return Jw.apply(null,arguments)}function V8(t){Jw=t}function Ii(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Io(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lg(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Jt(t,e))return!1;return!0}function Hn(t){return t===void 0}function Ta(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function xu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Xw(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function Qa(t,e){for(var r in e)Jt(e,r)&&(t[r]=e[r]);return Jt(e,"toString")&&(t.toString=e.toString),Jt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ua(t,e,r,n){return OE(t,e,r,n,!0).utc()}function B8(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function bt(t){return t._pf==null&&(t._pf=B8()),t._pf}var Th;Array.prototype.some?Th=Array.prototype.some:Th=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function ug(t){if(t._isValid==null){var e=bt(t),r=Th.call(e.parsedDateParts,function(i){return i!=null}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n}return t._isValid}function nd(t){var e=ua(NaN);return t!=null?Qa(bt(e),t):bt(e).userInvalidated=!0,e}var i1=Ne.momentProperties=[],kp=!1;function cg(t,e){var r,n,i,a=i1.length;if(Hn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Hn(e._i)||(t._i=e._i),Hn(e._f)||(t._f=e._f),Hn(e._l)||(t._l=e._l),Hn(e._strict)||(t._strict=e._strict),Hn(e._tzm)||(t._tzm=e._tzm),Hn(e._isUTC)||(t._isUTC=e._isUTC),Hn(e._offset)||(t._offset=e._offset),Hn(e._pf)||(t._pf=bt(e)),Hn(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=i1[r],i=e[n],Hn(i)||(t[n]=i);return t}function wu(t){cg(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),kp===!1&&(kp=!0,Ne.updateOffset(this),kp=!1)}function ji(t){return t instanceof wu||t!=null&&t._isAMomentObject!=null}function Zw(t){Ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function bi(t,e){var r=!0;return Qa(function(){if(Ne.deprecationHandler!=null&&Ne.deprecationHandler(null,t),r){var n=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(o in arguments[0])Jt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}Zw(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var a1={};function eE(t,e){Ne.deprecationHandler!=null&&Ne.deprecationHandler(t,e),a1[t]||(Zw(e),a1[t]=!0)}Ne.suppressDeprecationWarnings=!1;Ne.deprecationHandler=null;function ca(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function q8(t){var e,r;for(r in t)Jt(t,r)&&(e=t[r],ca(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ph(t,e){var r=Qa({},t),n;for(n in e)Jt(e,n)&&(Io(t[n])&&Io(e[n])?(r[n]={},Qa(r[n],t[n]),Qa(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Jt(t,n)&&!Jt(e,n)&&Io(t[n])&&(r[n]=Qa({},r[n]));return r}function fg(t){t!=null&&this.set(t)}var Ah;Object.keys?Ah=Object.keys:Ah=function(t){var e,r=[];for(e in t)Jt(t,e)&&r.push(e);return r};var H8={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function z8(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return ca(n)?n.call(e,r):n}function ia(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var dg=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,wc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ip={},Hs={};function ot(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(Hs[t]=i),e&&(Hs[e[0]]=function(){return ia(i.apply(this,arguments),e[1],e[2])}),r&&(Hs[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function W8(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G8(t){var e=t.match(dg),r,n;for(r=0,n=e.length;r<n;r++)Hs[e[r]]?e[r]=Hs[e[r]]:e[r]=W8(e[r]);return function(i){var a="",o;for(o=0;o<n;o++)a+=ca(e[o])?e[o].call(i,t):e[o];return a}}function Gc(t,e){return t.isValid()?(e=tE(e,t.localeData()),Ip[e]=Ip[e]||G8(e),Ip[e](t)):t.localeData().invalidDate()}function tE(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(wc.lastIndex=0;r>=0&&wc.test(t);)t=t.replace(wc,n),wc.lastIndex=0,r-=1;return t}var U8={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y8(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(dg).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var K8="Invalid date";function Q8(){return this._invalidDate}var J8="%d",X8=/\d{1,2}/;function Z8(t){return this._ordinal.replace("%d",t)}var eH={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tH(t,e,r,n){var i=this._relativeTime[r];return ca(i)?i(t,e,r,n):i.replace(/%d/i,t)}function rH(t,e){var r=this._relativeTime[t>0?"future":"past"];return ca(r)?r(e):r.replace(/%s/i,e)}var Ql={};function In(t,e){var r=t.toLowerCase();Ql[r]=Ql[r+"s"]=Ql[e]=t}function _i(t){return typeof t=="string"?Ql[t]||Ql[t.toLowerCase()]:void 0}function pg(t){var e={},r,n;for(n in t)Jt(t,n)&&(r=_i(n),r&&(e[r]=t[n]));return e}var rE={};function jn(t,e){rE[t]=e}function nH(t){var e=[],r;for(r in t)Jt(t,r)&&e.push({unit:r,priority:rE[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}function id(t){return t%4===0&&t%100!==0||t%400===0}function ui(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function kt(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=ui(e)),r}function ll(t,e){return function(r){return r!=null?(nE(this,t,r),Ne.updateOffset(this,e),this):gf(this,t)}}function gf(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nE(t,e,r){t.isValid()&&!isNaN(r)&&(e==="FullYear"&&id(t.year())&&t.month()===1&&t.date()===29?(r=kt(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),cd(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function iH(t){return t=_i(t),ca(this[t])?this[t]():this}function aH(t,e){if(typeof t=="object"){t=pg(t);var r=nH(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=_i(t),ca(this[t]))return this[t](e);return this}var iE=/\d/,oi=/\d\d/,aE=/\d{3}/,hg=/\d{4}/,ad=/[+-]?\d{6}/,Ir=/\d\d?/,oE=/\d\d\d\d?/,sE=/\d\d\d\d\d\d?/,od=/\d{1,3}/,vg=/\d{1,4}/,sd=/[+-]?\d{1,6}/,ul=/\d+/,ld=/[+-]?\d+/,oH=/Z|[+-]\d\d:?\d\d/gi,ud=/Z|[+-]\d\d(?::?\d\d)?/gi,sH=/[+-]?\d+(\.\d{1,3})?/,Eu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mf;mf={};function Ue(t,e,r){mf[t]=ca(e)?e:function(n,i){return n&&r?r:e}}function lH(t,e){return Jt(mf,t)?mf[t](e._strict,e._locale):new RegExp(uH(t))}function uH(t){return Xn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function Xn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var kh={};function mr(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Ta(e)&&(n=function(a,o){o[e]=kt(a)}),i=t.length,r=0;r<i;r++)kh[t[r]]=n}function Cu(t,e){mr(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function cH(t,e,r){e!=null&&Jt(kh,t)&&kh[t](e,r._a,r,t)}var An=0,xa=1,Ji=2,sn=3,Ci=4,wa=5,To=6,fH=7,dH=8;function pH(t,e){return(t%e+e)%e}var Yr;Array.prototype.indexOf?Yr=Array.prototype.indexOf:Yr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function cd(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=pH(e,12);return t+=(e-r)/12,r===1?id(t)?29:28:31-r%7%2}ot("M",["MM",2],"Mo",function(){return this.month()+1});ot("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ot("MMMM",0,0,function(t){return this.localeData().months(this,t)});In("month","M");jn("month",8);Ue("M",Ir);Ue("MM",Ir,oi);Ue("MMM",function(t,e){return e.monthsShortRegex(t)});Ue("MMMM",function(t,e){return e.monthsRegex(t)});mr(["M","MM"],function(t,e){e[xa]=kt(t)-1});mr(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[xa]=i:bt(r).invalidMonth=t});var hH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vH=Eu,gH=Eu;function mH(t,e){return t?Ii(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||uE).test(e)?"format":"standalone"][t.month()]:Ii(this._months)?this._months:this._months.standalone}function yH(t,e){return t?Ii(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[uE.test(e)?"format":"standalone"][t.month()]:Ii(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bH(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=ua([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=Yr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Yr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Yr.call(this._shortMonthsParse,o),i!==-1?i:(i=Yr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Yr.call(this._longMonthsParse,o),i!==-1?i:(i=Yr.call(this._shortMonthsParse,o),i!==-1?i:null))}function _H(t,e,r){var n,i,a;if(this._monthsParseExact)return bH.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=ua([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function cE(t,e){var r;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=kt(e);else if(e=t.localeData().monthsParse(e),!Ta(e))return t}return r=Math.min(t.date(),cd(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function fE(t){return t!=null?(cE(this,t),Ne.updateOffset(this,!0),this):gf(this,"Month")}function SH(){return cd(this.year(),this.month())}function OH(t){return this._monthsParseExact?(Jt(this,"_monthsRegex")||dE.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Jt(this,"_monthsShortRegex")||(this._monthsShortRegex=vH),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function xH(t){return this._monthsParseExact?(Jt(this,"_monthsRegex")||dE.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Jt(this,"_monthsRegex")||(this._monthsRegex=gH),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function dE(){function t(o,s){return s.length-o.length}var e=[],r=[],n=[],i,a;for(i=0;i<12;i++)a=ua([2e3,i]),e.push(this.monthsShort(a,"")),r.push(this.months(a,"")),n.push(this.months(a,"")),n.push(this.monthsShort(a,""));for(e.sort(t),r.sort(t),n.sort(t),i=0;i<12;i++)e[i]=Xn(e[i]),r[i]=Xn(r[i]);for(i=0;i<24;i++)n[i]=Xn(n[i]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ot("Y",0,0,function(){var t=this.year();return t<=9999?ia(t,4):"+"+t});ot(0,["YY",2],0,function(){return this.year()%100});ot(0,["YYYY",4],0,"year");ot(0,["YYYYY",5],0,"year");ot(0,["YYYYYY",6,!0],0,"year");In("year","y");jn("year",1);Ue("Y",ld);Ue("YY",Ir,oi);Ue("YYYY",vg,hg);Ue("YYYYY",sd,ad);Ue("YYYYYY",sd,ad);mr(["YYYYY","YYYYYY"],An);mr("YYYY",function(t,e){e[An]=t.length===2?Ne.parseTwoDigitYear(t):kt(t)});mr("YY",function(t,e){e[An]=Ne.parseTwoDigitYear(t)});mr("Y",function(t,e){e[An]=parseInt(t,10)});function Jl(t){return id(t)?366:365}Ne.parseTwoDigitYear=function(t){return kt(t)+(kt(t)>68?1900:2e3)};var pE=ll("FullYear",!0);function wH(){return id(this.year())}function EH(t,e,r,n,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,a,o),s}function lu(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function yf(t,e,r){var n=7+e-r,i=(7+lu(t,0,n).getUTCDay()-e)%7;return-i+n-1}function hE(t,e,r,n,i){var a=(7+r-n)%7,o=yf(t,n,i),s=1+7*(e-1)+a+o,l,u;return s<=0?(l=t-1,u=Jl(l)+s):s>Jl(t)?(l=t+1,u=s-Jl(t)):(l=t,u=s),{year:l,dayOfYear:u}}function uu(t,e,r){var n=yf(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,o;return i<1?(o=t.year()-1,a=i+Ea(o,e,r)):i>Ea(t.year(),e,r)?(a=i-Ea(t.year(),e,r),o=t.year()+1):(o=t.year(),a=i),{week:a,year:o}}function Ea(t,e,r){var n=yf(t,e,r),i=yf(t+1,e,r);return(Jl(t)-n+i)/7}ot("w",["ww",2],"wo","week");ot("W",["WW",2],"Wo","isoWeek");In("week","w");In("isoWeek","W");jn("week",5);jn("isoWeek",5);Ue("w",Ir);Ue("ww",Ir,oi);Ue("W",Ir);Ue("WW",Ir,oi);Cu(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=kt(t)});function CH(t){return uu(t,this._week.dow,this._week.doy).week}var TH={dow:0,doy:6};function PH(){return this._week.dow}function AH(){return this._week.doy}function kH(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function IH(t){var e=uu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ot("d",0,"do","day");ot("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ot("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ot("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ot("e",0,0,"weekday");ot("E",0,0,"isoWeekday");In("day","d");In("weekday","e");In("isoWeekday","E");jn("day",11);jn("weekday",11);jn("isoWeekday",11);Ue("d",Ir);Ue("e",Ir);Ue("E",Ir);Ue("dd",function(t,e){return e.weekdaysMinRegex(t)});Ue("ddd",function(t,e){return e.weekdaysShortRegex(t)});Ue("dddd",function(t,e){return e.weekdaysRegex(t)});Cu(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:bt(r).invalidWeekday=t});Cu(["d","e","E"],function(t,e,r,n){e[n]=kt(t)});function jH(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function RH(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function gg(t,e){return t.slice(e,7).concat(t.slice(0,e))}var FH="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),LH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$H=Eu,NH=Eu,DH=Eu;function MH(t,e){var r=Ii(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?gg(r,this._week.dow):t?r[t.day()]:r}function VH(t){return t===!0?gg(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function BH(t){return t===!0?gg(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function qH(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=ua([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=Yr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Yr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Yr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Yr.call(this._weekdaysParse,o),i!==-1||(i=Yr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Yr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Yr.call(this._shortWeekdaysParse,o),i!==-1||(i=Yr.call(this._weekdaysParse,o),i!==-1)?i:(i=Yr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Yr.call(this._minWeekdaysParse,o),i!==-1||(i=Yr.call(this._weekdaysParse,o),i!==-1)?i:(i=Yr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function HH(t,e,r){var n,i,a;if(this._weekdaysParseExact)return qH.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=ua([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function zH(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=jH(t,this.localeData()),this.add(t-e,"d")):e}function WH(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function GH(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=RH(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function UH(t){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||mg.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Jt(this,"_weekdaysRegex")||(this._weekdaysRegex=$H),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function YH(t){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||mg.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Jt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=NH),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function KH(t){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||mg.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Jt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=DH),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function mg(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],i=[],a,o,s,l,u;for(a=0;a<7;a++)o=ua([2e3,1]).day(a),s=Xn(this.weekdaysMin(o,"")),l=Xn(this.weekdaysShort(o,"")),u=Xn(this.weekdays(o,"")),e.push(s),r.push(l),n.push(u),i.push(s),i.push(l),i.push(u);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function yg(){return this.hours()%12||12}function QH(){return this.hours()||24}ot("H",["HH",2],0,"hour");ot("h",["hh",2],0,yg);ot("k",["kk",2],0,QH);ot("hmm",0,0,function(){return""+yg.apply(this)+ia(this.minutes(),2)});ot("hmmss",0,0,function(){return""+yg.apply(this)+ia(this.minutes(),2)+ia(this.seconds(),2)});ot("Hmm",0,0,function(){return""+this.hours()+ia(this.minutes(),2)});ot("Hmmss",0,0,function(){return""+this.hours()+ia(this.minutes(),2)+ia(this.seconds(),2)});function gE(t,e){ot(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}gE("a",!0);gE("A",!1);In("hour","h");jn("hour",13);function mE(t,e){return e._meridiemParse}Ue("a",mE);Ue("A",mE);Ue("H",Ir);Ue("h",Ir);Ue("k",Ir);Ue("HH",Ir,oi);Ue("hh",Ir,oi);Ue("kk",Ir,oi);Ue("hmm",oE);Ue("hmmss",sE);Ue("Hmm",oE);Ue("Hmmss",sE);mr(["H","HH"],sn);mr(["k","kk"],function(t,e,r){var n=kt(t);e[sn]=n===24?0:n});mr(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});mr(["h","hh"],function(t,e,r){e[sn]=kt(t),bt(r).bigHour=!0});mr("hmm",function(t,e,r){var n=t.length-2;e[sn]=kt(t.substr(0,n)),e[Ci]=kt(t.substr(n)),bt(r).bigHour=!0});mr("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[sn]=kt(t.substr(0,n)),e[Ci]=kt(t.substr(n,2)),e[wa]=kt(t.substr(i)),bt(r).bigHour=!0});mr("Hmm",function(t,e,r){var n=t.length-2;e[sn]=kt(t.substr(0,n)),e[Ci]=kt(t.substr(n))});mr("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[sn]=kt(t.substr(0,n)),e[Ci]=kt(t.substr(n,2)),e[wa]=kt(t.substr(i))});function JH(t){return(t+"").toLowerCase().charAt(0)==="p"}var XH=/[ap]\.?m?\.?/i,ZH=ll("Hours",!0);function ez(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var yE={calendar:H8,longDateFormat:U8,invalidDate:K8,ordinal:J8,dayOfMonthOrdinalParse:X8,relativeTime:eH,months:hH,monthsShort:lE,week:TH,weekdays:FH,weekdaysMin:LH,weekdaysShort:vE,meridiemParse:XH},Fr={},Rl={},cu;function tz(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function o1(t){return t&&t.toLowerCase().replace("_","-")}function rz(t){for(var e=0,r,n,i,a;e<t.length;){for(a=o1(t[e]).split("-"),r=a.length,n=o1(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=fd(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&tz(a,n)>=r-1)break;r--}e++}return cu}function nz(t){return t.match("^[^/\\\\]*$")!=null}function fd(t){var e=null,r;if(Fr[t]===void 0&&typeof module<"u"&&module&&module.exports&&nz(t))try{e=cu._abbr,r=require,r("./locale/"+t),to(e)}catch(n){Fr[t]=null}return Fr[t]}function to(t,e){var r;return t&&(Hn(e)?r=Ia(t):r=bg(t,e),r?cu=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),cu._abbr}function bg(t,e){if(e!==null){var r,n=yE;if(e.abbr=t,Fr[t]!=null)eE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Fr[t]._config;else if(e.parentLocale!=null)if(Fr[e.parentLocale]!=null)n=Fr[e.parentLocale]._config;else if(r=fd(e.parentLocale),r!=null)n=r._config;else return Rl[e.parentLocale]||(Rl[e.parentLocale]=[]),Rl[e.parentLocale].push({name:t,config:e}),null;return Fr[t]=new fg(Ph(n,e)),Rl[t]&&Rl[t].forEach(function(i){bg(i.name,i.config)}),to(t),Fr[t]}else return delete Fr[t],null}function iz(t,e){if(e!=null){var r,n,i=yE;Fr[t]!=null&&Fr[t].parentLocale!=null?Fr[t].set(Ph(Fr[t]._config,e)):(n=fd(t),n!=null&&(i=n._config),e=Ph(i,e),n==null&&(e.abbr=t),r=new fg(e),r.parentLocale=Fr[t],Fr[t]=r),to(t)}else Fr[t]!=null&&(Fr[t].parentLocale!=null?(Fr[t]=Fr[t].parentLocale,t===to()&&to(t)):Fr[t]!=null&&delete Fr[t]);return Fr[t]}function Ia(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return cu;if(!Ii(t)){if(e=fd(t),e)return e;t=[t]}return rz(t)}function az(){return Ah(Fr)}function _g(t){var e,r=t._a;return r&&bt(t).overflow===-2&&(e=r[xa]<0||r[xa]>11?xa:r[Ji]<1||r[Ji]>cd(r[An],r[xa])?Ji:r[sn]<0||r[sn]>24||r[sn]===24&&(r[Ci]!==0||r[wa]!==0||r[To]!==0)?sn:r[Ci]<0||r[Ci]>59?Ci:r[wa]<0||r[wa]>59?wa:r[To]<0||r[To]>999?To:-1,bt(t)._overflowDayOfYear&&(e<An||e>Ji)&&(e=Ji),bt(t)._overflowWeeks&&e===-1&&(e=fH),bt(t)._overflowWeekday&&e===-1&&(e=dH),bt(t).overflow=e),t}var oz=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sz=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lz=/Z|[+-]\d\d(?::?\d\d)?/,Ec=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],uz=/^\/?Date\((-?\d+)/i,cz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fz={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bE(t){var e,r,n=t._i,i=oz.exec(n)||sz.exec(n),a,o,s,l,u=Ec.length,c=jp.length;if(i){for(bt(t).iso=!0,e=0,r=u;e<r;e++)if(Ec[e][1].exec(i[1])){o=Ec[e][0],a=Ec[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=c;e<r;e++)if(jp[e][1].exec(i[3])){s=(i[2]||" ")+jp[e][0];break}if(s==null){t._isValid=!1;return}}if(!a&&s!=null){t._isValid=!1;return}if(i[4])if(lz.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(s||"")+(l||""),Og(t)}else t._isValid=!1}function dz(t,e,r,n,i,a){var o=[pz(t),lE.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function pz(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function hz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vz(t,e,r){if(t){var n=vE.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return bt(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function gz(t,e,r){if(t)return fz[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function _E(t){var e=cz.exec(hz(t._i)),r;if(e){if(r=dz(e[4],e[3],e[2],e[5],e[6],e[7]),!vz(e[1],r,t))return;t._a=r,t._tzm=gz(e[8],e[9],e[10]),t._d=lu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),bt(t).rfc2822=!0}else t._isValid=!1}function mz(t){var e=uz.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(bE(t),t._isValid===!1)delete t._isValid;else return;if(_E(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Ne.createFromInputFallback(t)}Ne.createFromInputFallback=bi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ms(t,e,r){return t!=null?t:e!=null?e:r}function yz(t){var e=new Date(Ne.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Sg(t){var e,r,n=[],i,a,o;if(!t._d){for(i=yz(t),t._w&&t._a[Ji]==null&&t._a[xa]==null&&bz(t),t._dayOfYear!=null&&(o=ms(t._a[An],i[An]),(t._dayOfYear>Jl(o)||t._dayOfYear===0)&&(bt(t)._overflowDayOfYear=!0),r=lu(o,0,t._dayOfYear),t._a[xa]=r.getUTCMonth(),t._a[Ji]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[sn]===24&&t._a[Ci]===0&&t._a[wa]===0&&t._a[To]===0&&(t._nextDay=!0,t._a[sn]=0),t._d=(t._useUTC?lu:EH).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[sn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(bt(t).weekdayMismatch=!0)}}function bz(t){var e,r,n,i,a,o,s,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,o=4,r=ms(e.GG,t._a[An],uu(kr(),1,4).year),n=ms(e.W,1),i=ms(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,u=uu(kr(),a,o),r=ms(e.gg,t._a[An],u.year),n=ms(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>Ea(r,a,o)?bt(t)._overflowWeeks=!0:l!=null?bt(t)._overflowWeekday=!0:(s=hE(r,n,i,a,o),t._a[An]=s.year,t._dayOfYear=s.dayOfYear)}Ne.ISO_8601=function(){};Ne.RFC_2822=function(){};function Og(t){if(t._f===Ne.ISO_8601){bE(t);return}if(t._f===Ne.RFC_2822){_E(t);return}t._a=[],bt(t).empty=!0;var e=""+t._i,r,n,i,a,o,s=e.length,l=0,u,c;for(i=tE(t._f,t._locale).match(dg)||[],c=i.length,r=0;r<c;r++)a=i[r],n=(e.match(lH(a,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&bt(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),Hs[a]?(n?bt(t).empty=!1:bt(t).unusedTokens.push(a),cH(a,n,t)):t._strict&&!n&&bt(t).unusedTokens.push(a);bt(t).charsLeftOver=s-l,e.length>0&&bt(t).unusedInput.push(e),t._a[sn]<=12&&bt(t).bigHour===!0&&t._a[sn]>0&&(bt(t).bigHour=void 0),bt(t).parsedDateParts=t._a.slice(0),bt(t).meridiem=t._meridiem,t._a[sn]=_z(t._locale,t._a[sn],t._meridiem),u=bt(t).era,u!==null&&(t._a[An]=t._locale.erasConvertYear(u,t._a[An])),Sg(t),_g(t)}function _z(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function Sz(t){var e,r,n,i,a,o,s=!1,l=t._f.length;if(l===0){bt(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,e=cg({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Og(e),ug(e)&&(o=!0),a+=bt(e).charsLeftOver,a+=bt(e).unusedTokens.length*10,bt(e).score=a,s?a<n&&(n=a,r=e):(n==null||a<n||o)&&(n=a,r=e,o&&(s=!0));Qa(t,r||e)}function Oz(t){if(!t._d){var e=pg(t._i),r=e.day===void 0?e.date:e.day;t._a=Xw([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),Sg(t)}}function xz(t){var e=new wu(_g(SE(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function SE(t){var e=t._i,r=t._f;return t._locale=t._locale||Ia(t._l),e===null||r===void 0&&e===""?nd({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ji(e)?new wu(_g(e)):(xu(e)?t._d=e:Ii(r)?Sz(t):r?Og(t):wz(t),ug(t)||(t._d=null),t))}function wz(t){var e=t._i;Hn(e)?t._d=new Date(Ne.now()):xu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?mz(t):Ii(e)?(t._a=Xw(e.slice(0),function(r){return parseInt(r,10)}),Sg(t)):Io(e)?Oz(t):Ta(e)?t._d=new Date(e):Ne.createFromInputFallback(t)}function OE(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Io(t)&&lg(t)||Ii(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,xz(a)}function kr(t,e,r,n){return OE(t,e,r,n,!1)}var Ez=bi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=kr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:nd()}),Cz=bi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=kr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:nd()});function xE(t,e){var r,n;if(e.length===1&&Ii(e[0])&&(e=e[0]),!e.length)return kr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function Tz(){var t=[].slice.call(arguments,0);return xE("isBefore",t)}function Pz(){var t=[].slice.call(arguments,0);return xE("isAfter",t)}var Az=function(){return Date.now?Date.now():+new Date},Fl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kz(t){var e,r=!1,n,i=Fl.length;for(e in t)if(Jt(t,e)&&!(Yr.call(Fl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[Fl[n]]){if(r)return!1;parseFloat(t[Fl[n]])!==kt(t[Fl[n]])&&(r=!0)}return!0}function Iz(){return this._isValid}function jz(){return Di(NaN)}function dd(t){var e=pg(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=kz(e),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ia(),this._bubble()}function Uc(t){return t instanceof dd}function Ih(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Rz(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<n;o++)(r&&t[o]!==e[o]||!r&&kt(t[o])!==kt(e[o]))&&a++;return a+i}function wE(t,e){ot(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ia(~~(r/60),2)+e+ia(~~r%60,2)})}wE("Z",":");wE("ZZ","");Ue("Z",ud);Ue("ZZ",ud);mr(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=xg(ud,t)});var Fz=/([\+\-]|\d\d)/gi;function xg(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(Fz)||["-",0,0],a=+(i[1]*60)+kt(i[2]),a===0?0:i[0]==="+"?a:-a)}function wg(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(ji(t)||xu(t)?t.valueOf():kr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Ne.updateOffset(r,!1),r):kr(t).local()}function jh(t){return-Math.round(t._d.getTimezoneOffset())}Ne.updateOffset=function(){};function Lz(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=xg(ud,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=jh(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?TE(this,Di(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:jh(this)}function $z(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Nz(t){return this.utcOffset(0,t)}function Dz(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(jh(this),"m")),this}function Mz(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=xg(oH,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Vz(t){return this.isValid()?(t=t?kr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Bz(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qz(){if(!Hn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return cg(t,this),t=SE(t),t._a?(e=t._isUTC?ua(t._a):kr(t._a),this._isDSTShifted=this.isValid()&&Rz(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Hz(){return this.isValid()?!this._isUTC:!1}function zz(){return this.isValid()?this._isUTC:!1}function EE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Wz=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gz=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Di(t,e){var r=t,n=null,i,a,o;return Uc(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Ta(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=Wz.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:kt(n[Ji])*i,h:kt(n[sn])*i,m:kt(n[Ci])*i,s:kt(n[wa])*i,ms:kt(Ih(n[To]*1e3))*i}):(n=Gz.exec(t))?(i=n[1]==="-"?-1:1,r={y:mo(n[2],i),M:mo(n[3],i),w:mo(n[4],i),d:mo(n[5],i),h:mo(n[6],i),m:mo(n[7],i),s:mo(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=Uz(kr(r.from),kr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new dd(r),Uc(t)&&Jt(t,"_locale")&&(a._locale=t._locale),Uc(t)&&Jt(t,"_isValid")&&(a._isValid=t._isValid),a}Di.fn=dd.prototype;Di.invalid=jz;function mo(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function s1(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Uz(t,e){var r;return t.isValid()&&e.isValid()?(e=wg(e,t),t.isBefore(e)?r=s1(t,e):(r=s1(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function CE(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(eE(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Di(r,n),TE(this,i,t),this}}function TE(t,e,r,n){var i=e._milliseconds,a=Ih(e._days),o=Ih(e._months);t.isValid()&&(n=n==null?!0:n,o&&cE(t,gf(t,"Month")+o*r),a&&nE(t,"Date",gf(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&Ne.updateOffset(t,a||o))}var Yz=CE(1,"add"),Kz=CE(-1,"subtract");function PE(t){return typeof t=="string"||t instanceof String}function Qz(t){return ji(t)||xu(t)||PE(t)||Ta(t)||Xz(t)||Jz(t)||t===null||t===void 0}function Jz(t){var e=Io(t)&&!lg(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=n.length;for(i=0;i<o;i+=1)a=n[i],r=r||Jt(t,a);return e&&r}function Xz(t){var e=Ii(t),r=!1;return e&&(r=t.filter(function(n){return!Ta(n)&&PE(t)}).length===0),e&&r}function Zz(t){var e=Io(t)&&!lg(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Jt(t,a);return e&&r}function e9(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function t9(t,e){arguments.length===1&&(arguments[0]?Qz(arguments[0])?(t=arguments[0],e=void 0):Zz(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||kr(),n=wg(r,this).startOf("day"),i=Ne.calendarFormat(this,n)||"sameElse",a=e&&(ca(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,kr(r)))}function r9(){return new wu(this)}function n9(t,e){var r=ji(t)?t:kr(t);return this.isValid()&&r.isValid()?(e=_i(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function i9(t,e){var r=ji(t)?t:kr(t);return this.isValid()&&r.isValid()?(e=_i(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function a9(t,e,r,n){var i=ji(t)?t:kr(t),a=ji(e)?e:kr(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function o9(t,e){var r=ji(t)?t:kr(t),n;return this.isValid()&&r.isValid()?(e=_i(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function s9(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function l9(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function u9(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=wg(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=_i(e),e){case"year":a=Yc(this,n)/12;break;case"month":a=Yc(this,n);break;case"quarter":a=Yc(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:ui(a)}function Yc(t,e){if(t.date()<e.date())return-Yc(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}Ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function c9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function f9(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Gc(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ca(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Gc(r,"Z")):Gc(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function d9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function p9(t){t||(t=this.isUtc()?Ne.defaultFormatUtc:Ne.defaultFormat);var e=Gc(this,t);return this.localeData().postformat(e)}function h9(t,e){return this.isValid()&&(ji(t)&&t.isValid()||kr(t).isValid())?Di({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function v9(t){return this.from(kr(),t)}function g9(t,e){return this.isValid()&&(ji(t)&&t.isValid()||kr(t).isValid())?Di({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function m9(t){return this.to(kr(),t)}function AE(t){var e;return t===void 0?this._locale._abbr:(e=Ia(t),e!=null&&(this._locale=e),this)}var kE=bi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function IE(){return this._locale}var bf=1e3,zs=60*bf,_f=60*zs,jE=(365*400+97)*24*_f;function Ws(t,e){return(t%e+e)%e}function RE(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-jE:new Date(t,e,r).valueOf()}function FE(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-jE:Date.UTC(t,e,r)}function y9(t){var e,r;if(t=_i(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?FE:RE,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ws(e+(this._isUTC?0:this.utcOffset()*zs),_f);break;case"minute":e=this._d.valueOf(),e-=Ws(e,zs);break;case"second":e=this._d.valueOf(),e-=Ws(e,bf);break}return this._d.setTime(e),Ne.updateOffset(this,!0),this}function b9(t){var e,r;if(t=_i(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?FE:RE,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=_f-Ws(e+(this._isUTC?0:this.utcOffset()*zs),_f)-1;break;case"minute":e=this._d.valueOf(),e+=zs-Ws(e,zs)-1;break;case"second":e=this._d.valueOf(),e+=bf-Ws(e,bf)-1;break}return this._d.setTime(e),Ne.updateOffset(this,!0),this}function _9(){return this._d.valueOf()-(this._offset||0)*6e4}function S9(){return Math.floor(this.valueOf()/1e3)}function O9(){return new Date(this.valueOf())}function x9(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function w9(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function E9(){return this.isValid()?this.toISOString():null}function C9(){return ug(this)}function T9(){return Qa({},bt(this))}function P9(){return bt(this).overflow}function A9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ot("N",0,0,"eraAbbr");ot("NN",0,0,"eraAbbr");ot("NNN",0,0,"eraAbbr");ot("NNNN",0,0,"eraName");ot("NNNNN",0,0,"eraNarrow");ot("y",["y",1],"yo","eraYear");ot("y",["yy",2],0,"eraYear");ot("y",["yyy",3],0,"eraYear");ot("y",["yyyy",4],0,"eraYear");Ue("N",Eg);Ue("NN",Eg);Ue("NNN",Eg);Ue("NNNN",V9);Ue("NNNNN",B9);mr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?bt(r).era=i:bt(r).invalidEra=t});Ue("y",ul);Ue("yy",ul);Ue("yyy",ul);Ue("yyyy",ul);Ue("yo",q9);mr(["y","yy","yyy","yyyy"],An);mr(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[An]=r._locale.eraYearOrdinalParse(t,i):e[An]=parseInt(t,10)});function k9(t,e){var r,n,i,a=this._eras||Ia("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=Ne(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=Ne(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function I9(t,e,r){var n,i,a=this.eras(),o,s,l;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(o=a[n].name.toUpperCase(),s=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return a[n];break;case"NNNN":if(o===t)return a[n];break;case"NNNNN":if(l===t)return a[n];break}else if([o,s,l].indexOf(t)>=0)return a[n]}function j9(t,e){var r=t.since<=t.until?1:-1;return e===void 0?Ne(t.since).year():Ne(t.since).year()+(e-t.offset)*r}function R9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function F9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function L9(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function $9(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-Ne(i[t].since).year())*r+i[t].offset;return this.year()}function N9(t){return Jt(this,"_erasNameRegex")||Cg.call(this),t?this._erasNameRegex:this._erasRegex}function D9(t){return Jt(this,"_erasAbbrRegex")||Cg.call(this),t?this._erasAbbrRegex:this._erasRegex}function M9(t){return Jt(this,"_erasNarrowRegex")||Cg.call(this),t?this._erasNarrowRegex:this._erasRegex}function Eg(t,e){return e.erasAbbrRegex(t)}function V9(t,e){return e.erasNameRegex(t)}function B9(t,e){return e.erasNarrowRegex(t)}function q9(t,e){return e._eraYearOrdinalRegex||ul}function Cg(){var t=[],e=[],r=[],n=[],i,a,o=this.eras();for(i=0,a=o.length;i<a;++i)e.push(Xn(o[i].name)),t.push(Xn(o[i].abbr)),r.push(Xn(o[i].narrow)),n.push(Xn(o[i].name)),n.push(Xn(o[i].abbr)),n.push(Xn(o[i].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ot(0,["gg",2],0,function(){return this.weekYear()%100});ot(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pd(t,e){ot(0,[t,t.length],0,e)}pd("gggg","weekYear");pd("ggggg","weekYear");pd("GGGG","isoWeekYear");pd("GGGGG","isoWeekYear");In("weekYear","gg");In("isoWeekYear","GG");jn("weekYear",1);jn("isoWeekYear",1);Ue("G",ld);Ue("g",ld);Ue("GG",Ir,oi);Ue("gg",Ir,oi);Ue("GGGG",vg,hg);Ue("gggg",vg,hg);Ue("GGGGG",sd,ad);Ue("ggggg",sd,ad);Cu(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=kt(t)});Cu(["gg","GG"],function(t,e,r,n){e[n]=Ne.parseTwoDigitYear(t)});function H9(t){return LE.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function z9(t){return LE.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function W9(){return Ea(this.year(),1,4)}function G9(){return Ea(this.isoWeekYear(),1,4)}function U9(){var t=this.localeData()._week;return Ea(this.year(),t.dow,t.doy)}function Y9(){var t=this.localeData()._week;return Ea(this.weekYear(),t.dow,t.doy)}function LE(t,e,r,n,i){var a;return t==null?uu(this,n,i).year:(a=Ea(t,n,i),e>a&&(e=a),K9.call(this,t,e,r,n,i))}function K9(t,e,r,n,i){var a=hE(t,e,r,n,i),o=lu(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ot("Q",0,"Qo","quarter");In("quarter","Q");jn("quarter",7);Ue("Q",iE);mr("Q",function(t,e){e[xa]=(kt(t)-1)*3});function Q9(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ot("D",["DD",2],"Do","date");In("date","D");jn("date",9);Ue("D",Ir);Ue("DD",Ir,oi);Ue("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});mr(["D","DD"],Ji);mr("Do",function(t,e){e[Ji]=kt(t.match(Ir)[0])});var $E=ll("Date",!0);ot("DDD",["DDDD",3],"DDDo","dayOfYear");In("dayOfYear","DDD");jn("dayOfYear",4);Ue("DDD",od);Ue("DDDD",aE);mr(["DDD","DDDD"],function(t,e,r){r._dayOfYear=kt(t)});function J9(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ot("m",["mm",2],0,"minute");In("minute","m");jn("minute",14);Ue("m",Ir);Ue("mm",Ir,oi);mr(["m","mm"],Ci);var X9=ll("Minutes",!1);ot("s",["ss",2],0,"second");In("second","s");jn("second",15);Ue("s",Ir);Ue("ss",Ir,oi);mr(["s","ss"],wa);var Z9=ll("Seconds",!1);ot("S",0,0,function(){return~~(this.millisecond()/100)});ot(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ot(0,["SSS",3],0,"millisecond");ot(0,["SSSS",4],0,function(){return this.millisecond()*10});ot(0,["SSSSS",5],0,function(){return this.millisecond()*100});ot(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ot(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ot(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ot(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});In("millisecond","ms");jn("millisecond",16);Ue("S",od,iE);Ue("SS",od,oi);Ue("SSS",od,aE);var Ja,NE;for(Ja="SSSS";Ja.length<=9;Ja+="S")Ue(Ja,ul);function e7(t,e){e[To]=kt(("0."+t)*1e3)}for(Ja="S";Ja.length<=9;Ja+="S")mr(Ja,e7);NE=ll("Milliseconds",!1);ot("z",0,0,"zoneAbbr");ot("zz",0,0,"zoneName");function t7(){return this._isUTC?"UTC":""}function r7(){return this._isUTC?"Coordinated Universal Time":""}var je=wu.prototype;je.add=Yz;je.calendar=t9;je.clone=r9;je.diff=u9;je.endOf=b9;je.format=p9;je.from=h9;je.fromNow=v9;je.to=g9;je.toNow=m9;je.get=iH;je.invalidAt=P9;je.isAfter=n9;je.isBefore=i9;je.isBetween=a9;je.isSame=o9;je.isSameOrAfter=s9;je.isSameOrBefore=l9;je.isValid=C9;je.lang=kE;je.locale=AE;je.localeData=IE;je.max=Cz;je.min=Ez;je.parsingFlags=T9;je.set=aH;je.startOf=y9;je.subtract=Kz;je.toArray=x9;je.toObject=w9;je.toDate=O9;je.toISOString=f9;je.inspect=d9;typeof Symbol<"u"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});je.toJSON=E9;je.toString=c9;je.unix=S9;je.valueOf=_9;je.creationData=A9;je.eraName=R9;je.eraNarrow=F9;je.eraAbbr=L9;je.eraYear=$9;je.year=pE;je.isLeapYear=wH;je.weekYear=H9;je.isoWeekYear=z9;je.quarter=je.quarters=Q9;je.month=fE;je.daysInMonth=SH;je.week=je.weeks=kH;je.isoWeek=je.isoWeeks=IH;je.weeksInYear=U9;je.weeksInWeekYear=Y9;je.isoWeeksInYear=W9;je.isoWeeksInISOWeekYear=G9;je.date=$E;je.day=je.days=zH;je.weekday=WH;je.isoWeekday=GH;je.dayOfYear=J9;je.hour=je.hours=ZH;je.minute=je.minutes=X9;je.second=je.seconds=Z9;je.millisecond=je.milliseconds=NE;je.utcOffset=Lz;je.utc=Nz;je.local=Dz;je.parseZone=Mz;je.hasAlignedHourOffset=Vz;je.isDST=Bz;je.isLocal=Hz;je.isUtcOffset=zz;je.isUtc=EE;je.isUTC=EE;je.zoneAbbr=t7;je.zoneName=r7;je.dates=bi("dates accessor is deprecated. Use date instead.",$E);je.months=bi("months accessor is deprecated. Use month instead",fE);je.years=bi("years accessor is deprecated. Use year instead",pE);je.zone=bi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$z);je.isDSTShifted=bi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qz);function n7(t){return kr(t*1e3)}function i7(){return kr.apply(null,arguments).parseZone()}function DE(t){return t}var Xt=fg.prototype;Xt.calendar=z8;Xt.longDateFormat=Y8;Xt.invalidDate=Q8;Xt.ordinal=Z8;Xt.preparse=DE;Xt.postformat=DE;Xt.relativeTime=tH;Xt.pastFuture=rH;Xt.set=q8;Xt.eras=k9;Xt.erasParse=I9;Xt.erasConvertYear=j9;Xt.erasAbbrRegex=D9;Xt.erasNameRegex=N9;Xt.erasNarrowRegex=M9;Xt.months=mH;Xt.monthsShort=yH;Xt.monthsParse=_H;Xt.monthsRegex=xH;Xt.monthsShortRegex=OH;Xt.week=CH;Xt.firstDayOfYear=AH;Xt.firstDayOfWeek=PH;Xt.weekdays=MH;Xt.weekdaysMin=BH;Xt.weekdaysShort=VH;Xt.weekdaysParse=HH;Xt.weekdaysRegex=UH;Xt.weekdaysShortRegex=YH;Xt.weekdaysMinRegex=KH;Xt.isPM=JH;Xt.meridiem=ez;function Sf(t,e,r,n){var i=Ia(),a=ua().set(n,e);return i[r](a,t)}function ME(t,e,r){if(Ta(t)&&(e=t,t=void 0),t=t||"",e!=null)return Sf(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Sf(t,n,r,"month");return i}function Tg(t,e,r,n){typeof t=="boolean"?(Ta(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Ta(e)&&(r=e,e=void 0),e=e||"");var i=Ia(),a=t?i._week.dow:0,o,s=[];if(r!=null)return Sf(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=Sf(e,(o+a)%7,n,"day");return s}function a7(t,e){return ME(t,e,"months")}function o7(t,e){return ME(t,e,"monthsShort")}function s7(t,e,r){return Tg(t,e,r,"weekdays")}function l7(t,e,r){return Tg(t,e,r,"weekdaysShort")}function u7(t,e,r){return Tg(t,e,r,"weekdaysMin")}to("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=kt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});Ne.lang=bi("moment.lang is deprecated. Use moment.locale instead.",to);Ne.langData=bi("moment.langData is deprecated. Use moment.localeData instead.",Ia);var ya=Math.abs;function c7(){var t=this._data;return this._milliseconds=ya(this._milliseconds),this._days=ya(this._days),this._months=ya(this._months),t.milliseconds=ya(t.milliseconds),t.seconds=ya(t.seconds),t.minutes=ya(t.minutes),t.hours=ya(t.hours),t.months=ya(t.months),t.years=ya(t.years),this}function VE(t,e,r,n){var i=Di(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function f7(t,e){return VE(this,t,e,1)}function d7(t,e){return VE(this,t,e,-1)}function l1(t){return t<0?Math.floor(t):Math.ceil(t)}function p7(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,o,s,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=l1(Rh(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=ui(t/1e3),n.seconds=i%60,a=ui(i/60),n.minutes=a%60,o=ui(a/60),n.hours=o%24,e+=ui(o/24),l=ui(BE(e)),r+=l,e-=l1(Rh(l)),s=ui(r/12),r%=12,n.days=e,n.months=r,n.years=s,this}function BE(t){return t*4800/146097}function Rh(t){return t*146097/4800}function h7(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=_i(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+BE(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Rh(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function v7(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+kt(this._months/12)*31536e6:NaN}function ja(t){return function(){return this.as(t)}}var g7=ja("ms"),m7=ja("s"),y7=ja("m"),b7=ja("h"),_7=ja("d"),S7=ja("w"),O7=ja("M"),x7=ja("Q"),w7=ja("y");function E7(){return Di(this)}function C7(t){return t=_i(t),this.isValid()?this[t+"s"]():NaN}function Yo(t){return function(){return this.isValid()?this._data[t]:NaN}}var T7=Yo("milliseconds"),P7=Yo("seconds"),A7=Yo("minutes"),k7=Yo("hours"),I7=Yo("days"),j7=Yo("months"),R7=Yo("years");function F7(){return ui(this.days()/7)}var _a=Math.round,$s={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function L7(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function $7(t,e,r,n){var i=Di(t).abs(),a=_a(i.as("s")),o=_a(i.as("m")),s=_a(i.as("h")),l=_a(i.as("d")),u=_a(i.as("M")),c=_a(i.as("w")),f=_a(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,L7.apply(null,d)}function N7(t){return t===void 0?_a:typeof t=="function"?(_a=t,!0):!1}function D7(t,e){return $s[t]===void 0?!1:e===void 0?$s[t]:($s[t]=e,t==="s"&&($s.ss=e-1),!0)}function M7(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=$s,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},$s,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=$7(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var Rp=Math.abs;function ps(t){return(t>0)-(t<0)||+t}function hd(){if(!this.isValid())return this.localeData().invalidDate();var t=Rp(this._milliseconds)/1e3,e=Rp(this._days),r=Rp(this._months),n,i,a,o,s=this.asSeconds(),l,u,c,f;return s?(n=ui(t/60),i=ui(n/60),t%=60,n%=60,a=ui(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=ps(this._months)!==ps(s)?"-":"",c=ps(this._days)!==ps(s)?"-":"",f=ps(this._milliseconds)!==ps(s)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(e?c+e+"D":"")+(i||n||t?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(t?f+o+"S":"")):"P0D"}var Gt=dd.prototype;Gt.isValid=Iz;Gt.abs=c7;Gt.add=f7;Gt.subtract=d7;Gt.as=h7;Gt.asMilliseconds=g7;Gt.asSeconds=m7;Gt.asMinutes=y7;Gt.asHours=b7;Gt.asDays=_7;Gt.asWeeks=S7;Gt.asMonths=O7;Gt.asQuarters=x7;Gt.asYears=w7;Gt.valueOf=v7;Gt._bubble=p7;Gt.clone=E7;Gt.get=C7;Gt.milliseconds=T7;Gt.seconds=P7;Gt.minutes=A7;Gt.hours=k7;Gt.days=I7;Gt.weeks=F7;Gt.months=j7;Gt.years=R7;Gt.humanize=M7;Gt.toISOString=hd;Gt.toString=hd;Gt.toJSON=hd;Gt.locale=AE;Gt.localeData=IE;Gt.toIsoString=bi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hd);Gt.lang=kE;ot("X",0,0,"unix");ot("x",0,0,"valueOf");Ue("x",ld);Ue("X",sH);mr("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});mr("x",function(t,e,r){r._d=new Date(kt(t))});//! moment.js
Ne.version="2.29.4";V8(kr);Ne.fn=je;Ne.min=Tz;Ne.max=Pz;Ne.now=Az;Ne.utc=ua;Ne.unix=n7;Ne.months=a7;Ne.isDate=xu;Ne.locale=to;Ne.invalid=nd;Ne.duration=Di;Ne.isMoment=ji;Ne.weekdays=s7;Ne.parseZone=i7;Ne.localeData=Ia;Ne.isDuration=Uc;Ne.monthsShort=o7;Ne.weekdaysMin=u7;Ne.defineLocale=bg;Ne.updateLocale=iz;Ne.locales=az;Ne.weekdaysShort=l7;Ne.normalizeUnits=_i;Ne.relativeTimeRounding=N7;Ne.relativeTimeThreshold=D7;Ne.calendarFormat=e9;Ne.prototype=je;Ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const V7={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class B7{constructor({locale:e,formats:r,instance:n}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=i=>{var a,o;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return(o=(a=i.match(s))===null||a===void 0?void 0:a.map(l=>{const u=l[0];return u==="L"||u===";"?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(l):l}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:i},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=i=>this.moment(i,!0),this.toISO=i=>i.toISOString(),this.parse=(i,a)=>i===""?null:this.locale?this.moment(i,a,this.locale,!0):this.moment(i,a,!0),this.date=i=>{if(i===null)return null;const a=this.moment(i);return this.locale&&a.locale(this.locale),a},this.toJsDate=i=>i.toDate(),this.isValid=i=>this.moment(i).isValid(),this.isNull=i=>i===null,this.getDiff=(i,a,o)=>this.moment(a).isValid()?i.diff(a,o):0,this.isAfter=(i,a)=>i.isAfter(a),this.isBefore=(i,a)=>i.isBefore(a),this.isAfterDay=(i,a)=>i.isAfter(a,"day"),this.isBeforeDay=(i,a)=>i.isBefore(a,"day"),this.isBeforeMonth=(i,a)=>i.isBefore(a,"month"),this.isAfterMonth=(i,a)=>i.isAfter(a,"month"),this.isBeforeYear=(i,a)=>i.isBefore(a,"year"),this.isAfterYear=(i,a)=>i.isAfter(a,"year"),this.startOfDay=i=>i.clone().startOf("day"),this.endOfDay=i=>i.clone().endOf("day"),this.format=(i,a)=>this.formatByString(i,this.formats[a]),this.formatByString=(i,a)=>{const o=i.clone();return this.locale&&o.locale(this.locale),o.format(a)},this.formatNumber=i=>i,this.getHours=i=>i.get("hours"),this.addSeconds=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"seconds"):i.clone().add(a,"seconds"),this.addMinutes=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"minutes"):i.clone().add(a,"minutes"),this.addHours=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"hours"):i.clone().add(a,"hours"),this.addDays=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"days"):i.clone().add(a,"days"),this.addWeeks=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"weeks"):i.clone().add(a,"weeks"),this.addMonths=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"months"):i.clone().add(a,"months"),this.addYears=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"years"):i.clone().add(a,"years"),this.setHours=(i,a)=>i.clone().hours(a),this.getMinutes=i=>i.get("minutes"),this.setMinutes=(i,a)=>i.clone().minutes(a),this.getSeconds=i=>i.get("seconds"),this.setSeconds=(i,a)=>i.clone().seconds(a),this.getMonth=i=>i.get("month"),this.getDaysInMonth=i=>i.daysInMonth(),this.isSameDay=(i,a)=>i.isSame(a,"day"),this.isSameMonth=(i,a)=>i.isSame(a,"month"),this.isSameYear=(i,a)=>i.isSame(a,"year"),this.isSameHour=(i,a)=>i.isSame(a,"hour"),this.setMonth=(i,a)=>i.clone().month(a),this.getMeridiemText=i=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem(i==="am"?0:13,0,!1):i==="am"?"AM":"PM",this.startOfYear=i=>i.clone().startOf("year"),this.endOfYear=i=>i.clone().endOf("year"),this.startOfMonth=i=>i.clone().startOf("month"),this.endOfMonth=i=>i.clone().endOf("month"),this.startOfWeek=i=>i.clone().startOf("week"),this.endOfWeek=i=>i.clone().endOf("week"),this.getNextMonth=i=>i.clone().add(1,"month"),this.getPreviousMonth=i=>i.clone().subtract(1,"month"),this.getMonthArray=i=>{const o=[i.clone().startOf("year")];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.getYear=i=>i.get("year"),this.setYear=(i,a)=>i.clone().set("year",a),this.getDate=i=>i.get("date"),this.setDate=(i,a)=>i.clone().set("date",a),this.mergeDateAndTime=(i,a)=>i.hour(a.hour()).minute(a.minute()).second(a.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(i,a)=>i===null&&a===null?!0:this.moment(i).isSame(a),this.getWeekArray=i=>{const a=i.clone().startOf("month").startOf("week"),o=i.clone().endOf("month").endOf("week");let s=0,l=a;const u=[];for(;l.isBefore(o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=l.clone().add(1,"day"),s+=1}return u},this.getYearRange=(i,a)=>{const o=this.moment(i).startOf("year"),s=this.moment(a).endOf("year"),l=[];let u=o;for(;u.isBefore(s);)l.push(u),u=u.clone().add(1,"year");return l},this.isWithinRange=(i,[a,o])=>i.isBetween(a,o,null,"[]"),this.moment=n||Ne,this.locale=e,this.formats=Object.assign({},V7,r)}}var q7=!0;const H7=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.valueError,u=ae.useState(e),c=Ge(u,2),f=c[0],d=c[1];ae.useEffect(function(){e!==f&&d(e)},[e]);var p=function(m){var S=m.target.value;S===""&&(S=void 0),d(S),r(S,void 0,q7)},h=n.settings.showErrorMessage,v=h?!0:!l,g=(v?f:e)||"";return j.createElement(Gr,null,j.createElement(hr,ge({variant:"standard",value:g,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:p,size:"small"},o)))},z7=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.maxRows,u=t.fullWidth,c=n.settings.defaultMaxRows,f=function(h){var v=h.target.value;v===""&&(v=void 0),r(v)},d=e||"";return j.createElement(Gr,{fullWidth:u},j.createElement(hr,ge({variant:"standard",fullWidth:u,maxRows:l||c,multiline:!0,value:d,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:f,size:"small"},o)))};function W7(t){if(Array.isArray(t))return Pk(t)}function G7(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $e(t){return W7(t)||Ak(t)||kk(t)||G7()}var qE={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Tn,function(){var r=Array.prototype.slice;function n(b,T){T&&(b.prototype=Object.create(T.prototype)),b.prototype.constructor=b}function i(b){return l(b)?b:Se(b)}n(a,i);function a(b){return u(b)?b:_e(b)}n(o,i);function o(b){return c(b)?b:pe(b)}n(s,i);function s(b){return l(b)&&!f(b)?b:ue(b)}function l(b){return!!(b&&b[p])}function u(b){return!!(b&&b[h])}function c(b){return!!(b&&b[v])}function f(b){return u(b)||c(b)}function d(b){return!!(b&&b[g])}i.isIterable=l,i.isKeyed=u,i.isIndexed=c,i.isAssociative=f,i.isOrdered=d,i.Keyed=a,i.Indexed=o,i.Set=s;var p="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",v="@@__IMMUTABLE_INDEXED__@@",g="@@__IMMUTABLE_ORDERED__@@",y="delete",m=5,S=1<<m,_=S-1,O={},x={value:!1},w={value:!1};function C(b){return b.value=!1,b}function I(b){b&&(b.value=!0)}function A(){}function P(b,T){T=T||0;for(var D=Math.max(0,b.length-T),B=new Array(D),G=0;G<D;G++)B[G]=b[G+T];return B}function E(b){return b.size===void 0&&(b.size=b.__iterate(F)),b.size}function R(b,T){if(typeof T!="number"){var D=T>>>0;if(""+D!==T||D===4294967295)return NaN;T=D}return T<0?E(b)+T:T}function F(){return!0}function N(b,T,D){return(b===0||D!==void 0&&b<=-D)&&(T===void 0||D!==void 0&&T>=D)}function V(b,T){return J(b,T,0)}function z(b,T){return J(b,T,T)}function J(b,T,D){return b===void 0?D:b<0?Math.max(0,T+b):T===void 0?b:Math.min(T,b)}var H=0,M=1,L=2,q=typeof Symbol=="function"&&Symbol.iterator,W="@@iterator",Q=q||W;function K(b){this.next=b}K.prototype.toString=function(){return"[Iterator]"},K.KEYS=H,K.VALUES=M,K.ENTRIES=L,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[Q]=function(){return this};function $(b,T,D,B){var G=b===0?T:b===1?D:[T,D];return B?B.value=G:B={value:G,done:!1},B}function U(){return{value:void 0,done:!0}}function X(b){return!!Oe(b)}function ee(b){return b&&typeof b.next=="function"}function se(b){var T=Oe(b);return T&&T.call(b)}function Oe(b){var T=b&&(q&&b[q]||b[W]);if(typeof T=="function")return T}function be(b){return b&&typeof b.length=="number"}n(Se,i);function Se(b){return b==null?We():l(b)?b.toSeq():Bt(b)}Se.of=function(){return Se(arguments)},Se.prototype.toSeq=function(){return this},Se.prototype.toString=function(){return this.__toString("Seq {","}")},Se.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Se.prototype.__iterate=function(b,T){return we(this,b,T,!0)},Se.prototype.__iterator=function(b,T){return Ae(this,b,T,!0)},n(_e,Se);function _e(b){return b==null?We().toKeyedSeq():l(b)?u(b)?b.toSeq():b.fromEntrySeq():Je(b)}_e.prototype.toKeyedSeq=function(){return this},n(pe,Se);function pe(b){return b==null?We():l(b)?u(b)?b.entrySeq():b.toIndexedSeq():yt(b)}pe.of=function(){return pe(arguments)},pe.prototype.toIndexedSeq=function(){return this},pe.prototype.toString=function(){return this.__toString("Seq [","]")},pe.prototype.__iterate=function(b,T){return we(this,b,T,!1)},pe.prototype.__iterator=function(b,T){return Ae(this,b,T,!1)},n(ue,Se);function ue(b){return(b==null?We():l(b)?u(b)?b.entrySeq():b:yt(b)).toSetSeq()}ue.of=function(){return ue(arguments)},ue.prototype.toSetSeq=function(){return this},Se.isSeq=fe,Se.Keyed=_e,Se.Set=ue,Se.Indexed=pe;var Le="@@__IMMUTABLE_SEQ__@@";Se.prototype[Le]=!0,n(ie,pe);function ie(b){this._array=b,this.size=b.length}ie.prototype.get=function(b,T){return this.has(b)?this._array[R(this,b)]:T},ie.prototype.__iterate=function(b,T){for(var D=this._array,B=D.length-1,G=0;G<=B;G++)if(b(D[T?B-G:G],G,this)===!1)return G+1;return G},ie.prototype.__iterator=function(b,T){var D=this._array,B=D.length-1,G=0;return new K(function(){return G>B?U():$(b,G,D[T?B-G++:G++])})},n(le,_e);function le(b){var T=Object.keys(b);this._object=b,this._keys=T,this.size=T.length}le.prototype.get=function(b,T){return T!==void 0&&!this.has(b)?T:this._object[b]},le.prototype.has=function(b){return this._object.hasOwnProperty(b)},le.prototype.__iterate=function(b,T){for(var D=this._object,B=this._keys,G=B.length-1,Z=0;Z<=G;Z++){var te=B[T?G-Z:Z];if(b(D[te],te,this)===!1)return Z+1}return Z},le.prototype.__iterator=function(b,T){var D=this._object,B=this._keys,G=B.length-1,Z=0;return new K(function(){var te=B[T?G-Z:Z];return Z++>G?U():$(b,te,D[te])})},le.prototype[g]=!0,n(xe,pe);function xe(b){this._iterable=b,this.size=b.length||b.size}xe.prototype.__iterateUncached=function(b,T){if(T)return this.cacheResult().__iterate(b,T);var D=this._iterable,B=se(D),G=0;if(ee(B))for(var Z;!(Z=B.next()).done&&b(Z.value,G++,this)!==!1;);return G},xe.prototype.__iteratorUncached=function(b,T){if(T)return this.cacheResult().__iterator(b,T);var D=this._iterable,B=se(D);if(!ee(B))return new K(U);var G=0;return new K(function(){var Z=B.next();return Z.done?Z:$(b,G++,Z.value)})},n(Ee,pe);function Ee(b){this._iterator=b,this._iteratorCache=[]}Ee.prototype.__iterateUncached=function(b,T){if(T)return this.cacheResult().__iterate(b,T);for(var D=this._iterator,B=this._iteratorCache,G=0;G<B.length;)if(b(B[G],G++,this)===!1)return G;for(var Z;!(Z=D.next()).done;){var te=Z.value;if(B[G]=te,b(te,G++,this)===!1)break}return G},Ee.prototype.__iteratorUncached=function(b,T){if(T)return this.cacheResult().__iterator(b,T);var D=this._iterator,B=this._iteratorCache,G=0;return new K(function(){if(G>=B.length){var Z=D.next();if(Z.done)return Z;B[G]=Z.value}return $(b,G,B[G++])})};function fe(b){return!!(b&&b[Le])}var De;function We(){return De||(De=new ie([]))}function Je(b){var T=Array.isArray(b)?new ie(b).fromEntrySeq():ee(b)?new Ee(b).fromEntrySeq():X(b)?new xe(b).fromEntrySeq():typeof b=="object"?new le(b):void 0;if(!T)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+b);return T}function yt(b){var T=ve(b);if(!T)throw new TypeError("Expected Array or iterable object of values: "+b);return T}function Bt(b){var T=ve(b)||typeof b=="object"&&new le(b);if(!T)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+b);return T}function ve(b){return be(b)?new ie(b):ee(b)?new Ee(b):X(b)?new xe(b):void 0}function we(b,T,D,B){var G=b._cache;if(G){for(var Z=G.length-1,te=0;te<=Z;te++){var oe=G[D?Z-te:te];if(T(oe[1],B?oe[0]:te,b)===!1)return te+1}return te}return b.__iterateUncached(T,D)}function Ae(b,T,D,B){var G=b._cache;if(G){var Z=G.length-1,te=0;return new K(function(){var oe=G[D?Z-te:te];return te++>Z?U():$(T,B?oe[0]:te-1,oe[1])})}return b.__iteratorUncached(T,D)}function Fe(b,T){return T?ct(T,b,"",{"":b}):ze(b)}function ct(b,T,D,B){return Array.isArray(T)?b.call(B,D,pe(T).map(function(G,Z){return ct(b,G,Z,T)})):mt(T)?b.call(B,D,_e(T).map(function(G,Z){return ct(b,G,Z,T)})):T}function ze(b){return Array.isArray(b)?pe(b).map(ze).toList():mt(b)?_e(b).map(ze).toMap():b}function mt(b){return b&&(b.constructor===Object||b.constructor===void 0)}function it(b,T){if(b===T||b!==b&&T!==T)return!0;if(!b||!T)return!1;if(typeof b.valueOf=="function"&&typeof T.valueOf=="function"){if(b=b.valueOf(),T=T.valueOf(),b===T||b!==b&&T!==T)return!0;if(!b||!T)return!1}return!!(typeof b.equals=="function"&&typeof T.equals=="function"&&b.equals(T))}function Kt(b,T){if(b===T)return!0;if(!l(T)||b.size!==void 0&&T.size!==void 0&&b.size!==T.size||b.__hash!==void 0&&T.__hash!==void 0&&b.__hash!==T.__hash||u(b)!==u(T)||c(b)!==c(T)||d(b)!==d(T))return!1;if(b.size===0&&T.size===0)return!0;var D=!f(b);if(d(b)){var B=b.entries();return T.every(function(he,ye){var Ce=B.next().value;return Ce&&it(Ce[1],he)&&(D||it(Ce[0],ye))})&&B.next().done}var G=!1;if(b.size===void 0)if(T.size===void 0)typeof b.cacheResult=="function"&&b.cacheResult();else{G=!0;var Z=b;b=T,T=Z}var te=!0,oe=T.__iterate(function(he,ye){if(D?!b.has(he):G?!it(he,b.get(ye,O)):!it(b.get(ye,O),he))return te=!1,!1});return te&&b.size===oe}n(lt,pe);function lt(b,T){if(!(this instanceof lt))return new lt(b,T);if(this._value=b,this.size=T===void 0?1/0:Math.max(0,T),this.size===0){if(It)return It;It=this}}lt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},lt.prototype.get=function(b,T){return this.has(b)?this._value:T},lt.prototype.includes=function(b){return it(this._value,b)},lt.prototype.slice=function(b,T){var D=this.size;return N(b,T,D)?this:new lt(this._value,z(T,D)-V(b,D))},lt.prototype.reverse=function(){return this},lt.prototype.indexOf=function(b){return it(this._value,b)?0:-1},lt.prototype.lastIndexOf=function(b){return it(this._value,b)?this.size:-1},lt.prototype.__iterate=function(b,T){for(var D=0;D<this.size;D++)if(b(this._value,D,this)===!1)return D+1;return D},lt.prototype.__iterator=function(b,T){var D=this,B=0;return new K(function(){return B<D.size?$(b,B++,D._value):U()})},lt.prototype.equals=function(b){return b instanceof lt?it(this._value,b._value):Kt(b)};var It;function qe(b,T){if(!b)throw new Error(T)}n(Me,pe);function Me(b,T,D){if(!(this instanceof Me))return new Me(b,T,D);if(qe(D!==0,"Cannot step a Range by 0"),b=b||0,T===void 0&&(T=1/0),D=D===void 0?1:Math.abs(D),T<b&&(D=-D),this._start=b,this._end=T,this._step=D,this.size=Math.max(0,Math.ceil((T-b)/D-1)+1),this.size===0){if(rt)return rt;rt=this}}Me.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},Me.prototype.get=function(b,T){return this.has(b)?this._start+R(this,b)*this._step:T},Me.prototype.includes=function(b){var T=(b-this._start)/this._step;return T>=0&&T<this.size&&T===Math.floor(T)},Me.prototype.slice=function(b,T){return N(b,T,this.size)?this:(b=V(b,this.size),T=z(T,this.size),T<=b?new Me(0,0):new Me(this.get(b,this._end),this.get(T,this._end),this._step))},Me.prototype.indexOf=function(b){var T=b-this._start;if(T%this._step===0){var D=T/this._step;if(D>=0&&D<this.size)return D}return-1},Me.prototype.lastIndexOf=function(b){return this.indexOf(b)},Me.prototype.__iterate=function(b,T){for(var D=this.size-1,B=this._step,G=T?this._start+D*B:this._start,Z=0;Z<=D;Z++){if(b(G,Z,this)===!1)return Z+1;G+=T?-B:B}return Z},Me.prototype.__iterator=function(b,T){var D=this.size-1,B=this._step,G=T?this._start+D*B:this._start,Z=0;return new K(function(){var te=G;return G+=T?-B:B,Z>D?U():$(b,Z++,te)})},Me.prototype.equals=function(b){return b instanceof Me?this._start===b._start&&this._end===b._end&&this._step===b._step:Kt(this,b)};var rt;n(ut,i);function ut(){throw TypeError("Abstract")}n(Ct,ut);function Ct(){}n(Tt,ut);function Tt(){}n(Nt,ut);function Nt(){}ut.Keyed=Ct,ut.Indexed=Tt,ut.Set=Nt;var ir=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(T,D){T=T|0,D=D|0;var B=T&65535,G=D&65535;return B*G+((T>>>16)*G+B*(D>>>16)<<16>>>0)|0};function tr(b){return b>>>1&1073741824|b&3221225471}function rr(b){if(b===!1||b===null||b===void 0||typeof b.valueOf=="function"&&(b=b.valueOf(),b===!1||b===null||b===void 0))return 0;if(b===!0)return 1;var T=typeof b;if(T==="number"){if(b!==b||b===1/0)return 0;var D=b|0;for(D!==b&&(D^=b*4294967295);b>4294967295;)b/=4294967295,D^=b;return tr(D)}if(T==="string")return b.length>Jr?qr(b):et(b);if(typeof b.hashCode=="function")return b.hashCode();if(T==="object")return St(b);if(typeof b.toString=="function")return et(b.toString());throw new Error("Value type "+T+" cannot be hashed.")}function qr(b){var T=re[b];return T===void 0&&(T=et(b),de===nr&&(de=0,re={}),de++,re[b]=T),T}function et(b){for(var T=0,D=0;D<b.length;D++)T=31*T+b.charCodeAt(D)|0;return tr(T)}function St(b){var T;if(wt&&(T=zt.get(b),T!==void 0)||(T=b[Er],T!==void 0)||!cn&&(T=b.propertyIsEnumerable&&b.propertyIsEnumerable[Er],T!==void 0||(T=wn(b),T!==void 0)))return T;if(T=++jt,jt&1073741824&&(jt=0),wt)zt.set(b,T);else{if(fr!==void 0&&fr(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(cn)Object.defineProperty(b,Er,{enumerable:!1,configurable:!1,writable:!1,value:T});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Er]=T;else if(b.nodeType!==void 0)b[Er]=T;else throw new Error("Unable to set a non-enumerable property on object.")}return T}var fr=Object.isExtensible,cn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(b){return!1}}();function wn(b){if(b&&b.nodeType>0)switch(b.nodeType){case 1:return b.uniqueID;case 9:return b.documentElement&&b.documentElement.uniqueID}}var wt=typeof WeakMap=="function",zt;wt&&(zt=new WeakMap);var jt=0,Er="__immutablehash__";typeof Symbol=="function"&&(Er=Symbol(Er));var Jr=16,nr=255,de=0,re={};function me(b){qe(b!==1/0,"Cannot perform this action with an infinite size.")}n(Pe,Ct);function Pe(b){return b==null?Si():Ot(b)&&!d(b)?b:Si().withMutations(function(T){var D=a(b);me(D.size),D.forEach(function(B,G){return T.set(G,B)})})}Pe.of=function(){var b=r.call(arguments,0);return Si().withMutations(function(T){for(var D=0;D<b.length;D+=2){if(D+1>=b.length)throw new Error("Missing value for key: "+b[D]);T.set(b[D],b[D+1])}})},Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(b,T){return this._root?this._root.get(0,void 0,b,T):T},Pe.prototype.set=function(b,T){return py(this,b,T)},Pe.prototype.setIn=function(b,T){return this.updateIn(b,O,function(){return T})},Pe.prototype.remove=function(b){return py(this,b,O)},Pe.prototype.deleteIn=function(b){return this.updateIn(b,function(){return O})},Pe.prototype.update=function(b,T,D){return arguments.length===1?b(this):this.updateIn([b],T,D)},Pe.prototype.updateIn=function(b,T,D){D||(D=T,T=void 0);var B=yy(this,My(b),T,D);return B===O?void 0:B},Pe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Si()},Pe.prototype.merge=function(){return Zu(this,void 0,arguments)},Pe.prototype.mergeWith=function(b){var T=r.call(arguments,1);return Zu(this,b,T)},Pe.prototype.mergeIn=function(b){var T=r.call(arguments,1);return this.updateIn(b,Si(),function(D){return typeof D.merge=="function"?D.merge.apply(D,T):T[T.length-1]})},Pe.prototype.mergeDeep=function(){return Zu(this,vy,arguments)},Pe.prototype.mergeDeepWith=function(b){var T=r.call(arguments,1);return Zu(this,gy(b),T)},Pe.prototype.mergeDeepIn=function(b){var T=r.call(arguments,1);return this.updateIn(b,Si(),function(D){return typeof D.mergeDeep=="function"?D.mergeDeep.apply(D,T):T[T.length-1]})},Pe.prototype.sort=function(b){return Ur(ss(this,b))},Pe.prototype.sortBy=function(b,T){return Ur(ss(this,T,b))},Pe.prototype.withMutations=function(b){var T=this.asMutable();return b(T),T.wasAltered()?T.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new A)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(b,T){return new Re(this,b,T)},Pe.prototype.__iterate=function(b,T){var D=this,B=0;return this._root&&this._root.iterate(function(G){return B++,b(G[1],G[0],D)},T),B},Pe.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?dn(this.size,this._root,b,this.__hash):(this.__ownerID=b,this.__altered=!1,this)};function Ot(b){return!!(b&&b[Pt])}Pe.isMap=Ot;var Pt="@@__IMMUTABLE_MAP__@@",tt=Pe.prototype;tt[Pt]=!0,tt[y]=tt.remove,tt.removeIn=tt.deleteIn;function Xr(b,T){this.ownerID=b,this.entries=T}Xr.prototype.get=function(b,T,D,B){for(var G=this.entries,Z=0,te=G.length;Z<te;Z++)if(it(D,G[Z][0]))return G[Z][1];return B},Xr.prototype.update=function(b,T,D,B,G,Z,te){for(var oe=G===O,he=this.entries,ye=0,Ce=he.length;ye<Ce&&!it(B,he[ye][0]);ye++);var He=ye<Ce;if(He?he[ye][1]===G:oe)return this;if(I(te),(oe||!He)&&I(Z),!(oe&&he.length===1)){if(!He&&!oe&&he.length>=ik)return ZA(b,he,B,G);var Ye=b&&b===this.ownerID,gt=Ye?he:P(he);return He?oe?ye===Ce-1?gt.pop():gt[ye]=gt.pop():gt[ye]=[B,G]:gt.push([B,G]),Ye?(this.entries=gt,this):new Xr(b,gt)}};function nt(b,T,D){this.ownerID=b,this.bitmap=T,this.nodes=D}nt.prototype.get=function(b,T,D,B){T===void 0&&(T=rr(D));var G=1<<((b===0?T:T>>>b)&_),Z=this.bitmap;return Z&G?this.nodes[by(Z&G-1)].get(b+m,T,D,B):B},nt.prototype.update=function(b,T,D,B,G,Z,te){D===void 0&&(D=rr(B));var oe=(T===0?D:D>>>T)&_,he=1<<oe,ye=this.bitmap,Ce=(ye&he)!==0;if(!Ce&&G===O)return this;var He=by(ye&he-1),Ye=this.nodes,gt=Ce?Ye[He]:void 0,At=Hd(gt,b,T+m,D,B,G,Z,te);if(At===gt)return this;if(!Ce&&At&&Ye.length>=ak)return tk(b,Ye,ye,oe,At);if(Ce&&!At&&Ye.length===2&&hy(Ye[He^1]))return Ye[He^1];if(Ce&&At&&Ye.length===1&&hy(At))return At;var Rr=b&&b===this.ownerID,Oi=Ce?At?ye:ye^he:ye|he,zi=Ce?At?_y(Ye,He,At,Rr):nk(Ye,He,Rr):rk(Ye,He,At,Rr);return Rr?(this.bitmap=Oi,this.nodes=zi,this):new nt(b,Oi,zi)};function fn(b,T,D){this.ownerID=b,this.count=T,this.nodes=D}fn.prototype.get=function(b,T,D,B){T===void 0&&(T=rr(D));var G=(b===0?T:T>>>b)&_,Z=this.nodes[G];return Z?Z.get(b+m,T,D,B):B},fn.prototype.update=function(b,T,D,B,G,Z,te){D===void 0&&(D=rr(B));var oe=(T===0?D:D>>>T)&_,he=G===O,ye=this.nodes,Ce=ye[oe];if(he&&!Ce)return this;var He=Hd(Ce,b,T+m,D,B,G,Z,te);if(He===Ce)return this;var Ye=this.count;if(!Ce)Ye++;else if(!He&&(Ye--,Ye<ok))return ek(b,ye,Ye,oe);var gt=b&&b===this.ownerID,At=_y(ye,oe,He,gt);return gt?(this.count=Ye,this.nodes=At,this):new fn(b,Ye,At)};function ne(b,T,D){this.ownerID=b,this.keyHash=T,this.entries=D}ne.prototype.get=function(b,T,D,B){for(var G=this.entries,Z=0,te=G.length;Z<te;Z++)if(it(D,G[Z][0]))return G[Z][1];return B},ne.prototype.update=function(b,T,D,B,G,Z,te){D===void 0&&(D=rr(B));var oe=G===O;if(D!==this.keyHash)return oe?this:(I(te),I(Z),zd(this,b,T,D,[B,G]));for(var he=this.entries,ye=0,Ce=he.length;ye<Ce&&!it(B,he[ye][0]);ye++);var He=ye<Ce;if(He?he[ye][1]===G:oe)return this;if(I(te),(oe||!He)&&I(Z),oe&&Ce===2)return new ce(b,this.keyHash,he[ye^1]);var Ye=b&&b===this.ownerID,gt=Ye?he:P(he);return He?oe?ye===Ce-1?gt.pop():gt[ye]=gt.pop():gt[ye]=[B,G]:gt.push([B,G]),Ye?(this.entries=gt,this):new ne(b,this.keyHash,gt)};function ce(b,T,D){this.ownerID=b,this.keyHash=T,this.entry=D}ce.prototype.get=function(b,T,D,B){return it(D,this.entry[0])?this.entry[1]:B},ce.prototype.update=function(b,T,D,B,G,Z,te){var oe=G===O,he=it(B,this.entry[0]);if(he?G===this.entry[1]:oe)return this;if(I(te),oe){I(Z);return}return he?b&&b===this.ownerID?(this.entry[1]=G,this):new ce(b,this.keyHash,[B,G]):(I(Z),zd(this,b,T,rr(B),[B,G]))},Xr.prototype.iterate=ne.prototype.iterate=function(b,T){for(var D=this.entries,B=0,G=D.length-1;B<=G;B++)if(b(D[T?G-B:B])===!1)return!1},nt.prototype.iterate=fn.prototype.iterate=function(b,T){for(var D=this.nodes,B=0,G=D.length-1;B<=G;B++){var Z=D[T?G-B:B];if(Z&&Z.iterate(b,T)===!1)return!1}},ce.prototype.iterate=function(b,T){return b(this.entry)},n(Re,K);function Re(b,T,D){this._type=T,this._reverse=D,this._stack=b._root&&En(b._root)}Re.prototype.next=function(){for(var b=this._type,T=this._stack;T;){var D=T.node,B=T.index++,G;if(D.entry){if(B===0)return ft(b,D.entry)}else if(D.entries){if(G=D.entries.length-1,B<=G)return ft(b,D.entries[this._reverse?G-B:B])}else if(G=D.nodes.length-1,B<=G){var Z=D.nodes[this._reverse?G-B:B];if(Z){if(Z.entry)return ft(b,Z.entry);T=this._stack=En(Z,T)}continue}T=this._stack=this._stack.__prev}return U()};function ft(b,T){return $(b,T[0],T[1])}function En(b,T){return{node:b,index:0,__prev:T}}function dn(b,T,D,B){var G=Object.create(tt);return G.size=b,G._root=T,G.__ownerID=D,G.__hash=B,G.__altered=!1,G}var dy;function Si(){return dy||(dy=dn(0))}function py(b,T,D){var B,G;if(b._root){var Z=C(x),te=C(w);if(B=Hd(b._root,b.__ownerID,0,void 0,T,D,Z,te),!te.value)return b;G=b.size+(Z.value?D===O?-1:1:0)}else{if(D===O)return b;G=1,B=new Xr(b.__ownerID,[[T,D]])}return b.__ownerID?(b.size=G,b._root=B,b.__hash=void 0,b.__altered=!0,b):B?dn(G,B):Si()}function Hd(b,T,D,B,G,Z,te,oe){return b?b.update(T,D,B,G,Z,te,oe):Z===O?b:(I(oe),I(te),new ce(T,B,[G,Z]))}function hy(b){return b.constructor===ce||b.constructor===ne}function zd(b,T,D,B,G){if(b.keyHash===B)return new ne(T,B,[b.entry,G]);var Z=(D===0?b.keyHash:b.keyHash>>>D)&_,te=(D===0?B:B>>>D)&_,oe,he=Z===te?[zd(b,T,D+m,B,G)]:(oe=new ce(T,B,G),Z<te?[b,oe]:[oe,b]);return new nt(T,1<<Z|1<<te,he)}function ZA(b,T,D,B){b||(b=new A);for(var G=new ce(b,rr(D),[D,B]),Z=0;Z<T.length;Z++){var te=T[Z];G=G.update(b,0,void 0,te[0],te[1])}return G}function ek(b,T,D,B){for(var G=0,Z=0,te=new Array(D),oe=0,he=1,ye=T.length;oe<ye;oe++,he<<=1){var Ce=T[oe];Ce!==void 0&&oe!==B&&(G|=he,te[Z++]=Ce)}return new nt(b,G,te)}function tk(b,T,D,B,G){for(var Z=0,te=new Array(S),oe=0;D!==0;oe++,D>>>=1)te[oe]=D&1?T[Z++]:void 0;return te[B]=G,new fn(b,Z+1,te)}function Zu(b,T,D){for(var B=[],G=0;G<D.length;G++){var Z=D[G],te=a(Z);l(Z)||(te=te.map(function(oe){return Fe(oe)})),B.push(te)}return my(b,T,B)}function vy(b,T,D){return b&&b.mergeDeep&&l(T)?b.mergeDeep(T):it(b,T)?b:T}function gy(b){return function(T,D,B){if(T&&T.mergeDeepWith&&l(D))return T.mergeDeepWith(b,D);var G=b(T,D,B);return it(T,G)?T:G}}function my(b,T,D){return D=D.filter(function(B){return B.size!==0}),D.length===0?b:b.size===0&&!b.__ownerID&&D.length===1?b.constructor(D[0]):b.withMutations(function(B){for(var G=T?function(te,oe){B.update(oe,O,function(he){return he===O?te:T(he,te,oe)})}:function(te,oe){B.set(oe,te)},Z=0;Z<D.length;Z++)D[Z].forEach(G)})}function yy(b,T,D,B){var G=b===O,Z=T.next();if(Z.done){var te=G?D:b,oe=B(te);return oe===te?b:oe}qe(G||b&&b.set,"invalid keyPath");var he=Z.value,ye=G?O:b.get(he,O),Ce=yy(ye,T,D,B);return Ce===ye?b:Ce===O?b.remove(he):(G?Si():b).set(he,Ce)}function by(b){return b=b-(b>>1&1431655765),b=(b&858993459)+(b>>2&858993459),b=b+(b>>4)&252645135,b=b+(b>>8),b=b+(b>>16),b&127}function _y(b,T,D,B){var G=B?b:P(b);return G[T]=D,G}function rk(b,T,D,B){var G=b.length+1;if(B&&T+1===G)return b[T]=D,b;for(var Z=new Array(G),te=0,oe=0;oe<G;oe++)oe===T?(Z[oe]=D,te=-1):Z[oe]=b[oe+te];return Z}function nk(b,T,D){var B=b.length-1;if(D&&T===B)return b.pop(),b;for(var G=new Array(B),Z=0,te=0;te<B;te++)te===T&&(Z=1),G[te]=b[te+Z];return G}var ik=S/4,ak=S/2,ok=S/4;n(Cr,Tt);function Cr(b){var T=Wd();if(b==null)return T;if(Sy(b))return b;var D=o(b),B=D.size;return B===0?T:(me(B),B>0&&B<S?El(0,B,m,null,new Da(D.toArray())):T.withMutations(function(G){G.setSize(B),D.forEach(function(Z,te){return G.set(te,Z)})}))}Cr.of=function(){return this(arguments)},Cr.prototype.toString=function(){return this.__toString("List [","]")},Cr.prototype.get=function(b,T){if(b=R(this,b),b>=0&&b<this.size){b+=this._origin;var D=Ey(this,b);return D&&D.array[b&_]}return T},Cr.prototype.set=function(b,T){return sk(this,b,T)},Cr.prototype.remove=function(b){return this.has(b)?b===0?this.shift():b===this.size-1?this.pop():this.splice(b,1):this},Cr.prototype.insert=function(b,T){return this.splice(b,0,T)},Cr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Wd()},Cr.prototype.push=function(){var b=arguments,T=this.size;return this.withMutations(function(D){Ma(D,0,T+b.length);for(var B=0;B<b.length;B++)D.set(T+B,b[B])})},Cr.prototype.pop=function(){return Ma(this,0,-1)},Cr.prototype.unshift=function(){var b=arguments;return this.withMutations(function(T){Ma(T,-b.length);for(var D=0;D<b.length;D++)T.set(D,b[D])})},Cr.prototype.shift=function(){return Ma(this,1)},Cr.prototype.merge=function(){return ec(this,void 0,arguments)},Cr.prototype.mergeWith=function(b){var T=r.call(arguments,1);return ec(this,b,T)},Cr.prototype.mergeDeep=function(){return ec(this,vy,arguments)},Cr.prototype.mergeDeepWith=function(b){var T=r.call(arguments,1);return ec(this,gy(b),T)},Cr.prototype.setSize=function(b){return Ma(this,0,b)},Cr.prototype.slice=function(b,T){var D=this.size;return N(b,T,D)?this:Ma(this,V(b,D),z(T,D))},Cr.prototype.__iterator=function(b,T){var D=0,B=xy(this,T);return new K(function(){var G=B();return G===wl?U():$(b,D++,G)})},Cr.prototype.__iterate=function(b,T){for(var D=0,B=xy(this,T),G;(G=B())!==wl&&b(G,D++,this)!==!1;);return D},Cr.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?El(this._origin,this._capacity,this._level,this._root,this._tail,b,this.__hash):(this.__ownerID=b,this)};function Sy(b){return!!(b&&b[Oy])}Cr.isList=Sy;var Oy="@@__IMMUTABLE_LIST__@@",Rn=Cr.prototype;Rn[Oy]=!0,Rn[y]=Rn.remove,Rn.setIn=tt.setIn,Rn.deleteIn=Rn.removeIn=tt.removeIn,Rn.update=tt.update,Rn.updateIn=tt.updateIn,Rn.mergeIn=tt.mergeIn,Rn.mergeDeepIn=tt.mergeDeepIn,Rn.withMutations=tt.withMutations,Rn.asMutable=tt.asMutable,Rn.asImmutable=tt.asImmutable,Rn.wasAltered=tt.wasAltered;function Da(b,T){this.array=b,this.ownerID=T}Da.prototype.removeBefore=function(b,T,D){if(D===T?1<<T:this.array.length===0)return this;var B=D>>>T&_;if(B>=this.array.length)return new Da([],b);var G=B===0,Z;if(T>0){var te=this.array[B];if(Z=te&&te.removeBefore(b,T-m,D),Z===te&&G)return this}if(G&&!Z)return this;var oe=ns(this,b);if(!G)for(var he=0;he<B;he++)oe.array[he]=void 0;return Z&&(oe.array[B]=Z),oe},Da.prototype.removeAfter=function(b,T,D){if(D===(T?1<<T:0)||this.array.length===0)return this;var B=D-1>>>T&_;if(B>=this.array.length)return this;var G;if(T>0){var Z=this.array[B];if(G=Z&&Z.removeAfter(b,T-m,D),G===Z&&B===this.array.length-1)return this}var te=ns(this,b);return te.array.splice(B+1),G&&(te.array[B]=G),te};var wl={};function xy(b,T){var D=b._origin,B=b._capacity,G=Cl(B),Z=b._tail;return te(b._root,b._level,0);function te(ye,Ce,He){return Ce===0?oe(ye,He):he(ye,Ce,He)}function oe(ye,Ce){var He=Ce===G?Z&&Z.array:ye&&ye.array,Ye=Ce>D?0:D-Ce,gt=B-Ce;return gt>S&&(gt=S),function(){if(Ye===gt)return wl;var At=T?--gt:Ye++;return He&&He[At]}}function he(ye,Ce,He){var Ye,gt=ye&&ye.array,At=He>D?0:D-He>>Ce,Rr=(B-He>>Ce)+1;return Rr>S&&(Rr=S),function(){do{if(Ye){var Oi=Ye();if(Oi!==wl)return Oi;Ye=null}if(At===Rr)return wl;var zi=T?--Rr:At++;Ye=te(gt&&gt[zi],Ce-m,He+(zi<<Ce))}while(!0)}}}function El(b,T,D,B,G,Z,te){var oe=Object.create(Rn);return oe.size=T-b,oe._origin=b,oe._capacity=T,oe._level=D,oe._root=B,oe._tail=G,oe.__ownerID=Z,oe.__hash=te,oe.__altered=!1,oe}var wy;function Wd(){return wy||(wy=El(0,0,m))}function sk(b,T,D){if(T=R(b,T),T!==T)return b;if(T>=b.size||T<0)return b.withMutations(function(te){T<0?Ma(te,T).set(0,D):Ma(te,0,T+1).set(T,D)});T+=b._origin;var B=b._tail,G=b._root,Z=C(w);return T>=Cl(b._capacity)?B=Gd(B,b.__ownerID,0,T,D,Z):G=Gd(G,b.__ownerID,b._level,T,D,Z),Z.value?b.__ownerID?(b._root=G,b._tail=B,b.__hash=void 0,b.__altered=!0,b):El(b._origin,b._capacity,b._level,G,B):b}function Gd(b,T,D,B,G,Z){var te=B>>>D&_,oe=b&&te<b.array.length;if(!oe&&G===void 0)return b;var he;if(D>0){var ye=b&&b.array[te],Ce=Gd(ye,T,D-m,B,G,Z);return Ce===ye?b:(he=ns(b,T),he.array[te]=Ce,he)}return oe&&b.array[te]===G?b:(I(Z),he=ns(b,T),G===void 0&&te===he.array.length-1?he.array.pop():he.array[te]=G,he)}function ns(b,T){return T&&b&&T===b.ownerID?b:new Da(b?b.array.slice():[],T)}function Ey(b,T){if(T>=Cl(b._capacity))return b._tail;if(T<1<<b._level+m){for(var D=b._root,B=b._level;D&&B>0;)D=D.array[T>>>B&_],B-=m;return D}}function Ma(b,T,D){T!==void 0&&(T=T|0),D!==void 0&&(D=D|0);var B=b.__ownerID||new A,G=b._origin,Z=b._capacity,te=G+T,oe=D===void 0?Z:D<0?Z+D:G+D;if(te===G&&oe===Z)return b;if(te>=oe)return b.clear();for(var he=b._level,ye=b._root,Ce=0;te+Ce<0;)ye=new Da(ye&&ye.array.length?[void 0,ye]:[],B),he+=m,Ce+=1<<he;Ce&&(te+=Ce,G+=Ce,oe+=Ce,Z+=Ce);for(var He=Cl(Z),Ye=Cl(oe);Ye>=1<<he+m;)ye=new Da(ye&&ye.array.length?[ye]:[],B),he+=m;var gt=b._tail,At=Ye<He?Ey(b,oe-1):Ye>He?new Da([],B):gt;if(gt&&Ye>He&&te<Z&&gt.array.length){ye=ns(ye,B);for(var Rr=ye,Oi=he;Oi>m;Oi-=m){var zi=He>>>Oi&_;Rr=Rr.array[zi]=ns(Rr.array[zi],B)}Rr.array[He>>>m&_]=gt}if(oe<Z&&(At=At&&At.removeAfter(B,0,oe)),te>=Ye)te-=Ye,oe-=Ye,he=m,ye=null,At=At&&At.removeBefore(B,0,te);else if(te>G||Ye<He){for(Ce=0;ye;){var sc=te>>>he&_;if(sc!==Ye>>>he&_)break;sc&&(Ce+=(1<<he)*sc),he-=m,ye=ye.array[sc]}ye&&te>G&&(ye=ye.removeBefore(B,he,te-Ce)),ye&&Ye<He&&(ye=ye.removeAfter(B,he,Ye-Ce)),Ce&&(te-=Ce,oe-=Ce)}return b.__ownerID?(b.size=oe-te,b._origin=te,b._capacity=oe,b._level=he,b._root=ye,b._tail=At,b.__hash=void 0,b.__altered=!0,b):El(te,oe,he,ye,At)}function ec(b,T,D){for(var B=[],G=0,Z=0;Z<D.length;Z++){var te=D[Z],oe=o(te);oe.size>G&&(G=oe.size),l(te)||(oe=oe.map(function(he){return Fe(he)})),B.push(oe)}return G>b.size&&(b=b.setSize(G)),my(b,T,B)}function Cl(b){return b<S?0:b-1>>>m<<m}n(Ur,Pe);function Ur(b){return b==null?tc():Cy(b)?b:tc().withMutations(function(T){var D=a(b);me(D.size),D.forEach(function(B,G){return T.set(G,B)})})}Ur.of=function(){return this(arguments)},Ur.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ur.prototype.get=function(b,T){var D=this._map.get(b);return D!==void 0?this._list.get(D)[1]:T},Ur.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tc()},Ur.prototype.set=function(b,T){return Py(this,b,T)},Ur.prototype.remove=function(b){return Py(this,b,O)},Ur.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ur.prototype.__iterate=function(b,T){var D=this;return this._list.__iterate(function(B){return B&&b(B[1],B[0],D)},T)},Ur.prototype.__iterator=function(b,T){return this._list.fromEntrySeq().__iterator(b,T)},Ur.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var T=this._map.__ensureOwner(b),D=this._list.__ensureOwner(b);return b?Ud(T,D,b,this.__hash):(this.__ownerID=b,this._map=T,this._list=D,this)};function Cy(b){return Ot(b)&&d(b)}Ur.isOrderedMap=Cy,Ur.prototype[g]=!0,Ur.prototype[y]=Ur.prototype.remove;function Ud(b,T,D,B){var G=Object.create(Ur.prototype);return G.size=b?b.size:0,G._map=b,G._list=T,G.__ownerID=D,G.__hash=B,G}var Ty;function tc(){return Ty||(Ty=Ud(Si(),Wd()))}function Py(b,T,D){var B=b._map,G=b._list,Z=B.get(T),te=Z!==void 0,oe,he;if(D===O){if(!te)return b;G.size>=S&&G.size>=B.size*2?(he=G.filter(function(ye,Ce){return ye!==void 0&&Z!==Ce}),oe=he.toKeyedSeq().map(function(ye){return ye[0]}).flip().toMap(),b.__ownerID&&(oe.__ownerID=he.__ownerID=b.__ownerID)):(oe=B.remove(T),he=Z===G.size-1?G.pop():G.set(Z,void 0))}else if(te){if(D===G.get(Z)[1])return b;oe=B,he=G.set(Z,[T,D])}else oe=B.set(T,G.size),he=G.set(G.size,[T,D]);return b.__ownerID?(b.size=oe.size,b._map=oe,b._list=he,b.__hash=void 0,b):Ud(oe,he)}n(si,_e);function si(b,T){this._iter=b,this._useKeys=T,this.size=b.size}si.prototype.get=function(b,T){return this._iter.get(b,T)},si.prototype.has=function(b){return this._iter.has(b)},si.prototype.valueSeq=function(){return this._iter.valueSeq()},si.prototype.reverse=function(){var b=this,T=Yd(this,!0);return this._useKeys||(T.valueSeq=function(){return b._iter.toSeq().reverse()}),T},si.prototype.map=function(b,T){var D=this,B=ky(this,b,T);return this._useKeys||(B.valueSeq=function(){return D._iter.toSeq().map(b,T)}),B},si.prototype.__iterate=function(b,T){var D=this,B;return this._iter.__iterate(this._useKeys?function(G,Z){return b(G,Z,D)}:(B=T?$y(this):0,function(G){return b(G,T?--B:B++,D)}),T)},si.prototype.__iterator=function(b,T){if(this._useKeys)return this._iter.__iterator(b,T);var D=this._iter.__iterator(M,T),B=T?$y(this):0;return new K(function(){var G=D.next();return G.done?G:$(b,T?--B:B++,G.value,G)})},si.prototype[g]=!0,n(is,pe);function is(b){this._iter=b,this.size=b.size}is.prototype.includes=function(b){return this._iter.includes(b)},is.prototype.__iterate=function(b,T){var D=this,B=0;return this._iter.__iterate(function(G){return b(G,B++,D)},T)},is.prototype.__iterator=function(b,T){var D=this._iter.__iterator(M,T),B=0;return new K(function(){var G=D.next();return G.done?G:$(b,B++,G.value,G)})},n(as,ue);function as(b){this._iter=b,this.size=b.size}as.prototype.has=function(b){return this._iter.includes(b)},as.prototype.__iterate=function(b,T){var D=this;return this._iter.__iterate(function(B){return b(B,B,D)},T)},as.prototype.__iterator=function(b,T){var D=this._iter.__iterator(M,T);return new K(function(){var B=D.next();return B.done?B:$(b,B.value,B.value,B)})},n(os,_e);function os(b){this._iter=b,this.size=b.size}os.prototype.entrySeq=function(){return this._iter.toSeq()},os.prototype.__iterate=function(b,T){var D=this;return this._iter.__iterate(function(B){if(B){Ly(B);var G=l(B);return b(G?B.get(1):B[1],G?B.get(0):B[0],D)}},T)},os.prototype.__iterator=function(b,T){var D=this._iter.__iterator(M,T);return new K(function(){for(;;){var B=D.next();if(B.done)return B;var G=B.value;if(G){Ly(G);var Z=l(G);return $(b,Z?G.get(0):G[0],Z?G.get(1):G[1],B)}}})},is.prototype.cacheResult=si.prototype.cacheResult=as.prototype.cacheResult=os.prototype.cacheResult=Jd;function Ay(b){var T=Bi(b);return T._iter=b,T.size=b.size,T.flip=function(){return b},T.reverse=function(){var D=b.reverse.apply(this);return D.flip=function(){return b.reverse()},D},T.has=function(D){return b.includes(D)},T.includes=function(D){return b.has(D)},T.cacheResult=Jd,T.__iterateUncached=function(D,B){var G=this;return b.__iterate(function(Z,te){return D(te,Z,G)!==!1},B)},T.__iteratorUncached=function(D,B){if(D===L){var G=b.__iterator(D,B);return new K(function(){var Z=G.next();if(!Z.done){var te=Z.value[0];Z.value[0]=Z.value[1],Z.value[1]=te}return Z})}return b.__iterator(D===M?H:M,B)},T}function ky(b,T,D){var B=Bi(b);return B.size=b.size,B.has=function(G){return b.has(G)},B.get=function(G,Z){var te=b.get(G,O);return te===O?Z:T.call(D,te,G,b)},B.__iterateUncached=function(G,Z){var te=this;return b.__iterate(function(oe,he,ye){return G(T.call(D,oe,he,ye),he,te)!==!1},Z)},B.__iteratorUncached=function(G,Z){var te=b.__iterator(L,Z);return new K(function(){var oe=te.next();if(oe.done)return oe;var he=oe.value,ye=he[0];return $(G,ye,T.call(D,he[1],ye,b),oe)})},B}function Yd(b,T){var D=Bi(b);return D._iter=b,D.size=b.size,D.reverse=function(){return b},b.flip&&(D.flip=function(){var B=Ay(b);return B.reverse=function(){return b.flip()},B}),D.get=function(B,G){return b.get(T?B:-1-B,G)},D.has=function(B){return b.has(T?B:-1-B)},D.includes=function(B){return b.includes(B)},D.cacheResult=Jd,D.__iterate=function(B,G){var Z=this;return b.__iterate(function(te,oe){return B(te,oe,Z)},!G)},D.__iterator=function(B,G){return b.__iterator(B,!G)},D}function Iy(b,T,D,B){var G=Bi(b);return B&&(G.has=function(Z){var te=b.get(Z,O);return te!==O&&!!T.call(D,te,Z,b)},G.get=function(Z,te){var oe=b.get(Z,O);return oe!==O&&T.call(D,oe,Z,b)?oe:te}),G.__iterateUncached=function(Z,te){var oe=this,he=0;return b.__iterate(function(ye,Ce,He){if(T.call(D,ye,Ce,He))return he++,Z(ye,B?Ce:he-1,oe)},te),he},G.__iteratorUncached=function(Z,te){var oe=b.__iterator(L,te),he=0;return new K(function(){for(;;){var ye=oe.next();if(ye.done)return ye;var Ce=ye.value,He=Ce[0],Ye=Ce[1];if(T.call(D,Ye,He,b))return $(Z,B?He:he++,Ye,ye)}})},G}function lk(b,T,D){var B=Pe().asMutable();return b.__iterate(function(G,Z){B.update(T.call(D,G,Z,b),0,function(te){return te+1})}),B.asImmutable()}function uk(b,T,D){var B=u(b),G=(d(b)?Ur():Pe()).asMutable();b.__iterate(function(te,oe){G.update(T.call(D,te,oe,b),function(he){return he=he||[],he.push(B?[oe,te]:te),he})});var Z=Ny(b);return G.map(function(te){return yr(b,Z(te))})}function Kd(b,T,D,B){var G=b.size;if(T!==void 0&&(T=T|0),D!==void 0&&(D===1/0?D=G:D=D|0),N(T,D,G))return b;var Z=V(T,G),te=z(D,G);if(Z!==Z||te!==te)return Kd(b.toSeq().cacheResult(),T,D,B);var oe=te-Z,he;oe===oe&&(he=oe<0?0:oe);var ye=Bi(b);return ye.size=he===0?he:b.size&&he||void 0,!B&&fe(b)&&he>=0&&(ye.get=function(Ce,He){return Ce=R(this,Ce),Ce>=0&&Ce<he?b.get(Ce+Z,He):He}),ye.__iterateUncached=function(Ce,He){var Ye=this;if(he===0)return 0;if(He)return this.cacheResult().__iterate(Ce,He);var gt=0,At=!0,Rr=0;return b.__iterate(function(Oi,zi){if(!(At&&(At=gt++<Z)))return Rr++,Ce(Oi,B?zi:Rr-1,Ye)!==!1&&Rr!==he}),Rr},ye.__iteratorUncached=function(Ce,He){if(he!==0&&He)return this.cacheResult().__iterator(Ce,He);var Ye=he!==0&&b.__iterator(Ce,He),gt=0,At=0;return new K(function(){for(;gt++<Z;)Ye.next();if(++At>he)return U();var Rr=Ye.next();return B||Ce===M?Rr:Ce===H?$(Ce,At-1,void 0,Rr):$(Ce,At-1,Rr.value[1],Rr)})},ye}function ck(b,T,D){var B=Bi(b);return B.__iterateUncached=function(G,Z){var te=this;if(Z)return this.cacheResult().__iterate(G,Z);var oe=0;return b.__iterate(function(he,ye,Ce){return T.call(D,he,ye,Ce)&&++oe&&G(he,ye,te)}),oe},B.__iteratorUncached=function(G,Z){var te=this;if(Z)return this.cacheResult().__iterator(G,Z);var oe=b.__iterator(L,Z),he=!0;return new K(function(){if(!he)return U();var ye=oe.next();if(ye.done)return ye;var Ce=ye.value,He=Ce[0],Ye=Ce[1];return T.call(D,Ye,He,te)?G===L?ye:$(G,He,Ye,ye):(he=!1,U())})},B}function jy(b,T,D,B){var G=Bi(b);return G.__iterateUncached=function(Z,te){var oe=this;if(te)return this.cacheResult().__iterate(Z,te);var he=!0,ye=0;return b.__iterate(function(Ce,He,Ye){if(!(he&&(he=T.call(D,Ce,He,Ye))))return ye++,Z(Ce,B?He:ye-1,oe)}),ye},G.__iteratorUncached=function(Z,te){var oe=this;if(te)return this.cacheResult().__iterator(Z,te);var he=b.__iterator(L,te),ye=!0,Ce=0;return new K(function(){var He,Ye,gt;do{if(He=he.next(),He.done)return B||Z===M?He:Z===H?$(Z,Ce++,void 0,He):$(Z,Ce++,He.value[1],He);var At=He.value;Ye=At[0],gt=At[1],ye&&(ye=T.call(D,gt,Ye,oe))}while(ye);return Z===L?He:$(Z,Ye,gt,He)})},G}function fk(b,T){var D=u(b),B=[b].concat(T).map(function(te){return l(te)?D&&(te=a(te)):te=D?Je(te):yt(Array.isArray(te)?te:[te]),te}).filter(function(te){return te.size!==0});if(B.length===0)return b;if(B.length===1){var G=B[0];if(G===b||D&&u(G)||c(b)&&c(G))return G}var Z=new ie(B);return D?Z=Z.toKeyedSeq():c(b)||(Z=Z.toSetSeq()),Z=Z.flatten(!0),Z.size=B.reduce(function(te,oe){if(te!==void 0){var he=oe.size;if(he!==void 0)return te+he}},0),Z}function Ry(b,T,D){var B=Bi(b);return B.__iterateUncached=function(G,Z){var te=0,oe=!1;function he(ye,Ce){var He=this;ye.__iterate(function(Ye,gt){return(!T||Ce<T)&&l(Ye)?he(Ye,Ce+1):G(Ye,D?gt:te++,He)===!1&&(oe=!0),!oe},Z)}return he(b,0),te},B.__iteratorUncached=function(G,Z){var te=b.__iterator(G,Z),oe=[],he=0;return new K(function(){for(;te;){var ye=te.next();if(ye.done!==!1){te=oe.pop();continue}var Ce=ye.value;if(G===L&&(Ce=Ce[1]),(!T||oe.length<T)&&l(Ce))oe.push(te),te=Ce.__iterator(G,Z);else return D?ye:$(G,he++,Ce,ye)}return U()})},B}function dk(b,T,D){var B=Ny(b);return b.toSeq().map(function(G,Z){return B(T.call(D,G,Z,b))}).flatten(!0)}function pk(b,T){var D=Bi(b);return D.size=b.size&&b.size*2-1,D.__iterateUncached=function(B,G){var Z=this,te=0;return b.__iterate(function(oe,he){return(!te||B(T,te++,Z)!==!1)&&B(oe,te++,Z)!==!1},G),te},D.__iteratorUncached=function(B,G){var Z=b.__iterator(M,G),te=0,oe;return new K(function(){return(!oe||te%2)&&(oe=Z.next(),oe.done)?oe:te%2?$(B,te++,T):$(B,te++,oe.value,oe)})},D}function ss(b,T,D){T||(T=Dy);var B=u(b),G=0,Z=b.toSeq().map(function(te,oe){return[oe,te,G++,D?D(te,oe,b):te]}).toArray();return Z.sort(function(te,oe){return T(te[3],oe[3])||te[2]-oe[2]}).forEach(B?function(te,oe){Z[oe].length=2}:function(te,oe){Z[oe]=te[1]}),B?_e(Z):c(b)?pe(Z):ue(Z)}function rc(b,T,D){if(T||(T=Dy),D){var B=b.toSeq().map(function(G,Z){return[G,D(G,Z,b)]}).reduce(function(G,Z){return Fy(T,G[1],Z[1])?Z:G});return B&&B[0]}else return b.reduce(function(G,Z){return Fy(T,G,Z)?Z:G})}function Fy(b,T,D){var B=b(D,T);return B===0&&D!==T&&(D==null||D!==D)||B>0}function Qd(b,T,D){var B=Bi(b);return B.size=new ie(D).map(function(G){return G.size}).min(),B.__iterate=function(G,Z){for(var te=this.__iterator(M,Z),oe,he=0;!(oe=te.next()).done&&G(oe.value,he++,this)!==!1;);return he},B.__iteratorUncached=function(G,Z){var te=D.map(function(ye){return ye=i(ye),se(Z?ye.reverse():ye)}),oe=0,he=!1;return new K(function(){var ye;return he||(ye=te.map(function(Ce){return Ce.next()}),he=ye.some(function(Ce){return Ce.done})),he?U():$(G,oe++,T.apply(null,ye.map(function(Ce){return Ce.value})))})},B}function yr(b,T){return fe(b)?T:b.constructor(T)}function Ly(b){if(b!==Object(b))throw new TypeError("Expected [K, V] tuple: "+b)}function $y(b){return me(b.size),E(b)}function Ny(b){return u(b)?a:c(b)?o:s}function Bi(b){return Object.create((u(b)?_e:c(b)?pe:ue).prototype)}function Jd(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Se.prototype.cacheResult.call(this)}function Dy(b,T){return b>T?1:b<T?-1:0}function My(b){var T=se(b);if(!T){if(!be(b))throw new TypeError("Expected iterable or array-like: "+b);T=se(i(b))}return T}n(Yn,Ct);function Yn(b,T){var D,B=function(te){if(te instanceof B)return te;if(!(this instanceof B))return new B(te);if(!D){D=!0;var oe=Object.keys(b);hk(G,oe),G.size=oe.length,G._name=T,G._keys=oe,G._defaultValues=b}this._map=Pe(te)},G=B.prototype=Object.create(mn);return G.constructor=B,B}Yn.prototype.toString=function(){return this.__toString(Vy(this)+" {","}")},Yn.prototype.has=function(b){return this._defaultValues.hasOwnProperty(b)},Yn.prototype.get=function(b,T){if(!this.has(b))return T;var D=this._defaultValues[b];return this._map?this._map.get(b,D):D},Yn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var b=this.constructor;return b._empty||(b._empty=nc(this,Si()))},Yn.prototype.set=function(b,T){if(!this.has(b))throw new Error('Cannot set unknown key "'+b+'" on '+Vy(this));if(this._map&&!this._map.has(b)){var D=this._defaultValues[b];if(T===D)return this}var B=this._map&&this._map.set(b,T);return this.__ownerID||B===this._map?this:nc(this,B)},Yn.prototype.remove=function(b){if(!this.has(b))return this;var T=this._map&&this._map.remove(b);return this.__ownerID||T===this._map?this:nc(this,T)},Yn.prototype.wasAltered=function(){return this._map.wasAltered()},Yn.prototype.__iterator=function(b,T){var D=this;return a(this._defaultValues).map(function(B,G){return D.get(G)}).__iterator(b,T)},Yn.prototype.__iterate=function(b,T){var D=this;return a(this._defaultValues).map(function(B,G){return D.get(G)}).__iterate(b,T)},Yn.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var T=this._map&&this._map.__ensureOwner(b);return b?nc(this,T,b):(this.__ownerID=b,this._map=T,this)};var mn=Yn.prototype;mn[y]=mn.remove,mn.deleteIn=mn.removeIn=tt.removeIn,mn.merge=tt.merge,mn.mergeWith=tt.mergeWith,mn.mergeIn=tt.mergeIn,mn.mergeDeep=tt.mergeDeep,mn.mergeDeepWith=tt.mergeDeepWith,mn.mergeDeepIn=tt.mergeDeepIn,mn.setIn=tt.setIn,mn.update=tt.update,mn.updateIn=tt.updateIn,mn.withMutations=tt.withMutations,mn.asMutable=tt.asMutable,mn.asImmutable=tt.asImmutable;function nc(b,T,D){var B=Object.create(Object.getPrototypeOf(b));return B._map=T,B.__ownerID=D,B}function Vy(b){return b._name||b.constructor.name||"Record"}function hk(b,T){try{T.forEach(vk.bind(void 0,b))}catch(D){}}function vk(b,T){Object.defineProperty(b,T,{get:function(){return this.get(T)},set:function(D){qe(this.__ownerID,"Cannot set on an immutable record."),this.set(T,D)}})}n(jr,Nt);function jr(b){return b==null?ep():Xd(b)&&!d(b)?b:ep().withMutations(function(T){var D=s(b);me(D.size),D.forEach(function(B){return T.add(B)})})}jr.of=function(){return this(arguments)},jr.fromKeys=function(b){return this(a(b).keySeq())},jr.prototype.toString=function(){return this.__toString("Set {","}")},jr.prototype.has=function(b){return this._map.has(b)},jr.prototype.add=function(b){return Zd(this,this._map.set(b,!0))},jr.prototype.remove=function(b){return Zd(this,this._map.remove(b))},jr.prototype.clear=function(){return Zd(this,this._map.clear())},jr.prototype.union=function(){var b=r.call(arguments,0);return b=b.filter(function(T){return T.size!==0}),b.length===0?this:this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(T){for(var D=0;D<b.length;D++)s(b[D]).forEach(function(B){return T.add(B)})})},jr.prototype.intersect=function(){var b=r.call(arguments,0);if(b.length===0)return this;b=b.map(function(D){return s(D)});var T=this;return this.withMutations(function(D){T.forEach(function(B){b.every(function(G){return G.includes(B)})||D.remove(B)})})},jr.prototype.subtract=function(){var b=r.call(arguments,0);if(b.length===0)return this;b=b.map(function(D){return s(D)});var T=this;return this.withMutations(function(D){T.forEach(function(B){b.some(function(G){return G.includes(B)})&&D.remove(B)})})},jr.prototype.merge=function(){return this.union.apply(this,arguments)},jr.prototype.mergeWith=function(b){var T=r.call(arguments,1);return this.union.apply(this,T)},jr.prototype.sort=function(b){return qi(ss(this,b))},jr.prototype.sortBy=function(b,T){return qi(ss(this,T,b))},jr.prototype.wasAltered=function(){return this._map.wasAltered()},jr.prototype.__iterate=function(b,T){var D=this;return this._map.__iterate(function(B,G){return b(G,G,D)},T)},jr.prototype.__iterator=function(b,T){return this._map.map(function(D,B){return B}).__iterator(b,T)},jr.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var T=this._map.__ensureOwner(b);return b?this.__make(T,b):(this.__ownerID=b,this._map=T,this)};function Xd(b){return!!(b&&b[By])}jr.isSet=Xd;var By="@@__IMMUTABLE_SET__@@",Kn=jr.prototype;Kn[By]=!0,Kn[y]=Kn.remove,Kn.mergeDeep=Kn.merge,Kn.mergeDeepWith=Kn.mergeWith,Kn.withMutations=tt.withMutations,Kn.asMutable=tt.asMutable,Kn.asImmutable=tt.asImmutable,Kn.__empty=ep,Kn.__make=qy;function Zd(b,T){return b.__ownerID?(b.size=T.size,b._map=T,b):T===b._map?b:T.size===0?b.__empty():b.__make(T)}function qy(b,T){var D=Object.create(Kn);return D.size=b?b.size:0,D._map=b,D.__ownerID=T,D}var Hy;function ep(){return Hy||(Hy=qy(Si()))}n(qi,jr);function qi(b){return b==null?tp():zy(b)?b:tp().withMutations(function(T){var D=s(b);me(D.size),D.forEach(function(B){return T.add(B)})})}qi.of=function(){return this(arguments)},qi.fromKeys=function(b){return this(a(b).keySeq())},qi.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function zy(b){return Xd(b)&&d(b)}qi.isOrderedSet=zy;var ic=qi.prototype;ic[g]=!0,ic.__empty=tp,ic.__make=Wy;function Wy(b,T){var D=Object.create(ic);return D.size=b?b.size:0,D._map=b,D.__ownerID=T,D}var Gy;function tp(){return Gy||(Gy=Wy(tc()))}n(Zr,Tt);function Zr(b){return b==null?rp():Uy(b)?b:rp().unshiftAll(b)}Zr.of=function(){return this(arguments)},Zr.prototype.toString=function(){return this.__toString("Stack [","]")},Zr.prototype.get=function(b,T){var D=this._head;for(b=R(this,b);D&&b--;)D=D.next;return D?D.value:T},Zr.prototype.peek=function(){return this._head&&this._head.value},Zr.prototype.push=function(){if(arguments.length===0)return this;for(var b=this.size+arguments.length,T=this._head,D=arguments.length-1;D>=0;D--)T={value:arguments[D],next:T};return this.__ownerID?(this.size=b,this._head=T,this.__hash=void 0,this.__altered=!0,this):Tl(b,T)},Zr.prototype.pushAll=function(b){if(b=o(b),b.size===0)return this;me(b.size);var T=this.size,D=this._head;return b.reverse().forEach(function(B){T++,D={value:B,next:D}}),this.__ownerID?(this.size=T,this._head=D,this.__hash=void 0,this.__altered=!0,this):Tl(T,D)},Zr.prototype.pop=function(){return this.slice(1)},Zr.prototype.unshift=function(){return this.push.apply(this,arguments)},Zr.prototype.unshiftAll=function(b){return this.pushAll(b)},Zr.prototype.shift=function(){return this.pop.apply(this,arguments)},Zr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):rp()},Zr.prototype.slice=function(b,T){if(N(b,T,this.size))return this;var D=V(b,this.size),B=z(T,this.size);if(B!==this.size)return Tt.prototype.slice.call(this,b,T);for(var G=this.size-D,Z=this._head;D--;)Z=Z.next;return this.__ownerID?(this.size=G,this._head=Z,this.__hash=void 0,this.__altered=!0,this):Tl(G,Z)},Zr.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?Tl(this.size,this._head,b,this.__hash):(this.__ownerID=b,this.__altered=!1,this)},Zr.prototype.__iterate=function(b,T){if(T)return this.reverse().__iterate(b);for(var D=0,B=this._head;B&&b(B.value,D++,this)!==!1;)B=B.next;return D},Zr.prototype.__iterator=function(b,T){if(T)return this.reverse().__iterator(b);var D=0,B=this._head;return new K(function(){if(B){var G=B.value;return B=B.next,$(b,D++,G)}return U()})};function Uy(b){return!!(b&&b[Yy])}Zr.isStack=Uy;var Yy="@@__IMMUTABLE_STACK__@@",ls=Zr.prototype;ls[Yy]=!0,ls.withMutations=tt.withMutations,ls.asMutable=tt.asMutable,ls.asImmutable=tt.asImmutable,ls.wasAltered=tt.wasAltered;function Tl(b,T,D,B){var G=Object.create(ls);return G.size=b,G._head=T,G.__ownerID=D,G.__hash=B,G.__altered=!1,G}var Ky;function rp(){return Ky||(Ky=Tl(0))}function Hi(b,T){var D=function(B){b.prototype[B]=T[B]};return Object.keys(T).forEach(D),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(T).forEach(D),b}i.Iterator=K,Hi(i,{toArray:function(){me(this.size);var b=new Array(this.size||0);return this.valueSeq().__iterate(function(T,D){b[D]=T}),b},toIndexedSeq:function(){return new is(this)},toJS:function(){return this.toSeq().map(function(b){return b&&typeof b.toJS=="function"?b.toJS():b}).__toJS()},toJSON:function(){return this.toSeq().map(function(b){return b&&typeof b.toJSON=="function"?b.toJSON():b}).__toJS()},toKeyedSeq:function(){return new si(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){me(this.size);var b={};return this.__iterate(function(T,D){b[D]=T}),b},toOrderedMap:function(){return Ur(this.toKeyedSeq())},toOrderedSet:function(){return qi(u(this)?this.valueSeq():this)},toSet:function(){return jr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new as(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Zr(u(this)?this.valueSeq():this)},toList:function(){return Cr(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(b,T){return this.size===0?b+T:b+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+T},concat:function(){var b=r.call(arguments,0);return yr(this,fk(this,b))},includes:function(b){return this.some(function(T){return it(T,b)})},entries:function(){return this.__iterator(L)},every:function(b,T){me(this.size);var D=!0;return this.__iterate(function(B,G,Z){if(!b.call(T,B,G,Z))return D=!1,!1}),D},filter:function(b,T){return yr(this,Iy(this,b,T,!0))},find:function(b,T,D){var B=this.findEntry(b,T);return B?B[1]:D},forEach:function(b,T){return me(this.size),this.__iterate(T?b.bind(T):b)},join:function(b){me(this.size),b=b!==void 0?""+b:",";var T="",D=!0;return this.__iterate(function(B){D?D=!1:T+=b,T+=B!=null?B.toString():""}),T},keys:function(){return this.__iterator(H)},map:function(b,T){return yr(this,ky(this,b,T))},reduce:function(b,T,D){me(this.size);var B,G;return arguments.length<2?G=!0:B=T,this.__iterate(function(Z,te,oe){G?(G=!1,B=Z):B=b.call(D,B,Z,te,oe)}),B},reduceRight:function(b,T,D){var B=this.toKeyedSeq().reverse();return B.reduce.apply(B,arguments)},reverse:function(){return yr(this,Yd(this,!0))},slice:function(b,T){return yr(this,Kd(this,b,T,!0))},some:function(b,T){return!this.every(oc(b),T)},sort:function(b){return yr(this,ss(this,b))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(b,T){return E(b?this.toSeq().filter(b,T):this)},countBy:function(b,T){return lk(this,b,T)},equals:function(b){return Kt(this,b)},entrySeq:function(){var b=this;if(b._cache)return new ie(b._cache);var T=b.toSeq().map(mk).toIndexedSeq();return T.fromEntrySeq=function(){return b.toSeq()},T},filterNot:function(b,T){return this.filter(oc(b),T)},findEntry:function(b,T,D){var B=D;return this.__iterate(function(G,Z,te){if(b.call(T,G,Z,te))return B=[Z,G],!1}),B},findKey:function(b,T){var D=this.findEntry(b,T);return D&&D[0]},findLast:function(b,T,D){return this.toKeyedSeq().reverse().find(b,T,D)},findLastEntry:function(b,T,D){return this.toKeyedSeq().reverse().findEntry(b,T,D)},findLastKey:function(b,T){return this.toKeyedSeq().reverse().findKey(b,T)},first:function(){return this.find(F)},flatMap:function(b,T){return yr(this,dk(this,b,T))},flatten:function(b){return yr(this,Ry(this,b,!0))},fromEntrySeq:function(){return new os(this)},get:function(b,T){return this.find(function(D,B){return it(B,b)},void 0,T)},getIn:function(b,T){for(var D=this,B=My(b),G;!(G=B.next()).done;){var Z=G.value;if(D=D&&D.get?D.get(Z,O):O,D===O)return T}return D},groupBy:function(b,T){return uk(this,b,T)},has:function(b){return this.get(b,O)!==O},hasIn:function(b){return this.getIn(b,O)!==O},isSubset:function(b){return b=typeof b.includes=="function"?b:i(b),this.every(function(T){return b.includes(T)})},isSuperset:function(b){return b=typeof b.isSubset=="function"?b:i(b),b.isSubset(this)},keyOf:function(b){return this.findKey(function(T){return it(T,b)})},keySeq:function(){return this.toSeq().map(gk).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(b){return this.toKeyedSeq().reverse().keyOf(b)},max:function(b){return rc(this,b)},maxBy:function(b,T){return rc(this,T,b)},min:function(b){return rc(this,b?Qy(b):Xy)},minBy:function(b,T){return rc(this,T?Qy(T):Xy,b)},rest:function(){return this.slice(1)},skip:function(b){return this.slice(Math.max(0,b))},skipLast:function(b){return yr(this,this.toSeq().reverse().skip(b).reverse())},skipWhile:function(b,T){return yr(this,jy(this,b,T,!0))},skipUntil:function(b,T){return this.skipWhile(oc(b),T)},sortBy:function(b,T){return yr(this,ss(this,T,b))},take:function(b){return this.slice(0,Math.max(0,b))},takeLast:function(b){return yr(this,this.toSeq().reverse().take(b).reverse())},takeWhile:function(b,T){return yr(this,ck(this,b,T))},takeUntil:function(b,T){return this.takeWhile(oc(b),T)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=bk(this))}});var Fn=i.prototype;Fn[p]=!0,Fn[Q]=Fn.values,Fn.__toJS=Fn.toArray,Fn.__toStringMapper=Jy,Fn.inspect=Fn.toSource=function(){return this.toString()},Fn.chain=Fn.flatMap,Fn.contains=Fn.includes,Hi(a,{flip:function(){return yr(this,Ay(this))},mapEntries:function(b,T){var D=this,B=0;return yr(this,this.toSeq().map(function(G,Z){return b.call(T,[Z,G],B++,D)}).fromEntrySeq())},mapKeys:function(b,T){var D=this;return yr(this,this.toSeq().flip().map(function(B,G){return b.call(T,B,G,D)}).flip())}});var ac=a.prototype;ac[h]=!0,ac[Q]=Fn.entries,ac.__toJS=Fn.toObject,ac.__toStringMapper=function(b,T){return JSON.stringify(T)+": "+Jy(b)},Hi(o,{toKeyedSeq:function(){return new si(this,!1)},filter:function(b,T){return yr(this,Iy(this,b,T,!1))},findIndex:function(b,T){var D=this.findEntry(b,T);return D?D[0]:-1},indexOf:function(b){var T=this.keyOf(b);return T===void 0?-1:T},lastIndexOf:function(b){var T=this.lastKeyOf(b);return T===void 0?-1:T},reverse:function(){return yr(this,Yd(this,!1))},slice:function(b,T){return yr(this,Kd(this,b,T,!1))},splice:function(b,T){var D=arguments.length;if(T=Math.max(T|0,0),D===0||D===2&&!T)return this;b=V(b,b<0?this.count():this.size);var B=this.slice(0,b);return yr(this,D===1?B:B.concat(P(arguments,2),this.slice(b+T)))},findLastIndex:function(b,T){var D=this.findLastEntry(b,T);return D?D[0]:-1},first:function(){return this.get(0)},flatten:function(b){return yr(this,Ry(this,b,!1))},get:function(b,T){return b=R(this,b),b<0||this.size===1/0||this.size!==void 0&&b>this.size?T:this.find(function(D,B){return B===b},void 0,T)},has:function(b){return b=R(this,b),b>=0&&(this.size!==void 0?this.size===1/0||b<this.size:this.indexOf(b)!==-1)},interpose:function(b){return yr(this,pk(this,b))},interleave:function(){var b=[this].concat(P(arguments)),T=Qd(this.toSeq(),pe.of,b),D=T.flatten(!0);return T.size&&(D.size=T.size*b.length),yr(this,D)},keySeq:function(){return Me(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(b,T){return yr(this,jy(this,b,T,!1))},zip:function(){var b=[this].concat(P(arguments));return yr(this,Qd(this,yk,b))},zipWith:function(b){var T=P(arguments);return T[0]=this,yr(this,Qd(this,b,T))}}),o.prototype[v]=!0,o.prototype[g]=!0,Hi(s,{get:function(b,T){return this.has(b)?b:T},includes:function(b){return this.has(b)},keySeq:function(){return this.valueSeq()}}),s.prototype.has=Fn.includes,s.prototype.contains=s.prototype.includes,Hi(_e,a.prototype),Hi(pe,o.prototype),Hi(ue,s.prototype),Hi(Ct,a.prototype),Hi(Tt,o.prototype),Hi(Nt,s.prototype);function gk(b,T){return T}function mk(b,T){return[T,b]}function oc(b){return function(){return!b.apply(this,arguments)}}function Qy(b){return function(){return-b.apply(this,arguments)}}function Jy(b){return typeof b=="string"?JSON.stringify(b):String(b)}function yk(){return P(arguments)}function Xy(b,T){return b<T?1:b>T?-1:0}function bk(b){if(b.size===1/0)return 0;var T=d(b),D=u(b),B=T?1:0,G=b.__iterate(D?T?function(Z,te){B=31*B+Zy(rr(Z),rr(te))|0}:function(Z,te){B=B+Zy(rr(Z),rr(te))|0}:T?function(Z){B=31*B+rr(Z)|0}:function(Z){B=B+rr(Z)|0});return _k(G,B)}function _k(b,T){return T=ir(T,3432918353),T=ir(T<<15|T>>>-15,461845907),T=ir(T<<13|T>>>-13,5),T=(T+3864292196|0)^b,T=ir(T^T>>>16,2246822507),T=ir(T^T>>>13,3266489909),T=tr(T^T>>>16),T}function Zy(b,T){return b^T+2654435769+(b<<6)+(b>>2)|0}var Sk={Iterable:i,Seq:Se,Collection:ut,Map:Pe,OrderedMap:Ur,List:Cr,Stack:Zr,Set:jr,OrderedSet:qi,Record:Yn,Range:Me,Repeat:lt,is:it,fromJS:Fe};return Sk})})(qE);var wr=qE.exports;const at=rn(wr);function U7(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var vd=U7;function Y7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var K7=Y7,Q7=zo,J7=function(){try{var t=Q7(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),HE=J7,u1=HE;function X7(t,e,r){e=="__proto__"&&u1?u1(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var gd=X7,Z7=gd,eW=mu,tW=Object.prototype,rW=tW.hasOwnProperty;function nW(t,e,r){var n=t[e];(!(rW.call(t,e)&&eW(n,r))||r===void 0&&!(e in t))&&Z7(t,e,r)}var Pg=nW,iW=Pg,aW=gd;function oW(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?aW(r,s,l):iW(r,s,l)}return r}var cl=oW,sW=cl,lW=il;function uW(t,e){return t&&sW(e,lW(e),t)}var cW=uW;function fW(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var dW=fW,pW=yi,hW=Pv,vW=dW,gW=Object.prototype,mW=gW.hasOwnProperty;function yW(t){if(!pW(t))return vW(t);var e=hW(t),r=[];for(var n in t)n=="constructor"&&(e||!mW.call(t,n))||r.push(n);return r}var bW=yW,_W=Sx,SW=bW,OW=nl;function xW(t){return OW(t)?_W(t,!0):SW(t)}var Tu=xW,wW=cl,EW=Tu;function CW(t,e){return t&&wW(e,EW(e),t)}var TW=CW,Of={exports:{}};Of.exports;(function(t,e){var r=Ni,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(Of,Of.exports);var zE=Of.exports;function PW(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var WE=PW,AW=cl,kW=xv;function IW(t,e){return AW(t,kW(t),e)}var jW=IW,RW=Ox,FW=RW(Object.getPrototypeOf,Object),Ag=FW,LW=Ov,$W=Ag,NW=xv,DW=bx,MW=Object.getOwnPropertySymbols,VW=MW?function(t){for(var e=[];t;)LW(e,NW(t)),t=$W(t);return e}:DW,GE=VW,BW=cl,qW=GE;function HW(t,e){return BW(t,qW(t),e)}var zW=HW,WW=yx,GW=GE,UW=Tu;function YW(t){return WW(t,UW,GW)}var kg=YW,KW=Object.prototype,QW=KW.hasOwnProperty;function JW(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&QW.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var XW=JW,c1=mx;function ZW(t){var e=new t.constructor(t.byteLength);return new c1(e).set(new c1(t)),e}var Ig=ZW,eG=Ig;function tG(t,e){var r=e?eG(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var rG=tG,nG=/\w*$/;function iG(t){var e=new t.constructor(t.source,nG.exec(t));return e.lastIndex=t.lastIndex,e}var aG=iG,f1=Zs,d1=f1?f1.prototype:void 0,p1=d1?d1.valueOf:void 0;function oG(t){return p1?Object(p1.call(t)):{}}var sG=oG,lG=Ig;function uG(t,e){var r=e?lG(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var UE=uG,cG=Ig,fG=rG,dG=aG,pG=sG,hG=UE,vG="[object Boolean]",gG="[object Date]",mG="[object Map]",yG="[object Number]",bG="[object RegExp]",_G="[object Set]",SG="[object String]",OG="[object Symbol]",xG="[object ArrayBuffer]",wG="[object DataView]",EG="[object Float32Array]",CG="[object Float64Array]",TG="[object Int8Array]",PG="[object Int16Array]",AG="[object Int32Array]",kG="[object Uint8Array]",IG="[object Uint8ClampedArray]",jG="[object Uint16Array]",RG="[object Uint32Array]";function FG(t,e,r){var n=t.constructor;switch(e){case xG:return cG(t);case vG:case gG:return new n(+t);case wG:return fG(t,r);case EG:case CG:case TG:case PG:case AG:case kG:case IG:case jG:case RG:return hG(t,r);case mG:return new n;case yG:case SG:return new n(t);case bG:return dG(t);case _G:return new n;case OG:return pG(t)}}var LG=FG,$G=yi,h1=Object.create,NG=function(){function t(){}return function(e){if(!$G(e))return{};if(h1)return h1(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),DG=NG,MG=DG,VG=Ag,BG=Pv;function qG(t){return typeof t.constructor=="function"&&!BG(t)?MG(VG(t)):{}}var YE=qG,HG=Wf,zG=sa,WG="[object Map]";function GG(t){return zG(t)&&HG(t)==WG}var UG=GG,YG=UG,KG=Ev,v1=Cv,g1=v1&&v1.isMap,QG=g1?KG(g1):YG,JG=QG,XG=Wf,ZG=sa,eU="[object Set]";function tU(t){return ZG(t)&&XG(t)==eU}var rU=tU,nU=rU,iU=Ev,m1=Cv,y1=m1&&m1.isSet,aU=y1?iU(y1):nU,oU=aU,sU=Bf,lU=K7,uU=Pg,cU=cW,fU=TW,dU=zE,pU=WE,hU=jW,vU=zW,gU=xx,mU=kg,yU=Wf,bU=XW,_U=LG,SU=YE,OU=ai,xU=Hf,wU=JG,EU=yi,CU=oU,TU=il,PU=Tu,AU=1,kU=2,IU=4,KE="[object Arguments]",jU="[object Array]",RU="[object Boolean]",FU="[object Date]",LU="[object Error]",QE="[object Function]",$U="[object GeneratorFunction]",NU="[object Map]",DU="[object Number]",JE="[object Object]",MU="[object RegExp]",VU="[object Set]",BU="[object String]",qU="[object Symbol]",HU="[object WeakMap]",zU="[object ArrayBuffer]",WU="[object DataView]",GU="[object Float32Array]",UU="[object Float64Array]",YU="[object Int8Array]",KU="[object Int16Array]",QU="[object Int32Array]",JU="[object Uint8Array]",XU="[object Uint8ClampedArray]",ZU="[object Uint16Array]",eY="[object Uint32Array]",xr={};xr[KE]=xr[jU]=xr[zU]=xr[WU]=xr[RU]=xr[FU]=xr[GU]=xr[UU]=xr[YU]=xr[KU]=xr[QU]=xr[NU]=xr[DU]=xr[JE]=xr[MU]=xr[VU]=xr[BU]=xr[qU]=xr[JU]=xr[XU]=xr[ZU]=xr[eY]=!0;xr[LU]=xr[QE]=xr[HU]=!1;function Kc(t,e,r,n,i,a){var o,s=e&AU,l=e&kU,u=e&IU;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!EU(t))return t;var c=OU(t);if(c){if(o=bU(t),!s)return pU(t,o)}else{var f=yU(t),d=f==QE||f==$U;if(xU(t))return dU(t,s);if(f==JE||f==KE||d&&!i){if(o=l||d?{}:SU(t),!s)return l?vU(t,fU(o,t)):hU(t,cU(o,t))}else{if(!xr[f])return i?t:{};o=_U(t,f,s)}}a||(a=new sU);var p=a.get(t);if(p)return p;a.set(t,o),CU(t)?t.forEach(function(g){o.add(Kc(g,e,r,g,t,a))}):wU(t)&&t.forEach(function(g,y){o.set(y,Kc(g,e,r,y,t,a))});var h=u?l?mU:gU:l?PU:TU,v=c?void 0:h(t);return lU(v||t,function(g,y){v&&(y=g,g=t[y]),uU(o,y,Kc(g,e,r,y,t,a))}),o}var XE=Kc,tY=Ho,rY=sa,nY="[object Symbol]";function iY(t){return typeof t=="symbol"||rY(t)&&tY(t)==nY}var md=iY,aY=ai,oY=md,sY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lY=/^\w*$/;function uY(t,e){if(aY(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||oY(t)?!0:lY.test(t)||!sY.test(t)||e!=null&&t in Object(e)}var jg=uY,ZE=Sv,cY="Expected a function";function Rg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cY);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Rg.Cache||ZE),r}Rg.Cache=ZE;var fY=Rg,dY=fY,pY=500;function hY(t){var e=dY(t,function(n){return r.size===pY&&r.clear(),n}),r=e.cache;return e}var vY=hY,gY=vY,mY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yY=/\\(\\)?/g,bY=gY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mY,function(r,n,i,a){e.push(i?a.replace(yY,"$1"):n||r)}),e}),_Y=bY,b1=Zs,SY=vd,OY=ai,xY=md,wY=1/0,_1=b1?b1.prototype:void 0,S1=_1?_1.toString:void 0;function eC(t){if(typeof t=="string")return t;if(OY(t))return SY(t,eC)+"";if(xY(t))return S1?S1.call(t):"";var e=t+"";return e=="0"&&1/t==-wY?"-0":e}var tC=eC,EY=tC;function CY(t){return t==null?"":EY(t)}var rC=CY,TY=ai,PY=jg,AY=_Y,kY=rC;function IY(t,e){return TY(t)?t:PY(t,e)?[t]:AY(kY(t))}var fl=IY;function jY(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nC=jY;const yd=rn(nC);var RY=md,FY=1/0;function LY(t){if(typeof t=="string"||RY(t))return t;var e=t+"";return e=="0"&&1/t==-FY?"-0":e}var dl=LY,$Y=fl,NY=dl;function DY(t,e){e=$Y(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[NY(e[r++])];return r&&r==n?t:void 0}var bd=DY;function MY(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var VY=MY,BY=bd,qY=VY;function HY(t,e){return e.length<2?t:BY(t,qY(e,0,-1))}var zY=HY,WY=fl,GY=nC,UY=zY,YY=dl;function KY(t,e){return e=WY(e,t),t=UY(t,e),t==null||delete t[YY(GY(e))]}var QY=KY,JY=Ho,XY=Ag,ZY=sa,eK="[object Object]",tK=Function.prototype,rK=Object.prototype,iC=tK.toString,nK=rK.hasOwnProperty,iK=iC.call(Object);function aK(t){if(!ZY(t)||JY(t)!=eK)return!1;var e=XY(t);if(e===null)return!0;var r=nK.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&iC.call(r)==iK}var Fg=aK,oK=Fg;function sK(t){return oK(t)?void 0:t}var lK=sK,O1=Zs,uK=qf,cK=ai,x1=O1?O1.isConcatSpreadable:void 0;function fK(t){return cK(t)||uK(t)||!!(x1&&t&&t[x1])}var dK=fK,pK=Ov,hK=dK;function aC(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=hK),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?aC(s,e-1,r,n,i):pK(i,s):n||(i[i.length]=s)}return i}var vK=aC,gK=vK;function mK(t){var e=t==null?0:t.length;return e?gK(t,1):[]}var yK=mK;function bK(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var _K=bK,SK=_K,w1=Math.max;function OK(t,e,r){return e=w1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=w1(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),SK(t,this,s)}}var oC=OK;function xK(t){return function(){return t}}var wK=xK;function EK(t){return t}var _d=EK,CK=wK,E1=HE,TK=_d,PK=E1?function(t,e){return E1(t,"toString",{configurable:!0,enumerable:!1,value:CK(e),writable:!0})}:TK,AK=PK,kK=800,IK=16,jK=Date.now;function RK(t){var e=0,r=0;return function(){var n=jK(),i=IK-(n-r);if(r=n,i>0){if(++e>=kK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var FK=RK,LK=AK,$K=FK,NK=$K(LK),sC=NK,DK=yK,MK=oC,VK=sC;function BK(t){return VK(MK(t,void 0,DK),t+"")}var lC=BK,qK=vd,HK=XE,zK=QY,WK=fl,GK=cl,UK=lK,YK=lC,KK=kg,QK=1,JK=2,XK=4,ZK=YK(function(t,e){var r={};if(t==null)return r;var n=!1;e=qK(e,function(a){return a=WK(a,t),n||(n=a.length>1),a}),GK(t,KK(t),r),n&&(r=HK(r,QK|JK|XK,UK));for(var i=e.length;i--;)zK(r,e[i]);return r}),eQ=ZK;const er=rn(eQ);var tQ=0;const or=function(){var t=(new Date().getTime().toString(16)+"FF").substr(0,11),e="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(r){var n=r==="s"?Math.floor(Math.random()*16):tQ++&15,i=r==="x"?n:n&3|8;return i.toString(16)});return e+t};var rQ={},C1=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},Ko=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],pl=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],ln=function(e,r){return typeof e>"u"?r:e},xf=function(e,r){return e===r?!0:wr.Map.isMap(e)?e.equals(r):JSON.stringify(e)==JSON.stringify(r)},Pu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?nQ(e,r,n):wr.Map.isMap(e)?e.equals(r):$t(e)=="object"?iQ(e,r,n):e===r};function nQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Pu(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function iQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Pu(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var hl=function(e){return $t(e)==="object"&&e!==null&&typeof e.toJS=="function"};function un(t){return hl(t)?t:new at.List(t)}function Lg(t){return hl(t)?t.toJS():t}var uC=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},$g=function t(e){var r=["$$typeof","_owner","_store","ref","key"],n=function(s){return typeof s=="string"?s:typeof s=="function"?s.name:s};if(e instanceof Array)return e.map(function(o,s){return t(o)});if($t(e)==="object"&&e!==null&&Sd(e)){var i,a=er(e,r);return a.type&&(a.type=n(a.type)),a!=null&&(i=a.props)!==null&&i!==void 0&&i.children&&(a.props.children=t(a.props.children)),a}return e},Sd=function(e){return $t(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},Ng=function(e){return $t(e)==="object"&&e!==null&&!Array.isArray(e)&&typeof e.type=="string"&&Object.keys(e).includes("props")},Bn=function(e){var r=$t(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1;return r};function cC(t){return new Promise(function(e){setTimeout(e,t)})}function fC(t,e){return t||(t=[]),e||(e=[]),e.map(function(r){return[r,t.indexOf(r)]}).map(function(r,n,i){var a=Ge(r,2),o=a[0],s=a[1];if(s==-1){var l=i.slice(n+1),u=i.slice(0,n),c=u.reverse().find(function(d){var p=Ge(d,2);p[0];var h=p[1];return h!=-1}),f=l.find(function(d){var p=Ge(d,2);p[0];var h=p[1];return h!=-1});return f?[o,"before",f[0]]:c?[o,"after",c[0]]:[o,"append",null]}else return null}).filter(function(r){return r!==null}).reduce(function(r,n){var i=Ge(n,3),a=i[0],o=i[1],s=i[2],l=r.indexOf(s);return r.indexOf(a)==-1&&(l>-1?r.splice(l+(o=="after"?1:0),0,a):r.splice(o=="append"?1/0:0,0,a)),r},t.slice())}var dC=function t(e){$t(e)==="object"&&e!==null&&(Object.keys(e).forEach(function(r){t(e[r])}),Object.freeze(e))},pC=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(C1(e)){if(e.var)return n[e.var]=r,!0;if(!C1(r))return!1;for(var a in e){var o=e[a],s=r[a];if(!t(o,s,n,[].concat($e(i),[a])))return!1}return!0}else if(Array.isArray(e)){if(!Array.isArray(r))return!1;for(var l=0;l<e.length;l++){var u=e[l],c=r[l];if(!t(u,c,n,[].concat($e(i),[l])))return!1}return!0}else return e===r},aQ=function(){return typeof process<"u"&&rQ&&!1},hC=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:aQ();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},vC=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r,n=0;n<e.length;n++){var i=e[n];if(i!==void 0){r=i;break}}return r},Pa=hC();const oQ=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:Lg,cleanJSX:$g,deepEqual:xf,deepFreeze:dC,defaultValue:ln,escapeRegExp:uC,getFirstDefined:vC,getLogger:hC,isDirtyJSX:Sd,isImmutable:hl,isJSX:Ng,isJsonCompatible:pC,isJsonLogic:Bn,logger:Pa,mergeArraysSmart:fC,opDefKeysToOmit:pl,shallowEqual:Pu,sleep:cC,toImmutableList:un,uuid:or,widgetDefKeysToOmit:Ko},Symbol.toStringTag,{value:"Module"}));var gC={exports:{}},mC={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(mC);var sQ=mC.exports;(function(t){var e=sQ.default;function r(){t.exports=r=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var n,i={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(H,M,L){H[M]=L.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(H,M,L){return Object.defineProperty(H,M,{value:L,enumerable:!0,configurable:!0,writable:!0}),H[M]}try{d({},"")}catch(H){d=function(L,q,W){return L[q]=W}}function p(H,M,L,q){var W=M&&M.prototype instanceof _?M:_,Q=Object.create(W.prototype),K=new z(q||[]);return s(Q,"_invoke",{value:R(H,L,K)}),Q}function h(H,M,L){try{return{type:"normal",arg:H.call(M,L)}}catch(q){return{type:"throw",arg:q}}}i.wrap=p;var v="suspendedStart",g="suspendedYield",y="executing",m="completed",S={};function _(){}function O(){}function x(){}var w={};d(w,u,function(){return this});var C=Object.getPrototypeOf,I=C&&C(C(J([])));I&&I!==a&&o.call(I,u)&&(w=I);var A=x.prototype=_.prototype=Object.create(w);function P(H){["next","throw","return"].forEach(function(M){d(H,M,function(L){return this._invoke(M,L)})})}function E(H,M){function L(W,Q,K,$){var U=h(H[W],H,Q);if(U.type!=="throw"){var X=U.arg,ee=X.value;return ee&&e(ee)=="object"&&o.call(ee,"__await")?M.resolve(ee.__await).then(function(se){L("next",se,K,$)},function(se){L("throw",se,K,$)}):M.resolve(ee).then(function(se){X.value=se,K(X)},function(se){return L("throw",se,K,$)})}$(U.arg)}var q;s(this,"_invoke",{value:function(Q,K){function $(){return new M(function(U,X){L(Q,K,U,X)})}return q=q?q.then($,$):$()}})}function R(H,M,L){var q=v;return function(W,Q){if(q===y)throw new Error("Generator is already running");if(q===m){if(W==="throw")throw Q;return{value:n,done:!0}}for(L.method=W,L.arg=Q;;){var K=L.delegate;if(K){var $=F(K,L);if($){if($===S)continue;return $}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(q===v)throw q=m,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);q=y;var U=h(H,M,L);if(U.type==="normal"){if(q=L.done?m:g,U.arg===S)continue;return{value:U.arg,done:L.done}}U.type==="throw"&&(q=m,L.method="throw",L.arg=U.arg)}}}function F(H,M){var L=M.method,q=H.iterator[L];if(q===n)return M.delegate=null,L==="throw"&&H.iterator.return&&(M.method="return",M.arg=n,F(H,M),M.method==="throw")||L!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+L+"' method")),S;var W=h(q,H.iterator,M.arg);if(W.type==="throw")return M.method="throw",M.arg=W.arg,M.delegate=null,S;var Q=W.arg;return Q?Q.done?(M[H.resultName]=Q.value,M.next=H.nextLoc,M.method!=="return"&&(M.method="next",M.arg=n),M.delegate=null,S):Q:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,S)}function N(H){var M={tryLoc:H[0]};1 in H&&(M.catchLoc=H[1]),2 in H&&(M.finallyLoc=H[2],M.afterLoc=H[3]),this.tryEntries.push(M)}function V(H){var M=H.completion||{};M.type="normal",delete M.arg,H.completion=M}function z(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(N,this),this.reset(!0)}function J(H){if(H||H===""){var M=H[u];if(M)return M.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var L=-1,q=function W(){for(;++L<H.length;)if(o.call(H,L))return W.value=H[L],W.done=!1,W;return W.value=n,W.done=!0,W};return q.next=q}}throw new TypeError(e(H)+" is not iterable")}return O.prototype=x,s(A,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:O,configurable:!0}),O.displayName=d(x,f,"GeneratorFunction"),i.isGeneratorFunction=function(H){var M=typeof H=="function"&&H.constructor;return!!M&&(M===O||(M.displayName||M.name)==="GeneratorFunction")},i.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,x):(H.__proto__=x,d(H,f,"GeneratorFunction")),H.prototype=Object.create(A),H},i.awrap=function(H){return{__await:H}},P(E.prototype),d(E.prototype,c,function(){return this}),i.AsyncIterator=E,i.async=function(H,M,L,q,W){W===void 0&&(W=Promise);var Q=new E(p(H,M,L,q),W);return i.isGeneratorFunction(M)?Q:Q.next().then(function(K){return K.done?K.value:Q.next()})},P(A),d(A,f,"Generator"),d(A,u,function(){return this}),d(A,"toString",function(){return"[object Generator]"}),i.keys=function(H){var M=Object(H),L=[];for(var q in M)L.push(q);return L.reverse(),function W(){for(;L.length;){var Q=L.pop();if(Q in M)return W.value=Q,W.done=!1,W}return W.done=!0,W}},i.values=J,z.prototype={constructor:z,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(V),!M)for(var L in this)L.charAt(0)==="t"&&o.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var L=this;function q(X,ee){return K.type="throw",K.arg=M,L.next=X,ee&&(L.method="next",L.arg=n),!!ee}for(var W=this.tryEntries.length-1;W>=0;--W){var Q=this.tryEntries[W],K=Q.completion;if(Q.tryLoc==="root")return q("end");if(Q.tryLoc<=this.prev){var $=o.call(Q,"catchLoc"),U=o.call(Q,"finallyLoc");if($&&U){if(this.prev<Q.catchLoc)return q(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return q(Q.finallyLoc)}else if($){if(this.prev<Q.catchLoc)return q(Q.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return q(Q.finallyLoc)}}}},abrupt:function(M,L){for(var q=this.tryEntries.length-1;q>=0;--q){var W=this.tryEntries[q];if(W.tryLoc<=this.prev&&o.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var Q=W;break}}Q&&(M==="break"||M==="continue")&&Q.tryLoc<=L&&L<=Q.finallyLoc&&(Q=null);var K=Q?Q.completion:{};return K.type=M,K.arg=L,Q?(this.method="next",this.next=Q.finallyLoc,S):this.complete(K)},complete:function(M,L){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&L&&(this.next=L),S},finish:function(M){for(var L=this.tryEntries.length-1;L>=0;--L){var q=this.tryEntries[L];if(q.finallyLoc===M)return this.complete(q.completion,q.afterLoc),V(q),S}},catch:function(M){for(var L=this.tryEntries.length-1;L>=0;--L){var q=this.tryEntries[L];if(q.tryLoc===M){var W=q.completion;if(W.type==="throw"){var Q=W.arg;V(q)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(M,L,q){return this.delegate={iterator:J(M),resultName:L,nextLoc:q},this.method==="next"&&(this.arg=n),S}},i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(gC);var lQ=gC.exports,Qc=lQ(),uQ=Qc;try{regeneratorRuntime=Qc}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=Qc:Function("r","regeneratorRuntime = r")(Qc)}const Kr=rn(uQ);var cQ=gd,fQ=mu;function dQ(t,e,r){(r!==void 0&&!fQ(t[e],r)||r===void 0&&!(e in t))&&cQ(t,e,r)}var yC=dQ;function pQ(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var hQ=pQ,vQ=hQ,gQ=vQ(),bC=gQ,mQ=nl,yQ=sa;function bQ(t){return yQ(t)&&mQ(t)}var _Q=bQ;function SQ(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var _C=SQ,OQ=cl,xQ=Tu;function wQ(t){return OQ(t,xQ(t))}var EQ=wQ,T1=yC,CQ=zE,TQ=UE,PQ=WE,AQ=YE,P1=qf,A1=ai,kQ=_Q,IQ=Hf,jQ=bv,RQ=yi,FQ=Fg,LQ=Tv,k1=_C,$Q=EQ;function NQ(t,e,r,n,i,a,o){var s=k1(t,r),l=k1(e,r),u=o.get(l);if(u){T1(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=A1(l),p=!d&&IQ(l),h=!d&&!p&&LQ(l);c=l,d||p||h?A1(s)?c=s:kQ(s)?c=PQ(s):p?(f=!1,c=CQ(l,!0)):h?(f=!1,c=TQ(l,!0)):c=[]:FQ(l)||P1(l)?(c=s,P1(s)?c=$Q(s):(!RQ(s)||jQ(s))&&(c=AQ(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),T1(t,r,c)}var DQ=NQ,MQ=Bf,VQ=yC,BQ=bC,qQ=DQ,HQ=yi,zQ=Tu,WQ=_C;function SC(t,e,r,n,i){t!==e&&BQ(e,function(a,o){if(i||(i=new MQ),HQ(a))qQ(t,e,o,r,SC,n,i);else{var s=n?n(WQ(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),VQ(t,o,s)}},zQ)}var OC=SC,GQ=_d,UQ=oC,YQ=sC;function KQ(t,e){return YQ(UQ(t,e,GQ),t+"")}var QQ=KQ,JQ=mu,XQ=nl,ZQ=zf,eJ=yi;function tJ(t,e,r){if(!eJ(r))return!1;var n=typeof e;return(n=="number"?XQ(r)&&ZQ(e,r.length):n=="string"&&e in r)?JQ(r[e],t):!1}var xC=tJ,rJ=QQ,nJ=xC;function iJ(t){return rJ(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&nJ(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var wC=iJ,aJ=OC,oJ=wC,sJ=oJ(function(t,e,r){aJ(t,e,r)}),lJ=sJ;const Au=rn(lJ);var uJ=Pg,cJ=fl,fJ=zf,I1=yi,dJ=dl;function pJ(t,e,r,n){if(!I1(t))return t;e=cJ(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=dJ(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=I1(c)?c:fJ(e[i+1])?[]:{})}uJ(s,l,u),s=s[l]}return t}var hJ=pJ,vJ=bd,gJ=hJ,mJ=fl;function yJ(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=vJ(t,o);r(s,o)&&gJ(a,mJ(o,t),s)}return a}var EC=yJ;function bJ(t,e){return t!=null&&e in Object(t)}var _J=bJ,SJ=fl,OJ=qf,xJ=ai,wJ=zf,EJ=wv,CJ=dl;function TJ(t,e,r){e=SJ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=CJ(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&EJ(i)&&wJ(o,i)&&(xJ(t)||OJ(t)))}var PJ=TJ,AJ=_J,kJ=PJ;function IJ(t,e){return t!=null&&kJ(t,e,AJ)}var CC=IJ,jJ=EC,RJ=CC;function FJ(t,e){return jJ(t,e,function(r,n){return RJ(t,n)})}var LJ=FJ,$J=LJ,NJ=lC,DJ=NJ(function(t,e){return t==null?{}:$J(t,e)}),MJ=DJ;const aa=rn(MJ);var VJ=OC,BJ=wC,qJ=BJ(function(t,e,r,n){VJ(t,e,r,n)}),HJ=qJ;const Dg=rn(HJ);var TC={formatField:function(e,r,n,i,a,o){return o?n:e},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,canShortMongoQuery:!0,removeEmptyGroupsOnLoad:!0,removeIncompleteRulesOnLoad:!0,removeInvalidMultiSelectValuesOnLoad:!0,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:null,addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function zJ(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=WJ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function WJ(t,e){if(t){if(typeof t=="string")return j1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(t,e)}}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mg=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},Aa=function(e,r){if(!(e==null||e==""))return Mg(e)?e:{value:e,title:r!==void 0?r:""+e}},Vg=function(e){var r=Aa(e);return Mg(r)?F1(F1({},Aa(e)),{},{isCustom:!0}):r},PC=function(e){if(Array.isArray(e))return e.map(function(a){return Aa(a)});if(!Mg(e))return e;var r=[];for(var n in e){var i=e[n];r.push(Aa(n,i))}return r},fu=function(e,r){if(Array.isArray(e)){var n=e.map(function(i){return Aa(i)});return n.find(function(i){return""+i.value==""+r})}else return e[r]!==void 0?Aa(r,e[r]):void 0},AC=function(e,r){if(e==null)return r;var n=fu(e,r);return n!==void 0?n.title:r},GJ=function(e,r){if(e==null)return r;var n=fu(e,r);return n!==void 0?n.value:r},Bg=function(e,r){var n=[];if(Array.isArray(e)){var i=zJ(e),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=r(Aa(o));s!=null&&n.push(s)}}catch(c){i.e(c)}finally{i.f()}}else for(var l in e){var u=r(Aa(l,e[l]));u!=null&&n.push(u)}return n},UJ=function(e,r){return Bg(r,function(n){return"".concat(n.value).indexOf(e)!=-1||n.title.indexOf(e)!=-1?n:null}).filter(function(n){return n!==null}).shift()},Od=function(e,r){return Bg(r,function(n){return""+n.value==""+e?n:null}).filter(function(n){return n!==null}).shift()};const YJ=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:fu,getListValue:Od,getTitleInListValues:AC,getValueInListValues:GJ,listValuesToArray:PC,makeCustomListValue:Vg,mapListValues:Bg,searchListValue:UJ,toListValue:Aa},Symbol.toStringTag,{value:"Module"}));var Be=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.skip(1),a.push.apply(a,n),a})},Fh=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.push.apply(a,n),a})},Vl=function(e,r){var n=new at.OrderedMap(ke({},e.get("id"),e)),i=e;return r.forEach(function(a){i=n.get(a),n=i.get("children1")}),i},kC=function(e){var r=e;function n(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=a.push(i.get("id")),l=i.getIn(["properties","isLocked"]);o&&l&&(r=r.deleteIn(Be(s,"properties","isLocked")));var u=i.get("children1");u&&u.map(function(c,f){n(c,s,l||o)})}return n(e,new at.List),r},Ra=function(e){var r=e;function n(i,a,o,s){if(i){var l=i.get("path"),u=i.get("id"),c=u||s,f=a.push(c);(!l||!l.equals(f))&&(r=r.setIn(Be(f,"path"),f)),u||(r=r.setIn(Be(f,"id"),c));var d=i.get("children1");d&&(d.constructor.name=="Map"&&(r=r.setIn(Be(f,"children1"),new at.OrderedMap(d))),d.map(function(p,h){n(p,f,o+1,h)}))}}return n(e,new at.List,0),r},xd=function(e){var r=e;function n(i,a,o,s){if(!i)return!1;var l=i.get("id")||s,u=a.push(l),c=i.get("children1");if(c){var f=c.map(function(d,p){return n(d,u,o+1,p)}).reduce(function(d,p){return d&&p},!0);if((c.size==0||f)&&o>0)return r=r.deleteIn(Be(u)),!0}return!1}return n(e,new at.List,0),r},KJ=function(e){var r=[],n={},i=0;function a(c,f,d,p,h,v,g,y,m){var S=c.get("type"),_=c.get("collapsed"),O=c.get("id"),x=c.get("children1"),w=c.getIn(["properties","isLocked"]),C=x?x.map(function(J,H){return H}).toArray():null,I=S=="rule_group",A=!h&&(!x||I),P=(C==null?void 0:C.length)>0,E=r.length,R=i;r.push(O),d||(i+=1),g.height=(g.height||0)+1,n[O]={type:S,parent:f.length?f[f.length-1]:null,parentType:y,caseId:S=="case_group"?O:m,isDefaultCase:S=="case_group"&&!x,path:f.concat(O),lev:v,leaf:!x,index:E,id:O,children:C,leafsCount:0,_top:E,top:d?null:R,collapsed:_,node:c,isLocked:w||p};var F;if(x){var N={};x.map(function(J,H){a(J,f.concat(O),d||_,p||w,h||I,v+1,N,S,S=="case_group"?O:m)}),_||(g.height=(g.height||0)+(N.height||0),P&&!I&&(F=(N.depth||0)+1))}m&&A&&n[m].leafsCount++;var V=r.length,z=g.height;Object.assign(n[O],{_height:V-E,height:z,bottom:(d?null:R)+z}),F!=null&&(Object.assign(n[O],{depth:F}),g.depth=Math.max(g.depth||0,F))}a(e,[],!1,!1,!1,0,{},null,null);for(var o=0;o<r.length;o++){var s=o>0?r[o-1]:null,l=o<r.length-1?r[o+1]:null,u=n[r[o]];u.prev=s,u.next=l}return{flat:r,items:n}},QJ=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type);var c=u=="rule_group";r++,l&&!c&&l.map(function(f,d){n(f,a.concat(s))})}return n(e,[]),r-1},Lh=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type),u=="rule"||u=="rule_group"?r++:l&&l.map(function(c,f){n(c,a.concat(s))})}return n(e,[]),r},IC=function(e){var r=[];function n(i,a,o){var s=i.get("id"),l=i.get("children1"),u=i.getIn(["properties","valueError"]),c=i.getIn(["properties","field"]);u&&u.size>0&&u.filter(function(f){return f!=null}).size>0&&r.push(c),l&&l.map(function(f,d){n(f,a.concat(s))})}return e&&n(e,[]),Array.from(new Set(r))},jC=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e;function i(a,o){a.path&&delete a.path,!r&&o&&delete a.id;var s=a.properties;s&&s.operatorOptions==null&&delete s.operatorOptions;var l=a.children1;if(l){for(var u in l)i(l[u],u);r&&(a.children1=Object.values(l))}}return i(e,null),n},RC=function(e){var r=[],n=e.get("children1");return n&&n.map(function(i){var a=i.getIn(["properties","value"]),o;a&&a.size==1?(o=a.get(0),Array.isArray(o)&&o.length==0&&(o=null)):o=null,r=[].concat($e(r),[o])}),r},qg=function(e){return!e.get("children1")||e.get("children1").size==0},Hg=function(e,r){return e.getIn(Be(r,"children1")).size>0};const JJ=Object.freeze(Object.defineProperty({__proto__:null,expandTreePath:Be,expandTreeSubpath:Fh,fixEmptyGroupsInTree:xd,fixPathsInTree:Ra,getFlatTree:KJ,getItemByPath:Vl,getLightTree:jC,getSwitchValues:RC,getTotalReordableNodesCountInTree:QJ,getTotalRulesCountInTree:Lh,getTreeBadFields:IC,hasChildren:Hg,immutableToJs:Lg,isEmptyTree:qg,isImmutable:hl,jsToImmutable:du,removeIsLockedInTree:kC,toImmutableList:un},Symbol.toStringTag,{value:"Module"}));var XJ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e;return i=i.toJS(),r&&(i=jC(i,n)),i}},zg=function(e){if(FC(e))return e;if(LC(e))return du(e);if(typeof e=="string"&&e.startsWith('["~#iM"'))throw"You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17";if(typeof e=="string")return du(JSON.parse(e));throw"Can't load tree!"},ZJ=function(e,r){if(e){var n=La(r,void 0,!0);return Jg(e,null,n,n)}},eX=function(e){return IC(e).length==0},FC=function(e){return wr.Map.isMap(e)},LC=function(e){return $t(e)=="object"&&(e.type=="group"||e.type=="switch_group")};function du(t){var e=wr.fromJS(t,function(r,n){var i;if(r=="properties"){i=n.toOrderedMap();for(var a=0;a<2;a++){var o;((o=i.get("value"))===null||o===void 0?void 0:o.get(a))===null&&(i=i.setIn(["value",a],void 0))}}else r=="value"&&at.Iterable.isIndexed(n)?i=n.map(function(s){var l,u=s==null||(l=s.toJS)===null||l===void 0?void 0:l.call(s);return u!=null&&u.func?s.toOrderedMap():s!=null&&s.toJS?u:s}).toList():r=="asyncListValues"?i=n.toJS():r=="children1"&&at.Iterable.isIndexed(n)?i=new at.OrderedMap(n.map(function(s){return[s.get("id"),s]})):i=at.Iterable.isIndexed(n)?n.toList():n.toOrderedMap();return i});return e}function $C(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tX(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function tX(t,e){if(t){if(typeof t=="string")return L1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,e)}}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rX=function(e){return Array.from(new Set(e))},$h=function(){return{errors:[]}},nX=function(e,r){return NC(e,r,!1)},NC=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=$h(),a=La(r,void 0,!1),o=iX(a),s=e?wd(e,o,a,"rule",i):void 0;s&&s.type!="group"&&(s=Nh(s,a));var l=s?zg(s):void 0;return n?[l,i.errors]:(i.errors.length&&console.warn("Errors while importing from JsonLogic:",i.errors),l)},iX=function(e){var r={};for(var n in e.operators){var i=e.operators[n];if(typeof i.jsonLogic=="string"){var a=(i._jsonLogicIsRevArgs?"#":"")+i.jsonLogic+"/"+ln(i.cardinality,1);r[a]||(r[a]=[]),r[a].push(n)}else if(typeof i.jsonLogic2=="string"){var o=i.jsonLogic2+"/"+ln(i.cardinality,1);r[o]||(r[o]=[]),r[o].push(n)}}var s={};for(var l in e.conjunctions){var u=e.conjunctions[l],c=u.jsonLogicConj||l.toLowerCase();s[c]=l}var f={},d=$C(vl(e)),p;try{for(d.s();!(p=d.n()).done;){var h=Ge(p.value,2),v=h[0],g=h[1],y=void 0;g.jsonLogicIsMethod?y="#"+g.jsonLogic:typeof g.jsonLogic=="string"&&(y=g.jsonLogic),y&&(f[y]||(f[y]=[]),f[y].push(v))}}catch(O){d.e(O)}finally{d.f()}var m=e.settings.jsonLogic,S=m.groupVarKey,_=m.altVarKey;return{operators:r,conjunctions:s,funcs:f,varKeys:["var",S,_]}},wd=function t(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c,f;Bn(e)&&(c=Object.keys(e)[0],f=e[c],Array.isArray(f)||(f=[f]));var d,p=a.errors.length,h=n.settings.jsonLogic.lockedOp,v=c=="!"&&f.length==1&&f[0]&&Bn(f[0])&&r.varKeys.includes(Object.keys(f[0])[0]),g=c=="!"&&!v,y=h&&c==h;y?d=t(f[0],r,n,i,a,o,s,l,u,!0):g?d=t(f[0],r,n,i,a,!o,s,l,u):i=="val"?d=DC(c,f,r,n,o,a,u)||MC(c,f,r,n,o,s,a,u)||aX(e,s,l,n,a):i=="rule"&&(d=VC(c,f,r,n,o,a,u,!1)||fX(c,f,r,n,o,a,u));var m=a.errors.length;return c!="!"&&d===void 0&&m==p&&a.errors.push("Can't parse logic ".concat(JSON.stringify(e))),y&&(d.properties.isLocked=!0),d},aX=function(e,r,n,i,a){var o;if(e===void 0&&(e=r==null?void 0:r.defaultValue),e!==void 0){var s=i.widgets[n||(r==null?void 0:r.mainWidget)],l=r==null?void 0:r.type;if(!s){a.errors.push("No widget for type ".concat(l));return}if(Bn(e)){a.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)));return}if(l=="time"&&typeof e=="number"){var u=Math.floor(e/60/60)%24,c=Math.floor(e/60)%60,f=e%60,d=s.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(u),p.setMinutes(c),p.setSeconds(f),e=Ne(p).format(d)}else e="".concat(u,":").concat(c,":").concat(f)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var h=new Date(e);h instanceof Date&&h.toISOString()===e&&(e=h)}catch(m){a.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&r){var v=s.valueFormat;v&&(e=Ne(e).format(v))}var g;if(e&&r!==null&&r!==void 0&&(o=r.fieldSettings)!==null&&o!==void 0&&o.asyncFetch){var y=Array.isArray(e)?e:[e];g=y}return{valueSrc:"value",value:e,valueType:s.type,asyncListValues:g}}},DC=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n.varKeys.includes(e)&&typeof r[0]=="string"){var l=Ef(i,r[0],s),u=Ze(i,l);if(!u){o.errors.push("No config for field ".concat(l));return}return{valueSrc:"field",value:l,valueType:u.type}}},oX=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=Object.keys(r)[0],f=Object.values(r)[0],d=function(V,z){return sX(V,z,i,a,o,l,u)||lX(V,z,i,a,o,s,l,u)},p=l.errors.length,h,v,g,y,m=d(c,f);if(m&&(h=m.field,v=m.fieldSrc),e&&(y=!0,g=n[0],n=[]),c=="reduce"&&Array.isArray(f)&&f.length==3){var S=f,_=Ge(S,3),O=_[0],x=_[1],w=_[2];if(Bn(O)&&w==0&&Bn(x)&&Array.isArray(x["+"])&&x["+"][0]==1&&Bn(x["+"][1])&&x["+"][1].var=="accumulator")if(c=Object.keys(O)[0],f=Object.values(O)[0],c=="filter"){var C=f,I=Ge(C,2),A=I[0],P=I[1];if(Bn(A)){c=Object.keys(A)[0],f=Object.values(A)[0];var E=d(c,f);E&&(h=E.field,v=E.fieldSrc,g=P,y=!0)}}else{var R=d(c,f);R&&(h=R.field,v=R.fieldSrc,y=!0)}}var F=l.errors.length;if(!h&&F==p&&l.errors.push("Unknown LHS ".concat(JSON.stringify(r))),!!h)return{field:h,fieldSrc:v,having:g,isGroup:y,args:n}},sX=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Array.isArray(r)||(r=[r]);var l=DC(e,r,n,i,a,o,s);if(l)return{fieldSrc:"field",field:l.value}},lX=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=MC(e,r,n,i,a,o,s,l);if(u)return{fieldSrc:"func",field:u.value}},MC=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(e){var u,c,f,d=e=="method";if(d){var p,h,v=VO(r);p=v[0],u=v[1],h=v.slice(2),c=[p].concat($e(h))}else u=e,c=r;var g=(d?"#":"")+u,y=(o==null?void 0:o.type)||(o==null?void 0:o.returnType),m=(n.funcs[g]||[]).filter(function(z){return o?gn(i,z).returnType==y:!0});if(m.length)f=m[0];else{var S=ke({},e,r),_=$C(vl(i)),O;try{for(_.s();!(O=_.n()).done;){var x=Ge(O.value,2),w=x[0],C=x[1];if(C.jsonLogicImport&&(!y||C.returnType==y)){var I=void 0;try{I=C.jsonLogicImport(S)}catch(z){}I&&(f=w,c=I)}}}catch(z){_.e(z)}finally{_.f()}}if(f&&f){var A=gn(i,f),P=Object.keys(A.args||{}),E=c.reduce(function(z,J,H){var M=P[H],L=A.args[M],q;return L&&(q=wd(J,n,i,"val",s,!1,L,null,l)),q!==void 0?pu(pu({},z),{},ke({},M,q)):z},{});for(var R in A.args){var F=A.args[R],N=E[R];if(N===void 0){if(N=F==null?void 0:F.defaultValue,N!==void 0){var V;N={value:N,valueSrc:(V=N)!==null&&V!==void 0&&V.func?"func":"value",valueType:F.type}}if(N===void 0){if(!(F!=null&&F.isOptional)){s.errors.push("No value for arg ".concat(R," of func ").concat(f));return}}else E[R]=N}}return{valueSrc:"func",value:{func:f,args:E},valueType:A.returnType}}}},VC=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=n.conjunctions[e],u=i.settings.fieldSeparator;if(l){var c="group",f=r.map(function(m){return wd(m,n,i,"rule",o,!1,null,null,s)}).filter(function(m){return m!==void 0}).reduce(function(m,S){return pu(pu({},m),{},ke({},S.id,S))},{}),d=Object.values(f).map(function(m){var S,_;return(m==null||(S=m.properties)===null||S===void 0?void 0:S.fieldSrc)=="field"&&(m==null||(_=m.properties)===null||_===void 0?void 0:_.field)}).filter(function(m){var S;return m==null||(S=m.includes)===null||S===void 0?void 0:S.call(m,u)}),p=Object.fromEntries(rX(d).map(function(m){var S=m.split(u),_=Object.fromEntries(S.slice(0,-1).map(function(O,x,w){return[].concat($e(w.slice(0,x)),[O])}).map(function(O){return[O.join(u),Ze(i,O)]}).filter(function(O){var x=Ge(O,2);x[0];var w=x[1];return(w==null?void 0:w.type)=="!group"}));return[m,Object.keys(_)]})),h={conjunction:l,not:a},v=or(),g={},y={};return Object.entries(f).map(function(m){var S=Ge(m,2),_=S[0],O=S[1];if((O==null?void 0:O.type)=="group"||(O==null?void 0:O.type)=="rule_group")g[_]=O;else{var x,w=O==null||(x=O.properties)===null||x===void 0?void 0:x.field,C=p[w]||[],I=C[C.length-1];if(!I)O&&(g[_]=O);else{var A=g,P=Hr(s,i),E=Hr(I,i),R=Pu(P,E.slice(0,P.length));R||(P=[]);var F=I.split(u).slice(P.length).map(function(N,V,z){return[].concat($e(P),$e(z.slice(0,V)),[N]).join(u)}).map(function(N){return{f:N,fc:Ze(i,N)||{}}}).filter(function(N){var V=N.fc;return V.type!="!struct"});F.map(function(N,V){var z=N.f,J=N.fc,H=y[z];H||(H=or(),y[z]=H,A[H]={type:"rule_group",id:H,children1:{},properties:{conjunction:l,not:!1,field:z,fieldSrc:"field",mode:J.mode}}),A=A[H].children1}),A[_]=O}}}),{type:c,id:v,children1:g,properties:h}}},uX=function(e,r,n,i,a){if(e)return{type:"rule_group",id:or(),children1:ke({},e.id,e),properties:{conjunction:a||Ed(i,n),not:!1,field:r}}},Nh=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:or(),children1:ke({},e.id,e),properties:{conjunction:da(r),not:n}}},cX=function(e,r,n,i,a,o,s){var l=$h(),u=N1(e,r,n,i,a,o,!1,l);if(u||(u=N1(e,r,n,i,a,o,!0,$h())),!u){s.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(r));return}return u},N1=function(e,r,n,i,a,o,s,l){var u=(e=="all"||e=="some")&&Bn(n[1])&&Object.keys(n[1])[0]=="in",c=!u&&o.settings.groupOperators.includes(e),f=["==","!="],d=c?0:r-1;c?d=0:f.includes(e)&&d==1&&n[1]===null&&(r=1,d=0,n=[n[0]]);var p=e+"/"+d,h=a.operators[(s?"#":"")+p];if(h){var v,g=[],y=["<","<=",">",">="];if(y.includes(e)&&r==3)v=n[1],g=[n[0],n[2]];else if(s)v=n[1],g=[n[0]];else{var m=n,S=VO(m);v=S[0],g=S.slice(1)}if(!Bn(v)){l.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));return}var _=oX(c,v,g,a,o,null,null,l,i);if(_){var O=_.field,x=_.fieldSrc,w=_.having;_.isGroup;var C=_.args,I=Ze(o,O);if(!I){l.errors.push("No config for LHS ".concat(O));return}var A=h[0];if(h.length>1&&I&&I.operators){if(h=h.filter(function(P){return I.operators.includes(P)}),h.length==0){l.errors.push("No corresponding ops for LHS ".concat(O));return}A=h[0]}return{field:O,fieldSrc:x,fieldConfig:I,opKey:A,args:C,having:w}}}},fX=function t(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(e){var l=r.length;if((e=="all"||e=="some")&&Bn(r[1])){var u=Object.keys(r[1])[0];u=="in"&&(r=[r[0],r[1][u][1]],e=e+"-"+u)}var c=cX(e,l,r,s,n,i,o);if(c){var f=c.field,d=c.fieldSrc,p=c.fieldConfig,h=c.opKey,v=c.args,g=c.having,y=i.operators[h];p.showNot!==void 0?p.showNot:i.settings.showNot;var m=!0,S,_,O=!1;if(p.type=="!group"&&g){S=Object.keys(g)[0],_=g[S],Array.isArray(_)||(_=[_]);var x=S=="!"&&_.length==1&&_[0]&&Bn(_[0])&&n.varKeys.includes(Object.keys(_[0])[0]);S=="!"&&!x&&(O=!0,g=g["!"],S=Object.keys(g)[0],_=g[S],Array.isArray(_)||(_=[_]))}a&&m&&y.reversedOp&&(a=!1,h=y.reversedOp,y=i.operators[h]);var w=Ar(i,f,h,null),C=v.map(function(R){return wd(R,n,i,"val",o,!1,p,w,s)});if(!C.filter(function(R){return R===void 0}).length){var I;if(p.type,p.type=="!group"&&g){if(n.conjunctions[S]!==void 0)I=VC(S,_,n,i,O,o,f,!0),O=!1;else{var A=t(S,_,n,i,O,o,f);O=!1,I=uX(A,f,p,i,n.conjunctions.and)}if(!I)return;I.type="rule_group",Object.assign(I.properties,{field:f,mode:p.mode,operator:h}),p.mode=="array"&&Object.assign(I.properties,{value:C.map(function(R){return R.value}),valueSrc:C.map(function(R){return R.valueSrc}),valueType:C.map(function(R){return R.valueType})}),a&&(I=Nh(I,i,a))}else if(p.type=="!group"&&!g)I={type:"rule_group",id:or(),children1:{},properties:{conjunction:Ed(i,p),not:a,mode:p.mode,field:f,operator:h}},p.mode=="array"&&Object.assign(I.properties,{value:C.map(function(R){return R.value}),valueSrc:C.map(function(R){return R.valueSrc}),valueType:C.map(function(R){return R.valueType})});else{var P=C.map(function(R){return R.asyncListValues}).filter(function(R){return R!=null}),E=P.length?P[0]:void 0;I={type:"rule",id:or(),properties:pu({field:f,fieldSrc:d,operator:h,value:C.map(function(R){return R.value}),valueSrc:C.map(function(R){return R.valueSrc}),valueType:C.map(function(R){return R.valueType})},E?{asyncListValues:E}:{})},a&&(I=Nh(I,i,a))}return I}}}},BC={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Tn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={},u=o||"Abstract",c=[],f=null,d;if(l._type=u,l.getType=function(){return u},l.setType=function(g){u=g},l.getChildren=function(){return c},l.addChild=function(g){if(g){if(!g.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(g)};g.setParent(l),c.push(g)}},l.getParent=function(){return f},l.setParent=function(g){f=g},l.getContext=function(g){return d||g.activeContext.peek()},l.setContext=function(g){d=g},l.getStartPosition=function(){return s>>16},l.getEndPosition=function(){return s&65535},l.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},l.toString=function(){var g="Kind: "+l.getType();g+=", Children: [";for(var y=0,m=l.getChildren().length;y<m;y+=1)g+="{"+l.getChildren()[y]+"}, ";return g+="]",g},s===0)throw{name:"Error",message:"Position cannot be 0"};for(var p=arguments.length,h=Array(p>2?p-2:0),v=2;v<p;v++)h[v-2]=arguments[v];return h&&h.forEach(function(g){l.addChild(g)}),l}n.SpelNode={create:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=a;function a(o){this.elements=o||[]}a.prototype.push=function(o){return this.elements.push(o),o},a.prototype.pop=function(){return this.elements.pop()},a.prototype.peek=function(){return this.elements[this.elements.length-1]},a.prototype.empty=function(){return this.elements.length>0},a.prototype.search=function(o){return this.elements.length-this.elements.indexOf(o)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(l){this.type=l,this.tokenChars=a[l],this._hasPayload=typeof a[l]!="string",typeof a[l]=="number"&&(this._ordinal=a[l])}for(var s in a)a.hasOwnProperty(s)&&(o[s]=new o(s));o.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(l){for(var u in a)if(a.hasOwnProperty(u)&&a[u]===l)return o[u]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var a=i(4),o=i(50);n.SpelExpressionEvaluator=a.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var a=i(5),o=i(1),s={};function l(u,c,f){var d=new o.Stack,p;return c||(c={}),d.push(c),p={rootContext:c,activeContext:d,locals:f},u.getValue(p)}s.compile=function(u){var c=(0,a.SpelExpressionParser)().parse(u);return{eval:function(d,p){return l(c,d,p)},_compiledExpression:c}},s.eval=function(u,c,f){return s.compile(u).eval(c,f)},n.SpelExpressionEvaluator=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var a=i(2),o=i(6),s=i(8),l=i(9),u=i(10),c=i(11),f=i(12),d=i(13),p=i(14),h=i(15),v=i(16),g=i(17),y=i(18),m=i(19),S=i(20),_=i(21),O=i(22),x=i(23),w=i(24),C=i(25),I=i(26),A=i(27),P=i(28),E=i(29),R=i(30),F=i(31),N=i(32),V=i(33),z=i(34),J=i(35),H=i(36),M=i(37),L=i(38),q=i(39),W=i(40),Q=i(41),K=i(42),$=i(43),U=i(44),X=i(45),ee=i(46),se=i(47),Oe=i(48),be=i(49);n.SpelExpressionParser=function(){var _e=new RegExp("[\\p{L}\\p{N}_$]+"),pe=[],ue,Le,ie,le;function xe(ne){}function Ee(ne,ce){try{ue=ne,Le=o.Tokenizer.tokenize(ne),ie=Le.length,le=0,pe=[];var Re=fe();return de()&&Pe(me().startPos,"MORE_INPUT",re().toString()),Re}catch(ft){throw ft.message}}function fe(){var ne=De();if(de()){var ce=me();if(ce.getKind()===a.TokenKind.ASSIGN){ne===null&&(ne=c.NullLiteral.create(fn(ce.startPos-1,ce.endPos-1))),re();var Re=De();return y.Assign.create(nt(ce),ne,Re)}if(ce.getKind()===a.TokenKind.ELVIS){ne===null&&(ne=c.NullLiteral.create(fn(ce.startPos-1,ce.endPos-2))),re();var ft=fe();return ft===null&&(ft=c.NullLiteral.create(fn(ce.startPos+1,ce.endPos+1))),L.Elvis.create(nt(ce),ne,ft)}if(ce.getKind()===a.TokenKind.QMARK){ne===null&&(ne=c.NullLiteral.create(fn(ce.startPos-1,ce.endPos-1))),re();var En=fe();wt(a.TokenKind.COLON);var dn=fe();return M.Ternary.create(nt(ce),ne,En,dn)}}return ne}function De(){for(var ne=We();Jr("or")||zt(a.TokenKind.SYMBOLIC_OR);){var ce=re(),Re=We();Pt(ce,ne,Re),ne=J.OpOr.create(nt(ce),ne,Re)}return ne}function We(){for(var ne=Je();Jr("and")||zt(a.TokenKind.SYMBOLIC_AND);){var ce=re(),Re=Je();Pt(ce,ne,Re),ne=z.OpAnd.create(nt(ce),ne,Re)}return ne}function Je(){var ne=yt(),ce=wn();if(ce!==null){var Re=re(),ft=yt();Pt(Re,ne,ft);var En=ce.kind;if(ce.isNumericRelationalOperator()){var dn=nt(Re);return En===a.TokenKind.GT?O.OpGT.create(dn,ne,ft):En===a.TokenKind.LT?w.OpLT.create(dn,ne,ft):En===a.TokenKind.LE?x.OpLE.create(dn,ne,ft):En===a.TokenKind.GE?_.OpGE.create(dn,ne,ft):En===a.TokenKind.EQ?m.OpEQ.create(dn,ne,ft):S.OpNE.create(dn,ne,ft)}return En===a.TokenKind.INSTANCEOF?$.OpInstanceof.create(nt(Re),ne,ft):En===a.TokenKind.MATCHES?H.OpMatches.create(nt(Re),ne,ft):U.OpBetween.create(nt(Re),ne,ft)}return ne}function yt(){for(var ne=Bt();Er(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.INC);){var ce=re(),Re=Bt();Xr(ce,Re),ce.getKind()===a.TokenKind.PLUS?ne=C.OpPlus.create(nt(ce),ne,Re):ce.getKind()===a.TokenKind.MINUS&&(ne=I.OpMinus.create(nt(ce),ne,Re))}return ne}function Bt(){for(var ne=ve();Er(a.TokenKind.STAR,a.TokenKind.DIV,a.TokenKind.MOD);){var ce=re(),Re=ve();Pt(ce,ne,Re),ce.getKind()===a.TokenKind.STAR?ne=A.OpMultiply.create(nt(ce),ne,Re):ce.getKind()===a.TokenKind.DIV?ne=P.OpDivide.create(nt(ce),ne,Re):ne=E.OpModulus.create(nt(ce),ne,Re)}return ne}function ve(){var ne=we(),ce;if(zt(a.TokenKind.POWER)){ce=re();var Re=we();return Xr(ce,Re),R.OpPower.create(nt(ce),ne,Re)}return ne!==null&&Er(a.TokenKind.INC,a.TokenKind.DEC)?(ce=re(),ce.getKind()===a.TokenKind.INC?F.OpInc.create(nt(ce),!0,ne):N.OpDec.create(nt(ce),!0,ne)):ne}function we(){var ne,ce;return Er(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.NOT)?(ne=re(),ce=we(),ne.getKind()===a.TokenKind.NOT?V.OpNot.create(nt(ne),ce):ne.getKind()===a.TokenKind.PLUS?C.OpPlus.create(nt(ne),ce):I.OpMinus.create(nt(ne),ce)):Er(a.TokenKind.INC,a.TokenKind.DEC)?(ne=re(),ce=we(),ne.getKind()===a.TokenKind.INC?F.OpInc.create(nt(ne),!1,ce):N.OpDec.create(nt(ne),!1,ce)):Ae()}function Ae(){var ne=[],ce=It();for(ne.push(ce);Fe();)ne.push(St());return ne.length===1?ne[0]:v.CompoundExpression.create(fn(ce.getStartPosition(),ne[ne.length-1].getEndPosition()),ne)}function Fe(){var ne=null;return Er(a.TokenKind.DOT,a.TokenKind.SAFE_NAVI)?ne=ze():ne=ct(),ne===null?!1:(et(ne),!0)}function ct(){return zt(a.TokenKind.LSQUARE)&&Tt()?St():null}function ze(){var ne=re(),ce=ne.getKind()===a.TokenKind.SAFE_NAVI;return rr(ce)||mt()||ut(ce)||Nt(ce)?St():(me()===null?Pe(ne.startPos,"OOD"):Pe(ne.startPos,"UNEXPECTED_DATA_AFTER_DOT",Ot(me())),null)}function mt(){if(!zt(a.TokenKind.HASH))return!1;var ne=re(),ce=wt(a.TokenKind.IDENTIFIER),Re=it();return Re===null?(et(h.VariableReference.create(ce.data,fn(ne.startPos,ce.endPos))),!0):(et(f.FunctionReference.create(ce.data,fn(ne.startPos,ce.endPos),Re)),!0)}function it(){if(!zt(a.TokenKind.LPAREN))return null;var ne=[];return lt(ne),wt(a.TokenKind.RPAREN),ne}function Kt(ne){zt(a.TokenKind.LPAREN)||Pe(nt(me()),"MISSING_CONSTRUCTOR_ARGS"),lt(ne),wt(a.TokenKind.RPAREN)}function lt(ne){var ce=me().startPos,Re;do{re();var ft=me();ft===null&&Pe(ce,"RUN_OUT_OF_ARGUMENTS"),ft.getKind()!==a.TokenKind.RPAREN&&ne.push(fe()),Re=me()}while(Re!==null&&Re.kind===a.TokenKind.COMMA);Re===null&&Pe(ce,"RUN_OUT_OF_ARGUMENTS")}function It(){return fr()||cn()||Me()||rt()||qr()||rr(!1)||mt()||qe()||ut(!1)||Nt(!1)||Tt()||Ct()?St():null}function qe(){if(zt(a.TokenKind.BEAN_REF)){var ne=re(),ce=null,Re=null;zt(a.TokenKind.IDENTIFIER)?(ce=wt(a.TokenKind.IDENTIFIER),Re=ce.data):zt(a.TokenKind.LITERAL_STRING)?(ce=wt(a.TokenKind.LITERAL_STRING),Re=ce.stringValue(),Re=Re.substring(1,Re.length()-1)):Pe(ne.startPos,"INVALID_BEAN_REFERENCE");var ft=ee.BeanReference.create(nt(ce),Re);return et(ft),!0}return!1}function Me(){if(zt(a.TokenKind.IDENTIFIER)){var ne=me();if(ne.stringValue()!=="T")return!1;var ce=re();if(zt(a.TokenKind.RSQUARE))return et(p.PropertyReference.create(ce.stringValue(),nt(ce))),!0;wt(a.TokenKind.LPAREN);for(var Re=ir(),ft=0;jt(a.TokenKind.LSQUARE,!0);)wt(a.TokenKind.RSQUARE),ft++;return wt(a.TokenKind.RPAREN),et(X.TypeReference.create(nt(ne),Re,ft)),!0}return!1}function rt(){if(zt(a.TokenKind.IDENTIFIER)){var ne=me();return ne.stringValue().toLowerCase()!=="null"?!1:(re(),et(c.NullLiteral.create(nt(ne))),!0)}return!1}function ut(ne){var ce=me();if(!jt(a.TokenKind.PROJECT,!0))return!1;var Re=fe();return wt(a.TokenKind.RSQUARE),et(K.Projection.create(ne,nt(ce),Re)),!0}function Ct(){var ne=me(),ce=[];if(!jt(a.TokenKind.LCURLY,!0))return!1;var Re=null,ft=me();if(jt(a.TokenKind.RCURLY,!0))Re=q.InlineList.create(fn(ne.startPos,ft.endPos));else if(jt(a.TokenKind.COLON,!0))ft=wt(a.TokenKind.RCURLY),Re=W.InlineMap.create(fn(ne.startPos,ft.endPos));else{var En=fe();if(zt(a.TokenKind.RCURLY))ce.push(En),ft=wt(a.TokenKind.RCURLY),Re=q.InlineList.create(fn(ne.startPos,ft.endPos),ce);else if(jt(a.TokenKind.COMMA,!0)){ce.push(En);do ce.push(fe());while(jt(a.TokenKind.COMMA,!0));ft=wt(a.TokenKind.RCURLY),Re=q.InlineList.create(nt(ne.startPos,ft.endPos),ce)}else if(jt(a.TokenKind.COLON,!0)){var dn=[];for(dn.push(En),dn.push(fe());jt(a.TokenKind.COMMA,!0);)dn.push(fe()),wt(a.TokenKind.COLON),dn.push(fe());ft=wt(a.TokenKind.RCURLY),Re=W.InlineMap.create(fn(ne.startPos,ft.endPos),dn)}else Pe(ne.startPos,"OOD")}return et(Re),!0}function Tt(){var ne=me();if(!jt(a.TokenKind.LSQUARE,!0))return!1;var ce=fe();return wt(a.TokenKind.RSQUARE),et(g.Indexer.create(nt(ne),ce)),!0}function Nt(ne){var ce=me();if(!nr())return!1;re();var Re=fe();return Re===null&&Pe(nt(ce),"MISSING_SELECTION_EXPRESSION"),wt(a.TokenKind.RSQUARE),ce.getKind()===a.TokenKind.SELECT_FIRST?et(Q.Selection.create(ne,Q.Selection.FIRST,nt(ce),Re)):ce.getKind()===a.TokenKind.SELECT_LAST?et(Q.Selection.create(ne,Q.Selection.LAST,nt(ce),Re)):et(Q.Selection.create(ne,Q.Selection.ALL,nt(ce),Re)),!0}function ir(){for(var ne=[],ce=me();tr(ce);)re(),ce.kind!==a.TokenKind.DOT&&ne.push(se.Identifier.create(ce.stringValue(),nt(ce))),ce=me();ne.length||(ce===null&&Pe(ue.length(),"OOD"),Pe(ce.startPos,"NOT_EXPECTED_TOKEN","qualified ID",ce.getKind().toString().toLowerCase()));var Re=fn(ne[0].getStartPosition(),ne[ne.length-1].getEndPosition());return Oe.QualifiedIdentifier.create(Re,ne)}function tr(ne){if(ne===null||ne.kind===a.TokenKind.LITERAL_STRING)return!1;if(ne.kind===a.TokenKind.DOT||ne.kind===a.TokenKind.IDENTIFIER)return!0;var ce=ne.stringValue();return ce&&ce.length&&_e.test(ce)}function rr(ne){if(zt(a.TokenKind.IDENTIFIER)){var ce=re(),Re=it();return Re===null?(et(p.PropertyReference.create(ne,ce.stringValue(),nt(ce))),!0):(et(d.MethodReference.create(ne,ce.stringValue(),nt(ce),Re)),!0)}return!1}function qr(){if(Jr("new")){var ne=re();if(zt(a.TokenKind.RSQUARE))return et(p.PropertyReference.create(ne.stringValue(),nt(ne))),!0;var ce=ir(),Re=[];if(Re.push(ce),zt(a.TokenKind.LSQUARE)){for(var ft=[];jt(a.TokenKind.LSQUARE,!0);)zt(a.TokenKind.RSQUARE)?ft.push(null):ft.push(fe()),wt(a.TokenKind.RSQUARE);Ct()&&Re.push(St()),et(be.ConstructorReference.create(nt(ne),ft,Re))}else Kt(Re),et(be.ConstructorReference.create(nt(ne),Re));return!0}return!1}function et(ne){pe.push(ne)}function St(){return pe.pop()}function fr(){var ne=me();if(ne===null)return!1;if(ne.getKind()===a.TokenKind.LITERAL_INT||ne.getKind()===a.TokenKind.LITERAL_LONG)et(l.NumberLiteral.create(parseInt(ne.stringValue(),10),nt(ne)));else if(ne.getKind()===a.TokenKind.LITERAL_REAL||ne.getKind()===a.TokenKind.LITERAL_REAL_FLOAT)et(l.NumberLiteral.create(parseFloat(ne.stringValue()),nt(ne)));else if(ne.getKind()===a.TokenKind.LITERAL_HEXINT||ne.getKind()===a.TokenKind.LITERAL_HEXLONG)et(l.NumberLiteral.create(parseInt(ne.stringValue(),16),nt(ne)));else if(Jr("true"))et(s.BooleanLiteral.create(!0,nt(ne)));else if(Jr("false"))et(s.BooleanLiteral.create(!1,nt(ne)));else if(ne.getKind()===a.TokenKind.LITERAL_STRING)et(u.StringLiteral.create(ne.stringValue(),nt(ne)));else return!1;return re(),!0}function cn(){if(zt(a.TokenKind.LPAREN)){re();var ne=fe();return wt(a.TokenKind.RPAREN),et(ne),!0}else return!1}function wn(){var ne=me();if(ne===null)return null;if(ne.isNumericRelationalOperator())return ne;if(ne.isIdentifier()){var ce=ne.stringValue();if(ce.toLowerCase()==="instanceof")return ne.asInstanceOfToken();if(ce.toLowerCase()==="matches")return ne.asMatchesToken();if(ce.toLowerCase()==="between")return ne.asBetweenToken()}return null}function wt(ne){var ce=re();return ce===null&&Pe(ue.length,"OOD"),ce.getKind()!==ne&&Pe(ce.startPos,"NOT_EXPECTED_TOKEN",ne.toString().toLowerCase(),ce.getKind().toString().toLowerCase()),ce}function zt(ne){return jt(ne,!1)}function jt(ne,ce){if(!de())return!1;var Re=me();return Re.getKind()===ne?(ce&&le++,!0):ne===a.TokenKind.IDENTIFIER&&Re.getKind().ordinal()>=a.TokenKind.DIV.ordinal()&&Re.getKind().ordinal()<=a.TokenKind.NOT.ordinal()&&Re.data!==null}function Er(){if(!de())return!1;for(var ne=me(),ce=Array.prototype.slice.call(arguments),Re=0,ft=ce.length;Re<ft;Re+=1)if(ne.getKind()===ce[Re])return!0;return!1}function Jr(ne){if(!de())return!1;var ce=me();return ce.getKind()===a.TokenKind.IDENTIFIER&&ce.stringValue().toLowerCase()===ne.toLowerCase()}function nr(){if(!de())return!1;var ne=me();return ne.getKind()===a.TokenKind.SELECT||ne.getKind()===a.TokenKind.SELECT_FIRST||ne.getKind()===a.TokenKind.SELECT_LAST}function de(){return le<Le.length}function re(){return le>=ie?null:Le[le++]}function me(){return le>=ie?null:Le[le]}function Pe(ne,ce,Re,ft){throw Re&&(ce+="\nExpected: "+Re),ft&&(ce+="\nActual: "+ft),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+ue+"' at position "+ne+". Message: "+ce}}function Ot(ne){return ne.getKind().hasPayload()?ne.stringValue():ne.getKind().toString().toLowerCase()}function Pt(ne,ce,Re){tt(ne,ce),Xr(ne,Re)}function tt(ne,ce){ce===null&&Pe(ne.startPos,"LEFT_OPERAND_PROBLEM")}function Xr(ne,ce){ce===null&&Pe(ne.startPos,"RIGHT_OPERAND_PROBLEM")}function nt(ne){return(ne.startPos<<16)+ne.endPos}function fn(ne,ce){return(ne<<16)+ce}return{setConfiguration:xe,parse:Ee}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var a=i(7),o=i(2),s=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],l=[],u=1,c=2,f=4;function d(){var h;for(h=48;h<=57;h+=1)l[h]|=u|c;for(h=65;h<=70;h+=1)l[h]|=c;for(h=97;h<=102;h+=1)l[h]|=c;for(h=65;h<=90;h+=1)l[h]|=f;for(h=97;h<=122;h+=1)l[h]|=f}d();function p(h){var v=h,g=h+"\0",y=g.length,m=0,S=[];function _(){for(var $;m<y;)if($=g[m],Q($))C();else switch($){case"+":R(o.TokenKind.INC)?N(o.TokenKind.INC):F(o.TokenKind.PLUS);break;case"_":C();break;case"-":R(o.TokenKind.DEC)?N(o.TokenKind.DEC):F(o.TokenKind.MINUS);break;case":":F(o.TokenKind.COLON);break;case".":F(o.TokenKind.DOT);break;case",":F(o.TokenKind.COMMA);break;case"*":F(o.TokenKind.STAR);break;case"/":F(o.TokenKind.DIV);break;case"%":F(o.TokenKind.MOD);break;case"(":F(o.TokenKind.LPAREN);break;case")":F(o.TokenKind.RPAREN);break;case"[":F(o.TokenKind.LSQUARE);break;case"#":F(o.TokenKind.HASH);break;case"]":F(o.TokenKind.RSQUARE);break;case"{":F(o.TokenKind.LCURLY);break;case"}":F(o.TokenKind.RCURLY);break;case"@":F(o.TokenKind.BEAN_REF);break;case"^":R(o.TokenKind.SELECT_FIRST)?N(o.TokenKind.SELECT_FIRST):F(o.TokenKind.POWER);break;case"!":R(o.TokenKind.NE)?N(o.TokenKind.NE):R(o.TokenKind.PROJECT)?N(o.TokenKind.PROJECT):F(o.TokenKind.NOT);break;case"=":R(o.TokenKind.EQ)?N(o.TokenKind.EQ):F(o.TokenKind.ASSIGN);break;case"&":if(!R(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+v+") at position "+m};N(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!R(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+v+") at position "+m};N(o.TokenKind.SYMBOLIC_OR);break;case"?":R(o.TokenKind.SELECT)?N(o.TokenKind.SELECT):R(o.TokenKind.ELVIS)?N(o.TokenKind.ELVIS):R(o.TokenKind.SAFE_NAVI)?N(o.TokenKind.SAFE_NAVI):F(o.TokenKind.QMARK);break;case"$":R(o.TokenKind.SELECT_LAST)?N(o.TokenKind.SELECT_LAST):C();break;case">":R(o.TokenKind.GE)?N(o.TokenKind.GE):F(o.TokenKind.GT);break;case"<":R(o.TokenKind.LE)?N(o.TokenKind.LE):F(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w($==="0");break;case" ":case"	":case"\r":case"\n":m+=1;break;case"'":O();break;case'"':x();break;case"\0":m+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+v+") at position "+m};default:throw{name:"SpelParseException",message:"Cannot handle character '"+$+"' in expression ("+v+") at position "+m}}}function O(){for(var $=m,U=!1,X;!U;)if(m+=1,X=g[m],X==="'"&&(g[m+1]==="'"?m+=1:U=!0),X.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+v+") at position "+m};m+=1,S.push(new a.Token(o.TokenKind.LITERAL_STRING,E($,m),$,m))}function x(){for(var $=m,U=!1,X;!U;)if(m+=1,X=g[m],X==='"'&&(g[m+1]==='"'?m+=1:U=!0),X.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+v+") at position "+m};m+=1,S.push(new a.Token(o.TokenKind.LITERAL_STRING,E($,m),$,m))}function w($){var U=!1,X=m,ee=g[m+1],se=ee==="x"||ee==="X",Oe,be,Se,_e;if($&&se){m=m+1;do m+=1;while(K(g[m]));J("L","l")?(A(E(X+2,m),!0,X,m),m+=1):A(E(X+2,m),!1,X,m);return}do m+=1;while(W(g[m]));if(ee=g[m],ee==="."){U=!0,Oe=m;do m+=1;while(W(g[m]));if(m===Oe+1){m=Oe,I(E(X,m),!1,X,m);return}}if(be=m,J("L","l")){if(U)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+v+") at position "+m};I(E(X,be),!0,X,be),m+=1}else if(H(g[m])){U=!0,m+=1,Se=g[m],q(Se)&&(m+=1);do m+=1;while(W(g[m]));_e=!1,M(g[m])?(_e=!0,m+=1,be=m):L(g[m])&&(m+=1,be=m),P(E(X,m),_e,X,m)}else ee=g[m],_e=!1,M(ee)?(U=!0,_e=!0,m+=1,be=m):L(ee)&&(U=!0,m+=1,be=m),U?P(E(X,be),_e,X,be):I(E(X,be),!1,X,be)}function C(){var $=m,U,X,ee;do m+=1;while(z(g[m]));if(U=E($,m),(m-$===2||m-$===3)&&(X=U.toUpperCase(),ee=s.indexOf(X),ee>=0)){V(o.TokenKind.valueOf(X),$,U);return}S.push(new a.Token(o.TokenKind.IDENTIFIER,U.replace("\0",""),$,m))}function I($,U,X,ee){U?S.push(new a.Token(o.TokenKind.LITERAL_LONG,$,X,ee)):S.push(new a.Token(o.TokenKind.LITERAL_INT,$,X,ee))}function A($,U,X,ee){if($.length===0)throw U?{name:"SpelParseException",message:"Not a long in expression ("+v+") at position "+m}:{name:"SpelParseException",message:"Not an int in expression ("+v+") at position "+m};U?S.push(new a.Token(o.TokenKind.LITERAL_HEXLONG,$,X,ee)):S.push(new a.Token(o.TokenKind.LITERAL_HEXINT,$,X,ee))}function P($,U,X,ee){U?S.push(new a.Token(o.TokenKind.LITERAL_REAL_FLOAT,$,X,ee)):S.push(new a.Token(o.TokenKind.LITERAL_REAL,$,X,ee))}function E($,U){return g.substring($,U)}function R($){return $.tokenChars.length===2&&g[m]===$.tokenChars[0]?g[m+1]===$.tokenChars[1]:!1}function F($){S.push(new a.Token($,null,m,m+1)),m+=1}function N($){S.push(new a.Token($,null,m,m+2)),m+=2}function V($,U,X){S.push(new a.Token($,X,U,U+$.getLength()))}function z($){return Q($)||W($)||$==="_"||$==="$"}function J($,U){var X=g[m];return X===$||X===U}function H($){return $==="e"||$==="E"}function M($){return $==="f"||$==="F"}function L($){return $==="d"||$==="D"}function q($){return $==="+"||$==="-"}function W($){return $.charCodeAt(0)>255?!1:(l[$.charCodeAt(0)]&u)!==0}function Q($){return $.charCodeAt(0)>255?!1:(l[$.charCodeAt(0)]&f)!==0}function K($){return $.charCodeAt(0)>255?!1:(l[$.charCodeAt(0)]&c)!==0}return _(),S}n.Tokenizer={tokenize:p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var a=i(2);function o(s,l,u,c){this.kind=s,this.startPos=u,this.endPos=c,l&&(this.data=l)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var s="[";return s+=this.kind.toString(),this.kind.hasPayload()&&(s+=":"+this.data),s+="]",s+="("+this.startPos+","+this.endPos+")",s},o.prototype.isIdentifier=function(){return this.kind===a.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===a.TokenKind.GT||this.kind===a.TokenKind.GE||this.kind===a.TokenKind.LT||this.kind===a.TokenKind.LE||this.kind===a.TokenKind.EQ||this.kind===a.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(a.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(a.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(a.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("boolean",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.BooleanLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("number",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.NumberLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("string",l);function c(f){return(f[0]==="'"&&f[f.length-1]==="'"||f[0]==='"'&&f[f.length-1]==='"')&&(f=f.substring(1,f.length-1)),f.replace(/''/g,"'").replace(/""/g,'"')}return s=c(s),u.getValue=function(){return s},u.setValue=function(f){return s=f},u}n.StringLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("null",l);return u.getValue=function(){return null},u}n.NullLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var a=i(0),o=i(1);function s(l,u,c){var f=a.SpelNode.create("function",u);return f.getRaw=function(){return{functionName:l,args:c}},f.getValue=function(d){var p=d.locals||{},h=d.rootContext,v=[];if(c.forEach(function(g){var y=d.activeContext;d.activeContext=new o.Stack,d.activeContext.push(d.rootContext),v.push(g.getValue(d)),d.activeContext=y}),p[l])return p[l].apply(h,v);throw{name:"FunctionDoesNotExistException",message:"Function '"+l+"' does not exist."}},f}n.FunctionReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var a=i(0),o=i(1);function s(l,u,c,f){var d=a.SpelNode.create("method",c);return d.getRaw=function(){return{methodName:u,args:f}},d.getValue=function(p){var h=p.activeContext.peek(),v=[],g;if(!h)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+u+"' for an undefined context."};function y(m){if(m==null){if(l)return null;throw{name:"NullPointerException",message:"Method "+u+" does not exist."}}return m}if(f.forEach(function(m){var S=p.activeContext;p.activeContext=new o.Stack,p.activeContext.push(p.rootContext),v.push(m.getValue(p)),p.activeContext=S}),u.substr(0,3)==="get"&&!h[u])return y(h[u.charAt(3).toLowerCase()+u.substring(4)]);if(u.substr(0,3)==="set"&&!h[u])return h[u.charAt(3).toLowerCase()+u.substring(4)]=v[0];if(Array.isArray(h)){if(u==="size")return h.length;if(u==="contains")return h.includes(v[0])}return g=y(h[u]),g?g.apply(h,v):null},d}n.MethodReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("property",u);return c.getRaw=function(){return l},c.getValue=function(f){var d=f.activeContext.peek();if(!d){if(s)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+l+"' for an undefined context."}}if(d[l]===void 0||d[l]===null){if(s)return null;if(l==="size"&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+l+"' does not exist."}}return d[l]},c.setValue=function(f,d){var p=d.activeContext.peek();if(!p)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l+"' for an undefined context."};return p[l]=f},c.getName=function(){return l},c}n.PropertyReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("variable",l);return u.getRaw=function(){return s},u.getValue=function(c){var f=c.activeContext.peek(),d=c.locals;if(!f)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+s+"' for an undefined context."};return s==="this"?f:s==="root"?c.rootContext:d[s]},u.setValue=function(c,f){var d=f.locals;return d[s]=c},u}n.VariableReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create.apply(null,["compound",s].concat(l));function c(f){var d=u.getChildren().length,p;for(p=0;p<d;p+=1)u.getChildren()[p].getType()==="indexer"?f.activeContext.push(f.activeContext.peek()[u.getChildren()[p].getValue(f)]):f.activeContext.push(u.getChildren()[p].getValue(f));return function(){for(p=0;p<d;p+=1)f.activeContext.pop()}}return u.getValue=function(f){var d=f.activeContext.peek(),p;if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var h=c(f);return p=f.activeContext.peek(),h(),p},u.setValue=function(f,d){var p=c(d),h=u.getChildren().length;return d.activeContext.pop(),f=u.getChildren()[h-1].setValue(f,d),d.activeContext.push(null),p(),f},u}n.CompoundExpression={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var a=i(0),o=i(1);function s(l,u){var c=a.SpelNode.create.apply(null,["indexer",l].concat(u));return c.getValue=function(f){var d=f.activeContext,p,h=c.getChildren().length,v,g;if(f.activeContext=new o.Stack,f.activeContext.push(f.rootContext),p=f.activeContext.peek(),!p)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(v=0;v<h;v+=1)f.activeContext.push(c.getChildren()[v].getValue(f));for(g=f.activeContext.peek(),v=0;v<h;v+=1)f.activeContext.pop();return f.activeContext=d,g},c}n.Indexer={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("assign",s,l,u);return c.getValue=function(f){var d=f.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l.getValue(f)+"' for an undefined context."};return l.setValue(u.getValue(f),f)},c}n.Assign={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-eq",s,l,u);return c.getValue=function(f){return l.getValue(f)===u.getValue(f)},c}n.OpEQ={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ne",s,l,u);return c.getValue=function(f){return l.getValue(f)!==u.getValue(f)},c}n.OpNE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ge",s,l,u);return c.getValue=function(f){return l.getValue(f)>=u.getValue(f)},c}n.OpGE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-gt",s,l,u);return c.getValue=function(f){return l.getValue(f)>u.getValue(f)},c}n.OpGT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-le",s,l,u);return c.getValue=function(f){return l.getValue(f)<=u.getValue(f)},c}n.OpLE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-lt",s,l,u);return c.getValue=function(f){return l.getValue(f)<u.getValue(f)},c}n.OpLT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-plus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)+u.getValue(f):+l.getValue(f)},c}n.OpPlus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-minus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)-u.getValue(f):-l.getValue(f)},c}n.OpMinus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-multiply",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);if(typeof d=="number"&&typeof p=="number")return d*p;if(typeof d=="string"&&typeof p=="number"){for(var h="",v=0;v<p;v+=1)h+=d;return h}return null},c}n.OpMultiply={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-divide",s,l,u);return c.getValue=function(f){return l.getValue(f)/u.getValue(f)},c}n.OpDivide={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-modulus",s,l,u);return c.getValue=function(f){return l.getValue(f)%u.getValue(f)},c}n.OpModulus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-power",s,l,u);return c.getValue=function(f){return Math.pow(l.getValue(f),u.getValue(f))},c}n.OpPower={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-inc",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d+1,f),l?d:d+1},c}n.OpInc={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-dec",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d-1,f),l?d:d-1},c}n.OpDec={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("op-not",s,l);return u.getValue=function(c){return!l.getValue(c)},u}n.OpNot={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-and",s,l,u);return c.getValue=function(f){return!!l.getValue(f)&&!!u.getValue(f)},c}n.OpAnd={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-or",s,l,u);return c.getValue=function(f){return!!l.getValue(f)||!!u.getValue(f)},c}n.OpOr={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("matches",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);try{var h=new RegExp(p);return!!h.exec(d)}catch(v){throw{name:"EvaluationException",message:v.toString()}}},c}n.OpMatches={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var a=i(0);function o(s,l,u,c){var f=a.SpelNode.create("ternary",s,l,u,c);return f.getValue=function(d){return l.getValue(d)?u.getValue(d):c.getValue(d)},f}n.Ternary={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("elvis",s,l,u);return c.getValue=function(f){return l.getValue(f)!==null?l.getValue(f):u.getValue(f)},c}n.Elvis={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("list",s),c=[].concat(l||[]);return u.getRaw=function(){return c},u.getValue=function(f){return c.map(function(d){return d.getValue(f)})},u}n.InlineList={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("map",s),c=[].concat(l||[]);return u.getValue=function(f){var d=!0,p=null,h={};return c.forEach(function(v){d?v.getType()==="property"?p=v.getName():p=v.getValue(f):h[p]=v.getValue(f),d=!d}),h},u}n.InlineMap={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=i(0);function s(f,d,p){var h=!1;return p.activeContext.push(f),h=d.getValue(p),p.activeContext.pop(),h}function l(f,d,p,h){var v=f.filter(function(g){return s(g,p,h)});switch(d){case"ALL":return v;case"FIRST":return v[0]||null;case"LAST":return v.length?v[v.length-1]:null}}function u(f,d,p,h){var v={},g,y,m=[],S={};for(y in f)f.hasOwnProperty(y)&&(g={key:y,value:f[y]},s(g,p,h)&&m.push(g));switch(d){case"ALL":return m.forEach(function(_){v[_.key]=_.value}),v;case"FIRST":return m.length?(S[m[0].key]=m[0].value,S):null;case"LAST":return m.length?(S[m[m.length-1].key]=m[m.length-1].value,S):null}m.forEach(function(_){v[_.key]=_.value})}function c(f,d,p,h){var v=o.SpelNode.create("selection",p,h);return v.getValue=function(g){var y=g.activeContext.peek();if(y){if(Array.isArray(y))return l(y,d,h,g);if((typeof y>"u"?"undefined":a(y))==="object")return u(y,d,h,g)}return null},v}n.Selection={create:c,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(0);function s(u,c,f){return u.map(function(d){var p;return f.activeContext.push(d),p=c.getValue(f),f.activeContext.pop(),p})}function l(u,c,f){var d=o.SpelNode.create("projection",c,f);return d.getValue=function(p){var h=p.activeContext.peek(),v=[],g;if(Array.isArray(h))return s(h,f,p);if((typeof h>"u"?"undefined":a(h))==="object"){for(g in h)h.hasOwnProperty(g)&&v.push(h[g]);return s(v,f,p)}return null},d}n.Projection={create:l}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("instanceof",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},c}n.OpInstanceof={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("between",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},c}n.OpBetween={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var a=i(0);function o(s,c,u){var c=a.SpelNode.create("typeref",s,c);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},c}n.TypeReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("beanref",s);return u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},u}n.BeanReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("identifier",l);return u.getRaw=function(){return s},u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},u}n.Identifier={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var a=i(0);function o(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}function s(l,u){var c=a.SpelNode.create.apply(a.SpelNode,["qualifiedidentifier",l].concat(o(u)));return c.getRaw=function(){return u.map(function(f){return f.getRaw()})},c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},c}n.QualifiedIdentifier={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var a=i(0),o=i(1);function s(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function l(c){return Array.isArray(c)?c:Array.from(c)}function u(c,f,d){var p=d!==void 0,h;p?h=f.length&&f[0]&&f[0].getType()==="number"?f[0].getValue():null:(d=f,f=void 0);var v=d,g=l(v);g[0];var y=g.slice(1),m=a.SpelNode.create.apply(a.SpelNode,["constructorref",c].concat(s(d)));return m.getRaw=function(){return h},m.getValue=function(S){if(p&&y.length<=1){var _=[];return y.forEach(function(O){var x=S.activeContext;S.activeContext=new o.Stack,S.activeContext.push(S.rootContext),_.push(O.getValue(S)),S.activeContext=x}),y.length===1?_[0]:h?new Array(h):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},m}n.ConstructorReference={create:u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={};return l.authentication=o||{},l.principal=s||{},l.hasRole=function(u){var c=!1;return!u||!l.authentication&&!Array.isArray(l.authentication.authorities)?!1:(l.authentication.authorities.forEach(function(f){f.authority.toLowerCase()===u.toLowerCase()&&(c=!0)}),c)},l.hasPermission=function(){var u=Array.prototype.slice.call(arguments);if(u.length===1)return l.hasRole(u[0])},l}n.StandardContext={create:a}}])})})(BC);var dX=BC.exports,qC={};(function(t){var e=t,r=/`/g,n=/\./g,i=/[\0\b\t\n\r\x1a\"\'\\]/g,a={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};e.escapeId=function(c,f){if(Array.isArray(c)){for(var d="",p=0;p<c.length;p++)d+=(p===0?"":", ")+e.escapeId(c[p],f);return d}else return f?"`"+String(c).replace(r,"``")+"`":"`"+String(c).replace(r,"``").replace(n,"`.`")+"`"},e.escape=function(c,f,d){if(c==null)return"NULL";switch(typeof c){case"boolean":return c?"true":"false";case"number":return c+"";case"object":return Object.prototype.toString.call(c)==="[object Date]"?e.dateToString(c,d||"local"):Array.isArray(c)?e.arrayToList(c,d):Buffer.isBuffer(c)?e.bufferToString(c):typeof c.toSqlString=="function"?String(c.toSqlString()):f?o(c.toString()):e.objectToValues(c,d);default:return o(c)}},e.arrayToList=function(c,f){for(var d="",p=0;p<c.length;p++){var h=c[p];Array.isArray(h)?d+=(p===0?"":", ")+"("+e.arrayToList(h,f)+")":d+=(p===0?"":", ")+e.escape(h,!0,f)}return d},e.format=function(c,f,d,p){if(f==null)return c;Array.isArray(f)||(f=[f]);for(var h=0,v=/\?+/g,g="",y=0,m;y<f.length&&(m=v.exec(c));){var S=m[0].length;if(!(S>2)){var _=S===2?e.escapeId(f[y]):e.escape(f[y],d,p);g+=c.slice(h,m.index)+_,h=v.lastIndex,y++}}return h===0?c:h<c.length?g+c.slice(h):g},e.dateToString=function(c,f){var d=new Date(c);if(isNaN(d.getTime()))return"NULL";var p,h,v,g,y,m,S;if(f==="local")p=d.getFullYear(),h=d.getMonth()+1,v=d.getDate(),g=d.getHours(),y=d.getMinutes(),m=d.getSeconds(),S=d.getMilliseconds();else{var _=l(f);_!==!1&&_!==0&&d.setTime(d.getTime()+_*6e4),p=d.getUTCFullYear(),h=d.getUTCMonth()+1,v=d.getUTCDate(),g=d.getUTCHours(),y=d.getUTCMinutes(),m=d.getUTCSeconds(),S=d.getUTCMilliseconds()}var O=s(p,4)+"-"+s(h,2)+"-"+s(v,2)+" "+s(g,2)+":"+s(y,2)+":"+s(m,2)+"."+s(S,3);return o(O)},e.bufferToString=function(c){return"X"+o(c.toString("hex"))},e.objectToValues=function(c,f){var d="";for(var p in c){var h=c[p];typeof h!="function"&&(d+=(d.length===0?"":", ")+e.escapeId(p)+" = "+e.escape(h,!0,f))}return d},e.raw=function(c){if(typeof c!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return c}}};function o(u){for(var c=i.lastIndex=0,f="",d;d=i.exec(u);)f+=u.slice(c,d.index)+a[d[0]],c=i.lastIndex;return c===0?"'"+u+"'":c<u.length?"'"+f+u.slice(c)+"'":"'"+f+"'"}function s(u,c){for(u=u.toString();u.length<c;)u="0"+u;return u}function l(u){if(u==="Z")return 0;var c=u.match(/([\+\-\s])(\d\d):?(\d\d)?/);return c?(c[1]==="-"?-1:1)*(parseInt(c[2],10)+(c[3]?parseInt(c[3],10):0)/60)*60:!1}})(qC);var pX=qC;const hX=rn(pX);var ro=hX;ro.trim=function(t){return t.charAt(0)=="'"?t.substring(1,t.length-1):t};ro.escapeLike=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=ro.escape(t);return n=ro.trim(n),n=n.replace(/[%_]/g,"\\$&"),n=(e?"%":"")+n+(r?"%":""),n="'"+n+"'",n};var HC=function(e){var r="''",n=e==null?void 0:e.type;return n=="date"?r="'0000-00-00'":n=="datetime"?r="'0000-00-00 00:00'":n=="time"?r="'00:00'":n=="number"&&(r="0"),r},zC=function(e){var r="",n=e==null?void 0:e.type;return n=="number"&&(r=0),r},vX=function(e){return"'"+e.replace(/'/g,"''")+"'"},gX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,a=["int","float"];e.map(function(l){if(l!=null){if(typeof l=="string")i="String";else if(typeof l=="number")i=Number.isInteger(l)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(l," in array"));if(!n)n=i;else if(n!=i)if(a.includes(n)&&a.includes(i))n="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(n," and ").concat(i))}}),n||(n="String");var o;n=="float"?o=e.map(function(l){return Ks(l,!0)}):o=e.map(function(l){return Ks(l)});var s;return r?s="new ".concat(n,"[]{").concat(o.join(", "),"}"):s="{".concat(o.join(", "),"}"),s},WC=function(e){return"".concat(e,".?[true]")},Ks=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e==null)return"null";switch($t(e)){case"boolean":return e?"true":"false";case"number":return!Number.isFinite(e)||isNaN(e)?void 0:e+(!Number.isInteger(e)||r?"f":"");case"object":if(Array.isArray(e))return gX(e,n);throw new Error("spelEscape: Object is not supported");default:return vX(e)}},mX=function(e){return e&&Array.isArray(e)&&e.length?e.map(function(r){if(r.type=="const")return Ks(r.value);if(r.type=="property")return""+r.value;if(r.type=="variable")return"#"+r.value}).filter(function(r){return r!=null}).join(" + "):"null"},yX=function(e){if(e==null)return[void 0,[]];var r=[],n=e.valueType=="case_value"?e.value:[e],i=n.map(function(a){if(a.valueSrc=="value")return a.value===null?void 0:{type:"const",value:a.value};if(a.valueSrc=="field")return{type:a.isVariable?"variable":"property",value:a.value};r.push("Unsupported valueSrc ".concat(a.valueSrc," in concatenation"))}).filter(function(a){return a!=null});return[i,r]},GC=function(e){return e==null?"NULL":e.toString()};const bX=Object.freeze(Object.defineProperty({__proto__:null,SqlString:ro,mongoEmptyValue:zC,spelEscape:Ks,spelFixList:WC,spelFormatConcat:mX,spelImportConcat:yX,sqlEmptyValue:HC,stringifyForDisplay:GC},Symbol.toStringTag,{value:"Module"}));function D1(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_X(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function _X(t,e){if(t){if(typeof t=="string")return M1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(t,e)}}function M1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wg="${0}.compareTo(${1})",SX={datetime:!0,time:!0,date:!0},OX=function(e,r){return UC(e,r,!1)},UC=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=La(r,void 0,!1),o=YC(e,a,i,null);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SpEL:",i.errors),o)},YC=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(a==="group"||a==="rule_group")return QC(e,r,n,i);if(a==="rule")return EX(e,r,n,i);if(a=="switch_group")return xX(e,r,n);if(a=="case_group")return KC(e,r,n,i)}},KC=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type");if(a!="case_group"){n.errors.push("Unexpected child of type ".concat(a," inside switch"));return}var o=e.get("properties")||new wr.Map,s=Gg(r,o,n,null,i,"!case_value"),l=Ge(s,3),u=l[0];l[1],l[2];var c=QC(e,r,n,i);return[c,u]},xX=function(e,r,n){e.get("properties")||new wr.Map;var i=e.get("children1");if(i){var a=i.map(function(h){return KC(h,r,n,null)}).filter(function(h){return typeof h<"u"}).toArray();if(a.length){if(a.length==1&&!a[0][0])return a[0][1];for(var o=[],s=0;s<a.length;s++)s!=a.length-1&&!a[s][0]?n.errors.push("No condition for case ".concat(s)):(o.push(a[s]),s==a.length-1&&a[s][0]&&o.push([void 0,null]));for(var l="",u="",c=0;c<o.length;c++){var f=Ge(o[c],2),d=f[0],p=f[1];p==null&&(p="null"),d==null&&(d="true"),c!=o.length-1?(l+="(".concat(d," ? ").concat(p," : "),u+=")"):l+="".concat(p)}return l+u}}},QC=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type"),o=e.get("properties")||new wr.Map,s=o.get("mode"),l=e.get("children1")||new wr.List,u=o.get("field"),c=o.get("conjunction");c||(c=da(r));var f=r.conjunctions[c],d=o.get("not"),p=a==="rule_group",h=p&&s!="struct",v=h?u:i,g=Ze(r,v)||{},y=g.isSpelArray,m=r.settings.fieldSeparator,S=o.get("operator");!S&&(!s||s=="some")&&(S="some");var _=XC(r,S,u),O=_!=S,x=S&&vr(r,_,u)||null,w=p&&(!_||x.cardinality==0),C=Gg(r,o,n,_,i,null),I=Ge(C,3),A=I[0],P=I[1],E=I[2],R=l.map(function(W){return YC(W,r,n,v)}).filter(function(W){return typeof W<"u"});if(h&&!w){if(A==null)return}else if(!R.size)return;var F=p,N=R.size?f.spelFormatConj(R,c,d,F):null,V;if(h){var z=Ug(n,r,u,i),J=m||".",H=J+(y?"length":"size()"),M="".concat(z).concat(H),L=N?"".concat(z,".?[").concat(N,"]").concat(H):M,q=w?M:A;V=JC(n,r,o,L,q,_,P,E,O)}else V=N;return V},wX=function(e,r,n){var i=r.spelOp;if(i){var a=i.includes("${0}"),o=SX[n],s=i,l,u=ln(r.cardinality,1);return o?l=function(f,d,p,h,v,g,y,m){var S=Wg.replace(/\${(\w+)}/g,function(_,O){return O==0?f:u>1?p[O-1]:p});return"".concat(S," ").concat(s," 0")}:a?l=function(f,d,p,h,v,g,y,m){return i.replace(/\${(\w+)}/g,function(S,_){return _==0?f:u>1?p[_-1]:p})}:u==0?l=function(f,d,p,h,v,g,y,m){return"".concat(f," ").concat(s)}:u==1&&(l=function(f,d,p,h,v,g,y,m){return"".concat(f," ").concat(s," ").concat(p)}),l}},JC=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=n.get("field"),f=vr(r,o,c)||{},d=Ze(r,c)||{},p=n.get("operatorOptions"),h=f.spelFormatOp||wX(o,f,l);if(!h){e.errors.push("Operator ".concat(o," is not supported"));return}var v=[i,o,a,s,l,er(f,pl),p,d],g;return g=h.call.apply(h,[r.ctx].concat(v)),u&&(g=r.settings.spelFormatReverse(g)),g===void 0&&e.errors.push("Operator ".concat(o," is not supported for value source ").concat(s)),g},XC=function(e,r,n){if(r){var i=vr(e,r,n)||{},a=i.reversedOp,o=vr(e,a,n)||{},s=i.spelOp||i.spelFormatOp,l=o.spelOp||o.spelFormatOp;if(!(!s&&!l)){if(!s&&l){var u=[a,r];r=u[0],a=u[1];var c=[o,i];i=c[0],o=c[1]}return r}}},EX=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new wr.Map,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator");if(!(o==null||l==null)){var u=XC(r,l,o);if(!u){n.errors.push("Operator ".concat(l," is not supported"));return}var c=u!=l,f=Gg(r,a,n,u,i,null),d=Ge(f,3),p=d[0],h=d[1],v=d[2];if(p!==void 0){var g=CX(n,r,o,s,i);if(g!==void 0){var y=JC(n,r,a,g,p,u,h,v,c);return y}}}},CX=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return i==="func"?ZC(e,r,n,a):Ug(e,r,n,a)},Gg=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Ze(e,s)||{},f=vr(e,i,s)||{},d=ln(f.cardinality,1),p=r.get("value"),h=r.get("asyncListValues"),v=[],g=[],y;if(p!=null){var m=p.map(function(_,O){var x=l?l.get(O):null,w=u?u.get(O):null,C=Qo(_,x,e),I=Ar(e,s,i,x),A=er(kn(e,s,i,I,x),["factory"]),P=Dh(n,e,C,x,w,A,c,i,f,a,h);return P!==void 0&&(v.push(x),g.push(w)),P}),S=m.filter(function(_){return _===void 0}).size>0;m.size<d||S||(y=d>1?m.toArray():d==1?m.first():null)}return[y,v.length>1?v:v[0],g.length>1?g:g[0]]},Dh=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=Ug(e,r,n,c);else if(i=="func")d=ZC(e,r,n,c);else if(typeof o.spelFormatValue=="function"){var p=o.spelFormatValue,h=[n,B1(B1({},aa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),er(o,Ko)];if(l&&(h.push(l),h.push(u)),i=="field"){var v=Ze(r,n)||{};h.push(v)}d=p.call.apply(p,[r.ctx].concat(h))}else d=Ks(n);return d}},Ug=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(n){var a=r.settings.fieldSeparator,o=Ze(r,n)||{},s=Hr(n,r),l=gT(n,r,i),u=r.settings.formatSpelField,c=Fa(n,r,e,i),f=l.map(function(p){var h=Ge(p,3),v=h[0],g=h[1],y=h[2],m;y&&(y.type=="!struct"||y.type=="!group"&&y.mode=="struct"?m=g.isSpelMap?"map":"class":y.type=="!group"?m=g.isSpelItemMap?"[map]":"[class]":m="class");var S=g==null?void 0:g.isSpelVariable;return{key:v,parent:m,isSpelVariable:S,fieldSeparator:a}}),d=u.call(r.ctx,c,i,s,f,o,r);return d}},ZC=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=n.get("func"),o=n.get("args"),s=gn(r,a);if(!s){e.errors.push("Func ".concat(a," is not defined in config"));return}var l={},u=[],c=[];for(var f in s.args){var d,p=s.args[f],h=Ze(r,p),v=p.defaultValue,g=p.isOptional,y=v!=null&&v.func?"func":"value",m=o?o.get(f):void 0,S=m?m.get("value"):void 0,_=m?m.get("valueSrc"):void 0,O=m?m.get("asyncListValues"):void 0,x=(d=p.spelEscapeForFormat)!==null&&d!==void 0?d:!0,w=null,C=Ar(r,p,w,_),I=er(kn(r,p,w,C,_),["factory"]),A=Dh(e,r,S,_,p.type,I,h,null,null,i,O);if(S!=null&&A===void 0){_!="func"&&e.errors.push("Can't format value of arg ".concat(f," for func ").concat(a));return}var P=void 0;if(A===void 0&&!g&&v!=null){var E=Ar(r,p,w,y),R=er(kn(r,p,w,E,y),["factory"]);if(P=Dh(e,r,v,y,p.type,R,h,null,null,i,O),P===void 0){y!="func"&&e.errors.push("Can't format default value of arg ".concat(f," for func ").concat(a));return}}var F=A!=null?A:P;if(F!==void 0){if(u.length){var N=D1(u),V;try{for(N.s();!(V=N.n()).done;){var z=V.value;l[z]=void 0}}catch(K){N.e(K)}finally{N.f()}u=[]}l[f]=x?F:S!=null?S:v}else g||c.push(f),u.push(f)}if(!c.length){var J;if(typeof s.spelFormatFunc=="function"){var H=s.spelFormatFunc,M=[l];J=H.call.apply(H,[r.ctx].concat(M))}else if(s.spelFunc){J=s.spelFunc.replace(/\${(\w+)}/g,function(K,$){var U;return(U=l[$])!==null&&U!==void 0?U:K});var L=Object.keys(s.args||{}).reverse().filter(function(K){return!!s.args[K].isOptional}),q=D1(L),W;try{for(q.s();!(W=q.n()).done;){var Q=W.value;if(l[Q]!=null)break;J=J.replace(new RegExp("(, )?\\${"+Q+"}","g"),"")}}catch(K){q.e(K)}finally{q.f()}J=J.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(a," is not supported"));return J}};function ra(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=TX(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function TX(t,e){if(t){if(typeof t=="string")return q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(t,e)}}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var z1={number:"number",string:"text",boolean:"boolean",null:"null"},W1={String:"text"},PX="multiselect",AX=function(e){return["length"].includes(e)},eT=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},kX=function(e,r){return tT(e,r,!0)},tT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=La(r,void 0,!1),o=RX(a),s,l,u=void 0;try{var c=dX.SpelExpressionEvaluator.compile(e);s=c._compiledExpression}catch(d){i.errors.push(d)}s&&(l=IX(s,i),Pa.debug("convertedObj:",l,i),u=Yg(l,o,a,i),u&&u.type!="group"&&u.type!="switch_group"&&(u=ku(u,a,l.not)),Pa.debug("jsTree:",u));var f=u?zg(u):void 0;return n?[f,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),f)},IX=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.getType(),a=e.getChildren().map(function(E){return t(E,r,e)});if((i=="op-or"||i=="op-and")&&(a=a.reduce(function(E,R){var F=R.type==i&&!R.not,N=F?R.children:[R];return[].concat($e(E),$e(N))},[])),i=="op-not")return a.length!=1&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),Mt(Mt({},a[0]),{},{not:!a[0].not});if(i=="compound"){a=a.filter(function(E){var R=E.type=="selection"&&E.children.length==1&&E.children[0].type=="boolean"&&E.children[0].val==!0;return!R});var o=a.find(function(E){return E.type=="selection"});o&&o.children.length!=1&&r.errors.push("Selection should have 1 child, but got ".concat(o.children.length));var s=o?o.children[0]:null,l=a[a.length-1],u=l.type=="method"&&l.val.methodName=="size"||l.type=="!func"&&l.methodName=="size",c=l.type=="property"&&l.val=="length",f=a.filter(function(E){return E!==o&&E!==l}),d={type:"compound",children:f},p=(u||c)&&rT(f)!=null;if(p)return{type:"!aggr",filter:s,source:d};if(a=a.filter(function(E){var R=E.type=="variable"&&E.val=="this",F=E.type=="variable"&&E.val=="root";return!(R||F)}),a=a.map(function(E){return E.type=="indexer"&&E.children.length==1?{type:"indexer",val:E.children[0].val,itype:E.children[0].type}:E}),l.type=="!func"){var h={},v=h;do{var g,y;Object.assign(v,l),a=a.filter(function(E){return E!==l}),l=a[a.length-1],((y=l)===null||y===void 0?void 0:y.type)=="!func"?(v.obj={},v=v.obj):a.length>1?v.obj={type:"compound",children:a}:v.obj=l}while(((g=l)===null||g===void 0?void 0:g.type)=="!func");return h}}var m;try{e.getRaw?m=e.getRaw():e.getValue.length==0&&(m=e.getValue())}catch(E){Pa.error("[spel2js] Error in getValue()",E)}if(i=="ternary"&&(m=jX(a)),$t(m)==="object"&&m!==null&&(m.methodName||m.functionName)&&(m.args=m.args.map(function(E){return t(E,r,e)})),i=="list"&&(m=m.map(function(E){return t(E,r,e)}),!n&&m.length==1))return m[0];if(i=="constructorref"){var S=a.find(function(E){return E.type=="qualifiedidentifier"}),_=S==null?void 0:S.val;if(!_){r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)));return}var O=a.filter(function(E){return E.type!="qualifiedidentifier"});return{type:"!new",cls:_,args:O}}if(i=="typeref"){var x=a.find(function(E){return E.type=="qualifiedidentifier"}),w=x==null?void 0:x.val;if(!w){r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)));return}return a.filter(function(E){return E.type!="qualifiedidentifier"}),{type:"!type",cls:w}}if(i=="function"||i=="method"){var C=m,I=C.functionName,A=C.methodName,P=C.args;return{type:"!func",methodName:I||A,isVar:i=="function",args:P}}return{type:i,children:a,val:m}},jX=function(e){var r=[];function n(i){var a=Ge(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]),(l==null?void 0:l.type)=="ternary"?n(l.children):r.push([void 0,l])}return n(e),r},RX=function(e){var r={},n=function(F){var N=e.operators[F];if(N.spelOps)N.spelOps.forEach(function(z){var J=z;r[J]||(r[J]=[]),r[J].push(F)});else if(N.spelOp){var V=N.spelOp;r[V]||(r[V]=[]),r[V].push(F)}else Pa.log("[spel] No spelOp for operator ".concat(F))};for(var i in e.operators)n(i);var a={};for(var o in e.conjunctions){var s=e.conjunctions[o],l=s.spelConj||o.toLowerCase();a[l]=o}var u={},c=ra(vl(e)),f;try{var d=function(){var F=Ge(f.value,2),N=F[0],V=F[1],z=[],J=V.spelFunc;if(typeof J=="string"){var H=Object.keys(V.args||{}).reverse().filter(function(K){return!!V.args[K].isOptional||V.args[K].defaultValue!=null}),M=J.replace(/\${(\w+)}/g,function(K,$){return"?"}),L=H.reduce(function(K,$){return[].concat($e(K),[[$].concat($e(K[K.length-1]||[]))])},[]).map(function(K){return J.replace(/(?:, )?\${(\w+)}/g,function($,U){return K.includes(U)?"":$}).replace(/\${(\w+)}/g,function($,U){return"?"})});z=[M].concat($e(L))}var q=ra(z),W;try{for(q.s();!(W=q.n()).done;){var Q=W.value;u[Q]||(u[Q]=[]),u[Q].push(N)}}catch(K){q.e(K)}finally{q.f()}};for(c.s();!(f=c.n()).done;)d()}catch(R){c.e(R)}finally{c.f()}var p={};for(var h in e.widgets){var v=e.widgets[h],g=v.spelImportFuncs;if(v.type,g){var y=ra(g),m;try{for(y.s();!(m=y.n()).done;){var S=m.value;if(typeof S=="string"){var _=S.replace(/\${(\w+)}/g,function(R,F){return"?"}),O=$e(S.matchAll(/\${(\w+)}/g)).map(function(R){var F=Ge(R,2),N=F[0],V=F[1];return V});p[_]||(p[_]=[]),p[_].push({w:h,argsOrder:O})}}}catch(R){y.e(R)}finally{y.f()}}}var x={};for(var w in e.operators){var C=e.operators[w],I=C.spelOp;if(I!=null&&I.includes("${0}")){var A=I.replace(/\${(\w+)}/g,function(R,F){return"?"}),P=$e(I.matchAll(/\${(\w+)}/g)).map(function(R){var F=Ge(R,2);F[0];var N=F[1];return N});x[A]||(x[A]=[]),x[A].push({op:w,argsOrder:P})}}var E=Wg.replace(/\${(\w+)}/g,function(R,F){return"?"});return x[E]=[{op:"!compare",argsOrder:["0","1"]}],{operators:r,conjunctions:a,funcs:u,valueFuncs:p,opFuncs:x}},Yg=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){var o,s=!0;if(e.type.indexOf("op-")===0||e.type==="matches")o=FX(e,r,n,i,a);else if(e.type=="!aggr"){var l,u=t(e.source,r,n,i,Mt(Mt({},e),{},{_groupField:a==null?void 0:a._groupField})),c=t(e.filter,r,n,i,Mt(Mt({},e),{},{_groupField:u==null?void 0:u.value}));((l=c)===null||l===void 0?void 0:l.type)=="rule"&&(c=ku(c,n,e.filter.not)),o={groupFilter:c,groupFieldValue:u},a||(o=void 0,i.errors.push("Unexpected !aggr in root"),s=!1)}else if(e.type=="ternary"){var f={};e.val.forEach(function(p){var h=Ge(p,2),v=h[0],g=h[1],y=iT(v,g,r,n,i,e);y&&(f[y.id]=y)}),o={type:"switch_group",id:or(),children1:f,properties:{}}}if(!o&&s&&(o=Qs(e,r,n,i,a)),o&&!o.type&&!a){var d=nT(e,r,n,i);d?o=d:(o=void 0,i.errors.push("Can't convert rule of type ".concat(e.type,", it looks like var/literal")))}return o}},FX=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o,s=e.type.startsWith("op-")?e.type.slice(3):e.type,l=(s=="minus"||s=="plus")&&e.children.length==1;if(l)return e.isUnary=!0,t(e.children[0],r,n,i,e);var u=s=="and"&&e.children.length==2&&e.children[0].type=="op-ge"&&e.children[1].type=="op-le",c=s=="or"&&e.children.length==2&&e.children[0].type=="op-lt"&&e.children[1].type=="op-gt",f=u||c;if(f){var d=Ge(e.children[0].children,2),p=d[0],h=d[1],v=Ge(e.children[1].children,2),g=v[0],y=v[1],m=BX(p,g,e,r,n,i,a);if(m){h.val,y.val;var S={type:"op-between",children:[p,h,y]};return t(S,r,n,i,a)}}var _=r.operators[s];s=="eq"&&e.children[1].type=="null"?_=["is_null"]:s=="ne"&&e.children[1].type=="null"?_=["is_not_null"]:s=="le"&&e.children[1].type=="string"&&e.children[1].val==""?_=["is_empty"]:s=="gt"&&e.children[1].type=="string"&&e.children[1].val==""?_=["is_not_empty"]:s=="between"&&(_=["between"]);var O=function(){var U,X=e.children.map(function(ee){return Yg(ee,r,n,i,Mt(Mt({},e),{},{_groupField:a==null?void 0:a._groupField}))});return X.length>=2&&((U=X)===null||U===void 0||(U=U[0])===null||U===void 0?void 0:U.type)=="!compare"&&(X=X[0].children),X};if(s=="and"||s=="or"){var x={},w=O();w.forEach(function($){if($){var U=or();$.id=U,$.type!=null?x[U]=$:i.errors.push("Bad item in AND/OR: ".concat(JSON.stringify($)))}}),o={type:"group",id:or(),children1:x,properties:{conjunction:r.conjunctions[s],not:e.not}}}else if(_){var C,I,A=O(),P=A[0],E=A.slice(1),R=P==null||(C=P.groupFieldValue)===null||C===void 0?void 0:C.value,F=(I=E)===null||I===void 0?void 0:I[0],N=_[0];if(_.length>1){var V,z,J=((V=A[0])===null||V===void 0?void 0:V.valueType)||((z=A[1])===null||z===void 0?void 0:z.valueType),H=P==null?void 0:P.value,M=_.map(function($){return{op:$,widget:Ar(n,H,$)}});if(Pa.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(_,"."),"widgets:",M,"vals:",A,"valueType=",J),s=="eq"||s=="ne"){var L=M.find(function($){$.op;var U=$.widget;return U&&U!="field"});L&&(N=L.op)}}P!=null&&P.groupFieldValue&&(F&&F.groupFieldValue&&F.groupFieldValue.valueSrc=="field"&&F.groupFieldValue.value==R?(N="all",E=[]):N=="equal"&&F.valueSrc=="value"&&F.valueType=="number"&&F.value==0?(N="none",E=[]):N=="greater"&&F.valueSrc=="value"&&F.valueType=="number"&&F.value==0&&(N="some",E=[]));var q=!0,W=!1;if(e.not&&q){var Q=n.operators[N];Q.reversedOp?(N=Q.reversedOp,e.not=!1):W=!0}if(P)if(P.groupFieldValue)P.groupFieldValue.valueSrc!="field"&&i.errors.push("Expected group field ".concat(JSON.stringify(P))),o=VX(P,N,E,n,i);else{P.valueSrc!="field"&&P.valueSrc!="func"&&i.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(P)));var K=P.value;o=Kg(n,i,K,N,E)}W&&(o.type!=="group"?o=ku(o,n,e.not):o.properties.not=!o.properties.not)}else a||(o=nT(e,r,n,i));return o},rT=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=e.map(function(o){if(o.type=="variable"||o.type=="property"||o.type=="indexer"&&o.itype=="string")return o.val;var s,l;i=!0,n&&(r==null||(s=r.errors)===null||s===void 0||(l=s.push)===null||l===void 0||l.call(s,"Unexpected item in field path compound: ".concat(JSON.stringify(o))))});return i?void 0:a},Qs=function t(e,r,n,i,a){if(e!=null){var o=n.settings.fieldSeparator;if(e.type=="variable"||e.type=="property"){var s=Ef(n,e.val,a==null?void 0:a._groupField),l=Ze(n,s),u=e.type=="variable";return{valueSrc:"field",valueType:l==null?void 0:l.type,isVariable:u,value:s}}else if(e.type=="compound"){var c=rT(e.children,i);if(c){var f,d=Ef(n,c.join(o),a==null?void 0:a._groupField),p=Ze(n,d),h=((f=e.children)===null||f===void 0||(f=f[0])===null||f===void 0?void 0:f.type)=="variable";return{valueSrc:"field",valueType:p==null?void 0:p.type,isVariable:h,value:d}}}else if(z1[e.type]){var v=e.val,g=z1[e.type];return a!=null&&a.isUnary&&(v=-v),{valueSrc:"value",valueType:g,value:v}}else if(e.type=="!new"&&W1[e.cls.at(-1)]){var y=e.args.map(function(I){return t(I,r,n,i,e)}),m=y==null?void 0:y[0],S=W1[e.cls.at(-1)];return Mt(Mt({},m),{},{valueType:S})}else if(e.type=="list"){var _,O=e.val.map(function(I){return t(I,r,n,i,e)});O.length&&((_=O[0])===null||_===void 0||_.valueType);var x=O.map(function(I){return I==null?void 0:I.value}),w=PX;return{valueSrc:"value",valueType:w,value:x}}else if(e.type=="op-plus"&&(a==null?void 0:a.type)=="ternary")return aT(e,r,n,i);var C=NX(e,r,n,i,a);if(C!==void 0)return C;i.errors.push("Can't convert arg of type ".concat(e.type))}},LX=function(e){var r=[{s:"",params:[],objs:[]}];return $X(e,r),r.map(function(n){var i=n.s,a=n.params;return{s:i,params:a}}).reverse().filter(function(n){var i=n.s;return i!==""&&i!=="?"})},$X=function t(e,r){var n=[],i="",a=e.type,o=e.methodName;e.val;var s=e.obj,l=e.args,u=e.isVar,c=e.cls,f=e.children,d=f==null?void 0:f[f.length-1],p=r[r.length-1];if(a==="!func"){for(var h=s;h;){var v,g=t(Mt(Mt({},h),{},{obj:null}),[{}]),y=Ge(g,2),m=y[0],S=y[1];if(m!=="?"){var _={s:p.s,params:$e(p.params),objs:$e(p.objs)};p.objs.unshift("?"),p.params.unshift(h),r.push(_),p=r[r.length-1]}p.objs.unshift(m),(v=p.params).unshift.apply(v,$e(S)),h=h.type==="!func"?h.obj:null}var O=ra(r),x;try{for(O.s();!(x=O.n()).done;){var w,C=x.value;n=[].concat($e((C==null?void 0:C.params)||[]),$e(l||[])),i="",C!=null&&(w=C.objs)!==null&&w!==void 0&&w.length&&(i+=C.objs.join(".")+"."),i+=(u?"#":"")+o,i+="("+(l||[]).map(function(I){return"?"}).join(", ")+")",C.s=i,C.params=n}}catch(I){O.e(I)}finally{O.f()}}else a==="!new"?(n=l||[],i="new ".concat(c.join("."),"(").concat(n.map(function(I){return"?"}).join(", "),")")):a==="!type"?i="T(".concat(c.join("."),")"):a==="compound"&&d.type==="property"&&AX(d.val)?i=f.map(function(I){var A;if(I===d)return I.val;var P=t(Mt(Mt({},I),{},{obj:null}),[{}]),E=Ge(P,2),R=E[0],F=E[1];return(A=n).push.apply(A,$e(F)),R}).join("."):(n=[e],i="?");return p&&(p.s=i,p.params=n),[i,n]},NX=function(e,r,n,i,a){var o,s=function(z){return Qs(z,r,n,i,Mt(Mt({},e),{},{_groupField:a==null?void 0:a._groupField}))},l=LX(e),u=l==null||(o=l[0])===null||o===void 0?void 0:o.s;l.length&&Pa.debug("Signatures for ",e,":",u,l);var c=DX(e,r,n,i,a,l,s);if(c!==void 0)return c;var f=MX(e,r,n,i,a,l,s);if(f!==void 0)return f;var d,p,h,v=ra(l),g;try{var y=function(){var z=g.value,J=z.s,H=z.params,M=r.funcs[J];if(M){d=M[0],p=gn(n,d);var L=p,q=L.spelFunc,W=H.map(s),Q=$e(q.matchAll(/\${(\w+)}/g)).map(function(K){var $=Ge(K,2),U=$[0],X=$[1];return X});return h=Object.fromEntries(Q.map(function(K,$){return[K,W[$]]})),"break"}};for(v.s();!(g=v.n()).done;){var m=y();if(m==="break")break}}catch(V){v.e(V)}finally{v.f()}if(!d){var S=ra(vl(n)),_;try{for(S.s();!(_=S.n()).done;){var O=Ge(_.value,2),x=O[0],w=O[1];if(w.spelImport){var C=void 0;try{C=w.spelImport(e)}catch(V){}if(C){d=x,p=gn(n,d),h={};for(var I in C)h[I]=s(C[I])}}}}catch(V){S.e(V)}finally{S.f()}}if(d){var A={};for(var P in p.args){var E=p.args[P],R=h[P];if(R===void 0)if(R=E==null?void 0:E.defaultValue,R===void 0){if(!(E!=null&&E.isOptional)){i.errors.push("No value for arg ".concat(P," of func ").concat(d));return}}else{var F;R={value:R,valueSrc:(F=R)!==null&&F!==void 0&&F.func?"func":"value",valueType:E.type}}R&&(A[P]=R)}return{valueSrc:"func",value:{func:d,args:A},valueType:p.returnType}}var N=e.methodName;N&&i.errors.push("Signature ".concat(u," - failed to convert"))},DX=function(e,r,n,i,a,o,s){var l,u,c,f=[];for(var d in n.widgets){var p=n.widgets[d],h=p.spelImportFuncs;if(h)for(var v=0;v<h.length;v++){var g=h[v];if(eT(g)){var y={};if(pC(g,e,y)){for(var m in y)y[m]=s(y[m]);f.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(v,"]"),w:d,argsObj:y})}}}}var S=ra(o),_;try{for(S.s();!(_=S.n()).done;){var O=_.value,x=O.s,w=O.params,C=r.valueFuncs[x]||[],I=ra(C),A;try{var P=function(){var $=A.value,U=$.w,X=$.argsOrder,ee=w.map(s),se=Object.fromEntries(X.map(function(Oe,be){return[Oe,ee[be]]}));f.push({s:x,w:U,argsObj:se})};for(I.s();!(A=I.n()).done;)P()}catch(K){I.e(K)}finally{I.f()}}}catch(K){S.e(K)}finally{S.f()}for(var E=0,R=f;E<R.length;E++){var F=R[E],N=F.s,V=F.w,z=F.argsObj,J=n.widgets[V],H=J.spelImportValue,M=J.type;c=V,u=N,l=[];for(var L in z)["value"].includes(z[L].valueSrc)||l.push("".concat(L," has unsupported value src ").concat(z[L].valueSrc));var q=z.v.value;if(H&&!l.length){var W=H.call(n.ctx,z.v,J,z),Q=Ge(W,2);q=Q[0],l=Q[1],l&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:M,value:q}}c&&l.length&&i.errors.push("Signature ".concat(u," - looks like convertable to ").concat(c,", but: ").concat(l.join("; ")))},MX=function(e,r,n,i,a,o,s){var l,u,c,f=ra(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,h=p.s,v=p.params,g=r.opFuncs[h]||[],y=ra(g),m;try{var S=function(){var x,w=m.value,C=w.op,I=w.argsOrder,A=v.map(s);if(u=C,C==="!compare"){if(a.type.startsWith("op-")&&a.children.length==2&&a.children[1].type=="number"&&a.children[1].val===0)return{v:{type:"!compare",children:A}};l.push("Result of compareTo() should be compared to 0")}c=h,l=[];var P=n.operators[u],E=P.spelOp,R=P.valueTypes,F=Object.fromEntries(I.map(function(J,H){return[J,A[H]]})),N=F[0],V=Object.keys(F).filter(function(J){return parseInt(J)>0}).map(function(J){return F[J]}),z=(x=A.filter(function(J){return!!J}).find(function(J){var H=J.valueSrc;return H==="value"}))===null||x===void 0?void 0:x.valueType;if(R&&z&&!R.includes(z)&&l.push("Op supports types ".concat(R,", but got ").concat(z)),!l.length)return{v:Kg(n,i,N,u,V,e)}};for(y.s();!(m=y.n()).done;){var _=S();if($t(_)==="object")return _.v}}catch(O){y.e(O)}finally{y.f()}}}catch(O){f.e(O)}finally{f.f()}u&&l.length&&i.errors.push("Signature ".concat(c," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},Kg=function(e,r,n,i,a,o){var s;if(!a.filter(function(m){return m===void 0}).length){var l=(s=n)!==null&&s!==void 0&&s.func?"func":"field";eT(n)&&n.valueSrc&&(l=n.valueSrc,n=n.value);var u=Ze(e,n);if(!u){r.errors.push("No config for field ".concat(n));return}var c=!0,f=!1;if(o!=null&&o.not&&c){var d=e.operators[i];d.reversedOp?(i=d.reversedOp,o.not=!1):f=!0}var p=Ar(e,n,i),h=e.widgets[p||u.mainWidget],v=a.map(function(m){return m.asyncListValues}).filter(function(m){return m!=null}),g=v.length?v[0]:void 0,y={type:"rule",id:or(),properties:Mt({field:n,fieldSrc:l,operator:i,value:a.map(function(m){return m.value}),valueSrc:a.map(function(m){return m.valueSrc}),valueType:a.map(function(m){return m.valueSrc=="value"&&((h==null?void 0:h.type)||(u==null?void 0:u.type))||m.valueType})},g?{asyncListValues:g}:{})};return f&&(y=ku(y,e,o==null?void 0:o.not),o!=null&&o.not&&(o.not=!1)),y}},VX=function(e,r,n,i,a){var o=e.groupFilter,s=e.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var l=s.value,u=Kg(i,a,l,r,n);if(u){var c=Ze(i,l),f=c==null?void 0:c.mode,d;return(o==null?void 0:o.type)==="group"?d=Mt(Mt({},o||{}),{},{type:"rule_group",properties:Mt(Mt(Mt({},u.properties),(o==null?void 0:o.properties)||{}),{},{mode:f})}):o?d=Mt(Mt({},u||{}),{},{type:"rule_group",children1:[o],properties:Mt(Mt({},u.properties),{},{mode:f})}):d=Mt(Mt({},u||{}),{},{type:"rule_group",properties:Mt(Mt({},u.properties),{},{mode:f})}),d.id||(d.id=or()),d}},BX=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(e.type==r.type)if(e.type=="!aggr"){var l=[e.source,r.source].map(function(g){return Qs(g,i,a,o,Mt(Mt({},n),{},{_groupField:s==null?void 0:s._groupField}))}),u=Ge(l,2),c=u[0],f=u[1];return c.value==f.value}else{var d=[e,r].map(function(g){return Qs(g,i,a,o,Mt(Mt({},n),{},{_groupField:s==null?void 0:s._groupField}))}),p=Ge(d,2),h=p[0],v=p[1];return h.value==v.value}return!1},nT=function(e,r,n,i){var a={},o=null,s=iT(o,e,r,n,i);s&&(a[s.id]=s);var l={type:"switch_group",id:or(),children1:a,properties:{}};return l},iT=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=qX(i,a,n,r,o),l;return e?(l=Yg(e,n,i,a,o),l&&l.type?(l.type!="group"&&(l=ku(l,i)),l.type="case_group"):(a.errors.push("Unexpected case: ".concat(JSON.stringify(l))),l=void 0)):l={id:or(),type:"case_group",properties:{}},l&&(l.properties=Mt(Mt({},l.properties),s)),l},aT=function(e,r,n,i){var a=[];function o(s){s.map(function(l){if(l.type=="op-plus")o(l.children);else{var u=Qs(l,r,n,i,e);u?a.push(u):i.errors.push("Can't convert ".concat(l.type," in concatenation"))}})}return o(e.children),{valueSrc:"value",valueType:"case_value",value:a}},qX=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o={},s;(i==null?void 0:i.type)=="op-plus"?s=aT(i,n,e,r):s=Qs(i,n,e,r,a);var l=e.widgets.case_value,u=l==null?void 0:l.spelImportValue;if(u){var c=u(s),f=Ge(c,2),d=f[0],p=f[1];p.map(function(h){return r.errors.push(h)}),d&&(o={value:[d],valueSrc:["value"],valueType:["case_value"]})}else r.errors.push("No fucntion to import case value");return o},ku=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:or(),children1:ke({},e.id,e),properties:{conjunction:da(r),not:n||!1}}};const HX=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:NC,_loadFromSpel:tT,checkTree:ZJ,getTree:XJ,isImmutableTree:FC,isJsonLogic:Bn,isTree:LC,isValidTree:eX,jsToImmutable:du,loadFromJsonLogic:nX,loadFromSpel:kX,loadTree:zg},Symbol.toStringTag,{value:"Module"}));function G1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oT=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.settings.defaultField,a=(n?sT(e,n):i)||r&&hT(e,n)||null;return a!=null&&typeof a!="string"&&!hl(a)&&(a=du(a)),a},sT=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n)return null;var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".",a=Ze(e,n),o=a==null?void 0:a.defaultField;return o&&(o=[].concat($e(Hr(n)),[o]).join(i)),o},Mh=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n&&((r=e.settings.fieldSources)===null||r===void 0?void 0:r[0])||"field"},Qg=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.settings.defaultOperator,a=Ze(e,r),o=(a==null?void 0:a.operators)||[];i&&!o.includes(i)&&(i=null);var s=a==null?void 0:a.defaultOperator;s&&!o.includes(s)&&(s=null),!s&&n&&(s=Zg(e,r));var l=a==null?void 0:a._origDefaultOperator,u=l&&s||i||s;return u},Iu=function(e,r,n){var i=r?vr(e,r,n):null;return i&&i.options?new at.Map(i.options&&i.options.defaults||{}):null},fa=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=null,s=null,l=null,u=e.settings.showErrorMessage;if(n){var c,f,d;l=n==null||(c=n.properties)===null||c===void 0?void 0:c.fieldSrc,o=n==null||(f=n.properties)===null||f===void 0?void 0:f.field,s=n==null||(d=n.properties)===null||d===void 0?void 0:d.operator}else i?(o=oT(e,a,r),o?l=hl(o)?"func":"field":l=Mh(e),s=Qg(e,o,!0)):l=Mh(e);var p=new at.Map({fieldSrc:l,field:o,operator:s,value:new at.List,valueSrc:new at.List,operatorOptions:Iu(e,s,o)});if(u&&(p=p.set("valueError",new at.List)),o&&s){var h=jo(e,e,p,o,s,"operator",!1),v=h.newValue,g=h.newValueSrc,y=h.newValueType,m=h.newValueError;p=p.set("value",v).set("valueSrc",g).set("valueType",y),u&&(p=p.set("valueError",m))}return p},Ed=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r=Ze(e,r);var n=r&&r.conjunctions||Object.keys(e.conjunctions);return n.length==1?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},da=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},po=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new at.Map({conjunction:Ed(e,r),not:!1})},lT=function(e,r){var n;return r&&r.type=="group"?po(e,r==null||(n=r.properties)===null||n===void 0?void 0:n.field):fa(e,null,r)},uT=function(e,r){return ke({},e,new at.Map({type:"rule",id:e,properties:fa(r)}))},WX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new at.Map({type:"group",id:or(),children1:new at.OrderedMap(r?zX({},uT(or(),e)):{}),properties:po(e)})},GX=function(e){return new at.List(e)},UX=function(){return new at.Map};const YX=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:GX,defaultConjunction:da,defaultGroupConjunction:Ed,defaultGroupProperties:po,defaultItemProperties:lT,defaultOperatorOptions:Iu,defaultRoot:WX,defaultRule:uT,defaultRuleProperties:fa,emptyProperies:UX,getDefaultField:oT,getDefaultFieldSrc:Mh,getDefaultOperator:Qg,getDefaultSubField:sT},Symbol.toStringTag,{value:"Module"}));var KX=function(e){return $t(e)=="object"&&e!==null&&Array.isArray(e)?"array":$t(e)},QX=function(e,r){return KX(e)==r||r=="number"&&!isNaN(e)},JX=function(e,r,n,i,a,o){var s=Jg(e,r,n,i,a,o);return s=Ra(s),s},Jg=function(e,r,n,i,a,o){a===void 0&&(a=n.settings.removeEmptyGroupsOnLoad),o===void 0&&(o=n.settings.removeIncompleteRulesOnLoad);var s={config:n,oldConfig:i,removeEmptyGroups:a,removeIncompleteRules:o};return cT(e,[],null,{},s)};function cT(t,e,r,n,i){var a=t.get("type"),o=t.get("children1");return(a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group")&&o&&o.size?XX(t,e,r,n,i):a==="rule"?ZX(t,e,r,n,i):t}function XX(t,e,r,n,i){var a=i.removeEmptyGroups,o=t.get("id"),s=t.get("children1"),l=s;!o&&r&&(o=r,t=t.set("id",o),n.sanitized=!0);var u={};s=s.map(function(f,d){return cT(f,e.concat(o),d,u,i)}),a&&(s=s.filter(function(f){return f!=null}));var c=u.sanitized||l.size!=s.size;return!s.size&&a&&e.length&&(c=!0,t=void 0),c&&(n.sanitized=!0),c&&t&&(t=t.set("children1",s)),t}function ZX(t,e,r,n,i){var a,o,s,l,u=i.removeIncompleteRules,c=i.config,f=i.oldConfig,d=c.settings.showErrorMessage,p=t.get("id"),h=t.get("properties"),v=h.get("field")||null,g=h.get("fieldSrc")||null,y=h.get("operator")||null,m=h.get("operatorOptions"),S=h.get("valueSrc"),_=h.get("value"),O=h.get("valueError"),x={field:((a=v)===null||a===void 0||(o=a.toJS)===null||o===void 0?void 0:o.call(a))||v,fieldSrc:g,operator:y,operatorOptions:m?m.toJS():{},valueSrc:S?S.toJS():null,value:_?_.toJS():null,valueError:O?O.toJS():null};v&&y&&_&&_.includes(void 0),!p&&r&&(p=r,t=t.set("id",p),n.sanitized=!0);var w=v?Ze(c,v):null;v&&!w&&(Pa.warn("No config for field ".concat(v)),v=null),v==null&&(h=["operator","operatorOptions","valueSrc","value","valueError"].reduce(function(K,$){return K.delete($)},h),y=null),g||(g=FT(v),h=h.set("fieldSrc",g)),(y=="range_between"||y=="range_not_between")&&(y=y=="range_between"?"between":"not_between",console.info("Fixed operator ".concat(h.get("operator")," to ").concat(y)),h=h.set("operator",y));var C=y?vr(c,y,v):null;y&&!C&&(console.warn("No config for operator ".concat(y)),y=null);var I=v?Pd(c,v):[];v&&(I!=null&&I.length?y&&I.indexOf(y)==-1&&(y=="is_empty"||y=="is_not_empty"?(y=y=="is_empty"?"is_null":"is_not_null",console.info("Fixed operator ".concat(h.get("operator")," to ").concat(y," for ").concat(v)),h=h.set("operator",y)):(console.warn("Operator ".concat(y," is not supported for field ").concat(v)),y=null)):(console.warn("Type of field ".concat(v," is not supported")),y=null)),y==null&&(h=h.delete("operatorOptions"),h=h.delete("valueSrc"),h=h.delete("value"),h=h.delete("valueError")),m=h.get("operatorOptions"),y&&ln(C.cardinality,1),!y||m&&!C.options?(m=null,h=h.delete("operatorOptions")):y&&!m&&C.options&&(m=Iu(c,y,v),h=h.set("operatorOptions",m)),S=h.get("valueSrc"),_=h.get("value");var A=!d,P=!0,E=jo(c,f,h,v,y,null,A,P),R=E.newValue,F=E.newValueSrc,N=E.newValueError;_=R,S=F,O=N,h=h.set("value",_),h=h.set("valueSrc",S),d?h=h.set("valueError",O):h=h.delete("valueError");var V={field:((s=v)===null||s===void 0||(l=s.toJS)===null||l===void 0?void 0:l.call(s))||v,fieldSrc:g,operator:y,operatorOptions:m?m.toJS():{},valueSrc:S?S.toJS():null,value:_?_.toJS():null,valueError:O?O.toJS():null},z=!xf(x,V),J=_&&_.filter(function(K,$){return!hu(K,S.get($),c)}).size==0,H=hu(v,g,c),M=H&&y&&J;if(z&&(n.sanitized=!0),!M&&u){var L="Uncomplete rule";if(!H)L="Uncomplete LHS";else{var q,W,Q;L="Uncomplete RHS",(q=V.valueSrc)!==null&&q!==void 0&&q[0]&&((W=V.valueSrc)===null||W===void 0?void 0:W[0])!=((Q=x.valueSrc)===null||Q===void 0?void 0:Q[0])&&(L="Bad value src ".concat(V.valueSrc))}console.warn("[RAQB validate]","Removing rule: ",x,"Reason: ".concat(L)),t=void 0}else z&&(t=t.set("properties",h));return t}var Cd=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!0,d=null,p=a;if(a!=null){if(s=="field"){var h=rZ(r,n,a,s,o,l,e),v=Ge(h,2);d=v[0],p=v[1]}else if(s=="func"){var g=nZ(r,n,a,s,o,l,e,i,c,u),y=Ge(g,2);d=y[0],p=y[1]}else if(s=="value"||!s){var m=tZ(r,n,a,s,o,l,e,i,c,u),S=Ge(m,2);d=S[0],p=S[1]}if(!d){Ze(e,n);var _=Ar(e,n,i,s),O=i?vr(e,i,n):null,x=er(kn(e,n,i,_,s),["factory"]),w=s=="field"?Ze(e,a):null,C=x,I=x.validateValue;if(typeof I=="function"){var A=[p,C,i,O];s=="field"&&A.push(w);var P=I.call.apply(I,[e.ctx].concat(A));typeof P=="boolean"?P==!1&&(d="Invalid value"):d=P}}}return f&&d&&console.warn("[RAQB validate]","Field ".concat(n,": ").concat(d)),[d,p]},eZ=function(e,r,n,i,a){var o=wr.List.isList(e)?e.toJS():e instanceof Array?$e(e):void 0;if(o){var s=o.reduce(function(h,v){var g=Ge(h,2),y=g[0],m=g[1],S=fu(r,v);return S==null?[y,[].concat($e(m),[v])]:[[].concat($e(y),[S.value]),m]},[[],[]]),l=Ge(s,2),u=l[0],c=l[1],f=c.length>1,d=c.length?"".concat(f?"Values":"Value"," ").concat(c.join(", ")," ").concat(f?"are":"is"," not in list of values"):null;return a!==void 0?n=a:n=n||i,[d,n?u:e]}else{var p=fu(r,e);return p==null?["Value ".concat(e," is not in list of values"),e]:(e=p.value,[null,e])}},tZ=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;if(r){var f=Ze(s,r),d=Ar(s,r,l,i),p=s.widgets[d],h=p==null?void 0:p.type,v=p==null?void 0:p.jsType,g=f.fieldSettings,y=(g==null?void 0:g.treeValues)||(g==null?void 0:g.listValues),m=!!(g!=null&&g.asyncFetch),S=y||m;if(a&&h&&a!=h)return["Value should have type ".concat(h,", but got value of type ").concat(a),n];if(v&&!QX(n,v)&&!S)return["Value should have JS type ".concat(v,", but got value of type ").concat($t(n)),n];if(g){var _=o||y;if(_&&!g.allowCustomValues)return eZ(n,_,c,u,s.settings.removeInvalidMultiSelectValuesOnLoad);if(g.min!=null&&n<g.min)return["Value ".concat(n," < min ").concat(g.min),c?g.min:n];if(g.max!=null&&n>g.max)return["Value ".concat(n," > max ").concat(g.max),c?g.max:n]}}return[null,n]},rZ=function(e,r,n,i,a,o,s){var l=s.settings.fieldSeparator,u=$t(r)=="object"&&(r==null?void 0:r._isFuncArg),c=Array.isArray(e)?e.join(l):e,f=Array.isArray(n)?n.join(l):n,d=Ze(s,n);return d?f==c&&!u?["Can't compare field ".concat(e," with itself"),n]:a&&a!=d.type?["Field ".concat(n," is of type ").concat(d.type,", but expected ").concat(a),n]:[null,n]:["Unknown field ".concat(n),n]},nZ=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=n;if(n){var d=n.get("func");if(d){var p=gn(s,d);if(p){if(a&&p.returnType!=a)return["Function ".concat(d," should return value of type ").concat(p.returnType,", but got ").concat(a),n];for(var h in p.args){var v=p.args[h],g=f.get("args"),y=g?g.get(h):void 0,m=Ze(s,v),S=y?y.get("value"):void 0,_=y?y.get("valueSrc"):void 0;if(S!==void 0){var O=Cd(s,e,m,l,S,v.type,_,o,c,u,!1),x=Ge(O,2),w=x[0],C=x[1];if(w!==null)if(c)f=f.deleteIn(["args",h]),v.defaultValue!==void 0&&(f=f.setIn(["args",h,"value"],v.defaultValue),f=f.setIn(["args",h,"valueSrc"],"value"));else return["Invalid value of arg ".concat(h," for func ").concat(d,": ").concat(w),n];else C!==S&&(f=f.setIn(["args",h,"value"],C))}else if(u&&v.defaultValue===void 0&&!c&&!v.isOptional)return["Value of arg ".concat(h," for func ").concat(d," is required"),n]}}else return["Unknown function ".concat(d),n]}}return[null,f]},Xg=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},fT=function(e,r){if(e){var n=e.get("func"),i=n&&gn(r,n);if(i){var a=e,o=!1;for(var s in i.args){var l=i.args[s],u=l.valueSources,c=l.isOptional,f=l.defaultValue,d=Ro(r,u,l),p=a.get("args"),h=d.length==1?d[0]:void 0,v=p?p.get(s):void 0,g=v?v.get("value"):void 0,y=(v?v.get("valueSrc"):void 0)||h;if(g!==void 0){var m=Qo(g,y,r);if(m===void 0||(m!==g&&(a=a.setIn(["args",s,"value"],m)),o))return}else if(f!==void 0&&!Xg(f))a=a.setIn(["args",s,"value"],dT(l)),a=a.setIn(["args",s,"valueSrc"],"value");else if(c)o=!0;else return}return a}}},iZ=function(e,r,n){var i=n.settings.fieldSeparator;e=e||new at.Map,Array.isArray(r)&&(r=r.join(i));var a=e.get("func"),o=e.get("args");e=e.set("func",r);var s=r&&gn(n,r),l=r&&Bh(n,r),u=a&&Bh(n,a),c=pT(u,l,o,n);if(c.length){var f=Object.keys(l.args),d=f.filter(function(x){return!c.includes(x)});e=d.reduce(function(x,w){return x.deleteIn(["args",w])},e)}else e=e.set("args",new at.Map);if(s)for(var p in s.args){var h=s.args[p],v=h.valueSources,g=h.defaultValue,y=Ro(n,v,h),m=y.length?y[0]:void 0,S=g?Xg(g)&&g.func?"func":"value":void 0,_=S||m,O=e.getIn(["args",p]);O||(g!==void 0&&(e=e.setIn(["args",p,"value"],dT(h))),_&&(e=e.setIn(["args",p,"valueSrc"],_)))}return e},dT=function(e){var r=e.defaultValue;return Xg(r)&&!at.Map.isMap(r)&&r.func?at.fromJS(r,function(n,i){return at.Iterable.isIndexed(i)?i.toList():i.toOrderedMap()}):r},aZ=function(e,r,n,i,a){if(e&&e.get("func")){e=e.setIn(["args",r,"value"],n);var o=e.getIn(["args",r,"valueSrc"]),s=i.valueSources,l=Ro(a,s,i),u=l.length==1?l[0]:void 0;!u&&l.includes("value")&&(u="value"),!o&&u&&(e=e.setIn(["args",r,"valueSrc"],u))}return e},oZ=function(e,r,n,i,a){return e&&e.get("func")&&(e=e.setIn(["args",r],new at.Map({valueSrc:n}))),e},pT=function(e,r,n,i){if((e==null?void 0:e.returnType)!=(r==null?void 0:r.returnType))return[];var a=Object.keys(r.args),o=a.filter(function(s,l){var u=r.args[s],c=e.args[s];if(Object.keys(e.args).indexOf(s),!c&&(u.defaultValue!==void 0||u.isOptional))return!0;if((c==null?void 0:c.type)!=u.type||Td.includes(u.type)&&(!c.listValuesType||c.listValuesType!==u.listValuesType))return!1;if(n){var f=n.get(s),d=f==null?void 0:f.get("value"),p=f==null?void 0:f.get("valueSrc");if(u.valueSources&&!u.valueSources.includes(p))return!1;var h=null,v=null,g=u,y=null,m=!1,S=!0,_=Cd(i,h,g,v,d,g.type,p,y,m,S,!1),O=Ge(_,2),x=O[0];if(O[1],x)return!1}return!0});return o};const sZ=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:fT,getCompatibleArgsOnFuncChange:pT,setArgValue:aZ,setArgValueSrc:oZ,setFunc:iZ},Symbol.toStringTag,{value:"Module"}));var Td=["select","multiselect","treeselect","treemultiselect"],jo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;r||(r=e);var u=e.settings.keepInputOnChangeFieldSrc,c=n.get("field"),f=n.get("fieldType"),d=n.get("operator"),p=n.get("value"),h=n.get("valueSrc",new at.List),v=n.get("valueType",new at.List),g=n.get("asyncListValues"),y=e.settings,m=y.convertableWidgets,S=y.clearValueOnChangeField,_=y.clearValueOnChangeOp,O=y.showErrorMessage,x=vr(e,a,i),w=a?ln(x.cardinality,1):null,C=Ze(r,c),I=Ze(e,i),A=!c&&f&&u,P=(C==null?void 0:C.type)||f,E=(I==null?void 0:I.type)||!i&&A&&P,R=(c||A)&&d&&a&&p!=null;if(R=R&&(!o||o=="field"&&!S||o=="operator"&&!_),R=R&&P&&E&&P==E,R&&Td.includes(E)&&o=="field"){var F=I==null?void 0:I.listValuesType,N=C==null?void 0:C.listValuesType;F&&F===N||(R=!1)}for(var V=0;V<w;V++){var z=h.get(V)||null,J=Ar(r,c,d,z),H=Ar(e,i,a,z),M=z=="value"?J:Ar(r,c,d,"value"),L=z=="value"?H:Ar(e,i,a,"value"),q=L==M||(m[M]||[]).includes(L)||!M&&A;q||(R=!1)}d!=a&&[d,a].includes("proximity")&&(R=!1);var W=kn(e,i,a,null,h.first()),Q=mT(e,i,a,null);!i&&A&&(Q=Object.keys(e.settings.valueSourcesInfo));var K={},$=Array.from({length:w},function(){return null});if(R)for(var U=function(){var Le=p.get(X),ie=v.get(X)||null,le=h.get(X)||null,xe=Q.find(function(Ae){return Ae==le})!=null;!xe&&X>0&&le==null&&(xe=!0);var Ee=g,fe=Cd(e,i,i,a,Le,ie,le,Ee,s,l,!0),De=Ge(fe,2),We=De[0],Je=De[1],yt=!We,Bt=Je!==Le,ve=!xe||!yt&&(o=="field"||!O&&!Bt),we=!!We&&O&&!ve&&!Bt;if(we&&($[X]=We),Bt&&(K[X]=Je),ve)return R=!1,"break"},X=0;X<w;X++){var ee=U();if(ee==="break")break}var se=null,Oe=null,be=null,Se=null;if(se=new at.List(Array.from({length:w},function(ue,Le){var ie=void 0;if(R)Le<p.size&&(ie=p.get(Le),K[Le]!==void 0&&(ie=K[Le]));else if(w==1){var le;ie=vC([I==null?void 0:I.defaultValue,I==null||(le=I.fieldSettings)===null||le===void 0?void 0:le.defaultValue,W==null?void 0:W.defaultValue])}return ie})),Oe=new at.List(Array.from({length:w},function(ue,Le){var ie=null;return R?Le<h.size&&(ie=h.get(Le)):(Q.length==1||Q.length>1)&&(ie=Q[0]),ie})),O){if(x&&x.validateValues&&Oe.toJS().filter(function(ue){return ue=="value"||ue==null}).length==w){var _e=W&&W.toJS?se.toJS().map(function(ue){return W.toJS.call(e.ctx,ue,W)}):se.toJS(),pe=x.validateValues(_e);O&&$.push(pe)}Se=new at.List($)}return be=new at.List(Array.from({length:w},function(ue,Le){var ie=null;return R?Le<v.size&&(ie=v.get(Le)):w==1&&W&&W.type!==void 0?ie=W.type:w==1&&I&&I.type!==void 0&&(ie=I.type=="!group"?"number":I.type),ie})),{canReuseValue:R,newValue:se,newValueSrc:Oe,newValueType:be,newValueError:Se,operatorCardinality:w}},hT=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=e.settings.fieldSeparator,i=Hr(r,e),a=r?Ri(e,r):e,o=a,s=null,l=[];do{var u,c=o===e?e.fields:(u=o)===null||u===void 0?void 0:u.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while(o.type=="!struct"||o.type=="!group");return(i||[]).concat(l).join(n)},vT=function(e,r){var n;return((n=e.types[r])===null||n===void 0?void 0:n.operators)||null},Pd=function(e,r){var n=Ze(e,r),i=n?n.operators:[];return i},Zg=function(e,r){var n,i=Pd(e,r);return(n=i==null?void 0:i[0])!==null&&n!==void 0?n:null},lZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ju(e,r,n,"funcs","subfields")},ju=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!e)return null;var o=r.settings.fieldSeparator,s=Hr(e,r),l=Hr(n,r),u=s.slice(l.length).map(function(c,f,d){return d.slice(0,f+1)}).map(function(c){return[].concat($e(l),$e(c)).join(o)}).map(function(c){var f=Ri(r,c,i,a);return f&&f.label||yd(c.split(o))}).filter(function(c){return c!=null});return u},gT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;var i=n&&Ri(r,n)||null,a=r.settings.fieldSeparator,o=Hr(e,r),s=RT(e,n,r),l=s?Hr(n,r):[];return o.slice(l.length).map(function(u,c,f){return f.slice(0,c+1)}).map(function(u){return{part:[].concat($e(l),$e(u)).join(a),key:u[u.length-1]}}).map(function(u){var c=u.part,f=u.key,d=Ri(r,c);return{key:f,cnf:d}}).map(function(u,c,f){var d=u.key,p=u.cnf,h=c>0?f[c-1].cnf:i;return[d,p,h]})},uZ=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=r&&$t(r)=="object"&&!!r.func&&!!r.arg,l=e.settings.showLabels,u=Ze(e,r),c=kn(e,r,n,null,a)||{},f=vr(e,n,r)||{},d=o?1:f.cardinality,p=null;if(d>1){var h=c.valueLabels||f.valueLabels;h&&(p=h[i]),p&&$t(p)!="object"&&(p={label:p,placeholder:p}),p||(p={label:e.settings.valueLabel+" "+(i+1),placeholder:e.settings.valuePlaceholder+" "+(i+1)})}else{var v=c.valueLabel,g=c.valuePlaceholder;s&&(v||(v=u.label||r.arg),!g&&!l&&(g=u.label||r.arg)),p={label:v||e.settings.valueLabel,placeholder:g||e.settings.valuePlaceholder}}return p};function em(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=[],a=[];if(!e)return{widgets:i,valueSrcs:a};var o=$t(e)=="object"&&(!!e.func&&!!e.arg||e._isFuncArg),s=Ze(t,e),l=r?t.operators[r]:null;if(s!=null&&s.widgets){var u=function(){var h=s.widgets[c];if(!t.widgets[c])return"continue";var v=t.widgets[c].valueSrc||"value",g=!0;if(c=="field"&&(g=g&&Ro(t,["field"],s).length>0),c=="func"&&(g=g&&Ro(t,["func"],s).length>0),n=="value"&&!h.operators&&!o&&e!="!case_value"&&(g=!1),h.operators&&r&&(g=g&&h.operators.indexOf(r)!=-1),n&&n!=v&&n!="const"&&(g=!1),l&&l.cardinality==0&&v!="value"&&(g=!1),g){var y,m;i.push(c);var S=((y=s.valueSources)===null||y===void 0?void 0:y.indexOf(v))!=-1;(l==null||(m=l.valueSources)===null||m===void 0?void 0:m.indexOf(v))==-1&&(S=!1),S&&!a.find(function(_){return _==v})&&a.push(v)}};for(var c in s.widgets)var f=u()}var d=function(h){var v=0;return s.preferWidgets?s.preferWidgets.includes(h)&&(v+=10-s.preferWidgets.indexOf(h)):h==s.mainWidget&&(v+=100),h=="field"&&(v-=1),h=="func"&&(v-=2),v};return i.sort(function(p,h){return d(h)-d(p)}),{widgets:i,valueSrcs:a}}var cZ=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=em(e,r,n,i),o=a.widgets;return o},Ro=function(e,r,n){var i;if(!n)return r;var a=(i=n.type)!==null&&i!==void 0?i:n.returnType;return r||(r=Object.keys(e.settings.valueSourcesInfo)),r.filter(function(o){var s=!0;if(o=="field"&&e.__fieldsCntByType){var l=n._isFuncArg?0:1;s=s&&e.__fieldsCntByType[a]>l}return o=="func"&&(e.__funcsCntByType&&(s=s&&!!e.__funcsCntByType[a]),n.funcs&&(s=s&&n.funcs.length>0)),s})},mT=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=em(e,r,n,null),o=a.valueSrcs,s=Ro(e,o,i);return s},Ar=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=em(e,r,n,i),o=a.widgets,s=null;return o.length&&(s=o[0]),s},Fa=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(e){var o=Ze(r,e)||{},s=r.settings.fieldSeparator,l=Hr(e,r),u=Array.isArray(e)?e.join(s):e;if(a!=null&&a.useTableName&&o.tableName){var c=$e(l);c[0]=o.tableName,u=c.join(s)}if(o.fieldName&&(u=o.fieldName),i){Ze(r,i);var f=i;u.indexOf(f+s)==0?u=u.slice((f+s).length):o.fieldName||n.errors.push("Can't cut group ".concat(f," from field ").concat(u))}return u}},tm=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.get("type"),a=e.getIn(["properties","mode"]);return i=="rule_group"&&a=="array"?fZ(e,r,n):i=="group"||i=="rule_group"?dZ(e,r,n):pZ(e,r,n)},fZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.get("children1"),a=e.get("properties");return yT(a.toObject(),i,r,n)},yT=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=e.operator,l=(i=(a=n.operators[s])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1,u=[!nm(e,n,!1),l>0?!0:!rm(r,n,o)],c=u.filter(function(d){return!!d}).length,f=c==2;return!f},dZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.get("children1");return rm(i,r,n)},rm=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||e.size==0||e.size>0&&e.filter(function(i){return!tm(i,r,n)}).size==0},nm=function(e,r){var n,i,a=e.field,o=e.fieldSrc,s=e.fieldType,l=e.operator,u=e.value,c=e.valueSrc;e.valueType;var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=(n=(i=r.operators[l])===null||i===void 0?void 0:i.cardinality)!==null&&n!==void 0?n:1,p=[f?a!==null||s!=null:hu(a,o,r,f),!!l,u.filter(function(g,y){var m;return hu(g,(c==null||(m=c.get)===null||m===void 0?void 0:m.call(c,y))||(c==null?void 0:c[y]),r,f)}).size>=d],h=p.filter(function(g){return!!g}).length,v=h==3;return!v},pZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.get("properties");return nm(i.toObject(),r,n)},hu=function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!i&&r=="func"&&e){var a=e.get("func"),o=gn(n,a);if(o){var s=e.get("args");for(var l in o.args){var u=o.args[l],c=s?s.get(l):void 0,f=c?c.get("value"):void 0,d=c?c.get("valueSrc"):void 0;if(f==null&&(u==null?void 0:u.defaultValue)===void 0&&!(u!=null&&u.isOptional)||f!=null&&!t(f,d,n,i))return!1}return!0}}return e!=null},Qo=function(e,r,n){return r=="func"?fT(e,n):e};const hZ=Object.freeze(Object.defineProperty({__proto__:null,completeValue:Qo,filterValueSourcesForField:Ro,formatFieldName:Fa,getFieldPartsConfigs:gT,getFieldPathLabels:ju,getFirstField:hT,getFirstOperator:Zg,getFuncPathLabels:lZ,getNewValueForFieldOp:jo,getOperatorsForField:Pd,getOperatorsForType:vT,getValueLabel:uZ,getValueSourcesForFieldOp:mT,getWidgetForFieldOp:Ar,getWidgetsForFieldOp:cZ,isCompletedValue:hu,isEmptyGroupChildren:rm,isEmptyItem:tm,isEmptyRuleGroupExtPropertiesAndChildren:yT,isEmptyRuleProperties:nm,selectTypes:Td},Symbol.toStringTag,{value:"Module"}));var bT={exports:{}};(function(t){var e=function(){function r(d,p){return p!=null&&d instanceof p}var n;try{n=Map}catch(d){n=function(){}}var i;try{i=Set}catch(d){i=function(){}}var a;try{a=Promise}catch(d){a=function(){}}function o(d,p,h,v,g){typeof p=="object"&&(h=p.depth,v=p.prototype,g=p.includeNonEnumerable,p=p.circular);var y=[],m=[],S=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof h>"u"&&(h=1/0);function _(O,x){if(O===null)return null;if(x===0)return O;var w,C;if(typeof O!="object")return O;if(r(O,n))w=new n;else if(r(O,i))w=new i;else if(r(O,a))w=new a(function(z,J){O.then(function(H){z(_(H,x-1))},function(H){J(_(H,x-1))})});else if(o.__isArray(O))w=[];else if(o.__isRegExp(O))w=new RegExp(O.source,f(O)),O.lastIndex&&(w.lastIndex=O.lastIndex);else if(o.__isDate(O))w=new Date(O.getTime());else{if(S&&Buffer.isBuffer(O))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(O.length):w=new Buffer(O.length),O.copy(w),w;r(O,Error)?w=Object.create(O):typeof v>"u"?(C=Object.getPrototypeOf(O),w=Object.create(C)):(w=Object.create(v),C=v)}if(p){var I=y.indexOf(O);if(I!=-1)return m[I];y.push(O),m.push(w)}r(O,n)&&O.forEach(function(z,J){var H=_(J,x-1),M=_(z,x-1);w.set(H,M)}),r(O,i)&&O.forEach(function(z){var J=_(z,x-1);w.add(J)});for(var A in O){var P;C&&(P=Object.getOwnPropertyDescriptor(C,A)),!(P&&P.set==null)&&(w[A]=_(O[A],x-1))}if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(O),A=0;A<E.length;A++){var R=E[A],F=Object.getOwnPropertyDescriptor(O,R);F&&!F.enumerable&&!g||(w[R]=_(O[R],x-1),F.enumerable||Object.defineProperty(w,R,{enumerable:!1}))}if(g)for(var N=Object.getOwnPropertyNames(O),A=0;A<N.length;A++){var V=N[A],F=Object.getOwnPropertyDescriptor(O,V);F&&F.enumerable||(w[V]=_(O[V],x-1),Object.defineProperty(w,V,{enumerable:!1}))}return w}return _(d,h)}o.clonePrototype=function(p){if(p===null)return null;var h=function(){};return h.prototype=p,new h};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=u;function c(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=c;function f(d){var p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),p}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)})(bT);var vZ=bT.exports;const fi=rn(vZ);var _T={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Tn,function(){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});function r(a){for(var o=[],s=0,l=a.length;s<l;s++)o.indexOf(a[s])===-1&&o.push(a[s]);return o}var n={},i={"==":function(a,o){return a==o},"===":function(a,o){return a===o},"!=":function(a,o){return a!=o},"!==":function(a,o){return a!==o},">":function(a,o){return a>o},">=":function(a,o){return a>=o},"<":function(a,o,s){return s===void 0?a<o:a<o&&o<s},"<=":function(a,o,s){return s===void 0?a<=o:a<=o&&o<=s},"!!":function(a){return n.truthy(a)},"!":function(a){return!n.truthy(a)},"%":function(a,o){return a%o},log:function(a){return console.log(a),a},in:function(a,o){return!o||typeof o.indexOf>"u"?!1:o.indexOf(a)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(a,o,s){if(s<0){var l=String(a).substr(o);return l.substr(0,l.length+s)}return String(a).substr(o,s)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)+parseFloat(o,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)*parseFloat(o,10)})},"-":function(a,o){return o===void 0?-a:a-o},"/":function(a,o){return a/o},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,o){return a.concat(o)},[])},var:function(a,o){var s=o===void 0?null:o,l=this;if(typeof a>"u"||a===""||a===null)return l;for(var u=String(a).split("."),c=0;c<u.length;c++)if(l==null||(l=l[u[c]],l===void 0))return s;return l},missing:function(){for(var a=[],o=Array.isArray(arguments[0])?arguments[0]:arguments,s=0;s<o.length;s++){var l=o[s],u=n.apply({var:l},this);(u===null||u==="")&&a.push(l)}return a},missing_some:function(a,o){var s=n.apply({missing:o},this);return o.length-s.length>=a?[]:s}};return n.is_logic=function(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&Object.keys(a).length===1},n.truthy=function(a){return Array.isArray(a)&&a.length===0?!1:!!a},n.get_operator=function(a){return Object.keys(a)[0]},n.get_values=function(a){return a[n.get_operator(a)]},n.apply=function(a,o){if(Array.isArray(a))return a.map(function(g){return n.apply(g,o)});if(!n.is_logic(a))return a;var s=n.get_operator(a),l=a[s],u,c,f,d,p;if(Array.isArray(l)||(l=[l]),s==="if"||s=="?:"){for(u=0;u<l.length-1;u+=2)if(n.truthy(n.apply(l[u],o)))return n.apply(l[u+1],o);return l.length===u+1?n.apply(l[u],o):null}else if(s==="and"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),!n.truthy(c))return c;return c}else if(s==="or"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),n.truthy(c))return c;return c}else{if(s==="filter")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.filter(function(g){return n.truthy(n.apply(f,g))}):[];if(s==="map")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.map(function(g){return n.apply(f,g)}):[];if(s==="reduce")return d=n.apply(l[0],o),f=l[1],p=typeof l[2]<"u"?l[2]:null,Array.isArray(d)?d.reduce(function(g,y){return n.apply(f,{current:y,accumulator:g})},p):p;if(s==="all"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(!n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="none"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!0;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="some"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!0;return!1}}if(l=l.map(function(g){return n.apply(g,o)}),i.hasOwnProperty(s)&&typeof i[s]=="function")return i[s].apply(o,l);if(s.indexOf(".")>0){var h=String(s).split("."),v=i;for(u=0;u<h.length;u++){if(!v.hasOwnProperty(h[u]))throw new Error("Unrecognized operation "+s+" (failed at "+h.slice(0,u+1).join(".")+")");v=v[h[u]]}return v.apply(o,l)}throw new Error("Unrecognized operation "+s)},n.uses_data=function(a){var o=[];if(n.is_logic(a)){var s=n.get_operator(a),l=a[s];Array.isArray(l)||(l=[l]),s==="var"?o.push(l[0]):l.forEach(function(u){o.push.apply(o,n.uses_data(u))})}return r(o)},n.add_operation=function(a,o){i[a]=o},n.rm_operation=function(a){delete i[a]},n.rule_like=function(a,o){if(o===a||o==="@")return!0;if(o==="number")return typeof a=="number";if(o==="string")return typeof a=="string";if(o==="array")return Array.isArray(a)&&!n.is_logic(a);if(n.is_logic(o)){if(n.is_logic(a)){var s=n.get_operator(o),l=n.get_operator(a);if(s==="@"||s===l)return n.rule_like(n.get_values(a,!1),n.get_values(o,!1))}return!1}if(Array.isArray(o))if(Array.isArray(a)){if(o.length!==a.length)return!1;for(var u=0;u<o.length;u+=1)if(!n.rule_like(a[u],o[u]))return!1;return!0}else return!1;return!1},n})})(_T);var gZ=_T.exports;const im=rn(gZ);function U1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mZ(t,e){return im.apply(t,e)}function yZ(t,e){return im.add_operation(t,e)}var K1={CALL:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e.call.apply(e,[r].concat(i))},JSX:function(e,r){return{type:e,props:r}},mergeObjects:function(e,r){return Y1(Y1({},e),r)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(e==null?void 0:e.length)||0},regexTest:function(e,r,n){return(e==null?void 0:e.match(new RegExp(r,n)))!=null},now:function(){return new Date},date_add:function(e,r,n){return Ne(e).add(r,n).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function bZ(){for(var t in K1)yZ(t,K1[t])}function _Z(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=SZ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function SZ(t,e){if(t){if(typeof t=="string")return Q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(t,e)}}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}bZ();function ST(t,e,r){var n;try{n=im.apply(t,e)}catch(i){throw i.message="".concat(r.join(".")," :: ").concat(i.message),i}return n}function OT(t,e,r,n){var i;try{i=e.call.apply(e,[t].concat($e(r)))}catch(a){throw a.message="".concat(n.join(".")," :: ").concat(a.message),a}return i}var wf=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],xT={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},Vh=Xa(Xa({},xT),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),wT={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},OZ={formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}},X1={widgetProps:Vh,opProps:wT},xZ={renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}},wZ={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderRuleError:{type:"rf"}},EZ={fields:{x:{fieldSettings:xT,widgets:{x:X1},mainWidgetProps:Vh}},widgets:{x:Vh},conjunctions:{x:OZ},operators:{x:wT},types:{x:{widgets:{x:X1}}},funcs:{x:xZ},settings:wZ},Ns=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},ET=function(e,r){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var n=aa(e,wf);delete n.ctx;for(var i=function u(c,f,d,p){if(Ns(c)){if(Sd(c)&&(c=$g(c)),d[0]==="funcs"&&!f){var h=d[d.length-1];f=Ri({funcs:p.BasicFuncs},h,"funcs","subfields")||void 0,f&&(c.$$key=h)}if(f!==void 0&&Ns(f))for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(!Object.keys(c).includes(v)||c[v]===void 0&&f[v]!==void 0?c[v]="$$deleted":(c[v]=u(c[v],f[v],[].concat($e(d),[v]),p),c[v]===void 0&&delete c[v]));for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)){if(!f||!Object.keys(f).includes(g)){var y;c[g]=u(c[g],(y=f)===null||y===void 0?void 0:y[g],[].concat($e(d),[g]),p)}c[g]===void 0&&delete c[g]}Object.keys(c).length===0&&(c=void 0)}else Array.isArray(c)&&c.forEach(function(m,S){c[S]=u(c[S],void 0,[].concat($e(d),[S]),p)});if(!(f!==void 0&&Pu(c,f,!0))){if(typeof c=="function")throw new Error("compressConfig: function at ".concat(d.join(".")," should be converted to JsonLogic"));return c}},a=0,o=wf;a<o.length;a++){var s=o[a];if(s!=="ctx")if(s==="fields")n[s]=fi(n[s]),i(n[s],{},[s]);else if(s==="funcs"){n[s]=fi(n[s]||{});for(var l in n[s])i(n[s][l],null,[s,l],{BasicFuncs:rx})}else n[s]=fi(n[s]),i(n[s],r[s],[s])}return n},CT=function(e,r,n){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var i={},a=function c(f,d,p){if(Ns(d)){Ns(f)||(f={});for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(d[h]==="$$deleted"?delete f[h]:f[h]=c(f[h],d[h],[].concat($e(p),[h])))}else Array.isArray(d)?f=fi(d):f=d;return f},o=function c(f,d,p){var h=!1;if(Ns(f)&&Object.prototype.hasOwnProperty.call(f,"$$key")&&f.$$key){var v=Ri({funcs:p.BasicFuncs},f.$$key,"funcs","subfields");if(v)delete f.$$key,f=a(fi(v),f,d),h=!0;else throw new Error("decompressConfig: basic function not found by key ".concat(f.$$key," at ").concat(d.join(".")))}if(!h){if(Ns(f))for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(f[g]=c(f[g],[].concat($e(d),[g]),p));else if(Array.isArray(f)){var y=_Z(f),m;try{for(y.s();!(m=y.n()).done;){var S=m.value;f[S]=c(f[S],[].concat($e(d),[S]),p)}}catch(_){y.e(_)}finally{y.f()}}}return f},s=0,l=wf;s<l.length;s++){var u=l[s];u==="ctx"?i[u]=Au({},r.ctx||{},n||{}):u==="funcs"?(i[u]=fi(e[u]||{}),o(i[u],[u],{BasicFuncs:rx})):u==="fields"?i[u]=fi(e[u]||{}):(i[u]=fi(r[u]||{}),a(i[u],e[u]||{},[u]))}return i},TT=function(e){if(e.__compliled)return e;e=fi(e);var r={ctx:e.ctx},n=[];return Jc(e,e,r,EZ,n),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function Jc(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];if(e){a.length;for(var o in n){var s=n[o],l=o==="x"?a:[].concat($e(a),[o]);if(s.type==="r"){var u=e,c=u[o];if(s.isArr)for(var f in c){var d=Js(c[f],r,[].concat($e(l),[f]));d!==c[f]&&(i.push("Compiled ".concat(l.join("."),"[").concat(f,"]")),c[f]=d)}else{var p=Js(c,r,l,void 0);p!==c&&(i.push("Compiled R ".concat(l.join("."))),u[o]=p)}}else if(s.type==="rf"){var h=e,v=h[o],g=CZ(v,r,l,s.ignore);g!==v&&(i.push("Compiled JL-RF ".concat(l.join("."))),h[o]=g)}else if(s.type==="f"){var y=e,m=y[o],S=TZ(m,r,l,s.args,s.ignore);if(s.invokeWith&&S&&typeof S=="function"){var _;S=(_=S).call.apply(_,[null].concat($e(s.invokeWith)))}S!==m&&(i.push("Compiled JL-F ".concat(l.join("."))),y[o]=S)}else if(o==="x")for(var O in e){l=[].concat($e(a),[O]);var x=e[O];Jc(t,x,r,s,i,l),x.subfields&&Jc(t,x.subfields,r,n,i,l)}else{var w=e[o];Jc(t,w,r,s,i,l)}}}}function CZ(t,e,r){return Bn(t)?function(n,i){i=i||(e==null?void 0:e.ctx);var a={props:n,ctx:i},o=ST(t,a,r);typeof o=="string"&&(o={type:o,props:n});var s=Js(o,{ctx:i},r);return s}:typeof t=="string"?function(n,i){i=i||(e==null?void 0:e.ctx);var a=t.split(".").reduce(function(l,u){return l==null?void 0:l[u]},i);if(a)return OT(this,a,[n,i],r);var o={type:t,props:n},s=Js(o,{ctx:i},r);return s}:t}function TZ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Bn(t)&&i!=="jl"?(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=this||(e==null?void 0:e.ctx),u=(n||[]).reduce(function(f,d,p){return Xa(Xa({},f),{},ke({},d,o[p]))},{args:o,ctx:l}),c=ST(t,u,r);return c}).bind(e==null?void 0:e.ctx):typeof t=="string"&&i!=="string"?(function(){var a=this||(e==null?void 0:e.ctx),o=t.split(".").reduce(function(c,f){return c==null?void 0:c[f]},a);if(o){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return OT(this,o,l,r)}else throw new Error("".concat(r.join(".")," :: Function ").concat(t," is not found in ctx"))}).bind(e==null?void 0:e.ctx):t}function PZ(t,e){var r;return(e==null||(r=e.components)===null||r===void 0?void 0:r[t])||e.W[t]||e.O[t]}function Js(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;if(Ng(t)){var i,a=t.type,o=t.props;if(typeof a!="string")throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var s=PZ(a,e.ctx)||a.toLowerCase(),l;n!==void 0&&(o=Xa(Xa({},o),{},{key:n})),(i=o)!==null&&i!==void 0&&i.children&&(l=Js(o.children,e,r),o=Xa(Xa({},o),{},{children:l}));var u=e.ctx.RCE(s,o);return u}else if(t instanceof Array)return t.map(function(c,f){return Js(c,e,r,""+f)});return t}function Z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AZ=Kr.mark(vl),kZ=Kr.mark(jT);function PT(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=IZ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function IZ(t,e){if(t){if(typeof t=="string")return e_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(t,e)}}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var La=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e.__configId)return e;n&&e.settings.useConfigCompress?e.__compliled?e=fi(e):e=TT(e):e=fi(e),e.settings=Dg({},TC,e.settings,am),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},jZ(e.types,e),AT(e.fields,e),kT(e.funcs,e);var i=e.settings.locale.moment;return i&&Ne.locale(i),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:r||or()}),dC(e),e};function jZ(t,e){for(var r in t){var n=t[r];RZ(r,n,e)}}function RZ(t,e,r){var n=null,i=null;e.mainWidget=e.mainWidget||Object.keys(e.widgets).filter(function(f){return f!="field"&&f!="func"})[0];for(var a in e.widgets){var o=e.widgets[a];if(o.operators){var s=o.operators;e.excludeOperators&&(s=s.filter(function(f){return!e.excludeOperators.includes(f)})),n=fC(n,s)}o.defaultOperator&&(i=o.defaultOperator),a==e.mainWidget&&(o=Au({},{widgetProps:e.mainWidgetProps||{}},o)),e.widgets[a]=o}e.valueSources||(e.valueSources=Object.keys(r.settings.valueSourcesInfo));var l=PT(e.valueSources),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c!="value"&&!e.widgets[c]&&(e.widgets[c]={})}}catch(f){l.e(f)}finally{l.f()}!e.operators&&n&&(e.operators=Array.from(new Set(n))),!e.defaultOperator&&i&&(e.defaultOperator=i)}function AT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var n in t)IT(t[n],e,[].concat($e(r),[n])),t[n].subfields&&AT(t[n].subfields,e,[].concat($e(r),[n]))}function kT(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";for(var a in t){var o=[].concat($e(n),[a]).join(i),s=t[a];s.returnType&&(e.__funcsCntByType[s.returnType]||(e.__funcsCntByType[s.returnType]=0),e.__funcsCntByType[s.returnType]++);for(var l in s.args)IT(s.args[l],e,null,!0);if(s.args){var u=Object.keys(s.args),c=!0,f=PT(u.reverse()),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,h=s.args[p];!c&&h.isOptional&&(Pa.info("Arg ".concat(p," for func ").concat(o," can't be optional")),delete h.isOptional),h.isOptional||(c=!1)}}catch(v){f.e(v)}finally{f.f()}}s.subfields&&kT(s.subfields,e,[].concat($e(n),[a]))}}}function IT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=null,a=null,o=e.types[t.type],s=t.excludeOperators||[];if(t.type!="!struct"&&t.type!="!group"){var l=["listValues","treeValues","allowCustomValues","validateValue"];t.fieldSettings||(t.fieldSettings={});for(var u=0,c=l;u<c.length;u++){var f=c[u];t[f]&&(t.fieldSettings[f]=t[f],delete t[f])}if(t.fieldSettings.listValues&&e.settings.normalizeListValues&&(t.fieldSettings.listValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.listValues,t.type,t.fieldSettings)),t.fieldSettings.treeValues&&e.settings.normalizeListValues&&(t.fieldSettings.treeValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.treeValues,t.type,t.fieldSettings)),!o){t.disabled=!0;return}n||(e.__fieldsCntByType[t.type]||(e.__fieldsCntByType[t.type]=0),e.__fieldsCntByType[t.type]++),t.widgets||(t.widgets={}),n&&(t._isFuncArg=!0),t.mainWidget=t.mainWidget||o.mainWidget,t.valueSources=t.valueSources||o.valueSources;var d=o.excludeOperators||[],p=function(){var S=t.widgets[h]||{},_=o.widgets[h]||{};if(!n){var O=[].concat($e(s),$e(d)),x=t.preferWidgets&&(h=="field"||t.preferWidgets.includes(h))||O.length>0;if(S.operators){var w=S.operators.filter(function(I){return!O.includes(I)});i=[].concat($e(i||[]),$e(w))}else if(x&&_.operators){var C=_.operators.filter(function(I){return!O.includes(I)});i=[].concat($e(i||[]),$e(C))}S.defaultOperator&&(a=S.defaultOperator)}h==t.mainWidget&&(S=Au({},{widgetProps:t.mainWidgetProps||{}},S)),t.widgets[h]=S};for(var h in o.widgets)p();n||(!t.operators&&i&&(t.operators=Array.from(new Set(i))),t._origDefaultOperator=t.defaultOperator,!t.defaultOperator&&a&&(t.defaultOperator=a))}var v=FZ(e,r),g=v.fieldName,y=v.inGroup;g&&(t.fieldName=g,e.__fieldNames[g]||(e.__fieldNames[g]=[]),e.__fieldNames[g].push({fullPath:r,inGroup:y}))}var am=function(e,r,n,i,a,o){if(Array.isArray(e))return r};function vl(t){return Kr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(om(t,t.funcs||{},[]),"t0",1);case 1:case"end":return r.stop()}},AZ)}function jT(t){return Kr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(om(t,t.fields||{},[]),"t0",1);case 1:case"end":return r.stop()}},kZ)}function om(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";return Kr.mark(function i(a){var o,s,l;return Kr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=(t==null||(a=t.settings)===null||a===void 0?void 0:a.fieldSeparator)||".",c.t0=Kr.keys(e);case 2:if((c.t1=c.t0()).done){c.next=13;break}if(s=c.t1.value,l=e[s],!l[n]){c.next=9;break}return c.delegateYield(om(t,l[n],[].concat($e(r),[s]),n),"t2",7);case 7:c.next=11;break;case 9:return c.next=11,[[].concat($e(r),[s]).join(o),l];case 11:c.next=2;break;case 13:case"end":return c.stop()}},i)})()}var Ri=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r=="!case_value")return{type:"case_value",mainWidget:"case_value",widgets:{case_value:e.widgets.case_value}};var o=(e==null||(n=e.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",s=Hr(r,e),l=e[i];if(!l)return null;for(var u=l,c=null,f=[],d=0;d<s.length;d++){var p=s[d];f.push(p);var h=f.join(o);c=u[h],d<s.length-1&&(c&&c[a]?(u=c[a],f=[]):c=null)}return c},FZ=function(e,r){if(!r)return{};var n=e.settings.fieldSeparator,i=$e(r).reduce(function(l,u,c,f){var d=l.computedPath,p=l.computed,h=l.inGroup,v=[].concat($e(f.slice(0,c)),[u]),g=Ri(e,v);return(g==null?void 0:g.type)==="!group"&&c<f.length-1?(h=v.join(n),d=[]):g!=null&&g.fieldName?(p=!0,d=[g.fieldName]):d=[].concat($e(d),[u]),{computedPath:d,computed:p,inGroup:h}},{computedPath:[],computed:!1,inGroup:void 0}),a=i.computedPath,o=i.computed,s=i.inGroup;return o?{fieldName:a.join(n),inGroup:s}:{}},Ef=function(e,r){var n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=e.settings.fieldSeparator,s=[a].concat($e(r.split(o))).filter(function(c){return c!=null}),l=r,u=(n=e.__fieldNames[l])===null||n===void 0||(i=n.find)===null||i===void 0||(i=i.call(n,function(c){var f=c.inGroup;return f?a==null?void 0:a.startsWith(f):!0}))===null||i===void 0?void 0:i.fullPath;return(u||s).join(o)},Bh=function(e,r){if(!r)return null;var n=Ri(e,r,"funcs","subfields");if(!n)return null;var i=n.returnType,a=n.args,o=Object.fromEntries(Object.entries(a||{}).map(function(l){var u=Ge(l,2),c=u[0],f=u[1],d=aa(f,["type","valueSources","defaultValue","fieldSettings","isOptional"]);return[c,d]})),s={returnType:i,args:o};return s},gn=function(e,r){if(!r)return null;var n=Ri(e,r,"funcs","subfields");if(!n)return null;var i=e.types[n.returnType]||{};return Fp(Fp(Fp({},i),n),{},{type:n.returnType||n.type})},qh=function(e,r,n){var i=gn(e,r);if(!i)return null;var a=i.args&&i.args[n]||null;if(!a)return null;var o=e.types[a.type]||{},s=Dg({},o,a||{},am);return s},RT=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return!1;var a=(i==null||(n=i.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",o=Hh(e,i),s=Hh(r,i);return o.startsWith(s+a)},Hh=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string")return e;var i=(n==null||(r=n.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";return Hr(e,n).join(i)},Hr=function(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var o=(a==null||(r=a.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";if(e!=null&&e.func)return Array.isArray(e.func)?e.func:e.func.split(o);if(e!=null&&(n=e.get)!==null&&n!==void 0&&n.call(e,"func")){var s;return e==null||(s=e.get)===null||s===void 0?void 0:s.call(e,"func").split(o)}return(e==null||(i=e.split)===null||i===void 0?void 0:i.call(e,o))||[]},LZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)return null;var i=r.settings.fieldSeparator,a=Hr(e,r);return n?a:a.map(function(o,s,l){return l.slice(0,s+1)}).map(function(o){return o.join(i)})},FT=function(e){var r;if(!e)return null;if($t(e)=="object"){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?null:"func":"field"},Ze=function(e,r){var n;if(!r)return null;if($t(r)=="object"){if(!r.func&&r.type)return r;if(r.func)return r.func&&r.arg?qh(e,r.func,r.arg):gn(e,r.func)}if(r!=null&&(n=r.get)!==null&&n!==void 0&&n.call(r,"func"))return r!=null&&r.get("arg")?qh(e,r.get("func"),r.get("arg")):gn(e,r.get("func"));var i=Ri(e,r);if(!i)return null;var a=e.types[i.type]||{},o=Dg({},a,i||{},am);return o},vr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var i=e.operators[r];if(n){var a=Ze(e,n),o=Ar(e,n,r,null),s=e.widgets[o]||{},l=(a&&a.widgets?a.widgets[o]:{})||{},u=(s.opProps||{})[r],c=(l.opProps||{})[r],f=Au({},i,u,c);return f}else return i},kn=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!r||!(n||i)&&a!="const"&&r!="!case_value")return null;var o=Ze(e,r);i||(i=Ar(e,r,n,a));var s=e.widgets[i]||{},l=(o&&o.widgets?o.widgets[i]:{})||{},u=l.widgetProps||{},c=(a=="value"||!a)&&o&&o.fieldSettings||{},f=Au({},s,u,c);return f},$Z=Ko;const NZ=Object.freeze(Object.defineProperty({__proto__:null,_widgetDefKeysToOmit:$Z,applyJsonLogic:mZ,cleanJSX:$g,compileConfig:TT,compressConfig:ET,configKeys:wf,decompressConfig:CT,extendConfig:La,getFieldConfig:Ze,getFieldParts:Hr,getFieldPath:Hh,getFieldPathParts:LZ,getFieldRawConfig:Ri,getFieldSrc:FT,getFieldWidgetConfig:kn,getFuncArgConfig:qh,getFuncConfig:gn,getFuncSignature:Bh,getOperatorConfig:vr,isDirtyJSX:Sd,isFieldDescendantOfField:RT,isJSX:Ng,iterateFields:jT,iterateFuncs:vl,normalizeField:Ef},Symbol.toStringTag,{value:"Module"}));function t_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DZ=function(e,r){var n={usedFields:[]},i=LT(e,r,n);if(i)return r_(r_({},i),n)},LT=function(e,r,n){if(e){var i=e.get("type"),a=e.get("children1");if((i==="group"||i==="rule_group")&&a&&a.size)return MZ(e,r,n);if(i==="rule")return VZ(e,r,n)}},MZ=function(e,r,n){var i=e.get("properties")||new wr.Map,a=e.get("children1"),o=e.get("id"),s=a.map(function(f){return LT(f,r,n)}).filter(function(f){return typeof f<"u"});if(s.size){var l=i.get("conjunction");l||(l=da(r));var u=i.get("not"),c={id:o,rules:s.toList(),condition:l.toUpperCase(),not:u};return c}},VZ=function(e,r,n){var i,a=e.get("properties")||new wr.Map,o=e.get("id"),s=a.get("operator"),l=a.get("operatorOptions"),u=a.get("field"),c=a.get("value"),f=a.get("valueSrc"),d=a.get("valueType"),p=c.filter(function(A){return A===void 0}).size>0;if(!(u==null||s==null||p)){var h=Ze(r,u)||{},v=vr(r,s,u)||{},g=h.type||"undefined",y=ln(v.cardinality,1),m=r.types[h.type]||{},S=Fa(u,r,n);if(!(c.size<y)){n.usedFields.indexOf(u)==-1&&n.usedFields.push(u),c=c.toArray(),f=f.toArray(),d=((i=d)===null||i===void 0?void 0:i.toArray())||[];for(var _=[],O=0;O<c.length;O++){var x={type:d[O],value:c[O]};if(_.push(x),f[O]=="field"){var w=c[O];n.usedFields.indexOf(w)==-1&&n.usedFields.push(w)}}var C=l?l.toJS():null;C&&!Object.keys(C).length&&(C=null);var I={id:o,fieldName:S,type:g,input:m.mainWidget,operator:s};return C&&(I.operatorOptions=C),I.values=_,I}}};function n_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $T(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=BZ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function BZ(t,e){if(t){if(typeof t=="string")return a_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qZ=function(e,r){var n={usedFields:[],errors:[]},i=La(r,void 0,!1),a=NT(e,i,n,!0),o=n.errors,s=n.usedFields;i.settings.fieldSeparator;var l={},u=$T(s),c;try{for(u.s();!(c=u.n()).done;)for(var f=c.value,d=Hr(f,r),p=Ze(i,f)||{},h=l,v=0;v<d.length;v++){var g=d[v],y=Ze(i,d.slice(0,v+1))||{};v!=d.length-1?y.type=="!group"&&y.mode!="struct"?(h[g]||(h[g]=[{}]),h=h[g][0]):(h[g]||(h[g]={}),h=h[g]):h[g]||(h[g]=null)}}catch(m){u.e(m)}finally{u.f()}return{errors:o,logic:a,data:l}},NT=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){var o=e.get("type"),s=e.get("properties")||new wr.Map,l=s.get("isLocked"),u=r.settings.jsonLogic.lockedOp,c;return o==="group"||o==="rule_group"?c=HZ(e,r,n,i,a):o==="rule"&&(c=zZ(e,r,n,a)),l&&c&&u&&(c=ke({},u,c)),c}},HZ=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type"),s=e.get("properties")||new wr.Map,l=s.get("mode"),u=e.get("children1")||new wr.List,c=s.get("field"),f=s.get("conjunction");f||(f=da(r));var d=r.conjunctions[f],p=d.jsonLogicConj||f.toLowerCase(),h=s.get("not"),v=o==="rule_group"&&!i,g=v&&l!="struct"?c:a,y=s.get("operator"),m=y&&vr(r,y,c)||null,S=DT(r,s,n,y,a),_=v&&(!y||m.cardinality==0),O=u.map(function(P){return NT(P,r,n,!1,g)}).filter(function(P){return typeof P<"u"});if(v&&l!="struct"&&!_){if(S==null)return}else if(!O.size)return;var x={};if(O.size==1&&!i?x=O.first():x[p]=O.toList().toJS(),h&&(x={"!":x}),v&&l!="struct"){var w=sm(n,r,c,a);if(_){var C=y||"some";x=ke({},C,[w,x])}else{var I=O.size?{filter:[w,x]}:w,A={reduce:[I,{"+":[1,{var:"accumulator"}]},0]};x=VT(r,s,A,S,y)}}return x},zZ=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new wr.Map,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator"),u=a.get("operatorOptions");if(u=u?u.toJS():null,u&&!Object.keys(u).length&&(u=null),!(o==null||l==null)){var c=Ze(r,o)||{},f=vr(r,l,o)||{},d=f.reversedOp,p=vr(r,d,o)||{},h=!1;if(!f.jsonLogic&&!p.jsonLogic){n.errors.push("Operator ".concat(l," is not supported"));return}if(!f.jsonLogic&&p.jsonLogic){h=!0;var v=[d,l];l=v[0],d=v[1];var g=[p,f];f=g[0],p=g[1]}var y=DT(r,a,n,l,i);if(y!==void 0){var m=s==="func"?MT(n,r,o,i):sm(n,r,o,i);if(m!==void 0)return VT(r,a,m,y,l,u,c,h)}}},DT=function(e,r,n,i,a){var o=r.get("field"),s=r.get("valueSrc"),l=r.get("valueType"),u=Ze(e,o)||{},c=vr(e,i,o)||{},f=ln(c.cardinality,1),d=r.get("value"),p=r.get("asyncListValues");if(d!=null){var h=n.usedFields,v=d.map(function(y,m){var S=s?s.get(m):null,_=l?l.get(m):null,O=Qo(y,S,e),x=Ar(e,o,i,S),w=er(kn(e,o,i,x,S),["factory"]),C=zh(n,e,O,S,_,w,u,i,c,a,p);return C}),g=v.filter(function(y){return y===void 0}).size>0;if(v.size<f||g){n.usedFields=h;return}return f>1?v.toArray():f==1?v.first():null}},zh=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=sm(e,r,n,c);else if(i=="func")d=MT(e,r,n,c);else if(typeof o.jsonLogic=="function"){var p=o.jsonLogic,h=[n,i_(i_({},aa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),er(o,Ko)];l&&(h.push(l),h.push(u)),d=p.call.apply(p,[r.ctx].concat(h))}else d=n;return d}},MT=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=n.get("func"),o=n.get("args"),s=gn(r,a),l=Hr(a,r),u=l[l.length-1];if(!s){e.errors.push("Func ".concat(a," is not defined in config"));return}if(!(s!=null&&s.jsonLogic)){e.errors.push("Func ".concat(a," is not supported"));return}var c={},f=[],d=[];for(var p in s.args){var h=s.args[p],v=Ze(r,h),g=h.defaultValue,y=h.isOptional,m=g!=null&&g.func?"func":"value",S=o?o.get(p):void 0,_=S?S.get("value"):void 0,O=S?S.get("valueSrc"):void 0,x=null,w=Ar(r,h,x,O),C=er(kn(r,h,x,w,O),["factory"]),I=zh(e,r,_,O,h.type,C,v,null,null,i);if(_!=null&&I===void 0){O!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(a));return}var A=void 0;if(I===void 0&&!y&&g!=null){var P=Ar(r,h,x,m),E=er(kn(r,h,x,P,m),["factory"]);if(A=zh(e,r,g,m,h.type,E,v,null,null,i),A===void 0){m!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(a));return}}var R=I!=null?I:A;if(R!==void 0){if(f.length){var F=$T(f),N;try{for(F.s();!(N=F.n()).done;){var V=N.value;c[V]=void 0}}catch(K){F.e(K)}finally{F.f()}f=[]}c[p]=R}else y||d.push(p),f.push(p)}if(!d.length){var z=Object.values(c),J;if(typeof s.jsonLogic=="function"){var H=s.jsonLogic,M=[c];J=H.call.apply(H,[r.ctx].concat(M))}else{var L=s.jsonLogic||u,q=!!s.jsonLogicIsMethod;if(q){var W=z[0],Q=z.slice(1);Q.length?J={method:[W,L,Q]}:J={method:[W,L]}}else J=ke({},L,z)}return J}},sm=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r.settings,o=a.fieldSeparator,s=a.jsonLogic,l;if(n){Array.isArray(n)&&(n=n.join(o));var u=Ze(r,n)||{},c=Fa(n,r,e,i),f=u.jsonLogicVar||(u.type=="!group"?s.groupVarKey:"var");l=ke({},f,c),e.usedFields.indexOf(n)==-1&&e.usedFields.push(n)}return l},WZ=function(e,r,n,i){var a=e,o=ln(r.cardinality,1),s=ln(r._jsonLogicIsRevArgs,!1);typeof r.jsonLogic=="string"&&(a=r.jsonLogic);var l=["<","<=",">",">="],u=["==","!="],c=function(d,p,h,v,g){return o==0&&u.includes(a)?ke({},a,[n,null]):o==0?ke({},a,n):o==1&&s?ke({},a,[i,n]):o==1?ke({},a,[n,i]):o==2&&l.includes(a)?ke({},a,[i[0],n,i[1]]):ke({},a,[n].concat($e(i)))};return c},VT=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=r.get("field"),c=vr(e,a,u)||{},f=typeof c.jsonLogic=="function"?c.jsonLogic:WZ(a,c,n,i),d=[n,a,i,er(c,pl),o,s],p=f.call.apply(f,[e.ctx].concat(d));return l&&(p={"!":p}),p};function GZ(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=UZ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function UZ(t,e){if(t){if(typeof t=="string")return o_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(t,e)}}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var u_=function(e){return $t(e)=="object"&&e!==null&&!Array.isArray(e)},YZ=function(e,r){return BT(e,r,!1)},BT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=La(r,void 0,!1),o=Wh([],e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),o)},Wh=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(r){var u=r.get("type");if(u==="group"||u==="rule_group")return KZ(e,r,n,i,a,o,s,l);if(u==="rule")return QZ(e,r,n,i,a,o,s,l)}},KZ=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=r.get("type"),s=r.get("properties")||new wr.Map,l=r.get("children1")||new wr.List,u=n.settings,c=u.canShortMongoQuery,f=u.fieldSeparator,d=f,p=e.filter(function(V){return V.get("type")=="rule_group"}).length>0,h=e.filter(function(V){return V.get("type")=="rule_group"}).map(function(V){return V.get("properties").get("field")}).slice(-1).pop(),v=p&&h,g=o==="rule_group"?s.get("field"):null,y=Fa(g,n,i,v),m=Ze(n,g)||{},S=m.mode,_=g&&S=="array",O=a?!s.get("not"):s.get("not"),x=l.map(function(V){return Wh([].concat($e(e),[r]),V,n,i,O,S!="array",S=="array"?function(z){return"$$el".concat(d).concat(z)}:void 0)}).filter(function(V){return typeof V<"u"});if(!(!_&&!x.size)){var w=s.get("conjunction");w||(w=da(n));var C=n.conjunctions[w],I=C.reversedConj;O&&I&&(w=I,C=n.conjunctions[w]);var A=C.mongoConj,P;if(x.size==1)P=x.first();else if(x.size>1){var E=x.toList().toJS(),R=c&&A=="$and";R&&(P=E.reduce(function(V,z){if(V){for(var J in z){if(J[0]=="$"){V=void 0;break}if(V[J]==null)V[J]=z[J];else{var H=V[J],M=z[J];u_(H)||(H={$eq:H}),u_(M)||(M={$eq:M});var L=Object.keys(H)[0],q=Object.keys(M)[0];if(L==q){V=void 0;break}V[J]=Object.assign({},H,M)}}return V}},{})),P||(P=ke({},A,E))}if(g)if(S=="array"){var F={$size:{$ifNull:["$"+y,[]]}},N=P?{$size:{$ifNull:[{$filter:{input:"$"+y,as:"el",cond:P}},[]]}}:F;P=Wh(e,r.set("type","rule"),n,i,!1,!1,function(V){return N},F),P={$expr:P}}else P=ke({},y,{$elemMatch:P});return P}},QZ=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,u=r.get("properties")||new wr.Map,c=e.filter(function($){return $.get("type")=="rule_group"}).length>0,f=e.filter(function($){return $.get("type")=="rule_group"}).map(function($){return $.get("properties").get("field")}).slice(-1).pop(),d=c&&f,p=u.get("operator"),h=u.get("operatorOptions"),v=u.get("field"),g=u.get("fieldSrc"),y=u.get("value"),m=u.get("valueSrc"),S=u.get("valueType"),_=u.get("asyncListValues");if(!(v==null||p==null||y===void 0)){var O=Ze(n,v)||{},x=vr(n,p,v)||{},w=x.reversedOp,C=vr(n,w,v)||{},I=ln(x.cardinality,1),A=a;if(A&&w){var P=[w,p];p=P[0],w=P[1];var E=[C,x];x=E[0],C=E[1],A=!1}var R,F=!1;if(g=="func"){var N=qT(i,n,v,d),V=Ge(N,2);R=V[0],F=V[1]}else R=Fa(v,n,i,d),s&&(F=!0,R=s(R));if(R!=null){var z=[],J=[],H=y.map(function($,U){var X=m?m.get(U):null,ee=S?S.get(U):null,se=Qo($,X,n),Oe=Ar(n,v,p,X),be=er(kn(n,v,p,Oe,X),["factory"]),Se=Gh(i,n,se,X,ee,be,O,d,p,x,_),_e=Ge(Se,2),pe=_e[0],ue=_e[1];return pe!==void 0&&(F=F||ue,z.push(X),J.push(ee)),pe}),M=F&&o,L=H.filter(function($){return $===void 0}).size>0;if(!(H.size<I||L)){var q=I>1?H.toArray():I==1?H.first():null,W=x.mongoFormatOp;if(!W){i.errors.push("Operator ".concat(p," is not supported"));return}var Q=[R,p,l!==void 0&&q==null?l:q,F,z.length>1?z:z[0],J.length>1?J:J[0],er(x,pl),h,O],K=W.call.apply(W,[n.ctx].concat(Q));return M&&(K={$expr:K}),A&&(K={$not:K}),K}}}},Gh=function(e,r,n,i,a,o,s,l,u,c,f){if(n===void 0)return[void 0,!1];var d,p=!1;if(i=="field"){var h=JZ(e,r,n,l),v=Ge(h,2);d=v[0],p=v[1]}else if(i=="func"){var g=qT(e,r,n,l),y=Ge(g,2);d=y[0],p=y[1]}else if(typeof o.mongoFormatValue=="function"){var m=o.mongoFormatValue,S=[n,l_(l_({},aa(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),er(o,Ko)];u&&(S.push(u),S.push(c)),d=m.call.apply(m,[r.ctx].concat(S))}else d=n;return[d,p]},JZ=function(e,r,n,i){var a=r.settings.fieldSeparator,o,s=!0;if(n){var l=Ze(r,n)||{},u=Hr(n,r),c=ju(n,r),f=c?c.join(a):null,d=r.settings.formatField,p=Fa(n,r,e,i),h=d(p,u,f,l,r,!1);o="$"+h}return[o,s]},qT=function(e,r,n,i){var a=!0,o,s=n.get("func"),l=n.get("args"),u=gn(r,s);if(!u)return e.errors.push("Func ".concat(s," is not defined in config")),[void 0,!1];var c=Hr(s,r),f=c[c.length-1],d=u.mongoFunc||f,p=u.mongoArgsAsObject,h={},v=0,g=void 0,y=[],m=[];for(var S in u.args){v++;var _=u.args[S],O=Ze(r,_),x=_.defaultValue,w=_.isOptional,C=x!=null&&x.func?"func":"value",I=l?l.get(S):void 0,A=I?I.get("value"):void 0,P=I?I.get("valueSrc"):void 0,E=I?I.get("asyncListValues"):void 0,R=null,F=Ar(r,_,R,P),N=er(kn(r,_,R,F,P),["factory"]),V=Gh(e,r,A,P,_.type,N,O,i,null,null,E),z=Ge(V,2),J=z[0];if(z[1],A!=null&&J===void 0)return P!="func"&&e.errors.push("Can't format value of arg ".concat(S," for func ").concat(s)),[void 0,!1];var H=void 0;if(J===void 0&&!w&&x!=null){var M=Ar(r,_,R,C),L=er(kn(r,_,R,M,C),["factory"]),q=Gh(e,r,x,C,_.type,L,O,i,null,null,E),W=Ge(q,2);if(H=W[0],W[1],H===void 0)return C!="func"&&e.errors.push("Can't format default value of arg ".concat(S," for func ").concat(s)),[void 0,!1]}var Q=J!=null?J:H;if(Q!==void 0){if(y.length){var K=GZ(y),$;try{for(K.s();!($=K.n()).done;){var U=$.value;h[U]=void 0}}catch(se){K.e(se)}finally{K.f()}y=[]}h[S]=Q,g=Q}else w||m.push(S),y.push(S)}if(m.length)return[void 0,!1];if(typeof u.mongoFormatFunc=="function"){var X=u.mongoFormatFunc,ee=[h];o=X.call.apply(X,[r.ctx].concat(ee))}else{if(u.mongoFormatFunc===null)return e.errors.push("Functon ".concat(d," is not supported")),[void 0,!1];p?o=ke({},d,h):v==1&&g!==void 0?o=ke({},d,g):o=ke({},d,Object.values(h))}return[o,a]};function XZ(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZZ(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ZZ(t,e){if(t){if(typeof t=="string")return c_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(t,e)}}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eee=function(e,r){return HT(e,r,!1)},HT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=La(r,void 0,!1),o=zT(e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SQL:",i.errors),o)},zT=function(e,r,n){if(e){var i=e.get("type");if(e.get("children1"),i==="group"||i==="rule_group")return tee(e,r,n);if(i==="rule")return nee(e,r,n)}},tee=function(e,r,n){var i=e.get("type"),a=e.get("properties")||new wr.Map,o=e.get("children1")||new wr.List,s=i==="rule_group",l=s?a.get("field"):null,u=Ze(r,l)||{},c=u.mode;c=="array"&&n.errors.push("Aggregation is not supported for ".concat(l));var f=a.get("not"),d=o.map(function(v){return zT(v,r,n)}).filter(function(v){return typeof v<"u"});if(d.size){var p=a.get("conjunction");p||(p=da(r));var h=r.conjunctions[p];return h.sqlFormatConj(d,p,f)}},ree=function(e,r){var n=r.sqlOp||e,i=ln(r.cardinality,1),a;return i==0?a=function(s,l,u,c,f,d,p,h){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,h){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,h){var v=u.first(),g=u.get(1);return"".concat(s," ").concat(n," ").concat(v," AND ").concat(g)}),a},nee=function(e,r,n){var i=e.get("properties")||new wr.Map,a=i.get("field"),o=i.get("fieldSrc"),s=i.get("operator"),l=i.get("operatorOptions"),u=i.get("valueSrc"),c=i.get("valueType"),f=i.get("value"),d=i.get("asyncListValues");if(!(a==null||s==null)){var p=Ze(r,a)||{},h=vr(r,s,a)||{},v=h.reversedOp,g=vr(r,v,a)||{},y=ln(h.cardinality,1),m=!1,S=h.sqlOp||h.sqlFormatOp,_=g.sqlOp||g.sqlFormatOp;if(!S&&!_){n.errors.push("Operator ".concat(s," is not supported"));return}if(!S&&_){m=!0;var O=[v,s];s=O[0],v=O[1];var x=[g,h];h=x[0],g=x[1]}var w=[],C=[],I=f.map(function(V,z){var J=u?u.get(z):null,H=c?c.get(z):null,M=Qo(V,J,r),L=Ar(r,a,s,J),q=er(kn(r,a,s,L,J),["factory"]),W=Uh(n,r,M,J,H,q,p,s,h,d);return W!==void 0&&(w.push(J),C.push(H)),W}),A=I.filter(function(V){return V===void 0}).size>0;if(!(A||I.size<y)){var P=y==1?I.first():I,E=h.sqlFormatOp||ree(s,h);if(!E){n.errors.push("Operator ".concat(s," is not supported"));return}var R=o=="func"?GT(n,r,a):WT(n,r,a);if(R!=null){var F=[R,s,P,w.length>1?w:w[0],C.length>1?C:C[0],er(h,pl),l,p],N;if(N=E.call.apply(E,[r.ctx].concat(F)),m&&(N=r.settings.sqlFormatReverse(N)),N===void 0){n.errors.push("Operator ".concat(s," is not supported for value source ").concat(w.join(", ")));return}return N}}}},Uh=function(e,r,n,i,a,o,s,l,u,c){if(n!==void 0){var f;if(i=="field")f=WT(e,r,n);else if(i=="func")f=GT(e,r,n);else if(typeof o.sqlFormatValue=="function"){var d=o.sqlFormatValue,p=[n,d_(d_({},aa(s,["fieldSettings","listValues"])),{},{asyncListValues:c}),er(o,Ko)];if(l&&(p.push(l),p.push(u)),i=="field"){var h=Ze(r,n)||{};p.push(h)}f=d.call.apply(d,[r.ctx].concat(p))}else Array.isArray(n)?f=n.map(function(v){return ro.escape(v)}):f=ro.escape(n);return f}},WT=function(e,r,n){if(n){var i=r.settings.fieldSeparator,a=Ze(r,n)||{},o=Hr(n,r),s=ju(n,r),l=s?s.join(i):null,u=r.settings.formatField,c=Fa(n,r,e,null,{useTableName:!0}),f=u(c,o,l,a,r);return f}},GT=function(e,r,n){var i=n.get("func"),a=n.get("args"),o=gn(r,i);if(!o){e.errors.push("Func ".concat(i," is not defined in config"));return}var s=Hr(i,r),l=s[s.length-1],u=o.sqlFunc||l,c={},f=[],d=[];for(var p in o.args){var h=o.args[p],v=Ze(r,h),g=h.defaultValue,y=h.isOptional,m=g!=null&&g.func?"func":"value",S=a?a.get(p):void 0,_=S?S.get("value"):void 0,O=S?S.get("valueSrc"):void 0,x=S?S.get("asyncListValues"):void 0,w=Uh(e,r,_,O,h.type,v,h,null,null,x);if(_!=null&&w===void 0){O!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(i));return}var C=void 0;if(w===void 0&&!y&&g!=null&&(C=Uh(e,r,g,m,h.type,v,h,null,null,x),C===void 0)){m!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(i));return}var I=w!=null?w:C;if(I!==void 0){if(f.length){var A=XZ(p),P;try{for(A.s();!(P=A.n()).done;){var E=P.value;c[E]=void 0}}catch(z){A.e(z)}finally{A.f()}f=[]}c[p]=I}else y||d.push(p),f.push(p)}if(!d.length){var R;if(typeof o.sqlFormatFunc=="function"){var F=o.sqlFormatFunc,N=[c];R=F.call.apply(F,[r.ctx].concat(N))}else{var V=Object.entries(c).map(function(z){var J=Ge(z,2);J[0];var H=J[1];return H}).join(", ");R="".concat(u,"(").concat(V,")")}return R}};function iee(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=aee(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function aee(t,e){if(t){if(typeof t=="string")return p_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i={errors:[]},a=La(r,void 0,!1),o=UT(e,a,i,n,null);return i.errors.length&&console.warn("Errors while exporting to string:",i.errors),o},UT=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){var o=e.get("type");if(e.get("children1"),o==="group"||o==="rule_group")return see(e,r,n,i,a);if(o==="rule")return YT(e,r,n,i,a)}},see=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type"),s=e.get("properties")||new wr.Map,l=s.get("mode"),u=e.get("children1")||new wr.List,c=o==="rule_group",f=c&&l=="array"?s.get("field"):null,d=c&&l=="array",p=s.get("not"),h=u.map(function(w){return UT(w,r,n,i,f)}).filter(function(w){return typeof w<"u"});if(!(!d&&!h.size)){var v=s.get("conjunction");v||(v=da(r));var g=r.conjunctions[v],y=h.size?g.formatConj(h,v,p,i):null,m;if(f){var S=YT(e,r,n,i,a,!0);if(S){var _,O=S.pop(),x=[y].concat($e(S));m=(_=r.settings).formatAggr.apply(_,$e(x)),O&&(m=r.settings.formatReverse(m,null,null,null,null,i))}}else m=y;return m}},lee=function(e,r,n,i,a,o){var s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType"),c=Ze(e,s)||{},f=i||r.get("operator"),d=vr(e,f,s)||{},p=ln(d.cardinality,1),h=r.get("value"),v=r.get("asyncListValues"),g=[],y=[],m;if(h!=null){var S=h.map(function(O,x){var w=l?l.get(x):null,C=u?u.get(x):null,I=Qo(O,w,e),A=Ar(e,s,f,w),P=er(kn(e,s,f,A,w),["factory"]),E=Yh(e,n,I,w,C,P,c,f,d,a,o,v);return E!==void 0&&(g.push(w),y.push(C)),E}),_=S.filter(function(O){return O===void 0}).size>0;_||S.size<p||(m=p==1?S.first():S)}return[m,g.length>1?g:g[0],y.length>1?y:y[0]]},uee=function(e,r){var n=r.labelForFormat||e,i=ln(r.cardinality,1),a;return i==0?a=function(s,l,u,c,f,d,p,h){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,h){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,h){var v=u.first(),g=u.get(1);return"".concat(s," ").concat(n," ").concat(v," AND ").concat(g)}),a},YT=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=e.get("properties")||new wr.Map,l=s.get("field"),u=s.get("fieldSrc"),c=s.get("operator"),f=s.get("operatorOptions");if(!(l==null||c==null)){var d=Ze(r,l)||{},p=vr(r,c,l)||{},h=p.reversedOp,v=vr(r,h,l)||{},g=!1,y=p.formatOp;if(!y&&h&&(y=v.formatOp,y)){g=!0;var m=[h,c];c=m[0],h=m[1];var S=[v,p];p=S[0],v=S[1]}if(y||(y=uee(c,p)),!!y){var _=u==="func"?QT(r,n,l,i,a):KT(r,n,l,i,a);if(_!=null){var O=lee(r,s,n,c,i,a),x=Ge(O,3),w=x[0],C=x[1],I=x[2];if(w!==void 0){var A=[_,c,w,C,I,er(p,pl),f,i,d,g];if(o)return A;var P,E=(P=y).call.apply(P,[r.ctx].concat(A));return g&&(E=r.settings.formatReverse(E,c,h,p,v,i)),E}}}}},Yh=function(e,r,n,i,a,o,s,l,u,c){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:null,d=arguments.length>11?arguments[11]:void 0;if(n!==void 0){var p;if(i=="field")p=KT(e,r,n,c,f);else if(i=="func")p=QT(e,r,n,c,f);else if(typeof o.formatValue=="function"){var h=o.formatValue,v=[n,v_(v_({},aa(s,["fieldSettings","listValues"])),{},{asyncListValues:d}),er(o,Ko),c];if(l&&(v.push(l),v.push(u)),i=="field"){var g=Ze(e,n)||{};v.push(g)}p=h.call.apply(h,[e.ctx].concat(v))}else p=n;return p}},KT=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=e.settings;s.fieldSeparator;var l=s.fieldSeparatorDisplay,u=null;if(n){var c=Ze(e,n)||{},f=Hr(n,e),d=ju(n,e,o?a:null),p=d?d.join(l):null,h=c.label2||p,v=e.settings.formatField,g=Fa(n,e,r,o?a:null,{useTableName:!0});u=v(g,f,h,c,e,i)}return u},QT=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=n.get("func"),s=n.get("args"),l=gn(e,o);if(!l){r.errors.push("Func ".concat(o," is not defined in config"));return}var u=Hr(o,e),c=u[u.length-1],f=i&&l.label||c,d={},p=[],h=[],v={};for(var g in l.args){var y=l.args[g],m=Ze(e,y),S=y.defaultValue,_=y.isOptional,O=S!=null&&S.func?"func":"value",x=i&&y.label||g,w=s?s.get(g):void 0,C=w?w.get("value"):void 0,I=w?w.get("valueSrc"):void 0,A=w?w.get("asyncListValues"):void 0,P=Yh(e,r,C,I,y.type,m,y,null,null,i,a,A);if(C!=null&&P===void 0){I!="func"&&r.errors.push("Can't format value of arg ".concat(g," for func ").concat(o));return}var E=void 0;if(P===void 0&&!_&&S!=null&&(E=Yh(e,r,S,O,y.type,m,y,null,null,i,a,A),E===void 0)){O!="func"&&r.errors.push("Can't format default value of arg ".concat(g," for func ").concat(o));return}var R=P!=null?P:E;if(R!==void 0){if(p.length){var F=iee(g),N;try{for(F.s();!(N=F.n()).done;){var V=Ge(N.value,2),z=V[0],J=V[1];d[z]=void 0}}catch(W){F.e(W)}finally{F.f()}p=[]}d[g]=R,v[x]=R}else _||h.push(g),p.push([g,x])}if(!h.length){var H=null;if(typeof l.formatFunc=="function"){var M=l.formatFunc,L=[d,i];H=M.call.apply(M,[e.ctx].concat(L))}else{var q=Object.entries(i?v:d).map(function(W){var Q=Ge(W,2),K=Q[0],$=Q[1];return i?"".concat(K,": ").concat($):"".concat($)}).join(", ");H="".concat(f,"(").concat(q,")")}return H}};function g_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cee(t){if(t==null)return null;var e=t.split(",").map(Number);return{top_left:{lat:e[0],lon:e[1]},bottom_right:{lat:e[2],lon:e[3]}}}function fee(t,e){if(t.length>1)return{gte:"".concat(t[0]),lte:"".concat(t[1])};var r=t[0];switch(e){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}function dee(t){return{value:"*"+t+"*"}}function pee(t,e){switch(t){case"AND":return e?"must_not":"must";case"OR":return e?"should_not":"should";case"NOT":return e?"must":"must_not";default:return}}function hee(t){return{value:t}}function vee(t,e){return t}function gee(t,e,r,n,i,a){var o=vee(n);switch(t){case"filter":return{script:i.operators[r].elasticSearchScript(n,e)};case"exists":return{field:n};case"match":return ke({},o,e[0]);case"term":return a===JT?ke({},n,{value:e[0]}):ke({},n,e[0]);case"geo_bounding_box":return ke({},n,cee(e[0]));case"range":return ke({},n,fee(e,r));case"wildcard":return ke({},n,dee(e[0]));case"regexp":return ke({},n,hee(e[0]));default:return}}function y_(t,e,r,n,i,a){if(!(!t||!r||e==null)){var o=r,s=n.operators[o];if(s){var l=s,u=l.elasticSearchQueryType,c=!1;if(!u&&s.reversedOp){c=!0,o=s.reversedOp,s=n.operators[o];var f=s;u=f.elasticSearchQueryType}var d=Ar(n,t,o,i),p=n.widgets[d];if(p){var h=p.elasticSearchFormatValue,v;if(typeof u=="function"?v=u(d):v=u,!!v){var g;return typeof h=="function"?g=h(v,e,o,t,n):g=gee(v,e,o,t,n,a),c?{bool:{must_not:ke({},v,m_({},g))}}:ke({},v,m_({},g))}}}}}function mee(t,e,r,n,i,a){if(!(!t||!t.size)){var o=t.valueSeq().toArray(),s=pee(e,r),l=o.map(function(c){return n(c,i,a)}).filter(function(c){return c!==void 0});if(l.length){var u=l.flat(1/0);return{bool:ke({},s,u)}}}}var JT="ES_7_SYNTAX",XT="ES_6_SYNTAX";function ZT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XT;if(t){var n=t.get("type"),i=t.get("properties")||new Map;if(n==="rule"&&i.get("field")){var a,o,s=i.get("operator"),l=i.get("field"),u=i.get("fieldSrc"),c=i.get("value").toJS();(a=i.get("valueType"))===null||a===void 0||a.get(0);var f=(o=i.get("valueSrc"))===null||o===void 0?void 0:o.get(0);return f==="func"||u=="func"?void 0:c&&Array.isArray(c[0])?c[0].map(function(v){return y_(l,[v],s,e,f,r)}):y_(l,c,s,e,f,r)}if(n==="group"||n==="rule_group"){var d=i.get("not"),p=i.get("conjunction");p||(p=da(e));var h=t.get("children1");return mee(h,p,d,ZT,e,r)}}}const yee=Object.freeze(Object.defineProperty({__proto__:null,ES_6_SYNTAX:XT,ES_7_SYNTAX:JT,_mongodbFormat:BT,_spelFormat:UC,_sqlFormat:HT,compareToSign:Wg,elasticSearchFormat:ZT,jsonLogicFormat:qZ,mongodbFormat:YZ,queryBuilderFormat:DZ,queryString:oee,spelFormat:OX,sqlFormat:eee},Symbol.toStringTag,{value:"Module"}));function b_(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){r(u);return}s.done?e(l):Promise.resolve(l).then(n,i)}function _o(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){b_(a,n,i,o,s,"next",l)}function s(l){b_(a,n,i,o,s,"throw",l)}o(void 0)})}}var bee=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function _ee(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=See(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function See(t,e){if(t){if(typeof t=="string")return __(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(t,e)}}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Oee=function(e,r){if(e.findLastIndex)return e.findLastIndex(r);var n=$e(e).reverse().findIndex(r);return n==-1?-1:e.length-1-n},xee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var i=_o(Kr.mark(function a(o,s,l){var u,c,f,d,p,h;return Kr.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(u=(l==null?void 0:l.pageSize)!=null?l.pageSize:r,c=PC(e).filter(function(y){var m=y.title,S=y.value;return o==null?!0:m.toUpperCase().indexOf(o.toUpperCase())!=-1||"".concat(S).toUpperCase().indexOf(o.toUpperCase())!=-1}),u&&Math.ceil(c.length/u),f=s||0,d=u?c.slice(f,f+u):c,p=u?f+d.length:null,h=u?p<c.length:!1,!n){g.next=11;break}return g.next=11,cC(n);case 11:return g.abrupt("return",{values:d,hasMore:h});case 12:case"end":return g.stop()}},a)}));return function(a,o,s){return i.apply(this,arguments)}}()},wee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!r)return e;var a=e||[],o=r.filter(function(l){return a.find(function(u){return""+u.value==""+l.value})==null}).map(function(l){return i?Za(Za({},l),{},{isHidden:!0}):l}),s=n?[].concat($e(o),$e(a)):[].concat($e(a),$e(o));return s},Eee=function(e,r,n){var i,a=e==null||e==""?void 0:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:e,o=Od(a,r),s=n&&!o?Vg(a):void 0,l=o||s,u=l?[l]:void 0;return[a,u]},Cee=function(e,r,n){var i=e.map(function(o,s){var l,u=o==null||o==""?void 0:(l=o==null?void 0:o.value)!==null&&l!==void 0?l:o,c=Od(u,r),f=n&&!c?Vg(u):void 0,d=c||f;return d}).filter(function(o){return o!=null}),a=i.map(function(o){var s;return(s=o==null?void 0:o.value)!==null&&s!==void 0?s:o});return a.length||(a=void 0),[a,i]},Tee=function(e){if(e==null)return null;var r=e.title,n=e.value,i=e.disabled,a=e.groupTitle,o=e.grouplabel,s=e.renderTitle,l=e.children,u=e.label,c=e.isCustom,f=e.isHidden,d=mi(e,bee),p={value:n,title:r||u||l};return i&&(p.disabled=i),c&&(p.isCustom=c),f&&(p.isHidden=f),(a||o)&&(p.groupTitle=a||o),s&&(p.renderTitle=s),p=Za(Za({},p),d),p},Pee=function(e){var r=[],n=[],i=_ee(e),a;try{var o=function(){var l=a.value,u=Oee(r,function(c){var f,d;return((f=c.groupTitle)!==null&&f!==void 0?f:"")==((d=l.groupTitle)!==null&&d!==void 0?d:"")});l.groupTitle!=null&&!n.includes(l.groupTitle)&&(n.push(l.groupTitle),n.length===1&&(r=r.map(function(c){return Za(Za({},c),{},{groupTitle:""})}))),l.groupTitle==null&&n.length&&(l=Za(Za({},l),{},{groupTitle:""})),u!=-1?r.splice(u+1,0,l):r.push(l)};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r};const Aee=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:Pee,getListValue:Od,listValueToOption:Tee,mergeListValues:wee,optionToListValue:Eee,optionsToListValues:Cee,simulateAsyncFetch:xee},Symbol.toStringTag,{value:"Module"})),kee=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:Aee,ConfigUtils:NZ,DefaultUtils:YX,ExportUtils:bX,FuncUtils:sZ,ListUtils:YJ,OtherUtils:oQ,RuleUtils:hZ,TreeUtils:JJ,clone:fi,compressConfig:ET,decompressConfig:CT,getSwitchValues:RC,moment:Ne,uuid:or,validateAndFixTree:JX,validateTree:Jg},Symbol.toStringTag,{value:"Module"}));var Iee={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},jee={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim,o=a.charAt(0).toUpperCase()+a.slice(1)+"s",s=n+o;return"".concat(r,".").concat(s,"(").concat(i,")")},spelImport:function(e){var r,n,i,a,o,s=(r=e.methodName)===null||r===void 0?void 0:r.match(/^(minus|plus)(\w+)s$/);if(s&&(o=s[2].toLowerCase(),i=s[1],["minus","plus"].includes(i)&&["day","week","month","year"].includes(o)))return i={type:"string",val:i},o={type:"string",val:o},a=e.args[0],n=e.obj,{date:n,op:i,val:a,dim:o}},jsonLogic:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return{date_add:[r,i*(n=="minus"?-1:1),a]}},jsonLogicImport:function(e){var r=e.date_add[0],n=Math.abs(e.date_add[1]),i=e.date_add[1]>=0?"plus":"minus",a=e.date_add[2];return[r,i,n,a]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return"DATE_ADD(".concat(r,", INTERVAL ").concat(parseInt(i)*(n=="minus"?-1:1)," ").concat(a.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return i?"".concat(r," ").concat(n=="minus"?"-":"+"," ").concat(i," ").concat(a):r},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},Ree={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Fee={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Lee={label:"Linear regression",returnType:"number",formatFunc:function(e,r){var n=e.coef,i=e.bias,a=e.val;return"(".concat(n," * ").concat(a," + ").concat(i,")")},sqlFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelImport:function(e){var r,n,i,a;if(e.type==="op-plus"){var o=Ge(e.children,2);if(a=o[0],i=o[1],a.type==="op-multiply"){var s=Ge(a.children,2);return r=s[0],n=s[1],{coef:r,val:n,bias:i}}}},mongoFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return{$sum:[{$multiply:[r,i]},n]}},jsonLogic:function(e){var r=e.coef,n=e.bias,i=e.val;return{"+":[{"*":[r,i]},n]}},jsonLogicImport:function(e){var r=e["+"][0]["*"][0],n=e["+"][0]["*"][1],i=e["+"][1];return[r,n,i]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},$ee=function(e,r,n,i,a,o,s,l,u,c,f,d){var p=typeof i=="string"&&!i.startsWith("$")?"$"+i:i,h=r(o,d);if(h!==void 0)return n?!s&&(!e||e=="$eq")?ke({},i,{$ne:h}):s?{$not:ke({},e,[p,h])}:ke({},i,{$not:ke({},e,h)}):!s&&(!e||e=="$eq")?ke({},i,h):s?ke({},e,[p,h]):ke({},i,ke({},e,h))},Nee=function(e,r,n,i,a,o,s,l,u,c,f){var d=typeof n=="string"&&!n.startsWith("$")?"$"+n:n;if(r){var p;return o?{$not:{$and:[ke({},e[0],[d,a[0]]),ke({},e[1],[d,a[1]])]}}:ke({},n,{$not:(p={},ke(p,e[0],a[0]),ke(p,e[1],a[1]),p)})}else{var h;return o?{$and:[ke({},e[0],[d,a[0]]),ke({},e[1],[d,a[1]])]}:ke({},n,(h={},ke(h,e[0],a[0]),ke(h,e[1],a[1]),h))}},Dee={utils:{SqlString:ro,moment:Ne,mongoFormatOp1:$ee,mongoFormatOp2:Nee,mongoEmptyValue:zC,escapeRegExp:uC,sqlEmptyValue:HC,stringifyForDisplay:GC,getTitleInListValues:AC,spelEscape:Ks,spelFixList:WC}};function Mee(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Vee(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Vee(t,e){if(t){if(typeof t=="string")return O_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(t,e)}}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bee={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"AND":"&&")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" AND ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" && ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" || ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}}},qee={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,r,n,i,a,o,s,l,u){var c=l?"=":o.label;return a=="boolean"&&l?n=="No"?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,r,n,i,a,o,s,l,u){return a=="boolean"&&l?n=="No"?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(o.label," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(a){return a},!1].concat(n))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(a){return a},!1].concat(n))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return a},!1].concat(n))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(a){return a},!1].concat(n))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:"in",_jsonLogicIsRevArgs:!0,valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!0].concat(i))},valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?"^"+r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o)+"$":void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," BETWEEN ").concat(u," AND ").concat(c):"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]?null:"Invalid range":null},elasticSearchQueryType:function(e){return e==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," NOT BETWEEN ").concat(u," AND ").concat(c):"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]?null:"Invalid range":null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") = ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") <> ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return null},!1].concat(n))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return null},!1].concat(n))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return"".concat(e," ").concat(u," ").concat(n)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != ").concat(n)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," IN (").concat(n.join(", "),")")},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(a){return a},!1].concat(n))},reversedOp:"select_any_in"},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," CONTAINS [").concat(n.join(", "),"]"):"".concat(e," CONTAINS ").concat(n)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,r,n){return{some:[e,{in:[{var:""},n]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT CONTAINS [").concat(n.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(n)},reversedOp:"multiselect_contains"},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return i=="value"?"".concat(e," ").concat(u," [").concat(n.join(", "),"]"):"".concat(e," ").concat(u," ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," = '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,r,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," != '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"multiselect_equals"},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=s.get("proximity");return"".concat(e," ").concat(u," NEAR/").concat(f," ").concat(c)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=this.utils.SqlString.trim(u),d=this.utils.SqlString.trim(c),p=s.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(f,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return 0},!1].concat(n))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,r,n){return"".concat(e," == ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return 0},!1].concat(n))}}},Hee={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n){var i=n.step&&!Number.isInteger(n.step);return this.utils.spelEscape(e,i)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,r,n,i){var a=this.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,e);return i?this.utils.stringifyForDisplay(a):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,r,n,i){var a=this,o=e.map(function(s){return a.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,s)});return i?o.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,r,n,i,a){var o=this;return e.map(function(s){return o.utils.SqlString.escape(s)})},spelFormatValue:function(e,r,n,i,a){var o=a.spelOp&&a.spelOp.startsWith("${1}"),s=this.utils.spelEscape(e);return o&&(s=this.utils.spelFixList(s)),s},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("YYYY-MM-DD"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD"),l="yyyy-MM-dd";return"T(java.time.LocalDate).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a,o,s;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&(s=o.toLowerCase)!==null&&s!==void 0&&s.call(o).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(n.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("HH:mm:ss"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(s,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,r,n){var i,a,o;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&n.fmt&&(!((i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.toLowerCase)!==null&&a!==void 0&&a.call(i).includes("hh:mm"))||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&o.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(n.fmt))];var s=this.utils.moment(e.value,"HH:mm:ss");return s.isValid()?[s.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.get("hour")*60*60+n.get("minute")*60+n.get("second"):void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},elasticSearchFormatValue:function(e,r,n,i){return{script:{script:{source:"doc[".concat(i,"][0].getHour() >== params.min && doc[").concat(i,"][0].getHour() <== params.max"),params:{min:r[0],max:r[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.toDate())},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD HH:mm:ss"),l="yyyy-MM-dd HH:mm:ss";return"T(java.time.LocalDateTime).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a;if(!r)return[void 0,"No widget def to get value format"];if(!(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")))return[void 0,"Invalid datetime format ".concat(JSON.stringify(n.fmt))];var o=this.utils.moment(e.value,this.utils.moment.ISO_8601);return o.isValid()?[o.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,r,n,i){return i?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},field:{valueSrc:"field",formatValue:function(e,r,n,i,a,o,s){return i&&s.label||e},sqlFormatValue:function(e,r,n,i,a,o){return e},spelFormatValue:function(e,r,n,i,a){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(e===""?null:e)},spelImportValue:function(e){return[e.value,[]]}}},zee={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{}}}},Wee=Qt(Qt({},TC),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,r,n,i,a,o){var s=this,l=i.map(function(u,c){var f=u.key,d=u.parent,p=u.fieldSeparator;return c==0?d=="[map]"?"#this[".concat(s.utils.spelEscape(f),"]"):(d=="[class]",f):d=="map"||d=="[map]"?"[".concat(s.utils.spelEscape(f),"]"):(d=="class"||d=="[class]","".concat(p).concat(f))}).join("");return a.fieldName&&(l=e),a.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(e!=null)return"NOT("+e+")"},spelFormatReverse:function(e){if(e!=null)return"!("+e+")"},formatReverse:function(e,r,n,i,a,o){if(e!=null)return o?"NOT ("+e+")":"!("+e+")"},formatAggr:function(e,r,n,i,a,o,s,l,u,c){var f=s.labelForFormat,d=s.cardinality;if(d==0){var p=e?" HAVE ".concat(e):"";return"".concat(f," OF ").concat(r).concat(p)}else if(d==null||d==1){var h=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(r).concat(h," ").concat(f," ").concat(i)}else if(d==2){var v=e?" WHERE ".concat(e):"",g=i.first(),y=i.get(1);return"COUNT OF ".concat(r).concat(v," ").concat(f," ").concat(g," AND ").concat(y)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,r,n,i){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),eP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={rangeslider:Yee,treeselect:Kee,treemultiselect:Qee,rangeable__date:Uee("date","date")},a=Mee(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i[s];if(l)e=l(e,n);else throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(s))}}catch(u){a.e(u)}finally{a.f()}return e},tP=function(e,r){return eP(e,r,!0)},Gee=function(e,r){return eP(e,r,!1)},Uee=function(e,r){return function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=n.types;return a=Qt(Qt({},a),{},ke({},e,Qt(Qt({},a[e]),{},{widgets:Qt({},a[e].widgets)}))),i?a[e].widgets[r]=Qt({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},a[e].widgets[r]):delete a[e].widgets[r],Qt(Qt({},n),{},{types:a})}},Yee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Qt({},n),r?n.rangeslider=Qt({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(o,s,l,u){return u?this.utils.stringifyForDisplay(o):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},singleWidget:"slider",toJS:function(o,s){return o}},n.rangeslider):delete n.rangeslider,i=Qt(Qt({},i),{},{number:Qt(Qt({},i.number),{},{widgets:Qt({},i.number.widgets)})}),r?i.number.widgets.rangeslider=Qt({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},i.number.widgets.rangeslider):delete i.number.widgets.rangeslider,Qt(Qt({},e),{},{widgets:n,types:i})},Kee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Qt({},n),r?n.treeselect=Qt({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(o,s,l,u){var c=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,f=this.utils.getTitleInListValues(c,o);return u?this.utils.stringifyForDisplay(f):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treeselect):delete n.treeselect,i=Qt({},i),r?i.treeselect=Qt({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},i.treeselect):delete i.treeselect,Qt(Qt({},e),{},{widgets:n,types:i})},Qee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=Qt({},n),r?n.treemultiselect=Qt({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(o,s,l,u){var c=this,f=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,d=o.map(function(p){return c.utils.getTitleInListValues(f,p)});return u?d.map(this.utils.stringifyForDisplay):o.map(JSON.stringify)},sqlFormatValue:function(o,s,l,u,c){var f=this;return o.map(function(d){return f.utils.SqlString.escape(d)})},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treemultiselect):delete n.treemultiselect,i=Qt({},i),r?i.treemultiselect=Qt({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},i.treemultiselect):delete i.treemultiselect,Qt(Qt({},e),{},{widgets:n,types:i})},Jee={addMixins:tP,removeMixins:Gee},Kh={conjunctions:Bee,operators:qee,widgets:Hee,types:zee,settings:Wee,ctx:Dee};Kh=tP(Kh,["rangeslider","treeselect","treemultiselect"]);const Mr=Kh;var rP="ADD_GROUP",lm="ADD_CASE_GROUP",nP="REMOVE_GROUP",iP="SET_CONJUNCTION",aP="SET_NOT",oP="ADD_RULE",sP="REMOVE_RULE",lP="SET_FIELD",uP="SET_FIELD_SRC",cP="SET_OPERATOR",fP="SET_VALUE",dP="SET_VALUE_SRC",pP="SET_OPERATOR_OPTION",hP="SET_LOCK",um="SET_TREE",vP="MOVE_ITEM",w_="after",E_="before",Lp="append",$p="prepend",gP="SET_DRAG_PROGRESS",mP="SET_DRAG_START",yP="SET_DRAG_END",Xee=bC,Zee=il;function ete(t,e){return t&&Xee(t,e,Zee)}var cm=ete,tte=Bf,rte=Av,nte=1,ite=2;function ate(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new tte;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?rte(c,u,nte|ite,n,f):d))return!1}}return!0}var ote=ate,ste=yi;function lte(t){return t===t&&!ste(t)}var bP=lte,ute=bP,cte=il;function fte(t){for(var e=cte(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ute(i)]}return e}var dte=fte;function pte(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var _P=pte,hte=ote,vte=dte,gte=_P;function mte(t){var e=vte(t);return e.length==1&&e[0][2]?gte(e[0][0],e[0][1]):function(r){return r===t||hte(r,t,e)}}var yte=mte,bte=bd;function _te(t,e,r){var n=t==null?void 0:bte(t,e);return n===void 0?r:n}var Ste=_te,Ote=Av,xte=Ste,wte=CC,Ete=jg,Cte=bP,Tte=_P,Pte=dl,Ate=1,kte=2;function Ite(t,e){return Ete(t)&&Cte(e)?Tte(Pte(t),e):function(r){var n=xte(r,t);return n===void 0&&n===e?wte(r,t):Ote(e,n,Ate|kte)}}var jte=Ite;function Rte(t){return function(e){return e==null?void 0:e[t]}}var Fte=Rte,Lte=bd;function $te(t){return function(e){return Lte(e,t)}}var Nte=$te,Dte=Fte,Mte=Nte,Vte=jg,Bte=dl;function qte(t){return Vte(t)?Dte(Bte(t)):Mte(t)}var Hte=qte,zte=yte,Wte=jte,Gte=_d,Ute=ai,Yte=Hte;function Kte(t){return typeof t=="function"?t:t==null?Gte:typeof t=="object"?Ute(t)?Wte(t[0],t[1]):zte(t):Yte(t)}var fm=Kte,Qte=gd,Jte=cm,Xte=fm;function Zte(t,e){var r={};return e=Xte(e),Jte(t,function(n,i,a){Qte(r,i,e(n,i,a))}),r}var ere=Zte;const Ad=rn(ere);function SP(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tre(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function tre(t,e){if(t){if(typeof t=="string")return C_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C_(t,e)}}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var P_=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=o.settings.shouldCreateEmptyGroup,c=r.push(i),f=!u,d=!!(l!=null&&l.isDefaultCase),p=e;return e=Fo(e,r,n,i,po(o).merge(a||{}),o,s),e!==p&&(!s&&!d&&(e=e.setIn(Be(c,"children1"),new at.OrderedMap),f&&(e=Fo(e,c,"rule",or(),fa(o),o))),e=Ra(e)),e},rre=function(e,r,n){e=dm(e,r);var i=n.settings.canLeaveEmptyGroup,a=r.slice(0,-1),o=!Hg(e,a);if(o&&!i&&(e=xd(e),qg(e)&&!i)){var s=!1,l=!1;e=Fo(e,new at.List,"rule",or(),fa(n,void 0,void 0,s,l),n)}return e=Ra(e),e},nre=function(e,r,n){e=dm(e,r);var i=n.settings.canLeaveEmptyGroup,a=r.pop(),o=e.getIn(Be(a)),s=o.getIn(["properties","field"]),l=o.getIn(["properties","operator"]);o.getIn(["properties","value",0]);var u=s?Ze(n,s):null,c=l?vr(n,l,s):null,f=s&&l&&c.cardinality!=0,d=o.get("type")=="rule_group",p=!Hg(e,a),h=d?f&&u.initialEmptyWhere:i;if(p&&!h&&(d&&(e=e.deleteIn(Be(a))),e=xd(e),qg(e)&&!i)){var v=!1,g=!1;e=Fo(e,new at.List,"rule",or(),fa(n,void 0,void 0,v,g),n)}return e=Ra(e),e},ire=function(e,r,n){return e.setIn(Be(r,"properties","not"),n)},are=function(e,r,n){return kC(e.setIn(Be(r,"properties","isLocked"),n))},ore=function(e,r,n){return e.setIn(Be(r,"properties","conjunction"),n)},sre=function t(e,r,n){n&&Array.isArray(n)&&(r.children1=new at.OrderedMap(n.reduce(function(i,a){var o=or(),s=Yi(Yi({},a),{},{properties:lT(e,a).merge(a.properties||{}),id:o});return t(e,s,s.children1),Yi(Yi({},i),{},ke({},o,new at.Map(s)))},{})))},Fo=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n=="switch_group")throw new Error("Can't add switch_group programmatically");var l=o.settings,u=l.maxNumberOfCases,c=l.maxNumberOfRules,f=l.maxNesting,d=e.get("type"),p=d=="switch_group",h=e.getIn(Be(r)),v=p?e.getIn(Be(r.take(2))):null,g=Be(r,"children1"),y=e.getIn(g),m=!!y&&y.size,S=m?y.size:null,_,O;n=="case_group"?(_=S,O=u):n=="group"?(_=r.size,O=f):(h==null?void 0:h.get("type"))=="rule_group"||(_=Lh(p?v:e),O=c);var x=O&&_?_<O:!0,w={type:n,id:i,properties:a};sre(o,w,s);var C=n=="case_group"&&m&&y.last().get("children1")==null;if(x){var I=new at.OrderedMap(ke({},i,new at.Map(w)));if(!m)e=e.setIn(g,I);else if(C){var A,P=y.last(),E=new at.OrderedMap((A={},ke(A,i,new at.Map(w)),ke(A,P.get("id"),P),A));e=e.deleteIn(Be(g,"children1",P.get("id"))),e=e.mergeIn(g,E)}else e=e.mergeIn(g,I);e=Ra(e)}return e},dm=function(e,r){return e=e.deleteIn(Be(r)),e=Ra(e),e},lre=function(e,r,n,i,a){var o=Vl(e,r),s=r.pop(),l=r.size>1?Vl(e,s):null,u=l?l.get("children1"):null,c=Vl(e,n),f=i==Lp||i==$p?n:n.pop(),d=i==Lp||i==$p?c:n.size>1?Vl(e,f):null,p=d?d.get("children1"):null;if(!l||!d||!o)return e;var h=l.get("id")==d.get("id"),v=f.size<s.size&&xf(f.toArray(),s.toArray().slice(0,f.size)),g=f.size>s.size&&xf(s.toArray(),f.toArray().slice(0,s.size)),y=null,m=null;v?y=at.List(s.toArray().slice(f.size)):g&&(m=at.List(f.toArray().slice(s.size)));var S=p,_=u;return g||(_=_.delete(o.get("id"))),h?S=_:v&&(S=S.updateIn(Fh(y,"children1"),function(O){return _})),i==E_||i==w_?S=at.OrderedMap().withMutations(function(O){var x=SP(S.entries()),w;try{for(x.s();!(w=x.n()).done;){var C=Ge(w.value,2),I=C[0],A=C[1];I==c.get("id")&&i==E_&&O.set(o.get("id"),o),O.set(I,A),I==c.get("id")&&i==w_&&O.set(o.get("id"),o)}}catch(P){x.e(P)}finally{x.f()}}):i==Lp?S=S.merge(ke({},o.get("id"),o)):i==$p&&(S=at.OrderedMap(ke({},o.get("id"),o)).merge(S)),g&&(_=_.updateIn(Fh(m,"children1"),function(O){return S}),_=_.delete(o.get("id"))),!h&&!v&&(e=e.updateIn(Be(s,"children1"),function(O){return _})),g||(e=e.updateIn(Be(f,"children1"),function(O){return S})),e=Ra(e),e},ure=function(e,r,n,i){var a=i.settings.keepInputOnChangeFieldSrc,o=e.getIn(Be(r));o.get("type");var s=o.get("properties"),l=s.get("field"),u=s.get("fieldType"),c=Ze(i,l),f=(c==null?void 0:c.type)||u;(!f||f==="!group"||f==="!struct")&&(f=null);var d=!Td.includes(f),p=a&&!tm(o,i,!0)&&d;return p?(e=e.setIn(Be(r,"properties","field"),null),e=e.setIn(Be(r,"properties","fieldType"),f)):e=e.setIn(Be(r,"properties"),fa(i,null,null,!1)),e=e.setIn(Be(r,"properties","fieldSrc"),n),e},cre=function(e,r,n,i,a,o){var s,l;if(!n)return{tree:dm(e,r),isInternalValueChange:l};var u=i.settings,c=u.fieldSeparator,f=u.setOpOnChangeField,d=u.showErrorMessage;u.keepInputOnChangeFieldSrc,Array.isArray(n)&&(n=n.join(c));var p=e.getIn(Be(r,"type")),h=e.getIn(Be(r,"properties")),v=p=="rule_group",g=h.get("fieldSrc"),y=Ze(i,n);if(!y)return console.warn("No config for LHS ".concat(n)),{tree:e,isInternalValueChange:l};var m=y.type;(m==="!group"||m==="!struct")&&(m=null);var S=h.get("operator"),_=h.get("operatorOptions");h.get("field"),h.get("value"),h.get("valueSrc",new at.List),h.get("valueType",new at.List);var O=y.type=="!group",x=O&&y.mode=="array",w=v!=O,C=y&&((s=y.operators)===null||s===void 0?void 0:s.indexOf(S))!==-1?S:null,I=null,A=g==="func"?vT(i,m):Pd(i,n);if(A&&A.length==1)I=A[0];else if(A&&A.length>1){var P=SP(f||[]),E;try{for(P.s();!(E=P.n()).done;){var R=E.value;if(R=="keep"&&!w?I=C:R=="default"?I=Qg(i,n,!1):R=="first"&&(I=Zg(i,n)),I)break}}catch(M){P.e(M)}finally{P.f()}}if(!O&&!y.operators)return console.warn("Type ".concat(y.type," is not supported")),{tree:e,isInternalValueChange:l};if(v&&!O&&(e=e.setIn(Be(r,"type"),"rule"),e=e.deleteIn(Be(r,"children1")),e=e.setIn(Be(r,"properties"),new at.OrderedMap)),O){e=e.setIn(Be(r,"type"),"rule_group");var F=jo(i,i,h,n,I,"field",!0);F.canReuseValue;var N=F.newValue,V=F.newValueSrc,z=F.newValueType,J=F.operatorCardinality,H=po(i,y).merge({field:n,fieldSrc:"field",mode:y.mode});x&&(H=H.merge({operator:I,value:N,valueSrc:V,valueType:z})),e=e.setIn(Be(r,"children1"),new at.OrderedMap),e=e.setIn(Be(r,"properties"),H),y.initialEmptyWhere&&J==1||(e=Fo(e,r,"rule",or(),fa(i,n),i)),e=Ra(e)}else e=e.updateIn(Be(r,"properties"),function(M){return M.withMutations(function(L){var q=jo(i,i,L,n,I,"field",!0),W=q.canReuseValue,Q=q.newValue,K=q.newValueSrc,$=q.newValueType,U=q.newValueError;d&&(L=L.set("valueError",U));var X=W?_:Iu(i,I,n);return l=o,L.set("field",n).delete("fieldType").set("fieldSrc",g).set("operator",I).set("operatorOptions",X).set("value",Q).set("valueSrc",K).set("valueType",$).delete("asyncListValues")})});return{tree:e,isInternalValueChange:l}},fre=function(e,r,n,i){var a=i.settings.showErrorMessage,o=e.getIn(Be(r,"properties")),s=e.getIn(Be(r,"children1")),l=o.get("field");o.get("fieldSrc");var u=Ze(i,l),c=(u==null?void 0:u.type)=="!group",f=vr(i,n,l),d=f?ln(f.cardinality,1):null;return e=e.updateIn(Be(r,"properties"),function(p){return p.withMutations(function(h){var v=h.get("field"),g=h.get("operatorOptions");h.get("value",new at.List),h.get("valueSrc",new at.List),h.get("operator");var y=jo(i,i,h,v,n,"operator",!0),m=y.canReuseValue,S=y.newValue,_=y.newValueSrc,O=y.newValueType,x=y.newValueError;a&&(h=h.set("valueError",x));var w=m?g:Iu(i,n,v);return m||(h=h.delete("asyncListValues")),h.set("operator",n).set("operatorOptions",w).set("value",S).set("valueSrc",_).set("valueType",O)})}),c&&d==0&&s.size==0&&(e=Fo(e,r,"rule",or(),fa(i,l),i)),e},dre=function(e,r,n,i,a,o,s,l){var u=o.settings,c=u.fieldSeparator,f=u.showErrorMessage,d,p=e.getIn(Be(r,"properties","valueSrc",n+""))||null;p==="field"&&Array.isArray(i)&&(i=i.join(c));var h=e.getIn(Be(r,"properties","field"))||null,v=e.getIn(Be(r,"properties","operator"))||null,g=vr(o,v,h),y=v?ln(g.cardinality,1):null,m=!1,S=a||gre(i,p,o),_=!1,O=Cd(o,h,h,v,i,S,p,s,_,m,!0),x=Ge(O,2),w=x[0],C=x[1],I=!w;if(C!==i&&(i=C),f){var A=Ar(o,h,v,p),P=kn(o,h,v,A,p),E=Array.from({length:y},function(L,q){return e.getIn(Be(r,"properties","valueSrc",q+""))||null});if(g&&g.validateValues&&E.filter(function(L){return L=="value"||L==null}).length==y){var R=Array.from({length:y},function(L,q){return q==n?i:e.getIn(Be(r,"properties","value",q+""))||null}),F=P&&P.toJS?R.map(function(L){return P.toJS.call(o.ctx,L,P)}):R,N=g.validateValues(F);e=e.setIn(Be(r,"properties","valueError",y),N)}}var V=e.getIn(Be(r,"properties","value"));V||(e=e.setIn(Be(r,"properties","value"),new at.List(new Array(y))).setIn(Be(r,"properties","valueType"),new at.List(new Array(y))).setIn(Be(r,"properties","valueError"),new at.List(new Array(y))));var z=e.getIn(Be(r,"properties","value",n+"")),J=e.getIn(Be(r,"properties","valueError",n)),H=z==null,M=!!J;return(I||f)&&(e=e.deleteIn(Be(r,"properties","asyncListValues")),typeof i>"u"?(e=e.setIn(Be(r,"properties","value",n+""),void 0),e=e.setIn(Be(r,"properties","valueType",n+""),null)):(s&&(e=e.setIn(Be(r,"properties","asyncListValues"),s)),e=e.setIn(Be(r,"properties","value",n+""),i),e=e.setIn(Be(r,"properties","valueType",n+""),S),d=l&&!H&&!M)),f&&(e=e.setIn(Be(r,"properties","valueError",n),w)),l&&(I&&M||!I&&!M)&&(e=e.setIn(Be(r,"properties","valueError",n),w),d=!1),{tree:e,isInternalValueChange:d}},pre=function(e,r,n,i,a){var o=a.settings.showErrorMessage,s=e.getIn(Be(r,"properties","field"))||null;e.getIn(Be(r,"properties","fieldSrc"));var l=e.getIn(Be(r,"properties","operator"))||null;if(e=e.setIn(Be(r,"properties","value",n+""),void 0),e=e.setIn(Be(r,"properties","valueType",n+""),null),e=e.deleteIn(Be(r,"properties","asyncListValues")),o){e=e.setIn(Be(r,"properties","valueError",n),null);var u=vr(a,l,s),c=l?ln(u.cardinality,1):null;u.validateValues&&(e=e.setIn(Be(r,"properties","valueError",c),null))}if(typeof i>"u"?e=e.setIn(Be(r,"properties","valueSrc",n+""),null):e=e.setIn(Be(r,"properties","valueSrc",n+""),i),i){var f=e.getIn(Be(r,"properties")),d=jo(a,a,f,s,l,"valueSrc",!0),p=d.canReuseValue,h=d.newValue,v=d.newValueSrc,g=d.newValueType;d.newValueError,!p&&v.get(n)==i&&(e=e.setIn(Be(r,"properties","value",n+""),h.get(n)),e=e.setIn(Be(r,"properties","valueType",n+""),g.get(n)))}return e},hre=function(e,r,n,i){return e.setIn(Be(r,"properties","operatorOptions",n),i)},vre=function(e,r){var n=r.settings.canLeaveEmptyGroup;return n||(e=xd(e)),e},gre=function(e,r,n){var i=null;if(e){if(r==="field"){var a=Ze(n,e);a&&(i=a.type)}else if(r==="func"){var o=e.get("func");if(o){var s=gn(n,o);s&&(i=s.returnType)}}}return i},mre=function(e,r){var n=e.getIn(Be(r,"properties","field"))||null;return n},A_={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},yre=function(e,r){if(!e||!e.type)return null;var n=["config","asyncListValues","__isInternal"],i=[um,mP,gP,yP],a=Ad(er(e,n),Lg),o=e.path&&mre(r.tree,e.path)||e.field;if(o){var s;(s=o)!==null&&s!==void 0&&s.toJS&&(o=o.toJS()),a.affectedField=o}return(i.includes(e.type)||e.type.indexOf("@@redux")==0)&&(a=null),a};const bre=function(t,e,r,n){var i=e,a=Yi({tree:i},A_);return function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a,s=arguments.length>1?arguments[1]:void 0,l={__isInternalValueChange:void 0,__lastAction:void 0},u={},c=yre(s,o);switch(s==null?void 0:s.type){case um:{var f=r(s.config,s.tree);u.tree=f;break}case lm:{u.tree=P_(o.tree,s.path,"case_group",s.id,s.properties,s.config,s.children,s.meta);break}case rP:{u.tree=P_(o.tree,s.path,"group",s.id,s.properties,s.config,s.children,s.meta);break}case nP:{u.tree=rre(o.tree,s.path,s.config);break}case oP:{u.tree=Fo(o.tree,s.path,s.ruleType,s.id,s.properties,s.config,s.children);break}case sP:{u.tree=nre(o.tree,s.path,s.config);break}case iP:{u.tree=ore(o.tree,s.path,s.conjunction);break}case aP:{u.tree=ire(o.tree,s.path,s.not);break}case lP:{var d=cre(o.tree,s.path,s.field,s.config,s.asyncListValues,s.__isInternal),p=d.tree,h=d.isInternalValueChange;u.__isInternalValueChange=h,u.tree=p;break}case uP:{u.tree=ure(o.tree,s.path,s.srcKey,s.config);break}case hP:{u.tree=are(o.tree,s.path,s.lock);break}case cP:{u.tree=fre(o.tree,s.path,s.operator,s.config);break}case fP:{var v=dre(o.tree,s.path,s.delta,s.value,s.valueType,s.config,s.asyncListValues,s.__isInternal),g=v.tree,y=v.isInternalValueChange;u.__isInternalValueChange=y,u.tree=g;break}case dP:{u.tree=pre(o.tree,s.path,s.delta,s.srcKey,s.config);break}case pP:{u.tree=hre(o.tree,s.path,s.name,s.value);break}case vP:{u.tree=lre(o.tree,s.fromPath,s.toPath,s.placement,s.config);break}case mP:{u.dragStart=s.dragStart,u.dragging=s.dragging,u.mousePos=s.mousePos;break}case gP:{u.mousePos=s.mousePos,u.dragging=s.dragging;break}case yP:{u.tree=vre(o.tree,t),u=Yi(Yi({},u),A_);break}}return c&&(u.__lastAction=c),n&&u.tree&&o.tree&&n(o.tree),Yi(Yi(Yi({},o),l),u)}};var _re=function(e,r){return{type:um,tree:r,config:e}},Sre=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;return{type:oP,ruleType:i,children:a,path:un(r),id:or(),properties:fa(e,o).merge(n||{}),config:e}},Ore=function(e,r){return{type:sP,path:un(r),config:e}},xre=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:lm,path:un(r),children:i,id:or(),properties:po(e).merge(n||{}),config:e,meta:{isDefaultCase:!0}}},wre=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:lm,path:un(r),children:i,id:or(),properties:po(e).merge(n||{}),config:e}},Ere=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:rP,path:un(r),children:i,id:or(),properties:po(e).merge(n||{}),config:e}},Cre=function(e,r){return{type:nP,path:un(r),config:e}},Tre=function(e,r,n,i){return{type:vP,fromPath:un(r),toPath:un(n),placement:i,config:e}};const Pre=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:wre,addDefaultCaseGroup:xre,addGroup:Ere,addRule:Sre,moveItem:Tre,removeGroup:Cre,removeRule:Ore,setTree:_re},Symbol.toStringTag,{value:"Module"}));var Are=function(e,r,n){return{type:iP,path:un(r),conjunction:n}},kre=function(e,r,n){return{type:aP,path:un(r),not:n}},Ire=function(e,r,n){return{type:hP,path:un(r),lock:n}};const jre=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:Are,setLock:Ire,setNot:kre},Symbol.toStringTag,{value:"Module"}));var Rre=function(e,r,n,i,a){return{type:lP,path:un(r),field:n,config:e,asyncListValues:i,__isInternal:a}},Fre=function(e,r,n){return{type:uP,path:un(r),srcKey:n,config:e}},Lre=function(e,r,n){return{type:cP,path:un(r),operator:n,config:e}},$re=function(e,r,n,i,a,o,s){return{type:fP,path:un(r),delta:n,value:i,valueType:a,asyncListValues:o,config:e,__isInternal:s}},Nre=function(e,r,n,i){return{type:dP,path:un(r),delta:n,srcKey:i,config:e}},Dre=function(e,r,n,i){return{type:pP,path:un(r),name:n,value:i,config:e}};const Mre=Object.freeze(Object.defineProperty({__proto__:null,setField:Rre,setFieldSrc:Fre,setOperator:Lre,setOperatorOption:Dre,setValue:$re,setValueSrc:Nre},Symbol.toStringTag,{value:"Module"}));function k_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xt=Cc(Cc(Cc(Cc({},kee),yee),HX),{},{ConfigMixins:Jee});const Ru=j.createContext();var OP=j.createContext(null);function Vre(t){t()}var xP=Vre,Bre=function(e){return xP=e},qre=function(){return xP};function Hre(){var t=qre(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=e;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var I_={notify:function(){},get:function(){return[]}};function wP(t,e){var r,n=I_;function i(f){return l(),n.subscribe(f)}function a(){n.notify()}function o(){c.onStateChange&&c.onStateChange()}function s(){return!!r}function l(){r||(r=e?e.addNestedSub(o):t.subscribe(o),n=Hre())}function u(){r&&(r(),r=void 0,n.clear(),n=I_)}var c={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return n}};return c}var EP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ae.useLayoutEffect:ae.useEffect;function zre(t){var e=t.store,r=t.context,n=t.children,i=ae.useMemo(function(){var s=wP(e);return{store:e,subscription:s}},[e]),a=ae.useMemo(function(){return e.getState()},[e]);EP(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==e.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,a]);var o=r||OP;return j.createElement(o.Provider,{value:i},n)}var CP={exports:{}},Sr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=60103,Id=60106,Fu=60107,Lu=60108,$u=60114,Nu=60109,Du=60110,Mu=60112,Vu=60113,pm=60120,Bu=60115,qu=60116,TP=60121,PP=60122,AP=60117,kP=60129,IP=60131;if(typeof Symbol=="function"&&Symbol.for){var yn=Symbol.for;kd=yn("react.element"),Id=yn("react.portal"),Fu=yn("react.fragment"),Lu=yn("react.strict_mode"),$u=yn("react.profiler"),Nu=yn("react.provider"),Du=yn("react.context"),Mu=yn("react.forward_ref"),Vu=yn("react.suspense"),pm=yn("react.suspense_list"),Bu=yn("react.memo"),qu=yn("react.lazy"),TP=yn("react.block"),PP=yn("react.server.block"),AP=yn("react.fundamental"),kP=yn("react.debug_trace_mode"),IP=yn("react.legacy_hidden")}function Mi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kd:switch(t=t.type,t){case Fu:case $u:case Lu:case Vu:case pm:return t;default:switch(t=t&&t.$$typeof,t){case Du:case Mu:case qu:case Bu:case Nu:return t;default:return e}}case Id:return e}}}var Wre=Nu,Gre=kd,Ure=Mu,Yre=Fu,Kre=qu,Qre=Bu,Jre=Id,Xre=$u,Zre=Lu,ene=Vu;Sr.ContextConsumer=Du;Sr.ContextProvider=Wre;Sr.Element=Gre;Sr.ForwardRef=Ure;Sr.Fragment=Yre;Sr.Lazy=Kre;Sr.Memo=Qre;Sr.Portal=Jre;Sr.Profiler=Xre;Sr.StrictMode=Zre;Sr.Suspense=ene;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(t){return Mi(t)===Du};Sr.isContextProvider=function(t){return Mi(t)===Nu};Sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kd};Sr.isForwardRef=function(t){return Mi(t)===Mu};Sr.isFragment=function(t){return Mi(t)===Fu};Sr.isLazy=function(t){return Mi(t)===qu};Sr.isMemo=function(t){return Mi(t)===Bu};Sr.isPortal=function(t){return Mi(t)===Id};Sr.isProfiler=function(t){return Mi(t)===$u};Sr.isStrictMode=function(t){return Mi(t)===Lu};Sr.isSuspense=function(t){return Mi(t)===Vu};Sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fu||t===$u||t===kP||t===Lu||t===Vu||t===pm||t===IP||typeof t=="object"&&t!==null&&(t.$$typeof===qu||t.$$typeof===Bu||t.$$typeof===Nu||t.$$typeof===Du||t.$$typeof===Mu||t.$$typeof===AP||t.$$typeof===TP||t[0]===PP)};Sr.typeOf=Mi;CP.exports=Sr;var tne=CP.exports,rne=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],nne=["reactReduxForwardedRef"],ine=[],ane=[null,null];function one(t,e){var r=t[1];return[e.payload,r+1]}function j_(t,e,r){EP(function(){return t.apply(void 0,e)},r)}function sne(t,e,r,n,i,a,o){t.current=n,e.current=i,r.current=!1,a.current&&(a.current=null,o())}function lne(t,e,r,n,i,a,o,s,l,u){if(t){var c=!1,f=null,d=function(){if(!c){var v=e.getState(),g,y;try{g=n(v,i.current)}catch(m){y=m,f=m}y||(f=null),g===a.current?o.current||l():(a.current=g,s.current=g,o.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=d,r.trySubscribe(),d();var p=function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var une=function(){return[null,0]};function cne(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,i=n===void 0?function(S){return"ConnectAdvanced("+S+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,s=r.renderCountProp,l=s===void 0?void 0:s,u=r.shouldHandleStateChanges,c=u===void 0?!0:u,f=r.storeKey,d=f===void 0?"store":f;r.withRef;var p=r.forwardRef,h=p===void 0?!1:p,v=r.context,g=v===void 0?OP:v,y=ni(r,rne),m=g;return function(_){var O=_.displayName||_.name||"Component",x=i(O),w=ge({},y,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:c,storeKey:d,displayName:x,wrappedComponentName:O,WrappedComponent:_}),C=y.pure;function I(F){return t(F.dispatch,w)}var A=C?ae.useMemo:function(F){return F()};function P(F){var N=ae.useMemo(function(){var le=F.reactReduxForwardedRef,xe=ni(F,nne);return[F.context,le,xe]},[F]),V=N[0],z=N[1],J=N[2],H=ae.useMemo(function(){return V&&V.Consumer&&tne.isContextConsumer(j.createElement(V.Consumer,null))?V:m},[V,m]),M=ae.useContext(H),L=!!F.store&&!!F.store.getState&&!!F.store.dispatch;M&&M.store;var q=L?F.store:M.store,W=ae.useMemo(function(){return I(q)},[q]),Q=ae.useMemo(function(){if(!c)return ane;var le=wP(q,L?null:M.subscription),xe=le.notifyNestedSubs.bind(le);return[le,xe]},[q,L,M]),K=Q[0],$=Q[1],U=ae.useMemo(function(){return L?M:ge({},M,{subscription:K})},[L,M,K]),X=ae.useReducer(one,ine,une),ee=X[0],se=ee[0],Oe=X[1];if(se&&se.error)throw se.error;var be=ae.useRef(),Se=ae.useRef(J),_e=ae.useRef(),pe=ae.useRef(!1),ue=A(function(){return _e.current&&J===Se.current?_e.current:W(q.getState(),J)},[q,se,J]);j_(sne,[Se,be,pe,J,ue,_e,$]),j_(lne,[c,q,K,W,Se,be,pe,_e,$,Oe],[q,K,W]);var Le=ae.useMemo(function(){return j.createElement(_,ge({},ue,{ref:z}))},[z,_,ue]),ie=ae.useMemo(function(){return c?j.createElement(H.Provider,{value:U},Le):Le},[H,Le,U]);return ie}var E=C?j.memo(P):P;if(E.WrappedComponent=_,E.displayName=P.displayName=x,h){var R=j.forwardRef(function(N,V){return j.createElement(E,ge({},N,{reactReduxForwardedRef:V}))});return R.displayName=x,R.WrappedComponent=_,e0(R,_)}return e0(E,_)}}function R_(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Np(t,e){if(R_(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!R_(t[r[i]],e[r[i]]))return!1;return!0}function fne(t,e){var r={},n=function(o){var s=t[o];typeof s=="function"&&(r[o]=function(){return e(s.apply(void 0,arguments))})};for(var i in t)n(i);return r}function hm(t){return function(r,n){var i=t(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function F_(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function jP(t,e){return function(n,i){i.displayName;var a=function(s,l){return a.dependsOnOwnProps?a.mapToProps(s,l):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,l){a.mapToProps=t,a.dependsOnOwnProps=F_(t);var u=a(s,l);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=F_(u),u=a(s,l)),u},a}}function dne(t){return typeof t=="function"?jP(t):void 0}function pne(t){return t?void 0:hm(function(e){return{dispatch:e}})}function hne(t){return t&&typeof t=="object"?hm(function(e){return fne(t,e)}):void 0}const vne=[dne,pne,hne];function gne(t){return typeof t=="function"?jP(t):void 0}function mne(t){return t?void 0:hm(function(){return{}})}const yne=[gne,mne];function bne(t,e,r){return ge({},r,t,e)}function _ne(t){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,s;return function(u,c,f){var d=t(u,c,f);return o?(!i||!a(d,s))&&(s=d):(o=!0,s=d),s}}}function Sne(t){return typeof t=="function"?_ne(t):void 0}function One(t){return t?void 0:function(){return bne}}const xne=[Sne,One];var wne=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ene(t,e,r,n){return function(a,o){return r(t(a,o),e(n,o),o)}}function Cne(t,e,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual,l=!1,u,c,f,d,p;function h(S,_){return u=S,c=_,f=t(u,c),d=e(n,c),p=r(f,d,c),l=!0,p}function v(){return f=t(u,c),e.dependsOnOwnProps&&(d=e(n,c)),p=r(f,d,c),p}function g(){return t.dependsOnOwnProps&&(f=t(u,c)),e.dependsOnOwnProps&&(d=e(n,c)),p=r(f,d,c),p}function y(){var S=t(u,c),_=!s(S,f);return f=S,_&&(p=r(f,d,c)),p}function m(S,_){var O=!o(_,c),x=!a(S,u,_,c);return u=S,c=_,O&&x?v():O?g():x?y():p}return function(_,O){return l?m(_,O):h(_,O)}}function Tne(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,i=e.initMergeProps,a=ni(e,wne),o=r(t,a),s=n(t,a),l=i(t,a),u=a.pure?Cne:Ene;return u(o,s,l,t,a)}var Pne=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Dp(t,e,r){for(var n=e.length-1;n>=0;n--){var i=e[n](t);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function Ane(t,e){return t===e}function kne(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?cne:r,i=e.mapStateToPropsFactories,a=i===void 0?yne:i,o=e.mapDispatchToPropsFactories,s=o===void 0?vne:o,l=e.mergePropsFactories,u=l===void 0?xne:l,c=e.selectorFactory,f=c===void 0?Tne:c;return function(p,h,v,g){g===void 0&&(g={});var y=g,m=y.pure,S=m===void 0?!0:m,_=y.areStatesEqual,O=_===void 0?Ane:_,x=y.areOwnPropsEqual,w=x===void 0?Np:x,C=y.areStatePropsEqual,I=C===void 0?Np:C,A=y.areMergedPropsEqual,P=A===void 0?Np:A,E=ni(y,Pne),R=Dp(p,a,"mapStateToProps"),F=Dp(h,s,"mapDispatchToProps"),N=Dp(v,u,"mergeProps");return n(f,ge({methodName:"connect",getDisplayName:function(z){return"Connect("+z+")"},shouldHandleStateChanges:!!p,initMapStateToProps:R,initMapDispatchToProps:F,initMergeProps:N,pure:S,areStatesEqual:O,areOwnPropsEqual:w,areStatePropsEqual:I,areMergedPropsEqual:P},E))}}const jd=kne();Bre(MO.unstable_batchedUpdates);var Tc="after",Pc="before",yo="append",hs="prepend",Ine="SET_DRAG_PROGRESS",jne="SET_DRAG_START",Rne="SET_DRAG_END",Fne=function(e,r){return{type:Ine,mousePos:e,dragging:r}},Lne=function(e,r,n){return{type:jne,dragStart:e,dragging:r,mousePos:n}},$ne=function(){return{type:Rne}},RP=Pre,Nne=jre,Dne=Mre;function Mp(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Mne(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Mne(t,e){if(t){if(typeof t=="string")return L_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L_(t,e)}}function L_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FP=xt.ConfigUtils,Vne=FP.extendConfig,Xc=FP.configKeys,Bne=function(e){return aa(e,Xc)},qne=function(){var e=new Map,r=2,n=0,i=function(u){var c=Vne(u,++n);return e.size+1>r&&e.delete(e.keys()[0]),e.set(u,c),c},a=function(u){var c=Mp(e.keys()),f;try{var d=function(){var v=f.value,g=e.get(v),y=Xc.map(function(m){return g[m]===u[m]}).filter(function(m){return!m}).length===0;if(y)return{v}};for(c.s();!(f=c.n()).done;){var p=d();if($t(p)==="object")return p.v}}catch(h){c.e(h)}finally{c.f()}return u},o=function(u){var c=Mp(e.keys()),f;try{var d=function(){var S=f.value,_=Xc.map(function(O){return S[O]===u[O]}).filter(function(O){return!O}).length===0;if(_)return{v:e.get(S)}};for(c.s();!(f=c.n()).done;){var p=d();if($t(p)==="object")return p.v}}catch(m){c.e(m)}finally{c.f()}var h=Mp(e.values()),v;try{var g=function(){var S=v.value,_=Xc.map(function(O){return S[O]===u[O]}).filter(function(O){return!O}).length===0;if(_)return{v:S}};for(h.s();!(v=h.n()).done;){var y=g();if($t(y)==="object")return y.v}}catch(m){h.e(m)}finally{h.f()}return null},s=function(u){return o(u)||i(u)};return{getExtended:function(u){return s(Bne(u))},getBasic:a}},Hne={},zne=function(e,r){return typeof e>"u"?r:e},Cf=function(e,r,n){if(!r||e.length<=r)return e;var i=e.substr(0,r-1);return(n?i.substr(0,i.lastIndexOf(" ")):i)+"..."},Po=function(e,r){return e===r?!0:e.equals(r)},Lo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?Wne(e,r,n):e&&typeof e.equals=="function"?e.equals(r):$t(e)==="object"?Gne(e,r,n):e===r};function Wne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Lo(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function Gne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Lo(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var Une=function(){return typeof process<"u"&&Hne&&!1},Yne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:Une();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},Kne=Yne(),$_=xt.validateAndFixTree,Qne=function(){var e,r,n;return function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return a?(i.__configId===n&&(Po(a,e)||Po(a,r))||(n=i.__configId,e=a,s===!1?r=$_(a,null,i,o||i,!1,!1):r=$_(a,null,i,o||i)),r):null}},Jne=function(e){if(e._reactRootContainer)return"root";if(Object.getOwnPropertyNames(e).filter(function(r){return r.startsWith("__reactContainer")}).length>0)return"container"},Xne=function t(e){if(e){var r=Jne(e);return r!==void 0?r:t(e.parentNode)}},LP=function(e){return Xne(e)==="root"},vm=function(e,r){return function(n,i){var a=e.props,o=e.state,s=n!=a||i!=o;if(s&&o==i&&a!=n){var l=[];for(var u in n){var c=n[u]!=a[u];c&&(r[u]=="ignore"?c=!1:r[u]=="shallow_deep"?c=!Lo(n[u],a[u],!0):r[u]=="shallow"?c=!Lo(n[u],a[u]):typeof r[u]=="function"&&(c=r[u](n[u],a[u],i))),c&&l.push(u)}l.length||(s=!1)}return s}},gl=function(e){return function(r,n){return!Lo(e.props,r)||!Lo(e.state,n)}},Zne=function(){var e=j.version.split(".").map(parseInt.bind(null,10));return e[0]==16&&e[1]<3||e[0]<16},xn=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=gl(e)),Zne())e.componentWillReceiveProps=function(i){e.onPropsChanged(i)};else{var r=e.shouldComponentUpdate,n=function(a,o){var s=!Lo(e.props,a);s&&e.onPropsChanged(a);var l=r.call(e,a,o);return l};e.shouldComponentUpdate=n.bind(e)}},$P=function(e,r,n){return Ad(e,function(i){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n(i.apply(void 0,[r].concat(o)))}})};const eie=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:$P,isUsingLegacyReactDomRender:LP,liteShouldComponentUpdate:vm,pureShouldComponentUpdate:gl,useOnPropsChanged:xn},Symbol.toStringTag,{value:"Module"}));function N_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tie(t){var e=rie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var NP=function(t){sr(r,t);var e=tie(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.shouldComponentUpdate=vm(_r(i),{tree:function(o){return!(o===i.oldValidatedTree&&i.oldValidatedTree===i.validatedTree)}}),xn(_r(i)),i._updateActions(n),i.validatedTree=n.getMemoizedTree(n.config,n.tree,void 0,n.sanitizeTree),i.oldValidatedTree=i.validatedTree,i}return ur(r,[{key:"_updateActions",value:function(i){var a=i.config,o=i.dispatch;this.actions=$P(Vp(Vp(Vp({},RP),Nne),Dne),a,o)}},{key:"onPropsChanged",value:function(i){var a=i.onChange,o=this.props.config,s=i.tree;this.props.tree;var l=i.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=s,o!==l&&(this._updateActions(i),this.validatedTree=i.getMemoizedTree(l,s,o));var u=!Po(this.validatedTree,this.oldValidatedTree);if(u){var c=i.getBasicConfig(l);a&&a(this.validatedTree,c,i.__lastAction)}}},{key:"render",value:function(){var i=this.props,a=i.config,o=i.renderBuilder,s=i.dispatch,l=i.__isInternalValueChange,u={tree:this.validatedTree,actions:this.actions,config:a,dispatch:s,__isInternalValueChange:l};return o(u)}}]),r}(ae.Component);NP.propTypes={config:Y.object.isRequired,onChange:Y.func,renderBuilder:Y.func,tree:Y.any};var DP=jd(function(t){return{tree:t.tree,__isInternalValueChange:t.__isInternalValueChange,__lastAction:t.__lastAction}},null,null,{context:Ru})(NP);DP.displayName="ConnectedQuery";function nie(t){var e=iie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function iie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var D_=xt.DefaultUtils.defaultRoot,MP=function(t){sr(r,t);var e=nie(r);function r(n,i){var a;lr(this,r),a=e.call(this,n,i),a.setLastTree=function(m){a.prevTree&&(a.prevprevTree=a.prevTree),a.prevTree=m},a.shouldComponentUpdate=vm(_r(a),{value:function(S,_,O){return!1}}),xn(_r(a));var o=qne(),s=o.getExtended,l=o.getBasic;a.getMemoizedConfig=s,a.getBasicConfig=l,a.getMemoizedTree=Qne();var u=a.getMemoizedConfig(n),c=u.settings.shouldCreateEmptyGroup,f=!c,d=D_(u,f),p=!!n.value,h=n.value||d,v=a.getMemoizedTree(u,h,void 0,p),g=bre(u,v,a.getMemoizedTree,a.setLastTree),y=Zk(g);return a.config=u,a.state={store:y},a.QueryWrapper=function(m){return u.settings.renderProvider(m,u.ctx)},a}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=this.config,s=this.getMemoizedConfig(i),l=o!==s,u=this.state.store.getState().tree,c=!Po(i.value,this.props.value)&&!Po(i.value,u),f=c?i.value||D_(i):u,d=c&&!Po(i.value,this.prevTree)&&!Po(i.value,this.prevprevTree);if(this.sanitizeTree=d||l,l&&(a.settings.renderProvider!==i.settings.renderProvider&&(this.QueryWrapper=function(h){return s.settings.renderProvider(h,s.ctx)}),this.config=s),c||l){var p=this.getMemoizedTree(s,f,o,this.sanitizeTree);this.state.store.dispatch(RP.setTree(s,p))}}},{key:"render",value:function(){var i=this.props,a=i.renderBuilder,o=i.get_children,s=i.onChange,l=this.state.store,u=this.config,c=this.QueryWrapper;return j.createElement(c,{config:u},j.createElement(zre,{store:l,context:Ru},j.createElement(DP,{config:u,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:s,renderBuilder:a||o})))}}]),r}(ae.Component);MP.propTypes={conjunctions:Y.object.isRequired,fields:Y.object.isRequired,types:Y.object.isRequired,operators:Y.object.isRequired,widgets:Y.object.isRequired,settings:Y.object.isRequired,ctx:Y.object.isRequired,onChange:Y.func,renderBuilder:Y.func,value:Y.any};function aie(t){var e=oie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function oie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var sie=xt.ConfigUtils.getFieldConfig,lie=function(e){var r;return r=function(n){sr(a,n);var i=aie(a);function a(o){var s;return lr(this,a),s=i.call(this,o),s.dummyFn=function(){},s.removeSelf=function(){s.props.actions.removeRule(s.props.path)},s.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setLock(s.props.path,l)},s.setField=function(l,u,c){s.props.actions.setField(s.props.path,l,u,c)},s.setFieldSrc=function(l){s.props.actions.setFieldSrc(s.props.path,l)},s.setOperator=function(l){s.props.actions.setOperator(s.props.path,l)},s.setOperatorOption=function(l,u){s.props.actions.setOperatorOption(s.props.path,l,u)},s.setValue=function(l,u,c,f,d){s.props.actions.setValue(s.props.path,l,u,c,f,d)},s.setValueSrc=function(l,u){s.props.actions.setValueSrc(s.props.path,l,u)},s.pureShouldComponentUpdate=gl(_r(s)),s.dummyFn.isDummyFn=!0,s}return ur(a,[{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=s.dragging.id||u.dragging.id,p=d==s.id,h=[];for(var v in s){var g=s[v]!=u[v];v=="dragging"&&!p&&(g=!1),g&&h.push(v)}h.length||(f=!1)}return f}},{key:"render",value:function(){var s=this.props.dragging.id==this.props.id,l=sie(this.props.config,this.props.field),u=this.props.fieldType||(l==null?void 0:l.type)||null,c=this.props.config.settings.showErrorMessage;l&&l.type=="!struct";var f=!s&&this.props.isDraggingTempo,d=this.props.valueError,p=d&&d.toArray().filter(function(v){return!!v}).shift()||null,h=p!=null&&c;return j.createElement("div",{className:Ai("group-or-rule-container","rule-container",h?"rule-with-error":null),"data-id":this.props.id},[s?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:u,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:s,isDraggingTempo:f,onDragStart:this.props.onDragStart,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,setField:f?this.dummyFn:this.setField,setFieldSrc:f?this.dummyFn:this.setFieldSrc,setOperator:f?this.dummyFn:this.setOperator,setOperatorOption:f?this.dummyFn:this.setOperatorOption,setValue:f?this.dummyFn:this.setValue,setValueSrc:f?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:u,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),a}(ae.Component),r.propTypes={id:Y.string.isRequired,groupId:Y.string,config:Y.object.isRequired,path:Y.any.isRequired,operator:Y.string,field:Y.any,fieldSrc:Y.string,fieldType:Y.string,actions:Y.object.isRequired,onDragStart:Y.func,value:Y.any,valueSrc:Y.any,asyncListValues:Y.array,valueError:Y.any,operatorOptions:Y.object,reordableNodesCnt:Y.number,parentField:Y.string,isLocked:Y.bool,isTrueLocked:Y.bool,dragging:Y.object,isDraggingTempo:Y.bool},r};const uie=function(t){var e=jd(function(r){return{dragging:r.dragging}},null,null,{context:Ru})(lie(t));return e.displayName="ConnectedRuleContainer",e};function cie(t){var e=fie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function fie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var M_=xt.clone,die=xt.TreeUtils.getFlatTree,Qh=!1,pie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r=function(i){sr(o,i);var a=cie(o);function o(s){var l;return lr(this,o),l=a.call(this,s),l._getEventTarget=function(u,c){return u&&u.__mocked_window||document.body||window},l.onDragStart=function(u,c,f){var d=c.closest(".query-builder");l._isUsingLegacyReactDomRender===void 0&&(l._isUsingLegacyReactDomRender=LP(d)),document.body.classList.add("qb-dragging"),d.classList.add("qb-dragging");var p=d.closest(".query-builder-container")||d;p=l._getScrollParent(p)||document.body;var h=p.scrollTop;l._getDraggableNodeEl(d),l._getPlaceholderNodeEl(d);var v=d.querySelectorAll(".group--children"),g=v.length?v[0]:null,y;g&&(y=window.getComputedStyle(g,null).getPropertyValue("padding-left"),y=parseInt(y));var m={id:u,x:c.offsetLeft,y:c.offsetTop,w:c.offsetWidth,h:c.offsetHeight,itemInfo:l.tree.items[u],paddingLeft:y},S={id:u,x:c.offsetLeft,y:c.offsetTop,scrollTop:h,clientX:f.clientX,clientY:f.clientY,itemInfo:M_(l.tree.items[u]),treeEl:d,treeElContainer:p},_={clientX:f.clientX,clientY:f.clientY},O=l._getEventTarget(f,S);l.eventTarget=O,O.addEventListener("mousemove",l.onDrag),O.addEventListener("mouseup",l.onDragEnd),l.props.setDragStart(S,m,_)},l.onDrag=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=Object.assign({},l.props.dragging),d=l.props.dragStart,p=f.paddingLeft,h=d.treeElContainer,v=h.scrollTop;if(f.itemInfo=l.tree.items[f.id],!!f.itemInfo){var g={clientX:u.clientX,clientY:u.clientY},y={clientX:d.clientX,clientY:d.clientY};if(u.__mock_dom){var m=d.treeEl,S=l._getDraggableNodeEl(m),_=l._getPlaceholderNodeEl(m);u.__mock_dom({treeEl:m,dragEl:S,plhEl:_})}if(!d.plX){var O=d.treeEl,x=l._getPlaceholderNodeEl(O);x&&(d.plX=x.getBoundingClientRect().left+window.scrollX,d.plY=x.getBoundingClientRect().top+window.scrollY)}var w=d.x,C=d.y,I=d.clientX,A=d.clientY,P=d.scrollTop,E={x:w+(u.clientX-I),y:C+(u.clientY-A)+(v-P)};f.x=E.x,f.y=E.y,f.paddingLeft=p,f.mousePos=g,f.startMousePos=y,l.props.setDragProgress(g,f);var R=c?l.handleDrag(f,u,n):!1;R||u.preventDefault&&u.preventDefault()}},l.onDragEnd=function(){var u=l.props.dragStart.treeEl;l.props.setDragEnd(),u.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),l._cacheEls={};var c=l.eventTarget||l._getEventTarget();c.removeEventListener("mousemove",l.onDrag),c.removeEventListener("mouseup",l.onDragEnd)},l.pureShouldComponentUpdate=gl(_r(l)),xn(_r(l)),l.onPropsChanged(s),l}return ur(o,[{key:"onPropsChanged",value:function(l){this.tree=die(l.tree)}},{key:"shouldComponentUpdate",value:function(l,u){var c=this.props,f=this.state,d=this.pureShouldComponentUpdate(l,u);if(d&&f==u&&c!=l){var p=[];for(var h in l){var v=l[h]!=c[h];v&&h!="dragging"&&h!="mousePos"&&p.push(h)}p.length||(d=!1)}return d}},{key:"componentDidUpdate",value:function(l,u){var c=this.props.dragging,f=this.props.dragStart;if(Qh=!1,f&&f.id&&(c.itemInfo=this.tree.items[c.id],c.itemInfo&&(c.itemInfo.index!=f.itemInfo.index||c.itemInfo.parent!=f.itemInfo.parent))){var d=f.treeEl,p=f.treeElContainer,h=this._getPlaceholderNodeEl(d,!0);if(h){var v=h.getBoundingClientRect().left+window.scrollX,g=h.getBoundingClientRect().top+window.scrollY,y=f.plX,m=f.plY,S=p.scrollTop;f.plX=v,f.plY=g,f.itemInfo=M_(c.itemInfo),f.y=h.offsetTop,f.x=h.offsetLeft,f.clientY+=g-m,f.clientX+=v-y,p!=document.body&&(f.scrollTop=S),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(u==null)return null;this._cacheEls||(this._cacheEls={});var f=this._cacheEls[u];return f&&document.contains(f)&&!c||(f=l.querySelector('.group-or-rule-container[data-id="'+u+'"]'),this._cacheEls[u]=f),f}},{key:"_getDraggableNodeEl",value:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var c=this._cacheEls.draggable;if(c&&document.contains(c)&&!u)return c;var f=l.getElementsByClassName("qb-draggable");return c=f.length?f[0]:null,this._cacheEls.draggable=c,c}},{key:"_getPlaceholderNodeEl",value:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var c=this._cacheEls.placeholder;if(c&&document.contains(c)&&!u)return c;var f=l.getElementsByClassName("qb-placeholder");return c=f.length?f[0]:null,this._cacheEls.placeholder=c,c}},{key:"_isScrollable",value:function(l){var u=window.getComputedStyle(l)["overflow-y"];return(u==="scroll"||u==="auto")&&l.scrollHeight>l.offsetHeight}},{key:"_getScrollParent",value:function(l){return l==null?null:l===document.body||this._isScrollable(l)?l:this._getScrollParent(l.parentNode)}},{key:"handleDrag",value:function(l,u,c){var f=this,d=!0,p=l.itemInfo,h=l.paddingLeft,v=null,g=this.props.dragStart.treeEl,y=l.id,m=this._getDraggableNodeEl(g),S=this._getPlaceholderNodeEl(g),_,O,x,w;if(m&&S){if(_=m.getBoundingClientRect(),O=S.getBoundingClientRect(),!O.width)return;var C={hrz:0,vrt:0};_.top<O.top?C.vrt=-1:_.bottom>O.bottom&&(C.vrt=1),_.left>O.left?C.hrz=1:_.left<O.left&&(C.hrz=-1),w=g.getBoundingClientRect();var I={x:w.left+(w.right-w.left)/2,y:C.vrt>=0?_.bottom:_.top},A;if(u.__mocked_hov_container)A=u.__mocked_hov_container;else{var P=document.elementFromPoint(I.x,I.y-1);if(A=P?P.closest(".group-or-rule-container"):null,!A&&P&&P.classList.contains("query-builder-container")){var E,R=P==null||(E=P.firstChild)===null||E===void 0?void 0:E.firstChild;R&&R.classList.contains("group-or-rule-container")&&(A=R)}}if(!A)Kne.log("out of tree bounds!");else{var F=A.classList.contains("group-container"),N=A.getAttribute("data-id"),V=A,z=!1,J=!1;if(V){x=V.getBoundingClientRect();var H=x.bottom-x.top,M=this.tree.items[N];if(!M)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var L=null,q=null,W=null,Q=null;if(C.vrt==0)W=p,q=S,q&&(L=q.getBoundingClientRect());else if(F){if(C.vrt>0){var K=A.getElementsByClassName("group--header"),$=K.length?K[0]:null;if($){var U=$.getBoundingClientRect(),X=U.bottom-U.top,ee=_.bottom-U.top>X*3/4;ee&&M.top>l.itemInfo.top&&(W=M,L=U,q=$,J=!0)}}else if(C.vrt<0&&M.lev>=p.lev){var se=x.bottom-_.top>=2;se&&M.top<l.itemInfo.top&&(W=M,L=x,q=V,z=!0)}if(!J&&!z||d){var Oe=C.vrt<0?x.bottom-_.top>H-5:_.bottom-x.top>H-5;Oe&&(!J&&!z&&(W=M,L=x,q=V),Q=M)}}else{var be=C.vrt<0?x.bottom-_.top>H/2:_.bottom-x.top>H/2;be&&(W=M,L=x,q=V)}var Se=W&&W.id==y;if(L){var _e=_.left-w.left;L.left-w.left;var pe=Math.max(0,Math.round(_e/h)),ue=[],Le=[];if(!Se){if(F&&(z?ue.push([yo,W,W.lev+1]):J&&ue.push([hs,W,W.lev+1]),Q)){var ie=Q.lev==0,le=Q.type=="case_group"&&p.type!="case_group",xe=Q.prev&&this.tree.items[Q.prev].caseId,Ee=Q.next&&this.tree.items[Q.next].caseId;p.caseId==xe&&(xe=null),p.caseId==Ee&&(Ee=null);var fe=xe&&this.tree.items[xe],De=Ee&&this.tree.items[Ee];C.vrt>0?ie?Le.push([yo,Q,Q.lev+1]):le&&De?Le.push([hs,De,De.lev+1]):Le.push([Tc,Q,Q.lev]):C.vrt<0&&(ie?Le.push([hs,Q,Q.lev+1]):le&&fe?Le.push([yo,fe,fe.lev+1]):Le.push([Pc,Q,Q.lev]))}!z&&!J&&(C.vrt<0?ue.push([Pc,W,W.lev]):C.vrt>0&&ue.push([Tc,W,W.lev]))}var We=function(ct){var ze=ct[1],mt=p.caseId?f.tree.items[p.caseId]:null,it=ze.caseId?f.tree.items[ze.caseId]:null;return[].concat($e(ct),[mt,it])};ue=ue.map(We),Le=Le.map(We),ue=ue.filter(function(Fe){var ct=Fe[0],ze=Fe[1];if((ct==Pc||ct==Tc)&&ze.parent==null||ze.collapsed&&(ct==yo||ct==hs))return!1;var mt=ze.id==p.id;if(!mt){for(var it=ze;it.parent;)if(it=f.tree.items[it.parent],it.id==p.id){mt=!0;break}}return!mt}).map(function(Fe){var ct=Fe[0],ze=Fe[1];Fe[2],Fe[3],Fe[4];var mt=null;return ct==yo||ct==hs?mt=ze:mt=f.tree.items[ze.parent],mt&&mt.parent==null&&(mt=null),Fe[5]=mt,Fe});var Je=null,yt=ue.filter(function(Fe){return f.canMove(p,Fe[1],Fe[0],Fe[3],Fe[4],Fe[5],c)});yt.length==0&&Le.length>0&&(yt=Le.filter(function(Fe){return f.canMove(p,Fe[1],Fe[0],Fe[3],Fe[4],Fe[5],c)}));var Bt=yt.map(function(Fe){return Fe[2]}),ve=p.lev,we=Bt.concat(ve),Ae=null;we.indexOf(pe)!=-1?Ae=pe:pe>Math.max.apply(Math,$e(we))?Ae=Math.max.apply(Math,$e(we)):pe<Math.min.apply(Math,$e(we))&&(Ae=Math.min.apply(Math,$e(we))),Je=yt.find(function(Fe){return Fe[2]==Ae}),!Se&&!Je&&yt.length&&(Je=yt[0]),v=Je}}}}return v?(this.move(p,v[1],v[0],v[3]),!0):!1}},{key:"canMove",value:function(l,u,c,f,d,p,h){if(!l||!u||l.id===u.id)return!1;var v=this.props.config.settings,g=v.canRegroup,y=v.canRegroupCases,m=v.maxNesting,S=v.maxNumberOfRules,_=v.canLeaveEmptyCase,O=p?p.lev+1:u.lev,x=O+(l.depth||0),w=c==Pc||c==Tc,C=c==hs||c==yo,I=w&&u.lev==1||C&&u.lev==0,A=l.parent!=u.parent,P=C||A,E=l.type=="case_group"&&!I||l.parentType=="rule_group"||u.type=="rule_group"||u.parentType=="rule_group"||l.type!="case_group"&&u.type=="case_group"&&w||l.type!="case_group"&&u.type=="switch_group"||!y&&l.caseId!=u.caseId,R=u.isLocked||l.isLocked||p&&p.isLocked;if(m&&x>m||P&&(!g||E||R))return!1;if(l.type!="case_group"&&l.caseId!=u.caseId){var F=f?f._height==2:!1,N=d?d.leafsCount+1:0;if(S&&N>S||F&&!_)return!1}if(l.type=="case_group"&&(l.isDefaultCase||u.isDefaultCase||u.type=="switch_group"&&c==yo))return!1;var V=!0;return h&&(V=h(l.node.toJS(),u.node.toJS(),c,p?p.node.toJS():null)),V}},{key:"move",value:function(l,u,c,f){this._isUsingLegacyReactDomRender||(Qh=!0),this.props.actions.moveItem(l.path,u.path,c)}},{key:"render",value:function(){return j.createElement(e,ge({},this.props,{onDragStart:this.onDragStart}))}}]),o}(ae.Component),r.propTypes={tree:Y.any.isRequired,actions:Y.object.isRequired},r};const hie=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=jd(function(n){return{dragging:n.dragging,dragStart:n.dragStart,mousePos:n.mousePos}},{setDragStart:Lne,setDragProgress:Fne,setDragEnd:$ne},null,{context:Ru})(pie(t,e));return r.displayName="ConnectedSortableContainer",r};var vie=["isDraggingTempo","isDraggingMe","dragging"];function gie(t){var e=mie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function mie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}const ml=function(t){return function(e){var r;return r=function(n){sr(a,n);var i=gie(a);function a(o){var s;return lr(this,a),s=i.call(this,o),s.handleDraggerMouseDown=function(l){var u=s.props.id,c=s.wrapper.current;s.props.onDragStart&&s.props.onDragStart(u,c,l)},s.wrapper=j.createRef(),s}return ur(a,[{key:"render",value:function(){var s=this.props,l=s.isDraggingTempo,u=s.isDraggingMe,c=s.dragging,f=mi(s,vie),d=f.isTrueLocked,p={};u&&l&&(Qh||(p={top:c.y,left:c.x,width:c.w}));var h=Ai(t,"group-or-rule",u&&l?"qb-draggable":null,u&&!l?"qb-placeholder":null,d?"locked":null);return j.createElement("div",{className:h,style:p,ref:this.wrapper,"data-id":this.props.id},j.createElement(e,ge({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:u,isDraggingTempo:l},f)))}}]),a}(ae.PureComponent),r.propTypes={isDraggingTempo:Y.bool,isDraggingMe:Y.bool,onDragStart:Y.func,dragging:Y.object,isLocked:Y.bool,isTrueLocked:Y.bool},r}};var yie=vd,bie=fm,_ie=EC,Sie=kg;function Oie(t,e){if(t==null)return{};var r=yie(Sie(t),function(n){return[n]});return e=bie(e),_ie(t,r,function(n,i){return e(n,i[0])})}var xie=Oie;const wie=rn(xie);function V_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cie(t){var e=Tie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Tie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var VP=xt.ConfigUtils,Pie=VP.getFieldConfig,Aie=VP.getOperatorConfig,BP=function(t){sr(r,t);var e=Cie(r);function r(n){var i;return lr(this,r),i=e.call(this,n),xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"],s=!this.meta||o.map(function(l){return i[l]!==a[l]}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a,o=i.config,s=i.selectedField,l=i.selectedFieldType,u=i.selectedOperator,c=Pie(o,s),f=$e((c==null?void 0:c.operators)||((a=o.types[l])===null||a===void 0?void 0:a.operators)||[]);!s&&!f.includes(u)&&f.push(u);var d=Ad(wie(o.operators,function(_,O){return(f==null?void 0:f.indexOf(O))!==-1}),function(_,O){return Aie(o,O,s)}),p=this.buildOptions(o,d,f),h=d[u]||{},v=this.props.config.settings.operatorPlaceholder,g=u,y=g?[g]:null,m=y,S=h.label;return{placeholder:v,items:p,selectedKey:g,selectedKeys:y,selectedPath:m,selectedLabel:S,selectedOpts:h,fieldConfig:c}}},{key:"buildOptions",value:function(i,a,o){return!a||!o?null:Gs(a).sort(function(s,l){return o.indexOf(s)-o.indexOf(l)}).map(function(s){var l=a[s],u=l.label;return{key:s,path:s,label:u}})}},{key:"render",value:function(){var i=this.props,a=i.config,o=i.customProps,s=i.setOperator,l=i.readonly,u=i.id,c=i.groupId,f=a.settings.renderOperator,d=Eie({id:u,groupId:c,config:a,customProps:o,readonly:l,setField:s},this.meta);return d.items?f(d,a.ctx):null}}]),r}(ae.Component);BP.propTypes={id:Y.string,groupId:Y.string,config:Y.object.isRequired,selectedField:Y.any,selectedFieldType:Y.string,selectedFieldSrc:Y.string,selectedOperator:Y.string,readonly:Y.bool,setOperator:Y.func.isRequired};var kie=["children"],tn=function(e){var r=e.children,n=mi(e,kie);return j.createElement("div",n,r)},ci=function(){},qP=function(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},j.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},yl=function(e){return function(r){var n=r.config.settings.useConfirm,i=n?n.call(r.config.ctx,r.config.ctx):null;return j.createElement(e,ge({},r,{confirmFn:i}))}};function Iie(t){var e=jie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function jie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var HP=function(t){sr(r,t);var e=Iie(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.config,o=i.selectedField,s=i.selectedFieldSrc,l=i.selectedFieldType,u=i.selectedOperator,c=i.setOperator,f=i.selectedFieldParts,d=i.showOperator,p=i.showOperatorLabel,h=i.selectedFieldWidgetConfig,v=i.readonly,g=i.id,y=i.groupId,m=d&&j.createElement(tn,{key:"operators-for-"+(f||[]).join("_"),className:"rule--operator"},a.settings.showLabels&&j.createElement("label",{className:"rule--label"},a.settings.operatorLabel),j.createElement(BP,{key:"operator",config:a,selectedField:o,selectedFieldSrc:s,selectedFieldType:l,selectedOperator:u,setOperator:c,readonly:v,id:g,groupId:y})),S=p&&j.createElement(tn,{key:"operators-for-"+(f||[]).join("_"),className:"rule--operator"},j.createElement("div",{className:"rule--operator-wrapper"},a.settings.showLabels?j.createElement("label",{className:"rule--label"}," "):null,j.createElement("div",{className:"rule--operator-text-wrapper"},j.createElement("span",{className:"rule--operator-text"},h.operatorInlineLabel))));return[m,S]}}]),r}(ae.PureComponent);function B_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fie(t){var e=Lie();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Lie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var q_=xt.RuleUtils.getFieldPathLabels,gm=xt.ConfigUtils,H_=gm.getFieldConfig,z_=gm.getFieldParts,W_=gm.getFieldPathParts,zP=function(t){sr(r,t);var e=Fie(r);function r(n){var i;return lr(this,r),i=e.call(this,n),xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"],s=!this.meta||o.map(function(l){return i[l]!==a[l]}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a=i.selectedField,o=i.selectedFieldType,s=i.config,l=i.parentField,u=a,c=s.settings,f=c.maxLabelsLength,d=c.fieldSeparatorDisplay,p=c.fieldPlaceholder;c.fieldSeparator;var h=!!a,v=h?null:Cf(p,f),g=h?H_(s,u):null,y=g||{},m=W_(u,s),S=W_(u,s,!0),_=this.getFieldLabel(g,u,s),O=q_(u,s),x=O?O.join(d):null;(x==_||l)&&(x=null);var w=y.label2,C=z_(l,s),I=l?H_(s,l):null,A=l?I&&I.subfields:s.fields,P=!h&&o,E=this.buildOptions(C,s,A,P,C),R=P?"Please select field":null;return{placeholder:v,items:E,parentField:l,selectedKey:u,selectedKeys:m,selectedPath:S,selectedLabel:_,selectedOpts:y,selectedAltLabel:w,selectedFullLabel:x,errorText:R}}},{key:"getFieldLabel",value:function(i,a,o){if(!a)return null;var s=o.settings.maxLabelsLength,l=z_(a,o),u=(i==null?void 0:i.label)||yd(l);return u=Cf(u,s),u}},{key:"buildOptions",value:function(i,a,o){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(!o)return null;var f=a.settings,d=f.fieldSeparator,p=f.fieldSeparatorDisplay,h=u!=null&&u.length?u.join(d)+d:"",v=function g(y){return Object.keys(y).reduce(function(m,S){var _=y[S];return _.type==="!struct"?m+g(_.subfields):m+(_.type===l?1:0)},0)};return Gs(o).map(function(g){var y=[].concat($e(u!=null?u:[]),[g]),m=o[g],S=s.getFieldLabel(m,y,a),_=q_(y,a),O=_.join(p);(O==S||i!=null&&i.length)&&(O=null);var x=m.label2,w=m.tooltip,C=m.disabled;if(!m.hideForSelect)if(m.type=="!struct"){var I=s.buildOptions(i,a,m.subfields,l,y,S),A=v(m.subfields)>0;return{disabled:C,key:g,path:h+g,label:S,fullLabel:O,altLabel:x,tooltip:w,items:I,matchesType:A}}else{var P=l!==void 0?m.type===l:void 0;return{disabled:C,key:g,path:h+g,label:S,fullLabel:O,altLabel:x,tooltip:w,grouplabel:c,matchesType:P}}}).filter(function(g){return!!g})}},{key:"render",value:function(){var i=this.props,a=i.config,o=i.customProps,s=i.setField,l=i.setFieldSrc,u=i.readonly,c=i.id,f=i.groupId,d=a.settings.renderField,p=Rie({id:c,groupId:f,config:a,customProps:o,readonly:u,setField:s,setFieldSrc:l},this.meta);return d(p,a.ctx)}}]),r}(ae.Component);zP.propTypes={id:Y.string,groupId:Y.string,config:Y.object.isRequired,selectedField:Y.any,selectedFieldSrc:Y.string,selectedFieldType:Y.string,parentField:Y.string,customProps:Y.object,readonly:Y.bool,setField:Y.func.isRequired,setFieldSrc:Y.func};function G_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t){var e=Die();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Die(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Mie=xt.clone,Rd=xt.ConfigUtils,U_=Rd.getFieldConfig,Y_=Rd.getFuncConfig,Vie=Rd.getFieldParts,K_=Rd.getFieldPathParts,WP=xt.RuleUtils,Q_=WP.getFuncPathLabels,Bie=WP.getWidgetForFieldOp,GP=function(t){sr(r,t);var e=Nie(r);function r(n){var i;return lr(this,r),i=e.call(this,n),xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS"],s=["config","field","fieldType","fieldSrc","value","isLHS"],l=!this.items||o.map(function(c){return i[c]!==a[c]}).filter(function(c){return c}).length>0,u=!this.meta||s.map(function(c){return i[c]!==a[c]}).filter(function(c){return c}).length>0;u&&(this.meta=this.getMeta(i)),l&&(this.items=this.getItems(i,this.meta))}},{key:"getItems",value:function(i,a){var o=i.config,s=i.field,l=i.fieldType,u=i.isLHS,c=i.operator,f=i.parentFuncs,d=i.fieldDefinition,p=i.isFuncArg,h=a.lookingForFieldType,v=o.settings.canUseFuncForField,g=this.filterFuncs(o,o.funcs,s,l,u,c,v,f,p,d),y=this.buildOptions(o,g,h);return y}},{key:"getMeta",value:function(i){var a,o=i.config,s=i.field,l=i.fieldType,u=i.value,c=i.isLHS,f=i.isFuncArg,d=o.settings,p=d.funcPlaceholder,h=d.fieldSeparatorDisplay,v=u,g=!!u,y=U_(o,s),m=y==null||(a=y.widgets)===null||a===void 0?void 0:a.field;m&&m.widgetProps;var S=g?null:p,_=g?Y_(o,v):null,O=_||{},x=K_(v,o),w=K_(v,o,!0),C=this.getFuncLabel(_,v,o),I=Q_(v,o),A=I?I.join(h):null;A==C&&(A=null);var P=c&&!f,E=P&&!g&&l,R=E?"Please select function":null;return{placeholder:S,selectedKey:v,selectedKeys:x,selectedPath:w,selectedLabel:C,selectedOpts:O,selectedFullLabel:A,errorText:R,lookingForFieldType:E}}},{key:"filterFuncs",value:function(i,a,o,s,l,u,c,f,d,p){a=Mie(a);var h=i.settings.fieldSeparator,v=U_(i,o),g,y=v,m=Bie(i,o,u,"value");m&&i.widgets[m],d?(y=p,g=p==null?void 0:p.type):v?g=v.type:l||(g=s);function S(_,O){for(var x in _){var w=_[x].subfields,C=(O||[]).concat(x),I=C.join(h),A=Y_(i,I);if(A.type=="!struct")S(w,C)==0&&delete _[x];else{var P,E=!g||A.returnType==g;(P=y)!==null&&P!==void 0&&P.funcs&&(E=E&&y.funcs.includes(I)),c&&(E=E&&c(o,v,I,A,u)),!A.allowSelfNesting&&f&&f.map(function(R){var F=Ge(R,2),N=F[0];return F[1],N}).includes(I)&&(E=!1),E||delete _[x]}}return Gs(_).length}return S(a,[]),a}},{key:"buildOptions",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a)return null;var c=i.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"",h=function v(g){return Object.keys(g).reduce(function(y,m){var S=g[m];return S.type==="!struct"?y+v(S.subfields):y+(S.type===s?1:0)},0)};return Gs(a).map(function(v){var g=[].concat($e(l!=null?l:[]),[v]),y=a[v],m=o.getFuncLabel(y,g,i),S=Q_(g,i),_=S.join(d);_==m&&(_=null);var O=y.tooltip;if(y.type=="!struct"){var x=o.buildOptions(i,y.subfields,s,g,m),w=h(y.subfields)>0;return{key:v,path:p+v,label:m,fullLabel:_,tooltip:O,items:x,matchesType:w}}else{var C=s!==void 0?y.returnType===s:void 0;return{key:v,path:p+v,label:m,fullLabel:_,tooltip:O,grouplabel:u,matchesType:C}}})}},{key:"getFuncLabel",value:function(i,a,o){if(!a)return null;o.settings.fieldSeparator;var s=o.settings.maxLabelsLength,l=Vie(a,o),u=(i==null?void 0:i.label)||yd(l);return u=Cf(u,s),u}},{key:"render",value:function(){var i=this.props,a=i.config,o=i.customProps,s=i.setValue,l=i.readonly,u=i.id,c=i.groupId,f=a.settings.renderFunc,d=$ie({config:a,customProps:o,readonly:l,setField:s,items:this.items,id:u,groupId:c},this.meta);return f(d,a.ctx)}}]),r}(ae.Component);GP.propTypes={id:Y.string,groupId:Y.string,config:Y.object.isRequired,field:Y.any,fieldType:Y.string,fieldSrc:Y.string,operator:Y.string,customProps:Y.object,value:Y.string,setValue:Y.func.isRequired,readonly:Y.bool,parentFuncs:Y.array,fieldDefinition:Y.object,isFuncArg:Y.bool,isLHS:Y.bool};var qie=Math.ceil,Hie=Math.max;function zie(t,e,r,n){for(var i=-1,a=Hie(qie((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Wie=zie,Gie=/\s/;function Uie(t){for(var e=t.length;e--&&Gie.test(t.charAt(e)););return e}var Yie=Uie,Kie=Yie,Qie=/^\s+/;function Jie(t){return t&&t.slice(0,Kie(t)+1).replace(Qie,"")}var Xie=Jie,Zie=Xie,J_=yi,eae=md,X_=NaN,tae=/^[-+]0x[0-9a-f]+$/i,rae=/^0b[01]+$/i,nae=/^0o[0-7]+$/i,iae=parseInt;function aae(t){if(typeof t=="number")return t;if(eae(t))return X_;if(J_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=J_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zie(t);var r=rae.test(t);return r||nae.test(t)?iae(t.slice(2),r?2:8):tae.test(t)?X_:+t}var UP=aae,oae=UP,Z_=1/0,sae=17976931348623157e292;function lae(t){if(!t)return t===0?t:0;if(t=oae(t),t===Z_||t===-Z_){var e=t<0?-1:1;return e*sae}return t===t?t:0}var YP=lae,uae=Wie,cae=xC,Bp=YP;function fae(t){return function(e,r,n){return n&&typeof n!="number"&&cae(e,r,n)&&(r=n=void 0),e=Bp(e),r===void 0?(r=e,e=0):r=Bp(r),n=n===void 0?e<r?1:-1:Bp(n),uae(e,r,n,t)}}var dae=fae,pae=dae,hae=pae(),vae=hae;const Jh=rn(vae);var gae=["factory"];function eS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tS=xt.ListUtils.getTitleInListValues,mae=xt.ConfigUtils._widgetDefKeysToOmit;const yae=function(t){var e=t.delta,r=t.isFuncArg;t.valueSrc;var n=t.value,i=t.valueError,a=t.asyncListValues,o=t.isSpecialRange,s=t.fieldDefinition;t.widget;var l=t.widgetDefinition,u=t.widgetValueLabel,c=t.valueLabels,f=t.textSeparators,d=t.setValueHandler,p=t.config,h=t.field,v=t.fieldSrc,g=t.fieldType,y=t.isLHS,m=t.operator,S=t.readonly,_=t.parentField,O=t.parentFuncs,x=t.id,w=t.groupId,C=l.factory,I=mi(l,gae),A=r&&s.valueSources&&s.valueSources.length==1&&s.valueSources[0]=="const",P=s.defaultValue;if(!C)return"?";var E=o?[n.get(0),n.get(1)]:n?n.get(e):void 0,R=i&&(o?[i.get(0),i.get(1)]:i.get(e))||null;o&&E[0]===void 0&&E[1]===void 0&&(E=void 0);var F=s||{},N=F.fieldSettings,V=er(qp(qp(qp({},I),N),{},{config:p,field:h,fieldSrc:v,fieldType:g,isLHS:y,parentField:_,parentFuncs:O,fieldDefinition:s,operator:m,delta:e,isSpecialRange:o,isFuncArg:r,value:E,valueError:R,label:u.label,placeholder:u.placeholder,placeholders:c?c.placeholder:null,textSeparators:f,setValue:d,readonly:S,asyncListValues:a,id:x,groupId:w}),[].concat($e(mae),["toJS"]));if(A&&P){var z=(N==null?void 0:N.treeValues)||(N==null?void 0:N.listValues);return typeof P=="boolean"?P?V.labelYes||"YES":V.labelNo||"NO":z?Array.isArray(P)?P.map(function(J){return tS(z,J)||J}).join(", "):tS(z,P)||P:""+P}return C(V,p.ctx)};function bae(t){var e=_ae();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function _ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var mm=xt.ConfigUtils,Sae=mm.getFieldConfig,Oae=mm.getOperatorConfig,rS=mm.getFieldWidgetConfig,ym=xt.RuleUtils,xae=ym.getValueSourcesForFieldOp,nS=ym.getWidgetForFieldOp,Ac=ym.getValueLabel,iS=xt.DefaultUtils.createListFromArray,wae={cardinality:1},Hu=function(t){sr(r,t);var e=bae(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i._setValue=function(a,o,s,l,u,c){if(a&&Array.isArray(l)){var f=[i.props.value.get(0),i.props.value.get(1)];f[0]!=l[0]&&i.props.setValue(0,l[0],s,u,c),f[1]!=l[1]&&i.props.setValue(1,l[1],s,u,c)}else i.props.setValue(o,l,s,u,c)},i._onChangeValueSrc=function(a,o){i.props.setValueSrc(a,o)},i.renderWidget=function(a,o,s){var l=s.config,u=s.isFuncArg,c=s.leftField,f=s.operator,d=s.value,p=s.valueError,h=s.readonly,v=s.parentField,g=s.parentFuncs,y=s.id,m=s.groupId,S=s.fieldSrc,_=s.fieldType,O=s.isLHS,x=l.settings,w=o.widgets,C=o.iValues,I=o.aField,A=o.valueSources,P=u?C:d,E=u?c:I,R=w[a],F=R.valueSrc,N=R.valueLabel,V=A.length>1&&!h,z=x.showLabels?j.createElement("label",{className:"rule--label"},N.label):null;return j.createElement("div",{key:"widget-"+E+"-"+a,className:Ai(F=="func"?"widget--func":"widget--widget",V?"widget--has-valuerscs":"widget--has-no-valuerscs")},F=="func"?null:z,j.createElement(yae,ge({id:y,groupId:m,valueSrc:F,delta:a,value:P,valueError:p,isFuncArg:u,isLHS:O},aa(o,["isSpecialRange","fieldDefinition","asyncListValues"]),aa(w[a],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler"]),{config:l,field:E,fieldSrc:S,fieldType:_,parentField:v,parentFuncs:g,operator:f,readonly:h})))},i.renderValueSources=function(a,o,s){var l=s.config,u=s.isFuncArg,c=s.leftField,f=s.operator,d=s.readonly,p=l.settings,h=o.valueSources,v=o.widgets,g=o.aField,y=u?c:g,m=v[a],S=m.valueSrc,_=m.setValueSrcHandler,O=p.valueSourcesInfo,x=p.renderValueSources,w=h.map(function(A){return[A,{label:O[A].label}]}),C=function(P){return x(P,l.ctx)},I=p.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return h.length>1&&!d&&j.createElement("div",{key:"valuesrc-"+y+"-"+a,className:"widget--valuesrc"},I,j.createElement(C,{key:"valuesrc-"+a,delta:a,valueSources:w,valueSrc:S,config:l,field:y,operator:f,setValueSrc:_,readonly:d,title:p.valueSourcesPopupTitle}))},i.renderSep=function(a,o,s){var l=s.config,u=o.widgets,c=l.settings,f=u[a].sepText,d=c.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return f&&j.createElement("div",{key:"widget-separators-"+a,className:Ai("widget--sep",a==0&&"widget--sep-first")},d,j.createElement("span",null,f))},i.renderWidgetDelta=function(a){var o=i.renderSep(a,i.meta,i.props),s=i.renderValueSources(a,i.meta,i.props),l=i.renderWidget(a,i.meta,i.props);return[o,s,l]},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["config","field","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","isFuncArg","asyncListValues","isLHS"],s=!this.meta||o.map(function(l){return i[l]!==a[l]||l=="isFuncArg"&&i.isFuncArg&&i.value!==a.value}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a=this,o=i.config,s=i.field;i.fieldSrc;var l=i.fieldType,u=i.fieldFunc,c=i.fieldArg,f=i.operator,d=i.valueSrc,p=i.value,h=i.isForRuleGroup,v=i.isCaseValue,g=i.isFuncArg;i.leftField;var y=i.asyncListValues,m=g?{func:u,arg:c}:s,S=!s&&l,_=d,O=p;(g||h||v)&&(_=iS([d]),O=iS([p]));var x=Sae(o,m);!x&&S&&(x=o.types[l]);var w=nS(o,m,f);if(!w&&S){var C;w=(C=o.types[l])===null||C===void 0?void 0:C.mainWidget}var I=g?wae:Oae(o,f,m);if((x==null||I==null)&&!v)return null;var A=I==null?void 0:I.isSpecialRange,P=A&&(_.get(0)=="field"||_.get(1)=="field"),E=A&&!P,R=E?1:zne(I==null?void 0:I.cardinality,1);if(R===0)return null;var F=xae(o,m,f,x);m||(F=Object.keys(o.settings.valueSourcesInfo));var N=Jh(0,R).map(function(V){var z,J=_.get(V)||null,H=nS(o,m,f,J),M=rS(o,m,f,H,J);P&&(H=M.singleWidget,M=rS(o,m,f,H,J)),!M&&S&&(H=["func","field"].includes(J)?J:w,M=o.widgets[H]);var L=(z=M)===null||z===void 0?void 0:z.type,q=Ac(o,m,f,V,J,E),W=Ac(o,m,f,V,null,E),Q=I!=null&&I.textSeparators?I==null?void 0:I.textSeparators[V]:null,K=a._onChangeValueSrc.bind(a,V),$=null,U=null;A&&($=[Ac(o,m,f,0),Ac(o,m,f,1)],$={placeholder:[$[0].placeholder,$[1].placeholder],label:[$[0].label,$[1].label]},U=I==null?void 0:I.textSeparators);var X=a._setValue.bind(a,A,V,L);return{valueSrc:J,valueLabel:q,widget:H,sepText:Q,setValueSrcHandler:K,widgetDefinition:M,widgetValueLabel:W,valueLabels:$,textSeparators:U,setValueHandler:X}});return{defaultWidget:w,fieldDefinition:x,operatorDefinition:I,isSpecialRange:E,cardinality:R,valueSources:F,widgets:N,iValues:O,aField:m,asyncListValues:y}}},{key:"render",value:function(){if(!this.meta)return null;var i=this.meta,a=i.defaultWidget,o=i.cardinality;if(!a)return null;var s=a;return j.createElement(tn,{className:"rule--widget rule--widget--".concat(s.toUpperCase()),key:"widget-col-"+s},Jh(0,o).map(this.renderWidgetDelta))}}]),r}(ae.Component);Hu.propTypes={config:Y.object.isRequired,value:Y.any,valueSrc:Y.any,valueError:Y.any,field:Y.any,fieldSrc:Y.string,fieldType:Y.string,operator:Y.string,readonly:Y.bool,asyncListValues:Y.array,id:Y.string,groupId:Y.string,setValue:Y.func,setValueSrc:Y.func,isFuncArg:Y.bool,fieldFunc:Y.string,fieldArg:Y.string,leftField:Y.any,isForRuleGroup:Y.bool,parentField:Y.string,parentFuncs:Y.array,isLHS:Y.bool,isCaseValue:Y.bool};function KP(t){var e=Eae();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Eae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Cae=xt.ConfigUtils.getFuncConfig,bm=xt.FuncUtils,Tae=bm.setFunc,Pae=bm.setArgValue,Aae=bm.setArgValueSrc,_m=function(t){sr(r,t);var e=KP(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.setFunc=function(a){i.props.setValue(Tae(i.props.value,a,i.props.config))},i.setArgValue=function(a,o,s,l){var u=i.props.config,c=i.meta.funcDefinition,f=c.args,d=f[a];i.props.setValue(Pae(i.props.value,a,o,d,u),s,l)},i.setArgValueSrc=function(a,o){var s=i.props.config,l=i.meta.funcDefinition,u=l.args,c=u[a];i.props.setValue(Aae(i.props.value,a,o,c,s))},i.renderFuncSelect=function(){var a=i.props,o=a.config,s=a.field,l=a.fieldType,u=a.fieldSrc,c=a.isLHS,f=a.operator,d=a.customProps,p=a.value,h=a.readonly,v=a.parentFuncs,g=a.id,y=a.groupId,m=a.isFuncArg,S=a.fieldDefinition,_=p?p.get("func"):null,O={value:_,setValue:i.setFunc,config:o,field:s,fieldType:l,fieldSrc:u,isLHS:c,operator:f,customProps:d,readonly:h,parentFuncs:v,isFuncArg:m,fieldDefinition:S,id:g,groupId:y},x=o.settings,w=x.showLabels,C=x.funcLabel,I=w?j.createElement("label",{className:"rule--label"},C):null;return j.createElement(tn,{key:"func",className:"rule--func"},I,j.createElement(GP,O))},i.renderArgLabel=function(a,o){var s=o.valueSources,l=o.type,u=o.showPrefix,c=o.label,f=i.props.config,d=s&&s.length==1&&s[0]=="const",p=!f.settings.showLabels&&(l=="boolean"||d)&&u;return p?j.createElement(tn,{className:"rule--func--arg-label"},c||a):null},i.renderArgLabelSep=function(a,o){var s=o.valueSources,l=o.type,u=o.showPrefix,c=i.props.config,f=s&&s.length==1&&s[0]=="const",d=!c.settings.showLabels&&(l=="boolean"||f)&&u;return d?j.createElement(tn,{className:"rule--func--arg-label-sep"},":"):null},i.renderArgVal=function(a,o,s){var l=i.props,u=l.config,c=l.field,f=l.fieldType,d=l.fieldSrc,p=l.isLHS;l.operator;var h=l.value,v=l.readonly,g=l.parentFuncs,y=l.id,m=l.groupId,S=h?h.getIn(["args",o]):null,_=S?S.get("value"):void 0,O=s.valueSources.length==1?s.valueSources[0]:void 0,x=S?S.get("valueSrc")||O||"value":O,w={config:u,fieldFunc:a,fieldArg:o,leftField:c,fieldType:f,fieldSrc:d,isLHS:p,operator:null,value:_,valueSrc:x,setValue:i.setArgValue,setValueSrc:i.setArgValueSrc,funcKey:a,argKey:o,argDefinition:s,readonly:v,parentFuncs:g,id:y,groupId:m};return j.createElement(tn,{className:"rule--func--arg-value"},j.createElement(QP,w))},i.renderArgSep=function(a,o,s,l){var u=l.renderSeps;return s?j.createElement(tn,{className:"rule--func--arg-sep"},u?u[s-1]:", "):null},i.renderBracketBefore=function(a){var o=a.renderBrackets;return j.createElement(tn,{key:"before_args",className:"rule--func--bracket-before"},o?o[0]:"(")},i.renderBracketAfter=function(a){var o=a.renderBrackets;return j.createElement(tn,{key:"after_args",className:"rule--func--bracket-after"},o?o[1]:")")},i.renderFuncArgs=function(){var a=i.meta,o=a.funcDefinition,s=a.funcKey;if(!s)return null;var l=o||{},u=l.args;return u?j.createElement(j.Fragment,null,i.renderBracketBefore(o),j.createElement(tn,{key:"args",className:"rule--func--args"},Object.keys(u).map(function(c,f){return j.createElement(tn,{key:"arg-".concat(c,"-").concat(f),className:"rule--func--arg"},i.renderArgSep(c,u[c],f,o),i.renderArgLabel(c,u[c]),i.renderArgLabelSep(c,u[c]),i.renderArgVal(s,c,u[c]))})),i.renderBracketAfter(o)):null},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["config","field","operator","value","fieldSrc","fieldType","isLHS"],s=!this.meta||o.map(function(l){return i[l]!==a[l]}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a=i.config;i.field,i.operator;var o=i.value,s=o?o.get("func"):null,l=s?Cae(a,s):null;return{funcDefinition:l,funcKey:s}}},{key:"render",value:function(){return j.createElement(tn,{className:"rule--func--wrapper"},this.renderFuncSelect(),this.renderFuncArgs())}}]),r}(ae.Component);_m.propTypes={id:Y.string,groupId:Y.string,config:Y.object.isRequired,field:Y.any,fieldSrc:Y.string,fieldType:Y.string,operator:Y.string,customProps:Y.object,value:Y.object,setValue:Y.func.isRequired,readonly:Y.bool,parentFuncs:Y.array,fieldDefinition:Y.object,isFuncArg:Y.bool,isLHS:Y.bool};var QP=function(t){sr(r,t);var e=KP(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.setValue=function(a,o,s,l,u){var c=i.props,f=c.setValue,d=c.argKey;f(d,o,l,u)},i.setValueSrc=function(a,o,s){var l=i.props,u=l.setValueSrc,c=l.argKey;u(c,o)},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["parentFuncs","funcKey","argKey"],s=!this.meta||o.map(function(l){return i[l]!==a[l]}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a=i.parentFuncs,o=i.funcKey,s=i.argKey,l=[].concat($e(a||[]),[[o,s]]);return{parentFuncs:l}}},{key:"render",value:function(){var i=this.meta.parentFuncs;return j.createElement(Hu,ge({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:i}))}}]),r}(ae.Component);QP.propTypes={funcKey:Y.string.isRequired,argKey:Y.string.isRequired,setValue:Y.func.isRequired,setValueSrc:Y.func.isRequired,readonly:Y.bool,isLHS:Y.bool,parentFuncs:Y.array,id:Y.string,groupId:Y.string};function kae(t){var e=Iae();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Iae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Sm=function(t){sr(r,t);var e=kae(r);function r(){var n;lr(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),n.renderField=function(){var s=n.props,l=s.config,u=s.classname,c=s.selectedField,f=s.selectedFieldSrc,d=s.selectedFieldType,p=s.setField,h=s.parentField,v=s.readonly,g=s.id,y=s.groupId,m=["func","field"];if(!m.includes(f))return"?";var S=f==="func"?j.createElement(_m,{isLHS:!0,config:l,value:c,fieldSrc:f,fieldType:d,parentField:h,setValue:p,readonly:v,id:g,groupId:y,key:"field-func-"+g}):j.createElement(zP,{config:l,selectedField:c,selectedFieldSrc:f,selectedFieldType:d,parentField:h,setField:p,customProps:l.settings.customFieldSelectProps,readonly:v,id:g,groupId:y,key:"field-"+g}),_=f==="func"?l.settings.funcLabel:l.settings.fieldLabel,O=l.settings.showLabels&&f!=="func"&&j.createElement("label",{className:"rule--label"},_);return j.createElement("div",{key:f,className:u},O,S)},n.renderFieldSources=function(){var s=n.props,l=s.config,u=s.readonly,c=s.selectedFieldSrc,f=s.setFieldSrc,d=s.id,p=l.settings,h=p.fieldSources,v=p.valueSourcesInfo,g=p.renderValueSources,y=h.map(function(_){return[_,{label:v[_].label}]}),m=function(O){return g(O,l.ctx)},S=p.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return h.length>1&&!u&&j.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},S,j.createElement(m,{key:"fieldsrc-"+d,valueSources:y,valueSrc:c,config:l,setValueSrc:f,readonly:u,title:p.fieldSourcesPopupTitle}))},n}return ur(r,[{key:"render",value:function(){var i=this.props;i.classname;var a=i.canSelectFieldSource,o=a&&this.renderFieldSources(),s=this.renderField();return a?j.createElement(tn,{className:"rule--field-wrapper"},o,s):s}}]),r}(ae.PureComponent),jae=["factory"];function Rae(t){var e=Fae();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Fae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Lae=xt.ConfigUtils.getOperatorConfig,JP=function(t){sr(r,t);var e=Rae(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var i=Lae(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof i.options>"u")return null;var a=i.options,o=a.factory,s=mi(a,jae),l=Object.assign({},s,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),u=o(l,this.props.config.ctx),c=this.props.selectedOperator;return j.createElement("div",{className:"rule--operator rule--operator--".concat(c.toUpperCase())},u)}}]),r}(ae.PureComponent);JP.propTypes={config:Y.object.isRequired,operatorOptions:Y.any.isRequired,selectedField:Y.any,selectedFieldSrc:Y.string,selectedOperator:Y.string.isRequired,readonly:Y.bool,setOperatorOption:Y.func.isRequired};function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ae(t){var e=Nae();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Nae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Fd=xt.ConfigUtils,Dae=Fd.getFieldConfig,Mae=Fd.getOperatorConfig,Vae=Fd.getFieldWidgetConfig,Bae=Fd.getFieldParts,qae=xt.RuleUtils.isEmptyRuleProperties,XP=function(t){sr(r,t);var e=$ae(r);function r(n){var i;return lr(this,r),i=e.call(this,n),xn(_r(i)),i.removeSelf=i.removeSelf.bind(_r(i)),i.setLock=i.setLock.bind(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"],s=!this.meta||o.map(function(l){return i[l]!==a[l]}).filter(function(l){return l}).length>0;s&&(this.meta=this.getMeta(i))}},{key:"getMeta",value:function(i){var a=i.selectedField,o=i.selectedFieldType,s=i.selectedOperator,l=i.config,u=i.reordableNodesCnt,c=i.isLocked,f=l.settings.keepInputOnChangeFieldSrc,d=Bae(a,l),p=Dae(l,a),h=p&&p.type=="!struct",v=f&&o,g=!!a||v,y=g&&s,m=Mae(l,s,a),S=m&&m.options!=null,_=Vae(l,a,s,null,null)||{},O=_.hideOperator,x=l.settings.canReorder&&u>1&&!c,w=g&&!O,C=g&&O&&_.operatorInlineLabel,I=y&&!h,A=y&&S;return{selectedFieldParts:d,selectedFieldWidgetConfig:_,showDragIcon:x,showOperator:w,showOperatorLabel:C,showWidget:I,showOperatorOptions:A}}},{key:"setLock",value:function(i){this.props.setLock(i)}},{key:"removeSelf",value:function(){var i=this,a=this.props,o=a.confirmFn,s=a.config,l=s.settings,u=l.renderConfirm,c=l.removeRuleConfirmOptions,f=function(){i.props.removeSelf()};c&&!this.isEmptyCurrentRule()?u.call(s.ctx,oS(oS({},c),{},{onOk:f,onCancel:null,confirmFn:o}),s.ctx):f()}},{key:"_buildWidgetProps",value:function(i){var a=i.selectedField,o=i.selectedFieldSrc,s=i.selectedFieldType,l=i.selectedOperator,u=i.operatorOptions,c=i.value,f=i.valueType,d=i.valueSrc,p=i.asyncListValues,h=i.valueError,v=i.parentField;return{field:a,fieldSrc:o,fieldType:s,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:d,asyncListValues:p,valueError:h,parentField:v}}},{key:"isEmptyCurrentRule",value:function(){var i=this.props.config,a=this._buildWidgetProps(this.props);return qae(a,i)}},{key:"renderField",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=i.parentField,l=i.groupId,u=i.id,c=i.selectedFieldSrc,f=i.selectedField,d=i.selectedFieldType,p=i.setField,h=i.setFieldSrc,v=a.settings.immutableFieldsMode;return j.createElement(Sm,{key:"field",classname:Ai(c=="func"?"rule--field--func":"rule--field"),config:a,canSelectFieldSource:!s,selectedField:f,selectedFieldSrc:c,selectedFieldType:d,setField:v?ci:p,setFieldSrc:v?ci:h,parentField:s,readonly:v||o,id:u,groupId:l})}},{key:"renderOperator",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=this.meta,l=s.selectedFieldParts,u=s.selectedFieldWidgetConfig,c=s.showOperator,f=s.showOperatorLabel,d=a.settings.immutableOpsMode;return j.createElement(HP,{key:"operator",config:a,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedOperator:this.props.selectedOperator,setOperator:d?ci:this.props.setOperator,selectedFieldParts:l,showOperator:c,showOperatorLabel:f,selectedFieldWidgetConfig:u,readonly:d||o,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=this.meta.showWidget,l=a.settings.immutableValuesMode;if(!s)return null;var u=j.createElement(Hu,ge({key:"values"},this._buildWidgetProps(this.props),{config:a,setValue:l?ci:this.props.setValue,setValueSrc:l?ci:this.props.setValueSrc,readonly:l||o,id:this.props.id,groupId:this.props.groupId}));return j.createElement(tn,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},u)}},{key:"renderOperatorOptions",value:function(){var i=this.props.config,a=this.meta.showOperatorOptions,o=i.settings,s=o.immutableOpsMode,l=o.immutableValuesMode;if(!a)return null;var u=j.createElement(JP,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:s?ci:this.props.setOperatorOption,config:i,readonly:l});return j.createElement(tn,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},u)}},{key:"renderBeforeWidget",value:function(){var i=this.props.config,a=i.settings.renderBeforeWidget;return a&&j.createElement(tn,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},typeof a=="function"?a(this.props,i.ctx):a)}},{key:"renderAfterWidget",value:function(){var i=this.props.config,a=i.settings.renderAfterWidget;return a&&j.createElement(tn,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},typeof a=="function"?a(this.props,i.ctx):a)}},{key:"renderError",value:function(){var i=this.props,a=i.config,o=i.valueError,s=a.settings,l=s.renderRuleError,u=s.showErrorMessage,c=o&&o.toArray().filter(function(f){return!!f}).shift()||null;return u&&c&&j.createElement("div",{className:"rule--error"},l?l({error:c},a.ctx):c)}},{key:"renderDrag",value:function(){var i=this.meta.showDragIcon;return i&&j.createElement("span",{key:"rule-drag-icon",className:"qb-drag-handler rule--drag-handler",onMouseDown:this.props.handleDraggerMouseDown},j.createElement(qP,null)," ")}},{key:"renderDel",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=a.settings,l=s.deleteLabel,u=s.immutableGroupsMode,c=s.renderButton,f=s.canDeleteLocked,d=function(h){return c(h,a.ctx)};return!u&&(!o||o&&f)&&j.createElement(d,{type:"delRule",onClick:this.removeSelf,label:l,config:a})}},{key:"renderLock",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=i.isTrueLocked,l=i.id,u=a.settings,c=u.lockLabel,f=u.lockedLabel,d=u.showLock,p=u.renderSwitch,h=function(g){return p(g,a.ctx)};return d&&!(o&&!s)&&j.createElement(h,{type:"lock",id:l,value:o,setValue:this.setLock,label:c,checkedLabel:f,hideLabel:!0,config:a})}},{key:"render",value:function(){var i=this.meta,a=i.showOperatorOptions,o=i.selectedFieldWidgetConfig,s=this.props,l=s.valueSrc,u=s.value,c=s.config,f=l.first()=="value"&&!a&&u.size==1&&o.fullWidth,d=c.settings.renderButtonGroup,p=function(O){return d(O,c.ctx)},h=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],v=j.createElement("div",{key:"rule-body",className:Ai("rule--body",f&&"can--shrink--value")},h),g=this.renderError(),y=this.renderDrag(),m=this.renderLock(),S=this.renderDel();return j.createElement(j.Fragment,null,y,j.createElement("div",{className:"rule--body--wrapper"},v,g),j.createElement("div",{className:"rule--header"},j.createElement(p,{config:c},m,S)))}}]),r}(ae.Component);XP.propTypes={id:Y.string.isRequired,groupId:Y.string,selectedField:Y.any,selectedFieldSrc:Y.string,selectedFieldType:Y.string,selectedOperator:Y.string,operatorOptions:Y.object,config:Y.object.isRequired,value:Y.any,valueSrc:Y.any,valueType:Y.any,asyncListValues:Y.array,isDraggingMe:Y.bool,isDraggingTempo:Y.bool,parentField:Y.string,valueError:Y.any,isLocked:Y.bool,isTrueLocked:Y.bool,handleDraggerMouseDown:Y.func,setField:Y.func,setFieldSrc:Y.func,setOperator:Y.func,setOperatorOption:Y.func,setLock:Y.func,removeSelf:Y.func,setValue:Y.func,setValueSrc:Y.func,reordableNodesCnt:Y.number,totalRulesCnt:Y.number,parentReordableNodesCnt:Y.number};const Hae=uie(ml("rule")(yl(XP)));function zae(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Wae=zae,Gae=YP;function Uae(t){var e=Gae(t),r=e%1;return e===e?r?e-r:e:0}var Yae=Uae,Kae=Wae,Qae=tC,Jae=Yae,Xae=rC;function Zae(t,e,r){return t=Xae(t),r=r==null?0:Kae(Jae(r),0,t.length),e=Qae(e),t.slice(r,r+e.length)==e}var eoe=Zae;const toe=rn(eoe);function roe(t){var e=noe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function noe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var ioe=xt.DefaultUtils.defaultGroupConjunction,aoe=function(e,r){var n;return n=function(i){sr(o,i);var a=roe(o);function o(s){var l;return lr(this,o),l=a.call(this,s),l._selectedConjunction=function(u){return u=u||l.props,u.conjunction||ioe(u.config,u.field)},l.setConjunction=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setConjunction(l.props.path,u)},l.setNot=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setNot(l.props.path,u)},l.setLock=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l.props.actions.setLock(l.props.path,u)},l.dummyFn=function(){},l.removeSelf=function(){l.props.actions.removeGroup(l.props.path)},l.addGroup=function(){l.props.actions.addGroup(l.props.path)},l.addCaseGroup=function(){l.props.actions.addCaseGroup(l.props.path)},l.addDefaultCaseGroup=function(){l.props.actions.addDefaultCaseGroup(l.props.path)},l.addRule=function(){var u=r=="rule_group"?l.props.field:null;l.props.actions.addRule(l.props.path,void 0,void 0,void 0,u)},l.setField=function(u,c,f){l.props.actions.setField(l.props.path,u,c,f)},l.setOperator=function(u){l.props.actions.setOperator(l.props.path,u)},l.setValue=function(u,c,f){l.props.actions.setValue(l.props.path,u,c,f)},l.pureShouldComponentUpdate=gl(_r(l)),xn(_r(l)),l.selectedConjunction=l._selectedConjunction(s),l.conjunctionOptions=l._getConjunctionOptions(s),l.dummyFn.isDummyFn=!0,l}return ur(o,[{key:"shouldComponentUpdate",value:function(l,u){var c=this.props,f=this.state,d=this.pureShouldComponentUpdate(l,u);if(d&&f==u&&c!=l){var p=l.dragging.id||c.dragging.id,h=p==l.id,v=[];for(var g in l){var y=l[g]!=c[g];g=="dragging"&&!h&&(y=!1),y&&v.push(g)}v.length||(d=!1)}return d}},{key:"onPropsChanged",value:function(l){var u=l.config;l.id;var c=l.conjunction,f=this.props.config,d=this.props.conjunction;(f!=u||d!=c)&&(this.selectedConjunction=this._selectedConjunction(l),this.conjunctionOptions=this._getConjunctionOptions(l))}},{key:"_getConjunctionOptions",value:function(l){var u=this;return Ad(l.config.conjunctions,function(c,f){return{id:"conjunction-".concat(l.id,"-").concat(f),name:"conjunction[".concat(l.id,"]"),key:f,label:c.label,checked:f===u._selectedConjunction(l)}})}},{key:"render",value:function(){var l=this.props.dragging.id==this.props.id,u=this.props.path.size,c=this.props.config.settings.maxNesting,f=!l&&this.props.isDraggingTempo,d=this.props.fieldType||null,p=typeof c>"u"||u<c,h=u==1;return j.createElement("div",{className:"group-or-rule-container group-container","data-id":this.props.id},[l?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:h,allowFurtherNesting:p,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:f,onDragStart:this.props.onDragStart,isRoot:h,allowFurtherNesting:p,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:f?this.dummyFn:this.setConjunction,setNot:f?this.dummyFn:this.setNot,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,addGroup:f?this.dummyFn:this.addGroup,addCaseGroup:f?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:f?this.dummyFn:this.addDefaultCaseGroup,addRule:f?this.dummyFn:this.addRule,setField:f?this.dummyFn:this.setField,setOperator:f?this.dummyFn:this.setOperator,setValue:f?this.dummyFn:this.setValue,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),o}(ae.Component),n.propTypes={config:Y.object.isRequired,actions:Y.object.isRequired,path:Y.any.isRequired,id:Y.string.isRequired,groupId:Y.string,not:Y.bool,conjunction:Y.string,children1:Y.any,onDragStart:Y.func,reordableNodesCnt:Y.number,field:Y.any,fieldSrc:Y.string,fieldType:Y.string,parentField:Y.string,isLocked:Y.bool,isTrueLocked:Y.bool,dragging:Y.object,isDraggingTempo:Y.bool},n};const zu=function(t,e){var r=jd(function(n){return{dragging:n.dragging}},null,null,{context:Ru})(aoe(t,e));return r.displayName="ConnectedGroupContainer",r};function ooe(t){var e=soe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function soe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var loe={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},uoe="topRight",ZP=function(t){sr(r,t);var e=ooe(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.addGroup,l=i.removeSelf,u=i.setLock,c=i.isLocked,f=i.isTrueLocked,d=i.id,p=i.canAddGroup,h=i.canAddRule,v=i.canDeleteGroup,g=a.settings,y=g.immutableGroupsMode,m=g.addRuleLabel,S=g.addGroupLabel,_=g.delGroupLabel,O=g.groupActionsPosition,x=g.renderButton,w=g.renderSwitch,C=g.renderButtonGroup,I=g.lockLabel,A=g.lockedLabel,P=g.showLock,E=g.canDeleteLocked,R=function(q){return x(q,a.ctx)},F=function(q){return w(q,a.ctx)},N=function(q){return C(q,a.ctx)},V=loe[O||uoe],z=P&&!(c&&!f)&&j.createElement(F,{type:"lock",id:d,value:c,setValue:u,label:I,checkedLabel:A,config:a}),J=!y&&h&&!c&&j.createElement(R,{type:"addRule",onClick:o,label:m,readonly:c,config:a}),H=!y&&p&&!c&&j.createElement(R,{type:"addGroup",onClick:s,label:S,readonly:c,config:a}),M=!y&&v&&(!c||c&&E)&&j.createElement(R,{type:"delGroup",onClick:l,label:_,config:a});return j.createElement("div",{className:"group--actions ".concat(V)},j.createElement(N,{config:a},z,J,H,M))}}]),r}(ae.PureComponent);function sS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function coe(t){var e=foe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function foe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var doe=xt.RuleUtils.isEmptyGroupChildren,poe="topRight",pa=function(t){sr(r,t);var e=coe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.childrenClassName=function(){return""},i.renderBeforeActions=function(){var a=i.props.config.settings.renderBeforeActions;return a==null?null:typeof a=="function"?a(i.props,i.props.config.ctx):a},i.renderAfterActions=function(){var a=i.props.config.settings.renderAfterActions;return a==null?null:typeof a=="function"?a(i.props,i.props.config.ctx):a},i.removeSelf=i.removeSelf.bind(_r(i)),i.setLock=i.setLock.bind(_r(i)),i.renderItem=i.renderItem.bind(_r(i)),i}return ur(r,[{key:"isGroupTopPosition",value:function(){return toe(this.props.config.settings.groupActionsPosition||poe,"top")}},{key:"setLock",value:function(i){this.props.setLock(i)}},{key:"removeSelf",value:function(){var i=this,a=this.props,o=a.confirmFn,s=a.config,l=s.settings,u=l.renderConfirm,c=l.removeGroupConfirmOptions,f=function(){i.props.removeSelf()};c&&!this.isEmptyCurrentGroup()?u.call(s.ctx,lS(lS({},c),{},{onOk:f,onCancel:null,confirmFn:o}),s.ctx):f()}},{key:"isEmptyCurrentGroup",value:function(){var i=this.props,a=i.children1,o=i.config;return doe(a,o)}},{key:"render",value:function(){return j.createElement(j.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}},{key:"showNot",value:function(){var i=this.props.config;return i.settings.showNot}},{key:"showConjs",value:function(){var i=this.props,a=i.conjunctionOptions;i.children1,i.config;var o=Object.keys(a).length;return o>1||this.showNot()}},{key:"isNoChildren",value:function(){var i=this.props.children1;return i?i.size==0:!0}},{key:"isOneChild",value:function(){var i=this.props.children1;return i?i.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var i=this.props.children1;return i&&j.createElement("div",{key:"group-children",className:Ai("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var i=this.isGroupTopPosition();return j.createElement("div",{key:"group-header",className:Ai("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),i&&this.renderBeforeActions(),i&&this.renderActions(),i&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var i=this.isGroupTopPosition();return!i&&j.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.addGroup,l=i.isLocked,u=i.isTrueLocked,c=i.id;return j.createElement(ZP,{config:a,addRule:o,addGroup:s,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:l,isTrueLocked:u,id:c})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var i=this.props.config.settings.maxNumberOfRules,a=this.props.totalRulesCnt;return i?a<i:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var i=this.props.children1;return i?i.map(this.renderItem).toList():null}},{key:"renderItem",value:function(i){var a=this.props,o=a.config,s=a.actions,l=a.onDragStart,u=a.isLocked,c=i.get("type")=="group"&&i.getIn(["properties","field"])!=null,f=c?"rule_group":i.get("type");return j.createElement(Om,ge({},this.extraPropsForItem(i),{key:i.get("id"),id:i.get("id"),groupId:a.id,path:i.get("path"),type:f,properties:i.get("properties"),config:o,actions:s,children1:i.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(i),totalRulesCnt:this.totalRulesCntForItem(i),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:l,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:u}))}},{key:"extraPropsForItem",value:function(i){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(i){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(i){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var i=this.props,a=i.config,o=i.isRoot,s=i.isLocked,l=this.reordableNodesCnt();return a.settings.canReorder&&!o&&l>1&&!s}},{key:"renderDrag",value:function(){var i=this.props.handleDraggerMouseDown,a=this.showDragIcon()&&j.createElement("span",{key:"group-drag-icon",className:"qb-drag-handler group--drag-handler",onMouseDown:i},j.createElement(qP,null)," ");return a}},{key:"conjunctionOptions",value:function(){var i=this.props.conjunctionOptions;return i}},{key:"renderConjs",value:function(){var i=this.props,a=i.config,o=i.children1,s=i.id,l=i.selectedConjunction,u=i.setConjunction,c=i.not,f=i.setNot,d=i.isLocked,p=a.settings,h=p.immutableGroupsMode,v=p.renderConjs;p.showNot;var g=p.notLabel,y=this.conjunctionOptions();if(!this.showConjs()||!o||!o.size)return null;var m={disabled:this.isOneChild(),readonly:h||d,selectedConjunction:l,setConjunction:h?ci:u,conjunctionOptions:y,config:a,not:c||!1,id:s,setNot:h?ci:f,notLabel:g,showNot:this.showNot(),isLocked:d};return v(m,a.ctx)}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}}]),r}(ae.Component);pa.propTypes={reordableNodesCnt:Y.number,conjunctionOptions:Y.object.isRequired,allowFurtherNesting:Y.bool.isRequired,isRoot:Y.bool.isRequired,not:Y.bool,selectedConjunction:Y.string,config:Y.object.isRequired,id:Y.string.isRequired,groupId:Y.string,path:Y.any,children1:Y.any,isDraggingMe:Y.bool,isDraggingTempo:Y.bool,isLocked:Y.bool,isTrueLocked:Y.bool,handleDraggerMouseDown:Y.func,onDragStart:Y.func,addRule:Y.func.isRequired,addGroup:Y.func.isRequired,removeSelf:Y.func.isRequired,setConjunction:Y.func.isRequired,setNot:Y.func.isRequired,setLock:Y.func.isRequired,actions:Y.object.isRequired};const hoe=zu(ml("group")(yl(pa)),"group");function voe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Qe(t),t!==null););return t}function Xi(){return typeof Reflect<"u"&&Reflect.get?Xi=Reflect.get.bind():Xi=function(e,r,n){var i=voe(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Xi.apply(this,arguments)}function goe(t){var e=moe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function moe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var yoe=function(t){sr(r,t);var e=goe(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.canAddRule,l=i.canDeleteGroup,u=i.removeSelf,c=i.setLock,f=i.isLocked,d=i.isTrueLocked,p=i.id,h=a.settings,v=h.immutableGroupsMode,g=h.addRuleLabel,y=h.delGroupLabel,m=h.renderButton,S=h.renderSwitch,_=h.renderButtonGroup,O=h.lockLabel,x=h.lockedLabel,w=h.showLock,C=h.canDeleteLocked,I=function(V){return m(V,a.ctx)},A=function(V){return S(V,a.ctx)},P=function(V){return _(V,a.ctx)},E=w&&!(f&&!d)&&j.createElement(A,{type:"lock",id:p,value:f,setValue:c,label:O,checkedLabel:x,hideLabel:!0,config:a}),R=!v&&s&&!f&&j.createElement(I,{type:"addRuleGroup",onClick:o,label:g,readonly:f,config:a}),F=!v&&l&&(!f||f&&C)&&j.createElement(I,{type:"delRuleGroup",onClick:u,label:y,config:a});return j.createElement("div",{className:"group--actions"},j.createElement(P,{config:a},E,R,F))}}]),r}(ae.PureComponent);function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function boe(t){var e=_oe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function _oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var eA=function(t){sr(r,t);var e=boe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.childrenClassName=function(){return"rule_group--children"},i.renderHeaderWrapper=function(){return null},i.renderFooterWrapper=function(){return null},i.renderConjs=function(){return null},i.canAddGroup=function(){return!1},i.canAddRule=function(){return!0},i.canDeleteGroup=function(){return!1},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){}},{key:"reordableNodesCntForItem",value:function(i){if(this.props.isLocked)return 0;var a=this.props.children1;return(a==null?void 0:a.size)||0}},{key:"renderChildrenWrapper",value:function(){return j.createElement(j.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),Xi(Qe(r.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var i=this.props,a=i.config,o=i.selectedField,s=i.selectedFieldSrc,l=i.selectedFieldType,u=i.setField,c=i.setFieldSrc,f=i.parentField,d=i.id,p=i.groupId,h=i.isLocked,v=a.settings.immutableFieldsMode;return j.createElement(Sm,{key:"field",classname:"group--field",config:a,canSelectFieldSource:!1,selectedField:o,selectedFieldSrc:s,selectedFieldType:l,setField:u,setFieldSrc:c,parentField:f,readonly:v||h,id:d,groupId:p})}},{key:"renderActions",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.isLocked,l=i.isTrueLocked,u=i.id;return j.createElement(yoe,{config:a,addRule:o,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"extraPropsForItem",value:function(i){return{parentField:this.props.selectedField}}}]),r}(pa);eA.propTypes=cS(cS({},pa.propTypes),{},{selectedField:Y.any,selectedFieldSrc:Y.string,parentField:Y.string,setField:Y.func,setFieldSrc:Y.func});const Soe=zu(ml("group rule_group")(yl(eA)),"rule_group");function Ooe(t){var e=xoe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function xoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var woe=function(t){sr(r,t);var e=Ooe(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.canAddRule,l=i.canDeleteGroup,u=i.removeSelf,c=i.setLock,f=i.isLocked,d=i.isTrueLocked,p=i.id,h=a.settings,v=h.immutableGroupsMode,g=h.addSubRuleLabel,y=h.delGroupLabel,m=h.renderButton,S=h.renderSwitch,_=h.renderButtonGroup,O=h.lockLabel,x=h.lockedLabel,w=h.showLock,C=h.canDeleteLocked,I=function(V){return m(V,a.ctx)},A=function(V){return S(V,a.ctx)},P=function(V){return _(V,a.ctx)},E=w&&!(f&&!d)&&j.createElement(A,{type:"lock",id:p,value:f,setValue:c,label:O,checkedLabel:x,config:a}),R=!v&&s&&!f&&j.createElement(I,{type:"addRuleGroupExt",onClick:o,label:g,readonly:f,config:a}),F=!v&&l&&(!f||f&&C)&&j.createElement(I,{type:"delRuleGroup",onClick:u,label:y,config:a});return j.createElement("div",{className:"group--actions group--actions--tr"},j.createElement(P,{config:a},E,R,F))}}]),r}(ae.PureComponent);function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eoe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Coe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Coe(t,e){if(t){if(typeof t=="string")return pS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(t,e)}}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Toe(t){var e=Poe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Poe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var tA=xt.ConfigUtils,hS=tA.getFieldConfig,Aoe=tA.getFieldWidgetConfig,koe=xt.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,rA=function(t){sr(r,t);var e=Toe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.childrenClassName=function(){return"rule_group_ext--children"},i.renderFooterWrapper=function(){return null},i.canAddGroup=function(){return!1},i.canAddRule=function(){return!0},i.canDeleteGroup=function(){return!0},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Ai("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return j.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget())}},{key:"showNot",value:function(){var i=this.props,a=i.config,o=i.selectedField;i.selectedOperator;var s=hS(a,o)||{};return s.showNot!=null?s.showNot:a.settings.showNot}},{key:"conjunctionOptions",value:function(){var i=this.props,a=i.config,o=i.selectedField;i.selectedOperator;var s=hS(a,o)||{},l=Xi(Qe(r.prototype),"conjunctionOptions",this).call(this);if(s.conjunctions){var u={},c=Eoe(s.conjunctions),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;u[d]=l[d]}}catch(p){c.e(p)}finally{c.f()}l=u}return l}},{key:"renderField",value:function(){var i=this.props,a=i.config,o=i.selectedField,s=i.selectedFieldSrc,l=i.selectedFieldType,u=i.setField,c=i.setFieldSrc,f=i.parentField,d=i.id,p=i.groupId,h=i.isLocked,v=a.settings.immutableFieldsMode;return j.createElement(Sm,{key:"field",classname:"rule--field",config:a,canSelectFieldSource:!1,selectedField:o,selectedFieldSrc:s,selectedFieldType:l,setField:u,setFieldSrc:c,parentField:f,readonly:v||h,id:d,groupId:p})}},{key:"renderOperator",value:function(){var i=this.props,a=i.config,o=i.selectedField,s=i.selectedFieldSrc,l=i.selectedOperator;i.setField;var u=i.setOperator,c=i.isLocked,f=a.settings.immutableFieldsMode,d=Aoe(a,o,l)||{},p=d.hideOperator,h=o&&p&&d.operatorInlineLabel,v=o&&!p;return j.createElement(HP,{key:"operator",classname:"group--operator",config:a,selectedField:o,selectedFieldSrc:s,selectedOperator:l,setOperator:u,selectedFieldPartsLabels:["group"],showOperator:v,showOperatorLabel:h,selectedFieldWidgetConfig:d,readonly:f||c,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var i=this.props,a=i.children1,o=i.config,s=this._buildWidgetProps(this.props);return koe(s,a,o)}},{key:"_buildWidgetProps",value:function(i){var a=i.selectedField,o=i.selectedFieldSrc,s=i.selectedFieldType,l=i.selectedOperator,u=i.operatorOptions,c=i.value,f=i.valueType;i.valueSrc,i.asyncListValues,i.valueError;var d=i.parentField;return{field:a,fieldSrc:o,fieldType:s,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:["value"],valueError:null,parentField:d}}},{key:"renderWidget",value:function(){var i=this.props,a=i.config,o=i.selectedField,s=i.selectedOperator,l=i.isLocked,u=a.settings.immutableValuesMode,c=o&&s,f=c;if(!f)return null;var d=j.createElement(Hu,ge({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:a,setValue:u?ci:this.props.setValue,setValueSrc:ci,readonly:u||l,id:this.props.id,groupId:this.props.groupId}));return j.createElement(tn,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},d)}},{key:"renderActions",value:function(){var i=this.props,a=i.config,o=i.addRule,s=i.isLocked,l=i.isTrueLocked,u=i.id;return j.createElement(woe,{config:a,addRule:o,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"reordableNodesCntForItem",value:function(i){if(this.props.isLocked)return 0;var a=this.props.children1;return(a==null?void 0:a.size)||0}},{key:"extraPropsForItem",value:function(i){return{parentField:this.props.selectedField}}}]),r}(pa);rA.propTypes=dS(dS({},pa.propTypes),{},{selectedField:Y.any,selectedFieldSrc:Y.string,selectedOperator:Y.string,value:Y.any,parentField:Y.string,setField:Y.func,setFieldSrc:Y.func,setOperator:Y.func,setValue:Y.func});const Ioe=zu(ml("group rule_group_ext")(yl(rA)),"rule_group");function joe(t){var e=Roe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Roe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Foe={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},Loe="topRight",$oe=function(t){sr(r,t);var e=joe(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.config,o=i.addCaseGroup,s=i.addDefaultCaseGroup,l=i.setLock,u=i.isLocked,c=i.isTrueLocked,f=i.id,d=i.canAddGroup,p=i.canAddDefault,h=a.settings,v=h.immutableGroupsMode,g=h.addCaseLabel,y=h.addDefaultCaseLabel,m=h.groupActionsPosition,S=h.renderButton,_=h.renderSwitch,O=h.renderButtonGroup,x=h.lockLabel,w=h.lockedLabel,C=h.showLock,I=function(z){return S(z,a.ctx)},A=function(z){return _(z,a.ctx)},P=function(z){return O(z,a.ctx)},E=Foe[m||Loe],R=C&&!(u&&!c)&&j.createElement(A,{type:"lock",id:f,value:u,setValue:l,label:x,checkedLabel:w,config:a}),F=!v&&d&&!u&&j.createElement(I,{type:"addCaseGroup",onClick:o,label:g,readonly:u,config:a}),N=!v&&p&&!u&&j.createElement(I,{type:"addDefaultCaseGroup",onClick:s,label:y,readonly:u,config:a});return j.createElement("div",{className:"group--actions ".concat(E)},j.createElement(P,{config:a},R,F,N))}}]),r}(ae.PureComponent);function vS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Noe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Doe(t){var e=Moe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Moe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var nA=xt.TreeUtils,Voe=nA.getTotalReordableNodesCountInTree,Boe=nA.getTotalRulesCountInTree,iA=function(t){sr(r,t);var e=Doe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.childrenClassName=function(){return"switch_group--children"},i.renderFooterWrapper=function(){return null},i.hasDefaultCase=function(){var a;return((a=i.props.children1)===null||a===void 0?void 0:a.size)&&i.props.children1.filter(function(o){return o.get("children1")==null}).size>0},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){}},{key:"canAddGroup",value:function(){var i,a=this.props.config.settings.maxNumberOfCases,o=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0;return a?o<a:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var i,a=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0,o=a;return this.hasDefaultCase()&&o--,o}},{key:"totalRulesCntForItem",value:function(i){return Boe(i)}},{key:"reordableNodesCntForItem",value:function(i){var a;if(this.props.isLocked)return 0;var o=this.props.config.settings,s=o.canLeaveEmptyCase,l=o.canRegroupCases,u=((a=this.props.children1)===null||a===void 0?void 0:a.size)||0,c=u;this.hasDefaultCase()&&c--;var f=Voe(i),d=f;return d==1&&l&&s&&c>1&&(d=111),d}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Ai("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var i=this.props.config,a=i.settings.renderSwitchPrefix;return a||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var i=this.props,a=i.config,o=i.addCaseGroup,s=i.addDefaultCaseGroup,l=i.isLocked,u=i.isTrueLocked,c=i.id;return j.createElement($oe,{config:a,addCaseGroup:o,addDefaultCaseGroup:s,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:l,isTrueLocked:u,id:c})}}]),r}(pa);iA.propTypes=Noe({},pa.propTypes);const qoe=zu(ml("group switch_group")(yl(iA)),"switch_group");function gS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hoe(t){var e=zoe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function zoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var aA=function(t){sr(r,t);var e=Hoe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.childrenClassName=function(){return"case_group--children"},i.renderFooterWrapper=function(){return null},xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(i){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(i){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:Xi(Qe(r.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:Ai("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:j.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var i=this.props.config.settings.defaultCaseLabel;return i||""}return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:Xi(Qe(r.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?this.renderValue():null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:Xi(Qe(r.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:Xi(Qe(r.prototype),"canAddRule",this).call(this)}},{key:"renderValue",value:function(){var i=this.props,a=i.config,o=i.isLocked,s=i.value,l=i.setValue,u=i.id,c=a.settings.immutableValuesMode,f=j.createElement(Hu,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:s,valueSrc:"value",valueError:null,config:a,setValue:c?ci:l,setValueSrc:ci,readonly:c||o,id:u,groupId:null});return j.createElement(tn,{className:"case_group--value"},f)}},{key:"renderActions",value:function(){var i=this.props,a=i.config,o=i.addGroup,s=i.addRule,l=i.isLocked,u=i.isTrueLocked,c=i.id;return j.createElement(ZP,{config:a,addGroup:o,addRule:s,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:l,isTrueLocked:u,id:c})}},{key:"isEmptyCurrentGroup",value:function(){var i=this.props.value,a=i&&i.size?i.get(0):null,o=a!=null&&(Array.isArray(a)?a.length>0:!0);return Xi(Qe(r.prototype),"isEmptyCurrentGroup",this).call(this)&&!o}}]),r}(pa);aA.propTypes=mS(mS({},pa.propTypes),{},{parentReordableNodesCnt:Y.number,value:Y.any,setValue:Y.func});const Woe=zu(ml("group case_group")(yl(aA)),"case_group");var Goe=["type"];function Uoe(t){var e=Yoe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Yoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Koe=["rule","group","rule_group","switch_group","case_group"],vs=function(e){var r,n=((r=e.properties)===null||r===void 0?void 0:r.toObject())||{},i=Xh({},n);return e.isParentLocked&&(i.isLocked=!0),n.isLocked&&(i.isTrueLocked=!0),i},Qoe={rule:function(e){return j.createElement(Hae,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return j.createElement(hoe,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return j.createElement(Soe,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return j.createElement(Ioe,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return j.createElement(qoe,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return j.createElement(Woe,ge({},vs(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},Om=function(t){sr(r,t);var e=Uoe(r);function r(){return lr(this,r),e.apply(this,arguments)}return ur(r,[{key:"render",value:function(){var i,a=this.props,o=a.type,s=mi(a,Goe),l=(i=s.properties)===null||i===void 0?void 0:i.get("mode"),u=l=="array"?"_ext":"",c=s.config.settings.renderItem,f=Qoe[o+u];return c?c(Xh(Xh({},s),{},{type:o,itemComponent:f}),s.config.ctx):f?f(s):null}}]),r}(ae.PureComponent);Om.propTypes={config:Y.object.isRequired,id:Y.string.isRequired,groupId:Y.string,type:Y.oneOf(Koe).isRequired,path:Y.any.isRequired,properties:Y.any.isRequired,children1:Y.any,actions:Y.object.isRequired,reordableNodesCnt:Y.number,onDragStart:Y.func,parentField:Y.string,isDraggingTempo:Y.bool,isParentLocked:Y.bool};function Joe(t){var e=Xoe();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function Xoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var oA=xt.TreeUtils,Zoe=oA.getTotalReordableNodesCountInTree,ese=oA.getTotalRulesCountInTree,sA=xt.DefaultUtils,tse=sA.createListFromArray,bS=sA.emptyProperies,lA=function(t){sr(r,t);var e=Joe(r);function r(n){var i;return lr(this,r),i=e.call(this,n),i.pureShouldComponentUpdate=gl(_r(i)),i._updPath(n),i}return ur(r,[{key:"shouldComponentUpdate",value:function(i,a){var o=this.props,s=this.pureShouldComponentUpdate(i,a);if(s){var l=[];for(var u in i){var c=i[u]!==o[u];c&&u!="__isInternalValueChange"&&l.push(u)}l.length||(s=!1),l.length==1&&l[0]=="tree"&&i.__isInternalValueChange&&(s=!1)}return s}},{key:"_updPath",value:function(i){var a=i.tree.get("id");this.path=tse([a])}},{key:"render",value:function(){var i=this.props.tree,a=i.get("type"),o=a=="switch_group",s=o?null:Zoe(i),l=o?null:ese(i),u=i.get("id");return j.createElement(Om,{key:u,id:u,path:this.path,type:a,properties:i.get("properties")||bS(),config:this.props.config,actions:this.props.actions,children1:i.get("children1")||bS(),reordableNodesCnt:s,totalRulesCnt:l,parentReordableNodesCnt:0,onDragStart:this.props.onDragStart})}}]),r}(ae.Component);lA.propTypes={tree:Y.any.isRequired,config:Y.object.isRequired,actions:Y.object.isRequired,onDragStart:Y.func};const rse=hie(lA);function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ise(t){var e=ase();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function ase(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var ose=xt.clone,xm=xt.ConfigUtils,Ll=xm.getFieldConfig,SS=xm.getFieldParts,OS=xm.getFieldPathParts,uA=xt.RuleUtils,xS=uA.getFieldPathLabels,sse=uA.getWidgetForFieldOp,cA=function(t){sr(r,t);var e=ise(r);function r(n){var i;return lr(this,r),i=e.call(this,n),xn(_r(i)),i.onPropsChanged(n),i}return ur(r,[{key:"onPropsChanged",value:function(i){var a=this.props,o=["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"],s=["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"],l=!this.items||o.map(function(c){return i[c]!==a[c]}).filter(function(c){return c}).length>0,u=!this.meta||s.map(function(c){return i[c]!==a[c]}).filter(function(c){return c}).length>0;l&&(this.items=this.getItems(i)),u&&(this.meta=this.getMeta(i))}},{key:"getItems",value:function(i){var a=i.config,o=i.field,s=i.fieldType,l=i.operator,u=i.parentField,c=i.isFuncArg,f=i.fieldDefinition,d=a.settings.canCompareFieldWithField;a.settings.fieldSeparator;var p=SS(u,a),h=u?Ll(a,u):null,v=u?h==null?void 0:h.subfields:a.fields,g=this.filterFields(a,v,o,u,p,l,d,c,f,s),y=this.buildOptions(p,a,g,p);return y}},{key:"getMeta",value:function(i){var a,o=i.config,s=i.field;i.fieldType,i.operator;var l=i.value,u=i.placeholder,c=i.isFuncArg,f=i.parentField,d=o.settings,p=d.fieldPlaceholder,h=d.fieldSeparatorDisplay,v=l,g=!!l,y=s?Ll(o,s):{},m=y==null||(a=y.widgets)===null||a===void 0?void 0:a.field,S=(m==null?void 0:m.widgetProps)||{},_=g?null:c&&u||S.valuePlaceholder||p,O=g?Ll(o,v):null,x=O||{},w=OS(v,o),C=OS(v,o,!0),I=this.getFieldLabel(O,v,o),A=xS(v,o),P=A?A.join(h):null;(P==I||f)&&(P=null);var E=x.label2;return{placeholder:_,selectedKey:v,selectedKeys:w,selectedPath:C,selectedLabel:I,selectedOpts:x,selectedAltLabel:E,selectedFullLabel:P}}},{key:"filterFields",value:function(i,a,o,s,l,u,c,f,d,p){a=ose(a);var h=i.settings.fieldSeparator,v=Ll(i,o),g=sse(i,o,u,"value");i.widgets[g];var y;f?y=d==null?void 0:d.type:v?y=v.type:y=p;function m(S,_){for(var O in S){var x=S[O].subfields,w=(_||[]).concat(O),C=w.join(h),I=Ll(i,C);if(!I)delete S[O];else if(I.type=="!struct"||I.type=="!group")m(x,w)==0&&delete S[O];else{var A=(!y||I.type==y)&&(f?!0:C!=o),P=c||i.settings.canCompareFieldWithField;P&&(A=A&&P(o,v,C,I,u)),A||delete S[O]}}return Gs(S).length}return m(a,l||[]),a}},{key:"buildOptions",value:function(i,a,o){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!o)return null;var c=a.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"";return Gs(o).map(function(h){var v=[].concat($e(l!=null?l:[]),[h]),g=o[h],y=s.getFieldLabel(g,v,a),m=xS(v,a),S=m.join(d);(S==y||i)&&(S=null);var _=g.label2,O=g.tooltip;if(!g.hideForCompare)return g.type=="!struct"||g.type=="!group"?{key:h,path:p+h,label:y,fullLabel:S,altLabel:_,tooltip:O,items:s.buildOptions(i,a,g.subfields,v,y)}:{key:h,path:p+h,label:y,fullLabel:S,altLabel:_,tooltip:O,grouplabel:u}}).filter(function(h){return!!h})}},{key:"getFieldLabel",value:function(i,a,o){if(!a)return null;var s=o.settings.maxLabelsLength,l=SS(a,o),u=(i==null?void 0:i.label)||yd(l);return u=Cf(u,s),u}},{key:"render",value:function(){var i=this.props,a=i.config,o=i.customProps,s=i.setValue,l=i.readonly,u=i.id,c=i.groupId,f=a.settings.renderField,d=nse({isValueField:!0,config:a,customProps:o,setField:s,readonly:l,items:this.items,id:u,groupId:c},this.meta);return f(d,a.ctx)}}]),r}(ae.Component);cA.propTypes={id:Y.string,groupId:Y.string,setValue:Y.func.isRequired,config:Y.object.isRequired,field:Y.any,fieldSrc:Y.string,fieldType:Y.string,value:Y.string,operator:Y.string,customProps:Y.object,readonly:Y.bool,parentField:Y.string,fieldDefinition:Y.object,isFuncArg:Y.bool};const lse=function(t){var e=t.value,r=t.setValue;t.config;var n=t.labelYes,i=t.labelNo,a=t.readonly,o=t.customProps,s=o===void 0?{}:o,l=s.radioYes||{},u=s.radioNo||{},c=function(d){return r(d.target.value=="true")};return j.createElement(j.Fragment,null,j.createElement("input",ge({type:"radio",value:!0,checked:!!e,disabled:a,onChange:c},l))," ",n,j.createElement("input",ge({type:"radio",value:!1,checked:!e,disabled:a,onChange:c},u))," ",i)},use=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength,o=t.customProps,s=function(c){var f=c.target.value;f===""&&(f=void 0),r(f)},l=e||"";return j.createElement("input",ge({type:"text",value:l,placeholder:i,disabled:n,onChange:s,maxLength:a},o))},cse=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength;t.maxRows;var o=t.fullWidth,s=t.customProps,l=function(f){var d=f.target.value;d===""&&(d=void 0),r(d)},u=e||"";return j.createElement("textarea",ge({value:u,placeholder:i,disabled:n,onChange:l,maxLength:a,style:{width:o?"100%":void 0}},s))};xt.moment;const fse=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",ge({type:"date",value:e||"",disabled:n,onChange:a},i))},dse=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat,t.use12Hours;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",ge({type:"time",value:e||"",disabled:n,onChange:a},i))};var wS=xt.moment;const pse=function(t){var e=t.value,r=t.setValue;t.config;var n=t.valueFormat;t.use12Hours;var i=t.readonly,a=t.customProps,o=function(u){var c=u.target.value;c==""?c=void 0:c=wS(new Date(c)).format(n),r(c)},s=e;return e?s=wS(e).format("YYYY-MM-DDTHH:mm"):s="",j.createElement("input",ge({type:"datetime-local",value:s,disabled:i,onChange:o},a))};var hse=xt.ListUtils.mapListValues;const vse=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return hse(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){for(var f=[],d=c.options,p=0;p<d.length;p++){var h=d[p];h.selected&&f.push(h.value)}return f.length||(f=void 0),f},l=function(c){return n(s(c.target))};return j.createElement("select",ge({multiple:!0,onChange:l,value:r,disabled:i},er(a,["showSearch","input","showCheckboxes"])),o())};var gse=xt.ListUtils.mapListValues;const mse=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return gse(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){return n(c.target.value)},l=r!=null;return j.createElement("select",ge({onChange:s,value:l?r:"",disabled:i},er(a,["showSearch","input"])),!l&&j.createElement("option",{disabled:!0,value:""}),o())},yse=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return j.createElement("input",ge({type:"number",value:c,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:u},l))},bse=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=l===void 0?{}:l,c=u.input||{},f=u.slider||u,d=function(v){var g=v.target.value;g===""||g===null?g=void 0:g=Number(g),r(g)},p=e==null?"":e;return j.createElement("div",{style:{display:"inline-flex"}},j.createElement("input",ge({key:"number",type:"number",value:p,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:d},c)),j.createElement("input",ge({key:"range",type:"range",value:p,disabled:n,min:i,max:a,step:o,onChange:d},f)))},_se=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.errorText,o=function u(c){return c.map(function(f){var d=f.items,p=f.path,h=f.label,v=f.disabled,g=f.matchesType;if(d)return j.createElement("optgroup",{disabled:v,key:p,label:h},u(d));var y=g?{fontWeight:"bold"}:{};return j.createElement("option",{disabled:v,key:p,value:p,style:y},h)})},s=function(c){return r(c.target.value)},l=n!=null;return j.createElement("select",{onChange:s,value:l?n:"",disabled:i,style:{color:a?"red":null}},!l&&j.createElement("option",{disabled:!0,value:""}),o(e))},Sse=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,h=p||f>1&&!d,v=function(){return Object.keys(i).map(function(_){var O=i[_],x=O.id,w=O.name,C=O.label,I=O.checked,A=a.isDummyFn?"__dummy":"";return(s||o)&&!I?null:[j.createElement("input",{key:x+A,type:"radio",id:x+A,name:w+A,checked:I,disabled:s||o,value:_,onChange:y}),j.createElement("label",{key:x+A+"label",htmlFor:x+A},C)]})},g=function(){var _="not";return[j.createElement("input",{key:e+_,type:"checkbox",id:e+_,checked:r,disabled:s,onChange:m}),j.createElement("label",{key:e+_+"label",htmlFor:e+_},c||"NOT")]},y=function(_){return a(_.target.value)},m=function(_){return n(_.target.checked)};return[u&&g(),h&&v()]},Ose=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly;t.config;var a={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"},o=r||a[e];return j.createElement("button",{onClick:n,type:"button",disabled:i},o)},xse=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)},wse=function(t){t.config;var e=t.valueSources,r=t.valueSrc;t.title;var n=t.setValueSrc,i=t.readonly,a=function(l){return l.map(function(u){var c=Ge(u,2),f=c[0],d=c[1];return j.createElement("option",{key:f,value:f},d.label)})},o=function(l){return n(l.target.value)};return j.createElement("select",{onChange:o,value:r||"",disabled:i},a(e))},Ese=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.id;t.config;var a=t.type,o=function(u){return r(u.target.checked)},s=a;return[j.createElement("input",{key:i+s,type:"checkbox",id:i+s,checked:!!e,onChange:o}),j.createElement("label",{key:i+s+"label",htmlFor:i+s},n)]},Cse=function(t){var e=t.onOk;t.okText,t.cancelText;var r=t.title;confirm(r)&&e()};var Tse=function(e){e.config;var r=e.children;return r};const Pse=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:_m,ValueFieldWidget:cA,VanillaBooleanWidget:lse,VanillaButton:Ose,VanillaButtonGroup:xse,VanillaConjs:Sse,VanillaDateTimeWidget:pse,VanillaDateWidget:fse,VanillaFieldSelect:_se,VanillaMultiSelectWidget:vse,VanillaNumberWidget:yse,VanillaProvider:Tse,VanillaSelectWidget:mse,VanillaSliderWidget:bse,VanillaSwitch:Ese,VanillaTextAreaWidget:cse,VanillaTextWidget:use,VanillaTimeWidget:dse,VanillaValueSources:wse,vanillaConfirm:Cse},Symbol.toStringTag,{value:"Module"}));function Ase(t){var e=kse();return function(){var n=Qe(t),i;if(e){var a=Qe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gr(this,i)}}function kse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var wm=function(t){sr(r,t);var e=Ase(r);function r(){var n;lr(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a)),n.handleChange=function(s){n.props.setOption("proximity",parseInt(s))},n}return ur(r,[{key:"render",value:function(){var i=this.props,a=i.defaults,o=i.options,s=i.config,l=i.optionLabel,u=i.optionPlaceholder,c=i.customProps,f=i.minProximity,d=i.maxProximity,p=i.optionTextBefore,h=i.readonly,v=s.settings,g=s.widgets,y=s.ctx,m=a?a.proximity:void 0,S=v.showLabels,_=o.get("proximity",m),O=Jh(f,d+1).map(function(C){return{title:C,value:C}}),x=g.select.factory,w=function(I){return x(I,y)};return j.createElement("div",{className:"operator--PROXIMITY"},j.createElement("div",{className:"operator--options"},S&&j.createElement("label",{className:"rule--label"},l),!S&&p&&j.createElement("div",{className:"operator--options--sep"},j.createElement("span",null,p)),j.createElement(w,ge({config:s,value:_,listValues:O,setValue:this.handleChange,readonly:h,placeholder:u},c))),j.createElement("div",{className:"operator--widgets"},this.props.children))}}]),r}(ae.PureComponent);wm.propTypes={config:Y.object.isRequired,setOption:Y.func.isRequired,options:Y.any.isRequired,minProximity:Y.number,maxProximity:Y.number,optionPlaceholder:Y.string,optionTextBefore:Y.string,optionLabel:Y.string,customProps:Y.object,readonly:Y.bool};wm.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const Ise=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:wm},Symbol.toStringTag,{value:"Module"}));function ES(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jse=dt({},Mr.conjunctions),Rse=dt(dt({},Mr.operators),{},{proximity:dt(dt({},Mr.operators.proximity),{},{options:dt(dt({},Mr.operators.proximity.options),{},{factory:function(e,r){var n=r.RCE,i=r.O.ProximityOperator;return n(i,e)}})})}),Fse={text:dt(dt({},Mr.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}}),textarea:dt(dt({},Mr.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextAreaWidget;return n(i,e)}}),number:dt(dt({},Mr.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaNumberWidget;return n(i,e)}}),slider:dt(dt({},Mr.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSliderWidget;return n(i,e)}}),select:dt(dt({},Mr.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSelectWidget;return n(i,e)}}),multiselect:dt(dt({},Mr.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaMultiSelectWidget;return n(i,e)}}),date:dt(dt({},Mr.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateWidget;return n(i,e)}}),time:dt(dt({},Mr.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTimeWidget;return n(i,e)}}),datetime:dt(dt({},Mr.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateTimeWidget;return n(i,e)}}),boolean:dt(dt({},Mr.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaBooleanWidget;return n(i,e)}}),field:dt(dt({},Mr.widgets.field),{},{factory:function(e,r){var n=r.RCE,i=r.W.ValueFieldWidget;return n(i,e)},customProps:{showSearch:!0}}),func:dt(dt({},Mr.widgets.func),{},{factory:function(e,r){var n=r.RCE,i=r.W.FuncWidget;return n(i,e)},customProps:{}}),case_value:dt(dt({},Mr.widgets.case_value),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}})},Lse=dt(dt({},Mr.types),{},{select:dt(dt({},Mr.types.select),{},{widgets:dt(dt({},Mr.types.select.widgets),{},{select:dt(dt({},Mr.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),$se=dt(dt({},Mr.settings),{},{renderField:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.VanillaConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.VanillaSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.VanillaButton;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.VanillaButtonGroup;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.VanillaProvider;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderConfirm:function(e,r){var n=r.W.vanillaConfirm;return n(e)},renderSwitchPrefix:"Conditions",customFieldSelectProps:{showSearch:!0},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),Nse=dt(dt({},Mr.ctx),{},{W:dt({},Pse),O:dt({},Ise),RCE:function(e,r){return j.createElement(e,r)}}),Zh={conjunctions:jse,operators:Rse,widgets:Fse,types:Lse,settings:$se,ctx:Nse};Zh=xt.ConfigMixins.removeMixins(Zh,["rangeslider","treeselect","treemultiselect"]);const bn=Zh;var Dse=Ni,Mse=function(){return Dse.Date.now()},Vse=Mse,Bse=yi,Hp=Vse,CS=UP,qse="Expected a function",Hse=Math.max,zse=Math.min;function Wse(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(qse);e=CS(e)||0,Bse(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Hse(CS(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(x){var w=n,C=i;return n=i=void 0,u=x,o=t.apply(C,w),o}function h(x){return u=x,s=setTimeout(y,e),c?p(x):o}function v(x){var w=x-l,C=x-u,I=e-w;return f?zse(I,a-C):I}function g(x){var w=x-l,C=x-u;return l===void 0||w>=e||w<0||f&&C>=a}function y(){var x=Hp();if(g(x))return m(x);s=setTimeout(y,v(x))}function m(x){return s=void 0,d&&n?p(x):(n=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function _(){return s===void 0?o:m(Hp())}function O(){var x=Hp(),w=g(x);if(n=arguments,i=this,l=x,w){if(s===void 0)return h(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return O.cancel=S,O.flush=_,O}var Gse=Wse;const Use=rn(Gse);function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wu=xt.Autocomplete,Ic=Wu.mergeListValues,PS=Wu.listValueToOption,Yse=Wu.optionToListValue,Kse=Wu.optionsToListValues,Qse=Wu.fixListValuesGroupOrder,bl=xt.ListUtils,Jse=bl.mapListValues,AS=bl.listValuesToArray,jc=bl.getListValue,Xse=bl.makeCustomListValue,Zse=bl.searchListValue;bl.getItemInListValues;function ele(t){return new Promise(function(e){setTimeout(e,t)})}var tle=function(e,r){var n=e.asyncFetch,i=e.useLoadMore,a=e.useAsyncSearch,o=e.forceAsyncSearch,s=e.asyncListValues,l=e.listValues,u=e.allowCustomValues,c=e.value,f=e.setValue,d=e.placeholder,p=e.config,h=r.debounceTimeout,v=r.multiple,g=r.uif,y=["LOAD_MORE","LOADING_MORE"],m="Load more...",S="Loading more...",_=o?"Type to search":d,O=j.useState(!1),x=Ge(O,2),w=x[0],C=x[1],I=j.useState(void 0),A=Ge(I,2),P=A[0],E=A[1],R=j.useState(0),F=Ge(R,2),N=F[0],V=F[1],z=j.useState(!1),J=Ge(z,2),H=J[0],M=J[1],L=j.useState(""),q=Ge(L,2),W=q[0],Q=q[1],K=j.useState(void 0),$=Ge(K,2),U=$[0],X=$[1],ee=j.useRef(0),se=j.useRef(0),Oe=j.useRef(!1),be=AS(s),Se=n?s?Ic(U,be,!0):U:l,_e=n?U:l;u&&W&&!Zse(W,U)&&(_e=Ic(_e,[Xse(W)],!0)),n&&!U&&s&&!W&&!w&&g==="antd"&&(_e=Se),n&&!u&&s&&g==="mui"&&(_e=Ic(_e,be,!0,!0));var pe=N>0,ue=w&&n&&U===void 0&&(o?W:!0),Le=ue&&pe,ie=!Le&&Se&&Se.length>0&&P&&P.hasMore&&(P.filter||"")===W,le=!pe&&ie,xe=Jse(_e,PS),Ee=c!=null,fe=!v&&Ee?jc(c,Se):null,De=function(){var It=_o(Kr.mark(function qe(){var Me,rt,ut,Ct,Tt,Nt,ir,tr,rr,qr,et,St,fr,cn,wn,wt=arguments;return Kr.wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return Me=wt.length>0&&wt[0]!==void 0?wt[0]:null,rt=wt.length>1&&wt[1]!==void 0?wt[1]:!1,!rt&&P&&E(void 0),ut=rt&&U?U.length:0,Ct=rt&&P||!i&&{pageSize:0},Tt=++ee.current,jt.next=8,n.call(p==null?void 0:p.ctx,Me,ut,Ct);case 8:if(Nt=jt.sent,ir=ee.current!=Tt,!(ir||!se.current)){jt.next=12;break}return jt.abrupt("return",null);case 12:return tr=Nt!=null&&Nt.values?Nt:{values:Nt},rr=tr.values,qr=tr.hasMore,et=tr.meta,St=AS(rr),rt?(cn=Ic(U,St,!1),fr=cn.length>U.length):(cn=St,i&&(fr=cn.length>0)),wn=qr!=null||et!=null||fr!=null?kc(kc(kc(kc({},fr!=null?{hasMore:fr}:{}),qr!=null?{hasMore:qr}:{}),et!=null?et:{}),{},{filter:Me}):void 0,wn&&E(wn),jt.abrupt("return",cn);case 18:case"end":return jt.stop()}},qe)}));return function(){return It.apply(this,arguments)}}(),We=function(){var It=_o(Kr.mark(function qe(){var Me,rt,ut,Ct=arguments;return Kr.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Me=Ct.length>0&&Ct[0]!==void 0?Ct[0]:null,rt=Ct.length>1&&Ct[1]!==void 0?Ct[1]:!1,V(function(ir){return ir+1}),M(rt),Nt.next=6,De(Me,rt);case 6:if(ut=Nt.sent,se.current){Nt.next=9;break}return Nt.abrupt("return");case 9:ut!=null&&X(ut),V(function(ir){return ir-1}),M(!1);case 12:case"end":return Nt.stop()}},qe)}));return function(){return It.apply(this,arguments)}}(),Je=j.useCallback(Use(We,h),[]);j.useEffect(function(){return se.current++,ue&&N==0&&ee.current==0&&_o(Kr.mark(function It(){return Kr.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.next=2,We();case 2:case"end":return Me.stop()}},It)}))(),function(){se.current--}},[ue]);var yt=function(){C(!0)},Bt=function(){var It=_o(Kr.mark(function qe(Me){var rt,ut;return Kr.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if(rt=Oe.current,rt?(Oe.current=!1,v&&C(!1)):C(!1),!(g==="mui"&&!rt)){Tt.next=6;break}return ut="",Tt.next=6,Fe(null,ut,"my-reset");case 6:case"end":return Tt.stop()}},qe)}));return function(Me){return It.apply(this,arguments)}}(),ve=function(qe){qe?yt():Bt()},we=function(qe){var Me=(qe==null?void 0:qe.specialValue)||(qe==null?void 0:qe.value);return y.includes(Me)},Ae=function(){var It=_o(Kr.mark(function qe(Me,rt,ut){var Ct,Tt,Nt,ir,tr,rr,qr,et,St,fr,cn,wn,wt,zt,jt,Er;return Kr.wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:if(Tt=v&&g==="mui"&&ut==="clear",Nt=!v&&g==="mui"&&ut==="clear"&&(Me==null?void 0:Me.type)==="change",g==="mui"&&(ut=rt,v?rt=ut.map(function(de){var re;return(re=de==null?void 0:de.value)!==null&&re!==void 0?re:de}):rt=(ir=(tr=ut)===null||tr===void 0?void 0:tr.value)!==null&&ir!==void 0?ir:ut),rr=v&&Array.isArray(ut)&&ut.map(function(de){return de==null?void 0:de.specialValue}).find(function(de){return!!de})||((Ct=ut)===null||Ct===void 0?void 0:Ct.specialValue),v&&rt&&!Array.isArray(rt)&&(rt=[].concat($e(c||[]),[rt]),ut=null),qr=Tt&&rt.length===0&&W&&w||Nt,!qr){nr.next=8;break}return nr.abrupt("return");case 8:if(et=v&&rt.length&&rt.length>(c||[]).length&&rt[rt.length-1]==W&&!jc(W,U),rr!="LOAD_MORE"){nr.next=16;break}return Q(W),Oe.current=!0,nr.next=14,We(W,!0);case 14:nr.next=32;break;case 16:if(rr!="LOADING_MORE"){nr.next=20;break}Oe.current=!0,nr.next=32;break;case 20:if(!v){nr.next=30;break}if(St=Kse(rt,Se,u),fr=Ge(St,2),cn=fr[0],wn=fr[1],f(cn,n?wn:void 0),!et){nr.next=28;break}return nr.next=26,ele(0);case 26:return nr.next=28,Fe(null,"","my-reset");case 28:nr.next=32;break;case 30:wt=Yse(rt,Se,u),zt=Ge(wt,2),jt=zt[0],Er=zt[1],f(jt,n?Er:void 0);case 32:case"end":return nr.stop()}},qe)}));return function(Me,rt,ut){return It.apply(this,arguments)}}(),Fe=function(){var It=_o(Kr.mark(function qe(Me,rt,ut){var Ct,Tt,Nt;return Kr.wrap(function(tr){for(;;)switch(tr.prev=tr.next){case 0:if(Ct=g==="mui"&&ut==="reset",Tt=rt,!(Tt===m||Tt===S||Ct)){tr.next=4;break}return tr.abrupt("return");case 4:if(rt==W){tr.next=13;break}if(Q(Tt),Nt=a&&(o?!!Tt:!0),!Nt){tr.next=12;break}return tr.next=10,Je(Tt);case 10:tr.next=13;break;case 12:a&&o&&X([]);case 13:case"end":return tr.stop()}},qe)}));return function(Me,rt,ut){return It.apply(this,arguments)}}(),ct=function(qe){var Me=$e(qe);return i&&(le?Me.push({specialValue:"LOAD_MORE",title:m}):H&&Me.push({specialValue:"LOADING_MORE",title:S,disabled:!0})),Me},ze=function(qe,Me){if(Me==null)return null;var rt=Me.value!=null?Me.value:Me;return qe.value===rt},mt=function(qe){return qe&&qe.disabled},it=function(qe){var Me;if(qe!=null&&qe.isCustom)return!0;var rt=(Me=qe==null?void 0:qe.value)!==null&&Me!==void 0?Me:qe,ut=jc(rt,Se);return(ut==null?void 0:ut.isCustom)||!1},Kt=function(qe){if(qe==null)return null;var Me=qe.value!=null?qe:PS(jc(qe,Se));return!Me&&qe.specialValue?qe.title:!Me&&u||!Me?qe:Me.title||Me.label},lt=g==="mui"?Qse(xe):xe;return{options:lt,listValues:Se,hasValue:Ee,selectedListValue:fe,open:w,onOpen:yt,onClose:Bt,onDropdownVisibleChange:ve,onChange:Ae,inputValue:W,onInputChange:Fe,canShowLoadMore:le,isInitialLoading:Le,isLoading:pe,isLoadingMore:H,isSpecialValue:we,extendOptions:ct,getOptionSelected:ze,getOptionDisabled:mt,getOptionIsCustom:it,getOptionLabel:Kt,aPlaceholder:_}};function kS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Jo=IS(IS({},xt),{},{ReactUtils:eie});var rle=Jo.moment;const nle=function(t){var e,r=t.value,n=t.setValue,i=t.readonly,a=t.customProps,o=t.dateFormat,s=t.valueFormat,l=t.placeholder,u=!!(wo!==null&&wo!==void 0&&(e=wo.propTypes)!==null&&e!==void 0&&e.format),c=function(y){return y&&y.isValid()?y.format(s):void 0},f=function(y){n(c(y))},d=function(y){return j.createElement(hr,ge({size:"small",variant:"standard"},y))},p="@media (pointer: fine), (pointer: none)",h=u?{format:o,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":l}}}:{inputFormat:o,renderInput:d,toolbarPlaceholder:i?"":l},v=r?u&&typeof r=="string"?rle(r,s):r:null;return j.createElement(Gr,null,j.createElement(wo,ge({desktopModeMediaQuery:p,readOnly:i,disabled:i,value:v,onChange:f},h,a)))};var ile=Jo.moment;const ale=function(t){var e,r=t.value,n=t.setValue,i=t.use12Hours,a=t.readonly,o=t.placeholder,s=t.dateFormat,l=t.timeFormat,u=t.valueFormat,c=t.customProps,f=!!(uc!==null&&uc!==void 0&&(e=uc.propTypes)!==null&&e!==void 0&&e.format),d=function(_){return _&&_.isValid()?_.format(u):void 0},p=function(_){n(d(_))},h=s+" "+l,v=function(_){return j.createElement(hr,ge({size:"small",variant:"standard"},_))},g="@media (pointer: fine), (pointer: none)",y=f?{format:h,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:a?"":o}}}:{inputFormat:h,renderInput:v,toolbarPlaceholder:a?"":o},m=r?f&&typeof r=="string"?ile(r,u):r:null;return j.createElement(Gr,null,j.createElement(uc,ge({desktopModeMediaQuery:g,readOnly:a,disabled:a,ampm:!!i,value:m,onChange:p},y,c)))};var ole=Jo.moment;const sle=function(t){var e,r=t.value,n=t.setValue,i=t.use12Hours,a=t.readonly,o=t.placeholder,s=t.timeFormat,l=t.valueFormat,u=t.customProps,c=!!(cc!==null&&cc!==void 0&&(e=cc.propTypes)!==null&&e!==void 0&&e.format),f=function(S){return S&&S.isValid()?S.format(l):void 0},d=function(S){n(f(S))},p=s.indexOf(":ss")!=-1,h=r?ole(r,s):null,v=function(S){return j.createElement(hr,ge({size:"small",variant:"standard"},S))},g="@media (pointer: fine), (pointer: none)",y=c?{format:s,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:a?"":o}}}:{inputFormat:s,renderInput:v,toolbarPlaceholder:a?"":o};return j.createElement(Gr,null,j.createElement(cc,ge({desktopModeMediaQuery:g,readOnly:a,disabled:a,ampm:!!i,value:h,onChange:d,views:p?["hours","minutes","seconds"]:["hours","minutes"]},y,u)))};var jS=Jo.ListUtils.mapListValues;const lle=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(){return jS(e,function(p){var h=p.title,v=p.value;return j.createElement(on,{key:v,value:v},h)})},l=function(p){p.target.value!==void 0&&n(p.target.value)},u=function(p){return!i&&p==null?a:c(p)},c=function(p){return jS(e,function(h){var v=h.title,g=h.value;return g===p?v:null}).filter(function(h){return h!==null}).shift()},f=r!=null;return j.createElement(Gr,null,j.createElement(Li,ge({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i?"":a,onChange:l,value:f?r:"",disabled:i,readOnly:i,renderValue:u,size:"small"},er(o,["showSearch","input"])),s()))},ule=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return j.createElement(Gr,null,j.createElement(hr,ge({variant:"standard",type:"number",value:c,placeholder:n?"":s,InputProps:{readOnly:n},inputProps:{min:i,max:a,step:o},disabled:n,onChange:u,size:"small"},l)))};var cle=["width"];const fle=function(t){var e=t.config,r=t.placeholder,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=e.settings.defaultSliderWidth,d=ae.useCallback(function(E,R){a(R)},[]),p=function(R){var F=R.target.value;F===""||F===null?F=void 0:F=Number(F),a(F)},h=function(){i<o?a(o):i>s&&a(s)},v=n||{},g=v.width,y=mi(v,cle),m=y.input||{},S=y.slider||y,_=typeof i=="number"?i:"",O=typeof i=="number"?i:null,x=ae.useMemo(function(){return u?Object.keys(u).map(function(E){return{value:Number(E),label:$t(u[E])==="object"||typeof u[E]>"u"?u[E]:j.createElement("p",null,u[E])}}):!1},[u]),w=j.createElement(hr,ge({variant:"standard",type:"number",value:_,placeholder:r,InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:p,onBlur:h,size:"small"},m)),C=j.createElement(cx,ge({value:O,onChange:d,disabled:c,min:o,max:s,step:l,marks:x,valueLabelDisplay:"auto",size:"small"},S)),I={display:"inline-flex",alignItems:"center",flexWrap:"wrap"},A={marginLeft:"5px"},P={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:g||f};return j.createElement(Gr,null,j.createElement("div",{style:I},j.createElement("div",{style:A},w),j.createElement("div",{style:P},C)))};var dle=["width"];const ple=function(t){var e=t.config,r=t.placeholders,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=t.textSeparators,d=e.settings.defaultSliderWidth;ae.useEffect(function(){var z=t.value||[void 0,void 0],J=Ge(z,2),H=J[0],M=J[1];t.value&&(H==null||M==null)&&setTimeout(function(){var L=H||M,q=[L,L];a(q)},1)},[]);var p=function(J,H){a(H)},h=function(J){var H=J.target.value;H===""||H==null?H=void 0:H=Number(H);var M=t.value?$e(t.value):[void 0,void 0];M[0]=H,a(M)},v=function(J){var H=J.target.value;H===""||H==null?H=void 0:H=Number(H);var M=t.value?$e(t.value):[void 0,void 0];M[1]=H,a(M)},g=function(){i&&(i[0]<o?a([o,i[1]]):i[1]>s&&a([i[0],s]))},y=n||{},m=y.width,S=mi(y,dle),_=S.input||{},O=S.slider||S,x=u?Object.keys(u).map(function(z){return{value:Number(z),label:$t(u[z])==="object"||typeof u[z]>"u"?u[z]:j.createElement("p",null,u[z])}}):!1,w=i?$e(i):[void 0,void 0],C=Ge(w,2),I=C[0],A=C[1];I==null&&(I="",w[0]=0),A==null&&(A="",w[1]=0);var P=j.createElement(hr,ge({variant:"standard",type:"number",value:I,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:h,onBlur:g,size:"small"},_)),E=j.createElement(hr,ge({variant:"standard",type:"number",value:A,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:v,onBlur:g,size:"small"},_)),R=j.createElement(cx,ge({value:w,onChange:p,disabled:c,min:o,max:s,step:l,marks:x,valueLabelDisplay:"auto",size:"small"},O)),F={display:"inline-flex",flexWrap:"wrap"},N={marginLeft:"5px"},V={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:m||d};return j.createElement(Gr,null,j.createElement("div",{style:F},j.createElement("div",{style:N},P),j.createElement("div",{className:"widget--sep"},j.createElement("span",null,f[1])),j.createElement("div",{style:N},E),j.createElement("div",{style:V},R)))},hle=function(t){var e=t.customProps,r=t.value,n=t.setValue,i=t.labelYes,a=t.labelNo,o=t.readonly,s=function(){n(!r)};return j.createElement(Gr,null,j.createElement($n,{component:"div"},j.createElement(Ya,{component:"label",container:!0,alignItems:"center",spacing:0},j.createElement(Ya,{item:!0,component:"span"},a),j.createElement(Ya,{item:!0,component:"span"},j.createElement(qo,ge({checked:!!r,onChange:s,disabled:o},e))),j.createElement(Ya,{item:!0,component:"span"},i))))};var RS=Jo.ListUtils.mapListValues;const vle=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(d){return RS(e,function(p){var h=p.title,v=p.value;return j.createElement(on,{key:v,value:v},j.createElement(Ui,{checked:d.indexOf(v)>-1}),j.createElement(pv,{primary:h}))})},l=function(d){if(!i&&!d.length)return a;var p=RS(e,function(h){var v=h.title,g=h.value;return d.indexOf(g)>-1?v:null}).filter(function(h){return h!==null});return p.join(", ")},u=r!=null&&r.length>0,c=function(d){d.target.value!==void 0&&n(d.target.value)};return j.createElement(Gr,null,j.createElement(Li,ge({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:c,value:u?r:[],disabled:i,readOnly:i,renderValue:l,size:"small"},er(o,["showSearch","input","showCheckboxes"])),s(u?r:[])))};var Em={},gle=zr;Object.defineProperty(Em,"__esModule",{value:!0});var Cm=Em.default=void 0,mle=gle(Wr()),yle=k,ble=(0,mle.default)((0,yle.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");Cm=Em.default=ble;var _le=["width"];function FS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Sle=tle,Ole=[];const fA=function(t){var e=t.allowCustomValues,r=t.multiple,n=t.disableClearable,i=t.value,a=t.customProps,o=t.readonly,s=t.config,l=t.filterOptionsConfig,u=t.errorText,c=ae.useCallback(function(Se){var _e=s.settings.listKeysForSearch,pe=_e.map(function(ue){return typeof Se[ue]=="string"?Se[ue]:""}).join("\0");return pe},[s]),f={stringify:c},d=ox(l||f),p=Sle(t,{debounceTimeout:100,multiple:r,uif:"mui"}),h=p.open,v=p.onOpen,g=p.onClose,y=p.onChange,m=p.onInputChange,S=p.inputValue,_=p.options,O=p.isInitialLoading,x=p.isLoading,w=p.aPlaceholder,C=p.extendOptions,I=p.getOptionDisabled,A=p.getOptionIsCustom,P=p.getOptionLabel,E=p.selectedListValue,R=s.settings,F=R.defaultSelectWidth,N=R.defaultSearchWidth,V=a||{},z=V.width,J=mi(V,_le),H=J.input||{};H.width,H=er(H,["width"]);var M=er(J,["showSearch","showCheckboxes"]),L=!1,q=z||F,W={width:r?void 0:q,minWidth:q},Q=o?"":w,K=i!=null,$=K?i:r?Ole:null,U=function(_e,pe){var ue=d(_e,pe),Le=C(ue);return Le},X=function(_e){return _e==null?void 0:_e.groupTitle},ee=function(_e){var pe,ue=!r&&!h,Le=(pe=E==null?void 0:E.title)!==null&&pe!==void 0?pe:"",ie=r&&!h,le=ue?Le:ie?"":S!=null?S:"";return j.createElement(hr,ge({variant:"standard"},_e,{inputProps:Rc(Rc({},_e.inputProps),{},{value:le}),InputProps:Rc(Rc({},_e.InputProps),{},{readOnly:o,endAdornment:j.createElement(j.Fragment,null,x?j.createElement(yI,{color:"inherit",size:20}):null,_e.InputProps.endAdornment)}),disabled:o,placeholder:Q,error:!!u},H))},se=function(_e,pe){return _e.map(function(ue,Le){return j.createElement(WO,ge({key:ue.value,label:P(ue),size:"small",variant:A(ue)?"outlined":"filled"},pe({index:Le})))})},Oe=function(_e,pe){return(_e==null?void 0:_e.value)==pe},be=function(_e,pe){var ue=pe.title,Le=pe.renderTitle,ie=pe.value,le=pe.isHidden,xe=r?(i||[]).includes(ie):i==ie,Ee=A(pe)?"customSelectOption":void 0,fe=j.createElement("span",{className:Ee},Le||ue);return le?null:pe.specialValue?j.createElement("div",_e,Le||ue):r?j.createElement(on,ge({},_e,{size:"small",selected:xe}),!xe&&j.createElement(pv,{inset:!0},fe),xe&&j.createElement(j.Fragment,null,j.createElement(ux,null,j.createElement(Cm,null)),fe)):j.createElement("div",_e,fe)};return j.createElement(Gr,{fullWidth:L},j.createElement(jj,ge({disableClearable:n,disableCloseOnSelect:r,fullWidth:L,multiple:r,style:W,freeSolo:e,loading:O,open:h,onOpen:v,onClose:g,inputValue:S,onInputChange:m,label:Q,onChange:y,value:$,disabled:o,readOnly:o,options:_,groupBy:X,getOptionLabel:P,getOptionDisabled:I,renderInput:ee,renderTags:se,renderOption:be,filterOptions:U,isOptionEqualToValue:Oe,size:"small"},M)))},xle=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.placeholder,o=t.errorText,s=function f(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(d).map(function(h){var v=d[h],g=v.items,y=v.path,m=v.label,S=v.disabled,_=v.matchesType,O="  ".repeat(p);return g?[j.createElement(lx,{disabled:S,key:y,disableSticky:!0},O&&j.createElement("span",null,O),m),f(g,p+1)]:j.createElement(on,{disabled:S,key:y,value:y},O&&j.createElement("span",null,O),_?j.createElement("b",null,m):m)})},l=function(d){d.target.value!==void 0&&r(d.target.value)},u=function(d){if(!i&&!d)return a;var p=function h(v){return v.map(function(g){return g.items?h(g.items):g.path===d?g.label:null})};return p(e).filter(function(h){return Array.isArray(h)?h.some(function(v){return v!==null}):h!==null}).pop()},c=n!=null;return j.createElement(Gr,null,j.createElement(Li,{error:!!o,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:a,onChange:l,value:c?n:"",disabled:i,renderValue:u,size:"small"},s(e)))};var wle=["items","selectedKey","setField","isValueField"];function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ele={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},Cle=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.map(function(n){var i=n.items,a=n.path,o=n.key,s=n.label,l=n.altLabel,u=n.disabled,c=n.grouplabel,f=n.matchesType,d=n.tooltip,p="  ".repeat(r);return i?t(i,r+1):{title:s,renderTitle:f?j.createElement("b",null,p+s):p+s,value:a,disabled:u,groupTitle:r>0?p+c:null,tooltip:d,_value2:o,_altLabel:l}}).flat(1/0)},Tle=function(e,r){var n=e.items,i=e.selectedKey,a=e.setField,o=e.isValueField,s=mi(e,wle),l=Cle(n),u=i,c=function(p,h){if(!(!p&&!o))return a(p)},f={stringify:ae.useCallback(function(d){var p=r.settings.fieldItemKeysForSearch.map(function(v){return Ele[v]}),h=p.map(function(v){return typeof d[v]=="string"?d[v]:""}).join("\0");return h},[r])};return $S($S({},s),{},{listValues:l,setValue:c,filterOptionsConfig:f,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:u})};const Ple=function(t){return j.createElement(fA,Tle(t,t.config))},Ale=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly;t.config;var a={addRuleGroup:!0,addRuleGroupExt:!0},o={delGroup:j.createElement(Gl,null),delRuleGroup:j.createElement(Gl,null),delRule:j.createElement(Gl,null),addRule:j.createElement(Eo,null),addGroup:j.createElement(Eo,null),addRuleGroupExt:j.createElement(Eo,null),addRuleGroup:j.createElement(Eo,null)},s={addRule:"neutral",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};return!r||a[e]?j.createElement(Ft,{size:"small",disabled:i,onClick:n,color:s[e]},o[e]):j.createElement(Yt,{size:"small",disabled:i,onClick:n,color:s[e],startIcon:o[e]},r)},kle=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)},Ile=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,h=p||f>1&&!d,v=function(){return Object.keys(i).map(function(_){var O=i[_],x=O.id;O.name;var w=O.label,C=O.checked,I=a.isDummyFn?"__dummy":"";return(s||o)&&!C?null:j.createElement(Yt,{key:x+I,id:x+I,color:C?"primary":"neutral",value:_,onClick:y.bind(null,_),disabled:s||o},w)})},g=function(){return s&&!r?null:j.createElement(Yt,{key:e,id:e+"__not",color:r?"secondary":"neutral",onClick:m.bind(null,!r),disabled:s},c||"NOT")},y=function(_){return a(_)},m=function(_){return n(_)};return j.createElement(Gr,null,j.createElement(Dj,{disableElevation:!0,variant:"contained",size:"small",disabled:s},u&&g(),h&&v()))};var Tm={},jle=zr;Object.defineProperty(Tm,"__esModule",{value:!0});var dA=Tm.default=void 0,Rle=jle(Wr()),Fle=k,Lle=(0,Rle.default)((0,Fle.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");dA=Tm.default=Lle;var Pm={},$le=zr;Object.defineProperty(Pm,"__esModule",{value:!0});var pA=Pm.default=void 0,Nle=$le(Wr()),Dle=k,Mle=(0,Nle.default)((0,Dle.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");pA=Pm.default=Mle;const Vle=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.checkedLabel,a=t.hideLabel,o=t.id,s=t.config,l=t.type;s.settings.renderSize;var u=function(v){return r(v.target.checked)},c=function(){return r(!e)},f=l,d=e&&i||n,p=e?j.createElement(pA,null):j.createElement(dA,null);return l=="lock"?a?j.createElement(Ft,{key:o+f,onClick:c,size:"small"},p):j.createElement(Yt,{key:o+f,onClick:c,size:"small",startIcon:p},d):j.createElement(Wa,{control:j.createElement(qo,{checked:!!e,size:"small",onChange:u}),label:d})};var Am={},Ble=zr;Object.defineProperty(Am,"__esModule",{value:!0});var hA=Am.default=void 0,qle=Ble(Wr()),Hle=k,zle=(0,qle.default)((0,Hle.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp");hA=Am.default=zle;const Wle=function(t){var e=t.valueSources,r=t.valueSrc,n=t.title,i=t.setValueSrc;t.readonly;var a=j.useState(null),o=Ge(a,2),s=o[0],l=o[1],u=function(g){l(g.currentTarget)},c=function(){l(null)},f=function(g){s?c():u(g)},d=function(g,y){i(y),c()},p=function(g){return g.map(function(y){var m=Ge(y,2),S=m[0],_=m[1],O=r==S||!r&&S=="value",x=function(C){return d(C,S)};return j.createElement(on,{key:S,value:S,selected:O,onClick:x},!O&&j.createElement(pv,{inset:!0},_.label),O&&j.createElement(j.Fragment,null,j.createElement(ux,null,j.createElement(Cm,null)),_.label))})},h=!!s;return j.createElement("div",null,j.createElement(Ft,{size:"small",onClick:f},j.createElement(hA,null)),j.createElement(kI,{anchorEl:s,open:h,onClose:c},j.createElement(Gr,{component:"fieldset",sx:{p:0}},j.createElement(QO,{component:"legend",sx:{p:2,pt:0,pb:1}},n),p(e))))},Gle=function(t){var e=t.onOk,r=t.okText,n=t.cancelText,i=t.title,a=t.confirmFn;a({description:i||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(e).catch(function(){})};var zp,Ule=!!(wo!==null&&wo!==void 0&&(zp=wo.propTypes)!==null&&zp!==void 0&&zp.format),Yle=function(e){var r=e.config,n=e.children,i=r.settings.theme||{},a=r.settings.locale||{},o=a.moment,s=i.mui,l=a.mui,u=BO(s,l,{palette:{neutral:{main:"#64748B",contrastText:"#fff"}}}),c=Ule?{locale:o}:{adapterLocale:o},f=j.createElement("div",{className:"mui"},n),d=j.createElement(FI,ge({dateAdapter:B7},c),j.createElement(D8,null,f)),p=u?j.createElement(HO,{theme:u},d):d;return p};const Kle={MuiTextWidget:H7,MuiTextAreaWidget:z7,MuiDateWidget:nle,MuiDateTimeWidget:ale,MuiTimeWidget:sle,MuiSelectWidget:lle,MuiNumberWidget:ule,MuiSliderWidget:fle,MuiRangeWidget:ple,MuiBooleanWidget:hle,MuiMultiSelectWidget:vle,MuiAutocompleteWidget:fA,MuiFieldSelect:xle,MuiFieldAutocomplete:Ple,MuiButton:Ale,MuiButtonGroup:kle,MuiConjs:Ile,MuiSwitch:Vle,MuiValueSources:Wle,MuiConfirm:Gle,MuiUseConfirm:M8,MuiProvider:Yle};function NS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qle=qt(qt({},bn.settings),{},{renderField:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.MuiConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.MuiSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.MuiButton;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.MuiButtonGroup;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.MuiProvider;return n(i,e)},renderConfirm:function(e,r){var n=r.W.MuiConfirm;return n(e)},useConfirm:function(e){var r=e.W.MuiUseConfirm;return r()}}),Jle=qt(qt({},bn.widgets),{},{text:qt(qt({},bn.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextWidget;return n(i,e)}}),textarea:qt(qt({},bn.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextAreaWidget;return n(i,e)}}),number:qt(qt({},bn.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiNumberWidget;return n(i,e)}}),multiselect:qt(qt({},bn.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?n(a,qt(qt({},e),{},{multiple:!0})):n(o,e)}}),select:qt(qt({},bn.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiSelectWidget;return e.asyncFetch||e.showSearch?n(a,e):n(o,e)}}),slider:qt(qt({},bn.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiSliderWidget;return n(i,e)}}),boolean:qt(qt({},bn.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiBooleanWidget;return n(i,e)}}),date:qt(qt({},bn.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateWidget;return n(i,e)}}),time:qt(qt({},bn.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTimeWidget;return n(i,e)}}),datetime:qt(qt({},bn.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateTimeWidget;return n(i,e)}}),rangeslider:qt(qt({},bn.widgets.rangeslider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiRangeWidget;return n(i,e)}})}),Xle=qt({},bn.types),Zle=qt(qt({},bn.ctx),{},{W:qt(qt({},bn.ctx.W),Kle)}),ev=qt(qt({},bn),{},{ctx:Zle,types:Xle,widgets:Jle,settings:Qle});ev=Jo.ConfigMixins.addMixins(ev,["rangeslider"]);const vA=ev,Zt=vA,Or=t=>'<span class="logicField">'+t+"</span>",en=t=>'<span class="logicOp">'+t+"</span>",dr=(t,e)=>'<span class="logicValue">'+(e=="text"?'"'+t+'"':t)+"</span>",eue={AND:Zt.conjunctions.AND,OR:Zt.conjunctions.OR},tue={...Zt.operators,less:{...Zt.operators.less,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Or(t)," ").concat(en("<")," ").concat(dr(r,i))},less_or_equal:{...Zt.operators.less_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Or(t)," ").concat(en("<=")," ").concat(dr(r,i))},greater:{...Zt.operators.greater,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Or(t)," ").concat(en(">")," ").concat(dr(r,i))},greater_or_equal:{...Zt.operators.greater_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(Or(t)," ").concat(en(">=")," ").concat(dr(r,i))},equal:{...Zt.operators.equal,label:"Equals",jsonLogic:"==",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"equals":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},not_equal:{...Zt.operators.not_equal,label:"Not Equals",jsonLogic:"!=",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"not equals":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},starts_with:{...Zt.operators.starts_with,jsonLogic:"startsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"starts with":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},ends_with:{...Zt.operators.ends_with,jsonLogic:"endsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"ends with":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},between:{...Zt.operators.between,label:"Between",jsonLogic:"between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(Or(t)," ").concat(en("between")," ").concat(dr(l,i)," ").concat(en("and")," ").concat(dr(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},not_between:{...Zt.operators.not_between,label:"Not Between",jsonLogic:"not_between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(Or(t)," ").concat(en("not between")," ").concat(dr(l,i)," ").concat(en("and")," ").concat(dr(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},like:{...Zt.operators.like,label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"contains":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},not_like:{...Zt.operators.not_like,label:"Not Contains",jsonLogic:"not_contains",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"does not containends with":a.label;return"".concat(Or(t)," ").concat(en(u)," ").concat(dr(r,i))}},select_any_in:{...Zt.operators.select_any_in,label:"Any In",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Or(t)," ").concat(en("in")," (").concat(dr(l,""),")")}},select_not_any_in:{...Zt.operators.select_not_any_in,label:"None In",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Or(t)," ").concat(en("not in")," (").concat(dr(l,""),")")}},multiselect_equals:{...Zt.operators.multiselect_equals,label:"Any In",jsonLogic:"any_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(en("Any of")," (").concat(dr(l,""),") in ").concat(Or(t)," ").concat(en("is selected"))}},multiselect_not_equals:{...Zt.operators.multiselect_not_equals,label:"None In",jsonLogic:"none_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(en("None of")," (").concat(dr(l,""),") in ").concat(Or(t)," ").concat(en("is selected"))}},is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is shown"))},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is not shown"))},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is valid"))},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is not valid"))},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is empty"))},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is online"))},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is Offline"))},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is not empty"))},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is empty"))},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(Or(t)," ").concat(dr("is not empty"))}},rue={...Zt.widgets,text:{...Zt.widgets.text},slider:{...Zt.widgets.slider,customProps:{width:"300px"}},rangeslider:{...Zt.widgets.rangeslider,customProps:{width:"300px"}},date:{...Zt.widgets.date,dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"},time:{...Zt.widgets.time,timeFormat:"HH:mm",valueFormat:"HH:mm:ss"},datetime:{...Zt.widgets.datetime,timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"},func:{...Zt.widgets.func,customProps:{showSearch:!0}},treeselect:{...Zt.widgets.treeselect,customProps:{showSearch:!0}}},nue={...Zt.types,boolean:bI(Zt.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})},iue={valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}},aue={...Zt.settings,...iue,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1},oue={},sue={ctx:vA.ctx,conjunctions:eue,operators:tue,widgets:rue,types:nue,settings:aue,funcs:oue};function lue(t){const{jsonLogicFormat:e,queryString:r,loadTree:n,uuid:i,loadFromJsonLogic:a,checkTree:o}=Jo,s={...sue,fields:t.fields},l=t.logic?o(a(t.logic,s),s):n({id:i(),type:"group"}),[u,c]=ae.useState(l),[f,d]=ae.useState(r(u,s,!0)),p=g=>k.jsx("div",{jey:"builder",className:"query-builder-container",children:k.jsx("div",{className:"query-builder",children:k.jsx(rse,{...g})})}),h=g=>{c(g)},v=()=>{const{logic:g,errors:y}=e(u,s);d(r(u,s,!0)),t.onChange(g)};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"query-builder-result",children:[t.logic&&f?k.jsx("pre",{className:"condition-human-text",children:eI(wi(f),50)}):k.jsx("pre",{className:"condition-human-text",children:t.t("no_condition")}),k.jsx("div",{className:"icon-container",children:k.jsx(Ft,{onClick:()=>t.onDialogStateChanged(!0),children:k.jsx(hR,{})})})]},"result"),k.jsxs(dv,{fullScreen:!0,sx:{margin:"200px"},open:t.dialogOpen,onClose:()=>t.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[k.jsx(cv,{id:"alert-dialog-title-logic-builder",children:t.title}),k.jsx(Wl,{children:k.jsx(MP,{...s,value:u,onChange:h,renderBuilder:p})}),k.jsx(fv,{children:k.jsx(Yt,{onClick:()=>{t.onDialogStateChanged(!1),v()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const uue=(t,e,r,n,i)=>{let a=sw(t,e),o={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:i}}};return a.forEach(s=>{r[s]&&(Vo(s)||Fi(s))&&(o={...o,...cue(s,r[s],r,n)})}),o},cue=(t,e,r,n)=>{var a,o,s,l,u,c,f,d,p,h,v,g,y,m,S,_;const i=t+". "+wi(((o=(a=e.content)==null?void 0:a.label)==null?void 0:o[n])||"");if(Fi(t))return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(e.type){case"text":case"barcode":case"email":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[t]:{label:i,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[t]:{label:i,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[t]:{label:i,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[t]:{label:i,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let O={},x={};(s=e.children)==null||s.forEach(N=>{var z,J;const V=wi(((J=(z=r[N.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[n])||"");x[N.code]=V?N.code+" - "+V:N.code}),O[t]={label:i,fieldSettings:{listValues:x},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let w=(l=e.children)==null?void 0:l.find(N=>N.code==="Aother");return w&&((u=r[w.qualifiedCode].children)!=null&&u.find(N=>N.code==="Atext"))&&(O[t+"AotherAtext"]={label:"".concat(i," [").concat(((f=(c=r[w.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),O;case"image_mcq":case"icon_mcq":case"mcq":let C={},I={};(d=e.children)==null||d.forEach(N=>{var z,J;const V=wi(((J=(z=r[N.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[n])||"");I[N.code]=V?N.code+" - "+V:N.code}),C[t]={label:i,fieldSettings:{listValues:I},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let A=(p=e.children)==null?void 0:p.find(N=>N.code==="Aother");return A&&((h=r[A.qualifiedCode].children)!=null&&h.find(N=>N.code==="Atext"))&&(C[t+"AotherAtext"]={label:"".concat(i," [").concat(((g=(v=r[A.qualifiedCode].content)==null?void 0:v.label)==null?void 0:g[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),C;case"nps":let P={};return(y=e.children)==null||y.forEach(N=>{var z,J;const V=wi(((J=(z=r[N.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[n])||"");I[N.code]=V?N.code+" - "+V:N.code}),P[t]={label:i,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},P;case"scq_icon_array":case"scq_array":let E={},R={};return(m=e.children)==null||m.filter(N=>N.type=="column").forEach(N=>{var z,J;const V=wi(((J=(z=r[N.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[n])||"");R[N.code]=V?N.code+" - "+V:N.code}),E[t]={label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},(S=e.children)==null||S.filter(N=>N.type=="row").forEach(N=>{var V,z;E[t+N.code]={label:i+" - "+wi(((z=(V=r[N.qualifiedCode].content)==null?void 0:V.label)==null?void 0:z[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:R},operators:["select_any_in","select_not_any_in"]}}),E;case"ranking":case"image_ranking":let F={};return(_=e.children)==null||_.forEach(N=>{var V,z;F[t+N.code]={label:i+" - "+wi(((z=(V=r[N.qualifiedCode].content)==null?void 0:V.label)==null?void 0:z[n])||""),type:"number",fieldSettings:{min:1,max:e.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}}),F;default:return[]}},fue="_relevance_1j5a5_1",due="_relevanceError_1j5a5_5",pue="_errorContainer_1j5a5_9",DS={relevance:fue,relevanceError:due,errorContainer:pue};function hue({code:t,t:e}){var _,O,x;const r=Vt(),[n,i]=ae.useState(!1),a=Te(w=>w.designState),o=j.useMemo(()=>a.langInfo),s=j.useMemo(()=>a[t]),l=j.useMemo(()=>uue(a.componentIndex,t,a,o.mainLang,o.languagesList.map(w=>w.code)),[a]),u=(_=s.instructionList)==null?void 0:_.find(w=>w.code=="conditional_relevance"),f=((u==null?void 0:u.errors)||[]).length>0,d=(O=s.relevance)==null?void 0:O.logic,p=!f&&Object.keys(l).length>0,[h,v]=ae.useState(((x=s.relevance)==null?void 0:x.rule)||"show_always"),g=h=="show_if"||h=="hide_if",y=w=>{switch(v(w),w){case"show_always":m();return;case"hide_always":r(lc({code:t,key:"relevance",value:{logic:void 0,rule:w}}));return;case"show_if":case"hide_if":(d==null?void 0:d.rule)!="show_if"&&(d==null?void 0:d.rule)!="hide_if"&&i(!0),d&&r(lc({code:t,key:"relevance",value:{logic:d,rule:w}}));return}},m=()=>r(lc({code:t,key:"relevance",value:{logic:void 0,rule:"show_always"}})),S=w=>{i(!1),g&&r(lc({code:t,key:"relevance",value:{logic:w,rule:h}}))};return k.jsxs("div",{className:"".concat(f?DS.relevanceError:""),children:[k.jsx(Gr,{variant:"standard",fullWidth:!0,children:k.jsxs(Li,{id:"show-hide-select",value:h,label:"Age",onChange:w=>y(w.target.value),children:[k.jsx(on,{disabled:f,value:"show_always",children:e("show_always")},"show_always"),k.jsx(on,{disabled:!p,value:"show_if",children:e("show_if")},"show_if"),k.jsx(on,{disabled:!p,value:"hide_if",children:e("hide_if")},"hide_if"),k.jsx(on,{disabled:f,value:"hide_always",children:e("hide_always")},"hide_always")]})}),!f&&g&&k.jsx(lue,{title:h=="show_if"?e("condition_to_show"):e("condition_to_hide"),onChange:S,onDialogStateChanged:w=>i(w),fields:l,t:e,dialogOpen:n,logic:d}),f?k.jsxs("div",{className:DS.errorContainer,children:[k.jsx(Oa,{t:e,i18nKey:"wrong_logic_err"}),k.jsx(Yt,{variant:"contained",onClick:()=>m(),children:"OK"})]}):"",g&&!d?k.jsx("div",{children:k.jsx(Oa,{t:e,i18nKey:"no_logic_err"})}):""]})}const gA=(t,e,r)=>{var a,o;const n=e[t],i=t+". "+wi((o=(a=n.content)==null?void 0:a.label)==null?void 0:o[r]);return{code:t,label:i}},vue=(t,e,r,n)=>{let i=[];if(!t)return i;let a=t.find(o=>o.code===e);return a&&(i=i.concat(MS(t,a,r,n)),a.parent&&mA(t,a).filter(o=>Vo(o.code)||Fi(o.code)).forEach(o=>{i=i.concat(MS(t,o,r,n))})),i},mA=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(mA(t,n))),r},MS=(t,e,r,n)=>{let i=[];return!Fi(e.code)&&!Vo(e.code)||t.filter(o=>o.parent==e.parent&&o.minIndex>e.maxIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(o.code)===-1)).forEach(o=>{i=i.concat(gA(o.code,r,n)),i=i.concat(yA(t,o,r,n))}),i},yA=(t,e,r,n)=>{let i=[];return Fi(e.code)&&e.children&&e.children.forEach(a=>{let o=t.find(s=>s.code===a);i=i.concat(gA(o.code,r,n)),i=i.concat(yA(t,o,r,n))}),i},gue="_skipItem_1n8m2_1",mue="_toEnd_1n8m2_6",km={skipItem:gue,toEnd:mue};function yue({code:t,t:e}){const r=Vt(),n=Te(u=>u.designState[t].skip_logic||{}),i=Te(u=>{const c=u.designState.langInfo.mainLang;return vue(u.designState.componentIndex,t,u.designState,c)}),a=Te(u=>u.designState[t].instructionList.filter(c=>c.code.startsWith("skip_to"))),o=Te(u=>{var f,d;const c=u.designState.langInfo.lang;return(d=(f=u.designState[t])==null?void 0:f.children)==null?void 0:d.map(p=>{var h,v;return{code:p.code,label:((v=(h=u.designState[p.qualifiedCode].content)==null?void 0:h.label)==null?void 0:v[c])||p.code}})}),s=(u,c)=>{c=="proceed"?r(tI({code:t,answerCode:u})):r(rI({code:t,answerCode:u,skipTo:c}))},l=(u,c)=>{r(nI({code:t,answerCode:u,toEnd:c}))};return k.jsx(k.Fragment,{children:o==null?void 0:o.map(u=>{var v,g;const c=u.code,f=n==null?void 0:n[c],d=f==null?void 0:f.skipTo,p=d||"proceed",h=d&&((g=(v=a==null?void 0:a.find(y=>y.code=="skip_to_on_"+c))==null?void 0:v.errors)==null?void 0:g.find(y=>y.name=="InvalidSkipReference"));return k.jsxs("div",{className:km.skipItem,children:[k.jsx(Oa,{t:e,values:{code:u.label},i18nKey:"if_answer_is"}),h?bue(c,d,s,e):_ue(c,i,p,f==null?void 0:f.toEnd,s,l,e)]},u.code)})})}function bue(t,e,r,n){return k.jsxs(_t,{className:km.errorDisplay,children:[k.jsx(SI,{style:{verticalAlign:"middle"}})," ",k.jsx(Oa,{t:n,values:{code:e},i18nKey:"invalid_skip_destination_err"}),k.jsx(Yt,{variant:"contained",onClick:()=>r(t,"proceed"),children:n("ok")})]})}function _ue(t,e,r,n,i,a,o){return k.jsxs(k.Fragment,{children:[k.jsx(Gr,{variant:"standard",fullWidth:!0,children:k.jsxs(Li,{id:"skip-action",value:r,label:o("skip_to"),onChange:s=>i(t,s.target.value),children:[k.jsx(on,{value:"proceed",children:o("proceed_as_usual")},"proceed"),e&&(e==null?void 0:e.map(s=>k.jsx(on,{value:s.code,children:s.label},s.code)))]})}),r&&r.startsWith("G")&&k.jsxs("div",{className:km.toEnd,children:[k.jsx("h4",{children:o("to_group_end")}),k.jsx(qo,{checked:n||!1,onChange:s=>a(t,s.target.checked)})]})]})}const Sue="_sectionTitle_62go7_1",Oue="_rightContent_62go7_6",xue="_close_62go7_13",wue="_accordionStyle_62go7_17",Xl={sectionTitle:Sue,rightContent:Oue,close:xue,accordionStyle:wue},Eue="_errorDisplay_1avr2_1",Cue={errorDisplay:Eue};function bA({errors:t}){const{t:e}=Mo("design");return k.jsx(_t,{className:Cue.errorDisplay,children:t.map(r=>{if(r.name=="PriorityGroupItemNotChild")return k.jsx(Oa,{t:e,i18nKey:"err_priority_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicatePriorityGroupItems")return k.jsx(Oa,{t:e,i18nKey:"err_duplicate_priority_group_items",values:{items:r.items.join(", ")}},r.name);if(r.name=="PriorityLimitMismatch")return e("err_priority_limit_mismatch");if(r.name=="RandomGroupItemNotChild")return k.jsx(Oa,{t:e,i18nKey:"err_random_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicateRandomGroupItems")return k.jsx(Oa,{t:e,i18nKey:"err_duplicate_random_group_items",values:{items:r.items.join(", ")}},r.name)})},"box")}const Tue="_randomHeader_1pjix_1",Pue="_title_1pjix_6",Aue="_action_1pjix_11",kue="_settingIcon_1pjix_15",Iue="_randomBody_1pjix_19",jue="_list_1pjix_19",Rue="_weight_1pjix_30",Fue="_randomAction_1pjix_47",Lue="_listItem_1pjix_53",$ue="_label_1pjix_58",Nue="_input_1pjix_64",Due="_listItemError_1pjix_68",Mue="_randomItem_1pjix_84",Vue="_highlighted_1pjix_89",zn={randomHeader:Tue,title:Pue,action:Aue,settingIcon:kue,randomBody:Iue,list:jue,weight:Rue,randomAction:Fue,listItem:Lue,label:$ue,input:Nue,listItemError:Due,randomItem:Mue,highlighted:Vue};var Im={},Bue=zr;Object.defineProperty(Im,"__esModule",{value:!0});var jm=Im.default=void 0,que=Bue(Wr()),Hue=k,zue=(0,que.default)((0,Hue.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"}),"Mode");jm=Im.default=zue;function Wue(t){var e;return k.jsxs($f,{className:"".concat(zn.randomItem," ").concat(t.isBeingEdited?zn.highlighted:""),children:[k.jsxs("div",{className:zn.randomHeader,children:[k.jsx("h4",{className:zn.title,children:t.t("prioritise")}),k.jsxs("div",{className:zn.action,children:[k.jsx(Ft,{onClick:()=>t.onEditClicked(t.index),children:k.jsx(jm,{className:zn.settingIcon})}),k.jsx(Ft,{onClick:()=>t.onDeleteClicked(t.index),children:k.jsx(Gl,{className:zn.settingIcon})})]})]}),k.jsxs("div",{className:zn.randomBody,children:[t.t("priority_show_limit_from_count",{limit:t.data.limit,count:(e=t.data.weights)==null?void 0:e.length}),k.jsx("ul",{className:zn.list,children:t.data&&t.data.weights&&t.data.weights.map((r,n)=>k.jsx(Gue,{label:t.getChildLabelByCode(r.code),code:r.code,childrenCodes:t.childrenCodes,weight:r.weight},n))})]})]})}function Gue({code:t,label:e,weight:r,childrenCodes:n}){return k.jsxs("li",{className:n.indexOf(t)!==-1?zn.listItem:zn.listItemError,children:[k.jsxs("div",{className:"".concat(zn.content," ").concat(zn.label),children:[t,": ",e]}),k.jsx("div",{className:zn.weight,children:k.jsx("span",{children:r})})]})}const Uue="_title_5cg20_1",Yue="_randomBody_5cg20_6",Kue="_list_5cg20_6",Que="_weight_5cg20_18",Jue="_label_5cg20_35",Xue="_randomAction_5cg20_39",Zue="_listItem_5cg20_45",ece="_input_5cg20_50",tce="_randomItem_5cg20_54",Ki={title:Uue,randomBody:Yue,list:Kue,weight:Que,label:Jue,randomAction:Xue,listItem:Zue,input:ece,randomItem:tce};var Rm={},rce=zr;Object.defineProperty(Rm,"__esModule",{value:!0});var Fm=Rm.default=void 0,nce=rce(Wr()),ice=k,ace=(0,nce.default)((0,ice.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");Fm=Rm.default=ace;var Lm={},oce=zr;Object.defineProperty(Lm,"__esModule",{value:!0});var $m=Lm.default=void 0,sce=oce(Wr()),lce=k,uce=(0,sce.default)((0,lce.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");$m=Lm.default=uce;function cce(t){const e=t.t,[r,n]=ae.useState(t.checked),[i,a]=ae.useState(t.data),o=()=>{const v=r.filter(g=>g).length;return v>=2&&i.limit<=v-1&&i.limit>=1},s=()=>{if(r.filter(m=>m).length<2)return!1;const g={...i},y=r.reduce((m,S,_)=>(S&&m.push(g.weights[_]),m),[]);t.onSubmit({...g,weights:y})},l=(v,g)=>{const y=[...r];y[g]=v,n([...y])},u=v=>{a({...i,limit:v})},c=(v,g)=>{const y={...i};y.weights=[...i.weights],y.weights[g]={...i.weights[g],weight:v},a(y)},f=v=>{if(v===1)return!1;v--,u(v)},d=v=>{if(v===i.weights.length-1)return!1;v++,u(v)},p=(v,g)=>{if(v===1)return!1;v--,c(v,g)},h=(v,g)=>{v++,c(v,g)};return k.jsxs($f,{className:Ki.randomItem,children:[k.jsx("h4",{className:Ki.title,children:t.title}),k.jsxs("div",{className:Ki.randomBody,children:[k.jsx(dce,{t:e,increaseLimit:d,decreaseLimit:f,limit:i.limit}),k.jsx("ul",{className:"".concat(Ki.list," ").concat(Ki.active),children:i&&i.weights&&i.weights.map((v,g)=>k.jsx(fce,{code:v.code,weight:v.weight,handleChange:y=>l(y,g),decreaseWeight:y=>p(y,g),increaseWeight:y=>h(y,g),checked:(r==null?void 0:r[g])||!1,label:t.getChildLabelByCode(v.code)},g))})]}),k.jsxs("div",{className:Ki.randomAction,children:[k.jsx(Yt,{variant:"text",onClick:v=>t.onCancel(),children:e("cancel")}),k.jsx(Yt,{variant:"contained",onClick:v=>s(),disabled:!o(),children:e("submit")})]})]})}function fce({code:t,checked:e,label:r,weight:n,handleChange:i,increaseWeight:a,decreaseWeight:o}){return k.jsxs("li",{className:Ki.listItem,children:[k.jsx(Ui,{checked:e,onChange:s=>i(s.target.checked)}),k.jsxs("div",{className:"".concat(Ki.content," ").concat(Ki.label),children:[t,": ",r]}),k.jsxs("div",{className:Ki.weight,children:[k.jsx(Ft,{size:"small",onClick:s=>o(n),children:k.jsx(Fm,{})}),k.jsx("span",{children:n}),k.jsx(Ft,{size:"small",onClick:s=>a(n),children:k.jsx($m,{})})]})]})}function dce({limit:t,increaseLimit:e,decreaseLimit:r,t:n}){return k.jsxs(k.Fragment,{children:[n("priority_show"),k.jsx(Ft,{size:"small",onClick:i=>r(t),children:k.jsx(Fm,{})}),t,k.jsx(Ft,{size:"small",onClick:i=>e(t),children:k.jsx($m,{})})]})}function Wp({t,type:e,code:r,hideErrors:n}){var A,P;const i=Vt(),[a,o]=ae.useState({}),s=Te(E=>E.designState[r]),l=Te(E=>{var R,F,N,V;return((V=(N=(F=(R=E.designState[r])==null?void 0:R.children)==null?void 0:F.filter(z=>e?z.type==e:!0))==null?void 0:N.filter(z=>{var J,H;return((J=z.groupType)==null?void 0:J.toLowerCase())!="welcome"&&((H=z.groupType)==null?void 0:H.toLowerCase())!="end"}))==null?void 0:V.map(z=>z.code))||[]}),u=Te(E=>E.designState.langInfo.lang),c=Te(E=>{var R,F,N;return((N=(F=(R=E.designState[r])==null?void 0:R.children)==null?void 0:F.filter(V=>e?V.type==e:!0))==null?void 0:N.map(V=>{var z,J;return{code:V.code,label:(J=(z=E.designState[V.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[u]}}))||[]}),f=zO(s,"priority_groups"),d=((A=f==null?void 0:f.priorities)==null?void 0:A.filter(E=>e?E.weights.some(R=>l.includes(R.code)):!0))||[];let p=d.map(E=>E.weights).flat().map(E=>E.code).flat();const h=((P=f==null?void 0:f.errors)==null?void 0:P.filter(E=>E.items.some(R=>p.includes(R))))||[],v=E=>{i(e?iI({code:r,priorities:E,type:e}):aI({code:r,priorities:E}))},g=E=>{var F;const R=(F=c.find(N=>N.code==E))==null?void 0:F.label;return R==null?void 0:R.replace(/<[^>]*>/g,"")},y=()=>l.filter(E=>!p.includes(E)),m=E=>{window.confirm(t("are_you_sure"))&&v(d.filter((R,F)=>F!==E))},S=!a||Object.keys(a).length==0,_=E=>{let R=[],F=[];F.weights=[];const N=y();l.forEach(V=>{if(N.includes(V))F.weights.push({code:V,weight:1}),R.push(!1);else{let z=d[E].weights.findIndex(J=>J.code==V);z>-1&&(F.weights.push(d[E].weights[z]),R.push(!0))}F.limit=d[E].limit}),o({index:E,checked:R,title:t("edit_priority_rule"),data:F})},O=()=>{o({})},x=(E,R)=>{const F=d?[...d]:[];F[R]={...E},v(F),O()},w=()=>{const E=y(),R=E.map(F=>({code:F,weight:1}));o({title:t("add_priority_rule"),checked:E.map(F=>!1),data:{limit:1,weights:R},index:d?d.length:0,icon:k.jsx(ff,{})})},C=E=>{let R=[...E.weights].sort(function(F,N){return l.findIndex(V=>V===F.code)-l.findIndex(V=>V===N.code)});return{...E,weights:R}},I=(E,R)=>{let F=[...E.weights].filter(N=>R.includes(N.code));return F.length<=1&&O(),{limit:Math.min(E.limit,F.length-1),weights:F}};return k.jsxs(k.Fragment,{children:[d&&d.map((E,R)=>k.jsx(Wue,{t,data:C(E),index:R,childrenCodes:l,isBeingEdited:a.index==R,onDeleteClicked:F=>{o({}),m(F)},onEditClicked:F=>_(F),getChildLabelByCode:g},R)),!n&&h.length>0?k.jsx(bA,{errors:h}):"",S&&k.jsxs(Yt,{variant:"contained",disabled:y().length<2,onClick:w,children:[k.jsx(ff,{sx:{paddingRight:"8px"}})," ",t("add_priority_rule")]}),a&&a.data&&k.jsx(cce,{t,title:a.title,data:I(a.data,l),index:a.index,getChildLabelByCode:g,checked:a.checked,onSubmit:E=>x(E,a.index),onCancel:O})]})}const pce="_selectValue_14l81_1",hce={selectValue:pce},vce="_errorDisplay_1vtlj_1",gce="_addNew_1vtlj_10",mce={errorDisplay:vce,addNew:gce},yce="_title_1p7e9_1",bce="_list_1p7e9_6",_ce="_randomAction_1p7e9_19",Sce="_listItem_1p7e9_25",Oce="_input_1p7e9_30",xce="_randomItem_1p7e9_34",Bl={title:yce,list:bce,randomAction:_ce,listItem:Sce,input:Oce,randomItem:xce};function wce(t){const e=t.t,[r,n]=ae.useState(t.checked),[i,a]=ae.useState(t.randomOption),o=()=>r.filter(f=>f).length>=2,s=[e("random_order"),e("flip_order"),e("sort_by_label")],l=["RANDOM","FLIP","ALPHA"],u=()=>{if(r.filter(p=>p).length<2)return!1;const d=r.reduce((p,h,v)=>(h&&p.push(t.data[v]),p),[]);t.onSubmit(d,i)},c=(f,d)=>{const p=[...r];p[d]=f,n([...p])};return k.jsxs($f,{className:Bl.randomItem,children:[k.jsx("h4",{className:Bl.title,children:t.title}),k.jsx(Gr,{variant:"standard",fullWidth:!0,children:k.jsx(Li,{id:"select-value",value:i,label:"Select Value",onChange:f=>{a(f.target.value)},children:s.map((f,d)=>k.jsx(on,{value:l[d],children:f},f))})}),k.jsx("ul",{className:Bl.list,children:t.data&&t.data.map((f,d)=>k.jsx(Ece,{code:f,handleChange:p=>c(p,d),checked:(r==null?void 0:r[d])||!1,label:t.getChildLabelByCode(f)},d))}),k.jsxs("div",{className:Bl.randomAction,children:[k.jsx(Yt,{variant:"text",onClick:f=>t.onCancel(),children:e("cancel")}),k.jsx(Yt,{variant:"contained",onClick:f=>u(),disabled:!o(),children:e("submit")})]})]})}function Ece({code:t,label:e,checked:r,handleChange:n}){return k.jsxs("li",{className:Bl.listItem,children:[k.jsx(Ui,{checked:r,onChange:i=>n(i.target.checked)}),t,": ",e]})}const Cce="_randomHeader_10d2m_1",Tce="_title_10d2m_6",Pce="_action_10d2m_11",Ace="_settingIcon_10d2m_15",kce="_list_10d2m_19",Ice="_randomAction_10d2m_30",jce="_listItem_10d2m_36",Rce="_label_10d2m_41",Fce="_input_10d2m_47",Lce="_listItemError_10d2m_51",$ce="_randomItem_10d2m_63",Nce="_highlighted_10d2m_68",li={randomHeader:Cce,title:Tce,action:Pce,settingIcon:Ace,list:kce,randomAction:Ice,listItem:jce,label:Rce,input:Fce,listItemError:Lce,randomItem:$ce,highlighted:Nce},Dce=(t,e)=>{switch(t){case"ALPHA":return e("sort_by_label");case"RANDOM":return e("random_order");case"FLIP":return e("flip_order")}throw"unidentified randomOption: "+t};function Mce(t){const e=t.t;return k.jsxs($f,{className:"".concat(li.randomItem," ").concat(t.isBeingEdited?li.highlighted:""),children:[k.jsxs("div",{className:li.randomHeader,children:[k.jsx("h4",{className:li.title,children:Dce(t.randomOption,e)}),k.jsxs("div",{className:li.action,children:[k.jsx(Ft,{onClick:()=>t.onEditClicked(t.index),children:k.jsx(jm,{className:li.settingIcon})}),k.jsx(Ft,{onClick:()=>t.onDeleteClicked(t.index),children:k.jsx(Gl,{className:li.settingIcon})})]})]}),k.jsx("ul",{className:li.list,children:t.data&&t.data.map((r,n)=>k.jsx(Vce,{label:t.getChildLabelByCode(r),code:r,childrenCodes:t.childrenCodes},n))})]})}function Vce({code:t,label:e,childrenCodes:r}){return k.jsx("li",{className:r.indexOf(t)!==-1?li.listItem:li.listItemError,children:k.jsxs("div",{className:"".concat(li.content," ").concat(li.label),children:[t,": ",e]})})}function Gp({t,type:e,code:r,hideErrors:n}){var A,P;const i=Vt(),[a,o]=ae.useState({}),s=Te(E=>E.designState[r]),l=Te(E=>{var R,F,N,V;return((V=(N=(F=(R=E.designState[r])==null?void 0:R.children)==null?void 0:F.filter(z=>e?z.type==e:!0))==null?void 0:N.filter(z=>{var J,H;return((J=z.groupType)==null?void 0:J.toLowerCase())!="welcome"&&((H=z.groupType)==null?void 0:H.toLowerCase())!="end"}))==null?void 0:V.map(z=>z.code))||[]}),u=Te(E=>E.designState.langInfo.lang),c=Te(E=>{var R,F,N;return((N=(F=(R=E.designState[r])==null?void 0:R.children)==null?void 0:F.filter(V=>e?V.type==e:!0))==null?void 0:N.map(V=>{var z,J;return{code:V.code,label:(J=(z=E.designState[V.qualifiedCode].content)==null?void 0:z.label)==null?void 0:J[u]}}))||[]}),f=zO(s,"random_group"),d=((A=f==null?void 0:f.groups)==null?void 0:A.filter(E=>e?E.codes.some(R=>l.includes(R)):!0))||[],p=d.map(E=>E.codes).flat(),h=((P=f==null?void 0:f.errors)==null?void 0:P.filter(E=>E.items.some(R=>p.includes(R))))||[],v=E=>{i(e?oI({code:r,groups:E,type:e}):sI({code:r,groups:E}))},g=E=>{var F;const R=(F=c.find(N=>N.code==E))==null?void 0:F.label;return R==null?void 0:R.replace(/<[^>]*>/g,"")},y=E=>l.filter(R=>!p.includes(R)),m=E=>{window.confirm(t("are_you_sure"))&&v(d.filter((R,F)=>F!==E))},S=E=>[...E.codes].sort(function(R,F){return l.findIndex(N=>N===R)-l.findIndex(N=>N===F)}),_=E=>{let R=[],F=[],N=y();F=l.filter(V=>N.includes(V)||d[E].codes.includes(V)),R=F.map(V=>!!d[E].codes.includes(V)),o({index:E,checked:R,randomOption:d[E].randomOption||"RANDOM",title:t("edit_random_rule"),data:F})},O=()=>{o({})},x=!a||Object.keys(a).length==0,w=(E,R,F)=>{const N=d?[...d]:[];N[F]={codes:E,randomOption:R},v(N),O()},C=()=>{const E=y();o({title:t("add_new_random_rule"),data:E,checked:[],randomOption:"RANDOM",index:d?d.length:0})},I=(E,R)=>{let F=[...E].filter(N=>R.includes(N));return F.length<=1&&O(),F};return k.jsxs(k.Fragment,{children:[d&&d.map((E,R)=>k.jsx(Mce,{t,data:S(E),randomOption:E.randomOption,index:R,isBeingEdited:a.index==R,childrenCodes:l,getChildLabelByCode:g,onDeleteClicked:F=>{o({}),m(F)},onEditClicked:F=>_(F)},R)),!n&&h.length>0?k.jsx(bA,{errors:h}):"",x&&k.jsxs(Yt,{className:mce.addNew,variant:"contained",disabled:y().length<2,onClick:C,children:[k.jsx(Bv,{sx:{paddingRight:"8px"}})," ",t("add_random_rule")]}),a&&a.data&&k.jsx(wce,{t,title:a.title,data:I(a.data,l),randomOption:a.randomOption,getChildLabelByCode:g,checked:a.checked,onSubmit:(E,R)=>w(E,R,a.index),onCancel:O})]})}function Bce({t,rule:e,code:r}){const n=Vt(),i=Te(u=>u.designState[r][e]||"NONE");let a="",o=[],s=[];switch(e){case"randomize_questions":a=t("questions_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=t("questions_priority"),o=[t("no_priority"),t("prioritise_questions")],s=["NONE","prioritize"];break;case"randomize_groups":a=t("groups_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=t("groups_priority"),o=[t("no_priority"),t("prioritise_groups")],s=["NONE","prioritize"];break;case"randomize_options":a=t("options_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=t("options_priority"),o=[t("no_priority"),t("prioritise_options")],s=["NONE","prioritize"];break;case"randomize_rows":a=t("rows_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=t("rows_priority"),o=[t("no_priority"),t("prioritise_rows")],s=["NONE","prioritize"];break;case"randomize_columns":a=t("columns_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=t("columns_priority"),o=[t("no_priority"),t("prioritise_columns")],s=["NONE","prioritize"];break}const l=u=>{const c=u=="NONE"?void 0:u;n(Dn({code:r,key:e,value:c}))};return k.jsxs(k.Fragment,{children:[k.jsx("h4",{children:a}),k.jsx(Gr,{className:hce.selectValue,variant:"standard",fullWidth:!0,children:k.jsx(Li,{id:"select-value",value:i,label:"Select Value",onChange:u=>{l(u.target.value)},children:o.map((u,c)=>k.jsx(on,{value:s[c],children:u},u))})}),i=="custom"&&["randomize_questions","randomize_options","randomize_groups"].indexOf(e)!==-1&&k.jsx(Gp,{label:"",code:r,t}),i=="custom"&&e=="randomize_rows"&&k.jsx(Gp,{label:"",type:"row",code:r,t}),i=="prioritize"&&e=="prioritize_rows"&&k.jsx(Wp,{label:"",type:"row",code:r,t}),i=="custom"&&e=="randomize_columns"&&k.jsx(Gp,{label:"",type:"column",code:r,t}),i=="prioritize"&&e=="prioritize_columns"&&k.jsx(Wp,{label:"",type:"column",code:r,t}),i=="prioritize"&&["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(e)!==-1&&k.jsx(Wp,{label:"",code:r,t})]})}const qce=()=>{const{t}=Mo("design"),e=Vt(),r=Te(i=>i.designState.Survey.navigationMode||fc.GROUP_BY_GROUP),n=i=>{e(Dn({code:"Survey",key:"navigationMode",value:i.target.value}))};return k.jsxs(Gr,{fullWidth:!0,children:[k.jsx(II,{id:"navigation-mode-label",children:t("navigation_mode")}),k.jsxs(Li,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:t("label.navigation_mode"),onChange:n,children:[k.jsx(on,{value:fc.GROUP_BY_GROUP,children:t("group_by_group")}),k.jsx(on,{value:fc.QUESTION_BY_QUESTION,children:t("question_by_question")}),k.jsx(on,{value:fc.ALL_IN_ONE,children:t("all_in_one")})]})]})},Hce="_theming_1v217_1",zce="_chooseImage_1v217_12",Wce="_resetButton_1v217_21",Gce="_fontText_1v217_24",Uce="_selectDropdown_1v217_27",Yce="_colorBox_1v217_33",Kce="_colorPickerContainer_1v217_40",Ln={theming:Hce,chooseImage:zce,resetButton:Wce,fontText:Gce,selectDropdown:Uce,colorBox:Yce,colorPickerContainer:Kce},Qce="_themingItem_11qn9_1",Jce="_themingItemBody_11qn9_6",Xce="_selectDropdown_11qn9_13",Up={themingItem:Qce,themingItemBody:Jce,selectDropdown:Xce};function Yp(t){const e=Array.from({length:12},(n,i)=>i*2+10);function r(n,i){t.onChange({...t.value,[n]:i})}return k.jsx("div",{className:Up.themingItem,children:k.jsx("div",{className:Up.themingItemBody,children:k.jsx(Li,{size:"small",value:t.value.size||t.default.size,onChange:n=>r("size",n.target.value),IconComponent:GO,className:Up.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:e&&e.length>0&&e.map((n,i)=>k.jsx(on,{value:n,children:n},"fontSize-".concat(i)))},"fontSize")})})}var di={},Gu={},Zce=Ho,efe=ai,tfe=sa,rfe="[object String]";function nfe(t){return typeof t=="string"||!efe(t)&&tfe(t)&&Zce(t)==rfe}var ife=nfe,afe=_d;function ofe(t){return typeof t=="function"?t:afe}var sfe=ofe,lfe=cm,ufe=sfe;function cfe(t,e){return t&&lfe(t,ufe(e))}var Nm=cfe,ffe=nl;function dfe(t,e){return function(r,n){if(r==null)return r;if(!ffe(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var pfe=dfe,hfe=cm,vfe=pfe,gfe=vfe(hfe),mfe=gfe,yfe=mfe,bfe=nl;function _fe(t,e){var r=-1,n=bfe(t)?Array(t.length):[];return yfe(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var Sfe=_fe,Ofe=vd,xfe=fm,wfe=Sfe,Efe=ai;function Cfe(t,e){var r=Efe(t)?Ofe:wfe;return r(t,xfe(e))}var Tfe=Cfe;Object.defineProperty(Gu,"__esModule",{value:!0});Gu.flattenNames=void 0;var Pfe=ife,Afe=Ld(Pfe),kfe=Nm,Ife=Ld(kfe),jfe=Fg,Rfe=Ld(jfe),Ffe=Tfe,Lfe=Ld(Ffe);function Ld(t){return t&&t.__esModule?t:{default:t}}var $fe=Gu.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,Lfe.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,Rfe.default)(n)?(0,Ife.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,Afe.default)(n)&&r.push(n)}),r};Gu.default=$fe;var Uu={},Nfe=XE,Dfe=1,Mfe=4;function Vfe(t){return Nfe(t,Dfe|Mfe)}var Bfe=Vfe;Object.defineProperty(Uu,"__esModule",{value:!0});Uu.mergeClasses=void 0;var qfe=Nm,Hfe=_A(qfe),zfe=Bfe,Wfe=_A(zfe),Gfe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function _A(t){return t&&t.__esModule?t:{default:t}}var Ufe=Uu.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,Wfe.default)(e.default)||{};return r.map(function(i){var a=e[i];return a&&(0,Hfe.default)(a,function(o,s){n[s]||(n[s]={}),n[s]=Gfe({},n[s],a[s])}),i}),n};Uu.default=Ufe;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.autoprefix=void 0;var Yfe=Nm,VS=Qfe(Yfe),Kfe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Qfe(t){return t&&t.__esModule?t:{default:t}}var Jfe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},Xfe=Yu.autoprefix=function(e){var r={};return(0,VS.default)(e,function(n,i){var a={};(0,VS.default)(n,function(o,s){var l=Jfe[s];l?a=Kfe({},a,l(o)):a[s]=o}),r[i]=a}),r};Yu.default=Xfe;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.hover=void 0;var Zfe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ede=ae,Kp=tde(ede);function tde(t){return t&&t.__esModule?t:{default:t}}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ide=Ku.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){nde(i,n);function i(){var a,o,s,l;rde(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=BS(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return Kp.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},Kp.default.createElement(e,Zfe({},s.props,s.state)))},o),BS(s,l)}return i}(Kp.default.Component)};Ku.default=ide;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.active=void 0;var ade=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ode=ae,Qp=sde(ode);function sde(t){return t&&t.__esModule?t:{default:t}}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cde=Qu.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){ude(i,n);function i(){var a,o,s,l;lde(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=qS(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return Qp.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},Qp.default.createElement(e,ade({},s.props,s.state)))},o),qS(s,l)}return i}(Qp.default.Component)};Qu.default=cde;var Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});var fde=function(e,r){var n={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};Dm.default=fde;Object.defineProperty(di,"__esModule",{value:!0});di.ReactCSS=di.loop=di.handleActive=Mm=di.handleHover=di.hover=void 0;var dde=Gu,pde=_l(dde),hde=Uu,vde=_l(hde),gde=Yu,mde=_l(gde),yde=Ku,SA=_l(yde),bde=Qu,_de=_l(bde),Sde=Dm,Ode=_l(Sde);function _l(t){return t&&t.__esModule?t:{default:t}}di.hover=SA.default;var Mm=di.handleHover=SA.default;di.handleActive=_de.default;di.loop=Ode.default;var xde=di.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,pde.default)(n),o=(0,vde.default)(e,a);return(0,mde.default)(o)},pt=di.default=xde,wde=function(e,r,n,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),f=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0?d=0:f>s?d=1:d=Math.round(f*100/s)/100,r.a!==d)return{h:r.h,s:r.s,l:r.l,a:d,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>o?p=1:p=Math.round(c*100/o)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},Jp={},Ede=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=r,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null},Cde=function(e,r,n,i){var a=e+"-"+r+"-"+n+(i?"-server":"");if(Jp[a])return Jp[a];var o=Ede(e,r,n,i);return Jp[a]=o,o},HS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sl=function(e){var r=e.white,n=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,u=pt({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+Cde(r,n,i,a.canvas)+") center left"}}});return ae.isValidElement(l)?j.cloneElement(l,HS({},l.props,{style:HS({},l.props.style,u.grid)})):j.createElement("div",{style:u.grid})};Sl.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Tde=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pde=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vm=function(t){kde(e,t);function e(){var r,n,i,a;Ade(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=zS(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=wde(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),zS(i,a)}return Pde(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=pt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Tde({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return j.createElement("div",{style:a.alpha},j.createElement("div",{style:a.checkboard},j.createElement(Sl,{renderers:this.props.renderers})),j.createElement("div",{style:a.gradient}),j.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("div",{style:a.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:a.slider}))))}}]),e}(ae.PureComponent||ae.Component),Ide=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function jde(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fde(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $de=1,OA=38,Nde=40,Dde=[OA,Nde],Mde=function(e){return Dde.indexOf(e)>-1},Vde=function(e){return Number(String(e).replace(/%/g,""))},Bde=1,Ht=function(t){Lde(e,t);function e(r){Rde(this,e);var n=Fde(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=Vde(i.target.value);if(!isNaN(a)&&Mde(i.keyCode)){var o=n.getArrowOffset(),s=i.keyCode===OA?a+o:a-o;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Bde++,n}return Ide(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return jde({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||$de}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=pt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return j.createElement("div",{style:i.wrap},j.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return n.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?j.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(ae.PureComponent||ae.Component),qde=function(e,r,n,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(c<0)f=359;else if(c>o)f=0;else{var d=-(c*100/o)+100;f=360*d/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>a)p=359;else{var h=u*100/a;p=360*h/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Hde=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ol=function(t){Wde(e,t);function e(){var r,n,i,a;zde(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=WS(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=qde(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),WS(i,a)}return Hde(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,o=pt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return j.createElement("div",{style:o.hue},j.createElement("div",{className:"hue-"+a,style:o.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),j.createElement("div",{style:o.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:o.slider}))))}}]),e}(ae.PureComponent||ae.Component);function Gde(){this.__data__=[],this.size=0}function Ju(t,e){return t===e||t!==t&&e!==e}function $d(t,e){for(var r=t.length;r--;)if(Ju(t[r][0],e))return r;return-1}var Ude=Array.prototype,Yde=Ude.splice;function Kde(t){var e=this.__data__,r=$d(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Yde.call(e,r,1),--this.size,!0}function Qde(t){var e=this.__data__,r=$d(e,t);return r<0?void 0:e[r][1]}function Jde(t){return $d(this.__data__,t)>-1}function Xde(t,e){var r=this.__data__,n=$d(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function $a(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$a.prototype.clear=Gde;$a.prototype.delete=Kde;$a.prototype.get=Qde;$a.prototype.has=Jde;$a.prototype.set=Xde;function Zde(){this.__data__=new $a,this.size=0}function epe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function tpe(t){return this.__data__.get(t)}function rpe(t){return this.__data__.has(t)}var xA=typeof global=="object"&&global&&global.Object===Object&&global,npe=typeof self=="object"&&self&&self.Object===Object&&self,Vi=xA||npe||Function("return this")(),ao=Vi.Symbol,wA=Object.prototype,ipe=wA.hasOwnProperty,ape=wA.toString,$l=ao?ao.toStringTag:void 0;function ope(t){var e=ipe.call(t,$l),r=t[$l];try{t[$l]=void 0;var n=!0}catch(a){}var i=ape.call(t);return n&&(e?t[$l]=r:delete t[$l]),i}var spe=Object.prototype,lpe=spe.toString;function upe(t){return lpe.call(t)}var cpe="[object Null]",fpe="[object Undefined]",GS=ao?ao.toStringTag:void 0;function Xo(t){return t==null?t===void 0?fpe:cpe:GS&&GS in Object(t)?ope(t):upe(t)}function gi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dpe="[object AsyncFunction]",ppe="[object Function]",hpe="[object GeneratorFunction]",vpe="[object Proxy]";function Bm(t){if(!gi(t))return!1;var e=Xo(t);return e==ppe||e==hpe||e==dpe||e==vpe}var Xp=Vi["__core-js_shared__"],US=function(){var t=/[^.]+$/.exec(Xp&&Xp.keys&&Xp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gpe(t){return!!US&&US in t}var mpe=Function.prototype,ype=mpe.toString;function Zo(t){if(t!=null){try{return ype.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var bpe=/[\\^$.*+?()[\]{}|]/g,_pe=/^\[object .+?Constructor\]$/,Spe=Function.prototype,Ope=Object.prototype,xpe=Spe.toString,wpe=Ope.hasOwnProperty,Epe=RegExp("^"+xpe.call(wpe).replace(bpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cpe(t){if(!gi(t)||gpe(t))return!1;var e=Bm(t)?Epe:_pe;return e.test(Zo(t))}function Tpe(t,e){return t==null?void 0:t[e]}function es(t,e){var r=Tpe(t,e);return Cpe(r)?r:void 0}var vu=es(Vi,"Map"),gu=es(Object,"create");function Ppe(){this.__data__=gu?gu(null):{},this.size=0}function Ape(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kpe="__lodash_hash_undefined__",Ipe=Object.prototype,jpe=Ipe.hasOwnProperty;function Rpe(t){var e=this.__data__;if(gu){var r=e[t];return r===kpe?void 0:r}return jpe.call(e,t)?e[t]:void 0}var Fpe=Object.prototype,Lpe=Fpe.hasOwnProperty;function $pe(t){var e=this.__data__;return gu?e[t]!==void 0:Lpe.call(e,t)}var Npe="__lodash_hash_undefined__";function Dpe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gu&&e===void 0?Npe:e,this}function $o(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$o.prototype.clear=Ppe;$o.prototype.delete=Ape;$o.prototype.get=Rpe;$o.prototype.has=$pe;$o.prototype.set=Dpe;function Mpe(){this.size=0,this.__data__={hash:new $o,map:new(vu||$a),string:new $o}}function Vpe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Nd(t,e){var r=t.__data__;return Vpe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Bpe(t){var e=Nd(this,t).delete(t);return this.size-=e?1:0,e}function qpe(t){return Nd(this,t).get(t)}function Hpe(t){return Nd(this,t).has(t)}function zpe(t,e){var r=Nd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Na(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Na.prototype.clear=Mpe;Na.prototype.delete=Bpe;Na.prototype.get=qpe;Na.prototype.has=Hpe;Na.prototype.set=zpe;var Wpe=200;function Gpe(t,e){var r=this.__data__;if(r instanceof $a){var n=r.__data__;if(!vu||n.length<Wpe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Na(n)}return r.set(t,e),this.size=r.size,this}function na(t){var e=this.__data__=new $a(t);this.size=e.size}na.prototype.clear=Zde;na.prototype.delete=epe;na.prototype.get=tpe;na.prototype.has=rpe;na.prototype.set=Gpe;var Tf=function(){try{var t=es(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();function qm(t,e,r){e=="__proto__"&&Tf?Tf(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function tv(t,e,r){(r!==void 0&&!Ju(t[e],r)||r===void 0&&!(e in t))&&qm(t,e,r)}function Upe(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var EA=Upe(),CA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,YS=CA&&typeof module=="object"&&module&&!module.nodeType&&module,Ype=YS&&YS.exports===CA,KS=Ype?Vi.Buffer:void 0,QS=KS?KS.allocUnsafe:void 0;function Kpe(t,e){if(e)return t.slice();var r=t.length,n=QS?QS(r):new t.constructor(r);return t.copy(n),n}var Pf=Vi.Uint8Array;function Qpe(t){var e=new t.constructor(t.byteLength);return new Pf(e).set(new Pf(t)),e}function Jpe(t,e){var r=e?Qpe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Xpe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var JS=Object.create,Zpe=function(){function t(){}return function(e){if(!gi(e))return{};if(JS)return JS(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function TA(t,e){return function(r){return t(e(r))}}var ehe=TA(Object.getPrototypeOf,Object);const PA=ehe;var the=Object.prototype;function Hm(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||the;return t===r}function rhe(t){return typeof t.constructor=="function"&&!Hm(t)?Zpe(PA(t)):{}}function oo(t){return t!=null&&typeof t=="object"}var nhe="[object Arguments]";function XS(t){return oo(t)&&Xo(t)==nhe}var AA=Object.prototype,ihe=AA.hasOwnProperty,ahe=AA.propertyIsEnumerable,ohe=XS(function(){return arguments}())?XS:function(t){return oo(t)&&ihe.call(t,"callee")&&!ahe.call(t,"callee")};const Af=ohe;var ii=Array.isArray,she=9007199254740991;function zm(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=she}function xl(t){return t!=null&&zm(t.length)&&!Bm(t)}function lhe(t){return oo(t)&&xl(t)}function uhe(){return!1}var kA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ZS=kA&&typeof module=="object"&&module&&!module.nodeType&&module,che=ZS&&ZS.exports===kA,eO=che?Vi.Buffer:void 0,fhe=eO?eO.isBuffer:void 0,kf=fhe||uhe,dhe="[object Object]",phe=Function.prototype,hhe=Object.prototype,IA=phe.toString,vhe=hhe.hasOwnProperty,ghe=IA.call(Object);function mhe(t){if(!oo(t)||Xo(t)!=dhe)return!1;var e=PA(t);if(e===null)return!0;var r=vhe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&IA.call(r)==ghe}var yhe="[object Arguments]",bhe="[object Array]",_he="[object Boolean]",She="[object Date]",Ohe="[object Error]",xhe="[object Function]",whe="[object Map]",Ehe="[object Number]",Che="[object Object]",The="[object RegExp]",Phe="[object Set]",Ahe="[object String]",khe="[object WeakMap]",Ihe="[object ArrayBuffer]",jhe="[object DataView]",Rhe="[object Float32Array]",Fhe="[object Float64Array]",Lhe="[object Int8Array]",$he="[object Int16Array]",Nhe="[object Int32Array]",Dhe="[object Uint8Array]",Mhe="[object Uint8ClampedArray]",Vhe="[object Uint16Array]",Bhe="[object Uint32Array]",Pr={};Pr[Rhe]=Pr[Fhe]=Pr[Lhe]=Pr[$he]=Pr[Nhe]=Pr[Dhe]=Pr[Mhe]=Pr[Vhe]=Pr[Bhe]=!0;Pr[yhe]=Pr[bhe]=Pr[Ihe]=Pr[_he]=Pr[jhe]=Pr[She]=Pr[Ohe]=Pr[xhe]=Pr[whe]=Pr[Ehe]=Pr[Che]=Pr[The]=Pr[Phe]=Pr[Ahe]=Pr[khe]=!1;function qhe(t){return oo(t)&&zm(t.length)&&!!Pr[Xo(t)]}function Hhe(t){return function(e){return t(e)}}var jA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zl=jA&&typeof module=="object"&&module&&!module.nodeType&&module,zhe=Zl&&Zl.exports===jA,Zp=zhe&&xA.process,tO=function(){try{var t=Zl&&Zl.require&&Zl.require("util").types;return t||Zp&&Zp.binding&&Zp.binding("util")}catch(e){}}(),rO=tO&&tO.isTypedArray,Wm=rO?Hhe(rO):qhe;function rv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Whe=Object.prototype,Ghe=Whe.hasOwnProperty;function Uhe(t,e,r){var n=t[e];(!(Ghe.call(t,e)&&Ju(n,r))||r===void 0&&!(e in t))&&qm(t,e,r)}function Yhe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?qm(r,s,l):Uhe(r,s,l)}return r}function Khe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Qhe=9007199254740991,Jhe=/^(?:0|[1-9]\d*)$/;function Gm(t,e){var r=typeof t;return e=e==null?Qhe:e,!!e&&(r=="number"||r!="symbol"&&Jhe.test(t))&&t>-1&&t%1==0&&t<e}var Xhe=Object.prototype,Zhe=Xhe.hasOwnProperty;function RA(t,e){var r=ii(t),n=!r&&Af(t),i=!r&&!n&&kf(t),a=!r&&!n&&!i&&Wm(t),o=r||n||i||a,s=o?Khe(t.length,String):[],l=s.length;for(var u in t)(e||Zhe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Gm(u,l)))&&s.push(u);return s}function eve(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var tve=Object.prototype,rve=tve.hasOwnProperty;function nve(t){if(!gi(t))return eve(t);var e=Hm(t),r=[];for(var n in t)n=="constructor"&&(e||!rve.call(t,n))||r.push(n);return r}function FA(t){return xl(t)?RA(t,!0):nve(t)}function ive(t){return Yhe(t,FA(t))}function ave(t,e,r,n,i,a,o){var s=rv(t,r),l=rv(e,r),u=o.get(l);if(u){tv(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=ii(l),p=!d&&kf(l),h=!d&&!p&&Wm(l);c=l,d||p||h?ii(s)?c=s:lhe(s)?c=Xpe(s):p?(f=!1,c=Kpe(l,!0)):h?(f=!1,c=Jpe(l,!0)):c=[]:mhe(l)||Af(l)?(c=s,Af(s)?c=ive(s):(!gi(s)||Bm(s))&&(c=rhe(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),tv(t,r,c)}function LA(t,e,r,n,i){t!==e&&EA(e,function(a,o){if(i||(i=new na),gi(a))ave(t,e,o,r,LA,n,i);else{var s=n?n(rv(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),tv(t,o,s)}},FA)}function Dd(t){return t}function ove(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var nO=Math.max;function sve(t,e,r){return e=nO(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=nO(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),ove(t,this,s)}}function lve(t){return function(){return t}}var uve=Tf?function(t,e){return Tf(t,"toString",{configurable:!0,enumerable:!1,value:lve(e),writable:!0})}:Dd;const cve=uve;var fve=800,dve=16,pve=Date.now;function hve(t){var e=0,r=0;return function(){var n=pve(),i=dve-(n-r);if(r=n,i>0){if(++e>=fve)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var vve=hve(cve);function gve(t,e){return vve(sve(t,e,Dd),t+"")}function mve(t,e,r){if(!gi(r))return!1;var n=typeof e;return(n=="number"?xl(r)&&Gm(e,r.length):n=="string"&&e in r)?Ju(r[e],t):!1}function yve(t){return gve(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&mve(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Gn=yve(function(t,e,r){LA(t,e,r)}),Xu=function(e){var r=e.zDepth,n=e.radius,i=e.background,a=e.children,o=e.styles,s=o===void 0?{}:o,l=pt(Gn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return j.createElement("div",{style:l.wrap},j.createElement("div",{style:l.bg}),j.createElement("div",{style:l.content},a))};Xu.propTypes={background:Y.string,zDepth:Y.oneOf([0,1,2,3,4,5]),radius:Y.number,styles:Y.object};Xu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var eh=function(){return Vi.Date.now()},bve=/\s/;function _ve(t){for(var e=t.length;e--&&bve.test(t.charAt(e)););return e}var Sve=/^\s+/;function Ove(t){return t&&t.slice(0,_ve(t)+1).replace(Sve,"")}var xve="[object Symbol]";function Md(t){return typeof t=="symbol"||oo(t)&&Xo(t)==xve}var iO=NaN,wve=/^[-+]0x[0-9a-f]+$/i,Eve=/^0b[01]+$/i,Cve=/^0o[0-7]+$/i,Tve=parseInt;function aO(t){if(typeof t=="number")return t;if(Md(t))return iO;if(gi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ove(t);var r=Eve.test(t);return r||Cve.test(t)?Tve(t.slice(2),r?2:8):wve.test(t)?iO:+t}var Pve="Expected a function",Ave=Math.max,kve=Math.min;function $A(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Pve);e=aO(e)||0,gi(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Ave(aO(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(x){var w=n,C=i;return n=i=void 0,u=x,o=t.apply(C,w),o}function h(x){return u=x,s=setTimeout(y,e),c?p(x):o}function v(x){var w=x-l,C=x-u,I=e-w;return f?kve(I,a-C):I}function g(x){var w=x-l,C=x-u;return l===void 0||w>=e||w<0||f&&C>=a}function y(){var x=eh();if(g(x))return m(x);s=setTimeout(y,v(x))}function m(x){return s=void 0,d&&n?p(x):(n=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function _(){return s===void 0?o:m(eh())}function O(){var x=eh(),w=g(x);if(n=arguments,i=this,l=x,w){if(s===void 0)return h(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return O.cancel=S,O.flush=_,O}var Ive="Expected a function";function jve(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Ive);return gi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),$A(t,e,{leading:n,maxWait:e,trailing:i})}var Rve=function(e,r,n){var i=n.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),c=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),c<0?c=0:c>o&&(c=o);var f=u/a,d=1-c/o;return{h:r.h,s:f,v:d,a:r.a,source:"hsv"}},Fve=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Lve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vd=function(t){Nve(e,t);function e(r){Lve(this,e);var n=$ve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,Rve(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=jve(function(i,a,o){i(a,o)},50),n}return Fve(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,o=i.white,s=i.black,l=i.pointer,u=i.circle,c=pt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:o,black:s,pointer:l,circle:u}},{custom:!!this.props.style});return j.createElement("div",{style:c.color,ref:function(d){return n.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),j.createElement("div",{style:c.white,className:"saturation-white"},j.createElement("div",{style:c.black,className:"saturation-black"}),j.createElement("div",{style:c.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:c.circle}))))}}]),e}(ae.PureComponent||ae.Component);function Dve(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Mve=TA(Object.keys,Object),Vve=Object.prototype,Bve=Vve.hasOwnProperty;function qve(t){if(!Hm(t))return Mve(t);var e=[];for(var r in Object(t))Bve.call(t,r)&&r!="constructor"&&e.push(r);return e}function Um(t){return xl(t)?RA(t):qve(t)}function Hve(t,e){return t&&EA(t,e,Um)}function zve(t,e){return function(r,n){if(r==null)return r;if(!xl(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Wve=zve(Hve);const NA=Wve;function Gve(t){return typeof t=="function"?t:Dd}function Uve(t,e){var r=ii(t)?Dve:NA;return r(t,Gve(e))}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}var Yve=/^\s+/,Kve=/\s+$/;function Xe(t,e){if(t=t||"",e=e||{},t instanceof Xe)return t;if(!(this instanceof Xe))return new Xe(t,e);var r=Qve(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Xe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,a,o,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=DA(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=sO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=sO(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=oO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=oO(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return lO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ege(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Lr(this._r,255)*100)+"%",g:Math.round(Lr(this._g,255)*100)+"%",b:Math.round(Lr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Lr(this._r,255)*100)+"%, "+Math.round(Lr(this._g,255)*100)+"%, "+Math.round(Lr(this._b,255)*100)+"%)":"rgba("+Math.round(Lr(this._r,255)*100)+"%, "+Math.round(Lr(this._g,255)*100)+"%, "+Math.round(Lr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:dge[lO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+uO(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=Xe(e);n="#"+uO(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Xe(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(ige,arguments)},brighten:function(){return this._applyModification(age,arguments)},darken:function(){return this._applyModification(oge,arguments)},desaturate:function(){return this._applyModification(tge,arguments)},saturate:function(){return this._applyModification(rge,arguments)},greyscale:function(){return this._applyModification(nge,arguments)},spin:function(){return this._applyModification(sge,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(cge,arguments)},complement:function(){return this._applyCombination(lge,arguments)},monochromatic:function(){return this._applyCombination(fge,arguments)},splitcomplement:function(){return this._applyCombination(uge,arguments)},triad:function(){return this._applyCombination(cO,[3])},tetrad:function(){return this._applyCombination(cO,[4])}};Xe.fromRatio=function(t,e){if(If(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=ql(t[n]));t=r}return Xe(t,e)};function Qve(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=gge(t)),If(t)=="object"&&(ba(t.r)&&ba(t.g)&&ba(t.b)?(e=Jve(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ba(t.h)&&ba(t.s)&&ba(t.v)?(n=ql(t.s),i=ql(t.v),e=Zve(t.h,n,i),o=!0,s="hsv"):ba(t.h)&&ba(t.s)&&ba(t.l)&&(n=ql(t.s),a=ql(t.l),e=Xve(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=DA(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function Jve(t,e,r){return{r:Lr(t,255)*255,g:Lr(e,255)*255,b:Lr(r,255)*255}}function oO(t,e,r){t=Lr(t,255),e=Lr(e,255),r=Lr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function Xve(t,e,r){var n,i,a;t=Lr(t,360),e=Lr(e,100),r=Lr(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function sO(t,e,r){t=Lr(t,255),e=Lr(e,255),r=Lr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=n,l=n-i;if(o=n===0?0:l/n,n==i)a=0;else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function Zve(t,e,r){t=Lr(t,360)*6,e=Lr(e,100),r=Lr(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,u=[r,o,a,a,s,r][l],c=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function lO(t,e,r,n){var i=[Ti(Math.round(t).toString(16)),Ti(Math.round(e).toString(16)),Ti(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ege(t,e,r,n,i){var a=[Ti(Math.round(t).toString(16)),Ti(Math.round(e).toString(16)),Ti(Math.round(r).toString(16)),Ti(MA(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function uO(t,e,r,n){var i=[Ti(MA(n)),Ti(Math.round(t).toString(16)),Ti(Math.round(e).toString(16)),Ti(Math.round(r).toString(16))];return i.join("")}Xe.equals=function(t,e){return!t||!e?!1:Xe(t).toRgbString()==Xe(e).toRgbString()};Xe.random=function(){return Xe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function tge(t,e){e=e===0?0:e||10;var r=Xe(t).toHsl();return r.s-=e/100,r.s=Bd(r.s),Xe(r)}function rge(t,e){e=e===0?0:e||10;var r=Xe(t).toHsl();return r.s+=e/100,r.s=Bd(r.s),Xe(r)}function nge(t){return Xe(t).desaturate(100)}function ige(t,e){e=e===0?0:e||10;var r=Xe(t).toHsl();return r.l+=e/100,r.l=Bd(r.l),Xe(r)}function age(t,e){e=e===0?0:e||10;var r=Xe(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Xe(r)}function oge(t,e){e=e===0?0:e||10;var r=Xe(t).toHsl();return r.l-=e/100,r.l=Bd(r.l),Xe(r)}function sge(t,e){var r=Xe(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Xe(r)}function lge(t){var e=Xe(t).toHsl();return e.h=(e.h+180)%360,Xe(e)}function cO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Xe(t).toHsl(),n=[Xe(t)],i=360/e,a=1;a<e;a++)n.push(Xe({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function uge(t){var e=Xe(t).toHsl(),r=e.h;return[Xe(t),Xe({h:(r+72)%360,s:e.s,l:e.l}),Xe({h:(r+216)%360,s:e.s,l:e.l})]}function cge(t,e,r){e=e||6,r=r||30;var n=Xe(t).toHsl(),i=360/r,a=[Xe(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(Xe(n));return a}function fge(t,e){e=e||6;for(var r=Xe(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(Xe({h:n,s:i,v:a})),a=(a+s)%1;return o}Xe.mix=function(t,e,r){r=r===0?0:r||50;var n=Xe(t).toRgb(),i=Xe(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return Xe(o)};Xe.readability=function(t,e){var r=Xe(t),n=Xe(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Xe.isReadable=function(t,e,r){var n=Xe.readability(t,e),i,a;switch(a=!1,i=mge(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};Xe.mostReadable=function(t,e,r){var n=null,i=0,a,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<e.length;u++)a=Xe.readability(t,e[u]),a>i&&(i=a,n=Xe(e[u]));return Xe.isReadable(t,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,Xe.mostReadable(t,["#fff","#000"],r))};var nv=Xe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},dge=Xe.hexNames=pge(nv);function pge(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function DA(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Lr(t,e){hge(t)&&(t="100%");var r=vge(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Bd(t){return Math.min(1,Math.max(0,t))}function Jn(t){return parseInt(t,16)}function hge(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function vge(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ti(t){return t.length==1?"0"+t:""+t}function ql(t){return t<=1&&(t=t*100+"%"),t}function MA(t){return Math.round(parseFloat(t)*255).toString(16)}function fO(t){return Jn(t)/255}var xi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ba(t){return!!xi.CSS_UNIT.exec(t)}function gge(t){t=t.replace(Yve,"").replace(Kve,"").toLowerCase();var e=!1;if(nv[t])t=nv[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=xi.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=xi.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=xi.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=xi.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=xi.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=xi.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=xi.hex8.exec(t))?{r:Jn(r[1]),g:Jn(r[2]),b:Jn(r[3]),a:fO(r[4]),format:e?"name":"hex8"}:(r=xi.hex6.exec(t))?{r:Jn(r[1]),g:Jn(r[2]),b:Jn(r[3]),format:e?"name":"hex"}:(r=xi.hex4.exec(t))?{r:Jn(r[1]+""+r[1]),g:Jn(r[2]+""+r[2]),b:Jn(r[3]+""+r[3]),a:fO(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=xi.hex3.exec(t))?{r:Jn(r[1]+""+r[1]),g:Jn(r[2]+""+r[2]),b:Jn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function mge(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var dO=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return Uve(r,function(a){if(e[a]&&(n+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),n===i?e:!1},Hl=function(e,r){var n=e.hex?Xe(e.hex):Xe(e),i=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:o,hsv:a,oldHue:e.h||r||i.h,source:e.source}},ho=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&Xe(e).isValid()},Ym=function(e){if(!e)return"#fff";var r=Hl(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},th=function(e,r){var n=e.replace("°","");return Xe(r+" ("+n+")")._ok},Nl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yge=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function bge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Un=function(e){var r=function(n){Sge(i,n);function i(a){bge(this,i);var o=_ge(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(s,l){var u=dO(s);if(u){var c=Hl(s,s.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(s,l){var u=dO(s);if(u){var c=Hl(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Nl({},Hl(a.color,0)),o.debounce=$A(function(s,l,u){s(l,u)},100),o}return yge(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),j.createElement(e,Nl({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return Nl({},Hl(o.color,s.oldHue))}}]),i}(ae.PureComponent||ae.Component);return r.propTypes=Nl({},e.propTypes),r.defaultProps=Nl({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},Oge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xge=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cge=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Ege(i,n);function i(){var a,o,s,l;wge(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=pO(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),pO(s,l)}return xge(i,[{key:"render",value:function(){return j.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},j.createElement(e,Oge({},this.props,this.state)))}}]),i}(j.Component)},hO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tge=13,Pge=function(e){var r=e.color,n=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?r:s,u=e.children,c=e.focus,f=e.focusStyle,d=f===void 0?{}:f,p=r==="transparent",h=pt({default:{swatch:hO({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),v=function(_){return a(r,_)},g=function(_){return _.keyCode===Tge&&a(r,_)},y=function(_){return o(r,_)},m={};return o&&(m.onMouseOver=y),j.createElement("div",hO({style:h.swatch,onClick:v,title:l,tabIndex:0,onKeyDown:g},m),u,p&&j.createElement(Sl,{borderRadius:h.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ts=Cge(Pge);var Age=function(e){var r=e.direction,n=pt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},kge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VA=function(e){var r=e.rgb,n=e.hsl,i=e.width,a=e.height,o=e.onChange,s=e.direction,l=e.style,u=e.renderers,c=e.pointer,f=e.className,d=f===void 0?"":f,p=pt({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return j.createElement("div",{style:p.picker,className:"alpha-picker "+d},j.createElement(Vm,kge({},p.alpha,{rgb:r,hsl:n,pointer:c,renderers:u,onChange:o,direction:s})))};VA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Age};Un(VA);function BA(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ige="__lodash_hash_undefined__";function jge(t){return this.__data__.set(t,Ige),this}function Rge(t){return this.__data__.has(t)}function jf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Na;++e<r;)this.add(t[e])}jf.prototype.add=jf.prototype.push=jge;jf.prototype.has=Rge;function Fge(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Lge(t,e){return t.has(e)}var $ge=1,Nge=2;function qA(t,e,r,n,i,a){var o=r&$ge,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&Nge?new jf:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var h=t[f],v=e[f];if(n)var g=o?n(v,h,f,e,t,a):n(h,v,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!Fge(e,function(y,m){if(!Lge(p,m)&&(h===y||i(h,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(h===v||i(h,v,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function Dge(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Mge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Vge=1,Bge=2,qge="[object Boolean]",Hge="[object Date]",zge="[object Error]",Wge="[object Map]",Gge="[object Number]",Uge="[object RegExp]",Yge="[object Set]",Kge="[object String]",Qge="[object Symbol]",Jge="[object ArrayBuffer]",Xge="[object DataView]",vO=ao?ao.prototype:void 0,rh=vO?vO.valueOf:void 0;function Zge(t,e,r,n,i,a,o){switch(r){case Xge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jge:return!(t.byteLength!=e.byteLength||!a(new Pf(t),new Pf(e)));case qge:case Hge:case Gge:return Ju(+t,+e);case zge:return t.name==e.name&&t.message==e.message;case Uge:case Kge:return t==e+"";case Wge:var s=Dge;case Yge:var l=n&Vge;if(s||(s=Mge),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=Bge,o.set(t,e);var c=qA(s(t),s(e),n,i,a,o);return o.delete(t),c;case Qge:if(rh)return rh.call(t)==rh.call(e)}return!1}function eme(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function tme(t,e,r){var n=e(t);return ii(t)?n:eme(n,r(t))}function rme(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function nme(){return[]}var ime=Object.prototype,ame=ime.propertyIsEnumerable,gO=Object.getOwnPropertySymbols,ome=gO?function(t){return t==null?[]:(t=Object(t),rme(gO(t),function(e){return ame.call(t,e)}))}:nme;const sme=ome;function mO(t){return tme(t,Um,sme)}var lme=1,ume=Object.prototype,cme=ume.hasOwnProperty;function fme(t,e,r,n,i,a){var o=r&lme,s=mO(t),l=s.length,u=mO(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:cme.call(e,d)))return!1}var p=a.get(t),h=a.get(e);if(p&&h)return p==e&&h==t;var v=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var S=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(S===void 0?y===m||i(y,m,r,n,a):S)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof O=="function"&&O instanceof O)&&(v=!1)}return a.delete(t),a.delete(e),v}var iv=es(Vi,"DataView"),av=es(Vi,"Promise"),ov=es(Vi,"Set"),sv=es(Vi,"WeakMap"),yO="[object Map]",dme="[object Object]",bO="[object Promise]",_O="[object Set]",SO="[object WeakMap]",OO="[object DataView]",pme=Zo(iv),hme=Zo(vu),vme=Zo(av),gme=Zo(ov),mme=Zo(sv),So=Xo;(iv&&So(new iv(new ArrayBuffer(1)))!=OO||vu&&So(new vu)!=yO||av&&So(av.resolve())!=bO||ov&&So(new ov)!=_O||sv&&So(new sv)!=SO)&&(So=function(t){var e=Xo(t),r=e==dme?t.constructor:void 0,n=r?Zo(r):"";if(n)switch(n){case pme:return OO;case hme:return yO;case vme:return bO;case gme:return _O;case mme:return SO}return e});const xO=So;var yme=1,wO="[object Arguments]",EO="[object Array]",Fc="[object Object]",bme=Object.prototype,CO=bme.hasOwnProperty;function _me(t,e,r,n,i,a){var o=ii(t),s=ii(e),l=o?EO:xO(t),u=s?EO:xO(e);l=l==wO?Fc:l,u=u==wO?Fc:u;var c=l==Fc,f=u==Fc,d=l==u;if(d&&kf(t)){if(!kf(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new na),o||Wm(t)?qA(t,e,r,n,i,a):Zge(t,e,l,r,n,i,a);if(!(r&yme)){var p=c&&CO.call(t,"__wrapped__"),h=f&&CO.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,g=h?e.value():e;return a||(a=new na),i(v,g,r,n,a)}}return d?(a||(a=new na),fme(t,e,r,n,i,a)):!1}function Km(t,e,r,n,i){return t===e?!0:t==null||e==null||!oo(t)&&!oo(e)?t!==t&&e!==e:_me(t,e,r,n,Km,i)}var Sme=1,Ome=2;function xme(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new na;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?Km(c,u,Sme|Ome,n,f):d))return!1}}return!0}function HA(t){return t===t&&!gi(t)}function wme(t){for(var e=Um(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,HA(i)]}return e}function zA(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function Eme(t){var e=wme(t);return e.length==1&&e[0][2]?zA(e[0][0],e[0][1]):function(r){return r===t||xme(r,t,e)}}var Cme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tme=/^\w*$/;function Qm(t,e){if(ii(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Md(t)?!0:Tme.test(t)||!Cme.test(t)||e!=null&&t in Object(e)}var Pme="Expected a function";function Jm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Pme);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Jm.Cache||Na),r}Jm.Cache=Na;var Ame=500;function kme(t){var e=Jm(t,function(n){return r.size===Ame&&r.clear(),n}),r=e.cache;return e}var Ime=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jme=/\\(\\)?/g,Rme=kme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ime,function(r,n,i,a){e.push(i?a.replace(jme,"$1"):n||r)}),e}),Fme=1/0,TO=ao?ao.prototype:void 0,PO=TO?TO.toString:void 0;function WA(t){if(typeof t=="string")return t;if(ii(t))return BA(t,WA)+"";if(Md(t))return PO?PO.call(t):"";var e=t+"";return e=="0"&&1/t==-Fme?"-0":e}function Lme(t){return t==null?"":WA(t)}function GA(t,e){return ii(t)?t:Qm(t,e)?[t]:Rme(Lme(t))}var $me=1/0;function qd(t){if(typeof t=="string"||Md(t))return t;var e=t+"";return e=="0"&&1/t==-$me?"-0":e}function UA(t,e){e=GA(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[qd(e[r++])];return r&&r==n?t:void 0}function Nme(t,e,r){var n=t==null?void 0:UA(t,e);return n===void 0?r:n}function Dme(t,e){return t!=null&&e in Object(t)}function Mme(t,e,r){e=GA(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=qd(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&zm(i)&&Gm(o,i)&&(ii(t)||Af(t)))}function Vme(t,e){return t!=null&&Mme(t,e,Dme)}var Bme=1,qme=2;function Hme(t,e){return Qm(t)&&HA(e)?zA(qd(t),e):function(r){var n=Nme(r,t);return n===void 0&&n===e?Vme(r,t):Km(e,n,Bme|qme)}}function zme(t){return function(e){return e==null?void 0:e[t]}}function Wme(t){return function(e){return UA(e,t)}}function Gme(t){return Qm(t)?zme(qd(t)):Wme(t)}function Ume(t){return typeof t=="function"?t:t==null?Dd:typeof t=="object"?ii(t)?Hme(t[0],t[1]):Eme(t):Gme(t)}function Yme(t,e){var r=-1,n=xl(t)?Array(t.length):[];return NA(t,function(i,a,o){n[++r]=e(i,a,o)}),n}function rs(t,e){var r=ii(t)?BA:Yme;return r(t,Ume(e))}var Kme=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,a=pt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return j.createElement("div",{style:a.swatches},rs(r,function(o){return j.createElement(ts,{key:o,color:o,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),j.createElement("div",{style:a.clear}))},Xm=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=i==="transparent",p=function(g,y){ho(g)&&r({hex:g,source:"hex"},y)},h=pt(Gn({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Ym(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":s==="hide"});return j.createElement("div",{style:h.card,className:"block-picker "+f},j.createElement("div",{style:h.triangle}),j.createElement("div",{style:h.head},d&&j.createElement(Sl,{borderRadius:"6px 6px 0 0"}),j.createElement("div",{style:h.label},i)),j.createElement("div",{style:h.body},j.createElement(Kme,{colors:a,onClick:p,onSwatchHover:n}),j.createElement(Ht,{style:{input:h.input},value:i,onChange:p})))};Xm.propTypes={width:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.string),triangle:Y.oneOf(["top","hide"]),styles:Y.object};Xm.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Un(Xm);var ys={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},bs={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},_s={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ss={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Os={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},xs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},ws={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Es={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Cs={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},zl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ts={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ps={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},As={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ks={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Is={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},js={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Rs={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Fs={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},YA=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,u=pt({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:o});return j.createElement("div",{style:u.swatch},j.createElement(ts,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};YA.defaultProps={circleSize:28,circleSpacing:14};const Qme=Mm(YA);var Zm=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,f=e.className,d=f===void 0?"":f,p=pt(Gn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),h=function(g,y){return n({hex:g,source:"hex"},y)};return j.createElement("div",{style:p.card,className:"circle-picker "+d},rs(a,function(v){return j.createElement(Qme,{key:v,color:v,onClick:h,onSwatchHover:i,active:o===v.toLowerCase(),circleSize:s,circleSpacing:c})}))};Zm.propTypes={width:Y.oneOfType([Y.string,Y.number]),circleSize:Y.number,circleSpacing:Y.number,styles:Y.object};Zm.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ys[500],bs[500],_s[500],Ss[500],Os[500],xs[500],ws[500],Es[500],Cs[500],zl[500],Ts[500],Ps[500],As[500],ks[500],Is[500],js[500],Rs[500],Fs[500]],styles:{}};Un(Zm);function AO(t){return t===void 0}var KA={};Object.defineProperty(KA,"__esModule",{value:!0});var kO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jme=ae,IO=Xme(Jme);function Xme(t){return t&&t.__esModule?t:{default:t}}function Zme(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Lc=24,eye=KA.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Lc:n,a=t.height,o=a===void 0?Lc:a,s=t.style,l=s===void 0?{}:s,u=Zme(t,["fill","width","height","style"]);return IO.default.createElement("svg",kO({viewBox:"0 0 "+Lc+" "+Lc,style:kO({fill:r,width:i,height:o},l)},u),IO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},tye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QA=function(t){iye(e,t);function e(r){rye(this,e);var n=nye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?ho(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(AO(i.s)?n.props.hsl.s:i.s),l:Number(AO(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return tye(e,[{key:"render",value:function(){var n=this,i=pt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Ht,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),j.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,j.createElement("div",{style:i.toggle},j.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},j.createElement(eye,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(j.Component);QA.defaultProps={view:"hex"};var jO=function(){var e=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},aye=function(){var e=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return j.createElement("div",{style:e.picker})},ey=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,a=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,c=e.styles,f=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,h=e.defaultView,v=pt(Gn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return j.createElement("div",{style:v.picker,className:"chrome-picker "+p},j.createElement("div",{style:v.saturation},j.createElement(Vd,{style:v.Saturation,hsl:o,hsv:s,pointer:aye,onChange:n})),j.createElement("div",{style:v.body},j.createElement("div",{style:v.controls,className:"flexbox-fix"},j.createElement("div",{style:v.color},j.createElement("div",{style:v.swatch},j.createElement("div",{style:v.active}),j.createElement(Sl,{renderers:u}))),j.createElement("div",{style:v.toggles},j.createElement("div",{style:v.hue},j.createElement(Ol,{style:v.Hue,hsl:o,pointer:jO,onChange:n})),j.createElement("div",{style:v.alpha},j.createElement(Vm,{style:v.Alpha,rgb:a,hsl:o,pointer:jO,renderers:u,onChange:n})))),j.createElement(QA,{rgb:a,hsl:o,hex:l,view:h,onChange:n,disableAlpha:i})))};ey.propTypes={width:Y.oneOfType([Y.string,Y.number]),disableAlpha:Y.bool,styles:Y.object,defaultView:Y.oneOf(["hex","rgb","hsl"])};ey.defaultProps={width:225,disableAlpha:!1,styles:{}};const $c=Un(ey);var oye=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.active,s=pt({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Ym(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(ts,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:s.dot}))},sye=function(e){var r=e.hex,n=e.rgb,i=e.onChange,a=pt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return j.createElement("div",{style:a.fields,className:"flexbox-fix"},j.createElement("div",{style:a.active}),j.createElement(Ht,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:o}),j.createElement(Ht,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),j.createElement(Ht,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),j.createElement(Ht,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))},ty=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,a=e.hex,o=e.rgb,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=pt(Gn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(h,v){h.hex?ho(h.hex)&&r({hex:h.hex,source:"hex"},v):r(h,v)};return j.createElement(Xu,{style:f.Compact,styles:l},j.createElement("div",{style:f.compact,className:"compact-picker "+c},j.createElement("div",null,rs(i,function(p){return j.createElement(oye,{key:p,color:p,active:p.toLowerCase()===a,onClick:d,onSwatchHover:n})}),j.createElement("div",{style:f.clear})),j.createElement(sye,{hex:a,rgb:o,onChange:d})))};ty.propTypes={colors:Y.arrayOf(Y.string),styles:Y.object};ty.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Un(ty);var lye=function(e){var r=e.hover,n=e.color,i=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=pt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:r});return j.createElement("div",{style:s.swatch},j.createElement(ts,{color:n,onClick:i,onHover:a,focusStyle:o}))};const uye=Mm(lye);var ry=function(e){var r=e.width,n=e.colors,i=e.onChange,a=e.onSwatchHover,o=e.triangle,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=pt(Gn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(h,v){return i({hex:h,source:"hex"},v)};return j.createElement("div",{style:f.card,className:"github-picker "+c},j.createElement("div",{style:f.triangleShadow}),j.createElement("div",{style:f.triangle}),rs(n,function(p){return j.createElement(uye,{color:p,key:p,onClick:d,onSwatchHover:a})}))};ry.propTypes={width:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.string),triangle:Y.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Y.object};ry.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Un(ry);var cye=function(e){var r=e.direction,n=pt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},fye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ny=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.hsl,o=e.direction,s=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=pt(Gn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),p=function(v){return i({a:1,h:v.h,l:.5,s:1})};return j.createElement("div",{style:d.picker,className:"hue-picker "+f},j.createElement(Ol,fye({},d.hue,{hsl:a,pointer:s,onChange:p,direction:o})))};ny.propTypes={styles:Y.object};ny.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:cye,styles:{}};Un(ny);var dye=function(e){var r=e.onChange,n=e.hex,i=e.rgb,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=pt(Gn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,p){d.hex?ho(d.hex)&&r({hex:d.hex,source:"hex"},p):(d.r||d.g||d.b)&&r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},p)};return j.createElement(Xu,{styles:o},j.createElement("div",{style:u.material,className:"material-picker "+l},j.createElement(Ht,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),j.createElement("div",{style:u.split,className:"flexbox-fix"},j.createElement("div",{style:u.third},j.createElement(Ht,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Ht,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Ht,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Un(dye);var pye=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,a=e.hex,o=pt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(u,c){u["#"]?ho(u["#"])&&r({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},c):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return j.createElement("div",{style:o.fields},j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),j.createElement(Ht,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Ht,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),j.createElement("div",{style:o.fieldSymbols},j.createElement("div",{style:o.symbol},"°"),j.createElement("div",{style:o.symbol},"%"),j.createElement("div",{style:o.symbol},"%")))},hye=function(e){var r=e.hsl,n=pt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return j.createElement("div",{style:n.picker})},vye=function(){var e=pt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return j.createElement("div",{style:e.pointer},j.createElement("div",{style:e.left},j.createElement("div",{style:e.leftInside})),j.createElement("div",{style:e.right},j.createElement("div",{style:e.rightInside})))},RO=function(e){var r=e.onClick,n=e.label,i=e.children,a=e.active,o=pt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return j.createElement("div",{style:o.button,onClick:r},n||i)},gye=function(e){var r=e.rgb,n=e.currentColor,i=pt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return j.createElement("div",null,j.createElement("div",{style:i.label},"new"),j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.new}),j.createElement("div",{style:i.current})),j.createElement("div",{style:i.label},"current"))},mye=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iy=function(t){_ye(e,t);function e(r){yye(this,e);var n=bye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return mye(e,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,o=n.className,s=o===void 0?"":o,l=pt(Gn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return j.createElement("div",{style:l.picker,className:"photoshop-picker "+s},j.createElement("div",{style:l.head},this.props.header),j.createElement("div",{style:l.body,className:"flexbox-fix"},j.createElement("div",{style:l.saturation},j.createElement(Vd,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:hye,onChange:this.props.onChange})),j.createElement("div",{style:l.hue},j.createElement(Ol,{direction:"vertical",hsl:this.props.hsl,pointer:vye,onChange:this.props.onChange})),j.createElement("div",{style:l.controls},j.createElement("div",{style:l.top,className:"flexbox-fix"},j.createElement("div",{style:l.previews},j.createElement(gye,{rgb:this.props.rgb,currentColor:this.state.currentColor})),j.createElement("div",{style:l.actions},j.createElement(RO,{label:"OK",onClick:this.props.onAccept,active:!0}),j.createElement(RO,{label:"Cancel",onClick:this.props.onCancel}),j.createElement(pye,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(j.Component);iy.propTypes={header:Y.string,styles:Y.object};iy.defaultProps={header:"Color Picker",styles:{}};Un(iy);var Sye=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=pt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,f){c.hex?ho(c.hex)&&r({hex:c.hex,source:"hex"},f):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,a:n.a,source:"rgb"},f):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,r({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},f))};return j.createElement("div",{style:s.fields,className:"flexbox-fix"},j.createElement("div",{style:s.double},j.createElement(Ht,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:l})),j.createElement("div",{style:s.single},j.createElement(Ht,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Ht,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Ht,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.alpha},j.createElement(Ht,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},Oye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=pt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(u,c){i({hex:u,source:"hex"},c)};return j.createElement("div",{style:o.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return j.createElement("div",{key:c,style:o.swatchWrap},j.createElement(ts,Oye({},u,{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};JA.propTypes={colors:Y.arrayOf(Y.oneOfType([Y.string,Y.shape({color:Y.string,title:Y.string})])).isRequired};var xye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ay=function(e){var r=e.width,n=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,f=e.renderers,d=e.styles,p=d===void 0?{}:d,h=e.className,v=h===void 0?"":h,g=pt(Gn({default:xye({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return j.createElement("div",{style:g.picker,className:"sketch-picker "+v},j.createElement("div",{style:g.saturation},j.createElement(Vd,{style:g.Saturation,hsl:o,hsv:a,onChange:s})),j.createElement("div",{style:g.controls,className:"flexbox-fix"},j.createElement("div",{style:g.sliders},j.createElement("div",{style:g.hue},j.createElement(Ol,{style:g.Hue,hsl:o,onChange:s})),j.createElement("div",{style:g.alpha},j.createElement(Vm,{style:g.Alpha,rgb:n,hsl:o,renderers:f,onChange:s}))),j.createElement("div",{style:g.color},j.createElement(Sl,null),j.createElement("div",{style:g.activeColor}))),j.createElement(Sye,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:u}),j.createElement(JA,{colors:c,onClick:s,onSwatchHover:l}))};ay.propTypes={disableAlpha:Y.bool,width:Y.oneOfType([Y.string,Y.number]),styles:Y.object};ay.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Un(ay);var Dl=function(e){var r=e.hsl,n=e.offset,i=e.onClick,a=i===void 0?function(){}:i,o=e.active,s=e.first,l=e.last,u=pt({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l}),c=function(d){return a({h:r.h,s:.5,l:n,source:"hsl"},d)};return j.createElement("div",{style:u.swatch,onClick:c})},wye=function(e){var r=e.onClick,n=e.hsl,i=pt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.swatch},j.createElement(Dl,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),j.createElement("div",{style:i.swatch},j.createElement(Dl,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Dl,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Dl,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Dl,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),j.createElement("div",{style:i.clear}))},Eye=function(){var e=pt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},oy=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=pt(Gn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return j.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},j.createElement("div",{style:u.hue},j.createElement(Ol,{style:u.Hue,hsl:r,pointer:i,onChange:n})),j.createElement("div",{style:u.swatches},j.createElement(wye,{hsl:r,onClick:n})))};oy.propTypes={styles:Y.object};oy.defaultProps={pointer:Eye,styles:{}};Un(oy);var XA={};Object.defineProperty(XA,"__esModule",{value:!0});var FO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cye=ae,LO=Tye(Cye);function Tye(t){return t&&t.__esModule?t:{default:t}}function Pye(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Nc=24,Aye=XA.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Nc:n,a=t.height,o=a===void 0?Nc:a,s=t.style,l=s===void 0?{}:s,u=Pye(t,["fill","width","height","style"]);return LO.default.createElement("svg",FO({viewBox:"0 0 "+Nc+" "+Nc,style:FO({fill:r,width:i,height:o},l)},u),LO.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},kye=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,l=e.active,u=pt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:Ym(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(ts,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:u.check},j.createElement(Aye,null)))},Iye=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,a=e.active,o=pt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return j.createElement("div",{style:o.group},rs(i,function(s,l){return j.createElement(kye,{key:s,color:s,active:s.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},sy=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=pt(Gn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(v,g){return i({hex:v,source:"hex"},g)};return j.createElement("div",{style:d.picker,className:"swatches-picker "+f},j.createElement(Xu,null,j.createElement("div",{style:d.overflow},j.createElement("div",{style:d.body},rs(o,function(h){return j.createElement(Iye,{key:h.toString(),group:h,active:s,onClick:p,onSwatchHover:a})}),j.createElement("div",{style:d.clear})))))};sy.propTypes={width:Y.oneOfType([Y.string,Y.number]),height:Y.oneOfType([Y.string,Y.number]),colors:Y.arrayOf(Y.arrayOf(Y.string)),styles:Y.object};sy.defaultProps={width:320,height:240,colors:[[ys[900],ys[700],ys[500],ys[300],ys[100]],[bs[900],bs[700],bs[500],bs[300],bs[100]],[_s[900],_s[700],_s[500],_s[300],_s[100]],[Ss[900],Ss[700],Ss[500],Ss[300],Ss[100]],[Os[900],Os[700],Os[500],Os[300],Os[100]],[xs[900],xs[700],xs[500],xs[300],xs[100]],[ws[900],ws[700],ws[500],ws[300],ws[100]],[Es[900],Es[700],Es[500],Es[300],Es[100]],[Cs[900],Cs[700],Cs[500],Cs[300],Cs[100]],["#194D33",zl[700],zl[500],zl[300],zl[100]],[Ts[900],Ts[700],Ts[500],Ts[300],Ts[100]],[Ps[900],Ps[700],Ps[500],Ps[300],Ps[100]],[As[900],As[700],As[500],As[300],As[100]],[ks[900],ks[700],ks[500],ks[300],ks[100]],[Is[900],Is[700],Is[500],Is[300],Is[100]],[js[900],js[700],js[500],js[300],js[100]],[Rs[900],Rs[700],Rs[500],Rs[300],Rs[100]],[Fs[900],Fs[700],Fs[500],Fs[300],Fs[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Un(sy);var ly=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=pt(Gn({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(v,g){ho(v)&&r({hex:v,source:"hex"},g)};return j.createElement("div",{style:d.card,className:"twitter-picker "+f},j.createElement("div",{style:d.triangleShadow}),j.createElement("div",{style:d.triangle}),j.createElement("div",{style:d.body},rs(a,function(h,v){return j.createElement(ts,{key:v,color:h,hex:h,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+h}})}),j.createElement("div",{style:d.hash},"#"),j.createElement(Ht,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:p}),j.createElement("div",{style:d.clear})))};ly.propTypes={width:Y.oneOfType([Y.string,Y.number]),triangle:Y.oneOf(["hide","top-left","top-right"]),colors:Y.arrayOf(Y.string),styles:Y.object};ly.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Un(ly);var uy=function(e){var r=pt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return j.createElement("div",{style:r.picker})};uy.propTypes={hsl:Y.shape({h:Y.number,s:Y.number,l:Y.number,a:Y.number})};uy.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var cy=function(e){var r=pt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return j.createElement("div",{style:r.picker})};cy.propTypes={hsl:Y.shape({h:Y.number,s:Y.number,l:Y.number,a:Y.number})};cy.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var jye=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.hsv,s=function(p,h){if(p.hex)ho(p.hex)&&r({hex:p.hex,source:"hex"},h);else if(p.rgb){var v=p.rgb.split(",");th(p.rgb,"rgb")&&r({r:v[0],g:v[1],b:v[2],a:1,source:"rgb"},h)}else if(p.hsv){var g=p.hsv.split(",");th(p.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),r({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},h))}else if(p.hsl){var y=p.hsl.split(",");th(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},h))}},l=pt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return j.createElement("div",{style:l.wrap,className:"flexbox-fix"},j.createElement("div",{style:l.fields},j.createElement("div",{style:l.double},j.createElement(Ht,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:s})),j.createElement("div",{style:l.column},j.createElement("div",{style:l.single},j.createElement(Ht,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Ht,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Ht,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:s})))))},fy=function(e){var r=e.width,n=e.onChange,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,f=e.className,d=f===void 0?"":f,p=pt(Gn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return j.createElement("div",{style:p.picker,className:"google-picker "+d},j.createElement("div",{style:p.head},l),j.createElement("div",{style:p.swatch}),j.createElement("div",{style:p.saturation},j.createElement(Vd,{hsl:a,hsv:o,pointer:uy,onChange:n})),j.createElement("div",{style:p.body},j.createElement("div",{style:p.controls,className:"flexbox-fix"},j.createElement("div",{style:p.hue},j.createElement(Ol,{style:p.Hue,hsl:a,radius:"4px",pointer:cy,onChange:n}))),j.createElement(jye,{rgb:i,hsl:a,hex:s,hsv:o,onChange:n})))};fy.propTypes={width:Y.oneOfType([Y.string,Y.number]),styles:Y.object,header:Y.string};fy.defaultProps={width:652,styles:{},header:"Color picker"};Un(fy);const nh=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"];function Rye({t}){const e=Rf("design"),r=Vt(),n=Te(x=>x.designState.Survey.theme);function i(x,w){if(x==="font"){const C={...n.textStyles};C.group={...C.group,font:w},C.question={...C.question,font:w},C.text={...C.text,font:w},r(Dn({code:"Survey",key:"theme",value:{...n,textStyles:C}}))}else if(x==="textColor"){const C={...n.textStyles};C.group={...C.group,color:w},C.question={...C.question,color:w},C.text={...C.text,color:w},r(Dn({code:"Survey",key:"theme",value:{...n,textStyles:C}}))}else if(x==="bgColor"){const C=w.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(C){const I=C[1],A=C[2],P=C[3];let E=C[4];(!E||E==="0"||E==="0.0")&&(E="1");const R="rgba(".concat(I,", ").concat(A,", ").concat(P,", ").concat(E,")");console.log("New bgColor:",R),r(Dn({code:"Survey",key:"theme",value:{...n,bgColor:R}}))}else r(Dn({code:"Survey",key:"theme",value:{...n,bgColor:w}}))}else r(Dn({code:"Survey",key:"theme",value:{...n,[x]:w}}))}function a(x){x.preventDefault();let w=x.target.files[0];e.uploadResource(w).then(C=>{r(xo({code:"Survey",key:"headerImage",value:w.name}))}).catch(C=>{console.error(C)})}const o=()=>{r(xo({code:"Survey",key:"headerImage",value:null}))};function s(x){x.preventDefault();let w=x.target.files[0];e.uploadResource(w).then(C=>{r(xo({code:"Survey",key:"backgroundImage",value:w.name})),r(Dn({code:"Survey",key:"theme",value:{...n,bgColor:"rgba(0, 0, 0, 0)"}}))}).catch(C=>{console.error(C)})}const l=()=>{r(xo({code:"Survey",key:"backgroundImage",value:null}))},u=dc(),c=dc(),f=dc(),d=dc(),p=()=>{u.onFalse(),c.onFalse(),f.onFalse(),d.onFalse()},h=ae.useRef(),v=ae.useRef(),g=ae.useRef(),y=ae.useRef();function m(x,w){ae.useEffect(()=>{function C(I){x.current&&!x.current.contains(I.target)&&w()}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[x,w])}m(h,p),m(v,p),m(g,p),m(y,p);const S=x=>{x.value?x.onFalse():(p(),x.onToggle())},_=Te(x=>{var w,C;return(C=(w=x.designState.Survey)==null?void 0:w.resources)==null?void 0:C.backgroundImage}),O=Te(x=>{var w,C;return(C=(w=x.designState.Survey)==null?void 0:w.resources)==null?void 0:C.headerImage});return k.jsxs("div",{className:Ln.theming,children:[k.jsxs("span",{className:Ln.fontText,children:[" ",t("font")]}),k.jsx(Li,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:GO,size:"small",className:Ln.selectDropdown,value:n.textStyles.group.font,onChange:x=>i("font",x.target.value),children:nh&&nh.length>0&&nh.map((x,w)=>k.jsx(on,{sx:{fontFamily:x},value:x,children:x},"fontFamily-".concat(w)))},"fontFamily"),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("group_title")}),k.jsx(Yp,{value:n.textStyles.group,default:sp.textStyles.group,onChange:x=>{i("textStyles",{...n.textStyles,group:x})}},"group")]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("question_title")}),k.jsx(Yp,{value:n.textStyles.question,default:sp.textStyles.question,onChange:x=>i("textStyles",{...n.textStyles,question:x})},"question")]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("theme_text")}),k.jsx(Yp,{value:n.textStyles.text,default:sp.textStyles.text,onChange:x=>i("textStyles",{...n.textStyles,text:x})},"text")]}),k.jsx("hr",{}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("highlight_color")}),k.jsx(Yt,{onClick:()=>S(u),style:{backgroundColor:n.primaryColor},className:Ln.colorBox}),u.value&&k.jsxs(_t,{ref:h,className:Ln.colorPickerContainer,children:[k.jsx(Ft,{onClick:()=>S(u),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:k.jsx(pi,{})}),k.jsx($c,{color:n.primaryColor,onChange:x=>{i("primaryColor","rgba(".concat(x.rgb.r,", ").concat(x.rgb.g,", ").concat(x.rgb.b,", ").concat(x.rgb.a,")"))}})]})]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("background_color")}),k.jsx(Yt,{onClick:()=>S(c),style:{backgroundColor:n.bgColor},className:Ln.colorBox}),c.value&&k.jsxs(_t,{ref:v,className:Ln.colorPickerContainer,children:[k.jsx(Ft,{onClick:()=>S(c),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:k.jsx(pi,{})}),k.jsx($c,{color:n.bgColor,onChange:x=>{i("bgColor","rgba(".concat(x.rgb.r,", ").concat(x.rgb.g,", ").concat(x.rgb.b,", ").concat(x.rgb.a,")"))}})]})]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("foreground_color")}),k.jsx(Yt,{onClick:()=>S(f),style:{backgroundColor:n.paperColor},className:Ln.colorBox}),f.value&&k.jsxs(_t,{ref:g,className:Ln.colorPickerContainer,children:[k.jsx(Ft,{onClick:()=>S(f),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:k.jsx(pi,{})}),k.jsx($c,{color:n.paperColor,onChange:x=>{i("paperColor","rgba(".concat(x.rgb.r,", ").concat(x.rgb.g,", ").concat(x.rgb.b,", ").concat(x.rgb.a,")"))}})]})]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("text_color")}),k.jsx(Yt,{onClick:()=>S(d),style:{backgroundColor:n.textStyles.group.color},className:Ln.colorBox}),d.value&&k.jsxs(_t,{ref:y,className:Ln.colorPickerContainer,children:[k.jsx(Ft,{onClick:()=>S(d),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:k.jsx(pi,{})}),k.jsx($c,{color:n.textStyles.group.color,onChange:x=>{i("textColor","rgba(".concat(x.rgb.r,", ").concat(x.rgb.g,", ").concat(x.rgb.b,", ").concat(x.rgb.a,")"))}})]})]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("upload_banner")}),k.jsxs(Yt,{component:"label",className:Ln.chooseImage,children:[k.jsx(n0,{}),k.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:a})]}),O&&k.jsx(Ft,{className:Ln.resetButton,onClick:o,children:k.jsx(o0,{})})]}),k.jsxs(ha,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[k.jsx($n,{variant:"subtitle2",alignSelf:"center",children:t("upload_background")}),k.jsxs(Yt,{component:"label",className:Ln.chooseImage,children:[k.jsx(n0,{}),k.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:s})]}),_&&k.jsx(Ft,{className:Ln.resetButton,onClick:l,children:k.jsx(o0,{})})]})]})}function Fye({t}){const e=Vt(),r=ae.useCallback(f=>{e(lI(f))}),n=oa(),a=UO([f=>f.designState.setup||{}],f=>{var d;return{code:f.code,expanded:f.expanded,highlighted:f.highlighted,rules:f.rules,isSingleRule:((d=f.rules)==null?void 0:d.length)===1}}),{code:o,expanded:s,highlighted:l,rules:u,isSingleRule:c}=Te(a);return k.jsxs("div",{className:Xl.rightContent,style:{left:n.direction=="rtl"?"0px":""},children:[k.jsx("div",{className:Xl.close,children:k.jsx(Ft,{onClick:()=>{e(uI())},children:k.jsx(pi,{})})}),u==null?void 0:u.map(f=>k.jsx(Nye,{expanded:(s==null?void 0:s.includes(f.key))||c||!1,isSingleRule:c,code:o,t,toggleExpand:r,highlighted:f.key==l,rule:f},o+f.title))]})}const Lye=j.memo(Fye),$ye=j.memo(({code:t,rule:e,t:r})=>{if(Vt(),e.startsWith("validation_"))return k.jsx(x8,{t:r,rule:e,code:t},t+e);switch(e){case"theme":return k.jsx(Rye,{t:r},t+e);case"language":return k.jsx(_I,{t:r},t+e);case"maxChars":return k.jsx(xc,{label:r("text_field_size"),rule:e,lowerBound:1,upperBound:500,defaultValue:20,code:t},t+e);case"minRows":return k.jsx(xc,{label:r("textarea_lines"),lowerBound:1,upperBound:500,code:t,defaultValue:20},t+e);case"hideText":return k.jsx(Gi,{label:r("hide_text"),rule:e,code:t},t+e);case"showDescription":return k.jsx(Gi,{label:r("show_description"),rule:e,code:t},t+e);case"showWordCount":return k.jsx(Gi,{label:r("show_word_count"),rule:e,code:t},t+e);case"navigationMode":return k.jsx(qce,{},t+e);case"allowPrevious":return k.jsx(Gi,{label:r("allow_previous"),rule:e,code:t},t+e);case"allowIncomplete":return k.jsx(Gi,{label:r("allow_incomplete"),rule:e,code:t},t+e);case"allowJump":return k.jsx(Gi,{label:r("allow_jump"),rule:e,code:t},t+e);case"skipInvalid":return k.jsx(Gi,{label:r("skip_invalid"),rule:e,code:t},t+e);case"hint":return k.jsx(Z6,{t:r,code:t},t+e);case"lower_bound_hint":return k.jsx(Ch,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:t},t+e);case"higher_bound_hint":return k.jsx(Ch,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:t},t+e);case"loop":return k.jsx(Gi,{rule:e,code:t,label:r("loop_video")},t+e);case"audio_only":return k.jsx(Gi,{rule:e,code:t,label:r("audio_only")},t+e);case"fullDayFormat":return k.jsx(Gi,{rule:e,code:t,label:r("fullday_format")},t+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return k.jsx(Bce,{t:r,rule:e,code:t},t+e);case"maxDate":return k.jsx(t1,{lowerBound:1,code:t,label:r("max_date"),rule:e},t+e);case"minDate":return k.jsx(t1,{label:r("min_date"),rule:e,code:t},t+e);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return k.jsx(ds,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:e,code:t},t+e);case"decimal_separator":const i=["",",","."],a=[r("no_decimals_allowed"),",","."];return k.jsx(ds,{values:i,labels:a,defaultValue:"",label:r("decimal_separator"),rule:e,code:t},t+e);case"imageAspectRatio":const o=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],s=[1,1.7778,1.3333,1.5,.562,.75,.6667];return k.jsx(ds,{values:s,labels:o,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:e,code:t},t+e);case"reorder_setup":const l=[r("collapse_none"),r("collapse_groups"),r("collapse_questions")],u=["collapse_none","collapse_groups","collapse_questions"];return k.jsx(ds,{values:u,labels:l,defaultValue:"collapse_none",label:r("order_mode"),rule:e,code:t},t+e);case"iconSize":const c=["48","64","72","96"];return k.jsx(ds,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:e,code:t},t+e);case"columns":const f=["1","2","3","4","6"];return k.jsx(ds,{values:f,defaultValue:"2",label:r("columns_number"),rule:e,code:t},t+e);case"imageHeight":return k.jsx(xc,{label:r("image_height"),lowerBound:50,upperBound:500,code:t,defaultValue:250,rule:e},t+e);case"spacing":return k.jsx(xc,{label:r("spacing"),lowerBound:2,upperBound:32,code:t,defaultValue:8,rule:e},t+e);case"skip_logic":return k.jsx(yue,{t:r,code:t},t+e);case"relevance":return k.jsx(hue,{t:r,code:t},t+e);default:return""}}),Nye=j.memo(({expanded:t,highlighted:e,code:r,rule:n,isSingleRule:i,t:a,toggleExpand:o})=>k.jsxs($I,{expanded:t,className:Xl.accordionStyle,TransitionProps:{unmountOnExit:!0},children:[k.jsx(NI,{onClick:()=>o(n.key),className:Xl.setupHeader,expandIcon:i?null:k.jsx(DI,{}),children:k.jsx("span",{className:Xl.sectionTitle,children:a(n.title)})}),k.jsx(MI,{sx:{backgroundColor:e?"#fff":"background.paper"},children:n.rules.map(s=>k.jsx($ye,{code:r,rule:s,t:a},s))})]})),Dye="_box_xl6bf_1",Mye="_boxHasSetup_xl6bf_8",$O={box:Dye,boxHasSetup:Mye};function Vye({t}){const e=oa(),r=Te(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}}),n=Object.keys(r).length>0;return k.jsx(_t,{className:"".concat($O.box," ").concat(n?$O.boxHasSetup:""),style:{transition:e.transitions.create("all",{easing:e.transitions.easing.sharp,duration:300})},timeout:300,children:n&&k.jsx(Lye,{t})})}const Bye=j.memo(Vye);function qye(){const{t,i18n:e}=Mo(["design","run"]),r=e.cloneInstance(),n=ae.useRef(null),i=Te(f=>f.designState.langInfo),a=i==null?void 0:i.lang,o=i&&(i==null?void 0:i.onMainLang),s=Te(f=>{var d;return(d=f.designState.Survey)==null?void 0:d.theme});function l(f){return new Promise((d,p)=>{const h=no.includes(f)?"rtl":"ltr",v=n.current;v.dir!=h&&(v.dir=h),v.scrollTop=0,f&&r&&f!=r.language&&r.changeLanguage(f),d()})}ae.useEffect(()=>{n.current&&l(a)},[a,n]);const u=ae.useMemo(()=>cI(a),[a]),c=j.useCallback(BO({...fI(s),direction:no.includes(a)?"rtl":"ltr"}),[s]);return k.jsx("div",{className:m0.mainContainer,children:k.jsxs(OI,{backend:xI()?wI:EI,children:[o&&k.jsx(K6,{t}),k.jsx(Ik,{value:u,children:k.jsx(HO,{theme:c,children:k.jsx(jk,{i18n:r,children:k.jsx(W6,{onMainLang:o,ref:n,className:m0.contentPanel})})})}),k.jsx(Bye,{t})]})})}const _0e=j.memo(qye);export{_0e as default};
