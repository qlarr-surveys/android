!function(){function e(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var t,l,o,a,r=[],d=!0,s=!1;try{if(o=(i=i.call(e)).next,0===n){if(Object(i)!==i)return;d=!1}else for(;!(d=(t=o.call(i)).done)&&(r.push(t.value),r.length!==n);d=!0);}catch(e){s=!0,l=e}finally{try{if(!d&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(s)throw l}}return r}}(e,i)||function(e,i){if(e){if("string"==typeof e)return n(e,i);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,i):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=Array(n);i<n;i++)t[i]=e[i];return t}System.register(["./index-legacy-CFVrgsj-.js","./use-service-legacy-DWWO7tqv.js","./index-legacy-DtzGJs-S.js","./Link-legacy-C9DaC3ju.js","./isTouchDevice-legacy-DUZfBPIB.js","./common-legacy-Bipzn7I-.js","./CardMedia-legacy-V2Pu8BCo.js","./Card-legacy-BrrMWqk_.js","./Toolbar-legacy-B1Njz2oJ.js"],(function(n,i){"use strict";var t,l,o,a,r,d,s,c,u,f,v,m,x,j,p,y,h,b;return{setters:[e=>{t=e.r,l=e.j,o=e.R,a=e.A},e=>{r=e.f,d=e.R,s=e.w,c=e.M,u=e.bc,f=e.H,v=e.U,m=e.aD,x=e.b1,j=e.a$,p=e.b3,y=e.aT},e=>{h=e.a},e=>{b=e.L},null,null,null,null,null],execute:function(){n("default",(function(n){var r,g,_,w,C;const S=d("run"),A=s(),z=c("run").t;let F=u(null===(r=n.component.validation)||void 0===r||null===(r=r.validation_file_types)||void 0===r?void 0:r.fileTypes);const k=(null===(g=n.component.validation)||void 0===g||null===(g=g.validation_max_file_size)||void 0===g?void 0:g.isActive)&&(null===(_=n.component.validation)||void 0===_||null===(_=_.validation_max_file_size)||void 0===_?void 0:_.max_size)||-1,q=f((e=>{let i=e.runState.values[n.component.qualifiedCode];return null==i?void 0:i.value})),M=f((e=>e.runState.preview)),T=v(),D=e(t.useState(),2),I=D[0],K=D[1],O=e(t.useState(!1),2),U=O[0],$=O[1],L=!U&&I&&F.length>0&&!F.includes(I.type),R=!U&&I&&k>0&&I.size/1024>k,E=()=>{K(void 0)};let H=I&&!L&&!R;return l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"contained-button-file",children:[l.jsx(i,{id:"contained-button-file",type:"file",accept:F?F.join(","):void 0,onChange:e=>{T(j(n.component.qualifiedCode)),K(e.target.files[0])}}),l.jsx(m,{disabled:U,onClick:e=>{if(window.Android){const i=n.component.qualifiedCode;e.preventDefault(),window.Android.selectFile(i,(null==F?void 0:F.join(","))||"",k||-1),window["onFileSelected"+i]=(e,i,t)=>{T(j(n.component.qualifiedCode)),K({name:e,size:i,type:t})}}},variant:"contained",component:"span",children:z("choose_file")})]}),I?l.jsxs(o.Fragment,{children:[l.jsxs("span",{children:["Â ",I.name," - ",Math.round(I.size/1024),"K"]}),H?l.jsx(m,{disabled:U,variant:"text",onClick:()=>{$(!0),p(S,n.component.qualifiedCode,M,I).then((e=>{$(!1),E(),T(y({componentCode:n.component.qualifiedCode,value:e}))})).catch((e=>{$(!1),console.error(e)}))},children:z("upload")}):"",l.jsx(m,{disabled:U,sx:{fontFamily:A.textStyles.text.font,fontSize:A.textStyles.text.size},variant:"text",onClick:E,children:z("cancel")})]}):"",R&&l.jsxs(o.Fragment,{children:[l.jsx("br",{}),l.jsx(h,{name:"validation_max_file_size",validation:null===(w=n.component.validation)||void 0===w?void 0:w.validation_max_file_size})]}),L&&l.jsxs(o.Fragment,{children:[l.jsx("br",{}),l.jsx(h,{name:"validation_file_types",validation:null===(C=n.component.validation)||void 0===C?void 0:C.validation_file_types})]}),U?l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx(a,{}),l.jsx("br",{}),l.jsx("span",{children:z("uploading")})]}):q&&q.stored_filename?l.jsxs(o.Fragment,{children:[l.jsx("br",{}),l.jsx("br",{}),window.Android?l.jsxs(b,{target:"_blank",onClick:()=>{window.Android.previewFileUpload(q.stored_filename,q.filename)},children:[q.filename," - ",Math.round(q.size/1024),"K"]}):l.jsxs(b,{target:"_blank",href:x(q.stored_filename),children:[q.filename," - ",Math.round(q.size/1024),"K"]})]}):""]})}));const i=r("input")({display:"none"})}}}))}();
