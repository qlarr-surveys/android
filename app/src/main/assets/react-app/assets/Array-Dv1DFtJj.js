import{a8 as f,m as t,Y as y}from"./index-g2NzBsuM.js";import{$ as w,K as v,L as j,M as g,V as C,O as m}from"./Android-BeUiQmgx.js";import{T as b,a as S,b as q,c as h,d as i,e as p}from"./TableRow-Cq3pY_Dt.js";import{R as T}from"./Radio-C2CnQ9Vh.js";import{C as R}from"./Checkbox-BWbBoW0b.js";import"./SwitchBase-S5YJBO2b.js";import"./RadioGroupContext-lJk5LCxP.js";function A(a){const r=f();let n=a.component.answers.filter(l=>l.type=="column"),c=a.component.answers.filter(l=>l.type=="row");const{header:d,rowLabel:s}=w(null,a.component);return t.jsx(b,{sx:{overflowX:"auto",maxWidth:"100%"},children:t.jsxs(S,{sx:{tableLayout:"fixed"},children:[t.jsx(q,{children:t.jsxs(h,{children:[t.jsx(i,{sx:{padding:"2px",width:s+"px"}},"content"),n.map(l=>{var e;return t.jsx(i,{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,padding:"2px",fontSize:r.textStyles.text.size,width:d+"px"},children:(e=l.content)==null?void 0:e.label},l.qualifiedCode)})]})}),t.jsx(p,{children:c.map(l=>t.jsx(y.Fragment,{children:t.jsx(_,{type:a.component.type,answer:l,choices:n},l.qualifiedCode)},l.qualifiedCode))})]})})}function _(a){var l;const r=f(),n=v(e=>{var x,o,u;return{show_errors:e.runState.values.Survey.show_errors,validity:(x=e.runState.values[a.answer.qualifiedCode])==null?void 0:x.validity,value:(o=e.runState.values[a.answer.qualifiedCode])==null?void 0:o.value,relevance:(u=e.runState.values[a.answer.qualifiedCode])==null?void 0:u.relevance}},j),c=g(),d=e=>{if(a.type==="scq_array")c(m({componentCode:e.target.name,value:e.target.value}));else if(a.type==="mcq_array"){let o=[...n.value||[]];e.target.checked?o.push(e.target.value):o=o.filter(u=>u!==e.target.value),c(m({componentCode:e.target.name,value:o}))}},s=(n.show_errors||n.isDirty)&&n.validity===!1;return typeof n.relevance>"u"||n.relevance?t.jsxs(y.Fragment,{children:[t.jsxs(h,{children:[t.jsx(i,{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size,borderBottom:s?"0":"",padding:"2px",wordWrap:"break-word"},children:(l=a.answer.content)==null?void 0:l.label}),a.choices.map(e=>t.jsx(i,{component:"th",scope:"row",sx:{borderBottom:s?"0":"",padding:"2px"},children:a.type==="scq_array"?t.jsx(T,{name:a.answer.qualifiedCode,onChange:d,checked:n.value===e.code,value:e.code}):t.jsx(R,{name:a.answer.qualifiedCode,onChange:d,checked:(n.value||[]).indexOf(e.code)>-1,value:e.code})},e.code))]},a.answer.code),s?t.jsx(h,{children:t.jsx(i,{sx:{padding:"8px"},colSpan:a.choices?a.choices.length+1:1,children:t.jsx(C,{component:a.answer})})}):""]}):""}export{A as default};
