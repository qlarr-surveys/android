import{j as i}from"./index-DrdL8HT2.js";import{R as w,H as r,U as C,b1 as b,b3 as j,aT as f}from"./use-service-0Fq5u1zn.js";import{R as S}from"./index-xyd4yAx9.js";import{g as y}from"./common-5BhfyGYi.js";import{B as k}from"./index-DQ4E-_8z.js";import"./isTouchDevice-CHtK4r2d.js";import"./CardMedia-CIEe5zwn.js";import"./Card-Dppxln-L.js";import"./Toolbar-CWuxDDNF.js";const z="_container_bvkr6_2",A={container:z};function D(s){var d;const h=w("run"),o=s.component,t=r(e=>e.runState.values[o.qualifiedCode]),l=r(e=>e.runState.preview),x=r(e=>e.runState.values.Survey.mode),c=C(),g=()=>{var u,m,p,v;const e=o.qualifiedCode,_=((m=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:m.isActive)&&((v=(p=o.validation)==null?void 0:p.validation_max_file_size)==null?void 0:v.max_size)||-1;l&&x=="offline"?y("/dummy_video.mp4").then(n=>{j(h,e,l,n).then(a=>{c(f({componentCode:s.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.captureVideo(e,_),window["onVideoCaptured"+e]=n=>{c(f({componentCode:e,value:n}))}):console.debug("no android device!!")};return i.jsxs(k,{className:A.container,children:[!t.value||!t.value.stored_filename?i.jsx("img",{onClick:g,src:"/video.png",style:{maxHeight:"200px"}}):i.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:"56%"},children:i.jsx(S,{url:b(t.value.stored_filename),loop:!1,light:!0,controls:!0,config:{forceAudio:!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),i.jsx("br",{}),o.showHint&&i.jsx("span",{children:(d=o.content)==null?void 0:d.hint})]})}export{D as default};
