import{R as F,j as i,B as p,r as y,z as Ae,q as Se,ah as dt}from"./index-BdaHkdQl.js";import{C as ht,H as ft,c as vt,A as ge,a as pe,d as _e,b as ye}from"./index-BtMwp5H2.js";import{D as X,y as z,v as O,T as B,bb as U,A as fe,an as I,I as Be,ai as H,aj as Me,am as mt,x as je,t as $e,ap as le,bc as Ce,bd as gt}from"./use-service-D09swmN7.js";import{a as te,b as ee,S as K}from"./survey-x3hUDjhT.js";import{i as ne,p as V,q as pt,c as _t,T as Ie,D as yt,t as Ct}from"./Web-Xt-AHKsA.js";import{U as xt}from"./index-BF_JiN0B.js";import{j as bt,B as ze,T as We,P as wt}from"./TextField-B66jFwFo.js";import{T as He,a as Ue,b as ue,c as Fe}from"./TableRow-XbFzsXVn.js";import{a as de}from"./tableRowClasses-D2zlaSzG.js";import{T as Qe}from"./TableHead-CYTlZN0Y.js";import{T as b}from"./TableCell-CNVjjGNS.js";import{S as St}from"./index-BvRqMl4F.js";import{l as Le}from"./DateUtils-Ce4EpQzP.js";import{S as Bt}from"./index-sQ3HDfyg.js";import{s as jt}from"./common-C_0iAd7K.js";import{b as kt,c as Tt}from"./Tabs-CXy611xA.js";import"./Checkbox-0qy6A3Vu.js";import"./SwitchBase-outpB1OY.js";import"./useFormControl-BousA45m.js";import"./radioClasses-DNdhtY0L.js";import"./FormControlLabel-DrGXXvQK.js";import"./LoadingButton-CeTIEj79.js";import"./index-CMMJWtX7.js";import"./dayjs.min-C6SlMFD4.js";import"./DateTimePicker-DiuyYDe1.js";import"./InputAdornment-CMc9n4GQ.js";const Dt="_mainContainer_stnvz_1",Et="_loadingWrapper_stnvz_10",Pt="_accordionContainer_stnvz_17",Ot="_accordionDetails_stnvz_26",Lt="_launchContainer_stnvz_60",q={mainContainer:Dt,loadingWrapper:Et,accordionContainer:Pt,accordionDetails:Ot,launchContainer:Lt},Nt="_mainContainer_11v9s_1",Rt="_formControlCheckBox_11v9s_8",At="_boxContainer_11v9s_13",xe={mainContainer:Nt,formControlCheckBox:Rt,boxContainer:At};function Mt(){const e=X(),{t:n}=z("manage"),t=O(o=>o.editState.survey),r=!ne()||t.status==te.CLOSED,a=o=>{e(U({key:o.target.name,value:o.target.checked}))};return i.jsxs(p,{className:xe.mainContainer,children:[i.jsxs(p,{className:xe.boxContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:n("edit_survey.background_audio")}),i.jsx(V,{disabled:r,name:ee.BACKGROUND_AUDIO,checked:t.backgroundAudio,onChange:a})]}),i.jsxs(p,{className:xe.boxContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:n("edit_survey.record_gps")}),i.jsx(V,{disabled:r,name:ee.RECORD_GPS,checked:t.recordGps,onChange:a})]})]})}const $t=F.memo(Mt),It="_mainContainer_zkr72_1",zt="_formControlCheckBox_zkr72_8",Wt="_flexContainer_zkr72_12",be={mainContainer:It,formControlCheckBox:zt,flexContainer:Wt};function Ht(){const e=X(),{t:n}=z("manage"),t=O(o=>o.editState.survey),r=!ne()||t.status==te.CLOSED,a=o=>{e(U({key:o.target.name,value:o.target.checked}))};return i.jsxs(p,{className:be.mainContainer,children:[i.jsxs(p,{className:be.flexContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:n("edit_survey.save_ip")}),i.jsx(V,{disabled:r,name:ee.SAVE_IP,checked:t.saveIp,onChange:a})]}),i.jsxs(p,{className:be.flexContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:n("edit_survey.save_timings")}),i.jsx(V,{disabled:r,name:ee.SAVE_TIMINGS,checked:t.saveTimings,onChange:a})]})]})}const Ut=F.memo(Ht),Ft="_wrapper_351ey_1",Qt="_container_351ey_13",qt="_action_351ey_20",Gt="_userBlock_351ey_26",Vt="_seperator_351ey_32",J={wrapper:Ft,container:Qt,action:qt,userBlock:Gt,seperator:Vt},Kt=({open:e,onClose:n,addPermission:t,currentUserIds:r})=>{const a=fe("user"),{t:o}=z("manage"),[s,c]=y.useState([]),d=()=>{a.getAllUsers().then(l=>{l&&c(l)})};return y.useEffect(()=>{d()},[]),i.jsx(bt,{sx:{".MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.3)"}},open:e,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:i.jsxs(p,{className:J.wrapper,children:[i.jsx(p,{className:J.container,children:s.filter(l=>r.indexOf(l.id)==-1).map(l=>i.jsxs(i.Fragment,{children:[i.jsxs(p,{className:J.userBlock,children:[i.jsxs(p,{children:[l.firstName," ",l.lastName]}),i.jsx(I,{color:"primary",size:"small",type:"submit",variant:"contained",onClick:()=>t(l.id),children:o("action_btn.add")})]},l.id),i.jsx("hr",{className:J.seperator})]}))}),i.jsx(p,{className:J.action,children:i.jsx(I,{variant:"contained",onClick:n,children:o("action_btn.cancel")})})]})})},Xt="_mainContainer_baqbc_1",Yt="_boxContainer_baqbc_10",Jt="_tableBodyCell_baqbc_17",Zt="_tableHeaderCell_baqbc_22",en="_buttonContainer_baqbc_26",A={mainContainer:Xt,boxContainer:Yt,tableBodyCell:Jt,tableHeaderCell:Zt,buttonContainer:en};function tn(){const e=fe("survey"),n=X(),{t}=z("manage"),r=O(g=>g.editState.survey),a=O(g=>g.editState.permissionsLoading),o=O(g=>g.editState.permissions),s=a||!ne()||r.status==te.CLOSED,c=g=>{n(U({key:g.target.name,value:g.target.checked}))},d=g=>{e.getSurveyPermissionAll(g).then(w=>{w&&n(Me(w)),n(H(!1))}).catch(w=>{k()})},[l,u]=y.useState(null),f=()=>{u(null)},[h,m]=y.useState(!1),S=()=>{m(!1)},k=g=>{n(H(!1))},v=()=>{n(H(!0)),f(),e.removePermission(r.id,l.id).then(()=>{d(r.id)}).catch(g=>{k()})},_=g=>{S(),n(H(!0)),e.addPermission(r.id,g).then(()=>{d(r.id)}).catch(w=>{k()})};return i.jsxs(p,{className:A.mainContainer,children:[i.jsxs(p,{className:A.boxContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:t("label.public_within_org")}),i.jsx(V,{disabled:s,name:ee.PUBLIC_WITHIN_ORG,checked:r.publicWithinOrg,onChange:c})]}),i.jsx(He,{sx:{overflow:"unset",["& .".concat(de.head)]:{color:"text.primary"},["& .".concat(de.root)]:{bgcolor:"background.default",borderBottomColor:g=>g.palette.divider}},children:i.jsxs(Ue,{sx:{minWidth:650},"aria-label":"simple table",children:[i.jsx(Qe,{children:i.jsxs(ue,{children:[i.jsx(b,{className:A.tableHeaderCell,align:"left",children:t("users_manage.name")}),i.jsx(b,{className:A.tableHeaderCell,align:"left",children:t("users_manage.email")}),i.jsx(b,{className:A.tableHeaderCell,align:"left",children:t("users_manage.roles")}),i.jsx(b,{})]})}),i.jsx(Fe,{children:o.map(({user:g})=>{const w=g.roles.includes("super_admin")||g.roles.includes("survey_admin");return i.jsxs(ue,{children:[i.jsxs(b,{sx:{color:"#1a2052",fontWeight:"500"},align:"left",children:[g.firstName," ",g.lastName]}),i.jsx(b,{className:A.tableBodyCell,align:"left",children:g.email}),i.jsx(b,{className:A.tableBodyCell,align:"left",children:g.roles.map(oe=>t("label.".concat(oe))).join(", ")}),i.jsx(b,{className:A.tableBodyCell,component:"th",scope:"row",children:i.jsx(Be,{title:t("users_manage.title_delete"),disabled:s||w,onClick:()=>{u(g)},children:i.jsx(ht,{sx:{color:w?"#b9bdcc":"#000"}})})})]},g.id)})})]})}),i.jsx(p,{className:A.buttonContainer,children:i.jsx(I,{disabled:s,color:"primary",size:"large",type:"submit",variant:"contained",onClick:()=>{m(!0)},children:t("action_btn.add_user")})}),!!l&&i.jsx(xt,{deleteUser:v,name:l.firstName+" "+l.lastName,open:!!l,onClose:f}),h&&i.jsx(Kt,{currentUserIds:o.map(g=>g.user.id),addPermission:_,open:h,onClose:S}),i.jsx(ze,{open:a,sx:{position:"absolute"},children:i.jsx(Ae,{})})]})}const nn=F.memo(tn),rn="_mainContainer_zluda_1",an="_boxContainer_zluda_8",on="_tableBodyCell_zluda_15",sn="_tableHeaderCell_zluda_19",ln="_flexContainer_zluda_23",P={mainContainer:rn,boxContainer:an,tableBodyCell:on,tableHeaderCell:sn,flexContainer:ln};function cn(){const e=fe("survey"),n=X(),{t}=z("manage"),r=O(v=>v.editState.survey),[a,o]=y.useState(r.quota>0),[s,c]=y.useState(r.quota>=0?r.quota:""),d=v=>{const _=parseInt(v);Number.isInteger(_)&&_>=0&&(c(_),n(U({key:"quota",value:_})))},l=O(v=>v.editState.permissionsLoading),u=O(v=>v.editState.permissions),f=u==null?void 0:u.filter(v=>pt(v.user)),h=v=>{v.target.checked||(c(""),n(U({key:"quota",value:-1}))),o(v.target.checked)},m=(v,_)=>{const g={quota:_};n(H(!0)),e.editPermission(r.id,v,g).then(()=>{S(r.id)}).catch(w=>{n(H(!1))})},S=v=>{e.getSurveyPermissionAll(v).then(_=>{_&&n(Me(_)),n(H(!1))}).catch(_=>{n(H(!1))})},k=l||!ne()||r.status==te.CLOSED;return i.jsxs(p,{className:P.mainContainer,children:[i.jsxs(i.Fragment,{children:[i.jsxs(p,{className:P.boxContainer,children:[i.jsxs(p,{className:P.flexContainer,children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:t("label.apply_quota")}),i.jsx(We,{variant:"standard",type:"number",sx:{width:200},disabled:!a||k,label:t("label.total_responses_limit"),value:s===0?"":s,inputProps:{min:0,max:1e4,inputMode:"numeric"},onChange:v=>{let _=v.target.value===""?0:parseInt(v.target.value);!isNaN(_)&&_>=0&&_<=1e4&&d(_)}})]}),i.jsx(V,{disabled:k,checked:a,onChange:h})]}),i.jsxs(p,{children:[i.jsx(B,{color:"#1a2052",mb:"10px",fontWeight:"600",variant:"h6",children:t("edit_survey.limit_responses")}),i.jsx(He,{sx:{boxShadow:"none"},component:wt,children:i.jsxs(Ue,{sx:{overflow:"unset",["& .".concat(de.head)]:{color:"text.primary"},["& .".concat(de.root)]:{bgcolor:"background.default",borderBottomColor:v=>v.palette.divider}},"aria-label":"simple table",children:[i.jsx(Qe,{children:i.jsxs(ue,{children:[i.jsx(b,{className:P.tableHeaderCell,align:"left",children:t("edit_survey.surveyor")}),i.jsx(b,{className:P.tableHeaderCell,align:"left",children:t("users_manage.roles")}),i.jsx(b,{className:P.tableHeaderCell,align:"left",children:t("edit_survey.count")}),i.jsx(b,{className:P.tableHeaderCell,align:"left",children:t("edit_survey.limit")})]})}),i.jsx(Fe,{children:f==null?void 0:f.map(v=>i.jsxs(ue,{children:[i.jsxs(b,{align:"left",className:P.tableBodyCell,children:[v.user.firstName," ",v.user.lastName]}),i.jsx(b,{className:P.tableBodyCell,align:"left",children:v.user.roles.map(_=>t("label.".concat(_))).join(", ")}),i.jsx(b,{className:P.tableBodyCell,align:"left",children:v.count}),i.jsx(b,{className:P.tableBodyCell,align:"left",children:i.jsx(un,{t,quota:v.quota,isDisabled:k,onSubmit:_=>{m(v.user.id,_)}})})]},v.user.id))})]})})]})]}),i.jsx(ze,{open:l,sx:{position:"absolute"},children:i.jsx(Ae,{})})]})}function un({t:e,isDisabled:n,quota:t,onSubmit:r}){const[a,o]=y.useState(t>0),[s,c]=y.useState(t>=0?t:""),d=u=>{u.target.checked||c(""),o(u.target.checked)},l=u=>{const f=parseInt(u);Number.isInteger(f)&&f>=0&&c(f)};return i.jsxs(i.Fragment,{children:[i.jsxs(p,{className:P.boxContainer,sx:{marginBottom:".5rem"},children:[i.jsx(B,{color:"#1a2052",fontWeight:"600",children:e("label.apply_quota")}),i.jsx(V,{disabled:n,checked:a,onChange:d})]}),i.jsxs(mt,{flexDirection:"row",alignItems:"center",children:[i.jsx(We,{type:"number",variant:"standard",label:e("label.responses_limit"),disabled:!a||n,value:s,onChange:u=>{l(u.target.value)}}),i.jsx(I,{color:"primary",size:"small",type:"submit",variant:"contained",onClick:()=>r(s==""?-1:s),disabled:s==""&&t<0||s==t,children:e("action_btn.save")})]})]})}const dn=F.memo(cn),hn="_blockItem_zhcyz_1",fn="_errorText_zhcyz_9",vn="_saveNameButton_zhcyz_13",mn="_box_zhcyz_17",gn="_generalContainer_zhcyz_24",pn="_close_zhcyz_34",Ne={blockItem:hn,errorText:fn,saveNameButton:vn,box:mn,generalContainer:gn,close:pn},_n=[{value:K.WEB,label:"mode.".concat(K.WEB)},{value:K.OFFLINE,label:"mode.".concat(K.OFFLINE)},{value:K.MIXED,label:"mode.".concat(K.MIXED)}];function yn(){const{t:e}=z("manage"),n=O(h=>h.editState.survey),[t,r]=y.useState(""),[a,o]=y.useState("");y.useEffect(()=>{const h=(n==null?void 0:n.usage)||"";r(h)},[n]);const s=X(),c=!ne()||(n==null?void 0:n.status)==te.CLOSED,d=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,l=h=>{o("");const m=h instanceof Date?h:h.toDate();s(U({key:"startDate",value:m?Le(m):null}))},u=h=>{o("");const m=h instanceof Date?h:h.toDate();s(U({key:"endDate",value:m?Le(m):null}))},f=h=>{r(h.target.value),s(U({key:"usage",value:h.target.value}))};return i.jsxs("div",{className:Ne.generalContainer,children:[i.jsx(_t,{value:t,onChange:f,label:e("label.survey_mode"),children:_n.map(h=>i.jsx("option",{value:h.value,children:e(h.label)},h.value))}),i.jsxs(B,{ml:1,variant:"caption",color:"error",display:"flex",alignItems:"center",children:[e("timezone_info"),"        ",i.jsx(Ie,{title:"".concat(e("timezone_tooltip")," (").concat(d(),")."),arrow:!0,children:i.jsx(Be,{size:"small","aria-label":"help",style:{marginLeft:4},children:i.jsx(ft,{fontSize:"small"})})})]}),i.jsx(p,{className:Ne.blockItem,children:i.jsx(St,{error:a,disabled:c,surveyActiveFrom:n==null?void 0:n.startDate,surveyActiveTo:n==null?void 0:n.endDate,onSurveyActiveFromChanged:l,onSurveyActiveToChanged:u})})]})}const Cn=F.memo(yn);var ke={},xn=Se;Object.defineProperty(ke,"__esModule",{value:!0});var qe=ke.default=void 0;Sn(y);var bn=xn(je()),wn=i;function Ge(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(Ge=function(r){return r?t:n})(e)}function Sn(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=Ge(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var Bn=(0,bn.default)((0,wn.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");qe=ke.default=Bn;var Te={},jn=Se;Object.defineProperty(Te,"__esModule",{value:!0});var Ve=Te.default=void 0;Dn(y);var kn=jn(je()),Tn=i;function Ke(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(Ke=function(r){return r?t:n})(e)}function Dn(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=Ke(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var En=(0,kn.default)((0,Tn.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");Ve=Te.default=En;var De={},Pn=Se;Object.defineProperty(De,"__esModule",{value:!0});var Xe=De.default=void 0;Nn(y);var On=Pn(je()),Ln=i;function Ye(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(Ye=function(r){return r?t:n})(e)}function Nn(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=Ye(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var Rn=(0,On.default)((0,Ln.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");Xe=De.default=Rn;function Ee(e){var n=Object.entries(e).filter(function(t){var r=t[1];return r!=null}).map(function(t){var r=t[0],a=t[1];return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(String(a)))});return n.length>0?"?".concat(n.join("&")):""}var An=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$=function(){return $=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)},Mn=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(u){try{l(r.next(u))}catch(f){s(f)}}function d(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):a(u.value).then(c,d)}l((r=r.apply(e,n||[])).next())})},$n=function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return d([l,u])}}function d(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,a=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=n.call(e,t)}catch(u){l=[6,u],a=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Je=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},In=function(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"},zn=function(e,n){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-n/2}},Wn=function(e,n){return{top:(window.screen.height-n)/2,left:(window.screen.width-e)/2}};function Hn(e,n,t){var r=n.height,a=n.width,o=Je(n,["height","width"]),s=$({height:r,width:a,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),c=window.open(e,"",Object.keys(s).map(function(l){return"".concat(l,"=").concat(s[l])}).join(", "));if(t)var d=window.setInterval(function(){try{(c===null||c.closed)&&(window.clearInterval(d),t(c))}catch(l){console.error(l)}},1e3);return c}var Un=function(e){An(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.openShareDialog=function(r){var a=t.props,o=a.onShareWindowClose,s=a.windowHeight,c=s===void 0?400:s,d=a.windowPosition,l=d===void 0?"windowCenter":d,u=a.windowWidth,f=u===void 0?550:u,h=$({height:c,width:f},l==="windowCenter"?zn(f,c):Wn(f,c));Hn(r,h,o)},t.handleClick=function(r){return Mn(t,void 0,void 0,function(){var a,o,s,c,d,l,u,f,h,m;return $n(this,function(S){switch(S.label){case 0:return a=this.props,o=a.beforeOnClick,s=a.disabled,c=a.networkLink,d=a.onClick,l=a.url,u=a.openShareDialogOnClick,f=a.opts,h=c(l,f),s?[2]:(r.preventDefault(),o?(m=o(),In(m)?[4,m]:[3,2]):[3,2]);case 1:S.sent(),S.label=2;case 2:return u&&this.openShareDialog(h),d&&d(r,h),[2]}})})},t}return n.prototype.render=function(){var t=this.props;t.beforeOnClick;var r=t.children,a=t.className,o=t.disabled,s=t.disabledStyle,c=t.forwardedRef;t.networkLink;var d=t.networkName;t.onShareWindowClose,t.openShareDialogOnClick,t.opts;var l=t.resetButtonStyle,u=t.style;t.url,t.windowHeight,t.windowPosition,t.windowWidth;var f=Je(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"]),h=vt("react-share__ShareButton",{"react-share__ShareButton--disabled":!!o,disabled:!!o},a),m=$($(l?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},u),o&&s);return F.createElement("button",$({},f,{"aria-label":f["aria-label"]||d,className:h,onClick:this.handleClick,ref:c,style:m}),r)},n.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},n}(y.Component);const Fn=Un;var he=function(){return he=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},he.apply(this,arguments)};function Pe(e,n,t,r){function a(o,s){var c=t(o),d=he({},o),l=Object.keys(c);return l.forEach(function(u){delete d[u]}),F.createElement(Fn,he({},r,d,{forwardedRef:s,networkName:e,networkLink:n,opts:t(o)}))}return a.displayName="ShareButton-".concat(e),y.forwardRef(a)}var Qn=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qn=function(e){Qn(n,e);function n(t){var r=e.call(this,t)||this;return r.name="AssertionError",r}return n}(Error);function Z(e,n){if(!e)throw new qn(n)}function Gn(e,n){var t=n.quote,r=n.hashtag;return Z(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+Ee({u:e,quote:t,hashtag:r})}var Vn=Pe("facebook",Gn,function(e){return{quote:e.quote,hashtag:e.hashtag}},{windowWidth:550,windowHeight:400});const Kn=Vn;function Xn(e,n){var t=n.title,r=n.summary,a=n.source;return Z(e,"linkedin.url"),"https://linkedin.com/shareArticle"+Ee({url:e,mini:"true",title:t,summary:r,source:a})}var Yn=Pe("linkedin",Xn,function(e){var n=e.title,t=e.summary,r=e.source;return{title:n,summary:t,source:r}},{windowWidth:750,windowHeight:600});const Jn=Yn;function Zn(e,n){var t=n.title,r=n.via,a=n.hashtags,o=a===void 0?[]:a,s=n.related,c=s===void 0?[]:s;return Z(e,"twitter.url"),Z(Array.isArray(o),"twitter.hashtags is not an array"),Z(Array.isArray(c),"twitter.related is not an array"),"https://twitter.com/share"+Ee({url:e,text:t,via:r,hashtags:o.length>0?o.join(","):void 0,related:c.length>0?c.join(","):void 0})}var er=Pe("twitter",Zn,function(e){return{hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}},{windowWidth:550,windowHeight:400});const tr=er,nr="_mainContainer_1siod_1",rr="_defaultUrl_1siod_10",ar="_urlLink_1siod_19",or="_socialLink_1siod_24",ir="_iconShareFb_1siod_30",sr="_iconShareTw_1siod_34",lr="_iconShareLn_1siod_38",cr="_actionButton_1siod_42",ur="_copyButton_1siod_52",dr="_buttonContainer_1siod_60",T={mainContainer:nr,defaultUrl:rr,urlLink:ar,socialLink:or,iconShareFb:ir,iconShareTw:sr,iconShareLn:lr,actionButton:cr,copyButton:ur,buttonContainer:dr};var ve={},Ze={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},hr=Ze;function et(e){this.mode=hr.MODE_8BIT_BYTE,this.data=e}et.prototype={getLength:function(e){return this.data.length},write:function(e){for(var n=0;n<this.data.length;n++)e.put(this.data.charCodeAt(n),8)}};var fr=et,tt={L:1,M:0,Q:3,H:2},ie=tt;function N(e,n){this.totalCount=e,this.dataCount=n}N.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];N.getRSBlocks=function(e,n){var t=N.getRsBlockTable(e,n);if(t==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+n);for(var r=t.length/3,a=new Array,o=0;o<r;o++)for(var s=t[o*3+0],c=t[o*3+1],d=t[o*3+2],l=0;l<s;l++)a.push(new N(c,d));return a};N.getRsBlockTable=function(e,n){switch(n){case ie.L:return N.RS_BLOCK_TABLE[(e-1)*4+0];case ie.M:return N.RS_BLOCK_TABLE[(e-1)*4+1];case ie.Q:return N.RS_BLOCK_TABLE[(e-1)*4+2];case ie.H:return N.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var vr=N;function nt(){this.buffer=new Array,this.length=0}nt.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var t=0;t<n;t++)this.putBit((e>>>n-t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var mr=nt,L={glog:function(e){if(e<1)throw new Error("glog("+e+")");return L.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return L.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var x=0;x<8;x++)L.EXP_TABLE[x]=1<<x;for(var x=8;x<256;x++)L.EXP_TABLE[x]=L.EXP_TABLE[x-4]^L.EXP_TABLE[x-5]^L.EXP_TABLE[x-6]^L.EXP_TABLE[x-8];for(var x=0;x<255;x++)L.LOG_TABLE[L.EXP_TABLE[x]]=x;var rt=L,G=rt;function ce(e,n){if(e.length==null)throw new Error(e.length+"/"+n);for(var t=0;t<e.length&&e[t]==0;)t++;this.num=new Array(e.length-t+n);for(var r=0;r<e.length-t;r++)this.num[r]=e[r+t]}ce.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var n=new Array(this.getLength()+e.getLength()-1),t=0;t<this.getLength();t++)for(var r=0;r<e.getLength();r++)n[t+r]^=G.gexp(G.glog(this.get(t))+G.glog(e.get(r)));return new ce(n,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var n=G.glog(this.get(0))-G.glog(e.get(0)),t=new Array(this.getLength()),r=0;r<this.getLength();r++)t[r]=this.get(r);for(var r=0;r<e.getLength();r++)t[r]^=G.gexp(G.glog(e.get(r))+n);return new ce(t,0).mod(e)}};var at=ce,D=Ze,Re=at,gr=rt,W={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},C={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var n=e<<10;C.getBCHDigit(n)-C.getBCHDigit(C.G15)>=0;)n^=C.G15<<C.getBCHDigit(n)-C.getBCHDigit(C.G15);return(e<<10|n)^C.G15_MASK},getBCHTypeNumber:function(e){for(var n=e<<12;C.getBCHDigit(n)-C.getBCHDigit(C.G18)>=0;)n^=C.G18<<C.getBCHDigit(n)-C.getBCHDigit(C.G18);return e<<12|n},getBCHDigit:function(e){for(var n=0;e!=0;)n++,e>>>=1;return n},getPatternPosition:function(e){return C.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,n,t){switch(e){case W.PATTERN000:return(n+t)%2==0;case W.PATTERN001:return n%2==0;case W.PATTERN010:return t%3==0;case W.PATTERN011:return(n+t)%3==0;case W.PATTERN100:return(Math.floor(n/2)+Math.floor(t/3))%2==0;case W.PATTERN101:return n*t%2+n*t%3==0;case W.PATTERN110:return(n*t%2+n*t%3)%2==0;case W.PATTERN111:return(n*t%3+(n+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var n=new Re([1],0),t=0;t<e;t++)n=n.multiply(new Re([1,gr.gexp(t)],0));return n},getLengthInBits:function(e,n){if(1<=n&&n<10)switch(e){case D.MODE_NUMBER:return 10;case D.MODE_ALPHA_NUM:return 9;case D.MODE_8BIT_BYTE:return 8;case D.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(n<27)switch(e){case D.MODE_NUMBER:return 12;case D.MODE_ALPHA_NUM:return 11;case D.MODE_8BIT_BYTE:return 16;case D.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(n<41)switch(e){case D.MODE_NUMBER:return 14;case D.MODE_ALPHA_NUM:return 13;case D.MODE_8BIT_BYTE:return 16;case D.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+n)},getLostPoint:function(e){for(var n=e.getModuleCount(),t=0,r=0;r<n;r++)for(var a=0;a<n;a++){for(var o=0,s=e.isDark(r,a),c=-1;c<=1;c++)if(!(r+c<0||n<=r+c))for(var d=-1;d<=1;d++)a+d<0||n<=a+d||c==0&&d==0||s==e.isDark(r+c,a+d)&&o++;o>5&&(t+=3+o-5)}for(var r=0;r<n-1;r++)for(var a=0;a<n-1;a++){var l=0;e.isDark(r,a)&&l++,e.isDark(r+1,a)&&l++,e.isDark(r,a+1)&&l++,e.isDark(r+1,a+1)&&l++,(l==0||l==4)&&(t+=3)}for(var r=0;r<n;r++)for(var a=0;a<n-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(t+=40);for(var a=0;a<n;a++)for(var r=0;r<n-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(t+=40);for(var u=0,a=0;a<n;a++)for(var r=0;r<n;r++)e.isDark(r,a)&&u++;var f=Math.abs(100*u/n/n-50)/5;return t+=f*10,t}},pr=C,_r=fr,ot=vr,it=mr,Q=pr,yr=at;function R(e,n){this.typeNumber=e,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var j=R.prototype;j.addData=function(e){var n=new _r(e);this.dataList.push(n),this.dataCache=null};j.isDark=function(e,n){if(e<0||this.moduleCount<=e||n<0||this.moduleCount<=n)throw new Error(e+","+n);return this.modules[e][n]};j.getModuleCount=function(){return this.moduleCount};j.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var n=ot.getRSBlocks(e,this.errorCorrectLevel),t=new it,r=0,a=0;a<n.length;a++)r+=n[a].dataCount;for(var a=0;a<this.dataList.length;a++){var o=this.dataList[a];t.put(o.mode,4),t.put(o.getLength(),Q.getLengthInBits(o.mode,e)),o.write(t)}if(t.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};j.makeImpl=function(e,n){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[t][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=R.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)};j.setupPositionProbePattern=function(e,n){for(var t=-1;t<=7;t++)if(!(e+t<=-1||this.moduleCount<=e+t))for(var r=-1;r<=7;r++)n+r<=-1||this.moduleCount<=n+r||(0<=t&&t<=6&&(r==0||r==6)||0<=r&&r<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=r&&r<=4?this.modules[e+t][n+r]=!0:this.modules[e+t][n+r]=!1)};j.getBestMaskPattern=function(){for(var e=0,n=0,t=0;t<8;t++){this.makeImpl(!0,t);var r=Q.getLostPoint(this);(t==0||e>r)&&(e=r,n=t)}return n};j.createMovieClip=function(e,n,t){var r=e.createEmptyMovieClip(n,t),a=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*a,c=0;c<this.modules[o].length;c++){var d=c*a,l=this.modules[o][c];l&&(r.beginFill(0,100),r.moveTo(d,s),r.lineTo(d+a,s),r.lineTo(d+a,s+a),r.lineTo(d,s+a),r.endFill())}return r};j.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var n=8;n<this.moduleCount-8;n++)this.modules[6][n]==null&&(this.modules[6][n]=n%2==0)};j.setupPositionAdjustPattern=function(){for(var e=Q.getPatternPosition(this.typeNumber),n=0;n<e.length;n++)for(var t=0;t<e.length;t++){var r=e[n],a=e[t];if(this.modules[r][a]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[r+o][a+s]=!0:this.modules[r+o][a+s]=!1}};j.setupTypeNumber=function(e){for(var n=Q.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var r=!e&&(n>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=r}for(var t=0;t<18;t++){var r=!e&&(n>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=r}};j.setupTypeInfo=function(e,n){for(var t=this.errorCorrectLevel<<3|n,r=Q.getBCHTypeInfo(t),a=0;a<15;a++){var o=!e&&(r>>a&1)==1;a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(var a=0;a<15;a++){var o=!e&&(r>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e};j.mapData=function(e,n){for(var t=-1,r=this.moduleCount-1,a=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var c=0;c<2;c++)if(this.modules[r][s-c]==null){var d=!1;o<e.length&&(d=(e[o]>>>a&1)==1);var l=Q.getMask(n,r,s-c);l&&(d=!d),this.modules[r][s-c]=d,a--,a==-1&&(o++,a=7)}if(r+=t,r<0||this.moduleCount<=r){r-=t,t=-t;break}}};R.PAD0=236;R.PAD1=17;R.createData=function(e,n,t){for(var r=ot.getRSBlocks(e,n),a=new it,o=0;o<t.length;o++){var s=t[o];a.put(s.mode,4),a.put(s.getLength(),Q.getLengthInBits(s.mode,e)),s.write(a)}for(var c=0,o=0;o<r.length;o++)c+=r[o].dataCount;if(a.getLengthInBits()>c*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+c*8+")");for(a.getLengthInBits()+4<=c*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=c*8||(a.put(R.PAD0,8),a.getLengthInBits()>=c*8));)a.put(R.PAD1,8);return R.createBytes(a,r)};R.createBytes=function(e,n){for(var t=0,r=0,a=0,o=new Array(n.length),s=new Array(n.length),c=0;c<n.length;c++){var d=n[c].dataCount,l=n[c].totalCount-d;r=Math.max(r,d),a=Math.max(a,l),o[c]=new Array(d);for(var u=0;u<o[c].length;u++)o[c][u]=255&e.buffer[u+t];t+=d;var f=Q.getErrorCorrectPolynomial(l),h=new yr(o[c],f.getLength()-1),m=h.mod(f);s[c]=new Array(f.getLength()-1);for(var u=0;u<s[c].length;u++){var S=u+m.getLength()-s[c].length;s[c][u]=S>=0?m.get(S):0}}for(var k=0,u=0;u<n.length;u++)k+=n[u].totalCount;for(var v=new Array(k),_=0,u=0;u<r;u++)for(var c=0;c<n.length;c++)u<o[c].length&&(v[_++]=o[c][u]);for(var u=0;u<a;u++)for(var c=0;c<n.length;c++)u<s[c].length&&(v[_++]=s[c][u]);return v};var Cr=R,Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var xr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},br=$e,E=lt(br),st=y,se=lt(st);function lt(e){return e&&e.__esModule?e:{default:e}}function wr(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Sr={bgColor:E.default.oneOfType([E.default.object,E.default.string]).isRequired,bgD:E.default.string.isRequired,fgColor:E.default.oneOfType([E.default.object,E.default.string]).isRequired,fgD:E.default.string.isRequired,size:E.default.number.isRequired,title:E.default.string,viewBoxSize:E.default.number.isRequired,xmlns:E.default.string},Br={title:void 0,xmlns:"http://www.w3.org/2000/svg"},me=(0,st.forwardRef)(function(e,n){var t=e.bgColor,r=e.bgD,a=e.fgD,o=e.fgColor,s=e.size,c=e.title,d=e.viewBoxSize,l=wr(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return se.default.createElement("svg",xr({},l,{height:s,ref:n,viewBox:"0 0 "+d+" "+d,width:s}),c?se.default.createElement("title",null,c):null,se.default.createElement("path",{d:r,fill:t}),se.default.createElement("path",{d:a,fill:o}))});me.displayName="QRCodeSvg";me.propTypes=Sr;me.defaultProps=Br;Oe.default=me;Object.defineProperty(ve,"__esModule",{value:!0});ve.QRCode=void 0;var jr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kr=Cr,Tr=re(kr),Dr=tt,Er=re(Dr),Pr=$e,M=re(Pr),ct=y,Or=re(ct),Lr=Oe,Nr=re(Lr);function re(e){return e&&e.__esModule?e:{default:e}}function Rr(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Ar={bgColor:M.default.oneOfType([M.default.object,M.default.string]),fgColor:M.default.oneOfType([M.default.object,M.default.string]),level:M.default.string,size:M.default.number,value:M.default.string.isRequired},Mr={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},ae=(0,ct.forwardRef)(function(e,n){var t=e.bgColor,r=e.fgColor,a=e.level,o=e.size,s=e.value,c=Rr(e,["bgColor","fgColor","level","size","value"]),d=new Tr.default(-1,Er.default[a]);d.addData(s),d.make();var l=d.modules;return Or.default.createElement(Nr.default,jr({},c,{bgColor:t,bgD:l.map(function(u,f){return u.map(function(h,m){return h?"":"M "+m+" "+f+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:l.map(function(u,f){return u.map(function(h,m){return h?"M "+m+" "+f+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:n,size:o,viewBoxSize:l.length}))});ve.QRCode=ae;ae.displayName="QRCode";ae.propTypes=Ar;ae.defaultProps=Mr;var $r=ve.default=ae;function Ir(){const e=y.useRef(),n=dt(),{t}=z("manage"),r=O(m=>m.editState.survey),a=jt(r==null?void 0:r.id),[o,s]=y.useState(!1),[c,d]=y.useState(!1),l=()=>{navigator.clipboard.writeText(a),d(!0)},u=()=>{s(!o)},f=()=>{const m=document.createElement("canvas"),S=e.current.querySelector("svg"),k=new XMLSerializer().serializeToString(S),v=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),_=window.URL||window.webkitURL||window,g=_.createObjectURL(v),w=new Image;w.onload=()=>{m.width=w.width,m.height=w.height;const oe=m.getContext("2d");oe.clearRect(0,0,m.width,m.height),oe.drawImage(w,0,0),_.revokeObjectURL(g);const ut=m.toDataURL("image/png"),Y=document.createElement("a");Y.href=ut,Y.download="".concat(r==null?void 0:r.name,"_QRCode.png"),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},w.src=g},h="mailto:?subject=Survey Link&body=Please complete this survey: ".concat(encodeURIComponent(a));return i.jsxs(i.Fragment,{children:[i.jsxs(p,{className:T.mainContainer,children:[c&&i.jsx(Bt,{handleClose:()=>d(!1),success:"copied",left:"56"}),i.jsx(p,{className:T.defaultUrl,children:i.jsxs("a",{className:T.urlLink,href:a,children:[a.slice(0,50),"...",a.slice(-10)]})}),i.jsxs(p,{className:T.buttonContainer,display:"flex",gap:2,children:[i.jsxs(I,{fullWidth:!0,onClick:u,className:T.actionButton,children:[i.jsx(le,{name:"qrCode"}),t("launch.qr_code")]}),i.jsx("a",{href:h,style:{color:n.palette.primary.main,width:"100%",textDecoration:"none"},children:i.jsxs(I,{fullWidth:!0,className:T.actionButton,children:[i.jsx(le,{name:"email"}),t("launch.email_link")]})}),i.jsxs(I,{fullWidth:!0,variant:"contained",color:"primary",className:T.copyButton,onClick:l,children:[i.jsx(le,{name:"duplicate",color:"#fff"}),t("launch.copy_link")]})]}),i.jsx(p,{className:T.socialSharing,children:i.jsxs(p,{className:T.socialLink,children:[i.jsx(Kn,{url:a,children:i.jsx(qe,{className:T.iconShareFb})}),i.jsx(tr,{url:a,children:i.jsx(Xe,{className:T.iconShareTw})}),i.jsx(Jn,{url:a,children:i.jsx(Ve,{className:T.iconShareLn})})]})})]}),i.jsxs(kt,{open:o,onClose:u,sx:{"& .MuiDialog-paper":{padding:"2rem",position:"relative"}},children:[i.jsx(yt,{sx:{m:0,p:2},children:i.jsx(Be,{"aria-label":"close",onClick:u,sx:{position:"absolute",right:8,top:8,color:m=>m.palette.grey[500]},children:i.jsx(Ct,{})})}),i.jsxs(Tt,{dividers:!0,children:[i.jsx("div",{ref:e,children:i.jsx($r,{value:a,size:256})}),i.jsx(I,{fullWidth:!0,variant:"contained",color:"primary",onClick:f,sx:{mt:2},children:"Download QR Code"})]})]})]})}const zr="_box_14n5a_1",Wr="_actionButton_14n5a_6",Hr="_publishContainer_14n5a_11",we={box:zr,actionButton:Wr,publishContainer:Hr};function Ur({onPublish:e}){const{t:n}=z("manage"),t=fe("design"),r=X(),a=O(l=>l.designState.versionDto),o=a==null?void 0:a.published,s=O(l=>{var u;return((u=l.designState.Survey)==null?void 0:u.errors)&&l.designState.Survey.errors.length>0}),c=new URLSearchParams([["version",a==null?void 0:a.version],["sub_version",a==null?void 0:a.subVersion]]),d=()=>{r(Ce(!0)),t.publish(c).then(l=>{r(Ce(!1)),r(gt(l)),e()}).catch(l=>{r(Ce(!1))})};return i.jsxs(p,{className:we.box,children:[!o&&i.jsxs(p,{display:"flex",alignItems:"center",className:we.publishContainer,children:[i.jsx(B,{variant:"subtitle1",children:n("launch.publish_text")}),i.jsx(i.Fragment,{children:i.jsx(Ie,{title:s?"".concat(n("launch.publish_error")):"".concat(n("launch.publish_tooltip")),placement:"top",children:i.jsx("span",{children:i.jsxs(I,{fullWidth:!0,variant:"contained",color:"primary",className:we.actionButton,onClick:()=>{s||d()},disabled:s,children:[i.jsx(le,{name:"launch",color:s?"#bdbdbd":"#fff"}),n("launch.publish")]})})})})]}),i.jsx(Cn,{}),i.jsx(Ir,{})]})}function Fr({onPublish:e}){const{t:n}=z("manage"),t=[{id:"offline",title:n("edit_survey.offline"),component:i.jsx($t,{})},{id:"privacy",title:n("edit_survey.privacy"),component:i.jsx(Ut,{})}],r=[,{id:"quotas",title:n("edit_survey.quotas"),component:i.jsx(dn,{})},{id:"survey_users",title:n("edit_survey.survey_users"),component:i.jsx(nn,{})}];return i.jsxs(p,{className:q.mainContainer,children:[i.jsxs(ge,{className:q.accordionContainer,defaultExpanded:!0,children:[i.jsx(pe,{expandIcon:i.jsx(_e,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:i.jsx(B,{fontWeight:"600",color:"#1a2052",variant:"h5",children:n("edit_survey.launch")})}),i.jsx(ye,{className:q.accordionDetails,children:i.jsx(Ur,{onPublish:e})})]}),i.jsx(p,{display:"flex",flexWrap:{xs:"wrap",sm:"wrap",md:"nowrap"},gap:4,width:"100%",children:t.map(a=>i.jsxs(ge,{className:q.accordionContainer,defaultExpanded:!0,children:[i.jsx(pe,{expandIcon:i.jsx(_e,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:i.jsx(B,{fontWeight:"600",color:"#1a2052",variant:"h5",children:a.title})}),i.jsx(ye,{className:q.accordionDetails,children:a.component})]},a.id))}),r.map(a=>i.jsxs(ge,{className:q.accordionContainer,defaultExpanded:!0,children:[i.jsx(pe,{expandIcon:i.jsx(_e,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:i.jsx(B,{fontWeight:"600",color:"#1a2052",variant:"h5",children:a.title})}),i.jsx(ye,{className:q.accordionDetails,children:a.component})]},a.id))]})}const pa=F.memo(Fr);export{pa as default};
