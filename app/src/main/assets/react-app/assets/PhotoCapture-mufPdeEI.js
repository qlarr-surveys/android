import{m as n}from"./index-DmP5zAAx.js";import{Q as C,D as s,H as w,U as S,S as j,X as y,Y as H,J as h}from"./Android-CkQUA4KD.js";const k="_container_bvkr6_2",z={container:k};function b(r){var m;const f=C("run"),o=r.component,t=s(e=>e.runState.values[o.qualifiedCode]),c=s(e=>e.runState.preview),_=s(e=>e.runState.values.Survey.mode),l=w(),d=()=>{var u,p,x,v;const e=o.qualifiedCode,g=((p=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:p.isActive)&&((v=(x=o.validation)==null?void 0:x.validation_max_file_size)==null?void 0:v.max_size)||-1;c&&_=="offline"?y("/dummy_image.png").then(i=>{H(f,e,c,i).then(a=>{l(h({componentCode:r.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.capturePhoto(e,g),window["onPhotoCaptured"+e]=i=>{l(h({componentCode:e,value:i}))}):console.debug("no android device!!")};return n.jsxs(S,{className:z.container,sx:{maxHeight:"400px"},children:[!t.value||!t.value.stored_filename?n.jsx("img",{onClick:d,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):n.jsx("img",{onClick:d,src:j(t.value.stored_filename),style:{maxHeight:"400px",maxWidth:"100%"}}),n.jsx("br",{}),o.showHint&&n.jsx("span",{children:(m=o.content)==null?void 0:m.hint})]})}export{b as default};
