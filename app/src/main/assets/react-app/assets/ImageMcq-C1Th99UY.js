import{m as t,ab as m,a8 as _}from"./index-g2NzBsuM.js";import{K as x,L as f,M as k,aa as y,ab as j,O as q,S as h}from"./Android-BeUiQmgx.js";import{C as S}from"./Checkbox-BWbBoW0b.js";import"./SwitchBase-S5YJBO2b.js";const p="_imageContainer_iw6vc_5",b="_selection_iw6vc_13",w="_radioCheck_iw6vc_22",R="_imageFlexContainer_iw6vc_32",g={imageContainer:p,selection:b,radioCheck:w,imageFlexContainer:R};function N(e){const a=x(n=>n.runState.values.Survey.lang),i=x(n=>n.runState.values[e.component.qualifiedCode].value||[],f),c=j.includes(a),r=x(n=>n.runState.values);return t.jsx(m,{sx:{gap:"".concat(e.component.spacing,"px"),justifyContent:c?"flex-end":"flex-start"},className:g.imageFlexContainer,children:e.component.answers.map(n=>{var l,s;return((s=(l=r[n.qualifiedCode])==null?void 0:l.relevance)!=null?s:!0)?t.jsx(F,{option:n,parentValue:i,aspectRatio:e.component.imageAspectRatio,columns:e.component.columns||3,spacing:e.component.spacing||8,hideText:e.component.hideText,parentCode:e.component.qualifiedCode},n.qualifiedCode):null})})}function F(e){var C,l,s;const a=_(),i=x(u=>{let o=u.runState.values[e.option.qualifiedCode];return{showAnswer:typeof(o==null?void 0:o.relevance)>"u"||o.relevance}},f),c=k(),r=(u,o)=>{let d=[...e.parentValue];o?d.push(e.option.code):d=d.filter(v=>v!==e.option.code),c(q({componentCode:e.parentCode,value:d})),c(h(u)),c(h(e.parentCode))},n=(C=e.option.resources)!=null&&C.image?"url('".concat(y((l=e.option.resources)==null?void 0:l.image),"')"):"url('/placeholder-image.jpg')";return t.jsxs(m,{sx:{flex:"0 1 calc(".concat(100/e.columns,"% - ").concat(e.spacing,"px)"),cursor:"pointer"},children:[t.jsx(m,{className:g.imageContainer,onClick:()=>r(e.option.qualifiedCode,!i.checked),style:{paddingTop:100/e.aspectRatio+"%",backgroundImage:n,borderRadius:"4px",border:i.checked?"4px solid ".concat(a.palette.primary.main):"4px solid transparent"},children:t.jsx("div",{className:g.selection,children:t.jsx(S,{onChange:u=>r(e.option.qualifiedCode,!i.checked),size:"large",sx:{m:"5px"},className:g.radioCheck,checked:e.parentValue.indexOf(e.option.code)>-1})})}),!e.hideText&&t.jsx(m,{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size},children:(s=e.option.content)==null?void 0:s.label})]},e.option.code)}export{N as default};
