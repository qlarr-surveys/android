!function(){const e=["children"],t=["behavior","align"],r=["done","behavior","align","calculateViewLocation"],n=["listState","topItemsIndexes"],o=["style","children"],i=["style","children"];function a(e){return y(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||g()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,l,"next",e)}function l(e){u(i,n,o,a,l,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return y(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||v(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){if(Array.isArray(e))return e}System.register(["./index-legacy-CFVrgsj-.js","./Web-legacy-lEjlCpP0.js","./use-service-legacy-DWWO7tqv.js","./common-legacy-Bipzn7I-.js","./isTouchDevice-legacy-DUZfBPIB.js","./Image-legacy-DMzgUcx4.js","./TextField-legacy-DSeCJShW.js","./TableRow-legacy-DZ59dw8n.js","./TableHead-legacy-CgvOjZCw.js","./TableCell-legacy-CCGcTyA_.js","./Radio-legacy-lLXTZYb5.js","./useDrop-legacy-DzakJfx5.js","./index-legacy-BHkSAzBd.js","./DateTimePicker-legacy-CPwkzdF6.js","./Tabs-legacy-BsWkf7Ra.js","./index-legacy-Dq5NYElb.js","./index-legacy-BEog6lxj.js","./CardMedia-legacy-V2Pu8BCo.js","./FormControlLabel-legacy-CAQf1sB2.js","./Checkbox-legacy-Dxnzi2oA.js","./DatePicker-legacy-BGJ_vuoD.js","./Delete-legacy-DPa7t_TP.js","./Card-legacy-BrrMWqk_.js","./survey-legacy-BBPrODqM.js","./use-boolean-legacy-CVLPd5cs.js","./radioClasses-legacy-DZADyAfe.js","./tableRowClasses-legacy-DcI4kdDa.js","./SwitchBase-legacy-BcHcptxW.js","./RadioGroupContext-legacy-CdGij5rv.js","./InputAdornment-legacy-CCNOc_DW.js"],(function(u,d){"use strict";var f,g,v,m,y,b,_,x,w,O,S,k,j,E,C,T,q,I,A,L,P,N,F,R,M,D,V,z,B,H,$,U,W,K,G,Y,J,Q,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,de,pe,fe,he,ge,ve,me,ye,be,_e,xe,we,Oe,Se,ke,je,Ee,Ce,Te,qe,Ie,Ae,Le,Pe,Ne,Fe,Re,Me,De,Ve,ze,Be,He,$e,Ue,We,Ke,Ge,Ye,Je,Qe,Xe,Ze,et,tt,rt,nt,ot,it,at,lt,st,ut,ct,dt,pt,ft,ht,gt,vt,mt,yt,bt,_t,xt,wt,Ot,St,kt,jt,Et,Ct,Tt,qt,It,At,Lt,Pt,Nt,Ft,Rt,Mt,Dt,Vt,zt,Bt,Ht,$t,Ut,Wt,Kt,Gt,Yt,Jt,Qt,Xt,Zt,er,tr,rr,nr,or,ir,ar,lr,sr,ur,cr,dr,pr,fr,hr,gr,vr,mr,yr,br,_r,xr,wr,Or,Sr,kr,jr,Er,Cr,Tr,qr,Ir,Ar,Lr,Pr,Nr,Fr,Rr,Mr,Dr,Vr,zr,Br,Hr,$r,Ur,Wr,Kr,Gr,Yr,Jr,Qr,Xr,Zr,en,tn,rn,nn,on,an,ln,sn,un,cn,dn,pn,fn,hn,gn,vn;return{setters:[e=>{f=e.b,g=e.w,v=e.r,m=e.J,y=e.M,b=e.O,_=e.an,x=e.P,w=e._,O=e.g,S=e.f,k=e.h,j=e.j,E=e.d,C=e.k,T=e.a1,q=e.l,I=e.i,A=e.o,L=e.q,P=e.B,N=e.p,F=e.ai,R=e.R,M=e.y,D=e.A,V=e.ag,z=e.ao,B=e.ap,H=e.H,$=e.aq,U=e.ar,W=e.as,K=e.at,G=e.au,Y=e.av,J=e.x,Q=e.C,X=e.aw},e=>{Z=e.G,ee=e.H,te=e.J,re=e.L,ne=e.M,oe=e.N,ie=e.O,ae=e.P,le=e.Q,se=e.T,ue=e.U,ce=e.v,de=e.C,pe=e.D,fe=e.V,he=e.m,ge=e.W,ve=e.X,me=e.K,ye=e.Y},e=>{be=e.b$,_e=e.c0,xe=e.C,we=e.A,Oe=e.k,Se=e.c1,ke=e.f,je=e.j,Ee=e.c,Ce=e.c2,Te=e.al,qe=e.am,Ie=e.an,Ae=e.I,Le=e.h,Pe=e.c3,Ne=e.b,Fe=e.bT,Re=e.c4,Me=e.T,De=e.l,Ve=e.B,ze=e.c5,Be=e.L,He=e.c6,$e=e.D,Ue=e.n,We=e.o,Ke=e.v,Ge=e.p,Ye=e.c7,Je=e.z,Qe=e.x,Xe=e.w,Ze=e.bg,et=e.bh,tt=e.bi,rt=e.t,nt=e.i,ot=e.e,it=e.bO,at=e.c8,lt=e.K,st=e.M,ut=e.U,ct=e.H,dt=e.c9,pt=e.ca,ft=e.cb,ht=e.cc,gt=e.cd,vt=e.bk,mt=e.aw,yt=e.ce,bt=e.cf,_t=e.ap,xt=e.aQ,wt=e.cg,Ot=e.ch,St=e.aD,kt=e.b9,jt=e.ci,Et=e.cj,Ct=e.R,Tt=e.ck,qt=e.bb,It=e.cl,At=e.cm,Lt=e.cn,Pt=e.co,Nt=e.cp,Ft=e.cq,Rt=e.cr,Mt=e.cs,Dt=e.bn,Vt=e.ct,zt=e.cu,Bt=e.cv,Ht=e.cw,$t=e.ax,Ut=e.S,Wt=e.N,Kt=e.cx,Gt=e.a2,Yt=e.cy,Jt=e.P,Qt=e.bC,Xt=e.W,Zt=e.ar,er=e.bd,tr=e.cz,rr=e.cA,nr=e.cB,or=e.cC,ir=e.cD,ar=e.cE,lr=e.cF,sr=e.cG,ur=e.cH,cr=e.aL,dr=e.cI,pr=e.aO,fr=e.cJ,hr=e.aF,gr=e.cK,vr=e.av,mr=e.bv,yr=e.cL,br=e.cM,_r=e.cN,xr=e.aX,wr=e.V},e=>{Or=e.b},e=>{Sr=e.c,kr=e.E,jr=e.D,Er=e.i,Cr=e.T,Tr=e.H},e=>{qr=e.u,Ir=e.a,Ar=e.D,Lr=e.d},e=>{Pr=e.T,Nr=e.F,Fr=e.I},e=>{Rr=e.T,Mr=e.a,Dr=e.b,Vr=e.c},e=>{zr=e.T},e=>{Br=e.T},e=>{Hr=e.R},e=>{$r=e.u},e=>{Ur=e.R},e=>{Wr=e.G,Kr=e.q,Gr=e.D,Yr=e.L},e=>{Jr=e.P,Qr=e.a,Xr=e.b},e=>{Zr=e.D},e=>{en=e.C,tn=e.H,rn=e.c,nn=e.A,on=e.a,an=e.d,ln=e.b},e=>{sn=e.C},e=>{un=e.F},e=>{cn=e.C},e=>{dn=e.D,pn=e.T},e=>{fn=e.d},e=>{hn=e.C},e=>{gn=e.N},e=>{vn=e.u},null,null,null,null,null],execute:function(){var mn=document.createElement("style");mn.textContent='._mainContainer_as1f9_1{display:flex}._updateButtons_as1f9_5{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}._save_as1f9_14{margin-left:10px}._header_as1f9_18{max-width:800px}._groupEmptyHint_1pku9_2{text-align:center;font-size:32px;padding:16px;color:gray;margin:16px;border:2px dashed gray;border-radius:4px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1pku9_14{background-color:rgba(0,0,0,.1)}._footer_1pku9_18{height:100px}._contentPanel_1pku9_22{position:relative;overflow-y:auto;flex:1 1 auto;width:100%;height:calc(100vh - 64px)}._cardImage_1pku9_30{max-height:22.5vw;height:160px;width:100%;margin:auto;background-size:cover;background-position:center}._customScrollBar_1pku9_38::-webkit-scrollbar{width:10px}._virtuosoStyle_1pku9_42{width:100%;height:100%}._cardMediaContent_1pku9_47{max-width:800px;min-width:350px;margin:auto}._buttonContainer_1pku9_55{display:flex;align-items:center;gap:0px;position:absolute;top:0;right:22.5rem;z-index:1}._button_1pku9_55._button_1pku9_55{text-transform:none;padding:.2rem 1rem;background-color:#fff;border-radius:0/0px;color:#16205b}._button_1pku9_55._button_1pku9_55:hover{background-color:#16205b;color:#fff}._errorDisplay_1joy4_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._clickable_1joy4_10{cursor:pointer}._textDescriptionContent_xkpeh_1{display:flex;align-items:center;margin-top:12px}._moveBox_xkpeh_7{width:100%;display:flex;justify-content:center}._groupQuestion_xkpeh_13{position:relative;padding:1.5rem 1rem 1rem;word-wrap:break-word;page-break-inside:avoid;transition:all .2s cubic-bezier(0,0,.2,1);cursor:default}._titleContainer_xkpeh_22{display:flex;align-items:center;gap:.5rem;word-break:break-all}._titleQuestion_xkpeh_29{display:flex;align-items:center}._titleQuestion_xkpeh_29 h3{width:auto}._iconBox_xkpeh_39{display:flex;align-items:center;gap:.5rem;color:#16205b;font-weight:700}@keyframes _fadeInMoveRight_xkpeh_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_xkpeh_59{width:100%;animation:_fadeInMoveRight_xkpeh_1 .75s ease-out forwards}._contentContainer_xkpeh_64._contentContainer_xkpeh_64{position:absolute;top:-5px;right:0;width:100%;display:flex;justify-content:space-between;align-items:center}._highlight_xkpeh_74{animation:_fadeHighlight_xkpeh_1 3s ease-in-out;background-color:rgba(245,245,220,.7)}@keyframes _fadeHighlight_xkpeh_1{0%{background-color:rgba(245,245,220,.7)}to{background-color:rgba(245,245,220,.2)}}._fullWidth_1dvff_1{width:100%;cursor:text}._toolbarClass_1dvff_6 div ._rdw-editor-toolbar_1dvff_6{border:0!important;margin:0!important;padding:0!important}._noPadding_1dvff_12>:last-child{margin-bottom:0}._noPadding_1dvff_12>:first-child{margin-top:0}p{margin-top:0;margin-bottom:0}._placeholder_1dvff_25{color:#aaa}._placeholder_1dvff_25>:first-child{margin-top:0}._placeholder_1dvff_25>:last-child{margin-bottom:0}.ql-editor{padding:0!important}.ql-container{font-size:inherit!important;font-family:inherit!important}.ql-snow{padding:0!important;border:0!important}.quill{display:flex;flex-direction:column-reverse}.rtl .ql-editor,.rtl{direction:rtl!important;text-align:right!important}/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"•"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"☑"}.ql-editor ul[data-checked=false]>li:before{content:"☐"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}.ql-mention-list-container{width:270px;border:1px solid #f0f0f0;border-radius:4px;background-color:#fff;box-shadow:0 2px 12px rgba(30,30,30,.08);z-index:9001;overflow:auto}.ql-mention-loading{line-height:44px;padding:0 20px;vertical-align:middle;font-size:16px}.ql-mention-list{list-style:none;margin:0;padding:0;overflow:hidden}.ql-mention-list-item{cursor:pointer;line-height:44px;font-size:16px;padding:0 20px;vertical-align:middle}.ql-mention-list-item.disabled{cursor:auto}.ql-mention-list-item.selected{background-color:#d3e1eb;text-decoration:none}.mention{height:24px;width:65px;border-radius:6px;background-color:#d3e1eb;padding:3px 0;margin-right:2px;user-select:all}.mention>span{margin:0 3px}._actionControl_1xa5v_1{display:flex;margin-right:8px;margin-left:8px;justify-content:flex-end}._statusIcon_1xa5v_8{cursor:default}._questionContainer_1xa5v_12{padding:16px}._actionIcon_1xa5v_16,._settingIcon_1xa5v_17{font-size:22px}._settingIcon_1xa5v_17{transform:rotate(90deg)}._deleteIcon_1xa5v_25{font-size:32px}._questionItem_169qj_1{margin-bottom:15px;width:50%}._questionItem_169qj_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_169qj_1{width:100%}}._questionItem_13fbu_1{margin-bottom:15px}._questionItem_13fbu_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_13fbu_1{width:100%}}._paragraph_13fbu_15{width:100%}._wordCount_13fbu_19{text-align:end}._questionItem_1sx0f_1{margin-bottom:15px;width:50%}._questionItem_1sx0f_1:last-child{margin-bottom:0}@media only screen and (max-width: 767px){._questionItem_1sx0f_1{width:100%}}._questionItem_wb37f_1{margin-bottom:15px;width:50%}._questionItem_wb37f_1:last-child{margin-bottom:0}@media screen and (max-width: 768px){._questionItem_wb37f_1{width:100%}}._noPadding_1ii70_1{padding:0}._addRow_1ii70_5{margin-top:16px}._addColumn_1ii70_9{text-align:right}._addIcon_1ii70_13{width:64px;height:64px}._addIcon_1ii70_13>svg{width:100%;height:100%}._svgContainer_1ii70_23{text-align:center}._svgContainer_1ii70_23>svg{width:100%;height:100%}._addButton_1ii70_31._addButton_1ii70_31{text-transform:none;color:#16205b;font-weight:bolder;background-color:#e0e2ef;border-radius:9999px;padding:.5rem 1rem}._placeholder_4iqf5_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_4iqf5_9{text-align:center;margin-top:24px}._signatureCanvas_1uxb1_1{border:1px solid transparent;padding:8px;border-radius:4px;text-align:center}._placeholder_xjf3c_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_xjf3c_9{text-align:center;margin-top:24px}._imageContainer_xjf3c_14{background-position:center;background-repeat:no-repeat}._choicesContainer_k0bnu_1{display:flex;width:100%;table-layout:fixed;margin-bottom:16px;justify-content:space-between}._choicesContainer_k0bnu_1 ._choice_k0bnu_1{padding:8px;width:100%;margin:1px;font-weight:700;font-size:larger;border:1px solid;text-align:center}._choiceLabels_k0bnu_19{margin-top:16px;display:flex;justify-content:space-between}._container_cyg3h_1{text-align:center}._answerAdd_5tmqk_1{display:flex;align-items:baseline;padding-left:18px;justify-content:flex-end;gap:.5rem}._questionItem_5tmqk_9{display:flex;flex-direction:column;gap:2rem}._choicesContainer_5tmqk_15{display:flex;flex-direction:column;gap:.5rem}._answerItem_shykq_1{display:flex;flex-flow:row wrap;align-items:center;transition:all .2s;height:auto}._answerIcon_shykq_10{display:flex}._answerItem_shykq_1 ._answerIcon_shykq_10:hover{cursor:pointer}._answerItem_shykq_1 ._answerIconOther_shykq_18{align-self:center;margin-right:10px}._answerItem_shykq_1 ._answerIconOther_shykq_18:hover{cursor:pointer}._answerItem_shykq_1 ._answerNumberOrder_shykq_27{width:30px;text-align:center}._answerItem_shykq_1 ._answerControl_shykq_32{margin-left:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlRtl_shykq_37{margin-right:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlOther_shykq_42{margin-left:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerControlOtherRtl_shykq_47{margin-right:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerOtherControl_shykq_52{margin-left:43px;width:50%}._addAnswerIcon_4rcog_1{scale:2}._questionItem_4rcog_5{overflow:hidden;padding-top:16px}._addAnswerButton_4rcog_10{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._imageIconButton_chgwf_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_chgwf_8{background-size:cover;background-position:center;background-repeat:no-repeat;position:relative;width:100%}._addAnswerIcon_chgwf_16{scale:2}._loadingContainer_chgwf_20{top:50%;left:50%;position:absolute}._addAnswerButton_chgwf_26{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._buttonContainers_chgwf_34{width:100%;top:0;position:absolute}._imageIconButton_lgrld_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_lgrld_8{text-align:center}._addAnswerIcon_lgrld_12{scale:2}._loadingContainer_lgrld_16{text-align:center;float:right;width:100%;margin-top:24px}._addAnswerButton_lgrld_23{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._svgContainer_lgrld_31>svg{width:100%;height:100%}._buttonContainers_lgrld_36{width:100%;display:inline-block}._resultImage_2y7qe_1{display:contents}._resultImage_2y7qe_1>svg{margin:8px;width:48px;height:48px}._textHeader_cn5sd_1{word-break:break-all}._textDescription_cn5sd_5{display:flex;align-items:flex-start;margin-top:12px}._groupCard_cn5sd_11{position:relative;box-shadow:inherit!important;padding-bottom:24px;cursor:default}._type_cn5sd_18{display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._groupType_cn5sd_25{margin-top:0;display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._questionsOuterContainer_cn5sd_33{padding:24px}._questionsInnerContainer_cn5sd_37{border-radius:8px;padding-right:24px;padding-left:24px}._groupDesignError_cn5sd_43{border-color:red!important;background-color:rgba(255,0,0,.063)!important}._groupHeader_cn5sd_48{padding:1.75rem 1rem 1rem}._inputGroupTitle_cn5sd_52{width:100%;line-height:135%}._inputGroupDescription_cn5sd_57{width:100%;margin-top:4px}._moveBox_cn5sd_62{display:flex;margin:auto;justify-content:center;width:50%;cursor:move}._topLevel_cn5sd_71{display:flex;flex-direction:column;max-width:800px;max-width:min(800px,calc(100% - 32px));min-width:320px;gap:1rem;padding:.5rem .5rem 2rem;margin:auto;position:relative}._groupText_cn5sd_83{font-size:20px;font-weight:700}@keyframes _fadeInMoveRight_cn5sd_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_cn5sd_101{animation:_fadeInMoveRight_cn5sd_1 .75s ease-out forwards}._contentContainer_cn5sd_105._contentContainer_cn5sd_105{position:absolute;top:0;right:0;width:100%;display:flex;justify-content:space-between;align-items:center;justify-content:end}._headerContent_cn5sd_116{position:relative}._highlight_cn5sd_120{animation:_fadeHighlight_cn5sd_1 3s ease-in-out;background-color:rgba(245,245,220,.7)}@keyframes _fadeHighlight_cn5sd_1{0%{background-color:rgba(245,245,220,.7)}to{background-color:rgba(245,245,220,.2)}}._groupDropArea_1m6hh_1{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,height .2s ease-in-out,opacity .2s}._groupDragging_1m6hh_24{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:50px;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,opacity .2s}._questionDropArea_1m6hh_45{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;max-width:800px;min-width:350px;padding:0;width:100%;margin:auto;font-size:2rem;color:rgba(0,0,0,.5);background-color:rgba(0,0,0,.1);border:1px dotted #16205b;border-radius:2px;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupDropAreaWrapper_1m6hh_72{padding:1rem 0;max-width:800px;width:100%;min-width:350px}._groupDropAreaWrapper_1m6hh_72._hide_1m6hh_79{padding:0}._hidden_1m6hh_83{height:1px;margin:auto;max-width:800px;width:100%;min-width:350px;transition:height .2s,padding .2s}._isDragging_1m6hh_92{display:flex;justify-content:center;align-items:center;border:1px dotted #16205b;height:50px;margin:0;background-color:#f9f9f9;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupHidden_1m6hh_104{height:6rem;margin:auto;max-width:800px;min-width:350px}._groupEmptyHint_1m6hh_111{display:flex;justify-content:center;align-items:center;text-align:center;height:50px;margin:auto;max-width:800px;width:100%;min-width:350px;color:gray;border:1px dotted #16205b;border-radius:2px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1m6hh_130{background-color:rgba(0,0,0,.1)}._dropText_1m6hh_134{font-size:20px}._showHint_9iocv_1{display:flex;align-items:center;justify-content:space-between;margin-top:20px;width:100%}._inputValue_9iocv_9{max-width:80%}._boxContainer_182us_1{border:1px solid;padding:15px}._boxContainer_182us_1 h4{margin:0}._boxContainer_182us_1 ._mt10_182us_10{margin-top:10px}._boxContainer_182us_1 ._uppercase_182us_14{text-transform:uppercase}._title_182us_18{display:flex;align-items:center;justify-content:space-between;width:100%}._title_182us_18 p{margin:0 30px 0 0}._boxContainer_1vhs4_1{border:1px solid;padding:15px}._boxContainer_1vhs4_1 h4{margin:0}._boxContainer_1vhs4_1 ._mt10_1vhs4_9{margin-top:10px}._boxContainer_1vhs4_1 ._uppercase_1vhs4_13{text-transform:uppercase}._title_1vhs4_18{display:flex;align-items:center;justify-content:space-between}._title_1vhs4_18 p{margin:0 30px 0 0}._titleContent_1vhs4_28{display:flex;align-items:center}._standardError_1vhs4_33{display:flex;align-items:center;margin-bottom:10px}._standardError_1vhs4_33 p{margin:0 30px 0 0}._errorWrapper_1vhs4_44{display:flex}._errorLabelWrapper_1vhs4_48{margin-right:10px}._errorItem_1vhs4_52{display:flex;align-items:center;margin-bottom:5px;min-height:30px}._errorItemContainer_1vhs4_58{width:100%}._valueValidationItems_1hupk_1,._valueValidationItemsContainer_1hupk_6{display:flex;align-items:center}._valueValidationItemsContainer_1hupk_6 ._error_1hupk_11{color:red}._toggleValue_1d9zg_1{display:flex;align-items:center;justify-content:space-between;width:100%}._inputValue_1d9zg_8{max-width:80%}._selectValue_9m4tq_1,._selectDate_1qp3e_1{display:flex;align-items:center;justify-content:space-between;width:100%}._selectDateField_1qp3e_8{max-width:50%}.query-builder .qb-drag-handler,.query-builder .qb-draggable,.query-builder{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.query-builder .rule--header:after{content:"";display:table;clear:both}.query-builder{overflow:hidden;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.25;margin:1rem}.query-builder .group{background:rgba(250,240,210,.5);border:1px solid #DCC896}.query-builder .rule{background-color:#fff;border:1px solid transparent;padding:10px}.query-builder .rule-with-error .rule{border-color:#e0a1a1}.query-builder .group-with-error>.group{border-color:#e0a1a1}.query-builder .rule--body{display:flex;flex-wrap:wrap;text-align:center}.query-builder .rule--body--wrapper{flex:1;display:flex;flex-direction:column}.query-builder .rule--error{color:red;margin-bottom:-5px;margin-top:5px}.query-builder .rule_group--error{color:red;margin-bottom:-5px;margin-top:5px;width:100%}.query-builder .group-or-rule{border-radius:5px;position:relative}.query-builder .rule_group,.query-builder .rule_group_ext{background:rgba(255,252,242,.5);border:1px solid #f9f1dd}.query-builder .locked{border:1px dashed red}.query-builder .qb-placeholder{border:1px dashed gray}.query-builder.qb-dragging{cursor:-webkit-grabbing!important;cursor:grabbing!important}.query-builder.qb-dragging button{pointer-events:none}.query-builder .qb-draggable{pointer-events:none;position:absolute;opacity:.7;z-index:1000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .qb-drag-handler{cursor:-webkit-grabbing;cursor:grabbing}.query-builder .group--header:not(.no--children):not(.hide--conjs){position:relative}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{z-index:0;content:"";position:absolute;border-width:0 0 0 2px;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--header:not(.no--children):not(.hide--conjs).hide--line:before{border-color:rgba(128,128,128,.1)}.query-builder .group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{border-width:0 0 2px 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{border-width:0 0 0 2px}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{content:"";position:absolute;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 11px)}.query-builder .group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children>.group-or-rule-container>.group-or-rule:after{left:-14px;width:13px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:before{border-radius:0 0 0 4px}.query-builder .group--children>.group-or-rule-container:last-child>.group-or-rule:after{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 13px)}.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.query-builder .group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:rgba(128,128,128,.1)}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.query-builder .rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 8px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 6px)}.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .rule_group--children>.group-or-rule-container>.group-or-rule:after{left:-11px;width:10px}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before{top:-2px;height:calc(50% + 3px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 13px)}.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:before,.query-builder .switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{left:-15px;width:13px}.query-builder .switch_group>.group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.query-builder .qb-draggable:before,.query-builder .qb-draggable:after{display:none}.query-builder .group--header,.query-builder .group--footer{display:flex;align-items:stretch;padding-left:10px;padding-right:10px;margin-top:10px;margin-bottom:10px}.query-builder .group-or-rule-container{margin-top:10px;margin-bottom:10px;padding-right:10px}.query-builder .group-or-rule-container:first-child{margin-top:0!important}.query-builder .group-or-rule-container:last-child{margin-bottom:0!important}.query-builder .group--drag-handler{margin-right:8px;margin-top:3px;position:relative;align-self:center}.query-builder .group--conjunctions{flex-shrink:0;display:flex}.query-builder .group--conjunctions .group--drag-handler{margin-left:10px}.query-builder .group--children{padding-left:24px;margin-top:10px;margin-bottom:10px}.query-builder .group--children .group--field--count--rule{display:flex;flex-wrap:wrap;flex:1}.query-builder .group--conjunctions.hide--conj{opacity:.3}.query-builder .group--actions{align-self:center;margin-left:10px;flex:1;display:flex}.query-builder .group--actions--tl,.query-builder .group--actions--bl{justify-content:flex-start}.query-builder .group--actions--tl{margin-left:20px}.query-builder .group--actions--tc,.query-builder .group--actions--bc{justify-content:center}.query-builder .group--actions--tr,.query-builder .group--actions--br{justify-content:flex-end}.query-builder .case_group{border-width:2px}.query-builder .case_group .case_group--body{display:flex;flex-direction:row;margin-top:10px;margin-bottom:10px}.query-builder .case_group .case_group--body .case_group--children{flex:auto;margin-top:0!important;margin-bottom:0!important}.query-builder .case_group .case_group--value{margin:0 10px}.query-builder .rule_group{display:flex;flex-wrap:wrap;padding-left:10px}.query-builder .rule_group .group--field{margin-top:10px;margin-bottom:10px;align-self:center}.query-builder .rule_group .group--actions{margin-left:10px;align-self:center;flex:0}.query-builder .rule_group .rule_group--children{flex:1;margin-top:5px;margin-bottom:5px;padding-left:18px}.query-builder .rule_group .rule_group--children .group-or-rule-container{margin-bottom:5px;margin-top:5px;padding-right:5px}.query-builder .rule_group .rule_group--children.one--child{padding-left:9px}.query-builder .rule_group_ext .group--actions{flex:none}.query-builder .group--header.hide--drag.with--conjs>.group--field--count--rule{margin-left:20px}.query-builder .rule{flex:1;display:flex}.query-builder .rule--header{margin-left:auto;display:flex;align-items:center;padding-left:10px}.query-builder .rule--drag-handler{display:flex;align-items:center;margin-right:8px}.query-builder .rule--field,.query-builder .rule--fieldsrc,.query-builder .group--field,.query-builder .rule--operator,.query-builder .rule--value,.query-builder .rule--operator-options,.query-builder .rule--widget,.query-builder .widget--widget,.query-builder .widget--valuesrc,.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--before-widget,.query-builder .rule--after-widget{display:inline-block}.query-builder .widget--sep,.query-builder .operator--options--sep,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep{vertical-align:bottom;align-self:flex-end;margin-bottom:8px}.query-builder .rule--func--arg-sep{margin-bottom:3px}.query-builder .widget--sep{margin-left:10px;margin-right:10px}.query-builder .widget--sep.widget--sep-first{margin-right:10px;margin-left:0}.query-builder .rule--operator{margin-left:20px;margin-right:20px}.query-builder .operator--options--sep{margin-right:10px}.query-builder .rule--func--arg-sep{margin-left:3px;margin-right:6px}.query-builder .rule--func--bracket-after{margin-left:5px;margin-right:2px}.query-builder .rule--func--bracket-before{margin-left:5px;margin-right:5px}.query-builder .widget--valuesrc,.query-builder .rule--fieldsrc{vertical-align:top}.query-builder .operator--options{display:flex}.query-builder .rule--operator-wrapper{display:flex;flex-direction:column;height:100%}.query-builder .rule--operator-text-wrapper{flex:1;display:flex;align-items:center}.query-builder div.tooltip-inner{max-width:500px}.query-builder .rule--label{display:block;font-weight:700}.query-builder .rule--func--wrapper,.query-builder .rule--func,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--bracket-before,.query-builder .rule--func--bracket-after,.query-builder .rule--func--arg-sep,.query-builder .rule--func--arg-label,.query-builder .rule--func--arg-label-sep{display:inline-block}.query-builder .rule--func--wrapper,.query-builder .rule--func--args{display:flex;flex-wrap:wrap}.query-builder .rule--func--arg{display:flex}.query-builder .rule--field-wrapper,.query-builder .rule--field--func,.query-builder .rule--func--wrapper,.query-builder .rule--func--args,.query-builder .rule--func--arg,.query-builder .rule--func--arg-value,.query-builder .rule--func--arg-value>.rule--widget,.query-builder .widget--func{display:contents}.query-builder .rule--func,.query-builder .widget--widget{margin-bottom:2px}.query-builder .rule--body--wrapper{margin-bottom:-2px}.query-builder .rule--body.can--shrink--value .rule--value{flex:1}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget{width:100%;display:flex}.query-builder .rule--body.can--shrink--value .rule--value>.rule--widget .widget--widget{flex:1}.query-builder.qb-lite .group--drag-handler,.query-builder.qb-lite .group--actions{transition:opacity .2s}.query-builder.qb-lite .group--header:hover .group--header .group--drag-handler,.query-builder.qb-lite .group--header:hover .group--header .group--actions,.query-builder.qb-lite .group--header:not(:hover) .group--drag-handler,.query-builder.qb-lite .group--header:not(:hover) .group--actions,.query-builder.qb-lite .rule_group:not(:hover) .group--drag-handler,.query-builder.qb-lite .rule_group:not(:hover) .group--actions{opacity:0}.query-builder.qb-lite .rule--fieldsrc,.query-builder.qb-lite .widget--valuesrc,.query-builder.qb-lite .rule--drag-handler,.query-builder.qb-lite .rule--header{transition:opacity .2s}.query-builder.qb-lite .rule:hover .rule .rule--fieldsrc,.query-builder.qb-lite .rule:hover .rule .widget--valuesrc,.query-builder.qb-lite .rule:hover .rule .rule--drag-handler,.query-builder.qb-lite .rule:hover .rule .rule--header,.query-builder.qb-lite .rule:not(:hover) .rule--fieldsrc,.query-builder.qb-lite .rule:not(:hover) .widget--valuesrc,.query-builder.qb-lite .rule:not(:hover) .rule--drag-handler,.query-builder.qb-lite .rule:not(:hover) .rule--header{opacity:0}.query-builder.qb-lite.qb-dragging .rule--fieldsrc,.query-builder.qb-lite.qb-dragging .widget--valuesrc,.query-builder.qb-lite.qb-dragging .rule--drag-handler,.query-builder.qb-lite.qb-dragging .rule--header,.query-builder.qb-lite.qb-dragging .group--drag-handler,.query-builder.qb-lite.qb-dragging .group--actions{opacity:0!important}.query-builder .MuiIconButton-sizeSmall{padding:3px}.customSelectOption{color:#f08080}.group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:transparent}.MuiAutocomplete-fullWidth{width:320px!important}.query-builder-container{padding:0!important}.query-builder{margin:0!important}.query-builder .group{background-color:transparent;border:0px solid #000}.query-builder .rule--header button{color:#6e6e6e}.logicField{color:#00f}.logicOp{font-weight:700}.logicValue{color:green}.condition-human-text{width:100%;white-space:pre-wrap}.query-builder-result{margin-top:9px;display:flex}.icon-container{display:flex;align-items:center}._relevance_1j5a5_1{display:inline-block}._relevanceError_1j5a5_5{background-color:rgba(255,0,0,.133)}._errorContainer_1j5a5_9{display:flex}._skipItem_1n8m2_1{margin-top:24px;margin-bottom:24px}._toEnd_1n8m2_6{display:flex;justify-content:space-between;width:100%;align-items:center;padding:4dp}._sectionTitle_nmfqz_1{font-size:16px;font-weight:700}._rightContent_nmfqz_6{width:100%;overflow-y:auto;background-color:#fff;height:calc(100vh - 64px)}._close_nmfqz_13{text-align:right}._accordionStyle_nmfqz_17._accordionStyle_nmfqz_17{box-shadow:none;border-bottom:1px solid #d7d7d7}._errorDisplay_1avr2_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._randomHeader_1pjix_1{display:flex;justify-content:space-between}._randomHeader_1pjix_1 ._title_1pjix_6{margin:0;line-height:40px}._randomHeader_1pjix_1 ._action_1pjix_11{float:right}._randomHeader_1pjix_1 ._settingIcon_1pjix_15{font-size:20px}._randomBody_1pjix_19 ._list_1pjix_19{padding-left:7px;margin-top:4px;list-style-type:"-"}._randomBody_1pjix_19 ._list_1pjix_19 li{line-height:24px;margin-bottom:6px}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._randomAction_1pjix_47{margin-top:15px;text-align:right;padding-right:4px}._listItem_1pjix_53{display:flex;align-items:center}._listItem_1pjix_53 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItem_1pjix_53 ._input_1pjix_64{width:50px}._listItemError_1pjix_68{color:red;display:flex;align-items:center}._listItemError_1pjix_68 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItemError_1pjix_68 ._input_1pjix_64{width:50px}._randomItem_1pjix_84{margin-bottom:10px;padding:8px}._highlighted_1pjix_89{border:2px solid;border-radius:4px}._title_5cg20_1{margin:0;line-height:40px}._randomBody_5cg20_6 ._list_5cg20_6{padding-left:0;margin:0 0 10px;list-style-type:"-"}._randomBody_5cg20_6 ._list_5cg20_6 li{padding-left:0;line-height:24px;margin-bottom:6px}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._label_5cg20_35{width:100%}._randomAction_5cg20_39{margin-top:15px;text-align:right;padding-right:4px}._listItem_5cg20_45{display:flex;align-items:center}._listItem_5cg20_45 ._input_5cg20_50{width:50px}._randomItem_5cg20_54{margin-top:10px;margin-bottom:10px;padding:8px}._selectValue_14l81_1{margin-bottom:20px!important}._errorDisplay_1vtlj_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._addNew_1vtlj_10{margin-top:8px}._title_1p7e9_1{margin:0;line-height:40px}._list_1p7e9_6{padding-left:7px;margin:0 0 10px;list-style-type:none}._list_1p7e9_6 li{line-height:24px;margin-bottom:6px;padding-left:0;margin-left:-12px}._randomAction_1p7e9_19{margin-top:15px;text-align:right;padding-right:4px}._listItem_1p7e9_25{display:flex;align-items:center}._listItem_1p7e9_25 ._input_1p7e9_30{width:50px}._randomItem_1p7e9_34{margin-top:10px;margin-bottom:10px;padding:8px}._randomHeader_10d2m_1{display:flex;justify-content:space-between}._randomHeader_10d2m_1 ._title_10d2m_6{margin:0;line-height:40px}._randomHeader_10d2m_1 ._action_10d2m_11{float:right}._randomHeader_10d2m_1 ._settingIcon_10d2m_15{font-size:20px}._list_10d2m_19{padding-left:7px;margin:0 0 10px;list-style-type:"-"}._list_10d2m_19 li{line-height:24px;margin-bottom:6px}._randomAction_10d2m_30{margin-top:15px;text-align:right;padding-right:4px}._listItem_10d2m_36{display:flex;align-items:center}._listItem_10d2m_36 ._label_10d2m_41{display:flex;align-items:center;width:100%}._listItem_10d2m_36 ._input_10d2m_47{width:50px}._listItemError_10d2m_51{color:red;display:flex;align-items:center}._listItemError_10d2m_51 ._label_10d2m_41{display:flex;align-items:center;width:100%}._randomItem_10d2m_63{margin-bottom:10px;padding:8px}._highlighted_10d2m_68{border:2px solid;border-radius:4px}._theming_1v217_1{padding:.25rem 1rem;display:flex;flex-direction:column;gap:1rem}._theming_1v217_1 hr{margin:25px 0 0}._chooseImage_1v217_12._chooseImage_1v217_12{padding:.2rem 10px;border-radius:8px;text-transform:none;color:#16205b;font-weight:500;align-items:center;border:1px solid #16205b}._resetButton_1v217_21._resetButton_1v217_21{padding:0}._fontText_1v217_24{font-size:14px}._selectDropdown_1v217_27._selectDropdown_1v217_27{color:#16205b;font-weight:600;border-radius:11px}._colorBox_1v217_33._colorBox_1v217_33{padding:.875rem;border-radius:8px;width:3rem;border:1px solid #16205b}._colorPickerContainer_1v217_40{position:absolute;z-index:2;right:0;top:30px;user-select:none;display:flex;flex-direction:column;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.08)}._themingItem_11qn9_1 h6{margin-top:15px;margin-bottom:10px}._themingItem_11qn9_1 ._themingItemBody_11qn9_6{display:flex}._themingItem_11qn9_1 ._themingItemBody_11qn9_6 div:nth-child(1){flex-grow:1}._selectDropdown_11qn9_13._selectDropdown_11qn9_13{color:#16205b;font-weight:600;border-radius:15px}\n/*$vite$:1*/',document.head.appendChild(mn);const yn=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return a$},get LOWER(){return o$},get NOW(){return r$},get RELATIVE_DATETIME(){return n$},get UPPER(){return i$}},Symbol.toStringTag,{value:"Module"}));function bn(e,t){if(null==e)return{};var r,n,o=f(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const _n=g({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var xn=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function wn(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(_n[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("--\x3e");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var o=new RegExp(xn),i=null;null!==(i=o.exec(e));)if(i[0].trim())if(i[1]){var a=i[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var On=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Sn=/^\s*$/,kn=Object.create(null);function jn(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(jn,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var En={parse:function(e,t){t||(t={}),t.components||(t.components=kn);var r,n=[],o=[],i=-1,a=!1;if(0!==e.indexOf("<")){var l=e.indexOf("<");n.push({type:"text",content:-1===l?e:e.substring(0,l)})}return e.replace(On,(function(l,s){if(a){if(l!=="</"+r.name+">")return;a=!1}var u,c="/"!==l.charAt(1),d=l.startsWith("\x3c!--"),p=s+l.length,f=e.charAt(p);if(d){var h=wn(l);return i<0?(n.push(h),n):((u=o[i]).children.push(h),n)}if(c&&(i++,"tag"===(r=wn(l)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!f||"<"===f||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===i&&n.push(r),(u=o[i-1])&&u.children.push(r),o[i]=r),(!c||r.voidElement)&&(i>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(i--,r=-1===i?n:o[i]),!a&&"<"!==f&&f)){u=-1===i?n:o[i].children;var g=e.indexOf("<",p),v=e.slice(p,-1===g?void 0:g);Sn.test(v)&&(v=" "),(g>-1&&i+u.length>=0||" "!==v)&&u.push({type:"text",content:v})}})),n},stringify:function(e){return e.reduce((function(e,t){return e+jn("",t)}),"")}},Cn=["format"],Tn=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function Ln(e){return e?e.props?e.props.children:e.children:[]}function Pn(e){return Array.isArray(e)?e:[e]}function Nn(e,t){if(!e)return"";var r="",n=Pn(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((function(e,n){if("string"==typeof e)r+="".concat(e);else if(v.isValidElement(e)){var i=Object.keys(e.props).length,a=o.indexOf(e.type)>-1,l=e.props.children;if(!l&&a&&0===i)r+="<".concat(e.type,"/>");else if(l||a&&0===i)if(e.props.i18nIsDynamicList)r+="<".concat(n,"></").concat(n,">");else if(a&&1===i&&"string"==typeof l)r+="<".concat(e.type,">").concat(l,"</").concat(e.type,">");else{var s=Nn(l,t);r+="<".concat(n,">").concat(s,"</").concat(n,">")}else r+="<".concat(n,"></").concat(n,">")}else if(null===e)_e("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===_(e)){var u=e.format,c=bn(e,Cn),d=Object.keys(c);if(1===d.length){var p=u?"".concat(d[0],", ").concat(u):d[0];r+="{{".concat(p,"}}")}else _e("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else _e("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}function Fn(e,t,r,n,o,i){if(""===t)return[];var a=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(a.join("|")).test(t);if(!e&&!l)return[t];var s={};!function e(t){Pn(t).forEach((function(t){"string"!=typeof t&&(An(t)?e(Ln(t)):"object"!==_(t)||v.isValidElement(t)||Object.assign(s,t))}))}(e);var u=En.parse("<0>".concat(t,"</0>")),c=In(In({},s),o);function d(e,t,r){var n=Ln(e),o=f(n,t.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return v.isValidElement(e)}))}(n)&&0===o.length?n:o}function p(e,t,r,n,o){e.dummy&&(e.children=t),r.push(v.cloneElement(e,In(In({},e.props),{},{key:n}),o?void 0:t))}function f(t,o,s){var u=Pn(t);return Pn(o).reduce((function(t,o,h){var g,m,y,b=o.children&&o.children[0]&&o.children[0].content&&r.services.interpolator.interpolate(o.children[0].content,c,r.language);if("tag"===o.type){var x=u[parseInt(o.name,10)];!x&&1===s.length&&s[0][o.name]&&(x=s[0][o.name]),x||(x={});var w=0!==Object.keys(o.attrs).length?(g={props:o.attrs},(y=In({},m=x)).props=Object.assign(g.props,m.props),y):x,O=v.isValidElement(w),S=O&&An(o,!0)&&!o.voidElement,k=l&&"object"===_(w)&&w.dummy&&!O,j="object"===_(e)&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof w){var E=r.services.interpolator.interpolate(w,c,r.language);t.push(E)}else if(An(w)||S){p(w,d(w,o,s),t,h)}else if(k){var C=f(u,o.children,s);t.push(v.cloneElement(w,In(In({},w.props),{},{key:h}),C))}else if(Number.isNaN(parseFloat(o.name))){if(j)p(w,d(w,o,s),t,h,o.voidElement);else if(n.transSupportBasicHtmlNodes&&a.indexOf(o.name)>-1)if(o.voidElement)t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)}));else{var T=f(u,o.children,s);t.push(v.createElement(o.name,{key:"".concat(o.name,"-").concat(h)},T))}else if(o.voidElement)t.push("<".concat(o.name," />"));else{var q=f(u,o.children,s);t.push("<".concat(o.name,">").concat(q,"</").concat(o.name,">"))}}else if("object"!==_(w)||O)1===o.children.length&&b?t.push(v.cloneElement(w,In(In({},w.props),{},{key:h}),b)):t.push(v.cloneElement(w,In(In({},w.props),{},{key:h})));else{var I=o.children[0]?b:null;I&&t.push(I)}}else if("text"===o.type){var A=n.transWrapTextNodes,L=i?n.unescape(r.services.interpolator.interpolate(o.content,c,r.language)):r.services.interpolator.interpolate(o.content,c,r.language);A?t.push(v.createElement(A,{key:"".concat(o.name,"-").concat(h)},L)):t.push(L)}return t}),[])}return Ln(f([{dummy:!0,children:e||[]}],u,Pn(e||[]))[0])}function Rn(e){var t=e.children,r=e.count,n=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,l=void 0===a?{}:a,s=e.values,u=e.defaults,c=e.components,d=e.ns,p=e.i18n,f=e.t,h=e.shouldUnescape,g=bn(e,Tn),b=v.useContext(m)||{},_=b.i18n,w=b.defaultNS,O=p||_||x();if(!O)return be("You will need to pass in an i18next instance by using i18nextReactModule"),t;var S=f||O.t.bind(O)||function(e){return e};i&&(l.context=i);var k=In(In({},y()),O.options&&O.options.react),j=d||S.ns||w||O.options&&O.options.defaultNS;j="string"==typeof j?[j]:j||["translation"];var E=u||Nn(t,k)||k.transEmptyNodeValue||o,C=k.hashTransKey,T=o||(C?C(E):E),q=s?l.interpolation:{interpolation:In(In({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},I=In(In(In(In({},l),{},{count:r},s),q),{},{defaultValue:E,ns:j}),A=Fn(c||t,T?S(T,I):E,O,k,I,h),L=void 0!==n?n:k.defaultTransParent;return L?v.createElement(L,g,A):A}const Mn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Dn(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Vn(e={}){const t=e.ignoreAccents,r=void 0===t||t,n=e.ignoreCase,o=void 0===n||n,i=e.limit,a=e.matchFrom,l=void 0===a?"any":a,s=e.stringify,u=e.trim,c=void 0!==u&&u;return(e,{inputValue:t,getOptionLabel:n})=>{let a=c?t.trim():t;o&&(a=a.toLowerCase()),r&&(a=Dn(a));const u=a?e.filter((e=>{let t=(s||n)(e);return o&&(t=t.toLowerCase()),r&&(t=Dn(t)),"start"===l?0===t.indexOf(a):t.indexOf(a)>-1})):e;return"number"==typeof i?u.slice(0,i):u}}function zn(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const Bn=Vn(),Hn=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function $n(e){const t=e.unstable_isActiveElementInListbox,r=void 0===t?Hn:t,n=e.unstable_classNamePrefix,o=void 0===n?"Mui":n,i=e.autoComplete,a=void 0!==i&&i,l=e.autoHighlight,s=void 0!==l&&l,u=e.autoSelect,c=void 0!==u&&u,d=e.blurOnSelect,p=void 0!==d&&d,f=e.clearOnBlur,g=void 0===f?!e.freeSolo:f,m=e.clearOnEscape,y=void 0!==m&&m,b=e.componentName,_=void 0===b?"useAutocomplete":b,x=e.defaultValue,O=void 0===x?e.multiple?[]:null:x,S=e.disableClearable,k=void 0!==S&&S,j=e.disableCloseOnSelect,E=void 0!==j&&j,C=e.disabled,T=e.disabledItemsFocusable,q=void 0!==T&&T,I=e.disableListWrap,A=void 0!==I&&I,L=e.filterOptions,P=void 0===L?Bn:L,N=e.filterSelectedOptions,F=void 0!==N&&N,R=e.freeSolo,M=void 0!==R&&R,D=e.getOptionDisabled,V=e.getOptionKey,z=e.getOptionLabel,B=void 0===z?e=>{var t;return null!=(t=e.label)?t:e}:z,H=e.groupBy,$=e.handleHomeEndKeys,U=void 0===$?!e.freeSolo:$,W=e.id,K=e.includeInputInList,G=void 0!==K&&K,Y=e.inputValue,J=e.isOptionEqualToValue,Q=void 0===J?(e,t)=>e===t:J,X=e.multiple,Z=void 0!==X&&X,ee=e.onChange,te=e.onClose,re=e.onHighlightChange,ne=e.onInputChange,oe=e.onOpen,ie=e.open,ae=e.openOnFocus,le=void 0!==ae&&ae,se=e.options,ue=e.readOnly,ce=void 0!==ue&&ue,de=e.selectOnFocus,pe=void 0===de?!e.freeSolo:de,fe=e.value,he=xe(W);let ge=B;ge=e=>{const t=B(e);return"string"!=typeof t?String(t):t};const ve=v.useRef(!1),me=v.useRef(!0),ye=v.useRef(null),be=v.useRef(null),_e=h(v.useState(null),2),ke=_e[0],je=_e[1],Ee=h(v.useState(-1),2),Ce=Ee[0],Te=Ee[1],qe=s?0:-1,Ie=v.useRef(qe),Ae=h(we({controlled:fe,default:O,name:_}),2),Le=Ae[0],Pe=Ae[1],Ne=h(we({controlled:Y,default:"",name:_,state:"inputValue"}),2),Fe=Ne[0],Re=Ne[1],Me=h(v.useState(!1),2),De=Me[0],Ve=Me[1],ze=v.useCallback(((e,t)=>{if(!(Z?Le.length<t.length:null!==t)&&!g)return;let r;if(Z)r="";else if(null==t)r="";else{const e=ge(t);r="string"==typeof e?e:""}Fe!==r&&(Re(r),ne&&ne(e,r,"reset"))}),[ge,Fe,Z,ne,Re,g,Le]),Be=h(we({controlled:ie,default:!1,name:_,state:"open"}),2),He=Be[0],$e=Be[1],Ue=h(v.useState(!0),2),We=Ue[0],Ke=Ue[1],Ge=!Z&&null!=Le&&Fe===ge(Le),Ye=He&&!ce,Je=Ye?P(se.filter((e=>!F||!(Z?Le:[Le]).some((t=>null!==t&&Q(e,t))))),{inputValue:Ge&&We?"":Fe,getOptionLabel:ge}):[],Qe=qr({filteredOptions:Je,value:Le,inputValue:Fe});v.useEffect((()=>{const e=Le!==Qe.value;De&&!e||M&&!e||ze(null,Le)}),[Le,ze,De,Qe.value,M]);const Xe=He&&Je.length>0&&!ce,Ze=Oe((e=>{-1===e?ye.current.focus():ke.querySelector(`[data-tag-index="${e}"]`).focus()}));v.useEffect((()=>{Z&&Ce>Le.length-1&&(Te(-1),Ze(-1))}),[Le,Z,Ce,Ze]);const et=Oe((({event:e,index:t,reason:r="auto"})=>{if(Ie.current=t,-1===t?ye.current.removeAttribute("aria-activedescendant"):ye.current.setAttribute("aria-activedescendant",`${he}-option-${t}`),re&&re(e,-1===t?null:Je[t],r),!be.current)return;const n=be.current.querySelector(`[role="option"].${o}-focused`);n&&(n.classList.remove(`${o}-focused`),n.classList.remove(`${o}-focusVisible`));let i=be.current;if("listbox"!==be.current.getAttribute("role")&&(i=be.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===t)return void(i.scrollTop=0);const a=be.current.querySelector(`[data-option-index="${t}"]`);if(a&&(a.classList.add(`${o}-focused`),"keyboard"===r&&a.classList.add(`${o}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=i.clientHeight+i.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?i.scrollTop=r-i.clientHeight:e.offsetTop-e.offsetHeight*(H?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(H?1.3:0))}})),tt=Oe((({event:e,diff:t,direction:r="next",reason:n="auto"})=>{if(!Ye)return;const o=function(e,t){if(!be.current||e<0||e>=Je.length)return-1;let r=e;for(;;){const n=be.current.querySelector(`[data-option-index="${r}"]`),o=!q&&(!n||n.disabled||"true"===n.getAttribute("aria-disabled"));if(n&&n.hasAttribute("tabindex")&&!o)return r;if(r="next"===t?(r+1)%Je.length:(r-1+Je.length)%Je.length,r===e)return-1}}((()=>{const e=Je.length-1;if("reset"===t)return qe;if("start"===t)return 0;if("end"===t)return e;const r=Ie.current+t;return r<0?-1===r&&G?-1:A&&-1!==Ie.current||Math.abs(t)>1?0:e:r>e?r===e+1&&G?-1:A||Math.abs(t)>1?e:0:r})(),r);if(et({index:o,reason:n,event:e}),a&&"reset"!==t)if(-1===o)ye.current.value=Fe;else{const e=ge(Je[o]);ye.current.value=e;0===e.toLowerCase().indexOf(Fe.toLowerCase())&&Fe.length>0&&ye.current.setSelectionRange(Fe.length,e.length)}})),rt=v.useCallback((()=>{if(!Ye)return;const e=(()=>{if(-1!==Ie.current&&Qe.filteredOptions&&Qe.filteredOptions.length!==Je.length&&Qe.inputValue===Fe&&(Z?Le.length===Qe.value.length&&Qe.value.every(((e,t)=>ge(Le[t])===ge(e))):(e=Qe.value,t=Le,(e?ge(e):"")===(t?ge(t):"")))){const e=Qe.filteredOptions[Ie.current];if(e)return zn(Je,(t=>ge(t)===ge(e)))}var e,t;return-1})();if(-1!==e)return void(Ie.current=e);const t=Z?Le[0]:Le;if(0!==Je.length&&null!=t){if(be.current)if(null==t)Ie.current>=Je.length-1?et({index:Je.length-1}):et({index:Ie.current});else{const e=Je[Ie.current];if(Z&&e&&-1!==zn(Le,(t=>Q(e,t))))return;const r=zn(Je,(e=>Q(e,t)));-1===r?tt({diff:"reset"}):et({index:r})}}else tt({diff:"reset"})}),[Je.length,!Z&&Le,F,tt,et,Ye,Fe,Z]),nt=Oe((e=>{Se(be,e),e&&rt()}));v.useEffect((()=>{rt()}),[rt]);const ot=e=>{He||($e(!0),Ke(!0),oe&&oe(e))},it=(e,t)=>{He&&($e(!1),te&&te(e,t))},at=(e,t,r,n)=>{if(Z){if(Le.length===t.length&&Le.every(((e,r)=>e===t[r])))return}else if(Le===t)return;ee&&ee(e,t,r,n),Pe(t)},lt=v.useRef(!1),st=(e,t,r="selectOption",n="options")=>{let o=r,i=t;if(Z){i=Array.isArray(Le)?Le.slice():[];const e=zn(i,(e=>Q(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),o="removeOption")}ze(e,i),at(e,i,o,{option:t}),E||e&&(e.ctrlKey||e.metaKey)||it(e,o),(!0===p||"touch"===p&&lt.current||"mouse"===p&&!lt.current)&&ye.current.blur()};const ut=(e,t)=>{if(!Z)return;""===Fe&&it(e,"toggleInput");let r=Ce;-1===Ce?""===Fe&&"previous"===t&&(r=Le.length-1):(r+="next"===t?1:-1,r<0&&(r=0),r===Le.length&&(r=-1)),r=function(e,t){if(-1===e)return-1;let r=e;for(;;){if("next"===t&&r===Le.length||"previous"===t&&-1===r)return-1;const e=ke.querySelector(`[data-tag-index="${r}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return r;r+="next"===t?1:-1}}(r,t),Te(r),Ze(r)},ct=e=>{ve.current=!0,Re(""),ne&&ne(e,"","clear"),at(e,Z?[]:null,"clear")},dt=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ce&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Te(-1),Ze(-1)),229!==t.which))switch(t.key){case"Home":Ye&&U&&(t.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ye&&U&&(t.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),tt({diff:-5,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"PageDown":t.preventDefault(),tt({diff:5,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowDown":t.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowUp":t.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"ArrowLeft":ut(t,"previous");break;case"ArrowRight":ut(t,"next");break;case"Enter":if(-1!==Ie.current&&Ye){const e=Je[Ie.current],r=!!D&&D(e);if(t.preventDefault(),r)return;st(t,e,"selectOption"),a&&ye.current.setSelectionRange(ye.current.value.length,ye.current.value.length)}else M&&""!==Fe&&!1===Ge&&(Z&&t.preventDefault(),st(t,Fe,"createOption","freeSolo"));break;case"Escape":Ye?(t.preventDefault(),t.stopPropagation(),it(t,"escape")):y&&(""!==Fe||Z&&Le.length>0)&&(t.preventDefault(),t.stopPropagation(),ct(t));break;case"Backspace":if(Z&&!ce&&""===Fe&&Le.length>0){const e=-1===Ce?Le.length-1:Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}break;case"Delete":if(Z&&!ce&&""===Fe&&Le.length>0&&-1!==Ce){const e=Ce,r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})}}},pt=e=>{Ve(!0),le&&!ve.current&&ot(e)},ft=e=>{r(be)?ye.current.focus():(Ve(!1),me.current=!0,ve.current=!1,c&&-1!==Ie.current&&Ye?st(e,Je[Ie.current],"blur"):c&&M&&""!==Fe?st(e,Fe,"blur","freeSolo"):g&&ze(e,Le),it(e,"blur"))},ht=e=>{const t=e.target.value;Fe!==t&&(Re(t),Ke(!1),ne&&ne(e,t,"input")),""===t?k||Z||at(e,null,"clear"):ot(e)},gt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ie.current!==t&&et({event:e,index:t,reason:"mouse"})},vt=e=>{et({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),lt.current=!0},mt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));st(e,Je[t],"selectOption"),lt.current=!1},yt=e=>t=>{const r=Le.slice();r.splice(e,1),at(t,r,"removeOption",{option:Le[e]})},bt=e=>{He?it(e,"toggleInput"):ot(e)},_t=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==he&&e.preventDefault()},xt=e=>{e.currentTarget.contains(e.target)&&(ye.current.focus(),pe&&me.current&&ye.current.selectionEnd-ye.current.selectionStart==0&&ye.current.select(),me.current=!1)},wt=e=>{C||""!==Fe&&He||bt(e)};let Ot=M&&Fe.length>0;Ot=Ot||(Z?Le.length>0:null!==Le);let St=Je;return H&&(St=Je.reduce(((e,t,r)=>{const n=H(t);return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])),C&&De&&ft(),{getRootProps:(e={})=>w({"aria-owns":Xe?`${he}-listbox`:null},e,{onKeyDown:dt(e),onMouseDown:_t,onClick:xt}),getInputLabelProps:()=>({id:`${he}-label`,htmlFor:he}),getInputProps:()=>({id:he,value:Fe,onBlur:ft,onFocus:pt,onChange:ht,onMouseDown:wt,"aria-activedescendant":Ye?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Xe?`${he}-listbox`:void 0,"aria-expanded":Xe,autoComplete:"off",ref:ye,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ct}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:bt}),getTagProps:({index:e})=>w({key:e,"data-tag-index":e,tabIndex:-1},!ce&&{onDelete:yt(e)}),getListboxProps:()=>({role:"listbox",id:`${he}-listbox`,"aria-labelledby":`${he}-label`,ref:nt,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var r;const n=(Z?Le:[Le]).some((e=>null!=e&&Q(t,e))),o=!!D&&D(t);return{key:null!=(r=null==V?void 0:V(t))?r:ge(t),tabIndex:-1,role:"option",id:`${he}-option-${e}`,onMouseMove:gt,onClick:mt,onTouchStart:vt,"data-option-index":e,"aria-disabled":o,"aria-selected":n}},id:he,inputValue:Fe,value:Le,dirty:Ot,expanded:Ye&&ke,popupOpen:Ye,focused:De||-1!==Ce,anchorEl:ke,setAnchorEl:je,focusedTag:Ce,groupedOptions:St}}function Un(e){return O("MuiListSubheader",e)}S("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Wn=["className","color","component","disableGutters","disableSticky","inset"],Kn=ke("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"default"!==r.color&&t[`color${k(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>w({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),Gn=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiListSubheader"}),n=r.className,o=r.color,i=void 0===o?"default":o,a=r.component,l=void 0===a?"li":a,s=r.disableGutters,u=void 0!==s&&s,c=r.disableSticky,d=void 0!==c&&c,p=r.inset,h=void 0!==p&&p,g=f(r,Wn),v=w({},r,{color:i,component:l,disableGutters:u,disableSticky:d,inset:h}),m=(e=>{const t=e.classes,r=e.color,n=e.disableGutters,o=e.inset,i=e.disableSticky,a={root:["root","default"!==r&&`color${k(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return Ee(a,Un,t)})(v);return j.jsx(Kn,w({as:l,className:E(m.root,n),ref:t,ownerState:v},g))}));var Yn,Jn;Gn.muiSkipListHighlight=!0;const Qn=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Xn=["ref"],Zn=["key"],eo=["key"],to=ke("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState,n=r.fullWidth,o=r.hasClearIcon,i=r.hasPopupIcon,a=r.inputFocused,l=r.size;return[{[`& .${Z.tag}`]:t.tag},{[`& .${Z.tag}`]:t[`tagSize${k(l)}`]},{[`& .${Z.inputRoot}`]:t.inputRoot},{[`& .${Z.input}`]:t.input},{[`& .${Z.input}`]:a&&t.inputFocused},t.root,n&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${Z.focused} .${Z.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Z.clearIndicator}`]:{visibility:"visible"}},[`& .${Z.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Z.inputRoot}`]:{[`.${Z.hasPopupIcon}&, .${Z.hasClearIcon}&`]:{paddingRight:30},[`.${Z.hasPopupIcon}.${Z.hasClearIcon}&`]:{paddingRight:56},[`& .${Z.input}`]:{width:0,minWidth:30}},[`& .${Ce.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ce.root}.${Te.sizeSmall}`]:{[`& .${Ce.input}`]:{padding:"2px 4px 3px 0"}},[`& .${qe.root}`]:{padding:9,[`.${Z.hasPopupIcon}&, .${Z.hasClearIcon}&`]:{paddingRight:39},[`.${Z.hasPopupIcon}.${Z.hasClearIcon}&`]:{paddingRight:65},[`& .${Z.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Z.endAdornment}`]:{right:9}},[`& .${qe.root}.${Te.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Z.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ie.root}`]:{paddingTop:19,paddingLeft:8,[`.${Z.hasPopupIcon}&, .${Z.hasClearIcon}&`]:{paddingRight:39},[`.${Z.hasPopupIcon}.${Z.hasClearIcon}&`]:{paddingRight:65},[`& .${Ie.input}`]:{padding:"7px 4px"},[`& .${Z.endAdornment}`]:{right:9}},[`& .${Ie.root}.${Te.sizeSmall}`]:{paddingBottom:1,[`& .${Ie.input}`]:{padding:"2.5px 4px"}},[`& .${Te.hiddenLabel}`]:{paddingTop:8},[`& .${Ie.root}.${Te.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Z.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ie.root}.${Te.hiddenLabel}.${Te.sizeSmall}`]:{[`& .${Z.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Z.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Z.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Z.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Z.inputRoot}`]:{flexWrap:"wrap"}}}]}),ro=ke("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),no=ke(Ae,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),oo=ke(Ae,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>w({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),io=ke(Jr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Z.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})((({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ao=ke(Le,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>w({},e.typography.body1,{overflow:"auto"}))),lo=ke("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),so=ke("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),uo=ke("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Z.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Z.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Z.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Z.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),co=ke(Gn,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),po=ke("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Z.option}`]:{paddingLeft:24}}),fo=v.forwardRef((function(e,t){var r,n,o,i;const a=je({props:e,name:"MuiAutocomplete"}),l=(a.autoComplete,a.autoHighlight,a.autoSelect,a.blurOnSelect,a.ChipProps),s=a.className,u=a.clearIcon,c=void 0===u?Yn||(Yn=j.jsx(ee,{fontSize:"small"})):u,d=a.clearOnBlur,p=(void 0===d&&a.freeSolo,a.clearOnEscape,a.clearText),h=void 0===p?"Clear":p,g=a.closeText,m=void 0===g?"Close":g,y=a.componentsProps,b=void 0===y?{}:y,_=a.defaultValue,x=(void 0===_&&a.multiple,a.disableClearable),O=void 0!==x&&x,S=(a.disableCloseOnSelect,a.disabled),C=void 0!==S&&S,T=(a.disabledItemsFocusable,a.disableListWrap,a.disablePortal),q=void 0!==T&&T,I=(a.filterSelectedOptions,a.forcePopupIcon),A=void 0===I?"auto":I,L=a.freeSolo,P=void 0!==L&&L,N=a.fullWidth,F=void 0!==N&&N,R=a.getLimitTagsText,M=void 0===R?e=>`+${e}`:R,D=a.getOptionLabel,V=a.groupBy,z=a.handleHomeEndKeys,B=(void 0===z&&a.freeSolo,a.includeInputInList,a.limitTags),H=void 0===B?-1:B,$=a.ListboxComponent,U=void 0===$?"ul":$,W=a.ListboxProps,K=a.loading,G=void 0!==K&&K,Y=a.loadingText,J=void 0===Y?"Loading…":Y,Q=a.multiple,X=void 0!==Q&&Q,Z=a.noOptionsText,ne=void 0===Z?"No options":Z,oe=(a.openOnFocus,a.openText),ie=void 0===oe?"Open":oe,ae=a.PaperComponent,le=void 0===ae?Le:ae,se=a.PopperComponent,ue=void 0===se?Jr:se,ce=a.popupIcon,de=void 0===ce?Jn||(Jn=j.jsx(Pe,{})):ce,pe=a.readOnly,fe=void 0!==pe&&pe,he=a.renderGroup,ge=a.renderInput,ve=a.renderOption,me=a.renderTags,ye=a.selectOnFocus,be=(void 0===ye&&a.freeSolo,a.size),_e=void 0===be?"medium":be,xe=a.slotProps,we=void 0===xe?{}:xe,Oe=f(a,Qn),Se=$n(w({},a,{componentName:"Autocomplete"})),ke=Se.getRootProps,Ce=Se.getInputProps,Te=Se.getInputLabelProps,qe=Se.getPopupIndicatorProps,Ie=Se.getClearProps,Ae=Se.getTagProps,Fe=Se.getListboxProps,Re=Se.getOptionProps,Me=Se.value,De=Se.dirty,Ve=Se.expanded,ze=Se.id,Be=Se.popupOpen,He=Se.focused,$e=Se.focusedTag,Ue=Se.anchorEl,We=Se.setAnchorEl,Ke=Se.inputValue,Ge=Se.groupedOptions,Ye=!O&&!C&&De&&!fe,Je=(!P||!0===A)&&!1!==A,Qe=Ce().onMouseDown,Xe=(null!=W?W:{}).ref,Ze=Fe(),et=Ze.ref,tt=f(Ze,Xn),rt=Ne(et,Xe),nt=D||(e=>{var t;return null!=(t=e.label)?t:e}),ot=w({},a,{disablePortal:q,expanded:Ve,focused:He,fullWidth:F,getOptionLabel:nt,hasClearIcon:Ye,hasPopupIcon:Je,inputFocused:-1===$e,popupOpen:Be,size:_e}),it=(e=>{const t=e.classes,r=e.disablePortal,n=e.expanded,o=e.focused,i=e.fullWidth,a=e.hasClearIcon,l=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,c=e.size,d={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${k(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ee(d,re,t)})(ot);let at;if(X&&Me.length>0){const e=e=>w({className:it.tag,disabled:C},Ae(e));at=me?me(Me,e,ot):Me.map(((t,r)=>{const n=e({index:r}),o=n.key,i=f(n,Zn);return j.jsx(te,w({label:nt(t),size:_e},i,l),o)}))}if(H>-1&&Array.isArray(at)){const e=at.length-H;!He&&e>0&&(at=at.splice(0,H),at.push(j.jsx("span",{className:it.tag,children:M(e)},at.length)))}const lt=he||(e=>j.jsxs("li",{children:[j.jsx(co,{className:it.groupLabel,ownerState:ot,component:"div",children:e.group}),j.jsx(po,{className:it.groupUl,ownerState:ot,children:e.children})]},e.key)),st=ve||((e,t)=>{const r=e.key,n=f(e,eo);return j.jsx("li",w({},n,{children:nt(t)}),r)}),ut=(e,t)=>{const r=Re({option:e,index:t});return st(w({},r,{className:it.option}),e,{selected:r["aria-selected"],index:t,inputValue:Ke},ot)},ct=null!=(r=we.clearIndicator)?r:b.clearIndicator,dt=null!=(n=we.paper)?n:b.paper,pt=null!=(o=we.popper)?o:b.popper,ft=null!=(i=we.popupIndicator)?i:b.popupIndicator,ht=e=>j.jsx(io,w({as:ue,disablePortal:q,style:{width:Ue?Ue.clientWidth:null},ownerState:ot,role:"presentation",anchorEl:Ue,open:Be},pt,{className:E(it.popper,null==pt?void 0:pt.className),children:j.jsx(ao,w({ownerState:ot,as:le},dt,{className:E(it.paper,null==dt?void 0:dt.className),children:e}))}));let gt=null;return Ge.length>0?gt=ht(j.jsx(uo,w({as:U,className:it.listbox,ownerState:ot},tt,W,{ref:rt,children:Ge.map(((e,t)=>V?lt({key:e.key,group:e.group,children:e.options.map(((t,r)=>ut(t,e.index+r)))}):ut(e,t)))}))):G&&0===Ge.length?gt=ht(j.jsx(lo,{className:it.loading,ownerState:ot,children:J})):0!==Ge.length||P||G||(gt=ht(j.jsx(so,{className:it.noOptions,ownerState:ot,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:ne}))),j.jsxs(v.Fragment,{children:[j.jsx(to,w({ref:t,className:E(it.root,s),ownerState:ot},ke(Oe),{children:ge({id:ze,disabled:C,fullWidth:!0,size:"small"===_e?"small":void 0,InputLabelProps:Te(),InputProps:w({ref:We,className:it.inputRoot,startAdornment:at,onClick:e=>{e.target===e.currentTarget&&Qe(e)}},(Ye||Je)&&{endAdornment:j.jsxs(ro,{className:it.endAdornment,ownerState:ot,children:[Ye?j.jsx(no,w({},Ie(),{"aria-label":h,title:h,ownerState:ot},ct,{className:E(it.clearIndicator,null==ct?void 0:ct.className),children:c})):null,Je?j.jsx(oo,w({},qe(),{disabled:C,"aria-label":Be?m:ie,title:Be?m:ie,ownerState:ot},ft,{className:E(it.popupIndicator,null==ft?void 0:ft.className),children:de})):null]})}),inputProps:w({className:it.input,disabled:C,readOnly:fe},Ce())})})),Ue?gt:null]})})),ho=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],go=ke("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${ne.grouped}`]:t.grouped},{[`& .${ne.grouped}`]:t[`grouped${k(r.orientation)}`]},{[`& .${ne.grouped}`]:t[`grouped${k(r.variant)}`]},{[`& .${ne.grouped}`]:t[`grouped${k(r.variant)}${k(r.orientation)}`]},{[`& .${ne.grouped}`]:t[`grouped${k(r.variant)}${k(r.color)}`]},{[`& .${ne.firstButton}`]:t.firstButton},{[`& .${ne.lastButton}`]:t.lastButton},{[`& .${ne.middleButton}`]:t.middleButton},t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>w({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${ne.grouped}`]:w({minWidth:40,"&:hover":w({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${ne.firstButton},& .${ne.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${ne.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${ne.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:C(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ne.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ne.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":w({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${ne.lastButton},& .${ne.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})}))),vo=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiButtonGroup"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"primary":i,l=r.component,s=void 0===l?"div":l,u=r.disabled,c=void 0!==u&&u,d=r.disableElevation,p=void 0!==d&&d,h=r.disableFocusRipple,g=void 0!==h&&h,m=r.disableRipple,y=void 0!==m&&m,b=r.fullWidth,_=void 0!==b&&b,x=r.orientation,O=void 0===x?"horizontal":x,S=r.size,C=void 0===S?"medium":S,T=r.variant,q=void 0===T?"outlined":T,I=f(r,ho),A=w({},r,{color:a,component:s,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,orientation:O,size:C,variant:q}),L=(e=>{const t=e.classes,r=e.color,n=e.disabled,o=e.disableElevation,i=e.fullWidth,a=e.orientation,l=e.variant,s={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${k(a)}`,`grouped${k(l)}`,`grouped${k(l)}${k(a)}`,`grouped${k(l)}${k(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ee(s,oe,t)})(A),P=v.useMemo((()=>({className:L.grouped,color:a,disabled:c,disableElevation:p,disableFocusRipple:g,disableRipple:y,fullWidth:_,size:C,variant:q})),[a,c,p,g,y,_,C,q,L.grouped]),N=function(e){return v.Children.toArray(e).filter((e=>v.isValidElement(e)))}(n),F=N.length,R=e=>{const t=0===e,r=e===F-1;return t&&r?"":t?L.firstButton:r?L.lastButton:L.middleButton};return j.jsx(go,w({as:s,role:"group",className:E(L.root,o),ref:t,ownerState:A},I,{children:j.jsx(Fe.Provider,{value:P,children:N.map(((e,t)=>j.jsx(Re.Provider,{value:R(t),children:e},t)))})}))}));function mo(e){return O("MuiDialogContentText",e)}S("MuiDialogContentText",["root"]);const yo=["children","className"],bo=ke(Me,{shouldForwardProp:e=>De(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_o=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiDialogContentText"}),n=r.className,o=f(r,yo),i=(e=>{const t=e.classes,r=Ee({root:["root"]},mo,t);return w({},t,r)})(o);return j.jsx(bo,w({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:E(i.root,n)},r,{classes:i}))})),xo=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],wo=ke(Ve,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>De(e)||"classes"===e,overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[r.variant],t[`size${k(r.size)}`],"inherit"===r.color&&t.colorInherit,t[k(r.size)],t[r.color]]}})((({theme:e,ownerState:t})=>{var r,n;return w({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(n=e.palette).getContrastText)?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${ie.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>w({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${ie.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),Oo=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiFab"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"default":i,l=r.component,s=void 0===l?"button":l,u=r.disabled,c=void 0!==u&&u,d=r.disableFocusRipple,p=void 0!==d&&d,h=r.focusVisibleClassName,g=r.size,v=void 0===g?"large":g,m=r.variant,y=void 0===m?"circular":m,b=f(r,xo),_=w({},r,{color:a,component:s,disabled:c,disableFocusRipple:p,size:v,variant:y}),x=(e=>{const t=e.color,r=e.variant,n=e.classes,o=e.size,i={root:["root",r,`size${k(o)}`,"inherit"===t?"colorInherit":t]},a=Ee(i,ae,n);return w({},n,a)})(_);return j.jsx(wo,w({className:E(x.root,o),component:s,disabled:c,focusRipple:!p,focusVisibleClassName:E(x.focusVisible,h),ownerState:_,ref:t},b,{classes:x,children:n}))}));function So(e){return O("MuiIcon",e)}S("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ko=["baseClassName","className","color","component","fontSize"],jo=ke("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"inherit"!==r.color&&t[`color${k(r.color)}`],t[`fontSize${k(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]}))),Eo=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiIcon"}),n=r.baseClassName,o=void 0===n?"material-icons":n,i=r.className,a=r.color,l=void 0===a?"inherit":a,s=r.component,u=void 0===s?"span":s,c=r.fontSize,d=void 0===c?"medium":c,p=f(r,ko),h=w({},r,{baseClassName:o,color:l,component:u,fontSize:d}),g=(e=>{const t=e.color,r=e.fontSize,n=e.classes,o={root:["root","inherit"!==t&&`color${k(t)}`,`fontSize${k(r)}`]};return Ee(o,So,n)})(h);return j.jsx(jo,w({as:u,className:E(o,"notranslate",g.root,i),ownerState:h,"aria-hidden":!0,ref:t},p))}));Eo.muiName="Icon";const Co=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],To=ke("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${ze.primary}`]:t.primary},{[`& .${ze.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((({ownerState:e})=>w({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),qo=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiListItemText"}),n=r.children,o=r.className,i=r.disableTypography,a=void 0!==i&&i,l=r.inset,s=void 0!==l&&l,u=r.primary,c=r.primaryTypographyProps,d=r.secondary,p=r.secondaryTypographyProps,h=f(r,Co),g=v.useContext(Be).dense;let m=null!=u?u:n,y=d;const b=w({},r,{disableTypography:a,inset:s,primary:!!m,secondary:!!y,dense:g}),_=(e=>{const t=e.classes,r=e.inset,n=e.primary,o=e.secondary,i=e.dense;return Ee({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},He,t)})(b);return null==m||m.type===Me||a||(m=j.jsx(Me,w({variant:g?"body2":"body1",className:_.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:m}))),null==y||y.type===Me||a||(y=j.jsx(Me,w({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:y}))),j.jsxs(To,w({className:E(_.root,o),ownerState:b,ref:t},h,{children:[m,y]}))}));function Io(e,t){return e-t}function Ao(e,t){var r;const n=null!=(r=e.reduce(((e,r,n)=>{const o=Math.abs(t-r);return null===e||o<e.distance||o===e.distance?{distance:o,index:n}:e}),null))?r:{};return n.index}function Lo(e,t){if(void 0!==t.current&&e.changedTouches){const r=e;for(let e=0;e<r.changedTouches.length;e+=1){const n=r.changedTouches[e];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Po(e,t,r){return 100*(e-t)/(r-t)}function No(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function Fo({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(Io)}function Ro({sliderRef:e,activeIndex:t,setActive:r}){var n,o;const i=We(e.current);var a;null!=(n=e.current)&&n.contains(i.activeElement)&&Number(null==i||null==(o=i.activeElement)?void 0:o.getAttribute("data-index"))===t||(null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus());r&&r(t)}function Mo(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&function(e,t,r=((e,t)=>e===t)){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}(e,t)}const Do={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Vo=e=>e;let zo;function Bo(){return void 0===zo&&(zo="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),zo}function Ho(e){const t=e["aria-labelledby"],r=e.defaultValue,n=e.disabled,o=void 0!==n&&n,i=e.disableSwap,a=void 0!==i&&i,l=e.isRtl,s=void 0!==l&&l,u=e.marks,c=void 0!==u&&u,d=e.max,p=void 0===d?100:d,f=e.min,g=void 0===f?0:f,m=e.name,y=e.onChange,b=e.onChangeCommitted,_=e.orientation,x=void 0===_?"horizontal":_,O=e.rootRef,S=e.scale,k=void 0===S?Vo:S,j=e.step,E=void 0===j?1:j,C=e.shiftStep,q=void 0===C?10:C,I=e.tabIndex,A=e.value,L=v.useRef(),P=h(v.useState(-1),2),N=P[0],F=P[1],R=h(v.useState(-1),2),M=R[0],D=R[1],V=h(v.useState(!1),2),z=V[0],B=V[1],H=v.useRef(0),$=h(we({controlled:A,default:null!=r?r:g,name:"Slider"}),2),U=$[0],W=$[1],K=y&&((e,t,r)=>{const n=e.nativeEvent||e,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:m}}),y(o,t,r)}),G=Array.isArray(U);let Y=G?U.slice().sort(Io):[U];Y=Y.map((e=>null==e?g:T(e,g,p)));const J=!0===c&&null!==E?[...Array(Math.floor((p-g)/E)+1)].map(((e,t)=>({value:g+E*t}))):c||[],Q=J.map((e=>e.value)),X=$e(),Z=X.isFocusVisibleRef,ee=X.onBlur,te=X.onFocus,re=X.ref,ne=h(v.useState(-1),2),oe=ne[0],ie=ne[1],ae=v.useRef(),le=Ne(re,ae),se=Ne(O,le),ue=e=>t=>{var r;const n=Number(t.currentTarget.getAttribute("data-index"));te(t),!0===Z.current&&ie(n),D(n),null==e||null==(r=e.onFocus)||r.call(e,t)},ce=e=>t=>{var r;ee(t),!1===Z.current&&ie(-1),D(-1),null==e||null==(r=e.onBlur)||r.call(e,t)},de=(e,t)=>{const r=Number(e.currentTarget.getAttribute("data-index")),n=Y[r],o=Q.indexOf(n);let i=t;if(J&&null==E){const e=Q[Q.length-1];i=i>e?e:i<Q[0]?Q[0]:i<n?Q[o-1]:Q[o+1]}if(i=T(i,g,p),G){a&&(i=T(i,Y[r-1]||-1/0,Y[r+1]||1/0));const e=i;i=Fo({values:Y,newValue:i,index:r});let t=r;a||(t=i.indexOf(e)),Ro({sliderRef:ae,activeIndex:t})}W(i),ie(r),K&&!Mo(i,U)&&K(e,i,r),b&&b(e,i)},pe=e=>t=>{var r;if(null!==E){const e=Number(t.currentTarget.getAttribute("data-index")),r=Y[e];let n=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?n=Math.max(r-q,g):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(n=Math.min(r+q,p)),null!==n&&(de(t,n),t.preventDefault())}null==e||null==(r=e.onKeyDown)||r.call(e,t)};Ue((()=>{var e;o&&ae.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[o]),o&&-1!==N&&F(-1),o&&-1!==oe&&ie(-1);const fe=v.useRef();let he=x;s&&"horizontal"===x&&(he+="-reverse");const ge=({finger:e,move:t=!1})=>{const r=ae.current.getBoundingClientRect(),n=r.width,o=r.height,i=r.bottom,l=r.left;let s,u;if(s=0===he.indexOf("vertical")?(i-e.y)/o:(e.x-l)/n,-1!==he.indexOf("-reverse")&&(s=1-s),u=function(e,t,r){return(r-t)*e+t}(s,g,p),E)u=No(u,E,g);else{const e=Ao(Q,u);u=Q[e]}u=T(u,g,p);let c=0;if(G){c=t?fe.current:Ao(Y,u),a&&(u=T(u,Y[c-1]||-1/0,Y[c+1]||1/0));const e=u;u=Fo({values:Y,newValue:u,index:c}),a&&t||(c=u.indexOf(e),fe.current=c)}return{newValue:u,activeIndex:c}},ve=Oe((e=>{const t=Lo(e,L);if(!t)return;if(H.current+=1,"mousemove"===e.type&&0===e.buttons)return void me(e);const r=ge({finger:t,move:!0}),n=r.newValue,o=r.activeIndex;Ro({sliderRef:ae,activeIndex:o,setActive:F}),W(n),!z&&H.current>2&&B(!0),K&&!Mo(n,U)&&K(e,n,o)})),me=Oe((e=>{const t=Lo(e,L);if(B(!1),!t)return;const r=ge({finger:t,move:!0}).newValue;F(-1),"touchend"===e.type&&D(-1),b&&b(e,r),L.current=void 0,be()})),ye=Oe((e=>{if(o)return;Bo()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(L.current=t.identifier);const r=Lo(e,L);if(!1!==r){const t=ge({finger:r}),n=t.newValue,o=t.activeIndex;Ro({sliderRef:ae,activeIndex:o,setActive:F}),W(n),K&&!Mo(n,U)&&K(e,n,o)}H.current=0;const n=We(ae.current);n.addEventListener("touchmove",ve,{passive:!0}),n.addEventListener("touchend",me,{passive:!0})})),be=v.useCallback((()=>{const e=We(ae.current);e.removeEventListener("mousemove",ve),e.removeEventListener("mouseup",me),e.removeEventListener("touchmove",ve),e.removeEventListener("touchend",me)}),[me,ve]);v.useEffect((()=>{const e=ae.current;return e.addEventListener("touchstart",ye,{passive:Bo()}),()=>{e.removeEventListener("touchstart",ye),be()}}),[be,ye]),v.useEffect((()=>{o&&be()}),[o,be]);const _e=Po(G?Y[0]:g,g,p),xe=Po(Y[Y.length-1],g,p)-_e,Se=e=>t=>{var r;null==(r=e.onMouseLeave)||r.call(e,t),D(-1)};return{active:N,axis:he,axisProps:Do,dragging:z,focusedThumbIndex:oe,getHiddenInputProps:(r={})=>{var n;const i=Ke(r),a={onChange:(l=i||{},e=>{var t;null==(t=l.onChange)||t.call(l,e),de(e,e.target.valueAsNumber)}),onFocus:ue(i||{}),onBlur:ce(i||{}),onKeyDown:pe(i||{})};var l;const u=w({},i,a);return w({tabIndex:I,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":k(p),"aria-valuemin":k(g),name:m,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:o},r,u,{style:w({},Mn,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{const t=Ke(e),r={onMouseDown:(n=t||{},e=>{var t;if(null==(t=n.onMouseDown)||t.call(n,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=Lo(e,L);if(!1!==r){const t=ge({finger:r}),n=t.newValue,o=t.activeIndex;Ro({sliderRef:ae,activeIndex:o,setActive:F}),W(n),K&&!Mo(n,U)&&K(e,n,o)}H.current=0;const i=We(ae.current);i.addEventListener("mousemove",ve,{passive:!0}),i.addEventListener("mouseup",me)})};var n;const i=w({},t,r);return w({},e,{ref:se},i)},getThumbProps:(e={})=>{const t=Ke(e),r={onMouseOver:(n=t||{},e=>{var t;null==(t=n.onMouseOver)||t.call(n,e);const r=Number(e.currentTarget.getAttribute("data-index"));D(r)}),onMouseLeave:Se(t||{})};var n;return w({},e,t,r)},marks:J,open:M,range:G,rootRef:se,trackLeap:xe,trackOffset:_e,values:Y,getThumbStyle:e=>({pointerEvents:-1!==N&&N!==e?"none":void 0})}}const $o=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Uo(e){return e}const Wo=ke("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`color${k(r.color)}`],"medium"!==r.size&&t[`size${k(r.size)}`],r.marked&&t.marked,"vertical"===r.orientation&&t.vertical,"inverted"===r.track&&t.trackInverted,!1===r.track&&t.trackFalse]}})((({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${le.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${le.dragging}`]:{[`& .${le.thumb}, & .${le.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),Ko=ke("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Go=ke("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t,track:"inverted"},style:w({},e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:w({backgroundColor:q(e.palette[t].main,.62),borderColor:q(e.palette[t].main,.62)},e.applyStyles("dark",{backgroundColor:I(e.palette[t].main,.5)}),e.applyStyles("dark",{borderColor:I(e.palette[t].main,.5)})))})))]}})),Yo=ke("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.thumb,t[`thumbColor${k(r.color)}`],"medium"!==r.size&&t[`thumbSize${k(r.size)}`]]}})((({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${le.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter((t=>{var r;return(null!=(r=e.vars)?r:e).palette[t].main})).map((t=>({props:{color:t},style:{[`&:hover, &.${le.focusVisible}`]:w({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${C(e.palette[t].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${le.active}`]:w({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${C(e.palette[t].main,.16)}`})}})))]}})),Jo=ke((function(e){const t=e.children,r=e.className,n=e.value,o=(e=>{const t=e.open;return{offset:E(t&&le.valueLabelOpen),circle:le.valueLabelCircle,label:le.valueLabelLabel}})(e);return t?v.cloneElement(t,{className:E(t.props.className)},j.jsxs(v.Fragment,{children:[t.props.children,j.jsx("span",{className:E(o.offset,r),"aria-hidden":!0,children:j.jsx("span",{className:o.circle,children:j.jsx("span",{className:o.label,children:n})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((({theme:e})=>w({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${le.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${le.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Qo=ke("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ye(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const r=e.markActive;return[t.mark,r&&t.markActive]}})((({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Xo=ke("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ye(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((({theme:e})=>w({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Zo=({children:e})=>e,ei=v.forwardRef((function(e,t){var r,n,o,i,a,l,s,u,c,d,p,h,g,m,y,b,_,x,O,S,C,T,q,I;const A=je({props:e,name:"MuiSlider"}),L=Je(),P=A["aria-label"],N=A["aria-valuetext"],F=A["aria-labelledby"],R=A.component,M=void 0===R?"span":R,D=A.components,V=void 0===D?{}:D,z=A.componentsProps,B=void 0===z?{}:z,H=A.color,$=void 0===H?"primary":H,U=A.classes,W=A.className,K=A.disableSwap,G=void 0!==K&&K,Y=A.disabled,J=void 0!==Y&&Y,Q=A.getAriaLabel,X=A.getAriaValueText,Z=A.marks,ee=void 0!==Z&&Z,te=A.max,re=void 0===te?100:te,ne=A.min,oe=void 0===ne?0:ne,ie=A.orientation,ae=void 0===ie?"horizontal":ie,le=A.shiftStep,ue=void 0===le?10:le,ce=A.size,de=void 0===ce?"medium":ce,pe=A.step,fe=void 0===pe?1:pe,he=A.scale,ge=void 0===he?Uo:he,ve=A.slotProps,me=A.slots,ye=A.track,be=void 0===ye?"normal":ye,_e=A.valueLabelDisplay,xe=void 0===_e?"off":_e,we=A.valueLabelFormat,Oe=void 0===we?Uo:we,Se=f(A,$o),ke=w({},A,{isRtl:L,max:re,min:oe,classes:U,disabled:J,disableSwap:G,orientation:ae,marks:ee,color:$,size:de,step:fe,shiftStep:ue,scale:ge,track:be,valueLabelDisplay:xe,valueLabelFormat:Oe}),Ce=Ho(w({},ke,{rootRef:t})),Te=Ce.axisProps,qe=Ce.getRootProps,Ie=Ce.getHiddenInputProps,Ae=Ce.getThumbProps,Le=Ce.open,Pe=Ce.active,Ne=Ce.axis,Fe=Ce.focusedThumbIndex,Re=Ce.range,Me=Ce.dragging,De=Ce.marks,Ve=Ce.values,ze=Ce.trackOffset,Be=Ce.trackLeap,He=Ce.getThumbStyle;ke.marked=De.length>0&&De.some((e=>e.label)),ke.dragging=Me,ke.focusedThumbIndex=Fe;const $e=(e=>{const t=e.disabled,r=e.dragging,n=e.marked,o=e.orientation,i=e.track,a=e.classes,l=e.color,s=e.size,u={root:["root",t&&"disabled",r&&"dragging",n&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",l&&`color${k(l)}`,s&&`size${k(s)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",s&&`thumbSize${k(s)}`,l&&`thumbColor${k(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ee(u,se,a)})(ke),Ue=null!=(r=null!=(n=null==me?void 0:me.root)?n:V.Root)?r:Wo,We=null!=(o=null!=(i=null==me?void 0:me.rail)?i:V.Rail)?o:Ko,Ke=null!=(a=null!=(l=null==me?void 0:me.track)?l:V.Track)?a:Go,Ye=null!=(s=null!=(u=null==me?void 0:me.thumb)?u:V.Thumb)?s:Yo,Xe=null!=(c=null!=(d=null==me?void 0:me.valueLabel)?d:V.ValueLabel)?c:Jo,Ze=null!=(p=null!=(h=null==me?void 0:me.mark)?h:V.Mark)?p:Qo,et=null!=(g=null!=(m=null==me?void 0:me.markLabel)?m:V.MarkLabel)?g:Xo,tt=null!=(y=null!=(b=null==me?void 0:me.input)?b:V.Input)?y:"input",rt=null!=(_=null==ve?void 0:ve.root)?_:B.root,nt=null!=(x=null==ve?void 0:ve.rail)?x:B.rail,ot=null!=(O=null==ve?void 0:ve.track)?O:B.track,it=null!=(S=null==ve?void 0:ve.thumb)?S:B.thumb,at=null!=(C=null==ve?void 0:ve.valueLabel)?C:B.valueLabel,lt=null!=(T=null==ve?void 0:ve.mark)?T:B.mark,st=null!=(q=null==ve?void 0:ve.markLabel)?q:B.markLabel,ut=null!=(I=null==ve?void 0:ve.input)?I:B.input,ct=Qe({elementType:Ue,getSlotProps:qe,externalSlotProps:rt,externalForwardedProps:Se,additionalProps:w({},(dt=Ue,(!dt||!Ge(dt))&&{as:M})),ownerState:w({},ke,null==rt?void 0:rt.ownerState),className:[$e.root,W]});var dt;const pt=Qe({elementType:We,externalSlotProps:nt,ownerState:ke,className:$e.rail}),ft=Qe({elementType:Ke,externalSlotProps:ot,additionalProps:{style:w({},Te[Ne].offset(ze),Te[Ne].leap(Be))},ownerState:w({},ke,null==ot?void 0:ot.ownerState),className:$e.track}),ht=Qe({elementType:Ye,getSlotProps:Ae,externalSlotProps:it,ownerState:w({},ke,null==it?void 0:it.ownerState),className:$e.thumb}),gt=Qe({elementType:Xe,externalSlotProps:at,ownerState:w({},ke,null==at?void 0:at.ownerState),className:$e.valueLabel}),vt=Qe({elementType:Ze,externalSlotProps:lt,ownerState:ke,className:$e.mark}),mt=Qe({elementType:et,externalSlotProps:st,ownerState:ke,className:$e.markLabel}),yt=Qe({elementType:tt,getSlotProps:Ie,externalSlotProps:ut,ownerState:ke});return j.jsxs(Ue,w({},ct,{children:[j.jsx(We,w({},pt)),j.jsx(Ke,w({},ft)),De.filter((e=>e.value>=oe&&e.value<=re)).map(((e,t)=>{const r=Po(e.value,oe,re),n=Te[Ne].offset(r);let o;return o=!1===be?-1!==Ve.indexOf(e.value):"normal"===be&&(Re?e.value>=Ve[0]&&e.value<=Ve[Ve.length-1]:e.value<=Ve[0])||"inverted"===be&&(Re?e.value<=Ve[0]||e.value>=Ve[Ve.length-1]:e.value>=Ve[0]),j.jsxs(v.Fragment,{children:[j.jsx(Ze,w({"data-index":t},vt,!Ge(Ze)&&{markActive:o},{style:w({},n,vt.style),className:E(vt.className,o&&$e.markActive)})),null!=e.label?j.jsx(et,w({"aria-hidden":!0,"data-index":t},mt,!Ge(et)&&{markLabelActive:o},{style:w({},n,mt.style),className:E($e.markLabel,mt.className,o&&$e.markLabelActive),children:e.label})):null]},t)})),Ve.map(((e,t)=>{const r=Po(e,oe,re),n=Te[Ne].offset(r),o="off"===xe?Zo:Xe;return j.jsx(o,w({},!Ge(o)&&{valueLabelFormat:Oe,valueLabelDisplay:xe,value:"function"==typeof Oe?Oe(ge(e),t):Oe,index:t,open:Le===t||Pe===t||"on"===xe,disabled:J},gt,{children:j.jsx(Ye,w({"data-index":t},ht,{className:E($e.thumb,ht.className,Pe===t&&$e.active,Fe===t&&$e.focusVisible),style:w({},n,He(t),ht.style),children:j.jsx(tt,w({"data-index":t,"aria-label":Q?Q(t):P,"aria-valuenow":ge(e),"aria-labelledby":F,"aria-valuetext":X?X(ge(e),t):N,value:Ve[t]},yt))}))}),t)}))]}))})),ti=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ri={entering:{transform:"none"},entered:{transform:"none"}},ni=v.forwardRef((function(e,t){const r=Xe(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=e.addEndListener,i=e.appear,a=void 0===i||i,l=e.children,s=e.easing,u=e.in,c=e.onEnter,d=e.onEntered,p=e.onEntering,h=e.onExit,g=e.onExited,m=e.onExiting,y=e.style,b=e.timeout,_=void 0===b?n:b,x=e.TransitionComponent,O=void 0===x?Ze:x,S=f(e,ti),k=v.useRef(null),E=Ne(k,l.ref,t),C=e=>t=>{if(e){const r=k.current;void 0===t?e(r):e(r,t)}},T=C(p),q=C(((e,t)=>{et(e);const n=tt({style:y,timeout:_,easing:s},{mode:"enter"});e.style.webkitTransition=r.transitions.create("transform",n),e.style.transition=r.transitions.create("transform",n),c&&c(e,t)})),I=C(d),A=C(m),L=C((e=>{const t=tt({style:y,timeout:_,easing:s},{mode:"exit"});e.style.webkitTransition=r.transitions.create("transform",t),e.style.transition=r.transitions.create("transform",t),h&&h(e)})),P=C(g);return j.jsx(O,w({appear:a,in:u,nodeRef:k,onEnter:q,onEntered:I,onEntering:T,onExit:L,onExited:P,onExiting:A,addEndListener:e=>{o&&o(k.current,e)},timeout:_},S,{children:(e,t)=>v.cloneElement(l,w({style:w({transform:"scale(0)",visibility:"exited"!==e||u?void 0:"hidden"},ri[e],y,l.props.style),ref:E},t))}))}));function oi(e){return O("MuiSpeedDial",e)}const ii=S("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),ai=["ref"],li=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],si=["ref"];function ui(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}const ci=ke("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`direction${k(r.direction)}`]]}})((({theme:e,ownerState:t})=>w({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},"up"===t.direction&&{flexDirection:"column-reverse",[`& .${ii.actions}`]:{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}},"down"===t.direction&&{flexDirection:"column",[`& .${ii.actions}`]:{flexDirection:"column",marginTop:-32,paddingTop:48}},"left"===t.direction&&{flexDirection:"row-reverse",[`& .${ii.actions}`]:{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}},"right"===t.direction&&{flexDirection:"row",[`& .${ii.actions}`]:{flexDirection:"row",marginLeft:-32,paddingLeft:48}}))),di=ke(Oo,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,t)=>t.fab})((()=>({pointerEvents:"auto"}))),pi=ke("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.actions,!r.open&&t.actionsClosed]}})((({ownerState:e})=>w({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"}))),fi=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiSpeedDial"}),n=Xe(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},i=r.ariaLabel,a=r.FabProps,l=(void 0===a?{}:a).ref,s=r.children,u=r.className,c=r.direction,d=void 0===c?"up":c,p=r.hidden,g=void 0!==p&&p,m=r.icon,y=r.onBlur,b=r.onClose,_=r.onFocus,x=r.onKeyDown,O=r.onMouseEnter,S=r.onMouseLeave,C=r.onOpen,q=r.open,I=r.TransitionComponent,A=void 0===I?ni:I,L=r.transitionDuration,P=void 0===L?o:L,N=r.TransitionProps,F=f(r.FabProps,ai),R=f(r,li),M=h(we({controlled:q,default:!1,name:"SpeedDial",state:"open"}),2),D=M[0],V=M[1],z=w({},r,{open:D,direction:d}),B=(e=>{const t=e.classes,r=e.open,n=e.direction,o={root:["root",`direction${k(n)}`],fab:["fab"],actions:["actions",!r&&"actionsClosed"]};return Ee(o,oi,t)})(z),H=rt(),$=v.useRef(0),U=v.useRef(),W=v.useRef([]);W.current=[W.current[0]];const K=v.useCallback((e=>{W.current[0]=e}),[]),G=Ne(l,K),Y=(e,t)=>r=>{W.current[e+1]=r,t&&t(r)};v.useEffect((()=>{D||($.current=0,U.current=void 0)}),[D]);const J=e=>{"mouseleave"===e.type&&S&&S(e),"blur"===e.type&&y&&y(e),H.clear(),"blur"===e.type?H.start(0,(()=>{V(!1),b&&b(e,"blur")})):(V(!1),b&&b(e,"mouseLeave"))},Q=e=>{"mouseenter"===e.type&&O&&O(e),"focus"===e.type&&_&&_(e),H.clear(),D||H.start(0,(()=>{if(V(!0),C){C(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])}}))},X=i.replace(/^[^a-z]+|[^\w:.-]+/gi,""),Z=v.Children.toArray(s).filter((e=>v.isValidElement(e))),ee=Z.map(((e,t)=>{const r=e.props,n=r.FabProps,o=(void 0===n?{}:n).ref,i=r.tooltipPlacement,a=f(r.FabProps,si),l=i||("vertical"===ui(d)?"left":"top");return v.cloneElement(e,{FabProps:w({},a,{ref:Y(t,o)}),delay:30*(D?t:Z.length-t),open:D,tooltipPlacement:l,id:`${X}-action-${t}`})}));return j.jsxs(ci,w({className:E(B.root,u),ref:t,role:"presentation",onKeyDown:e=>{x&&x(e);const t=e.key.replace("Arrow","").toLowerCase(),r=U.current,n=void 0===r?t:r;if("Escape"===e.key)return V(!1),W.current[0].focus(),void(b&&b(e,"escapeKeyDown"));if(ui(t)===ui(n)&&void 0!==ui(t)){e.preventDefault();const r=t===n?1:-1,o=T($.current+r,0,W.current.length-1);W.current[o].focus(),$.current=o,U.current=n}},onBlur:J,onFocus:Q,onMouseEnter:Q,onMouseLeave:J,ownerState:z},R,{children:[j.jsx(A,w({in:!g,timeout:P,unmountOnExit:!0},N,{children:j.jsx(di,w({color:"primary","aria-label":i,"aria-haspopup":"true","aria-expanded":D,"aria-controls":`${X}-actions`},F,{onClick:e=>{F.onClick&&F.onClick(e),H.clear(),D?(V(!1),b&&b(e,"toggle")):(V(!0),C&&C(e,"toggle"))},className:E(B.fab,F.className),ref:G,ownerState:z,children:v.isValidElement(m)&&nt(m,["SpeedDialIcon"])?v.cloneElement(m,{open:D}):m}))})),j.jsx(pi,{id:`${X}-actions`,role:"menu","aria-orientation":ui(d),className:E(B.actions,!D&&B.actionsClosed),ownerState:z,children:ee})]}))}));function hi(e){return O("MuiSpeedDialAction",e)}const gi=S("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),vi=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],mi=ke(Oo,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,t)=>{const r=e.ownerState;return[t.fab,!r.open&&t.fabClosed]}})((({theme:e,ownerState:t})=>w({margin:8,color:(e.vars||e).palette.text.secondary,backgroundColor:(e.vars||e).palette.background.paper,"&:hover":{backgroundColor:e.vars?e.vars.palette.SpeedDialAction.fabHoverBg:A(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!t.open&&{opacity:0,transform:"scale(0)"}))),yi=ke("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.staticTooltip,!r.open&&t.staticTooltipClosed,t[`tooltipPlacement${k(r.tooltipPlacement)}`]]}})((({theme:e,ownerState:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${gi.staticTooltipLabel}`]:w({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!t.open&&{opacity:0,transform:"scale(0.5)"},"left"===t.tooltipPlacement&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},"right"===t.tooltipPlacement&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})}))),bi=ke("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,t)=>t.staticTooltipLabel})((({theme:e})=>w({position:"absolute"},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.paper,borderRadius:(e.vars||e).shape.borderRadius,boxShadow:(e.vars||e).shadows[1],color:(e.vars||e).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),_i=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiSpeedDialAction"}),n=r.className,o=r.delay,i=void 0===o?0:o,a=r.FabProps,l=void 0===a?{}:a,s=r.icon,u=r.id,c=r.open,d=r.TooltipClasses,p=r.tooltipOpen,g=void 0!==p&&p,m=r.tooltipPlacement,y=void 0===m?"left":m,b=r.tooltipTitle,_=f(r,vi),x=w({},r,{tooltipPlacement:y}),O=(e=>{const t=e.open,r=e.tooltipPlacement,n=e.classes,o={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${k(r)}`,!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Ee(o,hi,n)})(x),S=h(v.useState(g),2),C=S[0],T=S[1],q={transitionDelay:`${i}ms`},I=j.jsx(mi,w({size:"small",className:E(O.fab,n),tabIndex:-1,role:"menuitem",ownerState:x},l,{style:w({},q,l.style),children:s}));return g?j.jsxs(yi,w({id:u,ref:t,className:O.staticTooltip,ownerState:x},_,{children:[j.jsx(bi,{style:q,id:`${u}-label`,className:O.staticTooltipLabel,ownerState:x,children:b}),v.cloneElement(I,{"aria-labelledby":`${u}-label`})]})):(!c&&C&&T(!1),j.jsx(ue,w({id:u,ref:t,title:b,placement:y,onClose:()=>{T(!1)},onOpen:()=>{T(!0)},open:c&&C,classes:d},_,{children:I})))})),xi=ot(j.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function wi(e){return O("MuiSpeedDialIcon",e)}const Oi=S("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),Si=["className","icon","open","openIcon"],ki=ke("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Oi.icon}`]:t.icon},{[`& .${Oi.icon}`]:r.open&&t.iconOpen},{[`& .${Oi.icon}`]:r.open&&r.openIcon&&t.iconWithOpenIconOpen},{[`& .${Oi.openIcon}`]:t.openIcon},{[`& .${Oi.openIcon}`]:r.open&&t.openIconOpen},t.root]}})((({theme:e,ownerState:t})=>({height:24,[`& .${Oi.icon}`]:w({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},t.open&&w({transform:"rotate(45deg)"},t.openIcon&&{opacity:0})),[`& .${Oi.openIcon}`]:w({position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},t.open&&{transform:"rotate(0deg)",opacity:1})}))),ji=v.forwardRef((function(e,t){const r=je({props:e,name:"MuiSpeedDialIcon"}),n=r.className,o=r.icon,i=r.openIcon,a=f(r,Si),l=r,s=(e=>{const t=e.classes,r=e.open,n=e.openIcon;return Ee({root:["root"],icon:["icon",r&&"iconOpen",n&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]},wi,t)})(l);function u(e,t){return v.isValidElement(e)?v.cloneElement(e,{className:t}):e}return j.jsxs(ki,w({className:E(s.root,n),ref:t,ownerState:l},a,{children:[i?u(i,s.openIcon):null,o?u(o,s.icon):j.jsx(xi,{className:s.icon})]}))}));ji.muiName="SpeedDialIcon";const Ei=ot(j.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Ci=ot(j.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),Ti=ot(j.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),qi={mainContainer:"_mainContainer_as1f9_1",updateButtons:"_updateButtons_as1f9_5",save:"_save_as1f9_14",header:"_header_as1f9_18"},Ii="_footer_1pku9_18",Ai="_contentPanel_1pku9_22",Li="_cardImage_1pku9_30",Pi="_virtuosoStyle_1pku9_42",Ni="_cardMediaContent_1pku9_47",Fi="_errorDisplay_1joy4_1",Ri="_clickable_1joy4_10";var Mi={},Di=L;Object.defineProperty(Mi,"__esModule",{value:!0});var Vi=Mi.default=void 0,zi=Di(lt()),Bi=j;Vi=Mi.default=(0,zi.default)((0,Bi.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");const Hi=(e,t,r)=>"EMPTY_PARENT"===t?r("err_empty_parent",{component_name:Ui(e,r),child_name:Wi(e,r)}):"DUPLICATE_CODE"===t?(r("err_duplicate_code"),{component_name:Ui(e,r)}):"NO_END_GROUP"===t?r("err_no_end_group"):"MISPLACED_END_GROUP"===t?r("err_misplaced_end_group"):"MISPLACED_WELCOME_GROUP"===t?r("err_misplaced_welcome_group"):"",$i=(e,t)=>"value"===e.code&&"InvalidInstructionInEndGroup"==e.errors[0].name?t("err_value_in_end_group"):"conditional_relevance"===e.code?t("err_relevance"):"random_group"===e.code?t("err_random"):"priority_groups"===e.code?t("err_priority"):e.code.startsWith("reference")?j.jsx(Rn,{t:t,values:{codes:e.errors.map((e=>{var t;return null===(t=e.dependency)||void 0===t?void 0:t.componentCode})).join(", "),lang:e.lang},i18nKey:"err_reference"}):e.code.startsWith("skip_to")?t("err_skip"):"",Ui=(e,t)=>"Survey"==e?t("survey"):pt(e)?t("question"):dt(e)?t("group"):t("option"),Wi=(e,t)=>dt(e)?t("question"):t("Survey"==e?"group":"option"),Ki=v.memo((function(e){const t=st("design").t,r=ut(),n=Sr([t=>t.designState[e.code]||{}],(e=>{var t;const r=null===(t=e.instructionList)||void 0===t?void 0:t.filter((e=>{var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>0}));return{errors:e.errors,designErrors:e.designErrors,instructions:null!=r&&r.length?r:void 0}})),o=ct(n),i=o.errors,a=o.designErrors,l=o.instructions,s=(null==i?void 0:i.length)>0||(null==a?void 0:a.length)>0||(null==l?void 0:l.length)>0,u=ct((t=>{var r;return"Survey"==e.code?"":dt(e.code)?(null===(r=t.designState[e.code].groupType)||void 0===r?void 0:r.toLowerCase())||"group":t.designState[e.code].type}));return s?j.jsxs(P,{className:Fi,children:[i&&i.map((r=>j.jsxs("div",{children:[j.jsx(ce,{style:{verticalAlign:"middle"}}),Hi(e.code,r,t)]},r))),a&&a.map((e=>j.jsxs("div",{children:[j.jsx(ce,{style:{verticalAlign:"middle"}}),e.message]},e.code))),l&&l.map((n=>{return j.jsxs("div",{className:(o=n,"conditional_relevance"===o.code||"random_group"===o.code||"priority_groups"===o.code||o.code.startsWith("skip_to")?Ri:""),onClick:()=>(t=>("conditional_relevance"===t.code?r(ft({code:e.code,rules:ht(u),highlighted:"relevance",expanded:["relevance"]})):"random_group"===t.code||"priority_groups"===t.code?"Survey"==e.code?r(ft(p(p({},gt),{},{highlighted:"random"}))):r(ft({code:e.code,rules:ht(u),highlighted:"random",expanded:["random"]})):t.code.startsWith("skip_to")&&r(ft({code:e.code,rules:ht(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""))(n),children:[j.jsx(Vi,{style:{verticalAlign:"middle"}}),$i(n,t)]},n.code);var o}))]}):j.jsx(j.Fragment,{})}));var Gi={},Yi=L;Object.defineProperty(Gi,"__esModule",{value:!0});var Ji=Gi.default=void 0,Qi=Yi(lt()),Xi=j;Ji=Gi.default=(0,Qi.default)((0,Xi.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const Zi="_textDescriptionContent_xkpeh_1",ea="_moveBox_xkpeh_7",ta="_groupQuestion_xkpeh_13",ra="_titleContainer_xkpeh_22",na="_titleQuestion_xkpeh_29",oa="_iconBox_xkpeh_39",ia="_actionToolbarVisible_xkpeh_59",aa="_contentContainer_xkpeh_64",la="_highlight_xkpeh_74",sa="_fullWidth_1dvff_1",ua="_noPadding_1dvff_12",ca="_placeholder_1dvff_25";var da=function(){this.__data__=[],this.size=0};var pa=function(e,t){return e===t||e!=e&&t!=t},fa=pa;var ha=function(e,t){for(var r=e.length;r--;)if(fa(e[r][0],t))return r;return-1},ga=ha,va=Array.prototype.splice;var ma=function(e){var t=this.__data__,r=ga(t,e);return!(r<0)&&(r==t.length-1?t.pop():va.call(t,r,1),--this.size,!0)},ya=ha;var ba=function(e){var t=this.__data__,r=ya(t,e);return r<0?void 0:t[r][1]},_a=ha;var xa=ha;var wa=function(e,t){var r=this.__data__,n=xa(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Oa=da,Sa=ma,ka=ba,ja=function(e){return _a(this.__data__,e)>-1},Ea=wa;function Ca(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ca.prototype.clear=Oa,Ca.prototype.delete=Sa,Ca.prototype.get=ka,Ca.prototype.has=ja,Ca.prototype.set=Ea;var Ta=Ca,qa=Ta;var Ia=function(){this.__data__=new qa,this.size=0};var Aa=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var La=function(e){return this.__data__.get(e)};var Pa=function(e){return this.__data__.has(e)},Na="object"==typeof N&&N&&N.Object===Object&&N,Fa=Na,Ra="object"==typeof self&&self&&self.Object===Object&&self,Ma=Fa||Ra||Function("return this")(),Da=Ma.Symbol,Va=Da,za=Object.prototype,Ba=za.hasOwnProperty,Ha=za.toString,$a=Va?Va.toStringTag:void 0;var Ua=function(e){var t=Ba.call(e,$a),r=e[$a];try{e[$a]=void 0;var n=!0}catch(_n){}var o=Ha.call(e);return n&&(t?e[$a]=r:delete e[$a]),o},Wa=Object.prototype.toString;var Ka=Ua,Ga=function(e){return Wa.call(e)},Ya=Da?Da.toStringTag:void 0;var Ja=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ya&&Ya in Object(e)?Ka(e):Ga(e)};var Qa=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Xa=Ja,Za=Qa;var el,tl=function(e){if(!Za(e))return!1;var t=Xa(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},rl=Ma["__core-js_shared__"],nl=(el=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||""))?"Symbol(src)_1."+el:"";var ol=function(e){return!!nl&&nl in e},il=Function.prototype.toString;var al=function(e){if(null!=e){try{return il.call(e)}catch(_n){}try{return e+""}catch(_n){}}return""},ll=tl,sl=ol,ul=Qa,cl=al,dl=/^\[object .+?Constructor\]$/,pl=Function.prototype,fl=Object.prototype,hl=pl.toString,gl=fl.hasOwnProperty,vl=RegExp("^"+hl.call(gl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ml=function(e){return!(!ul(e)||sl(e))&&(ll(e)?vl:dl).test(cl(e))},yl=function(e,t){return null==e?void 0:e[t]};var bl=function(e,t){var r=yl(e,t);return ml(r)?r:void 0},_l=bl(Ma,"Map"),xl=bl(Object,"create"),wl=xl;var Ol=function(){this.__data__=wl?wl(null):{},this.size=0};var Sl=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},kl=xl,jl=Object.prototype.hasOwnProperty;var El=function(e){var t=this.__data__;if(kl){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return jl.call(t,e)?t[e]:void 0},Cl=xl,Tl=Object.prototype.hasOwnProperty;var ql=xl;var Il=Ol,Al=Sl,Ll=El,Pl=function(e){var t=this.__data__;return Cl?void 0!==t[e]:Tl.call(t,e)},Nl=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ql&&void 0===t?"__lodash_hash_undefined__":t,this};function Fl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fl.prototype.clear=Il,Fl.prototype.delete=Al,Fl.prototype.get=Ll,Fl.prototype.has=Pl,Fl.prototype.set=Nl;var Rl=Fl,Ml=Ta,Dl=_l;var Vl=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},zl=Vl;var Bl=function(e,t){var r=e.__data__;return zl(t)?r["string"==typeof t?"string":"hash"]:r.map},Hl=Bl;var $l=Bl;var Ul=Bl;var Wl=Bl;var Kl=function(){this.size=0,this.__data__={hash:new Rl,map:new(Dl||Ml),string:new Rl}},Gl=function(e){var t=Hl(this,e).delete(e);return this.size-=t?1:0,t},Yl=function(e){return $l(this,e).get(e)},Jl=function(e){return Ul(this,e).has(e)},Ql=function(e,t){var r=Wl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Xl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xl.prototype.clear=Kl,Xl.prototype.delete=Gl,Xl.prototype.get=Yl,Xl.prototype.has=Jl,Xl.prototype.set=Ql;var Zl=Xl,es=Ta,ts=_l,rs=Zl;var ns=Ta,os=Ia,is=Aa,as=La,ls=Pa,ss=function(e,t){var r=this.__data__;if(r instanceof es){var n=r.__data__;if(!ts||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rs(n)}return r.set(e,t),this.size=r.size,this};function us(e){var t=this.__data__=new ns(e);this.size=t.size}us.prototype.clear=os,us.prototype.delete=is,us.prototype.get=as,us.prototype.has=ls,us.prototype.set=ss;var cs=us;var ds=Zl,ps=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},fs=function(e){return this.__data__.has(e)};function hs(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ds;++t<r;)this.add(e[t])}hs.prototype.add=hs.prototype.push=ps,hs.prototype.has=fs;var gs=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var vs=hs,ms=gs,ys=function(e,t){return e.has(t)};var bs=function(e,t,r,n,o,i){var a=1&r,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=2&r?new vs:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!ms(t,(function(e,t){if(!ys(f,t)&&(h===e||o(h,e,r,n,i)))return f.push(t)}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},_s=Ma.Uint8Array;var xs=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var ws=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Os=_s,Ss=pa,ks=bs,js=xs,Es=ws,Cs=Da?Da.prototype:void 0,Ts=Cs?Cs.valueOf:void 0;var qs=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Os(e),new Os(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ss(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=js;case"[object Set]":var s=1&n;if(l||(l=Es),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=ks(l(e),l(t),n,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Ts)return Ts.call(e)==Ts.call(t)}return!1};var Is=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},As=Array.isArray,Ls=Is,Ps=As;var Ns=function(e,t,r){var n=t(e);return Ps(e)?n:Ls(n,r(e))};var Fs=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Rs=function(){return[]},Ms=Fs,Ds=Rs,Vs=Object.prototype.propertyIsEnumerable,zs=Object.getOwnPropertySymbols,Bs=zs?function(e){return null==e?[]:(e=Object(e),Ms(zs(e),(function(t){return Vs.call(e,t)})))}:Ds;var Hs=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var $s=function(e){return null!=e&&"object"==typeof e},Us=Ja,Ws=$s;var Ks=function(e){return Ws(e)&&"[object Arguments]"==Us(e)},Gs=$s,Ys=Object.prototype,Js=Ys.hasOwnProperty,Qs=Ys.propertyIsEnumerable,Xs=Ks(function(){return arguments}())?Ks:function(e){return Gs(e)&&Js.call(e,"callee")&&!Qs.call(e,"callee")},Zs=Xs,eu={exports:{}};var tu=function(){return!1};!function(e,t){var r=Ma,n=tu,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;e.exports=l}(eu,eu.exports);var ru=eu.exports,nu=/^(?:0|[1-9]\d*)$/;var ou=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&nu.test(e))&&e>-1&&e%1==0&&e<t};var iu=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},au=Ja,lu=iu,su=$s,uu={};uu["[object Float32Array]"]=uu["[object Float64Array]"]=uu["[object Int8Array]"]=uu["[object Int16Array]"]=uu["[object Int32Array]"]=uu["[object Uint8Array]"]=uu["[object Uint8ClampedArray]"]=uu["[object Uint16Array]"]=uu["[object Uint32Array]"]=!0,uu["[object Arguments]"]=uu["[object Array]"]=uu["[object ArrayBuffer]"]=uu["[object Boolean]"]=uu["[object DataView]"]=uu["[object Date]"]=uu["[object Error]"]=uu["[object Function]"]=uu["[object Map]"]=uu["[object Number]"]=uu["[object Object]"]=uu["[object RegExp]"]=uu["[object Set]"]=uu["[object String]"]=uu["[object WeakMap]"]=!1;var cu=function(e){return su(e)&&lu(e.length)&&!!uu[au(e)]};var du=function(e){return function(t){return e(t)}},pu={exports:{}};!function(e,t){var r=Na,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(_n){}}();e.exports=a}(pu,pu.exports);var fu=pu.exports,hu=cu,gu=du,vu=fu&&fu.isTypedArray,mu=vu?gu(vu):hu,yu=Hs,bu=Zs,_u=As,xu=ru,wu=ou,Ou=mu,Su=Object.prototype.hasOwnProperty;var ku=function(e,t){var r=_u(e),n=!r&&bu(e),o=!r&&!n&&xu(e),i=!r&&!n&&!o&&Ou(e),a=r||n||o||i,l=a?yu(e.length,String):[],s=l.length;for(var u in e)!t&&!Su.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wu(u,s))||l.push(u);return l},ju=Object.prototype;var Eu=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ju)};var Cu=function(e,t){return function(r){return e(t(r))}},Tu=Cu(Object.keys,Object),qu=Eu,Iu=Tu,Au=Object.prototype.hasOwnProperty;var Lu=tl,Pu=iu;var Nu=function(e){return null!=e&&Pu(e.length)&&!Lu(e)},Fu=ku,Ru=function(e){if(!qu(e))return Iu(e);var t=[];for(var r in Object(e))Au.call(e,r)&&"constructor"!=r&&t.push(r);return t},Mu=Nu;var Du=function(e){return Mu(e)?Fu(e):Ru(e)};const Vu=g(Du);var zu=Ns,Bu=Bs,Hu=Du;var $u=function(e){return zu(e,Hu,Bu)},Uu=$u,Wu=Object.prototype.hasOwnProperty;var Ku=function(e,t,r,n,o,i){var a=1&r,l=Uu(e),s=l.length;if(s!=Uu(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:Wu.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f},Gu=bl(Ma,"DataView"),Yu=_l,Ju=bl(Ma,"Promise"),Qu=bl(Ma,"Set"),Xu=bl(Ma,"WeakMap"),Zu=Ja,ec=al,tc="[object Map]",rc="[object Promise]",nc="[object Set]",oc="[object WeakMap]",ic="[object DataView]",ac=ec(Gu),lc=ec(Yu),sc=ec(Ju),uc=ec(Qu),cc=ec(Xu),dc=Zu;(Gu&&dc(new Gu(new ArrayBuffer(1)))!=ic||Yu&&dc(new Yu)!=tc||Ju&&dc(Ju.resolve())!=rc||Qu&&dc(new Qu)!=nc||Xu&&dc(new Xu)!=oc)&&(dc=function(e){var t=Zu(e),r="[object Object]"==t?e.constructor:void 0,n=r?ec(r):"";if(n)switch(n){case ac:return ic;case lc:return tc;case sc:return rc;case uc:return nc;case cc:return oc}return t});var pc=dc,fc=cs,hc=bs,gc=qs,vc=Ku,mc=pc,yc=As,bc=ru,_c=mu,xc="[object Arguments]",wc="[object Array]",Oc="[object Object]",Sc=Object.prototype.hasOwnProperty;var kc=function(e,t,r,n,o,i){var a=yc(e),l=yc(t),s=a?wc:mc(e),u=l?wc:mc(t),c=(s=s==xc?Oc:s)==Oc,d=(u=u==xc?Oc:u)==Oc,p=s==u;if(p&&bc(e)){if(!bc(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new fc),a||_c(e)?hc(e,t,r,n,o,i):gc(e,t,s,r,n,o,i);if(!(1&r)){var f=c&&Sc.call(e,"__wrapped__"),h=d&&Sc.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new fc),o(g,v,r,n,i)}}return!!p&&(i||(i=new fc),vc(e,t,r,n,o,i))},jc=$s;var Ec=function e(t,r,n,o,i){return t===r||(null==t||null==r||!jc(t)&&!jc(r)?t!=t&&r!=r:kc(t,r,n,o,e,i))},Cc=Ec;var Tc=function(e,t){return Cc(e,t)},qc={exports:{}};
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
!function(e,t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),a=r(45),l=r(46),s=r(47),u=r(48),c=r(49),d=r(12),p=r(32),f=r(33),h=r(31),g=r(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=v},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var a,l={},s={},u={},c={};function d(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||u[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=u[e]&&null!=n.className||(u[e]=n)})))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),a=r(20),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=c:f.insert=d.insert;var h=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),u.push(f),!r.hasNext()&&o(u.ops[u.ops.length-1],f)){var g=new s(t.rest());return u.concat(g).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},l=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},s=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,c,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(r in t)n=u(d,r),d!==(o=u(t,r))&&(h&&o&&(l(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&l(n)?n:{},s(d,{name:r,newValue:e(h,c,o)})):void 0!==o&&s(d,{name:r,newValue:o}));return d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=d(r(3)),a=d(r(2)),l=d(r(0)),s=d(r(16)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=l.default.create(v.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(l.default.Embed);g.scope=l.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return h(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(l.default.query(n,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;i.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof s.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(l.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,l.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var a=v(r(2)),l=v(r(14)),s=v(r(8)),u=v(r(9)),c=v(r(0)),d=r(15),p=v(d),f=v(r(3)),h=v(r(10)),g=v(r(34));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,h.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,n),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e){e===s.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;x.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return x.call(this,(function(){var n=r.getSelection(!0),o=new a.default;if(null==n)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,m({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,m({},e,t))}return r.setSelection(n,s.default.sources.SILENT),o}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatLine(e,t,a)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatText(e,t,a)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var a,l=this,s=w(e,0,r,n,i),u=o(s,4);return e=u[0],a=u[2],i=u[3],x.call(this,(function(){return l.editor.insertText(e,t,a)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=w(t,r,n),a=o(i,4);t=a[0],r=a[1],n=a[3],this.selection.setRange(new d.Range(t,r),n),n!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function _(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function x(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===s.default.sources.USER)return new a.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,l=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=O(o,l,t):0!==n&&(o=O(o,r,n,t)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var u,c,d=[s.default.events.TEXT_CHANGE,l,i,t];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return l}function w(e,t,r,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,i=o):"string"==typeof r&&(null!=o?a[r]=o:i=r),[e,t,a,i=i||s.default.sources.API]}function O(e,t,r,n){if(null==e)return null;var i=void 0,l=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==s.default.sources.USER)})),c=o(u,2);i=c[0],l=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===s.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),f=o(p,2);i=f[0],l=f[1]}return new d.Range(i,l-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=s.default.events,b.sources=s.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},t.expandConfig=_,t.overload=w,t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(7)),a=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&a.default.query(n,a.default.Scope.BLOT)){var l=this.isolate(e,r);i&&l.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(a.default.Inline);s.allowedChildren=[s,a.default.Embed,i.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,a(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){l.log.apply(l,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=o(e),p=o(t)}catch(_n){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],r))return!1;return typeof e==typeof t}(e,t,r))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=d(r(2)),l=d(r(0)),s=d(r(4)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);g.blotName="code",g.tagName="CODE";var v=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(c.default,this.length()-1),a=n(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=l.default.query(n,l.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,u=this.isolate(a,s),c=u.next;u.format(n,o),c instanceof t&&c.formatAt(0,e-a+r-s,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(c.default,e),i=n(o,2),a=i[0],l=i[1];a.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(s.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=m(r(2)),l=m(r(20)),s=m(r(0)),u=m(r(13)),c=m(r(24)),d=r(4),p=m(d),f=m(r(16)),h=m(r(21)),g=m(r(11)),v=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,h.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.default)}(e),e.reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var f=a.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),g=o(h,2),m=g[0],y=g[1],b=(0,v.default)({},(0,d.bubbleFormats)(m));if(m instanceof p.default){var _=m.descendant(s.default.Leaf,y),x=o(_,1)[0];b=(0,v.default)(b,(0,d.bubbleFormats)(x))}c=l.default.attributes.diff(b,c)||{}}else if("object"===n(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}i+=u}return Object.keys(c).forEach((function(r){t.scroll.formatAt(e,u,r,c[r])})),e+u}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof u.default){var l=e-t.offset(r.scroll),s=t.newlineIndex(l+a)-l+1;t.formatAt(l,s,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof s.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(s.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=_((0,d.bubbleFormats)(r),t)}return t}));return v.default.apply(v.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),l=i[0],s=i[1],c=0,d=new a.default;null!=l&&(c=l instanceof u.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(r).concat(d)),f=(new a.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&s.default.find(t[0].target)){var o=s.default.find(t[0].target),i=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),f=(new a.default).insert(o.value());e=(new a.default).retain(l).concat(p.diff(f,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(21)),l=u(r(11)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},h=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.TEXT_CHANGE&&t.length()>0&&n.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;n.setNativeRange(o,i,a,l)}})),this.update(s.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(s.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),a=n(i,2),l=a[0],s=a[1];if(null==l)return null;var u=l.position(s,!0),c=n(u,2);o=c[0],s=c[1];var d=document.createRange();if(t>0){d.setStart(o,s);var p=this.scroll.leaf(e+t),f=n(p,2);if(l=f[0],s=f[1],null==l)return null;var h=l.position(s,!0),g=n(h,2);return o=g[0],s=g[1],d.setEnd(o,s),d.getBoundingClientRect()}var v="left",m=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),v="right"),m=d.getBoundingClientRect()):(m=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:m.top+m.height,height:m.height,left:m[v],right:m[v],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map((function(e){var r=n(e,2),o=r[0],a=r[1],l=i.default.find(o,!0),s=l.offset(t.scroll);return 0===a?s:l instanceof i.default.Container?s+l.length():s+l.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(c(o)));return new f(l,a-l)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var a,l=t.scroll.leaf(e),s=n(l,2),u=s[0],c=s[1],d=u.position(c,0!==r),p=n(d,2);a=p[0],c=p[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=n(i,1)[0],l=a;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,o));l=n(s,1)[0]}if(null!=a&&null!=l){var u=e.getBoundingClientRect();r.top<u.top?e.scrollTop-=u.top-r.top:r.bottom>u.bottom&&(e.scrollTop+=r.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,c(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(p)),e!==s.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(_n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(30),l=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=u(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof l.ParchmentError)return;throw n}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var a=null==r?l.create("text",t):l.create(t,r);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var n=u(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(a.default);function u(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(_n){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=r(31),l=r(17),s=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(l.default);t.default=u},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=f(r(0)),l=f(r(8)),s=r(4),u=f(s),c=f(r(16)),d=f(r(13)),p=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof s.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),a=n(o,2),l=a[0],u=a[1],p=this.line(e+r),f=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&l!==f&&u>0){if(l instanceof s.BlockEmbed||f instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var h=l.newlineIndex(l.length(),!0);if(h>-1&&(l=l.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}var v=f.children.head instanceof c.default?null:f.children.head;l.moveChildren(f,v),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==a.default.query(r,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var l=a.default.create(r,n);this.appendChild(l)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var n=a.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){h(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,r,i))),i-=n})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(a.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,s.BlockEmbed,p.default],t.default=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=g(r(21)),l=g(r(11)),s=g(r(3)),u=g(r(2)),c=g(r(20)),d=g(r(0)),p=g(r(5)),f=g(r(10)),h=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},S),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},O),n.addBinding({key:t.keys.DELETE},{collapsed:!1},O),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E(e);if(null==n||null==n.key)return m.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,s.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,a=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=e.quill.getLine(s.index),c=o(u,2),p=c[0],f=c[1],h=e.quill.getLeaf(s.index),g=o(h,2),v=g[0],m=g[1],y=0===s.length?[v,m]:e.quill.getLeaf(s.index+s.length),b=o(y,2),_=b[0],x=b[1],w=v instanceof d.default.Text?v.value().slice(0,m):"",O=_ instanceof d.default.Text?_.value().slice(x):"",S={collapsed:0===s.length,empty:0===s.length&&p.length()<=1,format:e.quill.getFormat(s),offset:f,prefix:w,suffix:O},k=a.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,l.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,s,S))}));k&&r.preventDefault()}}}}))}}]),t}(h.default);function _(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return v(r={key:e,shiftKey:t,altKey:null},n,/^$/),v(r,"handler",(function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))})),r}function x(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=n.formats(),u=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,a=this.quill.getLine(e.index),l=o(a,1)[0];if(t.offset>=l.length()-1){var s=this.quill.getLine(e.index+1),u=o(s,1)[0];if(u){var d=l.formats(),f=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(d,f)||{},i=u.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function O(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=c.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function S(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(r,n),l=o(a,2),s=l[0],u=l[1];if(null!=s){var c=this.quill.getIndex(s),f=s.newlineIndex(u,!0)+1,h=s.newlineIndex(c+u+i),g=s.domNode.textContent.slice(f,h).split("\n");u=0,g.forEach((function(t,o){e?(s.insertAt(f+u,r.TAB),u+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(f+u,r.TAB.length),u-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function j(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(0,s.default)({},n.formats(),{list:"checked"}),l=(new u.default).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],a=n[1],l=(new u.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),a=i[0],l=i[1];if(l>r)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-l).delete(r+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(new u.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(b.keys.LEFT,!1),"embed left shift":_(b.keys.LEFT,!0),"embed right":_(b.keys.RIGHT,!1),"embed right shift":_(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),l=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),o=void 0,i=void 0,s=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var u=[e,r.start.offset,r.end.offset];o=u[0],i=u[1],s=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof l.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,s].map((function(e){return Math.max(0,Math.min(o.data.length,e-1))})),p=n(d,2);return i=p[0],s=p[1],{startNode:o,startOffset:i,endNode:o,endOffset:s}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=r(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):r}}]),t}(l.default.Attributor.Style),u=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),c=new s("color","color",{scope:l.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=u,t.ColorStyle=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);function s(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(23)),a=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(0)),o=m(r(5)),i=r(4),a=m(i),l=m(r(16)),s=m(r(25)),u=m(r(24)),c=m(r(35)),d=m(r(6)),p=m(r(22)),f=m(r(7)),h=m(r(55)),g=m(r(42)),v=m(r(23));function m(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":v.default}),n.default.register(a.default,l.default,u.default,d.default,p.default,f.default),t.default=o.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),a=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);t.concat(r).concat(l).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(s),r.rightGuard=document.createTextNode(s),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=s,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new i.default.Attributor.Attribute("align","align",a),s=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);t.AlignAttribute=l,t.AlignClass=s,t.AlignStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=r(26),l=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),s=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=l,t.BackgroundStyle=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},l=new i.default.Attributor.Attribute("direction","dir",a),s=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=l,t.DirectionClass=s,t.DirectionStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new l.default.Attributor.Class("font","ql-font",s),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(l.default.Attributor.Style),d=new c("font","font-family",s);t.FontStyle=d,t.FontClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=l},function(e,t,r){e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=s(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(r(9)).default);function s(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)})))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=h(r(3)),a=h(r(2)),l=h(r(8)),s=h(r(23)),u=h(r(34)),c=h(r(59)),d=h(r(60)),p=h(r(28)),f=h(r(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],O=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return m(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===r?"#ffffff":"#000000"),new c.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,_):e.classList.contains("ql-header")?k(e,x):e.classList.contains("ql-size")&&k(e,w)),new p.default(e)})),this.quill.on(l.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);O.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(n.index).delete(n.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(n.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return m(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",r,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",r,l.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":r=(t=(e=r).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!r)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),r,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",l.default.sources.USER),this.quill.setSelection(i+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=S,t.default=O},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],l=this.iterator(i);(n=l())&&a<e+t;){var s=n.length();e>a?r(n,e-a,Math.min(t,a+s-e)):r(n,0,Math.min(s,e+t-a)),a+=s}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var l=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&l(e.parent))},s=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(s),e.optimize(r))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);l(t,!1),t instanceof i.default&&t.children.forEach((function(e){l(e,!1)}))}))):"attributes"===e.type&&l(t.prev)),l(t))})),this.children.forEach(s),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=a.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=a.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1,n=1,o=0;function i(e,t,c){if(e==t)return e?[[o,e]]:[];(c<0||e.length<c)&&(c=null);var p=l(e,t),f=e.substring(0,p);p=s(e=e.substring(p),t=t.substring(p));var h=e.substring(e.length-p),g=function(e,t){var u;if(!e)return[[n,t]];if(!t)return[[r,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,p=c.indexOf(d);if(-1!=p)return u=[[n,c.substring(0,p)],[o,d],[n,c.substring(p+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=r),u;if(1==d.length)return[[r,e],[n,t]];var f=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=l(e.substring(r),t.substring(c)),f=s(e.substring(0,r),t.substring(0,c));d.length<f+p&&(d=t.substring(c-f,c)+t.substring(c,c+p),n=e.substring(0,r-f),o=e.substring(r+p),i=t.substring(0,c-f),a=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,a,d]:null}var i,a,u,c,d,p=o(r,n,Math.ceil(r.length/4)),f=o(r,n,Math.ceil(r.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(a=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],a=i[2],u=i[3]);var h=i[4];return[a,u,c,d,h]}(e,t);if(f){var h=f[0],g=f[1],v=f[2],m=f[3],y=f[4],b=i(h,v),_=i(g,m);return b.concat([[o,y]],_)}return function(e,t){for(var o=e.length,i=t.length,l=Math.ceil((o+i)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var f=o-i,h=f%2!=0,g=0,v=0,m=0,y=0,b=0;b<l;b++){for(var _=-b+g;_<=b-v;_+=2){for(var x=s+_,w=(E=_==-b||_!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-_;E<o&&w<i&&e.charAt(E)==t.charAt(w);)E++,w++;if(c[x]=E,E>o)v+=2;else if(w>i)g+=2;else if(h&&(k=s+f-_)>=0&&k<u&&-1!=d[k]&&E>=(S=o-d[k]))return a(e,t,E,w)}for(var O=-b+m;O<=b-y;O+=2){for(var S,k=s+O,j=(S=O==-b||O!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-O;S<o&&j<i&&e.charAt(o-S-1)==t.charAt(i-j-1);)S++,j++;if(d[k]=S,S>o)y+=2;else if(j>i)m+=2;else if(!h){var E;if((x=s+f-O)>=0&&x<u&&-1!=c[x])if(w=s+(E=c[x])-x,E>=(S=o-S))return a(e,t,E,w)}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&g.unshift([o,f]),h&&g.push([o,h]),u(g),null!=c&&(g=function(e,t){var n=function(e,t){if(0===t)return[o,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===r||a[0]===o){var l=n+a[1].length;if(t===l)return[i+1,e];if(t<l){e=e.slice();var s=t-n,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}n=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==o)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),d(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),d(i,a,3)}return e}(g,c)),g=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},l=2;l<e.length;l+=1)e[l-2][0]===o&&a(e[l-2][1])&&e[l-1][0]===r&&i(e[l-1][1])&&e[l][0]===n&&i(e[l][1])&&(t=!0,e[l-1][1]=e[l-2][1].slice(-1)+e[l-1][1],e[l][1]=e[l-2][1].slice(-1)+e[l][1],e[l-2][1]=e[l-2][1].slice(0,-1));if(!t)return e;var s=[];for(l=0;l<e.length;l+=1)e[l][1].length>0&&s.push(e[l]);return s}(g),g}function a(e,t,r,n){var o=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=i(o,a),c=i(l,s);return u.concat(c)}function l(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function u(e){e.push([o,""]);for(var t,i=0,a=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case n:c++,p+=e[i][1],i++;break;case r:a++,d+=e[i][1],i++;break;case o:a+c>1?(0!==a&&0!==c&&(0!==(t=l(p,d))&&(i-a-c>0&&e[i-a-c-1][0]==o?e[i-a-c-1][1]+=p.substring(0,t):(e.splice(0,0,[o,p.substring(0,t)]),i++),p=p.substring(t),d=d.substring(t)),0!==(t=s(p,d))&&(e[i][1]=p.substring(p.length-t)+e[i][1],p=p.substring(0,p.length-t),d=d.substring(0,d.length-t))),0===a?e.splice(i-c,a+c,[n,p]):0===c?e.splice(i-a,a+c,[r,d]):e.splice(i-a-c,a+c,[r,d],[n,p]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,a=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),f=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),f=!0)),i++;f&&u(e)}var c=i;function d(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}c.INSERT=n,c.DELETE=r,c.EQUAL=o,e.exports=c},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},a.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,u=[],c=l.length;s<c;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&u.push(l[s]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=b(r(3)),l=b(r(2)),s=b(r(0)),u=b(r(5)),c=b(r(10)),d=b(r(9)),p=r(36),f=r(37),h=b(r(13)),g=r(26),v=r(38),m=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",O=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,N],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===C(e).fontStyle&&(r.italic=!0),n.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=E(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=s.default.query(e);if(null==r||"list-item"!==r.blotName||!T(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",A.bind(A,"bold")],["i",A.bind(A,"italic")],["style",function(){return new l.default}]],S=[p.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,f.BackgroundStyle,g.ColorStyle,v.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],O.concat(n.options.matchers).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];(r.matchVisual||a!==F)&&n.addMatcher(i,a)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,_({},h.default.blotName,t[h.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),a=i[0],s=i[1],u=I(this.container,a,s);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new l.default).retain(u.length()-1).delete(1))),x.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new l.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,u.default.sources.USER),t.quill.setSelection(n.length()-r.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=o(n,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(l)}))}})),[t,r]}}]),t}(d.default);function E(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return E(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_({},t,r),n.attributes))}),new l.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function q(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function I(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,o){var i=I(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(o,e)}),i),i=(o[w]||[]).reduce((function(e,t){return t(o,e)}),i)),n.concat(i)}),new l.default):new l.default}function A(e,t,r){return E(r,e,!0)}function L(e,t){var r=s.default.Attributor.Attribute.keys(e),n=s.default.Attributor.Class.keys(e),o=s.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach((function(t){var r=s.default.query(t,s.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=S[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=E(t,i)),t}function P(e,t){var r=s.default.query(e);if(null==r)return t;if(r.prototype instanceof s.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new l.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=E(t,r.blotName,r.formats(e)));return t}function N(e,t){return T(t,"\n")||(q(e)||t.length()>0&&e.nextSibling&&q(e.nextSibling))&&t.insert("\n"),t}function F(e,t){if(q(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var r=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&q(e.parentNode)||null!=e.previousSibling&&q(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&q(e.parentNode)||null!=e.nextSibling&&q(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}j.DEFAULTS={matchers:[],matchVisual:!0},t.default=j,t.matchAttributor=L,t.matchBlot=P,t.matchNewline=N,t.matchSpacing=F,t.matchText=R},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(2)),a=c(r(0)),l=c(r(5)),s=c(r(10)),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var a=document.createElement("div");g(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,(function(o){var s=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];s=!u.hasAttribute("selected")&&(u.value||!1)}else s=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,s);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,s)),l.default.sources.USER)}else t.quill.format(r,s,l.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var o=n(r,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==e)l=null;else if(null==t[i])l=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[i])}))}}]),t}(u.default);function h(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):h(r,t,n)}})),e.appendChild(r)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=f,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=f(r(3)),l=f(r(8)),s=r(43),u=f(s),c=f(r(27)),d=r(15),p=f(r(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return v(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(u.default);y.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){h(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,l.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(l.default.events.SELECTION_CHANGE,(function(t,r,o){if(null!=t){if(0===t.length&&o===l.default.sources.USER){var i=e.quill.scroll.descendant(c.default,t.index),a=n(i,2),s=a[0],u=a[1];if(null!=s){e.linkRange=new d.Range(t.index-u,s.length());var p=c.default.formats(s.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=N(r(29)),o=r(36),i=r(38),a=r(64),l=N(r(65)),s=N(r(66)),u=r(67),c=N(u),d=r(37),p=r(26),f=r(39),h=r(40),g=N(r(56)),v=N(r(68)),m=N(r(27)),y=N(r(69)),b=N(r(70)),_=N(r(71)),x=N(r(72)),w=N(r(73)),O=r(13),S=N(O),k=N(r(74)),j=N(r(75)),E=N(r(57)),C=N(r(41)),T=N(r(28)),q=N(r(59)),I=N(r(60)),A=N(r(61)),L=N(r(108)),P=N(r(62));function N(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":l.default,"formats/code-block":S.default,"formats/header":s.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":O.Code,"formats/italic":v.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":k.default,"modules/syntax":j.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":P.default,"ui/icons":C.default,"ui/picker":T.default,"ui/icon-picker":I.default,"ui/color-picker":q.default,"ui/tooltip":A.default},!0),t.default=n.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(l.default.Attributor.Class),u=new s("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(4)),l=s(r(25));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=r(27),u=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(4),l=r(27),s=(n=l)&&n.__esModule?n:{default:n},u=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(35)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(l.default);t.FormulaBlot=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(r(13)).default);p.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(e){function t(e,r){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){n.highlight(),o=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(f,!0),a.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(l.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),a=d(r(8)),l=r(43),s=d(l),u=r(15),c=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return h(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(s.default);v.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,r){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,r,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var l=i[i.length-1],s=n.quill.getIndex(l),c=Math.min(l.length()-1,t.index+t.length-s),d=n.quill.getBounds(new u.Range(s,c));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return h(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=v},function(e,t,r){e.exports=r(63)}]).default},e.exports=r()}(qc);var Ic=qc.exports;const Ac=g(Ic);var Lc,Pc=N&&N.__extends||(Lc=function(e,t){return Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Lc(e,t)},function(e,t){function r(){this.constructor=e}Lc(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Nc=N&&N.__assign||function(){return Nc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nc.apply(this,arguments)},Fc=N&&N.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n},Rc=N&&N.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mc=Rc(v),Dc=Rc(F),Vc=Rc(Tc),zc=Rc(Ic),Bc=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,o){var i,a,l,s;"text-change"===e?null===(a=(i=r).onEditorChangeText)||void 0===a||a.call(i,r.editor.root.innerHTML,t,o,r.unprivilegedEditor):"selection-change"===e&&(null===(s=(l=r).onEditorChangeSelection)||void 0===s||s.call(l,t,o,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!=n?n:"",r}return Pc(t,e),t.prototype.validateProps=function(e){var t;if(Mc.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Mc.default.Children.count(e.children)&&"textarea"===(null===(t=Mc.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(r=e.value)?r:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),Fc(this.cleanProps,this.dirtyProps).some((function(t){return!Vc.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(r){return!Vc.default(e[r],t.props[r])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(n),Hc((function(){return r.setEditorSelection(l,a)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new zc.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?Vc.default(e.ops,t.ops):Vc.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),Hc((function(){return r.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=Dc.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return Mc.default.Children.count(r)?Mc.default.cloneElement(Mc.default.Children.only(r),o):n?Mc.default.createElement("pre",Nc({},o)):Mc.default.createElement("div",Nc({},o))},t.prototype.render=function(){var e;return Mc.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var o,i;if(this.editor){var a=this.isDelta(this.value)?n.getContents():n.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,o,i,a,l,s;if(this.editor){var u=this.getEditorSelection(),c=!u&&e,d=u&&!e;Vc.default(e,u)||(this.selection=e,null===(o=(n=this.props).onChangeSelection)||void 0===o||o.call(n,e,t,r),c?null===(a=(i=this.props).onFocus)||void 0===a||a.call(i,e,t,r):d&&(null===(s=(l=this.props).onBlur)||void 0===s||s.call(l,u,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=zc.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Mc.default.Component);function Hc(e){Promise.resolve().then(e)}var $c=Bc;const Uc=g($c);function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach((function(t){Xc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function Yc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ld(n.key),n)}}function Qc(e,t,r){return t&&Jc(e.prototype,t),r&&Jc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xc(e,t,r){return(t=ld(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(e)}function td(e,t){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},td(e,t)}function rd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(_n){return!1}}();return function(){var r,n=ed(e);if(t){var o=ed(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rd(e)}(this,r)}}function od(){return od="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ed(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},od.apply(this,arguments)}function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ad(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return id(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?id(e,t):void 0}}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ld(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var sd=9,ud=13,cd=27,dd=38,pd=40;function fd(e,t,r){var n=e;return Object.keys(t).forEach((function(e){r.indexOf(e)>-1?n.dataset[e]=t[e]:delete n.dataset[e]})),n}function hd(e,t){null!==t&&("object"===Gc(t)?e.appendChild(t):e.innerText=t)}var gd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(r,e);var t=nd(r);function r(e,n){var o;return Yc(this,r),Xc(rd(o=t.call(this,e,n)),"hoverHandler",void 0),Xc(rd(o),"hoverHandler",void 0),o.clickHandler=null,o.hoverHandler=null,o.mounted=!1,o}return Qc(r,[{key:"attach",value:function(){od(ed(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){od(ed(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-clicked",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"getHoverHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-hovered",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"buildEvent",value:function(e,t){var r=new Event(e,{bubbles:!0,cancelable:!0});return r.value=Zc({},this.domNode.dataset),r.event=t,r}}],[{key:"create",value:function(e){var t=od(ed(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerText=e.denotationChar,t.appendChild(n),"function"==typeof this.render?t.appendChild(this.render(e)):t.innerText+=e.value,r.setDataValues(t,e)}},{key:"setDataValues",value:function(e,t){var r=e;return Object.keys(t).forEach((function(e){r.dataset[e]=t[e]})),r}},{key:"value",value:function(e){return e.dataset}}]),r}(Ac.import("blots/embed"));gd.blotName="mention",gd.tagName="span",gd.className="mention",Ac.register("blots/mention",gd);var vd=function(){function e(t,r){var n=this;for(var o in Yc(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(e){var t=e.value;return"".concat(t)},renderLoading:function(){return null},onSelect:function(e,t){t(e)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[ud]},Zc(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes}),this.options)"function"==typeof this.options[o]&&(this.options[o]=this.options[o].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();n.onSelectionChange(e)}))})),t.keyboard.addBinding({key:sd},this.selectHandler.bind(this)),t.keyboard.bindings[sd].unshift(t.keyboard.bindings[sd].pop());var i,a=ad(this.options.selectKeys);try{for(a.s();!(i=a.n()).done;){var l=i.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(s){a.e(s)}finally{a.f()}t.keyboard.bindings[ud].unshift(t.keyboard.bindings[ud].pop()),t.keyboard.addBinding({key:cd},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:dd},this.upHandler.bind(this)),t.keyboard.addBinding({key:pd},this.downHandler.bind(this))}return Qc(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),e&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var e=this;if(-1!==this.itemIndex){var t=this.mentionList.childNodes[this.itemIndex].dataset;t.disabled||(this.options.onSelect(t,(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertItem(t,r,n)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;if(null!==n){var o,i=Kc(Kc({},this.options),r);i.showDenotationChar||(n.denotationChar=""),t?o=this.cursorPos:(o=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Ac.sources.USER));var a=this.quill.insertEmbed(o,i.blotName,n,Ac.sources.USER);return i.spaceAfterInsert?(this.quill.insertText(o+1," ",Ac.sources.USER),this.quill.setSelection(o+2,Ac.sources.USER)):this.quill.setSelection(o+1,Ac.sources.USER),this.hideMentionList(),a}}},{key:"onItemMouseEnter",value:function(e){if(!this.suspendMouseEnter){var t=Number(e.target.dataset.index);Number.isNaN(t)||t===this.itemIndex||(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(e){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(e){0===e.button&&(e.preventDefault(),e.stopImmediatePropagation(),this.itemIndex=e.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var e=document.createElement("div");e.className="ql-mention-loading",hd(e,this.options.renderLoading()),this.mentionContainer.append(e),this.showMentionList()}}},{key:"removeLoading",value:function(){var e=this.mentionContainer.getElementsByClassName("ql-mention-loading");e.length>0&&e[0].remove()}},{key:"renderList",value:function(e,t,r){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerText="";for(var n=-1,o=0;o<t.length;o+=1){var i=document.createElement("li");i.id="quill-mention-item-"+o,i.className=this.options.listItemClass?this.options.listItemClass:"",t[o].disabled?(i.className+=" disabled",i.setAttribute("aria-hidden","true")):-1===n&&(n=o),i.dataset.index=o,hd(i,this.options.renderItem(t[o],r)),t[o].disabled?i.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(i.onmouseenter=this.onItemMouseEnter.bind(this),i.onmouseup=this.onItemClick.bind(this),i.onmousedown=this.onItemMouseDown.bind(this)),i.dataset.denotationChar=e,this.mentionList.appendChild(fd(i,t[o],this.options.dataAttributes))}this.itemIndex=n,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+this.values.length-t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(e,t){return e+this.mentionContainer.offsetHeight+t.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(e,t){return!this.options.fixMentionsToQuill&&e+this.mentionContainer.offsetWidth+t.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(e){this.isOpen!==e&&(e?this.options.onOpen():this.options.onClose(),this.isOpen=e)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var e=this,t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n=this.mentionContainer.offsetHeight,o=this.options.offsetTop,i=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else i+=r.left;if(this.containerRightIsNotVisible(i,t)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;i=t.width-a}if("top"===this.options.defaultMenuOrientation){if((o=this.options.fixMentionsToQuill?-1*(n+this.options.offsetTop):r.top-(n+this.options.offsetTop))+t.top<=0){var l=this.options.offsetTop;this.options.fixMentionsToQuill?l+=t.height:l+=r.bottom,o=l}}else if(this.options.fixMentionsToQuill?o+=t.height:o+=r.bottom,this.containerBottomIsNotVisible(o,t)){var s=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(s+=r.top),o=s-n}o>=0?this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))})),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(i,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var e=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n={left:t.left+r.left,top:t.top+r.top,width:0,height:r.height},o=this.options.fixMentionsToQuill?t:n,i=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=o.right;this.mentionContainer.style.right="".concat(l,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var s=o.top,u=document.documentElement.clientHeight-(o.top+o.height),c=this.mentionContainer.offsetHeight<=u,d=this.mentionContainer.offsetHeight<=s;"bottom"===("top"===this.options.defaultMenuOrientation&&d?"top":"bottom"===this.options.defaultMenuOrientation&&c||u>s?"bottom":"top")?(i=o.top+o.height,c||(this.mentionContainer.style.height=u-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))}))):(i=o.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=s-3+"px",i=3),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))}))),this.mentionContainer.style.top="".concat(i,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var e=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(e,this.cursorPos-e)}},{key:"onSomethingChange",value:function(){var e=this,t=this.quill.getSelection();if(null!=t){this.cursorPos=t.index;var r,n,o,i,a=this.getTextBeforeCursor(),l=Math.max(0,this.cursorPos-this.options.maxChars),s=l?this.quill.getText(l-1,l):"",u=(r=a,n=this.options.mentionDenotationChars,o=this.options.isolateCharacter,i=this.options.allowInlineMentionChar,n.reduce((function(e,t){var n;if(o&&i){var a=new RegExp("^".concat(t,"|\\s").concat(t),"g"),l=(r.match(a)||[]).pop();if(!l)return{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex};n=l!==t?r.lastIndexOf(l)+l.length-t.length:0}else n=r.lastIndexOf(t);return n>e.mentionCharIndex?{mentionChar:t,mentionCharIndex:n}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),c=u.mentionChar,d=u.mentionCharIndex;if(function(e,t,r,n){if(-1===e)return!1;if(!r)return!0;var o=e?t[e-1]:n;return!o||!!o.match(/\s/)}(d,a,this.options.isolateCharacter,s)){var p=this.cursorPos-(a.length-d);this.mentionCharPos=p;var f=a.substring(d+c.length);if(f.length>=this.options.minChars&&function(e,t){return t.test(e)}(f,this.getAllowedCharsRegex(c))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var h={abandoned:!1};this.existingSourceExecutionToken=h,this.options.source(f,(function(t,r){h.abandoned||(e.existingSourceExecutionToken=null,e.renderList(c,t,r))}),c)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(e){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(e)}},{key:"onTextChange",value:function(e,t,r){"user"===r&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(e){e&&0===e.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(e){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,e),this.quill.blur(),this.quill.focus()}}]),e}();Ac.register("modules/mention",vd);var md=-1,yd=1,bd=0;function _d(e,t,r){if(e==t)return e?[[bd,e]]:[];(r<0||e.length<r)&&(r=null);var n=wd(e,t),o=e.substring(0,n);n=Od(e=e.substring(n),t=t.substring(n));var i=e.substring(e.length-n),a=function(e,t){var r;if(!e)return[[yd,t]];if(!t)return[[md,e]];var n=e.length>t.length?e:t,o=e.length>t.length?t:e,i=n.indexOf(o);if(-1!=i)return r=[[yd,n.substring(0,i)],[bd,o],[yd,n.substring(i+o.length)]],e.length>t.length&&(r[0][0]=r[2][0]=md),r;if(1==o.length)return[[md,e],[yd,t]];var a=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,l=e.substring(r,r+Math.floor(e.length/4)),s=-1,u="";-1!=(s=t.indexOf(l,s+1));){var c=wd(e.substring(r),t.substring(s)),d=Od(e.substring(0,r),t.substring(0,s));u.length<d+c&&(u=t.substring(s-d,s)+t.substring(s,s+c),n=e.substring(0,r-d),o=e.substring(r+c),i=t.substring(0,s-d),a=t.substring(s+c))}return 2*u.length>=e.length?[n,o,i,a,u]:null}var i,a,l,s,u,c=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));if(!c&&!d)return null;i=d?c&&c[4].length>d[4].length?c:d:c;e.length>t.length?(a=i[0],l=i[1],s=i[2],u=i[3]):(s=i[0],u=i[1],a=i[2],l=i[3]);var p=i[4];return[a,l,s,u,p]}(e,t);if(a){var l=a[0],s=a[1],u=a[2],c=a[3],d=a[4],p=_d(l,u),f=_d(s,c);return p.concat([[bd,d]],f)}return function(e,t){for(var r=e.length,n=t.length,o=Math.ceil((r+n)/2),i=o,a=2*o,l=new Array(a),s=new Array(a),u=0;u<a;u++)l[u]=-1,s[u]=-1;l[i+1]=0,s[i+1]=0;for(var c=r-n,d=c%2!=0,p=0,f=0,h=0,g=0,v=0;v<o;v++){for(var m=-v+p;m<=v-f;m+=2){for(var y=i+m,b=(S=m==-v||m!=v&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-m;S<r&&b<n&&e.charAt(S)==t.charAt(b);)S++,b++;if(l[y]=S,S>r)f+=2;else if(b>n)p+=2;else if(d){if((w=i+c-m)>=0&&w<a&&-1!=s[w])if(S>=(x=r-s[w]))return xd(e,t,S,b)}}for(var _=-v+h;_<=v-g;_+=2){for(var x,w=i+_,O=(x=_==-v||_!=v&&s[w-1]<s[w+1]?s[w+1]:s[w-1]+1)-_;x<r&&O<n&&e.charAt(r-x-1)==t.charAt(n-O-1);)x++,O++;if(s[w]=x,x>r)g+=2;else if(O>n)h+=2;else if(!d){if((y=i+c-_)>=0&&y<a&&-1!=l[y]){var S;b=i+(S=l[y])-y;if(S>=(x=r-x))return xd(e,t,S,b)}}}}return[[md,e],[yd,t]]}(e,t)}(e=e.substring(0,e.length-n),t=t.substring(0,t.length-n));return o&&a.unshift([bd,o]),i&&a.push([bd,i]),Sd(a),null!=r&&(a=function(e,t){var r=function(e,t){if(0===t)return[bd,e];for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o[0]===md||o[0]===bd){var i=r+o[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var a=t-r,l=[o[0],o[1].slice(0,a)],s=[o[0],o[1].slice(a)];return e.splice(n,1,l,s),[n+1,e]}r=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=r[1],o=r[0],i=n[o],a=n[o+1];if(null==i)return e;if(i[0]!==bd)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return n.splice(o,2,a,i),Ed(n,o,2);if(null!=a&&0===a[1].indexOf(i[1])){n.splice(o,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&n.splice(o+2,0,[a[0],l]),Ed(n,o,3)}return e}(a,r)),a=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)e[o-2][0]===bd&&n(e[o-2][1])&&e[o-1][0]===md&&r(e[o-1][1])&&e[o][0]===yd&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var i=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&i.push(e[o]);return i}(a),a}function xd(e,t,r,n){var o=e.substring(0,r),i=t.substring(0,n),a=e.substring(r),l=t.substring(n),s=_d(o,i),u=_d(a,l);return s.concat(u)}function wd(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Od(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Sd(e){e.push([bd,""]);for(var t,r=0,n=0,o=0,i="",a="";r<e.length;)switch(e[r][0]){case yd:o++,a+=e[r][1],r++;break;case md:n++,i+=e[r][1],r++;break;case bd:n+o>1?(0!==n&&0!==o&&(0!==(t=wd(a,i))&&(r-n-o>0&&e[r-n-o-1][0]==bd?e[r-n-o-1][1]+=a.substring(0,t):(e.splice(0,0,[bd,a.substring(0,t)]),r++),a=a.substring(t),i=i.substring(t)),0!==(t=Od(a,i))&&(e[r][1]=a.substring(a.length-t)+e[r][1],a=a.substring(0,a.length-t),i=i.substring(0,i.length-t))),0===n?e.splice(r-o,n+o,[yd,a]):0===o?e.splice(r-n,n+o,[md,i]):e.splice(r-n-o,n+o,[md,i],[yd,a]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&e[r-1][0]==bd?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,n=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==bd&&e[r+1][0]==bd&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&Sd(e)}var kd=_d;kd.INSERT=yd,kd.DELETE=md,kd.EQUAL=bd;var jd=kd;function Ed(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}var Cd,Td,qd=Object.prototype.toString,Id=function(e){var t=qd.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===qd.call(e.callee)),r};var Ad=Array.prototype.slice,Ld=Id,Pd=Object.keys,Nd=Pd?function(e){return Pd(e)}:function(){if(Td)return Cd;var e;if(Td=1,!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Id,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{s(window[e])}catch(_n){return!0}}catch(_n){return!0}return!1}();e=function(e){var o=null!==e&&"object"==typeof e,u="[object Function]"===r.call(e),d=n(e),p=o&&"[object String]"===r.call(e),f=[];if(!o&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var h=a&&u;if(p&&e.length>0&&!t.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(d&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var m in e)h&&"prototype"===m||!t.call(e,m)||f.push(String(m));if(i)for(var y=function(e){if("undefined"==typeof window||!c)return s(e);try{return s(e)}catch(_n){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!t.call(e,l[b])||f.push(l[b]);return f}}return Cd=e}(),Fd=Object.keys;Nd.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Ld(e)?Fd(Ad.call(e)):Fd(e)})}else Object.keys=Nd;return Object.keys||Nd};var Rd,Md=Nd,Dd=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},Vd=Dd,zd=function(){return Vd()&&!!Symbol.toStringTag},Bd=Error,Hd=EvalError,$d=RangeError,Ud=ReferenceError,Wd=SyntaxError,Kd=TypeError,Gd=URIError,Yd="undefined"!=typeof Symbol&&Symbol,Jd=Dd,Qd={__proto__:null,foo:{}},Xd=Object,Zd=Object.prototype.toString,ep=Math.max,tp=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},rp=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Zd.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),o=ep(0,t.length-n.length),i=[],a=0;a<o;a++)i[a]="$"+a;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(i,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var o=t.apply(this,tp(n,arguments));return Object(o)===o?o:this}return t.apply(e,tp(n,arguments))})),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},np=Function.prototype.bind||rp,op=Function.prototype.call,ip=Object.prototype.hasOwnProperty,ap=np.call(op,ip),lp=Bd,sp=Hd,up=$d,cp=Ud,dp=Wd,pp=Kd,fp=Gd,hp=Function,gp=function(e){try{return hp('"use strict"; return ('+e+").constructor;")()}catch(_n){}},vp=Object.getOwnPropertyDescriptor;if(vp)try{vp({},"")}catch(_n){vp=null}var mp=function(){throw new pp},yp=vp?function(){try{return mp}catch(e){try{return vp(arguments,"callee").get}catch(t){return mp}}}():mp,bp="function"==typeof Yd&&"function"==typeof Symbol&&"symbol"==typeof Yd("foo")&&"symbol"==typeof Symbol("bar")&&Jd(),_p={__proto__:Qd}.foo===Qd.foo&&!(Qd instanceof Xd),xp=Object.getPrototypeOf||(_p?function(e){return e.__proto__}:null),wp={},Op="undefined"!=typeof Uint8Array&&xp?xp(Uint8Array):Rd,Sp={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Rd:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Rd:ArrayBuffer,"%ArrayIteratorPrototype%":bp&&xp?xp([][Symbol.iterator]()):Rd,"%AsyncFromSyncIteratorPrototype%":Rd,"%AsyncFunction%":wp,"%AsyncGenerator%":wp,"%AsyncGeneratorFunction%":wp,"%AsyncIteratorPrototype%":wp,"%Atomics%":"undefined"==typeof Atomics?Rd:Atomics,"%BigInt%":"undefined"==typeof BigInt?Rd:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Rd:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Rd:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Rd:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":lp,"%eval%":eval,"%EvalError%":sp,"%Float32Array%":"undefined"==typeof Float32Array?Rd:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Rd:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Rd:FinalizationRegistry,"%Function%":hp,"%GeneratorFunction%":wp,"%Int8Array%":"undefined"==typeof Int8Array?Rd:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Rd:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Rd:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":bp&&xp?xp(xp([][Symbol.iterator]())):Rd,"%JSON%":"object"==typeof JSON?JSON:Rd,"%Map%":"undefined"==typeof Map?Rd:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&bp&&xp?xp((new Map)[Symbol.iterator]()):Rd,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Rd:Promise,"%Proxy%":"undefined"==typeof Proxy?Rd:Proxy,"%RangeError%":up,"%ReferenceError%":cp,"%Reflect%":"undefined"==typeof Reflect?Rd:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Rd:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&bp&&xp?xp((new Set)[Symbol.iterator]()):Rd,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Rd:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":bp&&xp?xp(""[Symbol.iterator]()):Rd,"%Symbol%":bp?Symbol:Rd,"%SyntaxError%":dp,"%ThrowTypeError%":yp,"%TypedArray%":Op,"%TypeError%":pp,"%Uint8Array%":"undefined"==typeof Uint8Array?Rd:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Rd:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Rd:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Rd:Uint32Array,"%URIError%":fp,"%WeakMap%":"undefined"==typeof WeakMap?Rd:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Rd:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Rd:WeakSet};if(xp)try{null.error}catch(_n){var kp=xp(xp(_n));Sp["%Error.prototype%"]=kp}var jp=function e(t){var r;if("%AsyncFunction%"===t)r=gp("async function () {}");else if("%GeneratorFunction%"===t)r=gp("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=gp("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&xp&&(r=xp(o.prototype))}return Sp[t]=r,r},Ep={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cp=np,Tp=ap,qp=Cp.call(Function.call,Array.prototype.concat),Ip=Cp.call(Function.apply,Array.prototype.splice),Ap=Cp.call(Function.call,String.prototype.replace),Lp=Cp.call(Function.call,String.prototype.slice),Pp=Cp.call(Function.call,RegExp.prototype.exec),Np=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fp=/\\(\\)?/g,Rp=function(e,t){var r,n=e;if(Tp(Ep,n)&&(n="%"+(r=Ep[n])[0]+"%"),Tp(Sp,n)){var o=Sp[n];if(o===wp&&(o=jp(n)),void 0===o&&!t)throw new pp("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new dp("intrinsic "+e+" does not exist!")},Mp=function(e,t){if("string"!=typeof e||0===e.length)throw new pp("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new pp('"allowMissing" argument must be a boolean');if(null===Pp(/^%?[^%]*%?$/,e))throw new dp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Lp(e,0,1),r=Lp(e,-1);if("%"===t&&"%"!==r)throw new dp("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new dp("invalid intrinsic syntax, expected opening `%`");var n=[];return Ap(e,Np,(function(e,t,r,o){n[n.length]=r?Ap(o,Fp,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=Rp("%"+n+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(n=s[0],Ip(r,qp([0,1],s)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],p=Lp(d,0,1),f=Lp(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new dp("property names with quotes must have matching quotes");if("constructor"!==d&&c||(l=!0),Tp(Sp,i="%"+(n+="."+d)+"%"))a=Sp[i];else if(null!=a){if(!(d in a)){if(!t)throw new pp("base intrinsic for "+e+" exists, but the property is not available.");return}if(vp&&u+1>=r.length){var h=vp(a,d);a=(c=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else c=Tp(a,d),a=a[d];c&&!l&&(Sp[i]=a)}}return a},Dp={exports:{}},Vp=Mp("%Object.defineProperty%",!0)||!1;if(Vp)try{Vp({},"a",{value:1})}catch(_n){Vp=!1}var zp=Vp,Bp=Mp("%Object.getOwnPropertyDescriptor%",!0);if(Bp)try{Bp([],"length")}catch(_n){Bp=null}var Hp=Bp,$p=zp,Up=Wd,Wp=Kd,Kp=Hp,Gp=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Wp("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Wp("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Wp("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Wp("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Wp("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Wp("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6&&arguments[6],l=!!Kp&&Kp(e,t);if($p)$p(e,t,{configurable:null===i&&l?l.configurable:!i,enumerable:null===n&&l?l.enumerable:!n,value:r,writable:null===o&&l?l.writable:!o});else{if(!a&&(n||o||i))throw new Up("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},Yp=zp,Jp=function(){return!!Yp};Jp.hasArrayLengthDefineBug=function(){if(!Yp)return null;try{return 1!==Yp([],"length",{value:1}).length}catch(_n){return!0}};var Qp=Jp,Xp=Mp,Zp=Gp,ef=Qp(),tf=Hp,rf=Kd,nf=Xp("%Math.floor%"),of=function(e,t){if("function"!=typeof e)throw new rf("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||nf(t)!==t)throw new rf("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in e&&tf){var i=tf(e,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(ef?Zp(e,"length",t,!0,!0):Zp(e,"length",t)),e};!function(e){var t=np,r=Mp,n=of,o=Kd,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(a,i),s=zp,u=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var r=l(t,a,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var c=function(){return l(t,i,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(Dp);var af=Dp.exports,lf=Mp,sf=af,uf=sf(lf("String.prototype.indexOf")),cf=function(e,t){var r=lf(e,!!t);return"function"==typeof r&&uf(e,".prototype.")>-1?sf(r):r},df=zd(),pf=cf("Object.prototype.toString"),ff=function(e){return!(df&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===pf(e)},hf=function(e){return!!ff(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==pf(e)&&"[object Function]"===pf(e.callee)},gf=function(){return ff(arguments)}();ff.isLegacyArguments=hf;var vf=gf?ff:hf,mf=Md,yf="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),bf=Object.prototype.toString,_f=Array.prototype.concat,xf=Gp,wf=Qp(),Of=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==bf.call(o)||!n())return;var o;wf?xf(e,t,r,!0):xf(e,t,r)},Sf=function(e,t){var r=arguments.length>2?arguments[2]:{},n=mf(t);yf&&(n=_f.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)Of(e,n[o],t[n[o]],r[n[o]])};Sf.supportsDescriptors=!!wf;var kf=Sf,jf=function(e){return e!=e},Ef=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!jf(e)||!jf(t))},Cf=Ef,Tf=function(){return"function"==typeof Object.is?Object.is:Cf},qf=Tf,If=kf,Af=kf,Lf=Ef,Pf=Tf,Nf=function(){var e=qf();return If(Object,{is:e},{is:function(){return Object.is!==e}}),e},Ff=af(Pf(),Object);Af(Ff,{getPolyfill:Pf,implementation:Lf,shim:Nf});var Rf,Mf,Df,Vf,zf=Ff,Bf=cf,Hf=zd();if(Hf){Rf=Bf("Object.prototype.hasOwnProperty"),Mf=Bf("RegExp.prototype.exec"),Df={};var $f=function(){throw Df};Vf={toString:$f,valueOf:$f},"symbol"==typeof Symbol.toPrimitive&&(Vf[Symbol.toPrimitive]=$f)}var Uf=Bf("Object.prototype.toString"),Wf=Object.getOwnPropertyDescriptor,Kf=Hf?function(e){if(!e||"object"!=typeof e)return!1;var t=Wf(e,"lastIndex");if(!(t&&Rf(t,"value")))return!1;try{Mf(e,Vf)}catch(_n){return _n===Df}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===Uf(e)},Gf=function(){return"string"==typeof function(){}.name},Yf=Object.getOwnPropertyDescriptor;if(Yf)try{Yf([],"length")}catch(_n){Yf=null}Gf.functionsHaveConfigurableNames=function(){if(!Gf()||!Yf)return!1;var e=Yf((function(){}),"name");return!!e&&!!e.configurable};var Jf=Function.prototype.bind;Gf.boundFunctionsHaveNames=function(){return Gf()&&"function"==typeof Jf&&""!==function(){}.bind().name};var Qf=Gf,Xf=Gp,Zf=Qp(),eh=Qf.functionsHaveConfigurableNames(),th=Kd,rh=function(e,t){if("function"!=typeof e)throw new th("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!eh||(Zf?Xf(e,"name",t,!0,!0):Xf(e,"name",t)),e},nh=Kd,oh=Object,ih=rh((function(){if(null==this||this!==oh(this))throw new nh("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0),ah=ih,lh=kf.supportsDescriptors,sh=Object.getOwnPropertyDescriptor,uh=function(){if(lh&&"gim"===/a/gim.flags){var e=sh(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),e.get.call(r),"dy"===t)return e.get}}return ah},ch=kf.supportsDescriptors,dh=uh,ph=Object.getOwnPropertyDescriptor,fh=Object.defineProperty,hh=TypeError,gh=Object.getPrototypeOf,vh=/a/,mh=kf,yh=ih,bh=uh,_h=function(){if(!ch||!gh)throw new hh("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=dh(),t=gh(vh),r=ph(t,"flags");return r&&r.get===e||fh(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},xh=af(bh());mh(xh,{getPolyfill:bh,implementation:yh,shim:_h});var wh=xh,Oh=Date.prototype.getDay,Sh=Object.prototype.toString,kh=zd(),jh=Md,Eh=vf,Ch=zf,Th=Kf,qh=wh,Ih=function(e){return"object"==typeof e&&null!==e&&(kh?function(e){try{return Oh.call(e),!0}catch(_n){return!1}}(e):"[object Date]"===Sh.call(e))},Ah=Date.prototype.getTime;function Lh(e,t,r){var n=r||{};return!!(n.strict?Ch(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?Ch(e,t):e==t:function(e,t,r){var n,o;if(typeof e!=typeof t)return!1;if(Ph(e)||Ph(t))return!1;if(e.prototype!==t.prototype)return!1;if(Eh(e)!==Eh(t))return!1;var i=Th(e),a=Th(t);if(i!==a)return!1;if(i||a)return e.source===t.source&&qh(e)===qh(t);if(Ih(e)&&Ih(t))return Ah.call(e)===Ah.call(t);var l=Nh(e),s=Nh(t);if(l!==s)return!1;if(l||s){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=jh(e),c=jh(t)}catch(_n){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(!Lh(e[o=u[n]],t[o],r))return!1;return!0}(e,t,n))}function Ph(e){return null==e}function Nh(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}var Fh=Lh,Rh=Object.prototype.hasOwnProperty,Mh=Object.prototype.toString,Dh=Object.defineProperty,Vh=Object.getOwnPropertyDescriptor,zh=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Mh.call(e)},Bh=function(e){if(!e||"[object Object]"!==Mh.call(e))return!1;var t,r=Rh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Rh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||Rh.call(e,t)},Hh=function(e,t){Dh&&"__proto__"===t.name?Dh(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},$h=function(e,t){if("__proto__"===t){if(!Rh.call(e,t))return;if(Vh)return Vh(e,t).value}return e[t]},Uh=function e(){var t,r,n,o,i,a,l=arguments[0],s=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},s=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});s<u;++s)if(null!=(t=arguments[s]))for(r in t)n=$h(l,r),l!==(o=$h(t,r))&&(c&&o&&(Bh(o)||(i=zh(o)))?(i?(i=!1,a=n&&zh(n)?n:[]):a=n&&Bh(n)?n:{},Hh(l,{name:r,newValue:e(c,a,o)})):void 0!==o&&Hh(l,{name:r,newValue:o}));return l},Wh=Fh,Kh=Uh,Gh={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Kh(!0,{},t);for(var o in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(n[o]=e[o]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return Wh(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new Yh(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function Yh(e){this.ops=e,this.index=0,this.offset=0}Yh.prototype.hasNext=function(){return this.peekLength()<1/0},Yh.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=Gh.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},Yh.prototype.peek=function(){return this.ops[this.index]},Yh.prototype.peekLength=function(){return this.ops[this.index]?Gh.length(this.ops[this.index])-this.offset:1/0},Yh.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},Yh.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]};var Jh=jd,Qh=Fh,Xh=Uh,Zh=Gh,eg=String.fromCharCode(0),tg=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};tg.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},tg.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},tg.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},tg.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=Xh(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(Qh(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},tg.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},tg.prototype.filter=function(e){return this.ops.filter(e)},tg.prototype.forEach=function(e){this.ops.forEach(e)},tg.prototype.map=function(e){return this.ops.map(e)},tg.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},tg.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},tg.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+Zh.length(t):t.delete?e-t.delete:e}),0)},tg.prototype.length=function(){return this.reduce((function(e,t){return e+Zh.length(t)}),0)},tg.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=Zh.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=Zh.length(i)}return new tg(r)},tg.prototype.compose=function(e){var t=Zh.iterator(this.ops),r=Zh.iterator(e.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var i=o.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),n.push(t.next());o.retain-i>0&&r.next(o.retain-i)}for(var a=new tg(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())a.push(r.next());else if("delete"===t.peekType())a.push(t.next());else{var l=Math.min(t.peekLength(),r.peekLength()),s=t.next(l),u=r.next(l);if("number"==typeof u.retain){var c={};"number"==typeof s.retain?c.retain=l:c.insert=s.insert;var d=Zh.attributes.compose(s.attributes,u.attributes,"number"==typeof s.retain);if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&Qh(a.ops[a.ops.length-1],c)){var p=new tg(t.rest());return a.concat(p).chop()}}else"number"==typeof u.delete&&"number"==typeof s.retain&&a.push(u)}return a.chop()},tg.prototype.concat=function(e){var t=new tg(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},tg.prototype.diff=function(e,t){if(this.ops===e.ops)return new tg;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:eg;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new tg,o=Jh(r[0],r[1],t),i=Zh.iterator(this.ops),a=Zh.iterator(e.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case Jh.INSERT:r=Math.min(a.peekLength(),t),n.push(a.next(r));break;case Jh.DELETE:r=Math.min(t,i.peekLength()),i.next(r),n.delete(r);break;case Jh.EQUAL:r=Math.min(i.peekLength(),a.peekLength(),t);var o=i.next(r),l=a.next(r);Qh(o.insert,l.insert)?n.retain(r,Zh.attributes.diff(o.attributes,l.attributes)):n.push(l).delete(r)}t-=r}})),n.chop()},tg.prototype.eachLine=function(e,t){t=t||"\n";for(var r=Zh.iterator(this.ops),n=new tg,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=Zh.length(i)-r.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new tg}}n.length()>0&&e(n,{},o)},tg.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=Zh.iterator(this.ops),n=Zh.iterator(e.ops),o=new tg;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),l=n.next(i);if(a.delete)continue;l.delete?o.push(l):o.retain(i,Zh.attributes.transform(a.attributes,l.attributes,t))}else o.retain(Zh.length(r.next()));return o.chop()},tg.prototype.transformPosition=function(e,t){t=!!t;for(var r=Zh.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e};const rg=g(tg),ng=$c.Quill.import("modules/clipboard");const og=(e,t)=>{let r=[];if(!e)return r;let n=e.find((e=>e.code===t));if(!n)return r;if(n.parent){ig(e,n).forEach((t=>{r=r.concat(ag(e,t))}))}return(dt(n.code)||pt(n.code))&&(r=r.concat(ag(e,n))),r},ig=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(ig(e,n))),r},ag=(e,t)=>{let r=[];return dt(t.code)||pt(t.code)?(e.filter((e=>e.parent===t.parent&&e.maxIndex<t.minIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{r=r.concat(t.code),r=r.concat(lg(e,t))})),r):r},lg=(e,t)=>{let r=[];return dt(t.code)?(t.children&&t.children.forEach((t=>{let n=e.find((e=>e.code===t));r=r.concat(n.code),r=r.concat(lg(e,n))})),r):r},sg=(e,t,r,n)=>{var o;const i=e+". "+vt(null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]);let a="",l=t.type;switch(t.type){case"scq_icon_array":case"scq_array":return t.children.filter((e=>"row"==e.type)).map((t=>{var o;return{value:i+" - "+e+". "+vt(null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]),id:e+t.code,type:"SCQ Array Row",instruction:e+t.code+".masked_value"}}));case"text":l="Short Text",a=`${e}.value`;break;case"nps":l="NPS",a=`${e}.value`;break;case"email":l="Email",a=`${e}.value`;break;case"paragraph":a=`${e}.value`,l="Long Text";break;case"number":l="Number",a=`${e}.value`;break;case"date":l="Date",a=`${e}.masked_value`;break;case"time":l="time",a=`${e}.masked_value`;break;case"date_time":l="Date Time",a=`${e}.masked_value`;break;case"scq":l="SCQ",a=`${e}.masked_value`;break;case"icon_scq":l="Icon SCQ",a=`${e}.masked_value`;break;case"image_scq":l="Image SCQ",a=`${e}.masked_value`;break;case"mcq":l="MCQ",a=`${e}.masked_value`;break;case"image_mcq":l="Image MCQ",a=`${e}.masked_value`;break;case"icon_mcq":l="Icon MCQ",a=`${e}.masked_value`;break;default:return[]}return[{id:e,instruction:a,value:i,type:l}]};$c.Quill.register("modules/mentions",vd),$c.Quill.register("modules/clipboard",class extends ng{onPaste(e){e.preventDefault();const t=this.quill.getSelection(),r=e.clipboardData.getData("text/plain");r.split("\r\n").filter((function(e){return e}));const n=(new rg).retain(t.index).delete(t.length).insert(r),o=r.length+t.index;this.quill.updateContents(n,"silent"),this.quill.setSelection(o,0,"silent")}},!0);const ug=R.memo((function({value:e,onBlurListener:t,extended:r,isRtl:n,lang:o,code:i}){console.debug("DraftEditor for: "+i);const a=(e,t)=>t?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e,l=R.createRef(),s=h(v.useState(a(e,!r)),2),u=s[0],d=s[1],f=h(v.useState(0),2),g=(f[0],f[1]);function m(){return m=c((function*(e){const t=mt.getState().designState,r=((e,t,r,n)=>{let o=og(e,t),i=[];return o.forEach((e=>{if(pt(e)){const t=sg(e,r[e],r,n);t.length&&(i=i.concat(t))}})),i})(t.componentIndex,i,t,t.langInfo.mainLang);if(0===e.length)return r;{const t=[];for(var n=0;n<r.length;n++)r[n].value.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(r[n]);return t}})),m.apply(this,arguments)}v.useEffect((()=>{const e=l.current.getEditor();e.setSelection(e.getLength(),0)}),[l.current]);const y=v.useMemo((()=>{return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,t){t(p(p({},e),{},{value:`{{${e.id}:${e.type}}}`}))},source:(e=c((function*(e,t){const r=yield function(e){return m.apply(this,arguments)}(e);t(r)})),function(t,r){return e.apply(this,arguments)})},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}};var e}),[]);let b=null;const _=()=>{g(Date.now()),b&&clearTimeout(b)};return j.jsx("div",{onClick:e=>{"A"===e.target.tagName&&"ql-preview"==e.target.className&&(e.preventDefault(),window.open(e.target.href,"_blank"))},className:"quill-wrapper",onFocus:_,onBlur:()=>{b=setTimeout((()=>{t(u,o)}),500)},children:j.jsx(Uc,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:l,modules:y,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:u,onChange:e=>{_(),d(a(e,!r))}})})}));const cg=R.memo((function({placeholder:e,extended:t,contentKey:r,code:n,editable:o}){const i=ut(),a=ct((e=>{var t;return null===(t=e.designState[n].content)||void 0===t?void 0:t[r]})),l=ct((e=>e.designState.langInfo));ct((e=>{var t;return"G"==n[0]?(null===(t=e.designState[n].groupType)||void 0===t?void 0:t.toLowerCase())||"group":e.designState[n].type}));const s=l.lang,u=l.mainLang,c=l.onMainLang,d=(null==a?void 0:a[s])||"",p=c?e:yt(null==a?void 0:a[u])?null==a?void 0:a[u]:e,f=h(v.useState(!1),2),g=f[0],m=f[1],y=v.useCallback(((e,t)=>{m(!1),s==t&&e!=d&&i(bt({code:n,key:r,lang:s,value:e}))}),[d]),b=_t.includes(s);return j.jsx(P,{className:sa,onClick:e=>{o&&(e.preventDefault(),m(!0))},children:g?j.jsx(ug,{lang:s,isRtl:b,code:n,extended:t,onBlurListener:y,value:d}):yt(d)?j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${ua}`,dangerouslySetInnerHTML:{__html:d}}):j.jsx("div",{className:`${b?"rtl":"ltr"} ql-editor ${ca}`,dangerouslySetInnerHTML:{__html:p}})})})),dg="_actionControl_1xa5v_1",pg="_statusIcon_1xa5v_8";var fg={},hg=L;Object.defineProperty(fg,"__esModule",{value:!0});var gg=fg.default=void 0,vg=hg(lt()),mg=j;gg=fg.default=(0,vg.default)((0,mg.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var yg={},bg=L;Object.defineProperty(yg,"__esModule",{value:!0});var _g=yg.default=void 0,xg=bg(lt()),wg=j;_g=yg.default=(0,xg.default)((0,wg.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Og={},Sg=L;Object.defineProperty(Og,"__esModule",{value:!0});var kg=Og.default=void 0,jg=Sg(lt()),Eg=j;kg=Og.default=(0,jg.default)((0,Eg.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var Cg={},Tg=L;Object.defineProperty(Cg,"__esModule",{value:!0});var qg=Cg.default=void 0,Ig=Tg(lt()),Ag=j;qg=Cg.default=(0,Ig.default)((0,Ag.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");const Lg=R.memo((function({code:e,isGroup:t,parentCode:r,disableDelete:n,onDelete:o,onClone:i,t:a}){const l=ut(),s=M(),u=ct((r=>{var n;return t?(null===(n=r.designState[e].groupType)||void 0===n?void 0:n.toLowerCase())||"group":r.designState[e].type})),c=h(v.useState(!1),2),d=c[0],f=c[1],g=ct((t=>{var r;let n=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code));return void 0!==n&&!n.errors})),m=ct((r=>{var n;return!t&&(null===(n=r.designState[e])||void 0===n||null===(n=n.instructionList)||void 0===n||null===(n=n.filter((e=>e.code.startsWith("validation_")&&!e.errors)))||void 0===n?void 0:n.length)>0})),y=()=>{l(ft(t?p(p({},surveySetup),{},{highlighted:"random"}):{code:r,rules:ht("group"),highlighted:"random",expanded:["random"]}))},b=s.textStyles.question.color,_=ct((t=>{var r,n;let o=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.filter((e=>e.code.startsWith("skip_to")));return(null==o||null===(n=o.filter((e=>!e.errors)))||void 0===n?void 0:n.length)>=1})),x=ct((t=>{var r;let n=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return n&&n.minIndex!=n.maxIndex})),w=ct((t=>{var r,n;let o=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return(null==o||null===(n=o.prioritisedSiblings)||void 0===n?void 0:n.length)>0}));return j.jsxs("div",{className:dg,onClick:e=>{e.target!==e.currentTarget&&(e.preventDefault(),e.stopPropagation())},children:[g&&j.jsx(de,{title:"Has show/Hide Condition",showIcon:!1,children:j.jsx(Ae,{className:pg,onClick:()=>{l(ft({code:e,rules:ht(u),highlighted:"relevance",expanded:["relevance"]}))},children:j.jsx(Ir,{style:{color:b}})})}),m&&j.jsx(de,{title:"Has Validation",showIcon:!1,children:j.jsx(Ae,{className:pg,onClick:()=>{l(ft({code:e,rules:ht(u),highlighted:"validation",expanded:["validation"]}))},children:j.jsx(gg,{style:{color:b}})})}),x&&j.jsx(de,{title:"Is part of a valid Random Group (within parent)",showIcon:!1,children:j.jsx(Ae,{className:pg,onClick:()=>y(),children:j.jsx(_g,{style:{color:b}})})}),w&&j.jsx(de,{title:"Is part of a valid Priority Group (within parent)",showIcon:!1,children:j.jsx(Ae,{className:pg,onClick:()=>y(),children:j.jsx(kg,{style:{color:b}})})}),_&&j.jsx(de,{title:"Has active Skip Logic",showIcon:!1,children:j.jsx(Ae,{className:pg,onClick:()=>{l(ft({code:e,rules:ht(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},children:j.jsx(qg,{style:{color:b}})})}),j.jsx(Ae,{onClick:()=>{l(ft({code:e,rules:ht(u)}))},children:j.jsx(xt,{name:"settings",size:".75em",color:`${b}`})}),!t&&j.jsx(Ae,{onClick:()=>i(),children:j.jsx(xt,{name:"duplicate",size:".75em",color:`${b}`})}),!n&&j.jsx(Ae,{onClick:()=>f(!0),disabled:n,children:j.jsx(xt,{name:"delete",size:".75em",color:b})}),j.jsx(Ar,{open:d,description:a("delete_question"),handleClose:()=>f(!1),handleDelete:o})]})})),Pg="_questionItem_wb37f_1";const Ng=R.memo((function({code:e}){var t,r;const n=Xe(),o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Pg,children:j.jsx(Pr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,"&.Mui-disabled":{color:n.textStyles.text.color,borderBottom:"1px solid"}}}})})})),Fg="_questionItem_1sx0f_1";const Rg=R.memo((function({code:e}){var t,r;const n=Xe(),o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Fg,children:j.jsx(Pr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},value:""})})})),Mg="_questionItem_169qj_1";const Dg=R.memo((function({code:e}){var t,r;const n=Xe(),o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Mg,children:j.jsx(Pr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})})),Vg="_questionItem_13fbu_1",zg="_paragraph_13fbu_15",Bg="_wordCount_13fbu_19";const Hg=R.memo((function({code:e,t:t}){var r,n;const o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsxs("div",{className:Vg,children:[j.jsx(wt,{disabled:!0,className:zg,required:!(null===(r=o.validation)||void 0===r||null===(r=r.validation_required)||void 0===r||!r.isActive),placeholder:o.showHint&&((null===(n=o.content)||void 0===n||null===(n=n.hint)||void 0===n?void 0:n[i])||""),minRows:o.minRows||2,value:""}),o.showWordCount?j.jsx("div",{className:Bg,children:j.jsx("span",{children:t("word_count",{lng:i,count:0})})}):""]})})),$g="_questionItem_1sx0f_1";const Ug=R.memo((function({code:e}){var t;const r=Xe(),n=ct((t=>t.designState[e])),o=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:$g,children:j.jsx(Pr,{variant:"standard",required:!(null===(t=n.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:n.showHint&&n.content.hint?n.content.hint[o]:"",InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}},value:"",type:"file",disabled:!0})})})),Wg="_questionItem_1sx0f_1";const Kg=R.memo((function({code:e}){var t,r;const n=Xe(),o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Wg,children:j.jsx(Pr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",InputProps:{sx:{fontFamily:n.textStyles.text,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},placeholder:o.dateFormat})})})),Gg="_questionItem_wb37f_1";const Yg=R.memo((function({code:e}){var t,r;const n=Xe(),o=ct((t=>t.designState[e])),i=ct((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Gg,children:j.jsx(Pr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",type:"time",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})})),Jg="_addRow_1ii70_5",Qg="_addColumn_1ii70_9";var Xg={},Zg=L;Object.defineProperty(Xg,"__esModule",{value:!0});var ev=Xg.default=void 0,tv=Zg(lt()),rv=j;ev=Xg.default=(0,tv.default)((0,rv.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");const nv=R.memo((function(e){const t=Xe(),r=e.t,n=ct((e=>e.designState.langInfo));n.lang,n.mainLang;const o=ct((t=>t.designState[e.code].children));ct((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.code}));const i=R.useMemo((()=>(null==o?void 0:o.filter((e=>"row"==e.type)))||[]),[o]),a=R.useMemo((()=>(null==o?void 0:o.filter((e=>"column"==e.type)))||[]),[o]);return j.jsxs(j.Fragment,{children:[Ot(e.designMode)&&j.jsx("div",{className:Qg,children:j.jsx(St,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Rr,{children:j.jsxs(Mr,{children:[j.jsx(zr,{children:j.jsxs(Dr,{children:[Ot(e.designMode)&&j.jsx(Br,{sx:{padding:"0"}},"move"),j.jsx(Br,{},"content"),a.map(((t,r)=>j.jsx(iv,{parentQualifiedCode:e.qualifiedCode,langInfo:n,designMode:e.designMode,t:e.t,item:t,index:r},t.qualifiedCode))),Ot(e.designMode)&&j.jsx(Br,{sx:{padding:"0"}},"remove")]})}),j.jsx(Vr,{children:i.map(((t,r)=>j.jsx(ov,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,designMode:e.designMode,item:t,colCount:a.length,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:Jg,children:j.jsx(St,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function ov({item:e,index:t,colCount:r,designMode:n,t:o,langInfo:i,parentQualifiedCode:a}){const l=ut(),s=Xe(),u=v.useRef(),c=i.lang===i.mainLang,d=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.lang]})),p=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.mainLang]})),f=`col-${a}`,g=h(kt({type:f,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=g[0],y=g[1],b=g[2],_=h($r({accept:f,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!u.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(a.bottom-a.top)/2,c=r.getClientOffset().y-a.top;o<i&&c<s||o>i&&c>s||(l(Et({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),x=_[0].handlerId;return(0,_[1])(b(u)),j.jsxs(Dr,{style:{opacity:m?"0.2":"1"},ref:u,"data-handler-id":x,children:[Ot(n)&&j.jsx(Br,{ref:y,sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(ev,{})},"move"),j.jsx(Br,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:j.jsx(Pr,{variant:"standard",value:d||"",onChange:t=>{l(bt({code:e.qualifiedCode,key:"label",lang:i.lang,value:t.target.value}))},placeholder:c?o("content_editor_placeholder_option"):p||o("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),[...Array(r)].map(((e,t)=>j.jsx(Br,{scope:"row",align:"center",sx:{padding:"4px"},children:j.jsx(Hr,{sx:{"&.Mui-disabled":{color:s.textStyles.text.color}},disabled:!0})},t))),Ot(n)&&j.jsx(Br,{onClick:t=>l(jt(e.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(ce,{})},"remove")]},e.code)}function iv({item:e,index:t,designMode:r,t:n,langInfo:o,parentQualifiedCode:i}){const a=ut(),l=Xe(),s=v.useRef(),u=o.lang===o.mainLang,c=_t.includes(o.lang),d=!c,p=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.lang]})),f=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),g=`row-${i}`,m=h(kt({type:g,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),y=m[0],b=m[1],_=m[2],x=h($r({accept:g,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!s.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const l=null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect(),u=(l.right-l.left)/2,p=r.getClientOffset().x-l.left;d&&o<i&&p<u||d&&o>i&&p>u||c&&o<i&&p>u||c&&o>i&&p<u||(a(Et({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),w=x[0].handlerId;return(0,x[1])(_(s)),j.jsxs(Br,{ref:s,"data-handler-id":w,align:"center",sx:{opacity:y?"0.2":"1",fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:[Ot(r)&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:b,sx:{padding:"0"},children:j.jsx(ev,{})},"move"),j.jsx("div",{sx:{padding:"0"},onClick:t=>a(jt(e.qualifiedCode)),children:j.jsx(ce,{})})]}),j.jsx(Pr,{variant:"standard",value:p||"",onChange:t=>{a(bt({code:e.qualifiedCode,key:"label",lang:o.lang,value:t.target.value}))},placeholder:u?n("content_editor_placeholder_option"):f||n("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})]},e.qualifiedCode)}var av={},lv=L;Object.defineProperty(av,"__esModule",{value:!0});var sv=av.default=void 0,uv=lv(lt()),cv=j;sv=av.default=(0,uv.default)((0,cv.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const dv={placeholder:"_placeholder_4iqf5_1",buttonContainer:"_buttonContainer_4iqf5_9"};function pv({code:e,t:t,onMainLang:r}){var n,o;const i=Ct("design"),a=ut(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=ct((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.videoUrl)&&j.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:c.audio_only?"10%":"56%"},children:j.jsx(Ur,{url:Or(c.resources.videoUrl),loop:c.loop||!1,light:!0,controls:!0,config:{forceAudio:c.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),s?j.jsxs("div",{className:dv.buttonContainer,children:[j.jsx(D,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_video")})]}):r?j.jsx("div",{className:dv.buttonContainer,children:j.jsxs(St,{component:"label",variant:"outlined",startIcon:j.jsx(sv,{}),children:[null!==(o=c.resources)&&void 0!==o&&o.videoUrl?t("replace_video"):t("upload_video"),j.jsx("input",{hidden:!0,id:e,accept:"video/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(Tt({code:e,key:"videoUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})}const fv="_signatureCanvas_1uxb1_1";const hv=R.memo((function(){return j.jsx(P,{className:fv,sx:{backgroundColor:"background.default"},children:j.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}));var gv={},vv=L;Object.defineProperty(gv,"__esModule",{value:!0});var mv=gv.default=void 0,yv=vv(lt()),bv=j;mv=gv.default=(0,yv.default)((0,bv.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const _v="_buttonContainer_xjf3c_9";const xv=R.memo((function({code:e,t:t,onMainLang:r}){var n,o;const i=Ct("design"),a=ut(),l=h(v.useState(!1),2),s=l[0],u=l[1],c=ct((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.imageUrl)&&j.jsx("img",{style:{width:"100%"},src:Or(c.resources.imageUrl)}),s?j.jsxs("div",{className:_v,children:[j.jsx(D,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_image")})]}):r?j.jsx("div",{className:_v,children:j.jsxs(St,{variant:"outlined",component:"label",children:[j.jsx(mv,{className:"mr-10"}),null!==(o=c.resources)&&void 0!==o&&o.imageUrl?t("replace_image"):t("upload_image"),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(Tt({code:e,key:"imageUrl",value:t.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})})),wv="_choicesContainer_k0bnu_1",Ov="_choice_k0bnu_1",Sv="_choiceLabels_k0bnu_19";const kv=R.memo((function({code:e}){var t,r;Xe();const n=ct((t=>t.designState[e])),o=ct((e=>e.designState.langInfo.lang));return j.jsxs(j.Fragment,{children:[j.jsxs(P,{className:Sv,children:[j.jsx(P,{children:null===(t=n.content)||void 0===t||null===(t=t.lower_bound_hint)||void 0===t?void 0:t[o]}),j.jsx(P,{children:null===(r=n.content)||void 0===r||null===(r=r.higher_bound_hint)||void 0===r?void 0:r[o]})]}),j.jsx(P,{className:wv,children:[0,1,2,3,4,5,6,7,8,9,10].map((e=>j.jsx(P,{className:Ov,children:e},e)))})]})})),jv="_container_cyg3h_1";const Ev=R.memo((function({code:e}){var t;M();const r=ct((t=>t.designState[e])),n=ct((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:jv,children:[j.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Cv="_container_cyg3h_1";const Tv=R.memo((function({code:e}){var t;M();const r=ct((t=>t.designState[e])),n=ct((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:Cv,children:[j.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),qv="_container_cyg3h_1";const Iv=R.memo((function({code:e}){var t;M();const r=ct((t=>t.designState[e])),n=ct((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:qv,children:[j.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Av={answerAdd:"_answerAdd_5tmqk_1",questionItem:"_questionItem_5tmqk_9",choicesContainer:"_choicesContainer_5tmqk_15"},Lv={answerItem:"_answerItem_shykq_1",answerIcon:"_answerIcon_shykq_10",answerIconOther:"_answerIconOther_shykq_18",answerNumberOrder:"_answerNumberOrder_shykq_27",answerControl:"_answerControl_shykq_32",answerControlRtl:"_answerControlRtl_shykq_37",answerControlOther:"_answerControlOther_shykq_42",answerControlOtherRtl:"_answerControlOtherRtl_shykq_47",answerOtherControl:"_answerOtherControl_shykq_52"};var Pv={},Nv=L;Object.defineProperty(Pv,"__esModule",{value:!0});var Fv=Pv.default=void 0,Rv=Nv(lt()),Mv=j;function Dv(e){const t=ut(),r=Xe(),n=v.useRef(null),o=ct((e=>e.designState.langInfo)),i=ct((t=>t.designState[e.qualifiedCode])),a=o.lang===o.mainLang,l=o.lang,s=_t.includes(l),u=ct((t=>{var r;return"other"===i.type&&(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.qualifiedCode+"Atext"})),c=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[l]})),d=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=h(kt({type:e.droppableId,item:{index:e.index,draggableId:e.qualifiedCode,type:e.droppableId,code:e.code,itemType:e.type,droppableId:e.droppableId},collect:e=>e.isDragging()},[e]),3),f=p[0],g=p[1],m=p[2],y=h($r({accept:e.droppableId,collect:e=>({handlerId:e.getHandlerId()}),hover(r,o){var i;if(!n.current||!o.isOver({shallow:!0})||!r)return;const a=r.index,l=e.index;if(a===l)return;const s=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),u=(s.bottom-s.top)/2,c=o.getClientOffset().y-s.top;a<l&&c<u||a>l&&c>u||(t(Et({type:"reorder_answers",id:r.draggableId,fromIndex:r.index,toIndex:e.index})),r.index=l)}}),2),b=y[0].handlerId;return(0,y[1])(m(n)),qt(r.palette.background.paper),j.jsx("div",{ref:n,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.5),t})(f),"data-handler-id":b,children:j.jsxs(P,{sx:{backgroundColor:u?"beige":"inherit"},className:Lv.answerItem,children:[Ot(e.designMode)&&j.jsx("div",{ref:g,className:Lv.answerIcon,children:j.jsx(ev,{ref:g,sx:{fontSize:18}})}),e.label?j.jsx("b",{children:e.label}):"",j.jsx(Pr,{variant:"standard",disabled:!It(e.designMode),className:"other"===i.type&&s?Lv.answerControlOtherRtl:"other"===i.type?Lv.answerControlOther:s?Lv.answerControlRtl:Lv.answerControl,value:c||"",onChange:r=>t(bt({code:e.qualifiedCode,key:"label",lang:l,value:r.target.value})),placeholder:a?e.t("content_editor_placeholder_option"):d||e.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),"other"===i.type&&j.jsx(Fv,{sx:{fontSize:18},className:Lv.answerIconOther,onClick:()=>{t(ft({code:e.qualifiedCode+"Atext",rules:ht("other_text")}))}},"setup"),Ot(e.designMode)&&j.jsx(ce,{sx:{fontSize:18},className:Lv.answerIcon,onClick:r=>t(jt(e.qualifiedCode))},"close")]})})}Fv=Pv.default=(0,Rv.default)((0,Mv.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");const Vv=R.memo((function(e){const t=Xe(),r=e.t,n=ct((t=>t.designState[e.code].children)),o=ct((t=>t.designState[e.code].type)),i=!("mcq"!=o&&"scq"!=o||n&&n.some((e=>"Aother"===e.code)));return j.jsxs("div",{className:Av.questionItem,children:[j.jsx("div",{className:Av.choicesContainer,children:n&&n.length>0&&n.map(((t,r)=>j.jsx(Dv,{designMode:e.designMode,code:t.code,t:e.t,label:t.code,qualifiedCode:t.qualifiedCode,index:r,type:e.type,droppableId:`option-${e.code}`},t.code)))}),Ot(e.designMode)&&j.jsxs("div",{className:Av.answerAdd,children:[j.jsx(St,{size:"small",style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},onClick:()=>e.addNewAnswer(e.code,o),children:r("add_option")}),i&&j.jsxs(j.Fragment,{children:[j.jsx("span",{style:{color:t.textStyles.question.color},children:r("or")}),j.jsx(St,{style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",className:Av.answerIcon,onClick:()=>e.addNewAnswer(e.code,o,"other"),children:r("add_other")})]})]})]})})),zv="_questionItem_4rcog_5",Bv={imageIconButton:"_imageIconButton_chgwf_1",imageContainer:"_imageContainer_chgwf_8",addAnswerIcon:"_addAnswerIcon_chgwf_16",loadingContainer:"_loadingContainer_chgwf_20",addAnswerButton:"_addAnswerButton_chgwf_26",buttonContainers:"_buttonContainers_chgwf_34"};var Hv={},$v=L;Object.defineProperty(Hv,"__esModule",{value:!0});var Uv=Hv.default=void 0,Wv=$v(lt()),Kv=j;Uv=Hv.default=(0,Wv.default)((0,Kv.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var Gv={},Yv=L;Object.defineProperty(Gv,"__esModule",{value:!0});var Jv=Gv.default=void 0,Qv=Yv(lt()),Xv=j;function Zv({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageAspectRatio:i,designMode:a,hideText:l,t:s,addAnswer:u}){var c;const d=Ct("design"),p=ut(),f=Xe(),g=v.useRef(),m=h(v.useState(!1),2),y=m[0],b=m[1],_=ct((e=>e.designState.langInfo)),x=ct((e=>"add"==n?void 0:e.designState[r])),w=_.lang===_.mainLang,O=_.lang,S=_t.includes(O),k=ct((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[O]})),E=ct((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[_.mainLang]})),C=null!=x&&null!==(c=x.resources)&&void 0!==c&&c.image?`url('${Or(x.resources.image)}')`:"url('/placeholder-image.jpg')";const T=e+"image-drag",q=t%o;const I=(e=>Math.round(e/o))(t),A=h(kt({type:T,item:{index:t,colIndex:q,rowIndex:I,draggableId:r,parentCode:e,type:T,itemType:T},collect:e=>e.isDragging()},[t]),3),L=A[0],N=A[1],F=A[2],R=h($r({accept:T,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!g.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=I,s=e.colIndex,u=q;if(o===i)return;const c=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(c.bottom-c.top)/2,f=(c.right-c.left)/2,h=r.getClientOffset(),v=h.y-c.top,m=h.x-c.left;a<l&&v<d&&s<u&&m<f||a>l&&v>d&&s>u&&m>f||(p(Et({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),M=R[0].handlerId;return(0,R[1])(F(g)),"add"==n?j.jsx(Wr,{height:"100%",item:!0,xs:12/o,children:j.jsx(P,{className:Bv.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:f.palette.background.default,borderRadius:"4px"},children:j.jsx(Ae,{sx:{color:f.textStyles.text.color},className:Bv.addAnswerIcon,onClick:()=>{u()},children:j.jsx(Jv,{})})})},"add"):j.jsx(j.Fragment,{children:j.jsxs(Wr,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/o,children:[j.jsxs("div",{className:Bv.imageContainer,style:{paddingTop:100/i+"%",backgroundImage:C},ref:g,"data-handler-id":M,children:[Ot(a)&&j.jsxs("div",{className:Bv.buttonContainers,children:[j.jsx(Ae,{sx:{color:f.textStyles.text.color},className:Bv.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&p(jt(r))},children:j.jsx(Uv,{})}),j.jsxs(Ae,{sx:{color:f.textStyles.text.color},component:"label",className:Bv.imageIconButton,children:[j.jsx(mv,{}),j.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();let t=e.target.files[0];b(!0),d.uploadResource(t).then((e=>{b(!1),p(Tt({code:r,key:"image",value:e.name}))})).catch((e=>{b(!1),console.error(e)}))}})]}),j.jsx(Ae,{sx:{color:f.textStyles.text.color},ref:N,className:Bv.imageIconButton,children:j.jsx(ev,{})})]}),y&&j.jsx("div",{className:Bv.loadingContainer,children:j.jsx(D,{})})]}),!l&&j.jsx(Pr,{dir:S?"rtl":"ltr",variant:"standard",value:k||"",disabled:!It(a),onChange:e=>p(bt({code:r,key:"label",lang:O,value:e.target.value})),placeholder:w?s("content_editor_placeholder_option"):E||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size}}})]},r)})}Jv=Gv.default=(0,Qv.default)((0,Xv.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const em={imageIconButton:"_imageIconButton_lgrld_1",imageContainer:"_imageContainer_lgrld_8",addAnswerIcon:"_addAnswerIcon_lgrld_12",loadingContainer:"_loadingContainer_lgrld_16",addAnswerButton:"_addAnswerButton_lgrld_23",svgContainer:"_svgContainer_lgrld_31",buttonContainers:"_buttonContainers_lgrld_36"};const tm=new class{search(e,t){return new Promise(((r,n)=>{At.get(`https://api.iconify.design/search?query=${e}&limit=250`,{cancelToken:t.token}).then((e=>{r(e.data.icons)})).catch((e=>{At.isCancel(e)?console.debug("Request canceled:",e.message):n(e)}))}))}},rm={resultImage:"_resultImage_2y7qe_1"};function nm({currentIcon:e,onIconSelected:t}){const r=st("design").t,n=h(v.useState(""),2),o=n[0],i=n[1],a=h(v.useState(null),2),l=a[0],s=a[1],u=h(v.useState([]),2),c=u[0],d=u[1];v.useEffect((()=>{if(l&&l.cancel("Operation canceled by the user."),o){const e=At.CancelToken.source();s(e),tm.search(o,e).then((e=>{d(e)})).catch((e=>{console.error(e)}))}else d([])}),[o]);const p=o?c:["mdi:alphabet-a","mdi:alphabet-b","mdi:alphabet-c","mdi:numeric-1-circle","mdi:numeric-2-circle","mdi:numeric-3-circle","mdi:thumb-up","mdi:thumb-down","mdi:star","mdi:heart","mdi:check-circle","mdi:alert-circle","mdi:smiley","mdi:smiley-outline","jam:smiley","guidance:smiley","ph:smiley","ph:smiley-bold","ph:smiley-duotone","ph:smiley-fill","ph:smiley-light","ph:smiley-thin","octicon:smiley-16","octicon:smiley-24","f7:smiley","f7:smiley-fill","pajamas:smiley","codicon:smiley","dashicons:smiley","fontisto:smiley","el:smiley","jam:smiley-f","vaadin:smiley-o","mdi:smiley-cry","mdi:smiley-cry-outline","mdi:smiley-sad","mdi:smiley-sad-outline","ph:smiley-meh","ph:smiley-meh-bold","ph:smiley-meh-duotone","ph:smiley-meh-fill","ph:smiley-meh-light","ph:smiley-meh-thin","ph:smiley-sad","ph:smiley-sad-bold","ph:smiley-sad-duotone","ph:smiley-sad-fill","ph:smiley-sad-light","ph:smiley-sad-thin","gis:map-smiley","el:smiley-alt","mdi:smiley-cool","mdi:smiley-cool-outline","mdi:smiley-dead","mdi:smiley-dead-outline","mdi:smiley-kiss","mdi:smiley-kiss-outline","mdi:smiley-poop","mdi:smiley-wink","mdi:smiley-wink-outline","ph:lego-smiley","ph:lego-smiley-bold","ph:lego-smiley-duotone","ph:lego-smiley-fill","ph:lego-smiley-light","ph:lego-smiley-thin","ph:scan-smiley","ph:scan-smiley-bold","ph:scan-smiley-duotone","ph:scan-smiley-fill","ph:scan-smiley-light","ph:scan-smiley-thin","ph:smiley-wink","ph:smiley-wink-bold","ph:smiley-wink-duotone","ph:smiley-wink-fill","ph:smiley-wink-light","ph:smiley-wink-thin","garden:smiley-fill-12","garden:smiley-fill-16","streamline:smiley-cool","streamline:smiley-cool-solid","streamline:smiley-cute","streamline:smiley-cute-solid","streamline:smiley-kiss","streamline:smiley-kiss-solid","streamline:smiley-mask","streamline:smiley-mask-solid"];return j.jsxs(Qr,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>t(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(pe,{id:"alert-dialog-title-logic-builder",children:r("Select Icon")}),j.jsx(Xr,{children:j.jsxs("div",{children:[j.jsx("input",{type:"text",placeholder:"Search for icons",value:o,onChange:e=>{i(e.target.value)}}),j.jsx("div",{className:"search-results",children:p.map(((e,r)=>{const n=e.split(":");return j.jsx(om,{onClick:t,source:`https://api.iconify.design/${n[0]}/${n[1]}.svg`},r)}))})]})}),j.jsx(Kr,{children:j.jsx(St,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function om({source:e,onClick:t}){const r=h(v.useState(""),2),n=r[0],o=r[1];return v.useEffect((()=>{At.get(e).then((e=>{(function(e){if("string"!=typeof e)return!1;return/^<svg[\s\S]*<\/svg>$/.test(e)})(e.data)&&o(e.data)}))}),[e]),j.jsx("div",{onClick:()=>{t(n)},className:rm.resultImage,dangerouslySetInnerHTML:{__html:n}})}function im({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,designMode:i,imageHeight:a,hideText:l,t:s,addAnswer:u}){var c,d,p;const f=Ct("design"),g=ut(),m=v.useRef(null),y=Xe(),b=h(v.useState(!1),2),_=b[0],x=b[1],w=ct((e=>e.designState.langInfo)),O=ct((e=>"add"==n?void 0:e.designState[r])),S=w.lang===w.mainLang,k=w.lang,E=null==O||null===(c=O.resources)||void 0===c?void 0:c.icon,C="add"==n||null===(d=O.content)||void 0===d||null===(d=d.label)||void 0===d?void 0:d[k];"add"==n||O.icon;const T=_t.includes(k),q="add"==n||null===(p=O.content)||void 0===p||null===(p=p.label)||void 0===p?void 0:p[w.mainLang],I=e+"icon-drag",A=t%o;const L=(e=>Math.round(e/o))(t),N=h(kt({type:I,item:{index:t,colIndex:A,rowIndex:L,draggableId:r,parentCode:e,type:I,itemType:I},collect:e=>e.isDragging()},[t]),3),F=N[0],R=N[1],M=N[2],D=h($r({accept:I,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!m.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=L,s=e.colIndex,u=A;if(o===i)return;const c=null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(c.bottom-c.top)/2,p=(c.right-c.left)/2,f=r.getClientOffset(),h=f.y-c.top,v=f.x-c.left;a<l&&h<d&&s<u&&v<p||a>l&&h>d&&s>u&&v>p||(g(Et({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),V=D[0].handlerId;return(0,D[1])(M(m)),"add"==n?j.jsx(Wr,{item:!0,xs:12/o,height:"100%",children:j.jsx(P,{className:em.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:y.palette.background.default,height:"100%",width:"100%"},children:j.jsx(Ae,{sx:{color:y.textStyles.text.color},className:em.addAnswerIcon,onClick:()=>{u()},children:j.jsx(Jv,{})})})},"add"):j.jsxs(j.Fragment,{children:[j.jsx(Wr,{style:{opacity:F?"0.2":"1"},item:!0,xs:12/o,children:j.jsxs("div",{ref:m,"data-handler-id":V,children:[Ot(i)&&j.jsxs("div",{className:em.buttonContainers,children:[j.jsx(Ae,{sx:{color:y.textStyles.text.color},className:em.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&g(jt(r))},children:j.jsx(Uv,{})}),j.jsx(Ae,{sx:{color:y.textStyles.text.color},component:"label",className:em.imageIconButton,onClick:()=>x(!0),children:j.jsx(mv,{})}),j.jsx(Ae,{sx:{color:y.textStyles.text.color},ref:R,className:em.imageIconButton,children:j.jsx(ev,{})})]}),j.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsx(Zr,{theme:y,imageHeight:a+"px",svgUrl:E?Or(E):void 0})}),!l&&j.jsx(Pr,{dir:T?"rtl":"ltr",variant:"standard",disabled:!It(i),value:C||"",onChange:e=>g(bt({code:r,key:"label",lang:k,value:e.target.value})),placeholder:S?s("content_editor_placeholder_option"):q||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:y.textStyles.text.font,color:y.textStyles.text.color,fontSize:y.textStyles.text.size}}})]})},r),_&&j.jsx(nm,{currentIcon:"",onIconSelected:e=>{e&&(e=>{const t=new Blob([e],{type:"image/svg+xml"}),n=new File([t],"file.svg",{type:"image/svg+xml"});f.uploadResource(n).then((e=>{g(Tt({code:r,key:"icon",value:e.name}))})).catch((e=>{console.error(e.message)}))})(e),x(!1)}})]})}const am=R.memo((function(e){const t=ct((t=>t.designState[e.code])),r=t.children||[],n=ct((t=>t.designState[e.code].imageAspectRatio||1)),o=t.type,i=Ot(e.designMode)?[...r,{type:"add",code:"add"}]:r,a=t.columns||2,l=t.hideText||!1,s=t.spacing||8,u=t.iconSize?+t.iconSize:64,c=`calc(${100/a}% - ${s}px)`;return j.jsx("div",{className:zv,children:u&&j.jsx(P,{id:"items-"+e.code,sx:{display:"flex",flexWrap:"wrap",gap:`${s}px`},children:i.map(((t,r)=>e.icon?j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(im,{parentCode:e.code,index:r,columnNumber:a,designMode:e.designMode,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code):j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(Zv,{parentCode:e.code,index:r,imageAspectRatio:n,columnNumber:a,hideText:l,designMode:e.designMode,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code)))})})}));const lm=R.memo((function(e){const t=Xe(),r=e.t,n=ct((e=>e.designState.langInfo)),o=e.designMode==Lt.DESIGN,i=ct((t=>t.designState[e.code].children)),a=(null==i?void 0:i.filter((e=>"row"==e.type)))||[],l=(null==i?void 0:i.filter((e=>"column"==e.type)))||[],s=ct((e=>l.map((t=>{var r;return null===(r=e.designState[t.qualifiedCode].resources)||void 0===r?void 0:r.icon}))));return j.jsxs(j.Fragment,{children:[o&&j.jsx("div",{className:Qg,children:j.jsx(St,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(Rr,{children:j.jsxs(Mr,{children:[j.jsx(zr,{children:j.jsxs(Dr,{children:[o&&j.jsx(Br,{sx:{padding:"0"}},"move"),j.jsx(Br,{},"content"),l.map(((t,r)=>j.jsx(um,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,inDesgin:o,icons:s,index:r},t.qualifiedCode))),o&&j.jsx(Br,{sx:{padding:"0"}},"remove")]})}),j.jsx(Vr,{children:a.map(((t,r)=>j.jsx(sm,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,inDesgin:o,columns:l,icons:s,index:r},t.qualifiedCode)))})]})}),o&&j.jsx("div",{className:Jg,children:j.jsx(St,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function sm({item:e,index:t,columns:r,icons:n,inDesgin:o,t:i,langInfo:a,parentQualifiedCode:l}){const s=ut(),u=Xe(),c=v.useRef(),d=a.lang===a.mainLang,p=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[a.lang]})),f=ct((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[a.mainLang]})),g=`col-${l}`,m=h(kt({type:g,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),y=m[0],b=m[1],_=m[2],x=h($r({accept:g,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!c.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=c.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.bottom-a.top)/2,u=r.getClientOffset().y-a.top;o<i&&u<l||o>i&&u>l||(s(Et({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),w=x[0].handlerId;return(0,x[1])(_(c)),j.jsxs(Dr,{style:{opacity:y?"0.2":"1"},ref:c,"data-handler-id":w,children:[o&&j.jsx(Br,{ref:b,sx:{padding:"0",color:u.textStyles.text.color},children:j.jsx(ev,{})},"move"),j.jsx(Br,{sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size,padding:"4px"},children:j.jsx(Pr,{variant:"standard",value:p||"",onChange:t=>{s(bt({code:e.qualifiedCode,key:"label",lang:a.lang,value:t.target.value}))},placeholder:d?i("content_editor_placeholder_option"):f||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:u.textStyles.text.font,color:u.textStyles.text.color,fontSize:u.textStyles.text.size}}})}),r.map(((e,t)=>j.jsx(Br,{scope:"row",align:"center",sx:{padding:"4px"},children:j.jsx(Zr,{opacity:.2,iconColor:u.textStyles.text.color,theme:u,onIconClick:()=>{},imageHeight:"64px",svgUrl:n[t]?Or(n[t]):void 0})},t))),o&&j.jsx(Br,{onClick:t=>s(jt(e.qualifiedCode)),sx:{padding:"0",color:u.textStyles.text.color},children:j.jsx(ce,{})},"remove")]},e.code)}function um({item:e,index:t,icons:r,inDesgin:n,t:o,langInfo:i,parentQualifiedCode:a}){const l=Ct("design"),s=r[t],u=h(v.useState(!1),2),c=u[0],d=u[1],p=ut(),f=Xe(),g=v.useRef(),m=_t.includes(i.lang),y=!m,b=`row-${a}`,_=h(kt({type:b,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),x=_[0],w=_[1],O=_[2],S=h($r({accept:b,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!g.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.right-a.left)/2,s=r.getClientOffset().x-a.left;y&&o<i&&s<l||y&&o>i&&s>l||m&&o<i&&s>l||m&&o>i&&s<l||(p(Et({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),k=S[0].handlerId,E=S[1];return E(O(g)),j.jsxs(j.Fragment,{children:[j.jsxs(Br,{ref:g,"data-handler-id":k,align:"center",sx:{opacity:x?"0.2":"1",fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size,padding:"4px"},children:[n&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:w,sx:{padding:"0"},children:j.jsx(ev,{})},"move"),j.jsx("div",{sx:{padding:"0",color:f.textStyles.text.color},onClick:t=>p(jt(e.qualifiedCode)),children:j.jsx(ce,{})})]}),j.jsx(Zr,{onIconClick:()=>d(!0),theme:f,imageHeight:"64px",svgUrl:s?Or(s):void 0}),!s&&j.jsx("span",{onClick:()=>d(!0),children:"Click to add icon"})]},e.qualifiedCode),c&&j.jsx(nm,{currentIcon:"",onIconSelected:t=>{t&&(t=>{const r=new Blob([t],{type:"image/svg+xml"}),n=new File([r],"file.svg",{type:"image/svg+xml"});l.uploadResource(n).then((t=>{p(Tt({code:e.qualifiedCode,key:"icon",value:t.name}))})).catch((e=>{console.error(e.message)}))})(t),d(!1)}})]})}const cm=R.memo((function({code:e,type:t,t:r,onMainLang:n,addAnswer:o,designMode:i}){switch(t){case"video_display":return j.jsx(pv,{code:e,t:r,onMainLang:n},e);case"image_display":return j.jsx(xv,{code:e,t:r,onMainLang:n},e);case"signature":return j.jsx(hv,{});case"photo_capture":return j.jsx(Ev,{code:e});case"video_capture":return j.jsx(Tv,{code:e});case"date_time":case"date":return j.jsx(Kg,{code:e},e);case"time":return j.jsx(Yg,{code:e},e);case"scq":return j.jsx(Vv,{t:r,designMode:i,onMainLang:n,addNewAnswer:o,code:e,type:"radio"},e);case"image_mcq":case"image_scq":case"image_ranking":return j.jsx(am,{t:r,onMainLang:n,designMode:i,addNewAnswer:o,code:e},e);case"icon_scq":case"icon_mcq":return j.jsx(am,{icon:!0,t:r,onMainLang:n,designMode:i,addNewAnswer:o,code:e},e);case"scq_icon_array":return j.jsx(lm,{onMainLang:n,type:t,designMode:i,addNewAnswer:o,code:e,t:r},e);case"scq_array":return j.jsx(nv,{onMainLang:n,type:t,designMode:i,addNewAnswer:o,code:e,t:r},e);case"file_upload":return j.jsx(Ug,{code:e},e);case"mcq":return j.jsx(Vv,{designMode:i,addNewAnswer:o,code:e,onMainLang:n,t:r,type:"checkbox"},e);case"ranking":return j.jsx(Vv,{designMode:i,onMainLang:n,addNewAnswer:o,code:e,t:r,type:"ranking"},e);case"nps":return j.jsx(kv,{code:e},e);case"number":return j.jsx(Dg,{code:e},e);case"text":return j.jsx(Ng,{code:e},e);case"paragraph":return j.jsx(Hg,{t:r,code:e},e);case"barcode":return j.jsx(Iv,{t:r,code:e},e);case"email":return j.jsx(Rg,{code:e},e);default:return""}}));const dm=R.memo((function({code:e,type:t,isLast:r,parentCode:n,index:o,t:i,designMode:a,onMainLang:l,parentIndex:s,lastAddedComponent:u}){console.debug(e+": "+o);const c=h(v.useState(!1),2),d=c[0],p=c[1],f=v.useRef(),g=ut(),m=Xe(),y=ct((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e})),b=ct((t=>t.designState[e])),_=b.children,x=ct((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)}));ct((e=>!Pt(e.designState.setup)));const w=v.useCallback((()=>g(Nt(e))),[]),O=v.useCallback((()=>g(Ft(e))),[]),S=h(kt({type:"questions",item:{index:o,draggableId:e,droppableId:n,parentIndex:s,isLast:r,type:"questions",itemType:t},collect:t=>{var r;return(null===(r=t.getItem())||void 0===r?void 0:r.draggableId)===e}}),3),k=S[0],E=S[1],C=S[2],T=h($r({accept:"questions",hover(e,t){var i;if(!(f.current&&t.isOver({shallow:!0})&&e&&e.droppableId.startsWith("G")))return;const a=e.index,l=o;if(a===l||(null==e?void 0:e.droppableId)!==n)return;const s=null===(i=f.current)||void 0===i?void 0:i.getBoundingClientRect(),u=t.getClientOffset();a<l&&u.y<s.top+20||a>l&&u.y>s.bottom-20||(g(Et({type:"reorder_questions",source:e.droppableId,destination:n,id:e.draggableId,fromIndex:a,toIndex:l+1})),e.index=l,e.isLast=r)}}),2);T[0],(0,T[1])(C(f));const q=R.useCallback(((e,t,r)=>{const n=_||[];let o=1,i="",a="",l="";const s={code:"value",isActive:!1,returnType:{name:"ranking"==t||"nps"==t||"image_ranking"==t?"Int":"scq_array"==t||"scq_icon_array"==t?"String":"Boolean"},text:""};switch(r){case"column":o=Rt(n.filter((e=>"column"===e.type))),l="Col"+o,i="Ac"+o,a=e+i,g(Mt({label:l,answer:{code:i,qualifiedCode:a,type:r}}));break;case"row":o=Rt(n.filter((e=>"row"===e.type))),i="A"+o,l="Row"+o,a=e+i,g(Mt({label:l,instructionList:[s],answer:{code:i,qualifiedCode:a,type:r}}));break;case"other":i="Aother",l="Other",a=e+i;const u=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"scq"===t?`${e}.value === 'Aother'`:`${e}Aother.value === true`}];g(Mt({label:l,answer:{code:i,qualifiedCode:a,type:r},instructionList:"mcq"==t?[s]:[]})),g(Mt({instructionList:u,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:o=Rt(n),i="A"+o,l="Option "+o,a=e+i,g(Mt({label:l,answer:{code:i,qualifiedCode:a},instructionList:"mcq"==t||"image_mcq"==t||"icon_mcq"==t||"ranking"==t||"image_ranking"==t?[s]:[]}))}}),[_]),I=qt(m.palette.background.paper),A=m.textStyles.question.color;return v.useEffect((()=>{const e=f.current;if("question"===(null==u?void 0:u.type)&&u.groupIndex===s&&u.questionIndex===o&&e){const t=setTimeout((()=>{e.classList.add(la);const t=()=>{e.classList.remove(la)};return e.addEventListener("animationend",t),()=>{e.removeEventListener("animationend",t)}}),50);return()=>clearTimeout(t)}}),[u,s,o]),"question"===(null==u?void 0:u.type)&&u.groupIndex===s&&u.questionIndex,j.jsxs("div",{ref:f,onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},style:y?{border:`0.5px solid ${A}`,backgroundColor:I,color:A}:{opacity:k?"0.2":"1",border:k?"dotted 1px "+I:"0"},className:`question ${ta}`,"data-code":e,children:[j.jsxs(P,{className:aa,children:[x&&j.jsx("div",{className:ea,ref:E,children:j.jsx(Ji,{style:{color:A}})}),a==Lt.DESIGN&&(y||d)&&j.jsx("div",{className:ia,children:j.jsx(Lg,{t:i,isGroup:!1,isInSetup:y,code:e,parentCode:n,onClone:O,onDelete:w,disableDelete:!1})})]}),j.jsxs(P,{className:ra,children:[j.jsx(P,{className:oa,children:Dt(`${t}`,void 0,A)}),j.jsx("div",{className:na,style:{fontFamily:m.textStyles.question.font,color:m.textStyles.question.color,fontSize:m.textStyles.question.size},children:j.jsx(cg,{code:e,editable:a==Lt.DESIGN||a==Lt.LANGUAGES,extended:!1,placeholder:i("content_editor_placeholder_title"),contentKey:"label"})})]}),b.showDescription&&j.jsx(P,{className:Zi,children:j.jsx(cg,{code:e,editable:a==Lt.DESIGN||a==Lt.LANGUAGES,extended:!0,placeholder:i("content_editor_placeholder_description"),contentKey:"description"})}),j.jsx(en,{in:!0!==x,timeout:"auto",unmountOnExit:!0,children:j.jsx(cm,{code:e,type:t,t:i,addAnswer:q,designMode:a,onMainLang:l,addNewAnswer:q})}),j.jsx(Ki,{code:e})]})})),pm="_textHeader_cn5sd_1",fm="_textDescription_cn5sd_5",hm="_groupHeader_cn5sd_48",gm="_moveBox_cn5sd_62",vm="_topLevel_cn5sd_71",mm="_actionToolbarVisible_cn5sd_101",ym="_contentContainer_cn5sd_105",bm="_headerContent_cn5sd_116",_m="_highlight_cn5sd_120",xm={groupDropArea:"_groupDropArea_1m6hh_1",groupDragging:"_groupDragging_1m6hh_24",questionDropArea:"_questionDropArea_1m6hh_45",groupDropAreaWrapper:"_groupDropAreaWrapper_1m6hh_72",hide:"_hide_1m6hh_79",hidden:"_hidden_1m6hh_83",isDragging:"_isDragging_1m6hh_92",groupHidden:"_groupHidden_1m6hh_104",groupEmptyHint:"_groupEmptyHint_1m6hh_111",groupEmptyHintHover:"_groupEmptyHintHover_1m6hh_130",dropText:"_dropText_1m6hh_134"};var wm=new Map,Om=new WeakMap,Sm=0,km=void 0;function jm(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>`${t}_${"root"===t?function(e){return e?(Om.has(e)||(Sm+=1,Om.set(e,Sm.toString())),Om.get(e)):"0"}(e.root):e[t]}`)).toString()}function Em(e,t,r={},n=km){if(void 0===window.IntersectionObserver&&void 0!==n){const o=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const o=function(e){const t=jm(e);let r=wm.get(t);if(!r){const n=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=n.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},wm.set(t,r)}return r}(r),i=o.id,a=o.observer,l=o.elements,s=l.get(e)||[];return l.has(e)||l.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),wm.delete(i))}}function Cm({index:e,groupsCount:t,t:r,emptySurvey:n}){const o=ut(),i=h($r((()=>({accept:"groups",drop:t=>{o(Et({type:"new_group",groupType:t.draggableId,toIndex:e}))},collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[e]),2),a=i[0],l=a.isOver,s=a.item,u=i[1],c=null!=s&&"group"==s.draggableId,d=s&&"new-groups"==s.droppableId&&Im(s,e)&&Am(s,e,t)&&qm(s,e),p=M(),f=qt(p.palette.background.paper);return j.jsxs("div",{ref:u,style:{backgroundColor:c&&f,color:p.palette.text.primary},className:""+(n?xm.groupEmptyHint+(l?" "+xm.groupEmptyHintHover:""):l&&d?xm.groupDropArea:c?xm.groupDragging:xm.groupHidden),children:[c&&!n&&j.jsx(j.Fragment,{children:j.jsx("span",{className:xm.dropText,children:r("empty_survey_hint")})}),n&&j.jsx("span",{children:r("empty_survey_hint")})]})}function Tm({index:e,isLast:t=!1,parentCode:r,parentType:n,parentIndex:o,emptyGroup:i=!1,t:a}){const l=M(),s=ut(),u=ct((e=>e.designState.reorder_refresh_code)),c=h($r((()=>({accept:["new-questions","questions"],hover(i){"questions"===i.type&&i.droppableId!==r&&("end"!==n||Vt(i.itemType))&&(s(Et({type:"reparent_question",source:i.droppableId,destination:r,id:i.draggableId})),i.index=e,i.parentIndex=o,i.isLast=t,i.droppableId=r)},drop:t=>{"new-questions"===t.type&&s(Et({type:"new_question",questionType:t.draggableId,destination:r,toIndex:e}))},collect:i=>{var a,l,s,u,c;return{isOver:"new-questions"==(null===(a=i.getItem())||void 0===a?void 0:a.type)&&i.isOver()&&("end"!==n||Vt(null===(l=i.getItem())||void 0===l?void 0:l.itemType)),isDragging:!("end"===n&&!Vt(null===(s=i.getItem())||void 0===s?void 0:s.itemType))&&("new-questions"===(null===(u=i.getItem())||void 0===u?void 0:u.droppableId)||"questions"===(null===(c=i.getItem())||void 0===c?void 0:c.type)&&i.getItem().droppableId!==r&&(0==e&&i.getItem().isLast&&i.getItem().parentIndex+1===o||t&&0==i.getItem().index&&i.getItem().parentIndex-1===o))}}})),[u,e]),2),d=c[0],p=d.isOver,f=d.isDragging,g=c[1],m=function({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:a,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const d=h(v.useState(null),2),p=d[0],f=d[1],g=v.useRef(),m=h(v.useState({inView:!!l,entry:void 0}),2),y=m[0],b=m[1];g.current=u,v.useEffect((()=>{if(a||!p)return;let l;return l=Em(p,((e,t)=>{b({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&i&&l&&(l(),l=void 0)}),{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},s),()=>{l&&l()}}),[Array.isArray(e)?e.toString():e,p,o,n,i,a,r,s,t]);const _=null==(c=y.entry)?void 0:c.target,x=v.useRef();p||!_||i||a||x.current===_||(x.current=_,b({inView:!!l,entry:void 0}));const w=[f,y.inView,y.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({threshold:0,trackVisibility:f,delay:f?100:0}),y=m.ref,b=m.inView,_=(m.entry,l.palette.text.primary);return j.jsxs("div",{ref:y,children:[" ",j.jsxs("div",{ref:g,style:{marginTop:f||p?"inherit":"0rem",marginBottom:f||p?"inherit":"0rem"},className:"question-drop-area "+(i?p?xm.questionDropArea:f&&b?xm.isDragging:xm.groupEmptyHint:p?xm.questionDropArea:f&&b?xm.isDragging:xm.hidden)+" ",children:[f&&!i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(tn,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:xm.dropText,style:{color:_},children:a("empty_group_hint")})]}),i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(tn,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:xm.dropText,style:{color:_},children:a("empty_group_hint")})]})]})]})}const qm=(e,t)=>(null==e?void 0:e.index)!==t&&t-1!==(null==e?void 0:e.index)||"new-groups"===(null==e?void 0:e.droppableId),Im=(e,t)=>"welcome"!==(null==e?void 0:e.draggableId)||0===t,Am=(e,t,r)=>"end"!==(null==e?void 0:e.draggableId)||t===r;const Lm=R.memo((function({t:e,code:t,children:r,designMode:n}){console.debug("Group Header: "+t);const o=ut(),i=ct((e=>e.designState.langInfo)).onMainLang,a=ct((e=>e.designState[t])),l=Xe(),s=n==Lt.DESIGN,u=v.useCallback((()=>o(zt(t))),[t]);return j.jsx(P,{className:bm,children:j.jsxs(P,{className:hm,"data-code":t,children:[j.jsx(P,{className:ym,children:s&&i&&j.jsx("div",{className:mm,children:j.jsx(Lg,{code:t,t:e,isGroup:!0,onDelete:u,disableDelete:r&&r.length>0})})}),j.jsx("div",{className:pm,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:j.jsx(cg,{editable:n==Lt.DESIGN||n==Lt.LANGUAGES,code:t,extended:!1,contentKey:"label",placeholder:e("content_editor_placeholder_title")})}),a.showDescription&&j.jsx(P,{className:fm,children:j.jsx(cg,{editable:n==Lt.DESIGN||n==Lt.LANGUAGES,code:t,extended:!0,contentKey:"description",placeholder:e("content_editor_placeholder_description")})}),i&&j.jsx(Ki,{type:"group",code:t})]})})}));const Pm=R.memo((function({t:e,code:t,index:r,designMode:n,lastAddedComponent:o}){const i=ut(),a=ct((e=>e.designState[t])),l=n==Lt.DESIGN,s=ct((e=>{var t;return"collapse_groups"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),u=ct((e=>e.designState.langInfo)),c=ct((e=>{var r;return(null===(r=e.designState.setup)||void 0===r?void 0:r.code)==t})),d=M(),p=v.useRef(),f=h(kt({type:"groups",item:()=>({index:r,draggableId:t,droppableId:"groups",type:"groups"}),collect:e=>{var r;return(null===(r=e.getItem())||void 0===r?void 0:r.draggableId)===t}}),3),g=f[0],m=f[1],y=f[2],b=h($r({accept:"groups",hover(e,t){var n;if(!p.current||"welcome"==x||"end"==x||!t.isOver({shallow:!0})||!e||"groups"!=e.droppableId)return;const o=e.index,a=r;if(o===a)return;const l=null===(n=p.current)||void 0===n?void 0:n.getBoundingClientRect(),s=t.getClientOffset();o<a&&s.y<l.top+50||o>a&&s.y>l.bottom-50||(i(Et({type:"reorder_groups",id:e.draggableId,fromIndex:o,toIndex:a})),e.index=a)}}),2),_=(b[0],b[1]);u.onMainLang;const x=null==a?void 0:a.groupType.toLowerCase(),w=null==a?void 0:a.children;_(y(p));const O=qt(d.palette.background.paper),S=d.textStyles.question.color;if(!a)return null;const k="group"===(null==o?void 0:o.type)&&o.index===r;return j.jsxs(P,{sx:c?{border:`0.5px solid ${S}`,color:S,backgroundColor:O}:{backgroundColor:"background.paper"},className:`${vm} ${k?_m:""}`,ref:p,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.2),t})(g),children:[1==s&&"welcome"!==x&&"end"!==x?j.jsx("div",{className:gm,ref:m,children:j.jsx(Ji,{style:{color:S}})}):j.jsx("br",{}),j.jsx(Lm,{t:e,code:t,index:r,designMode:n,children:w}),!0!==s&&j.jsxs(j.Fragment,{children:[w&&w.length>0&&j.jsx(Tm,{index:0,parentCode:t,parentType:x,parentIndex:r,t:e}),null==w?void 0:w.map(((i,a)=>j.jsxs(R.Fragment,{children:[j.jsx(dm,{t:e,parentCode:t,parentIndex:r,index:a,isLast:w.length==a+1,type:i.type,code:i.code,designMode:n,onMainLang:l,lastAddedComponent:o},i.code),j.jsx(Tm,{isLast:w.length==a+1,index:a+1,parentIndex:r,parentCode:t,parentType:x,t:e})]},i.code))),(!w||!w.length)&&l&&j.jsx(Tm,{t:e,index:0,parentCode:t,parentType:x,emptyGroup:!0})]})]})})),Nm=0,Fm=1,Rm=2,Mm=4;function Dm(e,t){return r=>e(t(r))}function Vm(e,t){return t(e)}function zm(e,t){return r=>e(t,r)}function Bm(e,t){return()=>e(t)}function Hm(e,t){return t(e),e}function $m(...e){return e}function Um(e){e()}function Wm(e){return()=>e}function Km(e){return void 0!==e}function Gm(){}function Ym(e,t){return e(Fm,t)}function Jm(e,t){e(Nm,t)}function Qm(e){e(Rm)}function Xm(e){return e(Mm)}function Zm(e,t){return Ym(e,zm(t,Nm))}function ey(e,t){const r=e(Fm,(e=>{r(),t(e)}));return r}function ty(){const e=[];return(t,r)=>{switch(t){case Rm:return void e.splice(0,e.length);case Fm:return e.push(r),()=>{const t=e.indexOf(r);t>-1&&e.splice(t,1)};case Nm:return void e.slice().forEach((e=>{e(r)}));default:throw new Error(`unrecognized action ${t}`)}}}function ry(e){let t=e;const r=ty();return(e,n)=>{switch(e){case Fm:n(t);break;case Nm:t=n;break;case Mm:return t}return r(e,n)}}function ny(e){return Hm(ty(),(t=>Zm(e,t)))}function oy(e,t){return Hm(ry(t),(t=>Zm(e,t)))}function iy(e,...t){const r=function(...e){return t=>e.reduceRight(Vm,t)}(...t);return(t,n)=>{switch(t){case Fm:return Ym(e,r(n));case Rm:return void Qm(e)}}}function ay(e,t){return e===t}function ly(e=ay){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function sy(e){return t=>r=>{e(r)&&t(r)}}function uy(e){return t=>Dm(t,e)}function cy(e){return t=>()=>t(e)}function dy(e,t){return r=>n=>r(t=e(t,n))}function py(e){return t=>r=>{e>0?e--:t(r)}}function fy(e){let t,r=null;return n=>o=>{r=o,t||(t=setTimeout((()=>{t=void 0,n(r)}),e))}}function hy(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout((()=>{n(t)}),e)}}function gy(...e){const t=new Array(e.length);let r=0,n=null;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Ym(e,(e=>{const l=r;r|=a,t[i]=e,l!==o&&r===o&&n&&(n(),n=null)}))})),e=>i=>{const a=()=>e([i].concat(t));r===o?a():n=a}}function vy(...e){return function(t,r){switch(t){case Fm:return function(...e){return()=>{e.map(Um)}}(...e.map((e=>Ym(e,r))));case Rm:return;default:throw new Error(`unrecognized action ${t}`)}}}function my(e,t=ay){return iy(e,ly(t))}function yy(...e){const t=ty(),r=new Array(e.length);let n=0;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Ym(e,(e=>{r[i]=e,n|=a,n===o&&Jm(t,r)}))})),function(e,i){switch(e){case Fm:return n===o&&i(r),Ym(t,i);case Rm:return Qm(t);default:throw new Error(`unrecognized action ${e}`)}}}function by(e,t=[],{singleton:r}={singleton:!0}){return{id:_y(),constructor:e,dependencies:t,singleton:r}}const _y=()=>Symbol();function xy(e,t){const r={},n={};let o=0;const i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(const a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r}const wy="undefined"!=typeof document?R.useLayoutEffect:R.useEffect;function Oy(t,r,n){const o=Object.keys(r.required||{}),i=Object.keys(r.optional||{}),a=Object.keys(r.methods||{}),l=Object.keys(r.events||{}),u=R.createContext({});function c(e,t){e.propsReady&&Jm(e.propsReady,!1);for(var n=0,a=o;n<a.length;n++){const o=a[n];Jm(e[r.required[o]],t[o])}for(var l=0,s=i;l<s.length;l++){const n=s[l];if(n in t){Jm(e[r.optional[n]],t[n])}}e.propsReady&&Jm(e.propsReady,!0)}function d(e){return l.reduce(((t,n)=>(t[n]=function(e){let t,r;const n=()=>t&&t();return function(o,i){switch(o){case Fm:if(i){if(r===i)return;return n(),r=i,t=Ym(e,i),t}return n(),Gm;case Rm:return n(),void(r=null);default:throw new Error(`unrecognized action ${o}`)}}}(e[r.events[n]]),t)),{})}const f=R.forwardRef(((f,g)=>{const v=f.children,m=s(f,e),y=R.useState((()=>Hm(function(e){const t=new Map,r=({id:e,constructor:n,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);const a=n(o.map((e=>r(e))));return i&&t.set(e,a),a};return r(e)}(t),(e=>c(e,m))))),b=h(y,1)[0],_=h(R.useState(Bm(d,b)),1)[0];wy((()=>{for(var e=0,t=l;e<t.length;e++){const r=t[e];r in m&&Ym(_[r],m[r])}return()=>{Object.values(_).map(Qm)}}),[m,_,b]),wy((()=>{c(b,m)})),R.useImperativeHandle(g,Wm(function(e){return a.reduce(((t,n)=>(t[n]=t=>{Jm(e[r.methods[n]],t)},t)),{})}(b)));const x=n;return j.jsx(u.Provider,{value:b,children:n?j.jsx(x,p(p({},xy([...o,...i,...l],m)),{},{children:v})):v})})),g=R.version.startsWith("18")?e=>{const t=R.useContext(u)[e],r=R.useCallback((e=>Ym(t,e)),[t]);return R.useSyncExternalStore(r,(()=>Xm(t)),(()=>Xm(t)))}:e=>{const t=R.useContext(u)[e],r=h(R.useState(Bm(Xm,t)),2),n=r[0],o=r[1];return wy((()=>Ym(t,(e=>{e!==n&&o(Wm(e))}))),[t,n]),n};return{Component:f,usePublisher:e=>R.useCallback(zm(Jm,R.useContext(u)[e]),[e]),useEmitterValue:g,useEmitter:(e,t)=>{const r=R.useContext(u)[e];wy((()=>Ym(r,t)),[t,r])}}}const Sy="undefined"!=typeof document?R.useLayoutEffect:R.useEffect;var ky=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(ky||{});const jy={0:"debug",1:"log",2:"warn",3:"error"},Ey=by((()=>{const e=ry(3),t=ry(((t,r,n=1)=>{var o;n>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Xm(e))&&console[jy[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}));return{log:t,logLevel:e}}),[],{singleton:!0});function Cy(e,t,r){const n=R.useRef(null);let o=e=>{};if("undefined"!=typeof ResizeObserver){const i=R.useMemo((()=>new ResizeObserver((t=>{const n=()=>{const r=t[0].target;null!==r.offsetParent&&e(r)};r?n():requestAnimationFrame(n)}))),[e]);o=e=>{e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Ty(e,t,r){return Cy(e,t,r).callbackRef}function qy(e,t,r,n,o,i,a,l,s){const u=R.useCallback((r=>{const s=function(e,t,r,n){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(!o||void 0===o.dataset.index)continue;const l=parseInt(o.dataset.index),s=parseFloat(o.dataset.knownSize),u=t(o,r);if(0===u&&n("Zero-sized element, this should not happen",{child:o},ky.ERROR),u===s)continue;const c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:u}):i[i.length-1].endIndex++}return i}(r.children,t,l?"offsetWidth":"offsetHeight",o);let u=r.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const c="window"===u.lastElementChild.dataset.viewportType,d=a?l?a.scrollLeft:a.scrollTop:c?l?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:l?u.scrollLeft:u.scrollTop,p=a?l?a.scrollWidth:a.scrollHeight:c?l?document.documentElement.scrollWidth:document.documentElement.scrollHeight:l?u.scrollWidth:u.scrollHeight,f=a?l?a.offsetWidth:a.offsetHeight:c?l?window.innerWidth:window.innerHeight:l?u.offsetWidth:u.offsetHeight;n({scrollTop:Math.max(d,0),scrollHeight:p,viewportHeight:f}),null==i||i(l?Iy("column-gap",getComputedStyle(r).columnGap,o):Iy("row-gap",getComputedStyle(r).rowGap,o)),null!==s&&e(s)}),[e,t,o,i,a,n]);return Cy(u,r,s)}function Iy(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,ky.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function Ay(e,t){return Math.round(e.getBoundingClientRect()[t])}function Ly(e,t){return Math.abs(e-t)<1.01}function Py(e,t,r,n=Gm,o,i){const a=R.useRef(null),l=R.useRef(null),s=R.useRef(null),u=R.useCallback((r=>{const n=r.target,o=n===window||n===document,a=i?o?window.pageXOffset||document.documentElement.scrollLeft:n.scrollLeft:o?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,u=i?o?document.documentElement.scrollWidth:n.scrollWidth:o?document.documentElement.scrollHeight:n.scrollHeight,c=i?o?window.innerWidth:n.offsetWidth:o?window.innerHeight:n.offsetHeight,d=()=>{e({scrollTop:Math.max(a,0),scrollHeight:u,viewportHeight:c})};r.suppressFlushSync?d():V.flushSync(d),null!==l.current&&(a===l.current||a<=0||a===u-c)&&(l.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))}),[e,t]);return R.useEffect((()=>{const e=o||a.current;return n(o||a.current),u({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",u,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",u)}}),[a,u,r,n,o]),{scrollerRef:a,scrollByCallback:function(e){i&&(e={left:e.top,behavior:e.behavior}),a.current.scrollBy(e)},scrollToCallback:function(r){const n=a.current;if(!n||(i?"offsetWidth"in n&&0===n.offsetWidth:"offsetHeight"in n&&0===n.offsetHeight))return;const o="smooth"===r.behavior;let u,c,d;n===window?(c=Math.max(Ay(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),u=i?window.innerWidth:window.innerHeight,d=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(c=n[i?"scrollWidth":"scrollHeight"],u=Ay(n,i?"width":"height"),d=n[i?"scrollLeft":"scrollTop"]);const p=c-u;if(r.top=Math.ceil(Math.max(Math.min(p,r.top),0)),Ly(u,c)||r.top===d)return e({scrollTop:d,scrollHeight:c,viewportHeight:u}),void(o&&t(!0));o?(l.current=r.top,s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{s.current=null,l.current=null,t(!0)}),1e3)):l.current=null,i&&(r={left:r.top,behavior:r.behavior}),n.scrollTo(r)}}}const Ny=by((()=>{const e=ty(),t=ty(),r=ry(0),n=ty(),o=ry(0),i=ty(),a=ty(),l=ry(0),s=ry(0),u=ry(0),c=ry(0),d=ty(),p=ty(),f=ry(!1),h=ry(!1),g=ry(!1);return Zm(iy(e,uy((({scrollTop:e})=>e))),t),Zm(iy(e,uy((({scrollHeight:e})=>e))),a),Zm(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:l,fixedHeaderHeight:s,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:n,horizontalDirection:h,skipAnimationFrameInResizeObserver:g,scrollTo:d,scrollBy:p,statefulScrollTop:o,deviation:r,scrollingInProgress:f}}),[],{singleton:!0}),Fy={lvl:0};function Ry(e,t,r,n=Fy,o=Fy){return{k:e,v:t,lvl:r,l:n,r:o}}function My(e){return e===Fy}function Dy(){return Fy}function Vy(e,t){if(My(e))return Fy;const r=e.k,n=e.l,o=e.r;if(t===r){if(My(n))return o;if(My(o))return n;{const t=h(Wy(n),2);return Qy(Gy(e,{k:t[0],v:t[1],l:Ky(n)}))}}return Qy(Gy(e,t<r?{l:Vy(n,t)}:{r:Vy(o,t)}))}function zy(e,t){if(!My(e))return t===e.k?e.v:t<e.k?zy(e.l,t):zy(e.r,t)}function By(e,t,r="k"){if(My(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=By(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return By(e.l,t,r)}function Hy(e,t,r){return My(e)?Ry(t,r,1):t===e.k?Gy(e,{k:t,v:r}):t<e.k?Jy(Gy(e,{l:Hy(e.l,t,r)})):Jy(Gy(e,{r:Hy(e.r,t,r)}))}function $y(e,t,r){if(My(e))return[];const n=e.k,o=e.v,i=e.l,a=e.r;let l=[];return n>t&&(l=l.concat($y(i,t,r))),n>=t&&n<=r&&l.push({k:n,v:o}),n<=r&&(l=l.concat($y(a,t,r))),l}function Uy(e){return My(e)?[]:[...Uy(e.l),{k:e.k,v:e.v},...Uy(e.r)]}function Wy(e){return My(e.r)?[e.k,e.v]:Wy(e.r)}function Ky(e){return My(e.r)?e.l:Qy(Gy(e,{r:Ky(e.r)}))}function Gy(e,t){return Ry(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function Yy(e){return My(e)||e.lvl>e.r.lvl}function Jy(e){return eb(tb(e))}function Qy(e){const t=e.l,r=e.r,n=e.lvl;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(Yy(t))return tb(Gy(e,{lvl:n-1}));if(My(t)||My(t.r))throw new Error("Unexpected empty nodes");return Gy(t.r,{l:Gy(t,{r:t.r.l}),r:Gy(e,{l:t.r.r,lvl:n-1}),lvl:n})}if(Yy(e))return eb(Gy(e,{lvl:n-1}));if(My(r)||My(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=Yy(t)?r.lvl-1:r.lvl;return Gy(t,{l:Gy(e,{r:t.l,lvl:n-1}),r:eb(Gy(r,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function Xy(e,t,r){if(My(e))return[];const n=By(e,t)[0];return Zy($y(e,n,r),(({k:e,v:t})=>({index:e,value:t})))}function Zy(e,t){const r=e.length;if(0===r)return[];let n=t(e[0]),o=n.index,i=n.value;const a=[];for(let l=1;l<r;l++){const r=t(e[l]),n=r.index,s=r.value;a.push({start:o,end:n-1,value:i}),o=n,i=s}return a.push({start:o,end:1/0,value:i}),a}function eb(e){const t=e.r,r=e.lvl;return My(t)||My(t.r)||t.lvl!==r||t.r.lvl!==r?e:Gy(t,{l:Gy(e,{r:t.l}),lvl:r+1})}function tb(e){const t=e.l;return My(t)||t.lvl!==e.lvl?e:Gy(t,{r:Gy(e,{l:t.r})})}function rb(e,t,r,n=0){let o=e.length-1;for(;n<=o;){const i=Math.floor((n+o)/2),a=r(e[i],t);if(0===a)return i;if(-1===a){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function nb(e,t,r){return e[rb(e,t,r)]}const ob=by((()=>({recalcInProgress:ry(!1)})),[],{singleton:!0});function ib(e){const t=e.size,r=e.startIndex,n=e.endIndex;return e=>e.start===r&&(e.end===n||e.end===1/0)&&e.value===t}function ab(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function lb({index:e},t){return t===e?0:t<e?-1:1}function sb({offset:e},t){return t===e?0:t<e?-1:1}function ub(e){return{index:e.index,value:e}}function cb(e,t,r,n=0){return n>0&&(t=Math.max(t,nb(e,n,lb).offset)),Zy(function(e,t,r,n){const o=rb(e,t,n),i=rb(e,r,n,o);return e.slice(o,i+1)}(e,t,r,sb),ub)}function db(e,t,r,n){let o=e,i=0,a=0,s=0,u=0;if(0!==t){u=rb(o,t-1,lb);s=o[u].offset;const e=By(r,t-1);i=e[0],a=e[1],o.length&&o[u].size===By(r,t)[1]&&(u-=1),o=o.slice(0,u+1)}else o=[];var c,d=l(Xy(r,t,1/0));try{for(d.s();!(c=d.n()).done;){const e=c.value,t=e.start,r=e.value,l=t-i,u=l*a+s+l*n;o.push({offset:u,size:r,index:t}),i=t,s=u,a=r}}catch(p){d.e(p)}finally{d.f()}return{offsetTree:o,lastIndex:i,lastOffset:s,lastSize:a}}function pb(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,ky.DEBUG);const i=e.sizeTree;let a=i,s=0;if(r.length>0&&My(i)&&2===t.length){const e=t[0].size,n=t[1].size;a=r.reduce(((t,r)=>Hy(Hy(t,r,e),r+1,n)),a)}else{var u=function(e,t){let r=My(e)?0:1/0;var n,o=l(t);try{for(o.s();!(n=o.n()).done;){const t=n.value,o=t.size,u=t.startIndex,c=t.endIndex;if(r=Math.min(r,u),My(e)){e=Hy(e,0,o);continue}const d=Xy(e,u-1,c+1);if(d.some(ib(t)))continue;let p=!1,f=!1;var i,a=l(d);try{for(a.s();!(i=a.n()).done;){const t=i.value,r=t.start,n=t.end,a=t.value;p?(c>=r||o===a)&&(e=Vy(e,r)):(f=a!==o,p=!0),n>c&&c>=r&&a!==o&&(e=Hy(e,c+1,a))}}catch(s){a.e(s)}finally{a.f()}f&&(e=Hy(e,u,o))}}catch(s){o.e(s)}finally{o.f()}return[e,r]}(a,t),c=h(u,2);a=c[0],s=c[1]}if(a===i)return e;const d=db(e.offsetTree,s,a,o),p=d.offsetTree,f=d.lastIndex,g=d.lastSize,v=d.lastOffset;return{sizeTree:a,offsetTree:p,lastIndex:f,lastOffset:v,lastSize:g,groupOffsetTree:r.reduce(((e,t)=>Hy(e,t,fb(t,p,o))),Dy()),groupIndices:r}}function fb(e,t,r){if(0===t.length)return 0;const n=nb(t,e,lb),o=n.offset,i=e-n.index,a=n.size*i+(i-1)*r+o;return a>0?a+r:a}function hb(e,t,r){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=gb("LAST"===e.index?r:e.index,t);return n=Math.max(0,n,Math.min(r,n)),n}}function gb(e,t){if(!vb(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function vb(e){return!My(e.groupOffsetTree)}const mb={offsetHeight:"height",offsetWidth:"width"},yb=by((([{log:e},{recalcInProgress:t}])=>{const r=ty(),n=ty(),o=oy(n,0),i=ty(),a=ty(),l=ry(0),s=ry([]),u=ry(void 0),c=ry(void 0),d=ry(((e,t)=>Ay(e,mb[t]))),f=ry(void 0),h=ry(0),g={offsetTree:[],sizeTree:Dy(),groupOffsetTree:Dy(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=oy(iy(r,gy(s,e,h),dy(pb,g),ly()),g),m=oy(iy(s,ly(),dy(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),uy((({prev:e})=>e))),[]);Zm(iy(s,sy((e=>e.length>0)),gy(v,h),uy((([e,t,r])=>{const n=e.reduce(((e,n,o)=>Hy(e,n,fb(n,t.offsetTree,r)||o)),Dy());return p(p({},t),{},{groupIndices:e,groupOffsetTree:n})}))),v),Zm(iy(n,gy(v),sy((([e,{lastIndex:t}])=>e<t)),uy((([e,{lastIndex:t,lastSize:r}])=>[{startIndex:e,endIndex:t,size:r}]))),r),Zm(u,c);const y=oy(iy(u,uy((e=>void 0===e))),!0);Zm(iy(c,sy((e=>void 0!==e&&My(Xm(v).sizeTree))),uy((e=>[{startIndex:0,endIndex:0,size:e}]))),r);const b=ny(iy(r,gy(v),dy((({sizes:e},[t,r])=>({changed:r!==e,sizes:r})),{changed:!1,sizes:g}),uy((e=>e.changed))));Ym(iy(l,dy(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),uy((e=>e.diff))),(e=>{const r=Xm(v).groupIndices;if(e>0)Jm(t,!0),Jm(i,e+ab(e,r));else if(e<0){const t=Xm(m);t.length>0&&(e-=ab(-e,t)),Jm(a,e)}})),Ym(iy(l,gy(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},ky.ERROR)}));const _=ny(i);Zm(iy(i,gy(v),uy((([e,t])=>{const r=t.groupIndices.length>0,n=[],o=t.lastSize;if(r){const r=zy(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],l=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;n.push({startIndex:e,endIndex:e,size:r}),n.push({startIndex:e+1,endIndex:e+1+l-1,size:o}),a++,i+=l+1}const l=Uy(t.sizeTree);return i!==e&&l.shift(),l.reduce(((t,{k:r,v:n})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}]),{ranges:o,prevIndex:r+e,prevSize:n}}),{ranges:n,prevIndex:e,prevSize:0}).ranges}return Uy(t.sizeTree).reduce(((t,{k:r,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}],prevIndex:r+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:o}).ranges}))),r);const x=ny(iy(a,gy(v,h),uy((([e,{offsetTree:t},r])=>fb(-e,t,r)))));return Zm(iy(a,gy(v,h),uy((([e,t,r])=>{if(t.groupIndices.length>0){if(My(t.sizeTree))return t;let n=Dy();const o=Xm(m);let i=0,a=0,l=0;for(;i<-e;){l=o[a];const e=o[a+1]-l-1;a++,i+=e+1}n=Uy(t.sizeTree).reduce(((t,{k:r,v:n})=>Hy(t,Math.max(0,r+e),n)),n);if(i!==-e){n=Hy(n,0,zy(t.sizeTree,l));n=Hy(n,1,By(t.sizeTree,1-e)[1])}return p(p({},t),{},{sizeTree:n},db(t.offsetTree,0,n,r))}{const n=Uy(t.sizeTree).reduce(((t,{k:r,v:n})=>Hy(t,Math.max(0,r+e),n)),Dy());return p(p({},t),{},{sizeTree:n},db(t.offsetTree,0,n,r))}}))),v),{data:f,totalCount:n,sizeRanges:r,groupIndices:s,defaultItemSize:c,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:x,beforeUnshiftWith:_,firstItemIndex:l,gap:h,sizes:v,listRefresh:b,statefulTotalCount:o,trackItemSizes:y,itemSize:d}}),$m(Ey,ob),{singleton:!0}),bb="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function _b(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&bb||(t.behavior="auto"),t.offset||(t.offset=0),t}const xb=by((([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:a,smoothScrollTargetReached:l,headerHeight:s,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:d},{log:p}])=>{const f=ty(),h=ty(),g=ry(0);let v=null,m=null,y=null;function b(){v&&(v(),v=null),y&&(y(),y=null),m&&(clearTimeout(m),m=null),Jm(o,!1)}return Zm(iy(f,gy(e,i,t,g,s,u,p),gy(n,c,d),uy((([[e,t,n,i,a,s,u,c],d,p,g])=>{const _=_b(e),x=_.align,w=_.behavior,O=_.offset,S=i-1,k=hb(_,t,S);let j=fb(k,t.offsetTree,d)+s;"end"===x?(j+=p+By(t.sizeTree,k)[1]-n+g,k===S&&(j+=u)):"center"===x?j+=(p+By(t.sizeTree,k)[1]-n+g)/2:j-=a,O&&(j+=O);const E=t=>{b(),t?(c("retrying to scroll to",{location:e},ky.DEBUG),Jm(f,e)):(Jm(h,!0),c("list did not change, scroll successful",{},ky.DEBUG))};if(b(),"smooth"===w){let e=!1;y=Ym(r,(t=>{e=e||t})),v=ey(l,(()=>{E(e)}))}else v=ey(iy(r,(C=150,e=>{const t=setTimeout((()=>{e(!1)}),C);return r=>{r&&(e(!0),clearTimeout(t))}})),E);var C;return m=setTimeout((()=>{b()}),1200),Jm(o,!0),c("scrolling from index to",{index:k,top:j,behavior:w},ky.DEBUG),{top:j,behavior:w}}))),a),{scrollToIndex:f,scrollTargetReached:h,topListHeight:g}}),$m(yb,Ny,Ey),{singleton:!0});const wb="up",Ob="down",Sb={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},kb=by((([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{const a=ry(!1),l=ry(!0),s=ty(),u=ty(),c=ry(4),d=ry(0),p=oy(iy(vy(iy(my(t),py(1),cy(!0)),iy(my(t),py(1),cy(!1),hy(100))),ly()),!1),f=oy(iy(vy(iy(i,cy(!0)),iy(i,cy(!1),hy(200))),ly()),!1);Zm(iy(yy(my(t),my(d)),uy((([e,t])=>e<=t)),ly()),l),Zm(iy(l,fy(50)),u);const h=ny(iy(yy(e,my(r),my(n),my(o),my(c)),dy(((e,[{scrollTop:t,scrollHeight:r},n,o,i,a])=>{const l={viewportHeight:n,scrollTop:t,scrollHeight:r};if(t+n-r>-a){let r,n;return t>e.state.scrollTop?(r="SCROLLED_DOWN",n=e.state.scrollTop-t):(r="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:l,atBottomBecause:r,scrollTopDelta:n}}let s;return s=l.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:s,state:l}}),Sb),ly(((e,t)=>e&&e.atBottom===t.atBottom)))),g=oy(iy(e,dy(((e,{scrollTop:t,scrollHeight:r,viewportHeight:n})=>{if(Ly(e.scrollHeight,r))return{scrollTop:t,scrollHeight:r,jump:0,changed:!1};{const o=r-(t+n)<1;return e.scrollTop!==t&&o?{scrollHeight:r,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:r,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),sy((e=>e.changed)),uy((e=>e.jump))),0);Zm(iy(h,uy((e=>e.atBottom))),a),Zm(iy(a,fy(50)),s);const v=ry(Ob);Zm(iy(e,uy((({scrollTop:e})=>e)),ly(),dy(((e,t)=>Xm(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?wb:Ob,prevScrollTop:t}),{direction:Ob,prevScrollTop:0}),uy((e=>e.direction))),v),Zm(iy(e,fy(50),cy("none")),v);const m=ry(0);return Zm(iy(p,sy((e=>!e)),cy(0)),m),Zm(iy(t,fy(100),gy(p),sy((([e,t])=>!!t)),dy((([e,t],[r])=>[t,r]),[0,0]),uy((([e,t])=>t-e))),m),{isScrolling:p,isAtTop:l,isAtBottom:a,atBottomState:h,atTopStateChange:u,atBottomStateChange:s,scrollDirection:v,atBottomThreshold:c,atTopThreshold:d,scrollVelocity:m,lastJumpDueToItemResize:g}}),$m(Ny)),jb=by((([{log:e}])=>{const t=ry(!1),r=ny(iy(t,sy((e=>e)),ly()));return Ym(t,(t=>{t&&Xm(e)("props updated",{},ky.DEBUG)})),{propsReady:t,didMount:r}}),$m(Ey),{singleton:!0});function Eb(e,t){0==e?t():requestAnimationFrame((()=>Eb(e-1,t)))}function Cb(e,t){const r=t-1;return"number"==typeof e?e:"LAST"===e.index?r:e.index}const Tb=by((([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o,scrollTargetReached:i},{didMount:a}])=>{const l=ry(!0),s=ry(0),u=ry(!0);return Zm(iy(a,gy(s),sy((([e,t])=>!!t)),cy(!1)),l),Zm(iy(a,gy(s),sy((([e,t])=>!!t)),cy(!1)),u),Ym(iy(yy(t,a),gy(l,e,r,u),sy((([[,e],t,{sizeTree:r},n,o])=>e&&(!My(r)||Km(n))&&!t&&!o)),gy(s)),(([,e])=>{ey(i,(()=>{Jm(u,!0)})),Eb(4,(()=>{ey(n,(()=>{Jm(l,!0)})),Jm(o,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s,initialItemFinalLocationReached:u}}),$m(yb,Ny,xb,jb),{singleton:!0});function qb(e){return!!e&&("smooth"===e?"smooth":"auto")}const Ib=by((([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:a,didMount:l},{log:s},{scrollingInProgress:u}])=>{const c=ry(!1),d=ty();let p=null;function f(e){Jm(o,{index:"LAST",align:"end",behavior:e})}function h(e){const t=ey(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||p||(Xm(s)("scrolling to bottom due to increased size",{},ky.DEBUG),f("auto"))}));setTimeout(t,100)}return Ym(iy(yy(iy(my(e),py(1)),l),gy(my(c),r,i,u),uy((([[e,t],r,n,o,i])=>{let a=t&&o,l="auto";return a&&(l=((e,t)=>"function"==typeof e?qb(e(t)):t&&qb(e))(r,n||i),a=a&&!!l),{totalCount:e,shouldFollow:a,followOutputBehavior:l}})),sy((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:r})=>{p&&(p(),p=null),p=ey(t,(()=>{Xm(s)("following output to ",{totalCount:e},ky.DEBUG),f(r),p=null}))})),Ym(iy(yy(my(c),e,a),sy((([e,,t])=>e&&t)),dy((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),sy((({refreshed:e})=>e)),gy(c,e)),(([,e])=>{Xm(i)&&h(!1!==e)})),Ym(d,(()=>{h(!1!==Xm(c))})),Ym(yy(my(c),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&f("auto")})),{followOutput:c,autoscrollToBottom:d}}),$m(yb,kb,xb,Tb,jb,Ey,Ny));function Ab(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const Lb=by((([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{const i=ty(),a=ty(),l=ny(iy(i,uy(Ab)));return Zm(iy(l,uy((e=>e.totalCount))),e),Zm(iy(l,uy((e=>e.groupIndices))),t),Zm(iy(yy(n,r,o),sy((([e,t])=>vb(t))),uy((([e,t,r])=>By(t.groupOffsetTree,Math.max(e-r,0),"v")[0])),ly(),uy((e=>[e]))),a),{groupCounts:i,topItemsIndexes:a}}),$m(yb,Ny));function Pb(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Nb(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Fb="top",Rb="bottom",Mb="none";function Db(e,t,r){return"number"==typeof e?r===wb&&t===Fb||r===Ob&&t===Rb?e:0:r===wb?t===Fb?e.main:e.reverse:t===Rb?e.main:e.reverse}function Vb(e,t){return"number"==typeof e?e:e[t]||0}const zb=by((([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{const i=ty(),a=ry(0),l=ry(0),s=ry(0);return{listBoundary:i,overscan:s,topListHeight:a,increaseViewportBy:l,visibleRange:oy(iy(yy(my(e),my(t),my(n),my(i,Pb),my(s),my(a),my(o),my(r),my(l)),uy((([e,t,r,[n,o],i,a,l,s,u])=>{const c=e-s,d=a+l,p=Math.max(r-c,0);let f=Mb;const h=Vb(u,Fb),g=Vb(u,Rb);return n-=s,o+=r+l,(n+=r+l)>e+d-h&&(f=wb),(o-=s)<e-p+t+g&&(f=Ob),f!==Mb?[Math.max(c-r-Db(i,Fb,f)-h,0),c-p-l+t+Db(i,Rb,f)+g]:null})),sy((e=>null!=e)),ly(Pb)),[0,0])}}),$m(Ny),{singleton:!0});const Bb={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Hb(e,t,r){if(0===e.length)return[];if(!vb(t))return e.map((e=>p(p({},e),{},{index:e.index+r,originalIndex:e.index})));const n=e[0].index,o=e[e.length-1].index,i=[],a=Xy(t.groupOffsetTree,n,o);let s,u=0;var c,d=l(e);try{for(d.s();!(c=d.n()).done;){const e=c.value;let n;(!s||s.end<e.index)&&(s=a.shift(),u=t.groupIndices.indexOf(s.start)),n=e.index===s.start?{type:"group",index:u}:{index:e.index-(u+1)+r,groupIndex:u},i.push(p(p({},n),{},{size:e.size,offset:e.offset,originalIndex:e.index,data:e.data}))}}catch(f){d.e(f)}finally{d.f()}return i}function $b(e,t,r,n,o,i){const a=o.lastSize,l=o.lastOffset,s=o.lastIndex;let u=0,c=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];c=t.offset+t.size}const d=r-s,p=u,f=l+d*a+(d-1)*n-c;return{items:Hb(e,o,i),topItems:Hb(t,o,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:f,top:p,bottom:c,totalCount:r,firstItemIndex:i}}function Ub(e,t,r,n,o,i){let a=0;if(r.groupIndices.length>0){var s,u=l(r.groupIndices);try{for(u.s();!(s=u.n()).done;){if(s.value-a>=e)break;a++}}catch(f){u.e(f)}finally{u.f()}}const c=e+a,d=Cb(t,c),p=Array.from({length:c}).map(((e,t)=>({index:t+d,size:0,offset:0,data:i[t+d]})));return $b(p,[],c,o,r,n)}const Wb=by((([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:a,listBoundary:s,topListHeight:u},{scrolledToInitialItem:c,initialTopMostItemIndex:d},{topListHeight:f},h,{didMount:g},{recalcInProgress:v}])=>{const m=ry([]),y=ry(0),b=ty();Zm(i.topItemsIndexes,m);const _=oy(iy(yy(g,v,my(a,Pb),my(t),my(e),my(d),c,my(m),my(n),my(o),r),sy((([e,t,,r,,,,,,,n])=>{const o=n&&n.length!==r;return e&&!t&&!o})),uy((([,,[e,t],r,n,o,i,a,s,u,c])=>{const d=n,f=d.sizeTree,h=d.offsetTree,g=Xm(y);if(0===r)return p(p({},Bb),{},{totalCount:r});if(0===e&&0===t)return 0===g?p(p({},Bb),{},{totalCount:r}):Ub(g,o,n,s,u,c||[]);if(My(f)){if(g>0)return null;const e=$b(function(e,t,r){if(vb(t)){const n=gb(e,t);return[{index:By(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}(Cb(o,r),d,c),[],r,u,d,s);return e}const v=[];if(a.length>0){const e=a[0],t=a[a.length-1];let r=0;var m,b=l(Xy(f,e,t));try{for(b.s();!(m=b.n()).done;){const n=m.value,o=n.value,i=Math.max(n.start,e),a=Math.min(n.end,t);for(let e=i;e<=a;e++)v.push({index:e,size:o,offset:r,data:c&&c[e]}),r+=o}}catch(S){b.e(S)}finally{b.f()}}if(!i)return $b([],v,r,u,d,s);const _=a.length>0?a[a.length-1]+1:0,x=cb(h,e,t,_);if(0===x.length)return null;const w=r-1,O=Hm([],(r=>{var n,o=l(x);try{for(o.s();!(n=o.n()).done;){const o=n.value,i=o.value;let a=i.offset,l=o.start;const s=i.size;if(i.offset<e){l+=Math.floor((e-i.offset+u)/(s+u));const t=l-o.start;a+=t*s+t*u}l<_&&(a+=(_-l)*s,l=_);const d=Math.min(o.end,w);for(let e=l;e<=d&&!(a>=t);e++)r.push({index:e,size:s,offset:a,data:c&&c[e]}),a+=s+u}}catch(S){o.e(S)}finally{o.f()}}));return $b(O,v,r,u,d,s)})),sy((e=>null!==e)),ly()),Bb);Zm(iy(r,sy(Km),uy((e=>null==e?void 0:e.length))),t),Zm(iy(_,uy((e=>e.topListHeight))),f),Zm(f,u),Zm(iy(_,uy((e=>[e.top,e.bottom]))),s),Zm(iy(_,uy((e=>e.items))),b);return p({listState:_,topItemsIndexes:m,endReached:ny(iy(_,sy((({items:e})=>e.length>0)),gy(t,r),sy((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),uy((([,e,t])=>[e-1,t])),ly(Pb),uy((([e])=>e)))),startReached:ny(iy(_,fy(200),sy((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),uy((({items:e})=>e[0].index)),ly())),rangeChanged:ny(iy(_,sy((({items:e})=>e.length>0)),uy((({items:e})=>{let t=0,r=e.length-1;for(;"group"===e[t].type&&t<r;)t++;for(;"group"===e[r].type&&r>t;)r--;return{startIndex:e[t].index,endIndex:e[r].index}})),ly(Nb))),itemsRendered:b,initialItemCount:y},h)}),$m(yb,Lb,zb,Tb,xb,kb,jb,ob),{singleton:!0}),Kb=by((([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:l}])=>(Zm(iy(l,gy(i),sy((([,e])=>0!==e)),gy(o,e,t,n,r),uy((([[,e],t,r,n,o,i=[]])=>Ub(e,t,r,n,o,i)))),a),{})),$m(yb,Tb,Wb,jb),{singleton:!0}),Gb=by((([{scrollVelocity:e}])=>{const t=ry(!1),r=ty(),n=ry(!1);return Zm(iy(e,gy(n,t,r),sy((([e,t])=>!!t)),uy((([e,t,r,n])=>{const o=t.exit,i=t.enter;if(r){if(o(e,n))return!1}else if(i(e,n))return!0;return r})),ly()),t),Ym(iy(yy(t,e,r),gy(n)),(([[e,t,r],n])=>e&&n&&n.change&&n.change(t,r))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}}),$m(kb),{singleton:!0}),Yb=by((([{topItemsIndexes:e}])=>{const t=ry(0);return Zm(iy(t,sy((e=>e>0)),uy((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),$m(Wb)),Jb=by((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{const i=ty(),a=oy(iy(yy(e,n,t,r,o),uy((([e,t,r,n,o])=>e+t+r+n+o.offsetBottom+o.bottom))),0);return Zm(my(a),i),{totalListHeight:a,totalListHeightChanged:i}}),$m(Ny,Wb),{singleton:!0});function Qb(e){let t,r=!1;return()=>(r||(r=!0,t=e()),t)}const Xb=Qb((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),Zb=by((([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:a,lastJumpDueToItemResize:l},{listState:s},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:d,gap:p},{log:f},{recalcInProgress:h}])=>{const g=ny(iy(s,gy(l),dy((([,e,t,r],[{items:n,totalCount:o,bottom:i,offsetBottom:a},l])=>{const s=i+a;let u=0;if(t===o&&e.length>0&&n.length>0){0===n[0].originalIndex&&0===e[0].originalIndex||(u=s-r,0!==u&&(u+=l))}return[u,n,o,s]}),[0,[],0,0]),sy((([e])=>0!==e)),gy(t,a,n,i,f,h),sy((([,e,t,r,,,n])=>!n&&!r&&0!==e&&t===wb)),uy((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},ky.DEBUG),e)))));function v(t){t>0?(Jm(e,{top:-t,behavior:"auto"}),Jm(r,0)):(Jm(r,0),Jm(e,{top:-t,behavior:"auto"}))}return Ym(iy(g,gy(r,o)),(([e,t,n])=>{n&&Xb()?Jm(r,t-e):v(-e)})),Ym(iy(yy(oy(o,!1),r,h),sy((([e,t,r])=>!e&&!r&&0!==t)),uy((([e,t])=>t)),fy(1)),v),Zm(iy(c,uy((e=>({top:-e})))),e),Ym(iy(u,gy(d,p),uy((([e,{lastSize:t,groupIndices:r,sizeTree:n},o])=>{function i(e){return e*(t+o)}if(0===r.length)return i(e);{let t=0;const o=zy(n,0);let a=0,l=0;for(;a<e;){a++,t+=o;let n=r.length===l+1?1/0:r[l+1]-r[l]-1;a+n>e&&(t-=o,n=e-a+1),a+=n,t+=i(n),l++}return t}}))),(t=>{Jm(r,t),requestAnimationFrame((()=>{Jm(e,{top:t}),requestAnimationFrame((()=>{Jm(r,0),Jm(h,!1)}))}))})),{deviation:r}}),$m(Ny,kb,Wb,yb,Ey,ob)),e_=by((([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=ry(0);return Ym(iy(e,gy(n),sy((([,e])=>0!==e)),uy((([,e])=>({top:e})))),(e=>{ey(iy(r,py(1),sy((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{Jm(t,e)}))}))})),{initialScrollTop:n}}),$m(jb,Ny,Wb),{singleton:!0}),t_=by((([{viewportHeight:e},{totalListHeight:t}])=>{const r=ry(!1);return{alignToBottom:r,paddingTopAddition:oy(iy(yy(r,e,t),sy((([e])=>e)),uy((([,e,t])=>Math.max(0,e-t))),fy(0),ly()),0)}}),$m(Ny,Jb),{singleton:!0}),r_=by((([{scrollTo:e,scrollContainerState:t}])=>{const r=ty(),n=ty(),o=ty(),i=ry(!1),a=ry(void 0);return Zm(iy(yy(r,n),uy((([{viewportHeight:e,scrollTop:t,scrollHeight:r},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:r,viewportHeight:e})))),t),Zm(iy(e,gy(n),uy((([e,{offsetTop:t}])=>p(p({},e),{},{top:e.top+t})))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}}),$m(Ny)),n_=e=>{let r=e.itemTop,n=e.itemBottom,o=e.viewportTop,i=e.viewportBottom,a=e.locationParams,l=a.behavior,u=a.align,c=s(a,t);return r<o?p(p({},c),{},{behavior:l,align:null!=u?u:"start"}):n>i?p(p({},c),{},{behavior:l,align:null!=u?u:"end"}):null},o_=by((([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:i,headerHeight:a,fixedHeaderHeight:l,fixedFooterHeight:u,scrollingInProgress:c},{scrollToIndex:d}])=>{const f=ty();return Zm(iy(f,gy(e,i,t,a,l,u,o),gy(n),uy((([[e,t,n,o,i,a,l,u],d])=>{const f=e.done,h=e.behavior,g=e.align,v=e.calculateViewLocation,m=void 0===v?n_:v,y=s(e,r),b=hb(e,t,o-1),_=fb(b,t.offsetTree,d)+i+a,x=m({itemTop:_,itemBottom:_+By(t.sizeTree,b)[1],viewportTop:u+a,viewportBottom:u+n-l,locationParams:p({behavior:h,align:g},y)});return x?f&&ey(iy(c,sy((e=>!1===e)),py(Xm(c)?1:2)),f):f&&f(),x})),sy((e=>null!==e))),d),{scrollIntoView:f}}),$m(yb,Ny,xb,Wb,Ey),{singleton:!0}),i_=by((([{sizes:e,sizeRanges:t},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:a,windowScrollContainerState:l,windowViewportRect:s}])=>{const u=ty(),c=ry(void 0),d=ry(null),p=ry(null);return Zm(l,d),Zm(s,p),Ym(iy(u,gy(e,r,a,d,p,n)),(([e,t,r,n,o,i,a])=>{const l=Uy(t.sizeTree).map((({k:e,v:t},r,n)=>{const o=n[r+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}}));n&&null!==o&&null!==i&&(r=o.scrollTop-i.offsetTop),e({ranges:l,scrollTop:r-=a})})),Zm(iy(c,sy(Km),uy(a_)),o),Zm(iy(i,gy(c),sy((([,e])=>void 0!==e)),ly(),uy((([,e])=>e.ranges))),t),{getState:u,restoreStateFrom:c}}),$m(yb,Ny,Tb,jb,r_));function a_(e){return{offset:e.scrollTop,index:0,align:"start"}}const l_=by((([e,t,r,n,o,i,a,l,s,u])=>p(p(p(p(p(p(p(p(p(p({},e),t),r),n),o),i),a),l),s),u)),$m(zb,Kb,jb,Gb,Jb,e_,t_,r_,o_,Ey)),s_=by((([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:o,trackItemSizes:i,itemSize:a,data:l,firstItemIndex:u,groupIndices:c,statefulTotalCount:d,gap:f,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m},y,b,_,x,{scrollToIndex:w},O,{topItemCount:S},{groupCounts:k},j])=>{let E=x.listState,C=x.topItemsIndexes,T=s(x,n);return Zm(T.rangeChanged,j.scrollSeekRangeChanged),Zm(iy(j.windowViewportRect,uy((e=>e.visibleHeight))),y.viewportHeight),p(p(p(p(p({totalCount:e,data:l,firstItemIndex:u,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:v,initialItemFinalLocationReached:m,topItemsIndexes:C,topItemCount:S,groupCounts:k,fixedItemHeight:r,defaultItemHeight:o,gap:f},_),{},{statefulTotalCount:d,listState:E,scrollToIndex:w,trackItemSizes:i,itemSize:a,groupIndices:c},T),j),y),{},{sizes:h},b)}),$m(yb,Tb,Ny,i_,Ib,Wb,xb,Zb,Yb,Lb,l_)),u_="-webkit-sticky",c_="sticky",d_=Qb((()=>{if("undefined"==typeof document)return c_;const e=document.createElement("div");return e.style.position=u_,e.style.position===u_?u_:c_}));function p_(e,t,r){const n=R.useRef(null),o=R.useCallback((r=>{if(null===r||!r.offsetParent)return;const o=r.getBoundingClientRect(),i=o.width;let a,l;if(t){const e=t.getBoundingClientRect(),r=o.top-e.top;a=e.height-Math.max(0,r),l=r+t.scrollTop}else a=window.innerHeight-Math.max(0,o.top),l=o.top+window.pageYOffset;n.current={offsetTop:l,visibleHeight:a,visibleWidth:i},e(n.current)}),[e,t]),i=Cy(o,!0,r),a=i.callbackRef,l=i.ref,s=R.useCallback((()=>{o(l.current)}),[o,l]);return R.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver((()=>{requestAnimationFrame(s)}));return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),a}const f_=R.createContext(void 0),h_=R.createContext(void 0);function g_(e){return e}const v_=by((()=>{const e=ry((e=>`Item ${e}`)),t=ry(null),r=ry((e=>`Group ${e}`)),n=ry({}),o=ry(g_),i=ry("div"),a=ry(Gm),l=(e,t=null)=>oy(iy(n,uy((t=>t[e])),ly()),t);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,HeaderFooterTag:i,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}})),m_=by((([e,t])=>p(p({},e),t)),$m(s_,v_)),y_=({height:e})=>j.jsx("div",{style:{height:e}}),b_={position:d_(),zIndex:1,overflowAnchor:"none"},__={overflowAnchor:"none"},x_=p(p({},__),{},{display:"inline-block",height:"100%"}),w_=R.memo((function({showTopList:e=!1}){const t=M_("listState"),r=R_("sizeRanges"),n=M_("useWindowScroll"),o=M_("customScrollParent"),i=R_("windowScrollContainerState"),a=R_("scrollContainerState"),l=o||n?i:a,s=M_("itemContent"),u=M_("context"),c=M_("groupContent"),d=M_("trackItemSizes"),f=M_("itemSize"),g=M_("log"),m=R_("gap"),y=M_("horizontalDirection"),b=qy(r,f,d,e?Gm:l,g,m,o,y,M_("skipAnimationFrameInResizeObserver")).callbackRef,_=h(R.useState(0),2),x=_[0],w=_[1];D_("deviation",(e=>{x!==e&&w(e)}));const O=M_("EmptyPlaceholder"),S=M_("ScrollSeekPlaceholder")||y_,k=M_("ListComponent"),E=M_("ItemComponent"),C=M_("GroupComponent"),T=M_("computeItemKey"),q=M_("isSeeking"),I=M_("groupIndices").length>0,A=M_("alignToBottom"),L=M_("initialItemFinalLocationReached"),P=e?{}:p(p({boxSizing:"border-box"},y?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,marginLeft:0!==x?x:A?"auto":0}:{marginTop:0!==x?x:A?"auto":0,paddingTop:t.offsetTop,paddingBottom:t.offsetBottom}),L?{}:{visibility:"hidden"});return!e&&0===t.totalCount&&O?j.jsx(O,p({},E_(O,u))):j.jsx(k,p(p({},E_(k,u)),{},{ref:b,style:P,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?t.topItems:t.items).map((e=>{const r=e.originalIndex,n=T(r+t.firstItemIndex,e.data,u);return q?v.createElement(S,p(p({},E_(S,u)),{},{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?v.createElement(C,p(p({},E_(C,u)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,style:b_}),c(e.index,u)):v.createElement(E,p(p(p({},E_(E,u)),function(e,t){return{item:"string"==typeof e?void 0:t}}(E,e.data)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:y?x_:__}),I?s(e.index,e.groupIndex,e.data,u):s(e.index,e.data,u))}))}))})),O_={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},S_={outline:"none",overflowX:"auto",position:"relative"},k_=e=>p({width:"100%",height:"100%",position:"absolute",top:0},e?{display:"flex",flexDirection:"column"}:{}),j_={width:"100%",position:d_(),top:0,zIndex:1};function E_(e,t){if("string"!=typeof e)return{context:t}}const C_=R.memo((function(){const e=M_("HeaderComponent"),t=R_("headerHeight"),r=M_("HeaderFooterTag"),n=Ty(R.useMemo((()=>e=>t(Ay(e,"height"))),[t]),!0,M_("skipAnimationFrameInResizeObserver")),o=M_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},E_(e,o)))}):null})),T_=R.memo((function(){const e=M_("FooterComponent"),t=R_("footerHeight"),r=M_("HeaderFooterTag"),n=Ty(R.useMemo((()=>e=>t(Ay(e,"height"))),[t]),!0,M_("skipAnimationFrameInResizeObserver")),o=M_("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},E_(e,o)))}):null}));function q_({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=R.memo((function(n){let i=n.style,a=n.children,l=s(n,o);const u=e("scrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("scrollerRef"),h=r("context"),g=r("horizontalDirection")||!1,v=Py(u,d,c,f,void 0,g),m=v.scrollerRef,y=v.scrollByCallback,b=v.scrollToCallback;t("scrollTo",b),t("scrollBy",y);const _=g?S_:O_;return j.jsx(c,p(p(p({ref:m,style:p(p({},_),i),"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},l),E_(c,h)),{},{children:a}))}));return n}function I_({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=R.memo((function(n){let o=n.style,a=n.children,l=s(n,i);const u=e("windowScrollContainerState"),c=r("ScrollerComponent"),d=e("smoothScrollTargetReached"),f=r("totalListHeight"),h=r("deviation"),g=r("customScrollParent"),v=r("context"),m=Py(u,d,c,Gm,g),y=m.scrollerRef,b=m.scrollByCallback,_=m.scrollToCallback;return Sy((()=>(y.current=g||window,()=>{y.current=null})),[y,g]),t("windowScrollTo",_),t("scrollBy",b),j.jsx(c,p(p(p({style:p(p({position:"relative"},o),0!==f?{height:f+h}:{}),"data-virtuoso-scroller":!0},l),E_(c,v)),{},{children:a}))}));return n}const A_=({children:e})=>{const t=R.useContext(f_),r=R_("viewportHeight"),n=R_("fixedItemHeight"),o=M_("alignToBottom"),i=M_("horizontalDirection"),a=Ty(R.useMemo((()=>Dm(r,(e=>Ay(e,i?"width":"height")))),[r,i]),!0,M_("skipAnimationFrameInResizeObserver"));return R.useEffect((()=>{t&&(r(t.viewportHeight),n(t.itemHeight))}),[t,r,n]),j.jsx("div",{style:k_(o),ref:a,"data-viewport-type":"element",children:e})},L_=({children:e})=>{const t=R.useContext(f_),r=R_("windowViewportRect"),n=R_("fixedItemHeight"),o=M_("customScrollParent"),i=p_(r,o,M_("skipAnimationFrameInResizeObserver")),a=M_("alignToBottom");return R.useEffect((()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,r,n]),j.jsx("div",{ref:i,style:k_(a),"data-viewport-type":"window",children:e})},P_=({children:e})=>{const t=M_("TopItemListComponent")||"div",r=M_("headerHeight"),n=p(p({},j_),{},{marginTop:`${r}px`}),o=M_("context");return j.jsx(t,p(p({style:n},E_(t,o)),{},{children:e}))},N_=Oy(m_,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},R.memo((function(e){const t=M_("useWindowScroll"),r=M_("topItemsIndexes").length>0,n=M_("customScrollParent"),o=n||t?z_:V_,i=n||t?L_:A_;return j.jsxs(o,p(p({},e),{},{children:[r&&j.jsx(P_,{children:j.jsx(w_,{showTopList:!0})}),j.jsxs(i,{children:[j.jsx(C_,{}),j.jsx(w_,{}),j.jsx(T_,{})]})]}))}))),F_=N_.Component,R_=N_.usePublisher,M_=N_.useEmitterValue,D_=N_.useEmitter,V_=q_({usePublisher:R_,useEmitterValue:M_,useEmitter:D_}),z_=I_({usePublisher:R_,useEmitterValue:M_,useEmitter:D_}),B_=F_,H_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},$_={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},U_=Math.round,W_=Math.ceil,K_=Math.floor,G_=Math.min,Y_=Math.max;function J_(e,t,r){return Array.from({length:t-e+1}).map(((t,n)=>{const o=null===r?null:r[n+e];return{index:n+e,data:o}}))}function Q_(e,t){return e&&e.column===t.column&&e.row===t.row}function X_(e,t){return e&&e.width===t.width&&e.height===t.height}const Z_=by((([{overscan:e,visibleRange:t,listBoundary:r,increaseViewportBy:n},{scrollTop:o,viewportHeight:i,scrollBy:a,scrollTo:l,smoothScrollTargetReached:s,scrollContainerState:u,footerHeight:c,headerHeight:d},f,h,{propsReady:g,didMount:v},{windowViewportRect:m,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,windowScrollTo:x},w])=>{const O=ry(0),S=ry(0),k=ry(H_),j=ry({height:0,width:0}),E=ry({height:0,width:0}),C=ty(),T=ty(),q=ry(0),I=ry(null),A=ry({row:0,column:0}),L=ty(),P=ty(),N=ry(!1),F=ry(0),R=ry(!0),M=ry(!1),D=ry(!1);Ym(iy(v,gy(F),sy((([e,t])=>!!t))),(()=>{Jm(R,!1)})),Ym(iy(yy(v,R,E,j,F,M),sy((([e,t,r,n,,o])=>e&&!t&&0!==r.height&&0!==n.height&&!o))),(([,,,,e])=>{Jm(M,!0),Eb(1,(()=>{Jm(C,e)})),ey(iy(o),(()=>{Jm(r,[0,0]),Jm(R,!0)}))})),Zm(iy(P,sy((e=>null!=e&&e.scrollTop>0)),cy(0)),S),Ym(iy(v,gy(P),sy((([,e])=>null!=e))),(([,e])=>{e&&(Jm(j,e.viewport),Jm(E,null==e?void 0:e.item),Jm(A,e.gap),e.scrollTop>0&&(Jm(N,!0),ey(iy(o,py(1)),(e=>{Jm(N,!1)})),Jm(l,{top:e.scrollTop})))})),Zm(iy(j,uy((({height:e})=>e))),i),Zm(iy(yy(my(j,X_),my(E,X_),my(A,((e,t)=>e&&e.column===t.column&&e.row===t.row)),my(o)),uy((([e,t,r,n])=>({viewport:e,item:t,gap:r,scrollTop:n})))),L),Zm(iy(yy(my(O),t,my(A,Q_),my(E,X_),my(j,X_),my(I),my(S),my(N),my(R),my(F)),sy((([,,,,,,,e])=>!e)),uy((([e,[t,r],n,o,i,a,l,,s,u])=>{const c=n.row,d=n.column,f=o.height,h=o.width,g=i.width;if(0===l&&(0===e||0===g))return H_;if(0===h){const t=Cb(u,e);return function(e){return p(p({},$_),{},{items:e})}(J_(t,Math.max(t+l-1,0),a))}const v=rx(g,h,d);let m,y;s?0===t&&0===r&&l>0?(m=0,y=l-1):(m=v*K_((t+c)/(f+c)),y=v*W_((r+c)/(f+c))-1,y=G_(e-1,Y_(y,v-1)),m=G_(y,Y_(0,m))):(m=0,y=-1);const b=J_(m,y,a),_=ex(i,n,o,b),x=_.top,w=_.bottom,O=W_(e/v);return{items:b,offsetTop:x,offsetBottom:O*f+(O-1)*c-w,top:x,bottom:w,itemHeight:f,itemWidth:h}}))),k),Zm(iy(I,sy((e=>null!==e)),uy((e=>e.length))),O),Zm(iy(yy(j,E,k,A),sy((([e,t,{items:r}])=>r.length>0&&0!==t.height&&0!==e.height)),uy((([e,t,{items:r},n])=>{const o=ex(e,n,t,r);return[o.top,o.bottom]})),ly(Pb)),r);const V=ry(!1);Zm(iy(o,gy(V),uy((([e,t])=>t||0!==e))),V);const z=ny(iy(my(k),sy((({items:e})=>e.length>0)),gy(O,V),sy((([{items:e},t,r])=>r&&e[e.length-1].index===t-1)),uy((([,e])=>e-1)),ly())),B=ny(iy(my(k),sy((({items:e})=>e.length>0&&0===e[0].index)),cy(0),ly())),H=ny(iy(my(k),gy(N),sy((([{items:e},t])=>e.length>0&&!t)),uy((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),ly(Nb),fy(0)));Zm(H,h.scrollSeekRangeChanged),Zm(iy(C,gy(j,E,O,A),uy((([e,t,r,n,o])=>{const i=_b(e),a=i.align,l=i.behavior,s=i.offset;let u=i.index;"LAST"===u&&(u=n-1),u=Y_(0,u,G_(n-1,u));let c=tx(t,o,r,u);return"end"===a?c=U_(c-t.height+r.height):"center"===a&&(c=U_(c-t.height/2+r.height/2)),s&&(c+=s),{top:c,behavior:l}}))),l);const $=oy(iy(k,uy((e=>e.offsetBottom+e.bottom))),0);return Zm(iy(m,uy((e=>({width:e.visibleWidth,height:e.visibleHeight})))),j),p(p(p({data:I,totalCount:O,viewportDimensions:j,itemDimensions:E,scrollTop:o,scrollHeight:T,overscan:e,increaseViewportBy:n,scrollBy:a,scrollTo:l,scrollToIndex:C,smoothScrollTargetReached:s,windowViewportRect:m,windowScrollTo:x,useWindowScroll:y,customScrollParent:b,windowScrollContainerState:_,deviation:q,scrollContainerState:u,footerHeight:c,headerHeight:d,initialItemCount:S,gap:A,restoreStateFrom:P},h),{},{initialTopMostItemIndex:F,horizontalDirection:D,gridState:k,totalListHeight:$},f),{},{startReached:B,endReached:z,rangeChanged:H,stateChanged:L,propsReady:g,stateRestoreInProgress:N},w)}),$m(zb,Ny,kb,Gb,jb,r_,Ey));function ex(e,t,r,n){const o=r.height;if(void 0===o||0===n.length)return{top:0,bottom:0};return{top:tx(e,t,r,n[0].index),bottom:tx(e,t,r,n[n.length-1].index)+o}}function tx(e,t,r,n){const o=rx(e.width,r.width,t.column),i=K_(n/o),a=i*r.height+Y_(0,i-1)*t.row;return a>0?a+t.row:a}function rx(e,t,r){return Y_(1,K_((e+r)/(K_(t)+r)))}const nx=by((()=>{const e=ry((e=>`Item ${e}`)),t=ry({}),r=ry(null),n=ry("virtuoso-grid-item"),o=ry("virtuoso-grid-list"),i=ry(g_),a=ry("div"),l=ry(Gm),s=(e,r=null)=>oy(iy(t,uy((t=>t[e])),ly()),r),u=ry(!1),c=ry(!1);return Zm(my(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),ox=by((([e,t])=>p(p({},e),t)),$m(Z_,nx)),ix=R.memo((function(){const e=fx("gridState"),t=fx("listClassName"),r=fx("itemClassName"),n=fx("itemContent"),o=fx("computeItemKey"),i=fx("isSeeking"),a=px("scrollHeight"),l=fx("ItemComponent"),s=fx("ListComponent"),u=fx("ScrollSeekPlaceholder"),c=fx("context"),d=px("itemDimensions"),f=px("gap"),h=fx("log"),g=fx("stateRestoreInProgress"),m=px("reportReadyState"),y=Ty(R.useMemo((()=>e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const r=e.firstChild;if(r){const e=r.getBoundingClientRect(),t=e.width,n=e.height;d({width:t,height:n})}f({row:mx("row-gap",getComputedStyle(e).rowGap,h),column:mx("column-gap",getComputedStyle(e).columnGap,h)})}),[a,d,f,h]),!0,!1);return Sy((()=>{e.itemHeight>0&&e.itemWidth>0&&m(!0)}),[e]),g?null:j.jsx(s,p(p({ref:y,className:t},E_(s,c)),{},{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map((t=>{const a=o(t.index,t.data,c);return i?j.jsx(u,p(p({},E_(u,c)),{},{index:t.index,height:e.itemHeight,width:e.itemWidth}),a):v.createElement(l,p(p({},E_(l,c)),{},{className:r,"data-index":t.index,key:a}),n(t.index,t.data,c))}))}))})),ax=R.memo((function(){const e=fx("HeaderComponent"),t=px("headerHeight"),r=fx("headerFooterTag"),n=Ty(R.useMemo((()=>e=>t(Ay(e,"height"))),[t]),!0,!1),o=fx("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},E_(e,o)))}):null})),lx=R.memo((function(){const e=fx("FooterComponent"),t=px("footerHeight"),r=fx("headerFooterTag"),n=Ty(R.useMemo((()=>e=>t(Ay(e,"height"))),[t]),!0,!1),o=fx("context");return e?j.jsx(r,{ref:n,children:j.jsx(e,p({},E_(e,o)))}):null})),sx=({children:e})=>{const t=R.useContext(h_),r=px("itemDimensions"),n=px("viewportDimensions"),o=Ty(R.useMemo((()=>e=>{n(e.getBoundingClientRect())}),[n]),!0,!1);return R.useEffect((()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))}),[t,n,r]),j.jsx("div",{style:k_(!1),ref:o,children:e})},ux=({children:e})=>{const t=R.useContext(h_),r=px("windowViewportRect"),n=px("itemDimensions"),o=fx("customScrollParent"),i=p_(r,o,!1);return R.useEffect((()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,r,n]),j.jsx("div",{ref:i,style:k_(!1),children:e})},cx=R.memo((function(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=fx("useWindowScroll"),n=fx("customScrollParent"),o=n||r?vx:gx,i=n||r?ux:sx;return j.jsx(o,p(p({},t),{},{children:j.jsxs(i,{children:[j.jsx(ax,{}),j.jsx(ix,{}),j.jsx(lx,{})]})}))})),dx=Oy(ox,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},cx),px=(dx.Component,dx.usePublisher),fx=dx.useEmitterValue,hx=dx.useEmitter,gx=q_({usePublisher:px,useEmitterValue:fx,useEmitter:hx}),vx=I_({usePublisher:px,useEmitterValue:fx,useEmitter:hx});function mx(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,ky.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function yx(e){const t=h(v.useState(!1),2),r=t[0],n=t[1],o=h(v.useState(!1),2),i=o[0],a=o[1],l=function(e){const t=it().getMonitor(),r=h(at(t,e),2),n=r[0],o=r[1];return v.useEffect((()=>t.subscribeToOffsetChange(o))),v.useEffect((()=>t.subscribeToStateChange(o))),n}((e=>({isDragging:e.isDragging(),currentOffset:e.getClientOffset()}))),s=l.isDragging,u=l.currentOffset;return v.useEffect((()=>{const t=window.innerWidth;let r;r=t>=1200?450:400,s?((t,r)=>{if(!t||!e.current)return;const o=e.current.getBoundingClientRect(),i=o.left+r,l=o.right+r;if(!(t.x>=i&&t.x<=l&&t.y>=o.top&&t.y<=o.bottom))return n(!1),void a(!1);const s=t.y-o.top,u=o.bottom-t.y;n(s<=50),a(u<=50)})(u,r):(n(!1),a(!1))}),[s,u]),{isNearTop:r,isNearBottom:i}}const bx=R.forwardRef((function({designMode:e},t){const r=st(["design","run"]).t,n=Xe(),o=e==Lt.DESIGN,i=ct((e=>{var t;return(null===(t=e.designState.Survey)||void 0===t?void 0:t.children)||[]})),a=ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage}));const l=!i.length,s=v.useMemo((()=>{let e=!1;return null==i||i.forEach((t=>{var r;"welcome"!==(null==t?void 0:t.type)&&"welcome"!==(null===(r=t.groupType)||void 0===r?void 0:r.toLowerCase())||(e=!0)})),e}),[i]),u=v.useMemo((()=>{const e=[];a&&e.push({name:_x.IMAGE}),s||e.push({name:_x.DROP_AREA,index:0});for(let r=0;r<i.length;r++){var t;e.push({name:_x.GROUP,group:i[r],index:r}),"end"!==i[r].type&&"end"!==(null===(t=i[r].groupType)||void 0===t?void 0:t.toLowerCase())&&e.push({name:_x.DROP_AREA,group:i[r],index:r+1})}return e.push({name:_x.FOOTER}),e}),[i,r,a]),c=v.useRef(null),d=v.useRef(null),p=yx(d),f=p.isNearBottom,h=p.isNearTop,g=ct((e=>e.designState.lastAddedComponent)),m=ct((e=>e.designState.skipScroll));return v.useEffect((()=>{let e;const t=()=>{c.current&&(f?c.current.scrollBy({top:6,behavior:"auto"}):h&&c.current.scrollBy({top:-6,behavior:"auto"}),e=requestAnimationFrame(t))};return(h||f)&&(e=requestAnimationFrame(t)),()=>{e&&cancelAnimationFrame(e)}}),[h,f]),v.useEffect((()=>{if(console.log("ss",m),g&&c.current&&!m){const e=setTimeout((()=>{if("group"===g.type){const e=2*g.index;c.current.scrollToIndex({index:e+1,behavior:"smooth",align:"start"})}else if("question"===g.type){const e=2*g.groupIndex;console.log("groupBaseIndex: "+e),c.current.scrollToIndex({index:e+2,behavior:"smooth",align:"end"})}}),100);return()=>clearTimeout(e)}}),[g]),j.jsx(P,{ref:t,className:`content-panel ${Ai}`,style:{backgroundColor:n.palette.background.default,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:j.jsx(P,{ref:d,width:"100%",height:"100%",children:j.jsx(B_,{ref:c,data:u,className:Pi,itemContent:(t,n)=>{switch(n.name){case _x.IMAGE:return j.jsxs(P,{className:Ni,children:[j.jsx(sn,{className:Li,component:"img",image:Or(a),height:"140"}),o&&j.jsx(Ki,{code:"Survey"})]});case _x.DROP_AREA:return j.jsx(Cm,{emptySurvey:l,t:r,index:n.index,groupsCount:i.length});case _x.GROUP:return j.jsx(Pm,{t:r,designMode:e,code:n.group.code,index:n.index,lastAddedComponent:g});case _x.FOOTER:return j.jsx("div",{className:Ii})}}})})})})),_x={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"};const xx=R.memo((function({label:e,rule:t,t:r,defaultValue:n,code:o,lowerBound:i,upperBound:a}){const l=ut(),s=ct((e=>e.designState[o][t]||n)),u=h(v.useState(s),2),c=u[0],d=u[1],p=c!=s;return j.jsxs(j.Fragment,{children:[j.jsxs("h4",{children:[e,":"]}),j.jsx(Pr,{label:e,error:p,variant:"outlined",type:"number",helperText:p?j.jsx(Rn,{t:r,values:{lower_bound:i,upper_bound:a,setup_value:s,label:e},i18nKey:"value_beyond_bounds"}):null,size:"small",style:{maxWidth:"200px"},value:c,onChange:e=>(e=>{d(e.target.value),c>=i&&c<=a&&l(Bt({code:o,key:t,value:Math.max(i,Math.min(a,e.target.value))}))})(e)})]})})),wx={showHint:"_showHint_9iocv_1",inputValue:"_inputValue_9iocv_9"};function Ox({code:e,t:t}){const r=ut(),n=ct((t=>t.designState[e].showHint||!1));return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:wx.showHint,children:[j.jsx("h4",{children:t("show_question_hint")}),j.jsx(fe,{checked:n,onChange:t=>{return n=t.target.checked,void r(Bt({code:e,key:"showHint",value:n}));var n}})]}),n&&j.jsx(Sx,{code:e,objectName:"hint"})]})}function Sx({code:e,objectName:t,title:r}){const n=ut(),o=ct((e=>e.designState.langInfo.languagesList)),i=ct((r=>{var n;return null===(n=r.designState[e].content)||void 0===n?void 0:n[t]}));return j.jsxs(j.Fragment,{children:[r&&j.jsx("h4",{children:r}),o.map((r=>j.jsx("div",{className:wx.inputValue,children:j.jsx(Pr,{label:r.name,variant:"standard",type:"text",value:(null==i?void 0:i[r.code])||"",onChange:o=>((r,o)=>{n(bt({code:e,key:t,lang:r,value:o}))})(r.code,o.target.value)})},r.code)))]})}const kx="_boxContainer_182us_1",jx="_title_182us_18",Ex={boxContainer:"_boxContainer_1vhs4_1",mt10:"_mt10_1vhs4_9",uppercase:"_uppercase_1vhs4_13",title:"_title_1vhs4_18",titleContent:"_titleContent_1vhs4_28",standardError:"_standardError_1vhs4_33",errorWrapper:"_errorWrapper_1vhs4_44",errorLabelWrapper:"_errorLabelWrapper_1vhs4_48",errorItem:"_errorItem_1vhs4_52",errorItemContainer:"_errorItemContainer_1vhs4_58"};function Cx({validationRule:e,code:t,rule:r,t:n}){const o=ut(),i=e.isCustomErrorActive||!1,a=ct((e=>e.designState.langInfo.languagesList));let l=e.content||{};return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:n("standard_error")}),j.jsxs("div",{className:Ex.errorWrapper,children:[j.jsx("div",{className:Ex.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${Ex.errorItem} ${Ex.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{children:a.map((t=>j.jsx("div",{className:Ex.errorItem,children:n(r,p({ns:"run",lng:t.code},e))},t.code)))})]}),j.jsxs("div",{className:Ex.title,children:[j.jsx("h4",{className:Ex.mt10,children:n("custom_error")}),j.jsx(fe,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:e=>{return n=e.target.checked,void o(Ht({code:t,rule:r,key:"isCustomErrorActive",value:n}));var n}}))]}),i?j.jsxs("div",{className:Ex.errorWrapper,children:[j.jsx("div",{className:Ex.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${Ex.errorItem} ${Ex.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{className:Ex.errorItemContainer,children:a.map((e=>j.jsx("div",{className:Ex.errorItem,children:j.jsx(Pr,{size:"small",variant:"standard",value:l[e.code]||"",onChange:n=>((e,n)=>{const i=p(p({},l),{},{[e]:n});o(Ht({code:t,rule:r,key:"content",value:i}))})(e.code,n.target.value)})},e.code)))})]}):""]})}const Tx={valueValidationItems:"_valueValidationItems_1hupk_1",valueValidationItemsContainer:"_valueValidationItemsContainer_1hupk_6",error:"_error_1hupk_11"};const qx=R.memo((function({value:e,onValueChanged:t}){const r=st("design").t,n=r=>{let n=[...e];r.target.checked?n.push(r.target.name):n=e.filter((e=>e!=r.target.name)),t(n)};return j.jsxs($t,{children:[j.jsx(Nr,{id:"file-type-label",children:r("file_type")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),j.jsx(un,{control:j.jsx(cn,{checked:e.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}));function Ix({code:e,validation:t,rule:r,t:n}){const o=ct((t=>{var r;return(null===(r=t.designState[e].children)||void 0===r?void 0:r.length)||0})),i=R.useMemo((()=>{switch(r){case"validation_min_char_length":case"validation_max_file_size":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,o];default:return}}),[o]),a=ut(),l=(t,n)=>{((t,n)=>{a(Ht({rule:r,code:e,key:t,value:n}))})(t,void 0===i?n:Math.max(i[0],Math.min(i[1],n)))};let s=Ax(t);const u="validation_required"!=r&&"validation_one_response_per_col"!=r&&"validation_pattern_email"!=r&&"validation_file_types"!=r;return j.jsxs("div",{className:Tx.valueValidationItemsContainer,children:[s&&u&&j.jsx("div",{children:n(r+"_subtitle")}),j.jsx("div",{className:Tx.valueValidationItems,children:"validation_file_types"==r?j.jsx(qx,{value:t.fileTypes,onValueChanged:e=>l("fileTypes",e)}):s.map((e=>{const r=void 0!==i&&(t[e]<i[0]||t[e]>i[1]);return j.jsx(Pr,{error:r,value:t[e],variant:"outlined",size:"small",type:"number"==typeof t[e]?"number":"text",onChange:r=>l(e,"number"==typeof t[e]?parseInt(r.target.value):r.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},e)}))})]})}const Ax=e=>Object.keys(e).filter((e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e)));const Lx=R.memo((function({rule:e,t:t,code:r}){console.debug("ValidationSetupItem: "+r);const n=ut(),o=ct((t=>{var n;return null===(n=t.designState[r])||void 0===n||null===(n=n.validation)||void 0===n?void 0:n[e]})),i=(null==o?void 0:o.isActive)||!1;return j.jsxs("div",{children:[j.jsxs("div",{className:jx,children:[j.jsx("h4",{children:t(e+"_title")}),j.jsx(fe,p(p({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:t=>{return o=t.target.checked,void n(Ht({code:r,rule:e,key:"isActive",value:o}));var o}}))]}),i&&j.jsxs(P,{className:kx,children:[j.jsx(Ix,{code:r,validation:o,rule:e,t:t}),j.jsx(Cx,{code:r,validationRule:o,rule:e,t:t})]})]})})),Px="_toggleValue_1d9zg_1";function Nx({label:e,code:t,rule:r}){const n=ut(),o=ct((e=>e.designState[t][r]||!1));return j.jsxs("div",{className:Px,children:[j.jsx("h4",{children:e}),j.jsx(fe,p(p({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:o,onChange:e=>{var o;o=e.target.checked,n(Bt({code:t,key:r,value:o}))}}))]})}const Fx={selectValue:"_selectValue_9m4tq_1"};function Rx({label:e,rule:t,defaultValue:r,code:n,values:o,labels:i}){const a=ut(),l=ct((e=>{var o;return(null===(o=e.designState[n])||void 0===o?void 0:o[t])||r}));return j.jsxs("div",{className:Fx.selectDate,children:[j.jsx("h4",{children:e}),j.jsx($t,{variant:"standard",fullWidth:!0,children:j.jsx(Ut,{id:"select-value",value:l,label:"Select Value",onChange:e=>{var r;r=e.target.value,a(Bt({code:n,key:t,value:r}))},children:o.map(((e,t)=>j.jsx(Wt,{value:e,children:i?i[t]:e},e)))})})]})}const Mx="_selectDate_1qp3e_1",Dx="_selectDateField_1qp3e_8";function Vx({label:e,rule:t,code:r}){const n=ut(),o=ct((e=>e.designState[r][t]||""));return j.jsxs("div",{className:Mx,children:[j.jsx("h4",{children:e}),j.jsx(Pr,{className:Dx,variant:"standard",value:o,type:"date",onChange:e=>{n(Bt({code:r,key:t,value:e.target.value}))}})]})}function zx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function $x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ux(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$x(Object(r),!0).forEach((function(t){Bx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zx(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kx,Gx,Yx=v.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),Jx=function(e){var t=e.open,r=e.options,n=e.onCancel,o=e.onConfirm,i=e.onClose,a=r.title,l=r.description,s=r.content,u=r.confirmationText,c=r.cancellationText,d=r.dialogProps,p=r.dialogActionsProps,f=r.confirmationButtonProps,h=r.cancellationButtonProps,g=r.titleProps,v=r.contentProps,m=r.allowClose,y=r.confirmationKeyword,b=r.confirmationKeywordTextFieldProps,_=r.hideCancelButton,x=r.buttonOrder,w=r.acknowledgement,O=r.acknowledgementFormControlLabelProps,S=r.acknowledgementCheckboxProps,k=Wx(R.useState(""),2),j=k[0],E=k[1],C=Wx(R.useState(!1),2),T=C[0],q=C[1],I=Boolean(y&&j!==y||w&&!T),A=R.createElement(R.Fragment,null,w&&R.createElement(un,Hx({},O,{control:R.createElement(cn,Hx({},S,{value:T,onChange:function(e,t){return q(t)}})),label:w}))),L=R.createElement(R.Fragment,null,y&&R.createElement(Pr,Hx({onChange:function(e){return E(e.target.value)},value:j,fullWidth:!0},b))),P=x.map((function(e){if("cancel"===e)return!_&&R.createElement(St,Hx({key:"cancel"},h,{onClick:n}),c);if("confirm"===e)return R.createElement(St,Hx({key:"confirm",color:"primary",disabled:I},f,{onClick:o}),u);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(e))}));return R.createElement(Qr,Hx({fullWidth:!0},d,{open:t,onClose:m?i:null}),a&&R.createElement(pe,g,a),s?R.createElement(Xr,v,s,L,A):l?R.createElement(Xr,v,R.createElement(_o,null,l),L,A):(y||A)&&R.createElement(Xr,v,L,A),R.createElement(Kr,p,P))},Qx={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},Xx=function(e,t){var r=Ux(Ux({},e.dialogProps||Qx.dialogProps),t.dialogProps||{}),n=Ux(Ux({},e.dialogActionsProps||Qx.dialogActionsProps),t.dialogActionsProps||{}),o=Ux(Ux({},e.confirmationButtonProps||Qx.confirmationButtonProps),t.confirmationButtonProps||{}),i=Ux(Ux({},e.cancellationButtonProps||Qx.cancellationButtonProps),t.cancellationButtonProps||{}),a=Ux(Ux({},e.titleProps||Qx.titleProps),t.titleProps||{}),l=Ux(Ux({},e.contentProps||Qx.contentProps),t.contentProps||{}),s=Ux(Ux({},e.confirmationKeywordTextFieldProps||Qx.confirmationKeywordTextFieldProps),t.confirmationKeywordTextFieldProps||{}),u=Ux(Ux({},e.acknowledgementFormControlLabelProps||Qx.acknowledgementFormControlLabelProps),t.acknowledgementFormControlLabelProps||{}),c=Ux(Ux({},e.acknowledgementCheckboxProps||Qx.acknowledgementCheckboxProps),t.acknowledgementCheckboxProps||{});return Ux(Ux(Ux(Ux({},Qx),e),t),{},{dialogProps:r,dialogActionsProps:n,confirmationButtonProps:o,cancellationButtonProps:i,titleProps:a,contentProps:l,confirmationKeywordTextFieldProps:s,acknowledgementFormControlLabelProps:u,acknowledgementCheckboxProps:c})},Zx=function(e){var t=e.children,r=e.defaultOptions,n=void 0===r?{}:r,o=Wx(v.useState(null),2),i=o[0],a=o[1],l=Wx(v.useState({}),2),s=l[0],u=l[1],c=Wx(v.useState(0),2),d=c[0],p=c[1],f=v.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){p((function(e){return e+1})),u(t),a({resolve:r,reject:n,parentId:e})}))}),[]),h=v.useCallback((function(e){a((function(t){return t&&t.parentId===e?null:t}))}),[]),g=v.useCallback((function(){a(null)}),[]),m=v.useCallback((function(){a((function(e){return e&&e.reject(),null}))}),[]),y=v.useCallback((function(){a((function(e){return e&&e.resolve(),null}))}),[]);return v.useCallback((function(e){return f("global",e)})),R.createElement(v.Fragment,null,R.createElement(Yx.Provider,{value:{confirmBase:f,closeOnParentUnmount:h}},t),R.createElement(Jx,{key:d,open:null!==i,options:Xx(n,null!=s?s:{}),onClose:g,onCancel:m,onConfirm:y}))},ew=0;function tw(){return Kx.apply(null,arguments)}function rw(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function nw(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function ow(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function iw(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(ow(e,t))return!1;return!0}function aw(e){return void 0===e}function lw(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function sw(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function uw(e,t){var r,n=[],o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function cw(e,t){for(var r in t)ow(t,r)&&(e[r]=t[r]);return ow(t,"toString")&&(e.toString=t.toString),ow(t,"valueOf")&&(e.valueOf=t.valueOf),e}function dw(e,t,r,n){return AS(e,t,r,n,!0).utc()}function pw(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function fw(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=pw(e),r=Gx.call(t.parsedDateParts,(function(e){return null!=e})),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function hw(e){var t=dw(NaN);return null!=e?cw(pw(t),e):pw(t).userInvalidated=!0,t}Gx=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var gw=tw.momentProperties=[],vw=!1;function mw(e,t){var r,n,o,i=gw.length;if(aw(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),aw(t._i)||(e._i=t._i),aw(t._f)||(e._f=t._f),aw(t._l)||(e._l=t._l),aw(t._strict)||(e._strict=t._strict),aw(t._tzm)||(e._tzm=t._tzm),aw(t._isUTC)||(e._isUTC=t._isUTC),aw(t._offset)||(e._offset=t._offset),aw(t._pf)||(e._pf=pw(t)),aw(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)aw(o=t[n=gw[r]])||(e[n]=o);return e}function yw(e){mw(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===vw&&(vw=!0,tw.updateOffset(this),vw=!1)}function bw(e){return e instanceof yw||null!=e&&null!=e._isAMomentObject}function _w(e){!1===tw.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function xw(e,t){var r=!0;return cw((function(){if(null!=tw.deprecationHandler&&tw.deprecationHandler(null,e),r){var n,o,i,a=[],l=arguments.length;for(o=0;o<l;o++){if(n="","object"==typeof arguments[o]){for(i in n+="\n["+o+"] ",arguments[0])ow(arguments[0],i)&&(n+=i+": "+arguments[0][i]+", ");n=n.slice(0,-2)}else n=arguments[o];a.push(n)}_w(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var ww,Ow={};function Sw(e,t){null!=tw.deprecationHandler&&tw.deprecationHandler(e,t),Ow[e]||(_w(t),Ow[e]=!0)}function kw(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function jw(e,t){var r,n=cw({},e);for(r in t)ow(t,r)&&(nw(e[r])&&nw(t[r])?(n[r]={},cw(n[r],e[r]),cw(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)ow(e,r)&&!ow(t,r)&&nw(e[r])&&(n[r]=cw({},n[r]));return n}function Ew(e){null!=e&&this.set(e)}tw.suppressDeprecationWarnings=!1,tw.deprecationHandler=null,ww=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)ow(e,t)&&r.push(t);return r};function Cw(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var Tw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qw=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Iw={},Aw={};function Lw(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Aw[e]=o),t&&(Aw[t[0]]=function(){return Cw(o.apply(this,arguments),t[1],t[2])}),r&&(Aw[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Pw(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Nw(e,t){return e.isValid()?(t=Fw(t,e.localeData()),Iw[t]=Iw[t]||function(e){var t,r,n=e.match(Tw);for(t=0,r=n.length;t<r;t++)Aw[n[t]]?n[t]=Aw[n[t]]:n[t]=Pw(n[t]);return function(t){var o,i="";for(o=0;o<r;o++)i+=kw(n[o])?n[o].call(t,e):n[o];return i}}(t),Iw[t](e)):e.localeData().invalidDate()}function Fw(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(qw.lastIndex=0;r>=0&&qw.test(e);)e=e.replace(qw,n),qw.lastIndex=0,r-=1;return e}var Rw={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Mw(e){return"string"==typeof e?Rw[e]||Rw[e.toLowerCase()]:void 0}function Dw(e){var t,r,n={};for(r in e)ow(e,r)&&(t=Mw(r))&&(n[t]=e[r]);return n}var Vw={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var zw,Bw=/\d/,Hw=/\d\d/,$w=/\d{3}/,Uw=/\d{4}/,Ww=/[+-]?\d{6}/,Kw=/\d\d?/,Gw=/\d\d\d\d?/,Yw=/\d\d\d\d\d\d?/,Jw=/\d{1,3}/,Qw=/\d{1,4}/,Xw=/[+-]?\d{1,6}/,Zw=/\d+/,eO=/[+-]?\d+/,tO=/Z|[+-]\d\d:?\d\d/gi,rO=/Z|[+-]\d\d(?::?\d\d)?/gi,nO=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oO=/^[1-9]\d?/,iO=/^([1-9]\d|\d)/;function aO(e,t,r){zw[e]=kw(t)?t:function(e,n){return e&&r?r:t}}function lO(e,t){return ow(zw,e)?zw[e](t._strict,t._locale):new RegExp(function(e){return sO(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o})))}(e))}function sO(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function uO(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function cO(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=uO(t)),r}zw={};var dO={};function pO(e,t){var r,n,o=t;for("string"==typeof e&&(e=[e]),lw(t)&&(o=function(e,r){r[t]=cO(e)}),n=e.length,r=0;r<n;r++)dO[e[r]]=o}function fO(e,t){pO(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function hO(e,t,r){null!=t&&ow(dO,e)&&dO[e](t,r._a,r,e)}function gO(e){return e%4==0&&e%100!=0||e%400==0}var vO=0,mO=1,yO=2,bO=3,_O=4,xO=5,wO=6,OO=7,SO=8;function kO(e){return gO(e)?366:365}Lw("Y",0,0,(function(){var e=this.year();return e<=9999?Cw(e,4):"+"+e})),Lw(0,["YY",2],0,(function(){return this.year()%100})),Lw(0,["YYYY",4],0,"year"),Lw(0,["YYYYY",5],0,"year"),Lw(0,["YYYYYY",6,!0],0,"year"),aO("Y",eO),aO("YY",Kw,Hw),aO("YYYY",Qw,Uw),aO("YYYYY",Xw,Ww),aO("YYYYYY",Xw,Ww),pO(["YYYYY","YYYYYY"],vO),pO("YYYY",(function(e,t){t[vO]=2===e.length?tw.parseTwoDigitYear(e):cO(e)})),pO("YY",(function(e,t){t[vO]=tw.parseTwoDigitYear(e)})),pO("Y",(function(e,t){t[vO]=parseInt(e,10)})),tw.parseTwoDigitYear=function(e){return cO(e)+(cO(e)>68?1900:2e3)};var jO,EO=CO("FullYear",!0);function CO(e,t){return function(r){return null!=r?(qO(this,e,r),tw.updateOffset(this,t),this):TO(this,e)}}function TO(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function qO(e,t,r){var n,o,i,a,l;if(e.isValid()&&!isNaN(r)){switch(n=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(o?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(o?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(o?n.setUTCHours(r):n.setHours(r));case"Date":return void(o?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,a=e.month(),l=29!==(l=e.date())||1!==a||gO(i)?l:28,o?n.setUTCFullYear(i,a,l):n.setFullYear(i,a,l)}}function IO(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?gO(e)?29:28:31-r%7%2}jO=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Lw("M",["MM",2],"Mo",(function(){return this.month()+1})),Lw("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Lw("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),aO("M",Kw,oO),aO("MM",Kw,Hw),aO("MMM",(function(e,t){return t.monthsShortRegex(e)})),aO("MMMM",(function(e,t){return t.monthsRegex(e)})),pO(["M","MM"],(function(e,t){t[mO]=cO(e)-1})),pO(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[mO]=o:pw(r).invalidMonth=e}));var AO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),LO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),PO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,NO=nO,FO=nO;function RO(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=dw([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=jO.call(this._shortMonthsParse,a))?o:null:-1!==(o=jO.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=jO.call(this._shortMonthsParse,a))||-1!==(o=jO.call(this._longMonthsParse,a))?o:null:-1!==(o=jO.call(this._longMonthsParse,a))||-1!==(o=jO.call(this._shortMonthsParse,a))?o:null}function MO(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=cO(t);else if(!lw(t=e.localeData().monthsParse(t)))return e;var r=t,n=e.date();return n=n<29?n:Math.min(n,IO(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function DO(e){return null!=e?(MO(this,e),tw.updateOffset(this,!0),this):TO(this,"Month")}function VO(){function e(e,t){return t.length-e.length}var t,r,n,o,i=[],a=[],l=[];for(t=0;t<12;t++)r=dw([2e3,t]),n=sO(this.monthsShort(r,"")),o=sO(this.months(r,"")),i.push(n),a.push(o),l.push(o),l.push(n);i.sort(e),a.sort(e),l.sort(e),this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function zO(e,t,r,n,o,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,o,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,o,i,a),l}function BO(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function HO(e,t,r){var n=7+t-r;return-((7+BO(e,0,n).getUTCDay()-t)%7)+n-1}function $O(e,t,r,n,o){var i,a,l=1+7*(t-1)+(7+r-n)%7+HO(e,n,o);return l<=0?a=kO(i=e-1)+l:l>kO(e)?(i=e+1,a=l-kO(e)):(i=e,a=l),{year:i,dayOfYear:a}}function UO(e,t,r){var n,o,i=HO(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+WO(o=e.year()-1,t,r):a>WO(e.year(),t,r)?(n=a-WO(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function WO(e,t,r){var n=HO(e,t,r),o=HO(e+1,t,r);return(kO(e)-n+o)/7}Lw("w",["ww",2],"wo","week"),Lw("W",["WW",2],"Wo","isoWeek"),aO("w",Kw,oO),aO("ww",Kw,Hw),aO("W",Kw,oO),aO("WW",Kw,Hw),fO(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=cO(e)}));function KO(e,t){return e.slice(t,7).concat(e.slice(0,t))}Lw("d",0,"do","day"),Lw("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Lw("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Lw("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Lw("e",0,0,"weekday"),Lw("E",0,0,"isoWeekday"),aO("d",Kw),aO("e",Kw),aO("E",Kw),aO("dd",(function(e,t){return t.weekdaysMinRegex(e)})),aO("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),aO("dddd",(function(e,t){return t.weekdaysRegex(e)})),fO(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:pw(r).invalidWeekday=e})),fO(["d","e","E"],(function(e,t,r,n){t[n]=cO(e)}));var GO="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),YO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JO="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QO=nO,XO=nO,ZO=nO;function eS(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=dw([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=jO.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=jO.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=jO.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=jO.call(this._weekdaysParse,a))||-1!==(o=jO.call(this._shortWeekdaysParse,a))||-1!==(o=jO.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=jO.call(this._shortWeekdaysParse,a))||-1!==(o=jO.call(this._weekdaysParse,a))||-1!==(o=jO.call(this._minWeekdaysParse,a))?o:null:-1!==(o=jO.call(this._minWeekdaysParse,a))||-1!==(o=jO.call(this._weekdaysParse,a))||-1!==(o=jO.call(this._shortWeekdaysParse,a))?o:null}function tS(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],l=[],s=[],u=[];for(t=0;t<7;t++)r=dw([2e3,1]).day(t),n=sO(this.weekdaysMin(r,"")),o=sO(this.weekdaysShort(r,"")),i=sO(this.weekdays(r,"")),a.push(n),l.push(o),s.push(i),u.push(n),u.push(o),u.push(i);a.sort(e),l.sort(e),s.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function rS(){return this.hours()%12||12}function nS(e,t){Lw(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function oS(e,t){return t._meridiemParse}Lw("H",["HH",2],0,"hour"),Lw("h",["hh",2],0,rS),Lw("k",["kk",2],0,(function(){return this.hours()||24})),Lw("hmm",0,0,(function(){return""+rS.apply(this)+Cw(this.minutes(),2)})),Lw("hmmss",0,0,(function(){return""+rS.apply(this)+Cw(this.minutes(),2)+Cw(this.seconds(),2)})),Lw("Hmm",0,0,(function(){return""+this.hours()+Cw(this.minutes(),2)})),Lw("Hmmss",0,0,(function(){return""+this.hours()+Cw(this.minutes(),2)+Cw(this.seconds(),2)})),nS("a",!0),nS("A",!1),aO("a",oS),aO("A",oS),aO("H",Kw,iO),aO("h",Kw,oO),aO("k",Kw,oO),aO("HH",Kw,Hw),aO("hh",Kw,Hw),aO("kk",Kw,Hw),aO("hmm",Gw),aO("hmmss",Yw),aO("Hmm",Gw),aO("Hmmss",Yw),pO(["H","HH"],bO),pO(["k","kk"],(function(e,t,r){var n=cO(e);t[bO]=24===n?0:n})),pO(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),pO(["h","hh"],(function(e,t,r){t[bO]=cO(e),pw(r).bigHour=!0})),pO("hmm",(function(e,t,r){var n=e.length-2;t[bO]=cO(e.substr(0,n)),t[_O]=cO(e.substr(n)),pw(r).bigHour=!0})),pO("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[bO]=cO(e.substr(0,n)),t[_O]=cO(e.substr(n,2)),t[xO]=cO(e.substr(o)),pw(r).bigHour=!0})),pO("Hmm",(function(e,t,r){var n=e.length-2;t[bO]=cO(e.substr(0,n)),t[_O]=cO(e.substr(n))})),pO("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[bO]=cO(e.substr(0,n)),t[_O]=cO(e.substr(n,2)),t[xO]=cO(e.substr(o))}));var iS=CO("Hours",!0);var aS,lS={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:AO,monthsShort:LO,week:{dow:0,doy:6},weekdays:GO,weekdaysMin:JO,weekdaysShort:YO,meridiemParse:/[ap]\.?m?\.?/i},sS={},uS={};function cS(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function dS(e){return e?e.toLowerCase().replace("_","-"):e}function pS(e){var t=null;if(void 0===sS[e]&&void 0!==d&&d&&d.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=aS._abbr,require("./locale/"+e),fS(t)}catch(_n){sS[e]=null}return sS[e]}function fS(e,t){var r;return e&&((r=aw(t)?gS(e):hS(e,t))?aS=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),aS._abbr}function hS(e,t){if(null!==t){var r,n=lS;if(t.abbr=e,null!=sS[e])Sw("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=sS[e]._config;else if(null!=t.parentLocale)if(null!=sS[t.parentLocale])n=sS[t.parentLocale]._config;else{if(null==(r=pS(t.parentLocale)))return uS[t.parentLocale]||(uS[t.parentLocale]=[]),uS[t.parentLocale].push({name:e,config:t}),null;n=r._config}return sS[e]=new Ew(jw(n,t)),uS[e]&&uS[e].forEach((function(e){hS(e.name,e.config)})),fS(e),sS[e]}return delete sS[e],null}function gS(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return aS;if(!rw(e)){if(t=pS(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=dS(e[i]).split("-")).length,r=(r=dS(e[i+1]))?r.split("-"):null;t>0;){if(n=pS(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&cS(o,r)>=t-1)break;t--}i++}return aS}(e)}function vS(e){var t,r=e._a;return r&&-2===pw(e).overflow&&(t=r[mO]<0||r[mO]>11?mO:r[yO]<1||r[yO]>IO(r[vO],r[mO])?yO:r[bO]<0||r[bO]>24||24===r[bO]&&(0!==r[_O]||0!==r[xO]||0!==r[wO])?bO:r[_O]<0||r[_O]>59?_O:r[xO]<0||r[xO]>59?xO:r[wO]<0||r[wO]>999?wO:-1,pw(e)._overflowDayOfYear&&(t<vO||t>yO)&&(t=yO),pw(e)._overflowWeeks&&-1===t&&(t=OO),pw(e)._overflowWeekday&&-1===t&&(t=SO),pw(e).overflow=t),e}var mS=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yS=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bS=/Z|[+-]\d\d(?::?\d\d)?/,_S=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wS=/^\/?Date\((-?\d+)/i,OS=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,SS={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kS(e){var t,r,n,o,i,a,l=e._i,s=mS.exec(l)||yS.exec(l),u=_S.length,c=xS.length;if(s){for(pw(e).iso=!0,t=0,r=u;t<r;t++)if(_S[t][1].exec(s[1])){o=_S[t][0],n=!1!==_S[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,r=c;t<r;t++)if(xS[t][1].exec(s[3])){i=(s[2]||" ")+xS[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(s[4]){if(!bS.exec(s[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),qS(e)}else e._isValid=!1}function jS(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ES(e){var t,r,n,o,i,a,l,s,u=OS.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],a=u[6],l=u[7],s=[jS(r),LO.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],l&&s.push(parseInt(l,10)),t=s,!function(e,t,r){return!e||YO.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(pw(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return SS[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),e._d=BO.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),pw(e).rfc2822=!0}else e._isValid=!1}function CS(e,t,r){return null!=e?e:null!=t?t:r}function TS(e){var t,r,n,o,i,a=[];if(!e._d){for(n=function(e){var t=new Date(tw.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[yO]&&null==e._a[mO]&&function(e){var t,r,n,o,i,a,l,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,r=CS(t.GG,e._a[vO],UO(LS(),1,4).year),n=CS(t.W,1),((o=CS(t.E,1))<1||o>7)&&(s=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=UO(LS(),i,a),r=CS(t.gg,e._a[vO],u.year),n=CS(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(s=!0)):o=i);n<1||n>WO(r,i,a)?pw(e)._overflowWeeks=!0:null!=s?pw(e)._overflowWeekday=!0:(l=$O(r,n,o,i,a),e._a[vO]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(i=CS(e._a[vO],n[vO]),(e._dayOfYear>kO(i)||0===e._dayOfYear)&&(pw(e)._overflowDayOfYear=!0),r=BO(i,0,e._dayOfYear),e._a[mO]=r.getUTCMonth(),e._a[yO]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[bO]&&0===e._a[_O]&&0===e._a[xO]&&0===e._a[wO]&&(e._nextDay=!0,e._a[bO]=0),e._d=(e._useUTC?BO:zO).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[bO]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(pw(e).weekdayMismatch=!0)}}function qS(e){if(e._f!==tw.ISO_8601)if(e._f!==tw.RFC_2822){e._a=[],pw(e).empty=!0;var t,r,n,o,i,a,l,s=""+e._i,u=s.length,c=0;for(l=(n=Fw(e._f,e._locale).match(Tw)||[]).length,t=0;t<l;t++)o=n[t],(r=(s.match(lO(o,e))||[])[0])&&((i=s.substr(0,s.indexOf(r))).length>0&&pw(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Aw[o]?(r?pw(e).empty=!1:pw(e).unusedTokens.push(o),hO(o,r,e)):e._strict&&!r&&pw(e).unusedTokens.push(o);pw(e).charsLeftOver=u-c,s.length>0&&pw(e).unusedInput.push(s),e._a[bO]<=12&&!0===pw(e).bigHour&&e._a[bO]>0&&(pw(e).bigHour=void 0),pw(e).parsedDateParts=e._a.slice(0),pw(e).meridiem=e._meridiem,e._a[bO]=function(e,t,r){var n;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[bO],e._meridiem),null!==(a=pw(e).era)&&(e._a[vO]=e._locale.erasConvertYear(a,e._a[vO])),TS(e),vS(e)}else ES(e);else kS(e)}function IS(e){var t=e._i,r=e._f;return e._locale=e._locale||gS(e._l),null===t||void 0===r&&""===t?hw({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),bw(t)?new yw(vS(t)):(sw(t)?e._d=t:rw(r)?function(e){var t,r,n,o,i,a,l=!1,s=e._f.length;if(0===s)return pw(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<s;o++)i=0,a=!1,t=mw({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],qS(t),fw(t)&&(a=!0),i+=pw(t).charsLeftOver,i+=10*pw(t).unusedTokens.length,pw(t).score=i,l?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(l=!0));cw(e,r||t)}(e):r?qS(e):function(e){var t=e._i;aw(t)?e._d=new Date(tw.now()):sw(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wS.exec(e._i);null===t?(kS(e),!1===e._isValid&&(delete e._isValid,ES(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:tw.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):rw(t)?(e._a=uw(t.slice(0),(function(e){return parseInt(e,10)})),TS(e)):nw(t)?function(e){if(!e._d){var t=Dw(e._i),r=void 0===t.day?t.date:t.day;e._a=uw([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),TS(e)}}(e):lw(t)?e._d=new Date(t):tw.createFromInputFallback(e)}(e),fw(e)||(e._d=null),e))}function AS(e,t,r,n,o){var i={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(nw(e)&&iw(e)||rw(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=r,i._i=e,i._f=t,i._strict=n,function(e){var t=new yw(vS(IS(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(i)}function LS(e,t,r,n){return AS(e,t,r,n,!1)}tw.createFromInputFallback=xw("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),tw.ISO_8601=function(){},tw.RFC_2822=function(){};var PS=xw("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=LS.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:hw()})),NS=xw("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=LS.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:hw()}));function FS(e,t){var r,n;if(1===t.length&&rw(t[0])&&(t=t[0]),!t.length)return LS();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var RS=["year","quarter","month","week","day","hour","minute","second","millisecond"];function MS(e){var t=Dw(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,s=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,o=RS.length;for(t in e)if(ow(e,t)&&(-1===jO.call(RS,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<o;++r)if(e[RS[r]]){if(n)return!1;parseFloat(e[RS[r]])!==cO(e[RS[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*s+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=gS(),this._bubble()}function DS(e){return e instanceof MS}function VS(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zS(e,t){Lw(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Cw(~~(e/60),2)+t+Cw(~~e%60,2)}))}zS("Z",":"),zS("ZZ",""),aO("Z",rO),aO("ZZ",rO),pO(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=HS(rO,e)}));var BS=/([\+\-]|\d\d)/gi;function HS(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(BS)||["-",0,0])[1]+cO(r[2]))?0:"+"===r[0]?n:-n}function $S(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(bw(e)||sw(e)?e.valueOf():LS(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),tw.updateOffset(r,!1),r):LS(e).local()}function US(e){return-Math.round(e._d.getTimezoneOffset())}function WS(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}tw.updateOffset=function(){};var KS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,GS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function YS(e,t){var r,n,o,i=e,a=null;return DS(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:lw(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=KS.exec(e))?(r="-"===a[1]?-1:1,i={y:0,d:cO(a[yO])*r,h:cO(a[bO])*r,m:cO(a[_O])*r,s:cO(a[xO])*r,ms:cO(VS(1e3*a[wO]))*r}):(a=GS.exec(e))?(r="-"===a[1]?-1:1,i={y:JS(a[2],r),M:JS(a[3],r),w:JS(a[4],r),d:JS(a[5],r),h:JS(a[6],r),m:JS(a[7],r),s:JS(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=$S(t,e),e.isBefore(t)?r=QS(e,t):((r=QS(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(LS(i.from),LS(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new MS(i),DS(e)&&ow(e,"_locale")&&(n._locale=e._locale),DS(e)&&ow(e,"_isValid")&&(n._isValid=e._isValid),n}function JS(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function QS(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function XS(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(Sw(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),ZS(this,YS(r,n),e),this}}function ZS(e,t,r,n){var o=t._milliseconds,i=VS(t._days),a=VS(t._months);e.isValid()&&(n=null==n||n,a&&MO(e,TO(e,"Month")+a*r),i&&qO(e,"Date",TO(e,"Date")+i*r),o&&e._d.setTime(e._d.valueOf()+o*r),n&&tw.updateOffset(e,i||a))}YS.fn=MS.prototype,YS.invalid=function(){return YS(NaN)};var ek=XS(1,"add"),tk=XS(-1,"subtract");function rk(e){return"string"==typeof e||e instanceof String}function nk(e){return bw(e)||sw(e)||rk(e)||lw(e)||function(e){var t=rw(e),r=!1;t&&(r=0===e.filter((function(t){return!lw(t)&&rk(e)})).length);return t&&r}(e)||function(e){var t,r,n=nw(e)&&!iw(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)r=i[t],o=o||ow(e,r);return n&&o}(e)||null==e}function ok(e,t){if(e.date()<t.date())return-ok(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function ik(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gS(e))&&(this._locale=t),this)}tw.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",tw.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ak=xw("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lk(){return this._locale}var sk=1e3,uk=6e4,ck=36e5,dk=126227808e5;function pk(e,t){return(e%t+t)%t}function fk(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-dk:new Date(e,t,r).valueOf()}function hk(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-dk:Date.UTC(e,t,r)}function gk(e,t){return t.erasAbbrRegex(e)}function vk(){var e,t,r,n,o,i=[],a=[],l=[],s=[],u=this.eras();for(e=0,t=u.length;e<t;++e)r=sO(u[e].name),n=sO(u[e].abbr),o=sO(u[e].narrow),a.push(r),i.push(n),l.push(o),s.push(r),s.push(n),s.push(o);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}function mk(e,t){Lw(0,[e,e.length],0,t)}function yk(e,t,r,n,o){var i;return null==e?UO(this,n,o).year:(t>(i=WO(e,n,o))&&(t=i),bk.call(this,e,t,r,n,o))}function bk(e,t,r,n,o){var i=$O(e,t,r,n,o),a=BO(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Lw("N",0,0,"eraAbbr"),Lw("NN",0,0,"eraAbbr"),Lw("NNN",0,0,"eraAbbr"),Lw("NNNN",0,0,"eraName"),Lw("NNNNN",0,0,"eraNarrow"),Lw("y",["y",1],"yo","eraYear"),Lw("y",["yy",2],0,"eraYear"),Lw("y",["yyy",3],0,"eraYear"),Lw("y",["yyyy",4],0,"eraYear"),aO("N",gk),aO("NN",gk),aO("NNN",gk),aO("NNNN",(function(e,t){return t.erasNameRegex(e)})),aO("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),pO(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?pw(r).era=o:pw(r).invalidEra=e})),aO("y",Zw),aO("yy",Zw),aO("yyy",Zw),aO("yyyy",Zw),aO("yo",(function(e,t){return t._eraYearOrdinalRegex||Zw})),pO(["y","yy","yyy","yyyy"],vO),pO(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[vO]=r._locale.eraYearOrdinalParse(e,o):t[vO]=parseInt(e,10)})),Lw(0,["gg",2],0,(function(){return this.weekYear()%100})),Lw(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),mk("gggg","weekYear"),mk("ggggg","weekYear"),mk("GGGG","isoWeekYear"),mk("GGGGG","isoWeekYear"),aO("G",eO),aO("g",eO),aO("GG",Kw,Hw),aO("gg",Kw,Hw),aO("GGGG",Qw,Uw),aO("gggg",Qw,Uw),aO("GGGGG",Xw,Ww),aO("ggggg",Xw,Ww),fO(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=cO(e)})),fO(["gg","GG"],(function(e,t,r,n){t[n]=tw.parseTwoDigitYear(e)})),Lw("Q",0,"Qo","quarter"),aO("Q",Bw),pO("Q",(function(e,t){t[mO]=3*(cO(e)-1)})),Lw("D",["DD",2],"Do","date"),aO("D",Kw,oO),aO("DD",Kw,Hw),aO("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pO(["D","DD"],yO),pO("Do",(function(e,t){t[yO]=cO(e.match(Kw)[0])}));var _k=CO("Date",!0);Lw("DDD",["DDDD",3],"DDDo","dayOfYear"),aO("DDD",Jw),aO("DDDD",$w),pO(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=cO(e)})),Lw("m",["mm",2],0,"minute"),aO("m",Kw,iO),aO("mm",Kw,Hw),pO(["m","mm"],_O);var xk=CO("Minutes",!1);Lw("s",["ss",2],0,"second"),aO("s",Kw,iO),aO("ss",Kw,Hw),pO(["s","ss"],xO);var wk,Ok,Sk=CO("Seconds",!1);for(Lw("S",0,0,(function(){return~~(this.millisecond()/100)})),Lw(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Lw(0,["SSS",3],0,"millisecond"),Lw(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Lw(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Lw(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Lw(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Lw(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Lw(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),aO("S",Jw,Bw),aO("SS",Jw,Hw),aO("SSS",Jw,$w),wk="SSSS";wk.length<=9;wk+="S")aO(wk,Zw);function kk(e,t){t[wO]=cO(1e3*("0."+e))}for(wk="S";wk.length<=9;wk+="S")pO(wk,kk);Ok=CO("Milliseconds",!1),Lw("z",0,0,"zoneAbbr"),Lw("zz",0,0,"zoneName");var jk=yw.prototype;function Ek(e){return e}jk.add=ek,jk.calendar=function(e,t){1===arguments.length&&(arguments[0]?nk(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=nw(e)&&!iw(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||ow(e,o[t]);return r&&n}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||LS(),n=$S(r,this).startOf("day"),o=tw.calendarFormat(this,n)||"sameElse",i=t&&(kw(t[o])?t[o].call(this,r):t[o]);return this.format(i||this.localeData().calendar(o,this,LS(r)))},jk.clone=function(){return new yw(this)},jk.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=$S(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=Mw(t)){case"year":i=ok(this,n)/12;break;case"month":i=ok(this,n);break;case"quarter":i=ok(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:uO(i)},jk.endOf=function(e){var t,r;if(void 0===(e=Mw(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hk:fk,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ck-pk(t+(this._isUTC?0:this.utcOffset()*uk),ck)-1;break;case"minute":t=this._d.valueOf(),t+=uk-pk(t,uk)-1;break;case"second":t=this._d.valueOf(),t+=sk-pk(t,sk)-1}return this._d.setTime(t),tw.updateOffset(this,!0),this},jk.format=function(e){e||(e=this.isUtc()?tw.defaultFormatUtc:tw.defaultFormat);var t=Nw(this,e);return this.localeData().postformat(t)},jk.from=function(e,t){return this.isValid()&&(bw(e)&&e.isValid()||LS(e).isValid())?YS({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},jk.fromNow=function(e){return this.from(LS(),e)},jk.to=function(e,t){return this.isValid()&&(bw(e)&&e.isValid()||LS(e).isValid())?YS({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},jk.toNow=function(e){return this.to(LS(),e)},jk.get=function(e){return kw(this[e=Mw(e)])?this[e]():this},jk.invalidAt=function(){return pw(this).overflow},jk.isAfter=function(e,t){var r=bw(e)?e:LS(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Mw(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},jk.isBefore=function(e,t){var r=bw(e)?e:LS(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Mw(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},jk.isBetween=function(e,t,r,n){var o=bw(e)?e:LS(e),i=bw(t)?t:LS(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},jk.isSame=function(e,t){var r,n=bw(e)?e:LS(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Mw(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},jk.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},jk.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},jk.isValid=function(){return fw(this)},jk.lang=ak,jk.locale=ik,jk.localeData=lk,jk.max=NS,jk.min=PS,jk.parsingFlags=function(){return cw({},pw(this))},jk.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)ow(e,t)&&r.push({unit:t,priority:Vw[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=Dw(e)),o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(kw(this[e=Mw(e)]))return this[e](t);return this},jk.startOf=function(e){var t,r;if(void 0===(e=Mw(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hk:fk,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pk(t+(this._isUTC?0:this.utcOffset()*uk),ck);break;case"minute":t=this._d.valueOf(),t-=pk(t,uk);break;case"second":t=this._d.valueOf(),t-=pk(t,sk)}return this._d.setTime(t),tw.updateOffset(this,!0),this},jk.subtract=tk,jk.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},jk.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},jk.toDate=function(){return new Date(this.valueOf())},jk.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Nw(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):kw(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Nw(r,"Z")):Nw(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},jk.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(jk[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),jk.toJSON=function(){return this.isValid()?this.toISOString():null},jk.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},jk.unix=function(){return Math.floor(this.valueOf()/1e3)},jk.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},jk.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},jk.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},jk.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},jk.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},jk.eraYear=function(){var e,t,r,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-tw(o[e].since).year())*r+o[e].offset;return this.year()},jk.year=EO,jk.isLeapYear=function(){return gO(this.year())},jk.weekYear=function(e){return yk.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},jk.isoWeekYear=function(e){return yk.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},jk.quarter=jk.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},jk.month=DO,jk.daysInMonth=function(){return IO(this.year(),this.month())},jk.week=jk.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},jk.isoWeek=jk.isoWeeks=function(e){var t=UO(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},jk.weeksInYear=function(){var e=this.localeData()._week;return WO(this.year(),e.dow,e.doy)},jk.weeksInWeekYear=function(){var e=this.localeData()._week;return WO(this.weekYear(),e.dow,e.doy)},jk.isoWeeksInYear=function(){return WO(this.year(),1,4)},jk.isoWeeksInISOWeekYear=function(){return WO(this.isoWeekYear(),1,4)},jk.date=_k,jk.day=jk.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=TO(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},jk.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},jk.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},jk.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},jk.hour=jk.hours=iS,jk.minute=jk.minutes=xk,jk.second=jk.seconds=Sk,jk.millisecond=jk.milliseconds=Ok,jk.utcOffset=function(e,t,r){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=HS(rO,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=US(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?ZS(this,YS(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tw.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:US(this)},jk.utc=function(e){return this.utcOffset(0,e)},jk.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(US(this),"m")),this},jk.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=HS(tO,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},jk.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?LS(e).utcOffset():0,(this.utcOffset()-e)%60==0)},jk.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},jk.isLocal=function(){return!!this.isValid()&&!this._isUTC},jk.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},jk.isUtc=WS,jk.isUTC=WS,jk.zoneAbbr=function(){return this._isUTC?"UTC":""},jk.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},jk.dates=xw("dates accessor is deprecated. Use date instead.",_k),jk.months=xw("months accessor is deprecated. Use month instead",DO),jk.years=xw("years accessor is deprecated. Use year instead",EO),jk.zone=xw("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),jk.isDSTShifted=xw("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!aw(this._isDSTShifted))return this._isDSTShifted;var e,t={};return mw(t,this),(t=IS(t))._a?(e=t._isUTC?dw(t._a):LS(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)cO(e[n])!==cO(t[n])&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Ck=Ew.prototype;function Tk(e,t,r,n){var o=gS(),i=dw().set(n,t);return o[r](i,e)}function qk(e,t,r){if(lw(e)&&(t=e,e=void 0),e=e||"",null!=t)return Tk(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Tk(e,n,r,"month");return o}function Ik(e,t,r,n){"boolean"==typeof e?(lw(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,lw(t)&&(r=t,t=void 0),t=t||"");var o,i=gS(),a=e?i._week.dow:0,l=[];if(null!=r)return Tk(t,(r+a)%7,n,"day");for(o=0;o<7;o++)l[o]=Tk(t,(o+a)%7,n,"day");return l}Ck.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return kw(n)?n.call(t,r):n},Ck.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Tw).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Ck.invalidDate=function(){return this._invalidDate},Ck.ordinal=function(e){return this._ordinal.replace("%d",e)},Ck.preparse=Ek,Ck.postformat=Ek,Ck.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return kw(o)?o(e,t,r,n):o.replace(/%d/i,e)},Ck.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return kw(r)?r(t):r.replace(/%s/i,t)},Ck.set=function(e){var t,r;for(r in e)ow(e,r)&&(kw(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ck.eras=function(e,t){var r,n,o,i=this._eras||gS("en")._eras;for(r=0,n=i.length;r<n;++r){if("string"==typeof i[r].since)o=tw(i[r].since).startOf("day"),i[r].since=o.valueOf();switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":o=tw(i[r].until).startOf("day").valueOf(),i[r].until=o.valueOf()}}return i},Ck.erasParse=function(e,t,r){var n,o,i,a,l,s=this.eras();for(e=e.toUpperCase(),n=0,o=s.length;n<o;++n)if(i=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n]}else if([i,a,l].indexOf(e)>=0)return s[n]},Ck.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?tw(e.since).year():tw(e.since).year()+(t-e.offset)*r},Ck.erasAbbrRegex=function(e){return ow(this,"_erasAbbrRegex")||vk.call(this),e?this._erasAbbrRegex:this._erasRegex},Ck.erasNameRegex=function(e){return ow(this,"_erasNameRegex")||vk.call(this),e?this._erasNameRegex:this._erasRegex},Ck.erasNarrowRegex=function(e){return ow(this,"_erasNarrowRegex")||vk.call(this),e?this._erasNarrowRegex:this._erasRegex},Ck.months=function(e,t){return e?rw(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||PO).test(t)?"format":"standalone"][e.month()]:rw(this._months)?this._months:this._months.standalone},Ck.monthsShort=function(e,t){return e?rw(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[PO.test(t)?"format":"standalone"][e.month()]:rw(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ck.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return RO.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=dw([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},Ck.monthsRegex=function(e){return this._monthsParseExact?(ow(this,"_monthsRegex")||VO.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ow(this,"_monthsRegex")||(this._monthsRegex=FO),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Ck.monthsShortRegex=function(e){return this._monthsParseExact?(ow(this,"_monthsRegex")||VO.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ow(this,"_monthsShortRegex")||(this._monthsShortRegex=NO),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Ck.week=function(e){return UO(e,this._week.dow,this._week.doy).week},Ck.firstDayOfYear=function(){return this._week.doy},Ck.firstDayOfWeek=function(){return this._week.dow},Ck.weekdays=function(e,t){var r=rw(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?KO(r,this._week.dow):e?r[e.day()]:r},Ck.weekdaysMin=function(e){return!0===e?KO(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Ck.weekdaysShort=function(e){return!0===e?KO(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Ck.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return eS.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=dw([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},Ck.weekdaysRegex=function(e){return this._weekdaysParseExact?(ow(this,"_weekdaysRegex")||tS.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ow(this,"_weekdaysRegex")||(this._weekdaysRegex=QO),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Ck.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(ow(this,"_weekdaysRegex")||tS.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ow(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=XO),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ck.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(ow(this,"_weekdaysRegex")||tS.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ow(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ZO),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ck.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ck.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},fS("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===cO(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),tw.lang=xw("moment.lang is deprecated. Use moment.locale instead.",fS),tw.langData=xw("moment.langData is deprecated. Use moment.localeData instead.",gS);var Ak=Math.abs;function Lk(e,t,r,n){var o=YS(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function Pk(e){return e<0?Math.floor(e):Math.ceil(e)}function Nk(e){return 4800*e/146097}function Fk(e){return 146097*e/4800}function Rk(e){return function(){return this.as(e)}}var Mk=Rk("ms"),Dk=Rk("s"),Vk=Rk("m"),zk=Rk("h"),Bk=Rk("d"),Hk=Rk("w"),$k=Rk("M"),Uk=Rk("Q"),Wk=Rk("y"),Kk=Mk;function Gk(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yk=Gk("milliseconds"),Jk=Gk("seconds"),Qk=Gk("minutes"),Xk=Gk("hours"),Zk=Gk("days"),ej=Gk("months"),tj=Gk("years");var rj=Math.round,nj={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oj(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var ij=Math.abs;function aj(e){return(e>0)-(e<0)||+e}function lj(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,l,s=ij(this._milliseconds)/1e3,u=ij(this._days),c=ij(this._months),d=this.asSeconds();return d?(e=uO(s/60),t=uO(e/60),s%=60,e%=60,r=uO(c/12),c%=12,n=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=aj(this._months)!==aj(d)?"-":"",a=aj(this._days)!==aj(d)?"-":"",l=aj(this._milliseconds)!==aj(d)?"-":"",o+"P"+(r?i+r+"Y":"")+(c?i+c+"M":"")+(u?a+u+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+n+"S":"")):"P0D"}var sj=MS.prototype;sj.isValid=function(){return this._isValid},sj.abs=function(){var e=this._data;return this._milliseconds=Ak(this._milliseconds),this._days=Ak(this._days),this._months=Ak(this._months),e.milliseconds=Ak(e.milliseconds),e.seconds=Ak(e.seconds),e.minutes=Ak(e.minutes),e.hours=Ak(e.hours),e.months=Ak(e.months),e.years=Ak(e.years),this},sj.add=function(e,t){return Lk(this,e,t,1)},sj.subtract=function(e,t){return Lk(this,e,t,-1)},sj.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=Mw(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Nk(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Fk(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},sj.asMilliseconds=Mk,sj.asSeconds=Dk,sj.asMinutes=Vk,sj.asHours=zk,sj.asDays=Bk,sj.asWeeks=Hk,sj.asMonths=$k,sj.asQuarters=Uk,sj.asYears=Wk,sj.valueOf=Kk,sj._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,l=this._months,s=this._data;return i>=0&&a>=0&&l>=0||i<=0&&a<=0&&l<=0||(i+=864e5*Pk(Fk(l)+a),a=0,l=0),s.milliseconds=i%1e3,e=uO(i/1e3),s.seconds=e%60,t=uO(e/60),s.minutes=t%60,r=uO(t/60),s.hours=r%24,a+=uO(r/24),l+=o=uO(Nk(a)),a-=Pk(Fk(o)),n=uO(l/12),l%=12,s.days=a,s.months=l,s.years=n,this},sj.clone=function(){return YS(this)},sj.get=function(e){return e=Mw(e),this.isValid()?this[e+"s"]():NaN},sj.milliseconds=Yk,sj.seconds=Jk,sj.minutes=Qk,sj.hours=Xk,sj.days=Zk,sj.weeks=function(){return uO(this.days()/7)},sj.months=ej,sj.years=tj,sj.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=nj;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},nj,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=function(e,t,r,n){var o=YS(e).abs(),i=rj(o.as("s")),a=rj(o.as("m")),l=rj(o.as("h")),s=rj(o.as("d")),u=rj(o.as("M")),c=rj(o.as("w")),d=rj(o.as("y")),p=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||s<=1&&["d"]||s<r.d&&["dd",s];return null!=r.w&&(p=p||c<=1&&["w"]||c<r.w&&["ww",c]),(p=p||u<=1&&["M"]||u<r.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=n,oj.apply(null,p)}(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},sj.toISOString=lj,sj.toString=lj,sj.toJSON=lj,sj.locale=ik,sj.localeData=lk,sj.toIsoString=xw("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lj),sj.lang=ak,Lw("X",0,0,"unix"),Lw("x",0,0,"valueOf"),aO("x",eO),aO("X",/[+-]?\d+(\.\d{1,3})?/),pO("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),pO("x",(function(e,t,r){r._d=new Date(cO(e))})),//! moment.js
tw.version="2.30.1",Kx=LS,tw.fn=jk,tw.min=function(){return FS("isBefore",[].slice.call(arguments,0))},tw.max=function(){return FS("isAfter",[].slice.call(arguments,0))},tw.now=function(){return Date.now?Date.now():+new Date},tw.utc=dw,tw.unix=function(e){return LS(1e3*e)},tw.months=function(e,t){return qk(e,t,"months")},tw.isDate=sw,tw.locale=fS,tw.invalid=hw,tw.duration=YS,tw.isMoment=bw,tw.weekdays=function(e,t,r){return Ik(e,t,r,"weekdays")},tw.parseZone=function(){return LS.apply(null,arguments).parseZone()},tw.localeData=gS,tw.isDuration=DS,tw.monthsShort=function(e,t){return qk(e,t,"monthsShort")},tw.weekdaysMin=function(e,t,r){return Ik(e,t,r,"weekdaysMin")},tw.defineLocale=hS,tw.updateLocale=function(e,t){if(null!=t){var r,n,o=lS;null!=sS[e]&&null!=sS[e].parentLocale?sS[e].set(jw(sS[e]._config,t)):(null!=(n=pS(e))&&(o=n._config),t=jw(o,t),null==n&&(t.abbr=e),(r=new Ew(t)).parentLocale=sS[e],sS[e]=r),fS(e)}else null!=sS[e]&&(null!=sS[e].parentLocale?(sS[e]=sS[e].parentLocale,e===fS()&&fS(e)):null!=sS[e]&&delete sS[e]);return sS[e]},tw.locales=function(){return ww(sS)},tw.weekdaysShort=function(e,t,r){return Ik(e,t,r,"weekdaysShort")},tw.normalizeUnits=Mw,tw.relativeTimeRounding=function(e){return void 0===e?rj:"function"==typeof e&&(rj=e,!0)},tw.relativeTimeThreshold=function(e,t){return void 0!==nj[e]&&(void 0===t?nj[e]:(nj[e]=t,"s"===e&&(nj.ss=t-1),!0))},tw.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},tw.prototype=jk,tw.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const uj={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class cj{constructor({locale:e,formats:t,instance:r}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=e=>{var t,r;return null!==(r=null===(t=e.match(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g))||void 0===t?void 0:t.map((e=>{const t=e[0];return"L"===t||";"===t?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(e):e})).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())&&void 0!==r?r:e},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=e=>this.moment(e,!0),this.toISO=e=>e.toISOString(),this.parse=(e,t)=>""===e?null:this.locale?this.moment(e,t,this.locale,!0):this.moment(e,t,!0),this.date=e=>{if(null===e)return null;const t=this.moment(e);return this.locale&&t.locale(this.locale),t},this.toJsDate=e=>e.toDate(),this.isValid=e=>this.moment(e).isValid(),this.isNull=e=>null===e,this.getDiff=(e,t,r)=>this.moment(t).isValid()?e.diff(t,r):0,this.isAfter=(e,t)=>e.isAfter(t),this.isBefore=(e,t)=>e.isBefore(t),this.isAfterDay=(e,t)=>e.isAfter(t,"day"),this.isBeforeDay=(e,t)=>e.isBefore(t,"day"),this.isBeforeMonth=(e,t)=>e.isBefore(t,"month"),this.isAfterMonth=(e,t)=>e.isAfter(t,"month"),this.isBeforeYear=(e,t)=>e.isBefore(t,"year"),this.isAfterYear=(e,t)=>e.isAfter(t,"year"),this.startOfDay=e=>e.clone().startOf("day"),this.endOfDay=e=>e.clone().endOf("day"),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>{const r=e.clone();return this.locale&&r.locale(this.locale),r.format(t)},this.formatNumber=e=>e,this.getHours=e=>e.get("hours"),this.addSeconds=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"seconds"):e.clone().add(t,"seconds"),this.addMinutes=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"minutes"):e.clone().add(t,"minutes"),this.addHours=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"hours"):e.clone().add(t,"hours"),this.addDays=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"days"):e.clone().add(t,"days"),this.addWeeks=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"weeks"):e.clone().add(t,"weeks"),this.addMonths=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"months"):e.clone().add(t,"months"),this.addYears=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"years"):e.clone().add(t,"years"),this.setHours=(e,t)=>e.clone().hours(t),this.getMinutes=e=>e.get("minutes"),this.setMinutes=(e,t)=>e.clone().minutes(t),this.getSeconds=e=>e.get("seconds"),this.setSeconds=(e,t)=>e.clone().seconds(t),this.getMonth=e=>e.get("month"),this.getDaysInMonth=e=>e.daysInMonth(),this.isSameDay=(e,t)=>e.isSame(t,"day"),this.isSameMonth=(e,t)=>e.isSame(t,"month"),this.isSameYear=(e,t)=>e.isSame(t,"year"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.setMonth=(e,t)=>e.clone().month(t),this.getMeridiemText=e=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem("am"===e?0:13,0,!1):"am"===e?"AM":"PM",this.startOfYear=e=>e.clone().startOf("year"),this.endOfYear=e=>e.clone().endOf("year"),this.startOfMonth=e=>e.clone().startOf("month"),this.endOfMonth=e=>e.clone().endOf("month"),this.startOfWeek=e=>e.clone().startOf("week"),this.endOfWeek=e=>e.clone().endOf("week"),this.getNextMonth=e=>e.clone().add(1,"month"),this.getPreviousMonth=e=>e.clone().subtract(1,"month"),this.getMonthArray=e=>{const t=[e.clone().startOf("year")];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.getYear=e=>e.get("year"),this.setYear=(e,t)=>e.clone().set("year",t),this.getDate=e=>e.get("date"),this.setDate=(e,t)=>e.clone().set("date",t),this.mergeDateAndTime=(e,t)=>e.hour(t.hour()).minute(t.minute()).second(t.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(e,t)=>null===e&&null===t||this.moment(e).isSame(t),this.getWeekArray=e=>{const t=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week");let n=0,o=t;const i=[];for(;o.isBefore(r);){const e=Math.floor(n/7);i[e]=i[e]||[],i[e].push(o),o=o.clone().add(1,"day"),n+=1}return i},this.getYearRange=(e,t)=>{const r=this.moment(e).startOf("year"),n=this.moment(t).endOf("year"),o=[];let i=r;for(;i.isBefore(n);)o.push(i),i=i.clone().add(1,"year");return o},this.isWithinRange=(e,[t,r])=>e.isBetween(t,r,null,"[]"),this.moment=r||tw,this.locale=e,this.formats=Object.assign({},uj,t)}}const dj={name:"@mui/x-date-pickers",version:"5.0.20",description:"The community edition of the date picker components (MUI X).",author:"MUI Team",main:"./node/index.js",license:"MIT",bugs:{url:"https://github.com/mui/mui-x/issues"},homepage:"https://mui.com/x/react-date-pickers/getting-started/",funding:{type:"opencollective",url:"https://opencollective.com/mui"},sideEffects:!1,publishConfig:{access:"public"},keywords:["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],repository:{type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},dependencies:{"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},peerDependencies:{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},peerDependenciesMeta:{"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},setupFiles:["<rootDir>/src/setupTests.js"],engines:{node:">=12.0.0"},private:!1,module:"./index.js",types:"./index.d.ts"};function pj(e){return function(e){if(Array.isArray(e))return z(e)}(e)||B(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fj="delete",hj=5,gj=1<<hj,vj=gj-1,mj={};function yj(e){e&&(e.value=!0)}function bj(){}function _j(e){return void 0===e.size&&(e.size=e.__iterate(wj)),e.size}function xj(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?_j(e)+t:t}function wj(){return!0}function Oj(e,t,r){return(0===e&&!Ej(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function Sj(e,t){return jj(e,t,0)}function kj(e,t){return jj(e,t,t)}function jj(e,t,r){return void 0===e?r:Ej(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function Ej(e){return e<0||0===e&&1/e==-1/0}var Cj="@@__IMMUTABLE_ITERABLE__@@";function Tj(e){return Boolean(e&&e[Cj])}var qj="@@__IMMUTABLE_KEYED__@@";function Ij(e){return Boolean(e&&e[qj])}var Aj="@@__IMMUTABLE_INDEXED__@@";function Lj(e){return Boolean(e&&e[Aj])}function Pj(e){return Ij(e)||Lj(e)}var Nj=function(e){return Tj(e)?e:lE(e)},Fj=function(e){function t(e){return Ij(e)?e:sE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nj),Rj=function(e){function t(e){return Lj(e)?e:uE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nj),Mj=function(e){function t(e){return Tj(e)&&!Pj(e)?e:cE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nj);Nj.Keyed=Fj,Nj.Indexed=Rj,Nj.Set=Mj;var Dj="@@__IMMUTABLE_SEQ__@@";function Vj(e){return Boolean(e&&e[Dj])}var zj="@@__IMMUTABLE_RECORD__@@";function Bj(e){return Boolean(e&&e[zj])}function Hj(e){return Tj(e)||Bj(e)}var $j="@@__IMMUTABLE_ORDERED__@@";function Uj(e){return Boolean(e&&e[$j])}var Wj=0,Kj=1,Gj=2,Yj="function"==typeof Symbol&&Symbol.iterator,Jj="@@iterator",Qj=Yj||Jj,Xj=function(e){this.next=e};function Zj(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function eE(){return{value:void 0,done:!0}}function tE(e){return!!Array.isArray(e)||!!oE(e)}function rE(e){return e&&"function"==typeof e.next}function nE(e){var t=oE(e);return t&&t.call(e)}function oE(e){var t=e&&(Yj&&e[Yj]||e[Jj]);if("function"==typeof t)return t}Xj.prototype.toString=function(){return"[Iterator]"},Xj.KEYS=Wj,Xj.VALUES=Kj,Xj.ENTRIES=Gj,Xj.prototype.inspect=Xj.prototype.toSource=function(){return this.toString()},Xj.prototype[Qj]=function(){return this};var iE=Object.prototype.hasOwnProperty;function aE(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var lE=function(e){function t(e){return null==e?gE():Hj(e)?e.toSeq():function(e){var t=yE(e);if(t)return(n=oE(r=e))&&n===r.entries?t.fromEntrySeq():function(e){var t=oE(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var r,n;if("object"==typeof e)return new pE(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[t?n-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,o=0;return new Xj((function(){if(o===n)return{value:void 0,done:!0};var i=r[t?n-++o:o++];return Zj(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(Nj),sE=function(e){function t(e){return null==e?gE().toKeyedSeq():Tj(e)?Ij(e)?e.toSeq():e.fromEntrySeq():Bj(e)?e.toSeq():vE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(lE),uE=function(e){function t(e){return null==e?gE():Tj(e)?Ij(e)?e.entrySeq():e.toIndexedSeq():Bj(e)?e.toSeq().entrySeq():mE(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(lE),cE=function(e){function t(e){return(Tj(e)&&!Pj(e)?e:uE(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(lE);lE.isSeq=Vj,lE.Keyed=sE,lE.Set=cE,lE.Indexed=uE,lE.prototype[Dj]=!0;var dE=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[xj(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,o=0;o!==n;){var i=t?n-++o:o++;if(!1===e(r[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,o=0;return new Xj((function(){if(o===n)return{value:void 0,done:!0};var i=t?n-++o:o++;return Zj(e,i,r[i])}))},t}(uE),pE=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return iE.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var a=n[t?o-++i:i++];if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length,i=0;return new Xj((function(){if(i===o)return{value:void 0,done:!0};var a=n[t?o-++i:i++];return Zj(e,a,r[a])}))},t}(sE);pE.prototype[$j]=!0;var fE,hE=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=nE(this._collection),n=0;if(rE(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=nE(this._collection);if(!rE(r))return new Xj(eE);var n=0;return new Xj((function(){var t=r.next();return t.done?t:Zj(e,n++,t.value)}))},t}(uE);function gE(){return fE||(fE=new dE([]))}function vE(e){var t=yE(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new pE(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function mE(e){var t=yE(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function yE(e){return aE(e)?new dE(e):tE(e)?new hE(e):void 0}var bE="@@__IMMUTABLE_MAP__@@";function _E(e){return Boolean(e&&e[bE])}function xE(e){return _E(e)&&Uj(e)}function wE(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function OE(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(wE(e)&&wE(t)&&e.equals(t))}var SE="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function kE(e){return e>>>1&1073741824|3221225471&e}var jE=Object.prototype.valueOf;function EE(e){if(null==e)return CE(e);if("function"==typeof e.hashCode)return kE(e.hashCode(e));var t,r=(t=e).valueOf!==jE&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==r)return CE(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return kE(t)}(r);case"string":return r.length>ME?function(e){var t=zE[e];void 0===t&&(t=TE(e),VE===DE&&(VE=0,zE={}),VE++,zE[e]=t);return t}(r):TE(r);case"object":case"function":return function(e){var t;if(PE&&void 0!==(t=LE.get(e)))return t;if(t=e[RE],void 0!==t)return t;if(!IE){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[RE]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=AE(),PE)LE.set(e,t);else{if(void 0!==qE&&!1===qE(e))throw new Error("Non-extensible objects are not allowed as keys.");if(IE)Object.defineProperty(e,RE,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[RE]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[RE]=t}}return t}(r);case"symbol":return function(e){var t=NE[e];if(void 0!==t)return t;return t=AE(),NE[e]=t,t}(r);default:if("function"==typeof r.toString)return TE(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function CE(e){return null===e?1108378658:1108378659}function TE(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return kE(t)}var qE=Object.isExtensible,IE=function(){try{return Object.defineProperty({},"@",{}),!0}catch(_n){return!1}}();function AE(){var e=++FE;return 1073741824&FE&&(FE=0),e}var LE,PE="function"==typeof WeakMap;PE&&(LE=new WeakMap);var NE=Object.create(null),FE=0,RE="__immutablehash__";"function"==typeof Symbol&&(RE=Symbol(RE));var ME=16,DE=255,VE=0,zE={},BE=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=GE(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=KE(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(sE);BE.prototype[$j]=!0;var HE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&_j(this),this._iter.__iterate((function(o){return e(o,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(Kj,t),o=0;return t&&_j(this),new Xj((function(){var i=n.next();return i.done?i:Zj(e,t?r.size-++o:o++,i.value,i)}))},t}(uE),$E=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(Kj,t);return new Xj((function(){var t=r.next();return t.done?t:Zj(e,t.value,t.value,t)}))},t}(cE),UE=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){oC(t);var n=Tj(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(Kj,t);return new Xj((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){oC(n);var o=Tj(n);return Zj(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},t}(sE);function WE(e){var t=aC(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=lC,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===Gj){var n=e.__iterator(t,r);return new Xj((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===Kj?Wj:Kj,r)},t}function KE(e,t,r){var n=aC(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,mj);return i===mj?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(Gj,o);return new Xj((function(){var o=i.next();if(o.done)return o;var a=o.value,l=a[0];return Zj(n,l,t.call(r,a[1],l,e),o)}))},n}function GE(e,t){var r=this,n=aC(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=WE(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=lC,n.__iterate=function(r,n){var o=this,i=0;return n&&_j(e),e.__iterate((function(e,a){return r(e,t?a:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&_j(e);var a=e.__iterator(Gj,!o);return new Xj((function(){var e=a.next();if(e.done)return e;var l=e.value;return Zj(n,t?l[0]:o?r.size-++i:i++,l[1],e)}))},n}function YE(e,t,r,n){var o=aC(e);return n&&(o.has=function(n){var o=e.get(n,mj);return o!==mj&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,mj);return i!==mj&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,l=0;return e.__iterate((function(e,i,s){if(t.call(r,e,i,s))return l++,o(e,n?i:l-1,a)}),i),l},o.__iteratorUncached=function(o,i){var a=e.__iterator(Gj,i),l=0;return new Xj((function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,u=s[0],c=s[1];if(t.call(r,c,u,e))return Zj(o,n?u:l++,c,i)}}))},o}function JE(e,t,r,n){var o=e.size;if(Oj(t,r,o))return e;if(void 0===o&&(t<0||r<0))return JE(e.toSeq().cacheResult(),t,r,n);var i,a=Sj(t,o),l=kj(r,o)-a;l==l&&(i=l<0?0:l);var s=aC(e);return s.size=0===i?i:e.size&&i||void 0,!n&&Vj(e)&&i>=0&&(s.get=function(t,r){return(t=xj(this,t))>=0&&t<i?e.get(t+a,r):r}),s.__iterateUncached=function(t,r){var o=this;if(0===i)return 0;if(r)return this.cacheResult().__iterate(t,r);var l=0,s=!0,u=0;return e.__iterate((function(e,r){if(!s||!(s=l++<a))return u++,!1!==t(e,n?r:u-1,o)&&u!==i})),u},s.__iteratorUncached=function(t,r){if(0!==i&&r)return this.cacheResult().__iterator(t,r);if(0===i)return new Xj(eE);var o=e.__iterator(t,r),l=0,s=0;return new Xj((function(){for(;l++<a;)o.next();if(++s>i)return{value:void 0,done:!0};var e=o.next();return n||t===Kj||e.done?e:Zj(t,s-1,t===Wj?void 0:e.value[1],e)}))},s}function QE(e,t,r,n){var o=aC(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var l=!0,s=0;return e.__iterate((function(e,i,u){if(!l||!(l=t.call(r,e,i,u)))return s++,o(e,n?i:s-1,a)})),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var l=e.__iterator(Gj,i),s=!0,u=0;return new Xj((function(){var e,i,c;do{if((e=l.next()).done)return n||o===Kj?e:Zj(o,u++,o===Wj?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],s&&(s=t.call(r,c,i,a))}while(s);return o===Gj?e:Zj(o,i,c,e)}))},o}function XE(e,t,r){var n=aC(e);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,l=!1;return function e(s,u){s.__iterate((function(i,s){return(!t||u<t)&&Tj(i)?e(i,u+1):(a++,!1===o(i,r?s:a-1,n)&&(l=!0)),!l}),i)}(e,0),a},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(n,o),a=[],l=0;return new Xj((function(){for(;i;){var e=i.next();if(!1===e.done){var s=e.value;if(n===Gj&&(s=s[1]),t&&!(a.length<t)||!Tj(s))return r?e:Zj(n,l++,s,e);a.push(i),i=s.__iterator(n,o)}else i=a.pop()}return{value:void 0,done:!0}}))},n}function ZE(e,t,r){t||(t=sC);var n=Ij(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).valueSeq().toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?sE(i):Lj(e)?uE(i):cE(i)}function eC(e,t,r){if(t||(t=sC),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return tC(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return tC(t,e,r)?r:e}))}function tC(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function rC(e,t,r,n){var o=aC(e),i=new dE(r).map((function(e){return e.size}));return o.size=n?i.max():i.min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(Kj,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=Nj(e),nE(o?e.reverse():e)})),a=0,l=!1;return new Xj((function(){var r;return l||(r=i.map((function(e){return e.next()})),l=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),l?{value:void 0,done:!0}:Zj(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function nC(e,t){return e===t?e:Vj(e)?t:e.constructor(t)}function oC(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function iC(e){return Ij(e)?Fj:Lj(e)?Rj:Mj}function aC(e){return Object.create((Ij(e)?sE:Lj(e)?uE:cE).prototype)}function lC(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):lE.prototype.cacheResult.call(this)}function sC(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function uC(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function cC(e,t){if(!e)throw new Error(t)}function dC(e){cC(e!==1/0,"Cannot perform this action with an infinite size.")}function pC(e){if(aE(e)&&"string"!=typeof e)return e;if(Uj(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}HE.prototype.cacheResult=BE.prototype.cacheResult=$E.prototype.cacheResult=UE.prototype.cacheResult=lC;var fC=Object.prototype.toString;function hC(e){if(!e||"object"!=typeof e||"[object Object]"!==fC.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function gC(e){return"object"==typeof e&&(Hj(e)||Array.isArray(e)||hC(e))}function vC(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function mC(e,t){return Hj(e)?e.has(t):gC(e)&&iE.call(e,t)}function yC(e,t,r){return Hj(e)?e.get(t,r):mC(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function bC(e){if(Array.isArray(e))return uC(e);var t={};for(var r in e)iE.call(e,r)&&(t[r]=e[r]);return t}function _C(e,t){if(!gC(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hj(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!iE.call(e,t))return e;var r=bC(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function xC(e,t,r){if(!gC(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hj(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(iE.call(e,t)&&r===e[t])return e;var n=bC(e);return n[t]=r,n}function wC(e,t,r,n){n||(n=r,r=void 0);var o=OC(Hj(e),e,pC(t),0,r,n);return o===mj?r:o}function OC(e,t,r,n,o,i){var a=t===mj;if(n===r.length){var l=a?o:t,s=i(l);return s===l?t:s}if(!a&&!gC(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(vC)+"]: "+t);var u=r[n],c=a?mj:yC(t,u,mj),d=OC(c===mj?e:Hj(c),c,r,n+1,o,i);return d===c?t:d===mj?_C(t,u):xC(a?e?rT():{}:t,u,d)}function SC(e,t,r){return wC(e,t,mj,(function(){return r}))}function kC(e,t){return SC(this,e,t)}function jC(e,t){return wC(e,t,(function(){return mj}))}function EC(e){return jC(this,e)}function CC(e,t,r,n){return wC(e,[t],r,n)}function TC(e,t,r){return 1===arguments.length?e(this):CC(this,e,t,r)}function qC(e,t,r){return wC(this,e,t,r)}function IC(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return LC(this,e)}function AC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return LC(this,t,e)}function LC(e,t,r){for(var n=[],o=0;o<t.length;o++){var i=Fj(t[o]);0!==i.size&&n.push(i)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){CC(e,n,mj,(function(e){return e===mj?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},o=0;o<n.length;o++)n[o].forEach(t)})):e.constructor(n[0])}function PC(e,t,r){return NC(e,t,function(e){function t(r,n,o){return gC(r)&&gC(n)&&(i=n,a=lE(r),l=lE(i),Lj(a)===Lj(l)&&Ij(a)===Ij(l))?NC(r,[n],t):e?e(r,n,o):n;var i,a,l}return t}(r))}function NC(e,t,r){if(!gC(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Hj(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),o=e,i=n?Rj:Fj,a=n?function(t){o===e&&(o=bC(o)),o.push(t)}:function(t,n){var i=iE.call(o,n),a=i&&r?r(o[n],t,n):t;i&&a===o[n]||(o===e&&(o=bC(o)),o[n]=a)},l=0;l<t.length;l++)i(t[l]).forEach(a);return o}function FC(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return PC(this,e)}function RC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return PC(this,t,e)}function MC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return wC(this,e,rT(),(function(e){return NC(e,t)}))}function DC(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return wC(this,e,rT(),(function(e){return PC(e,t)}))}function VC(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function zC(){return this.__ownerID?this:this.__ensureOwner(new bj)}function BC(){return this.__ensureOwner()}function HC(){return this.__altered}var $C=function(e){function t(t){return null==t?rT():_E(t)&&!Uj(t)?t:rT().withMutations((function(r){var n=e(t);dC(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return rT().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return nT(this,e,t)},t.prototype.remove=function(e){return nT(this,e,mj)},t.prototype.deleteAll=function(e){var t=Nj(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):rT()},t.prototype.sort=function(e){return CT(ZE(this,e))},t.prototype.sortBy=function(e,t){return CT(ZE(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,e.call(t,o,i,r))}))}))},t.prototype.__iterator=function(e,t){return new XC(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?tT(this.size,this._root,e,this.__hash):0===this.size?rT():(this.__ownerID=e,this.__altered=!1,this)},t}(Fj);$C.isMap=_E;var UC=$C.prototype;UC[bE]=!0,UC[fj]=UC.remove,UC.removeAll=UC.deleteAll,UC.setIn=kC,UC.removeIn=UC.deleteIn=EC,UC.update=TC,UC.updateIn=qC,UC.merge=UC.concat=IC,UC.mergeWith=AC,UC.mergeDeep=FC,UC.mergeDeepWith=RC,UC.mergeIn=MC,UC.mergeDeepIn=DC,UC.withMutations=VC,UC.wasAltered=HC,UC.asImmutable=BC,UC["@@transducer/init"]=UC.asMutable=zC,UC["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},UC["@@transducer/result"]=function(e){return e.asImmutable()};var WC=function(e,t){this.ownerID=e,this.entries=t};WC.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(OE(r,o[i][0]))return o[i][1];return n},WC.prototype.update=function(e,t,r,n,o,i,a){for(var l=o===mj,s=this.entries,u=0,c=s.length;u<c&&!OE(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(yj(a),(l||!d)&&yj(i),!l||1!==s.length){if(!d&&!l&&s.length>=uT)return function(e,t,r,n){e||(e=new bj);for(var o=new JC(e,EE(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,s,n,o);var p=e&&e===this.ownerID,f=p?s:uC(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new WC(e,f)}};var KC=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};KC.prototype.get=function(e,t,r,n){void 0===t&&(t=EE(r));var o=1<<((0===e?t:t>>>e)&vj),i=this.bitmap;return 0==(i&o)?n:this.nodes[lT(i&o-1)].get(e+hj,t,r,n)},KC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=EE(n));var l=(0===t?r:r>>>t)&vj,s=1<<l,u=this.bitmap,c=0!=(u&s);if(!c&&o===mj)return this;var d=lT(u&s-1),p=this.nodes,f=c?p[d]:void 0,h=oT(f,e,t+hj,r,n,o,i,a);if(h===f)return this;if(!c&&h&&p.length>=cT)return function(e,t,r,n,o){for(var i=0,a=new Array(gj),l=0;0!==r;l++,r>>>=1)a[l]=1&r?t[i++]:void 0;return a[n]=o,new GC(e,i+1,a)}(e,p,u,l,h);if(c&&!h&&2===p.length&&iT(p[1^d]))return p[1^d];if(c&&h&&1===p.length&&iT(h))return h;var g=e&&e===this.ownerID,v=c?h?u:u^s:u|s,m=c?h?sT(p,d,h,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,d,g):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,l=0;l<o;l++)l===t?(i[l]=r,a=-1):i[l]=e[l+a];return i}(p,d,h,g);return g?(this.bitmap=v,this.nodes=m,this):new KC(e,v,m)};var GC=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};GC.prototype.get=function(e,t,r,n){void 0===t&&(t=EE(r));var o=(0===e?t:t>>>e)&vj,i=this.nodes[o];return i?i.get(e+hj,t,r,n):n},GC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=EE(n));var l=(0===t?r:r>>>t)&vj,s=o===mj,u=this.nodes,c=u[l];if(s&&!c)return this;var d=oT(c,e,t+hj,r,n,o,i,a);if(d===c)return this;var p=this.count;if(c){if(!d&&--p<dT)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==n&&(o|=s,a[i++]=c)}return new KC(e,o,a)}(e,u,p,l)}else p++;var f=e&&e===this.ownerID,h=sT(u,l,d,f);return f?(this.count=p,this.nodes=h,this):new GC(e,p,h)};var YC=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};YC.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(OE(r,o[i][0]))return o[i][1];return n},YC.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=EE(n));var l=o===mj;if(r!==this.keyHash)return l?this:(yj(a),yj(i),aT(this,e,t,r,[n,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!OE(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(yj(a),(l||!d)&&yj(i),l&&2===c)return new JC(e,this.keyHash,s[1^u]);var p=e&&e===this.ownerID,f=p?s:uC(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new YC(e,this.keyHash,f)};var JC=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};JC.prototype.get=function(e,t,r,n){return OE(r,this.entry[0])?this.entry[1]:n},JC.prototype.update=function(e,t,r,n,o,i,a){var l=o===mj,s=OE(n,this.entry[0]);return(s?o===this.entry[1]:l)?this:(yj(a),l?void yj(i):s?e&&e===this.ownerID?(this.entry[1]=o,this):new JC(e,this.keyHash,[n,o]):(yj(i),aT(this,e,t,EE(n),[n,o])))},WC.prototype.iterate=YC.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},KC.prototype.iterate=GC.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},JC.prototype.iterate=function(e,t){return e(this.entry)};var QC,XC=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&eT(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,o=void 0;if(r.entry){if(0===n)return ZC(e,r.entry)}else if(r.entries){if(n<=(o=r.entries.length-1))return ZC(e,r.entries[this._reverse?o-n:n])}else if(n<=(o=r.nodes.length-1)){var i=r.nodes[this._reverse?o-n:n];if(i){if(i.entry)return ZC(e,i.entry);t=this._stack=eT(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Xj);function ZC(e,t){return Zj(e,t[0],t[1])}function eT(e,t){return{node:e,index:0,__prev:t}}function tT(e,t,r,n){var o=Object.create(UC);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function rT(){return QC||(QC=tT(0))}function nT(e,t,r){var n,o;if(e._root){var i={value:!1},a={value:!1};if(n=oT(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===mj?-1:1:0)}else{if(r===mj)return e;o=1,n=new WC(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?tT(o,n):rT()}function oT(e,t,r,n,o,i,a,l){return e?e.update(t,r,n,o,i,a,l):i===mj?e:(yj(l),yj(a),new JC(t,n,[o,i]))}function iT(e){return e.constructor===JC||e.constructor===YC}function aT(e,t,r,n,o){if(e.keyHash===n)return new YC(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&vj,l=(0===r?n:n>>>r)&vj,s=a===l?[aT(e,t,r+hj,n,o)]:(i=new JC(t,n,o),a<l?[e,i]:[i,e]);return new KC(t,1<<a|1<<l,s)}function lT(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function sT(e,t,r,n){var o=n?e:uC(e);return o[t]=r,o}var uT=gj/4,cT=gj/2,dT=gj/4,pT="@@__IMMUTABLE_LIST__@@";function fT(e){return Boolean(e&&e[pT])}var hT=function(e){function t(t){var r=xT();if(null==t)return r;if(fT(t))return t;var n=e(t),o=n.size;return 0===o?r:(dC(o),o>0&&o<gj?_T(0,o,hj,null,new vT(n.toArray())):r.withMutations((function(e){e.setSize(o),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=xj(this,e))>=0&&e<this.size){var r=ST(this,e+=this._origin);return r&&r.array[e&vj]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=xj(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?kT(e,t).set(0,r):kT(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i={value:!1};t>=jT(e._capacity)?n=wT(n,e.__ownerID,0,t,r,i):o=wT(o,e.__ownerID,e._level,t,r,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return _T(e._origin,e._capacity,e._level,o,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hj,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):xT()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){kT(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return kT(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){kT(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return kT(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var o=t[n],i=e("string"!=typeof o&&tE(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return kT(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,e.call(t,n.get(o),o,r))}))},t.prototype.slice=function(e,t){var r=this.size;return Oj(e,t,r)?this:kT(this,Sj(e,r),kj(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=bT(this,t);return new Xj((function(){var o=n();return o===yT?{value:void 0,done:!0}:Zj(e,t?--r:r++,o)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,o=bT(this,t);(r=o())!==yT&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?_T(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?xT():(this.__ownerID=e,this.__altered=!1,this)},t}(Rj);hT.isList=fT;var gT=hT.prototype;gT[pT]=!0,gT[fj]=gT.remove,gT.merge=gT.concat,gT.setIn=kC,gT.deleteIn=gT.removeIn=EC,gT.update=TC,gT.updateIn=qC,gT.mergeIn=MC,gT.mergeDeepIn=DC,gT.withMutations=VC,gT.wasAltered=HC,gT.asImmutable=BC,gT["@@transducer/init"]=gT.asMutable=zC,gT["@@transducer/step"]=function(e,t){return e.push(t)},gT["@@transducer/result"]=function(e){return e.asImmutable()};var vT=function(e,t){this.array=e,this.ownerID=t};vT.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&vj;if(n>=this.array.length)return new vT([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-hj,r))===a&&i)return this}if(i&&!o)return this;var l=OT(this,e);if(!i)for(var s=0;s<n;s++)l.array[s]=void 0;return o&&(l.array[n]=o),l},vT.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&vj;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-hj,r))===i&&o===this.array.length-1)return this}var a=OT(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var mT,yT={};function bT(e,t){var r=e._origin,n=e._capacity,o=jT(n),i=e._tail;return a(e._root,e._level,0);function a(e,l,s){return 0===l?function(e,a){var l=a===o?i&&i.array:e&&e.array,s=a>r?0:r-a,u=n-a;u>gj&&(u=gj);return function(){if(s===u)return yT;var e=t?--u:s++;return l&&l[e]}}(e,s):function(e,o,i){var l,s=e&&e.array,u=i>r?0:r-i>>o,c=1+(n-i>>o);c>gj&&(c=gj);return function(){for(;;){if(l){var e=l();if(e!==yT)return e;l=null}if(u===c)return yT;var r=t?--c:u++;l=a(s&&s[r],o-hj,i+(r<<o))}}}(e,l,s)}}function _T(e,t,r,n,o,i,a){var l=Object.create(gT);return l.size=t-e,l._origin=e,l._capacity=t,l._level=r,l._root=n,l._tail=o,l.__ownerID=i,l.__hash=a,l.__altered=!1,l}function xT(){return mT||(mT=_T(0,0,hj))}function wT(e,t,r,n,o,i){var a,l=n>>>r&vj,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(r>0){var u=e&&e.array[l],c=wT(u,t,r-hj,n,o,i);return c===u?e:((a=OT(e,t)).array[l]=c,a)}return s&&e.array[l]===o?e:(i&&yj(i),a=OT(e,t),void 0===o&&l===a.array.length-1?a.array.pop():a.array[l]=o,a)}function OT(e,t){return t&&e&&t===e.ownerID?e:new vT(e?e.array.slice():[],t)}function ST(e,t){if(t>=jT(e._capacity))return e._tail;if(t<1<<e._level+hj){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&vj],n-=hj;return r}}function kT(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new bj,o=e._origin,i=e._capacity,a=o+t,l=void 0===r?i:r<0?i+r:o+r;if(a===o&&l===i)return e;if(a>=l)return e.clear();for(var s=e._level,u=e._root,c=0;a+c<0;)u=new vT(u&&u.array.length?[void 0,u]:[],n),c+=1<<(s+=hj);c&&(a+=c,o+=c,l+=c,i+=c);for(var d=jT(i),p=jT(l);p>=1<<s+hj;)u=new vT(u&&u.array.length?[u]:[],n),s+=hj;var f=e._tail,h=p<d?ST(e,l-1):p>d?new vT([],n):f;if(f&&p>d&&a<i&&f.array.length){for(var g=u=OT(u,n),v=s;v>hj;v-=hj){var m=d>>>v&vj;g=g.array[m]=OT(g.array[m],n)}g.array[d>>>hj&vj]=f}if(l<i&&(h=h&&h.removeAfter(n,0,l)),a>=p)a-=p,l-=p,s=hj,u=null,h=h&&h.removeBefore(n,0,a);else if(a>o||p<d){for(c=0;u;){var y=a>>>s&vj;if(y!==p>>>s&vj)break;y&&(c+=(1<<s)*y),s-=hj,u=u.array[y]}u&&a>o&&(u=u.removeBefore(n,s,a-c)),u&&p<d&&(u=u.removeAfter(n,s,p-c)),c&&(a-=c,l-=c)}return e.__ownerID?(e.size=l-a,e._origin=a,e._capacity=l,e._level=s,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):_T(a,l,s,u,h)}function jT(e){return e<gj?0:e-1>>>hj<<hj}var ET,CT=function(e){function t(e){return null==e?qT():xE(e)?e:qT().withMutations((function(t){var r=Fj(e);dC(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):qT()},t.prototype.set=function(e,t){return IT(this,e,t)},t.prototype.remove=function(e){return IT(this,e,mj)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?TT(t,r,e,this.__hash):0===this.size?qT():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}($C);function TT(e,t,r,n){var o=Object.create(CT.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function qT(){return ET||(ET=TT(rT(),xT()))}function IT(e,t,r){var n,o,i=e._map,a=e._list,l=i.get(t),s=void 0!==l;if(r===mj){if(!s)return e;a.size>=gj&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&l!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(r===a.get(l)[1])return e;n=i,o=a.set(l,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e.__altered=!0,e):TT(n,o)}CT.isOrderedMap=xE,CT.prototype[$j]=!0,CT.prototype[fj]=CT.prototype.remove;var AT="@@__IMMUTABLE_STACK__@@";function LT(e){return Boolean(e&&e[AT])}var PT=function(e){function t(e){return null==e?MT():LT(e)?e:MT().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=xj(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):RT(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&LT(t))return t;dC(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):RT(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):MT()},t.prototype.slice=function(t,r){if(Oj(t,r,this.size))return this;var n=Sj(t,this.size);if(kj(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):RT(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?RT(this.size,this._head,e,this.__hash):0===this.size?MT():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new dE(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,o=this._head;o&&!1!==e(o.value,n++,this);)o=o.next;return n},t.prototype.__iterator=function(e,t){if(t)return new dE(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new Xj((function(){if(n){var t=n.value;return n=n.next,Zj(e,r++,t)}return{value:void 0,done:!0}}))},t}(Rj);PT.isStack=LT;var NT,FT=PT.prototype;function RT(e,t,r,n){var o=Object.create(FT);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function MT(){return NT||(NT=RT(0))}FT[AT]=!0,FT.shift=FT.pop,FT.unshift=FT.push,FT.unshiftAll=FT.pushAll,FT.withMutations=VC,FT.wasAltered=HC,FT.asImmutable=BC,FT["@@transducer/init"]=FT.asMutable=zC,FT["@@transducer/step"]=function(e,t){return e.unshift(t)},FT["@@transducer/result"]=function(e){return e.asImmutable()};var DT="@@__IMMUTABLE_SET__@@";function VT(e){return Boolean(e&&e[DT])}function zT(e){return VT(e)&&Uj(e)}function BT(e,t){if(e===t)return!0;if(!Tj(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||Ij(e)!==Ij(t)||Lj(e)!==Lj(t)||Uj(e)!==Uj(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!Pj(e);if(Uj(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&OE(o[1],e)&&(r||OE(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,l=t.__iterate((function(t,n){if(r?!e.has(t):o?!OE(t,e.get(n,mj)):!OE(e.get(n,mj),t))return a=!1,!1}));return a&&e.size===l}function HT(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function $T(e){if(!e||"object"!=typeof e)return e;if(!Tj(e)){if(!gC(e))return e;e=lE(e)}if(Ij(e)){var t={};return e.__iterate((function(e,r){t[r]=$T(e)})),t}var r=[];return e.__iterate((function(e){r.push($T(e))})),r}var UT=function(e){function t(t){return null==t?JT():VT(t)&&!Uj(t)?t:JT().withMutations((function(r){var n=e(t);dC(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Fj(e).keySeq())},t.intersect=function(e){return(e=Nj(e).toArray()).length?KT.intersect.apply(t(e.pop()),e):JT()},t.union=function(e){return(e=Nj(e).toArray()).length?KT.union.apply(t(e.pop()),e):JT()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return GT(this,this._map.set(e,e))},t.prototype.remove=function(e){return GT(this,this._map.remove(e))},t.prototype.clear=function(){return GT(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,o=GT(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,r);return a!==i&&(n=!0),[a,a]}),t));return n?o:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return gq(ZE(this,e))},t.prototype.sortBy=function(e,t){return gq(ZE(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Mj);UT.isSet=VT;var WT,KT=UT.prototype;function GT(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function YT(e,t){var r=Object.create(KT);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function JT(){return WT||(WT=YT(rT()))}KT[DT]=!0,KT[fj]=KT.remove,KT.merge=KT.concat=KT.union,KT.withMutations=VC,KT.asImmutable=BC,KT["@@transducer/init"]=KT.asMutable=zC,KT["@@transducer/step"]=function(e,t){return e.add(t)},KT["@@transducer/result"]=function(e){return e.asImmutable()},KT.__empty=JT,KT.__make=YT;var QT,XT=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(cC(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(QT)return QT;QT=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+xj(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return Oj(e,r,this.size)?this:(e=Sj(e,this.size),(r=kj(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==e(o,t?r-++i:i++,this);)o+=t?-n:n;return i},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;return new Xj((function(){if(i===r)return{value:void 0,done:!0};var a=o;return o+=t?-n:n,Zj(e,t?r-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:BT(this,e)},t}(uE);function ZT(e,t,r){for(var n=pC(t),o=0;o!==n.length;)if((e=yC(e,n[o++],mj))===mj)return r;return e}function eq(e,t){return ZT(this,e,t)}function tq(e,t){return ZT(e,t,mj)!==mj}function rq(){dC(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}Nj.isIterable=Tj,Nj.isKeyed=Ij,Nj.isIndexed=Lj,Nj.isAssociative=Pj,Nj.isOrdered=Uj,Nj.Iterator=Xj,HT(Nj,{toArray:function(){dC(this.size);var e=new Array(this.size||0),t=Ij(this),r=0;return this.__iterate((function(n,o){e[r++]=t?[o,n]:n})),e},toIndexedSeq:function(){return new HE(this)},toJS:function(){return $T(this)},toKeyedSeq:function(){return new BE(this,!0)},toMap:function(){return $C(this.toKeyedSeq())},toObject:rq,toOrderedMap:function(){return CT(this.toKeyedSeq())},toOrderedSet:function(){return gq(Ij(this)?this.valueSeq():this)},toSet:function(){return UT(Ij(this)?this.valueSeq():this)},toSetSeq:function(){return new $E(this)},toSeq:function(){return Lj(this)?this.toIndexedSeq():Ij(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return PT(Ij(this)?this.valueSeq():this)},toList:function(){return hT(Ij(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return nC(this,function(e,t){var r=Ij(e),n=[e].concat(t).map((function(e){return Tj(e)?r&&(e=Fj(e)):e=r?vE(e):mE(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var o=n[0];if(o===e||r&&Ij(o)||Lj(e)&&Lj(o))return o}var i=new dE(n);return r?i=i.toKeyedSeq():Lj(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),i}(this,e))},includes:function(e){return this.some((function(t){return OE(t,e)}))},entries:function(){return this.__iterator(Gj)},every:function(e,t){dC(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return nC(this,YE(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=Ij(e),o=[[],[]];e.__iterate((function(i,a){o[t.call(r,i,a,e)?1:0].push(n?[a,i]:i)}));var i=iC(e);return o.map((function(t){return nC(e,i(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return dC(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){dC(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(Wj)},map:function(e,t){return nC(this,KE(this,e,t))},reduce:function(e,t,r){return lq(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return lq(this,e,t,r,arguments.length<2,!0)},reverse:function(){return nC(this,GE(this,!0))},slice:function(e,t){return nC(this,JE(this,e,t,!0))},some:function(e,t){dC(this.size);var r=!1;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=!0,!1})),r},sort:function(e){return nC(this,ZE(this,e))},values:function(){return this.__iterator(Kj)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return _j(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=$C().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return BT(this,e)},entrySeq:function(){var e=this;if(e._cache)return new dE(e._cache);var t=e.toSeq().map(uq).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(cq(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(wj,null,e)},flatMap:function(e,t){return nC(this,function(e,t,r){var n=iC(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return nC(this,XE(this,e,!0))},fromEntrySeq:function(){return new UE(this)},get:function(e,t){return this.find((function(t,r){return OE(r,e)}),void 0,t)},getIn:eq,groupBy:function(e,t){return function(e,t,r){var n=Ij(e),o=(Uj(e)?CT():$C()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=iC(e);return o.map((function(t){return nC(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,mj)!==mj},hasIn:function(e){return tq(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:Nj(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Nj(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return OE(t,e)}))},keySeq:function(){return this.toSeq().map(sq).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return eC(this,e)},maxBy:function(e,t){return eC(this,t,e)},min:function(e){return eC(this,e?dq(e):fq)},minBy:function(e,t){return eC(this,t?dq(t):fq,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return nC(this,QE(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(cq(e),t)},sortBy:function(e,t){return nC(this,ZE(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return nC(this,function(e,t,r){var n=aC(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,l){return t.call(r,e,o,l)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(Gj,o),l=!0;return new Xj((function(){if(!l)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(r,u,s,i)?n===Gj?e:Zj(n,s,u,e):(l=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(cq(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=Uj(e),r=Ij(e),n=t?1:0;return function(e,t){return t=SE(t,3432918353),t=SE(t<<15|t>>>-15,461845907),t=SE(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=SE(t^t>>>16,2246822507),t=SE(t^t>>>13,3266489909),t=kE(t^t>>>16),t}(e.__iterate(r?t?function(e,t){n=31*n+hq(EE(e),EE(t))|0}:function(e,t){n=n+hq(EE(e),EE(t))|0}:t?function(e){n=31*n+EE(e)|0}:function(e){n=n+EE(e)|0}),n)}(this))}});var nq=Nj.prototype;nq[Cj]=!0,nq[Qj]=nq.values,nq.toJSON=nq.toArray,nq.__toStringMapper=vC,nq.inspect=nq.toSource=function(){return this.toString()},nq.chain=nq.flatMap,nq.contains=nq.includes,HT(Fj,{flip:function(){return nC(this,WE(this))},mapEntries:function(e,t){var r=this,n=0;return nC(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return nC(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var oq=Fj.prototype;oq[qj]=!0,oq[Qj]=nq.entries,oq.toJSON=rq,oq.__toStringMapper=function(e,t){return vC(t)+": "+vC(e)},HT(Rj,{toKeyedSeq:function(){return new BE(this,!1)},filter:function(e,t){return nC(this,YE(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return nC(this,GE(this,!1))},slice:function(e,t){return nC(this,JE(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=Sj(e,e<0?this.count():this.size);var n=this.slice(0,e);return nC(this,1===r?n:n.concat(uC(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return nC(this,XE(this,e,!1))},get:function(e,t){return(e=xj(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=xj(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return nC(this,function(e,t){var r=aC(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(Kj,n),a=0;return new Xj((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?Zj(r,a++,t):Zj(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(uC(arguments)),t=rC(this.toSeq(),uE.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),nC(this,r)},keySeq:function(){return XT(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return nC(this,QE(this,e,t,!1))},zip:function(){return nC(this,rC(this,pq,[this].concat(uC(arguments))))},zipAll:function(){return nC(this,rC(this,pq,[this].concat(uC(arguments)),!0))},zipWith:function(e){var t=uC(arguments);return t[0]=this,nC(this,rC(this,e,t))}});var iq=Rj.prototype;iq[Aj]=!0,iq[$j]=!0,HT(Mj,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var aq=Mj.prototype;function lq(e,t,r,n,o,i){return dC(e.size),e.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),i),r}function sq(e,t){return t}function uq(e,t){return[t,e]}function cq(e){return function(){return!e.apply(this,arguments)}}function dq(e){return function(){return-e.apply(this,arguments)}}function pq(){return uC(arguments)}function fq(e,t){return e<t?1:e>t?-1:0}function hq(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}aq.has=nq.includes,aq.contains=aq.includes,aq.keys=aq.values,HT(sE,oq),HT(uE,iq),HT(cE,aq);var gq=function(e){function t(e){return null==e?bq():zT(e)?e:bq().withMutations((function(t){var r=Mj(e);dC(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Fj(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(UT);gq.isOrderedSet=zT;var vq,mq=gq.prototype;function yq(e,t){var r=Object.create(mq);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function bq(){return vq||(vq=yq(qT()))}mq[$j]=!0,mq.zip=iq.zip,mq.zipWith=iq.zipWith,mq.zipAll=iq.zipAll,mq.__empty=bq,mq.__make=yq;var _q=function(e,t){var r;!function(e){if(Bj(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Hj(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(i){var a=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var l=Object.keys(e),s=o._indices={};o._name=t,o._keys=l,o._defaultValues=e;for(var u=0;u<l.length;u++){var c=l[u];s[c]=u,o[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Oq(this)+' with property "'+c+'" since that property name is part of the Record API.'):kq(o,c)}}return this.__ownerID=void 0,this._values=hT().withMutations((function(e){e.setSize(a._keys.length),Fj(i).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},o=n.prototype=Object.create(xq);return o.constructor=n,t&&(n.displayName=t),n};_q.prototype.toString=function(){for(var e,t=Oq(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)t+=(n?", ":"")+(e=r[n])+": "+vC(this.get(e));return t+" }"},_q.prototype.equals=function(e){return this===e||Bj(e)&&Sq(this).equals(Sq(e))},_q.prototype.hashCode=function(){return Sq(this).hashCode()},_q.prototype.has=function(e){return this._indices.hasOwnProperty(e)},_q.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},_q.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return wq(this,r)}return this},_q.prototype.remove=function(e){return this.set(e)},_q.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:wq(this,e)},_q.prototype.wasAltered=function(){return this._values.wasAltered()},_q.prototype.toSeq=function(){return Sq(this)},_q.prototype.toJS=function(){return $T(this)},_q.prototype.entries=function(){return this.__iterator(Gj)},_q.prototype.__iterator=function(e,t){return Sq(this).__iterator(e,t)},_q.prototype.__iterate=function(e,t){return Sq(this).__iterate(e,t)},_q.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?wq(this,t,e):(this.__ownerID=e,this._values=t,this)},_q.isRecord=Bj,_q.getDescriptiveName=Oq;var xq=_q.prototype;function wq(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Oq(e){return e.constructor.displayName||e.constructor.name||"Record"}function Sq(e){return vE(e._keys.map((function(t){return[t,e.get(t)]})))}function kq(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){cC(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(r){}}xq[zj]=!0,xq[fj]=xq.remove,xq.deleteIn=xq.removeIn=EC,xq.getIn=eq,xq.hasIn=nq.hasIn,xq.merge=IC,xq.mergeWith=AC,xq.mergeIn=MC,xq.mergeDeep=FC,xq.mergeDeepWith=RC,xq.mergeDeepIn=DC,xq.setIn=kC,xq.update=TC,xq.updateIn=qC,xq.withMutations=VC,xq.asMutable=zC,xq.asImmutable=BC,xq[Qj]=xq.entries,xq.toJSON=xq.toObject=nq.toObject,xq.inspect=xq.toSource=function(){return this.toString()};var jq,Eq=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(jq)return jq;jq=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return OE(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return Oj(e,r,n)?this:new t(this._value,kj(r,n)-Sj(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return OE(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return OE(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,o=0;return new Xj((function(){return o===n?{value:void 0,done:!0}:Zj(e,t?n-++o:o++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?OE(this._value,e._value):BT(this,e)},t}(uE);function Cq(e,t){return Tq([],t||qq,e,"",t&&t.length>2?[]:void 0,{"":e})}function Tq(e,t,r,n,o,i){if("string"!=typeof r&&!Hj(r)&&(aE(r)||tE(r)||hC(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),o&&""!==n&&o.push(n);var a=t.call(i,n,lE(r).map((function(n,i){return Tq(e,t,n,i,o,r)})),o&&o.slice());return e.pop(),o&&o.pop(),a}return r}function qq(e,t){return Lj(t)?t.toList():Ij(t)?t.toMap():t.toSet()}var Iq={version:"4.3.7",Collection:Nj,Iterable:Nj,Seq:lE,Map:$C,OrderedMap:CT,List:hT,Stack:PT,Set:UT,OrderedSet:gq,PairSorting:{LeftThenRight:-1,RightThenLeft:1},Record:_q,Range:XT,Repeat:Eq,is:OE,fromJS:Cq,hash:EE,isImmutable:Hj,isCollection:Tj,isKeyed:Ij,isIndexed:Lj,isAssociative:Pj,isOrdered:Uj,isValueObject:wE,isPlainObject:hC,isSeq:Vj,isList:fT,isMap:_E,isOrderedMap:xE,isStack:LT,isSet:VT,isOrderedSet:zT,isRecord:Bj,get:yC,getIn:ZT,has:mC,hasIn:tq,merge:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return NC(e,t)},mergeDeep:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return PC(e,t)},mergeWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return NC(t,r,e)},mergeDeepWith:function(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return PC(t,r,e)},remove:_C,removeIn:jC,set:xC,setIn:SC,update:CC,updateIn:wC},Aq=0;const Lq=function(){var e=((new Date).getTime().toString(16)+"FF").substr(0,11),t="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,(function(e){var t="s"===e?Math.floor(16*Math.random()):15&Aq++;return("x"===e?t:3&t|8).toString(16)}));return t+e};var Pq={};function Nq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fq=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],Rq=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Mq=function(e){return"object"===_(e)&&null!==e&&"[object Object]"===Object.prototype.toString.call(e)},Dq=function(e){if("object"===_(e)&&null!==e){if(Array.isArray(e))return pj(e);if(Mq(e))return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nq(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}return e},Vq=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var r=Kt(e,1)[0];return!t.includes(r)})))},zq=function(e){var t;return null!==(t=null==e?void 0:e.cardinality)&&void 0!==t?t:1},Bq=function(e,t){return e===t||($C.isMap(e)?e.equals(t):JSON.stringify(e)==JSON.stringify(t))},Hq=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?Hq(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):$C.isMap(e)?e.equals(t):"object"==_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?Hq(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var $q=function(e){return"object"===_(e)&&null!==e&&"function"==typeof e.toJS},Uq=function(e){return $q(e)&&Iq.isList(e)};function Wq(e){return Uq(e)?e:new Iq.List(e)}function Kq(e){return $q(e)?e.toJS():e}var Gq=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},Yq=function(e,t,r,n,o,i){if(Array.isArray(e))return t},Jq=function e(t){var r;if(t instanceof Array)return t.map((function(t,r){return e(t)}));if("object"===_(t)&&null!==t&&Qq(t)){var n,o=Vq(t,["$$typeof","_owner","_store","ref","key"]);return o.type&&(o.type="string"==typeof(r=o.type)?r:"function"==typeof r?r.name:r),null!=o&&null!==(n=o.props)&&void 0!==n&&n.children&&(o.props.children=e(o.props.children)),o}return t},Qq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},Xq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&"string"==typeof e.type&&Object.keys(e).includes("props")},Zq=function(e){return"object"===_(e)&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length};function eI(e){return new Promise((function(t){setTimeout(t,e)}))}function tI(e,t){return e||(e=[]),t||(t=[]),t.map((function(t){return[t,e.indexOf(t)]})).map((function(e,t,r){var n=Kt(e,2),o=n[0];if(-1==n[1]){var i=r.slice(t+1),a=r.slice(0,t).reverse().find((function(e){var t=Kt(e,2);return t[0],-1!=t[1]})),l=i.find((function(e){var t=Kt(e,2);return t[0],-1!=t[1]}));return l?[o,"before",l[0]]:a?[o,"after",a[0]]:[o,"append",null]}return null})).filter((function(e){return null!==e})).reduce((function(e,t){var r=Kt(t,3),n=r[0],o=r[1],i=r[2],a=e.indexOf(i);return-1==e.indexOf(n)&&(a>-1?e.splice(a+("after"==o?1:0),0,n):e.splice("append"==o?1/0:0,0,n)),e}),e.slice())}var rI=function e(t){"object"!==_(t)||null===t||Qq(t)||(Object.keys(t).forEach((function(r){"__cache"!==r&&e(t[r])})),Object.freeze(t))},nI=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(Mq(t)){if(t.var)return n[t.var]=r,!0;if(!Mq(r))return!1;for(var i in t){if(!e(t[i],r[i],n,[].concat(pj(o),[i])))return!1}return!0}if(Array.isArray(t)){if(!Array.isArray(r))return!1;for(var a=0;a<t.length;a++){if(!e(t[a],r[a],n,[].concat(pj(o),[a])))return!1}return!0}return t===r},oI=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&Pq&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},iI=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0;r<t.length;r++){var n=t[r];if(void 0!==n){e=n;break}}return e},aI=oI();const lI=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:Kq,cleanJSX:Jq,deepEqual:Bq,deepFreeze:rI,escapeRegExp:Gq,getFirstDefined:iI,getLogger:oI,getOpCardinality:zq,isDirtyJSX:Qq,isImmutable:$q,isImmutableList:Uq,isJSX:Xq,isJsonCompatible:nI,isJsonLogic:Zq,isObject:Mq,logger:aI,mergeArraysSmart:tI,mergeCustomizerNoArrays:Yq,omit:Vq,opDefKeysToOmit:Rq,shallowCopy:Dq,shallowEqual:Hq,sleep:eI,toImmutableList:Wq,uuid:Lq,widgetDefKeysToOmit:Fq},Symbol.toStringTag,{value:"Module"}));var sI={exports:{}},uI={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(uI);var cI=uI.exports;!function(e){var t=cI.default;function r(){e.exports=r=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(n){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(n||[]);return l(i,"_invoke",{value:T(e,r,a)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=f;var g="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function _(){}function x(){}function w(){}var O={};p(O,u,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(P([])));k&&k!==i&&a.call(k,u)&&(O=k);var j=w.prototype=_.prototype=Object.create(O);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,r){function n(o,i,l,s){var u=h(e[o],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):r.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(u.arg)}var o;l(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,t,r){var o=g;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=q(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=h(e,t,r);if("normal"===u.type){if(o=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function q(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,q(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=w,l(j,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},o.awrap=function(e){return{__await:e}},E(C.prototype),p(C.prototype,c,(function(){return this})),o.AsyncIterator=C,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new C(f(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),p(j,d,"Generator"),p(j,u,(function(){return this})),p(j,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},o.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(sI);var dI=(0,sI.exports)(),pI=dI;try{regeneratorRuntime=dI}catch(_7){"object"==typeof globalThis?globalThis.regeneratorRuntime=dI:Function("r","regeneratorRuntime = r")(dI)}const fI=g(pI);var hI=Ja,gI=$s;var vI=function(e){return"symbol"==typeof e||gI(e)&&"[object Symbol]"==hI(e)},mI=As,yI=vI,bI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_I=/^\w*$/;var xI=function(e,t){if(mI(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!yI(e))||(_I.test(e)||!bI.test(e)||null!=t&&e in Object(t))},wI=Zl;function OI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(OI.Cache||wI),r}OI.Cache=wI;var SI=OI;var kI=function(e){var t=SI(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},jI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EI=/\\(\\)?/g,CI=kI((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jI,(function(e,r,n,o){t.push(n?o.replace(EI,"$1"):r||e)})),t}));var TI=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},qI=TI,II=As,AI=vI,LI=Da?Da.prototype:void 0,PI=LI?LI.toString:void 0;var NI=function e(t){if("string"==typeof t)return t;if(II(t))return qI(t,e)+"";if(AI(t))return PI?PI.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},FI=NI;var RI=function(e){return null==e?"":FI(e)},MI=As,DI=xI,VI=CI,zI=RI;var BI=function(e,t){return MI(e)?e:DI(e,t)?[e]:VI(zI(e))},HI=vI;var $I=function(e){if("string"==typeof e||HI(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},UI=BI,WI=$I;var KI=function(e,t){for(var r=0,n=(t=UI(t,e)).length;null!=e&&r<n;)e=e[WI(t[r++])];return r&&r==n?e:void 0},GI=bl,YI=function(){try{var e=GI(Object,"defineProperty");return e({},"",{}),e}catch(_n){}}(),JI=YI,QI=JI;var XI=function(e,t,r){"__proto__"==t&&QI?QI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},ZI=XI,eA=pa,tA=Object.prototype.hasOwnProperty;var rA=function(e,t,r){var n=e[t];tA.call(e,t)&&eA(n,r)&&(void 0!==r||t in e)||ZI(e,t,r)},nA=rA,oA=BI,iA=ou,aA=Qa,lA=$I;var sA=function(e,t,r,n){if(!aA(e))return e;for(var o=-1,i=(t=oA(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=lA(t[o]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=n?n(c,s,l):void 0)&&(u=aA(c)?c:iA(t[o+1])?[]:{})}nA(l,s,u),l=l[s]}return e},uA=KI,cA=sA,dA=BI;var pA=function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],l=uA(e,a);r(l,a)&&cA(i,dA(a,e),l)}return i};var fA=BI,hA=Zs,gA=As,vA=ou,mA=iu,yA=$I;var bA=function(e,t,r){for(var n=-1,o=(t=fA(t,e)).length,i=!1;++n<o;){var a=yA(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&mA(o)&&vA(a,o)&&(gA(e)||hA(e))},_A=function(e,t){return null!=e&&t in Object(e)},xA=bA;var wA=function(e,t){return null!=e&&xA(e,t,_A)},OA=pA,SA=wA;var kA=function(e,t){return OA(e,t,(function(t,r){return SA(e,r)}))},jA=Zs,EA=As,CA=Da?Da.isConcatSpreadable:void 0;var TA=Is,qA=function(e){return EA(e)||jA(e)||!!(CA&&e&&e[CA])};var IA=function e(t,r,n,o,i){var a=-1,l=t.length;for(n||(n=qA),i||(i=[]);++a<l;){var s=t[a];r>0&&n(s)?r>1?e(s,r-1,n,o,i):TA(i,s):o||(i[i.length]=s)}return i},AA=IA;var LA=function(e){return(null==e?0:e.length)?AA(e,1):[]};var PA=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},NA=PA,FA=Math.max;var RA=function(e,t,r){return t=FA(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=FA(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),NA(e,this,l)}};var MA=function(e){return e},DA=function(e){return function(){return e}},VA=JI,zA=VA?function(e,t){return VA(e,"toString",{configurable:!0,enumerable:!1,value:DA(t),writable:!0})}:MA,BA=zA,HA=Date.now;var $A=function(e){var t=0,r=0;return function(){var n=HA(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},UA=$A(BA),WA=LA,KA=RA,GA=UA;var YA=function(e){return GA(KA(e,void 0,WA),e+"")},JA=kA,QA=YA((function(e,t){return null==e?{}:JA(e,t)}));const XA=g(QA);var ZA=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const eL=g(ZA);var tL=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},rL=rA,nL=XI;var oL=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),o?nL(r,l,s):rL(r,l,s)}return r},iL=oL,aL=Du;var lL=function(e,t){return e&&iL(t,aL(t),e)};var sL=Qa,uL=Eu,cL=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},dL=Object.prototype.hasOwnProperty;var pL=ku,fL=function(e){if(!sL(e))return cL(e);var t=uL(e),r=[];for(var n in e)("constructor"!=n||!t&&dL.call(e,n))&&r.push(n);return r},hL=Nu;var gL=function(e){return hL(e)?pL(e,!0):fL(e)},vL=oL,mL=gL;var yL=function(e,t){return e&&vL(t,mL(t),e)},bL={exports:{}};!function(e,t){var r=Ma,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(bL,bL.exports);var _L=bL.exports;var xL=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},wL=oL,OL=Bs;var SL=function(e,t){return wL(e,OL(e),t)},kL=Cu(Object.getPrototypeOf,Object),jL=Is,EL=kL,CL=Bs,TL=Rs,qL=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)jL(t,CL(e)),e=EL(e);return t}:TL,IL=oL,AL=qL;var LL=function(e,t){return IL(e,AL(e),t)},PL=Ns,NL=qL,FL=gL;var RL=function(e){return PL(e,FL,NL)},ML=Object.prototype.hasOwnProperty;var DL=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ML.call(e,"index")&&(r.index=e.index,r.input=e.input),r},VL=_s;var zL=function(e){var t=new e.constructor(e.byteLength);return new VL(t).set(new VL(e)),t},BL=zL;var HL=function(e,t){var r=t?BL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},$L=/\w*$/;var UL=function(e){var t=new e.constructor(e.source,$L.exec(e));return t.lastIndex=e.lastIndex,t},WL=Da?Da.prototype:void 0,KL=WL?WL.valueOf:void 0;var GL=zL;var YL=function(e,t){var r=t?GL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},JL=zL,QL=HL,XL=UL,ZL=function(e){return KL?Object(KL.call(e)):{}},eP=YL;var tP=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return JL(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return QL(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return eP(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return XL(e);case"[object Symbol]":return ZL(e)}},rP=Qa,nP=Object.create,oP=function(){function e(){}return function(t){if(!rP(t))return{};if(nP)return nP(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),iP=oP,aP=kL,lP=Eu;var sP=function(e){return"function"!=typeof e.constructor||lP(e)?{}:iP(aP(e))},uP=pc,cP=$s;var dP=function(e){return cP(e)&&"[object Map]"==uP(e)},pP=du,fP=fu&&fu.isMap,hP=fP?pP(fP):dP,gP=pc,vP=$s;var mP=function(e){return vP(e)&&"[object Set]"==gP(e)},yP=du,bP=fu&&fu.isSet,_P=bP?yP(bP):mP,xP=cs,wP=tL,OP=rA,SP=lL,kP=yL,jP=_L,EP=xL,CP=SL,TP=LL,qP=$u,IP=RL,AP=pc,LP=DL,PP=tP,NP=sP,FP=As,RP=ru,MP=hP,DP=Qa,VP=_P,zP=Du,BP=gL,HP="[object Arguments]",$P="[object Function]",UP="[object Object]",WP={};WP[HP]=WP["[object Array]"]=WP["[object ArrayBuffer]"]=WP["[object DataView]"]=WP["[object Boolean]"]=WP["[object Date]"]=WP["[object Float32Array]"]=WP["[object Float64Array]"]=WP["[object Int8Array]"]=WP["[object Int16Array]"]=WP["[object Int32Array]"]=WP["[object Map]"]=WP["[object Number]"]=WP[UP]=WP["[object RegExp]"]=WP["[object Set]"]=WP["[object String]"]=WP["[object Symbol]"]=WP["[object Uint8Array]"]=WP["[object Uint8ClampedArray]"]=WP["[object Uint16Array]"]=WP["[object Uint32Array]"]=!0,WP["[object Error]"]=WP[$P]=WP["[object WeakMap]"]=!1;var KP=function e(t,r,n,o,i,a){var l,s=1&r,u=2&r,c=4&r;if(n&&(l=i?n(t,o,i,a):n(t)),void 0!==l)return l;if(!DP(t))return t;var d=FP(t);if(d){if(l=LP(t),!s)return EP(t,l)}else{var p=AP(t),f=p==$P||"[object GeneratorFunction]"==p;if(RP(t))return jP(t,s);if(p==UP||p==HP||f&&!i){if(l=u||f?{}:NP(t),!s)return u?TP(t,kP(l,t)):CP(t,SP(l,t))}else{if(!WP[p])return i?t:{};l=PP(t,p,s)}}a||(a=new xP);var h=a.get(t);if(h)return h;a.set(t,l),VP(t)?t.forEach((function(o){l.add(e(o,r,n,o,t,a))})):MP(t)&&t.forEach((function(o,i){l.set(i,e(o,r,n,i,t,a))}));var g=d?void 0:(c?u?IP:qP:u?BP:zP)(t);return wP(g||t,(function(o,i){g&&(o=t[i=o]),OP(l,i,e(o,r,n,i,t,a))})),l};var GP=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i},YP=KI,JP=GP;var QP=BI,XP=ZA,ZP=function(e,t){return t.length<2?e:YP(e,JP(t,0,-1))},eN=$I;var tN=function(e,t){return t=QP(t,e),null==(e=ZP(e,t))||delete e[eN(XP(t))]},rN=Ja,nN=kL,oN=$s,iN=Function.prototype,aN=Object.prototype,lN=iN.toString,sN=aN.hasOwnProperty,uN=lN.call(Object);var cN=function(e){if(!oN(e)||"[object Object]"!=rN(e))return!1;var t=nN(e);if(null===t)return!0;var r=sN.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&lN.call(r)==uN},dN=cN;var pN=TI,fN=KP,hN=tN,gN=BI,vN=oL,mN=function(e){return dN(e)?void 0:e},yN=RL,bN=YA((function(e,t){var r={};if(null==e)return r;var n=!1;t=pN(t,(function(t){return t=gN(t,e),n||(n=t.length>1),t})),vN(e,yN(e),r),n&&(r=fN(r,7,mN));for(var o=t.length;o--;)hN(r,t[o]);return r}));const _N=g(bN);function xN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function wN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ON(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kN=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},jN=function(e,t){return null==e||""==e?void 0:kN(e)?SN(SN({},e),{},{title:e.title||e.value}):{value:e,title:void 0!==t?t:""+e}},EN=function(e){var t=jN(e);return kN(t)?SN(SN({},jN(e)),{},{isCustom:!0}):t},CN=function(e){if(Array.isArray(e))return e.map((function(e){return jN(e)}));if(!kN(e))return e;var t=[];for(var r in e){var n=e[r];t.push(jN(r,n))}return t},TN=function(e,t){return Array.isArray(e)?e.map((function(e){return jN(e)})).find((function(e){return""+e.value==""+t})):void 0!==e[t]?jN(t,e[t]):void 0},qN=function(e,t){if(null==e)return t;var r=TN(e,t);return void 0!==r?r.title:t},IN=function(e,t){var r=[];if(Array.isArray(e)){var n,o=xN(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t(jN(i));null!=a&&r.push(a)}}catch(u){o.e(u)}finally{o.f()}}else for(var l in e){var s=t(jN(l,e[l]));null!=s&&r.push(s)}return r},AN=function(e,t){return IN(t,(function(t){return""+t.value==""+e?t:null})).filter((function(e){return null!==e})).shift()};const LN=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:TN,getListValue:AN,getTitleInListValues:qN,getValueInListValues:function(e,t){if(null==e)return t;var r=TN(e,t);return void 0!==r?r.value:t},listValuesToArray:CN,makeCustomListValue:EN,mapListValues:IN,searchListValue:function(e,t){return IN(t,(function(t){return-1!="".concat(t.value).indexOf(e)||-1!=t.title.indexOf(e)?t:null})).filter((function(e){return null!==e})).shift()},toListValue:jN},Symbol.toStringTag,{value:"Module"}));var PN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.skip(1),e.push.apply(e,r),e}))},NN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.push.apply(e,r),e}))},FN=function(e,t){var r=new Iq.OrderedMap(b({},e.get("id"),e)),n=e;return t.forEach((function(e){var t;n=r.get(e),r=null===(t=n)||void 0===t?void 0:t.get("children1")})),n},RN=function(e){var t=e;return function e(r,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.push(r.get("id")),a=r.getIn(["properties","isLocked"]);o&&a&&(t=t.deleteIn(PN(i,"properties","isLocked")));var l=r.get("children1");l&&l.map((function(t,r){e(t,i,a||o)}))}(e,new Iq.List),t},MN=function(e){var t=e;return function e(r,n,o,i){if(r){var a=r.get("path"),l=r.get("id"),s=l||i||Lq(),u=n.push(s);a&&a.equals(u)||(t=t.setIn(PN(u,"path"),u)),l||(t=t.setIn(PN(u,"id"),s));var c=r.get("children1");c&&("Map"===c.constructor.name&&(t=t.setIn(PN(u,"children1"),new Iq.OrderedMap(c))),c.map((function(t,r){e(t,u,o+1,r)})))}}(e,new Iq.List,0),t},DN=function(e){var t=e;return function e(r,n,o,i){if(!r)return!1;var a=r.get("id")||i,l=n.push(a),s=r.get("children1");if(s){var u=s.map((function(t,r){return e(t,l,o+1,r)})).reduce((function(e,t){return e&&t}),!0);if((0==s.size||u)&&o>0)return t=t.deleteIn(PN(l)),!0}return!1}(e,new Iq.List,0),t},VN=function(e){var t=[],r={},n=[],o=0,i=0,a=0,l={};!function s(u,c,d,p,f,h,g,v){var m=u===e,y=u.get("type"),b=u.get("collapsed"),_=u.get("id"),x=u.get("children1"),w=u.getIn(["properties","isLocked"]),O=x?x.map((function(e,t){return t})).valueSeq().toArray():null,S="rule_group"===y,k="rule"===y,j="group"===y,E="case_group"===y,C=!f&&(!x||S),T=(null==O?void 0:O.length)>0,q=c.length?c[c.length-1]:null,I=E?_:g;E&&(n.push(_),i=0,a=0,l={});var A,L=I?n.indexOf(I):null,P=t.length,N=o;m||((A={}).caseNo=L,A.globalNoByType=E?L:l[y]||0,A.indexPath=[].concat(pj(c.slice(1).map((function(e){return r[e].childNo}))),[v]),k?A.globalLeafNo=i:j&&(A.globalGroupNo=a)),t.push(_),r[_]={node:u,index:P,id:_,type:y,parent:q,parentType:q?r[q].type:null,children:O,childNo:v,caseId:I,caseNo:L,path:c.concat(_),lev:h,isLeaf:!x,isAtomicRule:C,isLocked:w||p,top:d?null:N,isDefaultCase:E?!x:void 0,atomicRulesCountInCase:E?0:void 0,position:A,collapsed:b,_top:P,leaf:!x};var F=0,R=0;d||(o+=1,F+=1,!T||b||S||(R+=1),m||E||(j&&a++,k&&i++,l[y]=(l[y]||0)+1)),g&&C&&r[g].atomicRulesCountInCase++;var M=0,D=0;if(T){var V=0;x.map((function(e,t){if(e){s(e,c.concat(_),d||b,p||w,f||S,h+1,I,V);var n=r[t];M=Math.max(M,n.depth||0),D+=n.height,V++}}))}F+=D,R+=M;var z=t.length-P,B=d?null:N+F;Object.assign(r[_],{depth:x?R:void 0,_height:z,height:F,bottom:B})}(e,[],!1,!1,!1,0,null,null);for(var s=0;s<t.length;s++){var u=s>0?t[s-1]:null,c=s<t.length-1?t[s+1]:null,d=r[t[s]];d.prev=u,d.next=c}return{flat:t,items:r,cases:n}},zN=function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),"rule"==l||"rule_group"==l?t++:a&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t},BN=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e;return function e(n,o){t&&n.path&&delete n.path,t&&!r&&o&&delete n.id;var i=n.properties;i&&null==i.operatorOptions&&delete i.operatorOptions;var a=n.children1;if(a){for(var l in a)a[l]&&e(a[l],l);r&&(n.children1=Object.values(a))}}(e,null),n},HN=function(e){var t=[],r=e.get("children1");return r&&r.map((function(e){var r,n=e.getIn(["properties","value"]);n&&1==n.size?(r=n.get(0),Array.isArray(r)&&0==r.length&&(r=null)):r=null,t=[].concat(pj(t),[r])})),t},$N=function(e){return!e.get("children1")||0==e.get("children1").size},UN=function(e,t){return e.getIn(PN(t,"children1")).size>0},WN=function(e){if(null!=e&&e.toJS){var t,r=null==e||null===(t=e.toJS)||void 0===t?void 0:t.call(e);return null!=r&&r.func?e.toOrderedMap():r}return e};const KN=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:WN,expandTreePath:PN,expandTreeSubpath:NN,fixEmptyGroupsInTree:DN,fixPathsInTree:MN,getFlatTree:VN,getItemByPath:FN,getLightTree:BN,getSwitchValues:HN,getTotalReordableNodesCountInTree:function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),t++,a&&!("rule_group"==l)&&a.map((function(t,r){t&&e(t,n.concat(i))}))}(e,[]),t-1},getTotalRulesCountInTree:zN,hasChildren:UN,immutableToJs:Kq,isEmptyTree:$N,isImmutable:$q,jsToImmutable:QN,removeIsLockedInTree:RN,toImmutableList:Wq},Symbol.toStringTag,{value:"Module"}));var GN=function(e){if(YN(e))return e;if(JN(e))return MN(QN(e));if("string"==typeof e&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if("string"==typeof e)return MN(QN(JSON.parse(e)));throw new Error("Can't load tree!")},YN=function(e){return $C.isMap(e)},JN=function(e){return"object"==_(e)&&("group"==e.type||"switch_group"==e.type)};function QN(e){var t=Cq(e,(function(e,t,r){var n,o=r&&r.length>3&&"value"===r[r.length-1]&&"args"===r[r.length-3],i=r&&r.length>3&&"value"===r[r.length-1]&&"properties"===r[r.length-2];if("properties"==e){n=t.toOrderedMap();for(var a=0;a<2;a++){var l,s,u;null===(null===(l=n.get("value"))||void 0===l||null===(s=(u=l).get)||void 0===s?void 0:s.call(u,a))&&(n=n.setIn(["value",a],void 0))}}else n=o?WN(t):(r?i:"value"==e)&&Iq.Iterable.isIndexed(t)?t.map(WN).toList():"asyncListValues"==e?t.toJS():"children1"==e&&Iq.Iterable.isIndexed(t)?new Iq.OrderedMap(t.map((function(e){return[(null==e?void 0:e.get("id"))||Lq(),e]}))):Iq.Iterable.isIndexed(t)?t.toList():t.toOrderedMap();return n}));return t}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return tF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function tF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rF="jlField",nF="jlArgs",oF=["==","!="],iF=["<","<=",">",">="],aF=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],lF=function(e){return{errors:[],settings:null==e?void 0:e.settings}},sF=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=lF();n.settings={allowUnknownFields:!1,returnErrors:r};var o=OB(t,void 0,!1),i=uF(o),a=e?pF(e,i,o,["rule","group","switch"],n):void 0,l=a?GN(a):void 0;return r?[l,n.errors]:(n.errors.length&&console.warn("Errors while importing from JsonLogic:",n.errors),l)},uF=function(e){var t={},r={};for(var n in e.operators){var o=e.operators[n];if("string"==typeof o.jsonLogic){var i=o.jsonLogic+"/"+zq(o);t[i]||(t[i]=[]),t[i].push(n)}else if("string"==typeof o.jsonLogic2){var a=o.jsonLogic2+"/"+zq(o);t[a]||(t[a]=[]),t[a].push(n),r[n]||(r[n]={}),r[n]={template:o.jsonLogic(rF,n,nF),jsonLogic2:o.jsonLogic2,_jsonLogicIsExclamationOp:!!o._jsonLogicIsExclamationOp}}}var l={};for(var s in e.conjunctions){l[e.conjunctions[s].jsonLogicConj||s.toLowerCase()]=s}var u,c={},d=eF(LB(e));try{for(d.s();!(u=d.n()).done;){var p=Kt(u.value,2),f=p[0],h=p[1],g=void 0;h.jsonLogicIsMethod?g="#"+h.jsonLogic:"string"==typeof h.jsonLogic&&(g=h.jsonLogic),g&&(c[g]||(c[g]=[]),c[g].push(f))}}catch(m){d.e(m)}finally{d.f()}var v=e.settings.jsonLogic;return{operators:t,conjunctions:l,funcs:c,varKeys:["var",v.groupVarKey,v.altVarKey],combinationOperators:r}},cF=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!=t&&t.combinationOperators)for(var i=0,a=Object.entries(t.combinationOperators);i<a.length;i++){var l=Kt(a[i],2),s=l[0],u=l[1];if(null==o||o.includes(s)){var c=dF(u.template,e);c.match&&(n?r.errors.push("Operator matched against 2 templates: ".concat(n.newOp," and ").concat(s)):n=c,n.newOp=u.jsonLogic2)}}return n},dF=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(null==t||null==r)return n.match=!1,n;var o=Object.keys(t),i=Object.keys(r);if(o.length!==i.length)return n.match=!1,n;for(var a=0;a<o.length;a++){var l=o[a],s=t[l];if(l!==i[a])return n.match=!1,n;if(s===rF&&Zq(r[l]))n.jlField=r[l];else if(s===nF)n.jlArgs.push(r[l]);else if("object"===_(s)&&null!==s||Array.isArray(s))n=e(s,r[l],n);else if(s!==r[l])return n.match=!1,n}return n},pF=function e(t,r,n,o,i){var a,l,s,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;Zq(t)&&(a=Object.keys(t)[0],l=t[a],Array.isArray(l)||(l=[l]));var f=i.errors.length,h=n.settings.jsonLogic.lockedOp,g="!"==a&&1==l.length&&l[0]&&Zq(l[0])&&r.varKeys.includes(Object.keys(l[0])[0]),v=cF(t,r,i);v&&((l=[])[0]=v.jlField,v.jlArgs.forEach((function(e){return l.push(e)})),a=v.newOp);var m="!"==a&&!g,y=h&&a==h,b=o.includes("switch");y?s=e(l[0],r,n,o,i,u,c,d,p,!0):m?s=e(l[0],r,n,o,i,!u,c,d,p):o.includes("val")?s=hF(a,l,r,n,u,i,p)||mF(a,l,r,n,u,c,i,p)||fF(t,c,d,n,i):(o.includes("switch")&&(s=wF(a,l,r,n,u,i,p)),null==s&&o.includes("group")&&(s=yF(a,l,r,n,u,i,p,!1)),null==s&&o.includes("rule")&&(s=xF(a,l,r,n,u,i,p)),s&&b&&!["group","switch_group"].includes(s.type)&&(s=bF(s,n)));var _=i.errors.length;return"!"!=a&&void 0===s&&_==f&&i.errors.push("Can't parse logic ".concat(JSON.stringify(t))),y&&(s.properties.isLocked=!0),s},fF=function(e,t,r,n,o){var i;if(void 0===e&&(e=null==t?void 0:t.defaultValue),void 0!==e){r=r||(null==t?void 0:t.mainWidget);var a=n.widgets[r],l=null==t?void 0:t.type;if(!l||a){if(!Zq(e)){if("time"===l&&"number"==typeof e){var s=Math.floor(e/60/60)%24,u=Math.floor(e/60)%60,c=e%60,d=a.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(s),p.setMinutes(u),p.setSeconds(c),e=tw(p).format(d)}else e="".concat(s,":").concat(u,":").concat(c)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var f=new Date(e);f instanceof Date&&f.toISOString()===e&&(e=f)}catch(_n){o.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&t){var h=a.valueFormat;h&&(e=tw(e).format(h))}var g;if(e&&null!=t&&null!==(i=t.fieldSettings)&&void 0!==i&&i.asyncFetch)g=Array.isArray(e)?e:[e];if(null!=a&&a.jsonLogicImport)try{e=a.jsonLogicImport.call(n.ctx,e)}catch(_n){var v;o.errors.push("Can't import value ".concat(e," using import func of widget ").concat(r,": ").concat(null!==(v=null==_n?void 0:_n.message)&&void 0!==v?v:_n)),e=void 0}return{valueSrc:"value",value:e,valueType:null==a?void 0:a.type,asyncListValues:g}}o.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)))}else o.errors.push("No widget for type ".concat(l))}},hF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(r.varKeys.includes(e)&&"string"==typeof t[0]){var l,s=RB(n,t[0],a),u=GB(n,s);return u||null!==(l=i.settings)&&void 0!==l&&l.allowUnknownFields?{valueSrc:"field",value:s,valueType:null==u?void 0:u.type}:void i.errors.push("No config for field ".concat(s))}},gF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Array.isArray(t)||(t=[t]);var l=hF(e,t,r,n,o,i,a);if(l)return{fieldSrc:"field",field:l.value}},vF=function(e,t,r,n,o){var i=mF(e,t,r,n,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6?arguments[6]:void 0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null);if(i)return{fieldSrc:"func",field:i.value}},mF=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(e){var s,u,c,d="method"==e;if(d){var p,f,h=$(t);p=h[0],s=h[1],f=h.slice(2),u=[p].concat(pj(f))}else s=e,u=t;var g=(d?"#":"")+s,v=(null==i?void 0:i.type)||(null==i?void 0:i.returnType),m=(r.funcs[g]||[]).filter((function(e){return!i||DB(n,e).returnType==v}));if(m.length)c=m[0];else{var y,_=b({},e,t),x=eF(LB(n));try{for(x.s();!(y=x.n()).done;){var w=Kt(y.value,2),O=w[0],S=w[1];if(S.jsonLogicImport&&(!v||S.returnType==v)){var k=void 0;try{k=S.jsonLogicImport(_)}catch(L){}k&&(c=O,u=k)}}}catch(P){x.e(P)}finally{x.f()}}if(c&&c){var j=DB(n,c),E=Object.keys(j.args||{}),C=u.reduce((function(e,t,o){var i,s=E[o],u=j.args[s];return u&&(i=pF(t,r,n,["val"],a,!1,u,null,l)),void 0!==i?ZN(ZN({},e),{},b({},s,i)):e}),{});for(var T in j.args){var q=j.args[T],I=C[T];if(void 0===I){var A;if(void 0!==(I=null==q?void 0:q.defaultValue))I={value:I,valueSrc:null!==(A=I)&&void 0!==A&&A.func?"func":"value",valueType:q.type};if(void 0===I){if(null==q||!q.isOptional)return void a.errors.push("No value for arg ".concat(T," of func ").concat(c))}else C[T]=I}}return{valueSrc:"func",value:{func:c,args:C},valueType:j.returnType}}}},yF=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=r.conjunctions[e],u=n.settings.fieldSeparator;if(s){var c=t.map((function(e){return pF(e,r,n,["rule","group"],i,!1,null,null,l)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return ZN(ZN({},e),{},b({},t.id,t))}),{}),d=Object.values(c).map((function(e){var t,r;return"field"==(null==e||null===(t=e.properties)||void 0===t?void 0:t.fieldSrc)&&(null==e||null===(r=e.properties)||void 0===r?void 0:r.field)})).filter((function(e){var t;return null==e||null===(t=e.includes)||void 0===t?void 0:t.call(e,u)})),p=Object.fromEntries((a=d,Array.from(new Set(a))).map((function(e){var t=e.split(u),r=Object.fromEntries(t.slice(0,-1).map((function(e,t,r){return[].concat(pj(r.slice(0,t)),[e])})).map((function(e){return[e.join(u),GB(n,e)]})).filter((function(e){var t=Kt(e,2);t[0];var r=t[1];return"!group"==(null==r?void 0:r.type)})));return[e,Object.keys(r)]}))),f={conjunction:s,not:o},h=Lq(),g={},v={};return Object.entries(c).map((function(e){var t=Kt(e,2),r=t[0],o=t[1];if("group"==(null==o?void 0:o.type)||"rule_group"==(null==o?void 0:o.type))g[r]=o;else{var i,a=null==o||null===(i=o.properties)||void 0===i?void 0:i.field,c=p[a]||[],d=c[c.length-1];if(d){var f=g,h=HB(l,n),m=HB(d,n);Hq(h,m.slice(0,h.length))||(h=[]);var y=d.split(u).slice(h.length).map((function(e,t,r){return[].concat(pj(h),pj(r.slice(0,t)),[e]).join(u)})).map((function(e){return{f:e,fc:GB(n,e)||{}}})).filter((function(e){return"!struct"!=e.fc.type}));y.map((function(e,t){var r=e.f,n=e.fc,o=v[r];o||(o=Lq(),v[r]=o,f[o]={type:"rule_group",id:o,children1:{},properties:{conjunction:s,not:!1,field:r,fieldSrc:"field",mode:n.mode}}),f=f[o].children1})),f[r]=o}else o&&(g[r]=o)}})),{type:"group",id:h,children1:g,properties:f}}},bF=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Lq(),children1:b({},e.id,e),properties:{conjunction:VR(t),not:r}}},_F=function(e,t,r,n,o,i,a){var l,s=aF.map((function(e){var t;return null===(t=i.operators[e])||void 0===t?void 0:t.jsonLogic2})).includes(e),u=i.settings.groupOperators.includes(e)&&!s,c=u?0:t-1;u?c=0:oF.includes(e)&&1==c&&null===r[1]&&(t=1,c=0,r=[r[0]]);var d=e+"/"+c,p=o.operators[d];if(p){var f,h=[];if(iF.includes(e)&&3==t)f=r[1],h=[r[0],r[2]];else{var g=$(r);f=g[0],h=g.slice(1)}if(Zq(f)){var v=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=Object.keys(t)[0],h=Object.values(t)[0],g=function(e,t){return gF(e,t,n,o,u,d,p)||vF(e,t,n,o,u,c,d,p)},v=d.errors.length,m=g(f,h);if(m&&(i=m.field,a=m.fieldSrc),e&&(s=!0,l=r[0],r=[]),"reduce"==f&&Array.isArray(h)&&3==h.length){var y=Kt(h,3),b=y[0],_=y[1],x=y[2];if(Zq(b)&&0==x&&Zq(_)&&Array.isArray(_["+"])&&1==_["+"][0]&&Zq(_["+"][1])&&"accumulator"==_["+"][1].var)if(f=Object.keys(b)[0],h=Object.values(b)[0],"filter"==f){var w=Kt(h,2),O=w[0],S=w[1];if(Zq(O)){var k=g(f=Object.keys(O)[0],h=Object.values(O)[0]);k&&(i=k.field,a=k.fieldSrc,l=S,s=!0)}}else{var j=g(f,h);j&&(i=j.field,a=j.fieldSrc,s=!0)}}var E=d.errors.length;if(i||E!=v||d.errors.push("Unknown LHS ".concat(JSON.stringify(t))),i)return{field:i,fieldSrc:a,having:l,isGroup:s,args:r}}(u,f,h,o,i,null,null,a,n);if(v){var m=v.field,y=v.fieldSrc,b=v.having;v.isGroup;var _=v.args,x=GB(i,m);if(x||null!==(l=a.settings)&&void 0!==l&&l.allowUnknownFields){var w=p[0];if(p.length>1&&x&&x.operators){if(0==(p=p.filter((function(e){return x.operators.includes(e)}))).length)return void a.errors.push("No corresponding ops for LHS ".concat(m));w=p[0]}return{field:m,fieldSrc:y,fieldConfig:x,opKey:w,args:_,having:b}}a.errors.push("No config for LHS ".concat(m))}}else a.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(r)))}},xF=function e(t,r,n,o,i,a){var l,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(t){var c=Object.values(o.conjunctions).map((function(e){return e.jsonLogicConj})),d=function(e,t,r,n,o,i,a){var l=lF(a),s=_F(e,t,r,n,o,i,l);if(s)return s;a.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(t))}(t,r.length,r,s,n,o,a);if(d){var p,f,h=d.field,g=d.fieldSrc,v=d.fieldConfig,m=d.opKey,y=d.args,_=d.having,x=GB(o,s),w=o.operators[m],O=!!o.operators[null===(l=w)||void 0===l?void 0:l.reversedOp],S="!group"==v.type,k="!group"==(null==x?void 0:x.type),j=O&&(!!o.settings.reverseOperatorsForNot||S&&!_||!S&&k&&!u),E=i&&j||false,C=!1,T=!!o.settings.reverseOperatorsForNot;if("!group"==(null==v?void 0:v.type)&&_){p=Object.keys(_)[0],f=_[p],Array.isArray(f)||(f=[f]);for(var q=cF(_,n,a);"!"==p&&!q;){if("!"==p&&1==f.length&&f[0]&&Zq(f[0])&&n.varKeys.includes(Object.keys(f[0])[0]))break;C=!C,_=_["!"],p=Object.keys(_)[0],f=_[p],T&&c.includes(p)&&1==f.length&&(_=_[p][0],p=Object.keys(_)[0],f=_[p]);var I=cF(_,n,a);q=I||q}Array.isArray(f)||(f=[f]),q&&((f=[])[0]=q.jlField,q.jlArgs.forEach((function(e){return f.push(e)})),p=q.newOp)}E&&(i=!i,m=w.reversedOp,w=o.operators[m]);var A=xV(o,h,m,null),L=y.map((function(e){return pF(e,n,o,["val"],a,!1,v,A,s)}));if(!L.filter((function(e){return void 0===e})).length){var P;if(null==v||v.type,"!group"==(null==v?void 0:v.type)&&_){var N;if(void 0!==n.conjunctions[p])P=yF(p,f,n,o,C,a,h,!0);else if(P=e(p,f,n,o,C,a,h,!0))"rule_group"===P.type&&(null===(N=P.properties)||void 0===N?void 0:N.field)!==h&&(P=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e)return{type:"rule_group",id:Lq(),children1:b({},e.id,e),properties:{conjunction:o||DR(n,r),not:i,field:t}}}(P,h,v,o)),Object.assign(P.properties,{conjunction:DR(o,v)});if(!P)return;P.type="rule_group",Object.assign(P.properties,{field:h,mode:v.mode,operator:m}),"array"==v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=bF(P,o,i))}else if("!group"!=(null==v?void 0:v.type)||_){var F=L.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),R=F.length?F[0]:void 0;P={type:"rule",id:Lq(),properties:ZN({field:h,fieldSrc:g,operator:m,value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))},R?{asyncListValues:R}:{})},(i||u)&&(P=bF(P,o,i))}else P={type:"rule_group",id:Lq(),children1:{},properties:{conjunction:DR(o,v),not:!1,mode:v.mode,field:h,operator:m}},"array"===v.mode&&Object.assign(P.properties,{value:L.map((function(e){return e.value})),valueSrc:L.map((function(e){return e.valueSrc})),valueType:L.map((function(e){return e.valueType}))}),i&&(P=bF(P,o,i));return P}}}},wF=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("if"===(null==e?void 0:e.toLowerCase())){var l=OF(t).map((function(e){var t=Kt(e,2),o=t[0],l=t[1];return[o?pF(o,r,n,["rule","group"],i,!1,null,null,a):null,kF(n,i,r,l)]})).map((function(e){var t=Kt(e,2),r=t[0],o=t[1];return SF(r,o,n,i)}));return{type:"switch_group",id:Lq(),children1:l,properties:{}}}},OF=function(e){var t=[];return function e(r){var n=Kt(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]);var l=Zq(a)?Object.keys(a)[0]:null;"if"===(null==l?void 0:l.toLowerCase())?e(a[l]):t.push([void 0,a])}(e),t},SF=function(e,t,r,n){var o;return e?(o=ZN({},e)).type?("group"!=o.type&&(o=bF(o,r)),o.type="case_group"):(n.errors.push("Unexpected case: ".concat(JSON.stringify(o))),o=void 0):o={id:Lq(),type:"case_group",properties:{}},o&&(o.properties=ZN(ZN({},o.properties),t)),o},kF=function(e,t,r,n){var o=GB(e,"!case_value");if(o){var i=o.mainWidget,a=e.widgets[i];if(a){var l=pF(n,r,e,["val","case_val"],t,!1,o,i);if(null!=l){var s=l.value,u=l.valueSrc,c=l.valueType;return{value:[s],valueSrc:[null!=u?u:"value"],valueType:[null!=c?c:null==a?void 0:a.type],field:"!case_value"}}}else t.errors.push("No widget ".concat(i," for case value"))}else t.errors.push("Missing caseValueField in settings")},jF={exports:{}};!function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelNode={create:function(e,t){var r,n={},o=e||"Abstract",i=[],a=null;if(n._type=o,n.getType=function(){return o},n.setType=function(e){o=e},n.getChildren=function(){return i},n.addChild=function(e){if(e){if(!e.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(e)};e.setParent(n),i.push(e)}},n.getParent=function(){return a},n.setParent=function(e){a=e},n.getContext=function(e){return r||e.activeContext.peek()},n.setContext=function(e){r=e},n.getStartPosition=function(){return t>>16},n.getEndPosition=function(){return 65535&t},n.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},n.toString=function(){var e="Kind: "+n.getType();e+=", Children: [";for(var t=0,r=n.getChildren().length;t<r;t+=1)e+="{"+n.getChildren()[t]+"}, ";return e+="]"},0===t)throw{name:"Error",message:"Position cannot be 0"};for(var l=arguments.length,s=Array(l>2?l-2:0),u=2;u<l;u++)s[u-2]=arguments[u];return s&&s.forEach((function(e){n.addChild(e)})),n}}},function(e,t,r){function n(e){this.elements=e||[]}Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=n,n.prototype.push=function(e){return this.elements.push(e),e},n.prototype.pop=function(){return this.elements.pop()},n.prototype.peek=function(){return this.elements[this.elements.length-1]},n.prototype.empty=function(){return this.elements.length>0},n.prototype.search=function(e){return this.elements.length-this.elements.indexOf(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(e){this.type=e,this.tokenChars=n[e],this._hasPayload="string"!=typeof n[e],"number"==typeof n[e]&&(this._ordinal=n[e])}for(var i in n)n.hasOwnProperty(i)&&(o[i]=new o(i));o.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(e){for(var t in n)if(n.hasOwnProperty(t)&&n[t]===e)return o[t]},o.prototype.ordinal=function(){return this._ordinal},t.TokenKind=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext=t.SpelExpressionEvaluator=void 0;var n=r(4),o=r(50);t.SpelExpressionEvaluator=n.SpelExpressionEvaluator,t.StandardContext=o.StandardContext},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionEvaluator=void 0;var n=r(5),o=r(1),i={compile:function(e){var t=(0,n.SpelExpressionParser)().parse(e);return{eval:function(e,r){return function(e,t,r){var n,i=new o.Stack;return t||(t={}),i.push(t),n={rootContext:t,activeContext:i,locals:r},e.getValue(n)}(t,e,r)},_compiledExpression:t}},eval:function(e,t,r){return i.compile(e).eval(t,r)}};t.SpelExpressionEvaluator=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionParser=void 0;var n=r(2),o=r(6),i=r(8),a=r(9),l=r(10),s=r(11),u=r(12),c=r(13),d=r(14),p=r(15),f=r(16),h=r(17),g=r(18),v=r(19),m=r(20),y=r(21),b=r(22),_=r(23),x=r(24),w=r(25),O=r(26),S=r(27),k=r(28),j=r(29),E=r(30),C=r(31),T=r(32),q=r(33),I=r(34),A=r(35),L=r(36),P=r(37),N=r(38),F=r(39),R=r(40),M=r(41),D=r(42),V=r(43),z=r(44),B=r(45),H=r(46),$=r(47),U=r(48),W=r(49);t.SpelExpressionParser=function(){var e,t,r,K,G=new RegExp("[\\p{L}\\p{N}_$]+"),Y=[];function J(){var e=Q();if(we()){var t=Se();if(t.getKind()===n.TokenKind.ASSIGN){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var r=Q();return g.Assign.create(Ce(t),e,r)}if(t.getKind()===n.TokenKind.ELVIS){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-2))),Oe();var o=J();return null===o&&(o=s.NullLiteral.create(Te(t.startPos+1,t.endPos+1))),N.Elvis.create(Ce(t),e,o)}if(t.getKind()===n.TokenKind.QMARK){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var i=J();me(n.TokenKind.COLON);var a=J();return P.Ternary.create(Ce(t),e,i,a)}}return e}function Q(){for(var e=X();xe("or")||ye(n.TokenKind.SYMBOLIC_OR);){var t=Oe(),r=X();je(t,e,r),e=A.OpOr.create(Ce(t),e,r)}return e}function X(){for(var e=Z();xe("and")||ye(n.TokenKind.SYMBOLIC_AND);){var t=Oe(),r=Z();je(t,e,r),e=I.OpAnd.create(Ce(t),e,r)}return e}function Z(){var e=ee(),t=function(){var e=Se();if(null===e)return null;if(e.isNumericRelationalOperator())return e;if(e.isIdentifier()){var t=e.stringValue();if("instanceof"===t.toLowerCase())return e.asInstanceOfToken();if("matches"===t.toLowerCase())return e.asMatchesToken();if("between"===t.toLowerCase())return e.asBetweenToken()}return null}();if(null!==t){var r=Oe(),o=ee();je(r,e,o);var i=t.kind;if(t.isNumericRelationalOperator()){var a=Ce(r);return i===n.TokenKind.GT?b.OpGT.create(a,e,o):i===n.TokenKind.LT?x.OpLT.create(a,e,o):i===n.TokenKind.LE?_.OpLE.create(a,e,o):i===n.TokenKind.GE?y.OpGE.create(a,e,o):i===n.TokenKind.EQ?v.OpEQ.create(a,e,o):m.OpNE.create(a,e,o)}return i===n.TokenKind.INSTANCEOF?V.OpInstanceof.create(Ce(r),e,o):i===n.TokenKind.MATCHES?L.OpMatches.create(Ce(r),e,o):z.OpBetween.create(Ce(r),e,o)}return e}function ee(){for(var e=te();_e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.INC);){var t=Oe(),r=te();Ee(t,r),t.getKind()===n.TokenKind.PLUS?e=w.OpPlus.create(Ce(t),e,r):t.getKind()===n.TokenKind.MINUS&&(e=O.OpMinus.create(Ce(t),e,r))}return e}function te(){for(var e=re();_e(n.TokenKind.STAR,n.TokenKind.DIV,n.TokenKind.MOD);){var t=Oe(),r=re();je(t,e,r),e=t.getKind()===n.TokenKind.STAR?S.OpMultiply.create(Ce(t),e,r):t.getKind()===n.TokenKind.DIV?k.OpDivide.create(Ce(t),e,r):j.OpModulus.create(Ce(t),e,r)}return e}function re(){var e,t=ne();if(ye(n.TokenKind.POWER)){e=Oe();var r=ne();return Ee(e,r),E.OpPower.create(Ce(e),t,r)}return null!==t&&_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe()).getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!0,t):T.OpDec.create(Ce(e),!0,t):t}function ne(){var e,t;return _e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.NOT)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.NOT?q.OpNot.create(Ce(e),t):e.getKind()===n.TokenKind.PLUS?w.OpPlus.create(Ce(e),t):O.OpMinus.create(Ce(e),t)):_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!1,t):T.OpDec.create(Ce(e),!1,t)):function(){var e=[],t=function(){var e=Se();if(null===e)return!1;if(e.getKind()===n.TokenKind.LITERAL_INT||e.getKind()===n.TokenKind.LITERAL_LONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),10),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_REAL||e.getKind()===n.TokenKind.LITERAL_REAL_FLOAT)ge(a.NumberLiteral.create(parseFloat(e.stringValue()),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_HEXINT||e.getKind()===n.TokenKind.LITERAL_HEXLONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),16),Ce(e)));else if(xe("true"))ge(i.BooleanLiteral.create(!0,Ce(e)));else if(xe("false"))ge(i.BooleanLiteral.create(!1,Ce(e)));else{if(e.getKind()!==n.TokenKind.LITERAL_STRING)return!1;ge(l.StringLiteral.create(e.stringValue(),Ce(e)))}return Oe(),!0}()||function(){if(ye(n.TokenKind.LPAREN)){Oe();var e=J();return me(n.TokenKind.RPAREN),ge(e),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();if("T"!==e.stringValue())return!1;var t=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(t.stringValue(),Ce(t))),!0;me(n.TokenKind.LPAREN);for(var r=pe(),o=0;be(n.TokenKind.LSQUARE,!0);)me(n.TokenKind.RSQUARE),o++;return me(n.TokenKind.RPAREN),ge(B.TypeReference.create(Ce(e),r,o)),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();return"null"===e.stringValue().toLowerCase()&&(Oe(),ge(s.NullLiteral.create(Ce(e))),!0)}return!1}()||function(){if(xe("new")){var e=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(e.stringValue(),Ce(e))),!0;var t=pe(),r=[];if(r.push(t),ye(n.TokenKind.LSQUARE)){for(var o=[];be(n.TokenKind.LSQUARE,!0);)ye(n.TokenKind.RSQUARE)?o.push(null):o.push(J()),me(n.TokenKind.RSQUARE);ue()&&r.push(ve()),ge(W.ConstructorReference.create(Ce(e),o,r))}else i=r,ye(n.TokenKind.LPAREN)||ke(Ce(Se()),"MISSING_CONSTRUCTOR_ARGS"),le(i),me(n.TokenKind.RPAREN),ge(W.ConstructorReference.create(Ce(e),r));return!0}var i;return!1}()||he(!1)||ie()||function(){if(ye(n.TokenKind.BEAN_REF)){var e=Oe(),t=null,r=null;return ye(n.TokenKind.IDENTIFIER)?r=(t=me(n.TokenKind.IDENTIFIER)).data:ye(n.TokenKind.LITERAL_STRING)?r=(r=(t=me(n.TokenKind.LITERAL_STRING)).stringValue()).substring(1,r.length()-1):ke(e.startPos,"INVALID_BEAN_REFERENCE"),ge(H.BeanReference.create(Ce(t),r)),!0}return!1}()||se(!1)||de(!1)||ce()||ue()?ve():null;for(e.push(t);oe();)e.push(ve());return 1===e.length?e[0]:f.CompoundExpression.create(Te(t.getStartPosition(),e[e.length-1].getEndPosition()),e)}()}function oe(){var e=null;return e=_e(n.TokenKind.DOT,n.TokenKind.SAFE_NAVI)?function(){var e=Oe(),t=e.getKind()===n.TokenKind.SAFE_NAVI;return he(t)||ie()||se(t)||de(t)?ve():(null===Se()?ke(e.startPos,"OOD"):ke(e.startPos,"UNEXPECTED_DATA_AFTER_DOT",function(e){return e.getKind().hasPayload()?e.stringValue():e.getKind().toString().toLowerCase()}(Se())),null)}():ye(n.TokenKind.LSQUARE)&&ce()?ve():null,null!==e&&(ge(e),!0)}function ie(){if(!ye(n.TokenKind.HASH))return!1;var e=Oe(),t=me(n.TokenKind.IDENTIFIER),r=ae();return null===r?(ge(p.VariableReference.create(t.data,Te(e.startPos,t.endPos))),!0):(ge(u.FunctionReference.create(t.data,Te(e.startPos,t.endPos),r)),!0)}function ae(){if(!ye(n.TokenKind.LPAREN))return null;var e=[];return le(e),me(n.TokenKind.RPAREN),e}function le(e){var t,r=Se().startPos;do{Oe();var o=Se();null===o&&ke(r,"RUN_OUT_OF_ARGUMENTS"),o.getKind()!==n.TokenKind.RPAREN&&e.push(J()),t=Se()}while(null!==t&&t.kind===n.TokenKind.COMMA);null===t&&ke(r,"RUN_OUT_OF_ARGUMENTS")}function se(e){var t=Se();if(!be(n.TokenKind.PROJECT,!0))return!1;var r=J();return me(n.TokenKind.RSQUARE),ge(D.Projection.create(e,Ce(t),r)),!0}function ue(){var e=Se(),t=[];if(!be(n.TokenKind.LCURLY,!0))return!1;var r=null,o=Se();if(be(n.TokenKind.RCURLY,!0))r=F.InlineList.create(Te(e.startPos,o.endPos));else if(be(n.TokenKind.COLON,!0))o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos));else{var i=J();if(ye(n.TokenKind.RCURLY))t.push(i),o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Te(e.startPos,o.endPos),t);else if(be(n.TokenKind.COMMA,!0)){t.push(i);do{t.push(J())}while(be(n.TokenKind.COMMA,!0));o=me(n.TokenKind.RCURLY),r=F.InlineList.create(Ce(e.startPos,o.endPos),t)}else if(be(n.TokenKind.COLON,!0)){var a=[];for(a.push(i),a.push(J());be(n.TokenKind.COMMA,!0);)a.push(J()),me(n.TokenKind.COLON),a.push(J());o=me(n.TokenKind.RCURLY),r=R.InlineMap.create(Te(e.startPos,o.endPos),a)}else ke(e.startPos,"OOD")}return ge(r),!0}function ce(){var e=Se();if(!be(n.TokenKind.LSQUARE,!0))return!1;var t=J();return me(n.TokenKind.RSQUARE),ge(h.Indexer.create(Ce(e),t)),!0}function de(e){var t=Se();if(!function(){if(!we())return!1;var e=Se();return e.getKind()===n.TokenKind.SELECT||e.getKind()===n.TokenKind.SELECT_FIRST||e.getKind()===n.TokenKind.SELECT_LAST}())return!1;Oe();var r=J();return null===r&&ke(Ce(t),"MISSING_SELECTION_EXPRESSION"),me(n.TokenKind.RSQUARE),t.getKind()===n.TokenKind.SELECT_FIRST?ge(M.Selection.create(e,M.Selection.FIRST,Ce(t),r)):t.getKind()===n.TokenKind.SELECT_LAST?ge(M.Selection.create(e,M.Selection.LAST,Ce(t),r)):ge(M.Selection.create(e,M.Selection.ALL,Ce(t),r)),!0}function pe(){for(var t=[],r=Se();fe(r);)Oe(),r.kind!==n.TokenKind.DOT&&t.push($.Identifier.create(r.stringValue(),Ce(r))),r=Se();t.length||(null===r&&ke(e.length(),"OOD"),ke(r.startPos,"NOT_EXPECTED_TOKEN","qualified ID",r.getKind().toString().toLowerCase()));var o=Te(t[0].getStartPosition(),t[t.length-1].getEndPosition());return U.QualifiedIdentifier.create(o,t)}function fe(e){if(null===e||e.kind===n.TokenKind.LITERAL_STRING)return!1;if(e.kind===n.TokenKind.DOT||e.kind===n.TokenKind.IDENTIFIER)return!0;var t=e.stringValue();return t&&t.length&&G.test(t)}function he(e){if(ye(n.TokenKind.IDENTIFIER)){var t=Oe(),r=ae();return null===r?(ge(d.PropertyReference.create(e,t.stringValue(),Ce(t))),!0):(ge(c.MethodReference.create(e,t.stringValue(),Ce(t),r)),!0)}return!1}function ge(e){Y.push(e)}function ve(){return Y.pop()}function me(t){var r=Oe();return null===r&&ke(e.length,"OOD"),r.getKind()!==t&&ke(r.startPos,"NOT_EXPECTED_TOKEN",t.toString().toLowerCase(),r.getKind().toString().toLowerCase()),r}function ye(e){return be(e,!1)}function be(e,t){if(!we())return!1;var r=Se();return r.getKind()===e?(t&&K++,!0):e===n.TokenKind.IDENTIFIER&&r.getKind().ordinal()>=n.TokenKind.DIV.ordinal()&&r.getKind().ordinal()<=n.TokenKind.NOT.ordinal()&&null!==r.data}function _e(){if(!we())return!1;for(var e=Se(),t=Array.prototype.slice.call(arguments),r=0,n=t.length;r<n;r+=1)if(e.getKind()===t[r])return!0;return!1}function xe(e){if(!we())return!1;var t=Se();return t.getKind()===n.TokenKind.IDENTIFIER&&t.stringValue().toLowerCase()===e.toLowerCase()}function we(){return K<t.length}function Oe(){return K>=r?null:t[K++]}function Se(){return K>=r?null:t[K]}function ke(t,r,n,o){throw n&&(r+="\nExpected: "+n),o&&(r+="\nActual: "+o),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+e+"' at position "+t+". Message: "+r}}function je(e,t,r){!function(e,t){null===t&&ke(e.startPos,"LEFT_OPERAND_PROBLEM")}(e,t),Ee(e,r)}function Ee(e,t){null===t&&ke(e.startPos,"RIGHT_OPERAND_PROBLEM")}function Ce(e){return(e.startPos<<16)+e.endPos}function Te(e,t){return(e<<16)+t}return{setConfiguration:function(e){},parse:function(n,i){try{e=n,t=o.Tokenizer.tokenize(n),r=t.length,K=0,Y=[];var a=J();return we()&&ke(Se().startPos,"MORE_INPUT",Oe().toString()),a}catch(_n){throw _n.message}}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var n=r(7),o=r(2),i=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],a=[];!function(){var e;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e+=1)a[e]|=3;for(e="A".charCodeAt(0);e<="F".charCodeAt(0);e+=1)a[e]|=2;for(e="a".charCodeAt(0);e<="f".charCodeAt(0);e+=1)a[e]|=2;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e+=1)a[e]|=4;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e+=1)a[e]|=4}(),t.Tokenizer={tokenize:function(e){var t=e,r=e+"\0",l=r.length,s=0,u=[];function c(){for(var e,i=s,a=!1;!a;)if("'"===(e=r[s+=1])&&("'"===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function d(){for(var e,i=s,a=!1;!a;)if('"'===(e=r[s+=1])&&('"'===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function p(e){var n,o,i,a=!1,l=s,u=r[s+1];if(!e||"x"!==u&&"X"!==u){do{s+=1}while(S(r[s]));if("."===(u=r[s])){a=!0,n=s;do{s+=1}while(S(r[s]));if(s===n+1)return void h(m(l,s=n),!1,l,s)}if(o=s,x("L","l")){if(a)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+t+") at position "+s};h(m(l,o),!0,l,o),s+=1}else if(function(e){return"e"===e||"E"===e}(r[s])){a=!0,function(e){return"+"===e||"-"===e}(r[s+=1])&&(s+=1);do{s+=1}while(S(r[s]));i=!1,w(r[s])?(i=!0,o=s+=1):O(r[s])&&(o=s+=1),v(m(l,s),i,l,s)}else i=!1,w(u=r[s])?(a=!0,i=!0,o=s+=1):O(u)&&(a=!0,o=s+=1),a?v(m(l,o),i,l,o):h(m(l,o),!1,l,o)}else{s+=1;do{s+=1}while(j(r[s]));x("L","l")?(g(m(l+2,s),!0,l,s),s+=1):g(m(l+2,s),!1,l,s)}}function f(){var e,t,a,l=s;do{s+=1}while(k(a=r[s])||S(a)||"_"===a||"$"===a);e=m(l,s),(s-l==2||s-l==3)&&(t=e.toUpperCase(),i.indexOf(t)>=0)?function(e,t,r){u.push(new n.Token(e,r,t,t+e.getLength()))}(o.TokenKind.valueOf(t),l,e):u.push(new n.Token(o.TokenKind.IDENTIFIER,e.replace("\0",""),l,s))}function h(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_LONG,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_INT,e,r,i))}function g(e,r,i,a){if(0===e.length)throw r?{name:"SpelParseException",message:"Not a long in expression ("+t+") at position "+s}:{name:"SpelParseException",message:"Not an int in expression ("+t+") at position "+s};r?u.push(new n.Token(o.TokenKind.LITERAL_HEXLONG,e,i,a)):u.push(new n.Token(o.TokenKind.LITERAL_HEXINT,e,i,a))}function v(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_REAL_FLOAT,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_REAL,e,r,i))}function m(e,t){return r.substring(e,t)}function y(e){return 2===e.tokenChars.length&&r[s]===e.tokenChars[0]&&r[s+1]===e.tokenChars[1]}function b(e){u.push(new n.Token(e,null,s,s+1)),s+=1}function _(e){u.push(new n.Token(e,null,s,s+2)),s+=2}function x(e,t){var n=r[s];return n===e||n===t}function w(e){return"f"===e||"F"===e}function O(e){return"d"===e||"D"===e}function S(e){return!(e.charCodeAt(0)>255)&&0!=(1&a[e.charCodeAt(0)])}function k(e){return!(e.charCodeAt(0)>255)&&0!=(4&a[e.charCodeAt(0)])}function j(e){return!(e.charCodeAt(0)>255)&&0!=(2&a[e.charCodeAt(0)])}return function(){for(var e;s<l;)if(k(e=r[s]))f();else switch(e){case"+":y(o.TokenKind.INC)?_(o.TokenKind.INC):b(o.TokenKind.PLUS);break;case"_":f();break;case"-":y(o.TokenKind.DEC)?_(o.TokenKind.DEC):b(o.TokenKind.MINUS);break;case":":b(o.TokenKind.COLON);break;case".":b(o.TokenKind.DOT);break;case",":b(o.TokenKind.COMMA);break;case"*":b(o.TokenKind.STAR);break;case"/":b(o.TokenKind.DIV);break;case"%":b(o.TokenKind.MOD);break;case"(":b(o.TokenKind.LPAREN);break;case")":b(o.TokenKind.RPAREN);break;case"[":b(o.TokenKind.LSQUARE);break;case"#":b(o.TokenKind.HASH);break;case"]":b(o.TokenKind.RSQUARE);break;case"{":b(o.TokenKind.LCURLY);break;case"}":b(o.TokenKind.RCURLY);break;case"@":b(o.TokenKind.BEAN_REF);break;case"^":y(o.TokenKind.SELECT_FIRST)?_(o.TokenKind.SELECT_FIRST):b(o.TokenKind.POWER);break;case"!":y(o.TokenKind.NE)?_(o.TokenKind.NE):y(o.TokenKind.PROJECT)?_(o.TokenKind.PROJECT):b(o.TokenKind.NOT);break;case"=":y(o.TokenKind.EQ)?_(o.TokenKind.EQ):b(o.TokenKind.ASSIGN);break;case"&":if(!y(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!y(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_OR);break;case"?":y(o.TokenKind.SELECT)?_(o.TokenKind.SELECT):y(o.TokenKind.ELVIS)?_(o.TokenKind.ELVIS):y(o.TokenKind.SAFE_NAVI)?_(o.TokenKind.SAFE_NAVI):b(o.TokenKind.QMARK);break;case"$":y(o.TokenKind.SELECT_LAST)?_(o.TokenKind.SELECT_LAST):f();break;case">":y(o.TokenKind.GE)?_(o.TokenKind.GE):b(o.TokenKind.GT);break;case"<":y(o.TokenKind.LE)?_(o.TokenKind.LE):b(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p("0"===e);break;case" ":case"\t":case"\r":case"\n":case"\0":s+=1;break;case"'":c();break;case'"':d();break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+t+") at position "+s};default:throw{name:"SpelParseException",message:"Cannot handle character '"+e+"' in expression ("+t+") at position "+s}}}(),u}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var n=r(2);function o(e,t,r,n){this.kind=e,this.startPos=r,this.endPos=n,t&&(this.data=t)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var e="[";return e+=this.kind.toString(),this.kind.hasPayload()&&(e+=":"+this.data),e+="]",e+="("+this.startPos+","+this.endPos+")"},o.prototype.isIdentifier=function(){return this.kind===n.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===n.TokenKind.GT||this.kind===n.TokenKind.GE||this.kind===n.TokenKind.LT||this.kind===n.TokenKind.LE||this.kind===n.TokenKind.EQ||this.kind===n.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(n.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(n.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(n.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},t.Token=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;var n=r(0);t.BooleanLiteral={create:function(e,t){var r=n.SpelNode.create("boolean",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberLiteral=void 0;var n=r(0);t.NumberLiteral={create:function(e,t){var r=n.SpelNode.create("number",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;var n=r(0);t.StringLiteral={create:function(e,t){var r=n.SpelNode.create("string",t);return e=function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.substring(1,e.length-1)),e.replace(/''/g,"'").replace(/""/g,'"')}(e),r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;var n=r(0);t.NullLiteral={create:function(e,t){var r=n.SpelNode.create("null",t);return r.getValue=function(){return null},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionReference=void 0;var n=r(0),o=r(1);t.FunctionReference={create:function(e,t,r){var i=n.SpelNode.create("function",t);return i.getRaw=function(){return{functionName:e,args:r}},i.getValue=function(t){var n=t.locals||{},i=t.rootContext,a=[];if(r.forEach((function(e){var r=t.activeContext;t.activeContext=new o.Stack,t.activeContext.push(t.rootContext),a.push(e.getValue(t)),t.activeContext=r})),n[e])return n[e].apply(i,a);throw{name:"FunctionDoesNotExistException",message:"Function '"+e+"' does not exist."}},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MethodReference=void 0;var n=r(0),o=r(1);t.MethodReference={create:function(e,t,r,i){var a=n.SpelNode.create("method",r);return a.getRaw=function(){return{methodName:t,args:i}},a.getValue=function(r){var n,a=r.activeContext.peek(),l=[];if(!a)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."};function s(r){if(null==r){if(e)return null;throw{name:"NullPointerException",message:"Method "+t+" does not exist."}}return r}if(i.forEach((function(e){var t=r.activeContext;r.activeContext=new o.Stack,r.activeContext.push(r.rootContext),l.push(e.getValue(r)),r.activeContext=t})),"get"===t.substr(0,3)&&!a[t])return s(a[t.charAt(3).toLowerCase()+t.substring(4)]);if("set"===t.substr(0,3)&&!a[t])return a[t.charAt(3).toLowerCase()+t.substring(4)]=l[0];if(Array.isArray(a)){if("size"===t)return a.length;if("contains"===t)return a.includes(l[0])}return(n=s(a[t]))?n.apply(a,l):null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyReference=void 0;var n=r(0);t.PropertyReference={create:function(e,t,r){var o=n.SpelNode.create("property",r);return o.getRaw=function(){return t},o.getValue=function(r){var n=r.activeContext.peek();if(!n){if(e)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."}}if(void 0===n[t]||null===n[t]){if(e)return null;if("size"===t&&Array.isArray(n))return n.length;throw{name:"NullPointerException",message:"Property '"+t+"' does not exist."}}return n[t]},o.setValue=function(e,r){var n=r.activeContext.peek();if(!n)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t+"' for an undefined context."};return n[t]=e},o.getName=function(){return t},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReference=void 0;var n=r(0);t.VariableReference={create:function(e,t){var r=n.SpelNode.create("variable",t);return r.getRaw=function(){return e},r.getValue=function(t){var r=t.activeContext.peek(),n=t.locals;if(!r)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+e+"' for an undefined context."};return"this"===e?r:"root"===e?t.rootContext:n[e]},r.setValue=function(t,r){return r.locals[e]=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundExpression=void 0;var n=r(0);t.CompoundExpression={create:function(e,t){var r=n.SpelNode.create.apply(null,["compound",e].concat(t));function o(e){var t,n=r.getChildren().length;for(t=0;t<n;t+=1)"indexer"===r.getChildren()[t].getType()?e.activeContext.push(e.activeContext.peek()[r.getChildren()[t].getValue(e)]):e.activeContext.push(r.getChildren()[t].getValue(e));return function(){for(t=0;t<n;t+=1)e.activeContext.pop()}}return r.getValue=function(e){var t;if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var r=o(e);return t=e.activeContext.peek(),r(),t},r.setValue=function(e,t){var n=o(t),i=r.getChildren().length;return t.activeContext.pop(),e=r.getChildren()[i-1].setValue(e,t),t.activeContext.push(null),n(),e},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Indexer=void 0;var n=r(0),o=r(1);t.Indexer={create:function(e,t){var r=n.SpelNode.create.apply(null,["indexer",e].concat(t));return r.getValue=function(e){var t,n,i=e.activeContext,a=r.getChildren().length;if(e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(t=0;t<a;t+=1)e.activeContext.push(r.getChildren()[t].getValue(e));for(n=e.activeContext.peek(),t=0;t<a;t+=1)e.activeContext.pop();return e.activeContext=i,n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Assign=void 0;var n=r(0);t.Assign={create:function(e,t,r){var o=n.SpelNode.create("assign",e,t,r);return o.getValue=function(e){if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t.getValue(e)+"' for an undefined context."};return t.setValue(r.getValue(e),e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpEQ=void 0;var n=r(0);t.OpEQ={create:function(e,t,r){var o=n.SpelNode.create("op-eq",e,t,r);return o.getValue=function(e){return t.getValue(e)===r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNE=void 0;var n=r(0);t.OpNE={create:function(e,t,r){var o=n.SpelNode.create("op-ne",e,t,r);return o.getValue=function(e){return t.getValue(e)!==r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGE=void 0;var n=r(0);t.OpGE={create:function(e,t,r){var o=n.SpelNode.create("op-ge",e,t,r);return o.getValue=function(e){return t.getValue(e)>=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGT=void 0;var n=r(0);t.OpGT={create:function(e,t,r){var o=n.SpelNode.create("op-gt",e,t,r);return o.getValue=function(e){return t.getValue(e)>r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLE=void 0;var n=r(0);t.OpLE={create:function(e,t,r){var o=n.SpelNode.create("op-le",e,t,r);return o.getValue=function(e){return t.getValue(e)<=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLT=void 0;var n=r(0);t.OpLT={create:function(e,t,r){var o=n.SpelNode.create("op-lt",e,t,r);return o.getValue=function(e){return t.getValue(e)<r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPlus=void 0;var n=r(0);t.OpPlus={create:function(e,t,r){var o=n.SpelNode.create("op-plus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)+r.getValue(e):+t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMinus=void 0;var n=r(0);t.OpMinus={create:function(e,t,r){var o=n.SpelNode.create("op-minus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)-r.getValue(e):-t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMultiply=void 0;var n=r(0);t.OpMultiply={create:function(e,t,r){var o=n.SpelNode.create("op-multiply",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);if("number"==typeof n&&"number"==typeof o)return n*o;if("string"==typeof n&&"number"==typeof o){for(var i="",a=0;a<o;a+=1)i+=n;return i}return null},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDivide=void 0;var n=r(0);t.OpDivide={create:function(e,t,r){var o=n.SpelNode.create("op-divide",e,t,r);return o.getValue=function(e){return t.getValue(e)/r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpModulus=void 0;var n=r(0);t.OpModulus={create:function(e,t,r){var o=n.SpelNode.create("op-modulus",e,t,r);return o.getValue=function(e){return t.getValue(e)%r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPower=void 0;var n=r(0);t.OpPower={create:function(e,t,r){var o=n.SpelNode.create("op-power",e,t,r);return o.getValue=function(e){return Math.pow(t.getValue(e),r.getValue(e))},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInc=void 0;var n=r(0);t.OpInc={create:function(e,t,r){var o=n.SpelNode.create("op-inc",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n+1,e),t?n:n+1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDec=void 0;var n=r(0);t.OpDec={create:function(e,t,r){var o=n.SpelNode.create("op-dec",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n-1,e),t?n:n-1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNot=void 0;var n=r(0);t.OpNot={create:function(e,t){var r=n.SpelNode.create("op-not",e,t);return r.getValue=function(e){return!t.getValue(e)},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpAnd=void 0;var n=r(0);t.OpAnd={create:function(e,t,r){var o=n.SpelNode.create("op-and",e,t,r);return o.getValue=function(e){return!!t.getValue(e)&&!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpOr=void 0;var n=r(0);t.OpOr={create:function(e,t,r){var o=n.SpelNode.create("op-or",e,t,r);return o.getValue=function(e){return!!t.getValue(e)||!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMatches=void 0;var n=r(0);t.OpMatches={create:function(e,t,r){var o=n.SpelNode.create("matches",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);try{return!!new RegExp(o).exec(n)}catch(i){throw{name:"EvaluationException",message:i.toString()}}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Ternary=void 0;var n=r(0);t.Ternary={create:function(e,t,r,o){var i=n.SpelNode.create("ternary",e,t,r,o);return i.getValue=function(e){return t.getValue(e)?r.getValue(e):o.getValue(e)},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Elvis=void 0;var n=r(0);t.Elvis={create:function(e,t,r){var o=n.SpelNode.create("elvis",e,t,r);return o.getValue=function(e){return null!==t.getValue(e)?t.getValue(e):r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineList=void 0;var n=r(0);t.InlineList={create:function(e,t){var r=n.SpelNode.create("list",e),o=[].concat(t||[]);return r.getRaw=function(){return o},r.getValue=function(e){return o.map((function(t){return t.getValue(e)}))},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineMap=void 0;var n=r(0);t.InlineMap={create:function(e,t){var r=n.SpelNode.create("map",e),o=[].concat(t||[]);return r.getValue=function(e){var t=!0,r=null,n={};return o.forEach((function(o){t?r="property"===o.getType()?o.getName():o.getValue(e):n[r]=o.getValue(e),t=!t})),n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}t.Selection={create:function(e,t,r,a){var l=o.SpelNode.create("selection",r,a);return l.getValue=function(e){var r=e.activeContext.peek();if(r){if(Array.isArray(r))return function(e,t,r,n){var o=e.filter((function(e){return i(e,r,n)}));switch(t){case"ALL":return o;case"FIRST":return o[0]||null;case"LAST":return o.length?o[o.length-1]:null}}(r,t,a,e);if("object"===(void 0===r?"undefined":n(r)))return function(e,t,r,n){var o,a,l={},s=[],u={};for(a in e)e.hasOwnProperty(a)&&i(o={key:a,value:e[a]},r,n)&&s.push(o);switch(t){case"ALL":return s.forEach((function(e){l[e.key]=e.value})),l;case"FIRST":return s.length?(u[s[0].key]=s[0].value,u):null;case"LAST":return s.length?(u[s[s.length-1].key]=s[s.length-1].value,u):null}s.forEach((function(e){l[e.key]=e.value}))}(r,t,a,e)}return null},l},FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){return e.map((function(e){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}))}t.Projection={create:function(e,t,r){var a=o.SpelNode.create("projection",t,r);return a.getValue=function(e){var t,o=e.activeContext.peek(),a=[];if(Array.isArray(o))return i(o,r,e);if("object"===(void 0===o?"undefined":n(o))){for(t in o)o.hasOwnProperty(t)&&a.push(o[t]);return i(a,r,e)}return null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInstanceof=void 0;var n=r(0);t.OpInstanceof={create:function(e,t,r){var o=n.SpelNode.create("instanceof",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpBetween=void 0;var n=r(0);t.OpBetween={create:function(e,t,r){var o=n.SpelNode.create("between",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeReference=void 0;var n=r(0);t.TypeReference={create:function(e,t,r){return(t=n.SpelNode.create("typeref",e,t)).getValue=function(e){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},t}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BeanReference=void 0;var n=r(0);t.BeanReference={create:function(e,t){var r=n.SpelNode.create("beanref",e);return r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Identifier=void 0;var n=r(0);t.Identifier={create:function(e,t){var r=n.SpelNode.create("identifier",t);return r.getRaw=function(){return e},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedIdentifier=void 0;var n=r(0);t.QualifiedIdentifier={create:function(e,t){var r=n.SpelNode.create.apply(n.SpelNode,["qualifiedidentifier",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));return r.getRaw=function(){return t.map((function(e){return e.getRaw()}))},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorReference=void 0;var n=r(0),o=r(1);t.ConstructorReference={create:function(e,t,r){var i,a=void 0!==r;a?i=t.length&&t[0]&&"number"===t[0].getType()?t[0].getValue():null:(r=t,t=void 0);var l,s=(l=r,Array.isArray(l)?l:Array.from(l));s[0];var u=s.slice(1),c=n.SpelNode.create.apply(n.SpelNode,["constructorref",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)));return c.getRaw=function(){return i},c.getValue=function(e){if(a&&u.length<=1){var t=[];return u.forEach((function(r){var n=e.activeContext;e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),t.push(r.getValue(e)),e.activeContext=n})),1===u.length?t[0]:i?new Array(i):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},c}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext={create:function(e,t){var r={};return r.authentication=e||{},r.principal=t||{},r.hasRole=function(e){var t=!1;return!!e&&!(!r.authentication&&!Array.isArray(r.authentication.authorities))&&(r.authentication.authorities.forEach((function(r){r.authority.toLowerCase()===e.toLowerCase()&&(t=!0)})),t)},r.hasPermission=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length)return r.hasRole(e[0])},r}}}])},e.exports=r()}(jF);var EF=jF.exports,CF={};!function(e){var t=e,r=/`/g,n=/\./g,o=/[\0\b\t\n\r\x1a\"\'\\]/g,i={"\0":"\\0","\b":"\\b","\t":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};function a(e){for(var t,r=o.lastIndex=0,n="";t=o.exec(e);)n+=e.slice(r,t.index)+i[t[0]],r=o.lastIndex;return 0===r?"'"+e+"'":r<e.length?"'"+n+e.slice(r)+"'":"'"+n+"'"}function l(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}t.escapeId=function(e,o){if(Array.isArray(e)){for(var i="",a=0;a<e.length;a++)i+=(0===a?"":", ")+t.escapeId(e[a],o);return i}return o?"`"+String(e).replace(r,"``")+"`":"`"+String(e).replace(r,"``").replace(n,"`.`")+"`"},t.escape=function(e,r,n){if(null==e)return"NULL";switch(typeof e){case"boolean":return e?"true":"false";case"number":return e+"";case"object":return"[object Date]"===Object.prototype.toString.call(e)?t.dateToString(e,n||"local"):Array.isArray(e)?t.arrayToList(e,n):Buffer.isBuffer(e)?t.bufferToString(e):"function"==typeof e.toSqlString?String(e.toSqlString()):r?a(e.toString()):t.objectToValues(e,n);default:return a(e)}},t.arrayToList=function(e,r){for(var n="",o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?n+=(0===o?"":", ")+"("+t.arrayToList(i,r)+")":n+=(0===o?"":", ")+t.escape(i,!0,r)}return n},t.format=function(e,r,n,o){if(null==r)return e;Array.isArray(r)||(r=[r]);for(var i,a=0,l=/\?+/g,s="",u=0;u<r.length&&(i=l.exec(e));){var c=i[0].length;if(!(c>2)){var d=2===c?t.escapeId(r[u]):t.escape(r[u],n,o);s+=e.slice(a,i.index)+d,a=l.lastIndex,u++}}return 0===a?e:a<e.length?s+e.slice(a):s},t.dateToString=function(e,t){var r,n,o,i,s,u,c,d=new Date(e);if(isNaN(d.getTime()))return"NULL";if("local"===t)r=d.getFullYear(),n=d.getMonth()+1,o=d.getDate(),i=d.getHours(),s=d.getMinutes(),u=d.getSeconds(),c=d.getMilliseconds();else{var p=function(e){if("Z"===e)return 0;var t=e.match(/([\+\-\s])(\d\d):?(\d\d)?/);if(t)return("-"===t[1]?-1:1)*(parseInt(t[2],10)+(t[3]?parseInt(t[3],10):0)/60)*60;return!1}(t);!1!==p&&0!==p&&d.setTime(d.getTime()+6e4*p),r=d.getUTCFullYear(),n=d.getUTCMonth()+1,o=d.getUTCDate(),i=d.getUTCHours(),s=d.getUTCMinutes(),u=d.getUTCSeconds(),c=d.getUTCMilliseconds()}return a(l(r,4)+"-"+l(n,2)+"-"+l(o,2)+" "+l(i,2)+":"+l(s,2)+":"+l(u,2)+"."+l(c,3))},t.bufferToString=function(e){return"X"+a(e.toString("hex"))},t.objectToValues=function(e,r){var n="";for(var o in e){var i=e[o];"function"!=typeof i&&(n+=(0===n.length?"":", ")+t.escapeId(o)+" = "+t.escape(i,!0,r))}return n},t.raw=function(e){if("string"!=typeof e)throw new TypeError("argument sql must be a string");return{toSqlString:function(){return e}}}}(CF);var TF=g(CF);TF.trim=function(e){return"'"==e.charAt(0)?e.substring(1,e.length-1):e},TF.escapeLike=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=TF.escape(e);return n="'"+(n=(t?"%":"")+(n=(n=TF.trim(n)).replace(/[%_]/g,"\\$&"))+(r?"%":""))+"'"};var qF=function(e){var t="''",r=null==e?void 0:e.type;return"date"==r?t="'0000-00-00'":"datetime"==r?t="'0000-00-00 00:00'":"time"==r?t="'00:00'":"number"==r&&(t="0"),t},IF=function(e){var t="";return"number"==(null==e?void 0:e.type)&&(t=0),t},AF=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=["int","float"];return e.map((function(e){if(null!=e){if("string"==typeof e)r="String";else{if("number"!=typeof e)throw new Error("spelEscape: Can't use value ".concat(e," in array"));r=Number.isInteger(e)?"int":"float"}if(t){if(t!=r){if(!i.includes(t)||!i.includes(r))throw new Error("spelEscape: Can't use different types in array: found ".concat(t," and ").concat(r));t="float"}}else t=r}})),t||(t="String"),n="float"==t?e.map((function(e){return PF(e,!0)})):e.map((function(e){return PF(e)})),o?"new ".concat(t,"[]{").concat(n.join(", "),"}"):"{".concat(n.join(", "),"}")},LF=function(e){return"".concat(e,".?[true]")},PF=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return"null";switch(_(e)){case"boolean":return e?"true":"false";case"number":if(!Number.isFinite(e)||isNaN(e))return;return e+(!Number.isInteger(e)||t?"f":"");case"object":if(Array.isArray(e))return AF(e,r);throw new Error("spelEscape: Object is not supported");default:return function(e){return"'"+e.replace(/'/g,"''")+"'"}(e)}},NF=function(e){return null==e?"NULL":e.toString()},FF=function(e){return null==e||"("===(null==e?void 0:e[0])&&")"===(null==e?void 0:e[(null==e?void 0:e.length)-1])?e:"("+e+")"};const RF=Object.freeze(Object.defineProperty({__proto__:null,SqlString:TF,mongoEmptyValue:IF,spelEscape:PF,spelFixList:LF,spelFormatConcat:function(e){return e&&Array.isArray(e)&&e.length?e.map((function(e){return"const"==e.type?PF(e.value):"property"==e.type?""+e.value:"variable"==e.type?"#"+e.value:void 0})).filter((function(e){return null!=e})).join(" + "):"null"},spelImportConcat:function(e){if(null==e)return[void 0,[]];var t=[],r="case_value"==e.valueType?e.value:e;return[(Array.isArray(r)?r:[r]).map((function(e){return"value"===e.valueSrc?null===e.value?void 0:{type:"const",value:e.value}:"field"===e.valueSrc?{type:e.isVariable?"variable":"property",value:e.value}:void t.push("Unsupported valueSrc ".concat(e.valueSrc," in concatenation"))})).filter((function(e){return null!=e})),t]},sqlEmptyValue:qF,stringifyForDisplay:NF,wrapWithBrackets:FF},Symbol.toStringTag,{value:"Module"}));function MF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return DF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function DF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VF(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var BF="${0}.compareTo(${1})",HF={datetime:!0,time:!0,date:!0},$F=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=OB(t,void 0,!1),i=UF(e,o,n,null);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SpEL:",n.errors),i)},UF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return"group"===o||"rule_group"===o?GF(e,t,r,n):"rule"===o?QF(e,t,r,n):"switch_group"==o?KF(e,t,r):"case_group"==o?WF(e,t,r,n):void 0}},WF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type");if("case_group"==o){var i=e.get("properties")||new $C,a=ZF(t,i,r,null,n,"!case_value"),l=Kt(a,3),s=l[0];return l[1],l[2],[GF(e,t,r,n),s]}r.errors.push("Unexpected child of type ".concat(o," inside switch"))},KF=function(e,t,r){e.get("properties")||new $C;var n=e.get("children1");if(n){var o=n.map((function(e){return WF(e,t,r,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray();if(o.length){if(1==o.length&&!o[0][0])return o[0][1];for(var i=[],a=0;a<o.length;a++)a==o.length-1||o[a][0]?(i.push(o[a]),a==o.length-1&&o[a][0]&&i.push([void 0,null])):r.errors.push("No condition for case ".concat(a));for(var l="",s="",u=0;u<i.length;u++){var c=Kt(i[u],2),d=c[0],p=c[1];null==p&&(p="null"),null==d&&(d="true"),u!=i.length-1?(l+="(".concat(d," ? ").concat(p," : "),s+=")"):l+="".concat(p)}return l+s}}},GF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type"),i=e.get("properties")||new $C,a=i.get("mode"),l=e.get("children1")||new hT,s=i.get("field"),u=i.get("conjunction");u||(u=VR(t));var c=t.conjunctions[u],d=i.get("not"),p="rule_group"===o,f=p&&"struct"!=a,h=f?s:n,g=(GB(t,h)||{}).isSpelArray,v=t.settings.fieldSeparator,m=i.get("operator");m||a&&"some"!=a||(m="some");var y=JF(t,m,s),b=y!=m,_=m&&YB(t,y,s)||null,x=p&&(!y||0==_.cardinality),w=ZF(t,i,r,y,n,null),O=Kt(w,3),S=O[0],k=O[1],j=O[2],E=l.map((function(e){return UF(e,t,r,h)})).filter((function(e){return void 0!==e}));if(f&&!x){if(null==S)return}else if(!E.size)return;var C,T=p,q=E.size?c.spelFormatConj.call(t.ctx,E,u,d,T):null;if(f){var I=tR(r,t,s,n),A=(v||".")+(g?"length":"size()"),L="".concat(I).concat(A),P=q?"".concat(I,".?[").concat(q,"]").concat(A):L;C=YF(r,t,i,P,x?L:S,y,k,j,b)}else C=q;return C},YF=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=r.get("field"),c=YB(t,i,u)||{},d=GB(t,u)||{},p=r.get("operatorOptions"),f=c.spelFormatOp||function(e,t,r){var n=t.spelOp;if(n){var o,i=n.includes("${0}"),a=HF[r],l=n,s=zq(t);return a?o=function(e,t,r,n,o,i,a,u){var c=BF.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}));return"".concat(c," ").concat(l," 0")}:i?o=function(e,t,r,o,i,a,l,u){return n.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}))}:0==s?o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l)}:1==s&&(o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l," ").concat(r)}),o}}(0,c,l);if(f){var h,g=[n,i,o,a,l,Vq(c,Rq),p,d];return h=f.call.apply(f,[t.ctx].concat(g)),s&&(h=t.settings.spelFormatReverse.call(t.ctx,h)),void 0===h&&e.errors.push("Operator ".concat(i," is not supported for value source ").concat(a)),h}e.errors.push("Operator ".concat(i," is not supported"))},JF=function(e,t,r){if(t){var n=YB(e,t,r)||{},o=n.reversedOp,i=YB(e,o,r)||{},a=n.spelOp||n.spelFormatOp,l=i.spelOp||i.spelFormatOp;if(a||l){if(!a&&l){var s=[o,t];t=s[0],o=s[1];var u=[i,n];n=u[0],i=u[1]}return t}}},QF=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("properties")||new $C,i=o.get("field"),a=o.get("fieldSrc"),l=o.get("operator");if(null!=i&&null!=l){var s=JF(t,l,i);if(s){var u=s!=l,c=ZF(t,o,r,s,n,null),d=Kt(c,3),p=d[0],f=d[1],h=d[2];if(void 0!==p){var g=XF(r,t,i,a,n);if(void 0!==g)return YF(r,t,o,g,p,s,f,h,u)}}else r.errors.push("Operator ".concat(l," is not supported"))}},XF=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return"func"===n?rR(e,t,r,o):tR(e,t,r,o)},ZF=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u,c=GB(e,a)||{},d=YB(e,n,a)||{},p=zq(d),f=t.get("value"),h=t.get("asyncListValues"),g=[],v=[];if(null!=f){var m=f.map((function(t,i){var u=l?l.get(i):null,p=s?s.get(i):null,f=AV(t,u,e),m=xV(e,a,n,u),y=JB(e,a,n,m,u,{forExport:!0}),b=eR(r,e,f,u,p,y,c,n,d,o,h);return void 0!==b&&(g.push(u),v.push(p)),b})),y=m.filter((function(e){return void 0===e})).size>0;m.size<p||y||(u=p>1?m.toArray():1==p?m.first():null)}return[u,g.length>1?g:g[0],v.length>1?v:v[0]]},eR=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"===n)d=tR(e,t,r,u);else if("func"===n)d=rR(e,t,r,u);else if("function"==typeof(null==i?void 0:i.spelFormatValue)){var p=i.spelFormatValue,f=[r,zF(zF({},XA(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),Vq(i,Fq)];if(l&&(f.push(l),f.push(s)),"field"==n){var h=GB(t,r)||{};f.push(h)}d=p.call.apply(p,[t.ctx].concat(f))}else d=PF(r);return d}},tR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r){var o=t.settings.fieldSeparator,i=GB(t,r)||{},a=HB(r,t),l=mV(r,t,n),s=t.settings.formatSpelField,u=wV(r,t,e,n),c=l.map((function(e){var t,r=Kt(e,3),n=r[0],i=r[1],a=r[2];return a&&(t="!struct"==a.type||"!group"==a.type&&"struct"==a.mode?i.isSpelMap?"map":"class":"!group"==a.type?i.isSpelItemMap?"[map]":"[class]":"class"),{key:n,parent:t,isSpelVariable:null==i?void 0:i.isSpelVariable,fieldSeparator:o}}));return s.call(t.ctx,u,n,a,c,i,t)}},rR=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=DB(t,a);if(s){var u={},c=[],d=[];for(var p in s.args){var f,h,g=s.args[p],v=GB(t,g),m=g.defaultValue,y=g.isOptional,b=null!=m&&m.func?"func":"value",_=l?l.get(p):void 0,x=_?_.get("value"):void 0,w=_?_.get("valueSrc"):void 0;"func"!==w&&null!==(f=x)&&void 0!==f&&f.toJS&&(x=x.toJS());var O=_?_.get("asyncListValues"):void 0,S=null===(h=g.spelEscapeForFormat)||void 0===h||h,k=null,j=xV(t,g,k,w),E=JB(t,g,k,j,w,{forExport:!0}),C=eR(e,t,x,w,g.type,E,v,null,null,i,O);if(null!=x&&void 0===C)return void("func"!=w&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(a)));var T=void 0;if(void 0===C&&!y&&null!=m){var q=xV(t,g,k,b),I=JB(t,g,k,q,b,{forExport:!0});if(void 0===(T=eR(e,t,m,b,g.type,I,v,null,null,i,O)))return void("func"!=b&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){var L;if(c.length){var P,N=MF(c);try{for(N.s();!(P=N.n()).done;){var F=P.value;u[F]=void 0}}catch($){N.e($)}finally{N.f()}c=[]}u[p]=S?A:null!==(L=x)&&void 0!==L?L:m}else y||d.push(p),c.push(p)}if(!d.length){var R;if("function"==typeof s.spelFormatFunc){var M=s.spelFormatFunc,D=[u];R=M.call.apply(M,[t.ctx].concat(D))}else if(s.spelFunc){R=s.spelFunc.replace(/\${(\w+)}/g,(function(e,t){var r;return null!==(r=u[t])&&void 0!==r?r:e}));var V,z=Object.keys(s.args||{}).reverse().filter((function(e){return!!s.args[e].isOptional})),B=MF(z);try{for(B.s();!(V=B.n()).done;){var H=V.value;if(null!=u[H])break;R=R.replace(new RegExp("(, )?\\${"+H+"}","g"),"")}}catch($){B.e($)}finally{B.f()}R=R.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(a," is not supported"));return R}}else e.errors.push("Func ".concat(a," is not defined in config"))};function nR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return oR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lR={number:"number",string:"text",boolean:"boolean",null:"null"},sR={String:"text"},uR=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},cR=function(e,t){var r,n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={errors:[]},a=OB(t,void 0,!1),l=fR(a),s=void 0;try{r=EF.SpelExpressionEvaluator.compile(e)._compiledExpression}catch(_n){i.errors.push(_n)}r&&(n=dR(r,i),aI.debug("convertedObj:",n,i),(s=hR(n,l,a,i))&&"group"!=s.type&&"switch_group"!=s.type&&(s=TR(s,a,n.not)),aI.debug("jsTree:",s));var u=s?GN(s):void 0;return o?[u,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),u)},dR=function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.getType(),a=t.getChildren().map((function(n){return e(n,r,t)}));if("op-or"!=i&&"op-and"!=i||(a=a.reduce((function(e,t){var r=t.type==i&&!t.not?t.children:[t];return[].concat(pj(e),pj(r))}),[])),"op-not"==i)return 1!=a.length&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),aR(aR({},a[0]),{},{not:!a[0].not});if("compound"==i){var l=(a=a.filter((function(e){return!("selection"==e.type&&1==e.children.length&&"boolean"==e.children[0].type&&1==e.children[0].val)}))).find((function(e){return"selection"==e.type}));l&&1!=l.children.length&&r.errors.push("Selection should have 1 child, but got ".concat(l.children.length));var s=l?l.children[0]:null,u=a[a.length-1],c="method"==u.type&&"size"==u.val.methodName||"!func"==u.type&&"size"==u.methodName,d="property"==u.type&&"length"==u.val,p=a.filter((function(e){return e!==l&&e!==u})),f={type:"compound",children:p};if((c||d)&&null!=vR(p))return{type:"!aggr",filter:s,source:f};if(a=(a=a.filter((function(e){var t="variable"==e.type&&"this"==e.val,r="variable"==e.type&&"root"==e.val;return!(t||r)}))).map((function(e){return"indexer"==e.type&&1==e.children.length?{type:"indexer",val:e.children[0].val,itype:e.children[0].type}:e})),"!func"==u.type){var h={},g=h;do{var v,m;Object.assign(g,u),a=a.filter((function(e){return e!==u})),"!func"==(null===(m=u=a[a.length-1])||void 0===m?void 0:m.type)?(g.obj={},g=g.obj):a.length>1?g.obj={type:"compound",children:a}:g.obj=u}while("!func"==(null===(v=u)||void 0===v?void 0:v.type));return h}}try{t.getRaw?n=t.getRaw():0==t.getValue.length&&(n=t.getValue())}catch(_n){aI.error("[spel2js] Error in getValue()",_n)}if("ternary"==i&&(n=pR(a)),"object"===_(n)&&null!==n&&(n.methodName||n.functionName)&&(n.args=n.args.map((function(n){return e(n,r,t)}))),"list"==i&&(n=n.map((function(n){return e(n,r,t)})),!o&&1==n.length))return n[0];if("constructorref"==i){var y=a.find((function(e){return"qualifiedidentifier"==e.type})),b=null==y?void 0:y.val;return b?{type:"!new",cls:b,args:a.filter((function(e){return"qualifiedidentifier"!=e.type}))}:void r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)))}if("typeref"==i){var x=a.find((function(e){return"qualifiedidentifier"==e.type})),w=null==x?void 0:x.val;return w?(a.filter((function(e){return"qualifiedidentifier"!=e.type})),{type:"!type",cls:w}):void r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)))}if("function"==i||"method"==i){var O=n,S=O.functionName,k=O.methodName,j=O.args;return{type:"!func",methodName:S||k,isVar:"function"==i,args:j}}return{type:i,children:a,val:n}},pR=function(e){var t=[];return function e(r){var n=Kt(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]),"ternary"==(null==a?void 0:a.type)?e(a.children):t.push([void 0,a])}(e),t},fR=function(e){var t={},r=function(r){var n=e.operators[r];if(n.spelOps)n.spelOps.forEach((function(e){var n=e;t[n]||(t[n]=[]),t[n].push(r)}));else if(n.spelOp){var o=n.spelOp;t[o]||(t[o]=[]),t[o].push(r)}else aI.log("[spel] No spelOp for operator ".concat(r))};for(var n in e.operators)r(n);var o={};for(var i in e.conjunctions){o[e.conjunctions[i].spelConj||i.toLowerCase()]=i}var a,l={},s=nR(LB(e));try{var u=function(){var e=Kt(a.value,2),t=e[0],r=e[1],n=[],o=r.spelFunc;if("string"==typeof o){var i=Object.keys(r.args||{}).reverse().filter((function(e){return!!r.args[e].isOptional||null!=r.args[e].defaultValue})),s=o.replace(/\${(\w+)}/g,(function(e,t){return"?"})),u=i.reduce((function(e,t){return[].concat(pj(e),[[t].concat(pj(e[e.length-1]||[]))])}),[]).map((function(e){return o.replace(/(?:, )?\${(\w+)}/g,(function(t,r){return e.includes(r)?"":t})).replace(/\${(\w+)}/g,(function(e,t){return"?"}))}));n=[s].concat(pj(u))}var c,d=nR(n);try{for(d.s();!(c=d.n()).done;){var p=c.value;l[p]||(l[p]=[]),l[p].push(t)}}catch(f){d.e(f)}finally{d.f()}};for(s.s();!(a=s.n()).done;)u()}catch(S){s.e(S)}finally{s.f()}var c={};for(var d in e.widgets){var p=e.widgets[d],f=p.spelImportFuncs;if(p.type,f){var h,g=nR(f);try{for(g.s();!(h=g.n()).done;){var v=h.value;if("string"==typeof v){var m=v.replace(/\${(\w+)}/g,(function(e,t){return"?"})),y=pj(v.matchAll(/\${(\w+)}/g)).map((function(e){var t=Kt(e,2);t[0];return t[1]}));c[m]||(c[m]=[]),c[m].push({w:d,argsOrder:y})}}}catch(S){g.e(S)}finally{g.f()}}}var b={};for(var _ in e.operators){var x=e.operators[_].spelOp;if(null!=x&&x.includes("${0}")){var w=x.replace(/\${(\w+)}/g,(function(e,t){return"?"})),O=pj(x.matchAll(/\${(\w+)}/g)).map((function(e){var t=Kt(e,2);return t[0],t[1]}));b[w]||(b[w]=[]),b[w].push({op:_,argsOrder:O})}}return b[BF.replace(/\${(\w+)}/g,(function(e,t){return"?"}))]=[{op:"!compare",argsOrder:["0","1"]}],{operators:t,conjunctions:o,funcs:l,valueFuncs:c,opFuncs:b}},hR=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t){t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==a?void 0:a._groupField;var l,s=!0;if(0===t.type.indexOf("op-")||"matches"===t.type)l=gR(t,r,n,o,a);else if("!aggr"==t.type){var u,c=e(t.source,r,n,o,t);t._groupField=null==c?void 0:c.value;var d=e(t.filter,r,n,o,t);"rule"==(null===(u=d)||void 0===u?void 0:u.type)&&(d=TR(d,n,t.filter.not)),l={groupFilter:d,groupFieldValue:c},a||(l=void 0,o.errors.push("Unexpected !aggr in root"),s=!1)}else if("ternary"==t.type){var p={};t.val.forEach((function(e){var i=Kt(e,2),a=i[0],l=i[1],s=jR(a,l,r,n,o,t);s&&(p[s.id]=s)})),l={type:"switch_group",id:Lq(),children1:p,properties:{}}}if(!l&&s&&(l=mR(t,r,n,o,a)),l&&!l.type&&!a){var f=kR(t,r,n,o);f?l=f:(l=void 0,o.errors.push("Can't convert rule of type ".concat(t.type,", it looks like var/literal")))}return l}},gR=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=t.type.startsWith("op-")?t.type.slice(3):t.type;if(("minus"==l||"plus"==l)&&1==t.children.length){var s=t.negative;return"minus"==l&&(s=!s),t.children[0].negative=s,hR(t.children[0],r,n,o,a)}var u="and"==l&&2==t.children.length&&"op-ge"==t.children[0].type&&"op-le"==t.children[1].type,c="or"==l&&2==t.children.length&&"op-lt"==t.children[0].type&&"op-gt"==t.children[1].type;if(u||c){var d=Kt(t.children[0].children,2),p=d[0],f=d[1],h=Kt(t.children[1].children,2),g=h[0],v=h[1];if(SR(p,g,t,r,n,o)){f.val,v.val;var m={type:"op-between",children:[p,f,v],not:c};return m._groupField=null==a?void 0:a._groupField,e(m,r,n,o,a)}}var y=r.operators[l];"eq"==l&&"null"==t.children[1].type?y=["is_null"]:"ne"==l&&"null"==t.children[1].type?y=["is_not_null"]:"le"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_empty"]:"gt"==l&&"string"==t.children[1].type&&""==t.children[1].val?y=["is_not_empty"]:"between"==l&&(y=["between"]);var b=function(){var e,i=t.children.map((function(e){return hR(e,r,n,o,t)}));return i.length>=2&&"!compare"==(null===(e=i)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)&&(i=i[0].children),i};if("and"==l||"or"==l){var _={};b().forEach((function(e){if(e){var t=Lq();e.id=t,null!=e.type?_[t]=e:o.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(e)))}})),i={type:"group",id:Lq(),children1:_,properties:{conjunction:r.conjunctions[l],not:t.not}}}else if(y){var x,w,O,S=b(),k=S[0],j=S.slice(1),E=null==k||null===(x=k.groupFieldValue)||void 0===x?void 0:x.value,C=null===(w=j)||void 0===w?void 0:w[0],T=y[0];if(y.length>1){var q,I,A=(null===(q=S[0])||void 0===q?void 0:q.valueType)||(null===(I=S[1])||void 0===I?void 0:I.valueType),L=null==k?void 0:k.value,P=y.map((function(e){return{op:e,widget:xV(n,L,e)}}));if(aI.warn("[spel] Spel operator ".concat(l," can be mapped to ").concat(y,"."),"widgets:",P,"vals:",S,"valueType=",A),"eq"==l||"ne"==l){var N=P.find((function(e){e.op;var t=e.widget;return t&&"field"!=t}));N&&(T=N.op)}}null!=k&&k.groupFieldValue&&(C&&C.groupFieldValue&&"field"==C.groupFieldValue.valueSrc&&C.groupFieldValue.value==E?(T="all",j=[]):"equal"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value?(T="none",j=[]):"greater"==T&&"value"==C.valueSrc&&"number"==C.valueType&&0==C.value&&(T="some",j=[]));var F=n.operators[T],R=n.operators[null===(O=F)||void 0===O?void 0:O.reversedOp],M=t.not&&["between"].includes(T),D=!!R&&(!!n.settings.reverseOperatorsForNot||M);(t.not&&D||M)&&(T=F.reversedOp,F=n.operators[T],t.not=!t.not);var V=!!t.not;if(t.not=!1,k)if(k.groupFieldValue)"field"!=k.groupFieldValue.valueSrc&&o.errors.push("Expected group field ".concat(JSON.stringify(k))),i=OR(k,T,j,n,o);else{"field"!=k.valueSrc&&"func"!=k.valueSrc&&o.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(k)));var z=k.value;i=wR(n,o,z,T,j,t)}else;V&&("group"!==i.type?i=TR(i,n,!0):i.properties.not=!i.properties.not)}else a||(i=kR(t,r,n,o));return i},vR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=e.map((function(e){if("variable"==e.type||"property"==e.type||"indexer"==e.type&&"string"==e.itype)return e.val;var o,i;n=!0,r&&(null==t||null===(o=t.errors)||void 0===o||null===(i=o.push)||void 0===i||i.call(o,"Unexpected item in field path compound: ".concat(JSON.stringify(e))))}));return n?void 0:o},mR=function e(t,r,n,o){var i,a,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!=t){var s=n.settings.fieldSeparator;if(t._groupField=null!==(i=t._groupField)&&void 0!==i?i:null==l?void 0:l._groupField,"variable"==t.type||"property"==t.type){var u=RB(n,t.val,t._groupField),c=GB(n,u),d="variable"==t.type;return{valueSrc:"field",valueType:null==c?void 0:c.type,isVariable:d,value:u}}if("compound"==t.type){var p=vR(t.children,o);if(p){var f,h=RB(n,p.join(s),t._groupField),g=GB(n,h),v="variable"==(null===(f=t.children)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.type);return{valueSrc:"field",valueType:null==g?void 0:g.type,isVariable:v,value:h}}}else{if(lR[t.type]){var m=t.val,y=lR[t.type];return t.negative&&(m=-m),{valueSrc:"value",valueType:y,value:m}}if("!new"==t.type&&sR[t.cls.at(-1)]){var b=t.args.map((function(i){return e(i,r,n,o,t)})),_=null==b?void 0:b[0],x=sR[t.cls.at(-1)];return aR(aR({},_),{},{valueType:x})}if("list"==t.type){var w,O=t.val.map((function(i){return e(i,r,n,o,t)}));O.length&&(null===(w=O[0])||void 0===w||w.valueType);return{valueSrc:"value",valueType:"multiselect",value:O.map((function(e){return null==e?void 0:e.value}))}}if("op-plus"===t.type&&"ternary"===(null==l?void 0:l.type)&&"case_value"===(null===(a=n.settings.caseValueField)||void 0===a?void 0:a.type))return ER(t,r,n,o)}var S=bR(t,r,n,o,l);if(void 0!==S)return S;o.errors.push("Can't convert arg of type ".concat(t.type))}},yR=function e(t,r){var n=[],o="",i=t.type,a=t.methodName;t.val;var l,s=t.obj,u=t.args,c=t.isVar,d=t.cls,p=t.children,f=null==p?void 0:p[p.length-1],h=r[r.length-1];if("!func"===i){for(var g=s;g;){var v,m=e(aR(aR({},g),{},{obj:null}),[{}]),y=Kt(m,2),b=y[0],_=y[1];if("?"!==b){var x={s:h.s,params:pj(h.params),objs:pj(h.objs)};h.objs.unshift("?"),h.params.unshift(g),r.push(x),h=r[r.length-1]}h.objs.unshift(b),(v=h.params).unshift.apply(v,pj(_)),g="!func"===g.type?g.obj:null}var w,O=nR(r);try{for(O.s();!(w=O.n()).done;){var S,k=w.value;n=[].concat(pj((null==k?void 0:k.params)||[]),pj(u||[])),o="",null!=k&&null!==(S=k.objs)&&void 0!==S&&S.length&&(o+=k.objs.join(".")+"."),o+=(c?"#":"")+a,o+="("+(u||[]).map((function(e){return"?"})).join(", ")+")",k.s=o,k.params=n}}catch(j){O.e(j)}finally{O.f()}}else"!new"===i?(n=u||[],o="new ".concat(d.join("."),"(").concat(n.map((function(e){return"?"})).join(", "),")")):"!type"===i?o="T(".concat(d.join("."),")"):"compound"===i&&"property"===f.type&&(l=f.val,["length"].includes(l))?o=p.map((function(t){var r;if(t===f)return t.val;var o=e(aR(aR({},t),{},{obj:null}),[{}]),i=Kt(o,2),a=i[0],l=i[1];return(r=n).push.apply(r,pj(l)),a})).join("."):(n=[t],o="?");return h&&(h.s=o,h.params=n),[o,n]},bR=function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=function(o){return hR(o,t,r,n,e)},l=function(e){var t=[{s:"",params:[],objs:[]}];return yR(e,t),t.map((function(e){return{s:e.s,params:e.params}})).reverse().filter((function(e){var t=e.s;return""!==t&&"?"!==t}))}(e),s=null==l||null===(o=l[0])||void 0===o?void 0:o.s;l.length&&aI.debug("Signatures for ",e,":",s,l);var u=_R(e,t,r,n,i,l,a);if(void 0!==u)return u;var c,d,p,f=xR(e,t,r,n,i,l,a);if(void 0!==f)return f;var h,g=nR(l);try{var v=function(){var e=h.value,n=e.s,o=e.params,i=t.funcs[n];if(i){c=i[0];var l=(d=DB(r,c)).spelFunc,s=o.map(a),u=pj(l.matchAll(/\${(\w+)}/g)).map((function(e){var t=Kt(e,2);t[0];return t[1]}));return p=Object.fromEntries(u.map((function(e,t){return[e,s[t]]}))),1}};for(g.s();!(h=g.n()).done&&!v(););}catch(T){g.e(T)}finally{g.f()}if(!c){var m,y=nR(LB(r));try{for(y.s();!(m=y.n()).done;){var b=Kt(m.value,2),_=b[0],x=b[1];if(x.spelImport){var w=void 0;try{w=x.spelImport(e)}catch(q){}if(w)for(var O in d=DB(r,c=_),p={},w)p[O]=a(w[O])}}}catch(T){y.e(T)}finally{y.f()}}if(c){var S={};for(var k in d.args){var j,E=d.args[k],C=p[k];if(void 0===C)if(void 0===(C=null==E?void 0:E.defaultValue)){if(null==E||!E.isOptional)return void n.errors.push("No value for arg ".concat(k," of func ").concat(c))}else C={value:C,valueSrc:null!==(j=C)&&void 0!==j&&j.func?"func":"value",valueType:E.type};C&&(S[k]=C)}return{valueSrc:"func",value:{func:c,args:S},valueType:d.returnType}}e.methodName&&n.errors.push("Signature ".concat(s," - failed to convert"))},_R=function(e,t,r,n,o,i,a){var l,s,u,c=[];for(var d in r.widgets){var p=r.widgets[d].spelImportFuncs;if(p)for(var f=0;f<p.length;f++){var h=p[f];if(uR(h)){var g={};if(nI(h,e,g)){for(var v in g)g[v]=a(g[v]);c.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(f,"]"),w:d,argsObj:g})}}}}var m,y=nR(i);try{for(y.s();!(m=y.n()).done;){var b,_=m.value,x=_.s,w=_.params,O=nR(t.valueFuncs[x]||[]);try{var S=function(){var e=b.value,t=e.w,r=e.argsOrder,n=w.map(a),o=Object.fromEntries(r.map((function(e,t){return[e,n[t]]})));c.push({s:x,w:t,argsObj:o})};for(O.s();!(b=O.n()).done;)S()}catch(M){O.e(M)}finally{O.f()}}}catch(M){y.e(M)}finally{y.f()}for(var k=0,j=c;k<j.length;k++){var E=j[k],C=E.s,T=E.w,q=E.argsObj,I=r.widgets[T],A=I.spelImportValue,L=I.type;for(var P in u=T,s=C,l=[],q)["value"].includes(q[P].valueSrc)||l.push("".concat(P," has unsupported value src ").concat(q[P].valueSrc));var N=q.v.value;if(A&&!l.length){var F=A.call(r.ctx,q.v,I,q),R=Kt(F,2);N=R[0],(l=R[1])&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:L,value:N}}u&&l.length&&n.errors.push("Signature ".concat(s," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},xR=function(e,t,r,n,o,i,a){var l,s,u,c,d=nR(i);try{for(d.s();!(c=d.n()).done;){var p,f=c.value,h=f.s,g=f.params,v=nR(t.opFuncs[h]||[]);try{var m,y=function(){var t,i=p.value,c=i.op,d=i.argsOrder,f=g.map(a);if(s=c,"!compare"===c){if(o.type.startsWith("op-")&&2==o.children.length&&"number"==o.children[1].type&&0===o.children[1].val)return{v:{type:"!compare",children:f}};l.push("Result of compareTo() should be compared to 0")}u=h,l=[];var v=r.operators[s],m=(v.spelOp,v.valueTypes),y=Object.fromEntries(d.map((function(e,t){return[e,f[t]]}))),b=y[0],_=Object.keys(y).filter((function(e){return parseInt(e)>0})).map((function(e){return y[e]})),x=null===(t=f.filter((function(e){return!!e})).find((function(e){return"value"===e.valueSrc})))||void 0===t?void 0:t.valueType;if(m&&x&&!m.includes(x)&&l.push("Op supports types ".concat(m,", but got ").concat(x)),!l.length)return{v:wR(r,n,b,s,_,e)}};for(v.s();!(p=v.n()).done;)if(m=y())return m.v}catch(b){v.e(b)}finally{v.f()}}}catch(b){d.e(b)}finally{d.f()}s&&l.length&&n.errors.push("Signature ".concat(u," - looks like convertable to ").concat(s,", but: ").concat(l.join("; ")))},wR=function(e,t,r,n,o,i){var a,l;if(!o.filter((function(e){return void 0===e})).length){var s=null!==(a=r)&&void 0!==a&&a.func?"func":"field";uR(r)&&r.valueSrc&&(s=r.valueSrc,r=r.value);var u=GB(e,r);if(u){var c=GB(e,null==i?void 0:i._groupField),d="!group"==u.type;d&&u.mode;var p="!group"==(null==c?void 0:c.type),f=e.operators[n],h=e.operators[null===(l=f)||void 0===l?void 0:l.reversedOp],g=(null==i?void 0:i.not)&&["between"].includes(n),v=!!h&&(!!e.settings.reverseOperatorsForNot||g||!d&&p);((null==i?void 0:i.not)&&v||g)&&(n=f.reversedOp,f=e.operators[n],i.not=!i.not);var m=!(null==i||!i.not),y=xV(e,r,n),b=e.widgets[y||u.mainWidget],_=o.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),x=_.length?_[0]:void 0,w={type:"rule",id:Lq(),properties:aR({field:r,fieldSrc:s,operator:n,value:o.map((function(e){return e.value})),valueSrc:o.map((function(e){return e.valueSrc})),valueType:o.map((function(e){return"value"==e.valueSrc&&((null==b?void 0:b.type)||(null==u?void 0:u.type))||e.valueType}))},x?{asyncListValues:x}:{})};return m&&(w=TR(w,e,i.not)),w}t.errors.push("No config for field ".concat(r))}},OR=function(e,t,r,n,o){var i=e.groupFilter,a=e.groupFieldValue;if("field"!=a.valueSrc)throw"Bad groupFieldValue: ".concat(JSON.stringify(a));var l=a.value,s=wR(n,o,l,t,r);if(s){var u,c=GB(n,l),d=null==c?void 0:c.mode;return(u="group"===(null==i?void 0:i.type)?aR(aR({},i||{}),{},{type:"rule_group",properties:aR(aR(aR({},s.properties),(null==i?void 0:i.properties)||{}),{},{mode:d})}):aR(aR({},s||{}),{},i?{type:"rule_group",children1:[i],properties:aR(aR({},s.properties),{},{mode:d})}:{type:"rule_group",properties:aR(aR({},s.properties),{},{mode:d})})).id||(u.id=Lq()),u}},SR=function(e,t,r,n,o,i){if(e.type==t.type){if("!aggr"==e.type){var a=[e.source,t.source].map((function(e){return mR(e,n,o,i,r)})),l=Kt(a,2),s=l[0],u=l[1];return s.value==u.value}var c=[e,t].map((function(e){return mR(e,n,o,i,r)})),d=Kt(c,2),p=d[0],f=d[1];return p.value==f.value}return!1},kR=function(e,t,r,n){var o={},i=jR(null,e,t,r,n);return i&&(o[i.id]=i),{type:"switch_group",id:Lq(),children1:o,properties:{}}},jR=function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=CR(n,o,r,t,a);return e?(i=hR(e,r,n,o,a))&&i.type?("group"!=i.type&&(i=TR(i,n)),i.type="case_group"):(o.errors.push("Unexpected case: ".concat(JSON.stringify(i))),i=void 0):i={id:Lq(),type:"case_group",properties:{}},i&&(i.properties=aR(aR({},i.properties),l)),i},ER=function(e,t,r,n){var o=[];return function i(a){a.map((function(a){if("op-plus"===a.type)i(a.children);else{var l=mR(a,t,r,n,e);l?o.push(l):n.errors.push("Can't convert ".concat(a.type," in concatenation"))}}))}(e.children),{valueSrc:"value",valueType:"case_value",value:o}},CR=function(e,t,r,n){var o,i,a,l,s,u,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d={},p=GB(e,"!case_value");"op-plus"===(null==n?void 0:n.type)&&"case_value"===(null===(o=e.settings.caseValueField)||void 0===o?void 0:o.type)?(l="case_value",a=ER(n,r,e,t)):(l=null==p?void 0:p.mainWidget,s=e.widgets[l],(a=mR(n,r,e,t,c))&&"value"===a.valueSrc&&(a.valueType=(null===(u=s)||void 0===u?void 0:u.type)||(null==p?void 0:p.type)||a.valueType));var f=e.widgets[l];if("case_value"===l){var h=null==f?void 0:f.spelImportValue;if(h){var g,v=h.call(e.ctx,a),m=Kt(v,2),y=m[0];if(m[1].map((function(e){return t.errors.push(e)})),null!=y)d={value:[y],valueSrc:["value"],valueType:[null!==(g=null==f?void 0:f.type)&&void 0!==g?g:"case_value"],field:"!case_value"}}}else null!=a&&null!=(null===(i=a)||void 0===i?void 0:i.value)&&(d={value:[a.value],valueSrc:[a.valueSrc],valueType:[a.valueType],field:"!case_value"});return d},TR=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Lq(),children1:b({},e.id,e),properties:{conjunction:VR(t),not:r||!1}}};const qR=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:sF,_loadFromSpel:cR,getTree:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var n=e;return n=n.toJS(),n=BN(n,t,r)}},isImmutableTree:YN,isJsonLogic:Zq,isTree:JN,jsToImmutable:QN,loadFromJsonLogic:function(e,t){return sF(e,t,!1)},loadFromSpel:function(e,t){return cR(e,t,!0)},loadTree:GN},Symbol.toStringTag,{value:"Module"}));function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var LR=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.settings.defaultField,o=(r?PR(e,r):n)||t&&QB(e,r)||null;return null==o||"string"==typeof o||$q(o)||(o=QN(o)),o},PR=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return null;var n=(null==e||null===(t=e.settings)||void 0===t?void 0:t.fieldSeparator)||".",o=GB(e,r),i=null==o?void 0:o.defaultField;return i&&(i=[].concat(pj(HB(r)),[i]).join(n)),i},NR=function(e){var t;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null===(t=e.settings.fieldSources)||void 0===t?void 0:t[0])||"field"},FR=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=GB(e,t),o=(null==n?void 0:n.operators)||[],i=e.settings.defaultOperator;i&&!o.includes(i)&&(i=null);var a=null==n?void 0:n.defaultOperator,l=null==n?void 0:n.ownDefaultOperator,s=r?hV(e,t):null;return l||i||a||s},RR=function(e,t,r){var n=t?YB(e,t,r):null;return n&&n.options?new Iq.Map(n.options&&n.options.defaults||{}):null},MR=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null,u=null,c=null,d=e.settings.showErrorMessage;i?(c=null==i||null===(t=i.properties)||void 0===t?void 0:t.fieldSrc,s=null==i||null===(r=i.properties)||void 0===r?void 0:r.field,u=null==i||null===(n=i.properties)||void 0===n?void 0:n.operator):a?(c=(s=LR(e,l,o))?$q(s)?"func":"field":NR(e),u=FR(e,s,!0)):c=NR(e);var p=new Iq.Map({fieldSrc:c,field:s,operator:u,value:new Iq.List,valueSrc:new Iq.List,operatorOptions:RR(e,u,s)});if(d&&(p=p.set("valueError",new Iq.List)),s&&u){var f=ZD(e,e,p,s,u,"operator",!1),h=f.newValue,g=f.newValueSrc,v=f.newValueType,m=f.newValueError,y=f.newFieldError;p=p.set("value",h).set("valueSrc",g).set("valueType",v),d&&(p=p.set("valueError",m).set("fieldError",y))}return p},DR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(t=GB(e,t))&&t.conjunctions||Object.keys(e.conjunctions);return 1==r.length?r[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||r[0]},VR=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},zR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Iq.Map({conjunction:DR(e,t),not:!1})},BR=function(e,t){var r;return t&&"group"==t.type?zR(e,null==t||null===(r=t.properties)||void 0===r?void 0:r.field):MR(e,null,t)},HR=function(e,t){return b({},e,new Iq.Map({type:"rule",id:e,properties:MR(t)}))},$R=function(e){return Uq(e)?e:new Iq.List(e)};const UR=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:$R,createListWithOneElement:function(e){return Uq(e)?e:$R([e])},defaultConjunction:VR,defaultGroupConjunction:DR,defaultGroupProperties:zR,defaultItemProperties:BR,defaultOperatorOptions:RR,defaultRoot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Iq.Map({type:"group",id:Lq(),children1:new Iq.OrderedMap(t?AR({},HR(Lq(),e)):{}),properties:zR(e)})},defaultRule:HR,defaultRuleProperties:MR,emptyProperties:function(){return new Iq.Map},getDefaultField:LR,getDefaultFieldSrc:NR,getDefaultOperator:FR,getDefaultSubField:PR},Symbol.toStringTag,{value:"Module"}));function WR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return KR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KR(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function KR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GR(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var JR=function(e,t){var r={errors:[],settings:{isForDisplay:arguments.length>2&&void 0!==arguments[2]&&arguments[2],isDebugMode:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}},n=OB(t,void 0,!1),o=QR(e,n,r,null);return r.errors.length&&console.warn("Errors while exporting to string:",r.errors),o},QR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return e.get("children1"),"group"===o||"rule_group"===o?XR(e,t,r,n):"rule"===o?ZR(e,t,r,n):void 0}},XR=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=r.settings,l=a.isForDisplay,s=a.isDebugMode,u=e.get("type"),c=e.get("properties")||new $C,d=c.get("mode"),p=e.get("children1")||new hT,f="rule_group"===u,h=f&&"array"==d?c.get("field"):null,g="rule_group"===u?c.get("operator"):null,v=g?null!==(n=null===(o=t.operators[g])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1:void 0,m=f&&"array"===d&&v>=1,y=c.get("not"),b=p.map((function(e){return QR(e,t,r,h)})).filter((function(e){return void 0!==e}));if(m||b.size||s){var _=c.get("conjunction");_||(_=VR(t));var x,w=t.conjunctions[_],O=b.size?w.formatConj.call(t.ctx,b,_,y,l):null;if(h){var S=ZR(e,t,r,i,!0);if(S){var k,j=S.pop(),E=[O].concat(pj(S));x=(k=t.settings.formatAggr).call.apply(k,[t.ctx].concat(pj(E))),j&&(x=t.settings.formatReverse.call(t.ctx,x,null,null,null,null,l))}}else x=O;return s&&null==x&&(x="?"),x}},ZR=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.get("properties")||new $C,u=s.get("field"),c=s.get("fieldSrc"),d=s.get("operator"),p=s.get("operatorOptions");if(null!=u&&null!=d||l){var f=GB(t,u)||{},h=YB(t,d,u)||{},g=h.reversedOp,v=YB(t,g,u)||{},m=!1,y=h.formatOp;if(!y&&g&&(y=v.formatOp)){m=!0;var b=[g,d];d=b[0],g=b[1];var _=[v,h];h=_[0],v=_[1]}if(l&&!d&&(d="?"),y||(y=function(e,t,r){var n,o=r.settings.isDebugMode,i=(null==t?void 0:t.labelForFormat)||e,a=zq(t);return 0==a?n=function(e,t,r,n,o,a,l,s){return"".concat(e," ").concat(i)}:1==a?n=function(e,t,r,n,a,l,s,u){return o&&"?"===t&&"?"===r?e&&"?"!==e?"".concat(e," ?"):"?":"".concat(e," ").concat(i," ").concat(r)}:2==a&&(n=function(e,t,r,n,o,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(i," ").concat(d," AND ").concat(p)}),n}(d,h,r)),y){var x="func"===c?rM(t,r,u,n):tM(t,r,u,n);if(null!=x){var w=function(e,t,r,n,o){var i=r.settings;i.isForDisplay;var a,l,s=i.isDebugMode,u=t.get("field"),c=t.get("valueSrc"),d=t.get("valueType"),p=GB(e,u)||{},f=n||t.get("operator"),h=YB(e,f,u)||{},g=zq(h),v=t.get("value"),m=t.get("asyncListValues"),y=[],b=[];return null!=v&&!((l=v.map((function(t,n){var i=c?c.get(n):null,a=d?d.get(n):null,l=s?t:AV(t,i,e),g=xV(e,u,f,i),v=JB(e,u,f,g,i,{forExport:!0}),_=eM(e,r,l,i,a,v,p,f,h,o,m);return void 0!==_&&(y.push(i),b.push(a)),_}))).filter((function(e){return void 0===e})).size>0)&&l.size===g&&(a=1==g?l.first():l),s&&!a&&(a=g>1?new hT(Array.from({length:g}).map((function(e,t){var r,n;return null!==(r=null===(n=l)||void 0===n?void 0:n.get(t))&&void 0!==r?r:"?"}))):"?"),[a,y.length>1?y:y[0],b.length>1?b:b[0]]}(t,s,r,d,n),O=Kt(w,3),S=O[0],k=O[1],j=O[2];if(void 0!==S){var E=[x,d,S,k,j,Vq(h,Rq),p,a,f,m];if(o)return E;var C,T=(C=y).call.apply(C,[t.ctx].concat(E));return m&&(T=t.settings.formatReverse.call(t.ctx,T,d,g,h,v,a)),T}}}}},eM=function(e,t,r,n,o,i,a,l,s){var u,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10?arguments[10]:void 0,p=t.settings,f=p.isForDisplay,h=p.isDebugMode;if(void 0===r)return h?"array"===(null==i?void 0:i.jsType)?[]:"?":void 0;if("field"==n)u=tM(e,t,r,c);else if("func"==n)u=rM(e,t,r,c);else if("function"==typeof(null==i?void 0:i.formatValue)){var g=i.formatValue,v=[r,YR(YR({},XA(a,["fieldSettings","listValues"])),{},{asyncListValues:d}),Vq(i,Fq),f];if(l&&(v.push(l),v.push(s)),"field"==n){var m=GB(e,r)||{};v.push(m)}u=g.call.apply(g,[e.ctx].concat(v))}else u=r;return u},tM=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t.settings,a=i.isForDisplay,l=i.isDebugMode,s=e.settings;s.fieldSeparator;var u=s.fieldSeparatorDisplay,c=null;if(r){var d=GB(e,r)||{},p=HB(r,e),f=vV(r,e,o?n:null),h=f?f.join(u):null,g=d.label2||h;c=(0,e.settings.formatField)(wV(r,e,t,o?n:null,{useTableName:!0}),p,g,d,e,a)}else l&&(c="?");return c},rM=function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.settings,s=l.isForDisplay,u=l.isDebugMode,c=null==r||null===(n=r.get)||void 0===n?void 0:n.call(r,"func");if(!c)return u?"?()":void 0;var d=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),p=DB(e,c);if(p||u){var f,h=HB(c,e),g=h[h.length-1],v=s&&(null==p?void 0:p.label)||g,m={},y=[],b=[],_={},x=WR(p?Object.keys(p.args||{}):(null==d||null===(i=d.keySeq)||void 0===i?void 0:i.call(d).toArray())||[]);try{for(x.s();!(f=x.n()).done;){var w,O=f.value,S=null==p?void 0:p.args[O],k=GB(e,S),j=S||{},E=j.defaultValue,C=j.isOptional,T=null!=E&&E.func?"func":"value",q=s&&(null==S?void 0:S.label)||O,I=d?d.get(O):void 0,A=I?I.get("value"):void 0,L=I?I.get("valueSrc"):void 0;"func"!==L&&null!==(w=A)&&void 0!==w&&w.toJS&&(A=A.toJS());var P=I?I.get("asyncListValues"):void 0,N=eM(e,t,A,L,null==S?void 0:S.type,k,S,null,null,a,P);null!=A&&void 0===N&&"func"!=L&&t.errors.push("Can't format value of arg ".concat(O," for func ").concat(c));var F=void 0;if(void 0===N&&!C&&null!=E&&void 0===(F=eM(e,t,E,T,null==S?void 0:S.type,k,S,null,null,a,P)))return void("func"!=T&&t.errors.push("Can't format default value of arg ".concat(O," for func ").concat(c)));var R=null!=N?N:F;if(void 0!==R){if(y.length){var M,D=WR(O);try{for(D.s();!(M=D.n()).done;){var V=Kt(M.value,2),z=V[0];V[1];m[z]=void 0}}catch(W){D.e(W)}finally{D.f()}y=[]}m[O]=R,_[q]=R}else C||b.push(O),y.push([O,q])}}catch(W){x.e(W)}finally{x.f()}if(!b.length||u){var B=null;if("function"==typeof(null==p?void 0:p.formatFunc)){var H=p.formatFunc,$=[m,s];B=H.call.apply(H,[e.ctx].concat($))}else{var U=Object.entries(s?_:m).map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return s?"".concat(r,": ").concat(n):"".concat(n)})).join(", ");B="".concat(v,"(").concat(U,")")}return B}}else t.errors.push("Func ".concat(c," is not defined in config"))},nM="EMPTY_GROUP",oM="EMPTY_RULE_GROUP",iM="EMPTY_QUERY",aM="EMPTY_CASE",lM="NO_CONFIG_FOR_FIELD",sM="NO_CONFIG_FOR_OPERATOR",uM="NO_CONFIG_FOR_FUNCTION",cM="INVALID_VALUE",dM="INVALID_FUNC_ARG_VALUE",pM="UNSUPPORTED_FIELD_TYPE",fM="UNSUPPORTED_OPERATOR_FOR_FIELD",hM="INVALID_VALUE_SRC",gM="INCOMPLETE_RULE",vM="INCOMPLETE_LHS",mM="INCOMPLETE_RHS",yM="BAD_MULTISELECT_VALUES",bM="BAD_SELECT_VALUE",_M="INCORRECT_VALUE_TYPE",xM="INCORRECT_VALUE_JS_TYPE",wM="VALUE_LENGTH_CONSTRAINT_FAIL",OM="VALUE_MIN_CONSTRAINT_FAIL",SM="VALUE_MAX_CONSTRAINT_FAIL",kM="NO_CONFIG_FOR_FIELD_VALUE",jM="CANT_COMPARE_FIELD_WITH_ITSELF",EM="CANT_COMPARE_FIELD_WITH_FIELD",CM="INCORRECT_FIELD_TYPE",TM="UNSUPPORTED_FUNCTION_FOR_FIELD",qM="REQUIRED_FUNCTION_ARG",IM="INCORRECT_FUNCTION_RETURN_TYPE",AM="INVALID_RANGE",LM="ITEM_POSITION",PM="ITEM_POSITION_ROOT",NM="ITEM_POSITION_WITH_INDEX_PATH",FM="ITEM_POSITION_IN_CASE",RM="range";const MM=e=>"string"==typeof e,DM=()=>{let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r},VM=e=>null==e?"":""+e,zM=/###/g,BM=e=>e&&e.indexOf("###")>-1?e.replace(zM,"."):e,HM=e=>!e||MM(e),$M=(e,t,r)=>{const n=MM(t)?t.split("."):t;let o=0;for(;o<n.length-1;){if(HM(e))return{};const t=BM(n[o]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return HM(e)?{}:{obj:e,k:BM(n[o])}},UM=(e,t,r)=>{const n=$M(e,t,Object),o=n.obj,i=n.k;if(void 0!==o||1===t.length)return void(o[i]=r);let a=t[t.length-1],l=t.slice(0,t.length-1),s=$M(e,l,Object);for(;void 0===s.obj&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),s=$M(e,l,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${a}`]&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=r},WM=(e,t)=>{const r=$M(e,t),n=r.obj,o=r.k;if(n)return n[o]},KM=(e,t,r)=>{for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?MM(e[n])||e[n]instanceof String||MM(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):KM(e[n],t[n],r):e[n]=t[n]);return e},GM=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var YM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JM=e=>MM(e)?e.replace(/[&<>"'\/]/g,(e=>YM[e])):e;const QM=[" ",",","?","!",";"],XM=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),ZM=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let o=e;for(let i=0;i<n.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let a=i;a<n.length;++a)if(a!==i&&(t+=r),t+=n[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<n.length-1)continue;i+=a-i+1;break}o=e}return o},eD=e=>e&&e.replace("_","-"),tD={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class rD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||tD,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(MM(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new rD(this.logger,p(p({},{prefix:`${this.prefix}:${e}:`}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new rD(this.logger,e)}}var nD=new rD;class oD{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let t=h(e,2),n=t[0],o=t[1];for(let i=0;i<o;i++)n(...r)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let n=h(t,2),o=n[0],i=n[1];for(let a=0;a<i;a++)o.apply(o,[e,...r])}))}}}class iD extends oD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):MM(r)&&o?a.push(...r.split(o)):a.push(r)));const l=WM(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),!l&&i&&MM(r)?ZM(this.data&&this.data[e]&&this.data[e][t],r,o):l}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),UM(this.data,a,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in r)(MM(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let l=WM(this.data,a)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?KM(l,r,o):l=p(p({},l),r),UM(this.data,a,l),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?p(p({},{}),this.getResource(e,t)):this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var aD={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,r,n,o))})),t}};const lD={};class sD extends oD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach((e=>{t[e]&&(r[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=nD.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const n=QM.filter((e=>t.indexOf(e)<0&&r.indexOf(e)<0));if(0===n.length)return!0;const o=XM.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,r,n));if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(n)}return MM(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t=p({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=this.extractFromKey(e[e.length-1],t),a=i.key,l=i.namespaces,s=l[l.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${s}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let f=d&&d.res;const h=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,v=Object.prototype.toString.apply(f),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!MM(f)&&"boolean"!=typeof f&&"number"!=typeof f;if(!(y&&f&&b&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0)||MM(m)&&Array.isArray(f))if(y&&MM(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,e,t,r));else{let n=!1,i=!1;const l=void 0!==t.count&&!MM(t.count),c=sD.hasDefaultValue(t),h=l?this.pluralResolver.getSuffix(u,t.count,t):"",g=t.ordinal&&l?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",v=l&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=v&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(f)&&c&&(n=!0,f=m),this.isValidLookup(f)||(i=!0,f=a);const y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:f,b=c&&m!==f&&this.options.updateMissing;if(i||n||b){if(this.logger.log(b?"updateKey":"missingKey",u,s,a,b?m:f),o){const e=this.resolve(a,p(p({},t),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const n=(e,r,n)=>{const o=c&&n!==f?n:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,r,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,r,o,b,t),this.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach((e=>{const r=this.pluralResolver.getSuffixes(e,t);v&&t[`defaultValue${this.options.pluralSeparator}zero`]&&r.indexOf(`${this.options.pluralSeparator}zero`)<0&&r.push(`${this.options.pluralSeparator}zero`),r.forEach((r=>{n([e],a+r,t[`defaultValue${r}`]||m)}))})):n(e,a,m))}f=this.extendTranslation(f,e,t,d,r),i&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${s}:${a}`),(i||n)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,n?f:void 0):this.options.parseMissingKeyHandler(f))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,p(p({},t),{},{ns:l})):`key '${a} (${this.language})' returned an object instead of string.`;return n?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e=Array.isArray(f),r=e?[]:{},n=e?g:h;for(const i in f)if(Object.prototype.hasOwnProperty.call(f,i)){const e=`${n}${o}${i}`;r[i]=this.translate(e,p(p({},t),{joinArrays:!1,ns:l})),r[i]===e&&(r[i]=f[i])}f=r}}return n?(d.res=f,d.usedParams=this.getUsedParamsDetails(t),d):f}extendTranslation(e,t,r,n,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,p(p({},this.options.interpolation.defaultVariables),r),r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(p(p({},r),{interpolation:p(p({},this.options.interpolation),r.interpolation)}));const a=MM(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let s=r.replace&&!MM(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(s=p(p({},this.options.interpolation.defaultVariables),s)),e=this.interpolator.interpolate(e,s,r.lng||this.language||n.usedLng,r),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return o&&o[0]===n[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):i.translate(...n,t)}),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=MM(a)?[a]:a;return null!=e&&l&&l.length&&!1!==r.applyPostProcessor&&(e=aD.handle(l,e,t,this.options&&this.options.postProcessPassResolved?p({i18nResolved:p(p({},n),{},{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let t,r,n,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return MM(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const l=this.extractFromKey(e,a),s=l.key;r=s;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==a.count&&!MM(a.count),d=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&(MM(a.context)||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(i=e,!lD[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(lD[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${f.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((r=>{if(this.isValidLookup(t))return;o=r;const i=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,s,r,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(r,a.count,a));const t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(s+e),a.ordinal&&0===e.indexOf(n)&&i.push(s+e.replace(n,this.options.pluralSeparator)),d&&i.push(s+t)),p){const r=`${s}${this.options.contextSeparator}${a.context}`;i.push(r),c&&(i.push(r+e),a.ordinal&&0===e.indexOf(n)&&i.push(r+e.replace(n,this.options.pluralSeparator)),d&&i.push(r+t))}}let l;for(;l=i.pop();)this.isValidLookup(t)||(n=l,t=this.getResource(r,e,l,a))})))}))})),{res:t,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!MM(e.replace);let n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=p(p({},this.options.interpolation.defaultVariables),n)),!r){n=p({},n);var o,i=l(t);try{for(i.s();!(o=i.n()).done;){delete n[o.value]}}catch(a){i.e(a)}finally{i.f()}}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}const uD=e=>e.charAt(0).toUpperCase()+e.slice(1);class cD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=nD.create("languageUtils")}getScriptPartFromCode(e){if(!(e=eD(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=eD(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(MM(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(_n){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=uD(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=uD(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=uD(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),MM(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],o=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return MM(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):MM(e)&&o(this.formatLanguageCode(e)),r.forEach((e=>{n.indexOf(e)<0&&o(this.formatLanguageCode(e))})),n}}let dD=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pD={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const fD=["v1","v2","v3"],hD=["v4"],gD={zero:0,one:1,two:2,few:3,many:4,other:5};class vD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=nD.create("pluralResolver"),this.options.compatibilityJSON&&!hD.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return dD.forEach((t=>{t.lngs.forEach((r=>{e[r]={numbers:t.nr,plurals:pD[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=eD("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const i=new Intl.PluralRules(r,{type:n});return this.pluralRulesCache[o]=i,i}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(((e,t)=>gD[e]-gD[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):r.numbers.map((r=>this.getSuffix(e,r,t))):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const o=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!fD.includes(this.options.compatibilityJSON)}}const mD=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,r)=>{const n=WM(e,r);return void 0!==n?n:WM(t,r)})(e,t,r);return!i&&o&&MM(r)&&(i=ZM(e,r,n),void 0===i&&(i=ZM(t,r,n))),i},yD=e=>e.replace(/\$/g,"$$$$");class bD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=nD.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation,r=t.escape,n=t.escapeValue,o=t.useRawValueToEscape,i=t.prefix,a=t.prefixEscaped,l=t.suffix,s=t.suffixEscaped,u=t.formatSeparator,c=t.unescapeSuffix,d=t.unescapePrefix,p=t.nestingPrefix,f=t.nestingPrefixEscaped,h=t.nestingSuffix,g=t.nestingSuffixEscaped,v=t.nestingOptionsSeparator,m=t.maxReplaces,y=t.alwaysFormat;this.escape=void 0!==r?r:JM,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==o&&o,this.prefix=i?GM(i):a||"{{",this.suffix=l?GM(l):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=p?GM(p):f||GM("$t("),this.nestingSuffix=h?GM(h):g||GM(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let o,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=e=>{if(e.indexOf(this.formatSeparator)<0){const o=mD(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,r,p(p(p({},n),t),{},{interpolationkey:e})):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(mD(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,p(p(p({},n),t),{},{interpolationkey:i}))};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>yD(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?yD(this.escape(e)):yD(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const r=o[1].trim();if(i=s(r),void 0===i)if("function"==typeof u){const t=u(e,o,n);i=MM(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))i="";else{if(c){i=o[0];continue}this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),i=""}else MM(i)||this.useRawValueToEscape||(i=VM(i));const l=t.safeValue(i);if(e=e.replace(o[0],l),c?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let i=`{${n[1]}`;e=n[0],i=this.interpolate(i,o);const a=i.match(/'/g),l=i.match(/"/g);(a&&a.length%2==0&&!l||l.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o=p(p({},t),o))}catch(_n){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,_n),`${e}${r}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let l=[];o=p({},i),o=o.replace&&!MM(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let s=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map((e=>e.trim()));r[1]=e.shift(),l=e,s=!0}if(n=t(a.call(this,r[1].trim(),o),o),n&&r[0]===e&&!MM(n))return n;MM(n)||(n=VM(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),s&&(n=l.reduce(((e,t)=>this.format(e,t,i.lng,p(p({},i),{},{interpolationkey:r[1].trim()}))),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}const _D=e=>{const t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=p(p({},i),{},{[o.interpolationkey]:void 0}));const a=n+JSON.stringify(i);let l=t[a];return l||(l=e(eD(n),o),t[a]=l),l(r)}};class xD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=nD.create("formatter"),this.options=e,this.formats={number:_D(((e,t)=>r=>new Intl.NumberFormat(e,p({},t)).format(r))),currency:_D(((e,t)=>r=>new Intl.NumberFormat(e,p(p({},t),{},{style:"currency"})).format(r))),datetime:_D(((e,t)=>r=>new Intl.DateTimeFormat(e,p({},t)).format(r))),relativetime:_D(((e,t)=>r=>new Intl.RelativeTimeFormat(e,p({},t)).format(r,t.range||"day"))),list:_D(((e,t)=>r=>new Intl.ListFormat(e,p({},t)).format(r)))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=_D(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}const i=o.reduce(((e,t)=>{const o=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach((e=>{if(e){const t=a(e.split(":")),n=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,""),i=n.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}}))}return{formatName:t,formatOptions:r}})(t),i=o.formatName,l=o.formatOptions;if(this.formats[i]){let t=e;try{const o=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},a=o.locale||o.lng||n.locale||n.lng||r;t=this.formats[i](e,a,p(p(p({},l),n),o))}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return i}}class wD extends oD{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=nD.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,t,r,n){const o={},i={},a={},l={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,n=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===l[t]&&(l[t]=!0)))})),n||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach((r=>{((e,t,r,n)=>{const o=$M(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],i[a].push(r)})(r.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((e=>{a[e]||(a[e]={});const t=r.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;const a=(a,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&l&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,r,n+1,2*o,i)}),o):i(a,l)},l=this.backend[r].bind(this.backend);if(2!==l.length)return l(e,t,a);try{const r=l(e,t);r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(s){a(s)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();MM(e)&&(e=this.languageUtils.toResolveHierarchy(e)),MM(t)&&(t=[t]);const o=this.queueLoad(e,t,r,n);if(!o.toLoad.length)return o.pending.length||n(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,((r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)}))}saveMissing(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){const s=p(p({},i),{},{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let o;o=5===u.length?u(e,t,r,n,s):u(e,t,r,n),o&&"function"==typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(l){a(l)}else u(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}const OD=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),MM(e[1])&&(t.defaultValue=e[1]),MM(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach((e=>{t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),SD=e=>(MM(e.ns)&&(e.ns=[e.ns]),MM(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),MM(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),kD=()=>{};class jD extends oD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=SD(e),this.services={},this.logger=nD,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(MM(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=OD();this.options=p(p(p({},n),this.options),SD(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=p(p({},n.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?nD.init(o(this.modules.logger),this.options):nD.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=xD);const r=new cD(this.options);this.store=new iD(this.options.resources,this.options);const i=this.services;i.logger=nD,i.resourceStore=this.store,i.languageUtils=r,i.pluralResolver=new vD(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new bD(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new wD(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new sD(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,r||(r=kD),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=DM(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kD;const r=MM(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],n=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(r)n(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>n(e)))}this.options.preload&&this.options.preload.forEach((e=>n(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,r){const n=DM();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=kD),this.services.backendConnector.reload(e,t,(e=>{n.resolve(),r(e)})),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&aD.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const n=DM();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve((function(){return r.t(...arguments)})),t&&t(e,(function(){return r.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const r=MM(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||o(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,(e=>{i(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;const o=function(e,t){let i;if("object"!=typeof t){for(var a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];i=n.options.overloadTranslationOptionHandler([e,t].concat(l))}else i=p({},t);i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||r||o.keyPrefix);const u=n.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${u}${e}`)):i.keyPrefix?`${i.keyPrefix}${u}${e}`:e,n.t(c,i)};return MM(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const i=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||n&&!i(o,e)))}loadNamespaces(e,t){const r=DM();return this.options.ns?(MM(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=DM();MM(e)&&(e=[e]);const n=this.options.preload||[],o=e.filter((e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=n.concat(o),this.loadResources((e=>{r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new cD(OD());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new jD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kD;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n=p(p(p({},this.options),e),{isClone:!0}),o=new jD(n);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));return["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services=p({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new iD(this.store.data,n),o.services.resourceStore=o.store),o.translator=new sD(o.services,n),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)})),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ED=jD.createInstance();var CD;ED.createInstance=jD.createInstance,ED.createInstance,ED.dir,ED.init,ED.loadResources,ED.reloadResources,ED.use,ED.changeLanguage,ED.getFixedT,ED.t,ED.exists,ED.setDefaultNamespace,ED.hasLoadedNamespace,ED.loadNamespaces,ED.loadLanguages;var TD=(b(b(b(b(b(b(b(b(b(b(CD={},nM,"Empty group"),oM,"No conditions for group field {{field}}"),iM,"Empty query"),aM,"Empty case"),lM,"No config for field {{field}}"),"FIXED_OPERATOR","Fixed operator {{from}} to {{to}} for field {{field}}"),sM,"No config for operator {{operator}}"),uM,"No config for function {{funcKey}}"),cM,"Invalid value"),dM,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),b(b(b(b(b(b(b(b(b(b(CD,pM,"Type of field {{field}} is not supported"),fM,"Operator {{operator}} is not supported for field {{field}}"),gM,"Incomplete rule"),vM,"Incomplete LHS"),mM,"Incomplete RHS"),hM,"Invalid value src {{valueSrcs, list}}"),yM+"_one","Value {{badValues, list}} is not in the list of allowed values"),yM+"_other","Values {{badValues, list}} are not in the list of allowed values"),bM,"Value {{value}} is not in the list of allowed values"),_M,"Value should have type {{wType}}, but got value of type {{valueType}}"),b(b(b(b(b(b(b(b(b(b(CD,xM,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),wM,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),OM,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),OM+"_"+RM,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),SM,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),SM+"_"+RM,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),kM,"No config for field {{field}}"),jM,"Can't compare field {{field}} with itself"),EM,"Can't compare field {{leftField}} with {{rightField}}"),CM,"Field {{field}} is of type {{type}}, but expected {{expected}}"),b(b(b(b(b(b(b(b(b(b(CD,TM,"Unsupported function {{funcKey}} for field {{field}}"),qM,"Value of arg {{argName}} for func {{funcName}} is required"),IM,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),AM,"Invalid range"),PM,"Root"),LM+"__rule","Leaf #{{globalLeafNo}}"),LM+"__group","Group #{{globalGroupNo}}"),LM+"__rule_group","Rule-group #{{globalNoByType}}"),LM+"__case_group","Case #{{globalNoByType}}"),LM+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),b(b(b(b(b(CD,LM+"__group__deleted","Deleted group #{{globalGroupNo}}"),LM+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),LM+"__case_group__deleted","Deleted case #{{globalNoByType}}"),FM,"{{str}} in case #{{caseNo}}"),NM,"{{str}} (index path: {{indexPath, list}})")),qD="raqbvalidation",ID="".concat(qD,":"),AD=ED.createInstance();AD.init({fallbackLng:"en"}),AD.addResources("en",qD,TD);var LD=function e(t,r){return null!=t&&t.str?t.str:null!=t&&t.key?e(t.key,t.args):null===r?t:AD.t(t.includes(":")?t:ID+t,r)};function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ND(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var FD=function(e){return"object"===_(e)&&null!==e&&Array.isArray(e)?"array":_(e)},RD=function(e,t){return 0===MD(e,t).length},MD=function(e,t){var r=t.settings.showErrorMessage,n=[];return e&&function e(t,o,i){var a,l,s=t.get("id"),u=t.get("children1"),c=t.getIn(["properties","valueError"]),d=t.getIn(["properties","fieldError"]),p=t.getIn(["properties","field"]),f=null!==(a=null==p||null===(l=p.get)||void 0===l?void 0:l.call(p,"func"))&&void 0!==a?a:p;((null==c?void 0:c.size)>0&&c.filter((function(e){return null!=e})).size>0||!!d)&&r&&n.push(f),u&&u.map((function(t,r){t&&e(t,o.concat(s))}))}(e,[]),Array.from(new Set(n))},DD=function(e,t){var r=OB(t,void 0,!0),n={removeEmptyGroups:t.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:t.settings.removeIncompleteRulesOnLoad,removeEmptyRules:t.settings.removeEmptyRulesOnLoad,forceFix:!1},o=HD(e,null,r,r,n),i=o.fixedTree,a=o.allErrors;return o.isSanitized&&a.length&&console.warn("Tree check errors: ",a),i},VD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=OB(t,void 0,!0),o=ND(ND({},r),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1});return HD(e,null,n,n,o).allErrors},zD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=OB(t,void 0,!0),o=ND({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},r),i=HD(e,null,n,n,o);return{fixedTree:i.fixedTree,fixedErrors:i.fixedErrors,nonFixedErrors:i.nonFixedErrors,allErrors:i.allErrors}},BD=function(e,t,r,n,o,i,a){void 0===o&&(o=r.settings.removeEmptyGroupsOnLoad),void 0===i&&(i=r.settings.removeEmptyRulesOnLoad),void 0===a&&(a=r.settings.removeIncompleteRulesOnLoad);var l=HD(e,t,r,n,{removeEmptyGroups:o,removeEmptyRules:i,removeIncompleteRules:a,forceFix:!1}),s=l.fixedTree;l.allErrors;var u=l.fixedErrors;return l.nonFixedErrors,l.isSanitized&&u.length&&console.warn("Fixed tree errors: ",u),s=MN(s)},HD=function(e,t,r,n,o){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var i,a,l=o||{},s=l.removeEmptyGroups,u=l.removeEmptyRules,c=l.removeIncompleteRules,d=l.forceFix,p=l.translateErrors,f=void 0===p||p,h=l.includeStringifiedItems,g=void 0===h||h,v=l.stringifyFixedItems,m=void 0!==v&&v,y=l.stringifyItemsUserFriendly,b=void 0===y||y,_=l.includeItemsPositions,x=void 0===_||_,w={errors:{}},O=WD(e,[],null,w,{config:r,oldConfig:n,removeEmptyGroups:s,removeEmptyRules:u,removeIncompleteRules:c,forceFix:d}),S=w.sanitized,k=[];for(var j in x&&(i=VN(O).items),w.errors){var E=w.errors[j],C=E.path,T=E.errors;f&&(T=T.map((function(e){return ND(ND({},e),{},{str:LD(e)})})));var q={path:C,errors:T};if(g){var I=FN(m?O:e,C);if(!(1===C.length)&&"group"!==I.get("type")){var A=JR(I,r,b,!0);q.itemStr=A}}if(x){var L=i[j],P=!L;if(P&&(a||(a=VN(e).items),L=a[j]),L){var N=ND(ND({},L.position),{},{index:L.index,type:L.type,isDeleted:P});q.itemPosition=N;var F=L.index?LM+"__"+L.type+(P?"__deleted":""):PM,R=ND({},N);if(b){for(var M,D=0,V=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];D<V.length;D++){var z=V[D];null!=R[z]&&(R[z]=R[z]+1)}R.indexPath=null===(M=N.indexPath)||void 0===M?void 0:M.map((function(e){return e+1}))}q.itemPositionStr=LD(F,R),L.index&&(L.caseId&&"case_group"!==L.type&&(q.itemPositionStr=LD(FM,ND(ND({},R),{},{str:q.itemPositionStr}))),"case_group"!==L.type&&(q.itemPositionStr=LD(NM,ND(ND({},R),{},{str:q.itemPositionStr}))))}}k.push(q)}for(var B=[],H=[],$=0,U=k;$<U.length;$++){var W=U[$],K=W.errors.filter((function(e){return!!e.fixed})),G=W.errors.filter((function(e){return!e.fixed&&"EMPTY_QUERY"!==e.key}));K.length&&B.push(ND(ND({},W),{},{errors:K})),G.length&&H.push(ND(ND({},W),{},{errors:G}))}return{fixedTree:O,allErrors:k,fixedErrors:B,nonFixedErrors:H,isSanitized:S}};function $D(e,t,r,n){var o=t.get("id");e.errors[o]||(e.errors[o]={path:[].concat(pj(r),[o]),errors:[]}),e.errors[o].errors.push(n)}function UD(e,t){var r=t.get("id");e.errors[r]&&e.errors[r].errors.map((function(e){e.fixed=!0}))}function WD(e,t,r,n,o){var i=null==e?void 0:e.get("type");return"group"===i||"rule_group"===i||"case_group"==i||"switch_group"==i?function(e,t,r,n,o){var i,a,l,s,u,c,d=o.removeEmptyGroups,p=o.removeIncompleteRules;o.forceFix;var f=o.config;f.settings.showErrorMessage;var h=e.get("id"),g=e.get("children1"),v=!t.length,m=g,y=e.get("type"),b=e.get("properties"),_=null==b?void 0:b.get("field"),x=null==b?void 0:b.get("mode"),w=null==b||null===(i=b.get)||void 0===i?void 0:i.call(b,"operator"),O="rule_group"===y&&"array"===x,S="case_group"===y,k=S&&null==g,j=w?null!==(a=null===(l=f.operators[w])||void 0===l?void 0:l.cardinality)&&void 0!==a?a:1:void 0,E=S?!k:O?0==j:d,C=O||S;!h&&r&&(h=r,e=e.set("id",h),n.sanitized=!0);C&&(e=KD(e,t,r,n,o));var T={errors:{}};g=null===(s=g)||void 0===s?void 0:s.map((function(e,r){return WD(e,t.concat(h),r,T,o)}));var q=null===(u=g)||void 0===u?void 0:u.filter((function(e){return null!=e}));d&&(g=q);var I=T.sanitized||(null==m?void 0:m.size)!=(null===(c=g)||void 0===c?void 0:c.size),A=!(null!=q&&q.size),L=d&&!v;O&&_&&(L=p);A&&E&&($D(n,e,t,{key:v?iM:S?aM:O?oM:nM,args:{field:_},fixed:L}),L&&(UD(n,e),e=void 0));I&&(n.sanitized=!0);I&&e&&(e=e.set("children1",g));return n.errors=ND(ND({},n.errors),(null==T?void 0:T.errors)||{}),e}(e,t,r,n,o):"rule"===i?KD(e,t,r,n,o):e}function KD(e,t,r,n,o){var i=o.removeIncompleteRules,a=o.removeEmptyRules,l=o.forceFix,s=o.config,u=o.oldConfig,c=s.settings.showErrorMessage,d=!c||l,p=e.get("id"),f="case_group"===e.get("type"),h=e.get("properties");if(!h){if(!f)return void $D(n,e,t,{key:gM,args:{},fixed:i||a});h=new Iq.Map}var g=h.get("field")||null;f&&(g="!case_value");var v=h.get("fieldSrc")||null,m=h.get("operator")||null,y=h.get("operatorOptions"),b=h.get("valueSrc"),_=h.get("value"),x=h.get("valueError"),w=h.get("fieldError"),O=function(){var e,t;return{field:(null===(e=g)||void 0===e||null===(t=e.toJS)||void 0===t?void 0:t.call(e))||g,fieldSrc:v,operator:m,operatorOptions:y?y.toJS():{},valueSrc:b?b.toJS():null,value:_?_.toJS():null,valueError:x?x.toJS():null,fieldError:w||null}},S=O();!p&&r&&(p=r,e=e.set("id",p),n.sanitized=!0);var k=g?GB(s,g):null;g&&!k&&($D(n,e,t,{key:lM,args:{field:g},side:"lhs",fixed:i||a}),g=null),null!=g||f||(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce((function(e,t){return e.delete(t)}),h),m=null),v||!g||f||(v=KB(g),h=h.set("fieldSrc",v)),"range_between"!==m&&"range_not_between"!==m||(m="range_between"===m?"between":"not_between",h=h.set("operator",m));var j=m?YB(s,m,g):null;m&&!j&&($D(n,e,t,{key:sM,args:{operator:m},side:"op",fixed:i||a}),m=null);var E=g?fV(s,g):[];g&&!f&&(null!=E&&E.length?m&&-1==E.indexOf(m)&&("is_empty"===m||"is_not_empty"===m?(m="is_empty"===m?"is_null":"is_not_null",h=h.set("operator",m)):($D(n,e,t,{key:fM,args:{operator:m,field:g},side:"lhs",fixed:i||a}),m=null)):($D(n,e,t,{key:pM,args:{field:g},side:"lhs",fixed:i||a}),m=null)),null!=m||f||(h=["operatorOptions","valueSrc","value","valueError"].reduce((function(e,t){return e.delete(t)}),h)),y=h.get("operatorOptions"),!m||y&&!j.options?(y=null,h=h.delete("operatorOptions")):m&&!y&&j.options&&(y=RR(s,m,g),h=h.set("operatorOptions",y)),b=h.get("valueSrc"),_=h.get("value");var C=ZD(s,u,h,g,m,null,d,!0),T=C.newValue,q=C.newValueSrc,I=C.newValueError,A=C.validationErrors,L=C.newFieldError,P=C.fixedField;_=T,b=q,x=I,w=L,g=P,h=(h=(h=h.set("field",g)).set("value",_)).set("valueSrc",b),h=c?h.set("valueError",x).set("fieldError",w):h.delete("valueError").delete("fieldError");var N=O(),F=!Bq(S,N),R=qV(h.toObject(),s),M=f?R.parts.value:R.score>=3;if(F&&(n.sanitized=!0,e=e.set("properties",h)),null==A||A.map((function(r){return $D(n,e,t,r)})),!M)if(f);else{var D=R.score?i:a,V={key:gM,args:{}};if(R.parts.field){if(!R.parts.value){var z,B,H,$;V.key=mM,V.side="rhs",null!==(z=N.valueSrc)&&void 0!==z&&z[0]&&(null===(B=N.valueSrc)||void 0===B?void 0:B[0])!=(null===(H=S.valueSrc)||void 0===H?void 0:H[0])&&null!=(null===($=N.value)||void 0===$?void 0:$[0])&&(V.key=hM,V.args={valueSrcs:N.valueSrc})}}else V.key=vM,V.side="lhs";V.fixed=D,$D(n,e,t,V),D&&(UD(n,e),e=void 0)}return e}var GD=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=arguments.length>10&&void 0!==arguments[10]&&arguments[10],d=[],p=o;if(null!=o){var f,h,g,v;if("field"===a){var m=JD(t,r,o,a,i,l,e,n,s,u),y=Kt(m,2);p=y[0],d=y[1]}else if("func"===a){var b=QD(t,r,o,a,i,l,e,n,s,u,c),x=Kt(b,2);p=x[0],d=x[1]}else if("value"===a||!a){var w=YD(r,o,a,i,l,e,n,s,u),O=Kt(w,2);p=O[0],d=O[1]}var S=!(null!==(f=d)&&void 0!==f&&f.find((function(e){return!e.fixed})));if(!!r&&!["field","func"].includes(a)&&(!(null!==(h=d)&&void 0!==h&&h.length)||S)){var k=xV(e,r,n,a),j=n?YB(e,n,r):null,E=JB(e,r,n,k,a,{forExport:!0}),C="field"===a?GB(e,o):null,T=E,q=E.validateValue;if("function"==typeof q){var I=[p,T,n,j];"field"===a&&I.push(C);var A,L,P=q.call.apply(q,[e.ctx].concat(I));if("object"!==_(P)||null===P||Array.isArray(P))"boolean"==typeof P?0==P&&d.push({key:cM,args:{}}):"string"==typeof P&&d.push({key:P,args:null});else L=null!==(A=P.error)&&void 0!==A&&A.key?ND({},P.error):{key:P.error,args:null},void 0!==P.fixedValue&&s&&(L.fixed=!0,L.fixedFrom=p,L.fixedTo=P.fixedValue,p=P.fixedValue),d.push(L)}}if(S=!(null!==(g=d)&&void 0!==g&&g.find((function(e){return!e.fixed}))),null!==(v=d)&&void 0!==v&&v.length&&!S&&s){var N=GB(e,r),F=null==N?void 0:N.fieldSettings,R=null==F?void 0:F.defaultValue;if(void 0!==R){var M=d[d.length-1];M.fixed=!0,M.fixedFrom=p,M.fixedTo=R,p=R,d.map((function(e){e.fixed=!0}))}}}return[p,d]},YD=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=[],u=t;if(e){var c=GB(i,e),d=xV(i,e,a,r),p=i.widgets[d],f=null==p?void 0:p.type,h=null==p?void 0:p.jsType,g=null==c?void 0:c.fieldSettings,v=(null==g?void 0:g.treeValues)||(null==g?void 0:g.listValues),m=!(null==g||!g.asyncFetch),y=v||m;if(n&&f&&n!=f)return s.push({key:_M,args:{wType:f,valueType:n}}),[t,s];if(h&&!function(e,t){return FD(e)===t||"number"===t&&!isNaN(e)}(t,h)&&!y)return s.push({key:xM,args:{jsType:h,valueTypeof:FD(t)}}),[t,s];if(g){var b=o||v;if(b&&!g.allowCustomValues&&"case_value"!==d){var _=function(e,t,r,n,o){var i=Iq.List.isList(e)?e.toJS():e instanceof Array?pj(e):void 0,a=e,l=[];if(i){var s=i.reduce((function(e,r){var n=Kt(e,2),o=n[0],i=n[1],a=TN(t,r);return null==a?[o,[].concat(pj(i),[r])]:[[].concat(pj(o),[a.value]),i]}),[[],[]]),u=Kt(s,2),c=u[0],d=u[1],p=d.length>0;if(a=(r=r||!0===o)&&p?c:e,d.length){var f=r&&p;l.push({key:yM,args:{badValues:d,count:d.length},fixed:f,fixedFrom:f?i:void 0,fixedTo:f?a:void 0})}return[a,l]}var h=TN(t,e);return null==h?(a=r?null:e,l.push({key:bM,args:{value:e},fixed:r,fixedFrom:r?e:void 0,fixedTo:r?a:void 0})):a=h.value,[a,l]}(t,b,l,0,i.settings.removeInvalidMultiSelectValuesOnLoad),x=Kt(_,2);u=x[0],s=x[1]}g.maxLength>0&&null!=t&&String(t).length>g.maxLength&&(u=l?String(t).substring(0,g.maxLength):t,s.push({key:wM,args:{value:t,length:String(t).length,fieldSettings:g},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}));var w=null!=g.min&&null!=g.max?RM:void 0;null!=g.min&&t<g.min&&(u=l?g.min:t,s.push({key:OM,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0})),null!=g.max&&t>g.max&&(u=l?g.max:t,s.push({key:SM,args:{value:t,fieldSettings:g,context:w},fixed:l,fixedFrom:l?t:void 0,fixedTo:l?u:void 0}))}}return[u,s]},JD=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=[],u=a.settings,c=u.fieldSeparator,d=u.canCompareFieldWithField,p="object"==_(t)&&(null==t?void 0:t._isFuncArg),f=Array.isArray(e)?e.join(c):e,h=GB(a,e),g=Array.isArray(r)?r.join(c):r,v=GB(a,r);if(!v)return s.push({key:kM,args:{field:g}}),[r,s];if(e&&g===f&&!p)return s.push({key:jM,args:{field:f}}),[r,s];if(o&&o!=v.type)return s.push({key:CM,args:{field:g,type:v.type,expected:o}}),[r,s];if(e&&!p&&d&&!d(f,h,g,v,l))return s.push({key:EM,args:{leftField:f,rightField:g}}),[r,s];return[r]},QD=function(e,t,r,n,o,i,a){var l,s,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=r,h=[];if(!r)return[r];var g=null===(l=r.get)||void 0===l?void 0:l.call(r,"func");if(!g)return[r];var v=GB(a,t);if(null!=v&&v.funcs&&!v.funcs.includes(g))return h.push({key:TM,args:{funcKey:g,field:t}}),[r,h];var m=DB(a,g);if(!m)return h.push({key:uM,args:{funcKey:g}}),[r,h];var y=null!==(s=m.label)&&void 0!==s?s:g;if(o&&m.returnType!=o)return h.push({key:IM,args:{funcKey:g,funcName:y,returnType:m.returnType,valueType:o}}),[r,h];for(var b in c=c||p,m.args){var _,x=m.args[b],w=f.get("args"),O=w?w.get(b):void 0,S=GB(a,x),k=null!==(_=null==S?void 0:S.label)&&void 0!==_?_:b,j=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;if(void 0!==j){var C=GD(a,e,S,u,j,x.type,E,i,c,d,p),T=Kt(C,2),q=T[0],I=T[1],A=!(null!=I&&I.length),L=c&&q!==j,P=c&&!A&&!L&&(d||p);if(L&&(f=f.setIn(["args",b,"value"],q)),P&&(f=f.deleteIn(["args",b]),f=iV(a,f,m,b)),!A){var N,F,R=null!==(N=null!==(F=I.find((function(e){return!e.fixed&&!e.ignore})))&&void 0!==F?F:I.find((function(e){return!e.fixed})))&&void 0!==N?N:I[0],M=L||P,D=0===I.filter((function(e){return!e.ignore})).length;if(R){var V=LD(R);h.push({key:dM,args:{funcKey:g,funcName:y,argKey:b,argName:k,argValidationError:V,argErrors:I},ignore:D,fixed:M,fixedFrom:M?j:void 0,fixedTo:M?L?q:x.defaultValue:void 0})}}}else if(!x.isOptional&&(d||p)){var z=c&&void 0!==x.defaultValue&&(d||p);d&&h.push({key:qM,args:{funcKey:g,funcName:y,argKey:b,argName:k},fixed:z,fixedTo:z?x.defaultValue:void 0,ignore:!z}),z&&(f=f.deleteIn(["args",b]),f=iV(a,f,m,b))}}return[f,h]},XD=function(e,t,r,n,o){var i,a=YB(e,r,t),l=r?zq(a):null,s=o.toJS?o.toJS():o,u=n.toJS?n.toJS():n,c=s.filter((function(e){return"value"==e||null==e})).length==l;if(null!=a&&a.validateValues&&c){var d=s[0],p=xV(e,t,r,d),f=JB(e,t,r,p,d),h=null!=f&&f.toJS?u.map((function(t){var r=f.toJS.call(e.ctx,t,f);return r instanceof Date&&(r=r.getTime()),r})):u,g=a.validateValues(h);"boolean"==typeof g&&0==g&&(i={key:AM,args:{jsValues:h,values:u}})}return i},ZD=function(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];i||(i=e);var f=e.settings,h=f.keepInputOnChangeFieldSrc,g=f.convertableWidgets,v=f.clearValueOnChangeField,m=f.clearValueOnChangeOp,y="!case_value"==l,b=a.get("field");!b&&y&&(b=l);var _,x=a.get("fieldType"),w=a.get("fieldSrc"),O=a.get("operator"),S=a.get("value"),k=a.get("valueSrc",new Iq.List),j=a.get("valueType",new Iq.List),E=a.get("valueError",new Iq.List),C=a.get("asyncListValues"),T=y,q=YB(i,O),I=YB(e,s,l),A=y?1:O?zq(q):null,L=y?1:s?zq(I):null,P=GB(i,b),N=GB(e,l),F=!b&&x&&h,R=(null==P?void 0:P.type)||x,M=(null==N?void 0:N.type)||!l&&F&&R,D=null==P?void 0:P.listValuesType,V=null==N?void 0:N.listValuesType,z=(null===(t=b)||void 0===t||null===(r=t.get)||void 0===r?void 0:r.call(t,"func"))||b,B=((null===(n=l)||void 0===n||null===(o=n.get)||void 0===o?void 0:o.call(n,"func"))||l)!=z,H=[],$=(b||F)&&(O&&s||T)&&null!=S;if((!R||!M||R!=M||"field"===u&&B&&v||"operator"===u&&m)&&($=!1),B&&dV.includes(M)&&(V&&V===D||($=!1)),T||(null!=S&&S.size||!L)&&(null==S||!S.size||L)||($=!1),"func"===w&&l){var U=GD(e,null,null,s,l,M,w,C,c,d,p),W=Kt(U,2),K=W[0],G=W[1],Y=!(null!=G&&G.length),J=K!==l,Q=!Y&&J&&!G.find((function(e){return!e.fixed})),X=c&&!Y&&!Q&&!!u&&l!==b,Z=!1;if(X?l=b:J&&(l=K),!Y){var ee=!Y&&!Q&&!X,te=G.find((function(e){return!e.fixed&&!e.ignore}));ee&&te&&(_=LD(te)),G.map((function(e){return H.push(ND(ND({side:"lhs"},e),{},{fixed:e.fixed||X||Z}))}))}}for(var re=0;re<L;re++){var ne=k.get(re)||null,oe=xV(i,b,O,ne),ie=xV(e,l,s,ne),ae="value"===ne?oe:xV(i,b,O,"value"),le="value"===ne?ie:xV(e,l,s,"value");le==ae||(g[ae]||[]).includes(le)||!ae&&F||($=!1)}O!=s&&[O,s].includes("proximity")&&($=!1);var se=k.first(),ue=JB(e,l,s,null,se),ce=_V(e,l,s,null);!l&&F&&(ce=Object.keys(e.settings.valueSourcesInfo));var de,pe=ce[0];1===L&&ue&&void 0!==ue.type?de=ue.type:1===L&&N&&void 0!==N.type&&(de="!group"===N.type?"number":N.type);var fe=$&&"operator"===u&&1===A&&2===L,he=[],ge=[],ve=[],me=Array.from({length:L},(function(){return null}));if($)for(var ye=function(t){var r=S.get(t),n=j.get(t)||null,o=k.get(t)||null;fe&&1===t&&(r=void 0!==he[0]?he[0]:S.get(0),he[t]=r,n=j.get(0)||null,o=k.get(0)||null);var i=!o||void 0!==ce.find((function(e){return e==o})),a=GD(e,l,l,s,r,n,o,C,c,d,p),u=Kt(a,2),f=u[0],h=u[1],g=!(null!=h&&h.length),v=f!==r,m=!g&&v&&!(null!=h&&h.find((function(e){return!e.fixed}))),y=!(null!=h&&h.find((function(e){return!e.fixed&&!e.ignore}))),b=!i||c&&!g&&!m&&(!y||B);g||null==h||h.map((function(e){return H.push(ND(ND({side:"rhs",delta:t},e),{},{fixed:e.fixed||b}))})),b&&(he[t]=null,0===t&&delete he[1]);var _=!g&&!v,x=null==h?void 0:h.find((function(e){return!e.fixed&&!e.ignore}));_&&x&&(me[t]=LD(x)),v&&(he[t]=f),!fe||0!==t||g||v||(fe=!1),fe&&0===t&&["func","field"].includes(o)&&(fe=!1)},be=0;be<L;be++)ye(be);if(!$)for(var _e=0;_e<L;_e++)if(1===L){var xe,we=iI([null==N?void 0:N.defaultValue,null==N||null===(xe=N.fieldSettings)||void 0===xe?void 0:xe.defaultValue,null==ue?void 0:ue.defaultValue]);he[_e]=we,null!=we&&we.func&&(ge[_e]="func")}for(var Oe=0;Oe<L;Oe++){var Se,ke,je=$&&k.get(Oe)||null,Ee=$&&j.get(Oe)||null;if($&&fe&&1===Oe)je=null!==(Se=ge[Oe])&&void 0!==Se?Se:k.get(0),Ee=null!==(ke=ve[Oe])&&void 0!==ke?ke:j.get(0),ge[Oe]=je,ve[Oe]=Ee;ce.includes(je)||(ge[Oe]=pe),Ee||(ve[Oe]=de)}var Ce=S;(he.length>0||!$)&&(Ce=new Iq.List(Array.from({length:L},(function(e,t){return void 0!==he[t]?he[t]:$?S.get(t):void 0}))));var Te=k;(ge.length>0||!$)&&(Te=new Iq.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ge[t])&&void 0!==r?r:$&&k.get(t)||null}))));var qe=j;(ve.length>0||!$)&&(qe=new Iq.List(Array.from({length:L},(function(e,t){var r;return null!==(r=ve[t])&&void 0!==r?r:$&&j.get(t)||null}))));var Ie=XD(e,l,s,Ce,Te);if(Ie){var Ae=LD(Ie),Le=c&&L>=2,Pe=Ce;Le&&(he[1]=Ce.get(0),Ce=Ce.set(1,he[1]),me[1]=me[0]),!Le&&me.push(Ae),H.push(ND(ND({side:"rhs",delta:-1},Ie),{},{fixed:Le,fixedFrom:Le?[Pe.get(0),Pe.get(1)]:void 0,fixedTo:Le?[Ce.get(0),Ce.get(1)]:void 0}))}var Ne=E,Fe=(null==E?void 0:E.size)!==me.length||me.filter((function(e,t){return e!=E.get(t)})).length>0;return Fe&&(Ne=new Iq.List(me)),{canReuseValue:$,newValue:Ce,newValueSrc:Te,newValueType:qe,operatorCardinality:L,fixedField:l,newValueError:Ne,newFieldError:_,validationErrors:H}};const eV=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:HD,checkTree:DD,getNewValueForFieldOp:ZD,getTreeBadFields:MD,isValidTree:RD,sanitizeTree:zD,translateValidation:LD,validateAndFixTree:BD,validateRange:XD,validateTree:VD,validateValue:GD},Symbol.toStringTag,{value:"Module"}));var tV=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},rV=function(e,t){if(e){var r=e.get("func"),n=r&&DB(t,r);if(n){var o=e,i=!1;for(var a in n.args){var l=n.args[a],s=l.valueSources,u=l.isOptional,c=l.defaultValue,d=bV(t,s,l),p=o.get("args"),f=1==d.length?d[0]:void 0,h=p?p.get(a):void 0,g=h?h.get("value"):void 0,v=(h?h.get("valueSrc"):void 0)||f;if(void 0!==g){var m=AV(g,v,t);if(void 0===m)return;if(m!==g&&(o=o.setIn(["args",a,"value"],m)),i)return}else if(void 0===c||tV(c)){if(!u)return;i=!0}else o=(o=o.setIn(["args",a,"value"],aV(l))).setIn(["args",a,"valueSrc"],"value")}return o}}},nV=function(e,t,r,n){var o=r.settings.fieldSeparator;e=e||new Iq.Map,Array.isArray(t)&&(t=t.join(o));var i=e.get("func"),a=e.get("args");e=e.set("func",t);var l=t&&DB(r,t),s=t&&MB(r,t),u=i&&MB(r,i),c=uV(u,s,a,r,n);c.length?e=Object.keys(s.args).filter((function(e){return!c.includes(e)})).reduce((function(e,t){return e.deleteIn(["args",t])}),e):e=e.set("args",new Iq.Map);return e=oV(r,e,l)},oV=function(e,t,r){if(r)for(var n in r.args)t=iV(e,t,r,n);return t},iV=function(e,t,r,n){var o=r.args[n],i=o.valueSources,a=o.defaultValue,l=bV(e,i,o),s=l.length?l[0]:void 0,u=(a?tV(a)&&a.func?"func":"value":void 0)||s;return t.getIn(["args",n])||(void 0!==a&&(t=t.setIn(["args",n,"value"],aV(o))),u&&(t=t.setIn(["args",n,"valueSrc"],u))),t},aV=function(e){var t=e.defaultValue;return tV(t)&&!Iq.Map.isMap(t)&&t.func?Iq.fromJS(t,(function(e,t){return Iq.Iterable.isIndexed(t)?t.toList():t.toOrderedMap()})):t},lV=function(e,t,r,n,o){if(e&&e.get("func")){var i=(e=e.setIn(["args",t,"value"],r)).getIn(["args",t,"valueSrc"]),a=n.valueSources,l=bV(o,a,n),s=1==l.length?l[0]:void 0;!s&&l.includes("value")&&(s="value"),!i&&s&&(e=e.setIn(["args",t,"valueSrc"],s))}return e},sV=function(e,t,r,n,o){return e&&e.get("func")&&(e=e.setIn(["args",t],new Iq.Map({valueSrc:r}))),e},uV=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((null==e?void 0:e.returnType)!=(null==t?void 0:t.returnType))return[];var i=Object.keys(t.args).filter((function(i,a){var l=t.args[i],s=e.args[i];if(Object.keys(e.args).indexOf(i),!s&&(void 0!==l.defaultValue||l.isOptional))return!0;if((null==s?void 0:s.type)!=l.type)return!1;if(dV.includes(l.type)&&(!s.listValuesType||s.listValuesType!==l.listValuesType))return!1;if(r){var u,c=r.get(i),d=null==c?void 0:c.get("value"),p=null==c?void 0:c.get("valueSrc");if(p&&l.valueSources&&!l.valueSources.includes(p))return!1;var f=GD(n,null,l,null,d,l.type,p,null,o,!0),h=Kt(f,2);h[0];var g=h[1];if(null!=g&&null!==(u=g.filter((function(e){return!e.fixed})))&&void 0!==u&&u.length)return!1}return!0}));return i};const cV=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:rV,getCompatibleArgsOnFuncChange:uV,setArgValue:lV,setArgValueSrc:sV,setFunc:nV,setFuncDefaultArg:iV},Symbol.toStringTag,{value:"Module"}));var dV=["select","multiselect","treeselect","treemultiselect"],pV=function(e,t){var r;return(null===(r=e.types[t])||void 0===r?void 0:r.operators)||null},fV=function(e,t){var r=GB(e,t);return r?r.operators:[]},hV=function(e,t){var r,n=fV(e,t);return null!==(r=null==n?void 0:n[0])&&void 0!==r?r:null},gV=function(e,t,r){var n=null;if(e)if("field"===t){var o=GB(r,e);o&&(n=o.type)}else if("func"===t){var i=e.get("func");if(i){var a=DB(r,i);a&&(n=a.returnType||a.type)}}return n},vV=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fields",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"subfields";if(!e)return null;var i=t.settings.fieldSeparator,a=HB(e,t),l=HB(r,t),s=a.slice(l.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return[].concat(pj(l),pj(e)).join(i)})).map((function(e){var r=FB(t,e,n,o);return r&&r.label||eL(e.split(i))})).filter((function(e){return null!=e}));return s},mV=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;var n=r&&FB(t,r)||null,o=t.settings.fieldSeparator,i=HB(e,t),a=zB(e,r,t)?HB(r,t):[];return i.slice(a.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return{part:[].concat(pj(a),pj(e)).join(o),key:e[e.length-1]}})).map((function(e){var r=e.part;return{key:e.key,cnf:FB(t,r)}})).map((function(e,t,r){return[e.key,e.cnf,t>0?r[t-1].cnf:n]}))};function yV(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[],i=[];if(!t)return{widgets:o,valueSrcs:i};var a=$B(t),l=a?"".concat(a,"__").concat(r,"__").concat(n):null,s=UB(e,"_getWidgetsAndSrcsForFieldOp",l);if(s)return s;var u="object"===_(t)&&(!!t.func&&!!t.arg||t._isFuncArg),c=GB(e,t),d=r?e.operators[r]:null;if(null!=c&&c.widgets){var p=function(){var a=c.widgets[f];if(!e.widgets[f])return 1;var l=e.widgets[f].valueSrc||"value",s=!0;if("field"===f&&(s=s&&bV(e,["field"],c).length>0),"func"===f&&(s=s&&bV(e,["func"],c).length>0),"value"!==n||a.operators||u||"!case_value"===t||(s=!1),a.operators&&r&&(s=s&&-1!=a.operators.indexOf(r)),n&&n!=l&&"const"!==n&&(s=!1),d&&0==d.cardinality&&"value"!==l&&(s=!1),s){var p,h;o.push(f);var g=-1!=(null===(p=c.valueSources)||void 0===p?void 0:p.indexOf(l));-1==(null==d||null===(h=d.valueSources)||void 0===h?void 0:h.indexOf(l))&&(g=!1),g&&!i.find((function(e){return e==l}))&&i.push(l)}};for(var f in c.widgets)p()}var h=function(e){var t=0;return c.preferWidgets?c.preferWidgets.includes(e)&&(t+=10-c.preferWidgets.indexOf(e)):e==c.mainWidget&&(t+=100),"field"===e&&(t-=1),"func"===e&&(t-=2),t};o.sort((function(e,t){return h(t)-h(e)}));var g={widgets:o,valueSrcs:i};return WB(e,"_getWidgetsAndSrcsForFieldOp",l,g),g}var bV=function(e,t,r){var n;if(!r)return t;var o=null!==(n=r.type)&&void 0!==n?n:r.returnType;return"!group"===o&&(o="number"),t||(t=Object.keys(e.settings.valueSourcesInfo)),t.filter((function(t){var n=!0;if("field"===t&&e.__fieldsCntByType){var i=r._isFuncArg?0:1;n=n&&e.__fieldsCntByType[o]>i}return"func"===t&&(r.funcs&&(n=n&&r.funcs.length>0),e.__funcsCntByType&&(n=n&&e.__funcsCntByType[o]>0)),n}))},_V=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=yV(e,t,r,null).valueSrcs;return bV(e,o,n)},xV=function(e,t,r){var n=yV(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets,o=null;return n.length&&(o=n[0]),o},wV=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e){var i=GB(t,e)||{},a=t.settings.fieldSeparator,l=HB(e,t),s=Array.isArray(e)?e.join(a):e;if(null!=o&&o.useTableName&&i.tableName){var u=pj(l);u[0]=i.tableName,s=u.join(a)}if(i.fieldName&&(s=i.fieldName),n){GB(t,n);var c=n;0==s.indexOf(c+a)?s=s.slice((c+a).length):i.fieldName||r.errors.push("Can't cut group ".concat(c," from field ").concat(s))}return s}},OV=function(e,t){var r=e.get("type"),n=e.getIn(["properties","mode"]);return"rule_group"==r&&"array"==n?SV(e,t):"group"==r||"rule_group"==r?jV(e,t):CV(e,t)},SV=function(e,t){var r=e.get("children1"),n=e.get("properties");return kV(n.toObject(),r,t)},kV=function(e,t,r){var n,o,i=e.operator,a=0==(null!==(n=null===(o=r.operators[i])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1),l={group:!TV(e,r),children:!EV(t,r)};return!(l.group&&(!a||l.children))},jV=function(e,t){var r=e.get("children1");return EV(r,t)},EV=function(e,t){return!((null==e?void 0:e.size)>0&&e.filter((function(e){return!OV(e,t)})).size>0)},CV=function(e,t){var r=e.get("properties");return TV((null==r?void 0:r.toObject())||{},t)},TV=function(e,t){return!(qV(e,t,!0).score>=3)},qV=function(e,t){var r,n,o,i=e.field,a=e.fieldSrc;e.fieldType;var l=e.operator,s=e.value,u=e.valueSrc;e.valueType;var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=null!==(r=null===(n=t.operators[l])||void 0===n?void 0:n.cardinality)&&void 0!==r?r:1,p=null!=u&&u.get?u.toJS():u,f={parts:{},score:0};if(f.parts.field=c?null!=i:IV(i,a,t),f.parts.operator=!!l,f.parts.value=(null==s||null===(o=s.filter((function(e,r){return IV(e,null==p?void 0:p[r],t,c)})))||void 0===o?void 0:o.size)>=(c?Math.min(d,1):d),f.score=Object.keys(f.parts).filter((function(e){return!!f.parts[e]})).length,c&&f.score<3){!f.parts.value&&"func"===a&&IV(i,a,t,!1,true)&&f.score++,f.parts.field||null==s||s.map((function(e,r){"func"===(null==p?void 0:p[r])&&IV(e,null==p?void 0:p[r],t,!1,true)&&f.score++}))}return f},IV=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!o&&"func"==r&&t){var a,l=null===(a=t.get)||void 0===a?void 0:a.call(t,"func"),s=DB(n,l);if(s){var u=t.get("args");for(var c in s.args){var d=s.args[c],p=u?u.get(c):void 0,f=p?p.get("value"):void 0,h=p?p.get("valueSrc"):void 0;if(null==f&&void 0===(null==d?void 0:d.defaultValue)&&(null==d||!d.isOptional))return!1;if(null!=f&&!e(f,h,n,!i||o))return!1}return!0}}return null!=t},AV=function(e,t,r){return"func"==t?rV(e,r):e},LV=function e(t){var r=t.get("children1");if(1==(null==r?void 0:r.size)){var n=r.first();return"group"===n.get("type")?e(n):n}return null};const PV=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:gV,completeValue:AV,filterValueSourcesForField:bV,formatFieldName:wV,getFieldPartsConfigs:mV,getFieldPathLabels:vV,getFirstOperator:hV,getFuncPathLabels:function(e,t){return vV(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,"funcs","subfields")},getOneChildOrDescendant:LV,getOperatorsForField:fV,getOperatorsForType:pV,getValueLabel:function(e,t,r,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=JB(e,t,r,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)||{},a=YB(e,r,t)||{},l=null;if((o?1:a.cardinality)>1){var s=i.valueLabels||a.valueLabels;s&&(l=s[n]),l&&"object"!==_(l)&&(l={label:l,placeholder:l}),l||(l={label:e.settings.valueLabel+" "+(n+1),placeholder:e.settings.valuePlaceholder+" "+(n+1)})}else{var u=i.valueLabel,c=i.valuePlaceholder;l={label:u||e.settings.valueLabel,placeholder:c||e.settings.valuePlaceholder}}return l},getValueSourcesForFieldOp:_V,getWidgetForFieldOp:xV,getWidgetsForFieldOp:function(e,t,r){return yV(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets},isEmptyGroupChildren:EV,isEmptyItem:OV,isEmptyRuleGroupExtPropertiesAndChildren:kV,isEmptyRuleProperties:TV,selectTypes:dV,whatRulePropertiesAreCompleted:qV},Symbol.toStringTag,{value:"Module"}));var NV=XI,FV=pa;var RV=function(e,t,r){(void 0!==r&&!FV(e[t],r)||void 0===r&&!(t in e))&&NV(e,t,r)};var MV=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}},DV=MV(),VV=Nu,zV=$s;var BV=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},HV=oL,$V=gL;var UV=RV,WV=_L,KV=YL,GV=xL,YV=sP,JV=Zs,QV=As,XV=function(e){return zV(e)&&VV(e)},ZV=ru,ez=tl,tz=Qa,rz=cN,nz=mu,oz=BV,iz=function(e){return HV(e,$V(e))};var az=cs,lz=RV,sz=DV,uz=function(e,t,r,n,o,i,a){var l=oz(e,r),s=oz(t,r),u=a.get(s);if(u)UV(e,r,u);else{var c=i?i(l,s,r+"",e,t,a):void 0,d=void 0===c;if(d){var p=QV(s),f=!p&&ZV(s),h=!p&&!f&&nz(s);c=s,p||f||h?QV(l)?c=l:XV(l)?c=GV(l):f?(d=!1,c=WV(s,!0)):h?(d=!1,c=KV(s,!0)):c=[]:rz(s)||JV(s)?(c=l,JV(l)?c=iz(l):tz(l)&&!ez(l)||(c=YV(s))):d=!1}d&&(a.set(s,c),o(c,s,n,i,a),a.delete(s)),UV(e,r,c)}},cz=Qa,dz=gL,pz=BV;var fz=function e(t,r,n,o,i){t!==r&&sz(r,(function(a,l){if(i||(i=new az),cz(a))uz(t,r,l,n,e,o,i);else{var s=o?o(pz(t,l),a,l+"",t,r,i):void 0;void 0===s&&(s=a),lz(t,l,s)}}),dz)},hz=MA,gz=RA,vz=UA;var mz=function(e,t){return vz(gz(e,t,hz),e+"")},yz=pa,bz=Nu,_z=ou,xz=Qa;var wz=function(e,t,r){if(!xz(r))return!1;var n=typeof t;return!!("number"==n?bz(r)&&_z(t,r.length):"string"==n&&t in r)&&yz(r[t],e)},Oz=mz,Sz=wz;var kz=function(e){return Oz((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Sz(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,i)}return t}))},jz=fz,Ez=kz((function(e,t,r){jz(e,t,r)}));const Cz=g(Ez);var Tz={exports:{}};!function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=t)}(Tz);const qz=g(Tz.exports);var Iz={exports:{}};!function(e,t){e.exports=function(){function e(e){for(var t=[],r=0,n=e.length;r<n;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t={},r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(e){return t.truthy(e)},"!":function(e){return!t.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var n=String(e).substr(t);return n.substr(0,n.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var r=void 0===t?null:t,n=this;if(void 0===e||""===e||null===e)return n;for(var o=String(e).split("."),i=0;i<o.length;i++){if(null==n)return r;if(void 0===(n=n[o[i]]))return r}return n},missing:function(){for(var e=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,n=0;n<r.length;n++){var o=r[n],i=t.apply({var:o},this);null!==i&&""!==i||e.push(o)}return e},missing_some:function(e,r){var n=t.apply({missing:r},this);return r.length-n.length>=e?[]:n}};return t.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},t.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},t.get_operator=function(e){return Object.keys(e)[0]},t.get_values=function(e){return e[t.get_operator(e)]},t.apply=function(e,n){if(Array.isArray(e))return e.map((function(e){return t.apply(e,n)}));if(!t.is_logic(e))return e;var o,i,a,l,s,u=t.get_operator(e),c=e[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(o=0;o<c.length-1;o+=2)if(t.truthy(t.apply(c[o],n)))return t.apply(c[o+1],n);return c.length===o+1?t.apply(c[o],n):null}if("and"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),!t.truthy(i))return i;return i}if("or"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),t.truthy(i))return i;return i}if("filter"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.filter((function(e){return t.truthy(t.apply(a,e))})):[];if("map"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.map((function(e){return t.apply(a,e)})):[];if("reduce"===u)return l=t.apply(c[0],n),a=c[1],s=void 0!==c[2]?t.apply(c[2],n):null,Array.isArray(l)?l.reduce((function(e,r){return t.apply(a,{current:r,accumulator:e})}),s):s;if("all"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(!t.truthy(t.apply(a,l[o])))return!1;return!0}if("none"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!0;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!1;return!0}if("some"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!0;return!1}if(c=c.map((function(e){return t.apply(e,n)})),r.hasOwnProperty(u)&&"function"==typeof r[u])return r[u].apply(n,c);if(u.indexOf(".")>0){var d=String(u).split("."),p=r;for(o=0;o<d.length;o++){if(!p.hasOwnProperty(d[o]))throw new Error("Unrecognized operation "+u+" (failed at "+d.slice(0,o+1).join(".")+")");p=p[d[o]]}return p.apply(n,c)}throw new Error("Unrecognized operation "+u)},t.uses_data=function(r){var n=[];if(t.is_logic(r)){var o=t.get_operator(r),i=r[o];Array.isArray(i)||(i=[i]),"var"===o?n.push(i[0]):i.forEach((function(e){n.push.apply(n,t.uses_data(e))}))}return e(n)},t.add_operation=function(e,t){r[e]=t},t.rm_operation=function(e){delete r[e]},t.rule_like=function(e,r){if(r===e)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof e;if("string"===r)return"string"==typeof e;if("array"===r)return Array.isArray(e)&&!t.is_logic(e);if(t.is_logic(r)){if(t.is_logic(e)){var n=t.get_operator(r),o=t.get_operator(e);if("@"===n||n===o)return t.rule_like(t.get_values(e,!1),t.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(e)){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i+=1)if(!t.rule_like(e[i],r[i]))return!1;return!0}return!1}return!1},t}()}(Iz);const Az=g(Iz.exports);function Lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nz(e,t){return Az.add_operation(e,t)}var Fz={CALL:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.call.apply(e,[t].concat(n))},JSX:function(e,t){return{type:e,props:t}},mergeObjects:function(e,t){return Pz(Pz({},e),t)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(null==e?void 0:e.length)||0},regexTest:function(e,t,r){return null!=(null==e?void 0:e.match(new RegExp(t,r)))},now:function(){return new Date},date_add:function(e,t,r){return tw(e).add(t,r).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function Rz(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Mz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mz(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Mz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dz(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zz(e,t,r){var n;try{n=Az.apply(e,t)}catch(_n){throw _n.message="".concat(r.join(".")," :: ").concat(_n.message),_n}return n}function Bz(e,t,r,n){var o;try{o=t.call.apply(t,[e].concat(pj(r)))}catch(_n){throw _n.message="".concat(n.join(".")," :: ").concat(_n.message),_n}return o}!function(){for(var e in Fz)Nz(e,Fz[e])}();var Hz=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],$z={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},Uz=Vz(Vz({},$z),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),Wz={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},Kz={widgetProps:Uz,opProps:Wz},Gz=Vz(Vz({},$z),{},{fieldSettings:$z}),Yz=Vz(Vz({},$z),{},{fieldSettings:$z,widgets:{x:Kz},mainWidgetProps:Uz}),Jz={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:Yz,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},Qz={fields:{x:Yz},widgets:{x:Uz},conjunctions:{x:{formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}}},operators:{x:Wz},types:{x:{widgets:{x:Kz}}},funcs:{x:Vz(Vz(Vz({},Gz),{renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}}),{},{args:{x:Vz({},Gz)}})},settings:Jz},Xz=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},Zz=function(e,t){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var r=XA(e,Hz);delete r.ctx;for(var n=function e(t,r,n,o){if(Xz(t)){if(Qq(t)&&(t=Jq(t)),"funcs"===n[0]&&!r){var i=n[n.length-1];(r=FB({funcs:o.BasicFuncs},i,"funcs","subfields")||void 0)&&(t.$$key=i)}if(void 0!==r&&Xz(r))for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(!Object.keys(t).includes(a)||void 0===t[a]&&void 0!==r[a]?t[a]="$$deleted":(t[a]=e(t[a],r[a],[].concat(pj(n),[a]),o),void 0===t[a]&&delete t[a]));for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var s;if(!r||!Object.keys(r).includes(l))t[l]=e(t[l],null===(s=r)||void 0===s?void 0:s[l],[].concat(pj(n),[l]),o);void 0===t[l]&&delete t[l]}0===Object.keys(t).length&&(t=void 0)}else Array.isArray(t)&&t.forEach((function(r,i){t[i]=e(t[i],void 0,[].concat(pj(n),[i]),o)}));if(void 0===r||!Hq(t,r,!0)){if("function"==typeof t)throw new Error("compressConfig: function at ".concat(n.join(".")," should be converted to JsonLogic"));return t}},o=0,i=Hz;o<i.length;o++){var a=i[o];if("ctx"===a);else if("fields"===a)r[a]=qz(r[a]),n(r[a],{},[a]);else if("funcs"===a)for(var l in r[a]=qz(r[a]||{}),r[a])n(r[a][l],null,[a,l],{BasicFuncs:yn});else r[a]=qz(r[a]),n(r[a],t[a],[a])}return r},eB=function(e,t,r){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var n={},o=function e(t,r,n){if(Xz(r))for(var o in Xz(t)||(t={}),r)Object.prototype.hasOwnProperty.call(r,o)&&("$$deleted"===r[o]?delete t[o]:t[o]=e(t[o],r[o],[].concat(pj(n),[o])));else t=Array.isArray(r)?qz(r):r;return t},i=function e(t,r,n){var i=!1;if(Xz(t)&&Object.prototype.hasOwnProperty.call(t,"$$key")&&t.$$key){var a=FB({funcs:n.BasicFuncs},t.$$key,"funcs","subfields");if(!a)throw new Error("decompressConfig: basic function not found by key ".concat(t.$$key," at ").concat(r.join(".")));delete t.$$key,t=o(qz(a),t,r),i=!0}if(!i)if(Xz(t))for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=e(t[l],[].concat(pj(r),[l]),n));else if(Array.isArray(t)){var s,u=Rz(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;t[c]=e(t[c],[].concat(pj(r),[c]),n)}}catch(d){u.e(d)}finally{u.f()}}return t},a=0,l=Hz;a<l.length;a++){var s=l[a];"ctx"===s?n[s]=Cz({},t.ctx||{},r||{}):"funcs"===s?(n[s]=qz(e[s]||{}),i(n[s],[s],{BasicFuncs:yn})):"fields"===s?n[s]=qz(e[s]||{}):(n[s]=qz(t[s]||{}),o(n[s],e[s]||{},[s]))}return n},tB=function(e){if(e.__compliled)return e;return rB(e=qz(e),e,{ctx:e.ctx},Qz,[]),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function rB(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(t)for(var a in i.length,n){var l=n[a],s="x"===a?i:[].concat(pj(i),[a]);if("r"===l.type){var u=t,c=u[a];if(l.isArr)for(var d in c){var p=iB(c[d],r,[].concat(pj(s),[d]));p!==c[d]&&(o.push("Compiled ".concat(s.join("."),"[").concat(d,"]")),c[d]=p)}else{var f=iB(c,r,s,void 0);f!==c&&(o.push("Compiled R ".concat(s.join("."))),u[a]=f)}}else if("rf"===l.type){var h=t,g=h[a],v=nB(g,r,s,l.ignore);v!==g&&(o.push("Compiled JL-RF ".concat(s.join("."))),h[a]=v)}else if("f"===l.type){var m,y=t,b=y[a],_=oB(b,r,s,l.args,l.ignore);if(l.invokeWith&&_&&"function"==typeof _)_=(m=_).call.apply(m,[null].concat(pj(l.invokeWith)));_!==b&&(o.push("Compiled JL-F ".concat(s.join("."))),y[a]=_)}else if("x"===a)for(var x in t){s=[].concat(pj(i),[x]);var w=t[x];rB(e,w,r,l,o,s),w.subfields&&rB(e,w.subfields,r,n,o,s)}else{rB(e,t[a],r,l,o,s)}}}function nB(e,t,r){return Zq(e)?function(n,o){o=o||(null==t?void 0:t.ctx);var i=zz(e,{props:n,ctx:o},r);return"string"==typeof i&&(i={type:i,props:n}),iB(i,{ctx:o},r)}:"string"==typeof e?function(n,o){o=o||(null==t?void 0:t.ctx);var i=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),o);return i?Bz(this,i,[n,o],r):iB({type:e,props:n},{ctx:o},r)}:e}function oB(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return Zq(e)&&"jl"!==o?function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=this||(null==t?void 0:t.ctx),s=(n||[]).reduce((function(e,t,r){return Vz(Vz({},e),{},b({},t,i[r]))}),{args:i,ctx:l});return zz(e,s,r)}.bind(null==t?void 0:t.ctx):"string"==typeof e&&"string"!==o?function(){var n=this||(null==t?void 0:t.ctx),o=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),n);if(o){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return Bz(this,o,a,r)}throw new Error("".concat(r.join(".")," :: Function ").concat(e," is not found in ctx"))}.bind(null==t?void 0:t.ctx):e}function iB(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(Xq(e)){var o,i=e.type,a=e.props;if("string"!=typeof i)throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var l,s=function(e,t){var r;return(null==t||null===(r=t.components)||void 0===r?void 0:r[e])||t.W[e]||t.O[e]}(i,t.ctx)||i.toLowerCase();return void 0!==n&&(a=Vz(Vz({},a),{},{key:n})),null!==(o=a)&&void 0!==o&&o.children&&(l=iB(a.children,t,r),a=Vz(Vz({},a),{},{children:l})),t.ctx.RCE(s,a)}return e instanceof Array?e.map((function(e,n){return iB(e,t,r,""+n)})):e}var aB=fz,lB=kz((function(e,t,r,n){aB(e,t,r,n)}));const sB=g(lB);var uB={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,t,r,n,o,i){return i?r:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function cB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return dB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dB(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function dB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pB,fB=0,hB=0,gB={},vB=function(){return pB||(pB=yB({reactIndex:void 0,maxSize:3,canCompile:void 0})),pB},mB=function(e,t){var r;for(var n in gB){var o=gB[n].findExtendedConfig(e,t);if(o){r=o;break}}return r},yB=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=t.maxSize||2,o=++fB,i=function(e,t){r.size+1>n&&r.delete(r.keys().next().value),r.set(e,t)},a=function(e,t){var n,o=cB(r.keys());try{var i,a=function(){var o=n.value;if(Hz.filter((function(t){return o[t]===e[t]})).length===Hz.length&&(!t||o.__compliled))return{v:r.get(o)}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(d){o.e(d)}finally{o.f()}var l,s=cB(r.values());try{var u,c=function(){var r=l.value;if(Hz.filter((function(t){return r[t]===e[t]})).length===Hz.length&&(!t||r.__compliled))return{v:r}};for(s.s();!(l=s.n()).done;)if(u=c())return u.v}catch(d){s.e(d)}finally{s.f()}return null},l=function(e){return a(e)||function(e){var r=OB(e,++hB,t.canCompile);return i(e,r),r}(e)};return e={getExtendedConfig:function(e){return l(function(e){return XA(e,Hz)}(e))},findExtendedConfig:a,getBasicConfig:function(e){var t,n=cB(r.keys());try{var o,i=function(){var n=t.value,o=r.get(n);if(0===Hz.map((function(t){return o[t]===e[t]})).filter((function(e){return!e})).length)return{v:n}};for(n.s();!(t=n.n()).done;)if(o=i())return o.v}catch(a){n.e(a)}finally{n.f()}return e},clearConfigMemo:function(){r.clear(),delete gB[o],pB===e&&(pB=void 0)},configId:hB,storeConfigPair:i,getSize:function(){return r.size},configStore:r,memoId:o,meta:t},void 0===t.reactIndex&&(pB=e),gB[o]=e,e};function bB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _B(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function _B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var OB=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r=r&&e.settings.useConfigCompress,e.__configId)return e;var n=mB(e,r);if(n)return n;var o=e;(e=r?e.__compliled?qz(e):tB(e):qz(e)).settings=sB({},uB,e.settings,Yq),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},function(e,t){for(var r in e){SB(r,e[r],t)}}(e.types,e),kB(e.fields,e),jB(e.funcs,e);var i=e.settings.caseValueField;i&&EB(i,e,[],!1,!0);var a=e.settings.locale.moment;return a&&tw.locale(a),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:t||Lq()}),e.__cache={},rI(e),vB().storeConfigPair(o,e),e};function SB(e,t,r){var n=null,o=null;t.mainWidget=t.mainWidget||Object.keys(t.widgets).filter((function(e){return"field"!=e&&"func"!=e}))[0];var i=t.excludeOperators||[];for(var a in t.widgets){var l=t.widgets[a],s=l.defaultOperator;if(l.operators){var u=l.operators.filter((function(e){return!i.includes(e)}));n=tI(n,u)}s&&!i.includes(s)&&(o&&a!==t.mainWidget||(o=s)),a==t.mainWidget&&(l.widgetProps=wB(wB({},t.mainWidgetProps||{}),l.widgetProps||{})),t.widgets[a]=l}t.valueSources||(t.valueSources=Object.keys(r.settings.valueSourcesInfo));var c,d=bB(t.valueSources);try{for(d.s();!(c=d.n()).done;){var p=c.value;"value"==p||t.widgets[p]||(t.widgets[p]={})}}catch(f){d.e(f)}finally{d.f()}!t.operators&&n&&(t.operators=Array.from(new Set(n))),!t.defaultOperator&&o&&(t.defaultOperator=o)}function kB(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var n in e){var o=[].concat(pj(r),[n]);EB(e[n],t,o),e[n].subfields&&kB(e[n].subfields,t,o)}}function jB(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var o=(null==t||null===(r=t.settings)||void 0===r?void 0:r.fieldSeparator)||".";for(var i in e){var a=[].concat(pj(n),[i]),l=a.join(o),s=e[i];if(s.returnType&&(s.type=s.returnType,t.__funcsCntByType[s.returnType]||(t.__funcsCntByType[s.returnType]=0),t.__funcsCntByType[s.returnType]++),EB(s,t,a,!1),s.args){for(var u in s.args)EB(s.args[u],t,[].concat(pj(a),[u]),!0);var c,d=!0,p=bB(Object.keys(s.args).reverse());try{for(p.s();!(c=p.n()).done;){var f=c.value,h=s.args[f];!d&&h.isOptional&&(aI.info("Arg ".concat(f," for func ").concat(l," can't be optional")),delete h.isOptional),h.isOptional||(d=!1)}}catch(g){p.e(g)}finally{p.f()}}s.subfields&&jB(s.subfields,t,[].concat(pj(n),[i]))}}}function EB(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.settings,l=a.showLabels,s=a.fieldSeparator;s=null!==(r=s)&&void 0!==r?r:".";var u=n[n.length-1],c=o?n.slice(0,n.length-1).join(s):n.join(s),d=!!e.returnType,p=e.type||e.returnType,f=t.types[p],h=e.excludeOperators||[],g=(e.operators||(null==f?void 0:f.operators)||[]).filter((function(e){return!h.includes(e)})),v=e.defaultOperator||(null==f?void 0:f.defaultOperator);h.includes(v)&&(v=void 0);var m=!!v&&v==e.defaultOperator;if(m&&(e.ownDefaultOperator=e.defaultOperator),f){o||d||i||(t.__fieldsCntByType[p]||(t.__fieldsCntByType[p]=0),t.__fieldsCntByType[p]++),o&&(e._isFuncArg=!0,e._argKey=u,e._funcKey=c),d&&(e._isFunc=!0,e._funcKey=c),i&&(e._isCaseValue=!0),function(e,t,r){for(var n,o,i=0,a=["listValues","treeValues","allowCustomValues","validateValue"];i<a.length;i++){var l=a[i];e[l]&&(e.fieldSettings||(e.fieldSettings={}),e.fieldSettings[l]=e[l],delete e[l])}null!==(n=e.fieldSettings)&&void 0!==n&&n.listValues&&t.settings.normalizeListValues&&(e.fieldSettings.listValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.listValues,r,e.fieldSettings)),null!==(o=e.fieldSettings)&&void 0!==o&&o.treeValues&&t.settings.normalizeListValues&&(e.fieldSettings.treeValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.treeValues,r,e.fieldSettings))}(e,t,p);var y=["widgets","operators","defaultOperator"];Object.keys(f).filter((function(e){return!y.includes(e)})).map((function(t){e[t]||(e[t]=Dq(f[t]))}));var b=f.excludeOperators||[];e.operators&&(b=b.filter((function(t){return!e.operators.includes(t)}))),e.widgets||(e.widgets={});var _=function(){var t=wB({},e.widgets[x]||{}),r=f.widgets[x]||{};if(!o){var n=t.defaultOperator,i=[].concat(pj(h),pj(b)),a=e.preferWidgets&&("field"===x||e.preferWidgets.includes(x))||i.length>0;if(t.operators){var s=t.operators.filter((function(e){return!i.includes(e)}));t.operators=s,g=tI(g,s)}else if(a&&r.operators){var c=r.operators.filter((function(e){return!i.includes(e)}));t.operators=c,g=tI(g,c)}n&&!i.includes(n)&&(v&&(m||x!==e.mainWidget)||(v=n))}x===e.mainWidget?t.widgetProps=wB(wB(wB({},r.widgetProps||{}),e.mainWidgetProps||{}),t.widgetProps||{}):t.widgetProps=wB(wB({},r.widgetProps||{}),t.widgetProps||{});var d=Array.from(new Set([].concat(pj(Object.keys(r.opProps||{})),pj(Object.keys(t.opProps||{})))));if(d.length){var p,y={},_=bB(d);try{for(_.s();!(p=_.n()).done;){var w,O,S=p.value;y[S]=wB(wB({},(null===(w=r.opProps)||void 0===w?void 0:w[S])||{}),(null===(O=t.opProps)||void 0===O?void 0:O[S])||{})}}catch(C){_.e(C)}finally{_.f()}t.opProps=y}var k=t,j=k.valueLabel,E=k.valuePlaceholder;o&&(j||(t.valueLabel=e.label||u),E||l||(t.valuePlaceholder=e.label||u)),t=wB(wB({},r),t),e.widgets[x]=t};for(var x in f.widgets)_();if(o||(e.operators||(e.operators=Array.from(new Set(g))),e.defaultOperator||(e.defaultOperator=v)),!o&&!d&&!i){var w=function(e,t){if(!t)return{};var r=e.settings.fieldSeparator,n=pj(t).reduce((function(t,n,o,i){var a=t.computedPath,l=t.computed,s=t.inGroup,u=[].concat(pj(i.slice(0,o)),[n]),c=FB(e,u);return"!group"===(null==c?void 0:c.type)&&o<i.length-1?(s=u.join(r),a=[]):null!=c&&c.fieldName?(l=!0,a=[c.fieldName]):a=[].concat(pj(a),[n]),{computedPath:a,computed:l,inGroup:s}}),{computedPath:[],computed:!1,inGroup:void 0}),o=n.computedPath,i=n.computed,a=n.inGroup;return i?{fieldName:o.join(r),inGroup:a}:{}}(t,n),O=w.fieldName,S=w.inGroup;O&&(e.fieldName=O,t.__fieldNames[O]||(t.__fieldNames[O]=[]),t.__fieldNames[O].push({fullPath:n,inGroup:S}))}}else e.disabled=!0}function CB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qB=fI.mark(LB),IB=fI.mark(PB),AB=Fq;function LB(e){return fI.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(NB(e,e.funcs||{},[]),"t0",1);case 1:case"end":return t.stop()}}),qB)}function PB(e){return fI.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(NB(e,e.fields||{},[]),"t0",1);case 1:case"end":return t.stop()}}),IB)}function NB(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";return fI.mark((function o(i){var a,l,s;return fI.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=(null==e||null===(i=e.settings)||void 0===i?void 0:i.fieldSeparator)||".",o.t0=fI.keys(t);case 2:if((o.t1=o.t0()).done){o.next=13;break}if(l=o.t1.value,!(s=t[l])[n]){o.next=9;break}return o.delegateYield(NB(e,s[n],[].concat(pj(r),[l]),n),"t2",7);case 7:o.next=11;break;case 9:return o.next=11,[[].concat(pj(r),[l]).join(a),s];case 11:o.next=2;break;case 13:case"end":return o.stop()}}),o)}))()}var FB=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";if(!t)return null;if("!case_value"===t)return null==e||null===(n=e.settings)||void 0===n?void 0:n.caseValueField;var a=(null==e||null===(r=e.settings)||void 0===r?void 0:r.fieldSeparator)||".",l=HB(t,e),s=e[o];if(!s)return null;for(var u=s,c=null,d=[],p=0;p<l.length;p++){var f=l[p];d.push(f),c=u[d.join(a)],p<l.length-1&&(c&&c[i]?(u=c[i],d=[]):c=null)}return c},RB=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.settings.fieldSeparator,a=[o].concat(pj(t.split(i))).filter((function(e){return null!=e})),l=t;return((null===(r=e.__fieldNames[l])||void 0===r||null===(n=r.find)||void 0===n||null===(n=n.call(r,(function(e){var t=e.inGroup;return!t||(null==o?void 0:o.startsWith(t))})))||void 0===n?void 0:n.fullPath)||a).join(i)},MB=function(e,t){if(!t)return null;var r=FB(e,t,"funcs","subfields");if(!r)return null;var n=r.returnType,o=r.args;return{returnType:n,args:Object.fromEntries(Object.entries(o||{}).map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return[r,XA(n,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"])]})))}},DB=function(e,t){if(!t)return null;var r=FB(e,t,"funcs","subfields");return r||null},VB=function(e,t,r){var n=DB(e,t);if(!n)return null;var o=n.args&&n.args[r]||null;return o||null},zB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;var o=(null==n||null===(r=n.settings)||void 0===r?void 0:r.fieldSeparator)||".",i=BB(e,n),a=BB(t,n);return i.startsWith(a+o)},BB=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e)return e;var n=(null==r||null===(t=r.settings)||void 0===t?void 0:t.fieldSeparator)||".";return HB(e,r).join(n)},HB=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var i,a=(null==o||null===(t=o.settings)||void 0===t?void 0:t.fieldSeparator)||".";return null!=e&&e.func?Array.isArray(e.func)?e.func:e.func.split(a):null!=e&&null!==(r=e.get)&&void 0!==r&&r.call(e,"func")?null==e||null===(i=e.get)||void 0===i?void 0:i.call(e,"func").split(a):(null==e||null===(n=e.split)||void 0===n?void 0:n.call(e,a))||[]},$B=function(e){var t;if("string"==typeof e||Array.isArray(e))return"field:".concat(BB(e));if("object"===_(e)&&e){if(e._funcKey&&e._argKey)return"arg:".concat(BB(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(BB(e._funcKey));if(e.func&&e.arg)return"arg:".concat(BB(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(BB(e.func));if(e.type)return null}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?"arg:".concat(BB(e.get("func")),"__").concat(e.get("arg")):"func:".concat(BB(e.get("func"))):null},UB=function(e,t,r){var n;return null===(n=e.__cache)||void 0===n||null===(n=n[t])||void 0===n?void 0:n[r]},WB=function(e,t,r,n){e.__cache&&r&&(e.__cache[t]||(e.__cache[t]={}),e.__cache[t][r]=n)},KB=function(e){var t;if(!e)return null;if("object"===_(e)){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?null:"func":"field"},GB=function(e,t){var r;if(!t)return null;if("object"==_(t)){if(!t.func&&t.type)return t;if(t.func)return t.func&&t.arg?VB(e,t.func,t.arg):DB(e,t.func)}if(null!=t&&null!==(r=t.get)&&void 0!==r&&r.call(t,"func"))return null!=t&&t.get("arg")?VB(e,t.get("func"),t.get("arg")):DB(e,t.get("func"));var n=FB(e,t);return n||null},YB=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var n=e.operators[t];if(r){var o,i,a=$B(r),l=a?"".concat(a,"__").concat(t):null,s=UB(e,"getOperatorConfig",l);if(s)return s;var u=GB(e,r),c=xV(e,r,t,null),d=e.widgets[c]||{},p=(u&&u.widgets?u.widgets[c]:{})||{},f=(null===(o=d.opProps)||void 0===o?void 0:o[t])||{},h=(null===(i=p.opProps)||void 0===i?void 0:i[t])||{},g=TB(TB(TB({},n),f),h);return WB(e,"getOperatorConfig",l,g),g}return n},JB=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return null;var l=GB(e,t),s=$B(t);o||(o=xV(e,t,n,i));var u=s?"".concat(s,"__").concat(n,"__").concat(o,"__").concat(i):null,c=UB(e,"getFieldWidgetConfig",u);if(c)return c;var d=e.widgets[o]||{},p=(null==l||null===(r=l.widgets)||void 0===r?void 0:r[o])||{},f=p.widgetProps||{},h="value"!==i&&i?{}:null==l?void 0:l.fieldSettings,g=TB(TB(TB(TB({},d),p),f),h);return WB(e,"getFieldWidgetConfig",u,g),a.forExport&&(g=Vq(g,"factory")),g},QB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.settings.fieldSeparator,n=HB(t,e),o=t?FB(e,t):e,i=null,a=[];do{var l,s=o===e?e.fields:null===(l=o)||void 0===l?void 0:l.subfields;if(!s||!Object.keys(s).length){o=i=null;break}i=Object.keys(s)[0],a.push(i),o=s[i]}while("!struct"==o.type||"!group"==o.type);return(n||[]).concat(a).join(r)};const XB=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:UB,_saveToConfigCache:WB,_widgetDefKeysToOmit:AB,applyJsonLogic:function(e,t){return Az.apply(e,t)},cleanJSX:Jq,compileConfig:tB,compressConfig:Zz,configKeys:Hz,createConfigMemo:yB,decompressConfig:eB,extendConfig:OB,findExtendedConfigInAllMemos:mB,getCommonMemo:vB,getFieldConfig:GB,getFieldId:$B,getFieldParts:HB,getFieldPath:BB,getFieldPathParts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var n=t.settings.fieldSeparator,o=HB(e,t);return r?o:o.map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return e.join(n)}))},getFieldRawConfig:FB,getFieldSrc:KB,getFieldWidgetConfig:JB,getFirstField:QB,getFuncArgConfig:VB,getFuncConfig:DB,getFuncSignature:MB,getOperatorConfig:YB,isDirtyJSX:Qq,isFieldDescendantOfField:zB,isJSX:Xq,iterateFields:PB,iterateFuncs:LB,normalizeField:RB},Symbol.toStringTag,{value:"Module"}));function ZB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZB(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tH=function(e,t,r){if(e){var n=e.get("type"),o=e.get("children1");return("group"===n||"rule_group"===n)&&o&&o.size?rH(e,t,r):"rule"===n?nH(e,t,r):void 0}},rH=function(e,t,r){var n=e.get("properties")||new $C,o=e.get("children1"),i=e.get("id"),a=o.map((function(e){return tH(e,t,r)})).filter((function(e){return void 0!==e}));if(a.size){var l=n.get("conjunction");l||(l=VR(t));var s=n.get("not");return{id:i,rules:a.toList(),condition:l.toUpperCase(),not:s}}},nH=function(e,t,r){var n,o=e.get("properties")||new $C,i=e.get("id"),a=o.get("operator"),l=o.get("operatorOptions"),s=o.get("field"),u=o.get("value"),c=o.get("valueSrc"),d=o.get("valueType"),p=u.filter((function(e){return void 0===e})).size>0;if(null!=s&&null!=a&&!p){var f=GB(t,s)||{},h=YB(t,a,s)||{},g=f.type||"undefined",v=zq(h),m=t.types[f.type]||{},y=wV(s,t,r);if(!(u.size<v)){-1==r.usedFields.indexOf(s)&&r.usedFields.push(s),u=u.toArray(),c=c.toArray(),d=(null===(n=d)||void 0===n?void 0:n.toArray())||[];for(var b=[],_=0;_<u.length;_++){var x={type:d[_],value:u[_]};if(b.push(x),"field"==c[_]){var w=u[_];-1==r.usedFields.indexOf(w)&&r.usedFields.push(w)}}var O=l?l.toJS():null;O&&!Object.keys(O).length&&(O=null);var S={id:i,fieldName:y,type:g,input:m.mainWidget,operator:a};return O&&(S.operatorOptions=O),S.values=b,S}}};function oH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return lH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function lH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(e){var a,l=e.get("type"),s=(e.get("properties")||new $C).get("isLocked"),u=t.settings.jsonLogic.lockedOp;return"group"===l||"rule_group"===l?a=uH(e,t,r,n,o,i):"rule"===l?a=cH(e,t,r,n,i):"switch_group"==l?a=dH(e,t,r,n):"case_group"==l&&(a=pH(e,t,r,n,i)),s&&a&&u&&(a=b({},u,a)),a}},uH=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,p=e.get("type"),f=e.get("properties")||new $C,h=f.get("mode"),g=e.get("children1")||new hT,v=f.get("field"),m=GB(t,v),y=f.get("conjunction");y||(y=VR(t));var _=t.conjunctions[y].jsonLogicConj||y.toLowerCase(),x=!!f.get("not"),w="rule_group"===p&&!c,O=w&&"struct"!=h,S=O?v:d,k=f.get("operator"),j=k&&YB(t,k,v)||null,E=fH(t,f,r,k,d),C=w&&(!k||0==(null===(n=j)||void 0===n?void 0:n.cardinality)),T=w&&(null==g?void 0:g.size)>0;w&&(null==g||g.size);var q=x,I=!1;T?(I=x,q=u):u&&(q=!q);var A=!1,L=null===(o=j)||void 0===o?void 0:o.reversedOp,P=YB(t,L,v),N=!(null!==(i=j)&&void 0!==i&&i.jsonLogic||null===(a=P)||void 0===a||!a.jsonLogic),F=!(null===(l=P)||void 0===l||!l.jsonLogic),R=null===(s=LV(e))||void 0===s?void 0:s.get("type");if(!!t.settings.reverseOperatorsForNot&&(!w&&q&&"rule"===R||I&&1===(null==g?void 0:g.size))&&(T?I=!I:q=!q,A=!0),q&&w&&F&&(!!t.settings.reverseOperatorsForNot||N)){q=!q;var M=[L,k];k=M[0],L=M[1];var D=[P,j];j=D[0],P=D[1]}var V=g.map((function(e){return sH(e,t,r,A,!1,S)})).filter((function(e){return void 0!==e})),z=!!t.settings.exportPreserveGroups;if(O&&!C){if(null==E)return}else if(!V.size&&!z)return;var B=c||z||1!=V.size;B||!x||A||(B=g.some((function(e){var r,n,o,i,a=null===(r=e.get("properties"))||void 0===r?void 0:r.get("operator"),l=null===(n=t.operators)||void 0===n||null===(n=n[a])||void 0===n?void 0:n.reversedOp;return null!==(o=null===(i=t.operators)||void 0===i||null===(i=i[l])||void 0===i?void 0:i._jsonLogicIsExclamationOp)&&void 0!==o&&o})));var H={};if(B?H[_]=V.toList().toJS():H=V.first(),I&&(H={"!":H}),O){var $=vH(r,t,v,d);if(C){H=b({},k||"some",[$,H])}else{var U=V.size?{filter:[$,H]}:$;H=mH(t,f,{reduce:[U,{"+":[1,{var:"accumulator"}]},0]},E,k,null,m)}}return q&&(H={"!":H}),H},cH=function(e,t,r){var n,o,i,a,l,s,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=e.get("properties")||new $C,p=d.get("field"),f=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if((g=g?g.toJS():null)&&!Object.keys(g).length&&(g=null),null!=p&&null!=h){var v=GB(t,p),m=YB(t,h,p),y=null===(n=m)||void 0===n?void 0:n.reversedOp,b=YB(t,y,p);if(null!==(o=m)&&void 0!==o&&o.jsonLogic||null!==(i=b)&&void 0!==i&&i.jsonLogic){var _=u,x=!(null!==(a=m)&&void 0!==a&&a.jsonLogic||null===(l=b)||void 0===l||!l.jsonLogic),w=!(null===(s=b)||void 0===s||!s.jsonLogic)&&(!!t.settings.reverseOperatorsForNot||x);if(_&&w||x){_=!_;var O=[y,h];h=O[0],y=O[1];var S=[b,m];m=S[0],b=S[1]}var k=fH(t,d,r,h,c);if(void 0!==k){var j="func"===f?gH(r,t,p,c):vH(r,t,p,c);if(void 0!==j)return mH(t,d,j,k,h,g,v,_)}}else r.errors.push("Operator ".concat(h," is not supported"))}},dH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.get("children1");if(o){for(var i=o.map((function(e){return pH(e,t,r,n,null)})).filter((function(e){return void 0!==e})).valueSeq().toArray(),a=[],l=0;l<i.length;l++)l===i.length-1||i[l][0]?(a.push(i[l]),l===i.length-1&&i[l][0]&&a.push([void 0,null])):r.errors.push("No condition for case ".concat(l));if(a.length){if(1===a.length){var s=Kt(a[0],2);s[0];var u=s[1];return null==u&&(u=null),u}var c={if:[]},d=c.if,p=Kt(a[a.length-1],2);p[0];for(var f=p[1],h=0;h<a.length-1;h++){var g=h===a.length-2,v=Kt(a[h],2),m=v[0],y=v[1];null==y&&(y=null),null==m&&(m=!0),d.push(m),d.push(y),g?d.push(f):(d.push({if:[]}),d=d[d.length-1].if)}return c}}},pH=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.get("type");if("case_group"==i){var a=e.get("properties")||new $C;return[uH(e,t,r,n,o),fH(t,a,r,null,o,"!case_value")]}r.errors.push("Unexpected child of type ".concat(i," inside switch"))},fH=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u=GB(e,a),c=YB(e,n,a),d=zq(c),p=t.get("value"),f=t.get("asyncListValues");if(null!=p){var h=r.usedFields,g=p.map((function(t,i){var d=l?l.get(i):null,p=s?s.get(i):null,h=AV(t,d,e),g=xV(e,a,n,d),v=JB(e,a,n,g,d,{forExport:!0});return hH(r,e,h,d,p,v,u,n,c,o,f)})),v=g.filter((function(e){return void 0===e})).size>0;if(!(g.size<d||v))return d>1?g.toArray():1==d?g.first():null;r.usedFields=h}},hH=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"==n)d=vH(e,t,r,u);else if("func"==n)d=gH(e,t,r,u);else if("function"==typeof(null==i?void 0:i.jsonLogic)){var p=i.jsonLogic,f=[r,iH(iH({},a?XA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),Vq(i,Fq)];l&&(f.push(l),f.push(s)),d=p.call.apply(p,[t.ctx].concat(f))}else d=r;return d}},gH=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),l=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),s=DB(t,a),u=HB(a,t),c=u[u.length-1];if(s)if(null!=s&&s.jsonLogic){var d={},p=[],f=[];for(var h in s.args){var g,v=s.args[h],m=GB(t,v),y=v.defaultValue,_=v.isOptional,x=null!=y&&y.func?"func":"value",w=l?l.get(h):void 0,O=w?w.get("value"):void 0,S=w?w.get("valueSrc"):void 0;"func"!==S&&null!==(g=O)&&void 0!==g&&g.toJS&&(O=O.toJS());var k=null,j=xV(t,v,k,S),E=JB(t,v,k,j,S,{forExport:!0}),C=hH(e,t,O,S,v.type,E,m,null,null,i);if(null!=O&&void 0===C)return void("func"!=S&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(a)));var T=void 0;if(void 0===C&&!_&&null!=y){var q=xV(t,v,k,x),I=JB(t,v,k,q,x,{forExport:!0});if(void 0===(T=hH(e,t,y,x,v.type,I,m,null,null,i)))return void("func"!=x&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(a)))}var A=null!=C?C:T;if(void 0!==A){if(p.length){var L,P=aH(p);try{for(P.s();!(L=P.n()).done;){d[L.value]=void 0}}catch(B){P.e(B)}finally{P.f()}p=[]}d[h]=A}else _||f.push(h),p.push(h)}if(!f.length){var N,F=Object.values(d);if("function"==typeof s.jsonLogic){var R=s.jsonLogic,M=[d];N=R.call.apply(R,[t.ctx].concat(M))}else{var D=s.jsonLogic||c;if(!!s.jsonLogicIsMethod){var V=F[0],z=F.slice(1);N=z.length?{method:[V,D,z]}:{method:[V,D]}}else N=b({},D,F)}return N}}else e.errors.push("Func ".concat(a," is not supported"));else e.errors.push("Func ".concat(a," is not defined in config"))},vH=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.settings,a=i.fieldSeparator,l=i.jsonLogic;if(r){Array.isArray(r)&&(r=r.join(a));var s=GB(t,r)||{},u=wV(r,t,e,o),c=s.jsonLogicVar||("!group"==s.type?l.groupVarKey:"var");n=b({},c,u),-1==e.usedFields.indexOf(r)&&e.usedFields.push(r)}return n},mH=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=t.get("field"),u=YB(e,o,s)||{},c="function"==typeof u.jsonLogic?u.jsonLogic:function(e,t,r,n){var o=e,i=zq(t);"string"==typeof t.jsonLogic&&(o=t.jsonLogic);var a=["<","<=",">",">="],l=["==","!="];return function(e,t,s,u,c){return 0==i&&l.includes(o)?b({},o,[r,null]):0==i?b({},o,r):1==i?b({},o,[r,n]):2==i&&a.includes(o)?b({},o,[n[0],r,n[1]]):b({},o,[r].concat(pj(n)))}}(o,u,r,n),d=[r,o,n,Vq(u,Rq),i,a],p=c.call.apply(c,[e.ctx].concat(d));return l&&(p={"!":p}),p};function yH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return bH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function bH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_H(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wH=function(e){return"object"==_(e)&&null!==e&&!Array.isArray(e)},OH=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=OB(t,void 0,!1),i=SH([],e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to MongoDb:",n.errors),i)},SH=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;if(t){var s=t.get("type");return"group"===s||"rule_group"===s?kH(e,t,r,n,o,i,a,l):"rule"===s?jH(e,t,r,n,o,i,a,l):void 0}},kH=function(e,t,r,n){var o,i,a,l,s,u,c,d,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=t.get("type"),h=t.get("properties")||new $C,g=!!h.get("not"),v=t.get("children1")||new hT,m=r.settings,y=m.canShortMongoQuery,_=m.fieldSeparator,x=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,w=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),O=x&&w,S="rule_group"===f,k=S?h.get("field"):null,j=S?h.get("operator"):null,E=j&&YB(r,j,k)||null,C=j?null!==(o=null===(i=E)||void 0===i?void 0:i.cardinality)&&void 0!==o?o:1:void 0,T=wV(k,r,n,O),q=(GB(r,k)||{}).mode,I=k&&"array"===q&&C>=1,A=S&&(null==v?void 0:v.size)>0;S&&(null==v||v.size);var L=!1,P=g,N=!1;A?(N=g,P=p):p&&(P=!P);var F=null===(a=E)||void 0===a?void 0:a.reversedOp,R=YB(r,F,k),M=!(null!==(l=E)&&void 0!==l&&l.mongoFormatOp||null===(s=R)||void 0===s||!s.mongoFormatOp),D=!(null===(u=R)||void 0===u||!u.mongoFormatOp),V=null===(c=LV(t))||void 0===c?void 0:c.get("type");if(!!r.settings.reverseOperatorsForNot&&(!S&&P&&"rule"===V||N&&1===(null==v?void 0:v.size))&&(A?N=!N:P=!P,L=!0),P&&S&&D&&(!!r.settings.reverseOperatorsForNot||M)){P=!P;var z=[F,j];j=z[0],F=z[1];var B=[R,E];E=B[0],R=B[1]}var H=h.get("conjunction");H||(H=VR(r));var $=r.conjunctions[H];if($){var U=$.reversedConj;P&&"or"===(null===(d=H)||void 0===d?void 0:d.toLowerCase())&&U&&!S&&!!r.settings.canShortMongoQuery&&!!r.settings.reverseOperatorsForNot&&(H=U,$=r.conjunctions[H],P=!P,L=!0);var W=$.mongoConj,K=v.map((function(o){return SH([].concat(pj(e),[t]),o,r,n,L,"array"!=q,"array"==q?function(e){return"$$el".concat(_).concat(e)}:void 0)})).filter((function(e){return void 0!==e}));if(I||K.size){var G;if(1==K.size)G=K.first();else if(K.size>1){var Y=K.toList().toJS();y&&"$and"==W&&(G=Y.reduce((function(e,t){if(e){for(var r in t){if("$"==r[0]){e=void 0;break}if(null==e[r])e[r]=t[r];else{var n=e[r],o=t[r];if(wH(n)||(n={$eq:n}),wH(o)||(o={$eq:o}),Object.keys(n)[0]==Object.keys(o)[0]){e=void 0;break}e[r]=Object.assign({},n,o)}}return e}}),{})),G||(G=b({},W,Y))}if(k)if("array"==q){var J={$size:{$ifNull:["$"+T,[]]}},Q=G?{$size:{$ifNull:[{$filter:{input:"$"+T,as:"el",cond:G}},[]]}}:J;G={$expr:G=SH(e,t.set("type","rule"),r,n,N,!1,(function(e){return Q}),J)}}else G=b({},T,{$elemMatch:G});return P&&(G={$not:G}),G}}},jH=function(e,t,r,n){var o,i,a,l,s,u,c,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,g=t.get("properties")||new $C,v=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,m=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),y=v&&m,b=g.get("operator"),_=g.get("operatorOptions"),x=g.get("field"),w=g.get("fieldSrc"),O=g.get("value"),S=g.get("valueSrc"),k=g.get("valueType"),j=g.get("asyncListValues");if(null!=x&&null!=b&&void 0!==O){var E=GB(r,x),C=YB(r,b,x),T=null===(o=C)||void 0===o?void 0:o.reversedOp,q=YB(r,T,x),I=zq(C);if(null!==(i=C)&&void 0!==i&&i.mongoFormatOp||null!==(a=q)&&void 0!==a&&a.mongoFormatOp){var A,L=d,P=!(null!==(l=C)&&void 0!==l&&l.mongoFormatOp||null===(s=q)||void 0===s||!s.mongoFormatOp);if(!(null===(u=q)||void 0===u||!u.mongoFormatOp)&&(!!r.settings.reverseOperatorsForNot||P)&&L||P){var N=[T,b];b=N[0],T=N[1];var F=[q,C];C=F[0],q=F[1],L=!L}var R=!1;if("func"==w){var M=TH(n,r,x,y),D=Kt(M,2);A=D[0],R=D[1]}else A=wV(x,r,n,y),f&&(R=!0,A=f(A));if(null!=A){var V,z=[],B=[];if(null!=O){var H=O.map((function(e,t){var o=S?S.get(t):null,i=k?k.get(t):null,a=AV(e,o,r),l=xV(r,x,b,o),s=JB(r,x,b,l,o,{forExport:!0}),u=EH(n,r,a,o,i,s,E,y,b,C,j),c=Kt(u,2),d=c[0],p=c[1];return void 0!==d&&(R=R||p,z.push(o),B.push(i)),d})),$=H.filter((function(e){return void 0===e})).size>0;if(H.size<I||$)return;V=I>1?H.toArray():1==I?H.first():null}var U=R&&p,W=null===(c=C)||void 0===c?void 0:c.mongoFormatOp,K=[A,b,void 0!==h&&null==V?h:V,R,z.length>1?z:z[0],B.length>1?B:B[0],Vq(C,Rq),_,E],G=W.call.apply(W,[r.ctx].concat(K));return U&&(G={$expr:G}),L&&(G={$not:G}),G}}else n.errors.push("Operator ".concat(b," is not supported"))}},EH=function(e,t,r,n,o,i,a,l,s,u,c){if(void 0===r)return[void 0,!1];var d,p=!1;if("field"==n){var f=CH(e,t,r,l),h=Kt(f,2);d=h[0],p=h[1]}else if("func"==n){var g=TH(e,t,r,l),v=Kt(g,2);d=v[0],p=v[1]}else if("function"==typeof(null==i?void 0:i.mongoFormatValue)){var m=i.mongoFormatValue,y=[r,xH(xH({},a?XA(a,["fieldSettings","listValues"]):{}),{},{asyncListValues:c}),Vq(i,Fq)];s&&(y.push(s),y.push(u)),d=m.call.apply(m,[t.ctx].concat(y))}else d=r;return[d,p]},CH=function(e,t,r,n){var o,i=t.settings.fieldSeparator;if(r){var a=GB(t,r)||{},l=HB(r,t),s=vV(r,t),u=s?s.join(i):null;o="$"+(0,t.settings.formatField)(wV(r,t,e,n),l,u,a,t,!1)}return[o,!0]},TH=function(e,t,r,n){var o,i,a,l=null===(o=r.get)||void 0===o?void 0:o.call(r,"func"),s=null===(i=r.get)||void 0===i?void 0:i.call(r,"args"),u=DB(t,l);if(!u)return e.errors.push("Func ".concat(l," is not defined in config")),[void 0,!1];var c=HB(l,t),d=c[c.length-1],p=u.mongoFunc||d,f=u.mongoArgsAsObject,h={},g=0,v=void 0,m=[],y=[];for(var _ in u.args){var x;g++;var w=u.args[_],O=GB(t,w),S=w.defaultValue,k=w.isOptional,j=null!=S&&S.func?"func":"value",E=s?s.get(_):void 0,C=E?E.get("value"):void 0,T=E?E.get("valueSrc"):void 0;"func"!==T&&null!==(x=C)&&void 0!==x&&x.toJS&&(C=C.toJS());var q=E?E.get("asyncListValues"):void 0,I=null,A=xV(t,w,I,T),L=JB(t,w,I,A,T,{forExport:!0}),P=EH(e,t,C,T,w.type,L,O,n,null,null,q),N=Kt(P,2),F=N[0];if(N[1],null!=C&&void 0===F)return"func"!=T&&e.errors.push("Can't format value of arg ".concat(_," for func ").concat(l)),[void 0,!1];var R=void 0;if(void 0===F&&!k&&null!=S){var M=xV(t,w,I,j),D=JB(t,w,I,M,j,{forExport:!0}),V=EH(e,t,S,j,w.type,D,O,n,null,null,q),z=Kt(V,2);if(R=z[0],z[1],void 0===R)return"func"!=j&&e.errors.push("Can't format default value of arg ".concat(_," for func ").concat(l)),[void 0,!1]}var B=null!=F?F:R;if(void 0!==B){if(m.length){var H,$=yH(m);try{for($.s();!(H=$.n()).done;){h[H.value]=void 0}}catch(K){$.e(K)}finally{$.f()}m=[]}h[_]=B,v=B}else k||y.push(_),m.push(_)}if(y.length)return[void 0,!1];if("function"==typeof u.mongoFormatFunc){var U=u.mongoFormatFunc,W=[h];a=U.call.apply(U,[t.ctx].concat(W))}else{if(null===u.mongoFormatFunc)return e.errors.push("Functon ".concat(p," is not supported")),[void 0,!1];a=b({},p,f?h:1==g&&void 0!==v?v:Object.values(h))}return[a,!0]};function qH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return IH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function IH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var PH=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=OB(t,void 0,!1),i=NH(e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SQL:",n.errors),i)},NH=function(e,t,r){if(e){var n=e.get("type");return e.get("children1"),"group"===n||"rule_group"===n?FH(e,t,r):"rule"===n?RH(e,t,r):void 0}},FH=function(e,t,r){var n=e.get("type"),o=e.get("properties")||new $C,i=e.get("children1")||new hT,a="rule_group"===n?o.get("field"):null;"array"==(GB(t,a)||{}).mode&&r.errors.push("Aggregation is not supported for ".concat(a));var l=o.get("not"),s=i.map((function(e){return NH(e,t,r)})).filter((function(e){return void 0!==e}));if(s.size){var u=o.get("conjunction");return u||(u=VR(t)),t.conjunctions[u].sqlFormatConj.call(t.ctx,s,u,l)}},RH=function(e,t,r){var n=e.get("properties")||new $C,o=n.get("field"),i=n.get("fieldSrc"),a=n.get("operator"),l=n.get("operatorOptions"),s=n.get("valueSrc"),u=n.get("valueType"),c=n.get("value"),d=n.get("asyncListValues");if(null!=o&&null!=a){var p=GB(t,o)||{},f=YB(t,a,o)||{},h=f.reversedOp,g=YB(t,h,o)||{},v=zq(f),m=!1,y=f.sqlOp||f.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(y||b){if(!y&&b){m=!0;var _=[h,a];a=_[0],h=_[1];var x=[g,f];f=x[0],g=x[1]}var w,O=[],S=[];if(null!=c){var k=c.map((function(e,n){var i=s?s.get(n):null,l=u?u.get(n):null,c=AV(e,i,t),h=xV(t,o,a,i),g=JB(t,o,a,h,i,{forExport:!0}),v=MH(r,t,c,i,l,g,p,a,f,d);return void 0!==v&&(O.push(i),S.push(l)),v}));if(k.filter((function(e){return void 0===e})).size>0||k.size<v)return;w=1==v?k.first():k}var j=f.sqlFormatOp||function(e,t){var r,n=t.sqlOp||e,o=zq(t);return 0==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n)}:1==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n," ").concat(r)}:2==o&&(r=function(e,t,r,o,i,a,l,s){var u,c,d=null==r||null===(u=r.first)||void 0===u?void 0:u.call(r),p=null==r||null===(c=r.get)||void 0===c?void 0:c.call(r,1);return"".concat(e," ").concat(n," ").concat(d," AND ").concat(p)}),r}(a,f);if(j){var E="func"==i?VH(r,t,o):DH(r,t,o);if(null!=E){var C,T=[E,a,w,O.length>1?O:O[0],S.length>1?S:S[0],Vq(f,Rq),l,p];if(C=j.call.apply(j,[t.ctx].concat(T)),m&&(C=t.settings.sqlFormatReverse.call(t.ctx,C)),void 0!==C)return C;r.errors.push("Operator ".concat(a," is not supported for value source ").concat(O.join(", ")))}}else r.errors.push("Operator ".concat(a," is not supported"))}else r.errors.push("Operator ".concat(a," is not supported"))}},MH=function(e,t,r,n,o,i,a,l,s,u){if(void 0!==r){var c;if("field"==n)c=DH(e,t,r);else if("func"==n)c=VH(e,t,r);else if("function"==typeof(null==i?void 0:i.sqlFormatValue)){var d=i.sqlFormatValue,p=[r,LH(LH({},XA(a,["fieldSettings","listValues"])),{},{asyncListValues:u}),Vq(i,Fq)];if(l&&(p.push(l),p.push(s)),"field"==n){var f=GB(t,r)||{};p.push(f)}c=d.call.apply(d,[t.ctx].concat(p))}else c=Array.isArray(r)?r.map((function(e){return TF.escape(e)})):TF.escape(r);return c}},DH=function(e,t,r){if(r){var n=t.settings.fieldSeparator,o=GB(t,r)||{},i=HB(r,t),a=vV(r,t),l=a?a.join(n):null;return(0,t.settings.formatField)(wV(r,t,e,null,{useTableName:!0}),i,l,o,t)}},VH=function(e,t,r){var n,o,i=null===(n=r.get)||void 0===n?void 0:n.call(r,"func"),a=null===(o=r.get)||void 0===o?void 0:o.call(r,"args"),l=DB(t,i);if(l){var s=HB(i,t),u=s[s.length-1],c=l.sqlFunc||u,d={},p=[],f=[];for(var h in l.args){var g,v=l.args[h],m=GB(t,v),y=v.defaultValue,b=v.isOptional,_=null!=y&&y.func?"func":"value",x=a?a.get(h):void 0,w=x?x.get("value"):void 0,O=x?x.get("valueSrc"):void 0;"func"!==O&&null!==(g=w)&&void 0!==g&&g.toJS&&(w=w.toJS());var S=x?x.get("asyncListValues"):void 0,k=MH(e,t,w,O,v.type,m,v,null,null,S);if(null!=w&&void 0===k)return void("func"!=O&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(i)));var j=void 0;if(void 0===k&&!b&&null!=y&&void 0===(j=MH(e,t,y,_,v.type,m,v,null,null,S)))return void("func"!=_&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(i)));var E=null!=k?k:j;if(void 0!==E){if(p.length){var C,T=qH(h);try{for(T.s();!(C=T.n()).done;){d[C.value]=void 0}}catch(P){T.e(P)}finally{T.f()}p=[]}d[h]=E}else b||f.push(h),p.push(h)}if(!f.length){var q;if("function"==typeof l.sqlFormatFunc){var I=l.sqlFormatFunc,A=[d];q=I.call.apply(I,[t.ctx].concat(A))}else{var L=Object.entries(d).map((function(e){var t=Kt(e,2);return t[0],t[1]})).join(", ");q="".concat(c,"(").concat(L,")")}return q}}else e.errors.push("Func ".concat(i," is not defined in config"))};function zH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HH(e,t,r,n,o,i){var a=function(e,t){return e}(n);switch(e){case"filter":return{script:o.operators[r].elasticSearchScript(n,t)};case"exists":return{field:n};case"match":return b({},a,t[0]);case"term":return b({},n,i===UH?{value:t[0]}:t[0]);case"geo_bounding_box":return b({},n,function(e){if(null==e)return null;var t=e.split(",").map(Number);return{top_left:{lat:t[0],lon:t[1]},bottom_right:{lat:t[2],lon:t[3]}}}(t[0]));case"range":return b({},n,function(e,t){if(e.length>1)return{gte:"".concat(e[0]),lte:"".concat(e[1])};var r=e[0];switch(t){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}(t,r));case"wildcard":return b({},n,function(e){return{value:"*"+e+"*"}}(t[0]));case"regexp":return b({},n,function(e){return{value:e}}(t[0]));default:return}}function $H(e,t,r,n,o,i){if(e&&r&&null!=t){var a=r,l=n.operators[a];if(l){var s=l.elasticSearchQueryType,u=!1;if(!s&&l.reversedOp)u=!0,a=l.reversedOp,s=(l=n.operators[a]).elasticSearchQueryType;var c=xV(n,e,a,o),d=n.widgets[c];if(d){var p,f,h=d.elasticSearchFormatValue;if(p="function"==typeof s?s(c):s)return f="function"==typeof h?h(p,t,a,e,n):HH(p,t,a,e,n,i),u?{bool:{must_not:b({},p,BH({},f))}}:b({},p,BH({},f))}}}}var UH="ES_7_SYNTAX";const WH=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:OH,_spelFormat:$F,_sqlFormat:PH,elasticSearchFormat:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ES_6_SYNTAX",o=OB(r,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if("rule"===i&&a.get("field")){var l,s,u,c=a.get("operator"),d=a.get("field"),p=a.get("fieldSrc"),f=null===(l=a.get("value"))||void 0===l?void 0:l.toJS();null===(s=a.get("valueType"))||void 0===s||s.get(0);var h=null===(u=a.get("valueSrc"))||void 0===u?void 0:u.get(0);if("func"===h||"func"==p)return;return f&&Array.isArray(f[0])?f[0].map((function(e){return $H(d,[e],c,o,h,n)})):$H(d,f,c,o,h,n)}if("group"===i||"rule_group"===i){var g=a.get("not"),v=a.get("conjunction");return v||(v=VR(o)),function(e,t,r,n,o,i){if(e&&e.size){var a=e.valueSeq().toArray(),l=function(e,t){switch(e){case"AND":return t?"must_not":"must";case"OR":return t?"should_not":"should";case"NOT":return t?"must":"must_not";default:return}}(t,r),s=a.map((function(e){return n(e,o,i)})).filter((function(e){return void 0!==e}));if(s.length){var u=s.flat(1/0);return{bool:b({},l,u)}}}}(t.get("children1"),v,g,e,o,n)}}},jsonLogicFormat:function(e,t){var r={usedFields:[],errors:[]},n=OB(t,void 0,!1),o=sH(e,n,r,!1,!0),i=r.errors,a=r.usedFields;n.settings.fieldSeparator;var l,s={},u=aH(a);try{for(u.s();!(l=u.n()).done;)for(var c=l.value,d=HB(c,t),p=(GB(n,c),s),f=0;f<d.length;f++){var h=d[f],g=GB(n,d.slice(0,f+1))||{};f!=d.length-1?"!group"==g.type&&"struct"!=g.mode?(p[h]||(p[h]=[{}]),p=p[h][0]):(p[h]||(p[h]={}),p=p[h]):p[h]||(p[h]=null)}}catch(v){u.e(v)}finally{u.f()}return{errors:i,logic:o,data:s}},mongodbFormat:function(e,t){return OH(e,t,!1)},queryBuilderFormat:function(e,t){var r={usedFields:[]},n=tH(e,t,r);if(n)return eH(eH({},n),r)},queryString:JR,spelFormat:function(e,t){return $F(e,t,!1)},sqlFormat:function(e,t){return PH(e,t,!1)}},Symbol.toStringTag,{value:"Module"}));function KH(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function GH(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){KH(i,n,o,a,l,"next",e)}function l(e){KH(i,n,o,a,l,"throw",e)}a(void 0)}))}}var YH=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function JH(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return QH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QH(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function QH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XH(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const e$=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:function(e){var t,r=[],n=[],o=JH(e);try{var i=function(){var e=t.value,o=function(e,t){if(e.findLastIndex)return e.findLastIndex(t);var r=pj(e).reverse().findIndex(t);return-1==r?-1:e.length-1-r}(r,(function(t){var r,n;return(null!==(r=t.groupTitle)&&void 0!==r?r:"")==(null!==(n=e.groupTitle)&&void 0!==n?n:"")}));null==e.groupTitle||n.includes(e.groupTitle)||(n.push(e.groupTitle),1===n.length&&(r=r.map((function(e){return ZH(ZH({},e),{},{groupTitle:""})})))),null==e.groupTitle&&n.length&&(e=ZH(ZH({},e),{},{groupTitle:""})),-1!=o?r.splice(o+1,0,e):r.push(e)};for(o.s();!(t=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},getListValue:AN,listValueToOption:function(e){if(null==e)return null;var t=e.title,r=e.value,n=e.disabled,o=e.groupTitle,i=e.grouplabel,a=e.renderTitle,l=e.children,s=e.label,u=e.isCustom,c=e.isHidden,d=bn(e,YH),p={value:r,title:t||s||l};return n&&(p.disabled=n),u&&(p.isCustom=u),c&&(p.isHidden=c),(o||i)&&(p.groupTitle=o||i),a&&(p.renderTitle=a),p=ZH(ZH({},p),d)},mergeListValues:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return e;var o=e||[],i=t.filter((function(e){return null==o.find((function(t){return""+t.value==""+e.value}))})).map((function(e){return n?ZH(ZH({},e),{},{isHidden:!0}):e}));return r?[].concat(pj(i),pj(o)):[].concat(pj(o),pj(i))},optionToListValue:function(e,t,r){var n,o=null==e||""==e?void 0:null!==(n=null==e?void 0:e.value)&&void 0!==n?n:e,i=AN(o,t),a=r&&!i?EN(o):void 0,l=i||a;return[o,l?[l]:void 0]},optionsToListValues:function(e,t,r){var n=e.map((function(e,n){var o,i=null==e||""==e?void 0:null!==(o=null==e?void 0:e.value)&&void 0!==o?o:e,a=AN(i,t),l=r&&!a?EN(i):void 0;return a||l})).filter((function(e){return null!=e})),o=n.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e}));return o.length||(o=void 0),[o,n]},simulateAsyncFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(){var n=GH(fI.mark((function n(o,i,a){var l,s,u,c,d,p;return fI.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=null!=(null==a?void 0:a.pageSize)?a.pageSize:t,s=CN(e).filter((function(e){var t=e.title,r=e.value;return null==o||(-1!=t.toUpperCase().indexOf(o.toUpperCase())||-1!="".concat(r).toUpperCase().indexOf(o.toUpperCase()))})),l&&Math.ceil(s.length/l),u=i||0,c=l?s.slice(u,u+l):s,d=l?u+c.length:null,p=!!l&&d<s.length,!r){n.next=11;break}return n.next=11,eI(r);case 11:return n.abrupt("return",{values:c,hasMore:p});case 12:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}},Symbol.toStringTag,{value:"Module"})),t$=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:e$,ConfigUtils:XB,DefaultUtils:UR,ExportUtils:RF,FuncUtils:cV,ListUtils:LN,OtherUtils:lI,RuleUtils:PV,TreeUtils:KN,Validation:eV,checkTree:DD,clone:qz,compressConfig:Zz,decompressConfig:eB,getSwitchValues:HN,i18n:AD,isValidTree:RD,moment:tw,sanitizeTree:zD,uuid:Lq,validateAndFixTree:BD,validateTree:VD},Symbol.toStringTag,{value:"Module"}));var r$={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},n$={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim,i=r+(o.charAt(0).toUpperCase()+o.slice(1)+"s");return"".concat(t,".").concat(i,"(").concat(n,")")},spelImport:function(e){var t,r,n,o,i=null===(t=e.methodName)||void 0===t?void 0:t.match(/^(minus|plus)(\w+)s$/);if(i&&(o=i[2].toLowerCase(),r=i[1],["minus","plus"].includes(r)&&["day","week","month","year"].includes(o)))return r={type:"string",val:r},o={type:"string",val:o},n=e.args[0],{date:e.obj,op:r,val:n,dim:o}},jsonLogic:function(e){var t=e.date,r=e.op;return{date_add:[t,e.val*("minus"==r?-1:1),e.dim]}},jsonLogicImport:function(e){var t=e.date_add[0],r=Math.abs(e.date_add[1]);return[t,e.date_add[1]>=0?"plus":"minus",r,e.date_add[2]]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return"DATE_ADD(".concat(t,", INTERVAL ").concat(parseInt(n)*("minus"==r?-1:1)," ").concat(o.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return n?"".concat(t," ").concat("minus"==r?"-":"+"," ").concat(n," ").concat(o):t},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},o$={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},i$={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},a$={label:"Linear regression",returnType:"number",formatFunc:function(e,t){var r=e.coef,n=e.bias,o=e.val;return"(".concat(r," * ").concat(o," + ").concat(n,")")},sqlFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelImport:function(e){var t,r;if("op-plus"===e.type){var n=Kt(e.children,2);if(r=n[0],t=n[1],"op-multiply"===r.type){var o=Kt(r.children,2);return{coef:o[0],val:o[1],bias:t}}}},mongoFormatFunc:function(e){var t=e.coef,r=e.bias;return{$sum:[{$multiply:[t,e.val]},r]}},jsonLogic:function(e){var t=e.coef,r=e.bias;return{"+":[{"*":[t,e.val]},r]}},jsonLogicImport:function(e){return[e["+"][0]["*"][0],e["+"][0]["*"][1],e["+"][1]]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},l$={utils:{SqlString:TF,moment:tw,mongoFormatOp1:function(e,t,r,n,o,i,a,l,s,u,c,d){var p="string"!=typeof n||n.startsWith("$")?n:"$"+n,f=t(i,d);if(void 0!==f)return r?a||e&&"$eq"!=e?a?{$not:b({},e,[p,f])}:b({},n,{$not:b({},e,f)}):b({},n,{$ne:f}):a||e&&"$eq"!=e?a?b({},e,[p,f]):b({},n,b({},e,f)):b({},n,f)},mongoFormatOp2:function(e,t,r,n,o,i,a,l,s,u,c){var d="string"!=typeof r||r.startsWith("$")?r:"$"+r;return t?i?{$not:{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}}:b({},r,{$not:b(b({},e[0],o[0]),e[1],o[1])}):i?{$and:[b({},e[0],[d,o[0]]),b({},e[1],[d,o[1]])]}:b({},r,b(b({},e[0],o[0]),e[1],o[1]))},mongoEmptyValue:IF,escapeRegExp:Gq,sqlEmptyValue:qF,stringifyForDisplay:NF,getTitleInListValues:qN,spelEscape:PF,spelFixList:LF,wrapWithBrackets:FF}};function s$(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u$(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function u$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c$(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p$={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,t,r,n,o,i,a,l,s){var u=l?"=":i.label;return"boolean"==o&&l?"No"==r?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(u," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,t,r,n,o,i,a,l,s){return"boolean"==o&&l?"No"==r?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(i.label," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(e){return e},!1].concat(r))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(e){return e},!1].concat(r))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return e},!1].concat(r))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(e){return e},!1].concat(r))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:function(e,t,r){return{in:[r,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!0].concat(n))},jsonLogic:function(e,t,r){return{"!":{in:[r,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?"^"+t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e)+"$":void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," BETWEEN ").concat(s," AND ").concat(u):"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return"time"===e?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," NOT BETWEEN ").concat(s," AND ").concat(u):"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,t,r){return{"!":{"<=":[Array.isArray(r)?r[0]:r,e,Array.isArray(r)?r[1]:r]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") = ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") <> ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return null},!1].concat(r))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return null},!1].concat(r))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"".concat(e," ").concat(s," ").concat(r)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != ").concat(r)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):"".concat(e," IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):void 0},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):"".concat(e," NOT IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e){return e},!1].concat(r))},reversedOp:"select_any_in",jsonLogic:function(e,t,r){return{"!":{in:[e,r]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," CONTAINS [").concat(r.join(", "),"]"):"".concat(e," CONTAINS ").concat(r)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,t,r){return{some:[e,{in:[{var:""},r]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT CONTAINS [").concat(r.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(r)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,t,r){return{"!":{some:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"value"==n?"".concat(e," ").concat(s," [").concat(r.join(", "),"]"):"".concat(e," ").concat(s," ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," = '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,t,r){return{all:[e,{in:[{var:""},r]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," != [").concat(r.join(", "),"]"):"".concat(e," != ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," != '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,t,r){return{"!":{all:[e,{in:[{var:""},r]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=null==a?void 0:a.get("proximity");return"".concat(e," ").concat(s," NEAR/").concat(c," ").concat(u)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=this.utils.SqlString.trim(s),d=this.utils.SqlString.trim(u),p=null==a?void 0:a.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(c,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return 0},!1].concat(r))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,t,r){return"".concat(e," == ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return 0},!1].concat(r))}}},f$={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r){var n=r.step&&!Number.isInteger(r.step);return this.utils.spelEscape(e,n)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=this.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e);return n?this.utils.stringifyForDisplay(o):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=e.map((function(e){return o.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e)}));return n?i.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e,t,r,n,o){var i=o&&o.spelOp&&o.spelOp.startsWith("${1}"),a=this.utils.spelEscape(e);return i&&(a=this.utils.spelFixList(a)),a},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("YYYY-MM-DD"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD");return"T(java.time.LocalDate).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o,i,a;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&null!==(n=r.fmt)&&void 0!==n&&null!==(n=n.value)&&void 0!==n&&null!==(o=n.includes)&&void 0!==o&&o.call(n," ")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&null!==(a=i.toLowerCase)&&void 0!==a&&a.call(i).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(r.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("HH:mm:ss"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(i,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,t,r){var n,o,i;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&r.fmt&&(null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.toLowerCase)||void 0===o||!o.call(n).includes("hh:mm")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&i.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(r.fmt))];var a=this.utils.moment(e.value,"HH:mm:ss");return a.isValid()?[a.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?60*r.get("hour")*60+60*r.get("minute")+r.get("second"):void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},elasticSearchFormatValue:function(e,t,r,n){return{script:{script:{source:"doc[".concat(n,"][0].getHour() >== params.min && doc[").concat(n,"][0].getHour() <== params.max"),params:{min:t[0],max:t[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat+" "+r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.toDate())},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD HH:mm:ss");return"T(java.time.LocalDateTime).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd HH:mm:ss","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o;if(!t)return[void 0,"No widget def to get value format"];if(null==r||null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.includes)||void 0===o||!o.call(n," "))return[void 0,"Invalid datetime format ".concat(JSON.stringify(r.fmt))];var i=this.utils.moment(e.value,this.utils.moment.ISO_8601);return i.isValid()?[i.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,t,r,n){return n?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},field:{valueSrc:"field",formatValue:function(e,t,r,n,o,i,a){return n&&a.label||e},sqlFormatValue:function(e,t,r,n,o,i){return e},spelFormatValue:function(e,t,r,n,o){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(""===e?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return""===e?null:e}}},h$=d$(d$({},uB),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,t,r,n,o,i){var a=this,l=n.map((function(e,t){var r=e.key,n=e.parent,o=e.fieldSeparator;return 0==t?"[map]"==n?"#this[".concat(a.utils.spelEscape(r),"]"):r:"map"==n||"[map]"==n?"[".concat(a.utils.spelEscape(r),"]"):"".concat(o).concat(r)})).join("");return o.fieldName&&(l=e),o.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(null!=e)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(null!=e)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,t,r,n,o,i){if(null!=e)return i?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,t,r,n,o,i,a,l,s,u){var c=a.labelForFormat,d=a.cardinality;if(0==d){var p=e?" HAVE ".concat(e):"";return"".concat(c," OF ").concat(t).concat(p)}if(null==d||1==d){var f=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(t).concat(f," ").concat(c," ").concat(n)}if(2==d){var h=e?" WHERE ".concat(e):"",g=n.first(),v=n.get(1);return"COUNT OF ".concat(t).concat(h," ").concat(c," ").concat(g," AND ").concat(v)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,t,r,n){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),g$=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={rangeslider:y$,treeselect:b$,treemultiselect:_$,rangeable__date:m$("date","date")},i=s$(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=o[a];if(!l)throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(a));e=l(e,n)}}catch(s){i.e(s)}finally{i.f()}return e},v$=function(e,t){return g$(e,t,!0)},m$=function(e,t){return function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.types;return o=d$(d$({},o),{},b({},e,d$(d$({},o[e]),{},{widgets:d$({},o[e].widgets)}))),n?o[e].widgets[t]=d$({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},o[e].widgets[t]):delete o[e].widgets[t],d$(d$({},r),{},{types:o})}},y$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=d$({},r),t?r.rangeslider=d$({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},singleWidget:"slider",toJS:function(e,t){return e}},r.rangeslider):delete r.rangeslider,n=d$(d$({},n),{},{number:d$(d$({},n.number),{},{widgets:d$({},n.number.widgets)})}),t?n.number.widgets.rangeslider=d$({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},n.number.widgets.rangeslider):delete n.number.widgets.rangeslider,d$(d$({},e),{},{widgets:r,types:n})},b$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=d$({},r),t?r.treeselect=d$({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,i=this.utils.getTitleInListValues(o,e);return n?this.utils.stringifyForDisplay(i):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treeselect):delete r.treeselect,n=d$({},n),t?n.treeselect=d$({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},n.treeselect):delete n.treeselect,d$(d$({},e),{},{widgets:r,types:n})},_$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=d$({},r),t?r.treemultiselect=d$({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,a=e.map((function(e){return o.utils.getTitleInListValues(i,e)}));return n?a.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treemultiselect):delete r.treemultiselect,n=d$({},n),t?n.treemultiselect=d$({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},n.treemultiselect):delete n.treemultiselect,d$(d$({},e),{},{widgets:r,types:n})},x$={addMixins:v$,removeMixins:function(e,t){return g$(e,t,!1)}},w$={conjunctions:{AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,t,r,n){var o=e.size>1?e.join(" "+(n?"AND":"&&")+" "):e.first();return(e.size>1||r)&&(o=this.utils.wrapWithBrackets(o)),r&&(o="NOT "+o),o},sqlFormatConj:function(e,t,r){var n=e.size>1?e.join(" AND "):e.first();return(e.size>1||r)&&(n=this.utils.wrapWithBrackets(n)),r&&(n="NOT "+n),n},spelFormatConj:function(e,t,r,n){r&&(n=!1);var o=e.size>1?e.join(" && "):e.first();return(e.size>1||r)&&!n&&(o=this.utils.wrapWithBrackets(o)),r&&(o="!"+o),o}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,t,r,n){return e.size>1?(r?"NOT ":"")+"("+e.join(" "+(n?"OR":"||")+" ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},sqlFormatConj:function(e,t,r){return e.size>1?(r?"NOT ":"")+"("+e.join(" OR ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},spelFormatConj:function(e,t,r,n){return r&&(n=!1),e.size>1?(r?"!":"")+(n?"":"(")+e.join(" || ")+(n?"":")"):(r?"!(":"")+e.first()+(r?")":"")}}},operators:p$,widgets:f$,types:{text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},settings:h$,ctx:l$};const O$=w$=v$(w$,["rangeslider","treeselect","treemultiselect"]);var S$="ADD_GROUP",k$="ADD_CASE_GROUP",j$="REMOVE_GROUP",E$="SET_CONJUNCTION",C$="SET_NOT",T$="ADD_RULE",q$="REMOVE_RULE",I$="SET_FIELD",A$="SET_FIELD_SRC",L$="SET_OPERATOR",P$="SET_VALUE",N$="SET_VALUE_SRC",F$="SET_FUNC_VALUE",R$="SET_OPERATOR_OPTION",M$="SET_LOCK",D$="SET_TREE",V$="MOVE_ITEM",z$="after",B$="before",H$="append",$$="prepend",U$="SET_DRAG_PROGRESS",W$="SET_DRAG_START",K$="SET_DRAG_END",G$=DV,Y$=Du;var J$=function(e,t){return e&&G$(e,t,Y$)},Q$=cs,X$=Ec;var Z$=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=r[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new Q$;if(n)var p=n(u,c,s,e,t,d);if(!(void 0===p?X$(c,u,3,n,d):p))return!1}}return!0},eU=Qa;var tU=function(e){return e==e&&!eU(e)},rU=tU,nU=Du;var oU=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},iU=Z$,aU=function(e){for(var t=nU(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,rU(o)]}return t},lU=oU;var sU=KI;var uU=Ec,cU=function(e,t,r){var n=null==e?void 0:sU(e,t);return void 0===n?r:n},dU=wA,pU=xI,fU=tU,hU=oU,gU=$I;var vU=KI;var mU=function(e){return function(t){return null==t?void 0:t[e]}},yU=function(e){return function(t){return vU(t,e)}},bU=xI,_U=$I;var xU=function(e){var t=aU(e);return 1==t.length&&t[0][2]?lU(t[0][0],t[0][1]):function(r){return r===e||iU(r,e,t)}},wU=function(e,t){return pU(e)&&fU(t)?hU(gU(e),t):function(r){var n=cU(r,e);return void 0===n&&n===t?dU(r,e):uU(t,n,3)}},OU=MA,SU=As,kU=function(e){return bU(e)?mU(_U(e)):yU(e)};var jU=function(e){return"function"==typeof e?e:null==e?OU:"object"==typeof e?SU(e)?wU(e[0],e[1]):xU(e):kU(e)},EU=XI,CU=J$,TU=jU;const qU=g((function(e,t){var r={};return t=TU(t),CU(e,(function(e,n,o){EU(r,n,t(e,n,o))})),r}));function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IU(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LU(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return PU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PU(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function PU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NU=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(PN(t)))return e;var u=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,c=i.settings.shouldCreateEmptyGroup,d=t.push(u),p=!c,f=!(null==s||!s.isDefaultCase),h=e;return(e=FU(e,t,r,u,zR(i).merge(Cq(o)||{}),i,l))!==h&&(l||f||(e=e.setIn(PN(d,"children1"),new Iq.OrderedMap),p&&(e=FU(e,d,"rule",Lq(),MR(i),i))),e=MN(e)),e},FU=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("switch_group"===r)throw new Error("Can't add switch_group programmatically");var s=e.getIn(PN(t));if(!s)return e;var u,c,d=(null==o||null===(a=o.get)||void 0===a?void 0:a.call(o,"id"))||n,p=i.settings,f=p.maxNumberOfCases,h=p.maxNumberOfRules,g=p.maxNesting,v="switch_group"===e.get("type"),m=v?e.getIn(PN(t.take(2))):null,y=PN(t,"children1"),_=e.getIn(y),x=!!_&&_.size,w=x?_.size:null;"case_group"===r?(u=w,c=f):"group"===r?(u=t.size,c=g):"rule_group"===(null==s?void 0:s.get("type"))||(u=zN(v?m:e),c=h);var O=!c||!u||u<c,S={type:r,id:d,properties:o};zU(i,S,l);var k="case_group"===r&&x&&null==_.last().get("children1");if(O){var j=new Iq.OrderedMap(b({},d,new Iq.Map(S)));if(x)if(k){var E=_.last(),C=new Iq.OrderedMap(b(b({},d,new Iq.Map(S)),E.get("id"),E));e=(e=e.deleteIn(PN(y,"children1",E.get("id")))).mergeIn(y,C)}else e=e.mergeIn(y,j);else e=e.setIn(y,j);e=MN(e)}return e},RU=function(e,t){return e=e.deleteIn(PN(t)),e=MN(e)},MU=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=e.getIn(PN(t));if(!c)return{state:e};var d=u.isEndValue,p=u.canDropArgs;if(!r)return{state:e=RU(e,t)};var f=n.settings,h=f.fieldSeparator,g=f.setOpOnChangeField,v=f.showErrorMessage;Array.isArray(r)&&(r=r.join(h));var m=c.get("type"),y=c.get("properties"),b="rule_group"==m,_=null==y?void 0:y.get("fieldSrc"),x=GB(n,r);if(!x)return console.warn("No config for LHS ".concat(r)),{state:e};var w=x.type;"!group"!==w&&"!struct"!==w||(w=null);var O=null==y?void 0:y.get("operator"),S=null==y?void 0:y.get("operatorOptions"),k=null==y?void 0:y.get("field"),j="!group"==x.type,E=j&&"array"==x.mode,C=b!=j,T=x&&-1!==(null===(i=x.operators)||void 0===i?void 0:i.indexOf(O))?O:null,q="func"===_&&(null==k||null===(a=k.get)||void 0===a?void 0:a.call(k,"func"))===(null===(l=r)||void 0===l||null===(s=l.get)||void 0===s?void 0:s.call(l,"func"))&&!!T,I=null,A="func"===_?pV(n,w):fV(n,r);if(A&&1==A.length)I=A[0];else if(q)I=T;else if(A&&A.length>1){var L,P=LU(g);try{for(P.s();!(L=P.n()).done;){var N=L.value;if("keep"!=N||C?"default"==N?I=FR(n,r,!1):"first"==N&&(I=hV(n,r)):I=T,I)break}}catch(H){P.e(H)}finally{P.f()}}if(!j&&!x.operators)return console.warn("Type ".concat(x.type," is not supported")),{state:e};b&&!j&&(e=(e=(e=e.setIn(PN(t,"type"),"rule")).deleteIn(PN(t,"children1"))).setIn(PN(t,"properties"),new Iq.OrderedMap)),y||(e=e.setIn(PN(t,"properties"),new Iq.OrderedMap));var F=!v;if(j){e=e.setIn(PN(t,"type"),"rule_group");var R=ZD(n,n,y,r,I,"field",F,d,p);R.canReuseValue;var M=R.newValue,D=R.newValueSrc,V=R.newValueType,z=R.operatorCardinality,B=zR(n,x).merge({field:r,fieldSrc:"field",mode:x.mode});E&&(B=B.merge({operator:I,value:M,valueSrc:D,valueType:V})),e=(e=e.setIn(PN(t,"children1"),new Iq.OrderedMap)).setIn(PN(t,"properties"),B),x.initialEmptyWhere&&1==z||(e=FU(e,t,"rule",Lq(),MR(n,r),n)),e=MN(e)}else e=e.updateIn(PN(t,"properties"),(function(e){return e.withMutations((function(e){var t=ZD(n,n,e,r,I,"field",F,d,p),o=t.canReuseValue,i=t.newValue,a=t.newValueSrc,l=t.newValueType,s=t.newValueError,u=t.newFieldError,c=t.fixedField,f=r;c!==r&&(f=c),v&&(e=(e=e.set("fieldError",u)).set("valueError",s));var h=o?S:RR(n,I,f);return e=e.set("field",f).delete("fieldType").set("fieldSrc",_).set("operator",I).set("operatorOptions",h).set("value",i).set("valueSrc",a).set("valueType",l),o||(e=e.delete("asyncListValues")),e}))}));return{state:e}},DU=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e.getIn(PN(t)))return{state:e};var s=l.canDropArgs,u=l.isEndValue,c=i.settings,d=c.fieldSeparator,p=c.showErrorMessage,f=e.getIn(PN(t,"properties","valueSrc",r+""))||null;"field"===f&&Array.isArray(n)&&(n=n.join(d));var h=e.getIn(PN(t,"properties","field"))||null,g=e.getIn(PN(t,"properties","operator"))||null,v=YB(i,g,h),m=g?zq(v):null,y=o||gV(n,f,i),b=GD(i,h,h,g,n,y,f,a,!p,u,s),_=Kt(b,2),x=_[0],w=_[1],O=null==w?void 0:w.find((function(e){return!e.fixed&&!e.ignore})),S=O?LD(O):null,k=x!==n;k&&(n=x),e=VU(e,t,i,m);var j=Array.from({length:m},(function(o,i){return i==r?n:e.getIn(PN(t,"properties","value",i+""))||null})),E=Array.from({length:m},(function(r,n){return e.getIn(PN(t,"properties","valueSrc",n+""))||null})),C=XD(i,h,g,j,E),T=C?LD(C):null;((!!p||(!S&&!T||k))&&(e=e.deleteIn(PN(t,"properties","asyncListValues")),void 0===n?e=(e=e.setIn(PN(t,"properties","value",r),void 0)).setIn(PN(t,"properties","valueType",r),null):(a&&(e=e.setIn(PN(t,"properties","asyncListValues"),a)),e=(e=e.setIn(PN(t,"properties","value",r),n)).setIn(PN(t,"properties","valueType",r),y))),p)&&(e.getIn(PN(t,"properties","valueError"))||(e=e.setIn(PN(t,"properties","valueError"),new Iq.List(new Array(m)))),e=e.setIn(PN(t,"properties","valueError",r),S),m>=2&&(e=e.setIn(PN(t,"properties","valueError",m),T)));return{state:e}},VU=function(e,t,r,n){if(!n){var o=e.getIn(PN(t,"properties","field"))||null,i=e.getIn(PN(t,"properties","operator"))||null,a=YB(r,i,o);n=i?zq(a):null}for(var l=0,s=["value","valueType","valueError","valueSrc"];l<s.length;l++){var u=s[l];e.getIn(PN(t,"properties",u))||(e=e.setIn(PN(t,"properties",u),new Iq.List(n?Array.from({length:n}):[])))}return e},zU=function e(t,r,n){n&&Array.isArray(n)&&(r.children1=new Iq.OrderedMap(n.reduce((function(r,n){var o,i=null!==(o=n.id)&&void 0!==o?o:Lq(),a=AU(AU({},n),{},{properties:BR(t,n).merge(Cq(n.properties)||{}),id:i});return e(t,a,a.children1),AU(AU({},r),{},b({},i,new Iq.Map(a)))}),{})))},BU={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},HU=function(e,t){if(!e||!e.type)return null;var r,n=[D$,W$,U$,K$],o=qU(_N(e,["config","asyncListValues"]),Kq),i=e.path&&function(e,t){return e.getIn(PN(t,"properties","field"))||null}(t.tree,e.path)||e.field;i&&(null!==(r=i)&&void 0!==r&&r.toJS&&(i=i.toJS()),o.affectedField=i);return(n.includes(e.type)||0==e.type.indexOf("@@redux"))&&(o=null),o};const $U=function(e,t,r,n,o){var i=AU({tree:t},BU);return function(){var t,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s=arguments.length>1?arguments[1]:void 0,u=null!==(t=null!==(a=null==o?void 0:o())&&void 0!==a?a:null==s?void 0:s.config)&&void 0!==t?t:e,c={__lastAction:void 0},d={},p=HU(s,l);switch(null==s?void 0:s.type){case D$:var f=r(u,s.tree);d.tree=f;break;case k$:d.tree=NU(l.tree,s.path,"case_group",s.id,s.properties,u,s.children,s.meta);break;case S$:d.tree=NU(l.tree,s.path,"group",s.id,s.properties,u,s.children,s.meta);break;case j$:d.tree=function(e,t,r){if(!e.getIn(PN(t)))return e;e=RU(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.slice(0,-1);UN(e,o)||n||(e=DN(e),!$N(e)||n)||(e=FU(e,new Iq.List,"rule",Lq(),MR(r,void 0,void 0,!1,!1),r));return MN(e)}(l.tree,s.path,u);break;case T$:d.tree=FU(l.tree,s.path,s.ruleType,s.id,s.properties,u,s.children);break;case q$:d.tree=function(e,t,r){if(!e.getIn(PN(t)))return e;e=RU(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.pop(),i=e.getIn(PN(o)),a=i.getIn(["properties","field"]),l=i.getIn(["properties","operator"]),s=a?GB(r,a):null,u=l?YB(r,l,a):null,c=a&&l&&0!=u.cardinality,d="rule_group"==i.get("type"),p=!UN(e,o),f=d?c&&s.initialEmptyWhere:n;p&&!f&&(d&&(e=e.deleteIn(PN(o))),e=DN(e),$N(e)&&!n)&&(e=FU(e,new Iq.List,"rule",Lq(),MR(r,void 0,void 0,!1,!1),r));return MN(e)}(l.tree,s.path,u);break;case E$:d.tree=function(e,t,r){return e.getIn(PN(t))?e=e.setIn(PN(t,"properties","conjunction"),r):e}(l.tree,s.path,s.conjunction);break;case C$:d.tree=function(e,t,r){return e.getIn(PN(t))?e=e.setIn(PN(t,"properties","not"),r):e}(l.tree,s.path,s.not);break;case I$:var h=MU(l.tree,s.path,s.field,u,s.asyncListValues,s._meta).state;d.tree=h;break;case A$:d.tree=function(e,t,r,n){var o=e.getIn(PN(t));if(!o)return e;var i=n.settings.keepInputOnChangeFieldSrc,a=o.get("properties"),l=null==a?void 0:a.get("field"),s=null==a?void 0:a.get("fieldType"),u=GB(n,l),c=(null==u?void 0:u.type)||s;c&&"!group"!==c&&"!struct"!==c||(c=null);var d=!dV.includes(c);return(e=i&&!OV(o,n)&&d?(e=(e=e.setIn(PN(t,"properties","field"),null)).deleteIn(PN(t,"properties","fieldError"))).setIn(PN(t,"properties","fieldType"),c):e.setIn(PN(t,"properties"),MR(n,null,null,!1))).setIn(PN(t,"properties","fieldSrc"),r)}(l.tree,s.path,s.srcKey,u);break;case M$:d.tree=function(e,t,r){return e.getIn(PN(t))?e=RN(e.setIn(PN(t,"properties","isLocked"),r)):e}(l.tree,s.path,s.lock);break;case L$:d.tree=function(e,t,r,n){var o=e.getIn(PN(t));if(!o)return e;var i=n.settings.showErrorMessage,a=o.get("properties"),l=o.get("children1"),s=a.get("field");a.get("fieldSrc");var u=GB(n,s),c="!group"==(null==u?void 0:u.type),d=YB(n,r,s),p=d?zq(d):null;return e=e.updateIn(PN(t,"properties"),(function(e){return e.withMutations((function(e){var t=e.get("field"),o=e.get("operatorOptions");e.get("value",new Iq.List),e.get("valueSrc",new Iq.List),e.get("operator");var a=ZD(n,n,e,t,r,"operator",!0),l=a.canReuseValue,s=a.newValue,u=a.newValueSrc,c=a.newValueType,d=a.newValueError;i&&(e=e.set("valueError",d));var p=l?o:RR(n,r,t);return l||(e=e.delete("asyncListValues")),e.set("operator",r).set("operatorOptions",p).set("value",s).set("valueSrc",u).set("valueType",c)}))})),c&&0==p&&0==l.size&&(e=FU(e,t,"rule",Lq(),MR(n,s),n)),e}(l.tree,s.path,s.operator,u);break;case P$:var g=DU(l.tree,s.path,s.delta,s.value,s.valueType,u,s.asyncListValues,s._meta).state;d.tree=g;break;case F$:var v=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},c=t.getIn(PN(r));if(!c)return t;var d,p=-1===n,f=c.get("properties"),h=f.get("field"),g=f.get("value"),v=[],m=p?h:g.getIn([n]),y=LU(o||[]);try{for(y.s();!(d=y.n()).done;){var b=Kt(d.value,2),_=b[0],x=b[1];if(v.push([_,x,m]),_!==m.get("func")){var w=v.map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")||"root";throw new Error("In ".concat(p?"LHS":"RHS"," for path ").concat(w," expected func key ").concat(_," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(A){y.e(A)}finally{y.f()}if(i){var O=m.get("func"),S=DB(e,O).args[i];m="!valueSrc"===l?sV(m,i,a):lV(m,i,a,S,e)}else m=nV(m,a,e,!0),u.canDropArgs=!0;for(var k=m;v.length;){var j=v.pop(),E=Kt(j,3),C=E[0],T=E[1],q=E[2],I=DB(e,C).args[T];k=lV(q,T,k,I,e)}return p?MU(t,r,k,e,s,u):DU(t,r,n,k,void 0,e,s,u)}(u,l.tree,s.path,s.delta,s.parentFuncs,s.argKey,s.value,s.valueType,s.asyncListValues,s._meta),m=v.state;d.tree=m;break;case N$:d.tree=function(e,t,r,n,o){if(!e.getIn(PN(t)))return e;var i=o.settings.showErrorMessage,a=e.getIn(PN(t,"properties","field"))||null,l=e.getIn(PN(t,"properties","operator"))||null,s=YB(o,l,a),u=l?zq(s):null;if(e=(e=(e=(e=VU(e,t,o,u)).setIn(PN(t,"properties","value",r+""),void 0)).setIn(PN(t,"properties","valueType",r+""),null)).deleteIn(PN(t,"properties","asyncListValues")),i&&(e=e.setIn(PN(t,"properties","valueError",r),null),s.validateValues&&(e=e.setIn(PN(t,"properties","valueError",u),null))),e=void 0===n?e.setIn(PN(t,"properties","valueSrc",r+""),null):e.setIn(PN(t,"properties","valueSrc",r+""),n),n){var c=e.getIn(PN(t,"properties")),d=ZD(o,o,c,a,l,"valueSrc",!0),p=d.canReuseValue,f=d.newValue,h=d.newValueSrc,g=d.newValueType;d.newValueError,p||h.get(r)!=n||(e=(e=e.setIn(PN(t,"properties","value",r+""),f.get(r))).setIn(PN(t,"properties","valueType",r+""),g.get(r)))}return e}(l.tree,s.path,s.delta,s.srcKey,u,s._meta);break;case R$:d.tree=function(e,t,r,n){return e.getIn(PN(t))?e.setIn(PN(t,"properties","operatorOptions",r),n):e}(l.tree,s.path,s.name,s.value);break;case V$:d.tree=function(e,t,r,n,o){var i=FN(e,t),a=t.pop(),l=t.size>1?FN(e,a):null,s=l?l.get("children1"):null,u=FN(e,r),c=n==H$||n==$$?r:r.pop(),d=n==H$||n==$$?u:r.size>1?FN(e,c):null,p=d?d.get("children1"):null;if(!l||!d||!i)return e;var f=l.get("id")==d.get("id"),h=c.size<a.size&&Bq(c.toArray(),a.toArray().slice(0,c.size)),g=c.size>a.size&&Bq(a.toArray(),c.toArray().slice(0,a.size)),v=null,m=null;h?v=Iq.List(a.toArray().slice(c.size)):g&&(m=Iq.List(c.toArray().slice(a.size)));var y=p,_=s;return g||(_=_.delete(i.get("id"))),f?y=_:h&&(y=y.updateIn(NN(v,"children1"),(function(e){return _}))),n==B$||n==z$?y=Iq.OrderedMap().withMutations((function(e){var t,r=LU(y.entries());try{for(r.s();!(t=r.n()).done;){var o=Kt(t.value,2),a=o[0],l=o[1];a==(null==u?void 0:u.get("id"))&&n==B$&&e.set(i.get("id"),i),e.set(a,l),a==(null==u?void 0:u.get("id"))&&n==z$&&e.set(i.get("id"),i)}}catch(s){r.e(s)}finally{r.f()}})):n==H$?y=y.merge(Iq.OrderedMap(b({},i.get("id"),i))):n==$$&&(y=Iq.OrderedMap(b({},i.get("id"),i)).merge(y)),g&&(_=(_=_.updateIn(NN(m,"children1"),(function(e){return y}))).delete(i.get("id"))),f||h||(e=e.updateIn(PN(a,"children1"),(function(e){return _}))),g||(e=e.updateIn(PN(c,"children1"),(function(e){return y}))),MN(e)}(l.tree,s.fromPath,s.toPath,s.placement);break;case W$:d.dragStart=s.dragStart,d.dragging=s.dragging,d.mousePos=s.mousePos;break;case U$:d.mousePos=s.mousePos,d.dragging=s.dragging;break;case K$:d.tree=function(e,t){return t.settings.canLeaveEmptyGroup||(e=DN(e)),e}(l.tree,u),d=AU(AU({},d),BU)}return p&&(d.__lastAction=p),n&&d.tree&&l.tree&&n(l.tree),AU(AU(AU({},l),c),d)}};const UU=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:k$,path:Wq(t),children:n,id:Lq(),properties:zR(e).merge(Cq(r)||{}),config:e}},addDefaultCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:k$,path:Wq(t),children:n,id:Lq(),properties:zR(e).merge(Cq(r)||{}),config:e,meta:{isDefaultCase:!0}}},addGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:S$,path:Wq(t),children:n,id:Lq(),properties:zR(e).merge(Cq(r)||{}),config:e}},addRule:function(e,t,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{type:T$,ruleType:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rule",children:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,path:Wq(t),id:Lq(),properties:MR(e,n).merge(Cq(r)||{}),config:e}},moveItem:function(e,t,r,n){return{type:V$,fromPath:Wq(t),toPath:Wq(r),placement:n,config:e}},removeGroup:function(e,t){return{type:j$,path:Wq(t),config:e}},removeRule:function(e,t){return{type:q$,path:Wq(t),config:e}},setTree:function(e,t){return{type:D$,tree:t,config:e}}},Symbol.toStringTag,{value:"Module"}));const WU=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:function(e,t,r){return{type:E$,path:Wq(t),conjunction:r}},setLock:function(e,t,r){return{type:M$,path:Wq(t),lock:r}},setNot:function(e,t,r){return{type:C$,path:Wq(t),not:r}}},Symbol.toStringTag,{value:"Module"}));const KU=Object.freeze(Object.defineProperty({__proto__:null,setField:function(e,t,r,n,o){return{type:I$,path:Wq(t),field:r,config:e,asyncListValues:n,_meta:o}},setFieldSrc:function(e,t,r){return{type:A$,path:Wq(t),srcKey:r,config:e}},setFuncValue:function(e,t,r,n,o,i,a,l,s){return{type:F$,path:Wq(t),delta:r,parentFuncs:n,argKey:o,value:i,valueType:a,asyncListValues:l,config:e,_meta:s}},setOperator:function(e,t,r){return{type:L$,path:Wq(t),operator:r,config:e}},setOperatorOption:function(e,t,r,n){return{type:R$,path:Wq(t),name:r,value:n,config:e}},setValue:function(e,t,r,n,o,i,a){return{type:P$,path:Wq(t),delta:r,value:n,valueType:o,asyncListValues:i,config:e,_meta:a}},setValueSrc:function(e,t,r,n,o){return{type:N$,path:Wq(t),delta:r,srcKey:n,config:e,_meta:o}}},Symbol.toStringTag,{value:"Module"}));function GU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GU(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var JU=YU(YU(YU({},t$),{},{Export:WH,Import:qR,ConfigMixins:x$},WH),qR);const QU=R.createContext();var XU="after",ZU="before",eW="append",tW="prepend",rW=function(e,t){return{type:"SET_DRAG_PROGRESS",mousePos:e,dragging:t}},nW=function(e,t,r){return{type:"SET_DRAG_START",dragStart:e,dragging:t,mousePos:r}},oW=function(){return{type:"SET_DRAG_END"}},iW=UU,aW=WU,lW=KU,sW={},uW=function(e,t,r){return!t||!e||e.length<=t?e:e.substr(0,t-1)+"..."},cW=function(e,t){return e===t||(null==e?void 0:e.equals(t))},dW=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?dW(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):e&&"function"==typeof e.equals?e.equals(t):"object"===_(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?dW(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var pW=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&sW&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}}(),fW=JU.Validation.validateAndFixTree,hW=function e(t){if(t){var r,n=(r=t)._reactRootContainer?"root":Object.getOwnPropertyNames(r).filter((function(e){return e.startsWith("__reactContainer")})).length>0?"container":void 0;return void 0!==n?n:e(t.parentNode)}},gW=function(e){return"root"===hW(e)},vW=function(e,t){return function(r,n){var o=e.props,i=e.state,a=r!=o||n!=i;if(a&&i==n&&o!=r){var l=[];for(var s in r){var u=r[s]!=o[s];u&&("ignore"==t[s]?u=!1:"shallow_deep"==t[s]?u=!dW(r[s],o[s],!0):"shallow"==t[s]?u=!dW(r[s],o[s]):"function"==typeof t[s]&&(u=t[s](r[s],o[s],r,o))),u&&l.push(s)}l.length||(a=!1)}return a}},mW=function(e){return function(t,r){return!dW(e.props,t)||!dW(e.state,r)}},yW=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=mW(e)),16==(r=R.version.split(".").map(parseInt.bind(null,10)))[0]&&r[1]<3||r[0]<16)e.componentWillReceiveProps=function(t){e.onPropsChanged(t)};else{var t=e.shouldComponentUpdate;e.shouldComponentUpdate=function(r,n){return!dW(e.props,r)&&e.onPropsChanged(r),t.call(e,r,n)}.bind(e)}var r},bW=function(e,t,r){return qU(e,(function(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r(e.apply(void 0,[t].concat(o)))}}))};const _W=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:bW,isUsingLegacyReactDomRender:gW,liteShouldComponentUpdate:vW,pureShouldComponentUpdate:mW,useOnPropsChanged:yW},Symbol.toStringTag,{value:"Module"}));function xW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OW(e,t,r){return t=G(t),Y(e,SW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SW=function(){return!!e})()}var kW=function(e){function t(e){var r;K(this,t),(r=OW(this,t,[e])).shouldComponentUpdate=vW(r,{tree:function(e){return e!==r.oldValidatedTree||r.oldValidatedTree!==r.validatedTree}}),yW(r),r._updateActions(e),r.validatedTree=e.getMemoizedTree(e.config,e.tree,void 0,e.sanitizeTree),r.oldValidatedTree=r.validatedTree;var n=e.getBasicConfig(e.config);return e.onInit&&e.onInit(r.validatedTree,n,void 0,r.actions),r}return U(t,e),W(t,[{key:"_updateActions",value:function(e){var t=e.config,r=e.dispatch;this.actions=bW(wW(wW(wW({},iW),aW),lW),t,r)}},{key:"onPropsChanged",value:function(e){var t=e.onChange,r=this.props.config,n=e.tree;this.props.tree;var o=e.config;if(this.oldValidatedTree=this.validatedTree,this.validatedTree=n,r!==o&&(this._updateActions(e),this.validatedTree=e.getMemoizedTree(o,n,r)),!cW(this.validatedTree,this.oldValidatedTree)){var i=e.getBasicConfig(o);t&&t(this.validatedTree,i,e.__lastAction,this.actions)}}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.renderBuilder,n=e.dispatch;return r({tree:this.validatedTree,actions:this.actions,config:t,dispatch:n})}}])}(v.Component);kW.propTypes={config:Gt.object.isRequired,onChange:Gt.func,onInit:Gt.func,renderBuilder:Gt.func,tree:Gt.any};var jW=Yt((function(e){return{tree:e.tree,__lastAction:e.__lastAction}}),null,null,{context:QU})(kW);function EW(e,t,r){return t=G(t),Y(e,CW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CW=function(){return!!e})()}jW.displayName="ConnectedQuery";var TW=JU.DefaultUtils.defaultRoot,qW=JU.ConfigUtils.createConfigMemo,IW=function(e){function t(e,r){var n,o,i;K(this,t),(i=EW(this,t,[e,r])).setLastTree=function(e){i.prevTree&&(i.prevprevTree=i.prevTree),i.prevTree=e},i.getConfig=function(){return i.config},i.shouldComponentUpdate=vW(i,{value:function(e,t){return!1}}),yW(i);var a=qW({reactIndex:null!==(n=null===(o=i._reactInternals)||void 0===o?void 0:o.index)&&void 0!==n?n:-1,maxSize:2,canCompile:!0}),l=a.getExtendedConfig,s=a.getBasicConfig,u=a.clearConfigMemo;i.getMemoizedConfig=l,i.getBasicConfig=s,i.clearConfigMemo=u,i.getMemoizedTree=function(){var e,t,r;return function(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return o?n.__configId===r&&(cW(o,e)||cW(o,t))?t:(r=n.__configId,e=o,t=!1===a?fW(o,null,n,i||n,!1,!1,!1):fW(o,null,n,i||n)):null}}();var c=i.getMemoizedConfig(e),d=c.settings.shouldCreateEmptyGroup,p=TW(c,!d),f=!!e.value,h=e.value||p,g=i.getMemoizedTree(c,h,void 0,f),v=$U(c,g,i.getMemoizedTree,i.setLastTree,i.getConfig),m=Qt(v);return i.config=c,i.state={store:m},i.QueryWrapper=function(e){return c.settings.renderProvider(e,c.ctx)},i}return U(t,e),W(t,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(e){var t=this.props,r=this.config,n=this.getMemoizedConfig(e),o=r!==n,i=this.state.store.getState().tree,a=!cW(e.value,this.props.value)&&!cW(e.value,i),l=a?e.value||TW(e):i,s=a&&!cW(e.value,this.prevTree)&&!cW(e.value,this.prevprevTree);if(this.sanitizeTree=s||o,o&&(t.settings.renderProvider!==e.settings.renderProvider&&(this.QueryWrapper=function(e){return n.settings.renderProvider(e,n.ctx)}),this.config=n),a||o){var u=this.getMemoizedTree(n,l,r,this.sanitizeTree);this.state.store.dispatch(iW.setTree(n,u))}}},{key:"render",value:function(){var e=this.props,t=e.renderBuilder,r=e.get_children,n=e.onChange,o=e.onInit,i=this.state.store,a=this.config,l=this.QueryWrapper;return R.createElement(l,{config:a},R.createElement(Jt,{store:i,context:QU},R.createElement(jW,{config:a,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:n,onInit:o,renderBuilder:t||r})))}}])}(v.Component);function AW(e,t,r){return t=G(t),Y(e,LW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function LW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LW=function(){return!!e})()}IW.propTypes={conjunctions:Gt.object.isRequired,fields:Gt.object.isRequired,types:Gt.object.isRequired,operators:Gt.object.isRequired,widgets:Gt.object.isRequired,settings:Gt.object.isRequired,ctx:Gt.object.isRequired,onChange:Gt.func,onInit:Gt.func,renderBuilder:Gt.func,value:Gt.any};var PW=JU.ConfigUtils.getFieldConfig;function NW(e,t,r){return t=G(t),Y(e,FW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FW=function(){return!!e})()}var RW=JU.clone,MW=JU.TreeUtils.getFlatTree,DW=!1;var VW=["isDraggingTempo","isDraggingMe","dragging"];function zW(e,t,r){return t=G(t),Y(e,BW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function BW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BW=function(){return!!e})()}const HW=function(e){return function(t){var r;return r=function(r){function n(e){var t;return K(this,n),(t=zW(this,n,[e])).handleDraggerMouseDown=function(e){var r=t.props.id,n=t.wrapper.current;t.props.onDragStart&&t.props.onDragStart(r,n,e)},t.wrapper=R.createRef(),t}return U(n,r),W(n,[{key:"render",value:function(){var r=this.props,n=r.isDraggingTempo,o=r.isDraggingMe,i=r.dragging,a=bn(r,VW),l=a.isTrueLocked,s={};o&&n&&(DW||(s={top:i.y,left:i.x,width:i.w}));var u=rn(e,"group-or-rule",o&&n?"qb-draggable":null,o&&!n?"qb-placeholder":null,l?"locked":null);return R.createElement("div",{className:u,style:s,ref:this.wrapper,"data-id":this.props.id},R.createElement(t,w({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:o,isDraggingTempo:n},a)))}}])}(v.PureComponent),r.propTypes={isDraggingTempo:Gt.bool,isDraggingMe:Gt.bool,onDragStart:Gt.func,dragging:Gt.object,isLocked:Gt.bool,isTrueLocked:Gt.bool},r}};var $W=TI,UW=jU,WW=pA,KW=RL;const GW=g((function(e,t){if(null==e)return{};var r=$W(KW(e),(function(e){return[e]}));return t=UW(t),WW(e,r,(function(e,r){return t(e,r[0])}))}));function YW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JW(e,t,r){return t=G(t),Y(e,QW()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QW=function(){return!!e})()}var XW=JU.ConfigUtils,ZW=XW.getFieldConfig,eK=XW.getOperatorConfig,tK=function(e){function t(e){var r;return K(this,t),(r=JW(this,t,[e])).shouldComponentUpdate=vW(r,{selectedField:function(e,t){return!1}}),yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.selectedField,o=e.selectedFieldType,i=e.selectedOperator,a=ZW(r,n),l=pj((null==a?void 0:a.operators)||(null===(t=r.types[o])||void 0===t?void 0:t.operators)||[]);n||l.includes(i)||l.push(i);var s=qU(GW(r.operators,(function(e,t){return-1!==(null==l?void 0:l.indexOf(t))})),(function(e,t){return eK(r,t,n)})),u=this.buildOptions(r,s,l),c=s[i]||{},d=i?[i]:null;return{placeholder:this.props.config.settings.operatorPlaceholder,items:u,selectedKey:i,selectedKeys:d,selectedPath:d,selectedLabel:c.label,selectedAltLabel:c.label2||c.tooltip,selectedOpts:c,fieldConfig:a}}},{key:"buildOptions",value:function(e,t,r){return t&&r?Vu(t).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)})).map((function(e){var r=t[e];return{key:e,path:e,label:r.label,altLabel:r.label2,tooltip:r.tooltip}})):null}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setOperator,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderOperator,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YW(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:n},this.meta);return s.items?l(s,t.ctx):null}}])}(v.Component);tK.propTypes={id:Gt.string,groupId:Gt.string,config:Gt.object.isRequired,selectedField:Gt.any,selectedFieldId:Gt.string,selectedFieldType:Gt.string,selectedFieldSrc:Gt.string,selectedOperator:Gt.string,readonly:Gt.bool,customProps:Gt.object,setOperator:Gt.func.isRequired};var rK=["children"],nK=function(e){var t=e.children,r=bn(e,rK);return R.createElement("div",r,t)},oK=function(){},iK=function(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},R.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),R.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},aK=function(e){return function(t){var r=t.config.settings.useConfirm,n=r?r.call(t.config.ctx,t.config.ctx):null;return R.createElement(e,w({},t,{confirmFn:n}))}},lK=function(e){var t=e.id,r=e.isLHS,n=e.delta;return[t,r?"L":"R",r?-1:n||0,(e.parentFuncs||[]).map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return"".concat(r,"(").concat(n,")")})).join("/")].join(":")},sK=function(e,t){var r;return"function"==typeof t?(r=function(r){return null==t?void 0:t(r,e.ctx)}).displayName=t.name:r=t,r};function uK(e,t,r){return t=G(t),Y(e,cK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cK=function(){return!!e})()}var dK=function(e){function t(){return K(this,t),uK(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.setOperator,l=e.selectedFieldId,s=e.showOperator,u=e.showOperatorLabel,c=e.selectedFieldWidgetConfig,d=e.readonly,p=e.id,f=e.groupId;return[s&&R.createElement(nK,{key:"operators-for-"+l,className:"rule--operator"},t.settings.showLabels&&R.createElement("label",{className:"rule--label"},t.settings.operatorLabel),R.createElement(tK,{key:"operator",config:t,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,selectedFieldId:l,selectedOperator:i,setOperator:a,customProps:t.settings.customOperatorSelectProps,readonly:d,id:p,groupId:f})),u&&R.createElement(nK,{key:"operators-for-"+l,className:"rule--operator"},R.createElement("div",{className:"rule--operator-wrapper"},t.settings.showLabels?R.createElement("label",{className:"rule--label"}," "):null,R.createElement("div",{className:"rule--operator-text-wrapper"},R.createElement("span",{className:"rule--operator-text"},c.operatorInlineLabel))))]}}])}(v.PureComponent);function pK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fK(e,t,r){return t=G(t),Y(e,hK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function hK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hK=function(){return!!e})()}var gK=JU.RuleUtils.getFieldPathLabels,vK=JU.ConfigUtils,mK=vK.getFieldConfig,yK=vK.getFieldParts,bK=vK.getFieldPathParts,_K=function(e){function t(e){var r;return K(this,t),(r=fK(this,t,[e])).setField=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.props.id;if(!n.widgetId){var i=[o,"L",-1].join(":");n.widgetId=i}r.props.setField(e,t,n)},yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.config,o=e.parentField,i=t,a=n.settings,l=a.maxLabelsLength,s=a.fieldSeparatorDisplay,u=a.fieldPlaceholder;a.fieldSeparator;var c=!!t,d=c?null:uW(u,l),p=c?mK(n,i):null,f=p||{},h=bK(i,n),g=bK(i,n,!0),v=this.getFieldLabel(p,i,n),m=gK(i,n),y=m?m.join(s):null;(y==v||o)&&(y=null);var b=f.label2||f.tooltip,x=yK(o,n),w=o?mK(n,o):null,O=o?w&&w.subfields:n.fields,S=!c&&r,k=this.buildOptions(x,n,O,S,x),j=S?"Please select field":null;return i&&"object"===_(i)&&(i=void 0),{placeholder:d,items:k,parentField:o,selectedKey:i,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedAltLabel:b,selectedFullLabel:y,errorText:j}}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=yK(t,r),i=(null==e?void 0:e.label)||eL(o);return i=uW(i,n)}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r)return null;var l=t.settings,s=l.fieldSeparator,u=l.fieldSeparatorDisplay,c=null!=i&&i.length?i.join(s)+s:"",d=function e(t){return Object.keys(t||{}).reduce((function(r,n){var i=t[n];return"!struct"===i.type?r+e(i.subfields):r+(i.type===o?1:0)}),0)};return Vu(r).map((function(l){var s=[].concat(pj(null!=i?i:[]),[l]),p=r[l],f=n.getFieldLabel(p,s,t),h=gK(s,t).join(u);(h==f||null!=e&&e.length)&&(h=null);var g=p.label2,v=p.tooltip,m=p.disabled;if(!p.hideForSelect){if("!struct"==p.type){var y=n.buildOptions(e,t,p.subfields,o,s,{label:f,tooltip:v}),b=d(p.subfields)>0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,items:y,matchesType:b}}var _=void 0!==o?p.type===o:void 0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,grouplabel:null==a?void 0:a.label,group:a,matchesType:_}}})).filter((function(e){return!!e}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setFieldSrc,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pK(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:this.setField,setFieldSrc:n},this.meta);return l(s,t.ctx)}}])}(v.Component);function xK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wK(e,t,r){return t=G(t),Y(e,OK()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function OK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OK=function(){return!!e})()}_K.propTypes={id:Gt.string,groupId:Gt.string,config:Gt.object.isRequired,selectedField:Gt.any,selectedFieldSrc:Gt.string,selectedFieldType:Gt.string,parentField:Gt.string,customProps:Gt.object,readonly:Gt.bool,setField:Gt.func.isRequired,setFieldSrc:Gt.func};var SK=JU.clone,kK=JU.ConfigUtils,jK=kK.getFieldConfig,EK=kK.getFuncConfig,CK=kK.getFieldParts,TK=kK.getFieldPathParts,qK=JU.RuleUtils,IK=qK.getFuncPathLabels,AK=qK.getWidgetForFieldOp,LK=JU.OtherUtils.shallowEqual,PK=function(e){function t(e){var r;return K(this,t),r=wK(this,t,[e]),yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"].map((function(r){return"parentFuncs"===r?!LK(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0;(!this.meta||["config","field","fieldType","fieldSrc","value","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r&&(this.items=this.getItems(e,this.meta))}},{key:"getItems",value:function(e,t){var r=e.config,n=e.field,o=e.fieldType,i=e.isLHS,a=e.operator,l=e.parentFuncs,s=e.fieldDefinition,u=e.isFuncArg,c=t.lookingForFieldType,d=r.settings.canUseFuncForField,p=this.filterFuncs(r,r.funcs,n,o,i,a,d,l,u,s);return this.buildOptions(r,p,c)}},{key:"getMeta",value:function(e){var t=e.config;e._field;var r=e.fieldType,n=e.value,o=e.isLHS,i=e.isFuncArg,a=t.settings,l=a.funcPlaceholder,s=a.fieldSeparatorDisplay,u=n,c=!!n,d=c?null:l,p=c?EK(t,u):null,f=p||{},h=TK(u,t),g=TK(u,t,!0),v=this.getFuncLabel(p,u,t),m=IK(u,t),y=m?m.join(s):null;y==v&&(y=null);var b=o&&!i&&!c&&r;return{placeholder:d,selectedKey:u,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedFullLabel:y,errorText:b?"Please select function":null,lookingForFieldType:b}}},{key:"filterFuncs",value:function(e,t,r,n,o,i,a,l,s,u){t=SK(t);var c,d=e.settings.fieldSeparator,p=jK(e,r),f=p,h=AK(e,r,i,"value");return h&&e.widgets[h],s?(f=u,c=null==u?void 0:u.type):p?c=p.type:o||(c=n),function t(n,o){for(var s in n){var u=n[s].subfields,h=(o||[]).concat(s),g=h.join(d),v=EK(e,g);if("!struct"==v.type)0==t(u,h)&&delete n[s];else{var m,y=!c||v.returnType==c;null!==(m=f)&&void 0!==m&&m.funcs&&(y=y&&f.funcs.includes(g)),a&&(y=y&&a(r,p,g,v,i)),!v.allowSelfNesting&&l&&l.map((function(e){var t=Kt(e,2),r=t[0];return t[1],r})).includes(g)&&(y=!1),y||delete n[s]}}return Vu(n).length}(t,[]),t}},{key:"buildOptions",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;var a=e.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"",c=function e(t){return Object.keys(t||{}).reduce((function(r,o){var i=t[o];return"!struct"===i.type?r+e(i.subfields):r+(i.type===n?1:0)}),0)};return Vu(t).map((function(a){var l=[].concat(pj(null!=o?o:[]),[a]),d=t[a],p=r.getFuncLabel(d,l,e),f=IK(l,e).join(s);f==p&&(f=null);var h=d.tooltip;if("!struct"==d.type){var g=r.buildOptions(e,d.subfields,n,l,{label:p,tooltip:h}),v=c(d.subfields)>0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,items:g,matchesType:v}}var m=void 0!==n?d.returnType===n:void 0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i,matchesType:m}}))}},{key:"getFuncLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=CK(t,r),i=(null==e?void 0:e.label)||eL(o);return i=uW(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderFunc,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xK(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({config:t,customProps:r,readonly:o,setField:n,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);PK.propTypes={id:Gt.string,groupId:Gt.string,config:Gt.object.isRequired,field:Gt.any,fieldType:Gt.string,fieldSrc:Gt.string,operator:Gt.string,customProps:Gt.object,value:Gt.string,setValue:Gt.func.isRequired,readonly:Gt.bool,parentFuncs:Gt.array,fieldDefinition:Gt.object,isFuncArg:Gt.bool,isLHS:Gt.bool};var NK=Math.ceil,FK=Math.max;var RK=function(e,t,r,n){for(var o=-1,i=FK(NK((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a},MK=/\s/;var DK=function(e){for(var t=e.length;t--&&MK.test(e.charAt(t)););return t},VK=DK,zK=/^\s+/;var BK=function(e){return e?e.slice(0,VK(e)+1).replace(zK,""):e},HK=Qa,$K=vI,UK=/^[-+]0x[0-9a-f]+$/i,WK=/^0b[01]+$/i,KK=/^0o[0-7]+$/i,GK=parseInt;var YK=function(e){if("number"==typeof e)return e;if($K(e))return NaN;if(HK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=HK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=BK(e);var r=WK.test(e);return r||KK.test(e)?GK(e.slice(2),r?2:8):UK.test(e)?NaN:+e},JK=YK,QK=1/0;var XK=function(e){return e?(e=JK(e))===QK||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ZK=RK,eG=wz,tG=XK;var rG=function(e){return function(t,r,n){return n&&"number"!=typeof n&&eG(t,r,n)&&(r=n=void 0),t=tG(t),void 0===r?(r=t,t=0):r=tG(r),n=void 0===n?t<r?1:-1:tG(n),ZK(t,r,n,e)}}();const nG=g(rG);var oG=["widgetFactory"],iG=["factory"];function aG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sG=JU.ListUtils.getTitleInListValues,uG=JU.ConfigUtils._widgetDefKeysToOmit,cG=JU.TreeUtils,dG=cG._fixImmutableValue,pG=cG.isImmutable,fG=v.memo((function(e){var t=e.widgetFactory,r=bn(e,oG),n=r.config,o=r.isFuncArg,i=r.fieldDefinition||{},a=i.fieldSettings,l=i.defaultValue,s=i.valueSources,u=o&&1==(null==s?void 0:s.length)&&"const"===(null==s?void 0:s[0]),c=(null==a?void 0:a.treeValues)||(null==a?void 0:a.listValues);return u&&l?"boolean"==typeof l?l?r.labelYes||"YES":r.labelNo||"NO":c?Array.isArray(l)?l.map((function(e){return sG(c,e)||e})).join(", "):sG(c,l)||l:""+l:t?t(r,n.ctx):"?"}));fG.displayName="WidgetFactoryMemo";var hG=function(e){var t=e.delta,r=e.isFuncArg,n=e.valueSrc,o=e.value,i=e.valueError,a=e.fieldError,l=e.asyncListValues,s=e.isSpecialRange,u=e.fieldDefinition,c=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,f=e.valueLabels,h=e.textSeparators,g=e.setValue,m=e.setFuncValue,y=e.config,b=e.field,_=e.fieldSrc,x=e.fieldPath,O=e.fieldType,S=e.isLHS,k=e.operator,j=e.readonly,E=e.parentField,C=e.parentFuncs,T=e.id,q=e.groupId,I=e.widgetId,A=d.factory,L=bn(d,iG),P=o?o.map((function(e){return dG(e)})):void 0,N=v.useMemo((function(){if(s){var e=[null==P?void 0:P.get(0),null==P?void 0:P.get(1)];return void 0===e[0]&&void 0===e[1]&&(e=void 0),e}return null==P?void 0:P.get(t)}),[s,o]),F=v.useMemo((function(){return i?s?[i.get(0),i.get(1),i.get(2)]:null==i?void 0:i.get(t):null}),[s,o]),M=S?a:F,D=(u||{}).fieldSettings,V=p.label,z=p.placeholder,B=f?f.placeholder:null,H=pG(b)?null:b,$=_N(lG(lG(lG({},L),D),{},{config:y,field:H,fieldPath:x,fieldSrc:_,fieldType:O,isLHS:S,parentField:E,parentFuncs:C,fieldDefinition:u,operator:k,delta:t,isSpecialRange:s,isFuncArg:r,value:N,valueSrc:n,valueError:F,fieldError:a,errorMessage:M,label:V,placeholder:z,placeholders:B,textSeparators:h,setValue:g,setFuncValue:m,readonly:j,asyncListValues:l,id:T,groupId:q,widgetId:I,widgetFactory:A,widget:c}),[].concat(pj(uG),["toJS"]));return R.createElement(fG,w({widgetFactory:A},$))};function gG(e,t,r){return t=G(t),Y(e,vG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vG=function(){return!!e})()}hG.displayName="WidgetFactory";var mG=JU.ConfigUtils,yG=mG.getFieldConfig,bG=mG.getOperatorConfig,_G=mG.getFieldWidgetConfig,xG=JU.RuleUtils,wG=xG.getValueSourcesForFieldOp,OG=xG.getWidgetForFieldOp,SG=xG.getValueLabel,kG=JU.DefaultUtils.createListWithOneElement,jG=JU.OtherUtils.shallowEqual;JU.TreeUtils.isImmutable;var EG={cardinality:1},CG=function(e){function t(e){var r;return K(this,t),(r=gG(this,t,[e]))._setValue=function(e,t,n,o,i,a){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(l.widgetId||(l.widgetId=o),e&&Array.isArray(i)){var s=[r.props.value.get(0),r.props.value.get(1)];s[0]!=i[0]&&r.props.setValue(0,i[0],n,a,l),s[1]!=i[1]&&r.props.setValue(1,i[1],n,a,l)}else r.props.setValue(t,i,n,a,l)},r._setValueSrc=function(e,t,n){var o={widgetId:t};r.props.setValueSrc(e,n,o)},r.renderWidget=function(e,t,r){var n=r.config,o=r.isFuncArg,i=r.leftField,a=r.operator,l=r.value,s=r.valueError,u=r.fieldError,c=r.readonly,d=r.parentField,p=r.parentFuncs,f=r.id,h=r.groupId,g=r.fieldSrc,v=r.fieldType,m=r.isLHS,y=r.setFuncValue,b=n.settings,_=t.widgets,x=t.iValues,O=t.aField,S=t.valueSources,k=o?x:l,j=o?i:O,E=_[e],C=E.valueSrc,T=E.valueLabel,q=E.widgetId,I=S.length>1&&!c,A=b.showLabels?R.createElement("label",{key:"label-"+q,className:"rule--label"},T.label):null;return R.createElement("div",{key:"wrapper-"+q,className:rn("func"===C?"widget--func":"widget--widget",I?"widget--has-valuerscs":"widget--has-no-valuerscs")},"func"===C?null:A,R.createElement(hG,w({key:q,id:f,groupId:h,widgetId:q,valueSrc:C,delta:e,value:k,valueError:s,fieldError:u,isFuncArg:o,isLHS:m},XA(t,["isSpecialRange","fieldDefinition","asyncListValues"]),XA(_[e],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:y,config:n,field:j,fieldSrc:g,fieldType:v,parentField:d,parentFuncs:p,operator:a,readonly:c})))},r.renderValueSources=function(e,t,n){var o=n.config,i=n.isFuncArg,a=n.leftField,l=n.operator,s=n.readonly,u=o.settings,c=t.valueSources,d=t.widgets,p=t.aField,f=t.valueSourcesOptions,h=i?a:p,g=d[e],v=g.valueSrc,m=g.setValueSrc,y=r.ValueSources,b=u.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return c.length>1&&!s&&R.createElement("div",{key:"wrapper-valuesrc-"+e,className:"widget--valuesrc"},b,R.createElement(y,{key:"valuesrc-"+e,delta:e,valueSources:f,valueSrc:v,config:o,field:h,operator:l,setValueSrc:m,readonly:s,title:u.valueSourcesPopupTitle}))},r.renderSep=function(e,t,r){var n=r.config,o=t.widgets,i=n.settings,a=o[e].sepText,l=i.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return a&&R.createElement("div",{key:"widget-separators-"+e,className:rn("widget--sep",0==e&&"widget--sep-first")},l,R.createElement("span",null,a))},r.renderWidgetDelta=function(e){return[r.renderSep(e,r.meta,r.props),r.renderValueSources(e,r.meta,r.props),r.renderWidget(e,r.meta,r.props)]},yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config),n=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"].filter((function(r){return"parentFuncs"===r?!jG(e[r],t[r],!0):"field"===r?e.fieldId!==t.fieldId:e[r]!==t[r]}));if((!this.meta||n.length>0)&&(this.meta=this.getMeta(e,n)),r){var o=e.config,i=o.settings.renderValueSources;this.ValueSources=sK(o,i)}}},{key:"getMeta",value:function(e){var t,r,n,o,i=this,a=e.config,l=e.field;e.fieldSrc;var s=e.fieldType,u=e.fieldFunc,c=e.fieldArg,d=e.operator,p=e.valueSrc,f=e.value,h=e.isForRuleGroup,g=e.isCaseValue,v=e.isFuncArg;e.leftField;var m=e.asyncListValues,y=e.parentFuncs,b=e.isLHS,_=e.id,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],w=a.settings.valueSourcesInfo,O=v?{func:u,arg:c}:l,S=!l&&s,k=p,j=f;(v||h||g)&&(k=kG(p),j=kG(f));var E=yG(a,O);!E&&S&&(E=a.types[s]);var C,T=OG(a,O,d);!T&&S&&(T=null===(C=a.types[s])||void 0===C?void 0:C.mainWidget);var q=v?EG:bG(a,d,O);if((null==E||null==q)&&!g)return null;var I,A,L=null==q?void 0:q.isSpecialRange,P=L&&("field"===(null===(t=k)||void 0===t?void 0:t.get(0))||"field"===(null===(r=k)||void 0===r?void 0:r.get(1))),N=L&&!P,F=N?1:null!==(A=null==(I=q)?void 0:I.cardinality)&&void 0!==A?A:1;if(0===F)return null;var R=null===(n=this.meta)||void 0===n?void 0:n.valueSources,M=null===(o=this.meta)||void 0===o?void 0:o.valueSourcesOptions;R&&!["field","operator","config","fieldDefinition","isForRuleGroup"].filter((function(e){return x.includes(e)})).length||(R=wG(a,O,d,E),h&&(R=["value"]),O||(R=Object.keys(w)),M=R.map((function(e){return[e,{label:w[e].label}]})));var D=nG(0,F).map((function(e){var t,r,n,o,l=null===(t=i.meta)||void 0===t||null===(t=t.widgets)||void 0===t?void 0:t[e],s=(null===(r=k)||void 0===r?void 0:r.get(e))||null,u=OG(a,O,d,s),c=_G(a,O,d,u,s);P&&(u=c.singleWidget,c=_G(a,O,d,u,s)),!c&&S&&(u=["func","field"].includes(s)?s:T,c=a.widgets[u]);var p=null===(n=c)||void 0===n?void 0:n.type,f=SG(a,O,d,e,s,N),h=SG(a,O,d,e,null,N),g=null!=q&&q.textSeparators?null==q?void 0:q.textSeparators[e]:null,v=null,m=null;L&&(v={placeholder:[(v=[SG(a,O,d,0),SG(a,O,d,1)])[0].placeholder,v[1].placeholder],label:[v[0].label,v[1].label]},m=null==q?void 0:q.textSeparators);var x=lK({id:_,isLHS:b,delta:e,parentFuncs:y}),w=x+":VS",j=null==l?void 0:l.setValueSrc;j&&(null==l?void 0:l.widgetId)===x||(j=i._setValueSrc.bind(i,e,w));var E=null==l?void 0:l.setValue;return E&&(null==l?void 0:l.widgetId)===x&&(null==l?void 0:l.widgetType)===p&&(null===(o=i.meta)||void 0===o?void 0:o.isSpecialRange)===L||(E=i._setValue.bind(i,L,e,p,x)),{valueSrc:s,valueLabel:f,widget:u,sepText:g,widgetDefinition:c,widgetValueLabel:h,valueLabels:v,textSeparators:m,setValueSrc:j,setValue:E,widgetId:x,widgetType:p}}));return{defaultWidget:T,fieldDefinition:E,operatorDefinition:q,isSpecialRange:N,cardinality:F,valueSources:R,valueSourcesOptions:M,widgets:D,iValues:j,aField:O,asyncListValues:m}}},{key:"render",value:function(){if(!this.meta)return null;var e=this.meta,t=e.defaultWidget,r=e.cardinality;if(!t)return null;var n=t;return R.createElement(nK,{className:"rule--widget rule--widget--".concat(n.toUpperCase()),key:"widget-col-"+n},nG(0,r).map(this.renderWidgetDelta))}}])}(v.Component);function TG(e,t,r){return t=G(t),Y(e,qG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qG=function(){return!!e})()}CG.propTypes={config:Gt.object.isRequired,value:Gt.any,valueSrc:Gt.any,valueError:Gt.any,fieldError:Gt.string,field:Gt.any,fieldSrc:Gt.string,fieldType:Gt.string,fieldId:Gt.string,operator:Gt.string,readonly:Gt.bool,asyncListValues:Gt.array,id:Gt.string,groupId:Gt.string,setValue:Gt.func,setValueSrc:Gt.func,setFuncValue:Gt.func,isFuncArg:Gt.bool,fieldFunc:Gt.string,fieldArg:Gt.string,leftField:Gt.any,isForRuleGroup:Gt.bool,parentField:Gt.string,parentFuncs:Gt.array,isLHS:Gt.bool,isCaseValue:Gt.bool};var IG=JU.ConfigUtils.getFuncConfig,AG=JU.OtherUtils.shallowEqual,LG=function(e){function t(e){var r;return K(this,t),(r=TG(this,t,[e])).setFunc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.props,o=n.isLHS,i=n.delta,a=n.parentFuncs,l=n.id;if(!t.widgetId){var s=lK({id:l,isLHS:o,delta:i,parentFuncs:a});t.widgetId=s}r.props.setFuncValue(o?-1:i||0,a,null,e,"!func",void 0,t)},r.setArgValue=function(e,t,n,o,i){var a=r.props;a.config;var l=a.delta,s=a.isLHS,u=a.parentFuncs;r.props.setFuncValue(s?-1:l||0,u,e,t,n,o,i)},r.setArgValueSrc=function(e,t,n){var o=r.props;o.config;var i=o.delta,a=o.isLHS,l=o.parentFuncs;r.props.setFuncValue(a?-1:i||0,l,e,t,"!valueSrc",void 0,n)},r.renderFuncSelect=function(){var e,t,n=r.props,o=n.config,i=n.field,a=n.fieldType,l=n.fieldSrc,s=n.isLHS,u=n.operator,c=n.customProps,d=n.value,p=n.readonly,f=n.parentFuncs,h=n.id,g=n.groupId,v=n.isFuncArg,m=n.fieldDefinition,y={value:null!==(e=null==d||null===(t=d.get)||void 0===t?void 0:t.call(d,"func"))&&void 0!==e?e:null,setValue:r.setFunc,config:o,field:i,fieldType:a,fieldSrc:l,isLHS:s,operator:u,customProps:c,readonly:p,parentFuncs:f,isFuncArg:v,fieldDefinition:m,id:h,groupId:g},b=o.settings,_=b.showLabels,x=b.funcLabel,w=_?R.createElement("label",{className:"rule--label"},x):null;return R.createElement(nK,{key:"func",className:"rule--func"},w,R.createElement(PK,y))},r.renderArgLabel=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=t.label,l=r.props.config,s=n&&1==n.length&&"const"==n[0];return!l.settings.showLabels&&("boolean"==o||s)&&i?R.createElement(nK,{className:"rule--func--arg-label"},a||e):null},r.renderArgLabelSep=function(e,t){var n=t.valueSources,o=t.type,i=t.showPrefix,a=r.props.config,l=n&&1==n.length&&"const"==n[0];return!a.settings.showLabels&&("boolean"==o||l)&&i?R.createElement(nK,{className:"rule--func--arg-label-sep"},":"):null},r.renderArgVal=function(e,t,n){var o=r.props,i=o.config,a=o.field,l=o.fieldType,s=o.fieldSrc,u=o.isLHS;o.operator;var c=o.value,d=o.readonly,p=o.parentFuncs,f=o.id,h=o.groupId,g=o.fieldError,v=o.valueError,m=o.setFuncValue,y=c?c.getIn(["args",t]):null,b=y?y.get("value"):void 0,_=1==n.valueSources.length?n.valueSources[0]:void 0,x={config:i,fieldFunc:e,fieldArg:t,leftField:a,fieldType:l,fieldSrc:s,fieldError:g,valueError:v,isLHS:u,operator:null,value:b,valueSrc:y?y.get("valueSrc")||_||"value":_,setValue:r.setArgValue,setValueSrc:r.setArgValueSrc,setFuncValue:m,funcKey:e,argKey:t,argDefinition:n,readonly:d,parentFuncs:p,id:f,groupId:h};return R.createElement(nK,{className:"rule--func--arg-value"},R.createElement(PG,x))},r.renderArgSep=function(e,t,r,n){var o=n.renderSeps;return r?R.createElement(nK,{className:"rule--func--arg-sep"},o?o[r-1]:", "):null},r.renderBracketBefore=function(e){var t=e.renderBrackets;return R.createElement(nK,{key:"before_args",className:"rule--func--bracket-before"},t?t[0]:"(")},r.renderBracketAfter=function(e){var t=e.renderBrackets;return R.createElement(nK,{key:"after_args",className:"rule--func--bracket-after"},t?t[1]:")")},r.renderFuncArgs=function(){var e=r.meta,t=e.funcDefinition,n=e.funcKey;if(!n)return null;var o=(t||{}).args;return o?R.createElement(R.Fragment,null,r.renderBracketBefore(t),R.createElement(nK,{key:"args-".concat(n),className:"rule--func--args rule--func--".concat(n,"--args")},Object.keys(o).map((function(e,i){return R.createElement(nK,{key:"arg-".concat(e,"-").concat(i),className:"rule--func--arg rule--func--".concat(n,"--arg--").concat(e)},r.renderArgSep(e,o[e],i,t),r.renderArgLabel(e,o[e]),r.renderArgLabelSep(e,o[e]),r.renderArgVal(n,e,o[e]))}))),r.renderBracketAfter(t)):null},yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","field","operator","value","fieldSrc","fieldType","isLHS"].map((function(r){return"parentFuncs"===r?!AG(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r,n=e.config;e.field,e.operator;var o=e.value,i=null!==(t=null==o||null===(r=o.get)||void 0===r?void 0:r.call(o,"func"))&&void 0!==t?t:null;return{funcDefinition:i?IG(n,i):null,funcKey:i}}},{key:"render",value:function(){var e=this.props.parentFuncs,t=e?e.map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return"".concat(r,"_").concat(n)})).join("-"):"root",r=(null==e?void 0:e.length)||0;return R.createElement(nK,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(t," rule--func--wrapper--lev-").concat(r)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(v.Component);LG.propTypes={id:Gt.string,groupId:Gt.string,config:Gt.object.isRequired,field:Gt.any,fieldSrc:Gt.string,fieldType:Gt.string,fieldError:Gt.string,operator:Gt.string,customProps:Gt.object,value:Gt.object,setValue:Gt.func.isRequired,setFuncValue:Gt.func,readonly:Gt.bool,parentFuncs:Gt.array,fieldDefinition:Gt.object,isFuncArg:Gt.bool,isLHS:Gt.bool,valueError:Gt.string};var PG=function(e){function t(e){var r;return K(this,t),(r=TG(this,t,[e])).setValue=function(e,t,n,o,i){var a=r.props;(0,a.setValue)(a.argKey,t,n,o,i)},r.setValueSrc=function(e,t,n){var o=r.props;(0,o.setValueSrc)(o.argKey,t,n)},yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["parentFuncs","funcKey","argKey"].map((function(r){return"parentFuncs"===r?!AG(e[r],t[r],!0):e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.parentFuncs,r=e.funcKey,n=e.argKey;return{parentFuncs:[].concat(pj(t||[]),[[r,n]])}}},{key:"render",value:function(){var e=this.meta.parentFuncs;return R.createElement(CG,w({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:e}))}}])}(v.Component);function NG(e,t,r){return t=G(t),Y(e,FG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FG=function(){return!!e})()}PG.propTypes={funcKey:Gt.string.isRequired,argKey:Gt.string.isRequired,setValue:Gt.func.isRequired,setValueSrc:Gt.func.isRequired,readonly:Gt.bool,isLHS:Gt.bool,parentFuncs:Gt.array,id:Gt.string,groupId:Gt.string};var RG=function(e){function t(e){var r;return K(this,t),(r=NG(this,t,[e])).renderField=function(){var e=r.props,t=e.config,n=e.classname,o=e.selectedField,i=e.selectedFieldSrc,a=e.selectedFieldType,l=e.setField,s=e.setFuncValue,u=e.parentField,c=e.readonly,d=e.id,p=e.groupId,f=e.fieldError,h=e.valueError;if(!["func","field"].includes(i))return"?";var g="func"===i?R.createElement(LG,{isLHS:!0,config:t,value:o,fieldSrc:i,fieldType:a,fieldError:f,valueError:h,parentField:u,setValue:l,setFuncValue:s,readonly:c,id:d,groupId:p,key:"field-func-"+d}):R.createElement(_K,{config:t,selectedField:o,selectedFieldSrc:i,selectedFieldType:a,parentField:u,setField:l,customProps:t.settings.customFieldSelectProps,readonly:c,id:d,groupId:p,key:"field-"+d}),v="func"===i?t.settings.funcLabel:t.settings.fieldLabel,m=t.settings.showLabels&&"func"!==i&&R.createElement("label",{className:"rule--label"},v);return R.createElement("div",{key:i,className:n},m,g)},r.renderFieldSources=function(){if(!r.meta)return null;var e=r.props,t=e.config,n=e.readonly,o=e.selectedFieldSrc,i=e.setFieldSrc,a=e.id,l=r.meta.fieldSourcesOptions,s=t.settings,u=r.ValueSources,c=s.showLabels?R.createElement("label",{className:"rule--label"}," "):null;return l.length>1&&!n&&R.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},c,R.createElement(u,{key:"fieldsrc-"+a,valueSources:l,valueSrc:o,config:t,setValueSrc:i,readonly:n,title:s.fieldSourcesPopupTitle}))},yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.ValueSources||(null==t?void 0:t.config)!==(null==e?void 0:e.config);if((!this.meta||["config"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),r){var n=e.config,o=n.settings.renderValueSources;this.ValueSources=function(e){return o(e,n.ctx)}}}},{key:"getMeta",value:function(e){var t=e.config.settings,r=t.valueSourcesInfo;return{fieldSourcesOptions:t.fieldSources.map((function(e){return[e,{label:r[e].label}]}))}}},{key:"render",value:function(){var e=this.props;e.classname;var t=e.canSelectFieldSource,r=t&&this.renderFieldSources(),n=this.renderField();return t?R.createElement(nK,{className:"rule--field-wrapper"},r,n):n}}])}(v.Component),MG=["factory"];function DG(e,t,r){return t=G(t),Y(e,VG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VG=function(){return!!e})()}var zG=JU.ConfigUtils.getOperatorConfig,BG=function(e){function t(){return K(this,t),DG(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var e=zG(this.props.config,this.props.selectedOperator,this.props.selectedField);if(void 0===e.options)return null;var t=e.options,r=t.factory,n=bn(t,MG),o=r(Object.assign({},n,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),this.props.config.ctx),i=this.props.selectedOperator;return R.createElement("div",{className:"rule--operator rule--operator--".concat(i.toUpperCase())},o)}}])}(v.PureComponent);function HG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HG(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UG(e,t,r){return t=G(t),Y(e,WG()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WG=function(){return!!e})()}BG.propTypes={config:Gt.object.isRequired,operatorOptions:Gt.any.isRequired,selectedField:Gt.any,selectedFieldSrc:Gt.string,selectedOperator:Gt.string.isRequired,readonly:Gt.bool,setOperatorOption:Gt.func.isRequired};var KG=JU.ConfigUtils,GG=KG.getFieldConfig,YG=KG.getOperatorConfig,JG=KG.getFieldWidgetConfig,QG=KG.getFieldId,XG=JU.RuleUtils.isEmptyRuleProperties,ZG=function(e){function t(e){var r;return K(this,t),r=UG(this,t,[e]),yW(r),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props,n=!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if((!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"].map((function(t){return e[t]!==r[t]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),n){var o=e.config,i=o.settings,a=i.renderIcon,l=i.renderButton,s=i.renderButtonGroup,u=i.renderSwitch,c=i.renderBeforeWidget,d=i.renderAfterWidget,p=i.renderRuleError;this.Icon=sK(o,a),this.Btn=sK(o,l),this.BtnGrp=sK(o,s),this.Switch=sK(o,u),this.BeforeWidget=sK(o,c),this.AfterWidget=sK(o,d),this.RuleError=sK(o,p)}this.doRemove=function(){t.props.removeSelf()}}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.selectedOperator,o=e.config,i=e.reordableNodesCnt,a=e.isLocked,l=o.settings.keepInputOnChangeFieldSrc,s=QG(t,o),u=GG(o,t),c=u&&"!struct"===u.type,d=!!t||l&&r,p=d&&n,f=YG(o,n,t),h=f&&null!=f.options,g=JG(o,t,n,null,null)||{},v=g.hideOperator;return{selectedFieldId:s,selectedFieldWidgetConfig:g,showDragIcon:o.settings.canReorder&&i>1&&!a,showOperator:d&&!v,showOperatorLabel:d&&v&&g.operatorInlineLabel,showWidget:p&&!c,showOperatorOptions:p&&h}}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeRuleConfirmOptions;i&&!this.isEmptyCurrentRule()?o.call(r.ctx,$G($G({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(e,t){var r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.operatorOptions,l=e.value,s=e.valueType,u=e.valueSrc,c=e.asyncListValues,d=e.valueError,p=e.fieldError,f=e.parentField;return{field:r,fieldSrc:n,fieldType:o,fieldId:t.selectedFieldId,operator:i,operatorOptions:a,value:l,valueType:s,valueSrc:u,asyncListValues:c,valueError:d,fieldError:p,parentField:f}}},{key:"isEmptyCurrentRule",value:function(){var e=this.props.config,t=this._buildWidgetProps(this.props,this.meta);return XG(t,e)}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.parentField,o=e.groupId,i=e.id,a=e.selectedFieldSrc,l=e.selectedField,s=e.selectedFieldType,u=e.setField,c=e.setFuncValue,d=e.setFieldSrc,p=e.fieldError,f=t.settings.immutableFieldsMode,h=this.meta.selectedFieldId;return R.createElement(RG,{key:"field",classname:rn("func"==a?"rule--field--func":"rule--field"),config:t,canSelectFieldSource:!n,selectedField:l,selectedFieldSrc:a,selectedFieldType:s,selectedFieldId:h,fieldError:p,setField:f?oK:u,setFuncValue:f?oK:c,setFieldSrc:f?oK:d,parentField:n,readonly:f||r,id:i,groupId:o})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta,o=n.selectedFieldId,i=n.selectedFieldWidgetConfig,a=n.showOperator,l=n.showOperatorLabel,s=t.settings.immutableOpsMode;return R.createElement(dK,{key:"operator",config:t,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:o,selectedOperator:this.props.selectedOperator,setOperator:s?oK:this.props.setOperator,showOperator:a,showOperatorLabel:l,selectedFieldWidgetConfig:i,readonly:s||r,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta.showWidget,o=t.settings.immutableValuesMode;if(!n)return null;var i=R.createElement(CG,w({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:t,setValue:o?oK:this.props.setValue,setValueSrc:o?oK:this.props.setValueSrc,setFuncValue:o?oK:this.props.setFuncValue,readonly:o||r,id:this.props.id,groupId:this.props.groupId}));return R.createElement(nK,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},i)}},{key:"renderOperatorOptions",value:function(){var e=this.props.config,t=this.meta.showOperatorOptions,r=e.settings,n=r.immutableOpsMode,o=r.immutableValuesMode;if(!t)return null;var i=R.createElement(BG,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:n?oK:this.props.setOperatorOption,config:e,readonly:o});return R.createElement(nK,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},i)}},{key:"renderBeforeWidget",value:function(){var e=this.BeforeWidget;return e?R.createElement(nK,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},R.createElement(e,this.props)):null}},{key:"renderAfterWidget",value:function(){var e=this.AfterWidget;return e?R.createElement(nK,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},R.createElement(e,this.props)):null}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=e.fieldError,o=t.settings.showErrorMessage,i=this.RuleError,a=[n].concat(pj((null==r?void 0:r.toArray())||[])).filter((function(e){return!!e})).shift()||null;return o&&a&&R.createElement("div",{className:"rule--error"},i?R.createElement(i,{error:a}):a)}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.meta.showDragIcon,r=this.Icon,n=R.createElement(r,{type:"drag"});return t&&R.createElement("div",{key:"rule-drag-icon",onMouseDown:e,className:"qb-drag-handler rule--drag-handler"},n)}},{key:"renderDel",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=t.settings,o=n.deleteLabel,i=n.immutableGroupsMode,a=n.canDeleteLocked,l=this.Icon,s=this.Btn;return!i&&(!r||r&&a)&&R.createElement(s,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:o,config:t,renderIcon:l})}},{key:"renderLock",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.isTrueLocked,o=e.id,i=t.settings,a=i.lockLabel,l=i.lockedLabel,s=i.showLock,u=this.Switch;return s&&!(r&&!n)&&R.createElement(u,{key:"rule-lock",type:"lock",id:o,value:r,setValue:this.setLock,label:a,checkedLabel:l,hideLabel:!0,config:t})}},{key:"render",value:function(){var e=this.meta,t=e.showOperatorOptions,r=e.selectedFieldWidgetConfig,n=this.props,o=n.valueSrc,i=n.value,a=n.config,l="value"==(null==o?void 0:o.first())&&!t&&1==i.size&&r.fullWidth,s=this.BtnGrp,u=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],c=R.createElement("div",{key:"rule-body",className:rn("rule--body",l&&"can--shrink--value")},u),d=this.renderError(),p=this.renderDrag(),f=this.renderLock(),h=this.renderDel();return R.createElement(R.Fragment,null,p,R.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},c,d),R.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},R.createElement(s,{key:"rule-header-group",config:a},f,h)))}}])}(v.Component);ZG.propTypes={id:Gt.string.isRequired,groupId:Gt.string,selectedField:Gt.any,selectedFieldSrc:Gt.string,selectedFieldType:Gt.string,selectedOperator:Gt.string,operatorOptions:Gt.object,config:Gt.object.isRequired,value:Gt.any,valueSrc:Gt.any,valueType:Gt.any,asyncListValues:Gt.array,isDraggingMe:Gt.bool,isDraggingTempo:Gt.bool,parentField:Gt.string,valueError:Gt.any,fieldError:Gt.string,isLocked:Gt.bool,isTrueLocked:Gt.bool,handleDraggerMouseDown:Gt.func,setField:Gt.func,setFieldSrc:Gt.func,setOperator:Gt.func,setOperatorOption:Gt.func,setLock:Gt.func,removeSelf:Gt.func,setValue:Gt.func,setValueSrc:Gt.func,setFuncValue:Gt.func,reordableNodesCnt:Gt.number,totalRulesCnt:Gt.number,parentReordableNodesCnt:Gt.number};const eY=function(e){var t=Yt((function(e){return{dragging:e.dragging}}),null,null,{context:QU})(function(e){var t;return t=function(t){function r(e){var t;return K(this,r),(t=AW(this,r,[e])).dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeRule(t.props.path)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.setField=function(e,r,n){t.props.actions.setField(t.props.path,e,r,n)},t.setFieldSrc=function(e){t.props.actions.setFieldSrc(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setOperatorOption=function(e,r){t.props.actions.setOperatorOption(t.props.path,e,r)},t.setValue=function(e,r,n,o,i){t.props.actions.setValue(t.props.path,e,r,n,o,i)},t.setValueSrc=function(e,r,n){t.props.actions.setValueSrc(t.props.path,e,r,n)},t.setFuncValue=function(e,r,n,o,i,a,l){t.props.actions.setFuncValue(t.props.path,e,r,n,o,i,a,l)},t.pureShouldComponentUpdate=mW(t),t.dummyFn.isDummyFn=!0,t}return U(r,t),W(r,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,r=PW(this.props.config,this.props.field),n=this.props.fieldType||(null==r?void 0:r.type)||null,o=this.props.config.settings.showErrorMessage;r&&r.type;var i=!t&&this.props.isDraggingTempo,a=this.props,l=a.valueError,s=[a.fieldError].concat(pj((null==l?void 0:l.toArray())||[])).filter((function(e){return!!e})).shift()||null,u=null!=s&&o;return R.createElement("div",{className:rn("group-or-rule-container","rule-container",u?"rule-with-error":null),"data-id":this.props.id},[t?R.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,R.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,setField:i?this.dummyFn:this.setField,setFieldSrc:i?this.dummyFn:this.setFieldSrc,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setOperatorOption:i?this.dummyFn:this.setOperatorOption,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),t.propTypes={id:Gt.string.isRequired,groupId:Gt.string,config:Gt.object.isRequired,path:Gt.any.isRequired,operator:Gt.string,field:Gt.any,fieldSrc:Gt.string,fieldType:Gt.string,actions:Gt.object.isRequired,onDragStart:Gt.func,value:Gt.any,valueSrc:Gt.any,asyncListValues:Gt.array,valueError:Gt.any,fieldError:Gt.string,operatorOptions:Gt.object,reordableNodesCnt:Gt.number,parentField:Gt.string,isLocked:Gt.bool,isTrueLocked:Gt.bool,dragging:Gt.object,isDraggingTempo:Gt.bool},t}(e));return t.displayName="ConnectedRuleContainer",t}(HW("rule")(aK(ZG)));var tY=XK;var rY=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e},nY=NI,oY=function(e){var t=tY(e),r=t%1;return t==t?r?t-r:t:0},iY=RI;const aY=g((function(e,t,r){return e=iY(e),r=null==r?0:rY(oY(r),0,e.length),t=nY(t),e.slice(r,r+t.length)==t}));function lY(e,t,r){return t=G(t),Y(e,sY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function sY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sY=function(){return!!e})()}var uY=JU.DefaultUtils.defaultGroupConjunction;const cY=function(e,t){var r=Yt((function(e){return{dragging:e.dragging}}),null,null,{context:QU})(function(e,t){var r;return r=function(r){function n(e){var r;return K(this,n),(r=lY(this,n,[e]))._selectedConjunction=function(e){return(e=e||r.props).conjunction||uY(e.config,e.field)},r.setConjunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setConjunction(r.props.path,e)},r.setNot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setNot(r.props.path,e)},r.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setLock(r.props.path,e)},r.dummyFn=function(){},r.removeSelf=function(){r.props.actions.removeGroup(r.props.path)},r.addGroup=function(){r.props.actions.addGroup(r.props.path)},r.addCaseGroup=function(){r.props.actions.addCaseGroup(r.props.path)},r.addDefaultCaseGroup=function(){r.props.actions.addDefaultCaseGroup(r.props.path)},r.addRule=function(){var e="rule_group"==t?r.props.field:null;r.props.actions.addRule(r.props.path,void 0,void 0,void 0,e)},r.setField=function(e,t,n){r.props.actions.setField(r.props.path,e,t,n)},r.setOperator=function(e){r.props.actions.setOperator(r.props.path,e)},r.setValue=function(e,t,n,o,i){r.props.actions.setValue(r.props.path,e,t,n,o,i)},r.setValueSrc=function(e,t,n){r.props.actions.setValueSrc(r.props.path,e,t,n)},r.setFuncValue=function(e,t,n,o,i,a,l){r.props.actions.setFuncValue(r.props.path,e,t,n,o,i,a,l)},r.pureShouldComponentUpdate=mW(r),yW(r),r.selectedConjunction=r._selectedConjunction(e),r.conjunctionOptions=r._getConjunctionOptions(e),r.dummyFn.isDummyFn=!0,r}return U(n,r),W(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"onPropsChanged",value:function(e){var t=e.config;e.id;var r=e.conjunction,n=this.props.config,o=this.props.conjunction;n==t&&o==r||(this.selectedConjunction=this._selectedConjunction(e),this.conjunctionOptions=this._getConjunctionOptions(e))}},{key:"_getConjunctionOptions",value:function(e){var t=this;return qU(e.config.conjunctions,(function(r,n){return{id:"conjunction-".concat(e.id,"-").concat(n),name:"conjunction[".concat(e.id,"]"),key:n,label:r.label,checked:n===t._selectedConjunction(e)}}))}},{key:"render",value:function(){var t=this.props.config.settings.showErrorMessage,r=this.props.dragging.id==this.props.id,n=this.props.path.size,o=this.props.config.settings.maxNesting,i=!r&&this.props.isDraggingTempo,a=this.props.fieldType||null,l=this.props.valueError,s=pj((null==l?void 0:l.toArray())||[]).filter((function(e){return!!e})).shift()||null,u=null!=s&&t,c=void 0===o||n<o,d=1==n;return R.createElement("div",{className:rn("group-or-rule-container","group-container",u?"group-with-error":null),"data-id":this.props.id},[r?R.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,R.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:r,isDraggingTempo:i,onDragStart:this.props.onDragStart,isRoot:d,allowFurtherNesting:c,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:i?this.dummyFn:this.setConjunction,setNot:i?this.dummyFn:this.setNot,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,addGroup:i?this.dummyFn:this.addGroup,addCaseGroup:i?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:i?this.dummyFn:this.addDefaultCaseGroup,addRule:i?this.dummyFn:this.addRule,setField:i?this.dummyFn:this.setField,setFuncValue:i?this.dummyFn:this.setFuncValue,setOperator:i?this.dummyFn:this.setOperator,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:a,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(v.Component),r.propTypes={config:Gt.object.isRequired,actions:Gt.object.isRequired,path:Gt.any.isRequired,id:Gt.string.isRequired,groupId:Gt.string,not:Gt.bool,conjunction:Gt.string,children1:Gt.any,onDragStart:Gt.func,reordableNodesCnt:Gt.number,field:Gt.any,fieldSrc:Gt.string,fieldType:Gt.string,parentField:Gt.string,value:Gt.any,valueSrc:Gt.any,valueError:Gt.any,isLocked:Gt.bool,isTrueLocked:Gt.bool,dragging:Gt.object,isDraggingTempo:Gt.bool},r}(e,t));return r.displayName="ConnectedGroupContainer",r};function dY(e,t,r){return t=G(t),Y(e,pY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pY=function(){return!!e})()}var fY={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},hY=function(e){function t(){return K(this,t),dY(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.removeSelf,i=e.setLock,a=e.isLocked,l=e.isTrueLocked,s=e.id,u=e.canAddGroup,c=e.canAddRule,d=e.canDeleteGroup,p=t.settings,f=p.immutableGroupsMode,h=p.addRuleLabel,g=p.addGroupLabel,v=p.delGroupLabel,m=p.groupActionsPosition,y=p.renderButton,b=p.renderIcon,_=p.renderSwitch,x=p.renderButtonGroup,w=p.lockLabel,O=p.lockedLabel,S=p.showLock,k=p.canDeleteLocked,j=function(e){return b(e,t.ctx)},E=function(e){return y(e,t.ctx)},C=function(e){return _(e,t.ctx)},T=function(e){return x(e,t.ctx)},q=fY[m||"topRight"],I=S&&!(a&&!l)&&R.createElement(C,{type:"lock",id:s,value:a,setValue:i,label:w,checkedLabel:O,config:t}),A=!f&&c&&!a&&R.createElement(E,{type:"addRule",onClick:r,label:h,readonly:a,config:t,renderIcon:j}),L=!f&&u&&!a&&R.createElement(E,{type:"addGroup",onClick:n,label:g,readonly:a,config:t,renderIcon:j}),P=!f&&d&&(!a||a&&k)&&R.createElement(E,{type:"delGroup",onClick:o,label:v,config:t,renderIcon:j});return R.createElement("div",{className:"group--actions ".concat(q)},R.createElement(T,{config:t},I,A,L,P))}}])}(v.PureComponent);function gY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mY(e,t,r){return t=G(t),Y(e,yY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function yY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yY=function(){return!!e})()}var bY=JU.RuleUtils.isEmptyGroupChildren,_Y=function(e){function t(e){var r;return K(this,t),(r=mY(this,t,[e])).childrenClassName=function(){return""},r.renderBeforeActions=function(){var e=r.BeforeActions;return null==e?null:R.createElement(e,w({key:"group-actions-before"},r.props))},r.renderAfterActions=function(){var e=r.AfterActions;return null==e?null:R.createElement(e,w({key:"group-actions-after"},r.props))},yW(r),r.onPropsChanged(e),r.removeSelf=r.removeSelf.bind(r),r.setLock=r.setLock.bind(r),r.renderItem=r.renderItem.bind(r),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this,r=this.props;if(!this.Icon||(null==r?void 0:r.config)!==(null==e?void 0:e.config)){var n=e.config,o=n.settings,i=o.renderIcon,a=o.renderConjs,l=o.renderBeforeActions,s=o.renderAfterActions;this.Icon=sK(n,i),this.Conjs=sK(n,a),this.BeforeActions=sK(n,l),this.AfterActions=sK(n,s)}this.doRemove=function(){t.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return aY(this.props.config.settings.groupActionsPosition||"topRight","top")}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this.props,t=e.confirmFn,r=e.config,n=r.settings,o=n.renderConfirm,i=n.removeGroupConfirmOptions;i&&!this.isEmptyCurrentGroup()?o.call(r.ctx,vY(vY({},i),{},{onOk:this.doRemove,onCancel:null,confirmFn:t}),r.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config;return bY(t,r)}},{key:"showNot",value:function(){return this.props.config.settings.showNot}},{key:"showConjs",value:function(){var e=this.props,t=e.conjunctionOptions;return e.children1,e.config,Object.keys(t).length>1||this.showNot()}},{key:"isNoChildren",value:function(){var e=this.props.children1;return!e||0==e.size}},{key:"isOneChild",value:function(){var e=this.props.children1;return!e||e.size<2}},{key:"renderChildrenWrapper",value:function(){return this.props.children1&&R.createElement("div",{key:"group-children",className:rn("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var e=this.isGroupTopPosition();return R.createElement("div",{key:"group-header",className:rn("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),e&&this.renderBeforeActions(),e&&this.renderActions(),e&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){return!this.isGroupTopPosition()&&R.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(hY,{key:"group-actions",config:t,addRule:r,addGroup:n,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var e=this.props.config.settings.maxNumberOfRules,t=this.props.totalRulesCnt;return!e||t<e}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var e=this.props.children1;return e?e.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(e){if(e){var t=this.props,r=t.config,n=t.actions,o=t.onDragStart,i=t.isLocked,a="group"==e.get("type")&&null!=e.getIn(["properties","field"])?"rule_group":e.get("type");return R.createElement(yJ,w({},this.extraPropsForItem(e),{key:e.get("id"),id:e.get("id"),groupId:t.id,path:e.get("path"),type:a,properties:e.get("properties"),config:r,actions:n,children1:e.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(e),totalRulesCnt:this.totalRulesCntForItem(e),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:o,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:i}))}}},{key:"extraPropsForItem",value:function(e){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var e=this.props,t=e.config,r=e.isRoot,n=e.isLocked,o=this.reordableNodesCnt();return t.settings.canReorder&&!r&&o>1&&!n}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown,t=this.Icon,r=R.createElement(t,{type:"drag"});return this.showDragIcon()&&R.createElement("div",{key:"group-drag-icon",onMouseDown:e,className:"qb-drag-handler group--drag-handler"},r)}},{key:"conjunctionOptions",value:function(){var e=this.props.conjunctionOptions;return e}},{key:"renderConjs",value:function(){var e=this.props,t=e.config,r=e.children1,n=e.id,o=e.selectedConjunction,i=e.setConjunction,a=e.not,l=e.setNot,s=e.isLocked,u=t.settings,c=u.immutableGroupsMode;u.renderConjs,u.showNot;var d=u.notLabel,p=this.conjunctionOptions();if(!this.showConjs())return null;if(!r||!r.size)return null;var f={disabled:this.isOneChild(),readonly:c||s,selectedConjunction:o,setConjunction:c?oK:i,conjunctionOptions:p,config:t,not:a||!1,id:n,setNot:c?oK:l,notLabel:d,showNot:this.showNot(),isLocked:s},h=this.Conjs;return R.createElement(h,w({key:"group-conjs"},f))}},{key:"renderHeader",value:function(){return R.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return R.createElement(R.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(v.Component);_Y.propTypes={reordableNodesCnt:Gt.number,conjunctionOptions:Gt.object.isRequired,allowFurtherNesting:Gt.bool.isRequired,isRoot:Gt.bool.isRequired,not:Gt.bool,selectedConjunction:Gt.string,config:Gt.object.isRequired,id:Gt.string.isRequired,groupId:Gt.string,path:Gt.any,children1:Gt.any,isDraggingMe:Gt.bool,isDraggingTempo:Gt.bool,isLocked:Gt.bool,isTrueLocked:Gt.bool,handleDraggerMouseDown:Gt.func,onDragStart:Gt.func,addRule:Gt.func.isRequired,addGroup:Gt.func.isRequired,removeSelf:Gt.func.isRequired,setConjunction:Gt.func.isRequired,setNot:Gt.func.isRequired,setLock:Gt.func.isRequired,actions:Gt.object.isRequired};const xY=cY(HW("group")(aK(_Y)),"group");function wY(){return wY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wY.apply(null,arguments)}function OY(e,t,r){return t=G(t),Y(e,SY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function SY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SY=function(){return!!e})()}var kY=function(e){function t(){return K(this,t),OY(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&R.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,hideLabel:!0,config:t}),E=!d&&n&&!l&&R.createElement(O,{type:"addRuleGroup",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&R.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions"},R.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function jY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CY(e,t,r){return t=G(t),Y(e,TY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function TY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TY=function(){return!!e})()}var qY=function(e){function t(e){var r;return K(this,t),(r=CY(this,t,[e])).childrenClassName=function(){return"rule_group--children"},r.renderHeaderWrapper=function(){return null},r.renderFooterWrapper=function(){return null},r.renderConjs=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!1},r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){wY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"renderChildrenWrapper",value:function(){return R.createElement(R.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),wY(G(t.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFuncValue,l=e.setFieldSrc,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return R.createElement(RG,{key:"field",classname:"group--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:a,setFieldSrc:l,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return R.createElement(kY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(_Y);qY.propTypes=EY(EY({},_Y.propTypes),{},{selectedField:Gt.any,selectedFieldSrc:Gt.string,parentField:Gt.string,setField:Gt.func,setFieldSrc:Gt.func});const IY=cY(HW("group rule_group")(aK(qY)),"rule_group");function AY(e,t,r){return t=G(t),Y(e,LY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function LY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LY=function(){return!!e})()}var PY=function(e){function t(){return K(this,t),AY(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addSubRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderIcon,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=c.canDeleteLocked,w=function(e){return g(e,t.ctx)},O=function(e){return h(e,t.ctx)},S=function(e){return v(e,t.ctx)},k=function(e){return m(e,t.ctx)},j=_&&!(l&&!s)&&R.createElement(S,{type:"lock",id:u,value:l,setValue:a,label:y,checkedLabel:b,config:t}),E=!d&&n&&!l&&R.createElement(O,{type:"addRuleGroupExt",onClick:r,label:p,readonly:l,config:t,renderIcon:w}),C=!d&&o&&(!l||l&&x)&&R.createElement(O,{type:"delRuleGroup",onClick:i,label:f,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions group--actions--tr"},R.createElement(k,{config:t},j,E,C))}}])}(v.PureComponent);function NY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RY(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return MY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MY(e,t)}(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function MY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DY(e,t,r){return t=G(t),Y(e,VY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function VY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VY=function(){return!!e})()}var zY=JU.ConfigUtils,BY=zY.getFieldConfig,HY=zY.getFieldWidgetConfig,$Y=JU.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,UY=function(e){function t(e){var r;return K(this,t),(r=DY(this,t,[e])).childrenClassName=function(){return"rule_group_ext--children"},r.renderFooterWrapper=function(){return null},r.canAddGroup=function(){return!1},r.canAddRule=function(){return!0},r.canDeleteGroup=function(){return!0},r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){wY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:rn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return R.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings,o=n.renderRuleError,i=n.showErrorMessage,a=pj((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return i&&a&&R.createElement("div",{className:"rule_group--error"},o?o({error:a},t.ctx):a)}},{key:"showNot",value:function(){var e=this.props,t=e.config,r=e.selectedField;e.selectedOperator;var n=BY(t,r)||{};return null!=n.showNot?n.showNot:t.settings.showNot}},{key:"conjunctionOptions",value:function(){var e=this.props,r=e.config,n=e.selectedField;e.selectedOperator;var o=BY(r,n)||{},i=wY(G(t.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var a,l={},s=RY(o.conjunctions);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=i[u];c&&(l[u]=c)}}catch(d){s.e(d)}finally{s.f()}i=l}return i}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFieldSrc,l=e.setFuncValue,s=e.parentField,u=e.id,c=e.groupId,d=e.isLocked,p=t.settings.immutableFieldsMode;return R.createElement(RG,{key:"field",classname:"rule--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFuncValue:l,setFieldSrc:a,parentField:s,readonly:p||d,id:u,groupId:c})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedOperator;e.setField;var i=e.setOperator,a=e.isLocked,l=t.settings.immutableFieldsMode,s=HY(t,r,o)||{},u=s.hideOperator,c=r&&u&&s.operatorInlineLabel,d=r&&!u;return R.createElement(dK,{key:"operator",classname:"group--operator",config:t,selectedField:r,selectedFieldSrc:n,selectedOperator:o,setOperator:i,showOperator:d,showOperatorLabel:c,selectedFieldWidgetConfig:s,readonly:l||a,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config,n=this._buildWidgetProps(this.props);return $Y(n,t,r)}},{key:"_buildWidgetProps",value:function(e){var t=e.selectedField,r=e.selectedFieldSrc,n=e.selectedFieldType,o=e.selectedOperator,i=e.operatorOptions,a=e.value,l=e.valueType;e.valueSrc,e.asyncListValues;var s=e.valueError;return e.fieldError,{field:t,fieldSrc:r,fieldType:n,operator:o,operatorOptions:i,value:a,valueType:l,valueSrc:["value"],valueError:s,fieldError:null,parentField:e.parentField}}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedOperator,o=e.isLocked,i=t.settings.immutableValuesMode;if(!(r&&n))return null;var a=R.createElement(CG,w({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:t,setValue:i?oK:this.props.setValue,setValueSrc:oK,readonly:i||o,id:this.props.id,groupId:this.props.groupId}));return R.createElement(nK,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},a)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return R.createElement(PY,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}])}(_Y);UY.propTypes=FY(FY({},_Y.propTypes),{},{selectedField:Gt.any,selectedFieldSrc:Gt.string,selectedOperator:Gt.string,value:Gt.any,parentField:Gt.string,setField:Gt.func,setFieldSrc:Gt.func,setOperator:Gt.func,setValue:Gt.func,valueError:Gt.any});const WY=cY(HW("group rule_group_ext")(aK(UY)),"rule_group");function KY(e,t,r){return t=G(t),Y(e,GY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function GY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(GY=function(){return!!e})()}var YY={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},JY=function(e){function t(){return K(this,t),KY(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.setLock,i=e.isLocked,a=e.isTrueLocked,l=e.id,s=e.canAddGroup,u=e.canAddDefault,c=t.settings,d=c.immutableGroupsMode,p=c.addCaseLabel,f=c.addDefaultCaseLabel,h=c.groupActionsPosition,g=c.renderButton,v=c.renderIcon,m=c.renderSwitch,y=c.renderButtonGroup,b=c.lockLabel,_=c.lockedLabel,x=c.showLock,w=function(e){return v(e,t.ctx)},O=function(e){return g(e,t.ctx)},S=function(e){return m(e,t.ctx)},k=function(e){return y(e,t.ctx)},j=YY[h||"topRight"],E=x&&!(i&&!a)&&R.createElement(S,{type:"lock",id:l,value:i,setValue:o,label:b,checkedLabel:_,config:t}),C=!d&&s&&!i&&R.createElement(O,{type:"addCaseGroup",onClick:r,label:p,readonly:i,config:t,renderIcon:w}),T=!d&&u&&!i&&R.createElement(O,{type:"addDefaultCaseGroup",onClick:n,label:f,readonly:i,config:t,renderIcon:w});return R.createElement("div",{className:"group--actions ".concat(j)},R.createElement(k,{config:t},E,C,T))}}])}(v.PureComponent);function QY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XY(e,t,r){return t=G(t),Y(e,ZY()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function ZY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZY=function(){return!!e})()}var eJ=JU.TreeUtils,tJ=eJ.getTotalReordableNodesCountInTree,rJ=eJ.getTotalRulesCountInTree,nJ=function(e){function t(e){var r;return K(this,t),(r=XY(this,t,[e])).childrenClassName=function(){return"switch_group--children"},r.renderFooterWrapper=function(){return null},r.hasDefaultCase=function(){var e;return(null===(e=r.props.children1)||void 0===e?void 0:e.size)&&r.props.children1.filter((function(e){return null==e.get("children1")})).size>0},r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){wY(G(t.prototype),"onPropsChanged",this).call(this,e)}},{key:"canAddGroup",value:function(){var e,t=this.props.config.settings.maxNumberOfCases,r=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return!t||r<t}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var e,t=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return this.hasDefaultCase()&&t--,t}},{key:"totalRulesCntForItem",value:function(e){return rJ(e)}},{key:"reordableNodesCntForItem",value:function(e){var t;if(this.props.isLocked)return 0;var r=this.props.config.settings,n=r.canLeaveEmptyCase,o=r.canRegroupCases,i=(null===(t=this.props.children1)||void 0===t?void 0:t.size)||0;this.hasDefaultCase()&&i--;var a=tJ(e);return 1==a&&o&&n&&i>1&&(a=111),a}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:rn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){return this.props.config.settings.renderSwitchPrefix||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(JY,{config:t,addCaseGroup:r,addDefaultCaseGroup:n,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}}])}(_Y);nJ.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QY(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},_Y.propTypes);const oJ=cY(HW("group switch_group")(aK(nJ)),"switch_group");function iJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lJ(e,t,r){return t=G(t),Y(e,sJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function sJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sJ=function(){return!!e})()}var uJ=function(e){function t(e){var r;return K(this,t),(r=lJ(this,t,[e])).childrenClassName=function(){return"case_group--children"},r.renderFooterWrapper=function(){return null},r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var r=this.props,n=!this.renderBeforeCaseValue||(null==r?void 0:r.config)!==(null==e?void 0:e.config);if(wY(G(t.prototype),"onPropsChanged",this).call(this,e),n){var o=e.config,i=o.settings,a=i.renderBeforeCaseValue,l=i.renderAfterCaseValue,s=i.renderRuleError;this.BeforeCaseValue=sK(o,a),this.AfterCaseValue=sK(o,l),this.RuleError=sK(o,s)}}},{key:"isDefaultCase",value:function(){return null==this.props.children1}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return!this.isDefaultCase()&&wY(G(t.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return R.createElement("div",{key:"group-header",className:rn("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:R.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){return this.isDefaultCase()?this.props.config.settings.defaultCaseLabel||"":R.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:wY(G(t.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?R.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return!this.isDefaultCase()&&wY(G(t.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return!this.isDefaultCase()&&wY(G(t.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var e=this.BeforeCaseValue;return null==e?null:R.createElement(e,w({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var e=this.AfterCaseValue;return null==e?null:R.createElement(e,w({key:"values-after"},this.props))}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings.showErrorMessage,o=this.RuleError,i=pj((null==r?void 0:r.toArray())||[]).filter((function(e){return!!e})).shift()||null;return n&&i&&R.createElement("div",{className:"rule--error"},o?R.createElement(o,{error:i}):i)}},{key:"renderValue",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.value,o=e.valueSrc,i=e.valueError,a=e.setValue,l=e.setValueSrc,s=e.setFuncValue,u=e.id,c=t.settings.immutableValuesMode,d=R.createElement(CG,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:n,valueSrc:null!=o?o:"value",valueError:i,fieldError:null,config:t,setValue:c?oK:a,setValueSrc:c?oK:l,setFuncValue:c?oK:s,readonly:c||r,id:u,groupId:null});return R.createElement(nK,{className:"case_group--value"},d)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addGroup,n=e.addRule,o=e.isLocked,i=e.isTrueLocked,a=e.id;return R.createElement(hY,{config:t,addGroup:r,addRule:n,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props.value,r=e&&e.size?e.get(0):null,n=null!=r&&(!Array.isArray(r)||r.length>0);return wY(G(t.prototype),"isEmptyCurrentGroup",this).call(this)&&!n}}])}(_Y);uJ.propTypes=aJ(aJ({},_Y.propTypes),{},{parentReordableNodesCnt:Gt.number,value:Gt.any,setValue:Gt.func});const cJ=cY(HW("group case_group")(aK(uJ)),"case_group");var dJ=["type"];function pJ(e,t,r){return t=G(t),Y(e,fJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function fJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fJ=function(){return!!e})()}function hJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vJ=function(e){var t,r=(null===(t=e.properties)||void 0===t?void 0:t.toObject())||{},n=gJ({},r);return e.isParentLocked&&(n.isLocked=!0),r.isLocked&&(n.isTrueLocked=!0),n},mJ={rule:function(e){return R.createElement(eY,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return R.createElement(xY,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return R.createElement(IY,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return R.createElement(WY,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return R.createElement(oJ,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return R.createElement(cJ,w({},vJ(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},yJ=function(e){function t(){return K(this,t),pJ(this,t,arguments)}return U(t,e),W(t,[{key:"render",value:function(){var e,t=this.props,r=t.type,n=bn(t,dJ),o="array"==(null===(e=n.properties)||void 0===e?void 0:e.get("mode"))?"_ext":"",i=n.config.settings.renderItem,a=mJ[r+o];return i?i(gJ(gJ({},n),{},{type:r,itemComponent:a}),n.config.ctx):a?a(n):null}}])}(v.PureComponent);function bJ(e,t,r){return t=G(t),Y(e,_J()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function _J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_J=function(){return!!e})()}yJ.propTypes={config:Gt.object.isRequired,id:Gt.string.isRequired,groupId:Gt.string,type:Gt.oneOf(["rule","group","rule_group","switch_group","case_group"]).isRequired,path:Gt.any.isRequired,properties:Gt.any,children1:Gt.any,actions:Gt.object.isRequired,reordableNodesCnt:Gt.number,onDragStart:Gt.func,parentField:Gt.string,isDraggingTempo:Gt.bool,isParentLocked:Gt.bool};var xJ=JU.TreeUtils,wJ=xJ.getTotalReordableNodesCountInTree,OJ=xJ.getTotalRulesCountInTree,SJ=JU.DefaultUtils,kJ=SJ.createListWithOneElement,jJ=SJ.emptyProperties,EJ=function(e){function t(e){var r;return K(this,t),(r=bJ(this,t,[e])).pureShouldComponentUpdate=mW(r),r._updPath(e),r}return U(t,e),W(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.pureShouldComponentUpdate(e,t)}},{key:"_updPath",value:function(e){var t=e.tree.get("id");this.path=kJ(t)}},{key:"render",value:function(){var e=this.props,t=e.tree,r=e.config,n=e.actions,o=e.onDragStart,i=t.get("type"),a="switch_group"==i,l=a?null:wJ(t),s=a?null:OJ(t),u=t.get("id");return R.createElement(yJ,{key:u,id:u,path:this.path,type:i,properties:t.get("properties")||jJ(),config:r,actions:n,children1:t.get("children1")||jJ(),reordableNodesCnt:l,totalRulesCnt:s,parentReordableNodesCnt:0,onDragStart:o})}}])}(v.Component);EJ.propTypes={tree:Gt.any.isRequired,config:Gt.object.isRequired,actions:Gt.object.isRequired,onDragStart:Gt.func};const CJ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Yt((function(e){return{dragging:e.dragging,dragStart:e.dragStart,mousePos:e.mousePos}}),{setDragStart:nW,setDragProgress:rW,setDragEnd:oW},null,{context:QU})(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=function(t){function n(e){var t;return K(this,n),(t=NW(this,n,[e]))._getEventTarget=function(e,t){return e&&e.__mocked_window||document.body||window},t.onDragStart=function(e,r,n){var o=r.closest(".query-builder");void 0===t._isUsingLegacyReactDomRender&&(t._isUsingLegacyReactDomRender=gW(o)),document.body.classList.add("qb-dragging"),o.classList.add("qb-dragging");var i=o.closest(".query-builder-container")||o,a=(i=t._getScrollParent(i)||document.body).scrollTop;t._getDraggableNodeEl(o),t._getPlaceholderNodeEl(o);var l,s=o.querySelectorAll(".group--children"),u=s.length?s[0]:null;u&&(l=window.getComputedStyle(u,null).getPropertyValue("padding-left"),l=parseInt(l));var c={id:e,x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight,itemInfo:t.tree.items[e],paddingLeft:l},d={id:e,x:r.offsetLeft,y:r.offsetTop,scrollTop:a,clientX:n.clientX,clientY:n.clientY,itemInfo:RW(t.tree.items[e]),treeEl:o,treeElContainer:i},p={clientX:n.clientX,clientY:n.clientY},f=t._getEventTarget(n,d);t.eventTarget=f,f.addEventListener("mousemove",t.onDrag),f.addEventListener("mouseup",t.onDragEnd),t.props.setDragStart(d,c,p)},t.onDrag=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Object.assign({},t.props.dragging),i=t.props.dragStart,a=o.paddingLeft,l=i.treeElContainer.scrollTop;if(o.itemInfo=t.tree.items[o.id],o.itemInfo){var s={clientX:e.clientX,clientY:e.clientY},u={clientX:i.clientX,clientY:i.clientY};if(e.__mock_dom){var c=i.treeEl,d=t._getDraggableNodeEl(c),p=t._getPlaceholderNodeEl(c);e.__mock_dom({treeEl:c,dragEl:d,plhEl:p})}if(!i.plX){var f=i.treeEl,h=t._getPlaceholderNodeEl(f);h&&(i.plX=h.getBoundingClientRect().left+window.scrollX,i.plY=h.getBoundingClientRect().top+window.scrollY)}var g=i.x,v=i.y,m=i.clientX,y=i.clientY,b=i.scrollTop,_={x:g+(e.clientX-m),y:v+(e.clientY-y)+(l-b)};o.x=_.x,o.y=_.y,o.paddingLeft=a,o.mousePos=s,o.startMousePos=u,t.props.setDragProgress(s,o),n&&t.handleDrag(o,e,r)||e.preventDefault&&e.preventDefault()}},t.onDragEnd=function(){var e=t.props.dragStart.treeEl;t.props.setDragEnd(),e.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),t._cacheEls={};var r=t.eventTarget||t._getEventTarget();r.removeEventListener("mousemove",t.onDrag),r.removeEventListener("mouseup",t.onDragEnd)},t.pureShouldComponentUpdate=mW(t),yW(t),t.onPropsChanged(e),t}return U(n,t),W(n,[{key:"onPropsChanged",value:function(e){this.tree=MW(e.tree)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=[];for(var a in e)e[a]!=r[a]&&"dragging"!=a&&"mousePos"!=a&&i.push(a);i.length||(o=!1)}return o}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.dragging,n=this.props.dragStart;if(DW=!1,n&&n.id&&(r.itemInfo=this.tree.items[r.id],r.itemInfo&&(r.itemInfo.index!=n.itemInfo.index||r.itemInfo.parent!=n.itemInfo.parent))){var o=n.treeEl,i=n.treeElContainer,a=this._getPlaceholderNodeEl(o,!0);if(a){var l=a.getBoundingClientRect().left+window.scrollX,s=a.getBoundingClientRect().top+window.scrollY,u=n.plX,c=n.plY,d=i.scrollTop;n.plX=l,n.plY=s,n.itemInfo=RW(r.itemInfo),n.y=a.offsetTop,n.x=a.offsetLeft,n.clientY+=s-c,n.clientX+=l-u,i!=document.body&&(n.scrollTop=d),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return null;this._cacheEls||(this._cacheEls={});var n=this._cacheEls[t];return n&&document.contains(n)&&!r||(n=e.querySelector('.group-or-rule-container[data-id="'+t+'"]'),this._cacheEls[t]=n),n}},{key:"_getDraggableNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.draggable;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-draggable");return r=n.length?n[0]:null,this._cacheEls.draggable=r,r}},{key:"_getPlaceholderNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.placeholder;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-placeholder");return r=n.length?n[0]:null,this._cacheEls.placeholder=r,r}},{key:"_isScrollable",value:function(e){var t=window.getComputedStyle(e)["overflow-y"];return("scroll"===t||"auto"===t)&&e.scrollHeight>e.offsetHeight}},{key:"_getScrollParent",value:function(e){return null==e?null:e===document.body||this._isScrollable(e)?e:this._getScrollParent(e.parentNode)}},{key:"handleDrag",value:function(e,t,r){var n,o,i,a,l=this,s=e.itemInfo,u=e.paddingLeft,c=null,d=this.props.dragStart.treeEl,p=e.id,f=this._getDraggableNodeEl(d),h=this._getPlaceholderNodeEl(d);if(f&&h){if(n=f.getBoundingClientRect(),!(o=h.getBoundingClientRect()).width)return;var g={hrz:0,vrt:0};n.top<o.top?g.vrt=-1:n.bottom>o.bottom&&(g.vrt=1),n.left>o.left?g.hrz=1:n.left<o.left&&(g.hrz=-1);var v,m={x:(a=d.getBoundingClientRect()).left+(a.right-a.left)/2,y:g.vrt>=0?n.bottom:n.top};if(t.__mocked_hov_container)v=t.__mocked_hov_container;else{var y=document.elementFromPoint(m.x,m.y-1);if(!(v=y?y.closest(".group-or-rule-container"):null)&&y&&y.classList.contains("query-builder-container")){var b,_=null==y||null===(b=y.firstChild)||void 0===b?void 0:b.firstChild;_&&_.classList.contains("group-or-rule-container")&&(v=_)}}if(v){var x=v.classList.contains("group-container"),w=v.getAttribute("data-id"),O=v,S=!1,k=!1;if(O){var j=(i=O.getBoundingClientRect()).bottom-i.top,E=this.tree.items[w];if(!E)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var C=null,T=null,q=null,I=null;if(0==g.vrt)q=s,(T=h)&&(C=T.getBoundingClientRect());else if(x){if(g.vrt>0){var A=v.getElementsByClassName("group--header"),L=A.length?A[0]:null;if(L){var P=L.getBoundingClientRect(),N=P.bottom-P.top;n.bottom-P.top>3*N/4&&E.top>e.itemInfo.top&&(q=E,C=P,T=L,k=!0)}}else g.vrt<0&&E.lev>=s.lev&&i.bottom-n.top>=2&&E.top<e.itemInfo.top&&(q=E,C=i,T=O,S=!0);(g.vrt<0?i.bottom-n.top>j-5:n.bottom-i.top>j-5)&&(k||S||(q=E,C=i,T=O),I=E)}else(g.vrt<0?i.bottom-n.top>j/2:n.bottom-i.top>j/2)&&(q=E,C=i,T=O);var F=q&&q.id==p;if(C){var R=n.left-a.left;C.left,a.left;var M=Math.max(0,Math.round(R/u)),D=[],V=[];if(F);else{if(x&&(S?D.push([eW,q,q.lev+1]):k&&D.push([tW,q,q.lev+1]),I)){var z=0==I.lev,B="case_group"==I.type&&"case_group"!=s.type,H=I.prev&&this.tree.items[I.prev].caseId,$=I.next&&this.tree.items[I.next].caseId;s.caseId==H&&(H=null),s.caseId==$&&($=null);var U=H&&this.tree.items[H],W=$&&this.tree.items[$];g.vrt>0?z?V.push([eW,I,I.lev+1]):B&&W?V.push([tW,W,W.lev+1]):V.push([XU,I,I.lev]):g.vrt<0&&(z?V.push([tW,I,I.lev+1]):B&&U?V.push([eW,U,U.lev+1]):V.push([ZU,I,I.lev]))}S||k||(g.vrt<0?D.push([ZU,q,q.lev]):g.vrt>0&&D.push([XU,q,q.lev]))}var K=function(e){var t=e[1],r=s.caseId?l.tree.items[s.caseId]:null,n=t.caseId?l.tree.items[t.caseId]:null;return[].concat(pj(e),[r,n])};D=D.map(K),V=V.map(K);var G=null,Y=(D=D.filter((function(e){var t=e[0],r=e[1];if((t==ZU||t==XU)&&null==r.parent)return!1;if(r.collapsed&&(t==eW||t==tW))return!1;var n=r.id==s.id;if(!n)for(var o=r;o.parent;)if((o=l.tree.items[o.parent]).id==s.id){n=!0;break}return!n})).map((function(e){var t=e[0],r=e[1];e[2],e[3],e[4];var n=null;return(n=t==eW||t==tW?r:l.tree.items[r.parent])&&null==n.parent&&(n=null),e[5]=n,e}))).filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)}));0==Y.length&&V.length>0&&(Y=V.filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)})));var J=Y.map((function(e){return e[2]})),Q=s.lev,X=J.concat(Q),Z=null;-1!=X.indexOf(M)?Z=M:M>Math.max.apply(Math,pj(X))?Z=Math.max.apply(Math,pj(X)):M<Math.min.apply(Math,pj(X))&&(Z=Math.min.apply(Math,pj(X))),G=Y.find((function(e){return e[2]==Z})),F||G||!Y.length||(G=Y[0]),c=G}}}else pW.log("out of tree bounds!")}return!!c&&(this.move(s,c[1],c[0],c[3]),!0)}},{key:"canMove",value:function(e,t,r,n,o,i,a){if(!e||!t)return!1;if(e.id===t.id)return!1;var l=this.props.config.settings,s=l.canRegroup,u=l.canRegroupCases,c=l.maxNesting,d=l.maxNumberOfRules,p=l.canLeaveEmptyCase,f=(i?i.lev+1:t.lev)+(e.depth||0),h=r==ZU||r==XU,g=r==tW||r==eW,v=h&&1==t.lev||g&&0==t.lev,m=e.parent!=t.parent,y=g||m,b="case_group"==e.type&&!v||"rule_group"==e.parentType||"rule_group"==t.type||"rule_group"==t.parentType||"case_group"!=e.type&&"case_group"==t.type&&h||"case_group"!=e.type&&"switch_group"==t.type||!u&&e.caseId!=t.caseId,_=t.isLocked||e.isLocked||i&&i.isLocked;if(c&&f>c)return!1;if(y&&(!s||b||_))return!1;if("case_group"!=e.type&&e.caseId!=t.caseId){var x=!!n&&2==n._height,w=o?o.atomicRulesCountInCase+1:0;if(d&&w>d)return!1;if(x&&!p)return!1}if("case_group"==e.type&&(e.isDefaultCase||t.isDefaultCase||"switch_group"==t.type&&r==eW))return!1;var O=!0;return a&&(O=a(e.node.toJS(),t.node.toJS(),r,i?i.node.toJS():null)),O}},{key:"move",value:function(e,t,r,n){this._isUsingLegacyReactDomRender||(DW=!0),this.props.actions.moveItem(e.path,t.path,r)}},{key:"render",value:function(){return R.createElement(e,w({},this.props,{onDragStart:this.onDragStart}))}}])}(v.Component),t.propTypes={tree:Gt.any.isRequired,actions:Gt.object.isRequired},t}(e,t));return r.displayName="ConnectedSortableContainer",r}(EJ);function TJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qJ(e,t,r){return t=G(t),Y(e,IJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function IJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(IJ=function(){return!!e})()}var AJ=JU.clone,LJ=JU.ConfigUtils,PJ=LJ.getFieldConfig,NJ=LJ.getFieldParts,FJ=LJ.getFieldPathParts,RJ=JU.RuleUtils,MJ=RJ.getFieldPathLabels,DJ=RJ.getWidgetForFieldOp,VJ=function(e){function t(e){var r;return K(this,t),r=qJ(this,t,[e]),yW(r),r.onPropsChanged(e),r}return U(t,e),W(t,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0,n=!this.meta||["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.items=this.getItems(e)),n&&(this.meta=this.getMeta(e))}},{key:"getItems",value:function(e){var t=e.config,r=e.field,n=e.fieldType,o=e.operator,i=e.parentField,a=e.isFuncArg,l=e.fieldDefinition,s=t.settings.canCompareFieldWithField,u=NJ(i,t),c=i?PJ(t,i):null,d=i?null==c?void 0:c.subfields:t.fields,p=this.filterFields(t,d,r,i,u,o,s,a,l,n);return this.buildOptions(u,t,p,u)}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.field;e.fieldType,e.operator;var o=e.value,i=e.placeholder,a=e.isFuncArg,l=e.parentField,s=r.settings,u=s.fieldPlaceholder,c=s.fieldSeparatorDisplay,d=o,p=!!o,f=n?PJ(r,n):{},h=null==f||null===(t=f.widgets)||void 0===t?void 0:t.field,g=(null==h?void 0:h.widgetProps)||{},v=p?null:a&&i||g.valuePlaceholder||u,m=p?PJ(r,d):null,y=m||{},b=FJ(d,r),_=FJ(d,r,!0),x=this.getFieldLabel(m,d,r),w=MJ(d,r),O=w?w.join(c):null;return(O==x||l)&&(O=null),{placeholder:v,selectedKey:d,selectedKeys:b,selectedPath:_,selectedLabel:x,selectedOpts:y,selectedAltLabel:y.label2||y.tooltip,selectedFullLabel:O}}},{key:"filterFields",value:function(e,t,r,n,o,i,a,l,s,u){t=AJ(t);var c,d=e.settings.fieldSeparator,p=PJ(e,r),f=DJ(e,r,i,"value");return e.widgets[f],c=l?null==s?void 0:s.type:p?p.type:u,function t(n,o){for(var s in n){var u=n[s].subfields,f=(o||[]).concat(s),h=f.join(d),g=PJ(e,h);if(g)if("!struct"==g.type||"!group"==g.type)0==t(u,f)&&delete n[s];else{var v=!(c&&g.type!=c||!l&&h==r),m=a||e.settings.canCompareFieldWithField;m&&(v=v&&m(r,p,h,g,i)),v||delete n[s]}else delete n[s]}return Vu(n).length}(t,o||[]),t}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)return null;var a=t.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"";return Vu(r).map((function(a){var l=[].concat(pj(null!=o?o:[]),[a]),c=r[a],d=n.getFieldLabel(c,l,t),p=MJ(l,t).join(s);(p==d||e)&&(p=null);var f=c.label2,h=c.tooltip;if(!c.hideForCompare)return"!struct"==c.type||"!group"==c.type?{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,items:n.buildOptions(e,t,c.subfields,l,{label:d,tooltip:h})}:{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,grouplabel:null==i?void 0:i.label,group:i}})).filter((function(e){return!!e}))}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=NJ(t,r),i=(null==e?void 0:e.label)||eL(o);return i=uW(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isValueField:!0,config:t,customProps:r,setField:n,readonly:o,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}])}(v.Component);VJ.propTypes={id:Gt.string,groupId:Gt.string,setValue:Gt.func.isRequired,config:Gt.object.isRequired,field:Gt.any,fieldSrc:Gt.string,fieldType:Gt.string,value:Gt.string,operator:Gt.string,customProps:Gt.object,readonly:Gt.bool,parentField:Gt.string,fieldDefinition:Gt.object,isFuncArg:Gt.bool};JU.moment;var zJ=JU.moment;var BJ=JU.ListUtils.mapListValues;var HJ=JU.ListUtils.mapListValues;var $J={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const UJ=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:LG,ValueFieldWidget:VJ,VanillaBooleanWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.labelYes,o=e.labelNo,i=e.readonly;e.widgetId;var a=e.customProps,l=void 0===a?{}:a,s=l.radioYes||{},u=l.radioNo||{},c=function(e){return r("true"==e.target.value)};return R.createElement(R.Fragment,null,R.createElement("input",w({type:"radio",value:!0,checked:!!t,disabled:i,onChange:c},s))," ",n,R.createElement("input",w({type:"radio",value:!1,checked:!t,disabled:i,onChange:c},u))," ",o)},VanillaButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=r||$J[t];return R.createElement("button",{onClick:n,type:"button",disabled:o},i)},VanillaButtonGroup:function(e){var t=e.children;return e.config,R.createElement(R.Fragment,null,t)},VanillaConjs:function(e){var t,r=e.id,n=e.not,o=e.setNot,i=e.conjunctionOptions,a=e.setConjunction,l=e.disabled,s=e.readonly,u=e.config,c=e.showNot,d=e.notLabel,p=Object.keys(i).length,f=l,h=u.settings.forceShowConj||p>1&&!f,g=function(e){return a(e.target.value)},v=function(e){return o(e.target.checked)};return[c&&(t="not",[R.createElement("input",{key:r+t,type:"checkbox",id:r+t,checked:n,disabled:s,onChange:v}),R.createElement("label",{key:r+t+"label",htmlFor:r+t},d||"NOT")]),h&&Object.keys(i).map((function(e){var t=i[e],r=t.id,n=t.name,o=t.label,u=t.checked,c=a.isDummyFn?"__dummy":"";return!s&&!l||u?[R.createElement("input",{key:r+c,type:"radio",id:r+c,name:n+c,checked:u,disabled:s||l,value:e,onChange:g}),R.createElement("label",{key:r+c+"label",htmlFor:r+c},o)]:null}))]},VanillaDateTimeWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.valueFormat;e.use12Hours;var o=e.readonly,i=e.customProps,a=t;return a=t?zJ(t).format("YYYY-MM-DDTHH:mm"):"",R.createElement("input",w({type:"datetime-local",value:a,disabled:o,onChange:function(e){var t=e.target.value;t=""==t?void 0:zJ(new Date(t)).format(n),r(t)}},i))},VanillaDateWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat;var n=e.readonly,o=e.customProps;return R.createElement("input",w({type:"date",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.errorText,a=null!=n;return R.createElement("select",{onChange:function(e){return r(e.target.value)},value:a?n:"",disabled:o,style:{color:i?"red":null}},!a&&R.createElement("option",{disabled:!0,value:""}),function e(t){return t.map((function(t){var r=t.items,n=t.path,o=t.label,i=t.disabled,a=t.matchesType;if(r)return R.createElement("optgroup",{disabled:i,key:n,label:o},e(r));var l=a?{fontWeight:"bold"}:{};return R.createElement("option",{disabled:i,key:n,value:n,style:l},o)}))}(t))},VanillaIcon:function(e){var t=e.type,r={}[t]||null;return r||"drag"!==t||(r=R.createElement(iK,null)),r},VanillaMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps;return R.createElement("select",w({multiple:!0,onChange:function(e){return n(function(e){for(var t=[],r=e.options,n=0;n<r.length;n++){var o=r[n];o.selected&&t.push(o.value)}return t.length||(t=void 0),t}(e.target))},value:r,disabled:o},_N(i,["showSearch","input","showCheckboxes"])),BJ(t,(function(e){var t=e.title,r=e.value;return R.createElement("option",{key:r,value:r},t)})))},VanillaNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t;return R.createElement("input",w({type:"number",value:u,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s))},VanillaProvider:function(e){return e.config,e.children},VanillaSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps,a=null!=r;return R.createElement("select",w({onChange:function(e){return n(e.target.value)},value:a?r:"",disabled:o},_N(i,["showSearch","input"])),!a&&R.createElement("option",{disabled:!0,value:""}),HJ(t,(function(e){var t=e.title,r=e.value;return R.createElement("option",{key:r,value:r},t)})))},VanillaSliderWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=void 0===s?{}:s,c=u.input||{},d=u.slider||u,p=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},f=null==t?"":t;return R.createElement("div",{style:{display:"inline-flex"}},R.createElement("input",w({key:"number",type:"number",value:f,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:p},c)),R.createElement("input",w({key:"range",type:"range",value:f,disabled:n,min:o,max:i,step:a,onChange:p},d)))},VanillaSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.id;e.config;var i=e.type;return[R.createElement("input",{key:o+i,type:"checkbox",id:o+i,checked:!!t,onChange:function(e){return r(e.target.checked)}}),R.createElement("label",{key:o+i+"label",htmlFor:o+i},n)]},VanillaTextAreaWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength;e.maxRows;var a=e.fullWidth,l=e.customProps,s=t||"";return R.createElement("textarea",w({value:s,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i,style:{width:a?"100%":void 0}},l))},VanillaTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength,a=e.customProps,l=t||"";return R.createElement("input",w({type:"text",value:l,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i},a))},VanillaTimeWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat,e.use12Hours;var n=e.readonly,o=e.customProps;return R.createElement("input",w({type:"time",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc;e.title;var n=e.setValueSrc,o=e.readonly;return R.createElement("select",{onChange:function(e){return n(e.target.value)},value:r||"",disabled:o},function(e){return e.map((function(e){var t=Kt(e,2),r=t[0],n=t[1];return R.createElement("option",{key:r,value:r},n.label)}))}(t))},vanillaConfirm:function(e){var t=e.onOk;e.okText,e.cancelText;var r=e.title;confirm(r)&&t()}},Symbol.toStringTag,{value:"Module"}));function WJ(e,t,r){return t=G(t),Y(e,KJ()?Reflect.construct(t,r||[],G(e).constructor):t.apply(e,r))}function KJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KJ=function(){return!!e})()}var GJ=function(e){function t(){var e;K(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=WJ(this,t,[].concat(n))).handleChange=function(t){e.props.setOption("proximity",parseInt(t))},e}return U(t,e),W(t,[{key:"render",value:function(){var e=this.props,t=e.defaults,r=e.options,n=e.config,o=e.optionLabel,i=e.optionPlaceholder,a=e.customProps,l=e.minProximity,s=e.maxProximity,u=e.optionTextBefore,c=e.readonly,d=n.settings,p=n.widgets,f=n.ctx,h=t?t.proximity:void 0,g=d.showLabels,v=r.get("proximity",h),m=nG(l,s+1).map((function(e){return{title:e,value:e}})),y=p.select.factory,b=function(e){return y(e,f)};return R.createElement("div",{className:"operator--PROXIMITY"},R.createElement("div",{className:"operator--options"},g&&R.createElement("label",{className:"rule--label"},o),!g&&u&&R.createElement("div",{className:"operator--options--sep"},R.createElement("span",null,u)),R.createElement(b,w({config:n,value:v,listValues:m,setValue:this.handleChange,readonly:c,placeholder:i},a))),R.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(v.PureComponent);GJ.propTypes={config:Gt.object.isRequired,setOption:Gt.func.isRequired,options:Gt.any.isRequired,minProximity:Gt.number,maxProximity:Gt.number,optionPlaceholder:Gt.string,optionTextBefore:Gt.string,optionLabel:Gt.string,customProps:Gt.object,readonly:Gt.bool},GJ.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const YJ=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:GJ},Symbol.toStringTag,{value:"Module"}));function JJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JJ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var XJ={conjunctions:QJ({},O$.conjunctions),operators:QJ(QJ({},O$.operators),{},{proximity:QJ(QJ({},O$.operators.proximity),{},{options:QJ(QJ({},O$.operators.proximity.options),{},{factory:function(e,t){return(0,t.RCE)(t.O.ProximityOperator,e)}})})}),widgets:{text:QJ(QJ({},O$.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}}),textarea:QJ(QJ({},O$.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextAreaWidget,e)}}),number:QJ(QJ({},O$.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaNumberWidget,e)}}),slider:QJ(QJ({},O$.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSliderWidget,e)}}),select:QJ(QJ({},O$.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSelectWidget,e)}}),multiselect:QJ(QJ({},O$.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaMultiSelectWidget,e)}}),date:QJ(QJ({},O$.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateWidget,e)}}),time:QJ(QJ({},O$.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTimeWidget,e)}}),datetime:QJ(QJ({},O$.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateTimeWidget,e)}}),boolean:QJ(QJ({},O$.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaBooleanWidget,e)}}),field:QJ(QJ({},O$.widgets.field),{},{factory:function(e,t){return(0,t.RCE)(t.W.ValueFieldWidget,e)},customProps:{showSearch:!0}}),func:QJ(QJ({},O$.widgets.func),{},{factory:function(e,t){return(0,t.RCE)(t.W.FuncWidget,e)},customProps:{}}),case_value:QJ(QJ({},O$.widgets.case_value),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}})},types:QJ(QJ({},O$.types),{},{select:QJ(QJ({},O$.types.select),{},{widgets:QJ(QJ({},O$.types.select.widgets),{},{select:QJ(QJ({},O$.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),settings:QJ(QJ({},O$.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.VanillaConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.VanillaSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.VanillaButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.VanillaIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.VanillaButtonGroup,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.VanillaProvider,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderConfirm:function(e,t){return(0,t.W.vanillaConfirm)(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,t){return(0,t.RCE)("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),ctx:QJ(QJ({},O$.ctx),{},{W:QJ({},UJ),O:QJ({},YJ),RCE:function(e,t){return R.createElement(e,t)}})};const ZJ=XJ=JU.ConfigMixins.removeMixins(XJ,["rangeslider","treeselect","treemultiselect"]);var eQ=Ma,tQ=Qa,rQ=function(){return eQ.Date.now()},nQ=YK,oQ=Math.max,iQ=Math.min;var aQ=function(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=rQ();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?iQ(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=rQ(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=nQ(t)||0,tQ(r)&&(c=!!r.leading,i=(d="maxWait"in r)?oQ(nQ(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(rQ())},m};const lQ=g(aQ);function sQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cQ=JU.Autocomplete,dQ=cQ.mergeListValues,pQ=cQ.listValueToOption,fQ=cQ.optionToListValue,hQ=cQ.optionsToListValues,gQ=cQ.fixListValuesGroupOrder,vQ=JU.ListUtils,mQ=vQ.mapListValues,yQ=vQ.listValuesToArray,bQ=vQ.getListValue,_Q=vQ.makeCustomListValue,xQ=vQ.searchListValue;function wQ(e){return new Promise((function(t){setTimeout(t,e)}))}vQ.getItemInListValues;function OQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const kQ=SQ(SQ({},JU),{},{ReactUtils:_W,DragIcon:iK});var jQ,EQ,CQ=kQ.moment,TQ=parseInt(null!==(jQ=null==dj||null===(EQ=dj.version)||void 0===EQ||null===(EQ=EQ.split("."))||void 0===EQ?void 0:EQ[0])&&void 0!==jQ?jQ:"0");var qQ,IQ,AQ=kQ.moment,LQ=parseInt(null!==(qQ=null==dj||null===(IQ=dj.version)||void 0===IQ||null===(IQ=IQ.split("."))||void 0===IQ?void 0:IQ[0])&&void 0!==qQ?qQ:"0");var PQ,NQ,FQ=kQ.moment,RQ=parseInt(null!==(PQ=null==dj||null===(NQ=dj.version)||void 0===NQ||null===(NQ=NQ.split("."))||void 0===NQ?void 0:NQ[0])&&void 0!==PQ?PQ:"0");var MQ=kQ.ListUtils.mapListValues;var DQ=["width"];var VQ=["width"];var zQ=kQ.ListUtils.mapListValues;var BQ={},HQ=L;Object.defineProperty(BQ,"__esModule",{value:!0});var $Q=BQ.default=void 0,UQ=HQ(lt()),WQ=j;$Q=BQ.default=(0,UQ.default)((0,WQ.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var KQ=["width"];function GQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GQ(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var JQ=function(e,t){var r=e.asyncFetch,n=e.useLoadMore,o=e.useAsyncSearch,i=e.forceAsyncSearch,a=e.asyncListValues,l=e.listValues,s=e.allowCustomValues,u=e.value,c=e.setValue,d=e.placeholder,p=e.config,f=t.debounceTimeout,h=t.multiple,g=t.uif,v=t.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],y="Load more...",b="Loading more...",_=i?"Type to search":d,x=R.useState(!1),w=Kt(x,2),O=w[0],S=w[1],k=R.useState(void 0),j=Kt(k,2),E=j[0],C=j[1],T=R.useState(0),q=Kt(T,2),I=q[0],A=q[1],L=R.useState(!1),P=Kt(L,2),N=P[0],F=P[1],M=R.useState(""),D=Kt(M,2),V=D[0],z=D[1],B=R.useState(void 0),H=Kt(B,2),$=H[0],U=H[1],W=R.useRef(0),K=R.useRef(0),G=R.useRef(!1),Y=R.useMemo((function(){return yQ(a)}),[a]),J=R.useMemo((function(){return r?a?dQ($,Y,!0):$:yQ(l)}),[r,a,$,l]),Q=r?$:yQ(l);s&&V&&!xQ(V,$)&&(Q=dQ(Q,[_Q(V)],!0)),!r||$||!a||V||O||"antd"!==g||(Q=J),r&&!s&&a&&"mui"===g&&(Q=dQ(Q,Y,!0,!0));var X=I>0,Z=O&&r&&void 0===$&&(!i||V),ee=Z&&X,te=!ee&&J&&J.length>0&&E&&E.hasMore&&(E.filter||"")===V,re=!X&&te,ne=mQ(Q,pQ),oe=null!=u,ie=!h&&oe?bQ(u,J):null,ae=function(){var e=GH(fI.mark((function e(){var t,o,i,a,l,s,u,c,d,f,h,g,v,m,y=arguments;return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:null,!(o=y.length>1&&void 0!==y[1]&&y[1])&&E&&C(void 0),i=o&&$?$.length:0,a=o&&E||!n&&{pageSize:0},l=++W.current,e.next=8,r.call(null==p?void 0:p.ctx,t,i,a);case 8:if(s=e.sent,!(W.current!=l)&&K.current){e.next=12;break}return e.abrupt("return",null);case 12:return u=null!=s&&s.values?s:{values:s},c=u.values,d=u.hasMore,f=u.meta,h=yQ(c),o?(v=dQ($,h,!1),g=v.length>$.length):(v=h,n&&(g=v.length>0)),(m=null!=d||null!=f||null!=g?uQ(uQ(uQ(uQ({},null!=g?{hasMore:g}:{}),null!=d?{hasMore:d}:{}),null!=f?f:{}),{},{filter:t}):void 0)&&C(m),e.abrupt("return",v);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=GH(fI.mark((function e(){var t,r,n,o=arguments;return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]&&o[1],A((function(e){return e+1})),F(r),e.next=6,ae(t,r);case 6:if(n=e.sent,K.current){e.next=9;break}return e.abrupt("return");case 9:null!=n&&U(n),A((function(e){return e-1})),F(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=R.useCallback(lQ(le,f),[]);R.useEffect((function(){return K.current++,Z&&0==I&&0==W.current&&GH(fI.mark((function e(){return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:case"end":return e.stop()}}),e)})))(),function(){K.current--}}),[Z]);var ue=function(){S(!0)},ce=function(){var e=GH(fI.mark((function e(t){var r;return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=G.current)?(G.current=!1,h&&S(!1)):S(!1),"mui"!==g||r){e.next=6;break}return"",e.next=6,pe(null,"","my-reset");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=GH(fI.mark((function e(t,n,o){var i,a,l,d,p,f,m,y,b,_,x,w,k,j,E,C;return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h&&"mui"===g&&"clear"===o,l=!h&&"mui"===g&&"clear"===o&&"change"===(null==t?void 0:t.type),d=!h&&"mui"===g&&"clear"===o&&"change"!==(null==t?void 0:t.type),"mui"===g&&(o=n,n=h?o.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e})):null!==(p=null===(f=o)||void 0===f?void 0:f.value)&&void 0!==p?p:o),m=h&&Array.isArray(o)&&o.map((function(e){return null==e?void 0:e.specialValue})).find((function(e){return!!e}))||(null===(i=o)||void 0===i?void 0:i.specialValue),h&&n&&!Array.isArray(n)&&(n=[].concat(pj(u||[]),[n]),o=null),!(a&&0===n.length&&V&&O||l)){e.next=9;break}return e.abrupt("return");case 9:if(y=h&&n.length&&n.length>(u||[]).length&&n[n.length-1]==V&&!bQ(V,$),"LOAD_MORE"!=m){e.next=17;break}return z(V),G.current=!0,e.next=15,le(V,!0);case 15:e.next=37;break;case 17:if("LOADING_MORE"!=m){e.next=21;break}G.current=!0,e.next=37;break;case 21:if(!h){e.next=31;break}if(b=hQ(n,J,s),_=Kt(b,2),x=_[0],w=_[1],c(x,r?w:void 0),!y){e.next=29;break}return e.next=27,wQ(0);case 27:return e.next=29,pe(null,"","my-reset");case 29:e.next=37;break;case 31:if(k=fQ(n,J,s),j=Kt(k,2),E=j[0],C=j[1],c(E,r?C:void 0),!d||!v){e.next=37;break}return e.next=36,wQ(0);case 36:S(!1);case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),pe=function(){var e=GH(fI.mark((function e(t,r,n){var a,l;return fI.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="mui"===g&&"reset"===n,(l=r)!==y&&l!==b&&!a){e.next=4;break}return e.abrupt("return");case 4:if(r==V){e.next=13;break}if(z(l),!(o&&(!i||!!l))){e.next=12;break}return e.next=10,se(l);case 10:e.next=13;break;case 12:o&&i&&U([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return{options:"mui"===g?gQ(ne):ne,listValues:J,hasValue:oe,selectedListValue:ie,open:O,onOpen:ue,onClose:ce,onDropdownVisibleChange:function(e){e?ue():ce()},onChange:de,inputValue:V,onInputChange:pe,canShowLoadMore:re,isInitialLoading:ee,isLoading:X,isLoadingMore:N,isSpecialValue:function(e){var t=(null==e?void 0:e.specialValue)||(null==e?void 0:e.value);return m.includes(t)},extendOptions:function(e){var t=pj(e);return n&&(re?t.push({specialValue:"LOAD_MORE",title:y}):N&&t.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),t},getOptionSelected:function(e,t){if(null==t)return null;var r=null!=t.value?t.value:t;return e.value===r},getOptionDisabled:function(e){return e&&e.disabled},getOptionIsCustom:function(e){var t;if(null!=e&&e.isCustom)return!0;var r=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e,n=bQ(r,J);return(null==n?void 0:n.isCustom)||!1},getOptionLabel:function(e){if(null==e)return null;var t=null!=e.value?e:pQ(bQ(e,J));return!t&&e.specialValue?e.title:!t&&s?e.toString():t?t.title||t.label||t.value.toString():e.toString()},aPlaceholder:_}},QQ=[];const XQ=function(e){var t=e.allowCustomValues,r=e.multiple,n=e.disableClearable,o=e.value,i=e.customProps,a=e.readonly,l=e.config,s=e.filterOptionsConfig,u=e.errorText,c=e.tooltipText,d=e.isFieldAutocomplete,p=v.useCallback((function(e){return l.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[l]),f=Vn(s||{stringify:p}),h=JQ(e,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:d}),g=h.open,m=h.onOpen,y=h.onClose,b=h.onChange,_=h.onInputChange,x=h.inputValue,O=h.options,S=h.isInitialLoading,k=h.isLoading,j=h.aPlaceholder,E=h.extendOptions,C=h.getOptionDisabled,T=h.getOptionIsCustom,q=h.getOptionLabel,I=h.selectedListValue,A=l.settings,L=A.defaultSelectWidth,P=(A.defaultSearchWidth,i||{}),N=P.width,F=bn(P,KQ),M=F.input||{};M.width,M=_N(M,["width"]);var D=_N(F,["showSearch","showCheckboxes"]),V=N||L,z={width:r?void 0:V,minWidth:V},B=a?"":j,H=B||l.settings.fieldPlaceholder,$=null!=o?o:r?QQ:null,U=Xe(),W=function(e){var t=e.groupMaybeJson;if(!t)return null;var r={label:t};if("string"==typeof t&&"{"===t[0])try{r=JSON.parse(t)}catch(o){}var n=r.label;return n&&r.tooltip&&(n=R.createElement(ue,{title:r.tooltip,placement:"left-start"},R.createElement("span",null,n))),R.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:U.palette.primary.main,backgroundColor:U.palette.background.default}},n)},K=function(e){var t=e.children;return R.createElement(R.Fragment,null,t)},G=R.createElement(fo,w({disableClearable:n,disableCloseOnSelect:r,fullWidth:false,multiple:r,style:z,freeSolo:t,loading:S,open:g,onOpen:m,onClose:y,inputValue:x,onInputChange:_,label:B,onChange:b,value:$,disabled:a,readOnly:a,options:O,groupBy:function(e){return null!=e&&e.group?JSON.stringify(e.group):null==e?void 0:e.groupTitle},getOptionLabel:q,getOptionDisabled:C,renderInput:function(e){var t,n,o,i=!r&&!g,l=null!==(t=null!==(n=null==I?void 0:I.title)&&void 0!==n?n:null==$?void 0:$.toString())&&void 0!==t?t:"",s=i?l:r&&!g?"":null!==(o=null!=x?x:null==$?void 0:$.toString())&&void 0!==o?o:"";return R.createElement(Pr,w({variant:"standard"},e,{inputProps:YQ(YQ({"aria-label":H},e.inputProps),{},{value:s}),InputProps:YQ(YQ({},e.InputProps),{},{readOnly:a,endAdornment:R.createElement(R.Fragment,null,k?R.createElement(he,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:a,placeholder:B,error:!!u},M))},renderGroup:function(e){return R.createElement("div",{key:e.key},R.createElement(W,{groupMaybeJson:e.group}),R.createElement(K,null,e.children))},renderTags:function(e,t){return e.map((function(e,r){return R.createElement(te,w({key:e.value,label:q(e),size:"small",variant:T(e)?"outlined":"filled"},t({index:r})))}))},renderOption:function(e,t){var n=t.title,i=t.renderTitle,a=t.value,l=t.isHidden,s=t.tooltip,u=t.group,c=t.groupTitle||u,p=r?(o||[]).includes(a):o==a,f=T(t)?"customSelectOption":void 0,h=i||(!d&&c?"  ":"")+n,g=R.createElement("span",{className:f},h);if(s&&(g=R.createElement(ue,{title:s,placement:"left-start"},g)),l)return null;if(t.specialValue)return R.createElement("div",e,h);if(r){var v=p?R.createElement(R.Fragment,null,R.createElement(ge,null,R.createElement($Q,null)),g):R.createElement(qo,{inset:!0},g);return R.createElement(Wt,w({},e,{size:"small",selected:p}),v)}return R.createElement("div",e,g)},filterOptions:function(e,t){var r=f(e,t);return E(r)},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.value)==t},size:"small"},D));return c&&(G=R.createElement(ue,{title:g?null:c,placement:"top-start"},G)),G=R.createElement($t,{fullWidth:false},G)};var ZQ=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rX={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},nX=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,o=t.path,i=t.key,a=t.label,l=t.altLabel,s=t.disabled,u=t.grouplabel,c=t.group,d=t.matchesType,p=t.tooltip,f="  ".repeat(r);return n?e(n,r+1):{title:a,renderTitle:d?R.createElement("b",null,f+a):f+a,value:o,disabled:s,groupTitle:r>0?f+u:null,group:r>0?tX(tX({},c),{},{label:f+c.label}):null,tooltip:p,_value2:i,_altLabel:l}})).flat(1/0)},oX=function(e,t){var r=e.items,n=e.selectedKey,o=e.setField,i=e.isValueField,a=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,s=e.selectedFullLabel,u=bn(e,ZQ),c=l||s;c==a&&(c=null);var d=nX(r),p=n,f={stringify:v.useCallback((function(e){return t.settings.fieldItemKeysForSearch.map((function(e){return rX[e]})).map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}),[t])};return tX(tX({},u),{},{tooltipText:c,listValues:d,setValue:function(e,t){if(e||i)return o(e)},filterOptionsConfig:f,allowCustomValues:!1,multiple:!1,disableClearable:!i,value:p,isFieldAutocomplete:!0})};var iX={},aX=L;Object.defineProperty(iX,"__esModule",{value:!0});var lX=iX.default=void 0,sX=aX(lt()),uX=j;lX=iX.default=(0,sX.default)((0,uX.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var cX=kQ.DragIcon,dX={delGroup:R.createElement(fn,null),delRuleGroup:R.createElement(fn,null),delRule:R.createElement(fn,null),addRuleGroup:R.createElement(Jv,null),addRuleGroupExt:R.createElement(Jv,null),addRule:R.createElement(Jv,null),addGroup:R.createElement(Jv,null),drag:R.createElement(lX,null)},pX={drag:"primary"};var fX={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},hX={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const gX=v.memo((function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly,i=e.renderIcon,a=null==i?void 0:i({type:t,readonly:o});return!r||fX[t]?R.createElement(Ae,{size:"small",disabled:o,onClick:n,color:hX[t],"aria-label":r},a):R.createElement(St,{size:"small",disabled:o,onClick:n,color:hX[t],startIcon:a},r)}));var vX=R.memo((function(e){var t=e.conjKey,r=e.id;e.name;var n=e.label,o=e.checked,i=e.setConjunction,a=e.readonly,l=e.disabled,s=v.useCallback((function(){i(t)}),[t,i]),u=i.isDummyFn?"__dummy":"";return!a&&!l||o?R.createElement(St,{key:r+u,id:r+u,color:o?"primary":"inherit",value:t,onClick:s,disabled:a||l},n):null})),mX=R.memo((function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,i=e.setConjunction,a=e.disabled,l=e.readonly,s=e.config,u=e.showNot,c=e.notLabel,d=Object.keys(o).length,p=a,f=s.settings.forceShowConj||d>1&&!p,h=v.useCallback((function(){n(!r)}),[r,n]);return R.createElement($t,null,R.createElement(vo,{disableElevation:!0,variant:"contained",size:"small",disabled:l},u&&(l&&!r?null:R.createElement(St,{key:t,id:t+"__not",color:r?"error":"inherit",onClick:h,disabled:l},c||"NOT")),f&&Object.keys(o).map((function(e){var t=o[e],r=t.id,n={conjKey:e,id:r,name:t.name,label:t.label,checked:t.checked,setConjunction:i,readonly:l,disabled:a};return R.createElement(vX,w({key:r},n))}))))})),yX={},bX=L;Object.defineProperty(yX,"__esModule",{value:!0});var _X=yX.default=void 0,xX=bX(lt()),wX=j;_X=yX.default=(0,xX.default)((0,wX.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var OX={},SX=L;Object.defineProperty(OX,"__esModule",{value:!0});var kX=OX.default=void 0,jX=SX(lt()),EX=j;kX=OX.default=(0,jX.default)((0,EX.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");var CX={},TX=L;Object.defineProperty(CX,"__esModule",{value:!0});var qX=CX.default=void 0,IX=TX(lt()),AX=j;qX=CX.default=(0,IX.default)((0,AX.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var LX=R.memo((function(e){var t=e.valueSrc,r=e.srcKey,n=e.handleChange,o=e.info,i=t==r||!t&&"value"==r,a=v.useCallback((function(e){return n(e,r)}),[n,r]);return R.createElement(Wt,{value:r,selected:i,onClick:a},!i&&R.createElement(qo,{inset:!0},o.label),i&&R.createElement(R.Fragment,null,R.createElement(ge,null,R.createElement($Q,null)),o.label))})),PX=R.memo((function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,o=e.setValueSrc;e.readonly;var i=R.useState(null),a=Kt(i,2),l=a[0],s=a[1],u=v.useCallback((function(e){s(e.currentTarget)}),[s]),c=v.useCallback((function(){s(null)}),[s]),d=v.useCallback((function(e){l?c():u(e)}),[c,u,l]),p=v.useCallback((function(e,t){o(t),c()}),[c,o]),f=Boolean(l);return R.createElement("div",null,R.createElement(Ae,{size:"small",onClick:d},R.createElement(qX,null)),R.createElement(Xt,{anchorEl:l,open:f,onClose:c},R.createElement($t,{component:"fieldset",sx:{p:0}},R.createElement(Nr,{component:"legend",sx:{p:2,pt:0,pb:1}},n),function(e){return e.map((function(e){var t=Kt(e,2),n=t[0],o=t[1];return R.createElement(LX,{key:n,valueSrc:r,srcKey:n,handleChange:p,info:o})}))}(t))))}));var NX,FX,RX=parseInt(null!==(NX=null==dj||null===(FX=dj.version)||void 0===FX||null===(FX=FX.split("."))||void 0===FX?void 0:FX[0])&&void 0!==NX?NX:"0");const MX={MuiTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.customProps,a=e.maxLength;e.errorMessage;var l=v.useCallback((function(e){var t=e.target.value;""===t&&(t=void 0),r(t)}),[r]),s=t||"";return R.createElement($t,null,R.createElement(Pr,w({variant:"standard",value:s,placeholder:n?"":o,InputProps:{readOnly:n},inputProps:{maxLength:a},disabled:n,onChange:l,size:"small"},i)))},MuiTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,i=e.placeholder,a=e.customProps,l=e.maxLength,s=e.maxRows,u=e.fullWidth,c=n.settings.defaultMaxRows,d=t||"";return R.createElement($t,{fullWidth:u},R.createElement(Pr,w({variant:"standard",fullWidth:u,maxRows:s||c,multiline:!0,value:d,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:l},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},size:"small"},a)))},MuiDateWidget:function(e){var t=e.value,r=e.setValue,n=e.readonly,o=e.customProps,i=e.dateFormat,a=e.valueFormat,l=e.placeholder,s=TQ>=6?{format:i,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":l}}}:{inputFormat:i,renderInput:function(e){return R.createElement(Pr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:n?"":l},u=t?TQ>=6?CQ(t,a):t:null;return R.createElement($t,null,R.createElement(dn,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:n,disabled:n,value:u,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(a):void 0}(e))}},s,o)))},MuiDateTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.dateFormat,l=e.timeFormat,s=e.valueFormat,u=e.customProps,c=a+" "+l,d=LQ>=6?{format:c,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:c,renderInput:function(e){return R.createElement(Pr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i},p=t?LQ>=6?AQ(t,s):t:null;return R.createElement($t,null,R.createElement(Gr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:p,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(s):void 0}(e))}},d,u)))},MuiTimeWidget:function(e){var t=e.value,r=e.setValue,n=e.use12Hours,o=e.readonly,i=e.placeholder,a=e.timeFormat,l=e.valueFormat,s=e.customProps,u=-1!=a.indexOf(":ss"),c=t?FQ(t,a):null,d=RQ>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":i}}}:{inputFormat:a,renderInput:function(e){return R.createElement(Pr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":i};return R.createElement($t,null,R.createElement(pn,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,ampm:!!n,value:c,onChange:function(e){r(function(e){return e&&e.isValid()?e.format(l):void 0}(e))},views:u?["hours","minutes","seconds"]:["hours","minutes"]},d,s)))},MuiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.placeholder,a=e.customProps,l=function(e){return MQ(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()},s=null!=r;return R.createElement($t,null,R.createElement(Ut,w({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:o?"":i,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:"",disabled:o,readOnly:o,renderValue:function(e){return o||null!=e?l(e):i},size:"small"},_N(a,["showSearch","input"])),MQ(t,(function(e){var t=e.title,r=e.value;return R.createElement(Wt,{key:r,value:r},t)}))))},MuiNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t,c=v.useMemo((function(){return{readOnly:n}}),[n]),d=v.useMemo((function(){return{min:o,max:i,step:a}}),[o,i,a]);return R.createElement($t,null,R.createElement(Pr,w({variant:"standard",type:"number",value:u,placeholder:n?"":l,InputProps:c,inputProps:d,disabled:n,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},size:"small"},s)))},MuiSliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=t.settings.defaultSliderWidth,p=v.useCallback((function(e,t){i(t)}),[i]),f=v.useCallback((function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)}),[i]),h=v.useCallback((function(e){var t=e.target.value;(t=""===t||null===t?void 0:Number(t))<a?i(a):t>l&&i(l)}),[i,a,l]),g=n||{},m=g.width,y=bn(g,DQ),b=y.input||{},x=y.slider||y,O="number"==typeof o?o:"",S="number"==typeof o?o:null,k=v.useMemo((function(){return!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:R.createElement("p",null,u[e])}}))}),[u]),j=v.useMemo((function(){return{readOnly:c}}),[c]),E=v.useMemo((function(){return{min:a,max:l,step:s}}),[a,l,s]),C=R.createElement(Pr,w({variant:"standard",type:"number",value:O,placeholder:r,InputProps:j,inputProps:E,disabled:c,onChange:f,onBlur:h,size:"small"},b)),T=R.createElement(ei,w({value:S,onChange:p,disabled:c,min:a,max:l,step:s,marks:k,valueLabelDisplay:"auto",size:"small"},x)),q={marginLeft:"5px",paddingLeft:"12px",marginBottom:k&&"-16px",width:m||d};return R.createElement($t,null,R.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},R.createElement("div",{style:{marginLeft:"5px"}},C),R.createElement("div",{style:q},T)))},MuiRangeWidget:function(e){var t=e.config,r=e.placeholders,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=e.textSeparators,p=t.settings.defaultSliderWidth;v.useEffect((function(){var t=e.value||[void 0,void 0],r=Kt(t,2);r[0],r[1];e.value}),[]);var f=function(){o&&(o[0]<a?i([a,o[1]]):o[1]>l&&i([o[0],l]))},h=n||{},g=h.width,m=bn(h,VQ),y=m.input||{},b=m.slider||m,x=!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===_(u[e])||void 0===u[e]?u[e]:R.createElement("p",null,u[e])}})),O=o?pj(o):[void 0,void 0],S=Kt(O,2),k=S[0],j=S[1];null==k&&(k="",O[0]=0),null==j&&(j="",O[1]=0);var E=R.createElement(Pr,w({variant:"standard",type:"number",value:k,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?pj(e.value):[void 0,void 0];n[0]=r,i(n)},onBlur:f,size:"small"},y)),C=R.createElement(Pr,w({variant:"standard",type:"number",value:j,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?pj(e.value):[void 0,void 0];n[1]=r,i(n)},onBlur:f,size:"small"},y)),T=R.createElement(ei,w({value:O,onChange:function(e,t){i(t)},disabled:c,min:a,max:l,step:s,marks:x,valueLabelDisplay:"auto",size:"small"},b)),q={marginLeft:"5px"},I={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:g||p};return R.createElement($t,null,R.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},R.createElement("div",{style:q},E),R.createElement("div",{className:"widget--sep"},R.createElement("span",null,d[1])),R.createElement("div",{style:q},C),R.createElement("div",{style:I},T)))},MuiBooleanWidget:function(e){var t=e.customProps,r=e.value,n=e.setValue,o=e.labelYes,i=e.labelNo,a=e.readonly;return R.createElement($t,null,R.createElement(Me,{component:"div"},R.createElement(Wr,{component:"label",container:!0,alignItems:"center",spacing:0},R.createElement(Wr,{item:!0,component:"span"},i),R.createElement(Wr,{item:!0,component:"span"},R.createElement(fe,w({checked:!!r,onChange:function(){n(!r)},disabled:a},t))),R.createElement(Wr,{item:!0,component:"span"},o))))},MuiMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o,i=e.readonly,a=e.placeholder,l=e.customProps,s=null!=r&&r.length>0;return R.createElement($t,null,R.createElement(Ut,w({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return a;var r=zQ(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")},size:"small"},_N(l,["showSearch","input","showCheckboxes"])),(o=s?r:[],zQ(t,(function(e){var t=e.title,r=e.value;return R.createElement(Wt,{key:r,value:r},R.createElement(cn,{checked:o.indexOf(r)>-1}),R.createElement(qo,{primary:t}))})))))},MuiAutocompleteWidget:XQ,MuiFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.placeholder,a=e.errorText,l=e.selectedLabel;e.selectedOpts;var s=e.selectedAltLabel,u=e.selectedFullLabel,c=v.useState(!1),d=Kt(c,2),p=d[0],f=d[1],h=v.useCallback((function(){f(!0)}),[f]),g=v.useCallback((function(){f(!1)}),[f]),m=v.useCallback((function(e){void 0!==e.target.value&&r(e.target.value)}),[r]),y=v.useCallback((function(e){if(!o&&!e)return i;var r=function t(r){return r.map((function(r){return r.items?t(r.items):r.path===e?r.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop();return r}),[o,i,t]),b=null!=n,_=s||u;_==l&&(_=null);var x=R.createElement(Ut,{error:!!a,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i,onChange:m,value:b?n:"",disabled:o,renderValue:y,size:"small",open:p,onOpen:h,onClose:g},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(t).map((function(n){var o=t[n],i=o.items,a=o.path,l=o.label,s=o.disabled,u=o.matchesType,c=o.tooltip,d="  ".repeat(r),p=R.createElement("span",null,d&&R.createElement("span",null,d),u?R.createElement("b",null,l):l);return c&&(p=R.createElement(ue,{title:c,placement:"left-start"},p)),i?[R.createElement(Gn,{disabled:s,key:a,disableSticky:!0},p),e(i,r+1)]:R.createElement(Wt,{disabled:s,key:a,value:a},p)}))}(t));return _&&(x=R.createElement(ue,{title:p?null:_},x)),x=R.createElement($t,null,x)},MuiFieldAutocomplete:function(e){return R.createElement(XQ,oX(e,e.config))},MuiIcon:function(e){var t=e.type,r=e.readonly,n=dX[t]||null;return n||"drag"!==t?"drag"===t?R.createElement(Eo,{size:"small",disabled:r,color:pX[t]},n):n:R.createElement(cX,null)},MuiButton:gX,MuiButtonGroup:function(e){var t=e.children;return e.config,R.createElement(R.Fragment,null,t)},MuiConjs:mX,MuiSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,i=e.hideLabel,a=e.id,l=e.config,s=e.type;l.settings.renderSize;var u=function(){return r(!t)},c=s,d=t&&o||n,p=t?R.createElement(kX,null):R.createElement(_X,null);return"lock"==s?i?R.createElement(Ae,{key:a+c,onClick:u,size:"small"},p):R.createElement(St,{key:a+c,onClick:u,size:"small",startIcon:p},d):R.createElement(un,{control:R.createElement(fe,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:d})},MuiValueSources:PX,MuiConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,o=e.title;(0,e.confirmFn)({description:o||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MuiUseConfirm:function(){var e=function(){var e=v.useMemo((function(){return ew++}),[]);return"confirm-".concat(e)}(),t=v.useContext(Yx),r=t.confirmBase,n=t.closeOnParentUnmount,o=v.useCallback((function(t){return r(e,t)}),[e]);return v.useEffect((function(){return function(){n(e)}}),[e]),o},MuiProvider:function(e){var t=e.config,r=e.children,n=t.settings.theme||{},o=t.settings.locale||{},i=o.moment,a=n.mui,l=o.mui,s=J(a,l,{palette:{}}),u=RX>=6?{locale:i}:{adapterLocale:i},c=R.createElement("div",{className:"mui"},r),d=R.createElement(Yr,w({dateAdapter:cj},u),R.createElement(Zx,null,c));return s?R.createElement(Zt,{theme:s},d):d}};function DX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DX(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zX=VX(VX({},ZJ.settings),{},{renderField:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderOperator:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MuiFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MuiConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MuiSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MuiButton,e)},renderIcon:function(e,t){return(0,t.RCE)(t.W.MuiIcon,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MuiButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MuiProvider,e)},renderConfirm:function(e,t){return(0,t.W.MuiConfirm)(e)},useConfirm:function(e){return(0,e.W.MuiUseConfirm)()}}),BX=VX(VX({},ZJ.widgets),{},{text:VX(VX({},ZJ.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextWidget,e)}}),textarea:VX(VX({},ZJ.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextAreaWidget,e)}}),number:VX(VX({},ZJ.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiNumberWidget,e)}}),multiselect:VX(VX({},ZJ.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?r(o,VX(VX({},e),{},{multiple:!0})):r(i,e)}}),select:VX(VX({},ZJ.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiSelectWidget;return e.asyncFetch||e.showSearch?r(o,e):r(i,e)}}),slider:VX(VX({},ZJ.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiSliderWidget,e)}}),boolean:VX(VX({},ZJ.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiBooleanWidget,e)}}),date:VX(VX({},ZJ.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateWidget,e)}}),time:VX(VX({},ZJ.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTimeWidget,e)}}),datetime:VX(VX({},ZJ.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateTimeWidget,e)}}),rangeslider:VX(VX({},ZJ.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiRangeWidget,e)}})}),HX=VX({},ZJ.types),$X=VX(VX({},ZJ.ctx),{},{W:VX(VX({},ZJ.ctx.W),MX)}),UX=VX(VX({},ZJ),{},{ctx:$X,types:HX,widgets:BX,settings:zX});const WX=UX=kQ.ConfigMixins.addMixins(UX,["rangeslider"]),KX=WX,GX=e=>'<span class="logicField">'+e+"</span>",YX=e=>'<span class="logicOp">'+e+"</span>",JX=(e,t)=>'<span class="logicValue">'+("text"==t?'"'+e+'"':e)+"</span>",QX={AND:KX.conjunctions.AND,OR:KX.conjunctions.OR},XX=p(p({},KX.operators),{},{less:p(p({},KX.operators.less),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${GX(e)} ${YX("<")} ${JX(r,o)}`}),less_or_equal:p(p({},KX.operators.less_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${GX(e)} ${YX("<=")} ${JX(r,o)}`}),greater:p(p({},KX.operators.greater),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${GX(e)} ${YX(">")} ${JX(r,o)}`}),greater_or_equal:p(p({},KX.operators.greater_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${GX(e)} ${YX(">=")} ${JX(r,o)}`}),equal:p(p({},KX.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"equals":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),not_equal:p(p({},KX.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"not equals":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),starts_with:p(p({},KX.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"starts with":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),ends_with:p(p({},KX.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"ends with":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),between:p(p({},KX.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${GX(e)} ${YX("between")} ${JX(s,o)} ${YX("and")} ${JX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),not_between:p(p({},KX.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${GX(e)} ${YX("not between")} ${JX(s,o)} ${YX("and")} ${JX(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),like:p(p({},KX.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"contains":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),not_like:p(p({},KX.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"does not contain":i.label;return`${GX(e)} ${YX(u)} ${JX(r,o)}`}}),select_any_in:p(p({},KX.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${GX(e)} ${YX("in")} (${JX(s,"")})`}}),select_not_any_in:p(p({},KX.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${GX(e)} ${YX("not in")} (${JX(s,"")})`}}),multiselect_equals:p(p({},KX.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${YX("Any of")} (${JX(s,"")}) in ${GX(e)} ${YX("is selected")}`}}),multiselect_not_equals:p(p({},KX.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${YX("None of")} (${JX(s,"")}) in ${GX(e)} ${YX("is selected")}`}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is shown")}`},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is not shown")}`},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is valid")}`},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is not valid")}`},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is empty")}`},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is online")}`},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is Offline")}`},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is not empty")}`},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is empty")}`},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${GX(e)} ${JX("is not empty")}`}}),ZX=p(p({},KX.widgets),{},{text:p({},KX.widgets.text),slider:p(p({},KX.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:p(p({},KX.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:p(p({},KX.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:p(p({},KX.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:p(p({},KX.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:p(p({},KX.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:p(p({},KX.widgets.treeselect),{},{customProps:{showSearch:!0}})}),eZ=p(p({},KX.types),{},{boolean:ve(KX.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),tZ=p(p(p({},KX.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),rZ={ctx:WX.ctx,conjunctions:QX,operators:XX,widgets:ZX,types:eZ,settings:tZ,funcs:{}};function nZ(e){const t=kQ.jsonLogicFormat,r=kQ.queryString,n=kQ.loadTree,o=kQ.uuid,i=kQ.loadFromJsonLogic,a=kQ.checkTree,l=p(p({},rZ),{},{fields:e.fields}),s=e.logic?a(i(e.logic,l),l):n({id:o(),type:"group"}),u=h(v.useState(s),2),c=u[0],d=u[1],f=h(v.useState(r(c,l,!0)),2),g=f[0],m=f[1];return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"query-builder-result",children:[e.logic&&g?j.jsx("pre",{className:"condition-human-text",children:er(vt(g),50)}):j.jsx("pre",{className:"condition-human-text",children:e.t("no_condition")}),j.jsx("div",{className:"icon-container",children:j.jsx(Ae,{onClick:()=>e.onDialogStateChanged(!0),children:j.jsx(Ci,{})})})]},"result"),j.jsxs(Qr,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:()=>e.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(pe,{id:"alert-dialog-title-logic-builder",children:e.title}),j.jsx(Xr,{children:j.jsx(IW,p(p({},l),{},{value:c,onChange:e=>{d(e)},renderBuilder:e=>j.jsx("div",{jey:"builder",className:"query-builder-container",children:j.jsx("div",{className:"query-builder",children:j.jsx(CJ,p({},e))})})}))}),j.jsx(Kr,{children:j.jsx(St,{onClick:()=>{e.onDialogStateChanged(!1),(()=>{const n=t(c,l),o=n.logic;n.errors,m(r(c,l,!0)),e.onChange(o)})()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const oZ=(e,t,r,n)=>{var o,i,a,l,s,u,c,d,p,f,h;const g=e+". "+vt((null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||"");if(dt(e))return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(t.type){case"text":case"barcode":case"email":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[e]:{label:g,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[e]:{label:g,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[e]:{label:g,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[e]:{label:g,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let o={},y={};null===(i=t.children)||void 0===i||i.forEach((e=>{var t;const o=vt((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");y[e.code]=o?e.code+" - "+o:e.code})),o[e]={label:g,fieldSettings:{listValues:y},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let b=null===(a=t.children)||void 0===a?void 0:a.find((e=>"Aother"===e.code));var v;if(b&&null!==(l=r[b.qualifiedCode].children)&&void 0!==l&&l.find((e=>"Atext"===e.code)))o[e+"AotherAtext"]={label:`${g} [${(null===(v=r[b.qualifiedCode].content)||void 0===v||null===(v=v.label)||void 0===v?void 0:v[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return o;case"image_mcq":case"icon_mcq":case"mcq":let _={},x={};null===(s=t.children)||void 0===s||s.forEach((e=>{var t;const o=vt((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),_[e]={label:g,fieldSettings:{listValues:x},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=null===(u=t.children)||void 0===u?void 0:u.find((e=>"Aother"===e.code));var m;if(w&&null!==(c=r[w.qualifiedCode].children)&&void 0!==c&&c.find((e=>"Atext"===e.code)))_[e+"AotherAtext"]={label:`${g} [${(null===(m=r[w.qualifiedCode].content)||void 0===m||null===(m=m.label)||void 0===m?void 0:m[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return _;case"nps":let O={};return null===(d=t.children)||void 0===d||d.forEach((e=>{var t;const o=vt((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),O[e]={label:g,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},O;case"scq_icon_array":case"scq_array":let S={},k={};return null===(p=t.children)||void 0===p||p.filter((e=>"column"==e.type)).forEach((e=>{var t;const o=vt((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");k[e.code]=o?e.code+" - "+o:e.code})),S[e]={label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=t.children)||void 0===f||f.filter((e=>"row"==e.type)).forEach((t=>{var o;S[e+t.code]={label:g+" - "+vt((null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:k},operators:["select_any_in","select_not_any_in"]}})),S;case"ranking":case"image_ranking":let j={};return null===(h=t.children)||void 0===h||h.forEach((o=>{var i;j[e+o.code]={label:g+" - "+vt((null===(i=r[o.qualifiedCode].content)||void 0===i||null===(i=i.label)||void 0===i?void 0:i[n])||""),type:"number",fieldSettings:{min:1,max:t.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),j;default:return[]}},iZ="_relevanceError_1j5a5_5",aZ="_errorContainer_1j5a5_9";function lZ({code:e,t:t}){var r,n,o;const i=ut(),a=h(v.useState(!1),2),l=a[0],s=a[1],u=ct((e=>e.designState)),c=R.useMemo((()=>u.langInfo)),d=R.useMemo((()=>u[e])),f=R.useMemo((()=>((e,t,r,n,o)=>{let i=og(e,t),a={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:o}}};return i.forEach((e=>{r[e]&&(pt(e)||dt(e))&&(a=p(p({},a),oZ(e,r[e],r,n)))})),a})(u.componentIndex,e,u,c.mainLang,c.languagesList.map((e=>e.code)))),[u]),g=null===(r=d.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code)),m=((null==g?void 0:g.errors)||[]).length>0,y=null===(n=d.relevance)||void 0===n?void 0:n.logic,b=!m&&Object.keys(f).length>0,_=h(v.useState((null===(o=d.relevance)||void 0===o?void 0:o.rule)||"show_always"),2),x=_[0],w=_[1],O="show_if"==x||"hide_if"==x,S=()=>i(tr({code:e,key:"relevance",value:{logic:void 0,rule:"show_always"}}));return j.jsxs("div",{className:`${m?iZ:""}`,children:[j.jsx($t,{variant:"standard",fullWidth:!0,children:j.jsxs(Ut,{id:"show-hide-select",value:x,label:"Age",onChange:t=>(t=>{switch(w(t),t){case"show_always":return void S();case"hide_always":return void i(tr({code:e,key:"relevance",value:{logic:void 0,rule:t}}));case"show_if":case"hide_if":return"show_if"!=(null==y?void 0:y.rule)&&"hide_if"!=(null==y?void 0:y.rule)&&s(!0),void(y&&i(tr({code:e,key:"relevance",value:{logic:y,rule:t}})))}})(t.target.value),children:[j.jsx(Wt,{disabled:m,value:"show_always",children:t("show_always")},"show_always"),j.jsx(Wt,{disabled:!b,value:"show_if",children:t("show_if")},"show_if"),j.jsx(Wt,{disabled:!b,value:"hide_if",children:t("hide_if")},"hide_if"),j.jsx(Wt,{disabled:m,value:"hide_always",children:t("hide_always")},"hide_always")]})}),!m&&O&&j.jsx(nZ,{title:t("show_if"==x?"condition_to_show":"condition_to_hide"),onChange:t=>{s(!1),O&&i(tr({code:e,key:"relevance",value:{logic:t,rule:x}}))},onDialogStateChanged:e=>s(e),fields:f,t:t,dialogOpen:l,logic:y}),m?j.jsxs("div",{className:aZ,children:[j.jsx(Rn,{t:t,i18nKey:"wrong_logic_err"}),j.jsx(St,{variant:"contained",onClick:()=>S(),children:"OK"})]}):"",O&&!y?j.jsx("div",{children:j.jsx(Rn,{t:t,i18nKey:"no_logic_err"})}):""]})}const sZ=(e,t,r)=>{var n;const o=t[e];return{code:e,label:e+". "+vt(null===(n=o.content)||void 0===n||null===(n=n.label)||void 0===n?void 0:n[r])}},uZ=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(uZ(e,n))),r},cZ=(e,t,r,n)=>{let o=[];return dt(t.code)||pt(t.code)?(e.filter((e=>e.parent==t.parent&&e.minIndex>t.maxIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{o=o.concat(sZ(t.code,r,n)),o=o.concat(dZ(e,t,r,n))})),o):o},dZ=(e,t,r,n)=>{let o=[];return dt(t.code)?(t.children&&t.children.forEach((t=>{let i=e.find((e=>e.code===t));o=o.concat(sZ(i.code,r,n)),o=o.concat(dZ(e,i,r,n))})),o):o},pZ={skipItem:"_skipItem_1n8m2_1",toEnd:"_toEnd_1n8m2_6"};function fZ({code:e,t:t}){const r=ut(),n=ct((t=>t.designState[e].skip_logic||{})),o=ct((t=>{const r=t.designState.langInfo.mainLang;return((e,t,r,n)=>{let o=[];if(!e)return o;let i=e.find((e=>e.code===t));return i?(o=o.concat(cZ(e,i,r,n)),i.parent&&uZ(e,i).filter((e=>pt(e.code)||dt(e.code))).forEach((t=>{o=o.concat(cZ(e,t,r,n))})),o):o})(t.designState.componentIndex,e,t.designState,r)})),i=ct((t=>t.designState[e].instructionList.filter((e=>e.code.startsWith("skip_to"))))),a=ct((t=>{var r;const n=t.designState.langInfo.lang;return null===(r=t.designState[e])||void 0===r||null===(r=r.children)||void 0===r?void 0:r.map((e=>{var r;return{code:e.code,label:(null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n])||e.code}}))})),l=(t,n)=>{r("proceed"==n?rr({code:e,answerCode:t}):nr({code:e,answerCode:t,skipTo:n}))},s=(t,n)=>{r(or({code:e,answerCode:t,toEnd:n}))};return j.jsx(j.Fragment,{children:null==a?void 0:a.map((e=>{var r;const a=e.code,u=null==n?void 0:n[a],c=null==u?void 0:u.skipTo,d=c||"proceed",p=c&&(null==i||null===(r=i.find((e=>e.code=="skip_to_on_"+a)))||void 0===r||null===(r=r.errors)||void 0===r?void 0:r.find((e=>"InvalidSkipReference"==e.name)));return j.jsxs("div",{className:pZ.skipItem,children:[j.jsx(Rn,{t:t,values:{code:e.label},i18nKey:"if_answer_is"}),p?hZ(a,c,l,t):gZ(a,o,d,null==u?void 0:u.toEnd,l,s,t)]},e.code)}))})}function hZ(e,t,r,n){return j.jsxs(P,{className:pZ.errorDisplay,children:[j.jsx(kr,{style:{verticalAlign:"middle"}})," ",j.jsx(Rn,{t:n,values:{code:t},i18nKey:"invalid_skip_destination_err"}),j.jsx(St,{variant:"contained",onClick:()=>r(e,"proceed"),children:n("ok")})]})}function gZ(e,t,r,n,o,i,a){return j.jsxs(j.Fragment,{children:[j.jsx($t,{variant:"standard",fullWidth:!0,children:j.jsxs(Ut,{id:"skip-action",value:r,label:a("skip_to"),onChange:t=>o(e,t.target.value),children:[j.jsx(Wt,{value:"proceed",children:a("proceed_as_usual")},"proceed"),t&&(null==t?void 0:t.map((e=>j.jsx(Wt,{value:e.code,children:e.label},e.code))))]})}),r&&r.startsWith("G")&&j.jsxs("div",{className:pZ.toEnd,children:[j.jsx("h4",{children:a("to_group_end")}),j.jsx(fe,{checked:n||!1,onChange:t=>i(e,t.target.checked)})]})]})}const vZ={sectionTitle:"_sectionTitle_nmfqz_1",rightContent:"_rightContent_nmfqz_6",close:"_close_nmfqz_13",accordionStyle:"_accordionStyle_nmfqz_17"},mZ={errorDisplay:"_errorDisplay_1avr2_1"};function yZ({errors:e}){const t=st("design").t;return j.jsx(P,{className:mZ.errorDisplay,children:e.map((e=>"PriorityGroupItemNotChild"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_priority_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicatePriorityGroupItems"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_duplicate_priority_group_items",values:{items:e.items.join(", ")}},e.name):"PriorityLimitMismatch"==e.name?t("err_priority_limit_mismatch"):"RandomGroupItemNotChild"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_random_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicateRandomGroupItems"==e.name?j.jsx(Rn,{t:t,i18nKey:"err_duplicate_random_group_items",values:{items:e.items.join(", ")}},e.name):void 0))},"box")}const bZ={randomHeader:"_randomHeader_1pjix_1",title:"_title_1pjix_6",action:"_action_1pjix_11",settingIcon:"_settingIcon_1pjix_15",randomBody:"_randomBody_1pjix_19",list:"_list_1pjix_19",weight:"_weight_1pjix_30",randomAction:"_randomAction_1pjix_47",listItem:"_listItem_1pjix_53",label:"_label_1pjix_58",input:"_input_1pjix_64",listItemError:"_listItemError_1pjix_68",randomItem:"_randomItem_1pjix_84",highlighted:"_highlighted_1pjix_89"};var _Z={},xZ=L;Object.defineProperty(_Z,"__esModule",{value:!0});var wZ=_Z.default=void 0,OZ=xZ(lt()),SZ=j;function kZ(e){var t;return j.jsxs(hn,{className:`${bZ.randomItem} ${e.isBeingEdited?bZ.highlighted:""}`,children:[j.jsxs("div",{className:bZ.randomHeader,children:[j.jsx("h4",{className:bZ.title,children:e.t("prioritise")}),j.jsxs("div",{className:bZ.action,children:[j.jsx(Ae,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(wZ,{className:bZ.settingIcon})}),j.jsx(Ae,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(fn,{className:bZ.settingIcon})})]})]}),j.jsxs("div",{className:bZ.randomBody,children:[e.t("priority_show_limit_from_count",{limit:e.data.limit,count:null===(t=e.data.weights)||void 0===t?void 0:t.length}),j.jsx("ul",{className:bZ.list,children:e.data&&e.data.weights&&e.data.weights.map(((t,r)=>j.jsx(jZ,{label:e.getChildLabelByCode(t.code),code:t.code,childrenCodes:e.childrenCodes,weight:t.weight},r)))})]})]})}function jZ({code:e,label:t,weight:r,childrenCodes:n}){return j.jsxs("li",{className:-1!==n.indexOf(e)?bZ.listItem:bZ.listItemError,children:[j.jsxs("div",{className:`${bZ.content} ${bZ.label}`,children:[e,": ",t]}),j.jsx("div",{className:bZ.weight,children:j.jsx("span",{children:r})})]})}wZ=_Z.default=(0,OZ.default)((0,SZ.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");const EZ={title:"_title_5cg20_1",randomBody:"_randomBody_5cg20_6",list:"_list_5cg20_6",weight:"_weight_5cg20_18",label:"_label_5cg20_35",randomAction:"_randomAction_5cg20_39",listItem:"_listItem_5cg20_45",input:"_input_5cg20_50",randomItem:"_randomItem_5cg20_54"};var CZ={},TZ=L;Object.defineProperty(CZ,"__esModule",{value:!0});var qZ=CZ.default=void 0,IZ=TZ(lt()),AZ=j;qZ=CZ.default=(0,IZ.default)((0,AZ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var LZ={},PZ=L;Object.defineProperty(LZ,"__esModule",{value:!0});var NZ=LZ.default=void 0,FZ=PZ(lt()),RZ=j;function MZ(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.data),2),a=i[0],l=i[1],s=e=>{l(p(p({},a),{},{limit:e}))},u=(e,t)=>{const r=p({},a);r.weights=[...a.weights],r.weights[t]=p(p({},a.weights[t]),{},{weight:e}),l(r)};return j.jsxs(hn,{className:EZ.randomItem,children:[j.jsx("h4",{className:EZ.title,children:e.title}),j.jsxs("div",{className:EZ.randomBody,children:[j.jsx(VZ,{t:t,increaseLimit:e=>{if(e===a.weights.length-1)return!1;e++,s(e)},decreaseLimit:e=>{if(1===e)return!1;e--,s(e)},limit:a.limit}),j.jsx("ul",{className:`${EZ.list} ${EZ.active}`,children:a&&a.weights&&a.weights.map(((t,r)=>j.jsx(DZ,{code:t.code,weight:t.weight,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),decreaseWeight:e=>((e,t)=>{if(1===e)return!1;e--,u(e,t)})(e,r),increaseWeight:e=>((e,t)=>{e++,u(e,t)})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t.code)},r)))})]}),j.jsxs("div",{className:EZ.randomAction,children:[j.jsx(St,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(St,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=p({},a),r=n.reduce(((e,r,n)=>(r&&e.push(t.weights[n]),e)),[]);e.onSubmit(p(p({},t),{},{weights:r}))})(),disabled:!(()=>{const e=n.filter((e=>e)).length;return e>=2&&a.limit<=e-1&&a.limit>=1})(),children:t("submit")})]})]})}function DZ({code:e,checked:t,label:r,weight:n,handleChange:o,increaseWeight:i,decreaseWeight:a}){return j.jsxs("li",{className:EZ.listItem,children:[j.jsx(cn,{checked:t,onChange:e=>o(e.target.checked)}),j.jsxs("div",{className:`${EZ.content} ${EZ.label}`,children:[e,": ",r]}),j.jsxs("div",{className:EZ.weight,children:[j.jsx(Ae,{size:"small",onClick:e=>a(n),children:j.jsx(qZ,{})}),j.jsx("span",{children:n}),j.jsx(Ae,{size:"small",onClick:e=>i(n),children:j.jsx(NZ,{})})]})]})}function VZ({limit:e,increaseLimit:t,decreaseLimit:r,t:n}){return j.jsxs(j.Fragment,{children:[n("priority_show"),j.jsx(Ae,{size:"small",onClick:t=>r(e),children:j.jsx(qZ,{})}),e,j.jsx(Ae,{size:"small",onClick:r=>t(e),children:j.jsx(NZ,{})})]})}function zZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=ut(),l=h(v.useState({}),2),s=l[0],u=l[1],c=ct((e=>e.designState[r])),d=ct((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),f=ct((e=>e.designState.langInfo.lang)),g=ct((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[f]}})))||[]})),m=ir(c,"priority_groups"),y=(null==m||null===(o=m.priorities)||void 0===o?void 0:o.filter((e=>!t||e.weights.some((e=>d.includes(e.code))))))||[];let b=y.map((e=>e.weights)).flat().map((e=>e.code)).flat();const _=(null==m||null===(i=m.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>b.includes(e))))))||[],x=e=>{a(t?ar({code:r,priorities:e,type:t}):lr({code:r,priorities:e}))},w=e=>{var t;const r=null===(t=g.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},O=()=>d.filter((e=>!b.includes(e))),S=!s||0==Object.keys(s).length,k=()=>{u({})},E=e=>{let t=[...e.weights].sort((function(e,t){return d.findIndex((t=>t===e.code))-d.findIndex((e=>e===t.code))}));return p(p({},e),{},{weights:t})};return j.jsxs(j.Fragment,{children:[y&&y.map(((t,r)=>j.jsx(kZ,{t:e,data:E(t),index:r,childrenCodes:d,isBeingEdited:s.index==r,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&x(y.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[];n.weights=[];const o=O();d.forEach((e=>{if(o.includes(e))n.weights.push({code:e,weight:1}),r.push(!1);else{let o=y[t].weights.findIndex((t=>t.code==e));o>-1&&(n.weights.push(y[t].weights[o]),r.push(!0))}n.limit=y[t].limit})),u({index:t,checked:r,title:e("edit_priority_rule"),data:n})})(t),getChildLabelByCode:w},r))),!n&&_.length>0?j.jsx(yZ,{errors:_}):"",S&&j.jsxs(St,{variant:"contained",disabled:O().length<2,onClick:()=>{const t=O(),r=t.map((e=>({code:e,weight:1})));u({title:e("add_priority_rule"),checked:t.map((e=>!1)),data:{limit:1,weights:r},index:y?y.length:0,icon:j.jsx(kg,{})})},children:[j.jsx(kg,{sx:{paddingRight:"8px"}})," ",e("add_priority_rule")]}),s&&s.data&&j.jsx(MZ,{t:e,title:s.title,data:((e,t)=>{let r=[...e.weights].filter((e=>t.includes(e.code)));return r.length<=1&&k(),{limit:Math.min(e.limit,r.length-1),weights:r}})(s.data,d),index:s.index,getChildLabelByCode:w,checked:s.checked,onSubmit:e=>((e,t)=>{const r=y?[...y]:[];r[t]=p({},e),x(r),k()})(e,s.index),onCancel:k})]})}NZ=LZ.default=(0,FZ.default)((0,RZ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");const BZ="_selectValue_14l81_1",HZ={errorDisplay:"_errorDisplay_1vtlj_1",addNew:"_addNew_1vtlj_10"},$Z={title:"_title_1p7e9_1",list:"_list_1p7e9_6",randomAction:"_randomAction_1p7e9_19",listItem:"_listItem_1p7e9_25",input:"_input_1p7e9_30",randomItem:"_randomItem_1p7e9_34"};function UZ(e){const t=e.t,r=h(v.useState(e.checked),2),n=r[0],o=r[1],i=h(v.useState(e.randomOption),2),a=i[0],l=i[1],s=[t("random_order"),t("flip_order"),t("sort_by_label")],u=["RANDOM","FLIP","ALPHA"];return j.jsxs(hn,{className:$Z.randomItem,children:[j.jsx("h4",{className:$Z.title,children:e.title}),j.jsx($t,{variant:"standard",fullWidth:!0,children:j.jsx(Ut,{id:"select-value",value:a,label:"Select Value",onChange:e=>{l(e.target.value)},children:s.map(((e,t)=>j.jsx(Wt,{value:u[t],children:e},e)))})}),j.jsx("ul",{className:$Z.list,children:e.data&&e.data.map(((t,r)=>j.jsx(WZ,{code:t,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t)},r)))}),j.jsxs("div",{className:$Z.randomAction,children:[j.jsx(St,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(St,{variant:"contained",onClick:t=>(()=>{if(n.filter((e=>e)).length<2)return!1;const t=n.reduce(((t,r,n)=>(r&&t.push(e.data[n]),t)),[]);e.onSubmit(t,a)})(),disabled:!(n.filter((e=>e)).length>=2),children:t("submit")})]})]})}function WZ({code:e,label:t,checked:r,handleChange:n}){return j.jsxs("li",{className:$Z.listItem,children:[j.jsx(cn,{checked:r,onChange:e=>n(e.target.checked)}),e,": ",t]})}const KZ={randomHeader:"_randomHeader_10d2m_1",title:"_title_10d2m_6",action:"_action_10d2m_11",settingIcon:"_settingIcon_10d2m_15",list:"_list_10d2m_19",randomAction:"_randomAction_10d2m_30",listItem:"_listItem_10d2m_36",label:"_label_10d2m_41",input:"_input_10d2m_47",listItemError:"_listItemError_10d2m_51",randomItem:"_randomItem_10d2m_63",highlighted:"_highlighted_10d2m_68"},GZ=(e,t)=>{switch(e){case"ALPHA":return t("sort_by_label");case"RANDOM":return t("random_order");case"FLIP":return t("flip_order")}throw"unidentified randomOption: "+e};function YZ(e){const t=e.t;return j.jsxs(hn,{className:`${KZ.randomItem} ${e.isBeingEdited?KZ.highlighted:""}`,children:[j.jsxs("div",{className:KZ.randomHeader,children:[j.jsx("h4",{className:KZ.title,children:GZ(e.randomOption,t)}),j.jsxs("div",{className:KZ.action,children:[j.jsx(Ae,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(wZ,{className:KZ.settingIcon})}),j.jsx(Ae,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx(fn,{className:KZ.settingIcon})})]})]}),j.jsx("ul",{className:KZ.list,children:e.data&&e.data.map(((t,r)=>j.jsx(JZ,{label:e.getChildLabelByCode(t),code:t,childrenCodes:e.childrenCodes},r)))})]})}function JZ({code:e,label:t,childrenCodes:r}){return j.jsx("li",{className:-1!==r.indexOf(e)?KZ.listItem:KZ.listItemError,children:j.jsxs("div",{className:`${KZ.content} ${KZ.label}`,children:[e,": ",t]})})}function QZ({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=ut(),l=h(v.useState({}),2),s=l[0],u=l[1],c=ct((e=>e.designState[r])),d=ct((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),p=ct((e=>e.designState.langInfo.lang)),f=ct((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[p]}})))||[]})),g=ir(c,"random_group"),m=(null==g||null===(o=g.groups)||void 0===o?void 0:o.filter((e=>!t||e.codes.some((e=>d.includes(e))))))||[],y=m.map((e=>e.codes)).flat(),b=(null==g||null===(i=g.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>y.includes(e))))))||[],_=e=>{a(t?sr({code:r,groups:e,type:t}):ur({code:r,groups:e}))},x=e=>{var t;const r=null===(t=f.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},w=e=>d.filter((e=>!y.includes(e))),O=e=>[...e.codes].sort((function(e,t){return d.findIndex((t=>t===e))-d.findIndex((e=>e===t))})),S=()=>{u({})},k=!s||0==Object.keys(s).length;return j.jsxs(j.Fragment,{children:[m&&m.map(((t,r)=>j.jsx(YZ,{t:e,data:O(t),randomOption:t.randomOption,index:r,isBeingEdited:s.index==r,childrenCodes:d,getChildLabelByCode:x,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&_(m.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[],o=w();n=d.filter((e=>o.includes(e)||m[t].codes.includes(e))),r=n.map((e=>!!m[t].codes.includes(e))),u({index:t,checked:r,randomOption:m[t].randomOption||"RANDOM",title:e("edit_random_rule"),data:n})})(t)},r))),!n&&b.length>0?j.jsx(yZ,{errors:b}):"",k&&j.jsxs(St,{className:HZ.addNew,variant:"contained",disabled:w().length<2,onClick:()=>{const t=w();u({title:e("add_new_random_rule"),data:t,checked:[],randomOption:"RANDOM",index:m?m.length:0})},children:[j.jsx(_g,{sx:{paddingRight:"8px"}})," ",e("add_random_rule")]}),s&&s.data&&j.jsx(UZ,{t:e,title:s.title,data:((e,t)=>{let r=[...e].filter((e=>t.includes(e)));return r.length<=1&&S(),r})(s.data,d),randomOption:s.randomOption,getChildLabelByCode:x,checked:s.checked,onSubmit:(e,t)=>((e,t,r)=>{const n=m?[...m]:[];n[r]={codes:e,randomOption:t},_(n),S()})(e,t,s.index),onCancel:S})]})}function XZ({t:e,rule:t,code:r}){const n=ut(),o=ct((e=>e.designState[r][t]||"NONE"));let i="",a=[],l=[];switch(t){case"randomize_questions":i=e("questions_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":i=e("questions_priority"),a=[e("no_priority"),e("prioritise_questions")],l=["NONE","prioritize"];break;case"randomize_groups":i=e("groups_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":i=e("groups_priority"),a=[e("no_priority"),e("prioritise_groups")],l=["NONE","prioritize"];break;case"randomize_options":i=e("options_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":i=e("options_priority"),a=[e("no_priority"),e("prioritise_options")],l=["NONE","prioritize"];break;case"randomize_rows":i=e("rows_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":i=e("rows_priority"),a=[e("no_priority"),e("prioritise_rows")],l=["NONE","prioritize"];break;case"randomize_columns":i=e("columns_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":i=e("columns_priority"),a=[e("no_priority"),e("prioritise_columns")],l=["NONE","prioritize"]}return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:i}),j.jsx($t,{className:BZ,variant:"standard",fullWidth:!0,children:j.jsx(Ut,{id:"select-value",value:o,label:"Select Value",onChange:e=>{var o;o=e.target.value,n(Bt({code:r,key:t,value:"NONE"==o?void 0:o}))},children:a.map(((e,t)=>j.jsx(Wt,{value:l[t],children:e},e)))})}),"custom"==o&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(t)&&j.jsx(QZ,{label:"",code:r,t:e}),"custom"==o&&"randomize_rows"==t&&j.jsx(QZ,{label:"",type:"row",code:r,t:e}),"prioritize"==o&&"prioritize_rows"==t&&j.jsx(zZ,{label:"",type:"row",code:r,t:e}),"custom"==o&&"randomize_columns"==t&&j.jsx(QZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&"prioritize_columns"==t&&j.jsx(zZ,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(t)&&j.jsx(zZ,{label:"",code:r,t:e})]})}const ZZ=()=>{const e=st("design").t,t=ut(),r=ct((e=>e.designState.Survey.navigationMode||gn.GROUP_BY_GROUP));return j.jsxs($t,{fullWidth:!0,children:[j.jsx(Fr,{id:"navigation-mode-label",children:e("navigation_mode")}),j.jsxs(Ut,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:e("label.navigation_mode"),onChange:e=>{t(Bt({code:"Survey",key:"navigationMode",value:e.target.value}))},children:[j.jsx(Wt,{value:gn.GROUP_BY_GROUP,children:e("group_by_group")}),j.jsx(Wt,{value:gn.QUESTION_BY_QUESTION,children:e("question_by_question")}),j.jsx(Wt,{value:gn.ALL_IN_ONE,children:e("all_in_one")})]})]})},e0="_theming_1v217_1",t0="_chooseImage_1v217_12",r0="_resetButton_1v217_21",n0="_fontText_1v217_24",o0="_selectDropdown_1v217_27",i0="_colorBox_1v217_33",a0="_colorPickerContainer_1v217_40",l0={themingItem:"_themingItem_11qn9_1",themingItemBody:"_themingItemBody_11qn9_6",selectDropdown:"_selectDropdown_11qn9_13"};function s0(e){const t=Array.from({length:12},((e,t)=>2*t+10));return j.jsx("div",{className:l0.themingItem,children:j.jsx("div",{className:l0.themingItemBody,children:j.jsx(Ut,{size:"small",value:e.value.size||e.default.size,onChange:t=>{return r="size",n=t.target.value,void e.onChange(p(p({},e.value),{},{[r]:n}));var r,n},IconComponent:me,className:l0.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:t&&t.length>0&&t.map(((e,t)=>j.jsx(Wt,{value:e,children:e},`fontSize-${t}`)))},"fontSize")})})}var u0={},c0={},d0=Ja,p0=As,f0=$s;var h0=function(e){return"string"==typeof e||!p0(e)&&f0(e)&&"[object String]"==d0(e)},g0=MA;var v0=J$,m0=function(e){return"function"==typeof e?e:g0};var y0=function(e,t){return e&&v0(e,m0(t))},b0=Nu;var _0=function(e,t){return function(r,n){if(null==r)return r;if(!b0(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}},x0=_0(J$),w0=Nu;var O0=function(e,t){var r=-1,n=w0(e)?Array(e.length):[];return x0(e,(function(e,o,i){n[++r]=t(e,o,i)})),n},S0=TI,k0=jU,j0=O0,E0=As;var C0=function(e,t){return(E0(e)?S0:j0)(e,k0(t))};Object.defineProperty(c0,"__esModule",{value:!0}),c0.flattenNames=void 0;var T0=L0(h0),q0=L0(y0),I0=L0(cN),A0=L0(C0);function L0(e){return e&&e.__esModule?e:{default:e}}var P0=c0.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,A0.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,I0.default)(t)?(0,q0.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,T0.default)(t)&&r.push(t)})),r};c0.default=P0;var N0={},F0=KP;var R0=function(e){return F0(e,5)};Object.defineProperty(N0,"__esModule",{value:!0}),N0.mergeClasses=void 0;var M0=z0(y0),D0=z0(R0),V0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function z0(e){return e&&e.__esModule?e:{default:e}}var B0=N0.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,D0.default)(e.default)||{};return t.map((function(t){var n=e[t];return n&&(0,M0.default)(n,(function(e,t){r[t]||(r[t]={}),r[t]=V0({},r[t],n[t])})),t})),r};N0.default=B0;var H0={};Object.defineProperty(H0,"__esModule",{value:!0}),H0.autoprefix=void 0;var $0,U0=($0=y0)&&$0.__esModule?$0:{default:$0},W0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var K0={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},G0=H0.autoprefix=function(e){var t={};return(0,U0.default)(e,(function(e,r){var n={};(0,U0.default)(e,(function(e,t){var r=K0[t];r?n=W0({},n,r(e)):n[t]=e})),t[r]=n})),t};H0.default=G0;var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.hover=void 0;var J0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0=function(e){return e&&e.__esModule?e:{default:e}}(v);function X0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Z0=Y0.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=X0(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={hover:!1},i.handleMouseOver=function(){return i.setState({hover:!0})},i.handleMouseOut=function(){return i.setState({hover:!1})},i.render=function(){return Q0.default.createElement(t,{onMouseOver:i.handleMouseOver,onMouseOut:i.handleMouseOut},Q0.default.createElement(e,J0({},i.props,i.state)))},X0(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(Q0.default.Component)};Y0.default=Z0;var e1={};Object.defineProperty(e1,"__esModule",{value:!0}),e1.active=void 0;var t1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1=function(e){return e&&e.__esModule?e:{default:e}}(v);function n1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o1=e1.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=n1(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={active:!1},i.handleMouseDown=function(){return i.setState({active:!0})},i.handleMouseUp=function(){return i.setState({active:!1})},i.render=function(){return r1.default.createElement(t,{onMouseDown:i.handleMouseDown,onMouseUp:i.handleMouseUp},r1.default.createElement(e,t1({},i.props,i.state)))},n1(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(r1.default.Component)};e1.default=o1;var i1={};Object.defineProperty(i1,"__esModule",{value:!0});i1.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r},Object.defineProperty(u0,"__esModule",{value:!0}),u0.ReactCSS=u0.loop=u0.handleActive=f1=u0.handleHover=u0.hover=void 0;var a1=p1(c0),l1=p1(N0),s1=p1(H0),u1=p1(Y0),c1=p1(e1),d1=p1(i1);function p1(e){return e&&e.__esModule?e:{default:e}}u0.hover=u1.default;var f1=u0.handleHover=u1.default;u0.handleActive=c1.default,u0.loop=d1.default;var h1=u0.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=(0,a1.default)(r),i=(0,l1.default)(e,o);return(0,s1.default)(i)},g1=u0.default=h1,v1={},m1=function(e,t,r,n){var o=e+"-"+t+"-"+r+(n?"-server":"");if(v1[o])return v1[o];var i=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var o=n?new n:document.createElement("canvas");o.width=2*r,o.height=2*r;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,r,r),i.translate(r,r),i.fillRect(0,0,r,r),o.toDataURL()):null}(e,t,r,n);return v1[o]=i,i},y1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1=function(e){var t=e.white,r=e.grey,n=e.size,o=e.renderers,i=e.borderRadius,a=e.boxShadow,l=e.children,s=g1({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+m1(t,r,n,o.canvas)+") center left"}}});return v.isValidElement(l)?R.cloneElement(l,y1({},l.props,{style:y1({},l.props.style,s.grid)})):R.createElement("div",{style:s.grid})};b1.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function w1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O1=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=w1(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n,o){var i=o.clientWidth,a=o.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),c=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(n!==(p=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},w1(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),x1(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=g1({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:_1({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return R.createElement("div",{style:r.alpha},R.createElement("div",{style:r.checkboard},R.createElement(b1,{renderers:this.props.renderers})),R.createElement("div",{style:r.gradient}),R.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("div",{style:r.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:r.slider}))))}}]),t}(v.PureComponent||v.Component),S1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var k1=[38,40],j1=1,E1=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,k1.indexOf(t)>-1)){var o=r.getArrowOffset(),i=38===e.keyCode?n+o:n-o;r.setUpdatedValue(i,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+j1++,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S1(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=g1({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return R.createElement("div",{style:t.wrap},R.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?R.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(v.PureComponent||v.Component),C1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function T1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q1=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=T1(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n){var o=n.clientWidth,i=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(c=u<0?359:u>i?0:360*(-100*u/i+100)/100,r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var d=void 0;if(d=s<0?0:s>o?359:100*s/o*360/100,r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},T1(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C1(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=g1({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return R.createElement("div",{style:n.hue},R.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),R.createElement("div",{style:n.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:n.slider}))))}}]),t}(v.PureComponent||v.Component);function I1(e,t){return e===t||e!=e&&t!=t}function A1(e,t){for(var r=e.length;r--;)if(I1(e[r][0],t))return r;return-1}var L1=Array.prototype.splice;function P1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}P1.prototype.clear=function(){this.__data__=[],this.size=0},P1.prototype.delete=function(e){var t=this.__data__,r=A1(t,e);return!(r<0)&&(r==t.length-1?t.pop():L1.call(t,r,1),--this.size,!0)},P1.prototype.get=function(e){var t=this.__data__,r=A1(t,e);return r<0?void 0:t[r][1]},P1.prototype.has=function(e){return A1(this.__data__,e)>-1},P1.prototype.set=function(e,t){var r=this.__data__,n=A1(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var N1="object"==typeof global&&global&&global.Object===Object&&global,F1="object"==typeof self&&self&&self.Object===Object&&self,R1=N1||F1||Function("return this")(),M1=R1.Symbol,D1=Object.prototype,V1=D1.hasOwnProperty,z1=D1.toString,B1=M1?M1.toStringTag:void 0;var H1=Object.prototype.toString;var $1="[object Null]",U1="[object Undefined]",W1=M1?M1.toStringTag:void 0;function K1(e){return null==e?void 0===e?U1:$1:W1&&W1 in Object(e)?function(e){var t=V1.call(e,B1),r=e[B1];try{e[B1]=void 0;var n=!0}catch(_n){}var o=z1.call(e);return n&&(t?e[B1]=r:delete e[B1]),o}(e):function(e){return H1.call(e)}(e)}function G1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Y1="[object AsyncFunction]",J1="[object Function]",Q1="[object GeneratorFunction]",X1="[object Proxy]";function Z1(e){if(!G1(e))return!1;var t=K1(e);return t==J1||t==Q1||t==Y1||t==X1}var e2=R1["__core-js_shared__"],t2=function(){var e=/[^.]+$/.exec(e2&&e2.keys&&e2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var r2=Function.prototype.toString;function n2(e){if(null!=e){try{return r2.call(e)}catch(_n){}try{return e+""}catch(_n){}}return""}var o2=/^\[object .+?Constructor\]$/,i2=Function.prototype,a2=Object.prototype,l2=i2.toString,s2=a2.hasOwnProperty,u2=RegExp("^"+l2.call(s2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c2(e){return!(!G1(e)||(t=e,t2&&t2 in t))&&(Z1(e)?u2:o2).test(n2(e));var t}function d2(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return c2(r)?r:void 0}var p2=d2(R1,"Map"),f2=d2(Object,"create");var h2=Object.prototype.hasOwnProperty;var g2=Object.prototype.hasOwnProperty;function v2(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function m2(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function y2(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}v2.prototype.clear=function(){this.__data__=f2?f2(null):{},this.size=0},v2.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},v2.prototype.get=function(e){var t=this.__data__;if(f2){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return h2.call(t,e)?t[e]:void 0},v2.prototype.has=function(e){var t=this.__data__;return f2?void 0!==t[e]:g2.call(t,e)},v2.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=f2&&void 0===t?"__lodash_hash_undefined__":t,this},y2.prototype.clear=function(){this.size=0,this.__data__={hash:new v2,map:new(p2||P1),string:new v2}},y2.prototype.delete=function(e){var t=m2(this,e).delete(e);return this.size-=t?1:0,t},y2.prototype.get=function(e){return m2(this,e).get(e)},y2.prototype.has=function(e){return m2(this,e).has(e)},y2.prototype.set=function(e,t){var r=m2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function b2(e){var t=this.__data__=new P1(e);this.size=t.size}b2.prototype.clear=function(){this.__data__=new P1,this.size=0},b2.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},b2.prototype.get=function(e){return this.__data__.get(e)},b2.prototype.has=function(e){return this.__data__.has(e)},b2.prototype.set=function(e,t){var r=this.__data__;if(r instanceof P1){var n=r.__data__;if(!p2||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new y2(n)}return r.set(e,t),this.size=r.size,this};var _2=function(){try{var e=d2(Object,"defineProperty");return e({},"",{}),e}catch(_n){}}();function x2(e,t,r){"__proto__"==t&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function w2(e,t,r){(void 0!==r&&!I1(e[t],r)||void 0===r&&!(t in e))&&x2(e,t,r)}var O2=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var l=i[++n];if(!1===t(o[l],l,o))break}return e},S2="object"==typeof u&&u&&!u.nodeType&&u,k2=S2&&"object"==typeof d&&d&&!d.nodeType&&d,j2=k2&&k2.exports===S2?R1.Buffer:void 0;j2&&j2.allocUnsafe;var E2=R1.Uint8Array;function C2(e,t){var r,n,o=(r=e.buffer,n=new r.constructor(r.byteLength),new E2(n).set(new E2(r)),n);return new e.constructor(o,e.byteOffset,e.length)}var T2=Object.create,q2=function(){function e(){}return function(t){if(!G1(t))return{};if(T2)return T2(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function I2(e,t){return function(r){return e(t(r))}}var A2=I2(Object.getPrototypeOf,Object),L2=Object.prototype;function P2(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||L2)}function N2(e){return null!=e&&"object"==typeof e}function F2(e){return N2(e)&&"[object Arguments]"==K1(e)}var R2=Object.prototype,M2=R2.hasOwnProperty,D2=R2.propertyIsEnumerable,V2=F2(function(){return arguments}())?F2:function(e){return N2(e)&&M2.call(e,"callee")&&!D2.call(e,"callee")},z2=Array.isArray,B2=9007199254740991;function H2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B2}function $2(e){return null!=e&&H2(e.length)&&!Z1(e)}var U2="object"==typeof u&&u&&!u.nodeType&&u,W2=U2&&"object"==typeof d&&d&&!d.nodeType&&d,K2=W2&&W2.exports===U2?R1.Buffer:void 0,G2=(K2?K2.isBuffer:void 0)||function(){return!1},Y2="[object Object]",J2=Function.prototype,Q2=Object.prototype,X2=J2.toString,Z2=Q2.hasOwnProperty,e5=X2.call(Object);var t5={};t5["[object Float32Array]"]=t5["[object Float64Array]"]=t5["[object Int8Array]"]=t5["[object Int16Array]"]=t5["[object Int32Array]"]=t5["[object Uint8Array]"]=t5["[object Uint8ClampedArray]"]=t5["[object Uint16Array]"]=t5["[object Uint32Array]"]=!0,t5["[object Arguments]"]=t5["[object Array]"]=t5["[object ArrayBuffer]"]=t5["[object Boolean]"]=t5["[object DataView]"]=t5["[object Date]"]=t5["[object Error]"]=t5["[object Function]"]=t5["[object Map]"]=t5["[object Number]"]=t5["[object Object]"]=t5["[object RegExp]"]=t5["[object Set]"]=t5["[object String]"]=t5["[object WeakMap]"]=!1;var r5,n5="object"==typeof u&&u&&!u.nodeType&&u,o5=n5&&"object"==typeof d&&d&&!d.nodeType&&d,i5=o5&&o5.exports===n5&&N1.process,a5=function(){try{var e=o5&&o5.require&&o5.require("util").types;return e||i5&&i5.binding&&i5.binding("util")}catch(_n){}}(),l5=a5&&a5.isTypedArray,s5=l5?(r5=l5,function(e){return r5(e)}):function(e){return N2(e)&&H2(e.length)&&!!t5[K1(e)]};function u5(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var c5=Object.prototype.hasOwnProperty;function d5(e,t,r){var n=e[t];c5.call(e,t)&&I1(n,r)&&(void 0!==r||t in e)||x2(e,t,r)}var p5=9007199254740991,f5=/^(?:0|[1-9]\d*)$/;function h5(e,t){var r=typeof e;return!!(t=null==t?p5:t)&&("number"==r||"symbol"!=r&&f5.test(e))&&e>-1&&e%1==0&&e<t}var g5=Object.prototype.hasOwnProperty;function v5(e,t){var r=z2(e),n=!r&&V2(e),o=!r&&!n&&G2(e),i=!r&&!n&&!o&&s5(e),a=r||n||o||i,l=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=l.length;for(var u in e)!t&&!g5.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||h5(u,s))||l.push(u);return l}var m5=Object.prototype.hasOwnProperty;function y5(e){if(!G1(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=P2(e),r=[];for(var n in e)("constructor"!=n||!t&&m5.call(e,n))&&r.push(n);return r}function b5(e){return $2(e)?v5(e,!0):y5(e)}function _5(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=void 0;void 0===s&&(s=e[l]),o?x2(r,l,s):d5(r,l,s)}return r}(e,b5(e))}function x5(e,t,r,n,o,i,a){var l=u5(e,r),s=u5(t,r),u=a.get(s);if(u)w2(e,r,u);else{var c,d=i?i(l,s,r+"",e,t,a):void 0,p=void 0===d;if(p){var f=z2(s),h=!f&&G2(s),g=!f&&!h&&s5(s);d=s,f||h||g?z2(l)?d=l:N2(c=l)&&$2(c)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(l):h?(p=!1,d=s.slice()):g?(p=!1,d=C2(s)):d=[]:function(e){if(!N2(e)||K1(e)!=Y2)return!1;var t=A2(e);if(null===t)return!0;var r=Z2.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&X2.call(r)==e5}(s)||V2(s)?(d=l,V2(l)?d=_5(l):G1(l)&&!Z1(l)||(d=function(e){return"function"!=typeof e.constructor||P2(e)?{}:q2(A2(e))}(s))):p=!1}p&&(a.set(s,d),o(d,s,n,i,a),a.delete(s)),w2(e,r,d)}}function w5(e,t,r,n,o){e!==t&&O2(t,(function(i,a){if(o||(o=new b2),G1(i))x5(e,t,a,r,w5,n,o);else{var l=n?n(u5(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),w2(e,a,l)}}),b5)}function O5(e){return e}var S5=Math.max;var k5=_2?function(e,t){return _2(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:O5,j5=Date.now;var E5=function(e){var t=0,r=0;return function(){var n=j5(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(k5);function C5(e,t){return E5(function(e,t,r){return t=S5(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=S5(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,l)}}(e,t,O5),e+"")}var T5,q5=(T5=function(e,t,r){w5(e,t,r)},C5((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=T5.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!G1(r))return!1;var n=typeof t;return!!("number"==n?$2(r)&&h5(t,r.length):"string"==n&&t in r)&&I1(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&T5(e,a,r,o)}return e}))),I5=function(e){var t=e.zDepth,r=e.radius,n=e.background,o=e.children,i=e.styles,a=g1(q5({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===i?{}:i),{"zDepth-1":1===t});return R.createElement("div",{style:a.wrap},R.createElement("div",{style:a.bg}),R.createElement("div",{style:a.content},o))};I5.propTypes={background:Gt.string,zDepth:Gt.oneOf([0,1,2,3,4,5]),radius:Gt.number,styles:Gt.object},I5.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var A5=function(){return R1.Date.now()},L5=/\s/;var P5=/^\s+/;function N5(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&L5.test(e.charAt(t)););return t}(e)+1).replace(P5,""):e}var F5="[object Symbol]";function R5(e){return"symbol"==typeof e||N2(e)&&K1(e)==F5}var M5=NaN,D5=/^[-+]0x[0-9a-f]+$/i,V5=/^0b[01]+$/i,z5=/^0o[0-7]+$/i,B5=parseInt;function H5(e){if("number"==typeof e)return e;if(R5(e))return M5;if(G1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=G1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=N5(e);var r=V5.test(e);return r||z5.test(e)?B5(e.slice(2),r?2:8):D5.test(e)?M5:+e}var $5="Expected a function",U5=Math.max,W5=Math.min;function K5(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError($5);function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=A5();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?W5(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=A5(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=H5(t)||0,G1(r)&&(c=!!r.leading,i=(d="maxWait"in r)?U5(H5(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(A5())},m}var G5=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Y5=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,function(e,t,r){var n=r.getBoundingClientRect(),o=n.width,i=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),u<0?u=0:u>i&&(u=i);var c=s/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}}(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e);var t=r.getContainerRenderWindow();t.addEventListener("mousemove",r.handleChange),t.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return G1(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),K5(e,t,{leading:n,maxWait:t,trailing:o})}((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),G5(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,o=t.black,i=t.pointer,a=t.circle,l=g1({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return R.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},R.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),R.createElement("div",{style:l.white,className:"saturation-white"},R.createElement("div",{style:l.black,className:"saturation-black"}),R.createElement("div",{style:l.pointer},this.props.pointer?R.createElement(this.props.pointer,this.props):R.createElement("div",{style:l.circle}))))}}]),t}(v.PureComponent||v.Component);function J5(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var Q5=I2(Object.keys,Object),X5=Object.prototype.hasOwnProperty;function Z5(e){return $2(e)?v5(e):function(e){if(!P2(e))return Q5(e);var t=[];for(var r in Object(e))X5.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var e3,t3=(e3=function(e,t){return e&&O2(e,t,Z5)},function(e,t){if(null==e)return e;if(!$2(e))return e3(e,t);for(var r=e.length,n=-1,o=Object(e);++n<r&&!1!==t(o[n],n,o););return e});function r3(e,t){var r;return(z2(e)?J5:t3)(e,"function"==typeof(r=t)?r:O5)}function n3(e){return n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n3(e)}var o3=/^\s+/,i3=/\s+$/;function a3(e,t){if(t=t||{},(e=e||"")instanceof a3)return e;if(!(this instanceof a3))return new a3(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,i=null,a=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(o3,"").replace(i3,"").toLowerCase();var t,r=!1;if(O3[e])e=O3[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=F3.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=F3.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=F3.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=F3.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=F3.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=F3.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=F3.hex8.exec(e))return{r:C3(t[1]),g:C3(t[2]),b:C3(t[3]),a:A3(t[4]),format:r?"name":"hex8"};if(t=F3.hex6.exec(e))return{r:C3(t[1]),g:C3(t[2]),b:C3(t[3]),format:r?"name":"hex"};if(t=F3.hex4.exec(e))return{r:C3(t[1]+""+t[1]),g:C3(t[2]+""+t[2]),b:C3(t[3]+""+t[3]),a:A3(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=F3.hex3.exec(e))return{r:C3(t[1]+""+t[1]),g:C3(t[2]+""+t[2]),b:C3(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==n3(e)&&(R3(e.r)&&R3(e.g)&&R3(e.b)?(t=function(e,t,r){return{r:255*j3(e,255),g:255*j3(t,255),b:255*j3(r,255)}}(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):R3(e.h)&&R3(e.s)&&R3(e.v)?(n=q3(e.s),o=q3(e.v),t=function(e,t,r){e=6*j3(e,360),t=j3(t,100),r=j3(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),l=r*(1-(1-o)*t),s=n%6,u=[r,a,i,i,l,r][s],c=[l,r,r,a,i,i][s],d=[i,i,l,r,r,a][s];return{r:255*u,g:255*c,b:255*d}}(e.h,n,o),a=!0,l="hsv"):R3(e.h)&&R3(e.s)&&R3(e.l)&&(n=q3(e.s),i=q3(e.l),t=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=j3(e,360),t=j3(t,100),r=j3(r,100),0===t)n=o=i=r;else{var l=r<.5?r*(1+t):r+t-r*t,s=2*r-l;n=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,n,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a));return r=k3(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function l3(e,t,r){e=j3(e,255),t=j3(t,255),r=j3(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:l}}function s3(e,t,r){e=j3(e,255),t=j3(t,255),r=j3(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:l}}function u3(e,t,r,n){var o=[T3(Math.round(e).toString(16)),T3(Math.round(t).toString(16)),T3(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function c3(e,t,r,n){return[T3(I3(n)),T3(Math.round(e).toString(16)),T3(Math.round(t).toString(16)),T3(Math.round(r).toString(16))].join("")}function d3(e,t){t=0===t?0:t||10;var r=a3(e).toHsl();return r.s-=t/100,r.s=E3(r.s),a3(r)}function p3(e,t){t=0===t?0:t||10;var r=a3(e).toHsl();return r.s+=t/100,r.s=E3(r.s),a3(r)}function f3(e){return a3(e).desaturate(100)}function h3(e,t){t=0===t?0:t||10;var r=a3(e).toHsl();return r.l+=t/100,r.l=E3(r.l),a3(r)}function g3(e,t){t=0===t?0:t||10;var r=a3(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),a3(r)}function v3(e,t){t=0===t?0:t||10;var r=a3(e).toHsl();return r.l-=t/100,r.l=E3(r.l),a3(r)}function m3(e,t){var r=a3(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,a3(r)}function y3(e){var t=a3(e).toHsl();return t.h=(t.h+180)%360,a3(t)}function b3(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=a3(e).toHsl(),n=[a3(e)],o=360/t,i=1;i<t;i++)n.push(a3({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function _3(e){var t=a3(e).toHsl(),r=t.h;return[a3(e),a3({h:(r+72)%360,s:t.s,l:t.l}),a3({h:(r+216)%360,s:t.s,l:t.l})]}function x3(e,t,r){t=t||6,r=r||30;var n=a3(e).toHsl(),o=360/r,i=[a3(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(a3(n));return i}function w3(e,t){t=t||6;for(var r=a3(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],l=1/t;t--;)a.push(a3({h:n,s:o,v:i})),i=(i+l)%1;return a}a3.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=k3(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=s3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s3(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=l3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l3(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return u3(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[T3(Math.round(e).toString(16)),T3(Math.round(t).toString(16)),T3(Math.round(r).toString(16)),T3(I3(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*j3(this._r,255))+"%",g:Math.round(100*j3(this._g,255))+"%",b:Math.round(100*j3(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*j3(this._r,255))+"%, "+Math.round(100*j3(this._g,255))+"%, "+Math.round(100*j3(this._b,255))+"%)":"rgba("+Math.round(100*j3(this._r,255))+"%, "+Math.round(100*j3(this._g,255))+"%, "+Math.round(100*j3(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S3[u3(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+c3(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=a3(e);r="#"+c3(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a3(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(h3,arguments)},brighten:function(){return this._applyModification(g3,arguments)},darken:function(){return this._applyModification(v3,arguments)},desaturate:function(){return this._applyModification(d3,arguments)},saturate:function(){return this._applyModification(p3,arguments)},greyscale:function(){return this._applyModification(f3,arguments)},spin:function(){return this._applyModification(m3,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x3,arguments)},complement:function(){return this._applyCombination(y3,arguments)},monochromatic:function(){return this._applyCombination(w3,arguments)},splitcomplement:function(){return this._applyCombination(_3,arguments)},triad:function(){return this._applyCombination(b3,[3])},tetrad:function(){return this._applyCombination(b3,[4])}},a3.fromRatio=function(e,t){if("object"==n3(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:q3(e[n]));e=r}return a3(e,t)},a3.equals=function(e,t){return!(!e||!t)&&a3(e).toRgbString()==a3(t).toRgbString()},a3.random=function(){return a3.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},a3.mix=function(e,t,r){r=0===r?0:r||50;var n=a3(e).toRgb(),o=a3(t).toRgb(),i=r/100;return a3({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},a3.readability=function(e,t){var r=a3(e),n=a3(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},a3.isReadable=function(e,t,r){var n,o,i=a3.readability(e,t);switch(o=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},a3.mostReadable=function(e,t,r){var n,o,i,a,l=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var u=0;u<t.length;u++)(n=a3.readability(e,t[u]))>s&&(s=n,l=a3(t[u]));return a3.isReadable(e,l,{level:i,size:a})||!o?l:(r.includeFallbackColors=!1,a3.mostReadable(e,["#fff","#000"],r))};var O3=a3.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S3=a3.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(O3);function k3(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j3(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E3(e){return Math.min(1,Math.max(0,e))}function C3(e){return parseInt(e,16)}function T3(e){return 1==e.length?"0"+e:""+e}function q3(e){return e<=1&&(e=100*e+"%"),e}function I3(e){return Math.round(255*parseFloat(e)).toString(16)}function A3(e){return C3(e)/255}var L3,P3,N3,F3=(P3="[\\s|\\(]+("+(L3="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L3+")[,|\\s]+("+L3+")\\s*\\)?",N3="[\\s|\\(]+("+L3+")[,|\\s]+("+L3+")[,|\\s]+("+L3+")[,|\\s]+("+L3+")\\s*\\)?",{CSS_UNIT:new RegExp(L3),rgb:new RegExp("rgb"+P3),rgba:new RegExp("rgba"+N3),hsl:new RegExp("hsl"+P3),hsla:new RegExp("hsla"+N3),hsv:new RegExp("hsv"+P3),hsva:new RegExp("hsva"+N3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function R3(e){return!!F3.CSS_UNIT.exec(e)}var M3=function(e){var t=0,r=0;return r3(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(r+=1)}})),t===r&&e},D3=function(e,t){var r=e.hex?a3(e.hex):a3(e),n=r.toHsl(),o=r.toHsv(),i=r.toRgb(),a=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||n.h,source:e.source}},V3=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&a3(e).isValid()},z3=function(e){if(!e)return"#fff";var t=D3(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},B3=function(e,t){return a3(t+" ("+e.replace("°","")+")")._ok},H3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var U3=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(M3(e)){var n=D3(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(M3(e)){var n=D3(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=H3({},D3(e.color,0)),t.debounce=K5((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),$3(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),R.createElement(e,H3({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return H3({},D3(e.color,t.oldHue))}}]),r}(v.PureComponent||v.Component);return t.propTypes=H3({},e.propTypes),t.defaultProps=H3({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},W3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K3=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function G3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const J3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=G3(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},G3(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),K3(n,[{key:"render",value:function(){return R.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},R.createElement(e,W3({},this.props,this.state)))}}]),n}(R.Component)}((function(e){var t=e.color,r=e.style,n=e.onClick,o=void 0===n?function(){}:n,i=e.onHover,a=e.title,l=void 0===a?t:a,s=e.children,u=e.focus,c=e.focusStyle,d="transparent"===t,p=g1({default:{swatch:Y3({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?void 0===c?{}:c:{})}}),f={};return i&&(f.onMouseOver=function(e){return i(t,e)}),R.createElement("div",Y3({style:p.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},f),s,d&&R.createElement(b1,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var Q3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X3=function(e){var t=e.rgb,r=e.hsl,n=e.width,o=e.height,i=e.onChange,a=e.direction,l=e.style,s=e.renderers,u=e.pointer,c=e.className,d=void 0===c?"":c,p=g1({default:{picker:{position:"relative",width:n,height:o},alpha:{radius:"2px",style:l}}});return R.createElement("div",{style:p.picker,className:"alpha-picker "+d},R.createElement(O1,Q3({},p.alpha,{rgb:t,hsl:r,pointer:u,renderers:s,onChange:i,direction:a})))};function Z3(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}X3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=g1({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return R.createElement("div",{style:r.picker})}},U3(X3);function e4(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new y2;++t<r;)this.add(e[t])}function t4(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e4.prototype.add=e4.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},e4.prototype.has=function(e){return this.__data__.has(e)};var r4=1,n4=2;function o4(e,t,r,n,o,i){var a=r&r4,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=r&n4?new e4:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!t4(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||o(h,e,r,n,i)))return f.push(t);var a}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function i4(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function a4(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var l4=1,s4=2,u4="[object Boolean]",c4="[object Date]",d4="[object Error]",p4="[object Map]",f4="[object Number]",h4="[object RegExp]",g4="[object Set]",v4="[object String]",m4="[object Symbol]",y4="[object ArrayBuffer]",b4="[object DataView]",_4=M1?M1.prototype:void 0,x4=_4?_4.valueOf:void 0;var w4=Object.prototype.propertyIsEnumerable,O4=Object.getOwnPropertySymbols,S4=O4?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(O4(e),(function(t){return w4.call(e,t)})))}:function(){return[]};function k4(e){return function(e,t,r){var n=t(e);return z2(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Z5,S4)}var j4=1,E4=Object.prototype.hasOwnProperty;var C4=d2(R1,"DataView"),T4=d2(R1,"Promise"),q4=d2(R1,"Set"),I4=d2(R1,"WeakMap"),A4="[object Map]",L4="[object Promise]",P4="[object Set]",N4="[object WeakMap]",F4="[object DataView]",R4=n2(C4),M4=n2(p2),D4=n2(T4),V4=n2(q4),z4=n2(I4),B4=K1;(C4&&B4(new C4(new ArrayBuffer(1)))!=F4||p2&&B4(new p2)!=A4||T4&&B4(T4.resolve())!=L4||q4&&B4(new q4)!=P4||I4&&B4(new I4)!=N4)&&(B4=function(e){var t=K1(e),r="[object Object]"==t?e.constructor:void 0,n=r?n2(r):"";if(n)switch(n){case R4:return F4;case M4:return A4;case D4:return L4;case V4:return P4;case z4:return N4}return t});var H4=1,$4="[object Arguments]",U4="[object Array]",W4="[object Object]",K4=Object.prototype.hasOwnProperty;function G4(e,t,r,n,o,i){var a=z2(e),l=z2(t),s=a?U4:B4(e),u=l?U4:B4(t),c=(s=s==$4?W4:s)==W4,d=(u=u==$4?W4:u)==W4,p=s==u;if(p&&G2(e)){if(!G2(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new b2),a||s5(e)?o4(e,t,r,n,o,i):function(e,t,r,n,o,i,a){switch(r){case b4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y4:return!(e.byteLength!=t.byteLength||!i(new E2(e),new E2(t)));case u4:case c4:case f4:return I1(+e,+t);case d4:return e.name==t.name&&e.message==t.message;case h4:case v4:return e==t+"";case p4:var l=i4;case g4:var s=n&l4;if(l||(l=a4),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=s4,a.set(e,t);var c=o4(l(e),l(t),n,o,i,a);return a.delete(e),c;case m4:if(x4)return x4.call(e)==x4.call(t)}return!1}(e,t,s,r,n,o,i);if(!(r&H4)){var f=c&&K4.call(e,"__wrapped__"),h=d&&K4.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new b2),o(g,v,r,n,i)}}return!!p&&(i||(i=new b2),function(e,t,r,n,o,i){var a=r&j4,l=k4(e),s=l.length;if(s!=k4(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:E4.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,i))}function Y4(e,t,r,n,o){return e===t||(null==e||null==t||!N2(e)&&!N2(t)?e!=e&&t!=t:G4(e,t,r,n,Y4,o))}var J4=1,Q4=2;function X4(e){return e==e&&!G1(e)}function Z4(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function e6(e){var t=function(e){for(var t=Z5(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,X4(o)]}return t}(e);return 1==t.length&&t[0][2]?Z4(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var o=r.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=r[o])[0],s=e[l],u=a[1];if(a[2]){if(void 0===s&&!(l in e))return!1}else{var c=new b2;if(!Y4(u,s,J4|Q4,n,c))return!1}}return!0}(r,0,t)}}var t6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r6=/^\w*$/;function n6(e,t){if(z2(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!R5(e))||(r6.test(e)||!t6.test(e)||null!=t&&e in Object(t))}var o6="Expected a function";function i6(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o6);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(i6.Cache||y2),r}i6.Cache=y2;var a6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l6=/\\(\\)?/g,s6=function(e){var t=i6(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a6,(function(e,r,n,o){t.push(n?o.replace(l6,"$1"):r||e)})),t})),u6=1/0,c6=M1?M1.prototype:void 0,d6=c6?c6.toString:void 0;function p6(e){if("string"==typeof e)return e;if(z2(e))return Z3(e,p6)+"";if(R5(e))return d6?d6.call(e):"";var t=e+"";return"0"==t&&1/e==-u6?"-0":t}function f6(e,t){return z2(e)?e:n6(e,t)?[e]:s6(function(e){return null==e?"":p6(e)}(e))}var h6=1/0;function g6(e){if("string"==typeof e||R5(e))return e;var t=e+"";return"0"==t&&1/e==-h6?"-0":t}function v6(e,t){for(var r=0,n=(t=f6(t,e)).length;null!=e&&r<n;)e=e[g6(t[r++])];return r&&r==n?e:void 0}function m6(e,t){return null!=e&&t in Object(e)}function y6(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=f6(t,e)).length,i=!1;++n<o;){var a=g6(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&H2(o)&&h5(a,o)&&(z2(e)||V2(e))}(e,t,m6)}var b6=1,_6=2;function x6(e,t){return n6(e)&&X4(t)?Z4(g6(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:v6(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?y6(r,e):Y4(t,n,b6|_6)}}function w6(e){return n6(e)?(t=g6(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return v6(t,e)}}(e);var t}function O6(e,t){var r=-1,n=$2(e)?Array(e.length):[];return t3(e,(function(e,o,i){n[++r]=t(e,o,i)})),n}function S6(e,t){var r;return(z2(e)?Z3:O6)(e,"function"==typeof(r=t)?r:null==r?O5:"object"==typeof r?z2(r)?x6(r[0],r[1]):e6(r):w6(r))}var k6=function(e){var t=e.colors,r=e.onClick,n=e.onSwatchHover,o=g1({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return R.createElement("div",{style:o.swatches},S6(t,(function(e){return R.createElement(J3,{key:e,color:e,style:o.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),R.createElement("div",{style:o.clear}))},j6=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d="transparent"===n,p=function(e,r){V3(e)&&t({hex:e,source:"hex"},r)},f=g1(q5({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:z3(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},s),{"hide-triangle":"hide"===a});return R.createElement("div",{style:f.card,className:"block-picker "+c},R.createElement("div",{style:f.triangle}),R.createElement("div",{style:f.head},d&&R.createElement(b1,{borderRadius:"6px 6px 0 0"}),R.createElement("div",{style:f.label},n)),R.createElement("div",{style:f.body},R.createElement(k6,{colors:o,onClick:p,onSwatchHover:r}),R.createElement(E1,{style:{input:f.input},value:n,onChange:p})))};j6.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),colors:Gt.arrayOf(Gt.string),triangle:Gt.oneOf(["top","hide"]),styles:Gt.object},j6.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},U3(j6);var E6="#ffcdd2",C6="#e57373",T6="#f44336",q6="#d32f2f",I6="#b71c1c",A6="#f8bbd0",L6="#f06292",P6="#e91e63",N6="#c2185b",F6="#880e4f",R6="#e1bee7",M6="#ba68c8",D6="#9c27b0",V6="#7b1fa2",z6="#4a148c",B6="#d1c4e9",H6="#9575cd",$6="#673ab7",U6="#512da8",W6="#311b92",K6="#c5cae9",G6="#7986cb",Y6="#3f51b5",J6="#303f9f",Q6="#1a237e",X6="#bbdefb",Z6="#64b5f6",e8="#2196f3",t8="#1976d2",r8="#0d47a1",n8="#b3e5fc",o8="#4fc3f7",i8="#03a9f4",a8="#0288d1",l8="#01579b",s8="#b2ebf2",u8="#4dd0e1",c8="#00bcd4",d8="#0097a7",p8="#006064",f8="#b2dfdb",h8="#4db6ac",g8="#009688",v8="#00796b",m8="#004d40",y8="#c8e6c9",b8="#81c784",_8="#4caf50",x8="#388e3c",w8="#dcedc8",O8="#aed581",S8="#8bc34a",k8="#689f38",j8="#33691e",E8="#f0f4c3",C8="#dce775",T8="#cddc39",q8="#afb42b",I8="#827717",A8="#fff9c4",L8="#fff176",P8="#ffeb3b",N8="#fbc02d",F8="#f57f17",R8="#ffecb3",M8="#ffd54f",D8="#ffc107",V8="#ffa000",z8="#ff6f00",B8="#ffe0b2",H8="#ffb74d",$8="#ff9800",U8="#f57c00",W8="#e65100",K8="#ffccbc",G8="#ff8a65",Y8="#ff5722",J8="#e64a19",Q8="#bf360c",X8="#d7ccc8",Z8="#a1887f",e9="#795548",t9="#5d4037",r9="#3e2723",n9="#cfd8dc",o9="#90a4ae",i9="#607d8b",a9="#455a64",l9="#263238",s9=function(e){var t=e.color,r=e.onClick,n=e.onSwatchHover,o=e.hover,i=e.active,a=e.circleSize,l=e.circleSpacing,s=g1({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:i});return R.createElement("div",{style:s.swatch},R.createElement(J3,{style:s.Swatch,color:t,onClick:r,onHover:n,focusStyle:{boxShadow:s.Swatch.boxShadow+", 0 0 5px "+t}}))};s9.defaultProps={circleSize:28,circleSpacing:14};const u9=f1(s9);var c9=function(e){var t=e.width,r=e.onChange,n=e.onSwatchHover,o=e.colors,i=e.hex,a=e.circleSize,l=e.styles,s=void 0===l?{}:l,u=e.circleSpacing,c=e.className,d=void 0===c?"":c,p=g1(q5({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},s)),f=function(e,t){return r({hex:e,source:"hex"},t)};return R.createElement("div",{style:p.card,className:"circle-picker "+d},S6(o,(function(e){return R.createElement(u9,{key:e,color:e,onClick:f,onSwatchHover:n,active:i===e.toLowerCase(),circleSize:a,circleSpacing:u})})))};function d9(e){return void 0===e}c9.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),circleSize:Gt.number,circleSpacing:Gt.number,styles:Gt.object},c9.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[T6,P6,D6,$6,Y6,e8,i8,c8,g8,_8,S8,T8,P8,D8,$8,Y8,e9,i9],styles:{}},U3(c9);var p9={};Object.defineProperty(p9,"__esModule",{value:!0});var f9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h9=function(e){return e&&e.__esModule?e:{default:e}}(v);var g9=p9.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return h9.default.createElement("svg",f9({viewBox:"0 0 24 24",style:f9({fill:r,width:o,height:a},s)},u),h9.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},v9=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var m9=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?V3(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(d9(e.s)?r.props.hsl.s:e.s),l:Number(d9(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v9(t,[{key:"render",value:function(){var e=this,t=g1({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),R.createElement("div",{style:t.alpha},R.createElement(E1,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=R.createElement("div",{style:t.fields,className:"flexbox-fix"},R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),R.createElement("div",{style:t.field},R.createElement(E1,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),R.createElement("div",{style:t.alpha},R.createElement(E1,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),R.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,R.createElement("div",{style:t.toggle},R.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},R.createElement(g9,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(R.Component);m9.defaultProps={view:"hex"};var y9=function(){var e=g1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return R.createElement("div",{style:e.picker})},b9=function(){var e=g1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return R.createElement("div",{style:e.picker})},_9=function(e){var t=e.width,r=e.onChange,n=e.disableAlpha,o=e.rgb,i=e.hsl,a=e.hsv,l=e.hex,s=e.renderers,u=e.styles,c=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,f=e.defaultView,h=g1(q5({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:n});return R.createElement("div",{style:h.picker,className:"chrome-picker "+p},R.createElement("div",{style:h.saturation},R.createElement(Y5,{style:h.Saturation,hsl:i,hsv:a,pointer:b9,onChange:r})),R.createElement("div",{style:h.body},R.createElement("div",{style:h.controls,className:"flexbox-fix"},R.createElement("div",{style:h.color},R.createElement("div",{style:h.swatch},R.createElement("div",{style:h.active}),R.createElement(b1,{renderers:s}))),R.createElement("div",{style:h.toggles},R.createElement("div",{style:h.hue},R.createElement(q1,{style:h.Hue,hsl:i,pointer:y9,onChange:r})),R.createElement("div",{style:h.alpha},R.createElement(O1,{style:h.Alpha,rgb:o,hsl:i,pointer:y9,renderers:s,onChange:r})))),R.createElement(m9,{rgb:o,hsl:i,hex:l,view:f,onChange:r,disableAlpha:n})))};_9.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),disableAlpha:Gt.bool,styles:Gt.object,defaultView:Gt.oneOf(["hex","rgb","hsl"])},_9.defaultProps={width:225,disableAlpha:!1,styles:{}};const x9=U3(_9);var w9=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.active,a=g1({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:z3(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return R.createElement(J3,{style:a.color,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},R.createElement("div",{style:a.dot}))},O9=function(e){var t=e.hex,r=e.rgb,n=e.onChange,o=g1({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(e,t){e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return R.createElement("div",{style:o.fields,className:"flexbox-fix"},R.createElement("div",{style:o.active}),R.createElement(E1,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:i}),R.createElement(E1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:i}),R.createElement(E1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:i}),R.createElement(E1,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:i}))},S9=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.colors,o=e.hex,i=e.rgb,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=g1(q5({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(e,r){e.hex?V3(e.hex)&&t({hex:e.hex,source:"hex"},r):t(e,r)};return R.createElement(I5,{style:c.Compact,styles:l},R.createElement("div",{style:c.compact,className:"compact-picker "+u},R.createElement("div",null,S6(n,(function(e){return R.createElement(w9,{key:e,color:e,active:e.toLowerCase()===o,onClick:d,onSwatchHover:r})})),R.createElement("div",{style:c.clear})),R.createElement(O9,{hex:o,rgb:i,onChange:d})))};S9.propTypes={colors:Gt.arrayOf(Gt.string),styles:Gt.object},S9.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},U3(S9);const k9=f1((function(e){var t=e.hover,r=e.color,n=e.onClick,o=e.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=g1({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:t});return R.createElement("div",{style:a.swatch},R.createElement(J3,{color:r,onClick:n,onHover:o,focusStyle:i}))}));var j9=function(e){var t=e.width,r=e.colors,n=e.onChange,o=e.onSwatchHover,i=e.triangle,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=g1(q5({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),d=function(e,t){return n({hex:e,source:"hex"},t)};return R.createElement("div",{style:c.card,className:"github-picker "+u},R.createElement("div",{style:c.triangleShadow}),R.createElement("div",{style:c.triangle}),S6(r,(function(e){return R.createElement(k9,{color:e,key:e,onClick:d,onSwatchHover:o})})))};j9.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),colors:Gt.arrayOf(Gt.string),triangle:Gt.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Gt.object},j9.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},U3(j9);var E9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C9=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.hsl,i=e.direction,a=e.pointer,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=g1(q5({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},s));return R.createElement("div",{style:d.picker,className:"hue-picker "+c},R.createElement(q1,E9({},d.hue,{hsl:o,pointer:a,onChange:function(e){return n({a:1,h:e.h,l:.5,s:1})},direction:i})))};C9.propTypes={styles:Gt.object},C9.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=g1({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return R.createElement("div",{style:r.picker})},styles:{}},U3(C9);U3((function(e){var t=e.onChange,r=e.hex,n=e.rgb,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=g1(q5({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),u=function(e,r){e.hex?V3(e.hex)&&t({hex:e.hex,source:"hex"},r):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r)};return R.createElement(I5,{styles:i},R.createElement("div",{style:s.material,className:"material-picker "+l},R.createElement(E1,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),R.createElement("div",{style:s.split,className:"flexbox-fix"},R.createElement("div",{style:s.third},R.createElement(E1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u})),R.createElement("div",{style:s.third},R.createElement(E1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u})),R.createElement("div",{style:s.third},R.createElement(E1,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u})))))}));var T9=function(e){var t=e.onChange,r=e.rgb,n=e.hsv,o=e.hex,i=g1({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,o){e["#"]?V3(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},o)};return R.createElement("div",{style:i.fields},R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(n.h),onChange:a}),R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:a}),R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:a}),R.createElement("div",{style:i.divider}),R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:a}),R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:a}),R.createElement(E1,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:a}),R.createElement("div",{style:i.divider}),R.createElement(E1,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),R.createElement("div",{style:i.fieldSymbols},R.createElement("div",{style:i.symbol},"°"),R.createElement("div",{style:i.symbol},"%"),R.createElement("div",{style:i.symbol},"%")))},q9=function(e){var t=e.hsl,r=g1({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return R.createElement("div",{style:r.picker})},I9=function(){var e=g1({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return R.createElement("div",{style:e.pointer},R.createElement("div",{style:e.left},R.createElement("div",{style:e.leftInside})),R.createElement("div",{style:e.right},R.createElement("div",{style:e.rightInside})))},A9=function(e){var t=e.onClick,r=e.label,n=e.children,o=e.active,i=g1({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return R.createElement("div",{style:i.button,onClick:t},r||n)},L9=function(e){var t=e.rgb,r=e.currentColor,n=g1({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return R.createElement("div",null,R.createElement("div",{style:n.label},"new"),R.createElement("div",{style:n.swatches},R.createElement("div",{style:n.new}),R.createElement("div",{style:n.current})),R.createElement("div",{style:n.label},"current"))},P9=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var N9=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:e.hex},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P9(t,[{key:"render",value:function(){var e=this.props,t=e.styles,r=void 0===t?{}:t,n=e.className,o=void 0===n?"":n,i=g1(q5({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return R.createElement("div",{style:i.picker,className:"photoshop-picker "+o},R.createElement("div",{style:i.head},this.props.header),R.createElement("div",{style:i.body,className:"flexbox-fix"},R.createElement("div",{style:i.saturation},R.createElement(Y5,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:q9,onChange:this.props.onChange})),R.createElement("div",{style:i.hue},R.createElement(q1,{direction:"vertical",hsl:this.props.hsl,pointer:I9,onChange:this.props.onChange})),R.createElement("div",{style:i.controls},R.createElement("div",{style:i.top,className:"flexbox-fix"},R.createElement("div",{style:i.previews},R.createElement(L9,{rgb:this.props.rgb,currentColor:this.state.currentColor})),R.createElement("div",{style:i.actions},R.createElement(A9,{label:"OK",onClick:this.props.onAccept,active:!0}),R.createElement(A9,{label:"Cancel",onClick:this.props.onCancel}),R.createElement(T9,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(R.Component);N9.propTypes={header:Gt.string,styles:Gt.object},N9.defaultProps={header:"Color Picker",styles:{}},U3(N9);var F9=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.disableAlpha,a=g1({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),l=function(e,o){e.hex?V3(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},o))};return R.createElement("div",{style:a.fields,className:"flexbox-fix"},R.createElement("div",{style:a.double},R.createElement(E1,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),R.createElement("div",{style:a.single},R.createElement(E1,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.single},R.createElement(E1,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.single},R.createElement(E1,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),R.createElement("div",{style:a.alpha},R.createElement(E1,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*r.a),onChange:l,dragLabel:"true",dragMax:"100"})))},R9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M9=function(e){var t=e.colors,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=g1({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){n({hex:e,source:"hex"},t)};return R.createElement("div",{style:i.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,r=""+t.color+(t.title||"");return R.createElement("div",{key:r,style:i.swatchWrap},R.createElement(J3,R9({},t,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};M9.propTypes={colors:Gt.arrayOf(Gt.oneOfType([Gt.string,Gt.shape({color:Gt.string,title:Gt.string})])).isRequired};var D9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V9=function(e){var t=e.width,r=e.rgb,n=e.hex,o=e.hsv,i=e.hsl,a=e.onChange,l=e.onSwatchHover,s=e.disableAlpha,u=e.presetColors,c=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,h=void 0===f?"":f,g=g1(q5({default:D9({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:s});return R.createElement("div",{style:g.picker,className:"sketch-picker "+h},R.createElement("div",{style:g.saturation},R.createElement(Y5,{style:g.Saturation,hsl:i,hsv:o,onChange:a})),R.createElement("div",{style:g.controls,className:"flexbox-fix"},R.createElement("div",{style:g.sliders},R.createElement("div",{style:g.hue},R.createElement(q1,{style:g.Hue,hsl:i,onChange:a})),R.createElement("div",{style:g.alpha},R.createElement(O1,{style:g.Alpha,rgb:r,hsl:i,renderers:c,onChange:a}))),R.createElement("div",{style:g.color},R.createElement(b1,null),R.createElement("div",{style:g.activeColor}))),R.createElement(F9,{rgb:r,hsl:i,hex:n,onChange:a,disableAlpha:s}),R.createElement(M9,{colors:u,onClick:a,onSwatchHover:l}))};V9.propTypes={disableAlpha:Gt.bool,width:Gt.oneOfType([Gt.string,Gt.number]),styles:Gt.object},V9.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},U3(V9);var z9=function(e){var t=e.hsl,r=e.offset,n=e.onClick,o=void 0===n?function(){}:n,i=e.active,a=e.first,l=e.last,s=g1({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:l});return R.createElement("div",{style:s.swatch,onClick:function(e){return o({h:t.h,s:.5,l:r,source:"hsl"},e)}})},B9=function(e){var t=e.onClick,r=e.hsl,n=g1({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return R.createElement("div",{style:n.swatches},R.createElement("div",{style:n.swatch},R.createElement(z9,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),R.createElement("div",{style:n.swatch},R.createElement(z9,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(z9,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(z9,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),R.createElement("div",{style:n.swatch},R.createElement(z9,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),R.createElement("div",{style:n.clear}))},H9=function(e){var t=e.hsl,r=e.onChange,n=e.pointer,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=g1(q5({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return R.createElement("div",{style:s.wrap||{},className:"slider-picker "+l},R.createElement("div",{style:s.hue},R.createElement(q1,{style:s.Hue,hsl:t,pointer:n,onChange:r})),R.createElement("div",{style:s.swatches},R.createElement(B9,{hsl:t,onClick:r})))};H9.propTypes={styles:Gt.object},H9.defaultProps={pointer:function(){var e=g1({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return R.createElement("div",{style:e.picker})},styles:{}},U3(H9);var $9={};Object.defineProperty($9,"__esModule",{value:!0});var U9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W9=function(e){return e&&e.__esModule?e:{default:e}}(v);var K9=$9.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return W9.default.createElement("svg",U9({viewBox:"0 0 24 24",style:U9({fill:r,width:o,height:a},s)},u),W9.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},G9=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.first,a=e.last,l=e.active,s=g1({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:z3(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return R.createElement(J3,{color:t,style:s.color,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},R.createElement("div",{style:s.check},R.createElement(K9,null)))},Y9=function(e){var t=e.onClick,r=e.onSwatchHover,n=e.group,o=e.active,i=g1({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return R.createElement("div",{style:i.group},S6(n,(function(e,i){return R.createElement(G9,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===n.length-1,onClick:t,onSwatchHover:r})})))},J9=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=g1(q5({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},s)),p=function(e,t){return n({hex:e,source:"hex"},t)};return R.createElement("div",{style:d.picker,className:"swatches-picker "+c},R.createElement(I5,null,R.createElement("div",{style:d.overflow},R.createElement("div",{style:d.body},S6(i,(function(e){return R.createElement(Y9,{key:e.toString(),group:e,active:a,onClick:p,onSwatchHover:o})})),R.createElement("div",{style:d.clear})))))};J9.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),height:Gt.oneOfType([Gt.string,Gt.number]),colors:Gt.arrayOf(Gt.arrayOf(Gt.string)),styles:Gt.object},J9.defaultProps={width:320,height:240,colors:[[I6,q6,T6,C6,E6],[F6,N6,P6,L6,A6],[z6,V6,D6,M6,R6],[W6,U6,$6,H6,B6],[Q6,J6,Y6,G6,K6],[r8,t8,e8,Z6,X6],[l8,a8,i8,o8,n8],[p8,d8,c8,u8,s8],[m8,v8,g8,h8,f8],["#194D33",x8,_8,b8,y8],[j8,k8,S8,O8,w8],[I8,q8,T8,C8,E8],[F8,N8,P8,L8,A8],[z8,V8,D8,M8,R8],[W8,U8,$8,H8,B8],[Q8,J8,Y8,G8,K8],[r9,t9,e9,Z8,X8],[l9,a9,i9,o9,n9],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},U3(J9);var Q9=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=g1(q5({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},s),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),p=function(e,r){V3(e)&&t({hex:e,source:"hex"},r)};return R.createElement("div",{style:d.card,className:"twitter-picker "+c},R.createElement("div",{style:d.triangleShadow}),R.createElement("div",{style:d.triangle}),R.createElement("div",{style:d.body},S6(o,(function(e,t){return R.createElement(J3,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),R.createElement("div",{style:d.hash},"#"),R.createElement(E1,{label:null,style:{input:d.input},value:n.replace("#",""),onChange:p}),R.createElement("div",{style:d.clear})))};Q9.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),triangle:Gt.oneOf(["hide","top-left","top-right"]),colors:Gt.arrayOf(Gt.string),styles:Gt.object},Q9.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},U3(Q9);var X9=function(e){var t=g1({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return R.createElement("div",{style:t.picker})};X9.propTypes={hsl:Gt.shape({h:Gt.number,s:Gt.number,l:Gt.number,a:Gt.number})},X9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Z9=function(e){var t=g1({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return R.createElement("div",{style:t.picker})};Z9.propTypes={hsl:Gt.shape({h:Gt.number,s:Gt.number,l:Gt.number,a:Gt.number})},Z9.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var e7=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.hsv,a=function(e,r){if(e.hex)V3(e.hex)&&t({hex:e.hex,source:"hex"},r);else if(e.rgb){var n=e.rgb.split(",");B3(e.rgb,"rgb")&&t({r:n[0],g:n[1],b:n[2],a:1,source:"rgb"},r)}else if(e.hsv){var o=e.hsv.split(",");B3(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},r))}else if(e.hsl){var i=e.hsl.split(",");B3(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==c[1]?c[1]=.01:1==c[2]&&(c[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},r))}},l=g1({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),s=r.r+", "+r.g+", "+r.b,u=Math.round(n.h)+"°, "+Math.round(100*n.s)+"%, "+Math.round(100*n.l)+"%",c=Math.round(i.h)+"°, "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return R.createElement("div",{style:l.wrap,className:"flexbox-fix"},R.createElement("div",{style:l.fields},R.createElement("div",{style:l.double},R.createElement(E1,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),R.createElement("div",{style:l.column},R.createElement("div",{style:l.single},R.createElement(E1,{style:{input:l.input2,label:l.label2},label:"rgb",value:s,onChange:a})),R.createElement("div",{style:l.single},R.createElement(E1,{style:{input:l.input2,label:l.label2},label:"hsv",value:c,onChange:a})),R.createElement("div",{style:l.single},R.createElement(E1,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},t7=function(e){var t=e.width,r=e.onChange,n=e.rgb,o=e.hsl,i=e.hsv,a=e.hex,l=e.header,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=g1(q5({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return R.createElement("div",{style:p.picker,className:"google-picker "+d},R.createElement("div",{style:p.head},l),R.createElement("div",{style:p.swatch}),R.createElement("div",{style:p.saturation},R.createElement(Y5,{hsl:o,hsv:i,pointer:X9,onChange:r})),R.createElement("div",{style:p.body},R.createElement("div",{style:p.controls,className:"flexbox-fix"},R.createElement("div",{style:p.hue},R.createElement(q1,{style:p.Hue,hsl:o,radius:"4px",pointer:Z9,onChange:r}))),R.createElement(e7,{rgb:n,hsl:o,hex:a,hsv:i,onChange:r})))};t7.propTypes={width:Gt.oneOfType([Gt.string,Gt.number]),styles:Gt.object,header:Gt.string},t7.defaultProps={width:652,styles:{},header:"Color picker"},U3(t7);const r7=["Merriweather","Roboto","Open Sans","Lato","Poppins","Raleway","Rubik","Times New Roman","Arial","Courier New","Georgia"];function n7({t:e}){const t=Ct("design"),r=ut(),n=ct((e=>e.designState.Survey.theme));function o(e,t){if("font"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{font:t}),e.question=p(p({},e.question),{},{font:t}),e.text=p(p({},e.text),{},{font:t}),r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("textColor"===e){const e=p({},n.textStyles);e.group=p(p({},e.group),{},{color:t}),e.question=p(p({},e.question),{},{color:t}),e.text=p(p({},e.text),{},{color:t}),r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{textStyles:e})}))}else if("bgColor"===e){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(e){const t=e[1],o=e[2],i=e[3];let a=e[4];a&&"0"!==a&&"0.0"!==a||(a="1");const l=`rgba(${t}, ${o}, ${i}, ${a})`;r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:l})}))}else r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:t})}))}else r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{[e]:t})}))}const i=vn(),a=vn(),l=vn(),s=vn(),u=()=>{i.onFalse(),a.onFalse(),l.onFalse(),s.onFalse()},c=v.useRef(),d=v.useRef(),f=v.useRef(),h=v.useRef();function g(e,t){v.useEffect((()=>{function r(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t])}g(c,u),g(d,u),g(f,u),g(h,u);const m=e=>{e.value?e.onFalse():(u(),e.onToggle())},y=ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),b=ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));return j.jsxs("div",{className:e0,children:[j.jsxs("span",{className:n0,children:[" ",e("font")]}),j.jsx(Ut,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:me,size:"small",className:o0,value:n.textStyles.group.font,onChange:e=>o("font",e.target.value),children:r7&&r7.length>0&&r7.map(((e,t)=>j.jsx(Wt,{sx:{fontFamily:e},value:e,children:e},`fontFamily-${t}`)))},"fontFamily"),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("group_title")}),j.jsx(s0,{value:n.textStyles.group,default:dr.textStyles.group,onChange:e=>{o("textStyles",p(p({},n.textStyles),{},{group:e}))}},"group")]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("question_title")}),j.jsx(s0,{value:n.textStyles.question,default:dr.textStyles.question,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{question:e}))},"question")]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("theme_text")}),j.jsx(s0,{value:n.textStyles.text,default:dr.textStyles.text,onChange:e=>o("textStyles",p(p({},n.textStyles),{},{text:e}))},"text")]}),j.jsx("hr",{}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("highlight_color")}),j.jsx(St,{onClick:()=>m(i),style:{backgroundColor:n.primaryColor},className:i0}),i.value&&j.jsxs(P,{ref:c,className:a0,children:[j.jsx(Ae,{onClick:()=>m(i),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(ce,{})}),j.jsx(x9,{color:n.primaryColor,onChange:e=>{o("primaryColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("background_color")}),j.jsx(St,{onClick:()=>m(a),style:{backgroundColor:n.bgColor},className:i0}),a.value&&j.jsxs(P,{ref:d,className:a0,children:[j.jsx(Ae,{onClick:()=>m(a),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(ce,{})}),j.jsx(x9,{color:n.bgColor,onChange:e=>{o("bgColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("foreground_color")}),j.jsx(St,{onClick:()=>m(l),style:{backgroundColor:n.paperColor},className:i0}),l.value&&j.jsxs(P,{ref:f,className:a0,children:[j.jsx(Ae,{onClick:()=>m(l),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(ce,{})}),j.jsx(x9,{color:n.paperColor,onChange:e=>{o("paperColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("text_color")}),j.jsx(St,{onClick:()=>m(s),style:{backgroundColor:n.textStyles.group.color},className:i0}),s.value&&j.jsxs(P,{ref:h,className:a0,children:[j.jsx(Ae,{onClick:()=>m(s),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(ce,{})}),j.jsx(x9,{color:n.textStyles.group.color,onChange:e=>{o("textColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("upload_banner")}),j.jsxs(St,{component:"label",className:t0,children:[j.jsx(Lr,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let n=e.target.files[0];t.uploadResource(n).then((e=>{r(Tt({code:"Survey",key:"headerImage",value:e.name}))})).catch((e=>{console.error(e)}))}})]}),b&&j.jsx(Ae,{className:r0,onClick:()=>{r(Tt({code:"Survey",key:"headerImage",value:null}))},children:j.jsx(pr,{})})]}),j.jsxs(cr,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[j.jsx(Me,{variant:"subtitle2",alignSelf:"center",children:e("upload_background")}),j.jsxs(St,{component:"label",className:t0,children:[j.jsx(Lr,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let o=e.target.files[0];t.uploadResource(o).then((e=>{r(Tt({code:"Survey",key:"backgroundImage",value:e.name})),r(Bt({code:"Survey",key:"theme",value:p(p({},n),{},{bgColor:"rgba(0, 0, 0, 0)"})}))})).catch((e=>{console.error(e)}))}})]}),y&&j.jsx(Ae,{className:r0,onClick:()=>{r(Tt({code:"Survey",key:"backgroundImage",value:null}))},children:j.jsx(pr,{})})]})]})}const o7=R.memo((function({t:e}){const t=ut(),r=v.useCallback((e=>{t(fr(e))})),n=M(),o=Sr([e=>e.designState.setup||{}],(e=>{var t;return{code:e.code,expanded:e.expanded,highlighted:e.highlighted,rules:e.rules,isSingleRule:1===(null===(t=e.rules)||void 0===t?void 0:t.length)}})),i=ct(o),a=i.code,l=i.expanded,s=i.highlighted,u=i.rules,c=i.isSingleRule;return j.jsxs("div",{className:vZ.rightContent,style:{left:"rtl"==n.direction?"0px":""},children:[j.jsx("div",{className:vZ.close,children:j.jsx(Ae,{onClick:()=>{t(hr())},children:j.jsx(ce,{})})}),null==u?void 0:u.map((t=>j.jsx(a7,{expanded:(null==l?void 0:l.includes(t.key))||c||!1,isSingleRule:c,code:a,t:e,toggleExpand:r,highlighted:t.key==s,rule:t},a+t.title)))]})})),i7=R.memo((({code:e,rule:t,t:r})=>{if(t.startsWith("validation_"))return j.jsx(Lx,{t:r,rule:t,code:e},e+t);switch(t){case"theme":return j.jsx(n7,{t:r},e+t);case"language":return j.jsx(ye,{t:r},e+t);case"maxChars":return j.jsx(xx,{label:r("text_field_size"),rule:t,lowerBound:1,t:r,upperBound:500,defaultValue:20,code:e},e+t);case"minRows":return j.jsx(xx,{label:r("textarea_lines"),lowerBound:1,t:r,upperBound:500,code:e,defaultValue:20},e+t);case"hideText":return j.jsx(Nx,{label:r("hide_text"),rule:t,code:e},e+t);case"showDescription":return j.jsx(Nx,{label:r("show_description"),rule:t,code:e},e+t);case"showWordCount":return j.jsx(Nx,{label:r("show_word_count"),rule:t,code:e},e+t);case"navigationMode":return j.jsx(ZZ,{},e+t);case"allowPrevious":return j.jsx(Nx,{label:r("allow_previous"),rule:t,code:e},e+t);case"allowIncomplete":return j.jsx(Nx,{label:r("allow_incomplete"),rule:t,code:e},e+t);case"allowJump":return j.jsx(Nx,{label:r("allow_jump"),rule:t,code:e},e+t);case"skipInvalid":return j.jsx(Nx,{label:r("skip_invalid"),rule:t,code:e},e+t);case"hint":return j.jsx(Ox,{t:r,code:e},e+t);case"lower_bound_hint":return j.jsx(Sx,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:e},e+t);case"higher_bound_hint":return j.jsx(Sx,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:e},e+t);case"loop":return j.jsx(Nx,{rule:t,code:e,label:r("loop_video")},e+t);case"audio_only":return j.jsx(Nx,{rule:t,code:e,label:r("audio_only")},e+t);case"fullDayFormat":return j.jsx(Nx,{rule:t,code:e,label:r("fullday_format")},e+t);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return j.jsx(XZ,{t:r,rule:t,code:e},e+t);case"maxDate":return j.jsx(Vx,{lowerBound:1,code:e,label:r("max_date"),rule:t},e+t);case"minDate":return j.jsx(Vx,{label:r("min_date"),rule:t,code:e},e+t);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return j.jsx(Rx,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:t,code:e},e+t);case"decimal_separator":const o=["",",","."],i=[r("no_decimals_allowed"),",","."];return j.jsx(Rx,{values:o,labels:i,defaultValue:"",label:r("decimal_separator"),rule:t,code:e},e+t);case"imageAspectRatio":const a=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],l=[1,1.7778,1.3333,1.5,.562,.75,.6667];return j.jsx(Rx,{values:l,labels:a,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:t,code:e},e+t);case"reorder_setup":const s=[r("collapse_groups"),r("collapse_questions")],u=["collapse_groups","collapse_questions"];return j.jsx(Rx,{values:u,labels:s,defaultValue:"collapse_none",label:r("order_mode"),rule:t,code:e},e+t);case"iconSize":const c=["50","100","150","200"];return j.jsx(Rx,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:t,code:e},e+t);case"columns":const d=["1","2","3","4","6"];return j.jsx(Rx,{values:d,defaultValue:"2",label:r("columns_number"),rule:t,code:e},e+t);case"imageHeight":return j.jsx(xx,{label:r("image_height"),lowerBound:50,upperBound:500,t:r,code:e,defaultValue:250,rule:t},e+t);case"spacing":return j.jsx(xx,{label:r("spacing"),lowerBound:2,upperBound:32,code:e,t:r,defaultValue:8,rule:t},e+t);case"skip_logic":return j.jsx(fZ,{t:r,code:e},e+t);case"relevance":return j.jsx(lZ,{t:r,code:e},e+t);default:return""}})),a7=R.memo((({expanded:e,highlighted:t,code:r,rule:n,isSingleRule:o,t:i,toggleExpand:a})=>j.jsxs(nn,{expanded:e,className:vZ.accordionStyle,slotProps:{transition:{unmountOnExit:!0}},children:[j.jsx(on,{onClick:()=>a(n.key),className:vZ.setupHeader,expandIcon:o?null:j.jsx(an,{}),children:j.jsx("span",{className:vZ.sectionTitle,children:i(n.title)})}),j.jsx(ln,{sx:{backgroundColor:t?"#fff":"background.paper"},children:n.rules.map((e=>j.jsx(i7,{code:r,rule:e,t:i},e)))})]})));const l7=R.memo((function({t:e}){const t=ct((e=>{var t;return((null===(t=e.designState)||void 0===t?void 0:t.designMode)||Lt.DESIGN)==Lt.DESIGN&&(!e.designState.setup||0==Object.keys(e.designState.setup))})),r=ct((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}})),n=Object.keys(r).length>0;return M(),j.jsxs(P,{sx:{width:"22rem",flex:"0 0 auto"},children:[t&&j.jsx(gr,{t:e}),n&&j.jsx(o7,{t:e})]})}));var s7={},u7=L;Object.defineProperty(s7,"__esModule",{value:!0});var c7=s7.default=void 0,d7=u7(lt()),p7=j;c7=s7.default=(0,d7.default)((0,p7.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");var f7={},h7=L;Object.defineProperty(f7,"__esModule",{value:!0});var g7=f7.default=void 0,v7=h7(lt()),m7=j;g7=f7.default=(0,v7.default)((0,m7.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz");u("default",R.memo((function(){const e=st(["design","run"]),t=e.t,r=e.i18n.cloneInstance(),n=v.useRef(null),o=h(R.useState(!1),2),i=o[0],a=o[1],l=v.useRef(),s=ct((e=>e.designState.langInfo)),u=ut(),c=ct((e=>e.designState.designMode)),d=null==s?void 0:s.lang,f=ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t?void 0:t.theme}));v.useEffect((()=>{var e;n.current&&(e=d,new Promise(((t,o)=>{const i=_t.includes(e)?"rtl":"ltr",a=n.current;a.dir!=i&&(a.dir=i),a.scrollTop=0,e&&r&&e!=r.language&&r.changeLanguage(e),t()})))}),[d,n]);const g=v.useMemo((()=>vr(d)),[d]),m=R.useCallback(J(p(p({},mr(f)),{},{direction:_t.includes(d)?"rtl":"ltr"})),[f]),y=ct((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),b=y?{backgroundImage:`url(${Or(y)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return j.jsx(P,{className:qi.mainContainer,ref:l,sx:b,children:j.jsxs(jr,{backend:Er()?Cr:Tr,children:[j.jsx(l7,{t:t}),j.jsx(Q,{value:g,children:j.jsx(Zt,{theme:m,children:j.jsx(X,{i18n:r,children:j.jsx(bx,{designMode:c,ref:n,className:qi.contentPanel})})})}),j.jsx(b7,{onCancel:()=>{u(hr())},designMode:c,t:t}),j.jsx(y7,{t:t,designMode:c,optionsOpen:i,setOptionsOpen:a})]})})})));function y7({setOptionsOpen:e,optionsOpen:t,designMode:r,t:n}){const o=ut(),i=[{icon:j.jsx(c7,{}),name:n("translation"),onClick:()=>{e(!1),o(yr())}},{icon:j.jsx(Ti,{}),name:n("theme"),onClick:()=>{e(!1),o(br())}},{icon:j.jsx(xt,{name:"sort"}),name:n("reorder"),onClick:()=>{e(!1),o(_r())}}];return r==Lt.DESIGN&&j.jsxs(j.Fragment,{children:[j.jsx(xr,{style:{zIndex:1},open:t}),j.jsx(fi,{open:t,onClick:()=>e(!t),ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:"16px",right:"16px"},icon:j.jsx(ji,{icon:j.jsx(g7,{}),openIcon:j.jsx(ce,{})}),children:i.map((e=>j.jsx(_i,{onClick:e.onClick,icon:e.icon,tooltipOpen:!0,tooltipTitle:e.name},e.name)))})]})}function b7({designMode:e,onCancel:t,t:r}){const n=wr();return e!=Lt.DESIGN&&j.jsx(te,{sx:{borderRadius:"48px",height:"48px",fontSize:"24px",padding:"8px"},style:n?{position:"absolute",bottom:"16px",left:"16px"}:{position:"absolute",bottom:"16px",right:"16px"},label:r("back_to_design"),icon:j.jsx(Ei,{}),color:"primary",onClick:t})}}}}))}();
