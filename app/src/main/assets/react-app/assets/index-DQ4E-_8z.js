const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DateTimeQuestion-Bsp8Ywnt.js","assets/index-DrdL8HT2.js","assets/index-CL9R7XXV.css","assets/index-28aGDAU3.js","assets/dayjs.min-CQ9Dil70.js","assets/use-service-0Fq5u1zn.js","assets/use-service-CgUq6kjZ.css","assets/DateTimePicker-CgAJH2CQ.js","assets/Tabs-CzcAv-q5.js","assets/InputAdornment-BRaI75ZV.js","assets/TextField-DRWs31uB.js","assets/DatePicker-DfxqSubC.js","assets/DateTimeQuestion-B594QKUB.css","assets/Scq-CpCEM-hT.js","assets/RadioGroup-BNMeAdus.js","assets/RadioGroupContext-CfCEyyF4.js","assets/FormGroup-D-acla1V.js","assets/FormControlLabel-DFbM1-QV.js","assets/Radio-Btfvo5ZN.js","assets/SwitchBase-9pSiC_Cg.js","assets/radioClasses-CNZTtMI3.js","assets/isTouchDevice-CHtK4r2d.js","assets/common-5BhfyGYi.js","assets/CardMedia-CIEe5zwn.js","assets/Card-Dppxln-L.js","assets/Toolbar-CWuxDDNF.js","assets/SCQArray-8gq3cVfh.js","assets/TableRow-BbZSZcIZ.js","assets/TableCell-DKckLh6O.js","assets/tableRowClasses-Dzs-lpCH.js","assets/TableHead-CWmtQXfJ.js","assets/Signature-Bznm6oCq.js","assets/Signature-CMHCGb28.css","assets/PhotoCapture-DfeuE-UV.js","assets/PhotoCapture-BFqZZm7P.css","assets/VideoCapture-0aZ4QnBx.js","assets/index-xyd4yAx9.js","assets/Mcq-Bn96JsGP.js","assets/Checkbox-DbTDcKnM.js","assets/NumberQuestion-Blo4362h.js","assets/NumberQuestion-B7jPApxo.css","assets/TextQuestion-Cctk76ZR.js","assets/TextQuestion-CikwH2ir.css","assets/VideoDisplay-CoZEYdcD.js","assets/ImageDisplay-C1cQjiLf.js","assets/ImageRanking-DqEL-Oms.js","assets/ImageRanking-q-s29UE-.css","assets/ParagraphQuestion-DQ0lBzCe.js","assets/ParagraphQuestion-DvEknHPk.css","assets/Barcode-B03ouiIc.js","assets/EmailQuestion-Bh9B30je.js","assets/EmailQuestion-BifmO9bt.css","assets/ImageScq-DC6Ltl4H.js","assets/ImageScq-twdsAvoA.css","assets/ImageMcq-DfJ-b40K.js","assets/ImageMcq-CZOv3YTx.css","assets/Ranking-Bf_3Z5fD.js","assets/useDrop-DSjUcWFC.js","assets/Ranking-C22YgBJE.css","assets/NPS-BfgUAbP3.js","assets/NPS-BS-9sB_6.css","assets/FileUpload-Djvghd13.js","assets/Link-CSiWj_D0.js","assets/IconScq-BARxpBeE.js","assets/index-Cv9cUi3I.js","assets/index-C9i5xVxU.css","assets/IconScq-XOquJP7F.css","assets/IconMcq--UqgBbId.js","assets/SCQIconArray-DzpiE1N_.js"])))=>i.map(i=>d[i]);
import{f as Le,ak as qe,ae as ze,r as h,b as ie,j as t,_ as D,h as K,d as U,B as q,R as g,z as x,A as ge,y as be,q as Ne,t as Ae,x as Oe,s as Ve,C as $e}from"./index-DrdL8HT2.js";import{w as W,b as Me,a_ as Be,aZ as Ie,bg as He,bh as Qe,bi as _e,f as ue,aM as We,l as Fe,h as Ge,j as Ue,z as Ye,c as Xe,bj as Je,M as te,H as f,bk as Z,ap as ee,aS as C,U as F,aD as se,bl as Ke,bm as Ze,bn as et,bd as tt,bo as fe,T as ce,I as De,aO as nt,K as ot,ax as at,S as rt,bp as it,N as xe,R as st,bq as ve,br as B,bs as ct,bt as he,bu as lt,bv as ut,av as dt,ar as mt,_ as gt,as as _t,at as ft,aN as H,bw as xt}from"./use-service-0Fq5u1zn.js";import{E as vt,c as ht,D as pt,i as yt,T as jt,H as Et}from"./isTouchDevice-CHtK4r2d.js";import{b as Te}from"./common-5BhfyGYi.js";import{C as Ct}from"./CardMedia-CIEe5zwn.js";import{C as St}from"./Card-Dppxln-L.js";import{T as bt}from"./Toolbar-CWuxDDNF.js";const It=Le("MuiBox",["root"]),pe=qe({defaultClassName:It.root,generateClassName:ze.generate}),Dt=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Tt(e,o,a){const n=o.getBoundingClientRect(),r=a&&a.getBoundingClientRect(),i=Ie(o);let c;if(o.fakeTransform)c=o.fakeTransform;else{const m=i.getComputedStyle(o);c=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let d=0,s=0;if(c&&c!=="none"&&typeof c=="string"){const m=c.split("(")[1].split(")")[0].split(",");d=parseInt(m[4],10),s=parseInt(m[5],10)}return e==="left"?r?"translateX(".concat(r.right+d-n.left,"px)"):"translateX(".concat(i.innerWidth+d-n.left,"px)"):e==="right"?r?"translateX(-".concat(n.right-r.left-d,"px)"):"translateX(-".concat(n.left+n.width-d,"px)"):e==="up"?r?"translateY(".concat(r.bottom+s-n.top,"px)"):"translateY(".concat(i.innerHeight+s-n.top,"px)"):r?"translateY(-".concat(n.top-r.top+n.height-s,"px)"):"translateY(-".concat(n.top+n.height-s,"px)")}function Rt(e){return typeof e=="function"?e():e}function Y(e,o,a){const n=Rt(a),r=Tt(e,o,n);r&&(o.style.webkitTransform=r,o.style.transform=r)}const kt=h.forwardRef(function(o,a){const n=W(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:c,appear:d=!0,children:s,container:m,direction:p="down",easing:T=r,in:u,onEnter:j,onEntered:S,onEntering:R,onExit:N,onExited:A,onExiting:M,style:w,timeout:k=i,TransitionComponent:z=He}=o,b=ie(o,Dt),v=h.useRef(null),O=Me(s.ref,v,a),L=l=>E=>{l&&(E===void 0?l(v.current):l(v.current,E))},P=L((l,E)=>{Y(p,l,m),Qe(l),j&&j(l,E)}),I=L((l,E)=>{const me=_e({timeout:k,style:w,easing:T},{mode:"enter"});l.style.webkitTransition=n.transitions.create("-webkit-transform",D({},me)),l.style.transition=n.transitions.create("transform",D({},me)),l.style.webkitTransform="none",l.style.transform="none",R&&R(l,E)}),V=L(S),$=L(M),G=L(l=>{const E=_e({timeout:k,style:w,easing:T},{mode:"exit"});l.style.webkitTransition=n.transitions.create("-webkit-transform",E),l.style.transition=n.transitions.create("transform",E),Y(p,l,m),N&&N(l)}),ne=L(l=>{l.style.webkitTransition="",l.style.transition="",A&&A(l)}),_=l=>{c&&c(v.current,l)},y=h.useCallback(()=>{v.current&&Y(p,v.current,m)},[p,m]);return h.useEffect(()=>{if(u||p==="down"||p==="right")return;const l=Be(()=>{v.current&&Y(p,v.current,m)}),E=Ie(v.current);return E.addEventListener("resize",l),()=>{l.clear(),E.removeEventListener("resize",l)}},[p,u,m]),h.useEffect(()=>{u||y()},[u,y]),t.jsx(z,D({nodeRef:v,onEnter:P,onEntered:V,onEntering:I,onExit:G,onExited:ne,onExiting:$,addEndListener:_,appear:d,in:u,timeout:k},b,{children:(l,E)=>h.cloneElement(s,D({ref:O,style:D({visibility:l==="exited"&&!u?"hidden":void 0},w,s.props.style)},E))}))}),Pt=["BackdropProps"],wt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Re=(e,o)=>{const{ownerState:a}=e;return[o.root,(a.variant==="permanent"||a.variant==="persistent")&&o.docked,o.modal]},Lt=e=>{const{classes:o,anchor:a,variant:n}=e,r={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(K(a)),n!=="temporary"&&"paperAnchorDocked".concat(K(a))]};return Xe(r,Je,o)},qt=ue(We,{name:"MuiDrawer",slot:"Root",overridesResolver:Re})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),ye=ue("div",{shouldForwardProp:Fe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Re})({flex:"0 0 auto"}),zt=ue(Ge,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.paper,o["paperAnchor".concat(K(a.anchor))],a.variant!=="temporary"&&o["paperAnchorDocked".concat(K(a.anchor))]]}})(({theme:e,ownerState:o})=>D({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},o.anchor==="left"&&{left:0},o.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="right"&&{right:0},o.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="left"&&o.variant!=="temporary"&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="top"&&o.variant!=="temporary"&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="right"&&o.variant!=="temporary"&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="bottom"&&o.variant!=="temporary"&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})),ke={left:"right",right:"left",top:"down",bottom:"up"};function Nt(e){return["left","right"].indexOf(e)!==-1}function At({direction:e},o){return e==="rtl"&&Nt(o)?ke[o]:o}const Ot=h.forwardRef(function(o,a){const n=Ue({props:o,name:"MuiDrawer"}),r=W(),i=Ye(),c={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:s,children:m,className:p,elevation:T=16,hideBackdrop:u=!1,ModalProps:{BackdropProps:j}={},onClose:S,open:R=!1,PaperProps:N={},SlideProps:A,TransitionComponent:M=kt,transitionDuration:w=c,variant:k="temporary"}=n,z=ie(n.ModalProps,Pt),b=ie(n,wt),v=h.useRef(!1);h.useEffect(()=>{v.current=!0},[]);const O=At({direction:i?"rtl":"ltr"},d),P=D({},n,{anchor:d,elevation:T,open:R,variant:k},b),I=Lt(P),V=t.jsx(zt,D({elevation:k==="temporary"?T:0,square:!0},N,{className:U(I.paper,N.className),ownerState:P,children:m}));if(k==="permanent")return t.jsx(ye,D({className:U(I.root,I.docked,p),ownerState:P,ref:a},b,{children:V}));const $=t.jsx(M,D({in:R,direction:ke[O],timeout:w,appear:v.current},A,{children:V}));return k==="persistent"?t.jsx(ye,D({className:U(I.root,I.docked,p),ownerState:P,ref:a},b,{children:$})):t.jsx(qt,D({BackdropProps:D({},s,j,{transitionDuration:w}),className:U(I.root,I.modal,p),open:R,ownerState:P,onClose:S,hideBackdrop:u,ref:a},b,z,{children:$}))}),Vt="_mainContainer_1oyjx_1",$t="_surveyDesignError_1oyjx_7",Mt="_goBack_1oyjx_17",je={mainContainer:Vt,surveyDesignError:$t,goBack:Mt},Bt="qlarr-form",Ht="_content_ukoxz_1",Qt="_question_ukoxz_8",Wt="_required_ukoxz_12",Ft="_header_ukoxz_16",Gt="_textDescription_ukoxz_20",Ut="_groupQuestion_ukoxz_25",J={content:Ht,question:Qt,required:Wt,header:Ft,textDescription:Gt,groupQuestion:Ut},Yt="_wrapper_1hpga_1",Xt="_icon_1hpga_11",Jt={wrapper:Yt,icon:Xt};function Kt(e){const{t:o}=te(["run"]);function a(){let n="";if(e.validation.content&&e.validation.isCustomErrorActive)n=e.validation.content;else{var r=e.name.replace(/[0-9]/g,"");n=o(r,{...e.validation})}return n?t.jsxs(q,{sx:{color:"error.main"},className:Jt.wrapper,children:[t.jsx(vt,{}),n]}):""}return a()}function Zt(e){const a=ht([i=>(e.component.validation?i.runState.values[e.component.qualifiedCode]:{})||{}],i=>{var c={};return Object.keys(e.component.validation).forEach(d=>{var s=i[d];s&&(c[d]=s)}),c}),n=f(a);return(()=>{if(e.component.validation){let i=Object.keys(e.component.validation).filter(d=>n[d]),c=e.limit?e.limit:i.length;return i.slice(0,c).map((d,s)=>t.jsx(Kt,{name:d,validation:e.component.validation[d]},s))}else return""})()}const oe=g.lazy(()=>x(()=>import("./DateTimeQuestion-Bsp8Ywnt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),en=g.lazy(()=>x(()=>import("./Scq-CpCEM-hT.js"),__vite__mapDeps([13,1,2,5,6,14,15,16,17,18,19,20,10,21,22,23,24,25]))),tn=g.lazy(()=>x(()=>import("./SCQArray-8gq3cVfh.js"),__vite__mapDeps([26,1,2,5,6,27,28,29,30,18,19,15,20,21,22,23,24,25]))),nn=g.lazy(()=>x(()=>import("./Signature-Bznm6oCq.js"),__vite__mapDeps([31,1,2,5,6,21,22,23,24,25,32]))),on=g.lazy(()=>x(()=>import("./PhotoCapture-DfeuE-UV.js"),__vite__mapDeps([33,1,2,5,6,22,21,23,24,25,34]))),an=g.lazy(()=>x(()=>import("./VideoCapture-0aZ4QnBx.js"),__vite__mapDeps([35,1,2,5,6,36,22,21,23,24,25,34]))),rn=g.lazy(()=>x(()=>import("./Mcq-Bn96JsGP.js"),__vite__mapDeps([37,1,2,5,6,17,38,19,14,15,16,10,21,22,23,24,25]))),sn=g.lazy(()=>x(()=>import("./NumberQuestion-Blo4362h.js"),__vite__mapDeps([39,1,2,5,6,10,40]))),cn=g.lazy(()=>x(()=>import("./TextQuestion-Cctk76ZR.js"),__vite__mapDeps([41,1,2,5,6,10,42]))),ln=g.lazy(()=>x(()=>import("./VideoDisplay-CoZEYdcD.js"),__vite__mapDeps([43,1,2,22,5,6,36]))),un=g.lazy(()=>x(()=>import("./ImageDisplay-C1cQjiLf.js"),__vite__mapDeps([44,1,2,22,5,6]))),dn=g.lazy(()=>x(()=>import("./ImageRanking-DqEL-Oms.js"),__vite__mapDeps([45,1,2,5,6,22,46]))),mn=g.lazy(()=>x(()=>import("./ParagraphQuestion-DQ0lBzCe.js"),__vite__mapDeps([47,1,2,5,6,10,48]))),gn=g.lazy(()=>x(()=>import("./Barcode-B03ouiIc.js"),__vite__mapDeps([49,1,2,5,6,10,21,22,23,24,25,34]))),_n=g.lazy(()=>x(()=>import("./EmailQuestion-Bh9B30je.js"),__vite__mapDeps([50,1,2,5,6,10,51]))),fn=g.lazy(()=>x(()=>import("./ImageScq-DC6Ltl4H.js"),__vite__mapDeps([52,1,2,5,6,22,18,19,15,20,53]))),xn=g.lazy(()=>x(()=>import("./ImageMcq-DfJ-b40K.js"),__vite__mapDeps([54,1,2,5,6,22,38,19,55]))),vn=g.lazy(()=>x(()=>import("./Ranking-Bf_3Z5fD.js"),__vite__mapDeps([56,1,2,5,6,57,21,22,23,24,25,58]))),hn=g.lazy(()=>x(()=>import("./NPS-BfgUAbP3.js"),__vite__mapDeps([59,1,2,5,6,60]))),Ee=g.lazy(()=>x(()=>Promise.resolve().then(()=>Rn),void 0)),pn=g.lazy(()=>x(()=>import("./FileUpload-Djvghd13.js"),__vite__mapDeps([61,1,2,5,6,62,21,22,23,24,25]))),yn=g.lazy(()=>x(()=>import("./IconScq-BARxpBeE.js"),__vite__mapDeps([63,1,2,5,6,64,65,22,66]))),jn=g.lazy(()=>x(()=>import("./IconMcq--UqgBbId.js"),__vite__mapDeps([67,1,2,5,6,64,65,22,66]))),En=g.lazy(()=>x(()=>import("./SCQIconArray-DzpiE1N_.js"),__vite__mapDeps([68,1,2,5,6,64,65,22,27,28,29,21,23,24,25]))),Cn=h.forwardRef((e,o)=>{var s,m,p,T;console.debug("rendering: "+e.component.code);const a=f(u=>{let j=u.runState.values[e.component.qualifiedCode];return typeof(j==null?void 0:j.relevance)>"u"||(j==null?void 0:j.relevance)}),n=W(),r=e.component.showDescription&&((s=e.component.content)==null?void 0:s.description)&&Z(e.component.content.description).length>0,i=((m=e.component.content)==null?void 0:m.label)&&Z((p=e.component.content)==null?void 0:p.label).length>0,c=i||r,d=()=>{switch(e.component.type){case"date_time":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"date":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"time":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"scq":return t.jsx(en,{component:e.component},e.component.qualifiedCode);case"scq_array":return t.jsx(tn,{component:e.component},e.component.qualifiedCode);case"scq_icon_array":return t.jsx(En,{component:e.component},e.component.qualifiedCode);case"file_upload":return t.jsx(pn,{component:e.component},e.component.qualifiedCode);case"signature":return t.jsx(nn,{component:e.component},e.component.qualifiedCode);case"photo_capture":return t.jsx(on,{component:e.component},e.component.qualifiedCode);case"video_capture":return t.jsx(an,{component:e.component},e.component.qualifiedCode);case"mcq":return t.jsx(rn,{component:e.component},e.component.qualifiedCode);case"number":return t.jsx(sn,{component:e.component},e.component.qualifiedCode);case"text":return t.jsx(cn,{component:e.component},e.component.qualifiedCode);case"video_display":return t.jsx(ln,{component:e.component},e.component.qualifiedCode);case"image_display":return t.jsx(un,{component:e.component},e.component.qualifiedCode);case"image_ranking":return t.jsx(dn,{component:e.component},e.component.qualifiedCode);case"paragraph":return t.jsx(mn,{component:e.component},e.component.qualifiedCode);case"barcode":return t.jsx(gn,{component:e.component},e.component.qualifiedCode);case"email":return t.jsx(_n,{component:e.component},e.component.qualifiedCode);case"image_scq":return t.jsx(fn,{component:e.component},e.component.qualifiedCode);case"icon_scq":return t.jsx(yn,{component:e.component},e.component.qualifiedCode);case"icon_mcq":return t.jsx(jn,{component:e.component},e.component.qualifiedCode);case"image_mcq":return t.jsx(xn,{component:e.component},e.component.qualifiedCode);case"ranking":return t.jsx(vn,{component:e.component},e.component.qualifiedCode);case"nps":return t.jsx(hn,{component:e.component},e.component.qualifiedCode);default:return""}};return a?t.jsxs(In,{qualifiedCode:e.component.qualifiedCode,ref:o,children:[c&&t.jsxs(t.Fragment,{children:[i&&t.jsx(q,{style:{fontFamily:n.textStyles.question.font,color:n.textStyles.text.color,fontSize:n.textStyles.question.size},children:t.jsx(Ee,{className:"".concat(J.content," ").concat(J.question),name:"label",lang:e.lang,elementCode:e.component.qualifiedCode,content:(T=e.component.content)==null?void 0:T.label})}),r&&t.jsx(q,{className:J.textDescription,children:t.jsx(Ee,{elementCode:e.component.code,name:"description",lang:e.lang,content:e.component.content.description})})]}),t.jsx(h.Suspense,{fallback:t.jsx(ge,{}),children:d()}),t.jsx(h.Suspense,{fallback:t.jsx(ge,{}),children:t.jsx(bn,{component:e.component})})]}):""}),Sn=g.memo(Cn),bn=g.memo(({component:e})=>f(a=>{let n=a.runState.values[e.qualifiedCode],r=a.runState.values.Survey.show_errors,i=a.templateState[e.qualifiedCode],c=n==null?void 0:n.validity;return(r||i)&&c===!1})?t.jsx(Zt,{component:e}):t.jsx(t.Fragment,{})),In=g.memo(e=>{const o=f(a=>{let n=a.runState.values[e.qualifiedCode],r=a.runState.values.Survey.show_errors,i=a.templateState[e.qualifiedCode],c=n==null?void 0:n.validity;return(r||i)&&c===!1});return t.jsx(q,{sx:{borderColor:o?"error.main":"grey.500"},className:"".concat(J.groupQuestion," ").concat(o?"invalidQuestion":""),children:e.children})});function Dn(e){const o=e.content&&e.content.search(/data-instruction/)>=0,a=f(i=>{if(!(!e.content||!o||!i.runState.values[e.elementCode]||!e.name||!e.lang))return i.runState.values[e.elementCode]["reference_".concat(e.name,"_").concat(e.lang)]}),n=f(i=>i.runState.values.Survey.lang),r=ee.includes(n);return e.content?o?t.jsx("div",{className:"".concat(r?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:Tn(e.content,a)}}):t.jsx("div",{className:"".concat(r?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:e.content}}):""}const le=g.memo(Dn);function Tn(e,o){let a=document.createElement("div");return a.innerHTML=e,a.querySelectorAll("span[data-instruction]").forEach(function(n){let r=n.getAttribute("data-instruction");if(r&&o){let i=r.split(".");i&&i.length==2&&o[i[0]]&&o[i[0]][i[1]]?n.replaceWith(o[i[0]][i[1]]):n.replaceWith("")}else n.replaceWith("")}),a.innerHTML}const Rn=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),kn="_textDescription_6fb6d_1",Pn="_titleRow_6fb6d_6",wn="_groupHeader_6fb6d_16",Ln="_topLevel_6fb6d_20",ae={textDescription:kn,titleRow:Pn,groupHeader:wn,topLevel:Ln};function qn(e){const o=W(),a=f(r=>{let i=r.runState.values[e.group.code];return{showGroup:typeof(i==null?void 0:i.relevance)>"u"||i.relevance}},C),n=()=>{var r,i,c;return t.jsx(t.Fragment,{children:t.jsxs(q,{className:ae.topLevel,sx:{borderRadius:"4px",backgroundColor:o.palette.background.paper},children:[t.jsxs("div",{className:ae.groupHeader,children:[t.jsx("div",{style:{fontFamily:o.textStyles.group.font,color:o.textStyles.group.color,fontSize:o.textStyles.group.size},children:t.jsx(le,{elementCode:e.group.code,name:"label",lang:e.lang,content:(r=e.group.content)==null?void 0:r.label})}),e.group.showDescription&&((i=e.group.content)==null?void 0:i.description)&&t.jsx(q,{className:ae.textDescription,children:t.jsx(le,{elementCode:e.group.code,name:"description",lang:e.lang,content:(c=e.group.content)==null?void 0:c.description})})]}),e.group&&e.group.questions?e.group.questions.filter(d=>d.inCurrentNavigation).map(d=>t.jsx(Sn,{component:d,lang:e.lang},d.code)):""]})})};return a.showGroup&&(e.group?n():"")}const zn=g.memo(qn),Nn="_buttonContainer_zlh5z_1",An={buttonContainer:Nn};function On(e){const o=f(s=>({has_previous:s.runState.values.Survey.has_previous&&s.runState.data.survey.allowPrevious,has_next:s.runState.values.Survey.has_next,can_save:s.runState.data.survey.allowIncomplete,has_errors:s.runState.values.Survey.show_errors}),C),a=F(),{t:n,i18n:r}=te("run"),i=ee.includes(r.language),c=()=>{a(Ke())};h.useEffect(()=>{o.has_errors&&setTimeout(()=>{const s=document.querySelector(".invalidQuestion");s&&s.scrollIntoView({behavior:"smooth",block:"center"})},500)},[o.has_errors]);const d=()=>{a(Ze())};return e.navigationIndex.name=="end"?"":t.jsxs("div",{className:An.buttonContainer,children:[o.has_previous?t.jsx(se,{variant:"contained",className:i?"ml-14":"mr-14",onClick:()=>{c()},children:n("previous")}):"",t.jsx(se,{variant:"contained",onClick:()=>{d()},children:o.has_next?n("next"):n("finish")})]})}const Vn="_surveyContent_jntaj_1",$n="_surveyGroups_jntaj_5",Mn="_cardImage_jntaj_12",Bn="_groupContianer_jntaj_21",Hn="_stepperContent_jntaj_26",Qn="_menuButton_jntaj_37",re={surveyContent:Vn,surveyGroups:$n,cardImage:Mn,groupContianer:Bn,stepperContent:Hn,menuButton:Qn};function Wn(){var d;const e=W();F();const o=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.navigationIndex},C),a=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.survey},C),n=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.lang},C),r=f(s=>s.runState.data,C),{lang:i,additionalLang:c}=r||{};return[(i.code,i.name),...c||[]],t.jsx(pt,{backend:yt()?jt:Et,children:t.jsx("form",{id:Bt,style:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size},children:t.jsxs("div",{className:re.surveyGroups,children:[(d=a.resources)!=null&&d.headerImage?t.jsx(Ct,{className:re.cardImage,component:"img",image:Te(a.resources.headerImage)}):null,a&&a.groups?a.groups.filter(s=>s.inCurrentNavigation).map((s,m)=>t.jsx("div",{id:"group-".concat(m),"data-index":m,className:re.groupContianer,children:t.jsx(zn,{group:s,lang:n.code,groupIndex:m})},s.code)):"",t.jsx(On,{navigationIndex:o})]})})})}const Fn="_loadingWrapper_1p71l_1",Gn="_loadingDots_1p71l_14",Un="_l1_1p71l_1",Ce={loadingWrapper:Fn,loadingDots:Gn,l1:Un};function Yn(){var c,d;const e=be(),o=f(s=>s.templateState.isLoading),[a,n]=h.useState(!1),[r,i]=h.useState(!1);return h.useEffect(()=>{let s;return o?(n(!0),i(!1),s=setTimeout(()=>{i(!0)},200)):r?n(!1):s=setTimeout(()=>{n(!1)},200),()=>clearTimeout(s)},[o,r]),a?t.jsx(q,{className:Ce.loadingWrapper,children:t.jsx(q,{style:{background:"radial-gradient(circle closest-side, ".concat((d=(c=e==null?void 0:e.palette)==null?void 0:c.primary)==null?void 0:d.main," 90%, #0000) 0 / calc(100% / 3) 100% space")},className:Ce.loadingDots})}):t.jsx(t.Fragment,{})}const Xn="_drawer_16lbk_1",Jn="_drawerHeader_16lbk_5",X={drawer:Xn,drawerHeader:Jn},Kn="_groupCard_pjo30_1",Zn="_groupTitle_pjo30_6",eo="_questionTitle_pjo30_10",to="_questionIcon_pjo30_16",no="_bullet_pjo30_23",oo="_redAsterix_pjo30_29",Q={groupCard:Kn,groupTitle:Zn,questionTitle:eo,questionIcon:to,bullet:no,redAsterix:oo};function ao(e){const o=be(),a=F(),n=f(u=>u.runState.values.Survey.relevance_map,C),r=f(u=>u.runState.values.Survey.validity_map,C),i=f(u=>u.runState.data.survey.allowJump,C),c=u=>e.navigationIndex.name=="group"&&u==e.navigationIndex.groupId,d=u=>e.navigationIndex.name=="question"&&u==e.navigationIndex.questionId,s=u=>i&&!c(u)&&e.navigationIndex.name=="group",m=u=>i&&!d(u)&&e.navigationIndex.name=="question",p=u=>{s(u)&&a(fe({...e.navigationIndex,groupId:u}))},T=u=>{m(u)&&a(fe({...e.navigationIndex,questionId:u}))};return t.jsx(t.Fragment,{children:e.survey&&e.survey.groups?e.survey.groups.filter(u=>n[u.code]&&u.groupType!="END").map(u=>{var j;return t.jsxs(St,{onClick:()=>p(u.code),className:Q.groupCard,style:{backgroundColor:c(u.code)?"beige":o.palette.background.paper,cursor:s(u.code)?"pointer":"default"},children:[t.jsxs(pe,{className:Q.groupTitle,children:[Z((j=u.content)==null?void 0:j.label)," "]}),u.questions.filter(S=>n[S.code]).map(S=>{var R;return t.jsxs(pe,{onClick:()=>T(S.code),className:Q.questionTitle,style:{backgroundColor:d(S.code)?"beige":"inherit",cursor:s(u.code)?"inherit":m(u.code)?"pointer":"default"},children:[t.jsx("span",{className:Q.questionIcon,children:et(S.type)}),Z(tt((R=S.content)==null?void 0:R.label,32)),!r[S.code]&&t.jsx("span",{className:Q.redAsterix,children:"*"})]},S.code)})]},u.code)}):""})}function ro({expanded:e,toggleDrawer:o,t:a}){const n=f(i=>{var c;return(c=i.runState.data)==null?void 0:c.navigationIndex},C),r=f(i=>{var c;return(c=i.runState.data)==null?void 0:c.survey},C);return t.jsx(Ot,{anchor:"left",transitionDuration:e!==so?500:0,open:e==Pe,onClose:o(!1),sx:{"& .MuiDrawer-paper":{width:"400px",maxWidth:"90%","@media (max-width: 600px)":{width:"300px"}}},children:t.jsxs("div",{className:X.drawer,children:[t.jsxs("div",{className:X.drawerHeader,children:[t.jsx(ce,{variant:"h6",className:X.drawerTitle,children:a("survey_navigation")}),t.jsx(De,{className:X.closeButton,onClick:o(!1),children:t.jsx(nt,{})})]}),t.jsx(ao,{navigationIndex:n,survey:r})]})})}const io=g.memo(ro),so="COLLAPSE_IMMEDIATE",Se="COLLAPSE",Pe="EXPAND";var de={},co=Ne;Object.defineProperty(de,"__esModule",{value:!0});var we=de.default=void 0,lo=co(ot()),uo=t;we=de.default=(0,lo.default)((0,uo.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function mo(e){f(n=>({navigate:n.runState.navigate,lang:n.runState.lang}),C);const o=F(),{t:a}=te("run");return e.additionalLang&&e.additionalLang.length?t.jsx(at,{style:{maxWidth:"250px"},variant:"standard",children:t.jsxs(rt,{labelId:"change-lang-label",sx:{backgroundColor:"background.paper",color:"primary.main",paddingLeft:"8px"},id:"ChangeLang",label:a("lang"),value:e.lang.code,onChange:n=>{o(it({lang:n.target.value}))},children:[t.jsx(xe,{value:e.lang.code,children:e.lang.name}),e.additionalLang?e.additionalLang.map((n,r)=>t.jsx(xe,{value:n.code,children:n.name},r)):""]})}):t.jsx(t.Fragment,{})}function go({toggleDrawer:e}){f(n=>{var r,i,c;return(c=(i=(r=n.runState.data)==null?void 0:r.survey)==null?void 0:i.content)==null?void 0:c.label},C);const o=f(n=>{var r;return(r=n.runState.data)==null?void 0:r.lang},C),a=f(n=>{var r;return(r=n.runState.data)==null?void 0:r.additionalLang},C);return t.jsxs(bt,{style:{minHeight:"56px",fontSize:"32px",lineHeight:"1.334",fontWeight:"400"},children:[t.jsx(De,{color:"primary",size:"large",edge:"start","aria-label":"menu",sx:{mr:2},onClick:e(!0),children:t.jsx(we,{})}),t.jsx("div",{style:{width:"100%"}}),t.jsx(mo,{lang:o,additionalLang:a})]})}function _o({preview:e,guest:o,mode:a,resume:n=!1,responseId:r}){const i=st("run"),c=Ae(),s=new URLSearchParams(c.search).get("lang"),[m,p]=g.useState(!1),[T,u]=g.useState(Se),[j,S]=g.useState(!1),[R,N]=g.useState(!1),A=f(_=>{var y,l;return(l=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:l.theme},ve),M=f(_=>{var y;return(y=_.runState.data)==null?void 0:y.responseId});f(_=>{var y,l;return(l=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:l.allowJump},C);const w=f(_=>{var y,l,E;return(E=(l=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:l.resources)==null?void 0:E.backgroundImage}),k=f(_=>_.runState.navigation,ve),{t:z,i18n:b}=te("run"),v=F();h.useEffect(()=>{k&&P(k,M)},[k]),h.useEffect(()=>{ee.includes(b.language)?document.dir="rtl":document.dir="ltr"},[b.language]);const O=_=>{[H.SURVEY_DESIGN_ERROR,H.SURVEY_NOT_ACTIVE,H.SURVEY_CLOSED,H.SURVEY_EXPIRED,H.SURVEY_SCHEDULED].indexOf(_)>-1?N(_):S(_),v(B(!1))},L=()=>{xt(i,s,e,o,a).then(_=>{p(!0),v(he({response:_,preview:e})),sessionStorage.setItem("responseId",_.responseId),b.changeLanguage(_.lang.code),v(B(!1))}).catch(_=>{O(_)})},P=(_,y)=>{v(B(!0)),ct(i,_,y,e,o,a).then(l=>{p(!0),v(he({response:l,preview:e})),sessionStorage.setItem("responseId",l.responseId),b.changeLanguage(l.lang.code),v(B(!1))}).catch(l=>{O(l)})};h.useEffect(()=>{document.body.style.overflow="visible",v(B(!0)),lt(i,e,o).then(()=>{n?P({navigationDirection:{name:"RESUME"}},r):L()}).catch(_=>{O(_)})},[]);const I=h.useMemo(()=>Oe({...ut(A),direction:ee.includes(b.language)?"rtl":"ltr"}),[b.language,A]),V=h.useMemo(()=>dt(b.language),[b.language]),$=Ve(),G=_=>y=>{y.type==="keydown"&&(y.key==="Tab"||y.key==="Shift")||u(_?Pe:Se)},ne=w?{backgroundImage:"url(".concat(Te(w),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return t.jsxs(t.Fragment,{children:[t.jsx($e,{value:V,children:t.jsxs(mt,{theme:I,children:[j&&t.jsx(gt,{error:j,setErrorSeen:()=>{S(null)}}),m&&t.jsxs("div",{className:je.mainContainer,style:{backgroundColor:I.palette.background.default,fontFamily:I.textStyles.text.font,color:I.textStyles.text.color,fontSize:I.textStyles.text.size,...ne},children:[t.jsx(Yn,{}),t.jsx(go,{toggleDrawer:G}),t.jsx(fo,{},"Survey"),t.jsx(io,{expanded:T,toggleDrawer:G,t:z})]})]})}),R&&t.jsx(q,{style:{height:"100%",overflow:"auto"},children:t.jsxs(_t,{children:[t.jsx(ce,{variant:"h3",paragraph:!0,children:z("error")}),t.jsx(ce,{sx:{color:"text.secondary"},children:z("processed_errors."+R.name)}),t.jsx(ft,{alt:"500",src:"/illustration_500.svg",sx:{mx:"auto",maxWidth:320,my:{xs:5,sm:8}}}),t.jsx(se,{fullWidth:!0,size:"large",color:"inherit",variant:"contained",className:je.goBack,onClick:()=>$(-1),children:z("goBack")})]})})]})}const fo=g.memo(Wn),Co=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));export{pe as B,_o as R,Zt as V,Kt as a,Co as i};
