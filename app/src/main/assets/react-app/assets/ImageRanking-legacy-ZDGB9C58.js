!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o,a,l=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=o.call(t)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}System.register(["./index-legacy-DMBe9EAg.js","./use-service-legacy-CgI9X4sP.js","./common-legacy-ztB9Cads.js","./index-legacy-C-i1VDP4.js","./isTouchDevice-legacy-DkWZCMK4.js","./ArrowBack-legacy-BOcXtrdD.js"],(function(n,t){"use strict";var i,r,o,a,l,c,s,u,d,m,p;return{setters:[e=>{i=e.r,r=e.j,o=e.B,a=e.ah},e=>{l=e.v,c=e.D,s=e.av,u=e.aq,d=e.$},e=>{m=e.b},e=>{p=e.s},null,null],execute:function(){var t=document.createElement("style");t.textContent="._imageGrid_18w6k_1{margin-top:16px}._imageContainer_18w6k_5{background-size:contain;background-position:center;background-repeat:no-repeat;position:relative}._rankContainer_18w6k_12{position:absolute;top:2px;left:2px;cursor:pointer;padding:.25rem .5rem;border-radius:50%}._rankValue_18w6k_21{color:#fff;display:table-cell;vertical-align:middle}._imageFlexContainer_18w6k_27{display:flex;flex-wrap:wrap}\n",document.head.appendChild(t),n("default",(function(n){const t=l((e=>{let t={};return n.component.answers.forEach((n=>{t[n.qualifiedCode]=e.runState.values[n.qualifiedCode].value})),t}),p),a=c(),m=i.useRef(null),x=e(i.useState(800),2),h=x[0],v=x[1];i.useEffect((()=>{var e;v(null==m||null===(e=m.current)||void 0===e?void 0:e.offsetWidth)}),[m]);const y=(h-n.component.columns*n.component.spacing*2)/n.component.columns,C=y/(n.component.imageAspectRatio||1);i.useEffect((()=>{const e=()=>{var e;v(null==m||null===(e=m.current)||void 0===e?void 0:e.offsetWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const k=l((e=>e.runState.values.Survey.lang)),_=d.includes(k);return r.jsx(o,{sx:{gap:`${n.component.spacing}px`,justifyContent:_?"flex-end":"flex-start"},className:f.imageFlexContainer,children:n.component.answers.map((e=>r.jsx(g,{option:e,spacing:n.component.spacing,columns:n.component.columns,hideText:n.component.hideText,onClick:()=>(e=>{if(a(s(n.component.qualifiedCode)),a(s(n.parentCode)),+t[e]>0)a(u({componentCode:e,undefined:void 0}));else{let n=Object.keys(t),r=n.map((e=>t[e]));for(var i=1;i<=n.length;i++)if(!r.includes(i))return void a(u({componentCode:e,value:i}))}})(e.qualifiedCode),parentCode:n.component.qualifiedCode,imageHeight:C,imageWidth:y},e.qualifiedCode)))})}));const f={imageGrid:"_imageGrid_18w6k_1",imageContainer:"_imageContainer_18w6k_5",rankContainer:"_rankContainer_18w6k_12",rankValue:"_rankValue_18w6k_21",imageFlexContainer:"_imageFlexContainer_18w6k_27"};function g(e){var n,t;const i=a(),c=l((n=>{let t=n.runState.values[e.option.qualifiedCode];return{showAnswer:void 0===(null==t?void 0:t.relevance)||t.relevance,value:(null==t?void 0:t.value)||0}}),p),s=null!==(n=e.option.resources)&&void 0!==n&&n.image?`url('${m(e.option.resources.image)}')`:"0";return r.jsxs(o,{sx:{flex:`0 1 calc(${100/e.columns}% - ${e.spacing}px)`,cursor:"pointer"},children:[r.jsx(o,{className:f.imageContainer,onClick:()=>e.onClick(),display:"flex",justifyContent:"center",alignItems:"center",style:{paddingTop:100/e.aspectRatio+"%",backgroundImage:s,backgroundColor:i.palette.background.default,borderRadius:"4px",boxShadow:2,height:e.imageHeight+"px",border:c.checked?`2px solid ${i.palette.primary.main}`:"2px solid transparent"},children:c.value>0&&r.jsx("div",{style:{height:Math.min(e.imageHeight,e.imageWidth)+"px",width:Math.min(e.imageHeight,e.imageWidth)+"px",borderRadius:Math.min(e.imageHeight,e.imageWidth)/2+"px",fontSize:Math.min(e.imageHeight,e.imageWidth)/2+"px",background:i.palette.primary.main},className:f.rankContainer,children:r.jsx("span",{className:f.rankValue,style:{color:i.textStyles.text.color},children:c.value})})}),!e.hideText&&r.jsx(o,{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size},children:null===(t=e.option.content)||void 0===t?void 0:t.label})]},e.option.code)}}}}))}();
