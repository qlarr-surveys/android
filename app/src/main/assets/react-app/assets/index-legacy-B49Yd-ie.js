!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,o,s=[],i=!0,c=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=l.call(t)).done)&&(s.push(n.value),s.length!==r);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function a(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}System.register(["./index-legacy-Bv2eXh2I.js","./Web-legacy-DMYfs4qb.js","./use-service-legacy-BhwPSb5M.js","./DateUtils-legacy-BTmsWpOC.js","./survey-legacy-BBPrODqM.js","./TextField-legacy-BOwGRc-U.js","./index-legacy-CC9o0V0f.js","./Card-legacy-PAZ1B7n8.js","./FormGroup-legacy-AKG9mhqO.js","./Checkbox-legacy-D8PzMjCa.js","./SwitchBase-legacy-POzBzpU5.js","./Tabs-legacy-BZ8LdgyE.js","./radioClasses-legacy-rUP_5iUL.js","./tableRowClasses-legacy-DaBQNcvJ.js","./FormControlLabel-legacy-Cd6ySi2s.js","./index-legacy-B0CHQc99.js","./dayjs.min-legacy-D2kfUQ6k.js","./DateTimePicker-legacy-BS10sb_o.js","./InputAdornment-legacy-BsZgCJo4.js"],(function(r,t){"use strict";var a,l,o,s,i,c,u,d,y,m,f,v,j,b,g,h,p,x,_,C,S,O,I,w,D;return{setters:[e=>{a=e.j,l=e.s,o=e.r,s=e.B},e=>{i=e.K,c=e.r},e=>{u=e.M,d=e.av,y=e.S,m=e.N,f=e.R,v=e.U,j=e.T,b=e.aO,g=e.aQ,h=e.X,p=e.aR},e=>{x=e.l},e=>{_=e.S},e=>{C=e.I,S=e.T,O=e.a},e=>{I=e.S},e=>{w=e.C},e=>{D=e.F},null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="._mainContainer_17u7e_1{margin:auto;max-width:800px;min-width:300px;height:calc(100vh - 64px);overflow:auto}._createUserCard_17u7e_9{padding:25px}._blockItem_17u7e_13{flex:1;display:flex;gap:15px;flex-direction:column}._errorText_17u7e_20{color:#eb5757!important}\n/*$vite$:1*/",document.head.appendChild(t),r("default",(function(){const r=f("survey"),t=l(),n=u("manage").t,i=v(),d=e(o.useState(""),2),y=d[0],m=d[1],C=e(o.useState(""),2),A=C[0],N=C[1],P=e(o.useState(""),2),k=P[0],M=P[1],F=e(o.useState(_.MIXED),2),U=F[0],$=F[1],R=e(o.useState(null),2),W=R[0],L=R[1],B=e(o.useState(null),2),X=B[0],q=B[1],V=()=>{t(c.dashboard)};return a.jsx(s,{className:E.mainContainer,children:a.jsxs(w,{className:E.createUserCard,children:[a.jsx(j,{variant:"h4",children:n("create_survey.title")}),a.jsxs(D,{className:E.formGroup,children:[a.jsx(S,{sx:{maxWidth:"400px"},error:A.length>0,required:!0,value:y,id:"surveyName",label:n("label.survey_name"),name:"surveyName",onChange:e=>{m(e.target.value),N("")},variant:"standard"}),A&&a.jsx(O,{className:E.errorText,children:A}),a.jsxs(b,{flexDirection:"row",gap:5,sx:{mt:"40px"},children:[a.jsx(s,{className:E.blockItem,children:a.jsx(T,{surveyMode:U,onSurveyModeChanged:e=>{$(e.target.value)}})}),a.jsx(s,{className:E.blockItem,children:a.jsx(I,{error:k,surveyActiveFrom:W,surveyActiveTo:X,onSurveyActiveFromChanged:e=>{M(""),L(e.toDate())},onSurveyActiveToChanged:e=>{M(""),q(e.toDate())}})})]})]}),a.jsxs(s,{sx:{display:"flex",justifyContent:"flex-end",mt:"40px"},children:[a.jsx(g,{onClick:V,children:n("action_btn.cancel")}),a.jsx(g,{onClick:()=>{if(N(""),0==y.length&&(N(n("survey_required")),1))return;i(h(!0));const e={name:y,usage:U};W&&(e.startDate=x(W)),X&&(e.endDate=x(X)),r.createSurvey(e).then((()=>{V()})).catch((e=>{e.name==p.DUPLICATE_SURVEY_NAME.name?N(n(`processed_errors.${e.name}`)):e.name==p.INVALID_SURVEY_DATES.name&&M(n(`processed_errors.${e.name}`))})).finally((()=>{i(h(!1))}))},children:n("action_btn.save")})]})]})})}));const E={mainContainer:"_mainContainer_17u7e_1",createUserCard:"_createUserCard_17u7e_9",blockItem:"_blockItem_17u7e_13",errorText:"_errorText_17u7e_20"};function A(e){return a.jsx(i,n(n({},e),{},{style:{color:"#181735"}}))}const T=({surveyMode:e,onSurveyModeChanged:r})=>{const t=u("manage").t;return a.jsxs(d,{fullWidth:!0,children:[a.jsx(C,{id:"survey-mode-label",children:t("label.survey_mode")}),a.jsxs(y,{labelId:"survey-mode-label",id:"demo-simple-select",value:e,label:t("label.survey_mode"),onChange:r,sx:{minWidth:"160px",borderRadius:"12px",backgroundColor:"#f7f8fc","& .MuiOutlinedInput-notchedOutline":{border:"none"}},IconComponent:A,children:[a.jsx(m,{value:_.WEB,children:t(`mode.${_.WEB}`)}),a.jsx(m,{value:_.OFFLINE,children:t(`mode.${_.OFFLINE}`)}),a.jsx(m,{value:_.MIXED,children:t(`mode.${_.MIXED}`)})]})]})}}}}))}();
