import{m as o}from"./index-GpgTsJG-.js";import{$ as C,E as s,J as w,a2 as S,a1 as j,a4 as y,a5 as F,L as h}from"./Android-VO6a0haY.js";const k="_container_bvkr6_2",z={container:k};function b(r){var m;const f=C("run"),n=r.component,t=s(e=>e.runState.values[n.qualifiedCode]),c=s(e=>e.runState.preview),_=s(e=>e.runState.values.Survey.mode),l=w(),d=()=>{var u,p,x,v;const e=n.qualifiedCode,g=((p=(u=n.validation)==null?void 0:u.validation_max_file_size)==null?void 0:p.isActive)&&((v=(x=n.validation)==null?void 0:x.validation_max_file_size)==null?void 0:v.max_size)||-1;c&&_=="offline"?y("/dummy_image.png").then(a=>{F(f,e,c,a).then(i=>{l(h({componentCode:r.component.qualifiedCode,value:i}))}).catch(i=>{console.error(i)})}):window.Android?(window.Android.capturePhoto(e,g),window["onPhotoCaptured"+e]=a=>{l(h({componentCode:e,value:a}))}):console.debug("no android device!!")};return o.jsxs(S,{className:z.container,sx:{maxHeight:"400px"},children:[!t.value||!t.value.stored_filename?o.jsx("img",{onClick:d,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):o.jsx("img",{onClick:d,src:j(t.value.stored_filename),style:{maxHeight:"400px",maxWidth:"100%"}}),o.jsx("br",{}),n.showHint&&o.jsx("span",{children:(m=n.content)==null?void 0:m.hint})]})}export{b as default};
