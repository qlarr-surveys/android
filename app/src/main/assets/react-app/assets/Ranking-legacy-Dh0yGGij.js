!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i,l,a=[],d=!0,u=!1;try{if(i=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;d=!1}else for(;!(d=(t=i.call(n)).done)&&(a.push(t.value),a.length!==r);d=!0);}catch(e){u=!0,o=e}finally{try{if(!d&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return r(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}function n(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,r||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}System.register(["./index-legacy-Bwbrwstt.js","./use-service-legacy-DB5V2eHr.js","./index-legacy-BnRWC4kz.js","./useDrop-legacy-Cn4BzQAq.js","./isTouchDevice-legacy-DYXYIwNA.js","./common-legacy-B00aOVxF.js","./CardMedia-legacy-NhhzyJUn.js","./Card-legacy-DggIQdNq.js","./Toolbar-legacy-DlAwUQUZ.js"],(function(r,n){"use strict";var o,i,l,a,d,u,s,c,f,p;return{setters:[e=>{o=e.j,i=e.r},e=>{l=e.R,a=e.H,d=e.aR,u=e.b8,s=e.aS,c=e.b9},e=>{f=e.B},e=>{p=e.u},null,null,null,null,null],execute:function(){var n=document.createElement("style");n.textContent="._dragContainer_5yuyr_1{border:1px solid transparent;border-radius:4px;height:100%;display:flex;flex-direction:column;margin:auto 8px}._rankingItem_5yuyr_10{margin:0 8px;padding:8px}\n/*$vite$:1*/",document.head.appendChild(n),r("default",(function(e){const r=l(),n=a((r=>{let n={};return e.component.answers.forEach((e=>{n[e.qualifiedCode]=r.runState.values[e.qualifiedCode].value})),n}),d),i=e=>isNaN(n[e])?"unsorted":"sorted",u=a((r=>{let n={};return e.component.answers.forEach((e=>{r.runState.order?n[e.qualifiedCode]=r.runState.order[e.qualifiedCode]:n[e.qualifiedCode]=r.runState.values[e.qualifiedCode].order+1})),n}),d),f=e.component.answers.filter((e=>!n[e.qualifiedCode])).sort((function(e,r){return u[e.qualifiedCode]-u[r.qualifiedCode]})),p=e.component.answers.filter((e=>+n[e.qualifiedCode]>0)).sort((function(e,r){return n[e.qualifiedCode]-n[r.qualifiedCode]})),g=(e,o,l)=>{const a=t({},u);if("sorted"==l&&"unsorted"==i(e.qualifiedCode)){const t=o+1;for(let e in n)n.hasOwnProperty(e)&&n[e]>=t&&r(s({componentCode:e,value:n[e]+1}));r(s({componentCode:e.qualifiedCode,value:t})),e.index=o;const i=a[e.qualifiedCode];f.forEach((e=>{a[e.qualifiedCode]>=i&&(a[e.qualifiedCode]=a[e.qualifiedCode]-1)})),r(c(a))}else if("unsorted"==l&&"sorted"==i(e.qualifiedCode)){const t=n[e.qualifiedCode];for(let e in n)n.hasOwnProperty(e)&&n[e]>=t&&r(s({componentCode:e,value:n[e]-1}));r(s({componentCode:e.qualifiedCode,value:void 0})),e.index=o;const i=o+1;f.forEach((e=>{a[e.qualifiedCode]>=i&&(a[e.qualifiedCode]=a[e.qualifiedCode]+1)})),a[e.qualifiedCode]=i,r(c(a))}},C=e=>{"unsorted"==i(e.qualifiedCode)?g(e,p.length,"sorted"):g(e,f.length,"unsorted")},v=(e,o,l,a)=>{const d=t({},u);if("unsorted"==l&&"unsorted"==i(e.qualifiedCode)){const n=d[e.qualifiedCode];d[e.qualifiedCode]=d[o.qualifiedCode],d[o.qualifiedCode]=n,r(c(d)),e.index=a}else"sorted"==l&&"sorted"==i(e.qualifiedCode)&&(r(s({componentCode:e.qualifiedCode,value:n[o.qualifiedCode]})),r(s({componentCode:o.qualifiedCode,value:n[e.qualifiedCode]})),e.index=a)};return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[o.jsx(m,{styles:y,ordererLength:p.length,unordererLength:f.length,onHover:v,order:u,onItemTransfer:g,onDoubleClick:C,itemType:"unsorted",options:f}),o.jsx(m,{styles:y,onHover:v,onItemTransfer:g,onDoubleClick:C,ordererLength:p.length,unordererLength:f.length,order:u,itemType:"sorted",options:p})]})}));const y={dragContainer:"_dragContainer_5yuyr_1",rankingItem:"_rankingItem_5yuyr_10"};function m({styles:e,itemType:r,options:n,onItemTransfer:t,onDoubleClick:l,onHover:a}){const d=i.useRef(null);return o.jsxs(f,{ref:d,className:e.dragContainer,sx:{backgroundColor:"background.default"},children:[n.map(((n,d)=>o.jsxs(i.Fragment,{children:[o.jsx(C,{itemType:r,index:d,onItemTransfer:t},"drop"+n.code),o.jsx(g,{index:d,onHover:a,itemType:r,option:n,rankingItemStyle:e.rankingItem,onDoubleClick:l},n.code)]},n.code))),o.jsx(C,{itemType:r,index:n.length,fillParent:!0,onItemTransfer:t},"last")]})}function g({option:r,onDoubleClick:n,rankingItemStyle:t,index:l,onHover:a,itemType:d}){var s;const c=i.useRef(),y={index:l,qualifiedCode:r.qualifiedCode},m=e(u({type:"rankingOption",item:y,collect:e=>{var n;return(null===(n=e.getItem())||void 0===n?void 0:n.qualifiedCode)===r.qualifiedCode}}),3),g=m[0],C=m[1],v=m[2],h=e(p({accept:"rankingOption",collect:e=>({handlerId:e.getHandlerId()}),hover(e,n){var t;if(!c.current||!n.isOver({shallow:!0})||!e)return;const o=e.index,i=l;if(o===i)return;const u=null===(t=c.current)||void 0===t?void 0:t.getBoundingClientRect(),s=(u.bottom-u.top)/2,f=n.getClientOffset().y-u.top;o<i&&f<s||o>i&&f>s||a(e,r,d,l)}}),2),b=h[0].handlerId;return(0,h[1])(v(c)),o.jsx("div",{ref:C,children:o.jsx(f,{ref:c,"data-handler-id":b,style:{opacity:g?"0.2":"1"},onDoubleClick:()=>n(y),className:t,sx:{backgroundColor:"background.paper"},children:null===(s=r.content)||void 0===s?void 0:s.label})})}function C({index:r,onItemTransfer:n,itemType:t,fillParent:l}){const a=i.useRef(),d=e(p({accept:"rankingOption",collect:e=>({handlerId:e.getHandlerId()}),hover(e,o){a.current&&o.isOver({shallow:!0})&&e&&n(e,r,t)}}),2),u=d[0].handlerId;return(0,d[1])(a),o.jsx("div",{style:{flex:l?1:"inherit",minHeight:"12px"},ref:a,"data-handler-id":u})}}}}))}();
