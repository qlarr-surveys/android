function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/DateTimeQuestion-CiT0YqKo.js","assets/index-BdaHkdQl.js","assets/index-BmhYX-UY.css","assets/index-CMMJWtX7.js","assets/dayjs.min-C6SlMFD4.js","assets/use-service-D09swmN7.js","assets/use-service-DUciyrhU.css","assets/DateTimePicker-DiuyYDe1.js","assets/Tabs-CXy611xA.js","assets/TextField-B66jFwFo.js","assets/useFormControl-BousA45m.js","assets/InputAdornment-CMc9n4GQ.js","assets/DatePicker-CCFeOqNk.js","assets/isTouchDevice-DBnnGyOq.js","assets/common-C_0iAd7K.js","assets/ArrowBack-l2Daik9b.js","assets/DateTimeQuestion-C1anl785.css","assets/Scq-BCG4VMbH.js","assets/RadioGroup-CqdWVjub.js","assets/RadioGroupContext-DPRdtZdW.js","assets/FormGroup-D1wY6CsR.js","assets/FormControlLabel-DrGXXvQK.js","assets/Radio-CnmABGZS.js","assets/SwitchBase-outpB1OY.js","assets/radioClasses-DNdhtY0L.js","assets/SCQArray-ZVV5KrJg.js","assets/TableRow-XbFzsXVn.js","assets/TableCell-CNVjjGNS.js","assets/tableRowClasses-D2zlaSzG.js","assets/TableHead-CYTlZN0Y.js","assets/Signature-DOsO5KCN.js","assets/Box-DN3Tm9NJ.js","assets/Signature-CHRXK0dC.css","assets/PhotoCapture-DMKCunoB.js","assets/PhotoCapture-BIZ8hIkP.css","assets/VideoCapture-Cj5WsTQ1.js","assets/index-XB5QbMEB.js","assets/Mcq-DoTHzWFs.js","assets/Checkbox-0qy6A3Vu.js","assets/NumberQuestion-DHwljPTl.js","assets/NumberQuestion-Cq_W17Ti.css","assets/TextQuestion-BcaYaNjs.js","assets/TextQuestion-3Ty2QsAN.css","assets/VideoDisplay-Bp8mM_5M.js","assets/ImageDisplay-BPtDbfsU.js","assets/ImageRanking-Czn4Ar3L.js","assets/ImageRanking-CZCVD-lo.css","assets/ParagraphQuestion-DlQ7RB9C.js","assets/ParagraphQuestion-5NMAMa5Z.css","assets/Barcode-wdVZy3i1.js","assets/EmailQuestion-BFxxmd9N.js","assets/EmailQuestion-BHNZRa2n.css","assets/ImageScq-CIPw0AE7.js","assets/ImageScq-DjMioY5r.css","assets/ImageMcq-70urzAiX.js","assets/ImageMcq-DZA6dA3H.css","assets/Ranking-BTPet5LP.js","assets/useDrop-DJ-jQUqd.js","assets/Ranking-DVCwiyGU.css","assets/NPS-CtNbmWuh.js","assets/NPS-DDcSn0Tx.css","assets/FileUpload-CRN1eKfF.js","assets/Link-Iys5U15E.js","assets/IconScq-B8QKnizp.js","assets/IconScq-QzeCkG46.css","assets/IconMcq-CjF13tBp.js","assets/SCQIconArray-zFTjakMq.js","assets/SCQArrayDesign.module-DzPJ62J5.js","assets/SCQArrayDesign-C945ENlx.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as t,B as j,R as l,y as m,r as y,z as Z,ah as ge,t as xe,x as ve,s as fe,C as he}from"./index-BdaHkdQl.js";import{d as A,y as Y,v as x,l as M,aL as V,$,D as J,an as W,aM as ye,aN as pe,I as O,aO as je,aK as ee,aP as Ce,aQ as te,A as Se,aR as ne,aS as N,aT as Ie,aU as oe,aV as Ee,aW as Te,a5 as qe,a1 as Re,G as De,a2 as be,T as ae,a3 as Le,ao as P,aX as ke}from"./use-service-D09swmN7.js";import{E as ze,c as Oe,D as Ne,i as Pe,T as we,H as Ve}from"./isTouchDevice-DBnnGyOq.js";import{b as ue}from"./common-C_0iAd7K.js";import{A as $e}from"./ArrowBack-l2Daik9b.js";function se(e,a){return e===a?e!==0||a!==0||1/e===1/a:e!==e&&a!==a}function I(e,a){if(se(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;const n=Object.keys(e),r=Object.keys(a);if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++)if(!Object.prototype.hasOwnProperty.call(a,n[c])||!se(e[n[c]],a[n[c]]))return!1;return!0}const Ae=A(t.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Me=A(t.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Qe=A(t.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),re=A(t.jsx("path",{d:"m21 11-6-6v5H8c-2.76 0-5 2.24-5 5v4h2v-4c0-1.65 1.35-3 3-3h7v5l6-6z"}),"Shortcut"),Ge="_mainContainer_hj1wb_1",He="_surveyDesignError_hj1wb_7",Fe="_goBack_hj1wb_17",ce={mainContainer:Ge,surveyDesignError:He,goBack:Fe},Be="qlarr-form",We="_content_ukoxz_1",Ue="_question_ukoxz_8",Ye="_required_ukoxz_12",Je="_header_ukoxz_16",Xe="_textDescription_ukoxz_20",Ke="_groupQuestion_ukoxz_25",w={content:We,question:Ue,required:Ye,header:Je,textDescription:Xe,groupQuestion:Ke},Ze="_wrapper_1hpga_1",et="_icon_1hpga_11",tt={wrapper:Ze,icon:et};function nt(e){const{t:a}=Y(["run"]);function n(){let r="";if(e.validation.content&&e.validation.isCustomErrorActive)r=e.validation.content;else{var c=e.name.replace(/[0-9]/g,"");r=a(c,{...e.validation})}return r?t.jsxs(j,{sx:{color:"error.main"},className:tt.wrapper,children:[t.jsx(ze,{}),r]}):""}return n()}function ot(e){const n=Oe([o=>(e.component.validation?o.runState.values[e.component.qualifiedCode]:{})||{}],o=>{var i={};return Object.keys(e.component.validation).forEach(_=>{var d=o[_];d&&(i[_]=d)}),i}),r=x(n);return(()=>{if(e.component.validation){let o=Object.keys(e.component.validation).filter(_=>r[_]),i=e.limit?e.limit:o.length;return o.slice(0,i).map((_,d)=>t.jsx(nt,{name:_,validation:e.component.validation[_]},d))}else return""})()}const H=l.lazy(()=>m(()=>import("./DateTimeQuestion-CiT0YqKo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),at=l.lazy(()=>m(()=>import("./Scq-BCG4VMbH.js"),__vite__mapDeps([17,1,2,5,6,9,10,18,19,20,21,22,23,24,13,14,15]))),st=l.lazy(()=>m(()=>import("./SCQArray-ZVV5KrJg.js"),__vite__mapDeps([25,1,2,5,6,26,27,28,29,22,23,10,19,24,13,14,15]))),rt=l.lazy(()=>m(()=>import("./Signature-DOsO5KCN.js"),__vite__mapDeps([30,1,2,5,6,31,32]))),ct=l.lazy(()=>m(()=>import("./PhotoCapture-DMKCunoB.js"),__vite__mapDeps([33,1,2,5,6,14,31,34]))),it=l.lazy(()=>m(()=>import("./VideoCapture-Cj5WsTQ1.js"),__vite__mapDeps([35,1,2,5,6,36,14,31,34]))),lt=l.lazy(()=>m(()=>import("./Mcq-DoTHzWFs.js"),__vite__mapDeps([37,1,2,5,6,21,9,10,38,23,18,19,20,13,14,15]))),ut=l.lazy(()=>m(()=>import("./NumberQuestion-DHwljPTl.js"),__vite__mapDeps([39,1,2,5,6,9,10,13,14,15,40]))),dt=l.lazy(()=>m(()=>import("./TextQuestion-BcaYaNjs.js"),__vite__mapDeps([41,1,2,5,6,9,10,13,14,15,42]))),mt=l.lazy(()=>m(()=>import("./VideoDisplay-Bp8mM_5M.js"),__vite__mapDeps([43,1,2,14,5,6,36]))),_t=l.lazy(()=>m(()=>import("./ImageDisplay-BPtDbfsU.js"),__vite__mapDeps([44,1,2,14,5,6]))),gt=l.lazy(()=>m(()=>import("./ImageRanking-Czn4Ar3L.js"),__vite__mapDeps([45,1,2,5,6,14,13,15,46]))),xt=l.lazy(()=>m(()=>import("./ParagraphQuestion-DlQ7RB9C.js"),__vite__mapDeps([47,1,2,5,6,9,10,13,14,15,48]))),vt=l.lazy(()=>m(()=>import("./Barcode-wdVZy3i1.js"),__vite__mapDeps([49,1,2,5,6,31,9,10,34]))),ft=l.lazy(()=>m(()=>import("./EmailQuestion-BFxxmd9N.js"),__vite__mapDeps([50,1,2,5,6,9,10,13,14,15,51]))),ht=l.lazy(()=>m(()=>import("./ImageScq-CIPw0AE7.js"),__vite__mapDeps([52,1,2,5,6,14,22,23,10,19,24,13,15,53]))),yt=l.lazy(()=>m(()=>import("./ImageMcq-70urzAiX.js"),__vite__mapDeps([54,1,2,5,6,14,38,23,10,13,15,55]))),pt=l.lazy(()=>m(()=>import("./Ranking-BTPet5LP.js"),__vite__mapDeps([56,1,2,5,6,31,57,13,14,15,58]))),jt=l.lazy(()=>m(()=>import("./NPS-CtNbmWuh.js"),__vite__mapDeps([59,1,2,5,6,13,14,15,60]))),ie=l.lazy(()=>m(()=>Promise.resolve().then(()=>kt),void 0)),Ct=l.lazy(()=>m(()=>import("./FileUpload-CRN1eKfF.js"),__vite__mapDeps([61,1,2,5,6,62,13,14,15]))),St=l.lazy(()=>m(()=>import("./IconScq-B8QKnizp.js"),__vite__mapDeps([63,1,2,5,6,13,14,15,64]))),It=l.lazy(()=>m(()=>import("./IconMcq-CjF13tBp.js"),__vite__mapDeps([65,1,2,5,6,13,14,15,64]))),Et=l.lazy(()=>m(()=>import("./SCQIconArray-zFTjakMq.js"),__vite__mapDeps([66,1,2,5,6,67,68,26,27,28,13,14,15]))),Tt=y.forwardRef((e,a)=>{var d,q,E,T;console.log("rendering: "+e.component.code);const n=x(R=>{let p=R.runState.values[e.component.qualifiedCode];return typeof(p==null?void 0:p.relevance)>"u"||(p==null?void 0:p.relevance)}),r=M(),c=((d=e.component.content)==null?void 0:d.description)&&V(e.component.content.description).length>0,o=((q=e.component.content)==null?void 0:q.label)&&V((E=e.component.content)==null?void 0:E.label).length>0,i=o||c,_=()=>{switch(e.component.type){case"date_time":return t.jsx(H,{component:e.component},e.component.qualifiedCode);case"date":return t.jsx(H,{component:e.component},e.component.qualifiedCode);case"time":return t.jsx(H,{component:e.component},e.component.qualifiedCode);case"scq":return t.jsx(at,{component:e.component},e.component.qualifiedCode);case"scq_array":return t.jsx(st,{component:e.component},e.component.qualifiedCode);case"scq_icon_array":return t.jsx(Et,{component:e.component},e.component.qualifiedCode);case"file_upload":return t.jsx(Ct,{component:e.component},e.component.qualifiedCode);case"signature":return t.jsx(rt,{component:e.component},e.component.qualifiedCode);case"photo_capture":return t.jsx(ct,{component:e.component},e.component.qualifiedCode);case"video_capture":return t.jsx(it,{component:e.component},e.component.qualifiedCode);case"mcq":return t.jsx(lt,{component:e.component},e.component.qualifiedCode);case"number":return t.jsx(ut,{component:e.component},e.component.qualifiedCode);case"text":return t.jsx(dt,{component:e.component},e.component.qualifiedCode);case"video_display":return t.jsx(mt,{component:e.component},e.component.qualifiedCode);case"image_display":return t.jsx(_t,{component:e.component},e.component.qualifiedCode);case"image_ranking":return t.jsx(gt,{component:e.component},e.component.qualifiedCode);case"paragraph":return t.jsx(xt,{component:e.component},e.component.qualifiedCode);case"barcode":return t.jsx(vt,{component:e.component},e.component.qualifiedCode);case"email":return t.jsx(ft,{component:e.component},e.component.qualifiedCode);case"image_scq":return t.jsx(ht,{component:e.component},e.component.qualifiedCode);case"icon_scq":return t.jsx(St,{component:e.component},e.component.qualifiedCode);case"icon_mcq":return t.jsx(It,{component:e.component},e.component.qualifiedCode);case"image_mcq":return t.jsx(yt,{component:e.component},e.component.qualifiedCode);case"ranking":return t.jsx(pt,{component:e.component},e.component.qualifiedCode);case"nps":return t.jsx(jt,{component:e.component},e.component.qualifiedCode);default:return""}};return n?t.jsxs(Dt,{qualifiedCode:e.component.qualifiedCode,ref:a,children:[i&&t.jsxs(t.Fragment,{children:[o&&t.jsx(j,{style:{fontFamily:r.textStyles.question.font,color:r.textStyles.text.color,fontSize:r.textStyles.question.size},children:t.jsx(ie,{className:"".concat(w.content," ").concat(w.question),name:"label",lang:e.lang,elementCode:e.component.qualifiedCode,content:(T=e.component.content)==null?void 0:T.label})}),c&&t.jsx(j,{className:w.textDescription,children:t.jsx(ie,{elementCode:e.component.code,name:"description",lang:e.lang,content:e.component.content.description})})]}),t.jsx(y.Suspense,{fallback:t.jsx(Z,{}),children:_()}),t.jsx(y.Suspense,{fallback:t.jsx(Z,{}),children:t.jsx(Rt,{component:e.component})})]}):""}),qt=l.memo(Tt),Rt=l.memo(({component:e})=>x(n=>{let r=n.runState.values[e.qualifiedCode],c=n.runState.values.Survey.show_errors,o=n.templateState[e.qualifiedCode],i=r==null?void 0:r.validity;return(c||o)&&i===!1})?t.jsx(ot,{component:e}):t.jsx(t.Fragment,{})),Dt=l.memo(e=>{const a=x(n=>{let r=n.runState.values[e.qualifiedCode],c=n.runState.values.Survey.show_errors,o=n.templateState[e.qualifiedCode],i=r==null?void 0:r.validity;return(c||o)&&i===!1});return t.jsx(j,{sx:{borderColor:a?"error.main":"grey.500"},className:"".concat(w.groupQuestion," ").concat(a?"invalidQuestion":""),children:e.children})});function bt(e){const a=e.content&&e.content.search(/data-instruction/)>=0,n=x(o=>{if(!(!e.content||!a||!o.runState.values[e.elementCode]||!e.name||!e.lang))return o.runState.values[e.elementCode]["reference_".concat(e.name,"_").concat(e.lang)]}),r=x(o=>o.runState.values.Survey.lang),c=$.includes(r);return e.content?a?t.jsx("div",{className:"".concat(c?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:Lt(e.content,n)}}):t.jsx("div",{className:"".concat(c?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:e.content}}):""}const U=l.memo(bt);function Lt(e,a){let n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll("span[data-instruction]").forEach(function(r){let c=r.getAttribute("data-instruction");if(c&&a){let o=c.split(".");o&&o.length==2&&a[o[0]]&&a[o[0]][o[1]]?r.replaceWith(a[o[0]][o[1]]):r.replaceWith("")}else r.replaceWith("")}),n.innerHTML}const kt=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),zt="_textDescription_1s2gp_1",Ot="_titleRow_1s2gp_6",Nt="_groupHeader_1s2gp_16",Pt="_topLevel_1s2gp_20",F={textDescription:zt,titleRow:Ot,groupHeader:Nt,topLevel:Pt};function wt(e){const a=M(),n=x(c=>{let o=c.runState.values[e.group.code];return{showGroup:typeof(o==null?void 0:o.relevance)>"u"||o.relevance}},I),r=()=>{var c,o,i;return t.jsx(t.Fragment,{children:t.jsxs(j,{className:F.topLevel,sx:{borderRadius:"4px",backgroundColor:a.palette.background.paper},children:[t.jsxs("div",{className:F.groupHeader,children:[t.jsx("div",{style:{fontFamily:a.textStyles.group.font,color:a.textStyles.group.color,fontSize:a.textStyles.group.size},children:t.jsx(U,{elementCode:e.group.code,name:"label",lang:e.lang,content:(c=e.group.content)==null?void 0:c.label})}),((o=e.group.content)==null?void 0:o.description)&&t.jsx(j,{className:F.textDescription,children:t.jsx(U,{elementCode:e.group.code,name:"description",lang:e.lang,content:(i=e.group.content)==null?void 0:i.description})})]}),e.group&&e.group.questions?e.group.questions.filter(_=>_.inCurrentNavigation).map(_=>t.jsx(qt,{component:_,lang:e.lang},_.code)):""]})})};return n.showGroup&&(e.group?r():"")}const Vt=l.memo(wt),$t="_buttonContainer_en8dn_1",At={buttonContainer:$t};function Mt(e){const a=x(d=>({has_previous:d.runState.values.Survey.has_previous&&d.runState.data.survey.allowPrevious,has_next:d.runState.values.Survey.has_next,can_save:d.runState.data.survey.allowIncomplete,has_errors:d.runState.values.Survey.show_errors}),I),n=J(),{t:r,i18n:c}=Y("run"),o=$.includes(c.language),i=()=>{n(ye())};y.useEffect(()=>{a.has_errors&&setTimeout(()=>{const d=document.querySelector(".invalidQuestion");d&&d.scrollIntoView({behavior:"smooth",block:"center"})},500)},[a.has_errors]);const _=()=>{n(pe())};return e.navigationIndex.name=="end"?"":t.jsxs("div",{className:At.buttonContainer,children:[a.has_previous?t.jsx(W,{variant:"contained",className:o?"ml-14":"mr-14",onClick:()=>{i()},children:r("previous")}):"",t.jsx(W,{variant:"contained",onClick:()=>{_()},children:a.has_next?r("next"):r("finish")})]})}const Qt="_surveyContent_169ct_1",Gt="_surveyGroups_169ct_5",Ht="_cardImage_169ct_11",Ft="_mainContainer_169ct_20",Bt="_stepperContent_169ct_26",Wt="_menuButton_169ct_42",B={surveyContent:Qt,surveyGroups:Gt,cardImage:Ht,mainContainer:Ft,stepperContent:Bt,menuButton:Wt};function Ut(){var c;const e=M(),a=x(o=>{var i;return(i=o.runState.data)==null?void 0:i.navigationIndex},I),n=x(o=>{var i;return(i=o.runState.data)==null?void 0:i.survey},I),r=x(o=>{var i;return(i=o.runState.data)==null?void 0:i.lang},I);return t.jsx(Ne,{backend:Pe()?we:Ve,children:t.jsx("form",{id:Be,className:B.mainContainer,style:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size},children:t.jsxs("div",{className:B.surveyGroups,children:[(c=n.resources)!=null&&c.headerImage?t.jsx(CardMedia,{className:B.cardImage,component:"img",image:ue(n.resources.headerImage)}):null,n&&n.groups?n.groups.filter(o=>o.inCurrentNavigation).map((o,i)=>t.jsx("div",{id:"group-".concat(i),"data-index":i,className:"groupContainer",children:t.jsx(Vt,{group:o,lang:r.code,groupIndex:i})},o.code)):"",t.jsx(Mt,{navigationIndex:a})]})})})}const Yt="_menuIcon_16cwa_1",Jt="_surveyContent_16cwa_7",Xt="_groupTitleContainer_16cwa_21",Kt="_actionsContainer_16cwa_27",Zt="_groupTitle_16cwa_21",en="_questionText_16cwa_34",tn="_expandIcon_16cwa_50",nn="_questionContainer_16cwa_56",on="_boldText_16cwa_70",an="_redAsterix_16cwa_75",sn="_slideInLeft_16cwa_81",h={menuIcon:Yt,surveyContent:Jt,groupTitleContainer:Xt,actionsContainer:Kt,groupTitle:Zt,questionText:en,expandIcon:tn,questionContainer:nn,boldText:on,redAsterix:an,slideInLeft:sn};function rn(){const e=J(),a=M(),n=x(s=>{var u;return(u=s.runState.data)==null?void 0:u.navigationIndex},I),r=x(s=>{var u;return(u=s.runState.data)==null?void 0:u.survey},I),[c,o]=y.useState({}),[i,_]=y.useState(!1),d=x(s=>s.runState.values.Survey.relevance_map,I),q=x(s=>s.runState.data.survey.allowJump,I),E=s=>n.name==="question"&&s===n.questionId,T=s=>q&&!E(s)&&n.name==="question",R=s=>{T(s)&&e(te({...n,questionId:s}))},p=s=>{if(n.name==="group")return s===n.groupId;if(n.name==="question"){const u=r.groups.find(f=>f.questions.some(v=>v.code===n.questionId));return(u==null?void 0:u.code)===s}return!1},Q=s=>q&&!p(s)&&n.name=="group",D=s=>{Q(s)&&e(te({...n,groupId:s}))},G=(s,u)=>{s.stopPropagation(),o(f=>({...f,[u]:!f[u]}))},b=()=>{_(s=>!s)},L=x(s=>s.runState.values.Survey.validity_map,I);return y.useEffect(()=>{if(n.name==="question"){const s=r.groups.find(u=>u.questions.some(f=>f.code===n.questionId));if(s){const u=r.groups.indexOf(s);o({...c,[u]:!0})}}else if(n.name==="group"){const s=r.groups.findIndex(u=>u.code===n.groupId);s!==-1&&o({...c,[s]:!0})}},[n,r.groups]),n.name=="groups"?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[!i&&t.jsx(O,{className:"".concat(h.menuIcon," ").concat(h.slideInLeft),onClick:b,"aria-label":"open index",children:t.jsx(Qe,{})}),i&&t.jsxs("div",{style:{backgroundColor:a.palette.background.paper},className:"".concat(h.surveyContent," ").concat(h.slideInLeft),children:[t.jsx(O,{onClick:b,sx:{width:"fit-content"},"aria-label":"close index",children:t.jsx($e,{sx:{color:a.textStyles.group.color,marginRight:"auto"}})}),r.groups.filter(s=>d[s.code]&&s.groupType!=="END").map((s,u)=>{var f;return t.jsxs("div",{children:[t.jsxs("div",{className:h.groupTitleContainer,onClick:()=>D(s.code),children:[t.jsxs(j,{className:"".concat(h.groupTitle," ").concat(p(s.code)?h.boldText:""),children:[je("".concat(s.groupType),void 0,a.textStyles.group.color),ee(V((f=s.content)==null?void 0:f.label),30)]}),t.jsxs("div",{className:h.actionsContainer,children:[n.name=="group"&&!p(s.code)&&t.jsx(O,{className:h.jumpIcon,onClick:()=>D(s.code),children:t.jsx(re,{sx:{color:a.textStyles.group.color}})}),t.jsx(O,{className:h.expandIcon,onClick:v=>G(v,u),children:c[u]?t.jsx(Ae,{sx:{color:a.textStyles.group.color}}):t.jsx(Me,{sx:{color:a.textStyles.group.color}})})]})]}),c[u]&&t.jsx("div",{className:h.questionContainer,children:s.questions.filter(v=>d[v.code]).map((v,X)=>{var k;return t.jsxs(j,{onClick:()=>R(v.code),className:"\n                                                        ".concat(h.questionText," \n                                                        ").concat(E(v.code)?h.boldText:""," \n                                                        ").concat(p(s.code)&&n.name!=="question"?h.boldText:"","\n                                                        "),style:{cursor:T(v.code)?"pointer":"default"},children:[t.jsxs(j,{display:"flex",alignItems:"center",gap:1,children:[Ce("".concat(v.type),void 0,a.textStyles.group.color),ee(V((k=v.content)==null?void 0:k.label),25),!L[v.code]&&t.jsx("span",{className:h.redAsterix,children:"*"})]}),n.name=="question"&&!E(v.code)&&t.jsx(O,{className:h.jumpIcon,children:t.jsx(re,{sx:{color:a.textStyles.group.color}})})]},v.code)})})]},s.code)})]})]})}const cn="_loadingWrapper_14e4d_1",ln="_loadingDots_14e4d_13",un="_l1_14e4d_1",le={loadingWrapper:cn,loadingDots:ln,l1:un};function dn(){var i,_;const e=ge(),a=x(d=>d.templateState.isLoading),[n,r]=y.useState(!1),[c,o]=y.useState(!1);return y.useEffect(()=>{let d;return a?(r(!0),o(!1),d=setTimeout(()=>{o(!0)},200)):c?r(!1):d=setTimeout(()=>{r(!1)},200),()=>clearTimeout(d)},[a,c]),n?t.jsx(j,{className:le.loadingWrapper,children:t.jsx(j,{style:{background:"radial-gradient(circle closest-side, ".concat((_=(i=e==null?void 0:e.palette)==null?void 0:i.primary)==null?void 0:_.main," 90%, #0000) 0 / calc(100% / 3) 100% space")},className:le.loadingDots})}):t.jsx(t.Fragment,{})}function mn({preview:e,guest:a,mode:n,resume:r=!1,responseId:c}){const o=Se("run"),i=xe(),d=new URLSearchParams(i.search).get("lang"),[q,E]=l.useState(!1),[T,R]=l.useState(!1),[p,Q]=l.useState(!1),D=x(g=>{var S,C;return(C=(S=g.runState.data)==null?void 0:S.survey)==null?void 0:C.theme},ne),G=x(g=>{var S;return(S=g.runState.data)==null?void 0:S.responseId}),b=x(g=>{var S,C,K;return(K=(C=(S=g.runState.data)==null?void 0:S.survey)==null?void 0:C.resources)==null?void 0:K.backgroundImage}),L=x(g=>g.runState.navigation,ne),{t:s,i18n:u}=Y("run"),f=J();y.useEffect(()=>{L&&k(L,G)},[L]),y.useEffect(()=>{$.includes(u.language)?document.dir="rtl":document.dir="ltr"},[u.language]);const v=g=>{[P.SURVEY_DESIGN_ERROR,P.SURVEY_NOT_ACTIVE,P.SURVEY_CLOSED,P.SURVEY_EXPIRED,P.SURVEY_SCHEDULED].indexOf(g)>-1?Q(g):R(g),f(N(!1))},X=()=>{ke(o,d,e,a,n).then(g=>{E(!0),f(oe({response:g,preview:e})),sessionStorage.setItem("responseId",g.responseId),u.changeLanguage(g.lang.code),f(N(!1))}).catch(g=>{v(g)})},k=(g,S)=>{f(N(!0)),Ie(o,g,S,e,a,n).then(C=>{E(!0),f(oe({response:C,preview:e})),sessionStorage.setItem("responseId",C.responseId),u.changeLanguage(C.lang.code),f(N(!1))}).catch(C=>{v(C)})};y.useEffect(()=>{document.body.style.overflow="visible",f(N(!0)),Ee(o,e,a).then(()=>{r?k({navigationDirection:{name:"RESUME"}},c):X()}).catch(g=>{v(g)})},[]);const z=y.useMemo(()=>ve({...Te(D),direction:$.includes(u.language)?"rtl":"ltr"}),[u.language,D]),de=y.useMemo(()=>qe(u.language),[u.language]),me=fe(),_e=b?{backgroundImage:"url(".concat(ue(b),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return t.jsxs(t.Fragment,{children:[t.jsx(he,{value:de,children:t.jsxs(Re,{theme:z,children:[T&&t.jsx(De,{error:T,setErrorSeen:()=>{R(null)}}),q&&t.jsxs("div",{className:ce.mainContainer,style:{backgroundColor:z.palette.background.default,fontFamily:z.textStyles.text.font,color:z.textStyles.text.color,fontSize:z.textStyles.text.size,..._e},children:[t.jsx(rn,{}),t.jsx(dn,{}),t.jsx(_n,{},"Survey")]})]})}),p&&t.jsx(j,{style:{height:"100%",overflow:"auto"},children:t.jsxs(be,{children:[t.jsx(ae,{variant:"h3",paragraph:!0,children:s("error")}),t.jsx(ae,{sx:{color:"text.secondary"},children:s("processed_errors."+p.name)}),t.jsx(Le,{alt:"500",src:"/illustration_500.svg",sx:{mx:"auto",maxWidth:320,my:{xs:5,sm:8}}}),t.jsx(W,{fullWidth:!0,size:"large",color:"inherit",variant:"contained",className:ce.goBack,onClick:()=>me(-1),children:s("goBack")})]})})]})}const _n=l.memo(Ut),yn=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"}));export{mn as R,ot as V,nt as a,yn as i,I as s};
