import{r as h,j as n,B as F}from"./index-BPkE25ts.js";import{w,H as v,aR as p,R as q,aS as x,a_ as u,aw as R}from"./use-service-Bb7LY6Q3.js";import{V as b}from"./index-DrOR_lvT.js";import{F as A}from"./FormControlLabel-sZjcD-3I.js";import{C as y}from"./Checkbox-Dntn-pZ4.js";import{R as M}from"./RadioGroup-BY1n1_5p.js";import{T}from"./TextField-M1IR9KQb.js";import"./isTouchDevice-ByQSu3Gj.js";import"./common-D9PPFwWu.js";import"./CardMedia-Q0SAzLl_.js";import"./Card-D1gdhD1c.js";import"./Toolbar-DcOb7dJo.js";import"./SwitchBase-CHSPGF-1.js";import"./RadioGroupContext-ySnErr_L.js";import"./FormGroup-BccPKpRL.js";function z(t){var m;const o=w(),l=v(d=>{var f;let a=d.runState.values[(f=t.Answer)==null?void 0:f.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,checked:(a==null?void 0:a.value)||!1}},p),s=q(),i=d=>{s(x({componentCode:d.target.name,value:d.target.checked})),s(u(d.target.name)),s(u(t.parentCode))};return l.showAnswer?n.jsx(A,{control:n.jsx(y,{checked:l.checked,onChange:i,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx(F,{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size},children:(m=t.Answer.content)==null?void 0:m.label})}):""}const B=h.memo(z);function I(t){return n.jsx(R,{component:"fieldset",children:n.jsx(M,{children:t.component.answers.map(o=>o.type==="other"?n.jsx(V,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode):n.jsx(B,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode))})})}function V(t){const o=w(),l=t.Answer.answers[0],s=v(e=>{var C;let r=e.runState.values[t.Answer.qualifiedCode],c=e.runState.values[l.qualifiedCode],j=e.runState.values.Survey.show_errors,k=e.templateState[l.qualifiedCode];return{showAnswer:typeof(r==null?void 0:r.relevance)>"u"||r.relevance,childInvalid:(j||k)&&(c==null?void 0:c.relevance)===!0&&(c==null?void 0:c.validity)===!1,checked:(r==null?void 0:r.value)||!1,textValue:(c==null?void 0:c.value)||"",textRelevance:(C=e.textChild)==null?void 0:C.relevance}},p),i=q(),m=e=>{i(x({componentCode:e.target.name,value:e.target.checked})),i(u(e.target.name)),i(u(t.parentCode)),e.target.checked&&a.current.focus()},d=e=>{i(x({componentCode:e.target.name,value:e.target.value}))},a=h.useRef(),f=e=>{i(x({componentCode:t.Answer.qualifiedCode,value:!0}))},g=e=>{i(u(e.target.name))},S=()=>{var e,r;return n.jsx(A,{control:n.jsx(y,{checked:s.checked,onChange:m,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx("div",{className:"w-100",children:n.jsx(T,{variant:"standard",required:s.textRelevance&&((e=l.validation)==null?void 0:e.required),inputRef:a,id:l.qualifiedCode,name:l.qualifiedCode,label:(r=t.Answer.content)==null?void 0:r.label,onChange:d,onFocus:f,onBlur:g,sx:{label:{color:o.textStyles.text.color}},value:s.textValue,InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},helperText:s.childInvalid?n.jsx(b,{component:l,limit:1}):""})})})};return s.showAnswer?S():""}const Y=h.memo(I);export{Y as default};
