import{j as r,R as c,y as w}from"./index-DrdL8HT2.js";import{H as d,U as C,aT as g}from"./use-service-0Fq5u1zn.js";import{V as b}from"./index-DQ4E-_8z.js";import{D as T}from"./index-Cv9cUi3I.js";import{b as p}from"./common-5BhfyGYi.js";import{T as R,a as q,c as D,b as f}from"./TableRow-BbZSZcIZ.js";import{T as m}from"./TableCell-DKckLh6O.js";import"./isTouchDevice-CHtK4r2d.js";import"./CardMedia-CIEe5zwn.js";import"./Card-Dppxln-L.js";import"./Toolbar-CWuxDDNF.js";import"./tableRowClasses-Dzs-lpCH.js";function G(s){let o=s.component.answers.filter(a=>a.type=="column"),i=s.component.answers.filter(a=>a.type=="row");return r.jsx(R,{children:r.jsx(q,{children:r.jsx(D,{children:i.map(a=>r.jsx(c.Fragment,{children:r.jsx(B,{answer:a,choices:o},a.qualifiedCode)},a.qualifiedCode))})})})}function B(s){var x;const o=w(),i=d(e=>{var n;return(n=e.templateState[s.answer.qualifiedCode])==null?void 0:n.isDirty}),a=d(e=>e.runState.values.Survey.show_errors),t=d(e=>e.runState.values[s.answer.qualifiedCode]),y=c.useMemo(()=>t==null?void 0:t.validity,[t]),j=c.useMemo(()=>t==null?void 0:t.value,[t]),u=c.useMemo(()=>t==null?void 0:t.relevance,[t]),v=C(),S=e=>{v(g({componentCode:s.answer.qualifiedCode,value:e}))},l=(a||i)&&y===!1;return typeof u>"u"||u?r.jsxs(c.Fragment,{children:[r.jsxs(f,{children:[r.jsx(m,{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size,borderBottom:l?"0":"",padding:"8px"},children:(x=s.answer.content)==null?void 0:x.label}),s.choices.map(e=>{var n,h;return r.jsx(m,{component:"th",scope:"row",sx:{borderBottom:l?"0":"",padding:"8px"},children:r.jsx(T,{onIconClick:()=>S(e.code),imageHeight:"64px",isSelected:j==e.code,theme:o,svgUrl:(n=e==null?void 0:e.resources)!=null&&n.icon?p((h=e==null?void 0:e.resources)==null?void 0:h.icon):void 0})},e.code)})]},s.answer.code),l?r.jsx(f,{children:r.jsx(m,{sx:{padding:"8px"},colSpan:s.choices?s.choices.length+1:1,children:r.jsx(b,{component:s.answer})})}):""]}):""}export{G as default};
