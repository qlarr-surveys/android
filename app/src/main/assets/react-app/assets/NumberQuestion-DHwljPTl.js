import{j as v}from"./index-BdaHkdQl.js";import{l as q,v as y,D as _,aq as f,av as S}from"./use-service-D09swmN7.js";import{s as D}from"./index-Djh-vddw.js";import{T as N}from"./TextField-B66jFwFo.js";import"./isTouchDevice-DBnnGyOq.js";import"./common-C_0iAd7K.js";import"./ArrowBack-l2Daik9b.js";import"./useFormControl-BousA45m.js";const I="_questionItem_7ep8w_1",j={questionItem:I};function P(o){var m,c,u;const r=q(),n=y(e=>{let t=e.runState.values[o.component.qualifiedCode],l=e.runState.values.Survey.show_errors,a=e.templateState[o.component.qualifiedCode],s=t==null?void 0:t.validity,d=(l||a)&&s===!1;return{value:t==null?void 0:t.value,invalid:d}},D),i=_(),p=(e,t)=>{const l=o.component.decimal_separator=="."?/^[0-9]+\.?[0-9]*$/:o.component.decimal_separator==","?/^[0-9]+,?[0-9]*$/:/^[0-9]*$/;if(t!="")if(l.test(t)){let a=x(t),s=+a;return isNaN(s)?e:a}else return e},x=e=>o.component.decimal_separator!=","?e:e.toString().replace(",","."),h=e=>e===void 0?"":o.component.decimal_separator==","?e.toString().replace(".",","):e,g=e=>{i(f({componentCode:e.target.name,value:p(n.value,e.target.value)}))},C=e=>{i(S(e.target.name));let t=+n.value;isNaN(t)||i(f({componentCode:o.component.qualifiedCode,value:t}))};return v.jsx("div",{className:j.questionItem,children:v.jsx(N,{variant:"standard",required:!!((c=(m=o.component.validation)==null?void 0:m.validation_required)!=null&&c.isActive),id:o.component.qualifiedCode,name:o.component.qualifiedCode,label:((u=o.component.content)==null?void 0:u.hint)||"",onChange:g,onBlur:C,inputProps:{maxLength:o.component.maxChars||void 0},value:h(n.value),error:n.invalid,InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size,borderBottom:"1px solid"}}})})}export{P as default};
