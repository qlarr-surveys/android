import{r as v,m as l}from"./index-GpgTsJG-.js";import{b as S,J as g,E as h,H as w,O as V,L as C,Q as f,N as M,K as O,V as z}from"./Android-VO6a0haY.js";import{F as q,R as E}from"./RadioGroup-DpqFD69m.js";import{C as y}from"./Checkbox-BdXXetCG.js";import"./RadioGroupContext-CMtudkxs.js";import"./SwitchBase-28S_EvSP.js";function I(e){var c;const n=S(),s=g(),x=h(d=>{var i;let o=d.runState.values[(i=e.Answer)==null?void 0:i.qualifiedCode];return typeof(o==null?void 0:o.relevance)>"u"||o.relevance},w),m=h(d=>d.runState.values[e.parentCode].value||[],w),u=d=>{let o=[...m];d.target.checked?o.push(e.Answer.code):o=o.filter(i=>i!==e.Answer.code),s(C({componentCode:e.parentCode,value:o})),s(f(d.target.name)),s(f(e.parentCode))};return x?l.jsx(q,{control:l.jsx(y,{checked:m.indexOf(e.Answer.code)>-1,onChange:u,name:e.Answer.qualifiedCode,sx:{color:n.textStyles.text.color}}),label:l.jsx(V,{elementCode:e.Answer.code,fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,name:"label",lang:e.lang,content:(c=e.Answer.content)==null?void 0:c.label})}):""}const T=v.memo(I);function D(e){return l.jsx(M,{component:"fieldset",children:l.jsx(E,{children:e.component.answers.map(n=>n.type==="other"?l.jsx(Q,{Answer:n,parentCode:e.component.qualifiedCode},n.qualifiedCode):l.jsx(T,{lang:e.lang,Answer:n,parentCode:e.component.qualifiedCode},n.qualifiedCode))})})}function Q(e){const n=S(),s=e.Answer.answers[0],x=h(t=>t.runState.values[e.parentCode].value||[],w),m=x.indexOf(e.Answer.code)>-1,u=h(t=>{var A;let a=t.runState.values[e.Answer.qualifiedCode],r=t.runState.values[s.qualifiedCode],k=t.runState.values.Survey.show_errors,R=t.templateState[s.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,childInvalid:(k||R)&&(r==null?void 0:r.relevance)===!0&&(r==null?void 0:r.validity)===!1,textValue:(r==null?void 0:r.value)||"",textRelevance:(A=t.textChild)==null?void 0:A.relevance}},w),c=g(),d=t=>{let a=[...x];t.target.checked?a.push(e.Answer.code):a=a.filter(r=>r!==e.Answer.code),c(C({componentCode:e.parentCode,value:a})),c(f(t.target.name)),c(f(e.parentCode)),t.target.checked&&i.current.focus()},o=t=>{c(C({componentCode:t.target.name,value:t.target.value}))},i=v.useRef(),j=t=>{let a=[...x];a.indexOf(e.Answer.code)==-1&&(a.push(e.Answer.code),c(C({componentCode:e.parentCode,value:a})))},b=t=>{c(f(t.target.name))},F=()=>{var t,a;return l.jsx(q,{control:l.jsx(y,{checked:m,onChange:d,name:e.Answer.qualifiedCode,sx:{color:n.textStyles.text.color}}),label:l.jsx("div",{className:"w-100",children:l.jsx(O,{variant:"standard",required:u.textRelevance&&((t=s.validation)==null?void 0:t.required),inputRef:i,id:s.qualifiedCode,name:s.qualifiedCode,label:(a=e.Answer.content)==null?void 0:a.label,onChange:o,onFocus:j,onBlur:b,sx:{label:{color:n.textStyles.text.color}},value:u.textValue,InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},helperText:u.childInvalid?l.jsx(z,{component:s,limit:1}):""})})})};return u.showAnswer?F():""}const J=v.memo(D);export{J as default};
