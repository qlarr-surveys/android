import{r as h,m as o,a4 as b}from"./index-HR65SBX2.js";import{b as v,D as w,E as q,H as A,J as f,L as u,K as F,V as R}from"./Android-DFzXdumr.js";import{F as y,R as M}from"./RadioGroup-BNB4cZES.js";import{C as g}from"./Checkbox-Co1zceuz.js";import{T}from"./TextField-CLrrIZhr.js";import"./RadioGroupContext-DSQs9NSv.js";import"./SwitchBase-BvX5SSQs.js";function z(t){var m;const n=v(),l=w(d=>{var x;let a=d.runState.values[(x=t.Answer)==null?void 0:x.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,checked:(a==null?void 0:a.value)||!1}},q),s=A(),i=d=>{s(f({componentCode:d.target.name,value:d.target.checked})),s(u(d.target.name)),s(u(t.parentCode))};return l.showAnswer?o.jsx(y,{control:o.jsx(g,{checked:l.checked,onChange:i,name:t.Answer.qualifiedCode,sx:{color:n.textStyles.text.color}}),label:o.jsx(b,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},children:(m=t.Answer.content)==null?void 0:m.label})}):""}const D=h.memo(z);function E(t){return o.jsx(F,{component:"fieldset",children:o.jsx(M,{children:t.component.answers.map(n=>n.type==="other"?o.jsx(I,{Answer:n,parentCode:t.component.qualifiedCode},n.qualifiedCode):o.jsx(D,{Answer:n,parentCode:t.component.qualifiedCode},n.qualifiedCode))})})}function I(t){const n=v(),l=t.Answer.answers[0],s=w(e=>{var C;let r=e.runState.values[t.Answer.qualifiedCode],c=e.runState.values[l.qualifiedCode],p=e.runState.values.Survey.show_errors,k=e.templateState[l.qualifiedCode];return{showAnswer:typeof(r==null?void 0:r.relevance)>"u"||r.relevance,childInvalid:(p||k)&&(c==null?void 0:c.relevance)===!0&&(c==null?void 0:c.validity)===!1,checked:(r==null?void 0:r.value)||!1,textValue:(c==null?void 0:c.value)||"",textRelevance:(C=e.textChild)==null?void 0:C.relevance}},q),i=A(),m=e=>{i(f({componentCode:e.target.name,value:e.target.checked})),i(u(e.target.name)),i(u(t.parentCode)),e.target.checked&&a.current.focus()},d=e=>{i(f({componentCode:e.target.name,value:e.target.value}))},a=h.useRef(),x=e=>{i(f({componentCode:t.Answer.qualifiedCode,value:!0}))},S=e=>{i(u(e.target.name))},j=()=>{var e,r;return o.jsx(y,{control:o.jsx(g,{checked:s.checked,onChange:m,name:t.Answer.qualifiedCode,sx:{color:n.textStyles.text.color}}),label:o.jsx("div",{className:"w-100",children:o.jsx(T,{variant:"standard",required:s.textRelevance&&((e=l.validation)==null?void 0:e.required),inputRef:a,id:l.qualifiedCode,name:l.qualifiedCode,label:(r=t.Answer.content)==null?void 0:r.label,onChange:d,onFocus:x,onBlur:S,sx:{label:{color:n.textStyles.text.color}},value:s.textValue,InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},helperText:s.childInvalid?o.jsx(R,{component:l,limit:1}):""})})})};return s.showAnswer?j():""}const J=h.memo(E);export{J as default};
