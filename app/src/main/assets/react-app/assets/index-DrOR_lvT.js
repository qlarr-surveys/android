const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DateTimeQuestion-bt_a1zjr.js","assets/index-BPkE25ts.js","assets/index-CL9R7XXV.css","assets/index-B04T1rGa.js","assets/dayjs.min-D0r0z_Uh.js","assets/use-service-Bb7LY6Q3.js","assets/use-service-CgUq6kjZ.css","assets/DateTimePicker-Cm0iIfH5.js","assets/Tabs-ui_O5_y9.js","assets/InputAdornment-BqPPlMsg.js","assets/TextField-M1IR9KQb.js","assets/DatePicker-C77G4fGC.js","assets/DateTimeQuestion-B594QKUB.css","assets/Scq-QANOVG_u.js","assets/RadioGroup-BY1n1_5p.js","assets/RadioGroupContext-ySnErr_L.js","assets/FormGroup-BccPKpRL.js","assets/FormControlLabel-sZjcD-3I.js","assets/Radio-BGDNdbh4.js","assets/SwitchBase-CHSPGF-1.js","assets/radioClasses-CjX8ViDh.js","assets/isTouchDevice-ByQSu3Gj.js","assets/common-D9PPFwWu.js","assets/CardMedia-Q0SAzLl_.js","assets/Card-D1gdhD1c.js","assets/Toolbar-DcOb7dJo.js","assets/SCQArray-2H78-NQf.js","assets/TableRow-Beq5cqAM.js","assets/TableCell-BjKLxRk-.js","assets/tableRowClasses-JqPlK2IC.js","assets/Signature-CCW862VB.js","assets/Signature-CMHCGb28.css","assets/PhotoCapture-DfxlfEaA.js","assets/PhotoCapture-BFqZZm7P.css","assets/VideoCapture-DQsIUc-i.js","assets/index-DKHp5Ldb.js","assets/Mcq-BSZadvHm.js","assets/Checkbox-Dntn-pZ4.js","assets/NumberQuestion-BXlqzwHI.js","assets/NumberQuestion-IysTWUXP.css","assets/TextQuestion-DaEvxub0.js","assets/TextQuestion-BL8yV1cN.css","assets/VideoDisplay-BqiwmHvr.js","assets/ImageDisplay-ChnBVh67.js","assets/ImageRanking-C3o4iwL5.js","assets/ImageRanking-q-s29UE-.css","assets/ParagraphQuestion-DlOg6gnu.js","assets/ParagraphQuestion-BltoT_DZ.css","assets/Barcode-2rSqhqhZ.js","assets/EmailQuestion-Cwc0vAF9.js","assets/EmailQuestion-DbCVFKu-.css","assets/ImageScq-BBaEvjXp.js","assets/ImageScq-twdsAvoA.css","assets/ImageMcq-dez3FWNd.js","assets/ImageMcq-CZOv3YTx.css","assets/Ranking-BTLmC_Ko.js","assets/useDrop-C3oBIppg.js","assets/Ranking-C22YgBJE.css","assets/NPS-D3yyj8uN.js","assets/NPS-DcRQvIUq.css","assets/FileUpload-DHyfbWmr.js","assets/Link-DZrEZT2W.js","assets/IconScq-CF0ovGL7.js","assets/index-DBVE09D9.js","assets/index-C9i5xVxU.css","assets/IconScq-XOquJP7F.css","assets/IconMcq-BvMk25Q5.js","assets/SCQIconArray-DH13M5go.js"])))=>i.map(i=>d[i]);
import{f as Le,ak as Pe,ae as ze,r as h,b as ie,j as t,_ as S,h as J,d as G,B as N,R as d,z as v,A as _e,y as de,q as Ne,t as Ae,x as Oe,s as $e,C as Ve}from"./index-BPkE25ts.js";import{w as F,b as Me,aZ as Be,aY as Ie,bf as He,bg as Qe,bh as fe,f as me,aL as Fe,l as We,h as Ge,j as Ye,z as Ue,c as Xe,bi as Je,M as ee,H as x,bj as Z,ao as K,aR as C,R as te,aC as ce,bk as Ze,bl as Ke,bm as et,bn as xe,T as le,I as Te,aN as tt,K as nt,aw as ot,S as at,bo as rt,N as ve,Q as st,bp as he,bq as H,br as it,bs as pe,bt as ct,bu as lt,au as ut,aq as dt,Z as mt,ar as gt,as as _t,aM as Q,bv as ft}from"./use-service-Bb7LY6Q3.js";import{E as xt,c as vt,D as ht,i as pt,T as yt,H as jt}from"./isTouchDevice-ByQSu3Gj.js";import{b as De}from"./common-D9PPFwWu.js";import{C as Et}from"./CardMedia-Q0SAzLl_.js";import{C as Ct}from"./Card-D1gdhD1c.js";import{T as St}from"./Toolbar-DcOb7dJo.js";const bt=Le("MuiBox",["root"]),ye=Pe({defaultClassName:bt.root,generateClassName:ze.generate}),It=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Tt(e,n,r){const o=n.getBoundingClientRect(),s=r&&r.getBoundingClientRect(),a=Ie(n);let i;if(n.fakeTransform)i=n.fakeTransform;else{const f=a.getComputedStyle(n);i=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let m=0,u=0;if(i&&i!=="none"&&typeof i=="string"){const f=i.split("(")[1].split(")")[0].split(",");m=parseInt(f[4],10),u=parseInt(f[5],10)}return e==="left"?s?"translateX(".concat(s.right+m-o.left,"px)"):"translateX(".concat(a.innerWidth+m-o.left,"px)"):e==="right"?s?"translateX(-".concat(o.right-s.left-m,"px)"):"translateX(-".concat(o.left+o.width-m,"px)"):e==="up"?s?"translateY(".concat(s.bottom+u-o.top,"px)"):"translateY(".concat(a.innerHeight+u-o.top,"px)"):s?"translateY(-".concat(o.top-s.top+o.height-u,"px)"):"translateY(-".concat(o.top+o.height-u,"px)")}function Dt(e){return typeof e=="function"?e():e}function Y(e,n,r){const o=Dt(r),s=Tt(e,n,o);s&&(n.style.webkitTransform=s,n.style.transform=s)}const Rt=h.forwardRef(function(n,r){const o=F(),s={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:i,appear:m=!0,children:u,container:f,direction:y="down",easing:b=s,in:l,onEnter:j,onEntered:E,onEntering:I,onExit:O,onExited:L,onExiting:$,style:A,timeout:D=a,TransitionComponent:P=He}=n,R=ie(n,It),p=h.useRef(null),k=Me(u.ref,p,r),w=c=>g=>{c&&(g===void 0?c(p.current):c(p.current,g))},z=w((c,g)=>{Y(y,c,f),Qe(c),j&&j(c,g)}),T=w((c,g)=>{const B=fe({timeout:D,style:A,easing:b},{mode:"enter"});c.style.webkitTransition=o.transitions.create("-webkit-transform",S({},B)),c.style.transition=o.transitions.create("transform",S({},B)),c.style.webkitTransform="none",c.style.transform="none",I&&I(c,g)}),q=w(E),V=w($),ne=w(c=>{const g=fe({timeout:D,style:A,easing:b},{mode:"exit"});c.style.webkitTransition=o.transitions.create("-webkit-transform",g),c.style.transition=o.transitions.create("transform",g),Y(y,c,f),O&&O(c)}),W=w(c=>{c.style.webkitTransition="",c.style.transition="",L&&L(c)}),oe=c=>{i&&i(p.current,c)},_=h.useCallback(()=>{p.current&&Y(y,p.current,f)},[y,f]);return h.useEffect(()=>{if(l||y==="down"||y==="right")return;const c=Be(()=>{p.current&&Y(y,p.current,f)}),g=Ie(p.current);return g.addEventListener("resize",c),()=>{c.clear(),g.removeEventListener("resize",c)}},[y,l,f]),h.useEffect(()=>{l||_()},[l,_]),t.jsx(P,S({nodeRef:p,onEnter:z,onEntered:q,onEntering:T,onExit:ne,onExited:W,onExiting:V,addEndListener:oe,appear:m,in:l,timeout:D},R,{children:(c,g)=>h.cloneElement(u,S({ref:k,style:S({visibility:c==="exited"&&!l?"hidden":void 0},A,u.props.style)},g))}))}),kt=["BackdropProps"],wt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Re=(e,n)=>{const{ownerState:r}=e;return[n.root,(r.variant==="permanent"||r.variant==="persistent")&&n.docked,n.modal]},qt=e=>{const{classes:n,anchor:r,variant:o}=e,s={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(J(r)),o!=="temporary"&&"paperAnchorDocked".concat(J(r))]};return Xe(s,Je,n)},Lt=me(Fe,{name:"MuiDrawer",slot:"Root",overridesResolver:Re})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),je=me("div",{shouldForwardProp:We,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Re})({flex:"0 0 auto"}),Pt=me(Ge,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.paper,n["paperAnchor".concat(J(r.anchor))],r.variant!=="temporary"&&n["paperAnchorDocked".concat(J(r.anchor))]]}})(({theme:e,ownerState:n})=>S({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},n.anchor==="left"&&{left:0},n.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},n.anchor==="right"&&{right:0},n.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},n.anchor==="left"&&n.variant!=="temporary"&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},n.anchor==="top"&&n.variant!=="temporary"&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},n.anchor==="right"&&n.variant!=="temporary"&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},n.anchor==="bottom"&&n.variant!=="temporary"&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})),ke={left:"right",right:"left",top:"down",bottom:"up"};function zt(e){return["left","right"].indexOf(e)!==-1}function Nt({direction:e},n){return e==="rtl"&&zt(n)?ke[n]:n}const At=h.forwardRef(function(n,r){const o=Ye({props:n,name:"MuiDrawer"}),s=F(),a=Ue(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:m="left",BackdropProps:u,children:f,className:y,elevation:b=16,hideBackdrop:l=!1,ModalProps:{BackdropProps:j}={},onClose:E,open:I=!1,PaperProps:O={},SlideProps:L,TransitionComponent:$=Rt,transitionDuration:A=i,variant:D="temporary"}=o,P=ie(o.ModalProps,kt),R=ie(o,wt),p=h.useRef(!1);h.useEffect(()=>{p.current=!0},[]);const k=Nt({direction:a?"rtl":"ltr"},m),z=S({},o,{anchor:m,elevation:b,open:I,variant:D},R),T=qt(z),q=t.jsx(Pt,S({elevation:D==="temporary"?b:0,square:!0},O,{className:G(T.paper,O.className),ownerState:z,children:f}));if(D==="permanent")return t.jsx(je,S({className:G(T.root,T.docked,y),ownerState:z,ref:r},R,{children:q}));const V=t.jsx($,S({in:I,direction:ke[k],timeout:A,appear:p.current},L,{children:q}));return D==="persistent"?t.jsx(je,S({className:G(T.root,T.docked,y),ownerState:z,ref:r},R,{children:V})):t.jsx(Lt,S({BackdropProps:S({},u,j,{transitionDuration:A}),className:G(T.root,T.modal,y),open:I,ownerState:z,onClose:E,hideBackdrop:l,ref:r},R,P,{children:V}))}),Ot="_mainContainer_1oyjx_1",$t="_surveyDesignError_1oyjx_7",Vt="_goBack_1oyjx_17",Ee={mainContainer:Ot,surveyDesignError:$t,goBack:Vt},Mt="qlarr-form",Bt="_content_ukoxz_1",Ht="_question_ukoxz_8",Qt="_required_ukoxz_12",Ft="_header_ukoxz_16",Wt="_textDescription_ukoxz_20",Gt="_groupQuestion_ukoxz_25",X={content:Bt,question:Ht,required:Qt,header:Ft,textDescription:Wt,groupQuestion:Gt},Yt="_wrapper_1hpga_1",Ut="_icon_1hpga_11",Xt={wrapper:Yt,icon:Ut};function Jt(e){const{t:n}=ee(["run"]);function r(){let o="";if(e.validation.content&&e.validation.isCustomErrorActive)o=e.validation.content;else{var s=e.name.replace(/[0-9]/g,"");o=n(s,{...e.validation})}return o?t.jsxs(N,{sx:{color:"error.main"},className:Xt.wrapper,children:[t.jsx(xt,{}),o]}):""}return r()}function Zt(e){const r=vt([a=>(e.component.validation?a.runState.values[e.component.qualifiedCode]:{})||{}],a=>{var i={};return Object.keys(e.component.validation||{}).forEach(m=>{var u=a[m];u&&(i[m]=u)}),i}),o=x(r);return(()=>{if(e.component.validation){let a=Object.keys(e.component.validation).filter(m=>o[m]),i=e.limit?e.limit:a.length;return a.slice(0,i).map((m,u)=>t.jsx(Jt,{name:m,validation:e.component.validation[m]},u))}else return""})()}const ae=d.lazy(()=>v(()=>import("./DateTimeQuestion-bt_a1zjr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),Kt=d.lazy(()=>v(()=>import("./Scq-QANOVG_u.js"),__vite__mapDeps([13,1,2,5,6,14,15,16,17,18,19,20,10,21,22,23,24,25]))),en=d.lazy(()=>v(()=>import("./SCQArray-2H78-NQf.js"),__vite__mapDeps([26,1,2,5,6,27,28,29,18,19,15,20,21,22,23,24,25]))),tn=d.lazy(()=>v(()=>import("./Signature-CCW862VB.js"),__vite__mapDeps([30,1,2,5,6,21,22,23,24,25,31]))),nn=d.lazy(()=>v(()=>import("./PhotoCapture-DfxlfEaA.js"),__vite__mapDeps([32,1,2,5,6,22,21,23,24,25,33]))),on=d.lazy(()=>v(()=>import("./VideoCapture-DQsIUc-i.js"),__vite__mapDeps([34,1,2,5,6,35,22,21,23,24,25,33]))),an=d.lazy(()=>v(()=>import("./Mcq-BSZadvHm.js"),__vite__mapDeps([36,1,2,5,6,17,37,19,14,15,16,10,21,22,23,24,25]))),rn=d.lazy(()=>v(()=>import("./NumberQuestion-BXlqzwHI.js"),__vite__mapDeps([38,1,2,5,6,10,39]))),sn=d.lazy(()=>v(()=>import("./TextQuestion-DaEvxub0.js"),__vite__mapDeps([40,1,2,5,6,10,41]))),cn=d.lazy(()=>v(()=>import("./VideoDisplay-BqiwmHvr.js"),__vite__mapDeps([42,1,2,22,5,6,35]))),ln=d.lazy(()=>v(()=>import("./ImageDisplay-ChnBVh67.js"),__vite__mapDeps([43,1,2,22,5,6]))),un=d.lazy(()=>v(()=>import("./ImageRanking-C3o4iwL5.js"),__vite__mapDeps([44,1,2,5,6,22,45]))),dn=d.lazy(()=>v(()=>import("./ParagraphQuestion-DlOg6gnu.js"),__vite__mapDeps([46,1,2,5,6,10,47]))),mn=d.lazy(()=>v(()=>import("./Barcode-2rSqhqhZ.js"),__vite__mapDeps([48,1,2,5,6,10,21,22,23,24,25,33]))),gn=d.lazy(()=>v(()=>import("./EmailQuestion-Cwc0vAF9.js"),__vite__mapDeps([49,1,2,5,6,10,50]))),_n=d.lazy(()=>v(()=>import("./ImageScq-BBaEvjXp.js"),__vite__mapDeps([51,1,2,5,6,22,18,19,15,20,52]))),fn=d.lazy(()=>v(()=>import("./ImageMcq-dez3FWNd.js"),__vite__mapDeps([53,1,2,5,6,22,37,19,54]))),xn=d.lazy(()=>v(()=>import("./Ranking-BTLmC_Ko.js"),__vite__mapDeps([55,1,2,5,6,56,21,22,23,24,25,57]))),vn=d.lazy(()=>v(()=>import("./NPS-D3yyj8uN.js"),__vite__mapDeps([58,1,2,5,6,59]))),Ce=d.lazy(()=>v(()=>Promise.resolve().then(()=>Dn),void 0)),hn=d.lazy(()=>v(()=>import("./FileUpload-DHyfbWmr.js"),__vite__mapDeps([60,1,2,5,6,61,21,22,23,24,25]))),pn=d.lazy(()=>v(()=>import("./IconScq-CF0ovGL7.js"),__vite__mapDeps([62,1,2,5,6,63,64,22,65]))),yn=d.lazy(()=>v(()=>import("./IconMcq-BvMk25Q5.js"),__vite__mapDeps([66,1,2,5,6,63,64,22,65]))),jn=d.lazy(()=>v(()=>import("./SCQIconArray-DH13M5go.js"),__vite__mapDeps([67,1,2,5,6,63,64,22,27,28,29,21,23,24,25]))),En=h.forwardRef((e,n)=>{var u,f,y,b;console.debug("rendering: "+e.component.code);const r=x(l=>{let j=l.runState.values[e.component.qualifiedCode];return typeof(j==null?void 0:j.relevance)>"u"||(j==null?void 0:j.relevance)}),o=F(),s=e.component.showDescription&&((u=e.component.content)==null?void 0:u.description)&&Z(e.component.content.description).length>0,a=((f=e.component.content)==null?void 0:f.label)&&Z((y=e.component.content)==null?void 0:y.label).length>0,i=a||s,m=()=>{switch(e.component.type){case"date_time":return t.jsx(ae,{component:e.component},e.component.qualifiedCode);case"date":return t.jsx(ae,{component:e.component},e.component.qualifiedCode);case"time":return t.jsx(ae,{component:e.component},e.component.qualifiedCode);case"scq":return t.jsx(Kt,{component:e.component},e.component.qualifiedCode);case"scq_array":return t.jsx(en,{component:e.component},e.component.qualifiedCode);case"scq_icon_array":return t.jsx(jn,{component:e.component},e.component.qualifiedCode);case"file_upload":return t.jsx(hn,{component:e.component},e.component.qualifiedCode);case"signature":return t.jsx(tn,{component:e.component},e.component.qualifiedCode);case"photo_capture":return t.jsx(nn,{component:e.component},e.component.qualifiedCode);case"video_capture":return t.jsx(on,{component:e.component},e.component.qualifiedCode);case"mcq":return t.jsx(an,{component:e.component},e.component.qualifiedCode);case"number":return t.jsx(rn,{component:e.component},e.component.qualifiedCode);case"text":return t.jsx(sn,{component:e.component},e.component.qualifiedCode);case"video_display":return t.jsx(cn,{component:e.component},e.component.qualifiedCode);case"image_display":return t.jsx(ln,{component:e.component},e.component.qualifiedCode);case"image_ranking":return t.jsx(un,{component:e.component},e.component.qualifiedCode);case"paragraph":return t.jsx(dn,{component:e.component},e.component.qualifiedCode);case"barcode":return t.jsx(mn,{component:e.component},e.component.qualifiedCode);case"email":return t.jsx(gn,{component:e.component},e.component.qualifiedCode);case"image_scq":return t.jsx(_n,{component:e.component},e.component.qualifiedCode);case"icon_scq":return t.jsx(pn,{component:e.component},e.component.qualifiedCode);case"icon_mcq":return t.jsx(yn,{component:e.component},e.component.qualifiedCode);case"image_mcq":return t.jsx(fn,{component:e.component},e.component.qualifiedCode);case"ranking":return t.jsx(xn,{component:e.component},e.component.qualifiedCode);case"nps":return t.jsx(vn,{component:e.component},e.component.qualifiedCode);default:return""}};return r?t.jsxs(bn,{qualifiedCode:e.component.qualifiedCode,ref:n,children:[i&&t.jsxs(t.Fragment,{children:[a&&t.jsx(N,{style:{fontFamily:o.textStyles.question.font,color:o.textStyles.text.color,fontSize:o.textStyles.question.size},children:t.jsx(Ce,{className:"".concat(X.content," ").concat(X.question),name:"label",lang:e.lang,elementCode:e.component.qualifiedCode,content:(b=e.component.content)==null?void 0:b.label})}),s&&t.jsx(N,{className:X.textDescription,children:t.jsx(Ce,{elementCode:e.component.code,name:"description",lang:e.lang,content:e.component.content.description})})]}),t.jsx(h.Suspense,{fallback:t.jsx(_e,{}),children:m()}),t.jsx(h.Suspense,{fallback:t.jsx(_e,{}),children:t.jsx(Sn,{component:e.component})})]}):""}),Cn=d.memo(En),Sn=d.memo(({component:e})=>x(r=>{let o=r.runState.values[e.qualifiedCode],s=r.runState.values.Survey.show_errors,a=r.templateState[e.qualifiedCode],i=o==null?void 0:o.validity;return(s||a)&&i===!1})?t.jsx(Zt,{component:e}):t.jsx(t.Fragment,{})),bn=d.memo(e=>{const n=x(r=>{let o=r.runState.values[e.qualifiedCode],s=r.runState.values.Survey.show_errors,a=r.templateState[e.qualifiedCode],i=o==null?void 0:o.validity;return(s||a)&&i===!1});return t.jsx(N,{sx:{borderColor:n?"error.main":"grey.500"},className:"".concat(X.groupQuestion," ").concat(n?"invalidQuestion":""),children:e.children})});function In(e){const n=e.content&&e.content.search(/data-instruction/)>=0,r=x(a=>{if(!(!e.content||!n||!a.runState.values[e.elementCode]||!e.name||!e.lang))return a.runState.values[e.elementCode]["reference_".concat(e.name,"_").concat(e.lang)]}),o=x(a=>a.runState.values.Survey.lang),s=K.includes(o);return e.content?n?t.jsx("div",{className:"".concat(s?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:Tn(e.content,r)}}):t.jsx("div",{className:"".concat(s?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:e.content}}):""}const ue=d.memo(In);function Tn(e,n){let r=document.createElement("div");return r.innerHTML=e,r.querySelectorAll("span[data-instruction]").forEach(function(o){let s=o.getAttribute("data-instruction");if(s&&n){let a=s.split(".");a&&a.length==2&&n[a[0]]&&n[a[0]][a[1]]?o.replaceWith(n[a[0]][a[1]]):o.replaceWith("")}else o.replaceWith("")}),r.innerHTML}const Dn=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),Rn="_textDescription_jd8f0_1",kn="_titleRow_jd8f0_6",wn="_groupHeader_jd8f0_16",qn="_topLevel_jd8f0_20",re={textDescription:Rn,titleRow:kn,groupHeader:wn,topLevel:qn};function Ln(e){const n=F(),r=x(s=>{let a=s.runState.values[e.group.code];return{showGroup:typeof(a==null?void 0:a.relevance)>"u"||a.relevance}},C),o=()=>{var s,a,i;return t.jsx(t.Fragment,{children:t.jsxs(N,{className:re.topLevel,sx:{borderRadius:"4px",backgroundColor:n.palette.background.paper},children:[t.jsxs("div",{className:re.groupHeader,children:[t.jsx("div",{style:{fontFamily:n.textStyles.group.font,color:n.textStyles.group.color,fontSize:n.textStyles.group.size},children:t.jsx(ue,{elementCode:e.group.code,name:"label",lang:e.lang,content:(s=e.group.content)==null?void 0:s.label})}),e.group.showDescription&&((a=e.group.content)==null?void 0:a.description)&&t.jsx(N,{className:re.textDescription,children:t.jsx(ue,{elementCode:e.group.code,name:"description",lang:e.lang,content:(i=e.group.content)==null?void 0:i.description})})]}),e.group&&e.group.questions?e.group.questions.filter(m=>m.inCurrentNavigation).map(m=>t.jsx(Cn,{component:m,lang:e.lang},m.code)):""]})})};return r.showGroup&&(e.group?o():"")}const Pn=d.memo(Ln),zn="_buttonContainer_zlh5z_1",Nn={buttonContainer:zn};function An(e){const n=x(u=>({has_previous:u.runState.values.Survey.has_previous&&u.runState.data.survey.allowPrevious,has_next:u.runState.values.Survey.has_next,can_save:u.runState.data.survey.allowIncomplete,has_errors:u.runState.values.Survey.show_errors}),C),r=te(),{t:o,i18n:s}=ee("run"),a=K.includes(s.language),i=()=>{r(Ze())};h.useEffect(()=>{n.has_errors&&setTimeout(()=>{const u=document.querySelector(".invalidQuestion");if(u){const f=On(u);f.scrollTo({top:u.offsetTop-f.offsetTop,behavior:"smooth"})}},500)},[n.has_errors]);const m=()=>{r(Ke())};return e.navigationIndex.name=="end"?"":t.jsxs("div",{className:Nn.buttonContainer,children:[n.has_previous?t.jsx(ce,{variant:"contained",className:a?"ml-14":"mr-14",onClick:()=>{i()},children:o("previous")}):"",t.jsx(ce,{variant:"contained",onClick:()=>{m()},children:n.has_next?o("next"):o("finish")})]})}function On(e){if(!e)return null;let n=e.parentElement;for(;n;){const o=window.getComputedStyle(n).overflowY;if((o==="auto"||o==="scroll")&&n.scrollHeight>n.clientHeight)return n;n=n.parentElement}return document.documentElement}const $n="_surveyContent_jntaj_1",Vn="_surveyGroups_jntaj_5",Mn="_cardImage_jntaj_12",Bn="_groupContianer_jntaj_21",Hn="_stepperContent_jntaj_26",Qn="_menuButton_jntaj_37",se={surveyContent:$n,surveyGroups:Vn,cardImage:Mn,groupContianer:Bn,stepperContent:Hn,menuButton:Qn};function Fn(){var s;const e=F(),n=x(a=>{var i;return(i=a.runState.data)==null?void 0:i.navigationIndex},C),r=x(a=>{var i;return(i=a.runState.data)==null?void 0:i.survey},C),o=x(a=>{var i;return(i=a.runState.data)==null?void 0:i.lang},C);return t.jsx(ht,{backend:pt()?yt:jt,children:t.jsx("form",{id:Mt,style:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size},children:t.jsxs("div",{className:se.surveyGroups,children:[(s=r.resources)!=null&&s.headerImage?t.jsx(Et,{className:se.cardImage,component:"img",image:De(r.resources.headerImage)}):null,r&&r.groups?r.groups.filter(a=>a.inCurrentNavigation).map((a,i)=>t.jsx("div",{id:"group-".concat(i),"data-index":i,className:se.groupContianer,children:t.jsx(Pn,{group:a,lang:o.code,groupIndex:i})},a.code)):"",t.jsx(An,{navigationIndex:n})]})})})}const Wn="_loadingWrapper_1p71l_1",Gn="_loadingDots_1p71l_14",Yn="_l1_1p71l_1",Se={loadingWrapper:Wn,loadingDots:Gn,l1:Yn};function Un(){var i,m;const e=de(),n=x(u=>u.templateState.isLoading),[r,o]=h.useState(!1),[s,a]=h.useState(!1);return h.useEffect(()=>{let u;return n?(o(!0),a(!1),u=setTimeout(()=>{a(!0)},200)):s?o(!1):u=setTimeout(()=>{o(!1)},200),()=>clearTimeout(u)},[n,s]),r?t.jsx(N,{className:Se.loadingWrapper,children:t.jsx(N,{style:{background:"radial-gradient(circle closest-side, ".concat((m=(i=e==null?void 0:e.palette)==null?void 0:i.primary)==null?void 0:m.main," 90%, #0000) 0 / calc(100% / 3) 100% space")},className:Se.loadingDots})}):t.jsx(t.Fragment,{})}const Xn="_drawer_16lbk_1",Jn="_drawerHeader_16lbk_5",U={drawer:Xn,drawerHeader:Jn},Zn="_groupCard_18q7o_1",Kn="_groupTitle_18q7o_6",eo="_questionTitle_18q7o_10",to="_questionIcon_18q7o_16",no="_bullet_18q7o_23",oo="_redAsterix_18q7o_29",ao="_truncatedTwoLines_18q7o_34",M={groupCard:Zn,groupTitle:Kn,questionTitle:eo,questionIcon:to,bullet:no,redAsterix:oo,truncatedTwoLines:ao};function ro(e){const n=de(),r=te(),o=x(l=>l.runState.values.Survey.relevance_map,C),s=x(l=>l.runState.values.Survey.validity_map,C),a=x(l=>l.runState.data.survey.allowJump,C),i=l=>e.navigationIndex.name=="group"&&l==e.navigationIndex.groupId,m=l=>e.navigationIndex.name=="question"&&l==e.navigationIndex.questionId,u=l=>a&&!i(l)&&e.navigationIndex.name=="group",f=l=>a&&!m(l)&&e.navigationIndex.name=="question",y=l=>{u(l)&&r(xe({...e.navigationIndex,groupId:l}))},b=l=>{f(l)&&r(xe({...e.navigationIndex,questionId:l}))};return t.jsx(t.Fragment,{children:e.survey&&e.survey.groups?e.survey.groups.filter(l=>o[l.code]&&l.groupType!="END").map(l=>{var j;return t.jsxs(Ct,{onClick:()=>y(l.code),className:M.groupCard,style:{backgroundColor:i(l.code)?"beige":n.palette.background.paper,cursor:u(l.code)?"pointer":"default"},children:[t.jsxs(ye,{className:M.groupTitle,children:[Z((j=l.content)==null?void 0:j.label)," "]}),l.questions.filter(E=>o[E.code]).map(E=>{var I;return t.jsxs(ye,{onClick:()=>b(E.code),className:M.questionTitle,style:{backgroundColor:m(E.code)?"beige":"inherit",cursor:u(l.code)?"inherit":f(l.code)?"pointer":"default"},children:[t.jsx("span",{className:M.questionIcon,children:et(E.type)}),t.jsx("span",{className:M.truncatedTwoLines,children:Z((I=E.content)==null?void 0:I.label)}),!s[E.code]&&t.jsx("span",{className:M.redAsterix,children:"*"})]},E.code)})]},l.code)}):""})}function so({expanded:e,toggleDrawer:n,t:r}){const o=x(a=>{var i;return(i=a.runState.data)==null?void 0:i.navigationIndex},C),s=x(a=>{var i;return(i=a.runState.data)==null?void 0:i.survey},C);return t.jsx(At,{anchor:"left",transitionDuration:e!==co?500:0,open:e==we,onClose:n(!1),sx:{"& .MuiDrawer-paper":{width:"350px",maxWidth:"90%","@media (max-width: 600px)":{width:"300px"}}},children:t.jsxs("div",{className:U.drawer,children:[t.jsxs("div",{className:U.drawerHeader,children:[t.jsx(le,{variant:"h6",className:U.drawerTitle,children:r("survey_navigation")}),t.jsx(Te,{className:U.closeButton,onClick:n(!1),children:t.jsx(tt,{})})]}),t.jsx(ro,{navigationIndex:o,survey:s})]})})}const io=d.memo(so),co="COLLAPSE_IMMEDIATE",be="COLLAPSE",we="EXPAND";var ge={},lo=Ne;Object.defineProperty(ge,"__esModule",{value:!0});var qe=ge.default=void 0,uo=lo(nt()),mo=t;qe=ge.default=(0,uo.default)((0,mo.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function go(e){x(o=>({navigate:o.runState.navigate,lang:o.runState.lang}),C);const n=te(),{t:r}=ee("run");return e.additionalLang&&e.additionalLang.length?t.jsx(ot,{style:{maxWidth:"250px"},variant:"standard",children:t.jsxs(at,{labelId:"change-lang-label",sx:{backgroundColor:"background.paper",color:"primary.main",paddingLeft:"8px"},id:"ChangeLang",label:r("lang"),value:e.lang.code,onChange:o=>{n(rt({lang:o.target.value}))},children:[t.jsx(ve,{value:e.lang.code,children:e.lang.name}),e.additionalLang?e.additionalLang.map((o,s)=>t.jsx(ve,{value:o.code,children:o.name},s)):""]})}):t.jsx(t.Fragment,{})}const _o="_toolbar_13q1d_1",fo={toolbar:_o};function xo({toggleDrawer:e}){const n=x(s=>{var a;return(a=s.runState.data)==null?void 0:a.lang},C),r=x(s=>{var a;return(a=s.runState.data)==null?void 0:a.additionalLang},C),o=de();return t.jsxs(St,{sx:{backgroundColor:o.palette.background.default},className:fo.toolbar,children:[t.jsx(Te,{color:"primary",size:"large",edge:"start","aria-label":"menu",sx:{backgroundColor:o.palette.background.paper},onClick:e(!0),children:t.jsx(qe,{})}),t.jsx(go,{lang:n,additionalLang:r})]})}function vo({preview:e,guest:n,mode:r,resume:o=!1,responseId:s}){const a=st("run"),i=Ae(),u=new URLSearchParams(i.search).get("lang"),[f,y]=d.useState(!1),[b,l]=d.useState(be),[j,E]=d.useState(!1),[I,O]=d.useState(!1),L=h.useRef(null),$=x(_=>{var c,g;return(g=(c=_.runState.data)==null?void 0:c.survey)==null?void 0:g.theme},he),A=x(_=>{var c;return(c=_.runState.data)==null?void 0:c.responseId});x(_=>{var c,g;return(g=(c=_.runState.data)==null?void 0:c.survey)==null?void 0:g.allowJump},C);const D=x(_=>{var c,g,B;return(B=(g=(c=_.runState.data)==null?void 0:c.survey)==null?void 0:g.resources)==null?void 0:B.backgroundImage}),P=x(_=>_.runState.navigation,he),{t:R,i18n:p}=ee("run"),k=te();h.useEffect(()=>{P&&T(P,A)},[P]),h.useEffect(()=>{K.includes(p.language)?document.dir="rtl":document.dir="ltr"},[p.language]);const w=_=>{[Q.SURVEY_DESIGN_ERROR,Q.SURVEY_NOT_ACTIVE,Q.SURVEY_CLOSED,Q.SURVEY_EXPIRED,Q.SURVEY_SCHEDULED].indexOf(_)>-1?O(_):E(_),k(H(!1))},z=()=>{ft(a,u,e,n,r).then(_=>{y(!0),k(pe({response:_,preview:e})),sessionStorage.setItem("responseId",_.responseId),p.changeLanguage(_.lang.code),k(H(!1))}).catch(_=>{w(_)})},T=(_,c)=>{k(H(!0)),it(a,_,c,e,n,r).then(g=>{y(!0),k(pe({response:g,preview:e})),sessionStorage.setItem("responseId",g.responseId),p.changeLanguage(g.lang.code),k(H(!1))}).catch(g=>{console.log(g),w(g)})};h.useEffect(()=>{!P&&L.current&&L.current.scrollTo({top:0})},[P,L.current]),h.useEffect(()=>{document.body.style.overflow="visible",k(H(!0)),ct(a,e,n).then(()=>{o?T({navigationDirection:{name:"RESUME"}},s):z()}).catch(_=>{w(_)})},[]);const q=h.useMemo(()=>Oe({...lt($),direction:K.includes(p.language)?"rtl":"ltr"}),[p.language,$]),V=h.useMemo(()=>ut(p.language),[p.language]),ne=$e(),W=_=>c=>{c.type==="keydown"&&(c.key==="Tab"||c.key==="Shift")||l(_?we:be)},oe=D?{backgroundImage:"url(".concat(De(D),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return t.jsxs(t.Fragment,{children:[t.jsx(Ve,{value:V,children:t.jsxs(dt,{theme:q,children:[j&&t.jsx(mt,{error:j,setErrorSeen:()=>{E(null)}}),f&&t.jsxs("div",{className:Ee.mainContainer,ref:L,style:{backgroundColor:q.palette.background.default,fontFamily:q.textStyles.text.font,color:q.textStyles.text.color,fontSize:q.textStyles.text.size,...oe},children:[t.jsx(xo,{toggleDrawer:W}),t.jsx(ho,{},"Survey"),t.jsx(io,{expanded:b,toggleDrawer:W,t:R})]}),t.jsx(Un,{})]})}),I&&t.jsx(N,{style:{height:"100%",overflow:"auto"},children:t.jsxs(gt,{children:[t.jsx(le,{variant:"h3",paragraph:!0,children:R("error")}),t.jsx(le,{sx:{color:"text.secondary"},children:R("processed_errors."+I.name)}),t.jsx(_t,{alt:"500",src:"/illustration_500.svg",sx:{mx:"auto",maxWidth:320,my:{xs:5,sm:8}}}),t.jsx(ce,{fullWidth:!0,size:"large",color:"inherit",variant:"contained",className:Ee.goBack,onClick:()=>ne(-1),children:R("goBack")})]})})]})}const ho=d.memo(Fn),Io=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"}));export{ye as B,vo as R,Zt as V,Jt as a,Io as i};
