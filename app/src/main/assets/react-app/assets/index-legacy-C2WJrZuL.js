!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,o,s=[],i=!0,c=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=l.call(t)).done)&&(s.push(n.value),s.length!==r);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function a(e,r,t){var n;return(r="symbol"==typeof(n=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"))?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}System.register(["./index-legacy-DMBe9EAg.js","./Web-legacy-yvcV3pU-.js","./use-service-legacy-CgI9X4sP.js","./DateUtils-legacy-BTmsWpOC.js","./survey-legacy-CIKJoG7P.js","./TextField-legacy-QXvJQCtl.js","./index-legacy-BZAkATjo.js","./Card-legacy-DoW-tgDj.js","./FormGroup-legacy-Bz8fg-yT.js","./Checkbox-legacy-DMb0Vmp_.js","./SwitchBase-legacy-Cc5oLAc3.js","./useFormControl-legacy-CjmSkc-O.js","./Tabs-legacy-C8lKUr6-.js","./radioClasses-legacy-BKKEz_sy.js","./tableRowClasses-legacy-CPFVA4RK.js","./FormControlLabel-legacy--V8-R9RI.js","./index-legacy-BHlJTcBG.js","./dayjs.min-legacy-C3rOzLSL.js","./DateTimePicker-legacy-STLu13uX.js","./InputAdornment-legacy-BhuVi7XQ.js"],(function(r,t){"use strict";var a,l,o,s,i,c,u,d,y,m,f,j,v,b,g,h,p,x,_,C,S,O,I,w,D;return{setters:[e=>{a=e.j,l=e.s,o=e.r,s=e.B},e=>{i=e.M,c=e.K,u=e.r},e=>{d=e.y,y=e.A,m=e.D,f=e.T,j=e.am,v=e.an,b=e.F,g=e.ao},e=>{h=e.l},e=>{p=e.S},e=>{x=e.F,_=e.I,C=e.S,S=e.T,O=e.h},e=>{I=e.S},e=>{w=e.C},e=>{D=e.F},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="._mainContainer_17u7e_1{margin:auto;max-width:800px;min-width:300px;height:calc(100vh - 64px);overflow:auto}._createUserCard_17u7e_9{padding:25px}._blockItem_17u7e_13{flex:1;display:flex;gap:15px;flex-direction:column}._errorText_17u7e_20{color:#eb5757!important}\n",document.head.appendChild(t),r("default",(function(){const r=y("survey"),t=l(),n=d("manage").t,i=m(),c=e(o.useState(""),2),x=c[0],_=c[1],C=e(o.useState(""),2),E=C[0],F=C[1],N=e(o.useState(""),2),P=N[0],k=N[1],M=e(o.useState(p.MIXED),2),U=M[0],W=M[1],$=e(o.useState(null),2),L=$[0],B=$[1],R=e(o.useState(null),2),q=R[0],V=R[1],X=()=>{t(u.dashboard)};return a.jsx(s,{className:A.mainContainer,children:a.jsxs(w,{className:A.createUserCard,children:[a.jsx(f,{variant:"h4",children:n("create_survey.title")}),a.jsxs(D,{className:A.formGroup,children:[a.jsx(S,{sx:{maxWidth:"400px"},error:E.length>0,required:!0,value:x,id:"surveyName",label:n("label.survey_name"),name:"surveyName",onChange:e=>{_(e.target.value),F("")},variant:"standard"}),E&&a.jsx(O,{className:A.errorText,children:E}),a.jsxs(j,{flexDirection:"row",gap:5,sx:{mt:"40px"},children:[a.jsx(s,{className:A.blockItem,children:a.jsx(T,{surveyMode:U,onSurveyModeChanged:e=>{W(e.target.value)}})}),a.jsx(s,{className:A.blockItem,children:a.jsx(I,{error:P,surveyActiveFrom:L,surveyActiveTo:q,onSurveyActiveFromChanged:e=>{k(""),B(e.toDate())},onSurveyActiveToChanged:e=>{k(""),V(e.toDate())}})})]})]}),a.jsxs(s,{sx:{display:"flex",justifyContent:"flex-end",mt:"40px"},children:[a.jsx(v,{onClick:X,children:n("action_btn.cancel")}),a.jsx(v,{onClick:()=>{if(F(""),0==x.length&&(F(n("survey_required")),1))return;i(b(!0));const e={name:x,usage:U};L&&(e.startDate=h(L)),q&&(e.endDate=h(q)),r.createSurvey(e).then((()=>{X()})).catch((e=>{e.name==g.DUPLICATE_SURVEY_NAME.name?F(n(`processed_errors.${e.name}`)):e.name==g.INVALID_SURVEY_DATES.name&&k(n(`processed_errors.${e.name}`))})).finally((()=>{i(b(!1))}))},children:n("action_btn.save")})]})]})})}));const A={mainContainer:"_mainContainer_17u7e_1",createUserCard:"_createUserCard_17u7e_9",blockItem:"_blockItem_17u7e_13",errorText:"_errorText_17u7e_20"};function E(e){return a.jsx(c,n(n({},e),{},{style:{color:"#181735"}}))}const T=({surveyMode:e,onSurveyModeChanged:r})=>{const t=d("manage").t;return a.jsxs(x,{fullWidth:!0,children:[a.jsx(_,{id:"survey-mode-label",children:t("label.survey_mode")}),a.jsxs(C,{labelId:"survey-mode-label",id:"demo-simple-select",value:e,label:t("label.survey_mode"),onChange:r,sx:{minWidth:"160px",borderRadius:"12px",backgroundColor:"#f7f8fc","& .MuiOutlinedInput-notchedOutline":{border:"none"}},IconComponent:E,children:[a.jsx(i,{value:p.WEB,children:t(`mode.${p.WEB}`)}),a.jsx(i,{value:p.OFFLINE,children:t(`mode.${p.OFFLINE}`)}),a.jsx(i,{value:p.MIXED,children:t(`mode.${p.MIXED}`)})]})]})}}}}))}();
