const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DateTimeQuestion-Br0zJIUl.js","assets/index-Dk6dJ9ej.js","assets/index-Bgh3l75x.css","assets/index-CNd-1HVJ.js","assets/dayjs.min-CgH4Saeh.js","assets/use-service-CuOd9RJq.js","assets/use-service-DrHbGieG.css","assets/DateTimePicker-D-0LakcT.js","assets/Tabs-BEdGyaaJ.js","assets/InputAdornment-73wn1e1W.js","assets/TextField-D9TfNg6R.js","assets/DatePicker-ClSTvCu6.js","assets/DateTimeQuestion-B594QKUB.css","assets/Scq-Qde6lfYt.js","assets/RadioGroup-BN-fpmx1.js","assets/RadioGroupContext-NID61kUr.js","assets/FormGroup-BQ8WmqtL.js","assets/FormControlLabel-DbQERhmC.js","assets/Radio-sWld0RcS.js","assets/SwitchBase-vj41ugwS.js","assets/radioClasses-u6Ak_u_2.js","assets/isTouchDevice-BxZW9fIr.js","assets/common-DrzhiyDD.js","assets/Close-Coe7rEfx.js","assets/Card-vFcRbAK1.js","assets/Toolbar-C-_hleNE.js","assets/SCQArray-B3VxIIYX.js","assets/TableRow-BVZoCPfq.js","assets/TableCell-Df_hHt8Q.js","assets/tableRowClasses-CVBxymtu.js","assets/TableHead-4a7kcj4u.js","assets/Signature-BRF7jF4R.js","assets/Signature-CMHCGb28.css","assets/PhotoCapture-CIGHS8Tz.js","assets/PhotoCapture-BFqZZm7P.css","assets/VideoCapture-CRP1GoKp.js","assets/index-BuwWmREk.js","assets/Mcq-DE7kOuHk.js","assets/Checkbox-B5kyj27j.js","assets/NumberQuestion-CX1rKHSH.js","assets/NumberQuestion-B7jPApxo.css","assets/TextQuestion-2YCR6iwZ.js","assets/TextQuestion-CikwH2ir.css","assets/VideoDisplay-DmlyG7Xt.js","assets/ImageDisplay-CsJy13k9.js","assets/ImageRanking-CvV0hkrU.js","assets/ImageRanking-DqKvK0PC.css","assets/ParagraphQuestion-Bawx5EJM.js","assets/ParagraphQuestion-DvEknHPk.css","assets/Barcode-DyIeFwDT.js","assets/EmailQuestion-CIXyhQqO.js","assets/EmailQuestion-BifmO9bt.css","assets/ImageScq-DjsLjh_z.js","assets/ImageScq-WKHy-TGo.css","assets/ImageMcq-DjPYC6PK.js","assets/ImageMcq-kHjHyZ51.css","assets/Ranking-DQt71R4a.js","assets/useDrop-DEZwxHg6.js","assets/Ranking-C22YgBJE.css","assets/NPS-D2hfGCew.js","assets/NPS-BS-9sB_6.css","assets/FileUpload-CR-53KNu.js","assets/Link-XdUsRC_k.js","assets/IconScq-D-Gc2Fog.js","assets/index-BCpvU79U.js","assets/index-C9i5xVxU.css","assets/IconScq-XOquJP7F.css","assets/IconMcq-CuMho-FC.js","assets/SCQIconArray-BenNAmiT.js"])))=>i.map(i=>d[i]);
import{f as Le,ak as qe,ad as ze,r as h,b as re,j as t,_ as D,h as K,d as G,B as q,R as g,y as x,z as me,aj as be,q as Ne,t as Ae,x as Oe,s as Ve,C as $e}from"./index-Dk6dJ9ej.js";import{w as W,b as Me,b0 as Be,a$ as Ie,bh as He,bi as Qe,bj as ge,f as le,aP as We,l as Fe,h as Ue,j as Ge,z as Ye,c as Xe,bk as Je,M as te,H as f,bl as Z,an as ee,aU as C,U as F,aQ as ie,bm as Ke,bn as Ze,bo as et,bf as tt,bp as _e,T as se,I as De,K as nt,av as ot,S as at,bq as rt,N as fe,R as it,br as xe,bs as B,bt as st,bu as ve,bv as ct,bw as lt,at as ut,ap as dt,Y as mt,aq as gt,ar as _t,aR as H,bx as ft}from"./use-service-CuOd9RJq.js";import{E as xt,c as vt,D as ht,i as pt,T as yt,H as Et}from"./isTouchDevice-BxZW9fIr.js";import{b as ke}from"./common-DrzhiyDD.js";import{C as jt,a as Ct}from"./Close-Coe7rEfx.js";import{C as St}from"./Card-vFcRbAK1.js";import{T as bt}from"./Toolbar-C-_hleNE.js";const It=Le("MuiBox",["root"]),he=qe({defaultClassName:It.root,generateClassName:ze.generate}),Dt=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function kt(e,o,i){const n=o.getBoundingClientRect(),a=i&&i.getBoundingClientRect(),r=Ie(o);let u;if(o.fakeTransform)u=o.fakeTransform;else{const m=r.getComputedStyle(o);u=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let d=0,s=0;if(u&&u!=="none"&&typeof u=="string"){const m=u.split("(")[1].split(")")[0].split(",");d=parseInt(m[4],10),s=parseInt(m[5],10)}return e==="left"?a?"translateX(".concat(a.right+d-n.left,"px)"):"translateX(".concat(r.innerWidth+d-n.left,"px)"):e==="right"?a?"translateX(-".concat(n.right-a.left-d,"px)"):"translateX(-".concat(n.left+n.width-d,"px)"):e==="up"?a?"translateY(".concat(a.bottom+s-n.top,"px)"):"translateY(".concat(r.innerHeight+s-n.top,"px)"):a?"translateY(-".concat(n.top-a.top+n.height-s,"px)"):"translateY(-".concat(n.top+n.height-s,"px)")}function Rt(e){return typeof e=="function"?e():e}function Y(e,o,i){const n=Rt(i),a=kt(e,o,n);a&&(o.style.webkitTransform=a,o.style.transform=a)}const Tt=h.forwardRef(function(o,i){const n=W(),a={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:u,appear:d=!0,children:s,container:m,direction:p="down",easing:k=a,in:l,onEnter:E,onEntered:S,onEntering:R,onExit:z,onExited:N,onExiting:M,style:w,timeout:T=r,TransitionComponent:A=He}=o,b=re(o,Dt),v=h.useRef(null),O=Me(s.ref,v,i),L=c=>j=>{c&&(j===void 0?c(v.current):c(v.current,j))},P=L((c,j)=>{Y(p,c,m),Qe(c),E&&E(c,j)}),I=L((c,j)=>{const de=ge({timeout:T,style:w,easing:k},{mode:"enter"});c.style.webkitTransition=n.transitions.create("-webkit-transform",D({},de)),c.style.transition=n.transitions.create("transform",D({},de)),c.style.webkitTransform="none",c.style.transform="none",R&&R(c,j)}),V=L(S),$=L(M),U=L(c=>{const j=ge({timeout:T,style:w,easing:k},{mode:"exit"});c.style.webkitTransition=n.transitions.create("-webkit-transform",j),c.style.transition=n.transitions.create("transform",j),Y(p,c,m),z&&z(c)}),ne=L(c=>{c.style.webkitTransition="",c.style.transition="",N&&N(c)}),_=c=>{u&&u(v.current,c)},y=h.useCallback(()=>{v.current&&Y(p,v.current,m)},[p,m]);return h.useEffect(()=>{if(l||p==="down"||p==="right")return;const c=Be(()=>{v.current&&Y(p,v.current,m)}),j=Ie(v.current);return j.addEventListener("resize",c),()=>{c.clear(),j.removeEventListener("resize",c)}},[p,l,m]),h.useEffect(()=>{l||y()},[l,y]),t.jsx(A,D({nodeRef:v,onEnter:P,onEntered:V,onEntering:I,onExit:U,onExited:ne,onExiting:$,addEndListener:_,appear:d,in:l,timeout:T},b,{children:(c,j)=>h.cloneElement(s,D({ref:O,style:D({visibility:c==="exited"&&!l?"hidden":void 0},w,s.props.style)},j))}))}),Pt=["BackdropProps"],wt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Re=(e,o)=>{const{ownerState:i}=e;return[o.root,(i.variant==="permanent"||i.variant==="persistent")&&o.docked,o.modal]},Lt=e=>{const{classes:o,anchor:i,variant:n}=e,a={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(K(i)),n!=="temporary"&&"paperAnchorDocked".concat(K(i))]};return Xe(a,Je,o)},qt=le(We,{name:"MuiDrawer",slot:"Root",overridesResolver:Re})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),pe=le("div",{shouldForwardProp:Fe,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Re})({flex:"0 0 auto"}),zt=le(Ue,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:i}=e;return[o.paper,o["paperAnchor".concat(K(i.anchor))],i.variant!=="temporary"&&o["paperAnchorDocked".concat(K(i.anchor))]]}})(({theme:e,ownerState:o})=>D({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},o.anchor==="left"&&{left:0},o.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="right"&&{right:0},o.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="left"&&o.variant!=="temporary"&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="top"&&o.variant!=="temporary"&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="right"&&o.variant!=="temporary"&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},o.anchor==="bottom"&&o.variant!=="temporary"&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})),Te={left:"right",right:"left",top:"down",bottom:"up"};function Nt(e){return["left","right"].indexOf(e)!==-1}function At({direction:e},o){return e==="rtl"&&Nt(o)?Te[o]:o}const Ot=h.forwardRef(function(o,i){const n=Ge({props:o,name:"MuiDrawer"}),a=W(),r=Ye(),u={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:s,children:m,className:p,elevation:k=16,hideBackdrop:l=!1,ModalProps:{BackdropProps:E}={},onClose:S,open:R=!1,PaperProps:z={},SlideProps:N,TransitionComponent:M=Tt,transitionDuration:w=u,variant:T="temporary"}=n,A=re(n.ModalProps,Pt),b=re(n,wt),v=h.useRef(!1);h.useEffect(()=>{v.current=!0},[]);const O=At({direction:r?"rtl":"ltr"},d),P=D({},n,{anchor:d,elevation:k,open:R,variant:T},b),I=Lt(P),V=t.jsx(zt,D({elevation:T==="temporary"?k:0,square:!0},z,{className:G(I.paper,z.className),ownerState:P,children:m}));if(T==="permanent")return t.jsx(pe,D({className:G(I.root,I.docked,p),ownerState:P,ref:i},b,{children:V}));const $=t.jsx(M,D({in:R,direction:Te[O],timeout:w,appear:v.current},N,{children:V}));return T==="persistent"?t.jsx(pe,D({className:G(I.root,I.docked,p),ownerState:P,ref:i},b,{children:$})):t.jsx(qt,D({BackdropProps:D({},s,E,{transitionDuration:w}),className:G(I.root,I.modal,p),open:R,ownerState:P,onClose:S,hideBackdrop:l,ref:i},b,A,{children:$}))}),Vt="_mainContainer_3nwkh_1",$t="_surveyDesignError_3nwkh_11",Mt="_goBack_3nwkh_21",ye={mainContainer:Vt,surveyDesignError:$t,goBack:Mt},Bt="qlarr-form",Ht="_content_ukoxz_1",Qt="_question_ukoxz_8",Wt="_required_ukoxz_12",Ft="_header_ukoxz_16",Ut="_textDescription_ukoxz_20",Gt="_groupQuestion_ukoxz_25",J={content:Ht,question:Qt,required:Wt,header:Ft,textDescription:Ut,groupQuestion:Gt},Yt="_wrapper_1hpga_1",Xt="_icon_1hpga_11",Jt={wrapper:Yt,icon:Xt};function Kt(e){const{t:o}=te(["run"]);function i(){let n="";if(e.validation.content&&e.validation.isCustomErrorActive)n=e.validation.content;else{var a=e.name.replace(/[0-9]/g,"");n=o(a,{...e.validation})}return n?t.jsxs(q,{sx:{color:"error.main"},className:Jt.wrapper,children:[t.jsx(xt,{}),n]}):""}return i()}function Zt(e){const i=vt([r=>(e.component.validation?r.runState.values[e.component.qualifiedCode]:{})||{}],r=>{var u={};return Object.keys(e.component.validation).forEach(d=>{var s=r[d];s&&(u[d]=s)}),u}),n=f(i);return(()=>{if(e.component.validation){let r=Object.keys(e.component.validation).filter(d=>n[d]),u=e.limit?e.limit:r.length;return r.slice(0,u).map((d,s)=>t.jsx(Kt,{name:d,validation:e.component.validation[d]},s))}else return""})()}const oe=g.lazy(()=>x(()=>import("./DateTimeQuestion-Br0zJIUl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),en=g.lazy(()=>x(()=>import("./Scq-Qde6lfYt.js"),__vite__mapDeps([13,1,2,5,6,14,15,16,17,18,19,20,10,21,22,23,24,25]))),tn=g.lazy(()=>x(()=>import("./SCQArray-B3VxIIYX.js"),__vite__mapDeps([26,1,2,5,6,27,28,29,30,18,19,15,20,21,22,23,24,25]))),nn=g.lazy(()=>x(()=>import("./Signature-BRF7jF4R.js"),__vite__mapDeps([31,1,2,5,6,21,22,23,24,25,32]))),on=g.lazy(()=>x(()=>import("./PhotoCapture-CIGHS8Tz.js"),__vite__mapDeps([33,1,2,5,6,22,21,23,24,25,34]))),an=g.lazy(()=>x(()=>import("./VideoCapture-CRP1GoKp.js"),__vite__mapDeps([35,1,2,5,6,36,22,21,23,24,25,34]))),rn=g.lazy(()=>x(()=>import("./Mcq-DE7kOuHk.js"),__vite__mapDeps([37,1,2,5,6,17,38,19,14,15,16,10,21,22,23,24,25]))),sn=g.lazy(()=>x(()=>import("./NumberQuestion-CX1rKHSH.js"),__vite__mapDeps([39,1,2,5,6,10,40]))),cn=g.lazy(()=>x(()=>import("./TextQuestion-2YCR6iwZ.js"),__vite__mapDeps([41,1,2,5,6,10,42]))),ln=g.lazy(()=>x(()=>import("./VideoDisplay-DmlyG7Xt.js"),__vite__mapDeps([43,1,2,22,5,6,36]))),un=g.lazy(()=>x(()=>import("./ImageDisplay-CsJy13k9.js"),__vite__mapDeps([44,1,2,22,5,6]))),dn=g.lazy(()=>x(()=>import("./ImageRanking-CvV0hkrU.js"),__vite__mapDeps([45,1,2,5,6,22,46]))),mn=g.lazy(()=>x(()=>import("./ParagraphQuestion-Bawx5EJM.js"),__vite__mapDeps([47,1,2,5,6,10,48]))),gn=g.lazy(()=>x(()=>import("./Barcode-DyIeFwDT.js"),__vite__mapDeps([49,1,2,5,6,10,21,22,23,24,25,34]))),_n=g.lazy(()=>x(()=>import("./EmailQuestion-CIXyhQqO.js"),__vite__mapDeps([50,1,2,5,6,10,51]))),fn=g.lazy(()=>x(()=>import("./ImageScq-DjsLjh_z.js"),__vite__mapDeps([52,1,2,5,6,22,18,19,15,20,53]))),xn=g.lazy(()=>x(()=>import("./ImageMcq-DjPYC6PK.js"),__vite__mapDeps([54,1,2,5,6,22,38,19,55]))),vn=g.lazy(()=>x(()=>import("./Ranking-DQt71R4a.js"),__vite__mapDeps([56,1,2,5,6,57,21,22,23,24,25,58]))),hn=g.lazy(()=>x(()=>import("./NPS-D2hfGCew.js"),__vite__mapDeps([59,1,2,5,6,60]))),Ee=g.lazy(()=>x(()=>Promise.resolve().then(()=>Rn),void 0)),pn=g.lazy(()=>x(()=>import("./FileUpload-CR-53KNu.js"),__vite__mapDeps([61,1,2,5,6,62,21,22,23,24,25]))),yn=g.lazy(()=>x(()=>import("./IconScq-D-Gc2Fog.js"),__vite__mapDeps([63,1,2,5,6,64,65,22,66]))),En=g.lazy(()=>x(()=>import("./IconMcq-CuMho-FC.js"),__vite__mapDeps([67,1,2,5,6,64,65,22,66]))),jn=g.lazy(()=>x(()=>import("./SCQIconArray-BenNAmiT.js"),__vite__mapDeps([68,1,2,5,6,64,65,22,27,28,29,21,23,24,25]))),Cn=h.forwardRef((e,o)=>{var s,m,p,k;console.debug("rendering: "+e.component.code);const i=f(l=>{let E=l.runState.values[e.component.qualifiedCode];return typeof(E==null?void 0:E.relevance)>"u"||(E==null?void 0:E.relevance)}),n=W(),a=((s=e.component.content)==null?void 0:s.description)&&Z(e.component.content.description).length>0,r=((m=e.component.content)==null?void 0:m.label)&&Z((p=e.component.content)==null?void 0:p.label).length>0,u=r||a,d=()=>{switch(e.component.type){case"date_time":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"date":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"time":return t.jsx(oe,{component:e.component},e.component.qualifiedCode);case"scq":return t.jsx(en,{component:e.component},e.component.qualifiedCode);case"scq_array":return t.jsx(tn,{component:e.component},e.component.qualifiedCode);case"scq_icon_array":return t.jsx(jn,{component:e.component},e.component.qualifiedCode);case"file_upload":return t.jsx(pn,{component:e.component},e.component.qualifiedCode);case"signature":return t.jsx(nn,{component:e.component},e.component.qualifiedCode);case"photo_capture":return t.jsx(on,{component:e.component},e.component.qualifiedCode);case"video_capture":return t.jsx(an,{component:e.component},e.component.qualifiedCode);case"mcq":return t.jsx(rn,{component:e.component},e.component.qualifiedCode);case"number":return t.jsx(sn,{component:e.component},e.component.qualifiedCode);case"text":return t.jsx(cn,{component:e.component},e.component.qualifiedCode);case"video_display":return t.jsx(ln,{component:e.component},e.component.qualifiedCode);case"image_display":return t.jsx(un,{component:e.component},e.component.qualifiedCode);case"image_ranking":return t.jsx(dn,{component:e.component},e.component.qualifiedCode);case"paragraph":return t.jsx(mn,{component:e.component},e.component.qualifiedCode);case"barcode":return t.jsx(gn,{component:e.component},e.component.qualifiedCode);case"email":return t.jsx(_n,{component:e.component},e.component.qualifiedCode);case"image_scq":return t.jsx(fn,{component:e.component},e.component.qualifiedCode);case"icon_scq":return t.jsx(yn,{component:e.component},e.component.qualifiedCode);case"icon_mcq":return t.jsx(En,{component:e.component},e.component.qualifiedCode);case"image_mcq":return t.jsx(xn,{component:e.component},e.component.qualifiedCode);case"ranking":return t.jsx(vn,{component:e.component},e.component.qualifiedCode);case"nps":return t.jsx(hn,{component:e.component},e.component.qualifiedCode);default:return""}};return i?t.jsxs(In,{qualifiedCode:e.component.qualifiedCode,ref:o,children:[u&&t.jsxs(t.Fragment,{children:[r&&t.jsx(q,{style:{fontFamily:n.textStyles.question.font,color:n.textStyles.text.color,fontSize:n.textStyles.question.size},children:t.jsx(Ee,{className:"".concat(J.content," ").concat(J.question),name:"label",lang:e.lang,elementCode:e.component.qualifiedCode,content:(k=e.component.content)==null?void 0:k.label})}),a&&t.jsx(q,{className:J.textDescription,children:t.jsx(Ee,{elementCode:e.component.code,name:"description",lang:e.lang,content:e.component.content.description})})]}),t.jsx(h.Suspense,{fallback:t.jsx(me,{}),children:d()}),t.jsx(h.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(bn,{component:e.component})})]}):""}),Sn=g.memo(Cn),bn=g.memo(({component:e})=>f(i=>{let n=i.runState.values[e.qualifiedCode],a=i.runState.values.Survey.show_errors,r=i.templateState[e.qualifiedCode],u=n==null?void 0:n.validity;return(a||r)&&u===!1})?t.jsx(Zt,{component:e}):t.jsx(t.Fragment,{})),In=g.memo(e=>{const o=f(i=>{let n=i.runState.values[e.qualifiedCode],a=i.runState.values.Survey.show_errors,r=i.templateState[e.qualifiedCode],u=n==null?void 0:n.validity;return(a||r)&&u===!1});return t.jsx(q,{sx:{borderColor:o?"error.main":"grey.500"},className:"".concat(J.groupQuestion," ").concat(o?"invalidQuestion":""),children:e.children})});function Dn(e){const o=e.content&&e.content.search(/data-instruction/)>=0,i=f(r=>{if(!(!e.content||!o||!r.runState.values[e.elementCode]||!e.name||!e.lang))return r.runState.values[e.elementCode]["reference_".concat(e.name,"_").concat(e.lang)]}),n=f(r=>r.runState.values.Survey.lang),a=ee.includes(n);return e.content?o?t.jsx("div",{className:"".concat(a?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:kn(e.content,i)}}):t.jsx("div",{className:"".concat(a?"rtl":"ltr"," ql-editor no-padding"),dangerouslySetInnerHTML:{__html:e.content}}):""}const ce=g.memo(Dn);function kn(e,o){let i=document.createElement("div");return i.innerHTML=e,i.querySelectorAll("span[data-instruction]").forEach(function(n){let a=n.getAttribute("data-instruction");if(a&&o){let r=a.split(".");r&&r.length==2&&o[r[0]]&&o[r[0]][r[1]]?n.replaceWith(o[r[0]][r[1]]):n.replaceWith("")}else n.replaceWith("")}),i.innerHTML}const Rn=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),Tn="_textDescription_6fb6d_1",Pn="_titleRow_6fb6d_6",wn="_groupHeader_6fb6d_16",Ln="_topLevel_6fb6d_20",ae={textDescription:Tn,titleRow:Pn,groupHeader:wn,topLevel:Ln};function qn(e){const o=W(),i=f(a=>{let r=a.runState.values[e.group.code];return{showGroup:typeof(r==null?void 0:r.relevance)>"u"||r.relevance}},C),n=()=>{var a,r,u;return t.jsx(t.Fragment,{children:t.jsxs(q,{className:ae.topLevel,sx:{borderRadius:"4px",backgroundColor:o.palette.background.paper},children:[t.jsxs("div",{className:ae.groupHeader,children:[t.jsx("div",{style:{fontFamily:o.textStyles.group.font,color:o.textStyles.group.color,fontSize:o.textStyles.group.size},children:t.jsx(ce,{elementCode:e.group.code,name:"label",lang:e.lang,content:(a=e.group.content)==null?void 0:a.label})}),((r=e.group.content)==null?void 0:r.description)&&t.jsx(q,{className:ae.textDescription,children:t.jsx(ce,{elementCode:e.group.code,name:"description",lang:e.lang,content:(u=e.group.content)==null?void 0:u.description})})]}),e.group&&e.group.questions?e.group.questions.filter(d=>d.inCurrentNavigation).map(d=>t.jsx(Sn,{component:d,lang:e.lang},d.code)):""]})})};return i.showGroup&&(e.group?n():"")}const zn=g.memo(qn),Nn="_buttonContainer_grkpv_1",An={buttonContainer:Nn};function On(e){const o=f(s=>({has_previous:s.runState.values.Survey.has_previous&&s.runState.data.survey.allowPrevious,has_next:s.runState.values.Survey.has_next,can_save:s.runState.data.survey.allowIncomplete,has_errors:s.runState.values.Survey.show_errors}),C),i=F(),{t:n,i18n:a}=te("run"),r=ee.includes(a.language),u=()=>{i(Ke())};h.useEffect(()=>{o.has_errors&&setTimeout(()=>{const s=document.querySelector(".invalidQuestion");s&&s.scrollIntoView({behavior:"smooth",block:"center"})},500)},[o.has_errors]);const d=()=>{i(Ze())};return e.navigationIndex.name=="end"?"":t.jsxs("div",{className:An.buttonContainer,children:[o.has_previous?t.jsx(ie,{variant:"contained",className:r?"ml-14":"mr-14",onClick:()=>{u()},children:n("previous")}):"",t.jsx(ie,{variant:"contained",onClick:()=>{d()},children:o.has_next?n("next"):n("finish")})]})}const Vn="_surveyContent_13yjc_1",$n="_surveyGroups_13yjc_5",Mn="_cardImage_13yjc_12",Bn="_stepperContent_13yjc_21",Hn="_menuButton_13yjc_37",je={surveyContent:Vn,surveyGroups:$n,cardImage:Mn,stepperContent:Bn,menuButton:Hn};function Qn(){var d;const e=W();F();const o=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.navigationIndex},C),i=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.survey},C),n=f(s=>{var m;return(m=s.runState.data)==null?void 0:m.lang},C),a=f(s=>s.runState.data,C),{lang:r,additionalLang:u}=a||{};return[(r.code,r.name),...u||[]],t.jsx(ht,{backend:pt()?yt:Et,children:t.jsx("form",{id:Bt,style:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size},children:t.jsxs("div",{className:je.surveyGroups,children:[(d=i.resources)!=null&&d.headerImage?t.jsx(jt,{className:je.cardImage,component:"img",image:ke(i.resources.headerImage)}):null,i&&i.groups?i.groups.filter(s=>s.inCurrentNavigation).map((s,m)=>t.jsx("div",{id:"group-".concat(m),"data-index":m,className:"groupContainer",children:t.jsx(zn,{group:s,lang:n.code,groupIndex:m})},s.code)):"",t.jsx(On,{navigationIndex:o})]})})})}const Wn="_groupCard_pjo30_1",Fn="_groupTitle_pjo30_6",Un="_questionTitle_pjo30_10",Gn="_questionIcon_pjo30_16",Yn="_bullet_pjo30_23",Xn="_redAsterix_pjo30_29",Q={groupCard:Wn,groupTitle:Fn,questionTitle:Un,questionIcon:Gn,bullet:Yn,redAsterix:Xn};function Jn(e){const o=be(),i=F(),n=f(l=>l.runState.values.Survey.relevance_map,C),a=f(l=>l.runState.values.Survey.validity_map,C),r=f(l=>l.runState.data.survey.allowJump,C),u=l=>e.navigationIndex.name=="group"&&l==e.navigationIndex.groupId,d=l=>e.navigationIndex.name=="question"&&l==e.navigationIndex.questionId,s=l=>r&&!u(l)&&e.navigationIndex.name=="group",m=l=>r&&!d(l)&&e.navigationIndex.name=="question",p=l=>{s(l)&&i(_e({...e.navigationIndex,groupId:l}))},k=l=>{m(l)&&i(_e({...e.navigationIndex,questionId:l}))};return t.jsx(t.Fragment,{children:e.survey&&e.survey.groups?e.survey.groups.filter(l=>n[l.code]&&l.groupType!="END").map(l=>{var E;return t.jsxs(St,{onClick:()=>p(l.code),className:Q.groupCard,style:{backgroundColor:u(l.code)?"beige":o.palette.background.paper,cursor:s(l.code)?"pointer":"default"},children:[t.jsxs(he,{className:Q.groupTitle,children:[Z((E=l.content)==null?void 0:E.label)," "]}),l.questions.filter(S=>n[S.code]).map(S=>{var R;return t.jsxs(he,{onClick:()=>k(S.code),className:Q.questionTitle,style:{backgroundColor:d(S.code)?"beige":"inherit",cursor:s(l.code)?"inherit":m(l.code)?"pointer":"default"},children:[t.jsx("span",{className:Q.questionIcon,children:et(S.type)}),Z(tt((R=S.content)==null?void 0:R.label,32)),!a[S.code]&&t.jsx("span",{className:Q.redAsterix,children:"*"})]},S.code)})]},l.code)}):""})}const Kn="_loadingWrapper_1p71l_1",Zn="_loadingDots_1p71l_14",eo="_l1_1p71l_1",Ce={loadingWrapper:Kn,loadingDots:Zn,l1:eo};function to(){var u,d;const e=be(),o=f(s=>s.templateState.isLoading),[i,n]=h.useState(!1),[a,r]=h.useState(!1);return h.useEffect(()=>{let s;return o?(n(!0),r(!1),s=setTimeout(()=>{r(!0)},200)):a?n(!1):s=setTimeout(()=>{n(!1)},200),()=>clearTimeout(s)},[o,a]),i?t.jsx(q,{className:Ce.loadingWrapper,children:t.jsx(q,{style:{background:"radial-gradient(circle closest-side, ".concat((d=(u=e==null?void 0:e.palette)==null?void 0:u.primary)==null?void 0:d.main," 90%, #0000) 0 / calc(100% / 3) 100% space")},className:Ce.loadingDots})}):t.jsx(t.Fragment,{})}const no="_drawer_16lbk_1",oo="_drawerHeader_16lbk_5",X={drawer:no,drawerHeader:oo};function ao({expanded:e,toggleDrawer:o}){const i=f(a=>{var r;return(r=a.runState.data)==null?void 0:r.navigationIndex},C),n=f(a=>{var r;return(r=a.runState.data)==null?void 0:r.survey},C);return t.jsx(Ot,{anchor:"left",transitionDuration:e!==io?500:0,open:e==Pe,onClose:o(!1),sx:{"& .MuiDrawer-paper":{width:"400px",maxWidth:"90%","@media (max-width: 600px)":{width:"300px"}}},children:t.jsxs("div",{className:X.drawer,children:[t.jsxs("div",{className:X.drawerHeader,children:[t.jsx(se,{variant:"h6",className:X.drawerTitle,children:"Survey Navigation"}),t.jsx(De,{className:X.closeButton,onClick:o(!1),children:t.jsx(Ct,{})})]}),t.jsx(Jn,{navigationIndex:i,survey:n})]})})}const ro=g.memo(ao),io="COLLAPSE_IMMEDIATE",Se="COLLAPSE",Pe="EXPAND";var ue={},so=Ne;Object.defineProperty(ue,"__esModule",{value:!0});var we=ue.default=void 0,co=so(nt()),lo=t;we=ue.default=(0,co.default)((0,lo.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function uo(e){f(n=>({navigate:n.runState.navigate,lang:n.runState.lang}),C);const o=F(),{t:i}=te("run");return e.additionalLang&&e.additionalLang.length?t.jsx(ot,{style:{maxWidth:"250px"},variant:"standard",children:t.jsxs(at,{labelId:"change-lang-label",sx:{backgroundColor:"background.paper",color:"primary.main",paddingLeft:"8px"},id:"ChangeLang",label:i("lang"),value:e.lang.code,onChange:n=>{o(rt({lang:n.target.value}))},children:[t.jsx(fe,{value:e.lang.code,children:e.lang.name}),e.additionalLang?e.additionalLang.map((n,a)=>t.jsx(fe,{value:n.code,children:n.name},a)):""]})}):t.jsx(t.Fragment,{})}function mo({toggleDrawer:e}){f(n=>{var a,r,u;return(u=(r=(a=n.runState.data)==null?void 0:a.survey)==null?void 0:r.content)==null?void 0:u.label},C);const o=f(n=>{var a;return(a=n.runState.data)==null?void 0:a.lang},C),i=f(n=>{var a;return(a=n.runState.data)==null?void 0:a.additionalLang},C);return t.jsxs(bt,{style:{minHeight:"56px",fontSize:"32px",lineHeight:"1.334",fontWeight:"400"},children:[t.jsx(De,{color:"primary",size:"large",edge:"start","aria-label":"menu",sx:{mr:2},onClick:e(!0),children:t.jsx(we,{})}),t.jsx("div",{style:{width:"100%"}}),t.jsx(uo,{lang:o,additionalLang:i})]})}function go({preview:e,guest:o,mode:i,resume:n=!1,responseId:a}){const r=it("run"),u=Ae(),s=new URLSearchParams(u.search).get("lang"),[m,p]=g.useState(!1),[k,l]=g.useState(Se),[E,S]=g.useState(!1),[R,z]=g.useState(!1),N=f(_=>{var y,c;return(c=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:c.theme},xe),M=f(_=>{var y;return(y=_.runState.data)==null?void 0:y.responseId});f(_=>{var y,c;return(c=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:c.allowJump},C);const w=f(_=>{var y,c,j;return(j=(c=(y=_.runState.data)==null?void 0:y.survey)==null?void 0:c.resources)==null?void 0:j.backgroundImage}),T=f(_=>_.runState.navigation,xe),{t:A,i18n:b}=te("run"),v=F();h.useEffect(()=>{T&&P(T,M)},[T]),h.useEffect(()=>{ee.includes(b.language)?document.dir="rtl":document.dir="ltr"},[b.language]);const O=_=>{[H.SURVEY_DESIGN_ERROR,H.SURVEY_NOT_ACTIVE,H.SURVEY_CLOSED,H.SURVEY_EXPIRED,H.SURVEY_SCHEDULED].indexOf(_)>-1?z(_):S(_),v(B(!1))},L=()=>{ft(r,s,e,o,i).then(_=>{p(!0),v(ve({response:_,preview:e})),sessionStorage.setItem("responseId",_.responseId),b.changeLanguage(_.lang.code),v(B(!1))}).catch(_=>{O(_)})},P=(_,y)=>{v(B(!0)),st(r,_,y,e,o,i).then(c=>{p(!0),v(ve({response:c,preview:e})),sessionStorage.setItem("responseId",c.responseId),b.changeLanguage(c.lang.code),v(B(!1))}).catch(c=>{O(c)})};h.useEffect(()=>{document.body.style.overflow="visible",v(B(!0)),ct(r,e,o).then(()=>{n?P({navigationDirection:{name:"RESUME"}},a):L()}).catch(_=>{O(_)})},[]);const I=h.useMemo(()=>Oe({...lt(N),direction:ee.includes(b.language)?"rtl":"ltr"}),[b.language,N]),V=h.useMemo(()=>ut(b.language),[b.language]),$=Ve(),U=_=>y=>{y.type==="keydown"&&(y.key==="Tab"||y.key==="Shift")||l(_?Pe:Se)},ne=w?{backgroundImage:"url(".concat(ke(w),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return t.jsxs(t.Fragment,{children:[t.jsx($e,{value:V,children:t.jsxs(dt,{theme:I,children:[E&&t.jsx(mt,{error:E,setErrorSeen:()=>{S(null)}}),m&&t.jsxs("div",{className:ye.mainContainer,style:{backgroundColor:I.palette.background.default,fontFamily:I.textStyles.text.font,color:I.textStyles.text.color,fontSize:I.textStyles.text.size,...ne},children:[t.jsx(to,{}),t.jsx(mo,{toggleDrawer:U}),t.jsx(_o,{},"Survey"),t.jsx(ro,{expanded:k,toggleDrawer:U})]})]})}),R&&t.jsx(q,{style:{height:"100%",overflow:"auto"},children:t.jsxs(gt,{children:[t.jsx(se,{variant:"h3",paragraph:!0,children:A("error")}),t.jsx(se,{sx:{color:"text.secondary"},children:A("processed_errors."+R.name)}),t.jsx(_t,{alt:"500",src:"/illustration_500.svg",sx:{mx:"auto",maxWidth:320,my:{xs:5,sm:8}}}),t.jsx(ie,{fullWidth:!0,size:"large",color:"inherit",variant:"contained",className:ye.goBack,onClick:()=>$(-1),children:A("goBack")})]})})]})}const _o=g.memo(Qn),jo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));export{he as B,go as R,Zt as V,Kt as a,jo as i};
